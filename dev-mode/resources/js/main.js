/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./kotlin-js-min/main/front-end.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./kotlin-js-min/main/front-end.js":
/*!*****************************************!*\
  !*** ./kotlin-js-min/main/front-end.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! kotlin */ "./kotlin-js-min/main/kotlin.js"), __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), __webpack_require__(/*! kotlinx-serialization-kotlinx-serialization-runtime */ "./kotlin-js-min/main/kotlinx-serialization-kotlinx-serialization-runtime.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Kotlin, $module$jquery, $module$kotlinx_serialization_kotlinx_serialization_runtime) {
  'use strict';
  var Kind_CLASS = Kotlin.Kind.CLASS;
  var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
  var mapCapacity = Kotlin.kotlin.collections.mapCapacity_za3lpa$;
  var LinkedHashMap_init = Kotlin.kotlin.collections.LinkedHashMap_init_bwtc7$;
  var ArrayList_init = Kotlin.kotlin.collections.ArrayList_init_287e2$;
  var Enum = Kotlin.kotlin.Enum;
  var throwISE = Kotlin.throwISE;
  var toInt = Kotlin.kotlin.text.toInt_pdl1vz$;
  var toBoolean = Kotlin.kotlin.text.toBoolean_pdl1vz$;
  var split = Kotlin.kotlin.text.split_ip8yn$;
  var toSet = Kotlin.kotlin.collections.toSet_7wnvza$;
  var emptySet = Kotlin.kotlin.collections.emptySet_287e2$;
  var collectionSizeOrDefault = Kotlin.kotlin.collections.collectionSizeOrDefault_ba2ldo$;
  var ArrayList_init_0 = Kotlin.kotlin.collections.ArrayList_init_ww73n8$;
  var throwCCE = Kotlin.throwCCE;
  var trim = Kotlin.kotlin.text.trim_gw00vp$;
  var equals = Kotlin.equals;
  var IllegalArgumentException_init = Kotlin.kotlin.IllegalArgumentException_init_pdl1vj$;
  var Kind_OBJECT = Kotlin.Kind.OBJECT;
  var Regex_init = Kotlin.kotlin.text.Regex_init_61zpoe$;
  var RegexOption = Kotlin.kotlin.text.RegexOption;
  var Regex_init_0 = Kotlin.kotlin.text.Regex_init_sb3q2$;
  var LinkedHashMap_init_0 = Kotlin.kotlin.collections.LinkedHashMap_init_q3lmfv$;
  var listOf = Kotlin.kotlin.collections.listOf_mh5how$;
  var contains = Kotlin.kotlin.text.contains_li3zpu$;
  var Exception_init = Kotlin.kotlin.Exception_init_pdl1vj$;
  var print = Kotlin.kotlin.io.print_s8jyv4$;
  var Exception_init_0 = Kotlin.kotlin.Exception_init;
  var Unit = Kotlin.kotlin.Unit;
  var toString = Kotlin.toString;
  var JsonConfiguration = $module$kotlinx_serialization_kotlinx_serialization_runtime.kotlinx.serialization.json.JsonConfiguration;
  var Json = $module$kotlinx_serialization_kotlinx_serialization_runtime.kotlinx.serialization.json.Json;
  var coerceAtLeast = Kotlin.kotlin.ranges.coerceAtLeast_dqglrj$;
  var copyToArray = Kotlin.kotlin.collections.copyToArray;
  var asList = Kotlin.kotlin.collections.asList_us0mfu$;
  var joinToString = Kotlin.kotlin.collections.joinToString_fmv235$;
  var toList = Kotlin.kotlin.collections.toList_us0mfu$;
  var checkIndexOverflow = Kotlin.kotlin.collections.checkIndexOverflow_za3lpa$;
  var to = Kotlin.kotlin.to_ujzrz7$;
  var mapOf = Kotlin.kotlin.collections.mapOf_qfcya0$;
  var IntRange = Kotlin.kotlin.ranges.IntRange;
  var slice = Kotlin.kotlin.collections.slice_6bjbi1$;
  var until = Kotlin.kotlin.ranges.until_dqglrj$;
  var ensureNotNull = Kotlin.ensureNotNull;
  var listOf_0 = Kotlin.kotlin.collections.listOf_i5x0yv$;
  var throwUPAE = Kotlin.throwUPAE;
  var mutableListOf = Kotlin.kotlin.collections.mutableListOf_i5x0yv$;
  var replace = Kotlin.kotlin.text.replace_680rmw$;
  var StringBuilder_init = Kotlin.kotlin.text.StringBuilder_init;
  var LinkedHashSet_init = Kotlin.kotlin.collections.LinkedHashSet_init_287e2$;
  var mutableMapOf = Kotlin.kotlin.collections.mutableMapOf_qfcya0$;
  var numberToInt = Kotlin.numberToInt;
  var numberToDouble = Kotlin.numberToDouble;
  var round = Kotlin.kotlin.math.round_14dthe$;
  var StringBuilder_init_0 = Kotlin.kotlin.text.StringBuilder_init_za3lpa$;
  var Collection = Kotlin.kotlin.collections.Collection;
  var json = Kotlin.kotlin.js.json_pyyo18$;
  var first = Kotlin.kotlin.collections.first_2p1efm$;
  var toSet_0 = Kotlin.kotlin.collections.toSet_us0mfu$;
  var trimEnd = Kotlin.kotlin.text.trimEnd_gw00vp$;
  var last = Kotlin.kotlin.collections.last_2p1efm$;
  var trimIndent = Kotlin.kotlin.text.trimIndent_pdl1vz$;
  LinkType.prototype = Object.create(Enum.prototype);
  LinkType.prototype.constructor = LinkType;
  TestElementKey.prototype = Object.create(Enum.prototype);
  TestElementKey.prototype.constructor = TestElementKey;
  TestType.prototype = Object.create(Enum.prototype);
  TestType.prototype.constructor = TestType;
  TestArea.prototype = Object.create(Enum.prototype);
  TestArea.prototype.constructor = TestArea;
  GithubTestsLoader$TestOrigin.prototype = Object.create(Enum.prototype);
  GithubTestsLoader$TestOrigin.prototype.constructor = GithubTestsLoader$TestOrigin;
  Mode.prototype = Object.create(Enum.prototype);
  Mode.prototype.constructor = Mode;
  NavigationType.prototype = Object.create(Enum.prototype);
  NavigationType.prototype.constructor = NavigationType;
  function SectionTestMap(sectionTestMap) {
    this.sectionTestMap = sectionTestMap;
  }
  SectionTestMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'SectionTestMap', interfaces: []};
  function SpecEntity() {
  }
  SpecEntity.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SpecEntity', interfaces: []};
  function SpecSection(specTests) {
    this.specTests_m1v3xh$_0 = specTests;
  }
  Object.defineProperty(SpecSection.prototype, 'specTests', {get: function () {
    return this.specTests_m1v3xh$_0;
  }});
  SpecSection.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecSection', interfaces: [SpecEntity]};
  function SpecParagraph(specSection, paragraph) {
    this.paragraph = paragraph;
    this.specTests_15onua$_0 = null;
    var $receiver = specSection.specTests;
    var destination = LinkedHashMap_init(mapCapacity($receiver.size));
    var tmp$;
    tmp$ = $receiver.entries.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var tmp$_0 = destination.put_xwzc9p$;
      var tmp$_1 = element.key;
      var $receiver_0 = element.value;
      var destination_0 = ArrayList_init();
      var tmp$_2;
      tmp$_2 = $receiver_0.iterator();
      while (tmp$_2.hasNext()) {
        var element_0 = tmp$_2.next();
        if (element_0.testPlace.paragraph === this.paragraph)
          destination_0.add_11rb$(element_0);
      }
      tmp$_0.call(destination, tmp$_1, destination_0);
    }
    this.specTests_15onua$_0 = destination;
  }
  Object.defineProperty(SpecParagraph.prototype, 'specTests', {get: function () {
    return this.specTests_15onua$_0;
  }});
  SpecParagraph.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecParagraph', interfaces: [SpecEntity]};
  function SpecSentence(specParagraph, sentence) {
    this.specTests_a5hfq7$_0 = null;
    var $receiver = specParagraph.specTests;
    var destination = LinkedHashMap_init(mapCapacity($receiver.size));
    var tmp$;
    tmp$ = $receiver.entries.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var tmp$_0 = destination.put_xwzc9p$;
      var tmp$_1 = element.key;
      var $receiver_0 = element.value;
      var destination_0 = ArrayList_init();
      var tmp$_2;
      tmp$_2 = $receiver_0.iterator();
      while (tmp$_2.hasNext()) {
        var element_0 = tmp$_2.next();
        if (element_0.testPlace.sentence === sentence)
          destination_0.add_11rb$(element_0);
      }
      tmp$_0.call(destination, tmp$_1, destination_0);
    }
    this.specTests_a5hfq7$_0 = destination;
  }
  Object.defineProperty(SpecSentence.prototype, 'specTests', {get: function () {
    return this.specTests_a5hfq7$_0;
  }});
  SpecSentence.prototype.getTests_s27bel$ = function (testArea) {
    var tests = this.specTests.get_11rb$(testArea);
    return tests == null || tests.isEmpty() ? null : tests;
  };
  SpecSentence.prototype.getTests_asgus2$ = function (testArea, testType) {
    var tmp$;
    var tmp$_0;
    if ((tmp$ = this.getTests_s27bel$(testArea)) != null) {
      var destination = ArrayList_init();
      var tmp$_1;
      tmp$_1 = tmp$.iterator();
      while (tmp$_1.hasNext()) {
        var element = tmp$_1.next();
        if (element.testPlace.testType === testType)
          destination.add_11rb$(element);
      }
      tmp$_0 = destination;
    }
     else
      tmp$_0 = null;
    var tests = tmp$_0;
    return tests == null || tests.isEmpty() ? null : tests;
  };
  SpecSentence.prototype.getTests_dlhb41$ = function (testArea, testType, linkType) {
    var tmp$;
    var tmp$_0;
    if ((tmp$ = this.getTests_asgus2$(testArea, testType)) != null) {
      var destination = ArrayList_init();
      var tmp$_1;
      tmp$_1 = tmp$.iterator();
      while (tmp$_1.hasNext()) {
        var element = tmp$_1.next();
        if (element.testInfo.linkType === linkType)
          destination.add_11rb$(element);
      }
      tmp$_0 = destination;
    }
     else
      tmp$_0 = null;
    var tests = tmp$_0;
    return tests == null || tests.isEmpty() ? null : tests;
  };
  SpecSentence.prototype.getTest_8x1n59$ = function (testArea, testType, linkType, testNumber) {
    var tmp$;
    var tmp$_0;
    if ((tmp$ = this.getTests_dlhb41$(testArea, testType, linkType)) != null) {
      var firstOrNull$result;
      firstOrNull$break: do {
        var tmp$_1;
        tmp$_1 = tmp$.iterator();
        while (tmp$_1.hasNext()) {
          var element = tmp$_1.next();
          if (element.testInfo.testNumber === testNumber) {
            firstOrNull$result = element;
            break firstOrNull$break;
          }
        }
        firstOrNull$result = null;
      }
       while (false);
      tmp$_0 = firstOrNull$result;
    }
     else
      tmp$_0 = null;
    return tmp$_0;
  };
  SpecSentence.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecSentence', interfaces: [SpecEntity]};
  function SpecTest(testInfo, testPlace, content, testArea) {
    this.testInfo = testInfo;
    this.testPlace = testPlace;
    this.testCases = testArea.parseTest_61zpoe$(content);
  }
  SpecTest.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecTest', interfaces: []};
  function TestCase(code, infoElements) {
    if (infoElements === void 0)
      infoElements = null;
    this.code = code;
  }
  TestCase.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestCase', interfaces: []};
  function TestPlace(paragraph, testType, sentence) {
    this.paragraph = paragraph;
    this.testType = testType;
    this.sentence = sentence;
  }
  TestPlace.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestPlace', interfaces: []};
  function LinkType(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function LinkType_initFields() {
    LinkType_initFields = function () {
    };
    LinkType$main_instance = new LinkType('main', 0);
    LinkType$primary_instance = new LinkType('primary', 1);
    LinkType$secondary_instance = new LinkType('secondary', 2);
  }
  var LinkType$main_instance;
  function LinkType$main_getInstance() {
    LinkType_initFields();
    return LinkType$main_instance;
  }
  var LinkType$primary_instance;
  function LinkType$primary_getInstance() {
    LinkType_initFields();
    return LinkType$primary_instance;
  }
  var LinkType$secondary_instance;
  function LinkType$secondary_getInstance() {
    LinkType_initFields();
    return LinkType$secondary_instance;
  }
  LinkType.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkType', interfaces: [Enum]};
  function LinkType$values() {
    return [LinkType$main_getInstance(), LinkType$primary_getInstance(), LinkType$secondary_getInstance()];
  }
  LinkType.values = LinkType$values;
  function LinkType$valueOf(name) {
    switch (name) {
      case 'main':
        return LinkType$main_getInstance();
      case 'primary':
        return LinkType$primary_getInstance();
      case 'secondary':
        return LinkType$secondary_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.entity.test.parameters.LinkType.' + name);
    }
  }
  LinkType.valueOf_61zpoe$ = LinkType$valueOf;
  function TestElementKey(name, ordinal, value) {
    Enum.call(this);
    this.value = value;
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function TestElementKey_initFields() {
    TestElementKey_initFields = function () {
    };
    TestElementKey$SPEC_VERSION_instance = new TestElementKey('SPEC_VERSION', 0, 'specVersion');
    TestElementKey$CASES_NUMBER_instance = new TestElementKey('CASES_NUMBER', 1, 'casesNumber');
    TestElementKey$DESCRIPTION_instance = new TestElementKey('DESCRIPTION', 2, 'description');
    TestElementKey$PATH_instance = new TestElementKey('PATH', 3, 'path');
    TestElementKey$UNEXPECTED_BEHAVIOUR_instance = new TestElementKey('UNEXPECTED_BEHAVIOUR', 4, 'unexpectedBehaviour');
    TestElementKey$LINK_TYPE_instance = new TestElementKey('LINK_TYPE', 5, 'linkType');
    TestElementKey$HELPERS_instance = new TestElementKey('HELPERS', 6, 'helpers');
  }
  var TestElementKey$SPEC_VERSION_instance;
  function TestElementKey$SPEC_VERSION_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$SPEC_VERSION_instance;
  }
  var TestElementKey$CASES_NUMBER_instance;
  function TestElementKey$CASES_NUMBER_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$CASES_NUMBER_instance;
  }
  var TestElementKey$DESCRIPTION_instance;
  function TestElementKey$DESCRIPTION_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$DESCRIPTION_instance;
  }
  var TestElementKey$PATH_instance;
  function TestElementKey$PATH_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$PATH_instance;
  }
  var TestElementKey$UNEXPECTED_BEHAVIOUR_instance;
  function TestElementKey$UNEXPECTED_BEHAVIOUR_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$UNEXPECTED_BEHAVIOUR_instance;
  }
  var TestElementKey$LINK_TYPE_instance;
  function TestElementKey$LINK_TYPE_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$LINK_TYPE_instance;
  }
  var TestElementKey$HELPERS_instance;
  function TestElementKey$HELPERS_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$HELPERS_instance;
  }
  TestElementKey.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestElementKey', interfaces: [Enum]};
  function TestElementKey$values() {
    return [TestElementKey$SPEC_VERSION_getInstance(), TestElementKey$CASES_NUMBER_getInstance(), TestElementKey$DESCRIPTION_getInstance(), TestElementKey$PATH_getInstance(), TestElementKey$UNEXPECTED_BEHAVIOUR_getInstance(), TestElementKey$LINK_TYPE_getInstance(), TestElementKey$HELPERS_getInstance()];
  }
  TestElementKey.values = TestElementKey$values;
  function TestElementKey$valueOf(name) {
    switch (name) {
      case 'SPEC_VERSION':
        return TestElementKey$SPEC_VERSION_getInstance();
      case 'CASES_NUMBER':
        return TestElementKey$CASES_NUMBER_getInstance();
      case 'DESCRIPTION':
        return TestElementKey$DESCRIPTION_getInstance();
      case 'PATH':
        return TestElementKey$PATH_getInstance();
      case 'UNEXPECTED_BEHAVIOUR':
        return TestElementKey$UNEXPECTED_BEHAVIOUR_getInstance();
      case 'LINK_TYPE':
        return TestElementKey$LINK_TYPE_getInstance();
      case 'HELPERS':
        return TestElementKey$HELPERS_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.entity.test.parameters.TestElementKey.' + name);
    }
  }
  TestElementKey.valueOf_61zpoe$ = TestElementKey$valueOf;
  function TestInfo(jsonSpecTestInfo, testNumber) {
    this.testNumber = testNumber;
    this.specVersion = null;
    this.casesNumber = 0;
    this.description = null;
    this.path = null;
    this.unexpectedBehaviour = false;
    this.linkType = null;
    this.helpers = null;
    var tmp$, tmp$_0, tmp$_1, tmp$_2, tmp$_3, tmp$_4, tmp$_5, tmp$_6, tmp$_7, tmp$_8, tmp$_9, tmp$_10, tmp$_11;
    var parse = TestInfo_init$parse(jsonSpecTestInfo);
    this.specVersion = (tmp$ = parse(TestElementKey$SPEC_VERSION_getInstance())) != null ? tmp$ : '';
    this.casesNumber = (tmp$_1 = (tmp$_0 = parse(TestElementKey$CASES_NUMBER_getInstance())) != null ? toInt(tmp$_0) : null) != null ? tmp$_1 : 1;
    this.description = (tmp$_2 = parse(TestElementKey$DESCRIPTION_getInstance())) != null ? tmp$_2 : '';
    this.path = (tmp$_3 = parse(TestElementKey$PATH_getInstance())) != null ? tmp$_3 : '';
    this.unexpectedBehaviour = (tmp$_5 = (tmp$_4 = parse(TestElementKey$UNEXPECTED_BEHAVIOUR_getInstance())) != null ? toBoolean(tmp$_4) : null) != null ? tmp$_5 : false;
    this.linkType = (tmp$_7 = (tmp$_6 = parse(TestElementKey$LINK_TYPE_getInstance())) != null ? LinkType$valueOf(tmp$_6) : null) != null ? tmp$_7 : LinkType$main_getInstance();
    var tmp$_12;
    if ((tmp$_9 = (tmp$_8 = parse(TestElementKey$HELPERS_getInstance())) != null ? split(tmp$_8, [',']) : null) != null) {
      var destination = ArrayList_init_0(collectionSizeOrDefault(tmp$_9, 10));
      var tmp$_13;
      tmp$_13 = tmp$_9.iterator();
      while (tmp$_13.hasNext()) {
        var item = tmp$_13.next();
        var tmp$_14;
        destination.add_11rb$(trim(Kotlin.isCharSequence(tmp$_14 = item) ? tmp$_14 : throwCCE()).toString());
      }
      tmp$_12 = destination;
    }
     else
      tmp$_12 = null;
    this.helpers = (tmp$_11 = (tmp$_10 = tmp$_12) != null ? toSet(tmp$_10) : null) != null ? tmp$_11 : emptySet();
  }
  function TestInfo_init$parse(closure$jsonSpecTestInfo) {
    return function (testElementKey) {
      var tmp$, tmp$_0;
      return (tmp$_0 = (tmp$ = closure$jsonSpecTestInfo.get_11rb$(testElementKey.value)) != null ? tmp$.primitive : null) != null ? tmp$_0.content : null;
    };
  }
  TestInfo.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestInfo', interfaces: []};
  function TestType(name, ordinal, shortName) {
    Enum.call(this);
    this.shortName = shortName;
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function TestType_initFields() {
    TestType_initFields = function () {
    };
    TestType$Positive_instance = new TestType('Positive', 0, 'pos');
    TestType$Negative_instance = new TestType('Negative', 1, 'neg');
    TestType$Companion_getInstance();
  }
  var TestType$Positive_instance;
  function TestType$Positive_getInstance() {
    TestType_initFields();
    return TestType$Positive_instance;
  }
  var TestType$Negative_instance;
  function TestType$Negative_getInstance() {
    TestType_initFields();
    return TestType$Negative_instance;
  }
  TestType.prototype.toString = function () {
    return this.name.toLowerCase();
  };
  function TestType$Companion() {
    TestType$Companion_instance = this;
  }
  TestType$Companion.prototype.getByShortName_61zpoe$ = function (shortName) {
    var tmp$;
    var $receiver = TestType$values();
    var firstOrNull$result;
    firstOrNull$break: do {
      var tmp$_0;
      for (tmp$_0 = 0; tmp$_0 !== $receiver.length; ++tmp$_0) {
        var element = $receiver[tmp$_0];
        if (equals(element.shortName, shortName)) {
          firstOrNull$result = element;
          break firstOrNull$break;
        }
      }
      firstOrNull$result = null;
    }
     while (false);
    tmp$ = firstOrNull$result;
    if (tmp$ == null) {
      throw IllegalArgumentException_init('TestType ' + shortName + ' is not found');
    }
    return tmp$;
  };
  TestType$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var TestType$Companion_instance = null;
  function TestType$Companion_getInstance() {
    TestType_initFields();
    if (TestType$Companion_instance === null) {
      new TestType$Companion();
    }
    return TestType$Companion_instance;
  }
  TestType.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestType', interfaces: [Enum]};
  function TestType$values() {
    return [TestType$Positive_getInstance(), TestType$Negative_getInstance()];
  }
  TestType.values = TestType$values;
  function TestType$valueOf(name) {
    switch (name) {
      case 'Positive':
        return TestType$Positive_getInstance();
      case 'Negative':
        return TestType$Negative_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.entity.test.parameters.TestType.' + name);
    }
  }
  TestType.valueOf_61zpoe$ = TestType$valueOf;
  function SpecTestsParser() {
    SpecTestsParser_instance = this;
    this.SINGLE_LINE_COMMENT_REGEX_0 = '\\/\\/\\s*{1}';
    this.MULTILINE_COMMENT_REGEX_0 = '\\/\\*\\s+?{1}\\s+\\*\\/(?:\\n)*';
    this.TEST_CASE_CODE_REGEX_0 = '(?<{1}>[\\s\\S]*?)';
    this.ASTERISK_REGEX_0 = '\\*';
    this.testCaseHeaderRegex_0 = format(this.SINGLE_LINE_COMMENT_REGEX_0, ['[\\w\\s]+TESTCASE NUMBER']) + '|' + format(this.MULTILINE_COMMENT_REGEX_0, [' \\* [\\w\\s]+TESTCASE NUMBER:[\\s\\S]*?']);
    this.testCaseInfoElementsRegex_0 = '(?<{1}>{2}TESTCASE NUMBER:{3}*?\\n)';
    this.testCaseInfoRegex_0 = this.TEST_CASE_CODE_REGEX_0 + '(?<{2}>(?:' + this.testCaseHeaderRegex_0 + ')|' + '$' + ')';
    this.testCaseInfoSingleLineRegex_0 = format(this.SINGLE_LINE_COMMENT_REGEX_0, [format(this.testCaseInfoElementsRegex_0, ['infoElementsSL', '', '\\s*.'])]) + format(this.testCaseInfoRegex_0, ['codeSL', 'nextDirectiveSL']);
    this.testCaseInfoMultilineRegex_0 = format(this.MULTILINE_COMMENT_REGEX_0, [format(this.testCaseInfoElementsRegex_0, ['infoElementsML', ' \\* ', '[\\s\\S]'])]) + format(this.testCaseInfoRegex_0, ['codeML', 'nextDirectiveML']);
    this.testCaseInfoPattern_8be2vx$ = Regex_init(format('(?:{1})|(?:{2})', [this.testCaseInfoSingleLineRegex_0, this.testCaseInfoMultilineRegex_0]));
    this.testInfoElementPattern_0 = Regex_init_0('(?: \\* )?(?<name>[A-Z ]+?)(?::\\s*(?<value>.*?))?\\n', RegexOption.MULTILINE);
    this.testTypeRegex_0 = '(?<testType>POSITIVE|NEGATIVE)';
    this.testAreaRegex_0 = '(?<testArea>PSI|DIAGNOSTICS|CODEGEN BOX)';
    this.testInfoPattern_8be2vx$ = Regex_init(format(this.MULTILINE_COMMENT_REGEX_0, [format('{1} KOTLIN {2} SPEC TEST \\({3}\\)\\n(?<infoElements>[\\s\\S]*?\\n)', [this.ASTERISK_REGEX_0, this.testAreaRegex_0, this.testTypeRegex_0])]));
    this.implementationTestInfoPattern = Regex_init(format(this.MULTILINE_COMMENT_REGEX_0, ['\\*\\s+RELEVANT SPEC SENTENCES \\(spec version: (?<specVersion>\\d+\\.[0-9]\\d*\\-[0-9]\\d*), test type: (?<testType>pos|neg)\\):(?<testSpecSentenceList>(\\n\\s+\\*\\s+-\\s+.*?)+)']));
    this.topLevelDirectivePattern = Regex_init('^(?://.*?\\n)+');
    this.diagnosticTagRegexp_8be2vx$ = Regex_init_0('(?:<!>)|(?:<!(.+?(\\(".*?"\\))?(,\\s*)?)+?!>)', RegexOption.MULTILINE);
  }
  SpecTestsParser.prototype.parseTestInfoElements_y4putb$ = function (data) {
    var tmp$, tmp$_0, tmp$_1;
    var testInfoElements = LinkedHashMap_init_0();
    var matches = this.testInfoElementPattern_0.find_905azu$(data);
    var startPosition = 0;
    while (matches != null) {
      tmp$_0 = (tmp$ = matches.groups.get_za3lpa$(1)) != null ? tmp$.value : null;
      if (tmp$_0 == null) {
        continue;
      }
      var name = tmp$_0;
      var value = (tmp$_1 = matches.groups.get_za3lpa$(2)) != null ? tmp$_1.value : null;
      startPosition = startPosition + matches.range.last | 0;
      testInfoElements.put_xwzc9p$(name, value);
      var tmp$_2 = this.testInfoElementPattern_0;
      var startIndex = startPosition;
      matches = tmp$_2.find_905azu$(data.substring(startIndex));
    }
    return testInfoElements;
  };
  SpecTestsParser.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SpecTestsParser', interfaces: []};
  var SpecTestsParser_instance = null;
  function SpecTestsParser_getInstance() {
    if (SpecTestsParser_instance === null) {
      new SpecTestsParser();
    }
    return SpecTestsParser_instance;
  }
  function TestArea(name, ordinal, path, description, shortName) {
    Enum.call(this);
    this.path = path;
    this.description = description;
    this.shortName = shortName;
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function TestArea_initFields() {
    TestArea_initFields = function () {
    };
    TestArea$Diagnostics_instance = new TestArea('Diagnostics', 0, 'diagnostics', 'Front-end diagnostics tests', 'diagnostics');
    TestArea$CodegenBox_instance = new TestArea('CodegenBox', 1, 'codegen/box', 'Codegen box tests', 'box');
    TestArea$Companion_getInstance();
  }
  var TestArea$Diagnostics_instance;
  function TestArea$Diagnostics_getInstance() {
    TestArea_initFields();
    return TestArea$Diagnostics_instance;
  }
  var TestArea$CodegenBox_instance;
  function TestArea$CodegenBox_getInstance() {
    TestArea_initFields();
    return TestArea$CodegenBox_instance;
  }
  TestArea.prototype.parseTest_61zpoe$ = function (data) {
    var tmp$;
    switch (this.name) {
      case 'CodegenBox':
        tmp$ = TestArea$Companion_getInstance().parseCodegenBoxSpecTest_0(data);
        break;
      case 'Diagnostics':
        tmp$ = TestArea$Companion_getInstance().parseDiagnosticsTest_0(data);
        break;
      default:tmp$ = Kotlin.noWhenBranchMatched();
        break;
    }
    return tmp$;
  };
  function TestArea$Companion() {
    TestArea$Companion_instance = this;
    this.SPEC_MODULE_DIR = '// MODULE:';
    this.SPEC_FILE_DIR = '// FILE:';
  }
  TestArea$Companion.prototype.parseCodegenBoxSpecTest_0 = function (testFileCode) {
    var data = this.getTestCasesCode_0(testFileCode);
    var testCase = new TestCase(SpecTestsParser_getInstance().testInfoPattern_8be2vx$.replace_x2uqeu$(data, ''));
    return listOf(testCase);
  };
  TestArea$Companion.prototype.parseDiagnosticsTest_0 = function (testFileCode) {
    var tmp$, tmp$_0, tmp$_1, tmp$_2, tmp$_3, tmp$_4, tmp$_5;
    var data = this.getTestCasesCode_0(testFileCode);
    var list = ArrayList_init();
    var testCaseMatches = SpecTestsParser_getInstance().testCaseInfoPattern_8be2vx$.find_905azu$(data);
    var startPosition = 0;
    while (testCaseMatches != null) {
      var infoElementGroup = (tmp$ = testCaseMatches.groups.get_za3lpa$(1)) != null ? tmp$ : testCaseMatches.groups.get_za3lpa$(4);
      tmp$_0 = infoElementGroup != null ? infoElementGroup.value : null;
      if (tmp$_0 == null) {
        continue;
      }
      var infoElements = tmp$_0;
      var codeGroup = (tmp$_1 = testCaseMatches.groups.get_za3lpa$(2)) != null ? tmp$_1 : testCaseMatches.groups.get_za3lpa$(5);
      tmp$_3 = (tmp$_2 = codeGroup != null ? codeGroup.value : null) != null ? SpecTestsParser_getInstance().diagnosticTagRegexp_8be2vx$.replace_x2uqeu$(tmp$_2, '') : null;
      if (tmp$_3 == null) {
        continue;
      }
      var code = tmp$_3;
      tmp$_5 = (tmp$_4 = testCaseMatches.groups.get_za3lpa$(3)) != null ? tmp$_4 : testCaseMatches.groups.get_za3lpa$(6);
      if (tmp$_5 == null) {
        continue;
      }
      var testCaseMatchesGroup = tmp$_5;
      startPosition = startPosition + (testCaseMatches.range.last - testCaseMatchesGroup.value.length) | 0;
      if (!contains(code, this.SPEC_FILE_DIR) && !contains(code, this.SPEC_MODULE_DIR))
        list.add_11rb$(new TestCase(code, SpecTestsParser_getInstance().parseTestInfoElements_y4putb$(infoElements)));
      var tmp$_6 = SpecTestsParser_getInstance().testCaseInfoPattern_8be2vx$;
      var startIndex = startPosition;
      testCaseMatches = tmp$_6.find_905azu$(data.substring(startIndex));
    }
    return list;
  };
  TestArea$Companion.prototype.getTestCasesCode_0 = function (testFileCode) {
    var $receiver = SpecTestsParser_getInstance().diagnosticTagRegexp_8be2vx$.replace_x2uqeu$(testFileCode, '');
    var $receiver_0 = SpecTestsParser_getInstance().implementationTestInfoPattern.replace_x2uqeu$($receiver, '');
    return SpecTestsParser_getInstance().topLevelDirectivePattern.replace_x2uqeu$($receiver_0, '');
  };
  TestArea$Companion.prototype.getByShortName_61zpoe$ = function (name) {
    var $receiver = TestArea$values();
    var tmp$;
    for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
      var element = $receiver[tmp$];
      if (equals(element.shortName, name))
        return element;
    }
    throw Exception_init('TestArea by short name ' + name + ' is not found');
  };
  TestArea$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var TestArea$Companion_instance = null;
  function TestArea$Companion_getInstance() {
    TestArea_initFields();
    if (TestArea$Companion_instance === null) {
      new TestArea$Companion();
    }
    return TestArea$Companion_instance;
  }
  TestArea.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestArea', interfaces: [Enum]};
  function TestArea$values() {
    return [TestArea$Diagnostics_getInstance(), TestArea$CodegenBox_getInstance()];
  }
  TestArea.values = TestArea$values;
  function TestArea$valueOf(name) {
    switch (name) {
      case 'Diagnostics':
        return TestArea$Diagnostics_getInstance();
      case 'CodegenBox':
        return TestArea$CodegenBox_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.entity.test.parameters.testArea.TestArea.' + name);
    }
  }
  TestArea.valueOf_61zpoe$ = TestArea$valueOf;
  function GithubTestsLoader() {
    GithubTestsLoader$Companion_getInstance();
  }
  function GithubTestsLoader$TestOrigin(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function GithubTestsLoader$TestOrigin_initFields() {
    GithubTestsLoader$TestOrigin_initFields = function () {
    };
    GithubTestsLoader$TestOrigin$SPEC_TEST_instance = new GithubTestsLoader$TestOrigin('SPEC_TEST', 0);
    GithubTestsLoader$TestOrigin$IMPLEMENTATION_TEST_instance = new GithubTestsLoader$TestOrigin('IMPLEMENTATION_TEST', 1);
  }
  var GithubTestsLoader$TestOrigin$SPEC_TEST_instance;
  function GithubTestsLoader$TestOrigin$SPEC_TEST_getInstance() {
    GithubTestsLoader$TestOrigin_initFields();
    return GithubTestsLoader$TestOrigin$SPEC_TEST_instance;
  }
  var GithubTestsLoader$TestOrigin$IMPLEMENTATION_TEST_instance;
  function GithubTestsLoader$TestOrigin$IMPLEMENTATION_TEST_getInstance() {
    GithubTestsLoader$TestOrigin_initFields();
    return GithubTestsLoader$TestOrigin$IMPLEMENTATION_TEST_instance;
  }
  GithubTestsLoader$TestOrigin.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestOrigin', interfaces: [Enum]};
  function GithubTestsLoader$TestOrigin$values() {
    return [GithubTestsLoader$TestOrigin$SPEC_TEST_getInstance(), GithubTestsLoader$TestOrigin$IMPLEMENTATION_TEST_getInstance()];
  }
  GithubTestsLoader$TestOrigin.values = GithubTestsLoader$TestOrigin$values;
  function GithubTestsLoader$TestOrigin$valueOf(name) {
    switch (name) {
      case 'SPEC_TEST':
        return GithubTestsLoader$TestOrigin$SPEC_TEST_getInstance();
      case 'IMPLEMENTATION_TEST':
        return GithubTestsLoader$TestOrigin$IMPLEMENTATION_TEST_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.loader.GithubTestsLoader.TestOrigin.' + name);
    }
  }
  GithubTestsLoader$TestOrigin.valueOf_61zpoe$ = GithubTestsLoader$TestOrigin$valueOf;
  function GithubTestsLoader$Companion() {
    GithubTestsLoader$Companion_instance = this;
    this.RAW_GITHUB_URL_0 = 'https://raw.githubusercontent.com/JetBrains/kotlin';
    this.SPEC_TEST_DATA_PATH_0 = 'compiler/tests-spec/testData';
    this.LINKED_SPEC_TESTS_FOLDER_0 = 'linked';
    this.HELPERS_FOLDER_0 = 'helpers';
    this.DEFAULT_BRANCH = 'spec-tests';
  }
  GithubTestsLoader$Companion.prototype.getBranch = function () {
    var tmp$;
    return (tmp$ = window.localStorage.getItem('spec-tests-branch')) != null ? tmp$ : this.DEFAULT_BRANCH;
  };
  function GithubTestsLoader$Companion$loadHelperFromRawGithub$lambda$lambda(closure$requestReject) {
    return function (it) {
      closure$requestReject(Exception_init_0());
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadHelperFromRawGithub$lambda$lambda_0(closure$requestResolve) {
    return function (response, f) {
      closure$requestResolve(toString(response));
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadHelperFromRawGithub$lambda(closure$testArea, closure$fileName, this$GithubTestsLoader$) {
    return function (requestResolve, requestReject) {
      $module$jquery.ajax(this$GithubTestsLoader$.getFullHelperPath_0(closure$testArea, closure$fileName), this$GithubTestsLoader$.jQueryAjaxSettings_0(GithubTestsLoader$Companion$loadHelperFromRawGithub$lambda$lambda(requestReject))).then(GithubTestsLoader$Companion$loadHelperFromRawGithub$lambda$lambda_0(requestResolve));
      return Unit;
    };
  }
  GithubTestsLoader$Companion.prototype.loadHelperFromRawGithub_mwq5zj$ = function (fileName, testArea) {
    return new Promise(GithubTestsLoader$Companion$loadHelperFromRawGithub$lambda(testArea, fileName, this));
  };
  function GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda$lambda(closure$requestReject) {
    return function (it) {
      closure$requestReject(Exception_init_0());
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda$lambda_0(closure$requestResolve, closure$testInfo, closure$testPlace, closure$testArea) {
    return function (response, f) {
      closure$requestResolve(new SpecTest(closure$testInfo, closure$testPlace, toString(response), closure$testArea));
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda(closure$path, this$GithubTestsLoader$, closure$testInfo, closure$testPlace, closure$testArea) {
    return function (requestResolve, requestReject) {
      $module$jquery.ajax(this$GithubTestsLoader$.getFullTestPath_0(closure$path), this$GithubTestsLoader$.jQueryAjaxSettings_0(GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda$lambda(requestReject))).then(GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda$lambda_0(requestResolve, closure$testInfo, closure$testPlace, closure$testArea));
      return Unit;
    };
  }
  GithubTestsLoader$Companion.prototype.loadTestFileFromRawGithub_s2l866$ = function (path, testInfo, testPlace, testArea) {
    return new Promise(GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda(path, this, testInfo, testPlace, testArea));
  };
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda$lambda(it) {
    return Unit;
  }
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda$lambda_0(this$GithubTestsLoader$, closure$resultMap, closure$it) {
    return function (response, f) {
      var $receiver = closure$resultMap;
      var key = closure$it;
      var value = new SectionTestMap(this$GithubTestsLoader$.parseJsonText_0(toString(response)));
      $receiver.put_xwzc9p$(key, value);
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda(closure$resolve, closure$resultMap) {
    return function (f, f_0) {
      closure$resolve(closure$resultMap);
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda_0(closure$resolve, closure$resultMap) {
    return function (it) {
      closure$resolve(closure$resultMap);
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda(closure$testAreasToLoad, closure$testType, closure$path, this$GithubTestsLoader$) {
    return function (resolve, f) {
      var tmp$;
      var resultMap = LinkedHashMap_init_0();
      var tmp$_0 = (tmp$ = $module$jquery).when;
      var $receiver = closure$testAreasToLoad;
      var result = LinkedHashMap_init(coerceAtLeast(mapCapacity(collectionSizeOrDefault($receiver, 10)), 16));
      var tmp$_1;
      tmp$_1 = $receiver.iterator();
      while (tmp$_1.hasNext()) {
        var element = tmp$_1.next();
        var tmp$_2 = result.put_xwzc9p$;
        var closure$testType_0 = closure$testType;
        var closure$path_0 = closure$path;
        var this$GithubTestsLoader$_0 = this$GithubTestsLoader$;
        tmp$_2.call(result, element, $module$jquery.ajax(this$GithubTestsLoader$_0.getFullTestMapPath_0(closure$testType_0, element, closure$path_0), this$GithubTestsLoader$_0.jQueryAjaxSettings_0(GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda$lambda)).then(GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda$lambda_0(this$GithubTestsLoader$_0, resultMap, element)));
      }
      tmp$_0.apply(tmp$, copyToArray(result.values)).then(GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda(resolve, resultMap), GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda_0(resolve, resultMap));
      return Unit;
    };
  }
  GithubTestsLoader$Companion.prototype.loadTestMapFileFromRawGithub_u8booq$ = function (path, testType, testAreasToLoad) {
    return new Promise(GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda(testAreasToLoad, testType, path, this));
  };
  GithubTestsLoader$Companion.prototype.getFullTestMapPath_0 = function (testOrigin, testArea, path) {
    switch (testOrigin.name) {
      case 'SPEC_TEST':
        return format('{1}/{2}/{3}/{4}/{5}/{6}', [this.RAW_GITHUB_URL_0, this.getBranch(), this.SPEC_TEST_DATA_PATH_0, testArea.path, this.LINKED_SPEC_TESTS_FOLDER_0, path]);
      case 'IMPLEMENTATION_TEST':
        return format('{1}/{2}/{3}', [this.RAW_GITHUB_URL_0, this.getBranch(), path]);
      default:return Kotlin.noWhenBranchMatched();
    }
  };
  GithubTestsLoader$Companion.prototype.getFullHelperPath_0 = function (testArea, helperFile) {
    return format('{1}/{2}/{3}/{4}/{5}/{6}', [this.RAW_GITHUB_URL_0, this.getBranch(), this.SPEC_TEST_DATA_PATH_0, testArea.path, this.HELPERS_FOLDER_0, helperFile]);
  };
  GithubTestsLoader$Companion.prototype.getFullTestPath_0 = function (path) {
    return format('{1}/{2}/{3}', [this.RAW_GITHUB_URL_0, this.getBranch(), path]);
  };
  GithubTestsLoader$Companion.prototype.parseJsonText_0 = function (text) {
    return (new Json(JsonConfiguration.Companion.Stable)).parseJson_61zpoe$(text);
  };
  function GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral(closure$requestReject) {
    this.closure$requestReject = closure$requestReject;
  }
  Object.defineProperty(GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.prototype, 'cache', {get: function () {
    return false;
  }, set: function (f) {
  }});
  Object.defineProperty(GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.prototype, 'type', {get: function () {
    return 'GET';
  }, set: function (f) {
  }});
  function GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$get_GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$error$lambda(closure$requestReject) {
    return function (f, f_0, f_1) {
      closure$requestReject(Exception_init_0());
      return Unit;
    };
  }
  Object.defineProperty(GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.prototype, 'error', {get: function () {
    return GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$get_GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$error$lambda(this.closure$requestReject);
  }});
  GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: []};
  GithubTestsLoader$Companion.prototype.jQueryAjaxSettings_0 = function (requestReject) {
    return new GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral(requestReject);
  };
  GithubTestsLoader$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var GithubTestsLoader$Companion_instance = null;
  function GithubTestsLoader$Companion_getInstance() {
    if (GithubTestsLoader$Companion_instance === null) {
      new GithubTestsLoader$Companion();
    }
    return GithubTestsLoader$Companion_instance;
  }
  GithubTestsLoader.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'GithubTestsLoader', interfaces: []};
  function LoaderByTestsMapFile() {
    this.testsMapFilename_0 = 'testsMap.json';
  }
  LoaderByTestsMapFile.prototype.loadTestsMapFile_0 = function (sectionsPath, testAreasToLoad) {
    return GithubTestsLoader$Companion_getInstance().loadTestMapFileFromRawGithub_u8booq$(sectionsPath + '/' + this.testsMapFilename_0, GithubTestsLoader$TestOrigin$SPEC_TEST_getInstance(), asList(testAreasToLoad));
  };
  LoaderByTestsMapFile.prototype.getPromisesForTestFilesFromTestMap_0 = function (testsMapSection, testArea) {
    var tmp$, tmp$_0, tmp$_1, tmp$_2;
    var promises = ArrayList_init();
    tmp$ = testsMapSection != null ? testsMapSection.sectionTestMap : null;
    if (tmp$ == null) {
      return copyToArray(promises);
    }
    var testsMap = tmp$;
    tmp$_0 = testsMap.jsonObject.entries.iterator();
    while (tmp$_0.hasNext()) {
      var tmp$_3 = tmp$_0.next();
      var paragraph = tmp$_3.key;
      var testsByParagraphs = tmp$_3.value;
      tmp$_1 = testsByParagraphs.jsonObject.entries.iterator();
      while (tmp$_1.hasNext()) {
        var tmp$_4 = tmp$_1.next();
        var testType = tmp$_4.key;
        var testsByTypes = tmp$_4.value;
        tmp$_2 = testsByTypes.jsonObject.entries.iterator();
        while (tmp$_2.hasNext()) {
          var tmp$_5 = tmp$_2.next();
          var testSentence = tmp$_5.key;
          var testsBySentences = tmp$_5.value;
          var tmp$_6, tmp$_0_0;
          var index = 0;
          tmp$_6 = testsBySentences.jsonArray.iterator();
          loop_label: while (tmp$_6.hasNext()) {
            var item = tmp$_6.next();
            var i = checkIndexOverflow((tmp$_0_0 = index, index = tmp$_0_0 + 1 | 0, tmp$_0_0));
            action$break: do {
              var tmp$_7, tmp$_8, tmp$_9;
              tmp$_9 = (tmp$_8 = (tmp$_7 = item.jsonObject.get_11rb$('path')) != null ? tmp$_7.primitive : null) != null ? tmp$_8.content : null;
              if (tmp$_9 == null) {
                break action$break;
              }
              var testFilePath = tmp$_9;
              var testElementInfo = new TestInfo(item.jsonObject, i + 1 | 0);
              var testPath = new TestPlace(toInt(paragraph), TestType$Companion_getInstance().getByShortName_61zpoe$(testType), toInt(testSentence));
              promises.add_11rb$(GithubTestsLoader$Companion_getInstance().loadTestFileFromRawGithub_s2l866$(testFilePath, testElementInfo, testPath, testArea));
            }
             while (false);
          }
        }
      }
    }
    return copyToArray(promises);
  };
  function LoaderByTestsMapFile$loadTestFiles$lambda$lambda(closure$resultMap) {
    return function (it) {
      return new SpecSection(closure$resultMap);
    };
  }
  function LoaderByTestsMapFile$loadTestFiles$lambda(closure$testAreasToLoad, this$LoaderByTestsMapFile) {
    return function (sectionTestMaps) {
      var resultMap = LinkedHashMap_init_0();
      var $receiver = asList(closure$testAreasToLoad);
      var result = LinkedHashMap_init(coerceAtLeast(mapCapacity(collectionSizeOrDefault($receiver, 10)), 16));
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        result.put_xwzc9p$(element, this$LoaderByTestsMapFile.getPromiseForTests_0(element, sectionTestMaps, resultMap));
      }
      return Promise.all(copyToArray(result.values)).then(LoaderByTestsMapFile$loadTestFiles$lambda$lambda(resultMap));
    };
  }
  LoaderByTestsMapFile.prototype.loadTestFiles_arfdou$ = function (sectionName, sectionsPath, testAreasToLoad) {
    return this.loadTestsMapFile_0(joinToString(sectionsPath, '/') + '/' + sectionName, testAreasToLoad).then(LoaderByTestsMapFile$loadTestFiles$lambda(testAreasToLoad, this));
  };
  function LoaderByTestsMapFile$getPromiseForTests$lambda(closure$mapOfTests, closure$testArea) {
    return function (it) {
      var $receiver = closure$mapOfTests;
      var key = closure$testArea;
      var value = toList(it);
      $receiver.put_xwzc9p$(key, value);
      return Unit;
    };
  }
  LoaderByTestsMapFile.prototype.getPromiseForTests_0 = function (testArea, sectionTestMaps, mapOfTests) {
    return Promise.all(this.getPromisesForTestFilesFromTestMap_0(sectionTestMaps.get_11rb$(testArea), testArea)).then(LoaderByTestsMapFile$getPromiseForTests$lambda(mapOfTests, testArea));
  };
  LoaderByTestsMapFile.$metadata$ = {kind: Kind_CLASS, simpleName: 'LoaderByTestsMapFile', interfaces: [GithubTestsLoader]};
  function SpecTestsLoader() {
    SpecTestsLoader$Companion_getInstance();
    this.loader_0 = new LoaderByTestsMapFile();
    this.sectionPrevLoaded_7fz7et$_0 = this.sectionPrevLoaded_7fz7et$_0;
    this.originalSectionName_0 = null;
    this.numberSectionsLoaded_0 = 0;
  }
  function SpecTestsLoader$Companion() {
    SpecTestsLoader$Companion_instance = this;
    this.EXCEPTED_SELECTORS_0 = '.grammar-rule';
    this.paragraphSelector_0 = joinToString(listOf_0(['.paragraph', 'DL', 'UL', 'OL']), ',');
    this.sectionTagNames_0 = listOf_0(['H1', 'H2', 'H3', 'H4', 'H5']);
    this.LOADING_ICON_PATH_0 = './resources/images/loading.gif';
    this.LOADING_ICON_HTML_0 = '<img src="./resources/images/loading.gif" />';
    this.SET_BRANCH_ICON_0 = './resources/images/set-branch.png';
    this.LOAD_TESTS_TEXT_0 = 'Load tests';
    this.notLoadedTestsText_0 = 'Tests for ' + '"' + '{1}' + '"' + ' in ' + '"' + GithubTestsLoader$Companion_getInstance().getBranch() + '"' + " branch aren't yet written.";
    this.SECTION_PATH_SEPARATOR_0 = ', ';
  }
  SpecTestsLoader$Companion.prototype.insertLoadIcon_ern3fz$ = function (headerElement, mode) {
    var $receiver = StringBuilder_init();
    if (mode === Mode$Dev_getInstance())
      $receiver.append_gw00v9$('<a href="#" class="set-branch" title="The compiler repo branch from which the tests will be taken"><img src="./resources/images/set-branch.png" /><\/a><\/span>');
    $receiver.append_gw00v9$('<a href=' + '"' + '#' + '"' + ' data-id=' + '"' + headerElement.attr('id') + '"' + ' data-type=' + '"' + headerElement.prop('tagName').toString().toLowerCase() + '"' + ' class=' + '"' + 'load-tests' + '"' + ' title=' + '"' + 'Show tests coverage' + '"' + '>Load tests<\/a>');
    headerElement.append($receiver.toString());
  };
  SpecTestsLoader$Companion.prototype.getParagraphsInfo_ljiy8z$ = function (sectionElement) {
    var $receiver = sectionElement.get();
    if ($receiver.length === 0)
      return null;
    var nextSibling = $receiver[0].nextElementSibling;
    var sectionName = sectionElement.attr('id');
    var paragraphsMap = ArrayList_init();
    var paragraphCounter = 1;
    if (sectionName.length === 0)
      return null;
    while (nextSibling != null && this.sectionTagNames_0.indexOf_11rb$(nextSibling.tagName) === -1) {
      var isParagraph = nextSibling.matches(this.paragraphSelector_0);
      var childParagraph = nextSibling.querySelector('.paragraph');
      if ((isParagraph || childParagraph != null) && !$module$jquery(nextSibling).is(this.EXCEPTED_SELECTORS_0)) {
        var nextParagraph = childParagraph != null ? childParagraph : nextSibling;
        paragraphsMap.add_11rb$(mapOf([to('paragraphElement', nextParagraph), to('sentenceCount', $module$jquery(nextParagraph).find('.sentence').length.toString())]));
        paragraphCounter = paragraphCounter + 1 | 0;
      }
      nextSibling = nextSibling.nextElementSibling;
    }
    return paragraphsMap;
  };
  function SpecTestsLoader$Companion$showMarkup$lambda(this$SpecTestsLoader$) {
    return function (f, section) {
      var tmp$;
      var sectionTagName = section.tagName.toLowerCase();
      var sectionElement = $module$jquery(section);
      tmp$ = this$SpecTestsLoader$.getParagraphsInfo_ljiy8z$(sectionElement);
      if (tmp$ == null) {
        return null;
      }
      var paragraphsInfo = tmp$;
      var $receiver = LinkedHashSet_init();
      var this$SpecTestsLoader$_0 = this$SpecTestsLoader$;
      if (equals(sectionTagName, 'h3') || equals(sectionTagName, 'h4') || equals(sectionTagName, 'h5')) {
        $receiver.add_11rb$(this$SpecTestsLoader$_0.getParentSectionName_ekmmr9$(sectionElement, 'h2'));
      }
      if (equals(sectionTagName, 'h4') || equals(sectionTagName, 'h5')) {
        $receiver.add_11rb$(this$SpecTestsLoader$_0.getParentSectionName_ekmmr9$(sectionElement, 'h3'));
      }
      if (equals(sectionTagName, 'h5')) {
        $receiver.add_11rb$(this$SpecTestsLoader$_0.getParentSectionName_ekmmr9$(sectionElement, 'h4'));
      }
      $receiver.add_11rb$(sectionElement.attr('id'));
      var sectionsPath = $receiver;
      return MarkUpArranger_getInstance().showMarkUpForParagraphs_w6g9p7$(paragraphsInfo, joinToString(sectionsPath, ', ')), Unit;
    };
  }
  SpecTestsLoader$Companion.prototype.showMarkup = function () {
    $module$jquery('h2, h3, h4, h5').each(SpecTestsLoader$Companion$showMarkup$lambda(this));
  };
  SpecTestsLoader$Companion.prototype.getNestedSections_0 = function (sectionElement) {
    var placeCurrentSectionLevel = this.sectionTagNames_0.indexOf_11rb$(sectionElement.prop('tagName').toString().toUpperCase());
    var otherSectionTagNames = slice(this.sectionTagNames_0, new IntRange(0, placeCurrentSectionLevel));
    var nestedSectionTagNames = slice(this.sectionTagNames_0, until(placeCurrentSectionLevel, this.sectionTagNames_0.size));
    var nextSibling = sectionElement.get()[0].nextElementSibling;
    var nestedSectionIds = ArrayList_init();
    while (nextSibling != null && otherSectionTagNames.indexOf_11rb$(nextSibling.tagName) === -1) {
      if (nestedSectionTagNames.indexOf_11rb$(nextSibling.tagName) !== -1) {
        nestedSectionIds.add_11rb$(ensureNotNull(nextSibling.getAttribute('id')));
      }
      nextSibling = nextSibling.nextElementSibling;
    }
    return nestedSectionIds;
  };
  SpecTestsLoader$Companion.prototype.parseTestFiles_sr8xml$ = function (specSectionTestSet, currentSection, sectionsPath, paragraphsInfo) {
    var pathPrefix = joinToString(sectionsPath, this.SECTION_PATH_SEPARATOR_0) + this.SECTION_PATH_SEPARATOR_0 + currentSection;
    SpecCoverageHighlighter_getInstance().showCoverageOfParagraphs_898gx0$(paragraphsInfo, specSectionTestSet, pathPrefix);
  };
  SpecTestsLoader$Companion.prototype.getParentSectionName_ekmmr9$ = function (element, type) {
    return element.prevAll(type).first().attr('id');
  };
  SpecTestsLoader$Companion.prototype.onSetBranchIconClick = function () {
    var tmp$;
    var currentBranch = (tmp$ = window.localStorage.getItem('spec-tests-branch')) != null ? tmp$ : GithubTestsLoader$Companion_getInstance().DEFAULT_BRANCH;
    var newBranch = window.prompt('Specify the Kotlin compiler repo branch from which the spec tests will be taken:', currentBranch);
    if (newBranch != null && !equals(newBranch, currentBranch)) {
      window.localStorage.setItem('spec-tests-branch', newBranch);
    }
  };
  SpecTestsLoader$Companion.prototype.loadHelperFile_mwq5zj$ = function (helperName, testArea) {
    return GithubTestsLoader$Companion_getInstance().loadHelperFromRawGithub_mwq5zj$(helperName + '.kt', testArea);
  };
  SpecTestsLoader$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var SpecTestsLoader$Companion_instance = null;
  function SpecTestsLoader$Companion_getInstance() {
    if (SpecTestsLoader$Companion_instance === null) {
      new SpecTestsLoader$Companion();
    }
    return SpecTestsLoader$Companion_instance;
  }
  Object.defineProperty(SpecTestsLoader.prototype, 'sectionPrevLoaded_0', {get: function () {
    if (this.sectionPrevLoaded_7fz7et$_0 == null)
      return throwUPAE('sectionPrevLoaded');
    return this.sectionPrevLoaded_7fz7et$_0;
  }, set: function (sectionPrevLoaded) {
    this.sectionPrevLoaded_7fz7et$_0 = sectionPrevLoaded;
  }});
  function SpecTestsLoader$onTestsLoadingLinkClick$lambda(closure$paragraphsInfo, closure$sectionName, closure$sectionsPath, closure$link, this$SpecTestsLoader, closure$section) {
    return function (sectionTestSet) {
      if (closure$paragraphsInfo != null)
        SpecTestsLoader$Companion_getInstance().parseTestFiles_sr8xml$(sectionTestSet, closure$sectionName, closure$sectionsPath, closure$paragraphsInfo);
      closure$link.html('Reload tests');
      if (equals(this$SpecTestsLoader.originalSectionName_0, closure$sectionName)) {
        closure$section.nextAll('.paragraph.with-tests').first().get()[0].scrollIntoView();
        this$SpecTestsLoader.originalSectionName_0 = null;
        this$SpecTestsLoader.sectionPrevLoaded_0 = closure$sectionName;
      }
      return Unit;
    };
  }
  function SpecTestsLoader$onTestsLoadingLinkClick$lambda_0(this$SpecTestsLoader, closure$sectionName, closure$link) {
    return function (it) {
      var tmp$;
      tmp$ = this$SpecTestsLoader.numberSectionsLoaded_0;
      this$SpecTestsLoader.numberSectionsLoaded_0 = tmp$ - 1 | 0;
      if (equals(this$SpecTestsLoader.originalSectionName_0, closure$sectionName)) {
        this$SpecTestsLoader.originalSectionName_0 = null;
        this$SpecTestsLoader.sectionPrevLoaded_0 = closure$sectionName;
      }
      if (this$SpecTestsLoader.numberSectionsLoaded_0 === 0) {
        window.alert(format(SpecTestsLoader$Companion_getInstance().notLoadedTestsText_0, [this$SpecTestsLoader.sectionPrevLoaded_0]));
      }
      return closure$link.html(SpecTestsLoader$Companion_getInstance().LOAD_TESTS_TEXT_0);
    };
  }
  SpecTestsLoader.prototype.onTestsLoadingLinkClick_ljiy8z$ = function (link) {
    var section = link.parent('h3, h4, h5');
    var paragraphsInfo = SpecTestsLoader$Companion_getInstance().getParagraphsInfo_ljiy8z$(section);
    var nestedSections = SpecTestsLoader$Companion_getInstance().getNestedSections_0(section);
    var sectionName = section.attr('id');
    var sectionsPath = mutableListOf([SpecTestsLoader$Companion_getInstance().getParentSectionName_ekmmr9$(section, 'h2')]);
    if (this.originalSectionName_0 == null) {
      this.originalSectionName_0 = sectionName;
      this.numberSectionsLoaded_0 = 1;
    }
    link.html(SpecTestsLoader$Companion_getInstance().LOADING_ICON_HTML_0);
    if (equals(link.data('type'), 'h4') || equals(link.data('type'), 'h5')) {
      sectionsPath.add_11rb$(SpecTestsLoader$Companion_getInstance().getParentSectionName_ekmmr9$(section, 'h3'));
    }
    if (equals(link.data('type'), 'h5')) {
      sectionsPath.add_11rb$(SpecTestsLoader$Companion_getInstance().getParentSectionName_ekmmr9$(section, 'h4'));
    }
    this.loader_0.loadTestFiles_arfdou$(sectionName, sectionsPath, TestArea$values()).then(SpecTestsLoader$onTestsLoadingLinkClick$lambda(paragraphsInfo, sectionName, sectionsPath, link, this, section)).catch(SpecTestsLoader$onTestsLoadingLinkClick$lambda_0(this, sectionName, link));
    var tmp$;
    tmp$ = nestedSections.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      this.numberSectionsLoaded_0 = this.numberSectionsLoaded_0 + 1 | 0;
      $module$jquery('#' + replace(element, '.', '\\\\.') + ' .load-tests').click();
    }
  };
  SpecTestsLoader.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecTestsLoader', interfaces: []};
  function runAfterDocumentReady$lambda(closure$mode) {
    return function (f, el) {
      SpecTestsLoader$Companion_getInstance().insertLoadIcon_ern3fz$($module$jquery(el), closure$mode);
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda_0(index, element) {
    return $module$jquery(element).parent().parent().has('ul').children('a').children('span').css('visibility', 'visible');
  }
  function runAfterDocumentReady$lambda_1(index, element) {
    SidebarViewer$Companion_getInstance().insertArrowIcon_ljiy8z$($module$jquery(element));
    return Unit;
  }
  function runAfterDocumentReady$lambda$lambda(closure$specTestsViewer) {
    return function (e, f) {
      closure$specTestsViewer.showViewer_ljiy8z$($module$jquery(e.currentTarget));
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_0(closure$specTestsViewer) {
    return function (f, f_0) {
      closure$specTestsViewer.onTestAreaChange();
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_1(closure$specTestsViewer) {
    return function (f, f_0) {
      closure$specTestsViewer.onTestTypeChange();
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_2(closure$specTestsViewer) {
    return function (f, f_0) {
      closure$specTestsViewer.onTestPriorityChange();
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_3(closure$specTestsViewer) {
    return function (f, f_0) {
      closure$specTestsViewer.onTestNumberChange();
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_4(closure$specTestsViewer) {
    return function (e, f) {
      closure$specTestsViewer.navigateTestCase_n96aft$($module$jquery(e.currentTarget), NavigationType$PREV_getInstance());
      return false;
    };
  }
  function runAfterDocumentReady$lambda$lambda_5(closure$specTestsViewer) {
    return function (e, f) {
      closure$specTestsViewer.navigateTestCase_n96aft$($module$jquery(e.currentTarget), NavigationType$NEXT_getInstance());
      return false;
    };
  }
  function runAfterDocumentReady$lambda$lambda_6(closure$specTestsLoader) {
    return function (e, f) {
      closure$specTestsLoader.onTestsLoadingLinkClick_ljiy8z$($module$jquery(e.currentTarget));
      return false;
    };
  }
  function runAfterDocumentReady$lambda$lambda_7(f, f_0) {
    SpecTestsLoader$Companion_getInstance().onSetBranchIconClick();
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_8(closure$mode) {
    return function (e, f) {
      SpecPlaceHighlighter_getInstance().onSentenceGetLinkClick_ern3fz$($module$jquery(e.currentTarget), closure$mode);
      e.stopPropagation();
      return false;
    };
  }
  function runAfterDocumentReady$lambda$lambda_9(e, f) {
    SpecPlaceHighlighter_getInstance().onParagraphGetLinkClick_ljiy8z$($module$jquery(e.currentTarget));
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_10(f, f_0) {
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_11(f, f_0) {
    SentenceFinder_getInstance().findSentence();
    return Unit;
  }
  function runAfterDocumentReady$lambda$lambda_12(e, f) {
    if (equals(e.keyCode, 13)) {
      SentenceFinder_getInstance().findSentence();
    }
    return Unit;
  }
  function runAfterDocumentReady$lambda$lambda$lambda(closure$keys) {
    return function (e) {
      var $receiver = closure$keys;
      var key = numberToInt(e.keyCode);
      $receiver.put_xwzc9p$(key, true);
      return true;
    };
  }
  function runAfterDocumentReady$lambda$lambda$lambda_0(closure$keys) {
    return function (e) {
      if (closure$keys.get_11rb$(18) === true && closure$keys.get_11rb$(69) === true) {
        $module$jquery('.spec-location-search input[name="spec-sentence-location"]').focus().select();
      }
      var $receiver = closure$keys;
      var key = numberToInt(e.keyCode);
      $receiver.put_xwzc9p$(key, false);
      return true;
    };
  }
  function runAfterDocumentReady$lambda$lambda_13(f, f_0) {
    localStorage.setItem('showMarkup', 'true');
    SpecTestsLoader$Companion_getInstance().showMarkup();
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_14(f, f_0) {
    localStorage.removeItem('showMarkup');
    window.location.reload();
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_15(f, f_0) {
    print('looking for TOC');
    var element = document.getElementById('TOC');
    if (element == null)
      print('azazaza TOC not found');
    else {
      print('woohoo TOC  found');
      $module$jquery(element).toggleClass('active');
    }
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_16(a, b) {
    a.preventDefault();
    $module$jquery(a.currentTarget).parent().parent().children('ul:first').slideToggle();
    var img = $module$jquery(a.currentTarget).children('img.nav-icon');
    var src = img.attr('src');
    return contains(src, SidebarViewer$Companion_getInstance().RIGHT_ARROW_ICON) ? img.attr('src', replace(img.attr('src'), SidebarViewer$Companion_getInstance().RIGHT_ARROW_ICON, SidebarViewer$Companion_getInstance().DOWN_ARROW_ICON)) : img.attr('src', replace(img.attr('src'), SidebarViewer$Companion_getInstance().DOWN_ARROW_ICON, SidebarViewer$Companion_getInstance().RIGHT_ARROW_ICON));
  }
  function runAfterDocumentReady$lambda$lambda_17(e, f) {
    SpecPlaceHighlighter_getInstance().onHeaderGetLinkClick_ljiy8z$($module$jquery(e.currentTarget));
    return Unit;
  }
  function runAfterDocumentReady() {
    var tmp$, tmp$_0;
    var specTestsLoader = new SpecTestsLoader();
    var specTestsViewer = new SpecTestsViewer();
    var shouldBeShowedMarkup = localStorage.getItem('showMarkup') != null;
    var sentenceToBeHighlighted = get_searchMap(window.location).get_11rb$('sentence');
    var paragraphToBeHighlighted = get_searchMap(window.location).get_11rb$('paragraph');
    var sectionToBeHighlighted = window.location.hash;
    var mode = Mode$Dev_getInstance();
    $module$jquery('h3, h4, h5').each(runAfterDocumentReady$lambda(mode));
    $module$jquery('#TOC ul li ul li a').parent().children('ul').hide();
    $module$jquery('#TOC ul li ul li a span').each(runAfterDocumentReady$lambda_0);
    $module$jquery('.toc-section-number').each(runAfterDocumentReady$lambda_1);
    if (shouldBeShowedMarkup) {
      SpecTestsLoader$Companion_getInstance().showMarkup();
    }
    if (sentenceToBeHighlighted != null) {
      SpecPlaceHighlighter_getInstance().highlightSentence_61zpoe$(sentenceToBeHighlighted);
    }
    if (paragraphToBeHighlighted != null) {
      SpecPlaceHighlighter_getInstance().highlightParagraph_61zpoe$(paragraphToBeHighlighted);
    }
    if (sectionToBeHighlighted.length > 0) {
      SpecPlaceHighlighter_getInstance().highlightSection_61zpoe$(sectionToBeHighlighted.substring(1));
    }
    if ((tmp$_0 = (tmp$ = document.body) != null ? $module$jquery(tmp$) : null) != null) {
      tmp$_0.on('click', '.sentence.covered', runAfterDocumentReady$lambda$lambda(specTestsViewer));
      tmp$_0.on('change', ".test-coverage-view select[name='test-area']", runAfterDocumentReady$lambda$lambda_0(specTestsViewer));
      tmp$_0.on('change', ".test-coverage-view select[name='test-type']", runAfterDocumentReady$lambda$lambda_1(specTestsViewer));
      tmp$_0.on('change', ".test-coverage-view select[name='test-link-type']", runAfterDocumentReady$lambda$lambda_2(specTestsViewer));
      tmp$_0.on('change', ".test-coverage-view select[name='test-number']", runAfterDocumentReady$lambda$lambda_3(specTestsViewer));
      tmp$_0.on('click', '.prev-testcase', runAfterDocumentReady$lambda$lambda_4(specTestsViewer));
      tmp$_0.on('click', '.next-testcase', runAfterDocumentReady$lambda$lambda_5(specTestsViewer));
      tmp$_0.on('click', '.load-tests', runAfterDocumentReady$lambda$lambda_6(specTestsLoader));
      tmp$_0.on('click', '.set-branch', runAfterDocumentReady$lambda$lambda_7);
      tmp$_0.on('click', '.number-info[data-path]', runAfterDocumentReady$lambda$lambda_8(mode));
      tmp$_0.on('click', '.paragraph-link', runAfterDocumentReady$lambda$lambda_9);
      tmp$_0.on('click', '.loaded-tests', runAfterDocumentReady$lambda$lambda_10);
      if (mode === Mode$Dev_getInstance()) {
        tmp$_0.prepend(format(SentenceFinder_getInstance().FINDER_BAR_HTML, (shouldBeShowedMarkup ? ['hide', 'Hide'] : ['show', 'Show']).slice()));
      }
      tmp$_0.on('click', '.content-navigation', runAfterDocumentReady$lambda$lambda_11);
      tmp$_0.on('keyup', '.spec-location-search input[name="spec-sentence-location"]', runAfterDocumentReady$lambda$lambda_12);
      var keys = mutableMapOf([to(18, false), to(69, false)]);
      $module$jquery(document).keydown(runAfterDocumentReady$lambda$lambda$lambda(keys)).keyup(runAfterDocumentReady$lambda$lambda$lambda_0(keys));
      tmp$_0.on('click', '.show-markup-link', runAfterDocumentReady$lambda$lambda_13);
      tmp$_0.on('click', '.hide-markup-link', runAfterDocumentReady$lambda$lambda_14);
      tmp$_0.on('click', '.icon-menu', runAfterDocumentReady$lambda$lambda_15);
      tmp$_0.on('click', '.toc-section-number', runAfterDocumentReady$lambda$lambda_16);
      tmp$_0.on('click', 'h2, h3, h4, h5', runAfterDocumentReady$lambda$lambda_17);
    }
  }
  function main$lambda(it) {
    runAfterDocumentReady();
    return Unit;
  }
  function main_0() {
    $module$jquery(document).ready(main$lambda);
  }
  function Mode(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function Mode_initFields() {
    Mode_initFields = function () {
    };
    Mode$Dev_instance = new Mode('Dev', 0);
    Mode$User_instance = new Mode('User', 1);
  }
  var Mode$Dev_instance;
  function Mode$Dev_getInstance() {
    Mode_initFields();
    return Mode$Dev_instance;
  }
  var Mode$User_instance;
  function Mode$User_getInstance() {
    Mode_initFields();
    return Mode$User_instance;
  }
  Mode.$metadata$ = {kind: Kind_CLASS, simpleName: 'Mode', interfaces: [Enum]};
  function Mode$values() {
    return [Mode$Dev_getInstance(), Mode$User_getInstance()];
  }
  Mode.values = Mode$values;
  function Mode$valueOf(name) {
    switch (name) {
      case 'Dev':
        return Mode$Dev_getInstance();
      case 'User':
        return Mode$User_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.utils.Mode.' + name);
    }
  }
  Mode.valueOf_61zpoe$ = Mode$valueOf;
  function PopupConfig(width, height, title, content, maxHeight) {
    if (maxHeight === void 0)
      maxHeight = null;
    this.width = width;
    this.height = height;
    this.title = title;
    this.content = content;
    this.maxHeight = maxHeight;
  }
  Object.defineProperty(PopupConfig.prototype, 'optimizedWidth', {get: function () {
    var $receiver = numberToInt($module$jquery(ensureNotNull(document.body)).width());
    return ($receiver - 50 | 0) < this.width ? $receiver - 50 | 0 : this.width;
  }});
  PopupConfig.$metadata$ = {kind: Kind_CLASS, simpleName: 'PopupConfig', interfaces: []};
  PopupConfig.prototype.component1 = function () {
    return this.width;
  };
  PopupConfig.prototype.component2 = function () {
    return this.height;
  };
  PopupConfig.prototype.component3 = function () {
    return this.title;
  };
  PopupConfig.prototype.component4 = function () {
    return this.content;
  };
  PopupConfig.prototype.component5 = function () {
    return this.maxHeight;
  };
  PopupConfig.prototype.copy_elb4e7$ = function (width, height, title, content, maxHeight) {
    return new PopupConfig(width === void 0 ? this.width : width, height === void 0 ? this.height : height, title === void 0 ? this.title : title, content === void 0 ? this.content : content, maxHeight === void 0 ? this.maxHeight : maxHeight);
  };
  PopupConfig.prototype.toString = function () {
    return 'PopupConfig(width=' + Kotlin.toString(this.width) + (', height=' + Kotlin.toString(this.height)) + (', title=' + Kotlin.toString(this.title)) + (', content=' + Kotlin.toString(this.content)) + (', maxHeight=' + Kotlin.toString(this.maxHeight)) + ')';
  };
  PopupConfig.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.width) | 0;
    result = result * 31 + Kotlin.hashCode(this.height) | 0;
    result = result * 31 + Kotlin.hashCode(this.title) | 0;
    result = result * 31 + Kotlin.hashCode(this.content) | 0;
    result = result * 31 + Kotlin.hashCode(this.maxHeight) | 0;
    return result;
  };
  PopupConfig.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.width, other.width) && Kotlin.equals(this.height, other.height) && Kotlin.equals(this.title, other.title) && Kotlin.equals(this.content, other.content) && Kotlin.equals(this.maxHeight, other.maxHeight)))));
  };
  function PopupSelectors(main, body, close, title, shadow) {
    this.main = main;
    this.body = body;
    this.close = close;
    this.title = title;
    this.shadow = shadow;
  }
  PopupSelectors.$metadata$ = {kind: Kind_CLASS, simpleName: 'PopupSelectors', interfaces: []};
  PopupSelectors.prototype.component1 = function () {
    return this.main;
  };
  PopupSelectors.prototype.component2 = function () {
    return this.body;
  };
  PopupSelectors.prototype.component3 = function () {
    return this.close;
  };
  PopupSelectors.prototype.component4 = function () {
    return this.title;
  };
  PopupSelectors.prototype.component5 = function () {
    return this.shadow;
  };
  PopupSelectors.prototype.copy_x0a6t6$ = function (main, body, close, title, shadow) {
    return new PopupSelectors(main === void 0 ? this.main : main, body === void 0 ? this.body : body, close === void 0 ? this.close : close, title === void 0 ? this.title : title, shadow === void 0 ? this.shadow : shadow);
  };
  PopupSelectors.prototype.toString = function () {
    return 'PopupSelectors(main=' + Kotlin.toString(this.main) + (', body=' + Kotlin.toString(this.body)) + (', close=' + Kotlin.toString(this.close)) + (', title=' + Kotlin.toString(this.title)) + (', shadow=' + Kotlin.toString(this.shadow)) + ')';
  };
  PopupSelectors.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.main) | 0;
    result = result * 31 + Kotlin.hashCode(this.body) | 0;
    result = result * 31 + Kotlin.hashCode(this.close) | 0;
    result = result * 31 + Kotlin.hashCode(this.title) | 0;
    result = result * 31 + Kotlin.hashCode(this.shadow) | 0;
    return result;
  };
  PopupSelectors.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.main, other.main) && Kotlin.equals(this.body, other.body) && Kotlin.equals(this.close, other.close) && Kotlin.equals(this.title, other.title) && Kotlin.equals(this.shadow, other.shadow)))));
  };
  function PopupTemplates(wrap, title, close, body) {
    this.wrap_0 = wrap;
    this.title_0 = title;
    this.close_0 = close;
    this.body_0 = body;
  }
  PopupTemplates.prototype.getSpecializedTemplate_ccskfk$ = function (title, content, width, height) {
    return format(this.wrap_0, [width, format(this.title_0, [this.close_0, title]), format(this.body_0, [height, content])]);
  };
  PopupTemplates.$metadata$ = {kind: Kind_CLASS, simpleName: 'PopupTemplates', interfaces: []};
  PopupTemplates.prototype.component1_0 = function () {
    return this.wrap_0;
  };
  PopupTemplates.prototype.component2_0 = function () {
    return this.title_0;
  };
  PopupTemplates.prototype.component3_0 = function () {
    return this.close_0;
  };
  PopupTemplates.prototype.component4_0 = function () {
    return this.body_0;
  };
  PopupTemplates.prototype.copy_w74nik$ = function (wrap, title, close, body) {
    return new PopupTemplates(wrap === void 0 ? this.wrap_0 : wrap, title === void 0 ? this.title_0 : title, close === void 0 ? this.close_0 : close, body === void 0 ? this.body_0 : body);
  };
  PopupTemplates.prototype.toString = function () {
    return 'PopupTemplates(wrap=' + Kotlin.toString(this.wrap_0) + (', title=' + Kotlin.toString(this.title_0)) + (', close=' + Kotlin.toString(this.close_0)) + (', body=' + Kotlin.toString(this.body_0)) + ')';
  };
  PopupTemplates.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.wrap_0) | 0;
    result = result * 31 + Kotlin.hashCode(this.title_0) | 0;
    result = result * 31 + Kotlin.hashCode(this.close_0) | 0;
    result = result * 31 + Kotlin.hashCode(this.body_0) | 0;
    return result;
  };
  PopupTemplates.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.wrap_0, other.wrap_0) && Kotlin.equals(this.title_0, other.title_0) && Kotlin.equals(this.close_0, other.close_0) && Kotlin.equals(this.body_0, other.body_0)))));
  };
  function Popup(config) {
    Popup$Companion_getInstance();
    this.config_0 = config;
    this.setHandlers_0();
  }
  function Popup$Companion() {
    Popup$Companion_instance = this;
    this.TITLE_HEIGHT_0 = 29;
    this.OFFSET_AROUND_BODY_0 = 50;
    this.selectors_0 = new PopupSelectors('.box', '.box .body', '.box .title .close', '.box .title .text', '.box_shadow');
    this.templates_0 = new PopupTemplates('<div class="box_shadow"><\/div><div class="box" style="width:{1}px;opacity:0.0">{2}{3}<\/div>', '<div class="title">{1}<div class="text">{2}<\/div><\/div>', '<a href="#" class="close"><\/a>', '<div class="body" style="min-height:{1}px">{2}<\/div>');
  }
  Popup$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var Popup$Companion_instance = null;
  function Popup$Companion_getInstance() {
    if (Popup$Companion_instance === null) {
      new Popup$Companion();
    }
    return Popup$Companion_instance;
  }
  function Popup$open$lambda() {
    $module$jquery('.box').fadeTo(500, 1.0);
    return Unit;
  }
  Popup.prototype.open = function () {
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).remove();
    $module$jquery(ensureNotNull(document.body)).append(Popup$Companion_getInstance().templates_0.getSpecializedTemplate_ccskfk$(this.config_0.title, this.config_0.content, this.config_0.optimizedWidth, this.config_0.height - 29 | 0));
    this.computeSizes_yo2cqg$(Popup$open$lambda);
  };
  Popup.prototype.computeSizes_yo2cqg$ = function (callback) {
    if (callback === void 0)
      callback = null;
    var tmp$;
    var windowHeight = numberToInt($module$jquery(window).height());
    var windowWidth = numberToInt($module$jquery(window).width());
    if (this.config_0.maxHeight == null || this.config_0.maxHeight > (windowHeight - 50 | 0))
      tmp$ = windowHeight - 50 | 0;
    else
      tmp$ = this.config_0.maxHeight;
    var maxHeight = tmp$;
    var ownHeight = numberToDouble($module$jquery(Popup$Companion_getInstance().selectors_0.main).height());
    var ownWidth = numberToDouble($module$jquery(Popup$Companion_getInstance().selectors_0.main).width());
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).css('maxHeight', '`' + maxHeight + 'px');
    $module$jquery(Popup$Companion_getInstance().selectors_0.body).css('maxHeight', (maxHeight - 29 | 0).toString() + 'px');
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).css('top', round((windowHeight - ownHeight) / 2).toString() + 'px');
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).css('left', round((windowWidth - ownWidth) / 2).toString() + 'px');
    callback != null ? callback() : null;
  };
  Popup.prototype.close_0 = function () {
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).remove();
    $module$jquery(Popup$Companion_getInstance().selectors_0.shadow).remove();
  };
  function Popup$setHandlers$lambda$lambda(this$Popup) {
    return function (f, f_0) {
      this$Popup.close_0();
      return false;
    };
  }
  function Popup$setHandlers$lambda$lambda_0(this$Popup) {
    return function (f, f_0) {
      this$Popup.close_0();
      return false;
    };
  }
  function Popup$setHandlers$lambda(this$Popup) {
    return function (f, f_0) {
      this$Popup.computeSizes_yo2cqg$();
      return Unit;
    };
  }
  Popup.prototype.setHandlers_0 = function () {
    var $receiver = $module$jquery(ensureNotNull(document.body));
    $receiver.on('click', Popup$Companion_getInstance().selectors_0.close, Popup$setHandlers$lambda$lambda(this));
    $receiver.on('click', Popup$Companion_getInstance().selectors_0.shadow, Popup$setHandlers$lambda$lambda_0(this));
    $module$jquery(window).on('resize', Popup$setHandlers$lambda(this));
  };
  Popup.$metadata$ = {kind: Kind_CLASS, simpleName: 'Popup', interfaces: []};
  function format($receiver, args) {
    var regex = Regex_init_0('\\{(\\d+)}', RegexOption.MULTILINE);
    var replace_20wsma$result;
    replace_20wsma$break: do {
      var match = regex.find_905azu$($receiver);
      if (match == null) {
        replace_20wsma$result = $receiver.toString();
        break replace_20wsma$break;
      }
      var lastStart = 0;
      var length = $receiver.length;
      var sb = StringBuilder_init_0(length);
      do {
        var foundMatch = ensureNotNull(match);
        sb.append_ezbsdh$($receiver, lastStart, foundMatch.range.start);
        var tmp$ = sb.append_gw00v9$;
        var number = toInt(foundMatch.groupValues.get_za3lpa$(1));
        tmp$.call(sb, args.length >= number ? args[number - 1 | 0].toString() : '');
        lastStart = foundMatch.range.endInclusive + 1 | 0;
        match = foundMatch.next();
      }
       while (lastStart < length && match != null);
      if (lastStart < length) {
        sb.append_ezbsdh$($receiver, lastStart, length);
      }
      replace_20wsma$result = sb.toString();
    }
     while (false);
    return replace_20wsma$result;
  }
  function escapeHtml($receiver) {
    var $receiver_0 = Regex_init_0('&', RegexOption.MULTILINE).replace_x2uqeu$($receiver, '&amp;');
    var $receiver_1 = Regex_init_0('<', RegexOption.MULTILINE).replace_x2uqeu$($receiver_0, '&lt;');
    var $receiver_2 = Regex_init('>').replace_x2uqeu$($receiver_1, '&gt;');
    var $receiver_3 = Regex_init_0('"', RegexOption.MULTILINE).replace_x2uqeu$($receiver_2, '&quot;');
    return Regex_init_0("'", RegexOption.MULTILINE).replace_x2uqeu$($receiver_3, '&#039;');
  }
  function get_searchMap($receiver) {
    var rawSearch = split($receiver.search.substring(1), ['&']);
    var objURL = LinkedHashMap_init_0();
    var tmp$;
    tmp$ = rawSearch.iterator();
    loop_label: while (tmp$.hasNext()) {
      var element = tmp$.next();
      action$break: do {
        var paramComponents = split(element, ['=']);
        if (paramComponents.size !== 2)
          break action$break;
        var key = paramComponents.get_za3lpa$(0);
        var value = paramComponents.get_za3lpa$(1);
        objURL.put_xwzc9p$(key, value);
      }
       while (false);
    }
    return objURL;
  }
  function MarkUpArranger() {
    MarkUpArranger_instance = this;
  }
  MarkUpArranger.prototype.showMarkUpForParagraphs_w6g9p7$ = function (paragraphsInfo, sectionsPath) {
    var tmp$, tmp$_0;
    var index = 0;
    tmp$ = paragraphsInfo.iterator();
    loop_label: while (tmp$.hasNext()) {
      var item = tmp$.next();
      var paragraphIndex = checkIndexOverflow((tmp$_0 = index, index = tmp$_0 + 1 | 0, tmp$_0));
      action$break: do {
        var tmp$_1, tmp$_2, tmp$_3;
        var paragraphNumber = paragraphIndex + 1 | 0;
        var tmp$_4;
        if ((tmp$_2 = Kotlin.isType(tmp$_1 = item.get_11rb$('paragraphElement'), HTMLElement) ? tmp$_1 : null) != null) {
          var $receiver = $module$jquery(tmp$_2);
          $receiver.addClass('with-tests');
          tmp$_4 = $receiver;
        }
         else
          tmp$_4 = null;
        tmp$_3 = tmp$_4;
        if (tmp$_3 == null) {
          break action$break;
        }
        var paragraphEl = tmp$_3;
        this.showSentencesNumberForParagraph_0(paragraphEl, paragraphNumber, sectionsPath);
      }
       while (false);
    }
  };
  function MarkUpArranger$showSentencesNumberForParagraph$lambda(closure$sentenceCounter, closure$sectionPath, closure$paragraphNumber, this$MarkUpArranger) {
    return function (f, el) {
      var tmp$;
      var sentence = $module$jquery(el);
      var existingNumberInfo = sentence.find('.number-info');
      if (numberToInt(existingNumberInfo.length) > 0) {
        existingNumberInfo.remove();
      }
      this$MarkUpArranger.insertSentenceNumber_bgz0f7$(sentence, closure$sentenceCounter.v, closure$sectionPath, closure$paragraphNumber, closure$sentenceCounter.v);
      return tmp$ = closure$sentenceCounter.v, closure$sentenceCounter.v = tmp$ + 1 | 0, tmp$;
    };
  }
  MarkUpArranger.prototype.showSentencesNumberForParagraph_0 = function (paragraph, paragraphNumber, sectionPath) {
    var sentences = $module$jquery(paragraph).find('.sentence');
    var sentenceCounter = {v: 1};
    this.insertParagraphNumber_qp894f$($module$jquery(paragraph), paragraphNumber, sectionPath, paragraphNumber);
    sentences.each(MarkUpArranger$showSentencesNumberForParagraph$lambda(sentenceCounter, sectionPath, paragraphNumber, this));
  };
  MarkUpArranger.prototype.insertParagraphNumber_qp894f$ = function (element, number, sectionPath, paragraphNumber) {
    element.prepend(format("<span class='paragraph-link' data-link='{1}'>{2}<\/span>", ['paragraph=' + replace(sectionPath, ' ', '') + ',' + paragraphNumber, number]));
  };
  MarkUpArranger.prototype.insertSentenceNumber_bgz0f7$ = function (element, number, sectionPath, paragraphNumber, sentenceNumber) {
    element.prepend(format("<span class='number-info' data-path='{1}' data-link='{2}'>{3}<\/span>", [sectionPath + ' -> paragraph ' + paragraphNumber + ' -> sentence ' + sentenceNumber, 'sentence=' + replace(sectionPath, ' ', '') + ',' + paragraphNumber + ',' + sentenceNumber, number]));
  };
  MarkUpArranger.$metadata$ = {kind: Kind_OBJECT, simpleName: 'MarkUpArranger', interfaces: []};
  var MarkUpArranger_instance = null;
  function MarkUpArranger_getInstance() {
    if (MarkUpArranger_instance === null) {
      new MarkUpArranger();
    }
    return MarkUpArranger_instance;
  }
  function SidebarViewer() {
    SidebarViewer$Companion_getInstance();
  }
  function SidebarViewer$Companion() {
    SidebarViewer$Companion_instance = this;
    this.RIGHT_ARROW_ICON = './resources/images/play-arrow.png';
    this.DOWN_ARROW_ICON = './resources/images/down-arrow.png';
  }
  SidebarViewer$Companion.prototype.insertArrowIcon_ljiy8z$ = function (element) {
    element.toggleClass('unrolled');
    element.append('<img src="./resources/images/play-arrow.png" class="nav-icon">');
  };
  SidebarViewer$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var SidebarViewer$Companion_instance = null;
  function SidebarViewer$Companion_getInstance() {
    if (SidebarViewer$Companion_instance === null) {
      new SidebarViewer$Companion();
    }
    return SidebarViewer$Companion_instance;
  }
  function SpecCoverageHighlighter() {
    SpecCoverageHighlighter_instance = this;
    this.TEMPLATE = "\n            <div class='test-coverage-view'>\n                <select name='test-area'>\n                    <option value='diagnostics'>Front-end diagnostics tests<\/option>\n                    <option value='box'>Codegen box tests<\/option>\n                <\/select>\n                <select name='test-type'><\/select>\n                <select name='test-link-type'>\n                    <option value='main'>Main tests<\/option>\n                    <option value='primary'>Primary tests<\/option>\n                    <option value='secondary'>Secondary tests<\/option>\n                <\/select>\n                <select name='test-number'><\/select>\n            <\/div>\n        ";
  }
  SpecCoverageHighlighter.prototype.hasUnexpectedBehaviour_0 = function ($receiver) {
    var any$result;
    any$break: do {
      var tmp$;
      if (Kotlin.isType($receiver, Collection) && $receiver.isEmpty()) {
        any$result = false;
        break any$break;
      }
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        if (element.testInfo.unexpectedBehaviour) {
          any$result = true;
          break any$break;
        }
      }
      any$result = false;
    }
     while (false);
    return any$result;
  };
  SpecCoverageHighlighter.prototype.showSentenceCoverage_0 = function (sentence, specSentenceTestSet) {
    var tmp$, tmp$_0;
    var testsByArea = ArrayList_init();
    var unexpectedBehaviour = false;
    tmp$ = specSentenceTestSet.specTests.entries.iterator();
    while (tmp$.hasNext()) {
      var tmp$_1 = tmp$.next();
      var testArea = tmp$_1.key;
      var listOfTests = tmp$_1.value;
      var testNumberByTypeInfo = ArrayList_init();
      var destination = LinkedHashMap_init_0();
      var tmp$_2;
      tmp$_2 = listOfTests.iterator();
      while (tmp$_2.hasNext()) {
        var element = tmp$_2.next();
        var key = element.testPlace.testType;
        var tmp$_0_0;
        var value = destination.get_11rb$(key);
        if (value == null) {
          var answer = ArrayList_init();
          destination.put_xwzc9p$(key, answer);
          tmp$_0_0 = answer;
        }
         else {
          tmp$_0_0 = value;
        }
        var list = tmp$_0_0;
        list.add_11rb$(element);
      }
      tmp$_0 = destination.entries.iterator();
      while (tmp$_0.hasNext()) {
        var tmp$_3 = tmp$_0.next();
        var testType = tmp$_3.key;
        var typedTests = tmp$_3.value;
        var destination_0 = ArrayList_init();
        var tmp$_4;
        tmp$_4 = typedTests.iterator();
        while (tmp$_4.hasNext()) {
          var element_0 = tmp$_4.next();
          if (!element_0.testCases.isEmpty())
            destination_0.add_11rb$(element_0);
        }
        var filteredTests = destination_0;
        unexpectedBehaviour = unexpectedBehaviour || this.hasUnexpectedBehaviour_0(typedTests);
        if (!filteredTests.isEmpty()) {
          testNumberByTypeInfo.add_11rb$(filteredTests.size.toString() + ' ' + testType.toString());
          testsByArea.add_11rb$('<b>' + testArea.description + '<\/b>: ' + joinToString(testNumberByTypeInfo, ', '));
        }
      }
    }
    if (unexpectedBehaviour) {
      sentence.addClass('unexpected-behaviour').parent().before("<span class='unexpected-behaviour-marker'><\/span>");
    }
    if (!testsByArea.isEmpty()) {
      sentence.prepend(format("<span class='coverage-info'>{1}<\/span>", [joinToString(testsByArea, '<br />')])).data('tests', specSentenceTestSet).addClass('covered');
    }
  };
  function SpecCoverageHighlighter$showParagraphCoverage$lambda(closure$specParagraphTestSet, closure$sentenceCounter, this$SpecCoverageHighlighter, closure$sectionPath, closure$paragraphNumber) {
    return function (f, el) {
      var tmp$;
      var sentence = $module$jquery(el);
      var existingNumberInfo = sentence.find('.number-info');
      if (numberToInt(existingNumberInfo.length) > 0) {
        existingNumberInfo.remove();
      }
      var sentenceTestSet = new SpecSentence(closure$specParagraphTestSet, closure$sentenceCounter.v);
      this$SpecCoverageHighlighter.showSentenceCoverage_0(sentence, sentenceTestSet);
      MarkUpArranger_getInstance().insertSentenceNumber_bgz0f7$(sentence, closure$sentenceCounter.v, closure$sectionPath, closure$paragraphNumber, closure$sentenceCounter.v);
      return tmp$ = closure$sentenceCounter.v, closure$sentenceCounter.v = tmp$ + 1 | 0, tmp$;
    };
  }
  SpecCoverageHighlighter.prototype.showParagraphCoverage_0 = function (paragraph, sectionPath, specParagraphTestSet) {
    var sentences = $module$jquery(paragraph).find('.sentence');
    var sentenceCounter = {v: 1};
    var paragraphNumber = specParagraphTestSet.paragraph;
    MarkUpArranger_getInstance().insertParagraphNumber_qp894f$($module$jquery(paragraph), paragraphNumber, sectionPath, paragraphNumber);
    sentences.each(SpecCoverageHighlighter$showParagraphCoverage$lambda(specParagraphTestSet, sentenceCounter, this, sectionPath, paragraphNumber));
  };
  SpecCoverageHighlighter.prototype.showCoverageOfParagraphs_898gx0$ = function (paragraphsInfo, specSectionTestSet, sectionsPath) {
    var tmp$, tmp$_0;
    var index = 0;
    tmp$ = paragraphsInfo.iterator();
    loop_label: while (tmp$.hasNext()) {
      var item = tmp$.next();
      var paragraphIndex = checkIndexOverflow((tmp$_0 = index, index = tmp$_0 + 1 | 0, tmp$_0));
      action$break: do {
        var tmp$_1, tmp$_2, tmp$_3;
        var paragraphNumber = paragraphIndex + 1 | 0;
        var tmp$_4;
        if ((tmp$_2 = Kotlin.isType(tmp$_1 = item.get_11rb$('paragraphElement'), HTMLElement) ? tmp$_1 : null) != null) {
          var $receiver = $module$jquery(tmp$_2);
          $receiver.addClass('with-tests');
          tmp$_4 = $receiver;
        }
         else
          tmp$_4 = null;
        tmp$_3 = tmp$_4;
        if (tmp$_3 == null) {
          break action$break;
        }
        var paragraphEl = tmp$_3;
        var paragraphTestSet = new SpecParagraph(specSectionTestSet, paragraphNumber);
        this.showParagraphCoverage_0(paragraphEl, sectionsPath, paragraphTestSet);
      }
       while (false);
    }
  };
  SpecCoverageHighlighter.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SpecCoverageHighlighter', interfaces: []};
  var SpecCoverageHighlighter_instance = null;
  function SpecCoverageHighlighter_getInstance() {
    if (SpecCoverageHighlighter_instance === null) {
      new SpecCoverageHighlighter();
    }
    return SpecCoverageHighlighter_instance;
  }
  var KotlinPlayground;
  function NavigationType(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function NavigationType_initFields() {
    NavigationType_initFields = function () {
    };
    NavigationType$PREV_instance = new NavigationType('PREV', 0);
    NavigationType$NEXT_instance = new NavigationType('NEXT', 1);
  }
  var NavigationType$PREV_instance;
  function NavigationType$PREV_getInstance() {
    NavigationType_initFields();
    return NavigationType$PREV_instance;
  }
  var NavigationType$NEXT_instance;
  function NavigationType$NEXT_getInstance() {
    NavigationType_initFields();
    return NavigationType$NEXT_instance;
  }
  NavigationType.$metadata$ = {kind: Kind_CLASS, simpleName: 'NavigationType', interfaces: [Enum]};
  function NavigationType$values() {
    return [NavigationType$PREV_getInstance(), NavigationType$NEXT_getInstance()];
  }
  NavigationType.values = NavigationType$values;
  function NavigationType$valueOf(name) {
    switch (name) {
      case 'PREV':
        return NavigationType$PREV_getInstance();
      case 'NEXT':
        return NavigationType$NEXT_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.viewer.NavigationType.' + name);
    }
  }
  NavigationType.valueOf_61zpoe$ = NavigationType$valueOf;
  function SpecTestsViewer() {
    SpecTestsViewer$Companion_getInstance();
    this.currentSpecSentenceTests_9t2bhi$_0 = this.currentSpecSentenceTests_9t2bhi$_0;
    this.testPopup_dq80qy$_0 = this.testPopup_dq80qy$_0;
  }
  function SpecTestsViewer$Companion() {
    SpecTestsViewer$Companion_instance = this;
    this.TESTS_VIEWER_SELECTOR_0 = '.test-coverage-view';
    this.TEST_AREA_SELECTOR_0 = ".test-coverage-view select[name='test-area']";
    this.TEST_AREA_OPTION_SELECTOR_0 = ".test-coverage-view select[name='test-area'] option";
    this.TEST_TYPE_SELECTOR_0 = ".test-coverage-view select[name='test-type']";
    this.TEST_TYPE_OPTION_SELECTOR_0 = ".test-coverage-view select[name='test-type'] option";
    this.TEST_TYPE_OPTION_TEMPLATE_0 = "<option value='{1}'>{2}<\/option>";
    this.TEST_PRIORITY_SELECTOR_0 = ".test-coverage-view select[name='test-link-type']";
    this.TEST_PRIORITY_OPTION_SELECTOR_0 = ".test-coverage-view select[name='test-link-type'] option";
    this.TEST_PRIORITY_OPTION_TEMPLATE_0 = "<option value='{1}'>{2}<\/option>";
    this.TEST_NUMBER_SELECTOR_0 = ".test-coverage-view select[name='test-number']";
    this.TEST_NUMBER_OPTION_SELECTOR_0 = ".test-coverage-view select[name='test-number'] option";
    this.TEST_NUMBER_OPTION_TEMPLATE_0 = "<option value='{1}'>{1}: {2}<\/option>";
    this.TEST_CODE_WRAPPER_SELECTOR_0 = '.test-code-wrapper';
    this.TEST_CODE_SELECTOR_0 = '.test-coverage-view .test-code';
    this.TEST_CODE_TEMPLATE_0 = "<div class='test-code'>{1}<\/div>";
    this.TEST_CASE_INFO_SELECTOR_0 = '.test-case-info';
    this.TEST_VIEWER_BODY_TEMPLATE_0 = "\n                <div class='test-case-info'>\n                    <div class='test-title' style='text-align: center;margin: 10px 0;'><b>{1}<\/b><\/div>\n                    <div style='text-align: center;font-size: 14px;margin-top: 5px;'>\n                        <a href='#' class='prev-testcase disabled'>Prev testcase<\/a> | Test case #<b class='testcase-number'>1<\/b> | <a href='#' class='next-testcase'>Next testcase<\/a>\n                    <\/div>\n                    <div class='test-code-wrapper' style='margin-top: 15px;'><\/div>\n                <\/div>\n            ";
    this.NEXT_TESTCASE_SELECTOR_0 = '.next-testcase';
    this.PREV_TESTCASE_SELECTOR_0 = '.prev-testcase';
    this.TESTCASE_NUMBER_SELECTOR_0 = '.testcase-number';
    this.MAIN_FUN_CODE_0 = '\nfun main() { println("Test passed") }';
    this.SAMPLE_WRAP_CODE_0 = '//sampleStart\n{1}\n//sampleEnd';
  }
  SpecTestsViewer$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var SpecTestsViewer$Companion_instance = null;
  function SpecTestsViewer$Companion_getInstance() {
    if (SpecTestsViewer$Companion_instance === null) {
      new SpecTestsViewer$Companion();
    }
    return SpecTestsViewer$Companion_instance;
  }
  Object.defineProperty(SpecTestsViewer.prototype, 'currentSpecSentenceTests_0', {get: function () {
    if (this.currentSpecSentenceTests_9t2bhi$_0 == null)
      return throwUPAE('currentSpecSentenceTests');
    return this.currentSpecSentenceTests_9t2bhi$_0;
  }, set: function (currentSpecSentenceTests) {
    this.currentSpecSentenceTests_9t2bhi$_0 = currentSpecSentenceTests;
  }});
  Object.defineProperty(SpecTestsViewer.prototype, 'testPopup_0', {get: function () {
    if (this.testPopup_dq80qy$_0 == null)
      return throwUPAE('testPopup');
    return this.testPopup_dq80qy$_0;
  }, set: function (testPopup) {
    this.testPopup_dq80qy$_0 = testPopup;
  }});
  function SpecTestsViewer$insertCode$lambda(this$SpecTestsViewer) {
    return function () {
      this$SpecTestsViewer.testPopup_0.computeSizes_yo2cqg$();
      return Unit;
    };
  }
  function SpecTestsViewer$insertCode$lambda_0(this$SpecTestsViewer) {
    return function () {
      this$SpecTestsViewer.testPopup_0.computeSizes_yo2cqg$();
      return Unit;
    };
  }
  SpecTestsViewer.prototype.insertCode_0 = function (testCaseCode, helperFilesContent) {
    if (helperFilesContent === void 0)
      helperFilesContent = null;
    var code = StringBuilder_init();
    if (helperFilesContent != null) {
      var tmp$;
      tmp$ = helperFilesContent.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        code.append_gw00v9$(element + '\n' + '\n');
      }
    }
    code.append_gw00v9$(format(SpecTestsViewer$Companion_getInstance().SAMPLE_WRAP_CODE_0, [testCaseCode.code]));
    code.append_gw00v9$(SpecTestsViewer$Companion_getInstance().MAIN_FUN_CODE_0);
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_CODE_WRAPPER_SELECTOR_0).html(format(SpecTestsViewer$Companion_getInstance().TEST_CODE_TEMPLATE_0, [escapeHtml(code.toString())]));
    KotlinPlayground(SpecTestsViewer$Companion_getInstance().TEST_CODE_SELECTOR_0, json([to('callback', SpecTestsViewer$insertCode$lambda(this)), to('onChange', SpecTestsViewer$insertCode$lambda_0(this))]));
  };
  SpecTestsViewer.prototype.showTestCaseCode_0 = function (specTest, helperFilesContent) {
    if (helperFilesContent === void 0)
      helperFilesContent = null;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_CASE_INFO_SELECTOR_0).remove();
    $module$jquery(SpecTestsViewer$Companion_getInstance().TESTS_VIEWER_SELECTOR_0).append(format(SpecTestsViewer$Companion_getInstance().TEST_VIEWER_BODY_TEMPLATE_0, [specTest.testInfo.description]));
    var testCases = specTest.testCases;
    this.insertCode_0(first(testCases), helperFilesContent);
    if (testCases.size === 1) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).addClass('disabled');
    }
  };
  SpecTestsViewer.prototype.getHelpers_0 = function (helperNames, testArea) {
    var helperFilesPromises = ArrayList_init();
    var tmp$;
    tmp$ = helperNames.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      helperFilesPromises.add_11rb$(SpecTestsLoader$Companion_getInstance().loadHelperFile_mwq5zj$(element, testArea));
    }
    return Promise.all(copyToArray(helperFilesPromises));
  };
  function SpecTestsViewer$showViewer$lambda(closure$tests) {
    return function (f, el) {
      var testArea = $module$jquery(el);
      if (closure$tests.getTests_s27bel$(TestArea$Companion_getInstance().getByShortName_61zpoe$(testArea.attr('value'))) == null) {
        testArea.remove();
      }
      return Unit;
    };
  }
  SpecTestsViewer.prototype.showViewer_ljiy8z$ = function (sentenceElement) {
    var tmp$, tmp$_0;
    tmp$_0 = Kotlin.isType(tmp$ = sentenceElement.data('tests'), SpecSentence) ? tmp$ : null;
    if (tmp$_0 == null) {
      return;
    }
    var tests = tmp$_0;
    var sentenceText = format('sentence {1}', [sentenceElement.clone().children('.number-info').text()]);
    this.currentSpecSentenceTests_0 = tests;
    var $receiver = new Popup(new PopupConfig(800, 300, 'Test coverage of ' + sentenceText, SpecCoverageHighlighter_getInstance().TEMPLATE));
    $receiver.open();
    this.testPopup_0 = $receiver;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_OPTION_SELECTOR_0).each(SpecTestsViewer$showViewer$lambda(tests));
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_OPTION_SELECTOR_0).eq(0).val().toString());
    this.onTestAreaChange();
  };
  SpecTestsViewer.prototype.onTestAreaChange = function () {
    var tmp$ = TestArea$Companion_getInstance();
    var $receiver = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString();
    if ($receiver.length === 0)
      return;
    var testArea = tmp$.getByShortName_61zpoe$($receiver);
    if (this.currentSpecSentenceTests_0.getTests_s27bel$(testArea) == null)
      return;
    var $receiver_0 = TestType$values();
    var tmp$_0;
    loop_label: for (tmp$_0 = 0; tmp$_0 !== $receiver_0.length; ++tmp$_0) {
      var element = $receiver_0[tmp$_0];
      action$break: do {
        var tmp$_1;
        tmp$_1 = this.currentSpecSentenceTests_0.getTests_asgus2$(testArea, element);
        if (tmp$_1 == null) {
          break action$break;
        }
        var tests = tmp$_1;
        if (!tests.isEmpty())
          $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).append(format(SpecTestsViewer$Companion_getInstance().TEST_TYPE_OPTION_TEMPLATE_0, [element.shortName, element.name]));
      }
       while (false);
    }
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).show().val($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_OPTION_SELECTOR_0).eq(0).val().toString());
    this.onTestTypeChange();
  };
  function SpecTestsViewer$onTestTypeChange$lambda(closure$tests, this$SpecTestsViewer) {
    return function (f, el) {
      var testPriority = $module$jquery(el);
      if (this$SpecTestsViewer.getTestsByTestPriority_0(closure$tests, LinkType$valueOf(testPriority.attr('value'))).isEmpty()) {
        testPriority.remove();
      }
      return Unit;
    };
  }
  SpecTestsViewer.prototype.onTestTypeChange = function () {
    var tmp$;
    var tmp$_0 = TestType$Companion_getInstance();
    var $receiver = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).val().toString();
    if ($receiver.length === 0)
      return;
    var testType = tmp$_0.getByShortName_61zpoe$($receiver);
    var testArea = TestArea$Companion_getInstance().getByShortName_61zpoe$($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString());
    tmp$ = this.currentSpecSentenceTests_0.getTests_asgus2$(testArea, testType);
    if (tmp$ == null) {
      return;
    }
    var tests = tmp$;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_PRIORITY_OPTION_SELECTOR_0).each(SpecTestsViewer$onTestTypeChange$lambda(tests, this));
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_PRIORITY_SELECTOR_0).val($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_PRIORITY_OPTION_SELECTOR_0).eq(0).val().toString());
    this.onTestPriorityChange();
  };
  SpecTestsViewer.prototype.getTestsByTestPriority_0 = function ($receiver, attr) {
    var destination = ArrayList_init();
    var tmp$;
    tmp$ = $receiver.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      if (element.testInfo.linkType === attr)
        destination.add_11rb$(element);
    }
    return destination;
  };
  SpecTestsViewer.prototype.onTestPriorityChange = function () {
    var tmp$;
    var $receiver = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_PRIORITY_SELECTOR_0).val().toString();
    if ($receiver.length === 0)
      return;
    var testPriority = LinkType$valueOf($receiver);
    var testArea = TestArea$Companion_getInstance().getByShortName_61zpoe$($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString());
    var testType = TestType$Companion_getInstance().getByShortName_61zpoe$($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).val().toString());
    tmp$ = this.currentSpecSentenceTests_0.getTests_dlhb41$(testArea, testType, testPriority);
    if (tmp$ == null) {
      return;
    }
    var tests = tmp$;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).empty();
    var tmp$_0;
    tmp$_0 = tests.iterator();
    while (tmp$_0.hasNext()) {
      var element = tmp$_0.next();
      $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).append(format(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_OPTION_TEMPLATE_0, [element.testInfo.testNumber, element.testInfo.description]));
    }
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).show().val($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_OPTION_SELECTOR_0).eq(0).val().toString());
    this.onTestNumberChange();
  };
  function SpecTestsViewer$onTestNumberChange$lambda(closure$specTest, this$SpecTestsViewer) {
    return function (it) {
      this$SpecTestsViewer.showTestCaseCode_0(closure$specTest, toSet_0(it));
      return Unit;
    };
  }
  SpecTestsViewer.prototype.onTestNumberChange = function () {
    var tmp$;
    var $receiver = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).val().toString();
    if ($receiver.length === 0)
      return;
    var testNumber = toInt($receiver);
    var testPriority = LinkType$valueOf($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_PRIORITY_SELECTOR_0).val().toString());
    var testArea = TestArea$Companion_getInstance().getByShortName_61zpoe$($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString());
    var testType = TestType$Companion_getInstance().getByShortName_61zpoe$($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).val().toString());
    tmp$ = this.currentSpecSentenceTests_0.getTest_8x1n59$(testArea, testType, testPriority, testNumber);
    if (tmp$ == null) {
      return;
    }
    var specTest = tmp$;
    if (!specTest.testInfo.helpers.isEmpty()) {
      this.getHelpers_0(specTest.testInfo.helpers, testArea).then(SpecTestsViewer$onTestNumberChange$lambda(specTest, this));
    }
     else {
      this.showTestCaseCode_0(specTest);
    }
  };
  function SpecTestsViewer$navigateTestCase$lambda(closure$testCases, closure$caseNumber, this$SpecTestsViewer) {
    return function (it) {
      this$SpecTestsViewer.insertCode_0(closure$testCases.get_za3lpa$(closure$caseNumber), toSet_0(it));
      return Unit;
    };
  }
  SpecTestsViewer.prototype.navigateTestCase_n96aft$ = function (navigationLink, navigationType) {
    var tmp$;
    if (navigationLink.hasClass('disabled'))
      return;
    var testArea = TestArea$Companion_getInstance().getByShortName_61zpoe$($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString());
    var testType = TestType$Companion_getInstance().getByShortName_61zpoe$($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).val().toString());
    var testNumber = toInt($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).val().toString());
    var testPriority = LinkType$valueOf($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_PRIORITY_SELECTOR_0).val().toString());
    tmp$ = this.currentSpecSentenceTests_0.getTest_8x1n59$(testArea, testType, testPriority, testNumber);
    if (tmp$ == null) {
      return;
    }
    var specTest = tmp$;
    var currentNumber = toInt($module$jquery(SpecTestsViewer$Companion_getInstance().TESTCASE_NUMBER_SELECTOR_0).text());
    var caseNumber = navigationType === NavigationType$PREV_getInstance() ? currentNumber - 2 | 0 : currentNumber;
    var testCases = specTest.testCases;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TESTCASE_NUMBER_SELECTOR_0).html((caseNumber + 1 | 0).toString());
    if (!specTest.testInfo.helpers.isEmpty()) {
      this.getHelpers_0(specTest.testInfo.helpers, testArea).then(SpecTestsViewer$navigateTestCase$lambda(testCases, caseNumber, this));
    }
     else {
      this.insertCode_0(testCases.get_za3lpa$(caseNumber));
    }
    if ((caseNumber + 1 | 0) >= testCases.size) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).addClass('disabled');
    }
     else if (navigationType === NavigationType$PREV_getInstance() && $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).hasClass('disabled')) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).removeClass('disabled');
    }
    if (navigationType === NavigationType$NEXT_getInstance() && $module$jquery(SpecTestsViewer$Companion_getInstance().PREV_TESTCASE_SELECTOR_0).hasClass('disabled')) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().PREV_TESTCASE_SELECTOR_0).removeClass('disabled');
    }
     else if ((caseNumber + 1 | 0) === 1) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().PREV_TESTCASE_SELECTOR_0).addClass('disabled');
    }
  };
  SpecTestsViewer.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecTestsViewer', interfaces: []};
  function SentenceFinder() {
    SentenceFinder_instance = this;
    this.FINDER_BAR_HTML = '<div class="sentence-finder-bar">\n        <div class="icon-menu">\n                <span class="divide"><\/span>\n                <span class="divide"><\/span>\n                <span class="divide"><\/span>\n        <\/div>\n        <div class="spec-location-search">\n            <input type="text" name="spec-sentence-location" />\n            <button class="spec-sentence-find">Find sentence<\/button>\n            <a href="#" class="{1}-markup-link">{2} markup<\/a>\n        <\/div>\n        <div class="spec-location-format">Format: sections-hierarchy{,} -> paragraph {n} -> sentence {m}<\/div>\n        <\/div>';
  }
  SentenceFinder.prototype.findSentence = function () {
    this.findSentence_0($module$jquery('.spec-location-search input[name="spec-sentence-location"]').val().toString());
  };
  SentenceFinder.prototype.findSentence_0 = function (place) {
    var tmp$;
    var specPlaceComponents = SpecPlaceHighlighter_getInstance().getSentenceInfoFromSearchField_61zpoe$(trimEnd(Kotlin.isCharSequence(tmp$ = place) ? tmp$ : throwCCE()).toString());
    if (specPlaceComponents.sentenceNumber != null) {
      SpecPlaceHighlighter_getInstance().highlightSentence_3enxw9$(specPlaceComponents);
    }
     else {
      SpecPlaceHighlighter_getInstance().highlightParagraph_3enxw9$(specPlaceComponents);
    }
  };
  SentenceFinder.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SentenceFinder', interfaces: []};
  var SentenceFinder_instance = null;
  function SentenceFinder_getInstance() {
    if (SentenceFinder_instance === null) {
      new SentenceFinder();
    }
    return SentenceFinder_instance;
  }
  function SpecPlaceComponents(sectionId, paragraphNumber, sentenceNumber) {
    if (sentenceNumber === void 0)
      sentenceNumber = null;
    this.sectionId = sectionId;
    this.paragraphNumber = paragraphNumber;
    this.sentenceNumber = sentenceNumber;
  }
  SpecPlaceComponents.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecPlaceComponents', interfaces: []};
  SpecPlaceComponents.prototype.component1 = function () {
    return this.sectionId;
  };
  SpecPlaceComponents.prototype.component2 = function () {
    return this.paragraphNumber;
  };
  SpecPlaceComponents.prototype.component3 = function () {
    return this.sentenceNumber;
  };
  SpecPlaceComponents.prototype.copy_tzuutb$ = function (sectionId, paragraphNumber, sentenceNumber) {
    return new SpecPlaceComponents(sectionId === void 0 ? this.sectionId : sectionId, paragraphNumber === void 0 ? this.paragraphNumber : paragraphNumber, sentenceNumber === void 0 ? this.sentenceNumber : sentenceNumber);
  };
  SpecPlaceComponents.prototype.toString = function () {
    return 'SpecPlaceComponents(sectionId=' + Kotlin.toString(this.sectionId) + (', paragraphNumber=' + Kotlin.toString(this.paragraphNumber)) + (', sentenceNumber=' + Kotlin.toString(this.sentenceNumber)) + ')';
  };
  SpecPlaceComponents.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.sectionId) | 0;
    result = result * 31 + Kotlin.hashCode(this.paragraphNumber) | 0;
    result = result * 31 + Kotlin.hashCode(this.sentenceNumber) | 0;
    return result;
  };
  SpecPlaceComponents.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.sectionId, other.sectionId) && Kotlin.equals(this.paragraphNumber, other.paragraphNumber) && Kotlin.equals(this.sentenceNumber, other.sentenceNumber)))));
  };
  function SpecPlaceHighlighter() {
    SpecPlaceHighlighter_instance = this;
    this.PARAGRAPH_NOT_FOUND_0 = 'Paragraph "{1}" of section "{2}" is not found.';
    this.SENTENCE_NOT_FOUND_0 = 'Sentence "{1}" is not found.';
    this.ESCAPED_SECTION_ID_SEPARATOR_0 = '\\.';
  }
  SpecPlaceHighlighter.prototype.findParagraph_0 = function (sectionId, paragraphNumber) {
    var tmp$, tmp$_0, tmp$_1;
    var sectionElement = $module$jquery('#' + replace(sectionId, '.', this.ESCAPED_SECTION_ID_SEPARATOR_0));
    tmp$ = SpecTestsLoader$Companion_getInstance().getParagraphsInfo_ljiy8z$(sectionElement);
    if (tmp$ == null) {
      return null;
    }
    var paragraphsInfo = tmp$;
    if (paragraphsInfo.size > (paragraphNumber - 1 | 0)) {
      tmp$_1 = $module$jquery(Kotlin.isType(tmp$_0 = paragraphsInfo.get_za3lpa$(paragraphNumber - 1 | 0).get_11rb$('paragraphElement'), HTMLElement) ? tmp$_0 : throwCCE());
    }
     else {
      window.alert(format(this.PARAGRAPH_NOT_FOUND_0, [paragraphNumber, sectionId]));
      tmp$_1 = null;
    }
    return tmp$_1;
  };
  SpecPlaceHighlighter.prototype.findSentence_0 = function (paragraphElement, sentenceNumber) {
    var tmp$;
    var sentences = paragraphElement.find('.sentence');
    if (numberToInt(sentences.length) > (sentenceNumber - 1 | 0)) {
      tmp$ = $module$jquery(ensureNotNull(sentences[sentenceNumber - 1 | 0]));
    }
     else {
      window.alert(format(this.SENTENCE_NOT_FOUND_0, [sentenceNumber]));
      tmp$ = null;
    }
    return tmp$;
  };
  SpecPlaceHighlighter.prototype.highlightParagraph_0 = function (sectionId, paragraphNumber) {
    var tmp$, tmp$_0;
    tmp$ = this.findParagraph_0(sectionId, paragraphNumber);
    if (tmp$ == null) {
      return;
    }
    var paragraph = tmp$;
    paragraph.addClass('highlighted');
    (tmp$_0 = paragraph[0]) != null ? (tmp$_0.scrollIntoView(), Unit) : null;
    $module$jquery(window).scrollTop(numberToInt($module$jquery(window).scrollTop()) - 80 | 0);
  };
  SpecPlaceHighlighter.prototype.highlightParagraph_61zpoe$ = function (paragraphToBeHighlighted) {
    var tmp$;
    this.highlightParagraph_3enxw9$(this.getParagraphInfo_0(trimEnd(Kotlin.isCharSequence(tmp$ = paragraphToBeHighlighted) ? tmp$ : throwCCE()).toString()));
  };
  SpecPlaceHighlighter.prototype.highlightParagraph_3enxw9$ = function (sentencePath) {
    this.highlightParagraph_0(sentencePath.sectionId, sentencePath.paragraphNumber);
  };
  SpecPlaceHighlighter.prototype.highlightSentence_0 = function (sectionId, paragraphNumber, sentenceNumber) {
    var tmp$, tmp$_0, tmp$_1;
    tmp$ = this.findParagraph_0(sectionId, paragraphNumber);
    if (tmp$ == null) {
      return;
    }
    var paragraphElement = tmp$;
    tmp$_0 = this.findSentence_0(paragraphElement, sentenceNumber);
    if (tmp$_0 == null) {
      return;
    }
    var sentence = tmp$_0;
    sentence.addClass('highlighted');
    (tmp$_1 = sentence[0]) != null ? (tmp$_1.scrollIntoView(), Unit) : null;
    $module$jquery(window).scrollTop(numberToInt($module$jquery(window).scrollTop()) - 80 | 0);
  };
  SpecPlaceHighlighter.prototype.highlightSentence_61zpoe$ = function (sentenceToBeHighlighted) {
    this.highlightSentence_3enxw9$(this.getSentenceInfoFromUrl_0(sentenceToBeHighlighted));
  };
  SpecPlaceHighlighter.prototype.highlightSentence_3enxw9$ = function (sentencePath) {
    var tmp$, tmp$_0, tmp$_1;
    tmp$ = sentencePath.sectionId;
    tmp$_0 = sentencePath.paragraphNumber;
    tmp$_1 = sentencePath.sentenceNumber;
    if (tmp$_1 == null) {
      return;
    }
    this.highlightSentence_0(tmp$, tmp$_0, tmp$_1);
  };
  SpecPlaceHighlighter.prototype.highlightSection_61zpoe$ = function (sectionId) {
    var tmp$;
    var sectionElement = $module$jquery('#' + replace(sectionId, '.', '\\\\.'));
    sectionElement.addClass('highlighted');
    (tmp$ = sectionElement[0]) != null ? (tmp$.scrollIntoView(), Unit) : null;
    $module$jquery(window).scrollTop(numberToInt($module$jquery(window).scrollTop()) - 80 | 0);
  };
  SpecPlaceHighlighter.prototype.getSentenceInfoFromUrl_0 = function (sentenceToBeHighlighted) {
    var splittedSentencePath = Regex_init('\\s*,\\s*').split_905azu$(sentenceToBeHighlighted, 0);
    var splittedSentencePathSize = splittedSentencePath.size;
    return new SpecPlaceComponents(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 3 | 0), toInt(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 2 | 0)), toInt(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 1 | 0)));
  };
  SpecPlaceHighlighter.prototype.getSentenceInfoFromSearchField_61zpoe$ = function (sentenceToBeHighlighted) {
    var splittedSentencePath = Regex_init('\\s*->\\s*').split_905azu$(sentenceToBeHighlighted, 0);
    var $receiver = splittedSentencePath.get_za3lpa$(0);
    var splittedSectionPath = Regex_init('\\s*,\\s*').split_905azu$($receiver, 0);
    return new SpecPlaceComponents(last(splittedSectionPath), toInt(replace(splittedSentencePath.get_za3lpa$(1), 'paragraph ', '')), splittedSentencePath.size === 3 ? toInt(replace(splittedSentencePath.get_za3lpa$(2), 'sentence ', '')) : null);
  };
  SpecPlaceHighlighter.prototype.getParagraphInfo_0 = function (paragraphToBeHighlighted) {
    var splittedSentencePath = Regex_init('\\s*,\\s*').split_905azu$(paragraphToBeHighlighted, 0);
    var splittedSentencePathSize = splittedSentencePath.size;
    return new SpecPlaceComponents(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 2 | 0), toInt(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 1 | 0)));
  };
  SpecPlaceHighlighter.prototype.getLink_0 = function (searchComponent) {
    var $receiver = window.location;
    return $receiver.protocol + '//' + $receiver.hostname + $receiver.pathname + '?' + searchComponent + $receiver.hash;
  };
  SpecPlaceHighlighter.prototype.getSectionLink_0 = function (sectionId) {
    var $receiver = window.location;
    return $receiver.protocol + '//' + $receiver.hostname + $receiver.pathname + ($receiver.search.length > 0 ? '?' + $receiver.search : '') + '#' + sectionId;
  };
  SpecPlaceHighlighter.prototype.onSentenceGetLinkClick_ern3fz$ = function (element, mode) {
    var tmp$;
    var $receiver = StringBuilder_init();
    if (mode === Mode$Dev_getInstance()) {
      $receiver.append_gw00v9$('<div class=' + '"' + 'sentence-links-row' + '"' + '>' + '\n' + '                                                    <span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Link for compiler test:<\/span>' + '\n' + '                                                    <input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-path-for-compiler-test' + '"' + ' value=' + '"' + element.data('path').toString() + '"' + '>' + '\n' + '                                                  <\/div>' + '\n' + '                                                  ');
    }
    $receiver.append_gw00v9$('<div class=' + '"' + 'sentence-links-row' + '"' + '>' + '\n' + '                                                <span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Sentence path:<\/span>' + '\n' + '                                                <input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-link-field' + '"' + ' value=' + '"' + this.getLink_0(element.data('link').toString()) + '"' + '>' + '\n' + '                                              <\/div>' + '\n' + '                                              ');
    tmp$ = trimIndent(format('<div class="sentence-links-popup">{1}<\/div>', [$receiver.toString()]));
    (new Popup(new PopupConfig(800, mode === Mode$Dev_getInstance() ? 150 : 100, 'Sentence info', tmp$))).open();
    $module$jquery('.sentence-path-for-compiler-test').select().focus();
  };
  SpecPlaceHighlighter.prototype.onParagraphGetLinkClick_ljiy8z$ = function (element) {
    (new Popup(new PopupConfig(800, 100, 'Link to this paragraph', trimIndent('\n' + '                            <div class=' + '"' + 'sentence-links-popup' + '"' + '>' + '\n' + '                                <div class=' + '"' + 'sentence-links-row' + '"' + '><span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Link:<\/span><input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-link-field' + '"' + ' value=' + '"' + this.getLink_0(element.data('link').toString()) + '"' + '><\/div>' + '\n' + '                            <\/div>' + '\n' + '                        ')))).open();
    $module$jquery('.sentence-link-field').select().focus();
  };
  SpecPlaceHighlighter.prototype.onHeaderGetLinkClick_ljiy8z$ = function (element) {
    (new Popup(new PopupConfig(800, 100, 'Link to this section', trimIndent('\n' + '                            <div class=' + '"' + 'sentence-links-popup' + '"' + '>' + '\n' + '                                <div class=' + '"' + 'sentence-links-row' + '"' + '><span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Link:<\/span><input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-link-field' + '"' + ' value=' + '"' + this.getSectionLink_0(element.attr('id')) + '"' + '><\/div>' + '\n' + '                            <\/div>' + '\n' + '                        ')))).open();
    $module$jquery('.sentence-link-field').select().focus();
  };
  SpecPlaceHighlighter.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SpecPlaceHighlighter', interfaces: []};
  var SpecPlaceHighlighter_instance = null;
  function SpecPlaceHighlighter_getInstance() {
    if (SpecPlaceHighlighter_instance === null) {
      new SpecPlaceHighlighter();
    }
    return SpecPlaceHighlighter_instance;
  }
  var package$org = _.org || (_.org = {});
  var package$jetbrains = package$org.jetbrains || (package$org.jetbrains = {});
  var package$kotlin = package$jetbrains.kotlin || (package$jetbrains.kotlin = {});
  var package$spec = package$kotlin.spec || (package$kotlin.spec = {});
  var package$entity = package$spec.entity || (package$spec.entity = {});
  package$entity.SectionTestMap = SectionTestMap;
  package$entity.SpecSection = SpecSection;
  package$entity.SpecParagraph = SpecParagraph;
  package$entity.SpecSentence = SpecSentence;
  var package$test = package$entity.test || (package$entity.test = {});
  package$test.SpecTest = SpecTest;
  package$test.TestCase = TestCase;
  package$test.TestPlace = TestPlace;
  Object.defineProperty(LinkType, 'main', {get: LinkType$main_getInstance});
  Object.defineProperty(LinkType, 'primary', {get: LinkType$primary_getInstance});
  Object.defineProperty(LinkType, 'secondary', {get: LinkType$secondary_getInstance});
  var package$parameters = package$test.parameters || (package$test.parameters = {});
  package$parameters.LinkType = LinkType;
  package$parameters.TestInfo = TestInfo;
  Object.defineProperty(TestType, 'Positive', {get: TestType$Positive_getInstance});
  Object.defineProperty(TestType, 'Negative', {get: TestType$Negative_getInstance});
  Object.defineProperty(TestType, 'Companion', {get: TestType$Companion_getInstance});
  package$parameters.TestType = TestType;
  var package$testArea = package$parameters.testArea || (package$parameters.testArea = {});
  Object.defineProperty(package$testArea, 'SpecTestsParser', {get: SpecTestsParser_getInstance});
  Object.defineProperty(TestArea, 'Diagnostics', {get: TestArea$Diagnostics_getInstance});
  Object.defineProperty(TestArea, 'CodegenBox', {get: TestArea$CodegenBox_getInstance});
  Object.defineProperty(TestArea, 'Companion', {get: TestArea$Companion_getInstance});
  package$testArea.TestArea = TestArea;
  Object.defineProperty(GithubTestsLoader$TestOrigin, 'SPEC_TEST', {get: GithubTestsLoader$TestOrigin$SPEC_TEST_getInstance});
  Object.defineProperty(GithubTestsLoader$TestOrigin, 'IMPLEMENTATION_TEST', {get: GithubTestsLoader$TestOrigin$IMPLEMENTATION_TEST_getInstance});
  GithubTestsLoader.TestOrigin = GithubTestsLoader$TestOrigin;
  Object.defineProperty(GithubTestsLoader, 'Companion', {get: GithubTestsLoader$Companion_getInstance});
  var package$loader = package$spec.loader || (package$spec.loader = {});
  package$loader.GithubTestsLoader = GithubTestsLoader;
  package$loader.LoaderByTestsMapFile = LoaderByTestsMapFile;
  Object.defineProperty(SpecTestsLoader, 'Companion', {get: SpecTestsLoader$Companion_getInstance});
  package$loader.SpecTestsLoader = SpecTestsLoader;
  package$spec.runAfterDocumentReady = runAfterDocumentReady;
  package$spec.main = main_0;
  Object.defineProperty(Mode, 'Dev', {get: Mode$Dev_getInstance});
  Object.defineProperty(Mode, 'User', {get: Mode$User_getInstance});
  var package$utils = package$spec.utils || (package$spec.utils = {});
  package$utils.Mode = Mode;
  package$utils.PopupConfig = PopupConfig;
  Object.defineProperty(Popup, 'Companion', {get: Popup$Companion_getInstance});
  package$utils.Popup = Popup;
  package$utils.format_e33kwl$ = format;
  package$utils.escapeHtml_pdl1vz$ = escapeHtml;
  package$utils.get_searchMap_uq8nrx$ = get_searchMap;
  var package$viewer = package$spec.viewer || (package$spec.viewer = {});
  Object.defineProperty(package$viewer, 'MarkUpArranger', {get: MarkUpArranger_getInstance});
  Object.defineProperty(SidebarViewer, 'Companion', {get: SidebarViewer$Companion_getInstance});
  package$viewer.SidebarViewer = SidebarViewer;
  Object.defineProperty(package$viewer, 'SpecCoverageHighlighter', {get: SpecCoverageHighlighter_getInstance});
  Object.defineProperty(NavigationType, 'PREV', {get: NavigationType$PREV_getInstance});
  Object.defineProperty(NavigationType, 'NEXT', {get: NavigationType$NEXT_getInstance});
  package$viewer.NavigationType = NavigationType;
  Object.defineProperty(SpecTestsViewer, 'Companion', {get: SpecTestsViewer$Companion_getInstance});
  package$viewer.SpecTestsViewer = SpecTestsViewer;
  var package$links = package$viewer.links || (package$viewer.links = {});
  Object.defineProperty(package$links, 'SentenceFinder', {get: SentenceFinder_getInstance});
  package$links.SpecPlaceComponents = SpecPlaceComponents;
  Object.defineProperty(package$links, 'SpecPlaceHighlighter', {get: SpecPlaceHighlighter_getInstance});
  KotlinPlayground = __webpack_require__(/*! kotlin-playground */ "./node_modules/kotlin-playground/dist/playground.min.js");
  main_0();
  return _;
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

//# sourceMappingURL=front-end.js.map


/***/ }),

/***/ "./kotlin-js-min/main/kotlin.js":
/*!**************************************!*\
  !*** ./kotlin-js-min/main/kotlin.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  }
   else {}
}(this, function (Kotlin) {
  var _ = Kotlin;
  Kotlin.isBooleanArray = function (a) {
    return (Array.isArray(a) || a instanceof Int8Array) && a.$type$ === 'BooleanArray';
  };
  Kotlin.isByteArray = function (a) {
    return a instanceof Int8Array && a.$type$ !== 'BooleanArray';
  };
  Kotlin.isShortArray = function (a) {
    return a instanceof Int16Array;
  };
  Kotlin.isCharArray = function (a) {
    return a instanceof Uint16Array && a.$type$ === 'CharArray';
  };
  Kotlin.isIntArray = function (a) {
    return a instanceof Int32Array;
  };
  Kotlin.isFloatArray = function (a) {
    return a instanceof Float32Array;
  };
  Kotlin.isDoubleArray = function (a) {
    return a instanceof Float64Array;
  };
  Kotlin.isLongArray = function (a) {
    return Array.isArray(a) && a.$type$ === 'LongArray';
  };
  Kotlin.isArray = function (a) {
    return Array.isArray(a) && !a.$type$;
  };
  Kotlin.isArrayish = function (a) {
    return Array.isArray(a) || ArrayBuffer.isView(a);
  };
  Kotlin.arrayToString = function (a) {
    var toString = Kotlin.isCharArray(a) ? String.fromCharCode : Kotlin.toString;
    return '[' + Array.prototype.map.call(a, function (e) {
      return toString(e);
    }).join(', ') + ']';
  };
  var propertyRefClassMetadataCache = [{mutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KMutableProperty0;
  }}, immutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KProperty0;
  }}}, {mutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KMutableProperty1;
  }}, immutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KProperty1;
  }}}];
  Kotlin.toShort = function (a) {
    return (a & 65535) << 16 >> 16;
  };
  Kotlin.toByte = function (a) {
    return (a & 255) << 24 >> 24;
  };
  Kotlin.toChar = function (a) {
    return a & 65535;
  };
  Kotlin.numberToInt = function (a) {
    return a instanceof Kotlin.Long ? a.toInt() : Kotlin.doubleToInt(a);
  };
  Kotlin.numberToDouble = function (a) {
    return +a;
  };
  Kotlin.doubleToInt = function (a) {
    if (a > 2147483647)
      return 2147483647;
    if (a < -2147483648)
      return -2147483648;
    return a | 0;
  };
  Kotlin.toBoxedChar = function (a) {
    if (a == null)
      return a;
    if (a instanceof Kotlin.BoxedChar)
      return a;
    return new Kotlin.BoxedChar(a);
  };
  Kotlin.unboxChar = function (a) {
    if (a == null)
      return a;
    return Kotlin.toChar(a);
  };
  Kotlin.equals = function (obj1, obj2) {
    if (obj1 == null) {
      return obj2 == null;
    }
    if (obj2 == null) {
      return false;
    }
    if (obj1 !== obj1) {
      return obj2 !== obj2;
    }
    if (typeof obj1 === 'object' && typeof obj1.equals === 'function') {
      return obj1.equals(obj2);
    }
    if (typeof obj1 === 'number' && typeof obj2 === 'number') {
      return obj1 === obj2 && (obj1 !== 0 || 1 / obj1 === 1 / obj2);
    }
    return obj1 === obj2;
  };
  Kotlin.hashCode = function (obj) {
    if (obj == null) {
      return 0;
    }
    var objType = typeof obj;
    if ('object' === objType) {
      return 'function' === typeof obj.hashCode ? obj.hashCode() : getObjectHashCode(obj);
    }
    if ('function' === objType) {
      return getObjectHashCode(obj);
    }
    if ('number' === objType) {
      return Kotlin.numberHashCode(obj);
    }
    if ('boolean' === objType) {
      return Number(obj);
    }
    var str = String(obj);
    return getStringHashCode(str);
  };
  Kotlin.toString = function (o) {
    if (o == null) {
      return 'null';
    }
     else if (Kotlin.isArrayish(o)) {
      return '[...]';
    }
     else {
      return o.toString();
    }
  };
  var POW_2_32 = 4.294967296E9;
  var OBJECT_HASH_CODE_PROPERTY_NAME = 'kotlinHashCodeValue$';
  function getObjectHashCode(obj) {
    if (!(OBJECT_HASH_CODE_PROPERTY_NAME in obj)) {
      var hash = Math.random() * POW_2_32 | 0;
      Object.defineProperty(obj, OBJECT_HASH_CODE_PROPERTY_NAME, {value: hash, enumerable: false});
    }
    return obj[OBJECT_HASH_CODE_PROPERTY_NAME];
  }
  function getStringHashCode(str) {
    var hash = 0;
    for (var i = 0; i < str.length; i++) {
      var code = str.charCodeAt(i);
      hash = hash * 31 + code | 0;
    }
    return hash;
  }
  Kotlin.identityHashCode = getObjectHashCode;
  Kotlin.Long = function (low, high) {
    this.low_ = low | 0;
    this.high_ = high | 0;
  };
  Kotlin.Long.$metadata$ = {kind: 'class', simpleName: 'Long', interfaces: []};
  Kotlin.Long.IntCache_ = {};
  Kotlin.Long.fromInt = function (value) {
    if (-128 <= value && value < 128) {
      var cachedObj = Kotlin.Long.IntCache_[value];
      if (cachedObj) {
        return cachedObj;
      }
    }
    var obj = new Kotlin.Long(value | 0, value < 0 ? -1 : 0);
    if (-128 <= value && value < 128) {
      Kotlin.Long.IntCache_[value] = obj;
    }
    return obj;
  };
  Kotlin.Long.fromNumber = function (value) {
    if (isNaN(value)) {
      return Kotlin.Long.ZERO;
    }
     else if (value <= -Kotlin.Long.TWO_PWR_63_DBL_) {
      return Kotlin.Long.MIN_VALUE;
    }
     else if (value + 1 >= Kotlin.Long.TWO_PWR_63_DBL_) {
      return Kotlin.Long.MAX_VALUE;
    }
     else if (value < 0) {
      return Kotlin.Long.fromNumber(-value).negate();
    }
     else {
      return new Kotlin.Long(value % Kotlin.Long.TWO_PWR_32_DBL_ | 0, value / Kotlin.Long.TWO_PWR_32_DBL_ | 0);
    }
  };
  Kotlin.Long.fromBits = function (lowBits, highBits) {
    return new Kotlin.Long(lowBits, highBits);
  };
  Kotlin.Long.fromString = function (str, opt_radix) {
    if (str.length == 0) {
      throw Error('number format error: empty string');
    }
    var radix = opt_radix || 10;
    if (radix < 2 || 36 < radix) {
      throw Error('radix out of range: ' + radix);
    }
    if (str.charAt(0) == '-') {
      return Kotlin.Long.fromString(str.substring(1), radix).negate();
    }
     else if (str.indexOf('-') >= 0) {
      throw Error('number format error: interior "-" character: ' + str);
    }
    var radixToPower = Kotlin.Long.fromNumber(Math.pow(radix, 8));
    var result = Kotlin.Long.ZERO;
    for (var i = 0; i < str.length; i += 8) {
      var size = Math.min(8, str.length - i);
      var value = parseInt(str.substring(i, i + size), radix);
      if (size < 8) {
        var power = Kotlin.Long.fromNumber(Math.pow(radix, size));
        result = result.multiply(power).add(Kotlin.Long.fromNumber(value));
      }
       else {
        result = result.multiply(radixToPower);
        result = result.add(Kotlin.Long.fromNumber(value));
      }
    }
    return result;
  };
  Kotlin.Long.TWO_PWR_16_DBL_ = 1 << 16;
  Kotlin.Long.TWO_PWR_24_DBL_ = 1 << 24;
  Kotlin.Long.TWO_PWR_32_DBL_ = Kotlin.Long.TWO_PWR_16_DBL_ * Kotlin.Long.TWO_PWR_16_DBL_;
  Kotlin.Long.TWO_PWR_31_DBL_ = Kotlin.Long.TWO_PWR_32_DBL_ / 2;
  Kotlin.Long.TWO_PWR_48_DBL_ = Kotlin.Long.TWO_PWR_32_DBL_ * Kotlin.Long.TWO_PWR_16_DBL_;
  Kotlin.Long.TWO_PWR_64_DBL_ = Kotlin.Long.TWO_PWR_32_DBL_ * Kotlin.Long.TWO_PWR_32_DBL_;
  Kotlin.Long.TWO_PWR_63_DBL_ = Kotlin.Long.TWO_PWR_64_DBL_ / 2;
  Kotlin.Long.ZERO = Kotlin.Long.fromInt(0);
  Kotlin.Long.ONE = Kotlin.Long.fromInt(1);
  Kotlin.Long.NEG_ONE = Kotlin.Long.fromInt(-1);
  Kotlin.Long.MAX_VALUE = Kotlin.Long.fromBits(4.294967295E9 | 0, 2147483647 | 0);
  Kotlin.Long.MIN_VALUE = Kotlin.Long.fromBits(0, 2.147483648E9 | 0);
  Kotlin.Long.TWO_PWR_24_ = Kotlin.Long.fromInt(1 << 24);
  Kotlin.Long.prototype.toInt = function () {
    return this.low_;
  };
  Kotlin.Long.prototype.toNumber = function () {
    return this.high_ * Kotlin.Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();
  };
  Kotlin.Long.prototype.hashCode = function () {
    return this.high_ ^ this.low_;
  };
  Kotlin.Long.prototype.toString = function (opt_radix) {
    var radix = opt_radix || 10;
    if (radix < 2 || 36 < radix) {
      throw Error('radix out of range: ' + radix);
    }
    if (this.isZero()) {
      return '0';
    }
    if (this.isNegative()) {
      if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
        var radixLong = Kotlin.Long.fromNumber(radix);
        var div = this.div(radixLong);
        var rem = div.multiply(radixLong).subtract(this);
        return div.toString(radix) + rem.toInt().toString(radix);
      }
       else {
        return '-' + this.negate().toString(radix);
      }
    }
    var radixToPower = Kotlin.Long.fromNumber(Math.pow(radix, 6));
    var rem = this;
    var result = '';
    while (true) {
      var remDiv = rem.div(radixToPower);
      var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();
      var digits = intval.toString(radix);
      rem = remDiv;
      if (rem.isZero()) {
        return digits + result;
      }
       else {
        while (digits.length < 6) {
          digits = '0' + digits;
        }
        result = '' + digits + result;
      }
    }
  };
  Kotlin.Long.prototype.getHighBits = function () {
    return this.high_;
  };
  Kotlin.Long.prototype.getLowBits = function () {
    return this.low_;
  };
  Kotlin.Long.prototype.getLowBitsUnsigned = function () {
    return this.low_ >= 0 ? this.low_ : Kotlin.Long.TWO_PWR_32_DBL_ + this.low_;
  };
  Kotlin.Long.prototype.getNumBitsAbs = function () {
    if (this.isNegative()) {
      if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
        return 64;
      }
       else {
        return this.negate().getNumBitsAbs();
      }
    }
     else {
      var val = this.high_ != 0 ? this.high_ : this.low_;
      for (var bit = 31; bit > 0; bit--) {
        if ((val & 1 << bit) != 0) {
          break;
        }
      }
      return this.high_ != 0 ? bit + 33 : bit + 1;
    }
  };
  Kotlin.Long.prototype.isZero = function () {
    return this.high_ == 0 && this.low_ == 0;
  };
  Kotlin.Long.prototype.isNegative = function () {
    return this.high_ < 0;
  };
  Kotlin.Long.prototype.isOdd = function () {
    return (this.low_ & 1) == 1;
  };
  Kotlin.Long.prototype.equalsLong = function (other) {
    return this.high_ == other.high_ && this.low_ == other.low_;
  };
  Kotlin.Long.prototype.notEqualsLong = function (other) {
    return this.high_ != other.high_ || this.low_ != other.low_;
  };
  Kotlin.Long.prototype.lessThan = function (other) {
    return this.compare(other) < 0;
  };
  Kotlin.Long.prototype.lessThanOrEqual = function (other) {
    return this.compare(other) <= 0;
  };
  Kotlin.Long.prototype.greaterThan = function (other) {
    return this.compare(other) > 0;
  };
  Kotlin.Long.prototype.greaterThanOrEqual = function (other) {
    return this.compare(other) >= 0;
  };
  Kotlin.Long.prototype.compare = function (other) {
    if (this.equalsLong(other)) {
      return 0;
    }
    var thisNeg = this.isNegative();
    var otherNeg = other.isNegative();
    if (thisNeg && !otherNeg) {
      return -1;
    }
    if (!thisNeg && otherNeg) {
      return 1;
    }
    if (this.subtract(other).isNegative()) {
      return -1;
    }
     else {
      return 1;
    }
  };
  Kotlin.Long.prototype.negate = function () {
    if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return Kotlin.Long.MIN_VALUE;
    }
     else {
      return this.not().add(Kotlin.Long.ONE);
    }
  };
  Kotlin.Long.prototype.add = function (other) {
    var a48 = this.high_ >>> 16;
    var a32 = this.high_ & 65535;
    var a16 = this.low_ >>> 16;
    var a00 = this.low_ & 65535;
    var b48 = other.high_ >>> 16;
    var b32 = other.high_ & 65535;
    var b16 = other.low_ >>> 16;
    var b00 = other.low_ & 65535;
    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
    c00 += a00 + b00;
    c16 += c00 >>> 16;
    c00 &= 65535;
    c16 += a16 + b16;
    c32 += c16 >>> 16;
    c16 &= 65535;
    c32 += a32 + b32;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c48 += a48 + b48;
    c48 &= 65535;
    return Kotlin.Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);
  };
  Kotlin.Long.prototype.subtract = function (other) {
    return this.add(other.negate());
  };
  Kotlin.Long.prototype.multiply = function (other) {
    if (this.isZero()) {
      return Kotlin.Long.ZERO;
    }
     else if (other.isZero()) {
      return Kotlin.Long.ZERO;
    }
    if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return other.isOdd() ? Kotlin.Long.MIN_VALUE : Kotlin.Long.ZERO;
    }
     else if (other.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return this.isOdd() ? Kotlin.Long.MIN_VALUE : Kotlin.Long.ZERO;
    }
    if (this.isNegative()) {
      if (other.isNegative()) {
        return this.negate().multiply(other.negate());
      }
       else {
        return this.negate().multiply(other).negate();
      }
    }
     else if (other.isNegative()) {
      return this.multiply(other.negate()).negate();
    }
    if (this.lessThan(Kotlin.Long.TWO_PWR_24_) && other.lessThan(Kotlin.Long.TWO_PWR_24_)) {
      return Kotlin.Long.fromNumber(this.toNumber() * other.toNumber());
    }
    var a48 = this.high_ >>> 16;
    var a32 = this.high_ & 65535;
    var a16 = this.low_ >>> 16;
    var a00 = this.low_ & 65535;
    var b48 = other.high_ >>> 16;
    var b32 = other.high_ & 65535;
    var b16 = other.low_ >>> 16;
    var b00 = other.low_ & 65535;
    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
    c00 += a00 * b00;
    c16 += c00 >>> 16;
    c00 &= 65535;
    c16 += a16 * b00;
    c32 += c16 >>> 16;
    c16 &= 65535;
    c16 += a00 * b16;
    c32 += c16 >>> 16;
    c16 &= 65535;
    c32 += a32 * b00;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c32 += a16 * b16;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c32 += a00 * b32;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
    c48 &= 65535;
    return Kotlin.Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);
  };
  Kotlin.Long.prototype.div = function (other) {
    if (other.isZero()) {
      throw Error('division by zero');
    }
     else if (this.isZero()) {
      return Kotlin.Long.ZERO;
    }
    if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
      if (other.equalsLong(Kotlin.Long.ONE) || other.equalsLong(Kotlin.Long.NEG_ONE)) {
        return Kotlin.Long.MIN_VALUE;
      }
       else if (other.equalsLong(Kotlin.Long.MIN_VALUE)) {
        return Kotlin.Long.ONE;
      }
       else {
        var halfThis = this.shiftRight(1);
        var approx = halfThis.div(other).shiftLeft(1);
        if (approx.equalsLong(Kotlin.Long.ZERO)) {
          return other.isNegative() ? Kotlin.Long.ONE : Kotlin.Long.NEG_ONE;
        }
         else {
          var rem = this.subtract(other.multiply(approx));
          var result = approx.add(rem.div(other));
          return result;
        }
      }
    }
     else if (other.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return Kotlin.Long.ZERO;
    }
    if (this.isNegative()) {
      if (other.isNegative()) {
        return this.negate().div(other.negate());
      }
       else {
        return this.negate().div(other).negate();
      }
    }
     else if (other.isNegative()) {
      return this.div(other.negate()).negate();
    }
    var res = Kotlin.Long.ZERO;
    var rem = this;
    while (rem.greaterThanOrEqual(other)) {
      var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));
      var log2 = Math.ceil(Math.log(approx) / Math.LN2);
      var delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);
      var approxRes = Kotlin.Long.fromNumber(approx);
      var approxRem = approxRes.multiply(other);
      while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
        approx -= delta;
        approxRes = Kotlin.Long.fromNumber(approx);
        approxRem = approxRes.multiply(other);
      }
      if (approxRes.isZero()) {
        approxRes = Kotlin.Long.ONE;
      }
      res = res.add(approxRes);
      rem = rem.subtract(approxRem);
    }
    return res;
  };
  Kotlin.Long.prototype.modulo = function (other) {
    return this.subtract(this.div(other).multiply(other));
  };
  Kotlin.Long.prototype.not = function () {
    return Kotlin.Long.fromBits(~this.low_, ~this.high_);
  };
  Kotlin.Long.prototype.and = function (other) {
    return Kotlin.Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);
  };
  Kotlin.Long.prototype.or = function (other) {
    return Kotlin.Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);
  };
  Kotlin.Long.prototype.xor = function (other) {
    return Kotlin.Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
  };
  Kotlin.Long.prototype.shiftLeft = function (numBits) {
    numBits &= 63;
    if (numBits == 0) {
      return this;
    }
     else {
      var low = this.low_;
      if (numBits < 32) {
        var high = this.high_;
        return Kotlin.Long.fromBits(low << numBits, high << numBits | low >>> 32 - numBits);
      }
       else {
        return Kotlin.Long.fromBits(0, low << numBits - 32);
      }
    }
  };
  Kotlin.Long.prototype.shiftRight = function (numBits) {
    numBits &= 63;
    if (numBits == 0) {
      return this;
    }
     else {
      var high = this.high_;
      if (numBits < 32) {
        var low = this.low_;
        return Kotlin.Long.fromBits(low >>> numBits | high << 32 - numBits, high >> numBits);
      }
       else {
        return Kotlin.Long.fromBits(high >> numBits - 32, high >= 0 ? 0 : -1);
      }
    }
  };
  Kotlin.Long.prototype.shiftRightUnsigned = function (numBits) {
    numBits &= 63;
    if (numBits == 0) {
      return this;
    }
     else {
      var high = this.high_;
      if (numBits < 32) {
        var low = this.low_;
        return Kotlin.Long.fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits);
      }
       else if (numBits == 32) {
        return Kotlin.Long.fromBits(high, 0);
      }
       else {
        return Kotlin.Long.fromBits(high >>> numBits - 32, 0);
      }
    }
  };
  Kotlin.Long.prototype.equals = function (other) {
    return other instanceof Kotlin.Long && this.equalsLong(other);
  };
  Kotlin.Long.prototype.compareTo_11rb$ = Kotlin.Long.prototype.compare;
  Kotlin.Long.prototype.inc = function () {
    return this.add(Kotlin.Long.ONE);
  };
  Kotlin.Long.prototype.dec = function () {
    return this.add(Kotlin.Long.NEG_ONE);
  };
  Kotlin.Long.prototype.valueOf = function () {
    return this.toNumber();
  };
  Kotlin.Long.prototype.unaryPlus = function () {
    return this;
  };
  Kotlin.Long.prototype.unaryMinus = Kotlin.Long.prototype.negate;
  Kotlin.Long.prototype.inv = Kotlin.Long.prototype.not;
  Kotlin.Long.prototype.rangeTo = function (other) {
    return new Kotlin.kotlin.ranges.LongRange(this, other);
  };
  Kotlin.defineInlineFunction = function (tag, fun) {
    return fun;
  };
  Kotlin.wrapFunction = function (fun) {
    var f = function () {
      f = fun();
      return f.apply(this, arguments);
    };
    return function () {
      return f.apply(this, arguments);
    };
  };
  Kotlin.suspendCall = function (value) {
    return value;
  };
  Kotlin.coroutineResult = function (qualifier) {
    throwMarkerError();
  };
  Kotlin.coroutineReceiver = function (qualifier) {
    throwMarkerError();
  };
  function throwMarkerError() {
    throw new Error('This marker function should never been called. ' + 'Looks like compiler did not eliminate it properly. ' + 'Please, report an issue if you caught this exception.');
  }
  Kotlin.compareTo = function (a, b) {
    var typeA = typeof a;
    if (typeA === 'number') {
      if (typeof b === 'number') {
        return Kotlin.doubleCompareTo(a, b);
      }
      return Kotlin.primitiveCompareTo(a, b);
    }
    if (typeA === 'string' || typeA === 'boolean') {
      return Kotlin.primitiveCompareTo(a, b);
    }
    return a.compareTo_11rb$(b);
  };
  Kotlin.primitiveCompareTo = function (a, b) {
    return a < b ? -1 : a > b ? 1 : 0;
  };
  Kotlin.doubleCompareTo = function (a, b) {
    if (a < b)
      return -1;
    if (a > b)
      return 1;
    if (a === b) {
      if (a !== 0)
        return 0;
      var ia = 1 / a;
      return ia === 1 / b ? 0 : ia < 0 ? -1 : 1;
    }
    return a !== a ? b !== b ? 0 : 1 : -1;
  };
  Kotlin.imul = Math.imul || imul;
  Kotlin.imulEmulated = imul;
  function imul(a, b) {
    return (a & 4.29490176E9) * (b & 65535) + (a & 65535) * (b | 0) | 0;
  }
  (function () {
    var buf = new ArrayBuffer(8);
    var bufFloat64 = new Float64Array(buf);
    var bufFloat32 = new Float32Array(buf);
    var bufInt32 = new Int32Array(buf);
    var lowIndex = 0;
    var highIndex = 1;
    bufFloat64[0] = -1;
    if (bufInt32[lowIndex] !== 0) {
      lowIndex = 1;
      highIndex = 0;
    }
    Kotlin.numberHashCode = function (obj) {
      if ((obj | 0) === obj) {
        return obj | 0;
      }
       else {
        bufFloat64[0] = obj;
        return (bufInt32[highIndex] * 31 | 0) + bufInt32[lowIndex] | 0;
      }
    };
  }());
  Kotlin.ensureNotNull = function (x) {
    return x != null ? x : Kotlin.throwNPE();
  };
  if (typeof String.prototype.startsWith === 'undefined') {
    String.prototype.startsWith = function (searchString, position) {
      position = position || 0;
      return this.lastIndexOf(searchString, position) === position;
    };
  }
  if (typeof String.prototype.endsWith === 'undefined') {
    String.prototype.endsWith = function (searchString, position) {
      var subjectString = this.toString();
      if (position === undefined || position > subjectString.length) {
        position = subjectString.length;
      }
      position -= searchString.length;
      var lastIndex = subjectString.indexOf(searchString, position);
      return lastIndex !== -1 && lastIndex === position;
    };
  }
  if (typeof Math.sign === 'undefined') {
    Math.sign = function (x) {
      x = +x;
      if (x === 0 || isNaN(x)) {
        return Number(x);
      }
      return x > 0 ? 1 : -1;
    };
  }
  if (typeof Math.trunc === 'undefined') {
    Math.trunc = function (x) {
      if (isNaN(x)) {
        return NaN;
      }
      if (x > 0) {
        return Math.floor(x);
      }
      return Math.ceil(x);
    };
  }
  (function () {
    var epsilon = 2.220446049250313E-16;
    var taylor_2_bound = Math.sqrt(epsilon);
    var taylor_n_bound = Math.sqrt(taylor_2_bound);
    var upper_taylor_2_bound = 1 / taylor_2_bound;
    var upper_taylor_n_bound = 1 / taylor_n_bound;
    if (typeof Math.sinh === 'undefined') {
      Math.sinh = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var result = x;
          if (Math.abs(x) > taylor_2_bound) {
            result += x * x * x / 6;
          }
          return result;
        }
         else {
          var y = Math.exp(x);
          var y1 = 1 / y;
          if (!isFinite(y))
            return Math.exp(x - Math.LN2);
          if (!isFinite(y1))
            return -Math.exp(-x - Math.LN2);
          return (y - y1) / 2;
        }
      };
    }
    if (typeof Math.cosh === 'undefined') {
      Math.cosh = function (x) {
        var y = Math.exp(x);
        var y1 = 1 / y;
        if (!isFinite(y) || !isFinite(y1))
          return Math.exp(Math.abs(x) - Math.LN2);
        return (y + y1) / 2;
      };
    }
    if (typeof Math.tanh === 'undefined') {
      Math.tanh = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var result = x;
          if (Math.abs(x) > taylor_2_bound) {
            result -= x * x * x / 3;
          }
          return result;
        }
         else {
          var a = Math.exp(+x), b = Math.exp(-x);
          return a === Infinity ? 1 : b === Infinity ? -1 : (a - b) / (a + b);
        }
      };
    }
    if (typeof Math.asinh === 'undefined') {
      var asinh = function (x) {
        if (x >= +taylor_n_bound) {
          if (x > upper_taylor_n_bound) {
            if (x > upper_taylor_2_bound) {
              return Math.log(x) + Math.LN2;
            }
             else {
              return Math.log(x * 2 + 1 / (x * 2));
            }
          }
           else {
            return Math.log(x + Math.sqrt(x * x + 1));
          }
        }
         else if (x <= -taylor_n_bound) {
          return -asinh(-x);
        }
         else {
          var result = x;
          if (Math.abs(x) >= taylor_2_bound) {
            var x3 = x * x * x;
            result -= x3 / 6;
          }
          return result;
        }
      };
      Math.asinh = asinh;
    }
    if (typeof Math.acosh === 'undefined') {
      Math.acosh = function (x) {
        if (x < 1) {
          return NaN;
        }
         else if (x - 1 >= taylor_n_bound) {
          if (x > upper_taylor_2_bound) {
            return Math.log(x) + Math.LN2;
          }
           else {
            return Math.log(x + Math.sqrt(x * x - 1));
          }
        }
         else {
          var y = Math.sqrt(x - 1);
          var result = y;
          if (y >= taylor_2_bound) {
            var y3 = y * y * y;
            result -= y3 / 12;
          }
          return Math.sqrt(2) * result;
        }
      };
    }
    if (typeof Math.atanh === 'undefined') {
      Math.atanh = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var result = x;
          if (Math.abs(x) > taylor_2_bound) {
            result += x * x * x / 3;
          }
          return result;
        }
        return Math.log((1 + x) / (1 - x)) / 2;
      };
    }
    if (typeof Math.log1p === 'undefined') {
      Math.log1p = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var x2 = x * x;
          var x3 = x2 * x;
          var x4 = x3 * x;
          return -x4 / 4 + x3 / 3 - x2 / 2 + x;
        }
        return Math.log(x + 1);
      };
    }
    if (typeof Math.expm1 === 'undefined') {
      Math.expm1 = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var x2 = x * x;
          var x3 = x2 * x;
          var x4 = x3 * x;
          return x4 / 24 + x3 / 6 + x2 / 2 + x;
        }
        return Math.exp(x) - 1;
      };
    }
  }());
  if (typeof Math.hypot === 'undefined') {
    Math.hypot = function () {
      var y = 0;
      var length = arguments.length;
      for (var i = 0; i < length; i++) {
        if (arguments[i] === Infinity || arguments[i] === -Infinity) {
          return Infinity;
        }
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };
  }
  if (typeof Math.log10 === 'undefined') {
    Math.log10 = function (x) {
      return Math.log(x) * Math.LOG10E;
    };
  }
  if (typeof Math.log2 === 'undefined') {
    Math.log2 = function (x) {
      return Math.log(x) * Math.LOG2E;
    };
  }
  if (typeof Math.clz32 === 'undefined') {
    Math.clz32 = function (log, LN2) {
      return function (x) {
        var asUint = x >>> 0;
        if (asUint === 0) {
          return 32;
        }
        return 31 - (log(asUint) / LN2 | 0) | 0;
      };
    }(Math.log, Math.LN2);
  }
  if (typeof ArrayBuffer.isView === 'undefined') {
    ArrayBuffer.isView = function (a) {
      return a != null && a.__proto__ != null && a.__proto__.__proto__ === Int8Array.prototype.__proto__;
    };
  }
  if (typeof Array.prototype.fill === 'undefined') {
    Array.prototype.fill = function () {
      if (this == null) {
        throw new TypeError('this is null or not defined');
      }
      var O = Object(this);
      var len = O.length >>> 0;
      var start = arguments[1];
      var relativeStart = start >> 0;
      var k = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);
      var end = arguments[2];
      var relativeEnd = end === undefined ? len : end >> 0;
      var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);
      while (k < final) {
        O[k] = value;
        k++;
      }
      return O;
    };
  }
  (function () {
    function normalizeOffset(offset, length) {
      if (offset < 0)
        return Math.max(0, offset + length);
      return Math.min(offset, length);
    }
    function typedArraySlice(begin, end) {
      if (typeof end === 'undefined') {
        end = this.length;
      }
      begin = normalizeOffset(begin || 0, this.length);
      end = Math.max(begin, normalizeOffset(end, this.length));
      return new this.constructor(this.subarray(begin, end));
    }
    var arrays = [Int8Array, Int16Array, Uint16Array, Int32Array, Float32Array, Float64Array];
    for (var i = 0; i < arrays.length; ++i) {
      var TypedArray = arrays[i];
      if (typeof TypedArray.prototype.fill === 'undefined') {
        TypedArray.prototype.fill = Array.prototype.fill;
      }
      if (typeof TypedArray.prototype.slice === 'undefined') {
        Object.defineProperty(TypedArray.prototype, 'slice', {value: typedArraySlice});
      }
    }
    try {
      (function () {
      }.apply(null, new Int32Array(0)));
    }
     catch (e) {
      var apply = Function.prototype.apply;
      Object.defineProperty(Function.prototype, 'apply', {value: function (self, array) {
        return apply.call(this, self, [].slice.call(array));
      }});
    }
    for (var i = 0; i < arrays.length; ++i) {
      var TypedArray = arrays[i];
      if (typeof TypedArray.prototype.map === 'undefined') {
        Object.defineProperty(TypedArray.prototype, 'map', {value: function (callback, self) {
          return [].slice.call(this).map(callback, self);
        }});
      }
    }
    var totalOrderComparator = function (a, b) {
      if (a < b)
        return -1;
      if (a > b)
        return 1;
      if (a === b) {
        if (a !== 0)
          return 0;
        var ia = 1 / a;
        return ia === 1 / b ? 0 : ia < 0 ? -1 : 1;
      }
      return a !== a ? b !== b ? 0 : 1 : -1;
    };
    for (var i = 0; i < arrays.length; ++i) {
      var TypedArray = arrays[i];
      if (typeof TypedArray.prototype.sort === 'undefined') {
        Object.defineProperty(TypedArray.prototype, 'sort', {value: function (compareFunction) {
          return Array.prototype.sort.call(this, compareFunction || totalOrderComparator);
        }});
      }
    }
  }());
  Kotlin.Kind = {CLASS: 'class', INTERFACE: 'interface', OBJECT: 'object'};
  function isInheritanceFromInterface(ctor, iface) {
    if (ctor === iface)
      return true;
    var metadata = ctor.$metadata$;
    if (metadata != null) {
      var interfaces = metadata.interfaces;
      for (var i = 0; i < interfaces.length; i++) {
        if (isInheritanceFromInterface(interfaces[i], iface)) {
          return true;
        }
      }
    }
    var superPrototype = ctor.prototype != null ? Object.getPrototypeOf(ctor.prototype) : null;
    var superConstructor = superPrototype != null ? superPrototype.constructor : null;
    return superConstructor != null && isInheritanceFromInterface(superConstructor, iface);
  }
  Kotlin.isType = function (object, klass) {
    if (klass === Object) {
      switch (typeof object) {
        case 'string':
        case 'number':
        case 'boolean':
        case 'function':
          return true;
        default:return object instanceof Object;
      }
    }
    if (object == null || klass == null || (typeof object !== 'object' && typeof object !== 'function')) {
      return false;
    }
    if (typeof klass === 'function' && object instanceof klass) {
      return true;
    }
    var proto = Object.getPrototypeOf(klass);
    var constructor = proto != null ? proto.constructor : null;
    if (constructor != null && '$metadata$' in constructor) {
      var metadata = constructor.$metadata$;
      if (metadata.kind === Kotlin.Kind.OBJECT) {
        return object === klass;
      }
    }
    var klassMetadata = klass.$metadata$;
    if (klassMetadata == null) {
      return object instanceof klass;
    }
    if (klassMetadata.kind === Kotlin.Kind.INTERFACE && object.constructor != null) {
      return isInheritanceFromInterface(object.constructor, klass);
    }
    return false;
  };
  Kotlin.isNumber = function (a) {
    return typeof a == 'number' || a instanceof Kotlin.Long;
  };
  Kotlin.isChar = function (value) {
    return value instanceof Kotlin.BoxedChar;
  };
  Kotlin.isCharSequence = function (value) {
    return typeof value === 'string' || Kotlin.isType(value, Kotlin.kotlin.CharSequence);
  };
  (function () {
    'use strict';
    var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
    var Kind_OBJECT = Kotlin.Kind.OBJECT;
    var Kind_CLASS = Kotlin.Kind.CLASS;
    var defineInlineFunction = Kotlin.defineInlineFunction;
    var wrapFunction = Kotlin.wrapFunction;
    var equals = Kotlin.equals;
    var L0 = Kotlin.Long.ZERO;
    function Comparable() {
    }
    Comparable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Comparable', interfaces: []};
    function Enum() {
      Enum$Companion_getInstance();
      this.name$ = '';
      this.ordinal$ = 0;
    }
    Object.defineProperty(Enum.prototype, 'name', {get: function () {
      return this.name$;
    }});
    Object.defineProperty(Enum.prototype, 'ordinal', {get: function () {
      return this.ordinal$;
    }});
    Enum.prototype.compareTo_11rb$ = function (other) {
      return Kotlin.primitiveCompareTo(this.ordinal, other.ordinal);
    };
    Enum.prototype.equals = function (other) {
      return this === other;
    };
    Enum.prototype.hashCode = function () {
      return Kotlin.identityHashCode(this);
    };
    Enum.prototype.toString = function () {
      return this.name;
    };
    function Enum$Companion() {
      Enum$Companion_instance = this;
    }
    Enum$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var Enum$Companion_instance = null;
    function Enum$Companion_getInstance() {
      if (Enum$Companion_instance === null) {
        new Enum$Companion();
      }
      return Enum$Companion_instance;
    }
    Enum.$metadata$ = {kind: Kind_CLASS, simpleName: 'Enum', interfaces: [Comparable]};
    function newArray(size, initValue) {
      return fillArrayVal(Array(size), initValue);
    }
    function booleanArray(size, init) {
      var tmp$;
      var result = Array(size);
      result.$type$ = 'BooleanArray';
      if (init == null || equals(init, true))
        tmp$ = fillArrayVal(result, false);
      else if (equals(init, false))
        tmp$ = result;
      else {
        var tmp$_0;
        tmp$_0 = result.length - 1 | 0;
        for (var i = 0; i <= tmp$_0; i++) {
          result[i] = init(i);
        }
        tmp$ = result;
      }
      return tmp$;
    }
    function charArray(size, init) {
      var tmp$;
      var result = new Uint16Array(size);
      result.$type$ = 'CharArray';
      if (init == null || equals(init, true) || equals(init, false))
        tmp$ = result;
      else {
        var tmp$_0;
        tmp$_0 = result.length - 1 | 0;
        for (var i = 0; i <= tmp$_0; i++) {
          result[i] = init(i);
        }
        tmp$ = result;
      }
      return tmp$;
    }
    function fillArrayVal(array, initValue) {
      var tmp$;
      tmp$ = array.length - 1 | 0;
      for (var i = 0; i <= tmp$; i++) {
        array[i] = initValue;
      }
      return array;
    }
    function DoubleCompanionObject() {
      DoubleCompanionObject_instance = this;
      this.MIN_VALUE = Number.MIN_VALUE;
      this.MAX_VALUE = Number.MAX_VALUE;
      this.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;
      this.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;
      this.NaN = Number.NaN;
    }
    DoubleCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DoubleCompanionObject', interfaces: []};
    var DoubleCompanionObject_instance = null;
    function DoubleCompanionObject_getInstance() {
      if (DoubleCompanionObject_instance === null) {
        new DoubleCompanionObject();
      }
      return DoubleCompanionObject_instance;
    }
    function FloatCompanionObject() {
      FloatCompanionObject_instance = this;
      this.MIN_VALUE = Number.MIN_VALUE;
      this.MAX_VALUE = Number.MAX_VALUE;
      this.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;
      this.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;
      this.NaN = Number.NaN;
    }
    FloatCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FloatCompanionObject', interfaces: []};
    var FloatCompanionObject_instance = null;
    function FloatCompanionObject_getInstance() {
      if (FloatCompanionObject_instance === null) {
        new FloatCompanionObject();
      }
      return FloatCompanionObject_instance;
    }
    var IntCompanionObject_instance = null;
    var LongCompanionObject_instance = null;
    function ShortCompanionObject() {
      ShortCompanionObject_instance = this;
      this.MIN_VALUE = -32768 | 0;
      this.MAX_VALUE = 32767;
      this.SIZE_BYTES = 2;
      this.SIZE_BITS = 16;
    }
    ShortCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ShortCompanionObject', interfaces: []};
    var ShortCompanionObject_instance = null;
    function ShortCompanionObject_getInstance() {
      if (ShortCompanionObject_instance === null) {
        new ShortCompanionObject();
      }
      return ShortCompanionObject_instance;
    }
    function ByteCompanionObject() {
      ByteCompanionObject_instance = this;
      this.MIN_VALUE = -128 | 0;
      this.MAX_VALUE = 127;
      this.SIZE_BYTES = 1;
      this.SIZE_BITS = 8;
    }
    ByteCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ByteCompanionObject', interfaces: []};
    var ByteCompanionObject_instance = null;
    function ByteCompanionObject_getInstance() {
      if (ByteCompanionObject_instance === null) {
        new ByteCompanionObject();
      }
      return ByteCompanionObject_instance;
    }
    var CharCompanionObject_instance = null;
    var StringCompanionObject_instance = null;
    var BooleanCompanionObject_instance = null;
    var package$kotlin = _.kotlin || (_.kotlin = {});
    package$kotlin.Comparable = Comparable;
    Object.defineProperty(Enum, 'Companion', {get: Enum$Companion_getInstance});
    package$kotlin.Enum = Enum;
    _.newArray = newArray;
    _.booleanArray = booleanArray;
    _.charArray = charArray;
    var package$js = package$kotlin.js || (package$kotlin.js = {});
    var package$internal = package$js.internal || (package$js.internal = {});
    Object.defineProperty(package$internal, 'DoubleCompanionObject', {get: DoubleCompanionObject_getInstance});
    Object.defineProperty(package$internal, 'FloatCompanionObject', {get: FloatCompanionObject_getInstance});
    Object.defineProperty(package$internal, 'ShortCompanionObject', {get: ShortCompanionObject_getInstance});
    Object.defineProperty(package$internal, 'ByteCompanionObject', {get: ByteCompanionObject_getInstance});
  }());
  (function () {
    'use strict';
    var defineInlineFunction = Kotlin.defineInlineFunction;
    var wrapFunction = Kotlin.wrapFunction;
    var equals = Kotlin.equals;
    var toBoxedChar = Kotlin.toBoxedChar;
    var unboxChar = Kotlin.unboxChar;
    var kotlin_js_internal_DoubleCompanionObject = Kotlin.kotlin.js.internal.DoubleCompanionObject;
    var L0 = Kotlin.Long.ZERO;
    var Math_0 = Math;
    var Kind_CLASS = Kotlin.Kind.CLASS;
    var toChar = Kotlin.toChar;
    var L_1 = Kotlin.Long.NEG_ONE;
    var toByte = Kotlin.toByte;
    var L_128 = Kotlin.Long.fromInt(-128);
    var L127 = Kotlin.Long.fromInt(127);
    var kotlin_js_internal_ByteCompanionObject = Kotlin.kotlin.js.internal.ByteCompanionObject;
    var numberToInt = Kotlin.numberToInt;
    var L_2147483648 = Kotlin.Long.fromInt(-2147483648);
    var L2147483647 = Kotlin.Long.fromInt(2147483647);
    var Long$Companion$MIN_VALUE = Kotlin.Long.MIN_VALUE;
    var Long$Companion$MAX_VALUE = Kotlin.Long.MAX_VALUE;
    var toShort = Kotlin.toShort;
    var L_32768 = Kotlin.Long.fromInt(-32768);
    var L32767 = Kotlin.Long.fromInt(32767);
    var kotlin_js_internal_ShortCompanionObject = Kotlin.kotlin.js.internal.ShortCompanionObject;
    var toString = Kotlin.toString;
    var L255 = Kotlin.Long.fromInt(255);
    var L4294967295 = new Kotlin.Long(-1, 0);
    var L65535 = Kotlin.Long.fromInt(65535);
    var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
    var Any = Object;
    var Kind_OBJECT = Kotlin.Kind.OBJECT;
    var L1 = Kotlin.Long.ONE;
    var Enum = Kotlin.kotlin.Enum;
    var Comparable = Kotlin.kotlin.Comparable;
    var ensureNotNull = Kotlin.ensureNotNull;
    var throwCCE = Kotlin.throwCCE;
    var arrayToString = Kotlin.arrayToString;
    var hashCode = Kotlin.hashCode;
    var Throwable = Error;
    var kotlin_js_internal_FloatCompanionObject = Kotlin.kotlin.js.internal.FloatCompanionObject;
    var L_7390468764508069838 = new Kotlin.Long(-1478467534, -1720727600);
    var L8246714829545688274 = new Kotlin.Long(-888910638, 1920087921);
    var L3406603774387020532 = new Kotlin.Long(1993859828, 793161749);
    var L_9223372036854775807 = new Kotlin.Long(1, -2147483648);
    var L2047 = Kotlin.Long.fromInt(2047);
    CharProgressionIterator.prototype = Object.create(CharIterator.prototype);
    CharProgressionIterator.prototype.constructor = CharProgressionIterator;
    IntProgressionIterator.prototype = Object.create(IntIterator.prototype);
    IntProgressionIterator.prototype.constructor = IntProgressionIterator;
    LongProgressionIterator.prototype = Object.create(LongIterator.prototype);
    LongProgressionIterator.prototype.constructor = LongProgressionIterator;
    CharRange.prototype = Object.create(CharProgression.prototype);
    CharRange.prototype.constructor = CharRange;
    IntRange.prototype = Object.create(IntProgression.prototype);
    IntRange.prototype.constructor = IntRange;
    LongRange.prototype = Object.create(LongProgression.prototype);
    LongRange.prototype.constructor = LongRange;
    booleanArrayIterator$ObjectLiteral.prototype = Object.create(BooleanIterator.prototype);
    booleanArrayIterator$ObjectLiteral.prototype.constructor = booleanArrayIterator$ObjectLiteral;
    byteArrayIterator$ObjectLiteral.prototype = Object.create(ByteIterator.prototype);
    byteArrayIterator$ObjectLiteral.prototype.constructor = byteArrayIterator$ObjectLiteral;
    shortArrayIterator$ObjectLiteral.prototype = Object.create(ShortIterator.prototype);
    shortArrayIterator$ObjectLiteral.prototype.constructor = shortArrayIterator$ObjectLiteral;
    charArrayIterator$ObjectLiteral.prototype = Object.create(CharIterator.prototype);
    charArrayIterator$ObjectLiteral.prototype.constructor = charArrayIterator$ObjectLiteral;
    intArrayIterator$ObjectLiteral.prototype = Object.create(IntIterator.prototype);
    intArrayIterator$ObjectLiteral.prototype.constructor = intArrayIterator$ObjectLiteral;
    floatArrayIterator$ObjectLiteral.prototype = Object.create(FloatIterator.prototype);
    floatArrayIterator$ObjectLiteral.prototype.constructor = floatArrayIterator$ObjectLiteral;
    doubleArrayIterator$ObjectLiteral.prototype = Object.create(DoubleIterator.prototype);
    doubleArrayIterator$ObjectLiteral.prototype.constructor = doubleArrayIterator$ObjectLiteral;
    longArrayIterator$ObjectLiteral.prototype = Object.create(LongIterator.prototype);
    longArrayIterator$ObjectLiteral.prototype.constructor = longArrayIterator$ObjectLiteral;
    AbstractList.prototype = Object.create(AbstractCollection.prototype);
    AbstractList.prototype.constructor = AbstractList;
    AbstractMutableCollection.prototype = Object.create(AbstractCollection.prototype);
    AbstractMutableCollection.prototype.constructor = AbstractMutableCollection;
    AbstractMutableList$ListIteratorImpl.prototype = Object.create(AbstractMutableList$IteratorImpl.prototype);
    AbstractMutableList$ListIteratorImpl.prototype.constructor = AbstractMutableList$ListIteratorImpl;
    AbstractMutableList.prototype = Object.create(AbstractMutableCollection.prototype);
    AbstractMutableList.prototype.constructor = AbstractMutableList;
    AbstractMutableList$SubList.prototype = Object.create(AbstractMutableList.prototype);
    AbstractMutableList$SubList.prototype.constructor = AbstractMutableList$SubList;
    AbstractMutableSet.prototype = Object.create(AbstractMutableCollection.prototype);
    AbstractMutableSet.prototype.constructor = AbstractMutableSet;
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype = Object.create(AbstractMutableSet.prototype);
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.constructor = AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral;
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype = Object.create(AbstractMutableCollection.prototype);
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.constructor = AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral;
    AbstractMutableMap.prototype = Object.create(AbstractMap.prototype);
    AbstractMutableMap.prototype.constructor = AbstractMutableMap;
    ArrayList.prototype = Object.create(AbstractMutableList.prototype);
    ArrayList.prototype.constructor = ArrayList;
    HashMap$EntrySet.prototype = Object.create(AbstractMutableSet.prototype);
    HashMap$EntrySet.prototype.constructor = HashMap$EntrySet;
    HashMap.prototype = Object.create(AbstractMutableMap.prototype);
    HashMap.prototype.constructor = HashMap;
    HashSet.prototype = Object.create(AbstractMutableSet.prototype);
    HashSet.prototype.constructor = HashSet;
    LinkedHashMap$ChainEntry.prototype = Object.create(AbstractMutableMap$SimpleEntry.prototype);
    LinkedHashMap$ChainEntry.prototype.constructor = LinkedHashMap$ChainEntry;
    LinkedHashMap$EntrySet.prototype = Object.create(AbstractMutableSet.prototype);
    LinkedHashMap$EntrySet.prototype.constructor = LinkedHashMap$EntrySet;
    LinkedHashMap.prototype = Object.create(HashMap.prototype);
    LinkedHashMap.prototype.constructor = LinkedHashMap;
    LinkedHashSet.prototype = Object.create(HashSet.prototype);
    LinkedHashSet.prototype.constructor = LinkedHashSet;
    NodeJsOutput.prototype = Object.create(BaseOutput.prototype);
    NodeJsOutput.prototype.constructor = NodeJsOutput;
    BufferedOutput.prototype = Object.create(BaseOutput.prototype);
    BufferedOutput.prototype.constructor = BufferedOutput;
    BufferedOutputToConsoleLog.prototype = Object.create(BufferedOutput.prototype);
    BufferedOutputToConsoleLog.prototype.constructor = BufferedOutputToConsoleLog;
    Error_0.prototype = Object.create(Throwable.prototype);
    Error_0.prototype.constructor = Error_0;
    Exception.prototype = Object.create(Throwable.prototype);
    Exception.prototype.constructor = Exception;
    RuntimeException.prototype = Object.create(Exception.prototype);
    RuntimeException.prototype.constructor = RuntimeException;
    IllegalArgumentException.prototype = Object.create(RuntimeException.prototype);
    IllegalArgumentException.prototype.constructor = IllegalArgumentException;
    IllegalStateException.prototype = Object.create(RuntimeException.prototype);
    IllegalStateException.prototype.constructor = IllegalStateException;
    IndexOutOfBoundsException.prototype = Object.create(RuntimeException.prototype);
    IndexOutOfBoundsException.prototype.constructor = IndexOutOfBoundsException;
    UnsupportedOperationException.prototype = Object.create(RuntimeException.prototype);
    UnsupportedOperationException.prototype.constructor = UnsupportedOperationException;
    NumberFormatException.prototype = Object.create(IllegalArgumentException.prototype);
    NumberFormatException.prototype.constructor = NumberFormatException;
    NullPointerException.prototype = Object.create(RuntimeException.prototype);
    NullPointerException.prototype.constructor = NullPointerException;
    ClassCastException.prototype = Object.create(RuntimeException.prototype);
    ClassCastException.prototype.constructor = ClassCastException;
    NoSuchElementException.prototype = Object.create(RuntimeException.prototype);
    NoSuchElementException.prototype.constructor = NoSuchElementException;
    ArithmeticException.prototype = Object.create(RuntimeException.prototype);
    ArithmeticException.prototype.constructor = ArithmeticException;
    NoWhenBranchMatchedException.prototype = Object.create(RuntimeException.prototype);
    NoWhenBranchMatchedException.prototype.constructor = NoWhenBranchMatchedException;
    UninitializedPropertyAccessException.prototype = Object.create(RuntimeException.prototype);
    UninitializedPropertyAccessException.prototype.constructor = UninitializedPropertyAccessException;
    SimpleKClassImpl.prototype = Object.create(KClassImpl.prototype);
    SimpleKClassImpl.prototype.constructor = SimpleKClassImpl;
    PrimitiveKClassImpl.prototype = Object.create(KClassImpl.prototype);
    PrimitiveKClassImpl.prototype.constructor = PrimitiveKClassImpl;
    NothingKClassImpl.prototype = Object.create(KClassImpl.prototype);
    NothingKClassImpl.prototype.constructor = NothingKClassImpl;
    RegexOption.prototype = Object.create(Enum.prototype);
    RegexOption.prototype.constructor = RegexOption;
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype = Object.create(AbstractList.prototype);
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype.constructor = findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral;
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype = Object.create(AbstractCollection.prototype);
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype.constructor = findNext$ObjectLiteral$groups$ObjectLiteral;
    AbstractList$SubList.prototype = Object.create(AbstractList.prototype);
    AbstractList$SubList.prototype.constructor = AbstractList$SubList;
    AbstractList$ListIteratorImpl.prototype = Object.create(AbstractList$IteratorImpl.prototype);
    AbstractList$ListIteratorImpl.prototype.constructor = AbstractList$ListIteratorImpl;
    AbstractSet.prototype = Object.create(AbstractCollection.prototype);
    AbstractSet.prototype.constructor = AbstractSet;
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype = Object.create(AbstractSet.prototype);
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype.constructor = AbstractMap$get_AbstractMap$keys$ObjectLiteral;
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype = Object.create(AbstractCollection.prototype);
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype.constructor = AbstractMap$get_AbstractMap$values$ObjectLiteral;
    CoroutineSingletons.prototype = Object.create(Enum.prototype);
    CoroutineSingletons.prototype.constructor = CoroutineSingletons;
    iterator$ObjectLiteral.prototype = Object.create(CharIterator.prototype);
    iterator$ObjectLiteral.prototype.constructor = iterator$ObjectLiteral;
    NotImplementedError.prototype = Object.create(Error_0.prototype);
    NotImplementedError.prototype.constructor = NotImplementedError;
    function contains($receiver, element) {
      return indexOf($receiver, element) >= 0;
    }
    function contains_7($receiver, element) {
      return indexOf_7($receiver, element) >= 0;
    }
    function getOrNull($receiver, index) {
      return index >= 0 && index <= get_lastIndex($receiver) ? $receiver[index] : null;
    }
    function indexOf($receiver, element) {
      if (element == null) {
        for (var index = 0; index !== $receiver.length; ++index) {
          if ($receiver[index] == null) {
            return index;
          }
        }
      }
       else {
        for (var index_0 = 0; index_0 !== $receiver.length; ++index_0) {
          if (equals(element, $receiver[index_0])) {
            return index_0;
          }
        }
      }
      return -1;
    }
    function indexOf_7($receiver, element) {
      for (var index = 0; index !== $receiver.length; ++index) {
        if (element === $receiver[index]) {
          return index;
        }
      }
      return -1;
    }
    function lastIndexOf($receiver, element) {
      var tmp$, tmp$_0;
      if (element == null) {
        tmp$ = reversed_9(get_indices($receiver)).iterator();
        while (tmp$.hasNext()) {
          var index = tmp$.next();
          if ($receiver[index] == null) {
            return index;
          }
        }
      }
       else {
        tmp$_0 = reversed_9(get_indices($receiver)).iterator();
        while (tmp$_0.hasNext()) {
          var index_0 = tmp$_0.next();
          if (equals(element, $receiver[index_0])) {
            return index_0;
          }
        }
      }
      return -1;
    }
    function single_7($receiver) {
      var tmp$;
      switch ($receiver.length) {
        case 0:
          throw new NoSuchElementException('Array is empty.');
        case 1:
          tmp$ = $receiver[0];
          break;
        default:throw IllegalArgumentException_init_0('Array has more than one element.');
      }
      return tmp$;
    }
    function get_indices($receiver) {
      return new IntRange(0, get_lastIndex($receiver));
    }
    function get_lastIndex($receiver) {
      return $receiver.length - 1 | 0;
    }
    function toCollection($receiver, destination) {
      var tmp$;
      for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
        var item = $receiver[tmp$];
        destination.add_11rb$(item);
      }
      return destination;
    }
    function toList($receiver) {
      var tmp$;
      switch ($receiver.length) {
        case 0:
          tmp$ = emptyList();
          break;
        case 1:
          tmp$ = listOf($receiver[0]);
          break;
        default:tmp$ = toMutableList($receiver);
          break;
      }
      return tmp$;
    }
    function toMutableList($receiver) {
      return ArrayList_init_1(asCollection($receiver));
    }
    function toSet($receiver) {
      var tmp$;
      switch ($receiver.length) {
        case 0:
          tmp$ = emptySet();
          break;
        case 1:
          tmp$ = setOf($receiver[0]);
          break;
        default:tmp$ = toCollection($receiver, LinkedHashSet_init_3(mapCapacity($receiver.length)));
          break;
      }
      return tmp$;
    }
    function Sequence$ObjectLiteral_0(closure$iterator) {
      this.closure$iterator = closure$iterator;
    }
    Sequence$ObjectLiteral_0.prototype.iterator = function () {
      return this.closure$iterator();
    };
    Sequence$ObjectLiteral_0.$metadata$ = {kind: Kind_CLASS, interfaces: [Sequence]};
    function first_18($receiver) {
      if ($receiver.isEmpty())
        throw new NoSuchElementException('List is empty.');
      return $receiver.get_za3lpa$(0);
    }
    function getOrNull_8($receiver, index) {
      return index >= 0 && index <= get_lastIndex_12($receiver) ? $receiver.get_za3lpa$(index) : null;
    }
    function last_18($receiver) {
      if ($receiver.isEmpty())
        throw new NoSuchElementException('List is empty.');
      return $receiver.get_za3lpa$(get_lastIndex_12($receiver));
    }
    function lastOrNull_18($receiver) {
      return $receiver.isEmpty() ? null : $receiver.get_za3lpa$($receiver.size - 1 | 0);
    }
    function single_17($receiver) {
      if (Kotlin.isType($receiver, List))
        return single_18($receiver);
      else {
        var iterator = $receiver.iterator();
        if (!iterator.hasNext())
          throw new NoSuchElementException('Collection is empty.');
        var single = iterator.next();
        if (iterator.hasNext())
          throw IllegalArgumentException_init_0('Collection has more than one element.');
        return single;
      }
    }
    function single_18($receiver) {
      var tmp$;
      switch ($receiver.size) {
        case 0:
          throw new NoSuchElementException('List is empty.');
        case 1:
          tmp$ = $receiver.get_za3lpa$(0);
          break;
        default:throw IllegalArgumentException_init_0('List has more than one element.');
      }
      return tmp$;
    }
    function slice_17($receiver, indices) {
      if (indices.isEmpty()) {
        return emptyList();
      }
      return toList_8($receiver.subList_vux9f0$(indices.start, indices.endInclusive + 1 | 0));
    }
    function toCollection_8($receiver, destination) {
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item);
      }
      return destination;
    }
    function toList_8($receiver) {
      var tmp$;
      if (Kotlin.isType($receiver, Collection)) {
        switch ($receiver.size) {
          case 0:
            tmp$ = emptyList();
            break;
          case 1:
            tmp$ = listOf(Kotlin.isType($receiver, List) ? $receiver.get_za3lpa$(0) : $receiver.iterator().next());
            break;
          default:tmp$ = toMutableList_9($receiver);
            break;
        }
        return tmp$;
      }
      return optimizeReadOnlyList(toMutableList_8($receiver));
    }
    function toMutableList_8($receiver) {
      if (Kotlin.isType($receiver, Collection))
        return toMutableList_9($receiver);
      return toCollection_8($receiver, ArrayList_init());
    }
    function toMutableList_9($receiver) {
      return ArrayList_init_1($receiver);
    }
    function toSet_8($receiver) {
      var tmp$;
      if (Kotlin.isType($receiver, Collection)) {
        switch ($receiver.size) {
          case 0:
            tmp$ = emptySet();
            break;
          case 1:
            tmp$ = setOf(Kotlin.isType($receiver, List) ? $receiver.get_za3lpa$(0) : $receiver.iterator().next());
            break;
          default:tmp$ = toCollection_8($receiver, LinkedHashSet_init_3(mapCapacity($receiver.size)));
            break;
        }
        return tmp$;
      }
      return optimizeReadOnlySet(toCollection_8($receiver, LinkedHashSet_init_0()));
    }
    function min_11($receiver) {
      var iterator = $receiver.iterator();
      if (!iterator.hasNext())
        return null;
      var min = iterator.next();
      while (iterator.hasNext()) {
        var e = iterator.next();
        if (Kotlin.compareTo(min, e) > 0)
          min = e;
      }
      return min;
    }
    function joinTo_8($receiver, buffer, separator, prefix, postfix, limit, truncated, transform) {
      if (separator === void 0)
        separator = ', ';
      if (prefix === void 0)
        prefix = '';
      if (postfix === void 0)
        postfix = '';
      if (limit === void 0)
        limit = -1;
      if (truncated === void 0)
        truncated = '...';
      if (transform === void 0)
        transform = null;
      var tmp$;
      buffer.append_gw00v9$(prefix);
      var count = 0;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        if ((count = count + 1 | 0, count) > 1)
          buffer.append_gw00v9$(separator);
        if (limit < 0 || count <= limit) {
          appendElement_0(buffer, element, transform);
        }
         else
          break;
      }
      if (limit >= 0 && count > limit)
        buffer.append_gw00v9$(truncated);
      buffer.append_gw00v9$(postfix);
      return buffer;
    }
    function joinToString_8($receiver, separator, prefix, postfix, limit, truncated, transform) {
      if (separator === void 0)
        separator = ', ';
      if (prefix === void 0)
        prefix = '';
      if (postfix === void 0)
        postfix = '';
      if (limit === void 0)
        limit = -1;
      if (truncated === void 0)
        truncated = '...';
      if (transform === void 0)
        transform = null;
      return joinTo_8($receiver, StringBuilder_init_1(), separator, prefix, postfix, limit, truncated, transform).toString();
    }
    function asSequence$lambda_8(this$asSequence) {
      return function () {
        return this$asSequence.iterator();
      };
    }
    function asSequence_8($receiver) {
      return new Sequence$ObjectLiteral_0(asSequence$lambda_8($receiver));
    }
    function downTo_4($receiver, to) {
      return IntProgression$Companion_getInstance().fromClosedRange_qt1dr2$($receiver, to, -1);
    }
    function reversed_9($receiver) {
      return IntProgression$Companion_getInstance().fromClosedRange_qt1dr2$($receiver.last, $receiver.first, -$receiver.step | 0);
    }
    function until_4($receiver, to) {
      if (to <= -2147483648)
        return IntRange$Companion_getInstance().EMPTY;
      return new IntRange($receiver, to - 1 | 0);
    }
    function coerceAtLeast_2($receiver, minimumValue) {
      return $receiver < minimumValue ? minimumValue : $receiver;
    }
    function coerceAtMost_2($receiver, maximumValue) {
      return $receiver > maximumValue ? maximumValue : $receiver;
    }
    function coerceIn_2($receiver, minimumValue, maximumValue) {
      if (minimumValue > maximumValue)
        throw IllegalArgumentException_init_0('Cannot coerce value to an empty range: maximum ' + maximumValue + ' is less than minimum ' + minimumValue + '.');
      if ($receiver < minimumValue)
        return minimumValue;
      if ($receiver > maximumValue)
        return maximumValue;
      return $receiver;
    }
    function Iterable$ObjectLiteral_0(closure$iterator) {
      this.closure$iterator = closure$iterator;
    }
    Iterable$ObjectLiteral_0.prototype.iterator = function () {
      return this.closure$iterator();
    };
    Iterable$ObjectLiteral_0.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterable]};
    function take_9($receiver, n) {
      var tmp$;
      if (!(n >= 0)) {
        var message = 'Requested element count ' + n + ' is less than zero.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      if (n === 0)
        tmp$ = emptySequence();
      else if (Kotlin.isType($receiver, DropTakeSequence))
        tmp$ = $receiver.take_za3lpa$(n);
      else
        tmp$ = new TakeSequence($receiver, n);
      return tmp$;
    }
    function toCollection_9($receiver, destination) {
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item);
      }
      return destination;
    }
    function toList_10($receiver) {
      return optimizeReadOnlyList(toMutableList_10($receiver));
    }
    function toMutableList_10($receiver) {
      return toCollection_9($receiver, ArrayList_init());
    }
    function map_10($receiver, transform) {
      return new TransformingSequence($receiver, transform);
    }
    function asIterable$lambda_8(this$asIterable) {
      return function () {
        return this$asIterable.iterator();
      };
    }
    function asIterable_10($receiver) {
      return new Iterable$ObjectLiteral_0(asIterable$lambda_8($receiver));
    }
    function single_22($receiver) {
      var tmp$;
      switch ($receiver.length) {
        case 0:
          throw new NoSuchElementException('Char sequence is empty.');
        case 1:
          tmp$ = $receiver.charCodeAt(0);
          break;
        default:throw IllegalArgumentException_init_0('Char sequence has more than one element.');
      }
      return tmp$;
    }
    function drop_11($receiver, n) {
      if (!(n >= 0)) {
        var message = 'Requested character count ' + n + ' is less than zero.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      return $receiver.substring(coerceAtMost_2(n, $receiver.length));
    }
    var PI;
    var E;
    function CharSequence() {
    }
    CharSequence.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CharSequence', interfaces: []};
    function Iterable() {
    }
    Iterable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Iterable', interfaces: []};
    function MutableIterable() {
    }
    MutableIterable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableIterable', interfaces: [Iterable]};
    function Collection() {
    }
    Collection.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Collection', interfaces: [Iterable]};
    function MutableCollection() {
    }
    MutableCollection.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableCollection', interfaces: [MutableIterable, Collection]};
    function List() {
    }
    List.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'List', interfaces: [Collection]};
    function MutableList() {
    }
    MutableList.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableList', interfaces: [MutableCollection, List]};
    function Set() {
    }
    Set.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Set', interfaces: [Collection]};
    function MutableSet() {
    }
    MutableSet.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableSet', interfaces: [MutableCollection, Set]};
    function Map() {
    }
    Map.prototype.getOrDefault_xwzc9p$ = function (key, defaultValue) {
      var tmp$;
      return (tmp$ = null) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    };
    function Map$Entry() {
    }
    Map$Entry.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Entry', interfaces: []};
    Map.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Map', interfaces: []};
    function MutableMap() {
    }
    MutableMap.prototype.remove_xwzc9p$ = function (key, value) {
      return true;
    };
    function MutableMap$MutableEntry() {
    }
    MutableMap$MutableEntry.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableEntry', interfaces: [Map$Entry]};
    MutableMap.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableMap', interfaces: [Map]};
    function Function_0() {
    }
    Function_0.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Function', interfaces: []};
    function Iterator() {
    }
    Iterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Iterator', interfaces: []};
    function MutableIterator() {
    }
    MutableIterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableIterator', interfaces: [Iterator]};
    function ListIterator() {
    }
    ListIterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'ListIterator', interfaces: [Iterator]};
    function MutableListIterator() {
    }
    MutableListIterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableListIterator', interfaces: [MutableIterator, ListIterator]};
    function ByteIterator() {
    }
    ByteIterator.prototype.next = function () {
      return this.nextByte();
    };
    ByteIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'ByteIterator', interfaces: [Iterator]};
    function CharIterator() {
    }
    CharIterator.prototype.next = function () {
      return toBoxedChar(this.nextChar());
    };
    CharIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharIterator', interfaces: [Iterator]};
    function ShortIterator() {
    }
    ShortIterator.prototype.next = function () {
      return this.nextShort();
    };
    ShortIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'ShortIterator', interfaces: [Iterator]};
    function IntIterator() {
    }
    IntIterator.prototype.next = function () {
      return this.nextInt();
    };
    IntIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntIterator', interfaces: [Iterator]};
    function LongIterator() {
    }
    LongIterator.prototype.next = function () {
      return this.nextLong();
    };
    LongIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongIterator', interfaces: [Iterator]};
    function FloatIterator() {
    }
    FloatIterator.prototype.next = function () {
      return this.nextFloat();
    };
    FloatIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'FloatIterator', interfaces: [Iterator]};
    function DoubleIterator() {
    }
    DoubleIterator.prototype.next = function () {
      return this.nextDouble();
    };
    DoubleIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'DoubleIterator', interfaces: [Iterator]};
    function BooleanIterator() {
    }
    BooleanIterator.prototype.next = function () {
      return this.nextBoolean();
    };
    BooleanIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'BooleanIterator', interfaces: [Iterator]};
    function CharProgressionIterator(first, last, step) {
      CharIterator.call(this);
      this.step = step;
      this.finalElement_0 = last | 0;
      this.hasNext_0 = this.step > 0 ? first <= last : first >= last;
      this.next_0 = this.hasNext_0 ? first | 0 : this.finalElement_0;
    }
    CharProgressionIterator.prototype.hasNext = function () {
      return this.hasNext_0;
    };
    CharProgressionIterator.prototype.nextChar = function () {
      var value = this.next_0;
      if (value === this.finalElement_0) {
        if (!this.hasNext_0)
          throw NoSuchElementException_init();
        this.hasNext_0 = false;
      }
       else {
        this.next_0 = this.next_0 + this.step | 0;
      }
      return toChar(value);
    };
    CharProgressionIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharProgressionIterator', interfaces: [CharIterator]};
    function IntProgressionIterator(first, last, step) {
      IntIterator.call(this);
      this.step = step;
      this.finalElement_0 = last;
      this.hasNext_0 = this.step > 0 ? first <= last : first >= last;
      this.next_0 = this.hasNext_0 ? first : this.finalElement_0;
    }
    IntProgressionIterator.prototype.hasNext = function () {
      return this.hasNext_0;
    };
    IntProgressionIterator.prototype.nextInt = function () {
      var value = this.next_0;
      if (value === this.finalElement_0) {
        if (!this.hasNext_0)
          throw NoSuchElementException_init();
        this.hasNext_0 = false;
      }
       else {
        this.next_0 = this.next_0 + this.step | 0;
      }
      return value;
    };
    IntProgressionIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntProgressionIterator', interfaces: [IntIterator]};
    function LongProgressionIterator(first, last, step) {
      LongIterator.call(this);
      this.step = step;
      this.finalElement_0 = last;
      this.hasNext_0 = this.step.toNumber() > 0 ? first.compareTo_11rb$(last) <= 0 : first.compareTo_11rb$(last) >= 0;
      this.next_0 = this.hasNext_0 ? first : this.finalElement_0;
    }
    LongProgressionIterator.prototype.hasNext = function () {
      return this.hasNext_0;
    };
    LongProgressionIterator.prototype.nextLong = function () {
      var value = this.next_0;
      if (equals(value, this.finalElement_0)) {
        if (!this.hasNext_0)
          throw NoSuchElementException_init();
        this.hasNext_0 = false;
      }
       else {
        this.next_0 = this.next_0.add(this.step);
      }
      return value;
    };
    LongProgressionIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongProgressionIterator', interfaces: [LongIterator]};
    function CharProgression(start, endInclusive, step) {
      CharProgression$Companion_getInstance();
      if (step === 0)
        throw IllegalArgumentException_init_0('Step must be non-zero.');
      if (step === -2147483648)
        throw IllegalArgumentException_init_0('Step must be greater than Int.MIN_VALUE to avoid overflow on negation.');
      this.first = start;
      this.last = toChar(getProgressionLastElement(start | 0, endInclusive | 0, step));
      this.step = step;
    }
    CharProgression.prototype.iterator = function () {
      return new CharProgressionIterator(this.first, this.last, this.step);
    };
    CharProgression.prototype.isEmpty = function () {
      return this.step > 0 ? this.first > this.last : this.first < this.last;
    };
    CharProgression.prototype.equals = function (other) {
      return Kotlin.isType(other, CharProgression) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last && this.step === other.step));
    };
    CharProgression.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * ((31 * (this.first | 0) | 0) + (this.last | 0) | 0) | 0) + this.step | 0;
    };
    CharProgression.prototype.toString = function () {
      return this.step > 0 ? String.fromCharCode(this.first) + '..' + String.fromCharCode(this.last) + ' step ' + this.step : String.fromCharCode(this.first) + ' downTo ' + String.fromCharCode(this.last) + ' step ' + (-this.step | 0);
    };
    function CharProgression$Companion() {
      CharProgression$Companion_instance = this;
    }
    CharProgression$Companion.prototype.fromClosedRange_ayra44$ = function (rangeStart, rangeEnd, step) {
      return new CharProgression(rangeStart, rangeEnd, step);
    };
    CharProgression$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var CharProgression$Companion_instance = null;
    function CharProgression$Companion_getInstance() {
      if (CharProgression$Companion_instance === null) {
        new CharProgression$Companion();
      }
      return CharProgression$Companion_instance;
    }
    CharProgression.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharProgression', interfaces: [Iterable]};
    function IntProgression(start, endInclusive, step) {
      IntProgression$Companion_getInstance();
      if (step === 0)
        throw IllegalArgumentException_init_0('Step must be non-zero.');
      if (step === -2147483648)
        throw IllegalArgumentException_init_0('Step must be greater than Int.MIN_VALUE to avoid overflow on negation.');
      this.first = start;
      this.last = getProgressionLastElement(start, endInclusive, step);
      this.step = step;
    }
    IntProgression.prototype.iterator = function () {
      return new IntProgressionIterator(this.first, this.last, this.step);
    };
    IntProgression.prototype.isEmpty = function () {
      return this.step > 0 ? this.first > this.last : this.first < this.last;
    };
    IntProgression.prototype.equals = function (other) {
      return Kotlin.isType(other, IntProgression) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last && this.step === other.step));
    };
    IntProgression.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * ((31 * this.first | 0) + this.last | 0) | 0) + this.step | 0;
    };
    IntProgression.prototype.toString = function () {
      return this.step > 0 ? this.first.toString() + '..' + this.last + ' step ' + this.step : this.first.toString() + ' downTo ' + this.last + ' step ' + (-this.step | 0);
    };
    function IntProgression$Companion() {
      IntProgression$Companion_instance = this;
    }
    IntProgression$Companion.prototype.fromClosedRange_qt1dr2$ = function (rangeStart, rangeEnd, step) {
      return new IntProgression(rangeStart, rangeEnd, step);
    };
    IntProgression$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var IntProgression$Companion_instance = null;
    function IntProgression$Companion_getInstance() {
      if (IntProgression$Companion_instance === null) {
        new IntProgression$Companion();
      }
      return IntProgression$Companion_instance;
    }
    IntProgression.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntProgression', interfaces: [Iterable]};
    function LongProgression(start, endInclusive, step) {
      LongProgression$Companion_getInstance();
      if (equals(step, L0))
        throw IllegalArgumentException_init_0('Step must be non-zero.');
      if (equals(step, Long$Companion$MIN_VALUE))
        throw IllegalArgumentException_init_0('Step must be greater than Long.MIN_VALUE to avoid overflow on negation.');
      this.first = start;
      this.last = getProgressionLastElement_0(start, endInclusive, step);
      this.step = step;
    }
    LongProgression.prototype.iterator = function () {
      return new LongProgressionIterator(this.first, this.last, this.step);
    };
    LongProgression.prototype.isEmpty = function () {
      return this.step.toNumber() > 0 ? this.first.compareTo_11rb$(this.last) > 0 : this.first.compareTo_11rb$(this.last) < 0;
    };
    LongProgression.prototype.equals = function (other) {
      return Kotlin.isType(other, LongProgression) && (this.isEmpty() && other.isEmpty() || (equals(this.first, other.first) && equals(this.last, other.last) && equals(this.step, other.step)));
    };
    LongProgression.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : Kotlin.Long.fromInt(31).multiply(Kotlin.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32)))).add(this.step.xor(this.step.shiftRightUnsigned(32))).toInt();
    };
    LongProgression.prototype.toString = function () {
      return this.step.toNumber() > 0 ? this.first.toString() + '..' + this.last.toString() + ' step ' + this.step.toString() : this.first.toString() + ' downTo ' + this.last.toString() + ' step ' + this.step.unaryMinus().toString();
    };
    function LongProgression$Companion() {
      LongProgression$Companion_instance = this;
    }
    LongProgression$Companion.prototype.fromClosedRange_b9bd0d$ = function (rangeStart, rangeEnd, step) {
      return new LongProgression(rangeStart, rangeEnd, step);
    };
    LongProgression$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var LongProgression$Companion_instance = null;
    function LongProgression$Companion_getInstance() {
      if (LongProgression$Companion_instance === null) {
        new LongProgression$Companion();
      }
      return LongProgression$Companion_instance;
    }
    LongProgression.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongProgression', interfaces: [Iterable]};
    function ClosedRange() {
    }
    ClosedRange.prototype.contains_mef7kx$ = function (value) {
      return Kotlin.compareTo(value, this.start) >= 0 && Kotlin.compareTo(value, this.endInclusive) <= 0;
    };
    ClosedRange.prototype.isEmpty = function () {
      return Kotlin.compareTo(this.start, this.endInclusive) > 0;
    };
    ClosedRange.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'ClosedRange', interfaces: []};
    function CharRange(start, endInclusive) {
      CharRange$Companion_getInstance();
      CharProgression.call(this, start, endInclusive, 1);
    }
    Object.defineProperty(CharRange.prototype, 'start', {get: function () {
      return toBoxedChar(this.first);
    }});
    Object.defineProperty(CharRange.prototype, 'endInclusive', {get: function () {
      return toBoxedChar(this.last);
    }});
    CharRange.prototype.contains_mef7kx$ = function (value) {
      return this.first <= value && value <= this.last;
    };
    CharRange.prototype.isEmpty = function () {
      return this.first > this.last;
    };
    CharRange.prototype.equals = function (other) {
      return Kotlin.isType(other, CharRange) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last));
    };
    CharRange.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * (this.first | 0) | 0) + (this.last | 0) | 0;
    };
    CharRange.prototype.toString = function () {
      return String.fromCharCode(this.first) + '..' + String.fromCharCode(this.last);
    };
    function CharRange$Companion() {
      CharRange$Companion_instance = this;
      this.EMPTY = new CharRange(toChar(1), toChar(0));
    }
    CharRange$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var CharRange$Companion_instance = null;
    function CharRange$Companion_getInstance() {
      if (CharRange$Companion_instance === null) {
        new CharRange$Companion();
      }
      return CharRange$Companion_instance;
    }
    CharRange.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharRange', interfaces: [ClosedRange, CharProgression]};
    function IntRange(start, endInclusive) {
      IntRange$Companion_getInstance();
      IntProgression.call(this, start, endInclusive, 1);
    }
    Object.defineProperty(IntRange.prototype, 'start', {get: function () {
      return this.first;
    }});
    Object.defineProperty(IntRange.prototype, 'endInclusive', {get: function () {
      return this.last;
    }});
    IntRange.prototype.contains_mef7kx$ = function (value) {
      return this.first <= value && value <= this.last;
    };
    IntRange.prototype.isEmpty = function () {
      return this.first > this.last;
    };
    IntRange.prototype.equals = function (other) {
      return Kotlin.isType(other, IntRange) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last));
    };
    IntRange.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * this.first | 0) + this.last | 0;
    };
    IntRange.prototype.toString = function () {
      return this.first.toString() + '..' + this.last;
    };
    function IntRange$Companion() {
      IntRange$Companion_instance = this;
      this.EMPTY = new IntRange(1, 0);
    }
    IntRange$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var IntRange$Companion_instance = null;
    function IntRange$Companion_getInstance() {
      if (IntRange$Companion_instance === null) {
        new IntRange$Companion();
      }
      return IntRange$Companion_instance;
    }
    IntRange.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntRange', interfaces: [ClosedRange, IntProgression]};
    function LongRange(start, endInclusive) {
      LongRange$Companion_getInstance();
      LongProgression.call(this, start, endInclusive, L1);
    }
    Object.defineProperty(LongRange.prototype, 'start', {get: function () {
      return this.first;
    }});
    Object.defineProperty(LongRange.prototype, 'endInclusive', {get: function () {
      return this.last;
    }});
    LongRange.prototype.contains_mef7kx$ = function (value) {
      return this.first.compareTo_11rb$(value) <= 0 && value.compareTo_11rb$(this.last) <= 0;
    };
    LongRange.prototype.isEmpty = function () {
      return this.first.compareTo_11rb$(this.last) > 0;
    };
    LongRange.prototype.equals = function (other) {
      return Kotlin.isType(other, LongRange) && (this.isEmpty() && other.isEmpty() || (equals(this.first, other.first) && equals(this.last, other.last)));
    };
    LongRange.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : Kotlin.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32))).toInt();
    };
    LongRange.prototype.toString = function () {
      return this.first.toString() + '..' + this.last.toString();
    };
    function LongRange$Companion() {
      LongRange$Companion_instance = this;
      this.EMPTY = new LongRange(L1, L0);
    }
    LongRange$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var LongRange$Companion_instance = null;
    function LongRange$Companion_getInstance() {
      if (LongRange$Companion_instance === null) {
        new LongRange$Companion();
      }
      return LongRange$Companion_instance;
    }
    LongRange.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongRange', interfaces: [ClosedRange, LongProgression]};
    function Unit() {
      Unit_instance = this;
    }
    Unit.prototype.toString = function () {
      return 'kotlin.Unit';
    };
    Unit.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Unit', interfaces: []};
    var Unit_instance = null;
    function Unit_getInstance() {
      if (Unit_instance === null) {
        new Unit();
      }
      return Unit_instance;
    }
    var AnnotationTarget$CLASS_instance;
    var AnnotationTarget$ANNOTATION_CLASS_instance;
    var AnnotationTarget$TYPE_PARAMETER_instance;
    var AnnotationTarget$PROPERTY_instance;
    var AnnotationTarget$FIELD_instance;
    var AnnotationTarget$LOCAL_VARIABLE_instance;
    var AnnotationTarget$VALUE_PARAMETER_instance;
    var AnnotationTarget$CONSTRUCTOR_instance;
    var AnnotationTarget$FUNCTION_instance;
    var AnnotationTarget$PROPERTY_GETTER_instance;
    var AnnotationTarget$PROPERTY_SETTER_instance;
    var AnnotationTarget$TYPE_instance;
    var AnnotationTarget$EXPRESSION_instance;
    var AnnotationTarget$FILE_instance;
    var AnnotationTarget$TYPEALIAS_instance;
    var AnnotationRetention$SOURCE_instance;
    var AnnotationRetention$BINARY_instance;
    var AnnotationRetention$RUNTIME_instance;
    function mod(a, b) {
      var mod = a % b;
      return mod >= 0 ? mod : mod + b | 0;
    }
    function mod_0(a, b) {
      var mod = a.modulo(b);
      return mod.toNumber() >= 0 ? mod : mod.add(b);
    }
    function differenceModulo(a, b, c) {
      return mod(mod(a, c) - mod(b, c) | 0, c);
    }
    function differenceModulo_0(a, b, c) {
      return mod_0(mod_0(a, c).subtract(mod_0(b, c)), c);
    }
    function getProgressionLastElement(start, end, step) {
      if (step > 0)
        return start >= end ? end : end - differenceModulo(end, start, step) | 0;
      else if (step < 0)
        return start <= end ? end : end + differenceModulo(start, end, -step | 0) | 0;
      else
        throw IllegalArgumentException_init_0('Step is zero.');
    }
    function getProgressionLastElement_0(start, end, step) {
      if (step.toNumber() > 0)
        return start.compareTo_11rb$(end) >= 0 ? end : end.subtract(differenceModulo_0(end, start, step));
      else if (step.toNumber() < 0)
        return start.compareTo_11rb$(end) <= 0 ? end : end.add(differenceModulo_0(start, end, step.unaryMinus()));
      else
        throw IllegalArgumentException_init_0('Step is zero.');
    }
    function KAnnotatedElement() {
    }
    KAnnotatedElement.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KAnnotatedElement', interfaces: []};
    function KCallable() {
    }
    KCallable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KCallable', interfaces: [KAnnotatedElement]};
    function KClass() {
    }
    KClass.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KClass', interfaces: [KClassifier, KAnnotatedElement, KDeclarationContainer]};
    function KClassifier() {
    }
    KClassifier.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KClassifier', interfaces: []};
    function KDeclarationContainer() {
    }
    KDeclarationContainer.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KDeclarationContainer', interfaces: []};
    function KFunction() {
    }
    KFunction.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KFunction', interfaces: [Function_0, KCallable]};
    var KParameter$Kind$INSTANCE_instance;
    var KParameter$Kind$EXTENSION_RECEIVER_instance;
    var KParameter$Kind$VALUE_instance;
    function KProperty() {
    }
    function KProperty$Accessor() {
    }
    KProperty$Accessor.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Accessor', interfaces: []};
    function KProperty$Getter() {
    }
    KProperty$Getter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Getter', interfaces: [KFunction, KProperty$Accessor]};
    KProperty.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KProperty', interfaces: [KCallable]};
    function KMutableProperty() {
    }
    function KMutableProperty$Setter() {
    }
    KMutableProperty$Setter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Setter', interfaces: [KFunction, KProperty$Accessor]};
    KMutableProperty.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KMutableProperty', interfaces: [KProperty]};
    function KProperty0() {
    }
    function KProperty0$Getter() {
    }
    KProperty0$Getter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Getter', interfaces: [KProperty$Getter]};
    KProperty0.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KProperty0', interfaces: [KProperty]};
    function KMutableProperty0() {
    }
    function KMutableProperty0$Setter() {
    }
    KMutableProperty0$Setter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Setter', interfaces: [KMutableProperty$Setter]};
    KMutableProperty0.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KMutableProperty0', interfaces: [KMutableProperty, KProperty0]};
    function KProperty1() {
    }
    function KProperty1$Getter() {
    }
    KProperty1$Getter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Getter', interfaces: [KProperty$Getter]};
    KProperty1.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KProperty1', interfaces: [KProperty]};
    function KMutableProperty1() {
    }
    function KMutableProperty1$Setter() {
    }
    KMutableProperty1$Setter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Setter', interfaces: [KMutableProperty$Setter]};
    KMutableProperty1.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KMutableProperty1', interfaces: [KMutableProperty, KProperty1]};
    var KTypeProjection$Companion_instance = null;
    var KVariance$INVARIANT_instance;
    var KVariance$IN_instance;
    var KVariance$OUT_instance;
    var KVisibility$PUBLIC_instance;
    var KVisibility$PROTECTED_instance;
    var KVisibility$INTERNAL_instance;
    var KVisibility$PRIVATE_instance;
    function arrayIterator$ObjectLiteral(closure$arr) {
      this.closure$arr = closure$arr;
      this.index = 0;
    }
    arrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$arr.length;
    };
    arrayIterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (this.index < this.closure$arr.length) {
        return this.closure$arr[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    arrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    function arrayIterator(array, type) {
      if (type == null) {
        var arr = array;
        return new arrayIterator$ObjectLiteral(arr);
      }
       else
        switch (type) {
          case 'BooleanArray':
            return booleanArrayIterator(array);
          case 'ByteArray':
            return byteArrayIterator(array);
          case 'ShortArray':
            return shortArrayIterator(array);
          case 'CharArray':
            return charArrayIterator(array);
          case 'IntArray':
            return intArrayIterator(array);
          case 'LongArray':
            return longArrayIterator(array);
          case 'FloatArray':
            return floatArrayIterator(array);
          case 'DoubleArray':
            return doubleArrayIterator(array);
          default:throw IllegalStateException_init_0('Unsupported type argument for arrayIterator: ' + toString(type));
        }
    }
    function booleanArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      BooleanIterator.call(this);
      this.index = 0;
    }
    booleanArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    booleanArrayIterator$ObjectLiteral.prototype.nextBoolean = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    booleanArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [BooleanIterator]};
    function booleanArrayIterator(array) {
      return new booleanArrayIterator$ObjectLiteral(array);
    }
    function byteArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      ByteIterator.call(this);
      this.index = 0;
    }
    byteArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    byteArrayIterator$ObjectLiteral.prototype.nextByte = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    byteArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [ByteIterator]};
    function byteArrayIterator(array) {
      return new byteArrayIterator$ObjectLiteral(array);
    }
    function shortArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      ShortIterator.call(this);
      this.index = 0;
    }
    shortArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    shortArrayIterator$ObjectLiteral.prototype.nextShort = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    shortArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [ShortIterator]};
    function shortArrayIterator(array) {
      return new shortArrayIterator$ObjectLiteral(array);
    }
    function charArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      CharIterator.call(this);
      this.index = 0;
    }
    charArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    charArrayIterator$ObjectLiteral.prototype.nextChar = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    charArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [CharIterator]};
    function charArrayIterator(array) {
      return new charArrayIterator$ObjectLiteral(array);
    }
    function intArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      IntIterator.call(this);
      this.index = 0;
    }
    intArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    intArrayIterator$ObjectLiteral.prototype.nextInt = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    intArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [IntIterator]};
    function intArrayIterator(array) {
      return new intArrayIterator$ObjectLiteral(array);
    }
    function floatArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      FloatIterator.call(this);
      this.index = 0;
    }
    floatArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    floatArrayIterator$ObjectLiteral.prototype.nextFloat = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    floatArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [FloatIterator]};
    function floatArrayIterator(array) {
      return new floatArrayIterator$ObjectLiteral(array);
    }
    function doubleArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      DoubleIterator.call(this);
      this.index = 0;
    }
    doubleArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    doubleArrayIterator$ObjectLiteral.prototype.nextDouble = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    doubleArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [DoubleIterator]};
    function doubleArrayIterator(array) {
      return new doubleArrayIterator$ObjectLiteral(array);
    }
    function longArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      LongIterator.call(this);
      this.index = 0;
    }
    longArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    longArrayIterator$ObjectLiteral.prototype.nextLong = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    longArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [LongIterator]};
    function longArrayIterator(array) {
      return new longArrayIterator$ObjectLiteral(array);
    }
    function noWhenBranchMatched() {
      throw NoWhenBranchMatchedException_init();
    }
    function subSequence(c, startIndex, endIndex) {
      if (typeof c === 'string') {
        return c.substring(startIndex, endIndex);
      }
       else {
        return c.subSequence_vux9f0$(startIndex, endIndex);
      }
    }
    function captureStack(baseClass, instance) {
      if (Error.captureStackTrace) {
        Error.captureStackTrace(instance, get_js(Kotlin.getKClassFromExpression(instance)));
      }
       else {
        instance.stack = (new Error()).stack;
      }
    }
    function BoxedChar(c) {
      this.c = c;
    }
    BoxedChar.prototype.equals = function (other) {
      return Kotlin.isType(other, BoxedChar) && this.c === other.c;
    };
    BoxedChar.prototype.hashCode = function () {
      return this.c;
    };
    BoxedChar.prototype.toString = function () {
      return String.fromCharCode(unboxChar(this.c));
    };
    BoxedChar.prototype.compareTo_11rb$ = function (other) {
      return this.c - other;
    };
    BoxedChar.prototype.valueOf = function () {
      return this.c;
    };
    BoxedChar.$metadata$ = {kind: Kind_CLASS, simpleName: 'BoxedChar', interfaces: [Comparable]};
    function charArrayOf() {
      var type = 'CharArray';
      var array = new Uint16Array([].slice.call(arguments));
      array.$type$ = type;
      return array;
    }
    function CoroutineImpl(resultContinuation) {
      this.resultContinuation_0 = resultContinuation;
      this.state_0 = 0;
      this.exceptionState_0 = 0;
      this.result_0 = null;
      this.exception_0 = null;
      this.finallyPath_0 = null;
      this.context_hxcuhl$_0 = this.resultContinuation_0.context;
      this.intercepted__0 = null;
    }
    Object.defineProperty(CoroutineImpl.prototype, 'context', {get: function () {
      return this.context_hxcuhl$_0;
    }});
    CoroutineImpl.prototype.intercepted = function () {
      var tmp$, tmp$_0, tmp$_1;
      var tmp$_2;
      if ((tmp$_1 = this.intercepted__0) != null)
        tmp$_2 = tmp$_1;
      else {
        var $receiver = (tmp$_0 = (tmp$ = this.context.get_j3r2sn$(ContinuationInterceptor$Key_getInstance())) != null ? tmp$.interceptContinuation_wj8d80$(this) : null) != null ? tmp$_0 : this;
        this.intercepted__0 = $receiver;
        tmp$_2 = $receiver;
      }
      return tmp$_2;
    };
    CoroutineImpl.prototype.resumeWith_tl1gpc$ = function (result) {
      var current = {v: this};
      var getOrNull$result;
      var tmp$;
      if (result.isFailure) {
        getOrNull$result = null;
      }
       else {
        getOrNull$result = (tmp$ = result.value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      }
      var currentResult = {v: getOrNull$result};
      var currentException = {v: result.exceptionOrNull()};
      while (true) {
        var $receiver = current.v;
        var tmp$_0;
        var completion = $receiver.resultContinuation_0;
        if (currentException.v == null) {
          $receiver.result_0 = currentResult.v;
        }
         else {
          $receiver.state_0 = $receiver.exceptionState_0;
          $receiver.exception_0 = currentException.v;
        }
        try {
          var outcome = $receiver.doResume();
          if (outcome === get_COROUTINE_SUSPENDED())
            return;
          currentResult.v = outcome;
          currentException.v = null;
        }
         catch (exception) {
          currentResult.v = null;
          currentException.v = exception;
        }
        $receiver.releaseIntercepted_0();
        if (Kotlin.isType(completion, CoroutineImpl)) {
          current.v = completion;
        }
         else {
          var tmp$_1;
          if ((tmp$_0 = currentException.v) != null) {
            completion.resumeWith_tl1gpc$(new Result(createFailure(tmp$_0)));
            tmp$_1 = Unit;
          }
           else
            tmp$_1 = null;
          if (tmp$_1 == null) {
            completion.resumeWith_tl1gpc$(new Result(currentResult.v));
          }
          return;
        }
      }
    };
    CoroutineImpl.prototype.releaseIntercepted_0 = function () {
      var intercepted = this.intercepted__0;
      if (intercepted != null && intercepted !== this) {
        ensureNotNull(this.context.get_j3r2sn$(ContinuationInterceptor$Key_getInstance())).releaseInterceptedContinuation_k98bjh$(intercepted);
      }
      this.intercepted__0 = CompletedContinuation_getInstance();
    };
    CoroutineImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'CoroutineImpl', interfaces: [Continuation]};
    function CompletedContinuation() {
      CompletedContinuation_instance = this;
    }
    Object.defineProperty(CompletedContinuation.prototype, 'context', {get: function () {
      throw IllegalStateException_init_0('This continuation is already complete'.toString());
    }});
    CompletedContinuation.prototype.resumeWith_tl1gpc$ = function (result) {
      throw IllegalStateException_init_0('This continuation is already complete'.toString());
    };
    CompletedContinuation.prototype.toString = function () {
      return 'This continuation is already complete';
    };
    CompletedContinuation.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CompletedContinuation', interfaces: [Continuation]};
    var CompletedContinuation_instance = null;
    function CompletedContinuation_getInstance() {
      if (CompletedContinuation_instance === null) {
        new CompletedContinuation();
      }
      return CompletedContinuation_instance;
    }
    function intercepted($receiver) {
      var tmp$, tmp$_0, tmp$_1;
      return (tmp$_1 = (tmp$_0 = Kotlin.isType(tmp$ = $receiver, CoroutineImpl) ? tmp$ : null) != null ? tmp$_0.intercepted() : null) != null ? tmp$_1 : $receiver;
    }
    function lazy(initializer) {
      return new UnsafeLazyImpl(initializer);
    }
    function fillFrom(src, dst) {
      var tmp$;
      var srcLen = src.length;
      var dstLen = dst.length;
      var index = 0;
      while (index < srcLen && index < dstLen) {
        dst[index] = src[tmp$ = index, index = tmp$ + 1 | 0, tmp$];
      }
      return dst;
    }
    function arrayCopyResize(source, newSize, defaultValue) {
      var tmp$;
      var result = source.slice(0, newSize);
      if (source.$type$ !== undefined) {
        result.$type$ = source.$type$;
      }
      var index = source.length;
      if (newSize > index) {
        result.length = newSize;
        while (index < newSize) {
          result[tmp$ = index, index = tmp$ + 1 | 0, tmp$] = defaultValue;
        }
      }
      return result;
    }
    function asList($receiver) {
      return new ArrayList($receiver);
    }
    function copyOf_22($receiver, newSize) {
      if (!(newSize >= 0)) {
        var message = 'Invalid new array size: ' + newSize + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var type = 'BooleanArray';
      var array = arrayCopyResize($receiver, newSize, false);
      array.$type$ = type;
      return array;
    }
    function copyOf_23($receiver, newSize) {
      if (!(newSize >= 0)) {
        var message = 'Invalid new array size: ' + newSize + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var type = 'CharArray';
      var array = fillFrom($receiver, Kotlin.charArray(newSize));
      array.$type$ = type;
      return array;
    }
    function copyOfRange_3($receiver, fromIndex, toIndex) {
      AbstractList$Companion_getInstance().checkRangeIndexes_cub51b$(fromIndex, toIndex, $receiver.length);
      return $receiver.slice(fromIndex, toIndex);
    }
    function Comparator() {
    }
    Comparator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Comparator', interfaces: []};
    function copyToArray(collection) {
      return collection.toArray !== undefined ? collection.toArray() : copyToArrayImpl(collection);
    }
    function copyToArrayImpl(collection) {
      var array = [];
      var iterator = collection.iterator();
      while (iterator.hasNext())
        array.push(iterator.next());
      return array;
    }
    function copyToArrayImpl_0(collection, array) {
      var tmp$;
      if (array.length < collection.size) {
        return copyToArrayImpl(collection);
      }
      var iterator = collection.iterator();
      var index = 0;
      while (iterator.hasNext()) {
        array[tmp$ = index, index = tmp$ + 1 | 0, tmp$] = iterator.next();
      }
      if (index < array.length) {
        array[index] = null;
      }
      return array;
    }
    function listOf(element) {
      return arrayListOf_0([element]);
    }
    function setOf(element) {
      return hashSetOf_0([element]);
    }
    function checkIndexOverflow(index) {
      if (index < 0) {
        throwIndexOverflow();
      }
      return index;
    }
    function AbstractMutableCollection() {
      AbstractCollection.call(this);
    }
    AbstractMutableCollection.prototype.remove_11rb$ = function (element) {
      var iterator = this.iterator();
      while (iterator.hasNext()) {
        if (equals(iterator.next(), element)) {
          iterator.remove();
          return true;
        }
      }
      return false;
    };
    AbstractMutableCollection.prototype.addAll_brywnq$ = function (elements) {
      var tmp$;
      var modified = false;
      tmp$ = elements.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        if (this.add_11rb$(element))
          modified = true;
      }
      return modified;
    };
    function AbstractMutableCollection$removeAll$lambda(closure$elements) {
      return function (it) {
        return closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableCollection.prototype.removeAll_brywnq$ = function (elements) {
      var tmp$;
      return removeAll_0(Kotlin.isType(tmp$ = this, MutableIterable) ? tmp$ : throwCCE_0(), AbstractMutableCollection$removeAll$lambda(elements));
    };
    function AbstractMutableCollection$retainAll$lambda(closure$elements) {
      return function (it) {
        return !closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableCollection.prototype.retainAll_brywnq$ = function (elements) {
      var tmp$;
      return removeAll_0(Kotlin.isType(tmp$ = this, MutableIterable) ? tmp$ : throwCCE_0(), AbstractMutableCollection$retainAll$lambda(elements));
    };
    AbstractMutableCollection.prototype.clear = function () {
      var iterator = this.iterator();
      while (iterator.hasNext()) {
        iterator.next();
        iterator.remove();
      }
    };
    AbstractMutableCollection.prototype.toJSON = function () {
      return this.toArray();
    };
    AbstractMutableCollection.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableCollection', interfaces: [MutableCollection, AbstractCollection]};
    function AbstractMutableList() {
      AbstractMutableCollection.call(this);
      this.modCount = 0;
    }
    AbstractMutableList.prototype.add_11rb$ = function (element) {
      this.add_wxm5ur$(this.size, element);
      return true;
    };
    AbstractMutableList.prototype.addAll_u57x28$ = function (index, elements) {
      var tmp$, tmp$_0;
      var _index = index;
      var changed = false;
      tmp$ = elements.iterator();
      while (tmp$.hasNext()) {
        var e = tmp$.next();
        this.add_wxm5ur$((tmp$_0 = _index, _index = tmp$_0 + 1 | 0, tmp$_0), e);
        changed = true;
      }
      return changed;
    };
    AbstractMutableList.prototype.clear = function () {
      this.removeRange_vux9f0$(0, this.size);
    };
    function AbstractMutableList$removeAll$lambda(closure$elements) {
      return function (it) {
        return closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableList.prototype.removeAll_brywnq$ = function (elements) {
      return removeAll_1(this, AbstractMutableList$removeAll$lambda(elements));
    };
    function AbstractMutableList$retainAll$lambda(closure$elements) {
      return function (it) {
        return !closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableList.prototype.retainAll_brywnq$ = function (elements) {
      return removeAll_1(this, AbstractMutableList$retainAll$lambda(elements));
    };
    AbstractMutableList.prototype.iterator = function () {
      return new AbstractMutableList$IteratorImpl(this);
    };
    AbstractMutableList.prototype.contains_11rb$ = function (element) {
      return this.indexOf_11rb$(element) >= 0;
    };
    AbstractMutableList.prototype.indexOf_11rb$ = function (element) {
      var tmp$;
      tmp$ = get_lastIndex_12(this);
      for (var index = 0; index <= tmp$; index++) {
        if (equals(this.get_za3lpa$(index), element)) {
          return index;
        }
      }
      return -1;
    };
    AbstractMutableList.prototype.lastIndexOf_11rb$ = function (element) {
      for (var index = get_lastIndex_12(this); index >= 0; index--) {
        if (equals(this.get_za3lpa$(index), element)) {
          return index;
        }
      }
      return -1;
    };
    AbstractMutableList.prototype.listIterator = function () {
      return this.listIterator_za3lpa$(0);
    };
    AbstractMutableList.prototype.listIterator_za3lpa$ = function (index) {
      return new AbstractMutableList$ListIteratorImpl(this, index);
    };
    AbstractMutableList.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
      return new AbstractMutableList$SubList(this, fromIndex, toIndex);
    };
    AbstractMutableList.prototype.removeRange_vux9f0$ = function (fromIndex, toIndex) {
      var iterator = this.listIterator_za3lpa$(fromIndex);
      var times = toIndex - fromIndex | 0;
      for (var index = 0; index < times; index++) {
        iterator.next();
        iterator.remove();
      }
    };
    AbstractMutableList.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, List))
        return false;
      return AbstractList$Companion_getInstance().orderedEquals_e92ka7$(this, other);
    };
    AbstractMutableList.prototype.hashCode = function () {
      return AbstractList$Companion_getInstance().orderedHashCode_nykoif$(this);
    };
    function AbstractMutableList$IteratorImpl($outer) {
      this.$outer = $outer;
      this.index_0 = 0;
      this.last_0 = -1;
    }
    AbstractMutableList$IteratorImpl.prototype.hasNext = function () {
      return this.index_0 < this.$outer.size;
    };
    AbstractMutableList$IteratorImpl.prototype.next = function () {
      var tmp$;
      if (!this.hasNext())
        throw NoSuchElementException_init();
      this.last_0 = (tmp$ = this.index_0, this.index_0 = tmp$ + 1 | 0, tmp$);
      return this.$outer.get_za3lpa$(this.last_0);
    };
    AbstractMutableList$IteratorImpl.prototype.remove = function () {
      if (!(this.last_0 !== -1)) {
        var message = 'Call next() or previous() before removing element from the iterator.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.$outer.removeAt_za3lpa$(this.last_0);
      this.index_0 = this.last_0;
      this.last_0 = -1;
    };
    AbstractMutableList$IteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'IteratorImpl', interfaces: [MutableIterator]};
    function AbstractMutableList$ListIteratorImpl($outer, index) {
      this.$outer = $outer;
      AbstractMutableList$IteratorImpl.call(this, this.$outer);
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this.$outer.size);
      this.index_0 = index;
    }
    AbstractMutableList$ListIteratorImpl.prototype.hasPrevious = function () {
      return this.index_0 > 0;
    };
    AbstractMutableList$ListIteratorImpl.prototype.nextIndex = function () {
      return this.index_0;
    };
    AbstractMutableList$ListIteratorImpl.prototype.previous = function () {
      if (!this.hasPrevious())
        throw NoSuchElementException_init();
      this.last_0 = (this.index_0 = this.index_0 - 1 | 0, this.index_0);
      return this.$outer.get_za3lpa$(this.last_0);
    };
    AbstractMutableList$ListIteratorImpl.prototype.previousIndex = function () {
      return this.index_0 - 1 | 0;
    };
    AbstractMutableList$ListIteratorImpl.prototype.add_11rb$ = function (element) {
      this.$outer.add_wxm5ur$(this.index_0, element);
      this.index_0 = this.index_0 + 1 | 0;
      this.last_0 = -1;
    };
    AbstractMutableList$ListIteratorImpl.prototype.set_11rb$ = function (element) {
      if (!(this.last_0 !== -1)) {
        var message = 'Call next() or previous() before updating element value with the iterator.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.$outer.set_wxm5ur$(this.last_0, element);
    };
    AbstractMutableList$ListIteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListIteratorImpl', interfaces: [MutableListIterator, AbstractMutableList$IteratorImpl]};
    function AbstractMutableList$SubList(list, fromIndex, toIndex) {
      AbstractMutableList.call(this);
      this.list_0 = list;
      this.fromIndex_0 = fromIndex;
      this._size_0 = 0;
      AbstractList$Companion_getInstance().checkRangeIndexes_cub51b$(this.fromIndex_0, toIndex, this.list_0.size);
      this._size_0 = toIndex - this.fromIndex_0 | 0;
    }
    AbstractMutableList$SubList.prototype.add_wxm5ur$ = function (index, element) {
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this._size_0);
      this.list_0.add_wxm5ur$(this.fromIndex_0 + index | 0, element);
      this._size_0 = this._size_0 + 1 | 0;
    };
    AbstractMutableList$SubList.prototype.get_za3lpa$ = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      return this.list_0.get_za3lpa$(this.fromIndex_0 + index | 0);
    };
    AbstractMutableList$SubList.prototype.removeAt_za3lpa$ = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      var result = this.list_0.removeAt_za3lpa$(this.fromIndex_0 + index | 0);
      this._size_0 = this._size_0 - 1 | 0;
      return result;
    };
    AbstractMutableList$SubList.prototype.set_wxm5ur$ = function (index, element) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      return this.list_0.set_wxm5ur$(this.fromIndex_0 + index | 0, element);
    };
    Object.defineProperty(AbstractMutableList$SubList.prototype, 'size', {get: function () {
      return this._size_0;
    }});
    AbstractMutableList$SubList.$metadata$ = {kind: Kind_CLASS, simpleName: 'SubList', interfaces: [RandomAccess, AbstractMutableList]};
    AbstractMutableList.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableList', interfaces: [MutableList, AbstractMutableCollection]};
    function AbstractMutableMap() {
      AbstractMap.call(this);
      this._keys_qe2m0n$_0 = null;
      this._values_kxdlqh$_0 = null;
    }
    function AbstractMutableMap$SimpleEntry(key, value) {
      this.key_5xhq3d$_0 = key;
      this._value_0 = value;
    }
    Object.defineProperty(AbstractMutableMap$SimpleEntry.prototype, 'key', {get: function () {
      return this.key_5xhq3d$_0;
    }});
    Object.defineProperty(AbstractMutableMap$SimpleEntry.prototype, 'value', {get: function () {
      return this._value_0;
    }});
    AbstractMutableMap$SimpleEntry.prototype.setValue_11rc$ = function (newValue) {
      var oldValue = this._value_0;
      this._value_0 = newValue;
      return oldValue;
    };
    AbstractMutableMap$SimpleEntry.prototype.hashCode = function () {
      return AbstractMap$Companion_getInstance().entryHashCode_9fthdn$(this);
    };
    AbstractMutableMap$SimpleEntry.prototype.toString = function () {
      return AbstractMap$Companion_getInstance().entryToString_9fthdn$(this);
    };
    AbstractMutableMap$SimpleEntry.prototype.equals = function (other) {
      return AbstractMap$Companion_getInstance().entryEquals_js7fox$(this, other);
    };
    AbstractMutableMap$SimpleEntry.$metadata$ = {kind: Kind_CLASS, simpleName: 'SimpleEntry', interfaces: [MutableMap$MutableEntry]};
    function AbstractMutableMap$AbstractMutableMap$SimpleEntry_init(entry, $this) {
      $this = $this || Object.create(AbstractMutableMap$SimpleEntry.prototype);
      AbstractMutableMap$SimpleEntry.call($this, entry.key, entry.value);
      return $this;
    }
    AbstractMutableMap.prototype.clear = function () {
      this.entries.clear();
    };
    function AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral(this$AbstractMutableMap) {
      this.this$AbstractMutableMap = this$AbstractMutableMap;
      AbstractMutableSet.call(this);
    }
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on keys');
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.clear = function () {
      this.this$AbstractMutableMap.clear();
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMutableMap.containsKey_11rb$(element);
    };
    function AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().key;
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.remove = function () {
      this.closure$entryIterator.remove();
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MutableIterator]};
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMutableMap.entries.iterator();
      return new AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.remove_11rb$ = function (element) {
      if (this.this$AbstractMutableMap.containsKey_11rb$(element)) {
        this.this$AbstractMutableMap.remove_11rb$(element);
        return true;
      }
      return false;
    };
    Object.defineProperty(AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMutableMap.size;
    }});
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractMutableSet]};
    Object.defineProperty(AbstractMutableMap.prototype, 'keys', {get: function () {
      if (this._keys_qe2m0n$_0 == null) {
        this._keys_qe2m0n$_0 = new AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral(this);
      }
      return ensureNotNull(this._keys_qe2m0n$_0);
    }});
    AbstractMutableMap.prototype.putAll_a2k3zr$ = function (from) {
      var tmp$;
      tmp$ = from.entries.iterator();
      while (tmp$.hasNext()) {
        var tmp$_0 = tmp$.next();
        var key = tmp$_0.key;
        var value = tmp$_0.value;
        this.put_xwzc9p$(key, value);
      }
    };
    function AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral(this$AbstractMutableMap) {
      this.this$AbstractMutableMap = this$AbstractMutableMap;
      AbstractMutableCollection.call(this);
    }
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on values');
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.clear = function () {
      this.this$AbstractMutableMap.clear();
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMutableMap.containsValue_11rc$(element);
    };
    function AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().value;
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.remove = function () {
      this.closure$entryIterator.remove();
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MutableIterator]};
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMutableMap.entries.iterator();
      return new AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    Object.defineProperty(AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMutableMap.size;
    }});
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.equals = function (other) {
      if (this === other)
        return true;
      if (!Kotlin.isType(other, Collection))
        return false;
      return AbstractList$Companion_getInstance().orderedEquals_e92ka7$(this, other);
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.hashCode = function () {
      return AbstractList$Companion_getInstance().orderedHashCode_nykoif$(this);
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractMutableCollection]};
    Object.defineProperty(AbstractMutableMap.prototype, 'values', {get: function () {
      if (this._values_kxdlqh$_0 == null) {
        this._values_kxdlqh$_0 = new AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral(this);
      }
      return ensureNotNull(this._values_kxdlqh$_0);
    }});
    AbstractMutableMap.prototype.remove_11rb$ = function (key) {
      var iter = this.entries.iterator();
      while (iter.hasNext()) {
        var entry = iter.next();
        var k = entry.key;
        if (equals(key, k)) {
          var value = entry.value;
          iter.remove();
          return value;
        }
      }
      return null;
    };
    AbstractMutableMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableMap', interfaces: [MutableMap, AbstractMap]};
    function AbstractMutableSet() {
      AbstractMutableCollection.call(this);
    }
    AbstractMutableSet.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, Set))
        return false;
      return AbstractSet$Companion_getInstance().setEquals_y8f7en$(this, other);
    };
    AbstractMutableSet.prototype.hashCode = function () {
      return AbstractSet$Companion_getInstance().unorderedHashCode_nykoif$(this);
    };
    AbstractMutableSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableSet', interfaces: [MutableSet, AbstractMutableCollection]};
    function ArrayList(array) {
      AbstractMutableList.call(this);
      this.array_hd7ov6$_0 = array;
    }
    ArrayList.prototype.trimToSize = function () {
    };
    ArrayList.prototype.ensureCapacity_za3lpa$ = function (minCapacity) {
    };
    Object.defineProperty(ArrayList.prototype, 'size', {get: function () {
      return this.array_hd7ov6$_0.length;
    }});
    ArrayList.prototype.get_za3lpa$ = function (index) {
      var tmp$;
      return (tmp$ = this.array_hd7ov6$_0[this.rangeCheck_xcmk5o$_0(index)]) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    };
    ArrayList.prototype.set_wxm5ur$ = function (index, element) {
      var tmp$;
      this.rangeCheck_xcmk5o$_0(index);
      var $receiver = this.array_hd7ov6$_0[index];
      this.array_hd7ov6$_0[index] = element;
      return (tmp$ = $receiver) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    };
    ArrayList.prototype.add_11rb$ = function (element) {
      this.array_hd7ov6$_0.push(element);
      this.modCount = this.modCount + 1 | 0;
      return true;
    };
    ArrayList.prototype.add_wxm5ur$ = function (index, element) {
      this.array_hd7ov6$_0.splice(this.insertionRangeCheck_xwivfl$_0(index), 0, element);
      this.modCount = this.modCount + 1 | 0;
    };
    ArrayList.prototype.addAll_brywnq$ = function (elements) {
      if (elements.isEmpty())
        return false;
      this.array_hd7ov6$_0 = this.array_hd7ov6$_0.concat(copyToArray(elements));
      this.modCount = this.modCount + 1 | 0;
      return true;
    };
    ArrayList.prototype.addAll_u57x28$ = function (index, elements) {
      this.insertionRangeCheck_xwivfl$_0(index);
      if (index === this.size)
        return this.addAll_brywnq$(elements);
      if (elements.isEmpty())
        return false;
      if (index === this.size)
        return this.addAll_brywnq$(elements);
      else if (index === 0) {
        this.array_hd7ov6$_0 = copyToArray(elements).concat(this.array_hd7ov6$_0);
      }
       else {
        this.array_hd7ov6$_0 = copyOfRange_3(this.array_hd7ov6$_0, 0, index).concat(copyToArray(elements), copyOfRange_3(this.array_hd7ov6$_0, index, this.size));
      }
      this.modCount = this.modCount + 1 | 0;
      return true;
    };
    ArrayList.prototype.removeAt_za3lpa$ = function (index) {
      this.rangeCheck_xcmk5o$_0(index);
      this.modCount = this.modCount + 1 | 0;
      return index === get_lastIndex_12(this) ? this.array_hd7ov6$_0.pop() : this.array_hd7ov6$_0.splice(index, 1)[0];
    };
    ArrayList.prototype.remove_11rb$ = function (element) {
      var tmp$;
      tmp$ = this.array_hd7ov6$_0;
      for (var index = 0; index !== tmp$.length; ++index) {
        if (equals(this.array_hd7ov6$_0[index], element)) {
          this.array_hd7ov6$_0.splice(index, 1);
          this.modCount = this.modCount + 1 | 0;
          return true;
        }
      }
      return false;
    };
    ArrayList.prototype.removeRange_vux9f0$ = function (fromIndex, toIndex) {
      this.modCount = this.modCount + 1 | 0;
      this.array_hd7ov6$_0.splice(fromIndex, toIndex - fromIndex | 0);
    };
    ArrayList.prototype.clear = function () {
      this.array_hd7ov6$_0 = [];
      this.modCount = this.modCount + 1 | 0;
    };
    ArrayList.prototype.indexOf_11rb$ = function (element) {
      return indexOf(this.array_hd7ov6$_0, element);
    };
    ArrayList.prototype.lastIndexOf_11rb$ = function (element) {
      return lastIndexOf(this.array_hd7ov6$_0, element);
    };
    ArrayList.prototype.toString = function () {
      return arrayToString(this.array_hd7ov6$_0);
    };
    ArrayList.prototype.toArray = function () {
      return [].slice.call(this.array_hd7ov6$_0);
    };
    ArrayList.prototype.rangeCheck_xcmk5o$_0 = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this.size);
      return index;
    };
    ArrayList.prototype.insertionRangeCheck_xwivfl$_0 = function (index) {
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this.size);
      return index;
    };
    ArrayList.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayList', interfaces: [RandomAccess, AbstractMutableList, MutableList]};
    function ArrayList_init($this) {
      $this = $this || Object.create(ArrayList.prototype);
      ArrayList.call($this, []);
      return $this;
    }
    function ArrayList_init_0(initialCapacity, $this) {
      if (initialCapacity === void 0)
        initialCapacity = 0;
      $this = $this || Object.create(ArrayList.prototype);
      ArrayList.call($this, []);
      return $this;
    }
    function ArrayList_init_1(elements, $this) {
      $this = $this || Object.create(ArrayList.prototype);
      ArrayList.call($this, copyToArray(elements));
      return $this;
    }
    var _stableSortingIsSupported;
    function EqualityComparator() {
    }
    function EqualityComparator$HashCode() {
      EqualityComparator$HashCode_instance = this;
    }
    EqualityComparator$HashCode.prototype.equals_oaftn8$ = function (value1, value2) {
      return equals(value1, value2);
    };
    EqualityComparator$HashCode.prototype.getHashCode_s8jyv4$ = function (value) {
      var tmp$;
      return (tmp$ = value != null ? hashCode(value) : null) != null ? tmp$ : 0;
    };
    EqualityComparator$HashCode.$metadata$ = {kind: Kind_OBJECT, simpleName: 'HashCode', interfaces: [EqualityComparator]};
    var EqualityComparator$HashCode_instance = null;
    function EqualityComparator$HashCode_getInstance() {
      if (EqualityComparator$HashCode_instance === null) {
        new EqualityComparator$HashCode();
      }
      return EqualityComparator$HashCode_instance;
    }
    EqualityComparator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'EqualityComparator', interfaces: []};
    function HashMap() {
      this.internalMap_uxhen5$_0 = null;
      this.equality_vgh6cm$_0 = null;
      this._entries_7ih87x$_0 = null;
    }
    function HashMap$EntrySet($outer) {
      this.$outer = $outer;
      AbstractMutableSet.call(this);
    }
    HashMap$EntrySet.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on entries');
    };
    HashMap$EntrySet.prototype.clear = function () {
      this.$outer.clear();
    };
    HashMap$EntrySet.prototype.contains_11rb$ = function (element) {
      return this.$outer.containsEntry_8hxqw4$(element);
    };
    HashMap$EntrySet.prototype.iterator = function () {
      return this.$outer.internalMap_uxhen5$_0.iterator();
    };
    HashMap$EntrySet.prototype.remove_11rb$ = function (element) {
      if (this.contains_11rb$(element)) {
        this.$outer.remove_11rb$(element.key);
        return true;
      }
      return false;
    };
    Object.defineProperty(HashMap$EntrySet.prototype, 'size', {get: function () {
      return this.$outer.size;
    }});
    HashMap$EntrySet.$metadata$ = {kind: Kind_CLASS, simpleName: 'EntrySet', interfaces: [AbstractMutableSet]};
    HashMap.prototype.clear = function () {
      this.internalMap_uxhen5$_0.clear();
    };
    HashMap.prototype.containsKey_11rb$ = function (key) {
      return this.internalMap_uxhen5$_0.contains_11rb$(key);
    };
    HashMap.prototype.containsValue_11rc$ = function (value) {
      var $receiver = this.internalMap_uxhen5$_0;
      var any$result;
      any$break: do {
        var tmp$;
        if (Kotlin.isType($receiver, Collection) && $receiver.isEmpty()) {
          any$result = false;
          break any$break;
        }
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (this.equality_vgh6cm$_0.equals_oaftn8$(element.value, value)) {
            any$result = true;
            break any$break;
          }
        }
        any$result = false;
      }
       while (false);
      return any$result;
    };
    Object.defineProperty(HashMap.prototype, 'entries', {get: function () {
      if (this._entries_7ih87x$_0 == null) {
        this._entries_7ih87x$_0 = this.createEntrySet();
      }
      return ensureNotNull(this._entries_7ih87x$_0);
    }});
    HashMap.prototype.createEntrySet = function () {
      return new HashMap$EntrySet(this);
    };
    HashMap.prototype.get_11rb$ = function (key) {
      return this.internalMap_uxhen5$_0.get_11rb$(key);
    };
    HashMap.prototype.put_xwzc9p$ = function (key, value) {
      return this.internalMap_uxhen5$_0.put_xwzc9p$(key, value);
    };
    HashMap.prototype.remove_11rb$ = function (key) {
      return this.internalMap_uxhen5$_0.remove_11rb$(key);
    };
    Object.defineProperty(HashMap.prototype, 'size', {get: function () {
      return this.internalMap_uxhen5$_0.size;
    }});
    HashMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashMap', interfaces: [AbstractMutableMap, MutableMap]};
    function HashMap_init(internalMap, $this) {
      $this = $this || Object.create(HashMap.prototype);
      AbstractMutableMap.call($this);
      HashMap.call($this);
      $this.internalMap_uxhen5$_0 = internalMap;
      $this.equality_vgh6cm$_0 = internalMap.equality;
      return $this;
    }
    function HashMap_init_0($this) {
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init(new InternalHashCodeMap(EqualityComparator$HashCode_getInstance()), $this);
      return $this;
    }
    function HashMap_init_1(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init_0($this);
      if (!(initialCapacity >= 0)) {
        var message = 'Negative initial capacity: ' + initialCapacity;
        throw IllegalArgumentException_init_0(message.toString());
      }
      if (!(loadFactor >= 0)) {
        var message_0 = 'Non-positive load factor: ' + loadFactor;
        throw IllegalArgumentException_init_0(message_0.toString());
      }
      return $this;
    }
    function HashMap_init_2(initialCapacity, $this) {
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init_1(initialCapacity, 0.0, $this);
      return $this;
    }
    function HashMap_init_3(original, $this) {
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init_0($this);
      $this.putAll_a2k3zr$(original);
      return $this;
    }
    function HashSet() {
      this.map_eot64i$_0 = null;
    }
    HashSet.prototype.add_11rb$ = function (element) {
      var old = this.map_eot64i$_0.put_xwzc9p$(element, this);
      return old == null;
    };
    HashSet.prototype.clear = function () {
      this.map_eot64i$_0.clear();
    };
    HashSet.prototype.contains_11rb$ = function (element) {
      return this.map_eot64i$_0.containsKey_11rb$(element);
    };
    HashSet.prototype.isEmpty = function () {
      return this.map_eot64i$_0.isEmpty();
    };
    HashSet.prototype.iterator = function () {
      return this.map_eot64i$_0.keys.iterator();
    };
    HashSet.prototype.remove_11rb$ = function (element) {
      return this.map_eot64i$_0.remove_11rb$(element) != null;
    };
    Object.defineProperty(HashSet.prototype, 'size', {get: function () {
      return this.map_eot64i$_0.size;
    }});
    HashSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashSet', interfaces: [AbstractMutableSet, MutableSet]};
    function HashSet_init($this) {
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = HashMap_init_0();
      return $this;
    }
    function HashSet_init_0(elements, $this) {
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = HashMap_init_2(elements.size);
      $this.addAll_brywnq$(elements);
      return $this;
    }
    function HashSet_init_1(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = HashMap_init_1(initialCapacity, loadFactor);
      return $this;
    }
    function HashSet_init_2(initialCapacity, $this) {
      $this = $this || Object.create(HashSet.prototype);
      HashSet_init_1(initialCapacity, 0.0, $this);
      return $this;
    }
    function HashSet_init_3(map, $this) {
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = map;
      return $this;
    }
    function InternalHashCodeMap(equality) {
      this.equality_mamlu8$_0 = equality;
      this.backingMap_0 = this.createJsMap();
      this.size_x3bm7r$_0 = 0;
    }
    Object.defineProperty(InternalHashCodeMap.prototype, 'equality', {get: function () {
      return this.equality_mamlu8$_0;
    }});
    Object.defineProperty(InternalHashCodeMap.prototype, 'size', {get: function () {
      return this.size_x3bm7r$_0;
    }, set: function (size) {
      this.size_x3bm7r$_0 = size;
    }});
    InternalHashCodeMap.prototype.put_xwzc9p$ = function (key, value) {
      var hashCode = this.equality.getHashCode_s8jyv4$(key);
      var chainOrEntry = this.getChainOrEntryOrNull_0(hashCode);
      if (chainOrEntry == null) {
        this.backingMap_0[hashCode] = new AbstractMutableMap$SimpleEntry(key, value);
      }
       else {
        if (!Kotlin.isArray(chainOrEntry)) {
          var entry = chainOrEntry;
          if (this.equality.equals_oaftn8$(entry.key, key)) {
            return entry.setValue_11rc$(value);
          }
           else {
            this.backingMap_0[hashCode] = [entry, new AbstractMutableMap$SimpleEntry(key, value)];
            this.size = this.size + 1 | 0;
            return null;
          }
        }
         else {
          var chain = chainOrEntry;
          var entry_0 = this.findEntryInChain_0(chain, key);
          if (entry_0 != null) {
            return entry_0.setValue_11rc$(value);
          }
          chain.push(new AbstractMutableMap$SimpleEntry(key, value));
        }
      }
      this.size = this.size + 1 | 0;
      return null;
    };
    InternalHashCodeMap.prototype.remove_11rb$ = function (key) {
      var tmp$;
      var hashCode = this.equality.getHashCode_s8jyv4$(key);
      tmp$ = this.getChainOrEntryOrNull_0(hashCode);
      if (tmp$ == null) {
        return null;
      }
      var chainOrEntry = tmp$;
      if (!Kotlin.isArray(chainOrEntry)) {
        var entry = chainOrEntry;
        if (this.equality.equals_oaftn8$(entry.key, key)) {
          delete this.backingMap_0[hashCode];
          this.size = this.size - 1 | 0;
          return entry.value;
        }
         else {
          return null;
        }
      }
       else {
        var chain = chainOrEntry;
        for (var index = 0; index !== chain.length; ++index) {
          var entry_0 = chain[index];
          if (this.equality.equals_oaftn8$(key, entry_0.key)) {
            if (chain.length === 1) {
              chain.length = 0;
              delete this.backingMap_0[hashCode];
            }
             else {
              chain.splice(index, 1);
            }
            this.size = this.size - 1 | 0;
            return entry_0.value;
          }
        }
      }
      return null;
    };
    InternalHashCodeMap.prototype.clear = function () {
      this.backingMap_0 = this.createJsMap();
      this.size = 0;
    };
    InternalHashCodeMap.prototype.contains_11rb$ = function (key) {
      return this.getEntry_0(key) != null;
    };
    InternalHashCodeMap.prototype.get_11rb$ = function (key) {
      var tmp$;
      return (tmp$ = this.getEntry_0(key)) != null ? tmp$.value : null;
    };
    InternalHashCodeMap.prototype.getEntry_0 = function (key) {
      var tmp$;
      tmp$ = this.getChainOrEntryOrNull_0(this.equality.getHashCode_s8jyv4$(key));
      if (tmp$ == null) {
        return null;
      }
      var chainOrEntry = tmp$;
      if (!Kotlin.isArray(chainOrEntry)) {
        var entry = chainOrEntry;
        if (this.equality.equals_oaftn8$(entry.key, key)) {
          return entry;
        }
         else {
          return null;
        }
      }
       else {
        var chain = chainOrEntry;
        return this.findEntryInChain_0(chain, key);
      }
    };
    InternalHashCodeMap.prototype.findEntryInChain_0 = function ($receiver, key) {
      var firstOrNull$result;
      firstOrNull$break: do {
        var tmp$;
        for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
          var element = $receiver[tmp$];
          if (this.equality.equals_oaftn8$(element.key, key)) {
            firstOrNull$result = element;
            break firstOrNull$break;
          }
        }
        firstOrNull$result = null;
      }
       while (false);
      return firstOrNull$result;
    };
    function InternalHashCodeMap$iterator$ObjectLiteral(this$InternalHashCodeMap) {
      this.this$InternalHashCodeMap = this$InternalHashCodeMap;
      this.state = -1;
      this.keys = Object.keys(this$InternalHashCodeMap.backingMap_0);
      this.keyIndex = -1;
      this.chainOrEntry = null;
      this.isChain = false;
      this.itemIndex = -1;
      this.lastEntry = null;
    }
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.computeNext_0 = function () {
      if (this.chainOrEntry != null && this.isChain) {
        var chainSize = this.chainOrEntry.length;
        if ((this.itemIndex = this.itemIndex + 1 | 0, this.itemIndex) < chainSize)
          return 0;
      }
      if ((this.keyIndex = this.keyIndex + 1 | 0, this.keyIndex) < this.keys.length) {
        this.chainOrEntry = this.this$InternalHashCodeMap.backingMap_0[this.keys[this.keyIndex]];
        this.isChain = Kotlin.isArray(this.chainOrEntry);
        this.itemIndex = 0;
        return 0;
      }
       else {
        this.chainOrEntry = null;
        return 1;
      }
    };
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.hasNext = function () {
      if (this.state === -1)
        this.state = this.computeNext_0();
      return this.state === 0;
    };
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (!this.hasNext())
        throw NoSuchElementException_init();
      if (this.isChain) {
        tmp$ = this.chainOrEntry[this.itemIndex];
      }
       else {
        tmp$ = this.chainOrEntry;
      }
      var lastEntry = tmp$;
      this.lastEntry = lastEntry;
      this.state = -1;
      return lastEntry;
    };
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.remove = function () {
      if (this.lastEntry == null) {
        var message = 'Required value was null.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.this$InternalHashCodeMap.remove_11rb$(ensureNotNull(this.lastEntry).key);
      this.lastEntry = null;
      this.itemIndex = this.itemIndex - 1 | 0;
    };
    InternalHashCodeMap$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MutableIterator]};
    InternalHashCodeMap.prototype.iterator = function () {
      return new InternalHashCodeMap$iterator$ObjectLiteral(this);
    };
    InternalHashCodeMap.prototype.getChainOrEntryOrNull_0 = function (hashCode) {
      var chainOrEntry = this.backingMap_0[hashCode];
      return chainOrEntry === undefined ? null : chainOrEntry;
    };
    InternalHashCodeMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'InternalHashCodeMap', interfaces: [InternalMap]};
    function InternalMap() {
    }
    InternalMap.prototype.createJsMap = function () {
      var result = Object.create(null);
      result['foo'] = 1;
      delete result['foo'];
      return result;
    };
    InternalMap.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'InternalMap', interfaces: [MutableIterable]};
    function InternalStringMap(equality) {
      this.equality_qma612$_0 = equality;
      this.backingMap_0 = this.createJsMap();
      this.size_6u3ykz$_0 = 0;
    }
    function LinkedHashMap() {
      this.head_1lr44l$_0 = null;
      this.map_97q5dv$_0 = null;
    }
    function LinkedHashMap$ChainEntry(key, value) {
      AbstractMutableMap$SimpleEntry.call(this, key, value);
      this.next_8be2vx$ = null;
      this.prev_8be2vx$ = null;
    }
    LinkedHashMap$ChainEntry.$metadata$ = {kind: Kind_CLASS, simpleName: 'ChainEntry', interfaces: [AbstractMutableMap$SimpleEntry]};
    function LinkedHashMap$EntrySet($outer) {
      this.$outer = $outer;
      AbstractMutableSet.call(this);
    }
    function LinkedHashMap$EntrySet$EntryIterator($outer) {
      this.$outer = $outer;
      this.last_0 = null;
      this.next_0 = null;
      this.next_0 = this.$outer.$outer.head_1lr44l$_0;
    }
    LinkedHashMap$EntrySet$EntryIterator.prototype.hasNext = function () {
      return this.next_0 !== null;
    };
    LinkedHashMap$EntrySet$EntryIterator.prototype.next = function () {
      if (!this.hasNext())
        throw NoSuchElementException_init();
      var current = ensureNotNull(this.next_0);
      this.last_0 = current;
      var $receiver = current.next_8be2vx$;
      this.$outer.$outer;
      this.next_0 = $receiver !== this.$outer.$outer.head_1lr44l$_0 ? $receiver : null;
      return current;
    };
    LinkedHashMap$EntrySet$EntryIterator.prototype.remove = function () {
      if (!(this.last_0 != null)) {
        var message = 'Check failed.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.$outer.$outer.remove_aul5td$_0(ensureNotNull(this.last_0));
      this.$outer.$outer.map_97q5dv$_0.remove_11rb$(ensureNotNull(this.last_0).key);
      this.last_0 = null;
    };
    LinkedHashMap$EntrySet$EntryIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'EntryIterator', interfaces: [MutableIterator]};
    LinkedHashMap$EntrySet.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on entries');
    };
    LinkedHashMap$EntrySet.prototype.clear = function () {
      this.$outer.clear();
    };
    LinkedHashMap$EntrySet.prototype.contains_11rb$ = function (element) {
      return this.$outer.containsEntry_8hxqw4$(element);
    };
    LinkedHashMap$EntrySet.prototype.iterator = function () {
      return new LinkedHashMap$EntrySet$EntryIterator(this);
    };
    LinkedHashMap$EntrySet.prototype.remove_11rb$ = function (element) {
      if (this.contains_11rb$(element)) {
        this.$outer.remove_11rb$(element.key);
        return true;
      }
      return false;
    };
    Object.defineProperty(LinkedHashMap$EntrySet.prototype, 'size', {get: function () {
      return this.$outer.size;
    }});
    LinkedHashMap$EntrySet.$metadata$ = {kind: Kind_CLASS, simpleName: 'EntrySet', interfaces: [AbstractMutableSet]};
    LinkedHashMap.prototype.addToEnd_ufg2hg$_0 = function ($receiver) {
      if (!($receiver.next_8be2vx$ == null && $receiver.prev_8be2vx$ == null)) {
        var message = 'Check failed.';
        throw IllegalStateException_init_0(message.toString());
      }
      var _head = this.head_1lr44l$_0;
      if (_head == null) {
        this.head_1lr44l$_0 = $receiver;
        $receiver.next_8be2vx$ = $receiver;
        $receiver.prev_8be2vx$ = $receiver;
      }
       else {
        var value = _head.prev_8be2vx$;
        var checkNotNull$result;
        if (value == null) {
          var message_0 = 'Required value was null.';
          throw IllegalStateException_init_0(message_0.toString());
        }
         else {
          checkNotNull$result = value;
        }
        var _tail = checkNotNull$result;
        $receiver.prev_8be2vx$ = _tail;
        $receiver.next_8be2vx$ = _head;
        _head.prev_8be2vx$ = $receiver;
        _tail.next_8be2vx$ = $receiver;
      }
    };
    LinkedHashMap.prototype.remove_aul5td$_0 = function ($receiver) {
      if ($receiver.next_8be2vx$ === $receiver) {
        this.head_1lr44l$_0 = null;
      }
       else {
        if (this.head_1lr44l$_0 === $receiver) {
          this.head_1lr44l$_0 = $receiver.next_8be2vx$;
        }
        ensureNotNull($receiver.next_8be2vx$).prev_8be2vx$ = $receiver.prev_8be2vx$;
        ensureNotNull($receiver.prev_8be2vx$).next_8be2vx$ = $receiver.next_8be2vx$;
      }
      $receiver.next_8be2vx$ = null;
      $receiver.prev_8be2vx$ = null;
    };
    LinkedHashMap.prototype.clear = function () {
      this.map_97q5dv$_0.clear();
      this.head_1lr44l$_0 = null;
    };
    LinkedHashMap.prototype.containsKey_11rb$ = function (key) {
      return this.map_97q5dv$_0.containsKey_11rb$(key);
    };
    LinkedHashMap.prototype.containsValue_11rc$ = function (value) {
      var tmp$;
      tmp$ = this.head_1lr44l$_0;
      if (tmp$ == null) {
        return false;
      }
      var node = tmp$;
      do {
        if (equals(node.value, value)) {
          return true;
        }
        node = ensureNotNull(node.next_8be2vx$);
      }
       while (node !== this.head_1lr44l$_0);
      return false;
    };
    LinkedHashMap.prototype.createEntrySet = function () {
      return new LinkedHashMap$EntrySet(this);
    };
    LinkedHashMap.prototype.get_11rb$ = function (key) {
      var tmp$;
      return (tmp$ = this.map_97q5dv$_0.get_11rb$(key)) != null ? tmp$.value : null;
    };
    LinkedHashMap.prototype.put_xwzc9p$ = function (key, value) {
      var old = this.map_97q5dv$_0.get_11rb$(key);
      if (old == null) {
        var newEntry = new LinkedHashMap$ChainEntry(key, value);
        this.map_97q5dv$_0.put_xwzc9p$(key, newEntry);
        this.addToEnd_ufg2hg$_0(newEntry);
        return null;
      }
       else {
        return old.setValue_11rc$(value);
      }
    };
    LinkedHashMap.prototype.remove_11rb$ = function (key) {
      var entry = this.map_97q5dv$_0.remove_11rb$(key);
      if (entry != null) {
        this.remove_aul5td$_0(entry);
        return entry.value;
      }
      return null;
    };
    Object.defineProperty(LinkedHashMap.prototype, 'size', {get: function () {
      return this.map_97q5dv$_0.size;
    }});
    LinkedHashMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashMap', interfaces: [HashMap, MutableMap]};
    function LinkedHashMap_init($this) {
      $this = $this || Object.create(LinkedHashMap.prototype);
      HashMap_init_0($this);
      LinkedHashMap.call($this);
      $this.map_97q5dv$_0 = HashMap_init_0();
      return $this;
    }
    function LinkedHashMap_init_1(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(LinkedHashMap.prototype);
      HashMap_init_1(initialCapacity, loadFactor, $this);
      LinkedHashMap.call($this);
      $this.map_97q5dv$_0 = HashMap_init_0();
      return $this;
    }
    function LinkedHashMap_init_2(initialCapacity, $this) {
      $this = $this || Object.create(LinkedHashMap.prototype);
      LinkedHashMap_init_1(initialCapacity, 0.0, $this);
      return $this;
    }
    function LinkedHashMap_init_3(original, $this) {
      $this = $this || Object.create(LinkedHashMap.prototype);
      HashMap_init_0($this);
      LinkedHashMap.call($this);
      $this.map_97q5dv$_0 = HashMap_init_0();
      $this.putAll_a2k3zr$(original);
      return $this;
    }
    function LinkedHashSet() {
    }
    LinkedHashSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashSet', interfaces: [HashSet, MutableSet]};
    function LinkedHashSet_init_0($this) {
      $this = $this || Object.create(LinkedHashSet.prototype);
      HashSet_init_3(LinkedHashMap_init(), $this);
      LinkedHashSet.call($this);
      return $this;
    }
    function LinkedHashSet_init_1(elements, $this) {
      $this = $this || Object.create(LinkedHashSet.prototype);
      HashSet_init_3(LinkedHashMap_init(), $this);
      LinkedHashSet.call($this);
      $this.addAll_brywnq$(elements);
      return $this;
    }
    function LinkedHashSet_init_2(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(LinkedHashSet.prototype);
      HashSet_init_3(LinkedHashMap_init_1(initialCapacity, loadFactor), $this);
      LinkedHashSet.call($this);
      return $this;
    }
    function LinkedHashSet_init_3(initialCapacity, $this) {
      $this = $this || Object.create(LinkedHashSet.prototype);
      LinkedHashSet_init_2(initialCapacity, 0.0, $this);
      return $this;
    }
    function RandomAccess() {
    }
    RandomAccess.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'RandomAccess', interfaces: []};
    function BaseOutput() {
    }
    BaseOutput.prototype.println = function () {
      this.print_s8jyv4$('\n');
    };
    BaseOutput.prototype.println_s8jyv4$ = function (message) {
      this.print_s8jyv4$(message);
      this.println();
    };
    BaseOutput.prototype.flush = function () {
    };
    BaseOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'BaseOutput', interfaces: []};
    function NodeJsOutput(outputStream) {
      BaseOutput.call(this);
      this.outputStream = outputStream;
    }
    NodeJsOutput.prototype.print_s8jyv4$ = function (message) {
      var messageString = String(message);
      this.outputStream.write(messageString);
    };
    NodeJsOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'NodeJsOutput', interfaces: [BaseOutput]};
    function BufferedOutput() {
      BaseOutput.call(this);
      this.buffer = '';
    }
    BufferedOutput.prototype.print_s8jyv4$ = function (message) {
      this.buffer += String(message);
    };
    BufferedOutput.prototype.flush = function () {
      this.buffer = '';
    };
    BufferedOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'BufferedOutput', interfaces: [BaseOutput]};
    function BufferedOutputToConsoleLog() {
      BufferedOutput.call(this);
    }
    BufferedOutputToConsoleLog.prototype.print_s8jyv4$ = function (message) {
      var s = String(message);
      var i = lastIndexOf_15(s, 10);
      if (i >= 0) {
        this.buffer = this.buffer + s.substring(0, i);
        this.flush();
        s = s.substring(i + 1 | 0);
      }
      this.buffer = this.buffer + s;
    };
    BufferedOutputToConsoleLog.prototype.flush = function () {
      console.log(this.buffer);
      this.buffer = '';
    };
    BufferedOutputToConsoleLog.$metadata$ = {kind: Kind_CLASS, simpleName: 'BufferedOutputToConsoleLog', interfaces: [BufferedOutput]};
    var output;
    function print(message) {
      output.print_s8jyv4$(message);
    }
    function SafeContinuation(delegate, initialResult) {
      this.delegate_0 = delegate;
      this.result_0 = initialResult;
    }
    Object.defineProperty(SafeContinuation.prototype, 'context', {get: function () {
      return this.delegate_0.context;
    }});
    SafeContinuation.prototype.resumeWith_tl1gpc$ = function (result) {
      var cur = this.result_0;
      if (cur === CoroutineSingletons$UNDECIDED_getInstance())
        this.result_0 = result.value;
      else if (cur === get_COROUTINE_SUSPENDED()) {
        this.result_0 = CoroutineSingletons$RESUMED_getInstance();
        this.delegate_0.resumeWith_tl1gpc$(result);
      }
       else
        throw IllegalStateException_init_0('Already resumed');
    };
    SafeContinuation.prototype.getOrThrow = function () {
      var tmp$;
      if (this.result_0 === CoroutineSingletons$UNDECIDED_getInstance()) {
        this.result_0 = get_COROUTINE_SUSPENDED();
        return get_COROUTINE_SUSPENDED();
      }
      var result = this.result_0;
      if (result === CoroutineSingletons$RESUMED_getInstance())
        tmp$ = get_COROUTINE_SUSPENDED();
      else if (Kotlin.isType(result, Result$Failure))
        throw result.exception;
      else
        tmp$ = result;
      return tmp$;
    };
    SafeContinuation.$metadata$ = {kind: Kind_CLASS, simpleName: 'SafeContinuation', interfaces: [Continuation]};
    function SafeContinuation_init(delegate, $this) {
      $this = $this || Object.create(SafeContinuation.prototype);
      SafeContinuation.call($this, delegate, CoroutineSingletons$UNDECIDED_getInstance());
      return $this;
    }
    function Continuation$ObjectLiteral(closure$context, closure$resumeWith) {
      this.closure$context = closure$context;
      this.closure$resumeWith = closure$resumeWith;
    }
    Object.defineProperty(Continuation$ObjectLiteral.prototype, 'context', {get: function () {
      return this.closure$context;
    }});
    Continuation$ObjectLiteral.prototype.resumeWith_tl1gpc$ = function (result) {
      this.closure$resumeWith(result);
    };
    Continuation$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Continuation]};
    function EmptyContinuation$lambda(result) {
      var tmp$;
      throwOnFailure(result);
      (tmp$ = result.value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      return Unit;
    }
    var EmptyContinuation;
    function throwNPE(message) {
      throw new NullPointerException(message);
    }
    function throwCCE_0() {
      throw new ClassCastException('Illegal cast');
    }
    function throwISE(message) {
      throw IllegalStateException_init_0(message);
    }
    function throwUPAE(propertyName) {
      throw UninitializedPropertyAccessException_init_0('lateinit property ' + propertyName + ' has not been initialized');
    }
    function Error_0(message, cause) {
      Throwable.call(this);
      var tmp$;
      tmp$ = cause != null ? cause : null;
      this.message_q7r8iu$_0 = typeof message === 'undefined' && tmp$ != null ? Kotlin.toString(tmp$) : message;
      this.cause_us9j0c$_0 = tmp$;
      Kotlin.captureStack(Throwable, this);
      this.name = 'Error';
    }
    Object.defineProperty(Error_0.prototype, 'message', {get: function () {
      return this.message_q7r8iu$_0;
    }});
    Object.defineProperty(Error_0.prototype, 'cause', {get: function () {
      return this.cause_us9j0c$_0;
    }});
    Error_0.$metadata$ = {kind: Kind_CLASS, simpleName: 'Error', interfaces: [Throwable]};
    function Error_init_0(message, $this) {
      $this = $this || Object.create(Error_0.prototype);
      Error_0.call($this, message, null);
      get_js(getKClass(Error_0)).call($this, message, null);
      return $this;
    }
    function Exception(message, cause) {
      Throwable.call(this);
      var tmp$;
      tmp$ = cause != null ? cause : null;
      this.message_8yp7un$_0 = typeof message === 'undefined' && tmp$ != null ? Kotlin.toString(tmp$) : message;
      this.cause_th0jdv$_0 = tmp$;
      Kotlin.captureStack(Throwable, this);
      this.name = 'Exception';
    }
    Object.defineProperty(Exception.prototype, 'message', {get: function () {
      return this.message_8yp7un$_0;
    }});
    Object.defineProperty(Exception.prototype, 'cause', {get: function () {
      return this.cause_th0jdv$_0;
    }});
    Exception.$metadata$ = {kind: Kind_CLASS, simpleName: 'Exception', interfaces: [Throwable]};
    function Exception_init($this) {
      $this = $this || Object.create(Exception.prototype);
      Exception.call($this, null, null);
      get_js(getKClass(Exception)).call($this, null, null);
      return $this;
    }
    function Exception_init_0(message, $this) {
      $this = $this || Object.create(Exception.prototype);
      Exception.call($this, message, null);
      get_js(getKClass(Exception)).call($this, message, null);
      return $this;
    }
    function RuntimeException(message, cause) {
      Exception.call(this, message, cause);
      this.name = 'RuntimeException';
    }
    RuntimeException.$metadata$ = {kind: Kind_CLASS, simpleName: 'RuntimeException', interfaces: [Exception]};
    function RuntimeException_init_0(message, $this) {
      $this = $this || Object.create(RuntimeException.prototype);
      RuntimeException.call($this, message, null);
      return $this;
    }
    function IllegalArgumentException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'IllegalArgumentException';
    }
    IllegalArgumentException.$metadata$ = {kind: Kind_CLASS, simpleName: 'IllegalArgumentException', interfaces: [RuntimeException]};
    function IllegalArgumentException_init_0(message, $this) {
      $this = $this || Object.create(IllegalArgumentException.prototype);
      IllegalArgumentException.call($this, message, null);
      return $this;
    }
    function IllegalStateException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'IllegalStateException';
    }
    IllegalStateException.$metadata$ = {kind: Kind_CLASS, simpleName: 'IllegalStateException', interfaces: [RuntimeException]};
    function IllegalStateException_init_0(message, $this) {
      $this = $this || Object.create(IllegalStateException.prototype);
      IllegalStateException.call($this, message, null);
      return $this;
    }
    function IndexOutOfBoundsException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'IndexOutOfBoundsException';
    }
    IndexOutOfBoundsException.$metadata$ = {kind: Kind_CLASS, simpleName: 'IndexOutOfBoundsException', interfaces: [RuntimeException]};
    function UnsupportedOperationException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'UnsupportedOperationException';
    }
    UnsupportedOperationException.$metadata$ = {kind: Kind_CLASS, simpleName: 'UnsupportedOperationException', interfaces: [RuntimeException]};
    function UnsupportedOperationException_init_0(message, $this) {
      $this = $this || Object.create(UnsupportedOperationException.prototype);
      UnsupportedOperationException.call($this, message, null);
      return $this;
    }
    function NumberFormatException(message) {
      IllegalArgumentException_init_0(message, this);
      this.name = 'NumberFormatException';
    }
    NumberFormatException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NumberFormatException', interfaces: [IllegalArgumentException]};
    function NullPointerException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'NullPointerException';
    }
    NullPointerException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NullPointerException', interfaces: [RuntimeException]};
    function ClassCastException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'ClassCastException';
    }
    ClassCastException.$metadata$ = {kind: Kind_CLASS, simpleName: 'ClassCastException', interfaces: [RuntimeException]};
    function NoSuchElementException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'NoSuchElementException';
    }
    NoSuchElementException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NoSuchElementException', interfaces: [RuntimeException]};
    function NoSuchElementException_init($this) {
      $this = $this || Object.create(NoSuchElementException.prototype);
      NoSuchElementException.call($this, null);
      return $this;
    }
    function ArithmeticException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'ArithmeticException';
    }
    ArithmeticException.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArithmeticException', interfaces: [RuntimeException]};
    function NoWhenBranchMatchedException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'NoWhenBranchMatchedException';
    }
    NoWhenBranchMatchedException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NoWhenBranchMatchedException', interfaces: [RuntimeException]};
    function NoWhenBranchMatchedException_init($this) {
      $this = $this || Object.create(NoWhenBranchMatchedException.prototype);
      NoWhenBranchMatchedException.call($this, null, null);
      return $this;
    }
    function UninitializedPropertyAccessException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'UninitializedPropertyAccessException';
    }
    UninitializedPropertyAccessException.$metadata$ = {kind: Kind_CLASS, simpleName: 'UninitializedPropertyAccessException', interfaces: [RuntimeException]};
    function UninitializedPropertyAccessException_init_0(message, $this) {
      $this = $this || Object.create(UninitializedPropertyAccessException.prototype);
      UninitializedPropertyAccessException.call($this, message, null);
      return $this;
    }
    function Serializable() {
    }
    Serializable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Serializable', interfaces: []};
    function json(pairs) {
      var tmp$;
      var res = {};
      for (tmp$ = 0; tmp$ !== pairs.length; ++tmp$) {
        var tmp$_0 = pairs[tmp$];
        var name = tmp$_0.component1(), value = tmp$_0.component2();
        res[name] = value;
      }
      return res;
    }
    function round(x) {
      if (x % 0.5 !== 0.0) {
        return Math.round(x);
      }
      var floor = Math_0.floor(x);
      return floor % 2 === 0.0 ? floor : Math_0.ceil(x);
    }
    function isNaN_0($receiver) {
      return $receiver !== $receiver;
    }
    function isNaN_1($receiver) {
      return $receiver !== $receiver;
    }
    function isInfinite($receiver) {
      return $receiver === kotlin_js_internal_DoubleCompanionObject.POSITIVE_INFINITY || $receiver === kotlin_js_internal_DoubleCompanionObject.NEGATIVE_INFINITY;
    }
    function isInfinite_0($receiver) {
      return $receiver === kotlin_js_internal_FloatCompanionObject.POSITIVE_INFINITY || $receiver === kotlin_js_internal_FloatCompanionObject.NEGATIVE_INFINITY;
    }
    function isFinite($receiver) {
      return !isInfinite($receiver) && !isNaN_0($receiver);
    }
    function isFinite_0($receiver) {
      return !isInfinite_0($receiver) && !isNaN_1($receiver);
    }
    var INV_2_26;
    var INV_2_53;
    function get_js($receiver) {
      var tmp$;
      return (Kotlin.isType(tmp$ = $receiver, KClassImpl) ? tmp$ : throwCCE_0()).jClass;
    }
    function KClassImpl(jClass) {
      this.jClass_1ppatx$_0 = jClass;
    }
    Object.defineProperty(KClassImpl.prototype, 'jClass', {get: function () {
      return this.jClass_1ppatx$_0;
    }});
    Object.defineProperty(KClassImpl.prototype, 'annotations', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'constructors', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isAbstract', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isCompanion', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isData', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isFinal', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isInner', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isOpen', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isSealed', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'members', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'nestedClasses', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'objectInstance', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'qualifiedName', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'supertypes', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'typeParameters', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'sealedSubclasses', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'visibility', {get: function () {
      throw new NotImplementedError();
    }});
    KClassImpl.prototype.equals = function (other) {
      return Kotlin.isType(other, KClassImpl) && equals(this.jClass, other.jClass);
    };
    KClassImpl.prototype.hashCode = function () {
      var tmp$, tmp$_0;
      return (tmp$_0 = (tmp$ = this.simpleName) != null ? hashCode(tmp$) : null) != null ? tmp$_0 : 0;
    };
    KClassImpl.prototype.toString = function () {
      return 'class ' + toString(this.simpleName);
    };
    KClassImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'KClassImpl', interfaces: [KClass]};
    function SimpleKClassImpl(jClass) {
      KClassImpl.call(this, jClass);
      var tmp$;
      this.simpleName_m7mxi0$_0 = (tmp$ = jClass.$metadata$) != null ? tmp$.simpleName : null;
    }
    Object.defineProperty(SimpleKClassImpl.prototype, 'simpleName', {get: function () {
      return this.simpleName_m7mxi0$_0;
    }});
    SimpleKClassImpl.prototype.isInstance_s8jyv4$ = function (value) {
      var jsClass = this.jClass;
      return Kotlin.isType(value, jsClass);
    };
    SimpleKClassImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'SimpleKClassImpl', interfaces: [KClassImpl]};
    function PrimitiveKClassImpl(jClass, givenSimpleName, isInstanceFunction) {
      KClassImpl.call(this, jClass);
      this.givenSimpleName_0 = givenSimpleName;
      this.isInstanceFunction_0 = isInstanceFunction;
    }
    PrimitiveKClassImpl.prototype.equals = function (other) {
      if (!Kotlin.isType(other, PrimitiveKClassImpl))
        return false;
      return KClassImpl.prototype.equals.call(this, other) && equals(this.givenSimpleName_0, other.givenSimpleName_0);
    };
    Object.defineProperty(PrimitiveKClassImpl.prototype, 'simpleName', {get: function () {
      return this.givenSimpleName_0;
    }});
    PrimitiveKClassImpl.prototype.isInstance_s8jyv4$ = function (value) {
      return this.isInstanceFunction_0(value);
    };
    PrimitiveKClassImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'PrimitiveKClassImpl', interfaces: [KClassImpl]};
    function NothingKClassImpl() {
      NothingKClassImpl_instance = this;
      KClassImpl.call(this, Object);
      this.simpleName_lnzy73$_0 = 'Nothing';
    }
    Object.defineProperty(NothingKClassImpl.prototype, 'simpleName', {get: function () {
      return this.simpleName_lnzy73$_0;
    }});
    NothingKClassImpl.prototype.isInstance_s8jyv4$ = function (value) {
      return false;
    };
    Object.defineProperty(NothingKClassImpl.prototype, 'jClass', {get: function () {
      throw UnsupportedOperationException_init_0("There's no native JS class for Nothing type");
    }});
    NothingKClassImpl.prototype.equals = function (other) {
      return other === this;
    };
    NothingKClassImpl.prototype.hashCode = function () {
      return 0;
    };
    NothingKClassImpl.$metadata$ = {kind: Kind_OBJECT, simpleName: 'NothingKClassImpl', interfaces: [KClassImpl]};
    var NothingKClassImpl_instance = null;
    function NothingKClassImpl_getInstance() {
      if (NothingKClassImpl_instance === null) {
        new NothingKClassImpl();
      }
      return NothingKClassImpl_instance;
    }
    function PrimitiveClasses() {
      PrimitiveClasses_instance = this;
      this.anyClass = new PrimitiveKClassImpl(Object, 'Any', PrimitiveClasses$anyClass$lambda);
      this.numberClass = new PrimitiveKClassImpl(Number, 'Number', PrimitiveClasses$numberClass$lambda);
      this.nothingClass = NothingKClassImpl_getInstance();
      this.booleanClass = new PrimitiveKClassImpl(Boolean, 'Boolean', PrimitiveClasses$booleanClass$lambda);
      this.byteClass = new PrimitiveKClassImpl(Number, 'Byte', PrimitiveClasses$byteClass$lambda);
      this.shortClass = new PrimitiveKClassImpl(Number, 'Short', PrimitiveClasses$shortClass$lambda);
      this.intClass = new PrimitiveKClassImpl(Number, 'Int', PrimitiveClasses$intClass$lambda);
      this.floatClass = new PrimitiveKClassImpl(Number, 'Float', PrimitiveClasses$floatClass$lambda);
      this.doubleClass = new PrimitiveKClassImpl(Number, 'Double', PrimitiveClasses$doubleClass$lambda);
      this.arrayClass = new PrimitiveKClassImpl(Array, 'Array', PrimitiveClasses$arrayClass$lambda);
      this.stringClass = new PrimitiveKClassImpl(String, 'String', PrimitiveClasses$stringClass$lambda);
      this.throwableClass = new PrimitiveKClassImpl(Error, 'Throwable', PrimitiveClasses$throwableClass$lambda);
      this.booleanArrayClass = new PrimitiveKClassImpl(Array, 'BooleanArray', PrimitiveClasses$booleanArrayClass$lambda);
      this.charArrayClass = new PrimitiveKClassImpl(Uint16Array, 'CharArray', PrimitiveClasses$charArrayClass$lambda);
      this.byteArrayClass = new PrimitiveKClassImpl(Int8Array, 'ByteArray', PrimitiveClasses$byteArrayClass$lambda);
      this.shortArrayClass = new PrimitiveKClassImpl(Int16Array, 'ShortArray', PrimitiveClasses$shortArrayClass$lambda);
      this.intArrayClass = new PrimitiveKClassImpl(Int32Array, 'IntArray', PrimitiveClasses$intArrayClass$lambda);
      this.longArrayClass = new PrimitiveKClassImpl(Array, 'LongArray', PrimitiveClasses$longArrayClass$lambda);
      this.floatArrayClass = new PrimitiveKClassImpl(Float32Array, 'FloatArray', PrimitiveClasses$floatArrayClass$lambda);
      this.doubleArrayClass = new PrimitiveKClassImpl(Float64Array, 'DoubleArray', PrimitiveClasses$doubleArrayClass$lambda);
    }
    function PrimitiveClasses$functionClass$lambda$lambda(closure$arity) {
      return function (it) {
        return typeof it === 'function' && it.length === closure$arity;
      };
    }
    PrimitiveClasses.prototype.functionClass = function (arity) {
      var tmp$;
      var tmp$_0;
      if ((tmp$ = functionClasses[arity]) != null)
        tmp$_0 = tmp$;
      else {
        var result = new PrimitiveKClassImpl(Function, 'Function' + arity, PrimitiveClasses$functionClass$lambda$lambda(arity));
        functionClasses[arity] = result;
        tmp$_0 = result;
      }
      return tmp$_0;
    };
    function PrimitiveClasses$anyClass$lambda(it) {
      return Kotlin.isType(it, Any);
    }
    function PrimitiveClasses$numberClass$lambda(it) {
      return Kotlin.isNumber(it);
    }
    function PrimitiveClasses$booleanClass$lambda(it) {
      return typeof it === 'boolean';
    }
    function PrimitiveClasses$byteClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$shortClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$intClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$floatClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$doubleClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$arrayClass$lambda(it) {
      return Kotlin.isArray(it);
    }
    function PrimitiveClasses$stringClass$lambda(it) {
      return typeof it === 'string';
    }
    function PrimitiveClasses$throwableClass$lambda(it) {
      return Kotlin.isType(it, Throwable);
    }
    function PrimitiveClasses$booleanArrayClass$lambda(it) {
      return Kotlin.isBooleanArray(it);
    }
    function PrimitiveClasses$charArrayClass$lambda(it) {
      return Kotlin.isCharArray(it);
    }
    function PrimitiveClasses$byteArrayClass$lambda(it) {
      return Kotlin.isByteArray(it);
    }
    function PrimitiveClasses$shortArrayClass$lambda(it) {
      return Kotlin.isShortArray(it);
    }
    function PrimitiveClasses$intArrayClass$lambda(it) {
      return Kotlin.isIntArray(it);
    }
    function PrimitiveClasses$longArrayClass$lambda(it) {
      return Kotlin.isLongArray(it);
    }
    function PrimitiveClasses$floatArrayClass$lambda(it) {
      return Kotlin.isFloatArray(it);
    }
    function PrimitiveClasses$doubleArrayClass$lambda(it) {
      return Kotlin.isDoubleArray(it);
    }
    PrimitiveClasses.$metadata$ = {kind: Kind_OBJECT, simpleName: 'PrimitiveClasses', interfaces: []};
    var PrimitiveClasses_instance = null;
    function PrimitiveClasses_getInstance() {
      if (PrimitiveClasses_instance === null) {
        new PrimitiveClasses();
      }
      return PrimitiveClasses_instance;
    }
    var functionClasses;
    function getKClass(jClass) {
      return getOrCreateKClass(jClass);
    }
    function getKClassFromExpression(e) {
      var tmp$;
      switch (typeof e) {
        case 'string':
          tmp$ = PrimitiveClasses_getInstance().stringClass;
          break;
        case 'number':
          tmp$ = (e | 0) === e ? PrimitiveClasses_getInstance().intClass : PrimitiveClasses_getInstance().doubleClass;
          break;
        case 'boolean':
          tmp$ = PrimitiveClasses_getInstance().booleanClass;
          break;
        case 'function':
          tmp$ = PrimitiveClasses_getInstance().functionClass(e.length);
          break;
        default:if (Kotlin.isBooleanArray(e))
            tmp$ = PrimitiveClasses_getInstance().booleanArrayClass;
          else if (Kotlin.isCharArray(e))
            tmp$ = PrimitiveClasses_getInstance().charArrayClass;
          else if (Kotlin.isByteArray(e))
            tmp$ = PrimitiveClasses_getInstance().byteArrayClass;
          else if (Kotlin.isShortArray(e))
            tmp$ = PrimitiveClasses_getInstance().shortArrayClass;
          else if (Kotlin.isIntArray(e))
            tmp$ = PrimitiveClasses_getInstance().intArrayClass;
          else if (Kotlin.isLongArray(e))
            tmp$ = PrimitiveClasses_getInstance().longArrayClass;
          else if (Kotlin.isFloatArray(e))
            tmp$ = PrimitiveClasses_getInstance().floatArrayClass;
          else if (Kotlin.isDoubleArray(e))
            tmp$ = PrimitiveClasses_getInstance().doubleArrayClass;
          else if (Kotlin.isType(e, KClass))
            tmp$ = getKClass(KClass);
          else if (Kotlin.isArray(e))
            tmp$ = PrimitiveClasses_getInstance().arrayClass;
          else {
            var constructor = Object.getPrototypeOf(e).constructor;
            if (constructor === Object)
              tmp$ = PrimitiveClasses_getInstance().anyClass;
            else if (constructor === Error)
              tmp$ = PrimitiveClasses_getInstance().throwableClass;
            else {
              var jsClass = constructor;
              tmp$ = getOrCreateKClass(jsClass);
            }
          }

          break;
      }
      return tmp$;
    }
    function getOrCreateKClass(jClass) {
      var tmp$;
      if (jClass === String) {
        return PrimitiveClasses_getInstance().stringClass;
      }
      var metadata = jClass.$metadata$;
      if (metadata != null) {
        if (metadata.$kClass$ == null) {
          var kClass = new SimpleKClassImpl(jClass);
          metadata.$kClass$ = kClass;
          tmp$ = kClass;
        }
         else {
          tmp$ = metadata.$kClass$;
        }
      }
       else {
        tmp$ = new SimpleKClassImpl(jClass);
      }
      return tmp$;
    }
    function reset($receiver) {
      $receiver.lastIndex = 0;
    }
    function isWhitespace($receiver) {
      return matches(String.fromCharCode($receiver), '[\\s\\xA0]');
    }
    function toBoolean($receiver) {
      return equals($receiver.toLowerCase(), 'true');
    }
    function toByte_0($receiver) {
      var tmp$;
      return (tmp$ = toByteOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toShort_0($receiver) {
      var tmp$;
      return (tmp$ = toShortOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toInt($receiver) {
      var tmp$;
      return (tmp$ = toIntOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toLong($receiver) {
      var tmp$;
      return (tmp$ = toLongOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toDouble($receiver) {
      var $receiver_0 = +$receiver;
      if (isNaN_0($receiver_0) && !isNaN_2($receiver) || ($receiver_0 === 0.0 && isBlank($receiver)))
        numberFormatError($receiver);
      return $receiver_0;
    }
    function toDoubleOrNull($receiver) {
      var $receiver_0 = +$receiver;
      return !(isNaN_0($receiver_0) && !isNaN_2($receiver) || ($receiver_0 === 0.0 && isBlank($receiver))) ? $receiver_0 : null;
    }
    function isNaN_2($receiver) {
      switch ($receiver.toLowerCase()) {
        case 'nan':
        case '+nan':
        case '-nan':
          return true;
        default:return false;
      }
    }
    function checkRadix(radix) {
      if (!(2 <= radix && radix <= 36)) {
        throw IllegalArgumentException_init_0('radix ' + radix + ' was not in valid range 2..36');
      }
      return radix;
    }
    function digitOf(char, radix) {
      var tmp$;
      if (char >= 48 && char <= 57)
        tmp$ = char - 48;
      else if (char >= 65 && char <= 90)
        tmp$ = char - 65 + 10 | 0;
      else if (char >= 97 && char <= 122)
        tmp$ = char - 97 + 10 | 0;
      else
        tmp$ = -1;
      var it = tmp$;
      return it >= radix ? -1 : it;
    }
    function RegexOption(name, ordinal, value) {
      Enum.call(this);
      this.value = value;
      this.name$ = name;
      this.ordinal$ = ordinal;
    }
    function RegexOption_initFields() {
      RegexOption_initFields = function () {
      };
      RegexOption$IGNORE_CASE_instance = new RegexOption('IGNORE_CASE', 0, 'i');
      RegexOption$MULTILINE_instance = new RegexOption('MULTILINE', 1, 'm');
    }
    var RegexOption$IGNORE_CASE_instance;
    function RegexOption$IGNORE_CASE_getInstance() {
      RegexOption_initFields();
      return RegexOption$IGNORE_CASE_instance;
    }
    var RegexOption$MULTILINE_instance;
    function RegexOption$MULTILINE_getInstance() {
      RegexOption_initFields();
      return RegexOption$MULTILINE_instance;
    }
    RegexOption.$metadata$ = {kind: Kind_CLASS, simpleName: 'RegexOption', interfaces: [Enum]};
    function RegexOption$values() {
      return [RegexOption$IGNORE_CASE_getInstance(), RegexOption$MULTILINE_getInstance()];
    }
    RegexOption.values = RegexOption$values;
    function RegexOption$valueOf(name) {
      switch (name) {
        case 'IGNORE_CASE':
          return RegexOption$IGNORE_CASE_getInstance();
        case 'MULTILINE':
          return RegexOption$MULTILINE_getInstance();
        default:throwISE('No enum constant kotlin.text.RegexOption.' + name);
      }
    }
    RegexOption.valueOf_61zpoe$ = RegexOption$valueOf;
    function MatchGroup(value) {
      this.value = value;
    }
    MatchGroup.$metadata$ = {kind: Kind_CLASS, simpleName: 'MatchGroup', interfaces: []};
    MatchGroup.prototype.component1 = function () {
      return this.value;
    };
    MatchGroup.prototype.copy_61zpoe$ = function (value) {
      return new MatchGroup(value === void 0 ? this.value : value);
    };
    MatchGroup.prototype.toString = function () {
      return 'MatchGroup(value=' + Kotlin.toString(this.value) + ')';
    };
    MatchGroup.prototype.hashCode = function () {
      var result = 0;
      result = result * 31 + Kotlin.hashCode(this.value) | 0;
      return result;
    };
    MatchGroup.prototype.equals = function (other) {
      return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && Kotlin.equals(this.value, other.value))));
    };
    function Regex(pattern, options) {
      Regex$Companion_getInstance();
      this.pattern = pattern;
      this.options = toSet_8(options);
      var destination = ArrayList_init_0(collectionSizeOrDefault(options, 10));
      var tmp$;
      tmp$ = options.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item.value);
      }
      this.nativePattern_0 = new RegExp(pattern, joinToString_8(destination, '') + 'g');
    }
    Regex.prototype.matches_6bul2c$ = function (input) {
      reset(this.nativePattern_0);
      var match = this.nativePattern_0.exec(input.toString());
      return match != null && match.index === 0 && this.nativePattern_0.lastIndex === input.length;
    };
    Regex.prototype.containsMatchIn_6bul2c$ = function (input) {
      reset(this.nativePattern_0);
      return this.nativePattern_0.test(input.toString());
    };
    Regex.prototype.find_905azu$ = function (input, startIndex) {
      if (startIndex === void 0)
        startIndex = 0;
      return findNext(this.nativePattern_0, input.toString(), startIndex);
    };
    function Regex$findAll$lambda(closure$input, closure$startIndex, this$Regex) {
      return function () {
        return this$Regex.find_905azu$(closure$input, closure$startIndex);
      };
    }
    function Regex$findAll$lambda_0(match) {
      return match.next();
    }
    Regex.prototype.findAll_905azu$ = function (input, startIndex) {
      if (startIndex === void 0)
        startIndex = 0;
      return generateSequence_1(Regex$findAll$lambda(input, startIndex, this), Regex$findAll$lambda_0);
    };
    Regex.prototype.matchEntire_6bul2c$ = function (input) {
      if (startsWith_1(this.pattern, 94) && endsWith_0(this.pattern, 36))
        return this.find_905azu$(input);
      else
        return (new Regex('^' + trimEnd_2(trimStart_2(this.pattern, Kotlin.charArrayOf(94)), Kotlin.charArrayOf(36)) + '$', this.options)).find_905azu$(input);
    };
    Regex.prototype.replace_x2uqeu$ = function (input, replacement) {
      return input.toString().replace(this.nativePattern_0, replacement);
    };
    Regex.prototype.replace_20wsma$ = defineInlineFunction('kotlin.kotlin.text.Regex.replace_20wsma$', wrapFunction(function () {
      var StringBuilder_init = _.kotlin.text.StringBuilder_init_za3lpa$;
      var ensureNotNull = Kotlin.ensureNotNull;
      return function (input, transform) {
        var match = this.find_905azu$(input);
        if (match == null)
          return input.toString();
        var lastStart = 0;
        var length = input.length;
        var sb = StringBuilder_init(length);
        do {
          var foundMatch = ensureNotNull(match);
          sb.append_ezbsdh$(input, lastStart, foundMatch.range.start);
          sb.append_gw00v9$(transform(foundMatch));
          lastStart = foundMatch.range.endInclusive + 1 | 0;
          match = foundMatch.next();
        }
         while (lastStart < length && match != null);
        if (lastStart < length) {
          sb.append_ezbsdh$(input, lastStart, length);
        }
        return sb.toString();
      };
    }));
    Regex.prototype.replaceFirst_x2uqeu$ = function (input, replacement) {
      var $receiver = this.options;
      var destination = ArrayList_init_0(collectionSizeOrDefault($receiver, 10));
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item.value);
      }
      var nonGlobalOptions = joinToString_8(destination, '');
      return input.toString().replace(new RegExp(this.pattern, nonGlobalOptions), replacement);
    };
    Regex.prototype.split_905azu$ = function (input, limit) {
      if (limit === void 0)
        limit = 0;
      var tmp$;
      if (!(limit >= 0)) {
        var message = 'Limit must be non-negative, but was ' + limit;
        throw IllegalArgumentException_init_0(message.toString());
      }
      var it = this.findAll_905azu$(input);
      var matches = limit === 0 ? it : take_9(it, limit - 1 | 0);
      var result = ArrayList_init();
      var lastStart = 0;
      tmp$ = matches.iterator();
      while (tmp$.hasNext()) {
        var match = tmp$.next();
        result.add_11rb$(Kotlin.subSequence(input, lastStart, match.range.start).toString());
        lastStart = match.range.endInclusive + 1 | 0;
      }
      result.add_11rb$(Kotlin.subSequence(input, lastStart, input.length).toString());
      return result;
    };
    Regex.prototype.toString = function () {
      return this.nativePattern_0.toString();
    };
    function Regex$Companion() {
      Regex$Companion_instance = this;
      this.patternEscape_0 = new RegExp('[-\\\\^$*+?.()|[\\]{}]', 'g');
      this.replacementEscape_0 = new RegExp('\\$', 'g');
    }
    Regex$Companion.prototype.fromLiteral_61zpoe$ = function (literal) {
      return Regex_init_0(this.escape_61zpoe$(literal));
    };
    Regex$Companion.prototype.escape_61zpoe$ = function (literal) {
      return literal.replace(this.patternEscape_0, '\\$&');
    };
    Regex$Companion.prototype.escapeReplacement_61zpoe$ = function (literal) {
      return literal.replace(this.replacementEscape_0, '$$$$');
    };
    Regex$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var Regex$Companion_instance = null;
    function Regex$Companion_getInstance() {
      if (Regex$Companion_instance === null) {
        new Regex$Companion();
      }
      return Regex$Companion_instance;
    }
    Regex.$metadata$ = {kind: Kind_CLASS, simpleName: 'Regex', interfaces: []};
    function Regex_init(pattern, option, $this) {
      $this = $this || Object.create(Regex.prototype);
      Regex.call($this, pattern, setOf(option));
      return $this;
    }
    function Regex_init_0(pattern, $this) {
      $this = $this || Object.create(Regex.prototype);
      Regex.call($this, pattern, emptySet());
      return $this;
    }
    function findNext$ObjectLiteral(closure$match, this$findNext, closure$input, closure$range) {
      this.closure$match = closure$match;
      this.this$findNext = this$findNext;
      this.closure$input = closure$input;
      this.closure$range = closure$range;
      this.range_co6b9w$_0 = closure$range;
      this.groups_qcaztb$_0 = new findNext$ObjectLiteral$groups$ObjectLiteral(closure$match);
      this.groupValues__0 = null;
    }
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'range', {get: function () {
      return this.range_co6b9w$_0;
    }});
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'value', {get: function () {
      return ensureNotNull(this.closure$match[0]);
    }});
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'groups', {get: function () {
      return this.groups_qcaztb$_0;
    }});
    function findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral(closure$match) {
      this.closure$match = closure$match;
      AbstractList.call(this);
    }
    Object.defineProperty(findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype, 'size', {get: function () {
      return this.closure$match.length;
    }});
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype.get_za3lpa$ = function (index) {
      var tmp$;
      return (tmp$ = this.closure$match[index]) != null ? tmp$ : '';
    };
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractList]};
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'groupValues', {get: function () {
      if (this.groupValues__0 == null) {
        this.groupValues__0 = new findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral(this.closure$match);
      }
      return ensureNotNull(this.groupValues__0);
    }});
    findNext$ObjectLiteral.prototype.next = function () {
      return findNext(this.this$findNext, this.closure$input, this.closure$range.isEmpty() ? this.closure$range.start + 1 | 0 : this.closure$range.endInclusive + 1 | 0);
    };
    function findNext$ObjectLiteral$groups$ObjectLiteral(closure$match) {
      this.closure$match = closure$match;
      AbstractCollection.call(this);
    }
    Object.defineProperty(findNext$ObjectLiteral$groups$ObjectLiteral.prototype, 'size', {get: function () {
      return this.closure$match.length;
    }});
    function findNext$ObjectLiteral$groups$ObjectLiteral$iterator$lambda(this$) {
      return function (it) {
        return this$.get_za3lpa$(it);
      };
    }
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype.iterator = function () {
      return map_10(asSequence_8(get_indices_12(this)), findNext$ObjectLiteral$groups$ObjectLiteral$iterator$lambda(this)).iterator();
    };
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype.get_za3lpa$ = function (index) {
      var tmp$;
      return (tmp$ = this.closure$match[index]) != null ? new MatchGroup(tmp$) : null;
    };
    findNext$ObjectLiteral$groups$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractCollection, MatchGroupCollection]};
    findNext$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MatchResult]};
    function findNext($receiver, input, from) {
      $receiver.lastIndex = from;
      var match = $receiver.exec(input);
      if (match == null)
        return null;
      var range = new IntRange(match.index, $receiver.lastIndex - 1 | 0);
      return new findNext$ObjectLiteral(match, $receiver, input, range);
    }
    function Comparator$ObjectLiteral_0(closure$comparison) {
      this.closure$comparison = closure$comparison;
    }
    Comparator$ObjectLiteral_0.prototype.compare = function (a, b) {
      return this.closure$comparison(a, b);
    };
    Comparator$ObjectLiteral_0.$metadata$ = {kind: Kind_CLASS, interfaces: [Comparator]};
    function String_2(chars, offset, length) {
      var tmp$;
      if (offset < 0 || length < 0 || (chars.length - offset | 0) < length)
        throw new IndexOutOfBoundsException('size: ' + chars.length + '; offset: ' + offset + '; length: ' + length);
      var result = '';
      tmp$ = offset + length | 0;
      for (var index = offset; index < tmp$; index++) {
        result += String.fromCharCode(chars[index]);
      }
      return result;
    }
    function compareTo($receiver, other, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (ignoreCase) {
        var n1 = $receiver.length;
        var n2 = other.length;
        var min = Math_0.min(n1, n2);
        if (min === 0)
          return n1 - n2 | 0;
        var start = 0;
        while (true) {
          var end = Math_0.min(start + 16 | 0, min);
          var s1 = $receiver.substring(start, end);
          var s2 = other.substring(start, end);
          if (!equals(s1, s2)) {
            s1 = s1.toUpperCase();
            s2 = s2.toUpperCase();
            if (!equals(s1, s2)) {
              s1 = s1.toLowerCase();
              s2 = s2.toLowerCase();
              if (!equals(s1, s2)) {
                return Kotlin.compareTo(s1, s2);
              }
            }
          }
          if (end === min)
            break;
          start = end;
        }
        return n1 - n2 | 0;
      }
       else {
        return Kotlin.compareTo($receiver, other);
      }
    }
    function STRING_CASE_INSENSITIVE_ORDER$lambda(a, b) {
      return compareTo(a, b, true);
    }
    var STRING_CASE_INSENSITIVE_ORDER;
    function matches($receiver, regex) {
      var result = $receiver.match(regex);
      return result != null && result.length !== 0;
    }
    function isBlank($receiver) {
      return $receiver.length === 0 || matches(typeof $receiver === 'string' ? $receiver : $receiver.toString(), '^[\\s\\xA0]+$');
    }
    function equals_0($receiver, other, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      var tmp$;
      if ($receiver == null)
        tmp$ = other == null;
      else {
        var tmp$_0;
        if (!ignoreCase)
          tmp$_0 = equals($receiver, other);
        else {
          var tmp$_1 = other != null;
          if (tmp$_1) {
            tmp$_1 = equals($receiver.toLowerCase(), other.toLowerCase());
          }
          tmp$_0 = tmp$_1;
        }
        tmp$ = tmp$_0;
      }
      return tmp$;
    }
    function regionMatches($receiver, thisOffset, other, otherOffset, length, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return regionMatchesImpl($receiver, thisOffset, other, otherOffset, length, ignoreCase);
    }
    function replace($receiver, oldValue, newValue, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return $receiver.replace(new RegExp(Regex$Companion_getInstance().escape_61zpoe$(oldValue), ignoreCase ? 'gi' : 'g'), Regex$Companion_getInstance().escapeReplacement_61zpoe$(newValue));
    }
    function Appendable() {
    }
    Appendable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Appendable', interfaces: []};
    function StringBuilder(content) {
      if (content === void 0)
        content = '';
      this.string_0 = content;
    }
    Object.defineProperty(StringBuilder.prototype, 'length', {get: function () {
      return this.string_0.length;
    }});
    StringBuilder.prototype.charCodeAt = function (index) {
      var $receiver = this.string_0;
      var tmp$;
      if (index >= 0 && index <= get_lastIndex_13($receiver))
        tmp$ = $receiver.charCodeAt(index);
      else {
        throw new IndexOutOfBoundsException('index: ' + index + ', length: ' + this.length + '}');
      }
      return tmp$;
    };
    StringBuilder.prototype.subSequence_vux9f0$ = function (startIndex, endIndex) {
      return this.string_0.substring(startIndex, endIndex);
    };
    StringBuilder.prototype.append_s8itvh$ = function (c) {
      this.string_0 += String.fromCharCode(c);
      return this;
    };
    StringBuilder.prototype.append_gw00v9$ = function (csq) {
      this.string_0 += toString(csq);
      return this;
    };
    StringBuilder.prototype.append_ezbsdh$ = function (csq, start, end) {
      this.string_0 += toString(csq).substring(start, end);
      return this;
    };
    StringBuilder.prototype.append_s8jyv4$ = function (obj) {
      this.string_0 += toString(obj);
      return this;
    };
    StringBuilder.prototype.reverse = function () {
      this.string_0 = this.string_0.split('').reverse().join('');
      return this;
    };
    StringBuilder.prototype.clear = function () {
      this.string_0 = '';
      return this;
    };
    StringBuilder.prototype.toString = function () {
      return this.string_0;
    };
    StringBuilder.$metadata$ = {kind: Kind_CLASS, simpleName: 'StringBuilder', interfaces: [CharSequence, Appendable]};
    function StringBuilder_init(capacity, $this) {
      $this = $this || Object.create(StringBuilder.prototype);
      StringBuilder_init_1($this);
      return $this;
    }
    function StringBuilder_init_1($this) {
      $this = $this || Object.create(StringBuilder.prototype);
      StringBuilder.call($this, '');
      return $this;
    }
    var MAX_BYTES_PER_CHAR;
    var REPLACEMENT_BYTE_SEQUENCE;
    var REPLACEMENT_CHAR;
    var DurationUnit$NANOSECONDS_instance;
    var DurationUnit$MICROSECONDS_instance;
    var DurationUnit$MILLISECONDS_instance;
    var DurationUnit$SECONDS_instance;
    var DurationUnit$MINUTES_instance;
    var DurationUnit$HOURS_instance;
    var DurationUnit$DAYS_instance;
    var MonoClock_instance = null;
    var DateNowClock_instance = null;
    var Experimental$Level$WARNING_instance;
    var Experimental$Level$ERROR_instance;
    function AbstractCollection() {
    }
    AbstractCollection.prototype.contains_11rb$ = function (element) {
      var any$result;
      any$break: do {
        var tmp$;
        if (Kotlin.isType(this, Collection) && this.isEmpty()) {
          any$result = false;
          break any$break;
        }
        tmp$ = this.iterator();
        while (tmp$.hasNext()) {
          var element_0 = tmp$.next();
          if (equals(element_0, element)) {
            any$result = true;
            break any$break;
          }
        }
        any$result = false;
      }
       while (false);
      return any$result;
    };
    AbstractCollection.prototype.containsAll_brywnq$ = function (elements) {
      var all$result;
      all$break: do {
        var tmp$;
        if (Kotlin.isType(elements, Collection) && elements.isEmpty()) {
          all$result = true;
          break all$break;
        }
        tmp$ = elements.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (!this.contains_11rb$(element)) {
            all$result = false;
            break all$break;
          }
        }
        all$result = true;
      }
       while (false);
      return all$result;
    };
    AbstractCollection.prototype.isEmpty = function () {
      return this.size === 0;
    };
    function AbstractCollection$toString$lambda(this$AbstractCollection) {
      return function (it) {
        return it === this$AbstractCollection ? '(this Collection)' : toString(it);
      };
    }
    AbstractCollection.prototype.toString = function () {
      return joinToString_8(this, ', ', '[', ']', void 0, void 0, AbstractCollection$toString$lambda(this));
    };
    AbstractCollection.prototype.toArray = function () {
      return copyToArrayImpl(this);
    };
    AbstractCollection.prototype.toArray_ro6dgy$ = function (array) {
      return copyToArrayImpl_0(this, array);
    };
    AbstractCollection.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractCollection', interfaces: [Collection]};
    var State$Ready_instance;
    var State$NotReady_instance;
    var State$Done_instance;
    var State$Failed_instance;
    function AbstractList() {
      AbstractList$Companion_getInstance();
      AbstractCollection.call(this);
    }
    AbstractList.prototype.iterator = function () {
      return new AbstractList$IteratorImpl(this);
    };
    AbstractList.prototype.indexOf_11rb$ = function (element) {
      var indexOfFirst$result;
      indexOfFirst$break: do {
        var tmp$;
        var index = 0;
        tmp$ = this.iterator();
        while (tmp$.hasNext()) {
          var item = tmp$.next();
          if (equals(item, element)) {
            indexOfFirst$result = index;
            break indexOfFirst$break;
          }
          index = index + 1 | 0;
        }
        indexOfFirst$result = -1;
      }
       while (false);
      return indexOfFirst$result;
    };
    AbstractList.prototype.lastIndexOf_11rb$ = function (element) {
      var indexOfLast$result;
      indexOfLast$break: do {
        var iterator = this.listIterator_za3lpa$(this.size);
        while (iterator.hasPrevious()) {
          if (equals(iterator.previous(), element)) {
            indexOfLast$result = iterator.nextIndex();
            break indexOfLast$break;
          }
        }
        indexOfLast$result = -1;
      }
       while (false);
      return indexOfLast$result;
    };
    AbstractList.prototype.listIterator = function () {
      return new AbstractList$ListIteratorImpl(this, 0);
    };
    AbstractList.prototype.listIterator_za3lpa$ = function (index) {
      return new AbstractList$ListIteratorImpl(this, index);
    };
    AbstractList.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
      return new AbstractList$SubList(this, fromIndex, toIndex);
    };
    function AbstractList$SubList(list, fromIndex, toIndex) {
      AbstractList.call(this);
      this.list_0 = list;
      this.fromIndex_0 = fromIndex;
      this._size_0 = 0;
      AbstractList$Companion_getInstance().checkRangeIndexes_cub51b$(this.fromIndex_0, toIndex, this.list_0.size);
      this._size_0 = toIndex - this.fromIndex_0 | 0;
    }
    AbstractList$SubList.prototype.get_za3lpa$ = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      return this.list_0.get_za3lpa$(this.fromIndex_0 + index | 0);
    };
    Object.defineProperty(AbstractList$SubList.prototype, 'size', {get: function () {
      return this._size_0;
    }});
    AbstractList$SubList.$metadata$ = {kind: Kind_CLASS, simpleName: 'SubList', interfaces: [RandomAccess, AbstractList]};
    AbstractList.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, List))
        return false;
      return AbstractList$Companion_getInstance().orderedEquals_e92ka7$(this, other);
    };
    AbstractList.prototype.hashCode = function () {
      return AbstractList$Companion_getInstance().orderedHashCode_nykoif$(this);
    };
    function AbstractList$IteratorImpl($outer) {
      this.$outer = $outer;
      this.index_0 = 0;
    }
    AbstractList$IteratorImpl.prototype.hasNext = function () {
      return this.index_0 < this.$outer.size;
    };
    AbstractList$IteratorImpl.prototype.next = function () {
      var tmp$, tmp$_0;
      if (!this.hasNext())
        throw NoSuchElementException_init();
      tmp$_0 = (tmp$ = this.index_0, this.index_0 = tmp$ + 1 | 0, tmp$);
      return this.$outer.get_za3lpa$(tmp$_0);
    };
    AbstractList$IteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'IteratorImpl', interfaces: [Iterator]};
    function AbstractList$ListIteratorImpl($outer, index) {
      this.$outer = $outer;
      AbstractList$IteratorImpl.call(this, this.$outer);
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this.$outer.size);
      this.index_0 = index;
    }
    AbstractList$ListIteratorImpl.prototype.hasPrevious = function () {
      return this.index_0 > 0;
    };
    AbstractList$ListIteratorImpl.prototype.nextIndex = function () {
      return this.index_0;
    };
    AbstractList$ListIteratorImpl.prototype.previous = function () {
      if (!this.hasPrevious())
        throw NoSuchElementException_init();
      return this.$outer.get_za3lpa$((this.index_0 = this.index_0 - 1 | 0, this.index_0));
    };
    AbstractList$ListIteratorImpl.prototype.previousIndex = function () {
      return this.index_0 - 1 | 0;
    };
    AbstractList$ListIteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListIteratorImpl', interfaces: [ListIterator, AbstractList$IteratorImpl]};
    function AbstractList$Companion() {
      AbstractList$Companion_instance = this;
    }
    AbstractList$Companion.prototype.checkElementIndex_6xvm5r$ = function (index, size) {
      if (index < 0 || index >= size) {
        throw new IndexOutOfBoundsException('index: ' + index + ', size: ' + size);
      }
    };
    AbstractList$Companion.prototype.checkPositionIndex_6xvm5r$ = function (index, size) {
      if (index < 0 || index > size) {
        throw new IndexOutOfBoundsException('index: ' + index + ', size: ' + size);
      }
    };
    AbstractList$Companion.prototype.checkRangeIndexes_cub51b$ = function (fromIndex, toIndex, size) {
      if (fromIndex < 0 || toIndex > size) {
        throw new IndexOutOfBoundsException('fromIndex: ' + fromIndex + ', toIndex: ' + toIndex + ', size: ' + size);
      }
      if (fromIndex > toIndex) {
        throw IllegalArgumentException_init_0('fromIndex: ' + fromIndex + ' > toIndex: ' + toIndex);
      }
    };
    AbstractList$Companion.prototype.checkBoundsIndexes_cub51b$ = function (startIndex, endIndex, size) {
      if (startIndex < 0 || endIndex > size) {
        throw new IndexOutOfBoundsException('startIndex: ' + startIndex + ', endIndex: ' + endIndex + ', size: ' + size);
      }
      if (startIndex > endIndex) {
        throw IllegalArgumentException_init_0('startIndex: ' + startIndex + ' > endIndex: ' + endIndex);
      }
    };
    AbstractList$Companion.prototype.orderedHashCode_nykoif$ = function (c) {
      var tmp$, tmp$_0;
      var hashCode_0 = 1;
      tmp$ = c.iterator();
      while (tmp$.hasNext()) {
        var e = tmp$.next();
        hashCode_0 = (31 * hashCode_0 | 0) + ((tmp$_0 = e != null ? hashCode(e) : null) != null ? tmp$_0 : 0) | 0;
      }
      return hashCode_0;
    };
    AbstractList$Companion.prototype.orderedEquals_e92ka7$ = function (c, other) {
      var tmp$;
      if (c.size !== other.size)
        return false;
      var otherIterator = other.iterator();
      tmp$ = c.iterator();
      while (tmp$.hasNext()) {
        var elem = tmp$.next();
        var elemOther = otherIterator.next();
        if (!equals(elem, elemOther)) {
          return false;
        }
      }
      return true;
    };
    AbstractList$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var AbstractList$Companion_instance = null;
    function AbstractList$Companion_getInstance() {
      if (AbstractList$Companion_instance === null) {
        new AbstractList$Companion();
      }
      return AbstractList$Companion_instance;
    }
    AbstractList.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractList', interfaces: [List, AbstractCollection]};
    function AbstractMap() {
      AbstractMap$Companion_getInstance();
      this._keys_up5z3z$_0 = null;
      this._values_6nw1f1$_0 = null;
    }
    AbstractMap.prototype.containsKey_11rb$ = function (key) {
      return this.implFindEntry_8k1i24$_0(key) != null;
    };
    AbstractMap.prototype.containsValue_11rc$ = function (value) {
      var $receiver = this.entries;
      var any$result;
      any$break: do {
        var tmp$;
        if (Kotlin.isType($receiver, Collection) && $receiver.isEmpty()) {
          any$result = false;
          break any$break;
        }
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (equals(element.value, value)) {
            any$result = true;
            break any$break;
          }
        }
        any$result = false;
      }
       while (false);
      return any$result;
    };
    AbstractMap.prototype.containsEntry_8hxqw4$ = function (entry) {
      if (!Kotlin.isType(entry, Map$Entry))
        return false;
      var key = entry.key;
      var value = entry.value;
      var tmp$;
      var ourValue = (Kotlin.isType(tmp$ = this, Map) ? tmp$ : throwCCE()).get_11rb$(key);
      if (!equals(value, ourValue)) {
        return false;
      }
      var tmp$_0 = ourValue == null;
      if (tmp$_0) {
        var tmp$_1;
        tmp$_0 = !(Kotlin.isType(tmp$_1 = this, Map) ? tmp$_1 : throwCCE()).containsKey_11rb$(key);
      }
      if (tmp$_0) {
        return false;
      }
      return true;
    };
    AbstractMap.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, Map))
        return false;
      if (this.size !== other.size)
        return false;
      var $receiver = other.entries;
      var all$result;
      all$break: do {
        var tmp$;
        if (Kotlin.isType($receiver, Collection) && $receiver.isEmpty()) {
          all$result = true;
          break all$break;
        }
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (!this.containsEntry_8hxqw4$(element)) {
            all$result = false;
            break all$break;
          }
        }
        all$result = true;
      }
       while (false);
      return all$result;
    };
    AbstractMap.prototype.get_11rb$ = function (key) {
      var tmp$;
      return (tmp$ = this.implFindEntry_8k1i24$_0(key)) != null ? tmp$.value : null;
    };
    AbstractMap.prototype.hashCode = function () {
      return hashCode(this.entries);
    };
    AbstractMap.prototype.isEmpty = function () {
      return this.size === 0;
    };
    Object.defineProperty(AbstractMap.prototype, 'size', {get: function () {
      return this.entries.size;
    }});
    function AbstractMap$get_AbstractMap$keys$ObjectLiteral(this$AbstractMap) {
      this.this$AbstractMap = this$AbstractMap;
      AbstractSet.call(this);
    }
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMap.containsKey_11rb$(element);
    };
    function AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().key;
    };
    AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMap.entries.iterator();
      return new AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    Object.defineProperty(AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMap.size;
    }});
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractSet]};
    Object.defineProperty(AbstractMap.prototype, 'keys', {get: function () {
      if (this._keys_up5z3z$_0 == null) {
        this._keys_up5z3z$_0 = new AbstractMap$get_AbstractMap$keys$ObjectLiteral(this);
      }
      return ensureNotNull(this._keys_up5z3z$_0);
    }});
    function AbstractMap$toString$lambda(this$AbstractMap) {
      return function (it) {
        return this$AbstractMap.toString_55he67$_0(it);
      };
    }
    AbstractMap.prototype.toString = function () {
      return joinToString_8(this.entries, ', ', '{', '}', void 0, void 0, AbstractMap$toString$lambda(this));
    };
    AbstractMap.prototype.toString_55he67$_0 = function (entry) {
      return this.toString_kthv8s$_0(entry.key) + '=' + this.toString_kthv8s$_0(entry.value);
    };
    AbstractMap.prototype.toString_kthv8s$_0 = function (o) {
      return o === this ? '(this Map)' : toString(o);
    };
    function AbstractMap$get_AbstractMap$values$ObjectLiteral(this$AbstractMap) {
      this.this$AbstractMap = this$AbstractMap;
      AbstractCollection.call(this);
    }
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMap.containsValue_11rc$(element);
    };
    function AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().value;
    };
    AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMap.entries.iterator();
      return new AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    Object.defineProperty(AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMap.size;
    }});
    AbstractMap$get_AbstractMap$values$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractCollection]};
    Object.defineProperty(AbstractMap.prototype, 'values', {get: function () {
      if (this._values_6nw1f1$_0 == null) {
        this._values_6nw1f1$_0 = new AbstractMap$get_AbstractMap$values$ObjectLiteral(this);
      }
      return ensureNotNull(this._values_6nw1f1$_0);
    }});
    AbstractMap.prototype.implFindEntry_8k1i24$_0 = function (key) {
      var $receiver = this.entries;
      var firstOrNull$result;
      firstOrNull$break: do {
        var tmp$;
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (equals(element.key, key)) {
            firstOrNull$result = element;
            break firstOrNull$break;
          }
        }
        firstOrNull$result = null;
      }
       while (false);
      return firstOrNull$result;
    };
    function AbstractMap$Companion() {
      AbstractMap$Companion_instance = this;
    }
    AbstractMap$Companion.prototype.entryHashCode_9fthdn$ = function (e) {
      var tmp$, tmp$_0, tmp$_1, tmp$_2;
      return ((tmp$_0 = (tmp$ = e.key) != null ? hashCode(tmp$) : null) != null ? tmp$_0 : 0) ^ ((tmp$_2 = (tmp$_1 = e.value) != null ? hashCode(tmp$_1) : null) != null ? tmp$_2 : 0);
    };
    AbstractMap$Companion.prototype.entryToString_9fthdn$ = function (e) {
      return toString(e.key) + '=' + toString(e.value);
    };
    AbstractMap$Companion.prototype.entryEquals_js7fox$ = function (e, other) {
      if (!Kotlin.isType(other, Map$Entry))
        return false;
      return equals(e.key, other.key) && equals(e.value, other.value);
    };
    AbstractMap$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var AbstractMap$Companion_instance = null;
    function AbstractMap$Companion_getInstance() {
      if (AbstractMap$Companion_instance === null) {
        new AbstractMap$Companion();
      }
      return AbstractMap$Companion_instance;
    }
    AbstractMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMap', interfaces: [Map]};
    function AbstractSet() {
      AbstractSet$Companion_getInstance();
      AbstractCollection.call(this);
    }
    AbstractSet.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, Set))
        return false;
      return AbstractSet$Companion_getInstance().setEquals_y8f7en$(this, other);
    };
    AbstractSet.prototype.hashCode = function () {
      return AbstractSet$Companion_getInstance().unorderedHashCode_nykoif$(this);
    };
    function AbstractSet$Companion() {
      AbstractSet$Companion_instance = this;
    }
    AbstractSet$Companion.prototype.unorderedHashCode_nykoif$ = function (c) {
      var tmp$;
      var hashCode_0 = 0;
      tmp$ = c.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        var tmp$_0;
        hashCode_0 = hashCode_0 + ((tmp$_0 = element != null ? hashCode(element) : null) != null ? tmp$_0 : 0) | 0;
      }
      return hashCode_0;
    };
    AbstractSet$Companion.prototype.setEquals_y8f7en$ = function (c, other) {
      if (c.size !== other.size)
        return false;
      return c.containsAll_brywnq$(other);
    };
    AbstractSet$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var AbstractSet$Companion_instance = null;
    function AbstractSet$Companion_getInstance() {
      if (AbstractSet$Companion_instance === null) {
        new AbstractSet$Companion();
      }
      return AbstractSet$Companion_instance;
    }
    AbstractSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractSet', interfaces: [Set, AbstractCollection]};
    function EmptyIterator() {
      EmptyIterator_instance = this;
    }
    EmptyIterator.prototype.hasNext = function () {
      return false;
    };
    EmptyIterator.prototype.hasPrevious = function () {
      return false;
    };
    EmptyIterator.prototype.nextIndex = function () {
      return 0;
    };
    EmptyIterator.prototype.previousIndex = function () {
      return -1;
    };
    EmptyIterator.prototype.next = function () {
      throw NoSuchElementException_init();
    };
    EmptyIterator.prototype.previous = function () {
      throw NoSuchElementException_init();
    };
    EmptyIterator.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyIterator', interfaces: [ListIterator]};
    var EmptyIterator_instance = null;
    function EmptyIterator_getInstance() {
      if (EmptyIterator_instance === null) {
        new EmptyIterator();
      }
      return EmptyIterator_instance;
    }
    function EmptyList() {
      EmptyList_instance = this;
      this.serialVersionUID_0 = L_7390468764508069838;
    }
    EmptyList.prototype.equals = function (other) {
      return Kotlin.isType(other, List) && other.isEmpty();
    };
    EmptyList.prototype.hashCode = function () {
      return 1;
    };
    EmptyList.prototype.toString = function () {
      return '[]';
    };
    Object.defineProperty(EmptyList.prototype, 'size', {get: function () {
      return 0;
    }});
    EmptyList.prototype.isEmpty = function () {
      return true;
    };
    EmptyList.prototype.contains_11rb$ = function (element) {
      return false;
    };
    EmptyList.prototype.containsAll_brywnq$ = function (elements) {
      return elements.isEmpty();
    };
    EmptyList.prototype.get_za3lpa$ = function (index) {
      throw new IndexOutOfBoundsException("Empty list doesn't contain element at index " + index + '.');
    };
    EmptyList.prototype.indexOf_11rb$ = function (element) {
      return -1;
    };
    EmptyList.prototype.lastIndexOf_11rb$ = function (element) {
      return -1;
    };
    EmptyList.prototype.iterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptyList.prototype.listIterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptyList.prototype.listIterator_za3lpa$ = function (index) {
      if (index !== 0)
        throw new IndexOutOfBoundsException('Index: ' + index);
      return EmptyIterator_getInstance();
    };
    EmptyList.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
      if (fromIndex === 0 && toIndex === 0)
        return this;
      throw new IndexOutOfBoundsException('fromIndex: ' + fromIndex + ', toIndex: ' + toIndex);
    };
    EmptyList.prototype.readResolve_0 = function () {
      return EmptyList_getInstance();
    };
    EmptyList.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyList', interfaces: [RandomAccess, Serializable, List]};
    var EmptyList_instance = null;
    function EmptyList_getInstance() {
      if (EmptyList_instance === null) {
        new EmptyList();
      }
      return EmptyList_instance;
    }
    function asCollection($receiver) {
      return new ArrayAsCollection($receiver, false);
    }
    function ArrayAsCollection(values, isVarargs) {
      this.values = values;
      this.isVarargs = isVarargs;
    }
    Object.defineProperty(ArrayAsCollection.prototype, 'size', {get: function () {
      return this.values.length;
    }});
    ArrayAsCollection.prototype.isEmpty = function () {
      return this.values.length === 0;
    };
    ArrayAsCollection.prototype.contains_11rb$ = function (element) {
      return contains(this.values, element);
    };
    ArrayAsCollection.prototype.containsAll_brywnq$ = function (elements) {
      var all$result;
      all$break: do {
        var tmp$;
        if (Kotlin.isType(elements, Collection) && elements.isEmpty()) {
          all$result = true;
          break all$break;
        }
        tmp$ = elements.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (!this.contains_11rb$(element)) {
            all$result = false;
            break all$break;
          }
        }
        all$result = true;
      }
       while (false);
      return all$result;
    };
    ArrayAsCollection.prototype.iterator = function () {
      return Kotlin.arrayIterator(this.values);
    };
    ArrayAsCollection.prototype.toArray = function () {
      var $receiver = this.values;
      return this.isVarargs ? $receiver : $receiver.slice();
    };
    ArrayAsCollection.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayAsCollection', interfaces: [Collection]};
    function emptyList() {
      return EmptyList_getInstance();
    }
    function listOf_0(elements) {
      return elements.length > 0 ? asList(elements) : emptyList();
    }
    function mutableListOf_0(elements) {
      return elements.length === 0 ? ArrayList_init() : ArrayList_init_1(new ArrayAsCollection(elements, true));
    }
    function arrayListOf_0(elements) {
      return elements.length === 0 ? ArrayList_init() : ArrayList_init_1(new ArrayAsCollection(elements, true));
    }
    function get_indices_12($receiver) {
      return new IntRange(0, $receiver.size - 1 | 0);
    }
    function get_lastIndex_12($receiver) {
      return $receiver.size - 1 | 0;
    }
    function optimizeReadOnlyList($receiver) {
      switch ($receiver.size) {
        case 0:
          return emptyList();
        case 1:
          return listOf($receiver.get_za3lpa$(0));
        default:return $receiver;
      }
    }
    function throwIndexOverflow() {
      throw new ArithmeticException('Index overflow has happened.');
    }
    function collectionSizeOrDefault($receiver, default_0) {
      return Kotlin.isType($receiver, Collection) ? $receiver.size : default_0;
    }
    function getOrImplicitDefault($receiver, key) {
      if (Kotlin.isType($receiver, MapWithDefault))
        return $receiver.getOrImplicitDefault_11rb$(key);
      var getOrElseNullable$result;
      var tmp$;
      var value = $receiver.get_11rb$(key);
      if (value == null && !$receiver.containsKey_11rb$(key)) {
        throw new NoSuchElementException('Key ' + key + ' is missing in the map.');
      }
       else {
        getOrElseNullable$result = (tmp$ = value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      }
      return getOrElseNullable$result;
    }
    function MapWithDefault() {
    }
    MapWithDefault.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MapWithDefault', interfaces: [Map]};
    function MutableMapWithDefault() {
    }
    function MapWithDefaultImpl(map, default_0) {
      this.map_tyjeqh$_0 = map;
      this.default_0 = default_0;
    }
    function MutableMapWithDefaultImpl(map, default_0) {
      this.map_a09uzx$_0 = map;
      this.default_0 = default_0;
    }
    function EmptyMap() {
      EmptyMap_instance = this;
      this.serialVersionUID_0 = L8246714829545688274;
    }
    EmptyMap.prototype.equals = function (other) {
      return Kotlin.isType(other, Map) && other.isEmpty();
    };
    EmptyMap.prototype.hashCode = function () {
      return 0;
    };
    EmptyMap.prototype.toString = function () {
      return '{}';
    };
    Object.defineProperty(EmptyMap.prototype, 'size', {get: function () {
      return 0;
    }});
    EmptyMap.prototype.isEmpty = function () {
      return true;
    };
    EmptyMap.prototype.containsKey_11rb$ = function (key) {
      return false;
    };
    EmptyMap.prototype.containsValue_11rc$ = function (value) {
      return false;
    };
    EmptyMap.prototype.get_11rb$ = function (key) {
      return null;
    };
    Object.defineProperty(EmptyMap.prototype, 'entries', {get: function () {
      return EmptySet_getInstance();
    }});
    Object.defineProperty(EmptyMap.prototype, 'keys', {get: function () {
      return EmptySet_getInstance();
    }});
    Object.defineProperty(EmptyMap.prototype, 'values', {get: function () {
      return EmptyList_getInstance();
    }});
    EmptyMap.prototype.readResolve_0 = function () {
      return EmptyMap_getInstance();
    };
    EmptyMap.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyMap', interfaces: [Serializable, Map]};
    var EmptyMap_instance = null;
    function EmptyMap_getInstance() {
      if (EmptyMap_instance === null) {
        new EmptyMap();
      }
      return EmptyMap_instance;
    }
    function emptyMap() {
      var tmp$;
      return Kotlin.isType(tmp$ = EmptyMap_getInstance(), Map) ? tmp$ : throwCCE_0();
    }
    function mapOf_0(pairs) {
      return pairs.length > 0 ? toMap_2(pairs, LinkedHashMap_init_2(mapCapacity(pairs.length))) : emptyMap();
    }
    function mutableMapOf_0(pairs) {
      var $receiver = LinkedHashMap_init_2(mapCapacity(pairs.length));
      putAll($receiver, pairs);
      return $receiver;
    }
    function mapCapacity(expectedSize) {
      if (expectedSize < 3) {
        return expectedSize + 1 | 0;
      }
      if (expectedSize < 1073741824) {
        return expectedSize + (expectedSize / 3 | 0) | 0;
      }
      return 2147483647;
    }
    var INT_MAX_POWER_OF_TWO;
    function getValue_2($receiver, key) {
      return getOrImplicitDefault($receiver, key);
    }
    function putAll($receiver, pairs) {
      var tmp$;
      for (tmp$ = 0; tmp$ !== pairs.length; ++tmp$) {
        var tmp$_0 = pairs[tmp$];
        var key = tmp$_0.component1(), value = tmp$_0.component2();
        $receiver.put_xwzc9p$(key, value);
      }
    }
    function toMap_2($receiver, destination) {
      putAll(destination, $receiver);
      return destination;
    }
    function removeAll_0($receiver, predicate) {
      return filterInPlace($receiver, predicate, true);
    }
    function filterInPlace($receiver, predicate, predicateResultToRemove) {
      var result = {v: false};
      var $receiver_0 = $receiver.iterator();
      while ($receiver_0.hasNext())
        if (predicate($receiver_0.next()) === predicateResultToRemove) {
          $receiver_0.remove();
          result.v = true;
        }
      return result.v;
    }
    function removeAll_1($receiver, predicate) {
      return filterInPlace_0($receiver, predicate, true);
    }
    function filterInPlace_0($receiver, predicate, predicateResultToRemove) {
      var tmp$, tmp$_0, tmp$_1, tmp$_2;
      if (!Kotlin.isType($receiver, RandomAccess))
        return filterInPlace(Kotlin.isType(tmp$ = $receiver, MutableIterable) ? tmp$ : throwCCE_0(), predicate, predicateResultToRemove);
      var writeIndex = 0;
      tmp$_0 = get_lastIndex_12($receiver);
      for (var readIndex = 0; readIndex <= tmp$_0; readIndex++) {
        var element = $receiver.get_za3lpa$(readIndex);
        if (predicate(element) === predicateResultToRemove)
          continue;
        if (writeIndex !== readIndex)
          $receiver.set_wxm5ur$(writeIndex, element);
        writeIndex = writeIndex + 1 | 0;
      }
      if (writeIndex < $receiver.size) {
        tmp$_1 = get_lastIndex_12($receiver);
        tmp$_2 = writeIndex;
        for (var removeIndex = tmp$_1; removeIndex >= tmp$_2; removeIndex--)
          $receiver.removeAt_za3lpa$(removeIndex);
        return true;
      }
       else {
        return false;
      }
    }
    function Sequence() {
    }
    Sequence.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Sequence', interfaces: []};
    var State_NotReady;
    var State_ManyNotReady;
    var State_ManyReady;
    var State_Ready;
    var State_Done;
    var State_Failed;
    function emptySequence() {
      return EmptySequence_getInstance();
    }
    function EmptySequence() {
      EmptySequence_instance = this;
    }
    EmptySequence.prototype.iterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptySequence.prototype.drop_za3lpa$ = function (n) {
      return EmptySequence_getInstance();
    };
    EmptySequence.prototype.take_za3lpa$ = function (n) {
      return EmptySequence_getInstance();
    };
    EmptySequence.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptySequence', interfaces: [DropTakeSequence, Sequence]};
    var EmptySequence_instance = null;
    function EmptySequence_getInstance() {
      if (EmptySequence_instance === null) {
        new EmptySequence();
      }
      return EmptySequence_instance;
    }
    function TransformingSequence(sequence, transformer) {
      this.sequence_0 = sequence;
      this.transformer_0 = transformer;
    }
    function TransformingSequence$iterator$ObjectLiteral(this$TransformingSequence) {
      this.this$TransformingSequence = this$TransformingSequence;
      this.iterator = this$TransformingSequence.sequence_0.iterator();
    }
    TransformingSequence$iterator$ObjectLiteral.prototype.next = function () {
      return this.this$TransformingSequence.transformer_0(this.iterator.next());
    };
    TransformingSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.iterator.hasNext();
    };
    TransformingSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    TransformingSequence.prototype.iterator = function () {
      return new TransformingSequence$iterator$ObjectLiteral(this);
    };
    TransformingSequence.prototype.flatten_1tglza$ = function (iterator) {
      return new FlatteningSequence(this.sequence_0, this.transformer_0, iterator);
    };
    TransformingSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'TransformingSequence', interfaces: [Sequence]};
    function FlatteningSequence(sequence, transformer, iterator) {
      this.sequence_0 = sequence;
      this.transformer_0 = transformer;
      this.iterator_0 = iterator;
    }
    function FlatteningSequence$iterator$ObjectLiteral(this$FlatteningSequence) {
      this.this$FlatteningSequence = this$FlatteningSequence;
      this.iterator = this$FlatteningSequence.sequence_0.iterator();
      this.itemIterator = null;
    }
    FlatteningSequence$iterator$ObjectLiteral.prototype.next = function () {
      if (!this.ensureItemIterator_0())
        throw NoSuchElementException_init();
      return ensureNotNull(this.itemIterator).next();
    };
    FlatteningSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.ensureItemIterator_0();
    };
    FlatteningSequence$iterator$ObjectLiteral.prototype.ensureItemIterator_0 = function () {
      var tmp$;
      if (((tmp$ = this.itemIterator) != null ? tmp$.hasNext() : null) === false)
        this.itemIterator = null;
      while (this.itemIterator == null) {
        if (!this.iterator.hasNext()) {
          return false;
        }
         else {
          var element = this.iterator.next();
          var nextItemIterator = this.this$FlatteningSequence.iterator_0(this.this$FlatteningSequence.transformer_0(element));
          if (nextItemIterator.hasNext()) {
            this.itemIterator = nextItemIterator;
            return true;
          }
        }
      }
      return true;
    };
    FlatteningSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    FlatteningSequence.prototype.iterator = function () {
      return new FlatteningSequence$iterator$ObjectLiteral(this);
    };
    FlatteningSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'FlatteningSequence', interfaces: [Sequence]};
    function DropTakeSequence() {
    }
    DropTakeSequence.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'DropTakeSequence', interfaces: [Sequence]};
    function SubSequence(sequence, startIndex, endIndex) {
      this.sequence_0 = sequence;
      this.startIndex_0 = startIndex;
      this.endIndex_0 = endIndex;
      if (!(this.startIndex_0 >= 0)) {
        var message = 'startIndex should be non-negative, but is ' + this.startIndex_0;
        throw IllegalArgumentException_init_0(message.toString());
      }
      if (!(this.endIndex_0 >= 0)) {
        var message_0 = 'endIndex should be non-negative, but is ' + this.endIndex_0;
        throw IllegalArgumentException_init_0(message_0.toString());
      }
      if (!(this.endIndex_0 >= this.startIndex_0)) {
        var message_1 = 'endIndex should be not less than startIndex, but was ' + this.endIndex_0 + ' < ' + this.startIndex_0;
        throw IllegalArgumentException_init_0(message_1.toString());
      }
    }
    Object.defineProperty(SubSequence.prototype, 'count_0', {get: function () {
      return this.endIndex_0 - this.startIndex_0 | 0;
    }});
    SubSequence.prototype.drop_za3lpa$ = function (n) {
      return n >= this.count_0 ? emptySequence() : new SubSequence(this.sequence_0, this.startIndex_0 + n | 0, this.endIndex_0);
    };
    SubSequence.prototype.take_za3lpa$ = function (n) {
      return n >= this.count_0 ? this : new SubSequence(this.sequence_0, this.startIndex_0, this.startIndex_0 + n | 0);
    };
    function SubSequence$iterator$ObjectLiteral(this$SubSequence) {
      this.this$SubSequence = this$SubSequence;
      this.iterator = this$SubSequence.sequence_0.iterator();
      this.position = 0;
    }
    SubSequence$iterator$ObjectLiteral.prototype.drop_0 = function () {
      while (this.position < this.this$SubSequence.startIndex_0 && this.iterator.hasNext()) {
        this.iterator.next();
        this.position = this.position + 1 | 0;
      }
    };
    SubSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      this.drop_0();
      return this.position < this.this$SubSequence.endIndex_0 && this.iterator.hasNext();
    };
    SubSequence$iterator$ObjectLiteral.prototype.next = function () {
      this.drop_0();
      if (this.position >= this.this$SubSequence.endIndex_0)
        throw NoSuchElementException_init();
      this.position = this.position + 1 | 0;
      return this.iterator.next();
    };
    SubSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    SubSequence.prototype.iterator = function () {
      return new SubSequence$iterator$ObjectLiteral(this);
    };
    SubSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'SubSequence', interfaces: [DropTakeSequence, Sequence]};
    function TakeSequence(sequence, count) {
      this.sequence_0 = sequence;
      this.count_0 = count;
      if (!(this.count_0 >= 0)) {
        var message = 'count must be non-negative, but was ' + this.count_0 + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
    }
    TakeSequence.prototype.drop_za3lpa$ = function (n) {
      return n >= this.count_0 ? emptySequence() : new SubSequence(this.sequence_0, n, this.count_0);
    };
    TakeSequence.prototype.take_za3lpa$ = function (n) {
      return n >= this.count_0 ? this : new TakeSequence(this.sequence_0, n);
    };
    function TakeSequence$iterator$ObjectLiteral(this$TakeSequence) {
      this.left = this$TakeSequence.count_0;
      this.iterator = this$TakeSequence.sequence_0.iterator();
    }
    TakeSequence$iterator$ObjectLiteral.prototype.next = function () {
      if (this.left === 0)
        throw NoSuchElementException_init();
      this.left = this.left - 1 | 0;
      return this.iterator.next();
    };
    TakeSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.left > 0 && this.iterator.hasNext();
    };
    TakeSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    TakeSequence.prototype.iterator = function () {
      return new TakeSequence$iterator$ObjectLiteral(this);
    };
    TakeSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'TakeSequence', interfaces: [DropTakeSequence, Sequence]};
    function GeneratorSequence(getInitialValue, getNextValue) {
      this.getInitialValue_0 = getInitialValue;
      this.getNextValue_0 = getNextValue;
    }
    function GeneratorSequence$iterator$ObjectLiteral(this$GeneratorSequence) {
      this.this$GeneratorSequence = this$GeneratorSequence;
      this.nextItem = null;
      this.nextState = -2;
    }
    GeneratorSequence$iterator$ObjectLiteral.prototype.calcNext_0 = function () {
      this.nextItem = this.nextState === -2 ? this.this$GeneratorSequence.getInitialValue_0() : this.this$GeneratorSequence.getNextValue_0(ensureNotNull(this.nextItem));
      this.nextState = this.nextItem == null ? 0 : 1;
    };
    GeneratorSequence$iterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (this.nextState < 0)
        this.calcNext_0();
      if (this.nextState === 0)
        throw NoSuchElementException_init();
      var result = Kotlin.isType(tmp$ = this.nextItem, Any) ? tmp$ : throwCCE_0();
      this.nextState = -1;
      return result;
    };
    GeneratorSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      if (this.nextState < 0)
        this.calcNext_0();
      return this.nextState === 1;
    };
    GeneratorSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    GeneratorSequence.prototype.iterator = function () {
      return new GeneratorSequence$iterator$ObjectLiteral(this);
    };
    GeneratorSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'GeneratorSequence', interfaces: [Sequence]};
    function generateSequence_1(seedFunction, nextFunction) {
      return new GeneratorSequence(seedFunction, nextFunction);
    }
    function EmptySet() {
      EmptySet_instance = this;
      this.serialVersionUID_0 = L3406603774387020532;
    }
    EmptySet.prototype.equals = function (other) {
      return Kotlin.isType(other, Set) && other.isEmpty();
    };
    EmptySet.prototype.hashCode = function () {
      return 0;
    };
    EmptySet.prototype.toString = function () {
      return '[]';
    };
    Object.defineProperty(EmptySet.prototype, 'size', {get: function () {
      return 0;
    }});
    EmptySet.prototype.isEmpty = function () {
      return true;
    };
    EmptySet.prototype.contains_11rb$ = function (element) {
      return false;
    };
    EmptySet.prototype.containsAll_brywnq$ = function (elements) {
      return elements.isEmpty();
    };
    EmptySet.prototype.iterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptySet.prototype.readResolve_0 = function () {
      return EmptySet_getInstance();
    };
    EmptySet.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptySet', interfaces: [Serializable, Set]};
    var EmptySet_instance = null;
    function EmptySet_getInstance() {
      if (EmptySet_instance === null) {
        new EmptySet();
      }
      return EmptySet_instance;
    }
    function emptySet() {
      return EmptySet_getInstance();
    }
    function hashSetOf_0(elements) {
      return toCollection(elements, HashSet_init_2(mapCapacity(elements.length)));
    }
    function optimizeReadOnlySet($receiver) {
      switch ($receiver.size) {
        case 0:
          return emptySet();
        case 1:
          return setOf($receiver.iterator().next());
        default:return $receiver;
      }
    }
    var NaturalOrderComparator_instance = null;
    var ReverseOrderComparator_instance = null;
    var InvocationKind$AT_MOST_ONCE_instance;
    var InvocationKind$AT_LEAST_ONCE_instance;
    var InvocationKind$EXACTLY_ONCE_instance;
    var InvocationKind$UNKNOWN_instance;
    function Continuation() {
    }
    Continuation.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Continuation', interfaces: []};
    defineInlineFunction('kotlin.kotlin.coroutines.suspendCoroutine_922awp$', wrapFunction(function () {
      var intercepted = _.kotlin.coroutines.intrinsics.intercepted_f9mg25$;
      var SafeContinuation_init = _.kotlin.coroutines.SafeContinuation_init_wj8d80$;
      function suspendCoroutine$lambda(closure$block) {
        return function (c) {
          var safe = SafeContinuation_init(intercepted(c));
          closure$block(safe);
          return safe.getOrThrow();
        };
      }
      return function (block, continuation) {
        Kotlin.suspendCall(suspendCoroutine$lambda(block)(Kotlin.coroutineReceiver()));
        return Kotlin.coroutineResult(Kotlin.coroutineReceiver());
      };
    }));
    function ContinuationInterceptor() {
      ContinuationInterceptor$Key_getInstance();
    }
    function ContinuationInterceptor$Key() {
      ContinuationInterceptor$Key_instance = this;
    }
    ContinuationInterceptor$Key.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Key', interfaces: [CoroutineContext$Key]};
    var ContinuationInterceptor$Key_instance = null;
    function ContinuationInterceptor$Key_getInstance() {
      if (ContinuationInterceptor$Key_instance === null) {
        new ContinuationInterceptor$Key();
      }
      return ContinuationInterceptor$Key_instance;
    }
    function CoroutineContext() {
    }
    function CoroutineContext$plus$lambda(acc, element) {
      var removed = acc.minusKey_yeqjby$(element.key);
      if (removed === EmptyCoroutineContext_getInstance())
        return element;
      else {
        var interceptor = removed.get_j3r2sn$(ContinuationInterceptor$Key_getInstance());
        if (interceptor == null)
          return new CombinedContext(removed, element);
        else {
          var left = removed.minusKey_yeqjby$(ContinuationInterceptor$Key_getInstance());
          return left === EmptyCoroutineContext_getInstance() ? new CombinedContext(element, interceptor) : new CombinedContext(new CombinedContext(left, element), interceptor);
        }
      }
    }
    CoroutineContext.prototype.plus_1fupul$ = function (context) {
      return context === EmptyCoroutineContext_getInstance() ? this : context.fold_3cc69b$(this, CoroutineContext$plus$lambda);
    };
    function CoroutineContext$Key() {
    }
    CoroutineContext$Key.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Key', interfaces: []};
    function CoroutineContext$Element() {
    }
    CoroutineContext$Element.prototype.get_j3r2sn$ = function (key) {
      var tmp$;
      return equals(this.key, key) ? Kotlin.isType(tmp$ = this, CoroutineContext$Element) ? tmp$ : throwCCE_0() : null;
    };
    CoroutineContext$Element.prototype.fold_3cc69b$ = function (initial, operation) {
      return operation(initial, this);
    };
    CoroutineContext$Element.prototype.minusKey_yeqjby$ = function (key) {
      return equals(this.key, key) ? EmptyCoroutineContext_getInstance() : this;
    };
    CoroutineContext$Element.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Element', interfaces: [CoroutineContext]};
    CoroutineContext.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CoroutineContext', interfaces: []};
    function AbstractCoroutineContextElement(key) {
      this.key_no4tas$_0 = key;
    }
    function EmptyCoroutineContext() {
      EmptyCoroutineContext_instance = this;
      this.serialVersionUID_0 = L0;
    }
    EmptyCoroutineContext.prototype.readResolve_0 = function () {
      return EmptyCoroutineContext_getInstance();
    };
    EmptyCoroutineContext.prototype.get_j3r2sn$ = function (key) {
      return null;
    };
    EmptyCoroutineContext.prototype.fold_3cc69b$ = function (initial, operation) {
      return initial;
    };
    EmptyCoroutineContext.prototype.plus_1fupul$ = function (context) {
      return context;
    };
    EmptyCoroutineContext.prototype.minusKey_yeqjby$ = function (key) {
      return this;
    };
    EmptyCoroutineContext.prototype.hashCode = function () {
      return 0;
    };
    EmptyCoroutineContext.prototype.toString = function () {
      return 'EmptyCoroutineContext';
    };
    EmptyCoroutineContext.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyCoroutineContext', interfaces: [Serializable, CoroutineContext]};
    var EmptyCoroutineContext_instance = null;
    function EmptyCoroutineContext_getInstance() {
      if (EmptyCoroutineContext_instance === null) {
        new EmptyCoroutineContext();
      }
      return EmptyCoroutineContext_instance;
    }
    function CombinedContext(left, element) {
      this.left_0 = left;
      this.element_0 = element;
    }
    CombinedContext.prototype.get_j3r2sn$ = function (key) {
      var tmp$;
      var cur = this;
      while (true) {
        if ((tmp$ = cur.element_0.get_j3r2sn$(key)) != null) {
          return tmp$;
        }
        var next = cur.left_0;
        if (Kotlin.isType(next, CombinedContext)) {
          cur = next;
        }
         else {
          return next.get_j3r2sn$(key);
        }
      }
    };
    CombinedContext.prototype.fold_3cc69b$ = function (initial, operation) {
      return operation(this.left_0.fold_3cc69b$(initial, operation), this.element_0);
    };
    CombinedContext.prototype.minusKey_yeqjby$ = function (key) {
      var tmp$;
      if (this.element_0.get_j3r2sn$(key) != null) {
        return this.left_0;
      }
      var newLeft = this.left_0.minusKey_yeqjby$(key);
      if (newLeft === this.left_0)
        tmp$ = this;
      else if (newLeft === EmptyCoroutineContext_getInstance())
        tmp$ = this.element_0;
      else
        tmp$ = new CombinedContext(newLeft, this.element_0);
      return tmp$;
    };
    CombinedContext.prototype.size_0 = function () {
      var tmp$, tmp$_0;
      var cur = this;
      var size = 2;
      while (true) {
        tmp$_0 = Kotlin.isType(tmp$ = cur.left_0, CombinedContext) ? tmp$ : null;
        if (tmp$_0 == null) {
          return size;
        }
        cur = tmp$_0;
        size = size + 1 | 0;
      }
    };
    CombinedContext.prototype.contains_0 = function (element) {
      return equals(this.get_j3r2sn$(element.key), element);
    };
    CombinedContext.prototype.containsAll_0 = function (context) {
      var tmp$;
      var cur = context;
      while (true) {
        if (!this.contains_0(cur.element_0))
          return false;
        var next = cur.left_0;
        if (Kotlin.isType(next, CombinedContext)) {
          cur = next;
        }
         else {
          return this.contains_0(Kotlin.isType(tmp$ = next, CoroutineContext$Element) ? tmp$ : throwCCE_0());
        }
      }
    };
    CombinedContext.prototype.equals = function (other) {
      return this === other || (Kotlin.isType(other, CombinedContext) && other.size_0() === this.size_0() && other.containsAll_0(this));
    };
    CombinedContext.prototype.hashCode = function () {
      return hashCode(this.left_0) + hashCode(this.element_0) | 0;
    };
    function CombinedContext$toString$lambda(acc, element) {
      return acc.length === 0 ? element.toString() : acc + ', ' + element;
    }
    CombinedContext.prototype.toString = function () {
      return '[' + this.fold_3cc69b$('', CombinedContext$toString$lambda) + ']';
    };
    function CombinedContext$writeReplace$lambda(closure$elements, closure$index) {
      return function (f, element) {
        var tmp$;
        closure$elements[tmp$ = closure$index.v, closure$index.v = tmp$ + 1 | 0, tmp$] = element;
        return Unit;
      };
    }
    CombinedContext.prototype.writeReplace_0 = function () {
      var tmp$;
      var n = this.size_0();
      var elements = Kotlin.newArray(n, null);
      var index = {v: 0};
      this.fold_3cc69b$(Unit_getInstance(), CombinedContext$writeReplace$lambda(elements, index));
      if (!(index.v === n)) {
        var message = 'Check failed.';
        throw IllegalStateException_init_0(message.toString());
      }
      return new CombinedContext$Serialized(Kotlin.isArray(tmp$ = elements) ? tmp$ : throwCCE_0());
    };
    function CombinedContext$Serialized(elements) {
      CombinedContext$Serialized$Companion_getInstance();
      this.elements = elements;
    }
    function CombinedContext$Serialized$Companion() {
      CombinedContext$Serialized$Companion_instance = this;
      this.serialVersionUID_0 = L0;
    }
    CombinedContext$Serialized$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var CombinedContext$Serialized$Companion_instance = null;
    function CombinedContext$Serialized$Companion_getInstance() {
      if (CombinedContext$Serialized$Companion_instance === null) {
        new CombinedContext$Serialized$Companion();
      }
      return CombinedContext$Serialized$Companion_instance;
    }
    CombinedContext$Serialized.prototype.readResolve_0 = function () {
      var $receiver = this.elements;
      var tmp$;
      var accumulator = EmptyCoroutineContext_getInstance();
      for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
        var element = $receiver[tmp$];
        accumulator = accumulator.plus_1fupul$(element);
      }
      return accumulator;
    };
    CombinedContext$Serialized.$metadata$ = {kind: Kind_CLASS, simpleName: 'Serialized', interfaces: [Serializable]};
    CombinedContext.$metadata$ = {kind: Kind_CLASS, simpleName: 'CombinedContext', interfaces: [Serializable, CoroutineContext]};
    defineInlineFunction('kotlin.kotlin.coroutines.intrinsics.suspendCoroutineUninterceptedOrReturn_zb0pmy$', wrapFunction(function () {
      var NotImplementedError_init = _.kotlin.NotImplementedError;
      return function (block, continuation) {
        throw new NotImplementedError_init('Implementation of suspendCoroutineUninterceptedOrReturn is intrinsic');
      };
    }));
    function get_COROUTINE_SUSPENDED() {
      return CoroutineSingletons$COROUTINE_SUSPENDED_getInstance();
    }
    function CoroutineSingletons(name, ordinal) {
      Enum.call(this);
      this.name$ = name;
      this.ordinal$ = ordinal;
    }
    function CoroutineSingletons_initFields() {
      CoroutineSingletons_initFields = function () {
      };
      CoroutineSingletons$COROUTINE_SUSPENDED_instance = new CoroutineSingletons('COROUTINE_SUSPENDED', 0);
      CoroutineSingletons$UNDECIDED_instance = new CoroutineSingletons('UNDECIDED', 1);
      CoroutineSingletons$RESUMED_instance = new CoroutineSingletons('RESUMED', 2);
    }
    var CoroutineSingletons$COROUTINE_SUSPENDED_instance;
    function CoroutineSingletons$COROUTINE_SUSPENDED_getInstance() {
      CoroutineSingletons_initFields();
      return CoroutineSingletons$COROUTINE_SUSPENDED_instance;
    }
    var CoroutineSingletons$UNDECIDED_instance;
    function CoroutineSingletons$UNDECIDED_getInstance() {
      CoroutineSingletons_initFields();
      return CoroutineSingletons$UNDECIDED_instance;
    }
    var CoroutineSingletons$RESUMED_instance;
    function CoroutineSingletons$RESUMED_getInstance() {
      CoroutineSingletons_initFields();
      return CoroutineSingletons$RESUMED_instance;
    }
    CoroutineSingletons.$metadata$ = {kind: Kind_CLASS, simpleName: 'CoroutineSingletons', interfaces: [Enum]};
    function CoroutineSingletons$values() {
      return [CoroutineSingletons$COROUTINE_SUSPENDED_getInstance(), CoroutineSingletons$UNDECIDED_getInstance(), CoroutineSingletons$RESUMED_getInstance()];
    }
    CoroutineSingletons.values = CoroutineSingletons$values;
    function CoroutineSingletons$valueOf(name) {
      switch (name) {
        case 'COROUTINE_SUSPENDED':
          return CoroutineSingletons$COROUTINE_SUSPENDED_getInstance();
        case 'UNDECIDED':
          return CoroutineSingletons$UNDECIDED_getInstance();
        case 'RESUMED':
          return CoroutineSingletons$RESUMED_getInstance();
        default:throwISE('No enum constant kotlin.coroutines.intrinsics.CoroutineSingletons.' + name);
      }
    }
    CoroutineSingletons.valueOf_61zpoe$ = CoroutineSingletons$valueOf;
    var RequireKotlinVersionKind$LANGUAGE_VERSION_instance;
    var RequireKotlinVersionKind$COMPILER_VERSION_instance;
    var RequireKotlinVersionKind$API_VERSION_instance;
    var Delegates_instance = null;
    var Random$Default_instance = null;
    var Random$Companion_instance = null;
    function ComparableRange(start, endInclusive) {
      this.start_p1gsmm$_0 = start;
      this.endInclusive_jj4lf7$_0 = endInclusive;
    }
    function equals_1($receiver, other, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if ($receiver === other)
        return true;
      if (!ignoreCase)
        return false;
      if (toChar(String.fromCharCode($receiver | 0).toUpperCase().charCodeAt(0)) === toChar(String.fromCharCode(other | 0).toUpperCase().charCodeAt(0)))
        return true;
      if (toChar(String.fromCharCode($receiver | 0).toLowerCase().charCodeAt(0)) === toChar(String.fromCharCode(other | 0).toLowerCase().charCodeAt(0)))
        return true;
      return false;
    }
    function trimIndent($receiver) {
      return replaceIndent($receiver, '');
    }
    function replaceIndent($receiver, newIndent) {
      if (newIndent === void 0)
        newIndent = '';
      var tmp$;
      var lines_0 = lines($receiver);
      var destination = ArrayList_init();
      var tmp$_0;
      tmp$_0 = lines_0.iterator();
      while (tmp$_0.hasNext()) {
        var element = tmp$_0.next();
        if (!isBlank(element))
          destination.add_11rb$(element);
      }
      var $receiver_0 = destination;
      var destination_0 = ArrayList_init_0(collectionSizeOrDefault($receiver_0, 10));
      var tmp$_1;
      tmp$_1 = $receiver_0.iterator();
      while (tmp$_1.hasNext()) {
        var item = tmp$_1.next();
        destination_0.add_11rb$(indentWidth(item));
      }
      var minCommonIndent = (tmp$ = min_11(destination_0)) != null ? tmp$ : 0;
      var resultSizeEstimate = $receiver.length + Kotlin.imul(newIndent.length, lines_0.size) | 0;
      var indentAddFunction = getIndentFunction(newIndent);
      var lastIndex = get_lastIndex_12(lines_0);
      var destination_1 = ArrayList_init();
      var tmp$_2, tmp$_3;
      var index = 0;
      tmp$_2 = lines_0.iterator();
      while (tmp$_2.hasNext()) {
        var item_0 = tmp$_2.next();
        var tmp$_4;
        var index_0 = checkIndexOverflow((tmp$_3 = index, index = tmp$_3 + 1 | 0, tmp$_3));
        var tmp$_5, tmp$_6;
        if ((tmp$_4 = (index_0 === 0 || index_0 === lastIndex) && isBlank(item_0) ? null : (tmp$_6 = (tmp$_5 = drop_11(item_0, minCommonIndent)) != null ? indentAddFunction(tmp$_5) : null) != null ? tmp$_6 : item_0) != null) {
          destination_1.add_11rb$(tmp$_4);
        }
      }
      return joinTo_8(destination_1, StringBuilder_init(resultSizeEstimate), '\n').toString();
    }
    function indentWidth($receiver) {
      var indexOfFirst$result;
      indexOfFirst$break: do {
        var tmp$, tmp$_0, tmp$_1, tmp$_2;
        tmp$ = get_indices_13($receiver);
        tmp$_0 = tmp$.first;
        tmp$_1 = tmp$.last;
        tmp$_2 = tmp$.step;
        for (var index = tmp$_0; index <= tmp$_1; index += tmp$_2) {
          if (!isWhitespace(unboxChar(toBoxedChar($receiver.charCodeAt(index))))) {
            indexOfFirst$result = index;
            break indexOfFirst$break;
          }
        }
        indexOfFirst$result = -1;
      }
       while (false);
      var it = indexOfFirst$result;
      return it === -1 ? $receiver.length : it;
    }
    function getIndentFunction$lambda(line) {
      return line;
    }
    function getIndentFunction$lambda_0(closure$indent) {
      return function (line) {
        return closure$indent + line;
      };
    }
    function getIndentFunction(indent) {
      if (indent.length === 0)
        return getIndentFunction$lambda;
      else
        return getIndentFunction$lambda_0(indent);
    }
    function appendElement_0($receiver, element, transform) {
      if (transform != null)
        $receiver.append_gw00v9$(transform(element));
      else if (element == null || Kotlin.isCharSequence(element))
        $receiver.append_gw00v9$(element);
      else if (Kotlin.isChar(element))
        $receiver.append_s8itvh$(unboxChar(element));
      else
        $receiver.append_gw00v9$(toString(element));
    }
    function toByteOrNull($receiver) {
      return toByteOrNull_0($receiver, 10);
    }
    function toByteOrNull_0($receiver, radix) {
      var tmp$;
      tmp$ = toIntOrNull_0($receiver, radix);
      if (tmp$ == null) {
        return null;
      }
      var int = tmp$;
      if (int < kotlin_js_internal_ByteCompanionObject.MIN_VALUE || int > kotlin_js_internal_ByteCompanionObject.MAX_VALUE)
        return null;
      return toByte(int);
    }
    function toShortOrNull($receiver) {
      return toShortOrNull_0($receiver, 10);
    }
    function toShortOrNull_0($receiver, radix) {
      var tmp$;
      tmp$ = toIntOrNull_0($receiver, radix);
      if (tmp$ == null) {
        return null;
      }
      var int = tmp$;
      if (int < kotlin_js_internal_ShortCompanionObject.MIN_VALUE || int > kotlin_js_internal_ShortCompanionObject.MAX_VALUE)
        return null;
      return toShort(int);
    }
    function toIntOrNull($receiver) {
      return toIntOrNull_0($receiver, 10);
    }
    function toIntOrNull_0($receiver, radix) {
      var tmp$;
      checkRadix(radix);
      var length = $receiver.length;
      if (length === 0)
        return null;
      var start;
      var isNegative;
      var limit;
      var firstChar = $receiver.charCodeAt(0);
      if (firstChar < 48) {
        if (length === 1)
          return null;
        start = 1;
        if (firstChar === 45) {
          isNegative = true;
          limit = -2147483648;
        }
         else if (firstChar === 43) {
          isNegative = false;
          limit = -2147483647;
        }
         else
          return null;
      }
       else {
        start = 0;
        isNegative = false;
        limit = -2147483647;
      }
      var limitBeforeMul = limit / radix | 0;
      var result = 0;
      tmp$ = length - 1 | 0;
      for (var i = start; i <= tmp$; i++) {
        var digit = digitOf($receiver.charCodeAt(i), radix);
        if (digit < 0)
          return null;
        if (result < limitBeforeMul)
          return null;
        result = Kotlin.imul(result, radix);
        if (result < (limit + digit | 0))
          return null;
        result = result - digit | 0;
      }
      return isNegative ? result : -result | 0;
    }
    function toLongOrNull($receiver) {
      return toLongOrNull_0($receiver, 10);
    }
    function toLongOrNull_0($receiver, radix) {
      var tmp$;
      checkRadix(radix);
      var length = $receiver.length;
      if (length === 0)
        return null;
      var start;
      var isNegative;
      var limit;
      var firstChar = $receiver.charCodeAt(0);
      if (firstChar < 48) {
        if (length === 1)
          return null;
        start = 1;
        if (firstChar === 45) {
          isNegative = true;
          limit = Long$Companion$MIN_VALUE;
        }
         else if (firstChar === 43) {
          isNegative = false;
          limit = L_9223372036854775807;
        }
         else
          return null;
      }
       else {
        start = 0;
        isNegative = false;
        limit = L_9223372036854775807;
      }
      var limitBeforeMul = limit.div(Kotlin.Long.fromInt(radix));
      var result = L0;
      tmp$ = length - 1 | 0;
      for (var i = start; i <= tmp$; i++) {
        var digit = digitOf($receiver.charCodeAt(i), radix);
        if (digit < 0)
          return null;
        if (result.compareTo_11rb$(limitBeforeMul) < 0)
          return null;
        result = result.multiply(Kotlin.Long.fromInt(radix));
        if (result.compareTo_11rb$(limit.add(Kotlin.Long.fromInt(digit))) < 0)
          return null;
        result = result.subtract(Kotlin.Long.fromInt(digit));
      }
      return isNegative ? result : result.unaryMinus();
    }
    function numberFormatError(input) {
      throw new NumberFormatException("Invalid number format: '" + input + "'");
    }
    function trimStart_2($receiver, chars) {
      var tmp$;
      var $receiver_0 = Kotlin.isCharSequence(tmp$ = $receiver) ? tmp$ : throwCCE();
      var trimStart$result;
      trimStart$break: do {
        var tmp$_0, tmp$_1, tmp$_2, tmp$_3;
        tmp$_0 = get_indices_13($receiver_0);
        tmp$_1 = tmp$_0.first;
        tmp$_2 = tmp$_0.last;
        tmp$_3 = tmp$_0.step;
        for (var index = tmp$_1; index <= tmp$_2; index += tmp$_3) {
          if (!contains_7(chars, unboxChar(toBoxedChar($receiver_0.charCodeAt(index))))) {
            trimStart$result = Kotlin.subSequence($receiver_0, index, $receiver_0.length);
            break trimStart$break;
          }
        }
        trimStart$result = '';
      }
       while (false);
      return trimStart$result.toString();
    }
    function trimEnd_2($receiver, chars) {
      var tmp$;
      var $receiver_0 = Kotlin.isCharSequence(tmp$ = $receiver) ? tmp$ : throwCCE();
      var trimEnd$result;
      trimEnd$break: do {
        var tmp$_0;
        tmp$_0 = reversed_9(get_indices_13($receiver_0)).iterator();
        while (tmp$_0.hasNext()) {
          var index = tmp$_0.next();
          if (!contains_7(chars, unboxChar(toBoxedChar($receiver_0.charCodeAt(index))))) {
            trimEnd$result = Kotlin.subSequence($receiver_0, 0, index + 1 | 0);
            break trimEnd$break;
          }
        }
        trimEnd$result = '';
      }
       while (false);
      return trimEnd$result.toString();
    }
    function trim_3($receiver) {
      var startIndex = 0;
      var endIndex = $receiver.length - 1 | 0;
      var startFound = false;
      while (startIndex <= endIndex) {
        var index = !startFound ? startIndex : endIndex;
        var match = isWhitespace(unboxChar(toBoxedChar($receiver.charCodeAt(index))));
        if (!startFound) {
          if (!match)
            startFound = true;
          else
            startIndex = startIndex + 1 | 0;
        }
         else {
          if (!match)
            break;
          else
            endIndex = endIndex - 1 | 0;
        }
      }
      return Kotlin.subSequence($receiver, startIndex, endIndex + 1 | 0);
    }
    function trimEnd_3($receiver) {
      var trimEnd$result;
      trimEnd$break: do {
        var tmp$;
        tmp$ = reversed_9(get_indices_13($receiver)).iterator();
        while (tmp$.hasNext()) {
          var index = tmp$.next();
          if (!isWhitespace(unboxChar(toBoxedChar($receiver.charCodeAt(index))))) {
            trimEnd$result = Kotlin.subSequence($receiver, 0, index + 1 | 0);
            break trimEnd$break;
          }
        }
        trimEnd$result = '';
      }
       while (false);
      return trimEnd$result;
    }
    function iterator$ObjectLiteral(this$iterator) {
      this.this$iterator = this$iterator;
      CharIterator.call(this);
      this.index_0 = 0;
    }
    iterator$ObjectLiteral.prototype.nextChar = function () {
      var tmp$, tmp$_0;
      tmp$_0 = (tmp$ = this.index_0, this.index_0 = tmp$ + 1 | 0, tmp$);
      return this.this$iterator.charCodeAt(tmp$_0);
    };
    iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index_0 < this.this$iterator.length;
    };
    iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [CharIterator]};
    function iterator_4($receiver) {
      return new iterator$ObjectLiteral($receiver);
    }
    function get_indices_13($receiver) {
      return new IntRange(0, $receiver.length - 1 | 0);
    }
    function get_lastIndex_13($receiver) {
      return $receiver.length - 1 | 0;
    }
    function substring_3($receiver, range) {
      return Kotlin.subSequence($receiver, range.start, range.endInclusive + 1 | 0).toString();
    }
    function regionMatchesImpl($receiver, thisOffset, other, otherOffset, length, ignoreCase) {
      if (otherOffset < 0 || thisOffset < 0 || thisOffset > ($receiver.length - length | 0) || otherOffset > (other.length - length | 0)) {
        return false;
      }
      for (var index = 0; index < length; index++) {
        if (!equals_1($receiver.charCodeAt(thisOffset + index | 0), other.charCodeAt(otherOffset + index | 0), ignoreCase))
          return false;
      }
      return true;
    }
    function startsWith_1($receiver, char, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return $receiver.length > 0 && equals_1($receiver.charCodeAt(0), char, ignoreCase);
    }
    function endsWith_0($receiver, char, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return $receiver.length > 0 && equals_1($receiver.charCodeAt(get_lastIndex_13($receiver)), char, ignoreCase);
    }
    function lastIndexOfAny($receiver, chars, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = get_lastIndex_13($receiver);
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (!ignoreCase && chars.length === 1 && typeof $receiver === 'string') {
        var char = single_7(chars);
        return $receiver.lastIndexOf(String.fromCharCode(char), startIndex);
      }
      loop_label: for (var index = coerceAtMost_2(startIndex, get_lastIndex_13($receiver)); index >= 0; index--) {
        var charAtIndex = $receiver.charCodeAt(index);
        var any$result;
        any$break: do {
          var tmp$;
          for (tmp$ = 0; tmp$ !== chars.length; ++tmp$) {
            var element = unboxChar(chars[tmp$]);
            if (equals_1(unboxChar(toBoxedChar(element)), charAtIndex, ignoreCase)) {
              any$result = true;
              break any$break;
            }
          }
          any$result = false;
        }
         while (false);
        if (any$result)
          return index;
      }
      return -1;
    }
    function indexOf_15($receiver, other, startIndex, endIndex, ignoreCase, last) {
      if (last === void 0)
        last = false;
      var tmp$, tmp$_0;
      var indices = !last ? new IntRange(coerceAtLeast_2(startIndex, 0), coerceAtMost_2(endIndex, $receiver.length)) : downTo_4(coerceAtMost_2(startIndex, get_lastIndex_13($receiver)), coerceAtLeast_2(endIndex, 0));
      if (typeof $receiver === 'string' && typeof other === 'string') {
        tmp$ = indices.iterator();
        while (tmp$.hasNext()) {
          var index = tmp$.next();
          if (regionMatches(other, 0, $receiver, index, other.length, ignoreCase))
            return index;
        }
      }
       else {
        tmp$_0 = indices.iterator();
        while (tmp$_0.hasNext()) {
          var index_0 = tmp$_0.next();
          if (regionMatchesImpl(other, 0, $receiver, index_0, other.length, ignoreCase))
            return index_0;
        }
      }
      return -1;
    }
    function findAnyOf($receiver, strings, startIndex, ignoreCase, last) {
      var tmp$, tmp$_0;
      if (!ignoreCase && strings.size === 1) {
        var string = single_17(strings);
        var index = !last ? indexOf_17($receiver, string, startIndex) : lastIndexOf_16($receiver, string, startIndex);
        return index < 0 ? null : to(index, string);
      }
      var indices = !last ? new IntRange(coerceAtLeast_2(startIndex, 0), $receiver.length) : downTo_4(coerceAtMost_2(startIndex, get_lastIndex_13($receiver)), 0);
      if (typeof $receiver === 'string') {
        tmp$ = indices.iterator();
        loop_label: while (tmp$.hasNext()) {
          var index_0 = tmp$.next();
          var firstOrNull$result;
          firstOrNull$break: do {
            var tmp$_1;
            tmp$_1 = strings.iterator();
            while (tmp$_1.hasNext()) {
              var element = tmp$_1.next();
              if (regionMatches(element, 0, $receiver, index_0, element.length, ignoreCase)) {
                firstOrNull$result = element;
                break firstOrNull$break;
              }
            }
            firstOrNull$result = null;
          }
           while (false);
          var matchingString = firstOrNull$result;
          if (matchingString != null)
            return to(index_0, matchingString);
        }
      }
       else {
        tmp$_0 = indices.iterator();
        loop_label: while (tmp$_0.hasNext()) {
          var index_1 = tmp$_0.next();
          var firstOrNull$result_0;
          firstOrNull$break: do {
            var tmp$_2;
            tmp$_2 = strings.iterator();
            while (tmp$_2.hasNext()) {
              var element_0 = tmp$_2.next();
              if (regionMatchesImpl(element_0, 0, $receiver, index_1, element_0.length, ignoreCase)) {
                firstOrNull$result_0 = element_0;
                break firstOrNull$break;
              }
            }
            firstOrNull$result_0 = null;
          }
           while (false);
          var matchingString_0 = firstOrNull$result_0;
          if (matchingString_0 != null)
            return to(index_1, matchingString_0);
        }
      }
      return null;
    }
    function indexOf_17($receiver, string, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = 0;
      if (ignoreCase === void 0)
        ignoreCase = false;
      return ignoreCase || !(typeof $receiver === 'string') ? indexOf_15($receiver, string, startIndex, $receiver.length, ignoreCase) : $receiver.indexOf(string, startIndex);
    }
    function lastIndexOf_15($receiver, char, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = get_lastIndex_13($receiver);
      if (ignoreCase === void 0)
        ignoreCase = false;
      return ignoreCase || !(typeof $receiver === 'string') ? lastIndexOfAny($receiver, Kotlin.charArrayOf(char), startIndex, ignoreCase) : $receiver.lastIndexOf(String.fromCharCode(char), startIndex);
    }
    function lastIndexOf_16($receiver, string, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = get_lastIndex_13($receiver);
      if (ignoreCase === void 0)
        ignoreCase = false;
      return ignoreCase || !(typeof $receiver === 'string') ? indexOf_15($receiver, string, startIndex, 0, ignoreCase, true) : $receiver.lastIndexOf(string, startIndex);
    }
    function contains_53($receiver, other, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return typeof other === 'string' ? indexOf_17($receiver, other, void 0, ignoreCase) >= 0 : indexOf_15($receiver, other, 0, $receiver.length, ignoreCase) >= 0;
    }
    function DelimitedRangesSequence(input, startIndex, limit, getNextMatch) {
      this.input_0 = input;
      this.startIndex_0 = startIndex;
      this.limit_0 = limit;
      this.getNextMatch_0 = getNextMatch;
    }
    function DelimitedRangesSequence$iterator$ObjectLiteral(this$DelimitedRangesSequence) {
      this.this$DelimitedRangesSequence = this$DelimitedRangesSequence;
      this.nextState = -1;
      this.currentStartIndex = coerceIn_2(this$DelimitedRangesSequence.startIndex_0, 0, this$DelimitedRangesSequence.input_0.length);
      this.nextSearchIndex = this.currentStartIndex;
      this.nextItem = null;
      this.counter = 0;
    }
    DelimitedRangesSequence$iterator$ObjectLiteral.prototype.calcNext_0 = function () {
      if (this.nextSearchIndex < 0) {
        this.nextState = 0;
        this.nextItem = null;
      }
       else {
        if (this.this$DelimitedRangesSequence.limit_0 > 0 && (this.counter = this.counter + 1 | 0, this.counter) >= this.this$DelimitedRangesSequence.limit_0 || this.nextSearchIndex > this.this$DelimitedRangesSequence.input_0.length) {
          this.nextItem = new IntRange(this.currentStartIndex, get_lastIndex_13(this.this$DelimitedRangesSequence.input_0));
          this.nextSearchIndex = -1;
        }
         else {
          var match = this.this$DelimitedRangesSequence.getNextMatch_0(this.this$DelimitedRangesSequence.input_0, this.nextSearchIndex);
          if (match == null) {
            this.nextItem = new IntRange(this.currentStartIndex, get_lastIndex_13(this.this$DelimitedRangesSequence.input_0));
            this.nextSearchIndex = -1;
          }
           else {
            var index = match.component1(), length = match.component2();
            this.nextItem = until_4(this.currentStartIndex, index);
            this.currentStartIndex = index + length | 0;
            this.nextSearchIndex = this.currentStartIndex + (length === 0 ? 1 : 0) | 0;
          }
        }
        this.nextState = 1;
      }
    };
    DelimitedRangesSequence$iterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (this.nextState === -1)
        this.calcNext_0();
      if (this.nextState === 0)
        throw NoSuchElementException_init();
      var result = Kotlin.isType(tmp$ = this.nextItem, IntRange) ? tmp$ : throwCCE_0();
      this.nextItem = null;
      this.nextState = -1;
      return result;
    };
    DelimitedRangesSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      if (this.nextState === -1)
        this.calcNext_0();
      return this.nextState === 1;
    };
    DelimitedRangesSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    DelimitedRangesSequence.prototype.iterator = function () {
      return new DelimitedRangesSequence$iterator$ObjectLiteral(this);
    };
    DelimitedRangesSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'DelimitedRangesSequence', interfaces: [Sequence]};
    function rangesDelimitedBy$lambda_0(closure$delimitersList, closure$ignoreCase) {
      return function ($receiver, currentIndex) {
        var tmp$;
        return (tmp$ = findAnyOf($receiver, closure$delimitersList, currentIndex, closure$ignoreCase, false)) != null ? to(tmp$.first, tmp$.second.length) : null;
      };
    }
    function rangesDelimitedBy_0($receiver, delimiters, startIndex, ignoreCase, limit) {
      if (startIndex === void 0)
        startIndex = 0;
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (limit === void 0)
        limit = 0;
      if (!(limit >= 0)) {
        var message = 'Limit must be non-negative, but was ' + limit + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var delimitersList = asList(delimiters);
      return new DelimitedRangesSequence($receiver, startIndex, limit, rangesDelimitedBy$lambda_0(delimitersList, ignoreCase));
    }
    function splitToSequence$lambda(this$splitToSequence) {
      return function (it) {
        return substring_3(this$splitToSequence, it);
      };
    }
    function splitToSequence($receiver, delimiters, ignoreCase, limit) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (limit === void 0)
        limit = 0;
      return map_10(rangesDelimitedBy_0($receiver, delimiters, void 0, ignoreCase, limit), splitToSequence$lambda($receiver));
    }
    function split($receiver, delimiters, ignoreCase, limit) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (limit === void 0)
        limit = 0;
      if (delimiters.length === 1) {
        var delimiter = delimiters[0];
        if (!(delimiter.length === 0)) {
          return split_1($receiver, delimiter, ignoreCase, limit);
        }
      }
      var $receiver_0 = asIterable_10(rangesDelimitedBy_0($receiver, delimiters, void 0, ignoreCase, limit));
      var destination = ArrayList_init_0(collectionSizeOrDefault($receiver_0, 10));
      var tmp$;
      tmp$ = $receiver_0.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(substring_3($receiver, item));
      }
      return destination;
    }
    function split_1($receiver, delimiter, ignoreCase, limit) {
      if (!(limit >= 0)) {
        var message = 'Limit must be non-negative, but was ' + limit + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var currentOffset = 0;
      var nextIndex = indexOf_17($receiver, delimiter, currentOffset, ignoreCase);
      if (nextIndex === -1 || limit === 1) {
        return listOf($receiver.toString());
      }
      var isLimited = limit > 0;
      var result = ArrayList_init_0(isLimited ? coerceAtMost_2(limit, 10) : 10);
      do {
        result.add_11rb$(Kotlin.subSequence($receiver, currentOffset, nextIndex).toString());
        currentOffset = nextIndex + delimiter.length | 0;
        if (isLimited && result.size === (limit - 1 | 0))
          break;
        nextIndex = indexOf_17($receiver, delimiter, currentOffset, ignoreCase);
      }
       while (nextIndex !== -1);
      result.add_11rb$(Kotlin.subSequence($receiver, currentOffset, $receiver.length).toString());
      return result;
    }
    function lineSequence($receiver) {
      return splitToSequence($receiver, ['\r\n', '\n', '\r']);
    }
    function lines($receiver) {
      return toList_10(lineSequence($receiver));
    }
    var Typography_instance = null;
    function MatchGroupCollection() {
    }
    MatchGroupCollection.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MatchGroupCollection', interfaces: [Collection]};
    function MatchResult() {
    }
    Object.defineProperty(MatchResult.prototype, 'destructured', {get: function () {
      return new MatchResult$Destructured(this);
    }});
    function MatchResult$Destructured(match) {
      this.match = match;
    }
    MatchResult$Destructured.prototype.component1 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component1', function () {
      return this.match.groupValues.get_za3lpa$(1);
    });
    MatchResult$Destructured.prototype.component2 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component2', function () {
      return this.match.groupValues.get_za3lpa$(2);
    });
    MatchResult$Destructured.prototype.component3 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component3', function () {
      return this.match.groupValues.get_za3lpa$(3);
    });
    MatchResult$Destructured.prototype.component4 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component4', function () {
      return this.match.groupValues.get_za3lpa$(4);
    });
    MatchResult$Destructured.prototype.component5 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component5', function () {
      return this.match.groupValues.get_za3lpa$(5);
    });
    MatchResult$Destructured.prototype.component6 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component6', function () {
      return this.match.groupValues.get_za3lpa$(6);
    });
    MatchResult$Destructured.prototype.component7 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component7', function () {
      return this.match.groupValues.get_za3lpa$(7);
    });
    MatchResult$Destructured.prototype.component8 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component8', function () {
      return this.match.groupValues.get_za3lpa$(8);
    });
    MatchResult$Destructured.prototype.component9 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component9', function () {
      return this.match.groupValues.get_za3lpa$(9);
    });
    MatchResult$Destructured.prototype.component10 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component10', function () {
      return this.match.groupValues.get_za3lpa$(10);
    });
    MatchResult$Destructured.prototype.toList = function () {
      return this.match.groupValues.subList_vux9f0$(1, this.match.groupValues.size);
    };
    MatchResult$Destructured.$metadata$ = {kind: Kind_CLASS, simpleName: 'Destructured', interfaces: []};
    MatchResult.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MatchResult', interfaces: []};
    var Duration$Companion_instance = null;
    var KotlinVersion$Companion_instance = null;
    function Lazy() {
    }
    Lazy.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Lazy', interfaces: []};
    var LazyThreadSafetyMode$SYNCHRONIZED_instance;
    var LazyThreadSafetyMode$PUBLICATION_instance;
    var LazyThreadSafetyMode$NONE_instance;
    function UNINITIALIZED_VALUE() {
      UNINITIALIZED_VALUE_instance = this;
    }
    UNINITIALIZED_VALUE.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UNINITIALIZED_VALUE', interfaces: []};
    var UNINITIALIZED_VALUE_instance = null;
    function UNINITIALIZED_VALUE_getInstance() {
      if (UNINITIALIZED_VALUE_instance === null) {
        new UNINITIALIZED_VALUE();
      }
      return UNINITIALIZED_VALUE_instance;
    }
    function UnsafeLazyImpl(initializer) {
      this.initializer_0 = initializer;
      this._value_0 = UNINITIALIZED_VALUE_getInstance();
    }
    Object.defineProperty(UnsafeLazyImpl.prototype, 'value', {get: function () {
      var tmp$;
      if (this._value_0 === UNINITIALIZED_VALUE_getInstance()) {
        this._value_0 = ensureNotNull(this.initializer_0)();
        this.initializer_0 = null;
      }
      return (tmp$ = this._value_0) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    }});
    UnsafeLazyImpl.prototype.isInitialized = function () {
      return this._value_0 !== UNINITIALIZED_VALUE_getInstance();
    };
    UnsafeLazyImpl.prototype.toString = function () {
      return this.isInitialized() ? toString(this.value) : 'Lazy value not initialized yet.';
    };
    UnsafeLazyImpl.prototype.writeReplace_0 = function () {
      return new InitializedLazyImpl(this.value);
    };
    UnsafeLazyImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'UnsafeLazyImpl', interfaces: [Serializable, Lazy]};
    function InitializedLazyImpl(value) {
      this.value_7taq70$_0 = value;
    }
    Object.defineProperty(InitializedLazyImpl.prototype, 'value', {get: function () {
      return this.value_7taq70$_0;
    }});
    InitializedLazyImpl.prototype.isInitialized = function () {
      return true;
    };
    InitializedLazyImpl.prototype.toString = function () {
      return toString(this.value);
    };
    InitializedLazyImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'InitializedLazyImpl', interfaces: [Serializable, Lazy]};
    function Result(value) {
      Result$Companion_getInstance();
      this.value = value;
    }
    Object.defineProperty(Result.prototype, 'isSuccess', {get: function () {
      return !Kotlin.isType(this.value, Result$Failure);
    }});
    Object.defineProperty(Result.prototype, 'isFailure', {get: function () {
      return Kotlin.isType(this.value, Result$Failure);
    }});
    Result.prototype.getOrNull = defineInlineFunction('kotlin.kotlin.Result.getOrNull', wrapFunction(function () {
      var Any = Object;
      var throwCCE = Kotlin.throwCCE;
      return function () {
        var tmp$;
        if (this.isFailure)
          return null;
        else
          return (tmp$ = this.value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      };
    }));
    Result.prototype.exceptionOrNull = function () {
      if (Kotlin.isType(this.value, Result$Failure))
        return this.value.exception;
      else
        return null;
    };
    Result.prototype.toString = function () {
      if (Kotlin.isType(this.value, Result$Failure))
        return this.value.toString();
      else
        return 'Success(' + toString(this.value) + ')';
    };
    function Result$Companion() {
      Result$Companion_instance = this;
    }
    Result$Companion.prototype.success_mh5how$ = defineInlineFunction('kotlin.kotlin.Result.Companion.success_mh5how$', wrapFunction(function () {
      var Result_init = _.kotlin.Result;
      return function (value) {
        return new Result_init(value);
      };
    }));
    Result$Companion.prototype.failure_lsqlk3$ = defineInlineFunction('kotlin.kotlin.Result.Companion.failure_lsqlk3$', wrapFunction(function () {
      var createFailure = _.kotlin.createFailure_tcv7n7$;
      var Result_init = _.kotlin.Result;
      return function (exception) {
        return new Result_init(createFailure(exception));
      };
    }));
    Result$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var Result$Companion_instance = null;
    function Result$Companion_getInstance() {
      if (Result$Companion_instance === null) {
        new Result$Companion();
      }
      return Result$Companion_instance;
    }
    function Result$Failure(exception) {
      this.exception = exception;
    }
    Result$Failure.prototype.equals = function (other) {
      return Kotlin.isType(other, Result$Failure) && equals(this.exception, other.exception);
    };
    Result$Failure.prototype.hashCode = function () {
      return hashCode(this.exception);
    };
    Result$Failure.prototype.toString = function () {
      return 'Failure(' + this.exception + ')';
    };
    Result$Failure.$metadata$ = {kind: Kind_CLASS, simpleName: 'Failure', interfaces: [Serializable]};
    Result.$metadata$ = {kind: Kind_CLASS, simpleName: 'Result', interfaces: [Serializable]};
    Result.prototype.unbox = function () {
      return this.value;
    };
    Result.prototype.hashCode = function () {
      var result = 0;
      result = result * 31 + Kotlin.hashCode(this.value) | 0;
      return result;
    };
    Result.prototype.equals = function (other) {
      return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && Kotlin.equals(this.value, other.value))));
    };
    function createFailure(exception) {
      return new Result$Failure(exception);
    }
    function throwOnFailure($receiver) {
      if (Kotlin.isType($receiver.value, Result$Failure))
        throw $receiver.value.exception;
    }
    function NotImplementedError(message) {
      if (message === void 0)
        message = 'An operation is not implemented.';
      Error_init_0(message, this);
      this.name = 'NotImplementedError';
    }
    NotImplementedError.$metadata$ = {kind: Kind_CLASS, simpleName: 'NotImplementedError', interfaces: [Error_0]};
    function Pair(first, second) {
      this.first = first;
      this.second = second;
    }
    Pair.prototype.toString = function () {
      return '(' + this.first + ', ' + this.second + ')';
    };
    Pair.$metadata$ = {kind: Kind_CLASS, simpleName: 'Pair', interfaces: [Serializable]};
    Pair.prototype.component1 = function () {
      return this.first;
    };
    Pair.prototype.component2 = function () {
      return this.second;
    };
    Pair.prototype.copy_xwzc9p$ = function (first, second) {
      return new Pair(first === void 0 ? this.first : first, second === void 0 ? this.second : second);
    };
    Pair.prototype.hashCode = function () {
      var result = 0;
      result = result * 31 + Kotlin.hashCode(this.first) | 0;
      result = result * 31 + Kotlin.hashCode(this.second) | 0;
      return result;
    };
    Pair.prototype.equals = function (other) {
      return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.first, other.first) && Kotlin.equals(this.second, other.second)))));
    };
    function to($receiver, that) {
      return new Pair($receiver, that);
    }
    var UByte$Companion_instance = null;
    var UInt$Companion_instance = null;
    var UIntRange$Companion_instance = null;
    var UIntProgression$Companion_instance = null;
    var ULong$Companion_instance = null;
    var ULongRange$Companion_instance = null;
    var ULongProgression$Companion_instance = null;
    var UShort$Companion_instance = null;
    var package$kotlin = _.kotlin || (_.kotlin = {});
    var package$collections = package$kotlin.collections || (package$kotlin.collections = {});
    package$collections.contains_mjy6jw$ = contains;
    package$collections.contains_o2f9me$ = contains_7;
    package$collections.get_lastIndex_m7z4lg$ = get_lastIndex;
    package$collections.getOrNull_8ujjk8$ = getOrNull;
    package$collections.indexOf_mjy6jw$ = indexOf;
    package$collections.indexOf_o2f9me$ = indexOf_7;
    package$collections.get_indices_m7z4lg$ = get_indices;
    var package$ranges = package$kotlin.ranges || (package$kotlin.ranges = {});
    package$ranges.reversed_zf1xzc$ = reversed_9;
    package$collections.lastIndexOf_mjy6jw$ = lastIndexOf;
    package$collections.single_355ntz$ = single_7;
    package$kotlin.IllegalArgumentException_init_pdl1vj$ = IllegalArgumentException_init_0;
    package$collections.emptyList_287e2$ = emptyList;
    package$collections.ArrayList_init_287e2$ = ArrayList_init;
    package$collections.toList_us0mfu$ = toList;
    package$collections.mapCapacity_za3lpa$ = mapCapacity;
    package$ranges.coerceAtLeast_dqglrj$ = coerceAtLeast_2;
    package$collections.LinkedHashMap_init_bwtc7$ = LinkedHashMap_init_2;
    package$collections.toCollection_5n4o2z$ = toCollection;
    package$collections.toMutableList_us0mfu$ = toMutableList;
    package$collections.toSet_us0mfu$ = toSet;
    package$collections.LinkedHashMap_init_q3lmfv$ = LinkedHashMap_init;
    package$collections.ArrayList_init_ww73n8$ = ArrayList_init_0;
    package$collections.HashSet_init_287e2$ = HashSet_init;
    package$kotlin.UnsupportedOperationException_init_pdl1vj$ = UnsupportedOperationException_init_0;
    package$collections.collectionSizeOrDefault_ba2ldo$ = collectionSizeOrDefault;
    package$collections.get_lastIndex_55thoc$ = get_lastIndex_12;
    package$collections.getOrNull_yzln2o$ = getOrNull_8;
    package$collections.first_2p1efm$ = first_18;
    package$collections.checkIndexOverflow_za3lpa$ = checkIndexOverflow;
    package$collections.last_2p1efm$ = last_18;
    package$collections.lastOrNull_2p1efm$ = lastOrNull_18;
    package$collections.single_7wnvza$ = single_17;
    package$collections.single_2p1efm$ = single_18;
    package$collections.slice_6bjbi1$ = slice_17;
    package$collections.toList_7wnvza$ = toList_8;
    package$collections.toCollection_5cfyqp$ = toCollection_8;
    package$collections.toMutableList_7wnvza$ = toMutableList_8;
    package$collections.toMutableList_4c7yge$ = toMutableList_9;
    package$collections.toSet_7wnvza$ = toSet_8;
    package$collections.Collection = Collection;
    package$collections.min_exjks8$ = min_11;
    package$collections.joinTo_gcc71v$ = joinTo_8;
    package$collections.joinToString_fmv235$ = joinToString_8;
    package$collections.asSequence_7wnvza$ = asSequence_8;
    package$ranges.downTo_dqglrj$ = downTo_4;
    package$ranges.until_dqglrj$ = until_4;
    package$ranges.coerceAtMost_dqglrj$ = coerceAtMost_2;
    package$ranges.coerceIn_e4yvb3$ = coerceIn_2;
    var package$sequences = package$kotlin.sequences || (package$kotlin.sequences = {});
    package$sequences.Sequence = Sequence;
    package$sequences.take_wuwhe2$ = take_9;
    package$sequences.toCollection_gtszxp$ = toCollection_9;
    package$sequences.toList_veqyi0$ = toList_10;
    package$sequences.toMutableList_veqyi0$ = toMutableList_10;
    package$sequences.map_z5avom$ = map_10;
    package$sequences.asIterable_veqyi0$ = asIterable_10;
    var package$text = package$kotlin.text || (package$kotlin.text = {});
    package$text.get_lastIndex_gw00vp$ = get_lastIndex_13;
    package$text.iterator_gw00vp$ = iterator_4;
    package$text.get_indices_gw00vp$ = get_indices_13;
    package$text.single_gw00vp$ = single_22;
    package$text.drop_6ic1pp$ = drop_11;
    package$text.StringBuilder_init = StringBuilder_init_1;
    var package$math = package$kotlin.math || (package$kotlin.math = {});
    package$kotlin.CharSequence = CharSequence;
    package$collections.Iterable = Iterable;
    package$collections.MutableIterable = MutableIterable;
    package$collections.MutableCollection = MutableCollection;
    package$collections.List = List;
    package$collections.MutableList = MutableList;
    package$collections.Set = Set;
    package$collections.MutableSet = MutableSet;
    Map.Entry = Map$Entry;
    package$collections.Map = Map;
    MutableMap.MutableEntry = MutableMap$MutableEntry;
    package$collections.MutableMap = MutableMap;
    package$kotlin.Function = Function_0;
    package$collections.Iterator = Iterator;
    package$collections.MutableIterator = MutableIterator;
    package$collections.ListIterator = ListIterator;
    package$collections.MutableListIterator = MutableListIterator;
    package$collections.ByteIterator = ByteIterator;
    package$collections.CharIterator = CharIterator;
    package$collections.ShortIterator = ShortIterator;
    package$collections.IntIterator = IntIterator;
    package$collections.LongIterator = LongIterator;
    package$collections.FloatIterator = FloatIterator;
    package$collections.DoubleIterator = DoubleIterator;
    package$collections.BooleanIterator = BooleanIterator;
    package$ranges.CharProgressionIterator = CharProgressionIterator;
    package$ranges.IntProgressionIterator = IntProgressionIterator;
    package$ranges.LongProgressionIterator = LongProgressionIterator;
    Object.defineProperty(CharProgression, 'Companion', {get: CharProgression$Companion_getInstance});
    package$ranges.CharProgression = CharProgression;
    Object.defineProperty(IntProgression, 'Companion', {get: IntProgression$Companion_getInstance});
    package$ranges.IntProgression = IntProgression;
    Object.defineProperty(LongProgression, 'Companion', {get: LongProgression$Companion_getInstance});
    package$ranges.LongProgression = LongProgression;
    package$ranges.ClosedRange = ClosedRange;
    Object.defineProperty(CharRange, 'Companion', {get: CharRange$Companion_getInstance});
    package$ranges.CharRange = CharRange;
    Object.defineProperty(IntRange, 'Companion', {get: IntRange$Companion_getInstance});
    package$ranges.IntRange = IntRange;
    Object.defineProperty(LongRange, 'Companion', {get: LongRange$Companion_getInstance});
    package$ranges.LongRange = LongRange;
    Object.defineProperty(package$kotlin, 'Unit', {get: Unit_getInstance});
    var package$internal = package$kotlin.internal || (package$kotlin.internal = {});
    package$internal.getProgressionLastElement_qt1dr2$ = getProgressionLastElement;
    package$internal.getProgressionLastElement_b9bd0d$ = getProgressionLastElement_0;
    var package$reflect = package$kotlin.reflect || (package$kotlin.reflect = {});
    package$reflect.KAnnotatedElement = KAnnotatedElement;
    package$reflect.KCallable = KCallable;
    package$reflect.KClass = KClass;
    package$reflect.KClassifier = KClassifier;
    package$reflect.KDeclarationContainer = KDeclarationContainer;
    package$reflect.KFunction = KFunction;
    KProperty.Accessor = KProperty$Accessor;
    KProperty.Getter = KProperty$Getter;
    package$reflect.KProperty = KProperty;
    KMutableProperty.Setter = KMutableProperty$Setter;
    package$reflect.KMutableProperty = KMutableProperty;
    KProperty0.Getter = KProperty0$Getter;
    package$reflect.KProperty0 = KProperty0;
    KMutableProperty0.Setter = KMutableProperty0$Setter;
    package$reflect.KMutableProperty0 = KMutableProperty0;
    KProperty1.Getter = KProperty1$Getter;
    package$reflect.KProperty1 = KProperty1;
    KMutableProperty1.Setter = KMutableProperty1$Setter;
    package$reflect.KMutableProperty1 = KMutableProperty1;
    _.arrayIterator = arrayIterator;
    _.booleanArrayIterator = booleanArrayIterator;
    _.byteArrayIterator = byteArrayIterator;
    _.shortArrayIterator = shortArrayIterator;
    _.charArrayIterator = charArrayIterator;
    _.intArrayIterator = intArrayIterator;
    _.floatArrayIterator = floatArrayIterator;
    _.doubleArrayIterator = doubleArrayIterator;
    _.longArrayIterator = longArrayIterator;
    _.noWhenBranchMatched = noWhenBranchMatched;
    _.subSequence = subSequence;
    _.captureStack = captureStack;
    _.BoxedChar = BoxedChar;
    _.charArrayOf = charArrayOf;
    var package$coroutines = package$kotlin.coroutines || (package$kotlin.coroutines = {});
    package$coroutines.CoroutineImpl = CoroutineImpl;
    Object.defineProperty(package$coroutines, 'CompletedContinuation', {get: CompletedContinuation_getInstance});
    var package$intrinsics = package$coroutines.intrinsics || (package$coroutines.intrinsics = {});
    package$intrinsics.intercepted_f9mg25$ = intercepted;
    var package$js = package$kotlin.js || (package$kotlin.js = {});
    package$kotlin.lazy_klfg04$ = lazy;
    package$kotlin.fillFrom_dgzutr$ = fillFrom;
    package$kotlin.arrayCopyResize_xao4iu$ = arrayCopyResize;
    package$collections.asList_us0mfu$ = asList;
    package$collections.copyOf_1qu12l$ = copyOf_22;
    package$collections.copyOf_gtcw5h$ = copyOf_23;
    package$collections.copyOfRange_5f8l3u$ = copyOfRange_3;
    package$kotlin.Comparator = Comparator;
    package$collections.copyToArray = copyToArray;
    package$collections.copyToArrayImpl = copyToArrayImpl;
    package$collections.copyToExistingArrayImpl = copyToArrayImpl_0;
    package$collections.listOf_mh5how$ = listOf;
    package$collections.setOf_mh5how$ = setOf;
    package$collections.AbstractMutableCollection = AbstractMutableCollection;
    package$collections.AbstractMutableList = AbstractMutableList;
    AbstractMutableMap.SimpleEntry_init_trwmqg$ = AbstractMutableMap$AbstractMutableMap$SimpleEntry_init;
    AbstractMutableMap.SimpleEntry = AbstractMutableMap$SimpleEntry;
    package$collections.AbstractMutableMap = AbstractMutableMap;
    package$collections.AbstractMutableSet = AbstractMutableSet;
    package$collections.ArrayList_init_mqih57$ = ArrayList_init_1;
    package$collections.ArrayList = ArrayList;
    Object.defineProperty(EqualityComparator, 'HashCode', {get: EqualityComparator$HashCode_getInstance});
    package$collections.EqualityComparator = EqualityComparator;
    package$collections.HashMap_init_va96d4$ = HashMap_init;
    package$collections.HashMap_init_q3lmfv$ = HashMap_init_0;
    package$collections.HashMap_init_xf5xz2$ = HashMap_init_1;
    package$collections.HashMap_init_bwtc7$ = HashMap_init_2;
    package$collections.HashMap_init_73mtqc$ = HashMap_init_3;
    package$collections.HashMap = HashMap;
    package$collections.HashSet_init_mqih57$ = HashSet_init_0;
    package$collections.HashSet_init_2wofer$ = HashSet_init_1;
    package$collections.HashSet_init_ww73n8$ = HashSet_init_2;
    package$collections.HashSet_init_nn01ho$ = HashSet_init_3;
    package$collections.HashSet = HashSet;
    package$collections.InternalHashCodeMap = InternalHashCodeMap;
    package$collections.InternalMap = InternalMap;
    package$collections.InternalStringMap = InternalStringMap;
    package$collections.LinkedHashMap_init_xf5xz2$ = LinkedHashMap_init_1;
    package$collections.LinkedHashMap_init_73mtqc$ = LinkedHashMap_init_3;
    package$collections.LinkedHashMap = LinkedHashMap;
    package$collections.LinkedHashSet_init_287e2$ = LinkedHashSet_init_0;
    package$collections.LinkedHashSet_init_mqih57$ = LinkedHashSet_init_1;
    package$collections.LinkedHashSet_init_2wofer$ = LinkedHashSet_init_2;
    package$collections.LinkedHashSet_init_ww73n8$ = LinkedHashSet_init_3;
    package$collections.LinkedHashSet = LinkedHashSet;
    package$collections.RandomAccess = RandomAccess;
    var package$io = package$kotlin.io || (package$kotlin.io = {});
    package$io.BaseOutput = BaseOutput;
    package$io.NodeJsOutput = NodeJsOutput;
    package$io.BufferedOutput = BufferedOutput;
    package$io.BufferedOutputToConsoleLog = BufferedOutputToConsoleLog;
    package$io.print_s8jyv4$ = print;
    package$coroutines.SafeContinuation_init_wj8d80$ = SafeContinuation_init;
    package$coroutines.SafeContinuation = SafeContinuation;
    _.throwNPE = throwNPE;
    _.throwCCE = throwCCE_0;
    _.throwISE = throwISE;
    _.throwUPAE = throwUPAE;
    package$kotlin.Error_init_pdl1vj$ = Error_init_0;
    package$kotlin.Error = Error_0;
    package$kotlin.Exception_init = Exception_init;
    package$kotlin.Exception_init_pdl1vj$ = Exception_init_0;
    package$kotlin.Exception = Exception;
    package$kotlin.RuntimeException_init_pdl1vj$ = RuntimeException_init_0;
    package$kotlin.RuntimeException = RuntimeException;
    package$kotlin.IllegalArgumentException = IllegalArgumentException;
    package$kotlin.IllegalStateException_init_pdl1vj$ = IllegalStateException_init_0;
    package$kotlin.IllegalStateException = IllegalStateException;
    package$kotlin.IndexOutOfBoundsException = IndexOutOfBoundsException;
    package$kotlin.UnsupportedOperationException = UnsupportedOperationException;
    package$kotlin.NumberFormatException = NumberFormatException;
    package$kotlin.NullPointerException = NullPointerException;
    package$kotlin.ClassCastException = ClassCastException;
    package$kotlin.NoSuchElementException_init = NoSuchElementException_init;
    package$kotlin.NoSuchElementException = NoSuchElementException;
    package$kotlin.ArithmeticException = ArithmeticException;
    package$kotlin.NoWhenBranchMatchedException_init = NoWhenBranchMatchedException_init;
    package$kotlin.NoWhenBranchMatchedException = NoWhenBranchMatchedException;
    package$kotlin.UninitializedPropertyAccessException_init_pdl1vj$ = UninitializedPropertyAccessException_init_0;
    package$kotlin.UninitializedPropertyAccessException = UninitializedPropertyAccessException;
    package$io.Serializable = Serializable;
    package$js.json_pyyo18$ = json;
    package$math.round_14dthe$ = round;
    package$kotlin.isNaN_yrwdxr$ = isNaN_0;
    package$kotlin.isNaN_81szk$ = isNaN_1;
    package$kotlin.isInfinite_yrwdxr$ = isInfinite;
    package$kotlin.isInfinite_81szk$ = isInfinite_0;
    package$kotlin.isFinite_yrwdxr$ = isFinite;
    package$kotlin.isFinite_81szk$ = isFinite_0;
    package$js.get_js_1yb8b7$ = get_js;
    var package$js_1 = package$reflect.js || (package$reflect.js = {});
    var package$internal_1 = package$js_1.internal || (package$js_1.internal = {});
    package$internal_1.KClassImpl = KClassImpl;
    package$internal_1.SimpleKClassImpl = SimpleKClassImpl;
    package$internal_1.PrimitiveKClassImpl = PrimitiveKClassImpl;
    Object.defineProperty(package$internal_1, 'NothingKClassImpl', {get: NothingKClassImpl_getInstance});
    Object.defineProperty(package$internal_1, 'PrimitiveClasses', {get: PrimitiveClasses_getInstance});
    _.getKClass = getKClass;
    _.getKClassFromExpression = getKClassFromExpression;
    package$js.reset_xjqeni$ = reset;
    package$text.isWhitespace_myv2d0$ = isWhitespace;
    package$text.toBoolean_pdl1vz$ = toBoolean;
    package$text.toByte_pdl1vz$ = toByte_0;
    package$text.toShort_pdl1vz$ = toShort_0;
    package$text.toInt_pdl1vz$ = toInt;
    package$text.toLong_pdl1vz$ = toLong;
    package$text.toDouble_pdl1vz$ = toDouble;
    package$text.toDoubleOrNull_pdl1vz$ = toDoubleOrNull;
    package$text.checkRadix_za3lpa$ = checkRadix;
    package$text.digitOf_xvg9q0$ = digitOf;
    Object.defineProperty(RegexOption, 'IGNORE_CASE', {get: RegexOption$IGNORE_CASE_getInstance});
    Object.defineProperty(RegexOption, 'MULTILINE', {get: RegexOption$MULTILINE_getInstance});
    package$text.RegexOption = RegexOption;
    package$text.MatchGroup = MatchGroup;
    package$text.StringBuilder_init_za3lpa$ = StringBuilder_init;
    Object.defineProperty(Regex, 'Companion', {get: Regex$Companion_getInstance});
    package$text.Regex_init_sb3q2$ = Regex_init;
    package$text.Regex_init_61zpoe$ = Regex_init_0;
    package$text.Regex = Regex;
    package$text.String_8chfmy$ = String_2;
    package$text.compareTo_7epoxm$ = compareTo;
    package$text.matches_rjktp$ = matches;
    package$text.isBlank_gw00vp$ = isBlank;
    package$text.equals_igcy3c$ = equals_0;
    package$text.regionMatches_h3ii2q$ = regionMatches;
    package$text.replace_680rmw$ = replace;
    package$text.Appendable = Appendable;
    package$text.StringBuilder = StringBuilder;
    package$collections.AbstractCollection = AbstractCollection;
    Object.defineProperty(AbstractList, 'Companion', {get: AbstractList$Companion_getInstance});
    package$collections.AbstractList = AbstractList;
    Object.defineProperty(AbstractMap, 'Companion', {get: AbstractMap$Companion_getInstance});
    package$collections.AbstractMap = AbstractMap;
    Object.defineProperty(AbstractSet, 'Companion', {get: AbstractSet$Companion_getInstance});
    package$collections.AbstractSet = AbstractSet;
    Object.defineProperty(package$collections, 'EmptyIterator', {get: EmptyIterator_getInstance});
    Object.defineProperty(package$collections, 'EmptyList', {get: EmptyList_getInstance});
    package$collections.asCollection_vj43ah$ = asCollection;
    package$collections.listOf_i5x0yv$ = listOf_0;
    package$collections.mutableListOf_i5x0yv$ = mutableListOf_0;
    package$collections.arrayListOf_i5x0yv$ = arrayListOf_0;
    package$collections.get_indices_gzk92b$ = get_indices_12;
    package$collections.optimizeReadOnlyList_qzupvv$ = optimizeReadOnlyList;
    package$collections.throwIndexOverflow = throwIndexOverflow;
    package$collections.getOrImplicitDefault_t9ocha$ = getOrImplicitDefault;
    package$collections.emptyMap_q3lmfv$ = emptyMap;
    package$collections.mapOf_qfcya0$ = mapOf_0;
    package$collections.mutableMapOf_qfcya0$ = mutableMapOf_0;
    package$collections.getValue_t9ocha$ = getValue_2;
    package$collections.putAll_5gv49o$ = putAll;
    package$collections.toMap_ujwnei$ = toMap_2;
    package$collections.removeAll_uhyeqt$ = removeAll_0;
    package$collections.removeAll_qafx1e$ = removeAll_1;
    package$sequences.emptySequence_287e2$ = emptySequence;
    package$sequences.TransformingSequence = TransformingSequence;
    package$sequences.FlatteningSequence = FlatteningSequence;
    package$sequences.DropTakeSequence = DropTakeSequence;
    package$sequences.SubSequence = SubSequence;
    package$sequences.TakeSequence = TakeSequence;
    package$sequences.generateSequence_c6s9hp$ = generateSequence_1;
    Object.defineProperty(package$collections, 'EmptySet', {get: EmptySet_getInstance});
    package$collections.emptySet_287e2$ = emptySet;
    package$collections.hashSetOf_i5x0yv$ = hashSetOf_0;
    package$collections.optimizeReadOnlySet_94kdbt$ = optimizeReadOnlySet;
    package$coroutines.Continuation = Continuation;
    package$kotlin.Result = Result;
    package$intrinsics.get_COROUTINE_SUSPENDED = get_COROUTINE_SUSPENDED;
    Object.defineProperty(ContinuationInterceptor, 'Key', {get: ContinuationInterceptor$Key_getInstance});
    package$coroutines.ContinuationInterceptor = ContinuationInterceptor;
    CoroutineContext.Key = CoroutineContext$Key;
    CoroutineContext.Element = CoroutineContext$Element;
    package$coroutines.CoroutineContext = CoroutineContext;
    package$coroutines.AbstractCoroutineContextElement = AbstractCoroutineContextElement;
    Object.defineProperty(package$coroutines, 'EmptyCoroutineContext', {get: EmptyCoroutineContext_getInstance});
    package$coroutines.CombinedContext = CombinedContext;
    Object.defineProperty(package$intrinsics, 'COROUTINE_SUSPENDED', {get: get_COROUTINE_SUSPENDED});
    Object.defineProperty(CoroutineSingletons, 'COROUTINE_SUSPENDED', {get: CoroutineSingletons$COROUTINE_SUSPENDED_getInstance});
    Object.defineProperty(CoroutineSingletons, 'UNDECIDED', {get: CoroutineSingletons$UNDECIDED_getInstance});
    Object.defineProperty(CoroutineSingletons, 'RESUMED', {get: CoroutineSingletons$RESUMED_getInstance});
    package$intrinsics.CoroutineSingletons = CoroutineSingletons;
    package$text.equals_4lte5s$ = equals_1;
    package$text.trimIndent_pdl1vz$ = trimIndent;
    package$text.replaceIndent_rjktp$ = replaceIndent;
    package$text.appendElement_k2zgzt$ = appendElement_0;
    package$text.toByteOrNull_pdl1vz$ = toByteOrNull;
    package$text.toByteOrNull_6ic1pp$ = toByteOrNull_0;
    package$text.toShortOrNull_pdl1vz$ = toShortOrNull;
    package$text.toShortOrNull_6ic1pp$ = toShortOrNull_0;
    package$text.toIntOrNull_pdl1vz$ = toIntOrNull;
    package$text.toIntOrNull_6ic1pp$ = toIntOrNull_0;
    package$text.toLongOrNull_pdl1vz$ = toLongOrNull;
    package$text.toLongOrNull_6ic1pp$ = toLongOrNull_0;
    package$text.numberFormatError_y4putb$ = numberFormatError;
    package$text.trimStart_wqw3xr$ = trimStart_2;
    package$text.trimEnd_wqw3xr$ = trimEnd_2;
    package$text.trim_gw00vp$ = trim_3;
    package$text.trimEnd_gw00vp$ = trimEnd_3;
    package$text.substring_i511yc$ = substring_3;
    package$text.regionMatchesImpl_4c7s8r$ = regionMatchesImpl;
    package$text.startsWith_sgbm27$ = startsWith_1;
    package$text.endsWith_sgbm27$ = endsWith_0;
    package$text.lastIndexOfAny_junqau$ = lastIndexOfAny;
    package$text.indexOf_l5u8uk$ = indexOf_17;
    package$text.lastIndexOf_8eortd$ = lastIndexOf_15;
    package$text.lastIndexOf_l5u8uk$ = lastIndexOf_16;
    package$text.contains_li3zpu$ = contains_53;
    package$text.splitToSequence_ip8yn$ = splitToSequence;
    package$text.split_ip8yn$ = split;
    package$text.lineSequence_gw00vp$ = lineSequence;
    package$text.lines_gw00vp$ = lines;
    package$text.MatchGroupCollection = MatchGroupCollection;
    MatchResult.Destructured = MatchResult$Destructured;
    package$text.MatchResult = MatchResult;
    package$kotlin.Lazy = Lazy;
    Object.defineProperty(package$kotlin, 'UNINITIALIZED_VALUE', {get: UNINITIALIZED_VALUE_getInstance});
    package$kotlin.UnsafeLazyImpl = UnsafeLazyImpl;
    package$kotlin.InitializedLazyImpl = InitializedLazyImpl;
    package$kotlin.createFailure_tcv7n7$ = createFailure;
    Object.defineProperty(Result, 'Companion', {get: Result$Companion_getInstance});
    Result.Failure = Result$Failure;
    package$kotlin.throwOnFailure_iacion$ = throwOnFailure;
    package$kotlin.NotImplementedError = NotImplementedError;
    package$kotlin.Pair = Pair;
    package$kotlin.to_ujzrz7$ = to;
    MutableMap.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    AbstractMap.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    AbstractMutableMap.prototype.remove_xwzc9p$ = MutableMap.prototype.remove_xwzc9p$;
    InternalHashCodeMap.prototype.createJsMap = InternalMap.prototype.createJsMap;
    InternalStringMap.prototype.createJsMap = InternalMap.prototype.createJsMap;
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'destructured', Object.getOwnPropertyDescriptor(MatchResult.prototype, 'destructured'));
    MapWithDefault.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    MutableMapWithDefault.prototype.remove_xwzc9p$ = MutableMap.prototype.remove_xwzc9p$;
    MutableMapWithDefault.prototype.getOrDefault_xwzc9p$ = MutableMap.prototype.getOrDefault_xwzc9p$;
    MapWithDefaultImpl.prototype.getOrDefault_xwzc9p$ = MapWithDefault.prototype.getOrDefault_xwzc9p$;
    MutableMapWithDefaultImpl.prototype.remove_xwzc9p$ = MutableMapWithDefault.prototype.remove_xwzc9p$;
    MutableMapWithDefaultImpl.prototype.getOrDefault_xwzc9p$ = MutableMapWithDefault.prototype.getOrDefault_xwzc9p$;
    EmptyMap.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    CoroutineContext$Element.prototype.plus_1fupul$ = CoroutineContext.prototype.plus_1fupul$;
    ContinuationInterceptor.prototype.fold_3cc69b$ = CoroutineContext$Element.prototype.fold_3cc69b$;
    ContinuationInterceptor.prototype.plus_1fupul$ = CoroutineContext$Element.prototype.plus_1fupul$;
    AbstractCoroutineContextElement.prototype.get_j3r2sn$ = CoroutineContext$Element.prototype.get_j3r2sn$;
    AbstractCoroutineContextElement.prototype.fold_3cc69b$ = CoroutineContext$Element.prototype.fold_3cc69b$;
    AbstractCoroutineContextElement.prototype.minusKey_yeqjby$ = CoroutineContext$Element.prototype.minusKey_yeqjby$;
    AbstractCoroutineContextElement.prototype.plus_1fupul$ = CoroutineContext$Element.prototype.plus_1fupul$;
    CombinedContext.prototype.plus_1fupul$ = CoroutineContext.prototype.plus_1fupul$;
    ComparableRange.prototype.contains_mef7kx$ = ClosedRange.prototype.contains_mef7kx$;
    ComparableRange.prototype.isEmpty = ClosedRange.prototype.isEmpty;
    PI = 3.141592653589793;
    E = 2.718281828459045;
    _stableSortingIsSupported = null;
    var isNode = typeof process !== 'undefined' && process.versions && !!process.versions.node;
    output = isNode ? new NodeJsOutput(process.stdout) : new BufferedOutputToConsoleLog();
    EmptyContinuation = new Continuation$ObjectLiteral(EmptyCoroutineContext_getInstance(), EmptyContinuation$lambda);
    INV_2_26 = Math_0.pow(2.0, -26);
    INV_2_53 = Math_0.pow(2.0, -53);
    functionClasses = Kotlin.newArray(0, null);
    STRING_CASE_INSENSITIVE_ORDER = new Comparator$ObjectLiteral_0(STRING_CASE_INSENSITIVE_ORDER$lambda);
    MAX_BYTES_PER_CHAR = 3;
    REPLACEMENT_BYTE_SEQUENCE = new Int8Array([toByte(239), toByte(191), toByte(189)]);
    REPLACEMENT_CHAR = 65533;
    INT_MAX_POWER_OF_TWO = 1073741824;
    State_NotReady = 0;
    State_ManyNotReady = 1;
    State_ManyReady = 2;
    State_Ready = 3;
    State_Done = 4;
    State_Failed = 5;
  }());
  (function () {
    'use strict';
    var Kind_CLASS = Kotlin.Kind.CLASS;
    var Any = Object;
    var IllegalStateException_init = Kotlin.kotlin.IllegalStateException_init_pdl1vj$;
    var throwCCE = Kotlin.throwCCE;
    var Throwable = Error;
    var defineInlineFunction = Kotlin.defineInlineFunction;
    var Kind_OBJECT = Kotlin.Kind.OBJECT;
    var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
    var equals = Kotlin.equals;
    var hashCode = Kotlin.hashCode;
    var toString = Kotlin.toString;
    var Unit = Kotlin.kotlin.Unit;
    var wrapFunction = Kotlin.wrapFunction;
    var Collection = Kotlin.kotlin.collections.Collection;
    var ensureNotNull = Kotlin.ensureNotNull;
    var NoSuchElementException_init = Kotlin.kotlin.NoSuchElementException_init;
    var Iterator = Kotlin.kotlin.collections.Iterator;
    var Sequence = Kotlin.kotlin.sequences.Sequence;
    var NotImplementedError = Kotlin.kotlin.NotImplementedError;
    var UNDECIDED;
    var RESUMED;
    function Fail(exception) {
      this.exception = exception;
    }
    Fail.$metadata$ = {kind: Kind_CLASS, simpleName: 'Fail', interfaces: []};
    function SafeContinuation(delegate, initialResult) {
      this.delegate_0 = delegate;
      this.result_0 = initialResult;
    }
    Object.defineProperty(SafeContinuation.prototype, 'context', {get: function () {
      return this.delegate_0.context;
    }});
    SafeContinuation.prototype.resume_11rb$ = function (value) {
      if (this.result_0 === UNDECIDED)
        this.result_0 = value;
      else if (this.result_0 === COROUTINE_SUSPENDED) {
        this.result_0 = RESUMED;
        this.delegate_0.resume_11rb$(value);
      }
       else {
        throw IllegalStateException_init('Already resumed');
      }
    };
    SafeContinuation.prototype.resumeWithException_tcv7n7$ = function (exception) {
      if (this.result_0 === UNDECIDED)
        this.result_0 = new Fail(exception);
      else if (this.result_0 === COROUTINE_SUSPENDED) {
        this.result_0 = RESUMED;
        this.delegate_0.resumeWithException_tcv7n7$(exception);
      }
       else {
        throw IllegalStateException_init('Already resumed');
      }
    };
    SafeContinuation.prototype.getResult = function () {
      var tmp$;
      if (this.result_0 === UNDECIDED) {
        this.result_0 = COROUTINE_SUSPENDED;
      }
      var result = this.result_0;
      if (result === RESUMED)
        tmp$ = COROUTINE_SUSPENDED;
      else if (Kotlin.isType(result, Fail))
        throw result.exception;
      else {
        tmp$ = result;
      }
      return tmp$;
    };
    SafeContinuation.$metadata$ = {kind: Kind_CLASS, simpleName: 'SafeContinuation', interfaces: [Continuation]};
    function SafeContinuation_init(delegate, $this) {
      $this = $this || Object.create(SafeContinuation.prototype);
      SafeContinuation.call($this, delegate, UNDECIDED);
      return $this;
    }
    var COROUTINE_SUSPENDED;
    function CoroutineSuspendedMarker() {
      CoroutineSuspendedMarker_instance = this;
    }
    CoroutineSuspendedMarker.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CoroutineSuspendedMarker', interfaces: []};
    var CoroutineSuspendedMarker_instance = null;
    function CoroutineSuspendedMarker_getInstance() {
      if (CoroutineSuspendedMarker_instance === null) {
        new CoroutineSuspendedMarker();
      }
      return CoroutineSuspendedMarker_instance;
    }
    var ContinuationInterceptor$Key_instance = null;
    var EmptyCoroutineContext_instance = null;
    function Continuation() {
    }
    Continuation.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Continuation', interfaces: []};
    defineInlineFunction('kotlin.kotlin.coroutines.experimental.suspendCoroutine_z3e1t3$', wrapFunction(function () {
      var SafeContinuation_init = _.kotlin.coroutines.experimental.SafeContinuation_init_n4f53e$;
      function suspendCoroutineOrReturn$lambda(closure$block) {
        return function (cont) {
          return closure$block(cont.facade);
        };
      }
      function suspendCoroutine$lambda(closure$block) {
        return function (c) {
          var safe = SafeContinuation_init(c);
          closure$block(safe);
          return safe.getResult();
        };
      }
      return function (block, continuation) {
        Kotlin.suspendCall(suspendCoroutineOrReturn$lambda(suspendCoroutine$lambda(block))(Kotlin.coroutineReceiver()));
        return Kotlin.coroutineResult(Kotlin.coroutineReceiver());
      };
    }));
    var State_NotReady;
    var State_ManyNotReady;
    var State_ManyReady;
    var State_Ready;
    var State_Done;
    var State_Failed;
    defineInlineFunction('kotlin.kotlin.coroutines.experimental.intrinsics.suspendCoroutineOrReturn_8ufn2u$', wrapFunction(function () {
      function suspendCoroutineOrReturn$lambda(closure$block) {
        return function (cont) {
          return closure$block(cont.facade);
        };
      }
      return function (block, continuation) {
        Kotlin.suspendCall(suspendCoroutineOrReturn$lambda(block)(Kotlin.coroutineReceiver()));
        return Kotlin.coroutineResult(Kotlin.coroutineReceiver());
      };
    }));
    defineInlineFunction('kotlin.kotlin.coroutines.experimental.intrinsics.suspendCoroutineUninterceptedOrReturn_8ufn2u$', wrapFunction(function () {
      var NotImplementedError_init = Kotlin.kotlin.NotImplementedError;
      return function (block, continuation) {
        throw new NotImplementedError_init('Implementation of suspendCoroutineUninterceptedOrReturn is intrinsic');
      };
    }));
    var package$kotlin = _.kotlin || (_.kotlin = {});
    var package$coroutines = package$kotlin.coroutines || (package$kotlin.coroutines = {});
    var package$experimental = package$coroutines.experimental || (package$coroutines.experimental = {});
    package$experimental.SafeContinuation_init_n4f53e$ = SafeContinuation_init;
    package$experimental.SafeContinuation = SafeContinuation;
    package$experimental.Continuation = Continuation;
    UNDECIDED = new Any();
    RESUMED = new Any();
    COROUTINE_SUSPENDED = CoroutineSuspendedMarker_getInstance();
    State_NotReady = 0;
    State_ManyNotReady = 1;
    State_ManyReady = 2;
    State_Ready = 3;
    State_Done = 4;
    State_Failed = 5;
  }());
}));

//# sourceMappingURL=kotlin.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./kotlin-js-min/main/kotlinx-serialization-kotlinx-serialization-runtime.js":
/*!***********************************************************************************!*\
  !*** ./kotlin-js-min/main/kotlinx-serialization-kotlinx-serialization-runtime.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! kotlin */ "./kotlin-js-min/main/kotlin.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, Kotlin) {
  'use strict';
  var Enum = Kotlin.kotlin.Enum;
  var Kind_CLASS = Kotlin.Kind.CLASS;
  var throwISE = Kotlin.throwISE;
  var getKClass = Kotlin.getKClass;
  var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
  var Kind_OBJECT = Kotlin.Kind.OBJECT;
  var emptyList = Kotlin.kotlin.collections.emptyList_287e2$;
  var defineInlineFunction = Kotlin.defineInlineFunction;
  var wrapFunction = Kotlin.wrapFunction;
  var NotImplementedError_init = Kotlin.kotlin.NotImplementedError;
  var ensureNotNull = Kotlin.ensureNotNull;
  var toBoxedChar = Kotlin.toBoxedChar;
  var throwCCE = Kotlin.throwCCE;
  var RuntimeException = Kotlin.kotlin.RuntimeException;
  var getValue = Kotlin.kotlin.collections.getValue_t9ocha$;
  var LinkedHashMap_init = Kotlin.kotlin.collections.LinkedHashMap_init_q3lmfv$;
  var Map = Kotlin.kotlin.collections.Map;
  var toString = Kotlin.toString;
  var Any = Object;
  var IllegalArgumentException_init = Kotlin.kotlin.IllegalArgumentException_init_pdl1vj$;
  var KClass = Kotlin.kotlin.reflect.KClass;
  var List = Kotlin.kotlin.collections.List;
  var equals = Kotlin.equals;
  var MutableList = Kotlin.kotlin.collections.MutableList;
  var ArrayList = Kotlin.kotlin.collections.ArrayList;
  var HashSet = Kotlin.kotlin.collections.HashSet;
  var Set = Kotlin.kotlin.collections.Set;
  var MutableSet = Kotlin.kotlin.collections.MutableSet;
  var LinkedHashSet = Kotlin.kotlin.collections.LinkedHashSet;
  var HashMap = Kotlin.kotlin.collections.HashMap;
  var MutableMap = Kotlin.kotlin.collections.MutableMap;
  var LinkedHashMap = Kotlin.kotlin.collections.LinkedHashMap;
  var Map$Entry = Kotlin.kotlin.collections.Map.Entry;
  var Pair = Kotlin.kotlin.Pair;
  var UnsupportedOperationException_init = Kotlin.kotlin.UnsupportedOperationException_init_pdl1vj$;
  var IllegalStateException_init = Kotlin.kotlin.IllegalStateException_init_pdl1vj$;
  var collectionSizeOrDefault = Kotlin.kotlin.collections.collectionSizeOrDefault_ba2ldo$;
  var ArrayList_init = Kotlin.kotlin.collections.ArrayList_init_ww73n8$;
  var until = Kotlin.kotlin.ranges.until_dqglrj$;
  var Unit = Kotlin.kotlin.Unit;
  var last = Kotlin.kotlin.collections.last_2p1efm$;
  var lastOrNull = Kotlin.kotlin.collections.lastOrNull_2p1efm$;
  var get_lastIndex = Kotlin.kotlin.collections.get_lastIndex_55thoc$;
  var kotlin = Kotlin.kotlin;
  var ArrayList_init_0 = Kotlin.kotlin.collections.ArrayList_init_287e2$;
  var toByte = Kotlin.toByte;
  var IntRange = Kotlin.kotlin.ranges.IntRange;
  var kotlin_js_internal_ByteCompanionObject = Kotlin.kotlin.js.internal.ByteCompanionObject;
  var toShort = Kotlin.toShort;
  var kotlin_js_internal_ShortCompanionObject = Kotlin.kotlin.js.internal.ShortCompanionObject;
  var L2147483648 = new Kotlin.Long(-2147483648, 0);
  var Long$Companion$MAX_VALUE = Kotlin.Long.MAX_VALUE;
  var Long$Companion$MIN_VALUE = Kotlin.Long.MIN_VALUE;
  var toChar = Kotlin.toChar;
  var toIntOrNull = Kotlin.kotlin.text.toIntOrNull_pdl1vz$;
  var hashCode = Kotlin.hashCode;
  var asList = Kotlin.kotlin.collections.asList_us0mfu$;
  var ArrayList_init_1 = Kotlin.kotlin.collections.ArrayList_init_mqih57$;
  var LinkedHashSet_init = Kotlin.kotlin.collections.LinkedHashSet_init_mqih57$;
  var HashSet_init = Kotlin.kotlin.collections.HashSet_init_287e2$;
  var HashSet_init_0 = Kotlin.kotlin.collections.HashSet_init_mqih57$;
  var LinkedHashMap_init_0 = Kotlin.kotlin.collections.LinkedHashMap_init_73mtqc$;
  var HashMap_init = Kotlin.kotlin.collections.HashMap_init_q3lmfv$;
  var HashMap_init_0 = Kotlin.kotlin.collections.HashMap_init_73mtqc$;
  var LinkedHashSet_init_0 = Kotlin.kotlin.collections.LinkedHashSet_init_287e2$;
  var indexOf = Kotlin.kotlin.collections.indexOf_mjy6jw$;
  var get_indices = Kotlin.kotlin.collections.get_indices_m7z4lg$;
  var copyToArray = Kotlin.kotlin.collections.copyToArray;
  var toLong = Kotlin.kotlin.text.toLong_pdl1vz$;
  var PrimitiveClasses$stringClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.stringClass;
  var Char = Kotlin.BoxedChar;
  var PrimitiveClasses$doubleClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.doubleClass;
  var PrimitiveClasses$floatClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.floatClass;
  var Long = Kotlin.Long;
  var PrimitiveClasses$intClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.intClass;
  var PrimitiveClasses$shortClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.shortClass;
  var PrimitiveClasses$byteClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.byteClass;
  var PrimitiveClasses$booleanClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.booleanClass;
  var getOrNull = Kotlin.kotlin.collections.getOrNull_8ujjk8$;
  var getOrNull_0 = Kotlin.kotlin.collections.getOrNull_yzln2o$;
  var copyOf = Kotlin.kotlin.collections.copyOf_1qu12l$;
  var joinToString = Kotlin.kotlin.collections.joinToString_fmv235$;
  var lazy = Kotlin.kotlin.lazy_klfg04$;
  var to = Kotlin.kotlin.to_ujzrz7$;
  var CharRange = Kotlin.kotlin.ranges.CharRange;
  var StringBuilder_init = Kotlin.kotlin.text.StringBuilder_init_za3lpa$;
  var trimStart = Kotlin.kotlin.text.trimStart_wqw3xr$;
  var L4294967295 = new Kotlin.Long(-1, 0);
  var StringBuilder_init_0 = Kotlin.kotlin.text.StringBuilder_init;
  var mapOf = Kotlin.kotlin.collections.mapOf_qfcya0$;
  var toInt = Kotlin.kotlin.text.toInt_pdl1vz$;
  var toLongOrNull = Kotlin.kotlin.text.toLongOrNull_pdl1vz$;
  var toDouble = Kotlin.kotlin.text.toDouble_pdl1vz$;
  var toDoubleOrNull = Kotlin.kotlin.text.toDoubleOrNull_pdl1vz$;
  var unboxChar = Kotlin.unboxChar;
  var String_0 = Kotlin.kotlin.text.String_8chfmy$;
  var copyOf_0 = Kotlin.kotlin.collections.copyOf_gtcw5h$;
  var coerceAtLeast = Kotlin.kotlin.ranges.coerceAtLeast_dqglrj$;
  var toBoolean = Kotlin.kotlin.text.toBoolean_pdl1vz$;
  var toByte_0 = Kotlin.kotlin.text.toByte_pdl1vz$;
  var toShort_0 = Kotlin.kotlin.text.toShort_pdl1vz$;
  var single = Kotlin.kotlin.text.single_gw00vp$;
  var isFinite = Kotlin.kotlin.isFinite_81szk$;
  var isFinite_0 = Kotlin.kotlin.isFinite_yrwdxr$;
  var equals_0 = Kotlin.kotlin.text.equals_igcy3c$;
  var iterator = Kotlin.kotlin.text.iterator_gw00vp$;
  var HashSet_init_1 = Kotlin.kotlin.collections.HashSet_init_ww73n8$;
  var toList = Kotlin.kotlin.collections.toList_7wnvza$;
  var throwUPAE = Kotlin.throwUPAE;
  var PrimitiveClasses$anyClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.anyClass;
  var IllegalArgumentException = Kotlin.kotlin.IllegalArgumentException;
  var mapCapacity = Kotlin.kotlin.collections.mapCapacity_za3lpa$;
  var LinkedHashMap_init_1 = Kotlin.kotlin.collections.LinkedHashMap_init_bwtc7$;
  var L_128 = Kotlin.Long.fromInt(-128);
  var L0 = Kotlin.Long.ZERO;
  var L127 = Kotlin.Long.fromInt(127);
  var L128 = Kotlin.Long.fromInt(128);
  var L_1 = Kotlin.Long.NEG_ONE;
  var Exception_init = Kotlin.kotlin.Exception_init_pdl1vj$;
  var Exception = Kotlin.kotlin.Exception;
  var get_indices_0 = Kotlin.kotlin.text.get_indices_gw00vp$;
  var L9007199254740991 = new Kotlin.Long(-1, 2097151);
  var Math_0 = Math;
  var get_js = Kotlin.kotlin.js.get_js_1yb8b7$;
  UpdateMode.prototype = Object.create(Enum.prototype);
  UpdateMode.prototype.constructor = UpdateMode;
  PrimitiveKind.prototype = Object.create(SerialKind.prototype);
  PrimitiveKind.prototype.constructor = PrimitiveKind;
  PrimitiveKind$INT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$INT.prototype.constructor = PrimitiveKind$INT;
  PrimitiveKind$UNIT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$UNIT.prototype.constructor = PrimitiveKind$UNIT;
  PrimitiveKind$BOOLEAN.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$BOOLEAN.prototype.constructor = PrimitiveKind$BOOLEAN;
  PrimitiveKind$BYTE.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$BYTE.prototype.constructor = PrimitiveKind$BYTE;
  PrimitiveKind$SHORT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$SHORT.prototype.constructor = PrimitiveKind$SHORT;
  PrimitiveKind$LONG.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$LONG.prototype.constructor = PrimitiveKind$LONG;
  PrimitiveKind$FLOAT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$FLOAT.prototype.constructor = PrimitiveKind$FLOAT;
  PrimitiveKind$DOUBLE.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$DOUBLE.prototype.constructor = PrimitiveKind$DOUBLE;
  PrimitiveKind$CHAR.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$CHAR.prototype.constructor = PrimitiveKind$CHAR;
  PrimitiveKind$STRING.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$STRING.prototype.constructor = PrimitiveKind$STRING;
  StructureKind.prototype = Object.create(SerialKind.prototype);
  StructureKind.prototype.constructor = StructureKind;
  StructureKind$CLASS.prototype = Object.create(StructureKind.prototype);
  StructureKind$CLASS.prototype.constructor = StructureKind$CLASS;
  StructureKind$LIST.prototype = Object.create(StructureKind.prototype);
  StructureKind$LIST.prototype.constructor = StructureKind$LIST;
  StructureKind$MAP.prototype = Object.create(StructureKind.prototype);
  StructureKind$MAP.prototype.constructor = StructureKind$MAP;
  UnionKind.prototype = Object.create(SerialKind.prototype);
  UnionKind.prototype.constructor = UnionKind;
  UnionKind$OBJECT.prototype = Object.create(UnionKind.prototype);
  UnionKind$OBJECT.prototype.constructor = UnionKind$OBJECT;
  UnionKind$ENUM_KIND.prototype = Object.create(UnionKind.prototype);
  UnionKind$ENUM_KIND.prototype.constructor = UnionKind$ENUM_KIND;
  UnionKind$SEALED.prototype = Object.create(UnionKind.prototype);
  UnionKind$SEALED.prototype.constructor = UnionKind$SEALED;
  UnionKind$POLYMORPHIC.prototype = Object.create(UnionKind.prototype);
  UnionKind$POLYMORPHIC.prototype.constructor = UnionKind$POLYMORPHIC;
  SerializationException.prototype = Object.create(RuntimeException.prototype);
  SerializationException.prototype.constructor = SerializationException;
  UpdateNotSupportedException.prototype = Object.create(SerializationException.prototype);
  UpdateNotSupportedException.prototype.constructor = UpdateNotSupportedException;
  NamedValueEncoder.prototype = Object.create(TaggedEncoder.prototype);
  NamedValueEncoder.prototype.constructor = NamedValueEncoder;
  NamedValueDecoder.prototype = Object.create(TaggedDecoder.prototype);
  NamedValueDecoder.prototype.constructor = NamedValueDecoder;
  PolymorphicClassDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  PolymorphicClassDescriptor.prototype.constructor = PolymorphicClassDescriptor;
  ArrayListClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  ArrayListClassDesc.prototype.constructor = ArrayListClassDesc;
  NamedListClassDescriptor.prototype = Object.create(ListLikeDescriptor.prototype);
  NamedListClassDescriptor.prototype.constructor = NamedListClassDescriptor;
  LinkedHashSetClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  LinkedHashSetClassDesc.prototype.constructor = LinkedHashSetClassDesc;
  HashSetClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  HashSetClassDesc.prototype.constructor = HashSetClassDesc;
  NamedMapClassDescriptor.prototype = Object.create(MapLikeDescriptor.prototype);
  NamedMapClassDescriptor.prototype.constructor = NamedMapClassDescriptor;
  LinkedHashMapClassDesc.prototype = Object.create(MapLikeDescriptor.prototype);
  LinkedHashMapClassDesc.prototype.constructor = LinkedHashMapClassDesc;
  HashMapClassDesc.prototype = Object.create(MapLikeDescriptor.prototype);
  HashMapClassDesc.prototype.constructor = HashMapClassDesc;
  ListLikeSerializer.prototype = Object.create(AbstractCollectionSerializer.prototype);
  ListLikeSerializer.prototype.constructor = ListLikeSerializer;
  MapLikeSerializer.prototype = Object.create(AbstractCollectionSerializer.prototype);
  MapLikeSerializer.prototype.constructor = MapLikeSerializer;
  ArrayListSerializer.prototype = Object.create(ListLikeSerializer.prototype);
  ArrayListSerializer.prototype.constructor = ArrayListSerializer;
  LinkedHashSetSerializer.prototype = Object.create(ListLikeSerializer.prototype);
  LinkedHashSetSerializer.prototype.constructor = LinkedHashSetSerializer;
  HashSetSerializer.prototype = Object.create(ListLikeSerializer.prototype);
  HashSetSerializer.prototype.constructor = HashSetSerializer;
  LinkedHashMapSerializer.prototype = Object.create(MapLikeSerializer.prototype);
  LinkedHashMapSerializer.prototype.constructor = LinkedHashMapSerializer;
  HashMapSerializer.prototype = Object.create(MapLikeSerializer.prototype);
  HashMapSerializer.prototype.constructor = HashMapSerializer;
  IntDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  IntDescriptor.prototype.constructor = IntDescriptor;
  UnitDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  UnitDescriptor.prototype.constructor = UnitDescriptor;
  BooleanDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  BooleanDescriptor.prototype.constructor = BooleanDescriptor;
  ByteDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  ByteDescriptor.prototype.constructor = ByteDescriptor;
  ShortDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  ShortDescriptor.prototype.constructor = ShortDescriptor;
  LongDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  LongDescriptor.prototype.constructor = LongDescriptor;
  FloatDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  FloatDescriptor.prototype.constructor = FloatDescriptor;
  DoubleDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  DoubleDescriptor.prototype.constructor = DoubleDescriptor;
  CharDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  CharDescriptor.prototype.constructor = CharDescriptor;
  StringDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  StringDescriptor.prototype.constructor = StringDescriptor;
  SerialClassDescImpl$MissingDescriptorException.prototype = Object.create(SerializationException.prototype);
  SerialClassDescImpl$MissingDescriptorException.prototype.constructor = SerialClassDescImpl$MissingDescriptorException;
  MapEntrySerializer.prototype = Object.create(KeyValueSerializer.prototype);
  MapEntrySerializer.prototype.constructor = MapEntrySerializer;
  MapEntryClassDesc.prototype = Object.create(SerialClassDescImpl.prototype);
  MapEntryClassDesc.prototype.constructor = MapEntryClassDesc;
  Json.prototype = Object.create(AbstractSerialFormat.prototype);
  Json.prototype.constructor = Json;
  JsonPrimitive.prototype = Object.create(JsonElement.prototype);
  JsonPrimitive.prototype.constructor = JsonPrimitive;
  JsonLiteral.prototype = Object.create(JsonPrimitive.prototype);
  JsonLiteral.prototype.constructor = JsonLiteral;
  JsonNull.prototype = Object.create(JsonPrimitive.prototype);
  JsonNull.prototype.constructor = JsonNull;
  JsonObject.prototype = Object.create(JsonElement.prototype);
  JsonObject.prototype.constructor = JsonObject;
  JsonArray.prototype = Object.create(JsonElement.prototype);
  JsonArray.prototype.constructor = JsonArray;
  JsonElementSerializer$descriptor$ObjectLiteral.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonElementSerializer$descriptor$ObjectLiteral.prototype.constructor = JsonElementSerializer$descriptor$ObjectLiteral;
  JsonPrimitiveSerializer$JsonPrimitiveDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonPrimitiveSerializer$JsonPrimitiveDescriptor.prototype.constructor = JsonPrimitiveSerializer$JsonPrimitiveDescriptor;
  JsonNullSerializer$JsonNullDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonNullSerializer$JsonNullDescriptor.prototype.constructor = JsonNullSerializer$JsonNullDescriptor;
  JsonLiteralSerializer$JsonLiteralDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonLiteralSerializer$JsonLiteralDescriptor.prototype.constructor = JsonLiteralSerializer$JsonLiteralDescriptor;
  JsonException.prototype = Object.create(SerializationException.prototype);
  JsonException.prototype.constructor = JsonException;
  JsonDecodingException.prototype = Object.create(JsonException.prototype);
  JsonDecodingException.prototype.constructor = JsonDecodingException;
  JsonEncodingException.prototype = Object.create(JsonException.prototype);
  JsonEncodingException.prototype.constructor = JsonEncodingException;
  StreamingJsonInput.prototype = Object.create(ElementValueDecoder.prototype);
  StreamingJsonInput.prototype.constructor = StreamingJsonInput;
  StreamingJsonOutput.prototype = Object.create(ElementValueEncoder.prototype);
  StreamingJsonOutput.prototype.constructor = StreamingJsonOutput;
  AbstractJsonTreeInput.prototype = Object.create(NamedValueDecoder.prototype);
  AbstractJsonTreeInput.prototype.constructor = AbstractJsonTreeInput;
  JsonPrimitiveInput.prototype = Object.create(AbstractJsonTreeInput.prototype);
  JsonPrimitiveInput.prototype.constructor = JsonPrimitiveInput;
  JsonTreeInput.prototype = Object.create(AbstractJsonTreeInput.prototype);
  JsonTreeInput.prototype.constructor = JsonTreeInput;
  JsonTreeMapInput.prototype = Object.create(JsonTreeInput.prototype);
  JsonTreeMapInput.prototype.constructor = JsonTreeMapInput;
  JsonTreeListInput.prototype = Object.create(AbstractJsonTreeInput.prototype);
  JsonTreeListInput.prototype.constructor = JsonTreeListInput;
  AbstractJsonTreeOutput.prototype = Object.create(NamedValueEncoder.prototype);
  AbstractJsonTreeOutput.prototype.constructor = AbstractJsonTreeOutput;
  JsonPrimitiveOutput.prototype = Object.create(AbstractJsonTreeOutput.prototype);
  JsonPrimitiveOutput.prototype.constructor = JsonPrimitiveOutput;
  JsonTreeOutput.prototype = Object.create(AbstractJsonTreeOutput.prototype);
  JsonTreeOutput.prototype.constructor = JsonTreeOutput;
  JsonTreeMapOutput.prototype = Object.create(JsonTreeOutput.prototype);
  JsonTreeMapOutput.prototype.constructor = JsonTreeMapOutput;
  JsonTreeListOutput.prototype = Object.create(AbstractJsonTreeOutput.prototype);
  JsonTreeListOutput.prototype.constructor = JsonTreeListOutput;
  WriteMode.prototype = Object.create(Enum.prototype);
  WriteMode.prototype.constructor = WriteMode;
  SerializerAlreadyRegisteredException.prototype = Object.create(IllegalArgumentException.prototype);
  SerializerAlreadyRegisteredException.prototype.constructor = SerializerAlreadyRegisteredException;
  var ByteOrder$LITTLE_ENDIAN_instance;
  var ByteOrder$BIG_ENDIAN_instance;
  function Encoder() {
  }
  Encoder.prototype.encodeSerializableValue_tf03ej$ = function (serializer, value) {
    serializer.serialize_awe97i$(this, value);
  };
  Encoder.prototype.encodeNullableSerializableValue_f4686g$ = function (serializer, value) {
    if (value == null) {
      this.encodeNull();
    }
     else {
      this.encodeNotNullMark();
      this.encodeSerializableValue_tf03ej$(serializer, value);
    }
  };
  Encoder.prototype.beginCollection_gly1x5$ = function (desc, collectionSize, typeParams) {
    return this.beginStructure_r0sa6z$(desc, typeParams.slice());
  };
  Encoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Encoder', interfaces: []};
  function CompositeEncoder() {
  }
  CompositeEncoder.prototype.endStructure_qatsm0$ = function (desc) {
  };
  CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$ = function (desc, index) {
    return true;
  };
  CompositeEncoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CompositeEncoder', interfaces: []};
  function Decoder() {
  }
  Decoder.prototype.decodeSerializableValue_w63s0f$ = function (deserializer) {
    return deserializer.deserialize_nts5qn$(this);
  };
  Decoder.prototype.decodeNullableSerializableValue_aae3ea$ = function (deserializer) {
    return this.decodeNotNullMark() ? this.decodeSerializableValue_w63s0f$(deserializer) : this.decodeNull();
  };
  Decoder.prototype.updateSerializableValue_19c8k5$ = function (deserializer, old) {
    var tmp$;
    switch (this.updateMode.name) {
      case 'BANNED':
        throw new UpdateNotSupportedException(deserializer.descriptor.name);
      case 'OVERWRITE':
        tmp$ = this.decodeSerializableValue_w63s0f$(deserializer);
        break;
      case 'UPDATE':
        tmp$ = deserializer.patch_mynpiu$(this, old);
        break;
      default:tmp$ = Kotlin.noWhenBranchMatched();
        break;
    }
    return tmp$;
  };
  Decoder.prototype.updateNullableSerializableValue_exmlbs$ = function (deserializer, old) {
    var tmp$;
    if (this.updateMode === UpdateMode$BANNED_getInstance())
      throw new UpdateNotSupportedException(deserializer.descriptor.name);
    else if (this.updateMode === UpdateMode$OVERWRITE_getInstance() || old == null)
      tmp$ = this.decodeNullableSerializableValue_aae3ea$(deserializer);
    else if (this.decodeNotNullMark())
      tmp$ = deserializer.patch_mynpiu$(this, old);
    else {
      this.decodeNull();
      tmp$ = old;
    }
    return tmp$;
  };
  Decoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Decoder', interfaces: []};
  function CompositeDecoder() {
    CompositeDecoder$Companion_getInstance();
  }
  CompositeDecoder.prototype.endStructure_qatsm0$ = function (desc) {
  };
  function CompositeDecoder$Companion() {
    CompositeDecoder$Companion_instance = this;
    this.READ_DONE = -1;
    this.READ_ALL = -2;
    this.UNKNOWN_NAME = -3;
  }
  CompositeDecoder$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var CompositeDecoder$Companion_instance = null;
  function CompositeDecoder$Companion_getInstance() {
    if (CompositeDecoder$Companion_instance === null) {
      new CompositeDecoder$Companion();
    }
    return CompositeDecoder$Companion_instance;
  }
  CompositeDecoder.prototype.decodeCollectionSize_qatsm0$ = function (desc) {
    return -1;
  };
  CompositeDecoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CompositeDecoder', interfaces: []};
  function ContextSerializer(serializableClass) {
    this.serializableClass_0 = serializableClass;
    this.descriptor_f98ejb$_0 = new ContextSerializer$descriptor$ObjectLiteral('CONTEXT');
  }
  function SerialDescriptor() {
  }
  SerialDescriptor.prototype.getEntityAnnotations = function () {
    return emptyList();
  };
  SerialDescriptor.prototype.getElementAnnotations_za3lpa$ = function (index) {
    return emptyList();
  };
  Object.defineProperty(SerialDescriptor.prototype, 'elementsCount', {get: function () {
    return 0;
  }});
  SerialDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    throw new NotImplementedError_init();
  };
  Object.defineProperty(SerialDescriptor.prototype, 'isNullable', {get: function () {
    return false;
  }});
  SerialDescriptor.prototype.isElementOptional_za3lpa$ = function (index) {
    return false;
  };
  SerialDescriptor.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialDescriptor', interfaces: []};
  function SerializationStrategy() {
  }
  SerializationStrategy.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerializationStrategy', interfaces: []};
  function DeserializationStrategy() {
  }
  DeserializationStrategy.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'DeserializationStrategy', interfaces: []};
  function UpdateMode(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function UpdateMode_initFields() {
    UpdateMode_initFields = function () {
    };
    UpdateMode$BANNED_instance = new UpdateMode('BANNED', 0);
    UpdateMode$OVERWRITE_instance = new UpdateMode('OVERWRITE', 1);
    UpdateMode$UPDATE_instance = new UpdateMode('UPDATE', 2);
  }
  var UpdateMode$BANNED_instance;
  function UpdateMode$BANNED_getInstance() {
    UpdateMode_initFields();
    return UpdateMode$BANNED_instance;
  }
  var UpdateMode$OVERWRITE_instance;
  function UpdateMode$OVERWRITE_getInstance() {
    UpdateMode_initFields();
    return UpdateMode$OVERWRITE_instance;
  }
  var UpdateMode$UPDATE_instance;
  function UpdateMode$UPDATE_getInstance() {
    UpdateMode_initFields();
    return UpdateMode$UPDATE_instance;
  }
  UpdateMode.$metadata$ = {kind: Kind_CLASS, simpleName: 'UpdateMode', interfaces: [Enum]};
  function UpdateMode$values() {
    return [UpdateMode$BANNED_getInstance(), UpdateMode$OVERWRITE_getInstance(), UpdateMode$UPDATE_getInstance()];
  }
  UpdateMode.values = UpdateMode$values;
  function UpdateMode$valueOf(name) {
    switch (name) {
      case 'BANNED':
        return UpdateMode$BANNED_getInstance();
      case 'OVERWRITE':
        return UpdateMode$OVERWRITE_getInstance();
      case 'UPDATE':
        return UpdateMode$UPDATE_getInstance();
      default:throwISE('No enum constant kotlinx.serialization.UpdateMode.' + name);
    }
  }
  UpdateMode.valueOf_61zpoe$ = UpdateMode$valueOf;
  function KSerializer() {
  }
  KSerializer.prototype.patch_mynpiu$ = function (decoder, old) {
    throw new UpdateNotSupportedException(this.descriptor.name);
  };
  KSerializer.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KSerializer', interfaces: [DeserializationStrategy, SerializationStrategy]};
  function encode_0($receiver, strategy, obj) {
    $receiver.encodeSerializableValue_tf03ej$(strategy, obj);
  }
  function decode_0($receiver, deserializer) {
    return $receiver.decodeSerializableValue_w63s0f$(deserializer);
  }
  var deprecationText;
  function SerialKind() {
  }
  SerialKind.prototype.toString = function () {
    return ensureNotNull(Kotlin.getKClassFromExpression(this).simpleName);
  };
  SerialKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialKind', interfaces: []};
  function PrimitiveKind() {
    SerialKind.call(this);
  }
  function PrimitiveKind$INT() {
    PrimitiveKind$INT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$INT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'INT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$INT_instance = null;
  function PrimitiveKind$INT_getInstance() {
    if (PrimitiveKind$INT_instance === null) {
      new PrimitiveKind$INT();
    }
    return PrimitiveKind$INT_instance;
  }
  function PrimitiveKind$UNIT() {
    PrimitiveKind$UNIT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$UNIT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UNIT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$UNIT_instance = null;
  function PrimitiveKind$UNIT_getInstance() {
    if (PrimitiveKind$UNIT_instance === null) {
      new PrimitiveKind$UNIT();
    }
    return PrimitiveKind$UNIT_instance;
  }
  function PrimitiveKind$BOOLEAN() {
    PrimitiveKind$BOOLEAN_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$BOOLEAN.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BOOLEAN', interfaces: [PrimitiveKind]};
  var PrimitiveKind$BOOLEAN_instance = null;
  function PrimitiveKind$BOOLEAN_getInstance() {
    if (PrimitiveKind$BOOLEAN_instance === null) {
      new PrimitiveKind$BOOLEAN();
    }
    return PrimitiveKind$BOOLEAN_instance;
  }
  function PrimitiveKind$BYTE() {
    PrimitiveKind$BYTE_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$BYTE.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BYTE', interfaces: [PrimitiveKind]};
  var PrimitiveKind$BYTE_instance = null;
  function PrimitiveKind$BYTE_getInstance() {
    if (PrimitiveKind$BYTE_instance === null) {
      new PrimitiveKind$BYTE();
    }
    return PrimitiveKind$BYTE_instance;
  }
  function PrimitiveKind$SHORT() {
    PrimitiveKind$SHORT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$SHORT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SHORT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$SHORT_instance = null;
  function PrimitiveKind$SHORT_getInstance() {
    if (PrimitiveKind$SHORT_instance === null) {
      new PrimitiveKind$SHORT();
    }
    return PrimitiveKind$SHORT_instance;
  }
  function PrimitiveKind$LONG() {
    PrimitiveKind$LONG_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$LONG.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LONG', interfaces: [PrimitiveKind]};
  var PrimitiveKind$LONG_instance = null;
  function PrimitiveKind$LONG_getInstance() {
    if (PrimitiveKind$LONG_instance === null) {
      new PrimitiveKind$LONG();
    }
    return PrimitiveKind$LONG_instance;
  }
  function PrimitiveKind$FLOAT() {
    PrimitiveKind$FLOAT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$FLOAT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FLOAT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$FLOAT_instance = null;
  function PrimitiveKind$FLOAT_getInstance() {
    if (PrimitiveKind$FLOAT_instance === null) {
      new PrimitiveKind$FLOAT();
    }
    return PrimitiveKind$FLOAT_instance;
  }
  function PrimitiveKind$DOUBLE() {
    PrimitiveKind$DOUBLE_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$DOUBLE.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DOUBLE', interfaces: [PrimitiveKind]};
  var PrimitiveKind$DOUBLE_instance = null;
  function PrimitiveKind$DOUBLE_getInstance() {
    if (PrimitiveKind$DOUBLE_instance === null) {
      new PrimitiveKind$DOUBLE();
    }
    return PrimitiveKind$DOUBLE_instance;
  }
  function PrimitiveKind$CHAR() {
    PrimitiveKind$CHAR_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$CHAR.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CHAR', interfaces: [PrimitiveKind]};
  var PrimitiveKind$CHAR_instance = null;
  function PrimitiveKind$CHAR_getInstance() {
    if (PrimitiveKind$CHAR_instance === null) {
      new PrimitiveKind$CHAR();
    }
    return PrimitiveKind$CHAR_instance;
  }
  function PrimitiveKind$STRING() {
    PrimitiveKind$STRING_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$STRING.$metadata$ = {kind: Kind_OBJECT, simpleName: 'STRING', interfaces: [PrimitiveKind]};
  var PrimitiveKind$STRING_instance = null;
  function PrimitiveKind$STRING_getInstance() {
    if (PrimitiveKind$STRING_instance === null) {
      new PrimitiveKind$STRING();
    }
    return PrimitiveKind$STRING_instance;
  }
  PrimitiveKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'PrimitiveKind', interfaces: [SerialKind]};
  function StructureKind() {
    SerialKind.call(this);
  }
  function StructureKind$CLASS() {
    StructureKind$CLASS_instance = this;
    StructureKind.call(this);
  }
  StructureKind$CLASS.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CLASS', interfaces: [StructureKind]};
  var StructureKind$CLASS_instance = null;
  function StructureKind$CLASS_getInstance() {
    if (StructureKind$CLASS_instance === null) {
      new StructureKind$CLASS();
    }
    return StructureKind$CLASS_instance;
  }
  function StructureKind$LIST() {
    StructureKind$LIST_instance = this;
    StructureKind.call(this);
  }
  StructureKind$LIST.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LIST', interfaces: [StructureKind]};
  var StructureKind$LIST_instance = null;
  function StructureKind$LIST_getInstance() {
    if (StructureKind$LIST_instance === null) {
      new StructureKind$LIST();
    }
    return StructureKind$LIST_instance;
  }
  function StructureKind$MAP() {
    StructureKind$MAP_instance = this;
    StructureKind.call(this);
  }
  StructureKind$MAP.$metadata$ = {kind: Kind_OBJECT, simpleName: 'MAP', interfaces: [StructureKind]};
  var StructureKind$MAP_instance = null;
  function StructureKind$MAP_getInstance() {
    if (StructureKind$MAP_instance === null) {
      new StructureKind$MAP();
    }
    return StructureKind$MAP_instance;
  }
  StructureKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'StructureKind', interfaces: [SerialKind]};
  function UnionKind() {
    SerialKind.call(this);
  }
  function UnionKind$OBJECT() {
    UnionKind$OBJECT_instance = this;
    UnionKind.call(this);
  }
  UnionKind$OBJECT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'OBJECT', interfaces: [UnionKind]};
  var UnionKind$OBJECT_instance = null;
  function UnionKind$OBJECT_getInstance() {
    if (UnionKind$OBJECT_instance === null) {
      new UnionKind$OBJECT();
    }
    return UnionKind$OBJECT_instance;
  }
  function UnionKind$ENUM_KIND() {
    UnionKind$ENUM_KIND_instance = this;
    UnionKind.call(this);
  }
  UnionKind$ENUM_KIND.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ENUM_KIND', interfaces: [UnionKind]};
  var UnionKind$ENUM_KIND_instance = null;
  function UnionKind$ENUM_KIND_getInstance() {
    if (UnionKind$ENUM_KIND_instance === null) {
      new UnionKind$ENUM_KIND();
    }
    return UnionKind$ENUM_KIND_instance;
  }
  function UnionKind$SEALED() {
    UnionKind$SEALED_instance = this;
    UnionKind.call(this);
  }
  UnionKind$SEALED.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SEALED', interfaces: [UnionKind]};
  var UnionKind$SEALED_instance = null;
  function UnionKind$SEALED_getInstance() {
    if (UnionKind$SEALED_instance === null) {
      new UnionKind$SEALED();
    }
    return UnionKind$SEALED_instance;
  }
  function UnionKind$POLYMORPHIC() {
    UnionKind$POLYMORPHIC_instance = this;
    UnionKind.call(this);
  }
  UnionKind$POLYMORPHIC.$metadata$ = {kind: Kind_OBJECT, simpleName: 'POLYMORPHIC', interfaces: [UnionKind]};
  var UnionKind$POLYMORPHIC_instance = null;
  function UnionKind$POLYMORPHIC_getInstance() {
    if (UnionKind$POLYMORPHIC_instance === null) {
      new UnionKind$POLYMORPHIC();
    }
    return UnionKind$POLYMORPHIC_instance;
  }
  UnionKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'UnionKind', interfaces: [SerialKind]};
  function ElementValueEncoder() {
  }
  Object.defineProperty(ElementValueEncoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  ElementValueEncoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  ElementValueEncoder.prototype.encodeElement_3zr2iy$ = function (desc, index) {
    return true;
  };
  ElementValueEncoder.prototype.encodeNotNullMark = function () {
  };
  ElementValueEncoder.prototype.encodeValue_za3rmp$ = function (value) {
    throw new SerializationException('Non-serializable ' + Kotlin.getKClassFromExpression(value) + ' is not supported by ' + Kotlin.getKClassFromExpression(this) + ' encoder');
  };
  ElementValueEncoder.prototype.encodeNull = function () {
    throw new SerializationException('null is not supported');
  };
  ElementValueEncoder.prototype.encodeUnit = function () {
    var encoder = this.beginStructure_r0sa6z$(UnitSerializer_getInstance().descriptor, []);
    encoder.endStructure_qatsm0$(UnitSerializer_getInstance().descriptor);
  };
  ElementValueEncoder.prototype.encodeBoolean_6taknv$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeByte_s8j3t7$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeShort_mq22fl$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeInt_za3lpa$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeLong_s8cxhz$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeFloat_mx4ult$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeDouble_14dthe$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeChar_s8itvh$ = function (value) {
    this.encodeValue_za3rmp$(toBoxedChar(value));
  };
  ElementValueEncoder.prototype.encodeString_61zpoe$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeEnum_39yahq$ = function (enumDescription, ordinal) {
    this.encodeValue_za3rmp$(ordinal);
  };
  ElementValueEncoder.prototype.encodeNonSerializableElement_4wpkd1$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeUnitElement_3zr2iy$ = function (desc, index) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeUnit();
  };
  ElementValueEncoder.prototype.encodeBooleanElement_w1b0nl$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeBoolean_6taknv$(value);
  };
  ElementValueEncoder.prototype.encodeByteElement_a3tadb$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeByte_s8j3t7$(value);
  };
  ElementValueEncoder.prototype.encodeShortElement_tet9k5$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeShort_mq22fl$(value);
  };
  ElementValueEncoder.prototype.encodeIntElement_4wpqag$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeInt_za3lpa$(value);
  };
  ElementValueEncoder.prototype.encodeLongElement_a3zgoj$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeLong_s8cxhz$(value);
  };
  ElementValueEncoder.prototype.encodeFloatElement_t7qhdx$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeFloat_mx4ult$(value);
  };
  ElementValueEncoder.prototype.encodeDoubleElement_imzr5k$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeDouble_14dthe$(value);
  };
  ElementValueEncoder.prototype.encodeCharElement_a3tkb1$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeChar_s8itvh$(value);
  };
  ElementValueEncoder.prototype.encodeStringElement_bgm7zs$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeString_61zpoe$(value);
  };
  ElementValueEncoder.prototype.encodeSerializableElement_blecud$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeSerializableValue_tf03ej$(serializer, value);
  };
  ElementValueEncoder.prototype.encodeNullableSerializableElement_orpvvi$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeNullableSerializableValue_f4686g$(serializer, value);
  };
  ElementValueEncoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'ElementValueEncoder', interfaces: [CompositeEncoder, Encoder]};
  function ElementValueDecoder() {
    this.updateMode_fmb1ae$_0 = UpdateMode$UPDATE_getInstance();
  }
  Object.defineProperty(ElementValueDecoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  Object.defineProperty(ElementValueDecoder.prototype, 'updateMode', {get: function () {
    return this.updateMode_fmb1ae$_0;
  }});
  ElementValueDecoder.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    return -2;
  };
  ElementValueDecoder.prototype.decodeNotNullMark = function () {
    return true;
  };
  ElementValueDecoder.prototype.decodeNull = function () {
    return null;
  };
  ElementValueDecoder.prototype.decodeValue = function () {
    throw new SerializationException(Kotlin.getKClassFromExpression(this).toString() + " can't retrieve untyped values");
  };
  ElementValueDecoder.prototype.decodeUnit = function () {
    var reader = this.beginStructure_r0sa6z$(UnitSerializer_getInstance().descriptor, []);
    reader.endStructure_qatsm0$(UnitSerializer_getInstance().descriptor);
  };
  ElementValueDecoder.prototype.decodeBoolean = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'boolean' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeByte = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeShort = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeInt = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeLong = function () {
    var tmp$;
    return Kotlin.isType(tmp$ = this.decodeValue(), Kotlin.Long) ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeFloat = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeDouble = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeChar = function () {
    var tmp$;
    return Kotlin.isChar(tmp$ = this.decodeValue()) ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeString = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'string' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeEnum_w849qs$ = function (enumDescription) {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  ElementValueDecoder.prototype.decodeUnitElement_3zr2iy$ = function (desc, index) {
    this.decodeUnit();
  };
  ElementValueDecoder.prototype.decodeBooleanElement_3zr2iy$ = function (desc, index) {
    return this.decodeBoolean();
  };
  ElementValueDecoder.prototype.decodeByteElement_3zr2iy$ = function (desc, index) {
    return this.decodeByte();
  };
  ElementValueDecoder.prototype.decodeShortElement_3zr2iy$ = function (desc, index) {
    return this.decodeShort();
  };
  ElementValueDecoder.prototype.decodeIntElement_3zr2iy$ = function (desc, index) {
    return this.decodeInt();
  };
  ElementValueDecoder.prototype.decodeLongElement_3zr2iy$ = function (desc, index) {
    return this.decodeLong();
  };
  ElementValueDecoder.prototype.decodeFloatElement_3zr2iy$ = function (desc, index) {
    return this.decodeFloat();
  };
  ElementValueDecoder.prototype.decodeDoubleElement_3zr2iy$ = function (desc, index) {
    return this.decodeDouble();
  };
  ElementValueDecoder.prototype.decodeCharElement_3zr2iy$ = function (desc, index) {
    return this.decodeChar();
  };
  ElementValueDecoder.prototype.decodeStringElement_3zr2iy$ = function (desc, index) {
    return this.decodeString();
  };
  ElementValueDecoder.prototype.decodeSerializableElement_s44l7r$ = function (desc, index, deserializer) {
    return this.decodeSerializableValue_w63s0f$(deserializer);
  };
  ElementValueDecoder.prototype.decodeNullableSerializableElement_cwlm4k$ = function (desc, index, deserializer) {
    return this.decodeNullableSerializableValue_aae3ea$(deserializer);
  };
  ElementValueDecoder.prototype.updateSerializableElement_ehubvl$ = function (desc, index, deserializer, old) {
    return this.updateSerializableValue_19c8k5$(deserializer, old);
  };
  ElementValueDecoder.prototype.updateNullableSerializableElement_u33s02$ = function (desc, index, deserializer, old) {
    return this.updateNullableSerializableValue_exmlbs$(deserializer, old);
  };
  ElementValueDecoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'ElementValueDecoder', interfaces: [CompositeDecoder, Decoder]};
  function SerializationException(message, cause) {
    if (cause === void 0)
      cause = null;
    RuntimeException.call(this, message, cause);
    this.name = 'SerializationException';
  }
  SerializationException.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerializationException', interfaces: [RuntimeException]};
  function UpdateNotSupportedException(className) {
    SerializationException.call(this, 'Update is not supported for ' + className);
    this.name = 'UpdateNotSupportedException';
  }
  UpdateNotSupportedException.$metadata$ = {kind: Kind_CLASS, simpleName: 'UpdateNotSupportedException', interfaces: [SerializationException]};
  var Mapper$Companion_instance = null;
  function serializer($receiver) {
    var tmp$, tmp$_0;
    tmp$_0 = (tmp$ = compiledSerializer($receiver)) != null ? tmp$ : defaultSerializer($receiver);
    if (tmp$_0 == null) {
      throw new SerializationException("Can't locate argument-less serializer for " + $receiver + '. For generic classes, such as lists, please provide serializer explicitly.');
    }
    return tmp$_0;
  }
  function PolymorphicClassDescriptor() {
    PolymorphicClassDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'kotlin.Any');
    this.kind_r25cte$_0 = UnionKind$POLYMORPHIC_getInstance();
    this.addElement_ivxn3r$('class');
    this.addElement_ivxn3r$('value');
  }
  Object.defineProperty(PolymorphicClassDescriptor.prototype, 'kind', {get: function () {
    return this.kind_r25cte$_0;
  }});
  PolymorphicClassDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'PolymorphicClassDescriptor', interfaces: [SerialClassDescImpl]};
  var PolymorphicClassDescriptor_instance = null;
  function PolymorphicClassDescriptor_getInstance() {
    if (PolymorphicClassDescriptor_instance === null) {
      new PolymorphicClassDescriptor();
    }
    return PolymorphicClassDescriptor_instance;
  }
  function PolymorphicSerializer(baseClass) {
    this.baseClass = baseClass;
    this.descriptor_nog3ww$_0 = PolymorphicClassDescriptor_getInstance();
  }
  Object.defineProperty(PolymorphicSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_nog3ww$_0;
  }});
  PolymorphicSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var tmp$;
    var actualSerializer = this.findPolymorphicSerializer_9v08u4$(encoder, obj);
    var compositeEncoder = encoder.beginStructure_r0sa6z$(this.descriptor, []);
    compositeEncoder.encodeStringElement_bgm7zs$(this.descriptor, 0, actualSerializer.descriptor.name);
    compositeEncoder.encodeSerializableElement_blecud$(this.descriptor, 1, Kotlin.isType(tmp$ = actualSerializer, KSerializer) ? tmp$ : throwCCE(), obj);
    compositeEncoder.endStructure_qatsm0$(this.descriptor);
  };
  PolymorphicSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var tmp$;
    var compositeDecoder = decoder.beginStructure_r0sa6z$(this.descriptor, []);
    var klassName = {v: null};
    var value = null;
    mainLoop: while (true) {
      var index = compositeDecoder.decodeElementIndex_qatsm0$(this.descriptor);
      switch (index) {
        case -2:
          klassName.v = compositeDecoder.decodeStringElement_3zr2iy$(this.descriptor, 0);
          var serializer = this.findPolymorphicSerializer_b69zac$(compositeDecoder, klassName.v);
          value = compositeDecoder.decodeSerializableElement_s44l7r$(this.descriptor, 1, serializer);
          break mainLoop;
        case -1:
          break mainLoop;
        case 0:
          klassName.v = compositeDecoder.decodeStringElement_3zr2iy$(this.descriptor, index);
          break;
        case 1:
          var value_0 = klassName.v;
          var requireNotNull$result;
          if (value_0 == null) {
            var message = 'Cannot read polymorphic value before its type token';
            throw IllegalArgumentException_init(message.toString());
          }
           else {
            requireNotNull$result = value_0;
          }

          klassName.v = requireNotNull$result;
          var serializer_0 = this.findPolymorphicSerializer_b69zac$(compositeDecoder, klassName.v);
          value = compositeDecoder.decodeSerializableElement_s44l7r$(this.descriptor, index, serializer_0);
          break;
        default:throw new SerializationException('Invalid index in polymorphic deserialization of ' + (((tmp$ = klassName.v) != null ? tmp$ : 'unknown class') + ' with base ' + this.baseClass) + ('\n' + ' Expected 0, 1, READ_ALL(-2) or READ_DONE(-1), but found ' + index));
      }
    }
    compositeDecoder.endStructure_qatsm0$(this.descriptor);
    var value_1 = value;
    var requireNotNull$result_0;
    if (value_1 == null) {
      var message_0 = 'Polymorphic value have not been read for class ' + toString(klassName.v);
      throw IllegalArgumentException_init(message_0.toString());
    }
     else {
      requireNotNull$result_0 = value_1;
    }
    return requireNotNull$result_0;
  };
  PolymorphicSerializer.prototype.findPolymorphicSerializer_b69zac$ = function (decoder, klassName) {
    var tmp$;
    return (tmp$ = decoder.context.getPolymorphic_6xtsla$(this.baseClass, klassName)) != null ? tmp$ : throwSubtypeNotRegistered(klassName, this.baseClass);
  };
  PolymorphicSerializer.prototype.findPolymorphicSerializer_9v08u4$ = function (encoder, value) {
    var tmp$, tmp$_0;
    return (tmp$_0 = encoder.context.getPolymorphic_b1ce0a$(this.baseClass, Kotlin.isType(tmp$ = value, Any) ? tmp$ : throwCCE())) != null ? tmp$_0 : throwSubtypeNotRegistered_0(Kotlin.getKClassFromExpression(value), this.baseClass);
  };
  PolymorphicSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'PolymorphicSerializer', interfaces: [KSerializer]};
  function throwSubtypeNotRegistered(subClassName, baseClass) {
    throw new SerializationException(subClassName + ' is not registered for polymorphic serialization in the scope of ' + baseClass);
  }
  function throwSubtypeNotRegistered_0(subClass, baseClass) {
    return throwSubtypeNotRegistered(subClass.toString(), baseClass);
  }
  var INSTALL_DEPRECATION_TEXT;
  function SerialFormat() {
  }
  SerialFormat.prototype.install_stpyu4$ = function (module_0) {
  };
  SerialFormat.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialFormat', interfaces: []};
  function AbstractSerialFormat(context) {
    this.context_fzkcjb$_0 = context;
  }
  Object.defineProperty(AbstractSerialFormat.prototype, 'context', {get: function () {
    return this.context_fzkcjb$_0;
  }});
  AbstractSerialFormat.prototype.install_stpyu4$ = function (module_0) {
    throw new NotImplementedError_init(INSTALL_DEPRECATION_TEXT);
  };
  AbstractSerialFormat.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractSerialFormat', interfaces: [SerialFormat]};
  function BinaryFormat() {
  }
  function StringFormat() {
  }
  StringFormat.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'StringFormat', interfaces: [SerialFormat]};
  function elementDescriptors($receiver) {
    var $receiver_0 = until(0, $receiver.elementsCount);
    var destination = ArrayList_init(collectionSizeOrDefault($receiver_0, 10));
    var tmp$;
    tmp$ = $receiver_0.iterator();
    while (tmp$.hasNext()) {
      var item = tmp$.next();
      destination.add_11rb$($receiver.getElementDescriptor_za3lpa$(item));
    }
    return destination;
  }
  function getElementIndexOrThrow($receiver, name) {
    var i = $receiver.getElementIndex_61zpoe$(name);
    if (i === -3)
      throw new SerializationException($receiver.name + " does not contain element with name '" + name + "'");
    return i;
  }
  function TaggedEncoder() {
    this.tagStack_s9w57d$_0 = ArrayList_init_0();
  }
  Object.defineProperty(TaggedEncoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  TaggedEncoder.prototype.encodeTaggedValue_dpg7wc$ = function (tag, value) {
    throw new SerializationException('Non-serializable ' + Kotlin.getKClassFromExpression(value) + ' is not supported by ' + Kotlin.getKClassFromExpression(this) + ' encoder');
  };
  TaggedEncoder.prototype.encodeTaggedNotNullMark_11rb$ = function (tag) {
  };
  TaggedEncoder.prototype.encodeTaggedNull_11rb$ = function (tag) {
    throw new SerializationException('null is not supported');
  };
  TaggedEncoder.prototype.encodeTaggedNullable_vhmgtl$_0 = function (tag, value) {
    if (value == null) {
      this.encodeTaggedNull_11rb$(tag);
    }
     else {
      this.encodeTaggedNotNullMark_11rb$(tag);
      this.encodeTaggedValue_dpg7wc$(tag, value);
    }
  };
  TaggedEncoder.prototype.encodeTaggedUnit_11rb$ = function (tag) {
    this.encodeTaggedValue_dpg7wc$(tag, Unit);
  };
  TaggedEncoder.prototype.encodeTaggedInt_dpg1yx$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedByte_19qe40$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedShort_veccj0$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedLong_19wkf8$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedFloat_vlf4p8$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedDouble_e37ph5$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedBoolean_iuyhfk$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedChar_19qo1q$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, toBoxedChar(value));
  };
  TaggedEncoder.prototype.encodeTaggedString_l9l8mx$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedEnum_g3arax$ = function (tag, enumDescription, ordinal) {
    this.encodeTaggedValue_dpg7wc$(tag, ordinal);
  };
  TaggedEncoder.prototype.encodeElement_3zr2iy$ = function (desc, index) {
    var tag = this.getTag_m47q6f$(desc, index);
    var shouldWriteElement = this.shouldWriteElement_a5qihn$(desc, tag, index);
    if (shouldWriteElement) {
      this.pushTag_11rb$(tag);
    }
    return shouldWriteElement;
  };
  TaggedEncoder.prototype.shouldWriteElement_a5qihn$ = function (desc, tag, index) {
    return true;
  };
  TaggedEncoder.prototype.encodeNotNullMark = function () {
    this.encodeTaggedNotNullMark_11rb$(this.currentTag);
  };
  TaggedEncoder.prototype.encodeNull = function () {
    this.encodeTaggedNull_11rb$(this.popTag_hzle9u$_0());
  };
  TaggedEncoder.prototype.encodeUnit = function () {
    this.encodeTaggedUnit_11rb$(this.popTag_hzle9u$_0());
  };
  TaggedEncoder.prototype.encodeBoolean_6taknv$ = function (value) {
    this.encodeTaggedBoolean_iuyhfk$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeByte_s8j3t7$ = function (value) {
    this.encodeTaggedByte_19qe40$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeShort_mq22fl$ = function (value) {
    this.encodeTaggedShort_veccj0$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeInt_za3lpa$ = function (value) {
    this.encodeTaggedInt_dpg1yx$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeLong_s8cxhz$ = function (value) {
    this.encodeTaggedLong_19wkf8$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeFloat_mx4ult$ = function (value) {
    this.encodeTaggedFloat_vlf4p8$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeDouble_14dthe$ = function (value) {
    this.encodeTaggedDouble_e37ph5$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeChar_s8itvh$ = function (value) {
    this.encodeTaggedChar_19qo1q$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeString_61zpoe$ = function (value) {
    this.encodeTaggedString_l9l8mx$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeEnum_39yahq$ = function (enumDescription, ordinal) {
    this.encodeTaggedEnum_g3arax$(this.popTag_hzle9u$_0(), enumDescription, ordinal);
  };
  TaggedEncoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  TaggedEncoder.prototype.endStructure_qatsm0$ = function (desc) {
    if (!this.tagStack_s9w57d$_0.isEmpty())
      this.popTag_hzle9u$_0();
    this.endEncode_qatsm0$(desc);
  };
  TaggedEncoder.prototype.endEncode_qatsm0$ = function (desc) {
  };
  TaggedEncoder.prototype.encodeNonSerializableElement_4wpkd1$ = function (desc, index, value) {
    this.encodeTaggedValue_dpg7wc$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeUnitElement_3zr2iy$ = function (desc, index) {
    this.encodeTaggedUnit_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedEncoder.prototype.encodeBooleanElement_w1b0nl$ = function (desc, index, value) {
    this.encodeTaggedBoolean_iuyhfk$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeByteElement_a3tadb$ = function (desc, index, value) {
    this.encodeTaggedByte_19qe40$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeShortElement_tet9k5$ = function (desc, index, value) {
    this.encodeTaggedShort_veccj0$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeIntElement_4wpqag$ = function (desc, index, value) {
    this.encodeTaggedInt_dpg1yx$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeLongElement_a3zgoj$ = function (desc, index, value) {
    this.encodeTaggedLong_19wkf8$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeFloatElement_t7qhdx$ = function (desc, index, value) {
    this.encodeTaggedFloat_vlf4p8$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeDoubleElement_imzr5k$ = function (desc, index, value) {
    this.encodeTaggedDouble_e37ph5$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeCharElement_a3tkb1$ = function (desc, index, value) {
    this.encodeTaggedChar_19qo1q$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeStringElement_bgm7zs$ = function (desc, index, value) {
    this.encodeTaggedString_l9l8mx$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeSerializableElement_blecud$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeSerializableValue_tf03ej$(serializer, value);
  };
  TaggedEncoder.prototype.encodeNullableSerializableElement_orpvvi$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeNullableSerializableValue_f4686g$(serializer, value);
  };
  Object.defineProperty(TaggedEncoder.prototype, 'currentTag', {get: function () {
    return last(this.tagStack_s9w57d$_0);
  }});
  Object.defineProperty(TaggedEncoder.prototype, 'currentTagOrNull', {get: function () {
    return lastOrNull(this.tagStack_s9w57d$_0);
  }});
  TaggedEncoder.prototype.pushTag_11rb$ = function (name) {
    this.tagStack_s9w57d$_0.add_11rb$(name);
  };
  TaggedEncoder.prototype.popTag_hzle9u$_0 = function () {
    if (!this.tagStack_s9w57d$_0.isEmpty())
      return this.tagStack_s9w57d$_0.removeAt_za3lpa$(get_lastIndex(this.tagStack_s9w57d$_0));
    else
      throw new SerializationException('No tag in stack for requested element');
  };
  TaggedEncoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'TaggedEncoder', interfaces: [CompositeEncoder, Encoder]};
  function NamedValueEncoder(rootName) {
    if (rootName === void 0)
      rootName = '';
    TaggedEncoder.call(this);
    this.rootName = rootName;
  }
  NamedValueEncoder.prototype.getTag_m47q6f$ = function ($receiver, index) {
    return this.nested_61zpoe$(this.elementName_3zr2iy$($receiver, index));
  };
  NamedValueEncoder.prototype.nested_61zpoe$ = function (nestedName) {
    var tmp$;
    return this.composeName_puj7f4$((tmp$ = this.currentTagOrNull) != null ? tmp$ : this.rootName, nestedName);
  };
  NamedValueEncoder.prototype.elementName_3zr2iy$ = function (desc, index) {
    return desc.getElementName_za3lpa$(index);
  };
  NamedValueEncoder.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return parentName.length === 0 ? childName : parentName + '.' + childName;
  };
  NamedValueEncoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedValueEncoder', interfaces: [TaggedEncoder]};
  function TaggedDecoder() {
    this.updateMode_mc39q5$_0 = UpdateMode$UPDATE_getInstance();
    this.tagStack_auon0h$_0 = ArrayList_init_0();
    this.flag_10a271$_0 = false;
  }
  Object.defineProperty(TaggedDecoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  Object.defineProperty(TaggedDecoder.prototype, 'updateMode', {get: function () {
    return this.updateMode_mc39q5$_0;
  }});
  TaggedDecoder.prototype.decodeTaggedValue_11rb$ = function (tag) {
    throw new SerializationException(Kotlin.getKClassFromExpression(this).toString() + " can't retrieve untyped values");
  };
  TaggedDecoder.prototype.decodeTaggedNotNullMark_11rb$ = function (tag) {
    return true;
  };
  TaggedDecoder.prototype.decodeTaggedNull_11rb$ = function (tag) {
    return null;
  };
  TaggedDecoder.prototype.decodeTaggedNullable_rd70r1$_0 = function (tag) {
    var tmp$;
    if (this.decodeTaggedNotNullMark_11rb$(tag)) {
      tmp$ = this.decodeTaggedValue_11rb$(tag);
    }
     else {
      tmp$ = this.decodeTaggedNull_11rb$(tag);
    }
    return tmp$;
  };
  TaggedDecoder.prototype.decodeTaggedUnit_11rb$ = function (tag) {
    var tmp$;
    Kotlin.isType(tmp$ = this.decodeTaggedValue_11rb$(tag), Object.getPrototypeOf(kotlin.Unit).constructor) ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedBoolean_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'boolean' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedByte_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedShort_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedInt_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedLong_11rb$ = function (tag) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.decodeTaggedValue_11rb$(tag), Kotlin.Long) ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedFloat_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedDouble_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedChar_11rb$ = function (tag) {
    var tmp$;
    return Kotlin.isChar(tmp$ = this.decodeTaggedValue_11rb$(tag)) ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedString_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'string' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedEnum_wc8hrb$ = function (tag, enumDescription) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeNotNullMark = function () {
    return this.decodeTaggedNotNullMark_11rb$(this.currentTag);
  };
  TaggedDecoder.prototype.decodeNull = function () {
    return null;
  };
  TaggedDecoder.prototype.decodeUnit = function () {
    this.decodeTaggedUnit_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeBoolean = function () {
    return this.decodeTaggedBoolean_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeByte = function () {
    return this.decodeTaggedByte_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeShort = function () {
    return this.decodeTaggedShort_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeInt = function () {
    return this.decodeTaggedInt_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeLong = function () {
    return this.decodeTaggedLong_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeFloat = function () {
    return this.decodeTaggedFloat_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeDouble = function () {
    return this.decodeTaggedDouble_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeChar = function () {
    return this.decodeTaggedChar_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeString = function () {
    return this.decodeTaggedString_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeEnum_w849qs$ = function (enumDescription) {
    return this.decodeTaggedEnum_wc8hrb$(this.popTag_wbtf3a$_0(), enumDescription);
  };
  TaggedDecoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  TaggedDecoder.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    return -2;
  };
  TaggedDecoder.prototype.decodeUnitElement_3zr2iy$ = function (desc, index) {
    this.decodeTaggedUnit_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeBooleanElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedBoolean_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeByteElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedByte_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeShortElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedShort_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeIntElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedInt_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeLongElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedLong_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeFloatElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedFloat_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeDoubleElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedDouble_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeCharElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedChar_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeStringElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedString_11rb$(this.getTag_m47q6f$(desc, index));
  };
  function TaggedDecoder$decodeSerializableElement$lambda(closure$deserializer, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.decodeSerializableValue_w63s0f$(closure$deserializer);
    };
  }
  TaggedDecoder.prototype.decodeSerializableElement_s44l7r$ = function (desc, index, deserializer) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$decodeSerializableElement$lambda(deserializer, this));
  };
  function TaggedDecoder$decodeNullableSerializableElement$lambda(closure$deserializer, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.decodeNullableSerializableValue_aae3ea$(closure$deserializer);
    };
  }
  TaggedDecoder.prototype.decodeNullableSerializableElement_cwlm4k$ = function (desc, index, deserializer) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$decodeNullableSerializableElement$lambda(deserializer, this));
  };
  function TaggedDecoder$updateSerializableElement$lambda(closure$deserializer, closure$old, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.updateSerializableValue_19c8k5$(closure$deserializer, closure$old);
    };
  }
  TaggedDecoder.prototype.updateSerializableElement_ehubvl$ = function (desc, index, deserializer, old) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$updateSerializableElement$lambda(deserializer, old, this));
  };
  function TaggedDecoder$updateNullableSerializableElement$lambda(closure$deserializer, closure$old, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.updateNullableSerializableValue_exmlbs$(closure$deserializer, closure$old);
    };
  }
  TaggedDecoder.prototype.updateNullableSerializableElement_u33s02$ = function (desc, index, deserializer, old) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$updateNullableSerializableElement$lambda(deserializer, old, this));
  };
  TaggedDecoder.prototype.tagBlock_6d26t9$_0 = function (tag, block) {
    this.pushTag_11rb$(tag);
    var r = block();
    if (!this.flag_10a271$_0) {
      this.popTag_wbtf3a$_0();
    }
    this.flag_10a271$_0 = false;
    return r;
  };
  Object.defineProperty(TaggedDecoder.prototype, 'currentTag', {get: function () {
    return last(this.tagStack_auon0h$_0);
  }});
  Object.defineProperty(TaggedDecoder.prototype, 'currentTagOrNull', {get: function () {
    return lastOrNull(this.tagStack_auon0h$_0);
  }});
  TaggedDecoder.prototype.pushTag_11rb$ = function (name) {
    this.tagStack_auon0h$_0.add_11rb$(name);
  };
  TaggedDecoder.prototype.popTag_wbtf3a$_0 = function () {
    var r = this.tagStack_auon0h$_0.removeAt_za3lpa$(get_lastIndex(this.tagStack_auon0h$_0));
    this.flag_10a271$_0 = true;
    return r;
  };
  TaggedDecoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'TaggedDecoder', interfaces: [CompositeDecoder, Decoder]};
  function NamedValueDecoder(rootName) {
    if (rootName === void 0)
      rootName = '';
    TaggedDecoder.call(this);
    this.rootName = rootName;
  }
  NamedValueDecoder.prototype.getTag_m47q6f$ = function ($receiver, index) {
    return this.nested_61zpoe$(this.elementName_3zr2iy$($receiver, index));
  };
  NamedValueDecoder.prototype.nested_61zpoe$ = function (nestedName) {
    var tmp$;
    return this.composeName_puj7f4$((tmp$ = this.currentTagOrNull) != null ? tmp$ : this.rootName, nestedName);
  };
  NamedValueDecoder.prototype.elementName_3zr2iy$ = function (desc, index) {
    return desc.getElementName_za3lpa$(index);
  };
  NamedValueDecoder.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return parentName.length === 0 ? childName : parentName + '.' + childName;
  };
  NamedValueDecoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedValueDecoder', interfaces: [TaggedDecoder]};
  var Cbor$Companion_instance = null;
  function ListLikeDescriptor(elementDesc) {
    this.elementDesc = elementDesc;
    this.elementsCount_axr0xc$_0 = 1;
  }
  Object.defineProperty(ListLikeDescriptor.prototype, 'kind', {get: function () {
    return StructureKind$LIST_getInstance();
  }});
  Object.defineProperty(ListLikeDescriptor.prototype, 'elementsCount', {get: function () {
    return this.elementsCount_axr0xc$_0;
  }});
  ListLikeDescriptor.prototype.getElementName_za3lpa$ = function (index) {
    return index.toString();
  };
  ListLikeDescriptor.prototype.getElementIndex_61zpoe$ = function (name) {
    var tmp$;
    tmp$ = toIntOrNull(name);
    if (tmp$ == null) {
      throw IllegalArgumentException_init(name + ' is not a valid list index');
    }
    return tmp$;
  };
  ListLikeDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return this.elementDesc;
  };
  ListLikeDescriptor.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, ListLikeDescriptor))
      return false;
    if (equals(this.elementDesc, other.elementDesc) && equals(this.name, other.name))
      return true;
    return false;
  };
  ListLikeDescriptor.prototype.hashCode = function () {
    return (hashCode(this.elementDesc) * 31 | 0) + hashCode(this.name) | 0;
  };
  ListLikeDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListLikeDescriptor', interfaces: [SerialDescriptor]};
  function MapLikeDescriptor(name, keyDescriptor, valueDescriptor) {
    this.name_eko8nt$_0 = name;
    this.keyDescriptor = keyDescriptor;
    this.valueDescriptor = valueDescriptor;
    this.elementsCount_qp2ocq$_0 = 2;
  }
  Object.defineProperty(MapLikeDescriptor.prototype, 'name', {get: function () {
    return this.name_eko8nt$_0;
  }});
  Object.defineProperty(MapLikeDescriptor.prototype, 'kind', {get: function () {
    return StructureKind$MAP_getInstance();
  }});
  Object.defineProperty(MapLikeDescriptor.prototype, 'elementsCount', {get: function () {
    return this.elementsCount_qp2ocq$_0;
  }});
  MapLikeDescriptor.prototype.getElementName_za3lpa$ = function (index) {
    return index.toString();
  };
  MapLikeDescriptor.prototype.getElementIndex_61zpoe$ = function (name) {
    var tmp$;
    tmp$ = toIntOrNull(name);
    if (tmp$ == null) {
      throw IllegalArgumentException_init(name + ' is not a valid map index');
    }
    return tmp$;
  };
  MapLikeDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return index % 2 === 0 ? this.keyDescriptor : this.valueDescriptor;
  };
  MapLikeDescriptor.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, MapLikeDescriptor))
      return false;
    if (!equals(this.name, other.name))
      return false;
    if (!equals(this.keyDescriptor, other.keyDescriptor))
      return false;
    if (!equals(this.valueDescriptor, other.valueDescriptor))
      return false;
    return true;
  };
  MapLikeDescriptor.prototype.hashCode = function () {
    var result = hashCode(this.name);
    result = (31 * result | 0) + hashCode(this.keyDescriptor) | 0;
    result = (31 * result | 0) + hashCode(this.valueDescriptor) | 0;
    return result;
  };
  MapLikeDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapLikeDescriptor', interfaces: [SerialDescriptor]};
  var ARRAY_NAME;
  var ARRAY_LIST_NAME;
  var LINKED_HASH_SET_NAME;
  var HASH_SET_NAME;
  var LINKED_HASH_MAP_NAME;
  var HASH_MAP_NAME;
  function ArrayListClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  Object.defineProperty(ArrayListClassDesc.prototype, 'name', {get: function () {
    return ARRAY_LIST_NAME;
  }});
  ArrayListClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayListClassDesc', interfaces: [ListLikeDescriptor]};
  function NamedListClassDescriptor(name, elementDescriptor) {
    ListLikeDescriptor.call(this, elementDescriptor);
    this.name_3zrur7$_0 = name;
  }
  Object.defineProperty(NamedListClassDescriptor.prototype, 'name', {get: function () {
    return this.name_3zrur7$_0;
  }});
  NamedListClassDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedListClassDescriptor', interfaces: [ListLikeDescriptor]};
  function LinkedHashSetClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  Object.defineProperty(LinkedHashSetClassDesc.prototype, 'name', {get: function () {
    return LINKED_HASH_SET_NAME;
  }});
  LinkedHashSetClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashSetClassDesc', interfaces: [ListLikeDescriptor]};
  function HashSetClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  Object.defineProperty(HashSetClassDesc.prototype, 'name', {get: function () {
    return HASH_SET_NAME;
  }});
  HashSetClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashSetClassDesc', interfaces: [ListLikeDescriptor]};
  function NamedMapClassDescriptor(name, keyDescriptor, valueDescriptor) {
    MapLikeDescriptor.call(this, name, keyDescriptor, valueDescriptor);
  }
  NamedMapClassDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedMapClassDescriptor', interfaces: [MapLikeDescriptor]};
  function LinkedHashMapClassDesc(keyDesc, valueDesc) {
    MapLikeDescriptor.call(this, LINKED_HASH_MAP_NAME, keyDesc, valueDesc);
  }
  LinkedHashMapClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashMapClassDesc', interfaces: [MapLikeDescriptor]};
  function HashMapClassDesc(keyDesc, valueDesc) {
    MapLikeDescriptor.call(this, HASH_MAP_NAME, keyDesc, valueDesc);
  }
  HashMapClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashMapClassDesc', interfaces: [MapLikeDescriptor]};
  function AbstractCollectionSerializer() {
  }
  AbstractCollectionSerializer.prototype.patch_mynpiu$ = function (decoder, old) {
    var builder = this.toBuilder_wikn$(old);
    var startIndex = this.builderSize_wili$(builder);
    var decoder_0 = decoder.beginStructure_r0sa6z$(this.descriptor, this.typeParams.slice());
    var size = this.readSize_mes5ce$_0(decoder_0, builder);
    mainLoop: while (true) {
      var index = decoder_0.decodeElementIndex_qatsm0$(this.descriptor);
      switch (index) {
        case -2:
          this.readAll_4xfz2a$_0(decoder_0, builder, startIndex, size);
          break mainLoop;
        case -1:
          break mainLoop;
        default:this.readItem_ind1ny$(decoder_0, startIndex + index | 0, builder);
          break;
      }
    }
    decoder_0.endStructure_qatsm0$(this.descriptor);
    return this.toResult_wili$(builder);
  };
  AbstractCollectionSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var builder = this.builder();
    return this.patch_mynpiu$(decoder, this.toResult_wili$(builder));
  };
  AbstractCollectionSerializer.prototype.readSize_mes5ce$_0 = function (decoder, builder) {
    var size = decoder.decodeCollectionSize_qatsm0$(this.descriptor);
    this.checkCapacity_rk7bw8$(builder, size);
    return size;
  };
  AbstractCollectionSerializer.prototype.readItem_ind1ny$ = function (decoder, index, builder, checkIndex, callback$default) {
    if (checkIndex === void 0)
      checkIndex = true;
    callback$default ? callback$default(decoder, index, builder, checkIndex) : this.readItem_ind1ny$$default(decoder, index, builder, checkIndex);
  };
  AbstractCollectionSerializer.prototype.readAll_4xfz2a$_0 = function (decoder, builder, startIndex, size) {
    if (!(size >= 0)) {
      var message = 'Size must be known in advance when using READ_ALL';
      throw IllegalArgumentException_init(message.toString());
    }
    for (var index = 0; index < size; index++)
      this.readItem_ind1ny$(decoder, startIndex + index | 0, builder, false);
  };
  AbstractCollectionSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractCollectionSerializer', interfaces: [KSerializer]};
  function ListLikeSerializer(elementSerializer) {
    AbstractCollectionSerializer.call(this);
    this.elementSerializer = elementSerializer;
    this.typeParams_thbhbl$_0 = [this.elementSerializer];
  }
  Object.defineProperty(ListLikeSerializer.prototype, 'typeParams', {get: function () {
    return this.typeParams_thbhbl$_0;
  }});
  ListLikeSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var size = this.objSize_wikn$(obj);
    var encoder_0 = encoder.beginCollection_gly1x5$(this.descriptor, size, this.typeParams.slice());
    var iterator = this.objIterator_wikn$(obj);
    for (var index = 0; index < size; index++)
      encoder_0.encodeSerializableElement_blecud$(this.descriptor, index, this.elementSerializer, iterator.next());
    encoder_0.endStructure_qatsm0$(this.descriptor);
  };
  ListLikeSerializer.prototype.readItem_ind1ny$$default = function (decoder, index, builder, checkIndex) {
    this.insert_p422l$(builder, index, decoder.decodeSerializableElement_s44l7r$(this.descriptor, index, this.elementSerializer));
  };
  ListLikeSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListLikeSerializer', interfaces: [AbstractCollectionSerializer]};
  function MapLikeSerializer(keySerializer, valueSerializer) {
    AbstractCollectionSerializer.call(this);
    this.keySerializer = keySerializer;
    this.valueSerializer = valueSerializer;
    this.typeParams_jdi5pn$_0 = [this.keySerializer, this.valueSerializer];
  }
  Object.defineProperty(MapLikeSerializer.prototype, 'typeParams', {get: function () {
    return this.typeParams_jdi5pn$_0;
  }});
  MapLikeSerializer.prototype.readItem_ind1ny$$default = function (decoder, index, builder, checkIndex) {
    var tmp$, tmp$_0;
    var key = decoder.decodeSerializableElement_s44l7r$(this.descriptor, index, this.keySerializer);
    if (checkIndex) {
      var $receiver = decoder.decodeElementIndex_qatsm0$(this.descriptor);
      if (!($receiver === (index + 1 | 0))) {
        var message = 'Value must follow key in a map, index for key: ' + index + ', returned index for value: ' + $receiver;
        throw IllegalArgumentException_init(message.toString());
      }
      tmp$ = $receiver;
    }
     else {
      tmp$ = index + 1 | 0;
    }
    var vIndex = tmp$;
    if (builder.containsKey_11rb$(key) && !Kotlin.isType(this.valueSerializer.descriptor.kind, PrimitiveKind)) {
      tmp$_0 = decoder.updateSerializableElement_ehubvl$(this.descriptor, vIndex, this.valueSerializer, getValue(builder, key));
    }
     else {
      tmp$_0 = decoder.decodeSerializableElement_s44l7r$(this.descriptor, vIndex, this.valueSerializer);
    }
    var value = tmp$_0;
    builder.put_xwzc9p$(key, value);
  };
  MapLikeSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var size = this.objSize_wikn$(obj);
    var encoder_0 = encoder.beginCollection_gly1x5$(this.descriptor, size, this.typeParams.slice());
    var iterator = this.objIterator_wikn$(obj);
    var index = {v: 0};
    while (iterator.hasNext()) {
      var element = iterator.next();
      var k = element.key;
      var v = element.value;
      var tmp$, tmp$_0;
      encoder_0.encodeSerializableElement_blecud$(this.descriptor, (tmp$ = index.v, index.v = tmp$ + 1 | 0, tmp$), this.keySerializer, k);
      encoder_0.encodeSerializableElement_blecud$(this.descriptor, (tmp$_0 = index.v, index.v = tmp$_0 + 1 | 0, tmp$_0), this.valueSerializer, v);
    }
    encoder_0.endStructure_qatsm0$(this.descriptor);
  };
  MapLikeSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapLikeSerializer', interfaces: [AbstractCollectionSerializer]};
  function ArrayListSerializer(element) {
    ListLikeSerializer.call(this, element);
    this.descriptor_7uwoa2$_0 = new ArrayListClassDesc(element.descriptor);
  }
  Object.defineProperty(ArrayListSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_7uwoa2$_0;
  }});
  ArrayListSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  ArrayListSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.iterator();
  };
  ArrayListSerializer.prototype.builder = function () {
    return ArrayList_init_0();
  };
  ArrayListSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  ArrayListSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  ArrayListSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, ArrayList) ? tmp$ : null) != null ? tmp$_0 : ArrayList_init_1($receiver);
  };
  ArrayListSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
    $receiver.ensureCapacity_za3lpa$(size);
  };
  ArrayListSerializer.prototype.insert_p422l$ = function ($receiver, index, element) {
    $receiver.add_wxm5ur$(index, element);
  };
  ArrayListSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayListSerializer', interfaces: [ListLikeSerializer]};
  function LinkedHashSetSerializer(eSerializer) {
    ListLikeSerializer.call(this, eSerializer);
    this.descriptor_vnfc7m$_0 = new LinkedHashSetClassDesc(eSerializer.descriptor);
  }
  Object.defineProperty(LinkedHashSetSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_vnfc7m$_0;
  }});
  LinkedHashSetSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashSetSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.iterator();
  };
  LinkedHashSetSerializer.prototype.builder = function () {
    return LinkedHashSet_init_0();
  };
  LinkedHashSetSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashSetSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  LinkedHashSetSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, LinkedHashSet) ? tmp$ : null) != null ? tmp$_0 : LinkedHashSet_init($receiver);
  };
  LinkedHashSetSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  LinkedHashSetSerializer.prototype.insert_p422l$ = function ($receiver, index, element) {
    $receiver.add_11rb$(element);
  };
  LinkedHashSetSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashSetSerializer', interfaces: [ListLikeSerializer]};
  function HashSetSerializer(eSerializer) {
    ListLikeSerializer.call(this, eSerializer);
    this.descriptor_yqpz47$_0 = new HashSetClassDesc(eSerializer.descriptor);
  }
  Object.defineProperty(HashSetSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_yqpz47$_0;
  }});
  HashSetSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  HashSetSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.iterator();
  };
  HashSetSerializer.prototype.builder = function () {
    return HashSet_init();
  };
  HashSetSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  HashSetSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  HashSetSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, HashSet) ? tmp$ : null) != null ? tmp$_0 : HashSet_init_0($receiver);
  };
  HashSetSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  HashSetSerializer.prototype.insert_p422l$ = function ($receiver, index, element) {
    $receiver.add_11rb$(element);
  };
  HashSetSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashSetSerializer', interfaces: [ListLikeSerializer]};
  function LinkedHashMapSerializer(kSerializer, vSerializer) {
    MapLikeSerializer.call(this, kSerializer, vSerializer);
    this.descriptor_pixp0o$_0 = new LinkedHashMapClassDesc(kSerializer.descriptor, vSerializer.descriptor);
  }
  Object.defineProperty(LinkedHashMapSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_pixp0o$_0;
  }});
  LinkedHashMapSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashMapSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.entries.iterator();
  };
  LinkedHashMapSerializer.prototype.builder = function () {
    return LinkedHashMap_init();
  };
  LinkedHashMapSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashMapSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  LinkedHashMapSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, LinkedHashMap) ? tmp$ : null) != null ? tmp$_0 : LinkedHashMap_init_0($receiver);
  };
  LinkedHashMapSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  LinkedHashMapSerializer.prototype.insertKeyValuePair_fbr58l$ = function ($receiver, index, key, value) {
    $receiver.put_xwzc9p$(key, value);
  };
  LinkedHashMapSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashMapSerializer', interfaces: [MapLikeSerializer]};
  function HashMapSerializer(kSerializer, vSerializer) {
    MapLikeSerializer.call(this, kSerializer, vSerializer);
    this.descriptor_kvyydd$_0 = new HashMapClassDesc(kSerializer.descriptor, vSerializer.descriptor);
  }
  Object.defineProperty(HashMapSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_kvyydd$_0;
  }});
  HashMapSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  HashMapSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.entries.iterator();
  };
  HashMapSerializer.prototype.builder = function () {
    return HashMap_init();
  };
  HashMapSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  HashMapSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  HashMapSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, HashMap) ? tmp$ : null) != null ? tmp$_0 : HashMap_init_0($receiver);
  };
  HashMapSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  HashMapSerializer.prototype.insertKeyValuePair_fbr58l$ = function ($receiver, index, key, value) {
    $receiver.put_xwzc9p$(key, value);
  };
  HashMapSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashMapSerializer', interfaces: [MapLikeSerializer]};
  function CommonEnumSerializer(serialName, choices, choicesNames) {
    this.serialName = serialName;
    this.choices = choices;
    this.descriptor_j2zgdl$_0 = new EnumDescriptor(this.serialName, choicesNames);
  }
  function GeneratedSerializer() {
  }
  function LongAsStringSerializer() {
    LongAsStringSerializer_instance = this;
    this.descriptor_9ax8ui$_0 = StringDescriptor_getInstance();
  }
  var LongAsStringSerializer_instance = null;
  function makeNullable(actualSerializer) {
    return new NullableSerializer(actualSerializer);
  }
  function NullableSerializer(actualSerializer) {
    this.actualSerializer = actualSerializer;
    this.descriptor_kbvl2k$_0 = new NullableSerializer$SerialDescriptorForNullable(this.actualSerializer.descriptor);
  }
  function NullableSerializer$SerialDescriptorForNullable(original) {
    this.original = original;
  }
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'isNullable', {get: function () {
    return true;
  }});
  NullableSerializer$SerialDescriptorForNullable.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, NullableSerializer$SerialDescriptorForNullable))
      return false;
    if (!equals(this.original, other.original))
      return false;
    return true;
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.hashCode = function () {
    return hashCode(this.original) * 31 | 0;
  };
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'elementsCount', {get: function () {
    return this.original.elementsCount;
  }});
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'kind', {get: function () {
    return this.original.kind;
  }});
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'name', {get: function () {
    return this.original.name;
  }});
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementAnnotations_za3lpa$ = function (index) {
    return this.original.getElementAnnotations_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return this.original.getElementDescriptor_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementIndex_61zpoe$ = function (name) {
    return this.original.getElementIndex_61zpoe$(name);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementName_za3lpa$ = function (index) {
    return this.original.getElementName_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getEntityAnnotations = function () {
    return this.original.getEntityAnnotations();
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.isElementOptional_za3lpa$ = function (index) {
    return this.original.isElementOptional_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialDescriptorForNullable', interfaces: [SerialDescriptor]};
  Object.defineProperty(NullableSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_kbvl2k$_0;
  }});
  NullableSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    if (obj != null) {
      encoder.encodeNotNullMark();
      encoder.encodeSerializableValue_tf03ej$(this.actualSerializer, obj);
    }
     else {
      encoder.encodeNull();
    }
  };
  NullableSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeNotNullMark() ? decoder.decodeSerializableValue_w63s0f$(this.actualSerializer) : decoder.decodeNull();
  };
  NullableSerializer.prototype.patch_mynpiu$ = function (decoder, old) {
    var tmp$;
    if (old == null)
      tmp$ = this.deserialize_nts5qn$(decoder);
    else if (decoder.decodeNotNullMark())
      tmp$ = decoder.updateSerializableValue_19c8k5$(this.actualSerializer, old);
    else {
      decoder.decodeNull();
      tmp$ = old;
    }
    return tmp$;
  };
  NullableSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'NullableSerializer', interfaces: [KSerializer]};
  function PrimitiveDescriptor(name, kind) {
    this.name_r9ht6j$_0 = name;
    this.kind_r7zk0i$_0 = kind;
  }
  Object.defineProperty(PrimitiveDescriptor.prototype, 'name', {get: function () {
    return this.name_r9ht6j$_0;
  }});
  Object.defineProperty(PrimitiveDescriptor.prototype, 'kind', {get: function () {
    return this.kind_r7zk0i$_0;
  }});
  PrimitiveDescriptor.prototype.error_b6z6t6$_0 = function () {
    throw IllegalStateException_init('Primitives does not have elements');
  };
  PrimitiveDescriptor.prototype.getElementName_za3lpa$ = function (index) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.getElementIndex_61zpoe$ = function (name) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.isElementOptional_za3lpa$ = function (index) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.toString = function () {
    return this.name;
  };
  PrimitiveDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'PrimitiveDescriptor', interfaces: [SerialDescriptor]};
  function IntDescriptor() {
    IntDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Int', PrimitiveKind$INT_getInstance());
  }
  IntDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'IntDescriptor', interfaces: [PrimitiveDescriptor]};
  var IntDescriptor_instance = null;
  function IntDescriptor_getInstance() {
    if (IntDescriptor_instance === null) {
      new IntDescriptor();
    }
    return IntDescriptor_instance;
  }
  function UnitDescriptor() {
    UnitDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Unit', PrimitiveKind$UNIT_getInstance());
  }
  UnitDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UnitDescriptor', interfaces: [PrimitiveDescriptor]};
  var UnitDescriptor_instance = null;
  function UnitDescriptor_getInstance() {
    if (UnitDescriptor_instance === null) {
      new UnitDescriptor();
    }
    return UnitDescriptor_instance;
  }
  function BooleanDescriptor() {
    BooleanDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Boolean', PrimitiveKind$BOOLEAN_getInstance());
  }
  BooleanDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BooleanDescriptor', interfaces: [PrimitiveDescriptor]};
  var BooleanDescriptor_instance = null;
  function BooleanDescriptor_getInstance() {
    if (BooleanDescriptor_instance === null) {
      new BooleanDescriptor();
    }
    return BooleanDescriptor_instance;
  }
  function ByteDescriptor() {
    ByteDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Byte', PrimitiveKind$BYTE_getInstance());
  }
  ByteDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ByteDescriptor', interfaces: [PrimitiveDescriptor]};
  var ByteDescriptor_instance = null;
  function ByteDescriptor_getInstance() {
    if (ByteDescriptor_instance === null) {
      new ByteDescriptor();
    }
    return ByteDescriptor_instance;
  }
  function ShortDescriptor() {
    ShortDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Short', PrimitiveKind$SHORT_getInstance());
  }
  ShortDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ShortDescriptor', interfaces: [PrimitiveDescriptor]};
  var ShortDescriptor_instance = null;
  function ShortDescriptor_getInstance() {
    if (ShortDescriptor_instance === null) {
      new ShortDescriptor();
    }
    return ShortDescriptor_instance;
  }
  function LongDescriptor() {
    LongDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Long', PrimitiveKind$LONG_getInstance());
  }
  LongDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LongDescriptor', interfaces: [PrimitiveDescriptor]};
  var LongDescriptor_instance = null;
  function LongDescriptor_getInstance() {
    if (LongDescriptor_instance === null) {
      new LongDescriptor();
    }
    return LongDescriptor_instance;
  }
  function FloatDescriptor() {
    FloatDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Float', PrimitiveKind$FLOAT_getInstance());
  }
  FloatDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FloatDescriptor', interfaces: [PrimitiveDescriptor]};
  var FloatDescriptor_instance = null;
  function FloatDescriptor_getInstance() {
    if (FloatDescriptor_instance === null) {
      new FloatDescriptor();
    }
    return FloatDescriptor_instance;
  }
  function DoubleDescriptor() {
    DoubleDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Double', PrimitiveKind$DOUBLE_getInstance());
  }
  DoubleDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DoubleDescriptor', interfaces: [PrimitiveDescriptor]};
  var DoubleDescriptor_instance = null;
  function DoubleDescriptor_getInstance() {
    if (DoubleDescriptor_instance === null) {
      new DoubleDescriptor();
    }
    return DoubleDescriptor_instance;
  }
  function CharDescriptor() {
    CharDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Char', PrimitiveKind$CHAR_getInstance());
  }
  CharDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CharDescriptor', interfaces: [PrimitiveDescriptor]};
  var CharDescriptor_instance = null;
  function CharDescriptor_getInstance() {
    if (CharDescriptor_instance === null) {
      new CharDescriptor();
    }
    return CharDescriptor_instance;
  }
  function StringDescriptor() {
    StringDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.String', PrimitiveKind$STRING_getInstance());
  }
  StringDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'StringDescriptor', interfaces: [PrimitiveDescriptor]};
  var StringDescriptor_instance = null;
  function StringDescriptor_getInstance() {
    if (StringDescriptor_instance === null) {
      new StringDescriptor();
    }
    return StringDescriptor_instance;
  }
  function UnitSerializer() {
    UnitSerializer_instance = this;
    this.descriptor_gvvi5t$_0 = UnitDescriptor_getInstance();
  }
  Object.defineProperty(UnitSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_gvvi5t$_0;
  }});
  UnitSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeUnit();
  };
  UnitSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    decoder.decodeUnit();
  };
  UnitSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UnitSerializer', interfaces: [KSerializer]};
  var UnitSerializer_instance = null;
  function UnitSerializer_getInstance() {
    if (UnitSerializer_instance === null) {
      new UnitSerializer();
    }
    return UnitSerializer_instance;
  }
  function BooleanSerializer() {
    BooleanSerializer_instance = this;
    this.descriptor_vdtvaz$_0 = BooleanDescriptor_getInstance();
  }
  Object.defineProperty(BooleanSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_vdtvaz$_0;
  }});
  BooleanSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeBoolean_6taknv$(obj);
  };
  BooleanSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeBoolean();
  };
  BooleanSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BooleanSerializer', interfaces: [KSerializer]};
  var BooleanSerializer_instance = null;
  function BooleanSerializer_getInstance() {
    if (BooleanSerializer_instance === null) {
      new BooleanSerializer();
    }
    return BooleanSerializer_instance;
  }
  function ByteSerializer() {
    ByteSerializer_instance = this;
    this.descriptor_f6vlf1$_0 = ByteDescriptor_getInstance();
  }
  Object.defineProperty(ByteSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_f6vlf1$_0;
  }});
  ByteSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeByte_s8j3t7$(obj);
  };
  ByteSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeByte();
  };
  ByteSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ByteSerializer', interfaces: [KSerializer]};
  var ByteSerializer_instance = null;
  function ByteSerializer_getInstance() {
    if (ByteSerializer_instance === null) {
      new ByteSerializer();
    }
    return ByteSerializer_instance;
  }
  function ShortSerializer() {
    ShortSerializer_instance = this;
    this.descriptor_yvjeup$_0 = ShortDescriptor_getInstance();
  }
  Object.defineProperty(ShortSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_yvjeup$_0;
  }});
  ShortSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeShort_mq22fl$(obj);
  };
  ShortSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeShort();
  };
  ShortSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ShortSerializer', interfaces: [KSerializer]};
  var ShortSerializer_instance = null;
  function ShortSerializer_getInstance() {
    if (ShortSerializer_instance === null) {
      new ShortSerializer();
    }
    return ShortSerializer_instance;
  }
  function IntSerializer() {
    IntSerializer_instance = this;
    this.descriptor_xrjflq$_0 = IntDescriptor_getInstance();
  }
  Object.defineProperty(IntSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_xrjflq$_0;
  }});
  IntSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeInt_za3lpa$(obj);
  };
  IntSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeInt();
  };
  IntSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'IntSerializer', interfaces: [KSerializer]};
  var IntSerializer_instance = null;
  function IntSerializer_getInstance() {
    if (IntSerializer_instance === null) {
      new IntSerializer();
    }
    return IntSerializer_instance;
  }
  function LongSerializer() {
    LongSerializer_instance = this;
    this.descriptor_q4z687$_0 = LongDescriptor_getInstance();
  }
  Object.defineProperty(LongSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_q4z687$_0;
  }});
  LongSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeLong_s8cxhz$(obj);
  };
  LongSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeLong();
  };
  LongSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LongSerializer', interfaces: [KSerializer]};
  var LongSerializer_instance = null;
  function LongSerializer_getInstance() {
    if (LongSerializer_instance === null) {
      new LongSerializer();
    }
    return LongSerializer_instance;
  }
  function FloatSerializer() {
    FloatSerializer_instance = this;
    this.descriptor_7mw1sh$_0 = FloatDescriptor_getInstance();
  }
  Object.defineProperty(FloatSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_7mw1sh$_0;
  }});
  FloatSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeFloat_mx4ult$(obj);
  };
  FloatSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeFloat();
  };
  FloatSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FloatSerializer', interfaces: [KSerializer]};
  var FloatSerializer_instance = null;
  function FloatSerializer_getInstance() {
    if (FloatSerializer_instance === null) {
      new FloatSerializer();
    }
    return FloatSerializer_instance;
  }
  function DoubleSerializer() {
    DoubleSerializer_instance = this;
    this.descriptor_2hn2sc$_0 = DoubleDescriptor_getInstance();
  }
  Object.defineProperty(DoubleSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_2hn2sc$_0;
  }});
  DoubleSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeDouble_14dthe$(obj);
  };
  DoubleSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeDouble();
  };
  DoubleSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DoubleSerializer', interfaces: [KSerializer]};
  var DoubleSerializer_instance = null;
  function DoubleSerializer_getInstance() {
    if (DoubleSerializer_instance === null) {
      new DoubleSerializer();
    }
    return DoubleSerializer_instance;
  }
  function CharSerializer() {
    CharSerializer_instance = this;
    this.descriptor_5mpy8x$_0 = CharDescriptor_getInstance();
  }
  Object.defineProperty(CharSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_5mpy8x$_0;
  }});
  CharSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeChar_s8itvh$(obj);
  };
  CharSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeChar();
  };
  CharSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CharSerializer', interfaces: [KSerializer]};
  var CharSerializer_instance = null;
  function CharSerializer_getInstance() {
    if (CharSerializer_instance === null) {
      new CharSerializer();
    }
    return CharSerializer_instance;
  }
  function StringSerializer() {
    StringSerializer_instance = this;
    this.descriptor_sum718$_0 = StringDescriptor_getInstance();
  }
  Object.defineProperty(StringSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_sum718$_0;
  }});
  StringSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeString_61zpoe$(obj);
  };
  StringSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeString();
  };
  StringSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'StringSerializer', interfaces: [KSerializer]};
  var StringSerializer_instance = null;
  function StringSerializer_getInstance() {
    if (StringSerializer_instance === null) {
      new StringSerializer();
    }
    return StringSerializer_instance;
  }
  function defaultSerializer($receiver) {
    var tmp$, tmp$_0;
    if (equals($receiver, PrimitiveClasses$stringClass))
      tmp$ = StringSerializer_getInstance();
    else if (equals($receiver, getKClass(Char)))
      tmp$ = CharSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$doubleClass))
      tmp$ = DoubleSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$floatClass))
      tmp$ = FloatSerializer_getInstance();
    else if (equals($receiver, getKClass(Long)))
      tmp$ = LongSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$intClass))
      tmp$ = IntSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$shortClass))
      tmp$ = ShortSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$byteClass))
      tmp$ = ByteSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$booleanClass))
      tmp$ = BooleanSerializer_getInstance();
    else if (equals($receiver, getKClass(Object.getPrototypeOf(kotlin.Unit).constructor)))
      tmp$ = UnitSerializer_getInstance();
    else
      tmp$ = null;
    return (tmp$_0 = tmp$) == null || Kotlin.isType(tmp$_0, KSerializer) ? tmp$_0 : throwCCE();
  }
  function SerialClassDescImpl(name, generatedSerializer) {
    if (generatedSerializer === void 0)
      generatedSerializer = null;
    this.name_l5inc6$_0 = name;
    this.generatedSerializer_1vyey6$_0 = generatedSerializer;
    this.names_gh1kah$_0 = ArrayList_init_0();
    this.annotations_4jiga3$_0 = ArrayList_init_0();
    this.classAnnotations_3clm9z$_0 = ArrayList_init_0();
    this.flags_k3kfa0$_0 = Kotlin.booleanArray(4);
    this.descriptors_ve6swl$_0 = ArrayList_init_0();
    this.indices_jm5tq0$_7drv5o$_0 = lazy(SerialClassDescImpl$indices$lambda(this));
  }
  Object.defineProperty(SerialClassDescImpl.prototype, 'name', {get: function () {
    return this.name_l5inc6$_0;
  }});
  Object.defineProperty(SerialClassDescImpl.prototype, 'kind', {get: function () {
    return StructureKind$CLASS_getInstance();
  }});
  Object.defineProperty(SerialClassDescImpl.prototype, 'elementsCount', {get: function () {
    return this.annotations_4jiga3$_0.size;
  }});
  Object.defineProperty(SerialClassDescImpl.prototype, 'indices_jm5tq0$_0', {get: function () {
    return this.indices_jm5tq0$_7drv5o$_0.value;
  }});
  SerialClassDescImpl.prototype.addElement_ivxn3r$ = function (name, isOptional) {
    if (isOptional === void 0)
      isOptional = false;
    this.names_gh1kah$_0.add_11rb$(name);
    var idx = this.names_gh1kah$_0.size - 1 | 0;
    this.ensureFlagsCapacity_qhtrim$_0(idx);
    this.flags_k3kfa0$_0[idx] = isOptional;
    this.annotations_4jiga3$_0.add_11rb$(ArrayList_init_0());
  };
  SerialClassDescImpl.prototype.pushAnnotation_yj921w$ = function (a) {
    last(this.annotations_4jiga3$_0).add_11rb$(a);
  };
  SerialClassDescImpl.prototype.pushClassAnnotation_yj921w$ = function (a) {
    this.classAnnotations_3clm9z$_0.add_11rb$(a);
  };
  SerialClassDescImpl.prototype.pushDescriptor_qatsm0$ = function (desc) {
    this.descriptors_ve6swl$_0.add_11rb$(desc);
  };
  SerialClassDescImpl.prototype.getElementDescriptor_za3lpa$ = function (index) {
    var tmp$, tmp$_0, tmp$_1, tmp$_2, tmp$_3;
    tmp$_3 = (tmp$_2 = (tmp$_1 = (tmp$_0 = (tmp$ = this.generatedSerializer_1vyey6$_0) != null ? tmp$.childSerializers() : null) != null ? getOrNull(tmp$_0, index) : null) != null ? tmp$_1.descriptor : null) != null ? tmp$_2 : getOrNull_0(this.descriptors_ve6swl$_0, index);
    if (tmp$_3 == null) {
      throw new SerialClassDescImpl$MissingDescriptorException(index, this);
    }
    return tmp$_3;
  };
  SerialClassDescImpl.prototype.isElementOptional_za3lpa$ = function (index) {
    return this.flags_k3kfa0$_0[index];
  };
  SerialClassDescImpl.prototype.getEntityAnnotations = function () {
    return this.classAnnotations_3clm9z$_0;
  };
  SerialClassDescImpl.prototype.getElementAnnotations_za3lpa$ = function (index) {
    return this.annotations_4jiga3$_0.get_za3lpa$(index);
  };
  SerialClassDescImpl.prototype.getElementName_za3lpa$ = function (index) {
    return this.names_gh1kah$_0.get_za3lpa$(index);
  };
  SerialClassDescImpl.prototype.getElementIndex_61zpoe$ = function (name) {
    var tmp$;
    return (tmp$ = this.indices_jm5tq0$_0.get_11rb$(name)) != null ? tmp$ : -3;
  };
  SerialClassDescImpl.prototype.ensureFlagsCapacity_qhtrim$_0 = function (i) {
    if (this.flags_k3kfa0$_0.length <= i)
      this.flags_k3kfa0$_0 = copyOf(this.flags_k3kfa0$_0, this.flags_k3kfa0$_0.length * 2 | 0);
  };
  SerialClassDescImpl.prototype.buildIndices_585r2k$_0 = function () {
    var tmp$;
    var indices = HashMap_init();
    tmp$ = this.names_gh1kah$_0.size;
    for (var i = 0; i < tmp$; i++) {
      var key = this.names_gh1kah$_0.get_za3lpa$(i);
      indices.put_xwzc9p$(key, i);
    }
    return indices;
  };
  SerialClassDescImpl.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, SerialClassDescImpl))
      return false;
    if (!equals(this.name, other.name))
      return false;
    if (!equals(elementDescriptors(this), elementDescriptors(other)))
      return false;
    return true;
  };
  SerialClassDescImpl.prototype.hashCode = function () {
    var result = hashCode(this.name);
    result = (31 * result | 0) + hashCode(elementDescriptors(this)) | 0;
    return result;
  };
  function SerialClassDescImpl$toString$lambda(this$SerialClassDescImpl) {
    return function (it) {
      return it.key + ': ' + this$SerialClassDescImpl.getElementDescriptor_za3lpa$(it.value).name;
    };
  }
  SerialClassDescImpl.prototype.toString = function () {
    return joinToString(this.indices_jm5tq0$_0.entries, ', ', this.name + '(', ')', void 0, void 0, SerialClassDescImpl$toString$lambda(this));
  };
  function SerialClassDescImpl$MissingDescriptorException(index, origin) {
    SerializationException.call(this, 'Element descriptor at index ' + index + ' has not been found in ' + origin);
    this.name = 'SerialClassDescImpl$MissingDescriptorException';
  }
  SerialClassDescImpl$MissingDescriptorException.$metadata$ = {kind: Kind_CLASS, simpleName: 'MissingDescriptorException', interfaces: [SerializationException]};
  function SerialClassDescImpl$indices$lambda(this$SerialClassDescImpl) {
    return function () {
      return this$SerialClassDescImpl.buildIndices_585r2k$_0();
    };
  }
  SerialClassDescImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialClassDescImpl', interfaces: [SerialDescriptor]};
  var KEY_INDEX;
  var VALUE_INDEX;
  function KeyValueSerializer(kSerializer, vSerializer) {
    this.kSerializer = kSerializer;
    this.vSerializer = vSerializer;
  }
  KeyValueSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var encoder_0 = encoder.beginStructure_r0sa6z$(this.descriptor, [this.kSerializer, this.vSerializer]);
    encoder_0.encodeSerializableElement_blecud$(this.descriptor, 0, this.kSerializer, this.get_key_wili$(obj));
    encoder_0.encodeSerializableElement_blecud$(this.descriptor, 1, this.vSerializer, this.get_value_wili$(obj));
    encoder_0.endStructure_qatsm0$(this.descriptor);
  };
  KeyValueSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var tmp$, tmp$_0;
    var input = decoder.beginStructure_r0sa6z$(this.descriptor, [this.kSerializer, this.vSerializer]);
    var kSet = false;
    var vSet = false;
    var k = null;
    var v = null;
    mainLoop: while (true) {
      switch (input.decodeElementIndex_qatsm0$(this.descriptor)) {
        case -2:
          k = this.readKey_ej6kb6$(input);
          kSet = true;
          v = this.readValue_gqyu7$(input, k, kSet);
          vSet = true;
          break mainLoop;
        case -1:
          break mainLoop;
        case 0:
          k = this.readKey_ej6kb6$(input);
          kSet = true;
          break;
        case 1:
          v = this.readValue_gqyu7$(input, k, kSet);
          vSet = true;
          break;
        default:throw new SerializationException('Invalid index');
      }
    }
    input.endStructure_qatsm0$(this.descriptor);
    if (!kSet)
      throw new SerializationException('Required key is missing');
    if (!vSet)
      throw new SerializationException('Required value is missing');
    return this.toResult_xwzc9p$((tmp$ = k) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE(), (tmp$_0 = v) == null || Kotlin.isType(tmp$_0, Any) ? tmp$_0 : throwCCE());
  };
  KeyValueSerializer.prototype.readKey_ej6kb6$ = function (decoder) {
    return decoder.decodeSerializableElement_s44l7r$(this.descriptor, 0, this.kSerializer);
  };
  KeyValueSerializer.prototype.readValue_gqyu7$ = function (decoder, k, kSet) {
    return decoder.decodeSerializableElement_s44l7r$(this.descriptor, 1, this.vSerializer);
  };
  KeyValueSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'KeyValueSerializer', interfaces: [KSerializer]};
  function MapEntrySerializer(kSerializer, vSerializer) {
    KeyValueSerializer.call(this, kSerializer, vSerializer);
    this.descriptor_cnmk75$_0 = MapEntryClassDesc_getInstance();
  }
  Object.defineProperty(MapEntrySerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_cnmk75$_0;
  }});
  MapEntrySerializer.prototype.toResult_xwzc9p$ = function (key, value) {
    return new MapEntry(key, value);
  };
  MapEntrySerializer.prototype.get_key_wili$ = function ($receiver) {
    return $receiver.key;
  };
  MapEntrySerializer.prototype.get_value_wili$ = function ($receiver) {
    return $receiver.value;
  };
  MapEntrySerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapEntrySerializer', interfaces: [KeyValueSerializer]};
  function MapEntry(key, value) {
    this.key_qf615j$_0 = key;
    this.value_x17797$_0 = value;
  }
  Object.defineProperty(MapEntry.prototype, 'key', {get: function () {
    return this.key_qf615j$_0;
  }});
  Object.defineProperty(MapEntry.prototype, 'value', {get: function () {
    return this.value_x17797$_0;
  }});
  MapEntry.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapEntry', interfaces: [Map$Entry]};
  MapEntry.prototype.component1 = function () {
    return this.key;
  };
  MapEntry.prototype.component2 = function () {
    return this.value;
  };
  MapEntry.prototype.copy_xwzc9p$ = function (key, value) {
    return new MapEntry(key === void 0 ? this.key : key, value === void 0 ? this.value : value);
  };
  MapEntry.prototype.toString = function () {
    return 'MapEntry(key=' + Kotlin.toString(this.key) + (', value=' + Kotlin.toString(this.value)) + ')';
  };
  MapEntry.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.key) | 0;
    result = result * 31 + Kotlin.hashCode(this.value) | 0;
    return result;
  };
  MapEntry.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.key, other.key) && Kotlin.equals(this.value, other.value)))));
  };
  function MapEntryClassDesc() {
    MapEntryClassDesc_instance = this;
    SerialClassDescImpl.call(this, 'kotlin.collections.Map.Entry');
    this.kind_6o02kx$_0 = StructureKind$MAP_getInstance();
    this.addElement_ivxn3r$('key');
    this.addElement_ivxn3r$('value');
  }
  Object.defineProperty(MapEntryClassDesc.prototype, 'kind', {get: function () {
    return this.kind_6o02kx$_0;
  }});
  MapEntryClassDesc.$metadata$ = {kind: Kind_OBJECT, simpleName: 'MapEntryClassDesc', interfaces: [SerialClassDescImpl]};
  var MapEntryClassDesc_instance = null;
  function MapEntryClassDesc_getInstance() {
    if (MapEntryClassDesc_instance === null) {
      new MapEntryClassDesc();
    }
    return MapEntryClassDesc_instance;
  }
  var PairClassDesc_instance = null;
  function TripleSerializer(aSerializer, bSerializer, cSerializer) {
    this.aSerializer_0 = aSerializer;
    this.bSerializer_0 = bSerializer;
    this.cSerializer_0 = cSerializer;
    this.descriptor_73a6vr$_0 = TripleSerializer$TripleDesc_getInstance();
  }
  var TripleSerializer$TripleDesc_instance = null;
  var HexConverter_instance = null;
  var JsonTreeParser$Companion_instance = null;
  function Json(configuration, context) {
    Json$Companion_getInstance();
    if (configuration === void 0)
      configuration = JsonConfiguration$Companion_getInstance().Stable;
    if (context === void 0)
      context = EmptyModule_getInstance();
    AbstractSerialFormat.call(this, plus(context, defaultJsonModule));
    this.configuration_8be2vx$ = configuration;
  }
  Json.prototype.stringify_tf03ej$ = function (serializer, obj) {
    var result = StringBuilder_init_0();
    var encoder = StreamingJsonOutput_init(result, this, WriteMode$OBJ_getInstance(), Kotlin.newArray(WriteMode$values().length, null));
    encode_0(encoder, serializer, obj);
    return result.toString();
  };
  Json.prototype.toJson_tf03ej$ = function (serializer, value) {
    return writeJson(this, value, serializer);
  };
  Json.prototype.toJson_issdgt$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.Json.toJson_issdgt$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var getContextualOrDefault = _.kotlinx.serialization.modules.getContextualOrDefault_6za9kt$;
    return function (T_0, isT, value) {
      return this.toJson_tf03ej$(getContextualOrDefault(this.context, getKClass(T_0)), value);
    };
  }));
  Json.prototype.parse_awif5v$ = function (deserializer, string) {
    var reader = new JsonReader(string);
    var input = new StreamingJsonInput(this, WriteMode$OBJ_getInstance(), reader);
    var result = decode_0(input, deserializer);
    if (!reader.isDone) {
      throw IllegalStateException_init(('Reader has not consumed the whole input: ' + reader).toString());
    }
    return result;
  };
  Json.prototype.parseJson_61zpoe$ = function (string) {
    return this.parse_awif5v$(JsonElementSerializer_getInstance(), string);
  };
  Json.prototype.fromJson_htt2tq$ = function (deserializer, json) {
    return readJson(this, json, deserializer);
  };
  Json.prototype.fromJson_65rf1y$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.Json.fromJson_65rf1y$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var getContextualOrDefault = _.kotlinx.serialization.modules.getContextualOrDefault_6za9kt$;
    return function (T_0, isT, tree) {
      return this.fromJson_htt2tq$(getContextualOrDefault(this.context, getKClass(T_0)), tree);
    };
  }));
  function Json$Companion() {
    Json$Companion_instance = this;
    this.plain = new Json(new JsonConfiguration(void 0, void 0, void 0, void 0, void 0, void 0, true));
    this.unquoted = new Json(new JsonConfiguration(void 0, void 0, true, void 0, void 0, void 0, true));
    this.indented = new Json(new JsonConfiguration(void 0, void 0, void 0, void 0, true, void 0, true));
    this.nonstrict = new Json(new JsonConfiguration(void 0, false, void 0, void 0, void 0, void 0, true));
  }
  Json$Companion.prototype.install_stpyu4$ = function (module_0) {
    throw IllegalStateException_init('You should not install anything to global instance');
  };
  Object.defineProperty(Json$Companion.prototype, 'context', {get: function () {
    return this.plain.context;
  }});
  Json$Companion.prototype.stringify_tf03ej$ = function (serializer, obj) {
    return this.plain.stringify_tf03ej$(serializer, obj);
  };
  Json$Companion.prototype.parse_awif5v$ = function (deserializer, string) {
    return this.plain.parse_awif5v$(deserializer, string);
  };
  Json$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: [StringFormat]};
  var Json$Companion_instance = null;
  function Json$Companion_getInstance() {
    if (Json$Companion_instance === null) {
      new Json$Companion();
    }
    return Json$Companion_instance;
  }
  Json.$metadata$ = {kind: Kind_CLASS, simpleName: 'Json', interfaces: [StringFormat, AbstractSerialFormat]};
  var defaultJsonModule;
  function JsonConfiguration(encodeDefaults, strictMode, unquoted, allowStructuredMapKeys, prettyPrint, indent, useArrayPolymorphism, classDiscriminator, updateMode) {
    JsonConfiguration$Companion_getInstance();
    if (encodeDefaults === void 0)
      encodeDefaults = true;
    if (strictMode === void 0)
      strictMode = true;
    if (unquoted === void 0)
      unquoted = false;
    if (allowStructuredMapKeys === void 0)
      allowStructuredMapKeys = false;
    if (prettyPrint === void 0)
      prettyPrint = false;
    if (indent === void 0)
      indent = JsonConfiguration$Companion_getInstance().defaultIndent_0;
    if (useArrayPolymorphism === void 0)
      useArrayPolymorphism = false;
    if (classDiscriminator === void 0)
      classDiscriminator = JsonConfiguration$Companion_getInstance().defaultDiscriminator_0;
    if (updateMode === void 0)
      updateMode = UpdateMode$OVERWRITE_getInstance();
    this.encodeDefaults_8be2vx$ = encodeDefaults;
    this.strictMode_8be2vx$ = strictMode;
    this.unquoted_8be2vx$ = unquoted;
    this.allowStructuredMapKeys_8be2vx$ = allowStructuredMapKeys;
    this.prettyPrint_8be2vx$ = prettyPrint;
    this.indent_8be2vx$ = indent;
    this.useArrayPolymorphism_8be2vx$ = useArrayPolymorphism;
    this.classDiscriminator_8be2vx$ = classDiscriminator;
    this.updateMode_8be2vx$ = updateMode;
    if (this.useArrayPolymorphism_8be2vx$) {
      if (!equals(this.classDiscriminator_8be2vx$, JsonConfiguration$Companion_getInstance().defaultDiscriminator_0)) {
        var message = 'Class discriminator should not be specified when array polymorphism is specified';
        throw IllegalArgumentException_init(message.toString());
      }
    }
    if (!this.prettyPrint_8be2vx$) {
      if (!equals(this.indent_8be2vx$, JsonConfiguration$Companion_getInstance().defaultIndent_0)) {
        var message_0 = 'Indent should not be specified when default printing mode is used';
        throw IllegalArgumentException_init(message_0.toString());
      }
    }
  }
  function JsonConfiguration$Companion() {
    JsonConfiguration$Companion_instance = this;
    this.defaultIndent_0 = '    ';
    this.defaultDiscriminator_0 = 'type';
    this.Default = new JsonConfiguration();
    this.Stable = new JsonConfiguration(true, true, false, true, false, this.defaultIndent_0, false, this.defaultDiscriminator_0);
  }
  JsonConfiguration$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonConfiguration$Companion_instance = null;
  function JsonConfiguration$Companion_getInstance() {
    if (JsonConfiguration$Companion_instance === null) {
      new JsonConfiguration$Companion();
    }
    return JsonConfiguration$Companion_instance;
  }
  JsonConfiguration.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonConfiguration', interfaces: []};
  JsonConfiguration.prototype.component1_8be2vx$ = function () {
    return this.encodeDefaults_8be2vx$;
  };
  JsonConfiguration.prototype.component2_8be2vx$ = function () {
    return this.strictMode_8be2vx$;
  };
  JsonConfiguration.prototype.component3_8be2vx$ = function () {
    return this.unquoted_8be2vx$;
  };
  JsonConfiguration.prototype.component4_8be2vx$ = function () {
    return this.allowStructuredMapKeys_8be2vx$;
  };
  JsonConfiguration.prototype.component5_8be2vx$ = function () {
    return this.prettyPrint_8be2vx$;
  };
  JsonConfiguration.prototype.component6_8be2vx$ = function () {
    return this.indent_8be2vx$;
  };
  JsonConfiguration.prototype.component7_8be2vx$ = function () {
    return this.useArrayPolymorphism_8be2vx$;
  };
  JsonConfiguration.prototype.component8_8be2vx$ = function () {
    return this.classDiscriminator_8be2vx$;
  };
  JsonConfiguration.prototype.component9_8be2vx$ = function () {
    return this.updateMode_8be2vx$;
  };
  JsonConfiguration.prototype.copy_u5l5z3$ = function (encodeDefaults, strictMode, unquoted, allowStructuredMapKeys, prettyPrint, indent, useArrayPolymorphism, classDiscriminator, updateMode) {
    return new JsonConfiguration(encodeDefaults === void 0 ? this.encodeDefaults_8be2vx$ : encodeDefaults, strictMode === void 0 ? this.strictMode_8be2vx$ : strictMode, unquoted === void 0 ? this.unquoted_8be2vx$ : unquoted, allowStructuredMapKeys === void 0 ? this.allowStructuredMapKeys_8be2vx$ : allowStructuredMapKeys, prettyPrint === void 0 ? this.prettyPrint_8be2vx$ : prettyPrint, indent === void 0 ? this.indent_8be2vx$ : indent, useArrayPolymorphism === void 0 ? this.useArrayPolymorphism_8be2vx$ : useArrayPolymorphism, classDiscriminator === void 0 ? this.classDiscriminator_8be2vx$ : classDiscriminator, updateMode === void 0 ? this.updateMode_8be2vx$ : updateMode);
  };
  JsonConfiguration.prototype.toString = function () {
    return 'JsonConfiguration(encodeDefaults=' + Kotlin.toString(this.encodeDefaults_8be2vx$) + (', strictMode=' + Kotlin.toString(this.strictMode_8be2vx$)) + (', unquoted=' + Kotlin.toString(this.unquoted_8be2vx$)) + (', allowStructuredMapKeys=' + Kotlin.toString(this.allowStructuredMapKeys_8be2vx$)) + (', prettyPrint=' + Kotlin.toString(this.prettyPrint_8be2vx$)) + (', indent=' + Kotlin.toString(this.indent_8be2vx$)) + (', useArrayPolymorphism=' + Kotlin.toString(this.useArrayPolymorphism_8be2vx$)) + (', classDiscriminator=' + Kotlin.toString(this.classDiscriminator_8be2vx$)) + (', updateMode=' + Kotlin.toString(this.updateMode_8be2vx$)) + ')';
  };
  JsonConfiguration.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.encodeDefaults_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.strictMode_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.unquoted_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.allowStructuredMapKeys_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.prettyPrint_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.indent_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.useArrayPolymorphism_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.classDiscriminator_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.updateMode_8be2vx$) | 0;
    return result;
  };
  JsonConfiguration.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.encodeDefaults_8be2vx$, other.encodeDefaults_8be2vx$) && Kotlin.equals(this.strictMode_8be2vx$, other.strictMode_8be2vx$) && Kotlin.equals(this.unquoted_8be2vx$, other.unquoted_8be2vx$) && Kotlin.equals(this.allowStructuredMapKeys_8be2vx$, other.allowStructuredMapKeys_8be2vx$) && Kotlin.equals(this.prettyPrint_8be2vx$, other.prettyPrint_8be2vx$) && Kotlin.equals(this.indent_8be2vx$, other.indent_8be2vx$) && Kotlin.equals(this.useArrayPolymorphism_8be2vx$, other.useArrayPolymorphism_8be2vx$) && Kotlin.equals(this.classDiscriminator_8be2vx$, other.classDiscriminator_8be2vx$) && Kotlin.equals(this.updateMode_8be2vx$, other.updateMode_8be2vx$)))));
  };
  function JsonElement() {
    JsonElement$Companion_getInstance();
  }
  Object.defineProperty(JsonElement.prototype, 'primitive', {get: function () {
    return this.error_azfyan$_0('JsonLiteral');
  }});
  Object.defineProperty(JsonElement.prototype, 'jsonObject', {get: function () {
    return this.error_azfyan$_0('JsonObject');
  }});
  Object.defineProperty(JsonElement.prototype, 'jsonArray', {get: function () {
    return this.error_azfyan$_0('JsonArray');
  }});
  Object.defineProperty(JsonElement.prototype, 'jsonNull', {get: function () {
    return this.error_azfyan$_0('JsonPrimitive');
  }});
  Object.defineProperty(JsonElement.prototype, 'isNull', {get: function () {
    return this === JsonNull_getInstance();
  }});
  JsonElement.prototype.error_azfyan$_0 = function (element) {
    throw new JsonException('Element ' + Kotlin.getKClassFromExpression(this).toString() + ' is not a ' + element);
  };
  function JsonElement$Companion() {
    JsonElement$Companion_instance = this;
  }
  JsonElement$Companion.prototype.serializer = function () {
    return JsonElementSerializer_getInstance();
  };
  JsonElement$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonElement$Companion_instance = null;
  function JsonElement$Companion_getInstance() {
    if (JsonElement$Companion_instance === null) {
      new JsonElement$Companion();
    }
    return JsonElement$Companion_instance;
  }
  JsonElement.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonElement', interfaces: []};
  function JsonPrimitive() {
    JsonPrimitive$Companion_getInstance();
    JsonElement.call(this);
    this.primitive_awfpe5$_0 = this;
  }
  Object.defineProperty(JsonPrimitive.prototype, 'primitive', {get: function () {
    return this.primitive_awfpe5$_0;
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'int', {get: function () {
    return toInt(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'intOrNull', {get: function () {
    return toIntOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'long', {get: function () {
    return toLong(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'longOrNull', {get: function () {
    return toLongOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'double', {get: function () {
    return toDouble(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'doubleOrNull', {get: function () {
    return toDoubleOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'float', {get: function () {
    return toDouble(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'floatOrNull', {get: function () {
    return toDoubleOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'boolean', {get: function () {
    return toBooleanStrict(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'booleanOrNull', {get: function () {
    return toBooleanStrictOrNull(this.content);
  }});
  JsonPrimitive.prototype.toString = function () {
    return this.content;
  };
  function JsonPrimitive$Companion() {
    JsonPrimitive$Companion_instance = this;
  }
  JsonPrimitive$Companion.prototype.serializer = function () {
    return JsonPrimitiveSerializer_getInstance();
  };
  JsonPrimitive$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonPrimitive$Companion_instance = null;
  function JsonPrimitive$Companion_getInstance() {
    if (JsonPrimitive$Companion_instance === null) {
      new JsonPrimitive$Companion();
    }
    return JsonPrimitive$Companion_instance;
  }
  JsonPrimitive.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonPrimitive', interfaces: [JsonElement]};
  function JsonLiteral(body, isString) {
    JsonLiteral$Companion_getInstance();
    JsonPrimitive.call(this);
    this.body = body;
    this.isString = isString;
    this.content_prrjtz$_0 = this.body.toString();
    this.contentOrNull_mx86gf$_0 = this.content;
  }
  Object.defineProperty(JsonLiteral.prototype, 'content', {get: function () {
    return this.content_prrjtz$_0;
  }});
  Object.defineProperty(JsonLiteral.prototype, 'contentOrNull', {get: function () {
    return this.contentOrNull_mx86gf$_0;
  }});
  JsonLiteral.prototype.toString = function () {
    var tmp$;
    if (this.isString) {
      var $receiver = StringBuilder_init_0();
      printQuoted($receiver, this.content);
      tmp$ = $receiver.toString();
    }
     else
      tmp$ = this.content;
    return tmp$;
  };
  JsonLiteral.prototype.equals = function (other) {
    var tmp$, tmp$_0;
    if (this === other)
      return true;
    if (other == null || !((tmp$ = Kotlin.getKClassFromExpression(this)) != null ? tmp$.equals(Kotlin.getKClassFromExpression(other)) : null))
      return false;
    Kotlin.isType(tmp$_0 = other, JsonLiteral) ? tmp$_0 : throwCCE();
    if (this.isString !== other.isString)
      return false;
    if (!equals(this.content, other.content))
      return false;
    return true;
  };
  JsonLiteral.prototype.hashCode = function () {
    var result = hashCode(this.isString);
    result = (31 * result | 0) + hashCode(this.content) | 0;
    return result;
  };
  function JsonLiteral$Companion() {
    JsonLiteral$Companion_instance = this;
  }
  JsonLiteral$Companion.prototype.serializer = function () {
    return JsonLiteralSerializer_getInstance();
  };
  JsonLiteral$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonLiteral$Companion_instance = null;
  function JsonLiteral$Companion_getInstance() {
    if (JsonLiteral$Companion_instance === null) {
      new JsonLiteral$Companion();
    }
    return JsonLiteral$Companion_instance;
  }
  JsonLiteral.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonLiteral', interfaces: [JsonPrimitive]};
  function JsonLiteral_init(number, $this) {
    $this = $this || Object.create(JsonLiteral.prototype);
    JsonLiteral.call($this, number, false);
    return $this;
  }
  function JsonLiteral_init_0(boolean, $this) {
    $this = $this || Object.create(JsonLiteral.prototype);
    JsonLiteral.call($this, boolean, false);
    return $this;
  }
  function JsonLiteral_init_1(string, $this) {
    $this = $this || Object.create(JsonLiteral.prototype);
    JsonLiteral.call($this, string, true);
    return $this;
  }
  function JsonNull() {
    JsonNull_instance = this;
    JsonPrimitive.call(this);
    this.jsonNull_c8yjib$_0 = this;
    this.content_w1vkof$_0 = 'null';
    this.contentOrNull_egvcud$_0 = null;
  }
  Object.defineProperty(JsonNull.prototype, 'jsonNull', {get: function () {
    return this.jsonNull_c8yjib$_0;
  }});
  Object.defineProperty(JsonNull.prototype, 'content', {get: function () {
    return this.content_w1vkof$_0;
  }});
  Object.defineProperty(JsonNull.prototype, 'contentOrNull', {get: function () {
    return this.contentOrNull_egvcud$_0;
  }});
  JsonNull.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonNull', interfaces: [JsonPrimitive]};
  var JsonNull_instance = null;
  function JsonNull_getInstance() {
    if (JsonNull_instance === null) {
      new JsonNull();
    }
    return JsonNull_instance;
  }
  function JsonObject(content) {
    JsonObject$Companion_getInstance();
    JsonElement.call(this);
    this.content = content;
    this.jsonObject_js4yrn$_0 = this;
  }
  Object.defineProperty(JsonObject.prototype, 'jsonObject', {get: function () {
    return this.jsonObject_js4yrn$_0;
  }});
  JsonObject.prototype.getPrimitive_61zpoe$ = function (key) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = getValue(this, key), JsonPrimitive) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, 'JsonPrimitive');
  };
  JsonObject.prototype.getObject_61zpoe$ = function (key) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = getValue(this, key), JsonObject) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, 'JsonObject');
  };
  JsonObject.prototype.getArray_61zpoe$ = function (key) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = getValue(this, key), JsonArray) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, 'JsonArray');
  };
  JsonObject.prototype.getPrimitiveOrNull_61zpoe$ = function (key) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.content.get_11rb$(key), JsonPrimitive) ? tmp$ : null;
  };
  JsonObject.prototype.getObjectOrNull_61zpoe$ = function (key) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.content.get_11rb$(key), JsonObject) ? tmp$ : null;
  };
  JsonObject.prototype.getArrayOrNull_61zpoe$ = function (key) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.content.get_11rb$(key), JsonArray) ? tmp$ : null;
  };
  JsonObject.prototype.getAs_j069p3$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonObject.getAs_j069p3$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var unexpectedJson = _.kotlinx.serialization.json.unexpectedJson_puj7f4$;
    return function (J_0, isJ, key) {
      var tmp$, tmp$_0;
      return (tmp$_0 = isJ(tmp$ = this.get_11rb$(key)) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, getKClass(J_0).toString());
    };
  }));
  JsonObject.prototype.getAsOrNull_j069p3$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonObject.getAsOrNull_j069p3$', function (J_0, isJ, key) {
    var tmp$;
    return isJ(tmp$ = this.content.get_11rb$(key)) ? tmp$ : null;
  });
  function JsonObject$toString$lambda(f) {
    var k = f.key;
    var v = f.value;
    return '"' + k + '"' + ':' + v;
  }
  JsonObject.prototype.toString = function () {
    return joinToString(this.content.entries, ',', '{', '}', void 0, void 0, JsonObject$toString$lambda);
  };
  JsonObject.prototype.equals = function (other) {
    return equals(this.content, other);
  };
  JsonObject.prototype.hashCode = function () {
    return hashCode(this.content);
  };
  function JsonObject$Companion() {
    JsonObject$Companion_instance = this;
  }
  JsonObject$Companion.prototype.serializer = function () {
    return JsonObjectSerializer_getInstance();
  };
  JsonObject$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonObject$Companion_instance = null;
  function JsonObject$Companion_getInstance() {
    if (JsonObject$Companion_instance === null) {
      new JsonObject$Companion();
    }
    return JsonObject$Companion_instance;
  }
  Object.defineProperty(JsonObject.prototype, 'entries', {get: function () {
    return this.content.entries;
  }});
  Object.defineProperty(JsonObject.prototype, 'keys', {get: function () {
    return this.content.keys;
  }});
  Object.defineProperty(JsonObject.prototype, 'size', {get: function () {
    return this.content.size;
  }});
  Object.defineProperty(JsonObject.prototype, 'values', {get: function () {
    return this.content.values;
  }});
  JsonObject.prototype.containsKey_11rb$ = function (key) {
    return this.content.containsKey_11rb$(key);
  };
  JsonObject.prototype.containsValue_11rc$ = function (value) {
    return this.content.containsValue_11rc$(value);
  };
  JsonObject.prototype.get_11rb$ = function (key) {
    return this.content.get_11rb$(key);
  };
  JsonObject.prototype.isEmpty = function () {
    return this.content.isEmpty();
  };
  JsonObject.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonObject', interfaces: [Map, JsonElement]};
  JsonObject.prototype.component1 = function () {
    return this.content;
  };
  JsonObject.prototype.copy_fnd918$ = function (content) {
    return new JsonObject(content === void 0 ? this.content : content);
  };
  function JsonArray(content) {
    JsonArray$Companion_getInstance();
    JsonElement.call(this);
    this.content = content;
    this.jsonArray_u1gsrt$_0 = this;
  }
  Object.defineProperty(JsonArray.prototype, 'jsonArray', {get: function () {
    return this.jsonArray_u1gsrt$_0;
  }});
  JsonArray.prototype.getPrimitive_za3lpa$ = function (index) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = this.content.get_za3lpa$(index), JsonPrimitive) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, 'JsonPrimitive');
  };
  JsonArray.prototype.getObject_za3lpa$ = function (index) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = this.content.get_za3lpa$(index), JsonObject) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, 'JsonObject');
  };
  JsonArray.prototype.getArray_za3lpa$ = function (index) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = this.content.get_za3lpa$(index), JsonArray) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, 'JsonArray');
  };
  JsonArray.prototype.getPrimitiveOrNull_za3lpa$ = function (index) {
    var tmp$;
    return Kotlin.isType(tmp$ = getOrNull_0(this.content, index), JsonPrimitive) ? tmp$ : null;
  };
  JsonArray.prototype.getObjectOrNull_za3lpa$ = function (index) {
    var tmp$;
    return Kotlin.isType(tmp$ = getOrNull_0(this.content, index), JsonObject) ? tmp$ : null;
  };
  JsonArray.prototype.getArrayOrNull_za3lpa$ = function (index) {
    var tmp$;
    return Kotlin.isType(tmp$ = getOrNull_0(this.content, index), JsonArray) ? tmp$ : null;
  };
  JsonArray.prototype.getAs_n86q5$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonArray.getAs_n86q5$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var unexpectedJson = _.kotlinx.serialization.json.unexpectedJson_puj7f4$;
    return function (J_0, isJ, index) {
      var tmp$, tmp$_0;
      return (tmp$_0 = isJ(tmp$ = this.content.get_za3lpa$(index)) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, getKClass(J_0).toString());
    };
  }));
  JsonArray.prototype.getAsOrNull_n86q5$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonArray.getAsOrNull_n86q5$', wrapFunction(function () {
    var getOrNull = Kotlin.kotlin.collections.getOrNull_yzln2o$;
    return function (J_0, isJ, index) {
      var tmp$;
      return isJ(tmp$ = getOrNull(this.content, index)) ? tmp$ : null;
    };
  }));
  JsonArray.prototype.toString = function () {
    return joinToString(this.content, ',', '[', ']');
  };
  JsonArray.prototype.equals = function (other) {
    return equals(this.content, other);
  };
  JsonArray.prototype.hashCode = function () {
    return hashCode(this.content);
  };
  function JsonArray$Companion() {
    JsonArray$Companion_instance = this;
  }
  JsonArray$Companion.prototype.serializer = function () {
    return JsonArraySerializer_getInstance();
  };
  JsonArray$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonArray$Companion_instance = null;
  function JsonArray$Companion_getInstance() {
    if (JsonArray$Companion_instance === null) {
      new JsonArray$Companion();
    }
    return JsonArray$Companion_instance;
  }
  Object.defineProperty(JsonArray.prototype, 'size', {get: function () {
    return this.content.size;
  }});
  JsonArray.prototype.contains_11rb$ = function (element) {
    return this.content.contains_11rb$(element);
  };
  JsonArray.prototype.containsAll_brywnq$ = function (elements) {
    return this.content.containsAll_brywnq$(elements);
  };
  JsonArray.prototype.get_za3lpa$ = function (index) {
    return this.content.get_za3lpa$(index);
  };
  JsonArray.prototype.indexOf_11rb$ = function (element) {
    return this.content.indexOf_11rb$(element);
  };
  JsonArray.prototype.isEmpty = function () {
    return this.content.isEmpty();
  };
  JsonArray.prototype.iterator = function () {
    return this.content.iterator();
  };
  JsonArray.prototype.lastIndexOf_11rb$ = function (element) {
    return this.content.lastIndexOf_11rb$(element);
  };
  JsonArray.prototype.listIterator = function () {
    return this.content.listIterator();
  };
  JsonArray.prototype.listIterator_za3lpa$ = function (index) {
    return this.content.listIterator_za3lpa$(index);
  };
  JsonArray.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
    return this.content.subList_vux9f0$(fromIndex, toIndex);
  };
  JsonArray.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonArray', interfaces: [List, JsonElement]};
  JsonArray.prototype.component1 = function () {
    return this.content;
  };
  JsonArray.prototype.copy_adp4jc$ = function (content) {
    return new JsonArray(content === void 0 ? this.content : content);
  };
  function unexpectedJson(key, expected) {
    throw new JsonException('Element ' + key + ' is not a ' + expected);
  }
  function JsonElementSerializer() {
    JsonElementSerializer_instance = this;
    this.descriptor_u8kpse$_0 = new JsonElementSerializer$descriptor$ObjectLiteral('JsonElementSerializer');
  }
  Object.defineProperty(JsonElementSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_u8kpse$_0;
  }});
  JsonElementSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    if (Kotlin.isType(obj, JsonPrimitive))
      encoder.encodeSerializableValue_tf03ej$(JsonPrimitiveSerializer_getInstance(), obj);
    else if (Kotlin.isType(obj, JsonObject))
      encoder.encodeSerializableValue_tf03ej$(JsonObjectSerializer_getInstance(), obj);
    else if (Kotlin.isType(obj, JsonArray))
      encoder.encodeSerializableValue_tf03ej$(JsonArraySerializer_getInstance(), obj);
  };
  JsonElementSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var tmp$;
    verify_0(decoder);
    var input = Kotlin.isType(tmp$ = decoder, JsonInput) ? tmp$ : throwCCE();
    return input.decodeJson();
  };
  function JsonElementSerializer$descriptor$ObjectLiteral(name, generatedSerializer) {
    SerialClassDescImpl.call(this, name, generatedSerializer);
  }
  Object.defineProperty(JsonElementSerializer$descriptor$ObjectLiteral.prototype, 'kind', {get: function () {
    return UnionKind$SEALED_getInstance();
  }});
  JsonElementSerializer$descriptor$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [SerialClassDescImpl]};
  JsonElementSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonElementSerializer', interfaces: [KSerializer]};
  var JsonElementSerializer_instance = null;
  function JsonElementSerializer_getInstance() {
    if (JsonElementSerializer_instance === null) {
      new JsonElementSerializer();
    }
    return JsonElementSerializer_instance;
  }
  function JsonPrimitiveSerializer() {
    JsonPrimitiveSerializer_instance = this;
  }
  Object.defineProperty(JsonPrimitiveSerializer.prototype, 'descriptor', {get: function () {
    return JsonPrimitiveSerializer$JsonPrimitiveDescriptor_getInstance();
  }});
  JsonPrimitiveSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var tmp$, tmp$_0;
    verify(encoder);
    if (Kotlin.isType(obj, JsonNull)) {
      tmp$_0 = encoder.encodeSerializableValue_tf03ej$(JsonNullSerializer_getInstance(), JsonNull_getInstance());
    }
     else {
      tmp$_0 = encoder.encodeSerializableValue_tf03ej$(JsonLiteralSerializer_getInstance(), Kotlin.isType(tmp$ = obj, JsonLiteral) ? tmp$ : throwCCE());
    }
    return tmp$_0;
  };
  JsonPrimitiveSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return decoder.decodeNotNullMark() ? JsonPrimitive_2(decoder.decodeString()) : decoder.decodeSerializableValue_w63s0f$(JsonNullSerializer_getInstance());
  };
  function JsonPrimitiveSerializer$JsonPrimitiveDescriptor() {
    JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'JsonPrimitive');
  }
  Object.defineProperty(JsonPrimitiveSerializer$JsonPrimitiveDescriptor.prototype, 'kind', {get: function () {
    return PrimitiveKind$STRING_getInstance();
  }});
  JsonPrimitiveSerializer$JsonPrimitiveDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonPrimitiveDescriptor', interfaces: [SerialClassDescImpl]};
  var JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance = null;
  function JsonPrimitiveSerializer$JsonPrimitiveDescriptor_getInstance() {
    if (JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance === null) {
      new JsonPrimitiveSerializer$JsonPrimitiveDescriptor();
    }
    return JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance;
  }
  JsonPrimitiveSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonPrimitiveSerializer', interfaces: [KSerializer]};
  var JsonPrimitiveSerializer_instance = null;
  function JsonPrimitiveSerializer_getInstance() {
    if (JsonPrimitiveSerializer_instance === null) {
      new JsonPrimitiveSerializer();
    }
    return JsonPrimitiveSerializer_instance;
  }
  function JsonNullSerializer() {
    JsonNullSerializer_instance = this;
  }
  Object.defineProperty(JsonNullSerializer.prototype, 'descriptor', {get: function () {
    return JsonNullSerializer$JsonNullDescriptor_getInstance();
  }});
  JsonNullSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    encoder.encodeNull();
  };
  JsonNullSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    decoder.decodeNull();
    return JsonNull_getInstance();
  };
  function JsonNullSerializer$JsonNullDescriptor() {
    JsonNullSerializer$JsonNullDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'JsonNull');
  }
  Object.defineProperty(JsonNullSerializer$JsonNullDescriptor.prototype, 'kind', {get: function () {
    return UnionKind$ENUM_KIND_getInstance();
  }});
  JsonNullSerializer$JsonNullDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonNullDescriptor', interfaces: [SerialClassDescImpl]};
  var JsonNullSerializer$JsonNullDescriptor_instance = null;
  function JsonNullSerializer$JsonNullDescriptor_getInstance() {
    if (JsonNullSerializer$JsonNullDescriptor_instance === null) {
      new JsonNullSerializer$JsonNullDescriptor();
    }
    return JsonNullSerializer$JsonNullDescriptor_instance;
  }
  JsonNullSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonNullSerializer', interfaces: [KSerializer]};
  var JsonNullSerializer_instance = null;
  function JsonNullSerializer_getInstance() {
    if (JsonNullSerializer_instance === null) {
      new JsonNullSerializer();
    }
    return JsonNullSerializer_instance;
  }
  function JsonLiteralSerializer() {
    JsonLiteralSerializer_instance = this;
  }
  Object.defineProperty(JsonLiteralSerializer.prototype, 'descriptor', {get: function () {
    return JsonLiteralSerializer$JsonLiteralDescriptor_getInstance();
  }});
  JsonLiteralSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    if (obj.isString) {
      return encoder.encodeString_61zpoe$(obj.content);
    }
    var long = obj.longOrNull;
    if (long != null) {
      return encoder.encodeLong_s8cxhz$(long);
    }
    var double = obj.doubleOrNull;
    if (double != null) {
      return encoder.encodeDouble_14dthe$(double);
    }
    var boolean = obj.booleanOrNull;
    if (boolean != null) {
      return encoder.encodeBoolean_6taknv$(boolean);
    }
    encoder.encodeString_61zpoe$(obj.content);
  };
  JsonLiteralSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return JsonLiteral_init_1(decoder.decodeString());
  };
  function JsonLiteralSerializer$JsonLiteralDescriptor() {
    JsonLiteralSerializer$JsonLiteralDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'JsonLiteral');
  }
  Object.defineProperty(JsonLiteralSerializer$JsonLiteralDescriptor.prototype, 'kind', {get: function () {
    return PrimitiveKind$STRING_getInstance();
  }});
  JsonLiteralSerializer$JsonLiteralDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonLiteralDescriptor', interfaces: [SerialClassDescImpl]};
  var JsonLiteralSerializer$JsonLiteralDescriptor_instance = null;
  function JsonLiteralSerializer$JsonLiteralDescriptor_getInstance() {
    if (JsonLiteralSerializer$JsonLiteralDescriptor_instance === null) {
      new JsonLiteralSerializer$JsonLiteralDescriptor();
    }
    return JsonLiteralSerializer$JsonLiteralDescriptor_instance;
  }
  JsonLiteralSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonLiteralSerializer', interfaces: [KSerializer]};
  var JsonLiteralSerializer_instance = null;
  function JsonLiteralSerializer_getInstance() {
    if (JsonLiteralSerializer_instance === null) {
      new JsonLiteralSerializer();
    }
    return JsonLiteralSerializer_instance;
  }
  function JsonObjectSerializer() {
    JsonObjectSerializer_instance = this;
    this.descriptor_a992tj$_0 = new NamedMapClassDescriptor('JsonObject', StringSerializer_getInstance().descriptor, JsonElementSerializer_getInstance().descriptor);
  }
  Object.defineProperty(JsonObjectSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_a992tj$_0;
  }});
  JsonObjectSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    (new LinkedHashMapSerializer(StringSerializer_getInstance(), JsonElementSerializer_getInstance())).serialize_awe97i$(encoder, obj.content);
  };
  JsonObjectSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return new JsonObject((new LinkedHashMapSerializer(StringSerializer_getInstance(), JsonElementSerializer_getInstance())).deserialize_nts5qn$(decoder));
  };
  JsonObjectSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonObjectSerializer', interfaces: [KSerializer]};
  var JsonObjectSerializer_instance = null;
  function JsonObjectSerializer_getInstance() {
    if (JsonObjectSerializer_instance === null) {
      new JsonObjectSerializer();
    }
    return JsonObjectSerializer_instance;
  }
  function JsonArraySerializer() {
    JsonArraySerializer_instance = this;
    this.descriptor_935ivj$_0 = new NamedListClassDescriptor('JsonArray', JsonElementSerializer_getInstance().descriptor);
  }
  Object.defineProperty(JsonArraySerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_935ivj$_0;
  }});
  JsonArraySerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    (new ArrayListSerializer(JsonElementSerializer_getInstance())).serialize_awe97i$(encoder, obj);
  };
  JsonArraySerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return new JsonArray((new ArrayListSerializer(JsonElementSerializer_getInstance())).deserialize_nts5qn$(decoder));
  };
  JsonArraySerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonArraySerializer', interfaces: [KSerializer]};
  var JsonArraySerializer_instance = null;
  function JsonArraySerializer_getInstance() {
    if (JsonArraySerializer_instance === null) {
      new JsonArraySerializer();
    }
    return JsonArraySerializer_instance;
  }
  function verify(encoder) {
    if (!Kotlin.isType(encoder, JsonOutput)) {
      throw IllegalStateException_init('Json element serializer can be used only by Json format'.toString());
    }
  }
  function verify_0(decoder) {
    if (!Kotlin.isType(decoder, JsonInput)) {
      throw IllegalStateException_init('Json element serializer can be used only by Json format'.toString());
    }
  }
  function JsonPrimitive_2(value) {
    if (value == null)
      return JsonNull_getInstance();
    return JsonLiteral_init_1(value);
  }
  function get_content($receiver) {
    return $receiver.primitive.content;
  }
  function InvalidFloatingPoint(value, type) {
    return new JsonEncodingException(value.toString() + ' is not a valid ' + type + ' as per JSON specification. ' + 'You can disable strict mode to serialize such values');
  }
  function InvalidFloatingPoint_0(value, key, type) {
    return new JsonEncodingException(value.toString() + ' with key ' + key + ' is not a valid ' + type + ' as per JSON specification. ' + 'You can disable strict mode to serialize such values');
  }
  function jsonUnknownKeyException(position, key) {
    return new JsonDecodingException(position, 'Strict JSON encountered unknown key: ' + key + '\n' + 'You can disable strict mode to skip unknown keys');
  }
  function JsonMapInvalidKeyKind(keyDescriptor) {
    return new JsonException('Value of type ' + keyDescriptor.name + " can't be used in json as map key. " + ('It should have either primitive or enum kind, but its kind is ' + keyDescriptor.kind + '.' + '\n') + "You can convert such maps to arrays [key1, value1, key2, value2,...] with 'allowStructuredMapKeys' flag in JsonConfiguration.");
  }
  function JsonException(message) {
    SerializationException.call(this, message);
    this.name = 'JsonException';
  }
  JsonException.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonException', interfaces: [SerializationException]};
  function JsonDecodingException(position, message) {
    JsonException.call(this, 'Invalid JSON at ' + position + ': ' + message);
    this.name = 'JsonDecodingException';
  }
  JsonDecodingException.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonDecodingException', interfaces: [JsonException]};
  function JsonEncodingException(message) {
    JsonException.call(this, message);
    this.name = 'JsonEncodingException';
  }
  JsonEncodingException.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonEncodingException', interfaces: [JsonException]};
  function JsonInput() {
  }
  JsonInput.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'JsonInput', interfaces: [CompositeDecoder, Decoder]};
  function JsonOutput() {
  }
  JsonOutput.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'JsonOutput', interfaces: [CompositeEncoder, Encoder]};
  function JsonParser(reader) {
    this.reader_0 = reader;
  }
  JsonParser.prototype.readObject_0 = function () {
    var $this = this.reader_0;
    if ($this.tokenClass !== TC_BEGIN_OBJ) {
      toBoxedChar(toChar($this.tokenClass));
      $this.fail_bm4lxs$('Expected start of the object', $this.tokenPosition_0);
    }
    this.reader_0.nextToken();
    var $this_0 = this.reader_0;
    var condition = this.reader_0.tokenClass !== TC_COMMA;
    var position = this.reader_0.currentPosition;
    if (!condition) {
      $this_0.fail_bm4lxs$('Unexpected leading comma', position);
    }
    var result = LinkedHashMap_init();
    var valueExpected = false;
    while (this.reader_0.canBeginValue) {
      valueExpected = false;
      var key = this.reader_0.takeString();
      var $this_1 = this.reader_0;
      if ($this_1.tokenClass !== TC_COLON) {
        toBoxedChar(toChar($this_1.tokenClass));
        $this_1.fail_bm4lxs$("Expected ':'", $this_1.tokenPosition_0);
      }
      this.reader_0.nextToken();
      var element = this.read();
      result.put_xwzc9p$(key, element);
      if (this.reader_0.tokenClass !== TC_COMMA) {
        var $this_2 = this.reader_0;
        if ($this_2.tokenClass !== TC_END_OBJ) {
          toBoxedChar(toChar($this_2.tokenClass));
          $this_2.fail_bm4lxs$('Expected end of the object or comma', $this_2.tokenPosition_0);
        }
      }
       else {
        valueExpected = true;
        this.reader_0.nextToken();
      }
    }
    var $this_3 = this.reader_0;
    var condition_0 = !valueExpected && this.reader_0.tokenClass === TC_END_OBJ;
    var position_0 = this.reader_0.currentPosition;
    if (!condition_0) {
      $this_3.fail_bm4lxs$('Expected end of the object', position_0);
    }
    this.reader_0.nextToken();
    return new JsonObject(result);
  };
  JsonParser.prototype.readValue_0 = function (isString) {
    var str = this.reader_0.takeString();
    return new JsonLiteral(str, isString);
  };
  JsonParser.prototype.readArray_0 = function () {
    var $this = this.reader_0;
    if ($this.tokenClass !== TC_BEGIN_LIST) {
      toBoxedChar(toChar($this.tokenClass));
      $this.fail_bm4lxs$('Expected start of the array', $this.tokenPosition_0);
    }
    this.reader_0.nextToken();
    var $this_0 = this.reader_0;
    var condition = this.reader_0.tokenClass !== TC_COMMA;
    var position = this.reader_0.currentPosition;
    if (!condition) {
      $this_0.fail_bm4lxs$('Unexpected leading comma', position);
    }
    var result = ArrayList_init_0();
    var valueExpected = false;
    while (this.reader_0.canBeginValue) {
      valueExpected = false;
      var element = this.read();
      result.add_11rb$(element);
      if (this.reader_0.tokenClass !== TC_COMMA) {
        var $this_1 = this.reader_0;
        if ($this_1.tokenClass !== TC_END_LIST) {
          toBoxedChar(toChar($this_1.tokenClass));
          $this_1.fail_bm4lxs$('Expected end of the array or comma', $this_1.tokenPosition_0);
        }
      }
       else {
        valueExpected = true;
        this.reader_0.nextToken();
      }
    }
    var $this_2 = this.reader_0;
    var condition_0 = !valueExpected;
    var position_0 = this.reader_0.currentPosition;
    if (!condition_0) {
      $this_2.fail_bm4lxs$('Unexpected trailing comma', position_0);
    }
    this.reader_0.nextToken();
    return new JsonArray(result);
  };
  JsonParser.prototype.read = function () {
    var tmp$;
    if (!this.reader_0.canBeginValue)
      this.reader_0.fail_bm4lxs$("Can't begin reading value from here");
    switch (this.reader_0.tokenClass) {
      case 10:
        var $receiver = JsonNull_getInstance();
        this.reader_0.nextToken();
        tmp$ = $receiver;
        break;
      case 1:
        tmp$ = this.readValue_0(true);
        break;
      case 0:
        tmp$ = this.readValue_0(false);
        break;
      case 6:
        tmp$ = this.readObject_0();
        break;
      case 8:
        tmp$ = this.readArray_0();
        break;
      default:tmp$ = this.reader_0.fail_bm4lxs$("Can't begin reading element, unexpected token");
        break;
    }
    return tmp$;
  };
  JsonParser.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonParser', interfaces: []};
  var NULL;
  var COMMA;
  var COLON;
  var BEGIN_OBJ;
  var END_OBJ;
  var BEGIN_LIST;
  var END_LIST;
  var STRING;
  var STRING_ESC;
  var INVALID;
  var UNICODE_ESC;
  var TC_OTHER;
  var TC_STRING;
  var TC_STRING_ESC;
  var TC_WS;
  var TC_COMMA;
  var TC_COLON;
  var TC_BEGIN_OBJ;
  var TC_END_OBJ;
  var TC_BEGIN_LIST;
  var TC_END_LIST;
  var TC_NULL;
  var TC_INVALID;
  var TC_EOF;
  var CTC_MAX;
  var ESC2C_MAX;
  var C2TC;
  function EscapeCharMappings() {
    EscapeCharMappings_instance = this;
    this.ESCAPE_2_CHAR = Kotlin.charArray(117);
    for (var i = 0; i <= 31; i++) {
      this.initC2ESC_0(i, UNICODE_ESC);
    }
    this.initC2ESC_0(8, 98);
    this.initC2ESC_0(9, 116);
    this.initC2ESC_0(10, 110);
    this.initC2ESC_0(12, 102);
    this.initC2ESC_0(13, 114);
    this.initC2ESC_1(47, 47);
    this.initC2ESC_1(STRING, STRING);
    this.initC2ESC_1(STRING_ESC, STRING_ESC);
  }
  EscapeCharMappings.prototype.initC2ESC_0 = function (c, esc) {
    if (esc !== UNICODE_ESC)
      this.ESCAPE_2_CHAR[esc | 0] = toChar(c);
  };
  EscapeCharMappings.prototype.initC2ESC_1 = function (c, esc) {
    this.initC2ESC_0(c | 0, esc);
  };
  EscapeCharMappings.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EscapeCharMappings', interfaces: []};
  var EscapeCharMappings_instance = null;
  function EscapeCharMappings_getInstance() {
    if (EscapeCharMappings_instance === null) {
      new EscapeCharMappings();
    }
    return EscapeCharMappings_instance;
  }
  function initC2TC($receiver, c, cl) {
    $receiver[c] = cl;
  }
  function initC2TC_0($receiver, c, cl) {
    initC2TC($receiver, c | 0, cl);
  }
  function charToTokenClass(c) {
    return (c | 0) < 126 ? C2TC[c | 0] : TC_OTHER;
  }
  function escapeToChar(c) {
    return unboxChar(c < 117 ? EscapeCharMappings_getInstance().ESCAPE_2_CHAR[c] : INVALID);
  }
  function JsonReader(source) {
    this.source_0 = source;
    this.currentPosition = 0;
    this.tokenClass = TC_EOF;
    this.tokenPosition_0 = 0;
    this.offset_0 = -1;
    this.length_0 = 0;
    this.buf_0 = Kotlin.charArray(16);
    this.nextToken();
  }
  Object.defineProperty(JsonReader.prototype, 'isDone', {get: function () {
    return this.tokenClass === TC_EOF;
  }});
  Object.defineProperty(JsonReader.prototype, 'canBeginValue', {get: function () {
    switch (this.tokenClass) {
      case 8:
      case 6:
      case 0:
      case 1:
      case 10:
        return true;
      default:return false;
    }
  }});
  JsonReader.prototype.requireTokenClass_mvfnf3$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.internal.JsonReader.requireTokenClass_mvfnf3$', wrapFunction(function () {
    var toChar = Kotlin.toChar;
    var toBoxedChar = Kotlin.toBoxedChar;
    return function (expected, errorMessage) {
      if (this.tokenClass !== expected)
        this.fail_bm4lxs$(errorMessage(toBoxedChar(toChar(this.tokenClass))), this.tokenPosition_0);
    };
  }));
  JsonReader.prototype.takeString = function () {
    if (this.tokenClass !== TC_OTHER && this.tokenClass !== TC_STRING)
      this.fail_bm4lxs$('Expected string or non-null literal', this.tokenPosition_0);
    var tmp$;
    if (this.offset_0 < 0)
      tmp$ = String_0(this.buf_0, 0, this.length_0);
    else {
      var $receiver = this.source_0;
      var startIndex = this.offset_0;
      var endIndex = this.offset_0 + this.length_0 | 0;
      tmp$ = $receiver.substring(startIndex, endIndex);
    }
    var prevStr = tmp$;
    this.nextToken();
    return prevStr;
  };
  JsonReader.prototype.append_0 = function (ch) {
    var tmp$;
    if (this.length_0 >= this.buf_0.length)
      this.buf_0 = copyOf_0(this.buf_0, 2 * this.buf_0.length | 0);
    this.buf_0[tmp$ = this.length_0, this.length_0 = tmp$ + 1 | 0, tmp$] = ch;
  };
  JsonReader.prototype.appendRange_0 = function (source, fromIndex, toIndex) {
    var addLen = toIndex - fromIndex | 0;
    var oldLen = this.length_0;
    var newLen = oldLen + addLen | 0;
    if (newLen > this.buf_0.length)
      this.buf_0 = copyOf_0(this.buf_0, coerceAtLeast(newLen, 2 * this.buf_0.length | 0));
    for (var i = 0; i < addLen; i++)
      this.buf_0[oldLen + i | 0] = source.charCodeAt(fromIndex + i | 0);
    this.length_0 = this.length_0 + addLen | 0;
  };
  JsonReader.prototype.nextToken = function () {
    var source = this.source_0;
    var currentPosition = this.currentPosition;
    while (currentPosition < source.length) {
      var ch = source.charCodeAt(currentPosition);
      var tc = charToTokenClass(ch);
      switch (tc) {
        case 3:
          currentPosition = currentPosition + 1 | 0;
          break;
        case 0:
          this.nextLiteral_0(source, currentPosition);
          return;
        case 1:
          this.nextString_0(source, currentPosition);
          return;
        default:this.tokenPosition_0 = currentPosition;
          this.tokenClass = tc;
          this.currentPosition = currentPosition + 1 | 0;
          return;
      }
    }
    this.tokenPosition_0 = currentPosition;
    this.tokenClass = TC_EOF;
  };
  JsonReader.prototype.nextLiteral_0 = function (source, startPos) {
    this.tokenPosition_0 = startPos;
    this.offset_0 = startPos;
    var currentPosition = startPos;
    while (currentPosition < source.length && charToTokenClass(source.charCodeAt(currentPosition)) === TC_OTHER) {
      currentPosition = currentPosition + 1 | 0;
    }
    this.currentPosition = currentPosition;
    this.length_0 = currentPosition - this.offset_0 | 0;
    this.tokenClass = rangeEquals(source, this.offset_0, this.length_0, NULL) ? TC_NULL : TC_OTHER;
  };
  JsonReader.prototype.nextString_0 = function (source, startPosition) {
    this.tokenPosition_0 = startPosition;
    this.length_0 = 0;
    var currentPosition = startPosition + 1 | 0;
    var lastPosition = currentPosition;
    var length = source.length;
    while (source.charCodeAt(currentPosition) !== STRING) {
      if (currentPosition >= length)
        this.fail_bm4lxs$('Unexpected EOF', currentPosition);
      if (source.charCodeAt(currentPosition) === STRING_ESC) {
        this.appendRange_0(source, lastPosition, currentPosition);
        var newPosition = this.appendEsc_0(source, currentPosition + 1 | 0);
        currentPosition = newPosition;
        lastPosition = newPosition;
      }
       else {
        currentPosition = currentPosition + 1 | 0;
      }
    }
    if (lastPosition === (startPosition + 1 | 0)) {
      this.offset_0 = lastPosition;
      this.length_0 = currentPosition - lastPosition | 0;
    }
     else {
      this.appendRange_0(source, lastPosition, currentPosition);
      this.offset_0 = -1;
    }
    this.currentPosition = currentPosition + 1 | 0;
    this.tokenClass = TC_STRING;
  };
  JsonReader.prototype.appendEsc_0 = function (source, startPosition) {
    var tmp$;
    var currentPosition = startPosition;
    var condition = currentPosition < source.length;
    var position = currentPosition;
    if (!condition) {
      this.fail_bm4lxs$('Unexpected EOF after escape character', position);
    }
    var currentChar = source.charCodeAt((tmp$ = currentPosition, currentPosition = tmp$ + 1 | 0, tmp$));
    if (currentChar === UNICODE_ESC) {
      return this.appendHex_0(source, currentPosition);
    }
    var c = escapeToChar(currentChar | 0);
    var condition_0 = c !== INVALID;
    var position_0 = currentPosition;
    if (!condition_0) {
      this.fail_bm4lxs$("Invalid escaped char '" + String.fromCharCode(currentChar) + "'", position_0);
    }
    this.append_0(c);
    return currentPosition;
  };
  JsonReader.prototype.appendHex_0 = function (source, startPos) {
    var tmp$, tmp$_0, tmp$_1, tmp$_2;
    var curPos = startPos;
    this.append_0(toChar((this.fromHexChar_0(source, (tmp$ = curPos, curPos = tmp$ + 1 | 0, tmp$)) << 12) + (this.fromHexChar_0(source, (tmp$_0 = curPos, curPos = tmp$_0 + 1 | 0, tmp$_0)) << 8) + (this.fromHexChar_0(source, (tmp$_1 = curPos, curPos = tmp$_1 + 1 | 0, tmp$_1)) << 4) + this.fromHexChar_0(source, (tmp$_2 = curPos, curPos = tmp$_2 + 1 | 0, tmp$_2)) | 0));
    return curPos;
  };
  JsonReader.prototype.skipElement = function () {
    if (this.tokenClass !== TC_BEGIN_OBJ && this.tokenClass !== TC_BEGIN_LIST) {
      this.nextToken();
      return;
    }
    var tokenStack = ArrayList_init_0();
    do {
      switch (this.tokenClass) {
        case 8:
        case 6:
          tokenStack.add_11rb$(this.tokenClass);
          break;
        case 9:
          if (last(tokenStack) !== TC_BEGIN_LIST)
            throw new JsonDecodingException(this.currentPosition, 'found ] instead of }');
          tokenStack.removeAt_za3lpa$(tokenStack.size - 1 | 0);
          break;
        case 7:
          if (last(tokenStack) !== TC_BEGIN_OBJ)
            throw new JsonDecodingException(this.currentPosition, 'found } instead of ]');
          tokenStack.removeAt_za3lpa$(tokenStack.size - 1 | 0);
          break;
      }
      this.nextToken();
      var isNotEmpty$result;
      isNotEmpty$result = !tokenStack.isEmpty();
    }
     while (isNotEmpty$result);
  };
  JsonReader.prototype.toString = function () {
    return "JsonReader(source='" + this.source_0 + "', currentPosition=" + this.currentPosition + ', tokenClass=' + this.tokenClass + ', tokenPosition=' + this.tokenPosition_0 + ', offset=' + this.offset_0 + ')';
  };
  JsonReader.prototype.fail_bm4lxs$ = function (message, position) {
    if (position === void 0)
      position = this.currentPosition;
    throw new JsonDecodingException(position, message);
  };
  JsonReader.prototype.require_wqn2ds$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.internal.JsonReader.require_wqn2ds$', function (condition, position, message) {
    if (position === void 0)
      position = this.currentPosition;
    if (!condition)
      this.fail_bm4lxs$(message(), position);
  });
  JsonReader.prototype.fromHexChar_0 = function (source, currentPosition) {
    var tmp$;
    if (!(currentPosition < source.length)) {
      this.fail_bm4lxs$('Unexpected EOF during unicode escape', currentPosition);
    }
    var curChar = source.charCodeAt(currentPosition);
    if ((new CharRange(48, 57)).contains_mef7kx$(curChar))
      tmp$ = (curChar | 0) - 48 | 0;
    else if ((new CharRange(97, 102)).contains_mef7kx$(curChar))
      tmp$ = (curChar | 0) - 97 + 10 | 0;
    else if ((new CharRange(65, 70)).contains_mef7kx$(curChar))
      tmp$ = (curChar | 0) - 65 + 10 | 0;
    else
      tmp$ = this.fail_bm4lxs$("Invalid toHexChar char '" + String.fromCharCode(curChar) + "' in unicode escape");
    return tmp$;
  };
  JsonReader.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonReader', interfaces: []};
  function rangeEquals(source, start, length, str) {
    var n = str.length;
    if (length !== n)
      return false;
    for (var i = 0; i < n; i++)
      if (source.charCodeAt(start + i | 0) !== str.charCodeAt(i))
        return false;
    return true;
  }
  function checkKind(kind) {
    if (Kotlin.isType(kind, UnionKind$ENUM_KIND)) {
      throw IllegalStateException_init("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonConfiguration.useArrayPolymorphism' instead".toString());
    }
    if (Kotlin.isType(kind, PrimitiveKind)) {
      throw IllegalStateException_init("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonConfiguration.useArrayPolymorphism' instead".toString());
    }
    if (Kotlin.isType(kind, UnionKind$POLYMORPHIC)) {
      throw IllegalStateException_init('Actual serializer for polymorphic cannot be polymorphic itself'.toString());
    }
  }
  function decodeSerializableValuePolymorphic($receiver, deserializer) {
    var tmp$, tmp$_0;
    if (!Kotlin.isType(deserializer, PolymorphicSerializer) || $receiver.json.configuration_8be2vx$.useArrayPolymorphism_8be2vx$) {
      return deserializer.deserialize_nts5qn$($receiver);
    }
    var obj = $receiver.decodeJson();
    var tmp$_1;
    if (!Kotlin.isType(obj, JsonObject)) {
      var message = 'Expected ' + getKClass(JsonObject) + ' but found ' + Kotlin.getKClassFromExpression(obj);
      throw IllegalStateException_init(message.toString());
    }
    var jsonTree = Kotlin.isType(tmp$_1 = obj, JsonObject) ? tmp$_1 : throwCCE();
    var type = get_content(getValue(jsonTree, $receiver.json.configuration_8be2vx$.classDiscriminator_8be2vx$));
    (Kotlin.isType(tmp$ = jsonTree.content, MutableMap) ? tmp$ : throwCCE()).remove_11rb$($receiver.json.configuration_8be2vx$.classDiscriminator_8be2vx$);
    var actualSerializer = Kotlin.isType(tmp$_0 = deserializer.findPolymorphicSerializer_b69zac$($receiver, type), KSerializer) ? tmp$_0 : throwCCE();
    return readJson($receiver.json, jsonTree, actualSerializer);
  }
  function StreamingJsonInput(json, mode, reader) {
    ElementValueDecoder.call(this);
    this.json_2ev5c4$_0 = json;
    this.mode_0 = mode;
    this.reader_8be2vx$ = reader;
    this.context_nemf95$_0 = this.json.context;
    this.currentIndex_0 = -1;
    this.configuration_0 = this.json.configuration_8be2vx$;
  }
  Object.defineProperty(StreamingJsonInput.prototype, 'json', {get: function () {
    return this.json_2ev5c4$_0;
  }});
  Object.defineProperty(StreamingJsonInput.prototype, 'context', {get: function () {
    return this.context_nemf95$_0;
  }});
  StreamingJsonInput.prototype.decodeJson = function () {
    return (new JsonParser(this.reader_8be2vx$)).read();
  };
  Object.defineProperty(StreamingJsonInput.prototype, 'updateMode', {get: function () {
    return this.configuration_0.updateMode_8be2vx$;
  }});
  StreamingJsonInput.prototype.decodeSerializableValue_w63s0f$ = function (deserializer) {
    return decodeSerializableValuePolymorphic(this, deserializer);
  };
  StreamingJsonInput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$;
    var newMode = switchMode(this.json, desc);
    if (unboxChar(newMode.begin) !== INVALID) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== newMode.beginTc) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$("Expected '" + String.fromCharCode(unboxChar(newMode.begin)) + ', kind: ' + desc.kind + "'", $this.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
    }
    switch (newMode.name) {
      case 'LIST':
      case 'MAP':
      case 'POLY_OBJ':
        tmp$ = new StreamingJsonInput(this.json, newMode, this.reader_8be2vx$);
        break;
      default:tmp$ = this.mode_0 === newMode ? this : new StreamingJsonInput(this.json, newMode, this.reader_8be2vx$);
        break;
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.endStructure_qatsm0$ = function (desc) {
    if (unboxChar(this.mode_0.end) !== INVALID) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== this.mode_0.endTc) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$("Expected '" + String.fromCharCode(unboxChar(this.mode_0.end)) + "'", $this.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
    }
  };
  StreamingJsonInput.prototype.decodeNotNullMark = function () {
    return this.reader_8be2vx$.tokenClass !== TC_NULL;
  };
  StreamingJsonInput.prototype.decodeNull = function () {
    var $this = this.reader_8be2vx$;
    if ($this.tokenClass !== TC_NULL) {
      toBoxedChar(toChar($this.tokenClass));
      $this.fail_bm4lxs$("Expected 'null' literal", $this.tokenPosition_0);
    }
    this.reader_8be2vx$.nextToken();
    return null;
  };
  StreamingJsonInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    var tmp$;
    var tokenClass = this.reader_8be2vx$.tokenClass;
    if (tokenClass === TC_COMMA) {
      var $this = this.reader_8be2vx$;
      var condition = this.currentIndex_0 !== -1;
      var position = this.reader_8be2vx$.currentPosition;
      if (!condition) {
        $this.fail_bm4lxs$('Unexpected leading comma', position);
      }
      this.reader_8be2vx$.nextToken();
    }
    switch (this.mode_0.name) {
      case 'LIST':
        tmp$ = this.decodeListIndex_0(tokenClass);
        break;
      case 'MAP':
        tmp$ = this.decodeMapIndex_0(tokenClass);
        break;
      case 'POLY_OBJ':
        switch (this.currentIndex_0 = this.currentIndex_0 + 1 | 0, this.currentIndex_0) {
          case 0:
            tmp$ = 0;
            break;
          case 1:
            tmp$ = 1;
            break;
          default:tmp$ = -1;
            break;
        }

        break;
      default:tmp$ = this.decodeObjectIndex_0(tokenClass, desc);
        break;
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.decodeMapIndex_0 = function (tokenClass) {
    var tmp$;
    if (tokenClass !== TC_COMMA && this.currentIndex_0 % 2 === 1) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== TC_END_OBJ) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$('Expected end of the object or comma', $this.tokenPosition_0);
      }
    }
    if (this.currentIndex_0 % 2 === 0) {
      var $this_0 = this.reader_8be2vx$;
      if ($this_0.tokenClass !== TC_COLON) {
        toBoxedChar(toChar($this_0.tokenClass));
        $this_0.fail_bm4lxs$("Expected ':' after the key", $this_0.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
    }
    if (!this.reader_8be2vx$.canBeginValue) {
      var $this_1 = this.reader_8be2vx$;
      var condition = tokenClass !== TC_COMMA;
      var position;
      position = $this_1.currentPosition;
      if (!condition) {
        $this_1.fail_bm4lxs$('Unexpected trailing comma', position);
      }
      tmp$ = -1;
    }
     else {
      tmp$ = (this.currentIndex_0 = this.currentIndex_0 + 1 | 0, this.currentIndex_0);
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.decodeObjectIndex_0 = function (tokenClass, desc) {
    if (tokenClass === TC_COMMA && !this.reader_8be2vx$.canBeginValue) {
      this.reader_8be2vx$.fail_bm4lxs$('Unexpected trailing comma');
    }
    while (this.reader_8be2vx$.canBeginValue) {
      this.currentIndex_0 = this.currentIndex_0 + 1 | 0;
      var key = this.reader_8be2vx$.takeString();
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== TC_COLON) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$("Expected ':'", $this.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
      var index = desc.getElementIndex_61zpoe$(key);
      if (index !== -3) {
        return index;
      }
      if (this.configuration_0.strictMode_8be2vx$)
        this.reader_8be2vx$.fail_bm4lxs$('Encountered an unknown key ' + key);
      else
        this.reader_8be2vx$.skipElement();
      if (this.reader_8be2vx$.tokenClass === TC_COMMA) {
        this.reader_8be2vx$.nextToken();
        var $this_0 = this.reader_8be2vx$;
        var condition = this.reader_8be2vx$.canBeginValue;
        var position = this.reader_8be2vx$.currentPosition;
        if (!condition) {
          $this_0.fail_bm4lxs$('Unexpected trailing comma', position);
        }
      }
    }
    return -1;
  };
  StreamingJsonInput.prototype.decodeListIndex_0 = function (tokenClass) {
    var tmp$;
    if (tokenClass !== TC_COMMA && this.currentIndex_0 !== -1) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== TC_END_LIST) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$('Expected end of the array or comma', $this.tokenPosition_0);
      }
    }
    if (!this.reader_8be2vx$.canBeginValue) {
      var $this_0 = this.reader_8be2vx$;
      var condition = tokenClass !== TC_COMMA;
      var position;
      position = $this_0.currentPosition;
      if (!condition) {
        $this_0.fail_bm4lxs$('Unexpected trailing comma', position);
      }
      tmp$ = -1;
    }
     else {
      tmp$ = (this.currentIndex_0 = this.currentIndex_0 + 1 | 0, this.currentIndex_0);
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.decodeBoolean = function () {
    var $receiver = this.reader_8be2vx$.takeString();
    return this.configuration_0.strictMode_8be2vx$ ? toBooleanStrict($receiver) : toBoolean($receiver);
  };
  StreamingJsonInput.prototype.decodeByte = function () {
    return toByte_0(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeShort = function () {
    return toShort_0(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeInt = function () {
    return toInt(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeLong = function () {
    return toLong(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeFloat = function () {
    return toDouble(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeDouble = function () {
    return toDouble(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeChar = function () {
    return toBoxedChar(single(this.reader_8be2vx$.takeString()));
  };
  StreamingJsonInput.prototype.decodeString = function () {
    return this.reader_8be2vx$.takeString();
  };
  StreamingJsonInput.prototype.decodeEnum_w849qs$ = function (enumDescription) {
    return getElementIndexOrThrow(enumDescription, this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'StreamingJsonInput', interfaces: [ElementValueDecoder, JsonInput]};
  function StreamingJsonOutput(composer, json, mode, modeReuseCache) {
    ElementValueEncoder.call(this);
    this.composer_0 = composer;
    this.json_lpdodt$_0 = json;
    this.mode_0 = mode;
    this.modeReuseCache_0 = modeReuseCache;
    this.context_41jdqm$_0 = this.json.context;
    this.configuration_0 = this.json.configuration_8be2vx$;
    this.forceQuoting_0 = false;
    this.writePolymorphic_0 = false;
    var i = this.mode_0.ordinal;
    if (this.modeReuseCache_0[i] !== null || this.modeReuseCache_0[i] !== this)
      this.modeReuseCache_0[i] = this;
  }
  Object.defineProperty(StreamingJsonOutput.prototype, 'json', {get: function () {
    return this.json_lpdodt$_0;
  }});
  Object.defineProperty(StreamingJsonOutput.prototype, 'context', {get: function () {
    return this.context_41jdqm$_0;
  }});
  StreamingJsonOutput.prototype.encodeJson_qiw0cd$ = function (element) {
    this.encodeSerializableValue_tf03ej$(JsonElementSerializer_getInstance(), element);
  };
  StreamingJsonOutput.prototype.shouldEncodeElementDefault_3zr2iy$ = function (desc, index) {
    return this.configuration_0.encodeDefaults_8be2vx$;
  };
  StreamingJsonOutput.prototype.encodeSerializableValue_tf03ej$ = function (serializer, value) {
    encodePolymorphically$break: do {
      var tmp$, tmp$_0;
      if (!Kotlin.isType(serializer, PolymorphicSerializer) || this.json.configuration_8be2vx$.useArrayPolymorphism_8be2vx$) {
        serializer.serialize_awe97i$(this, value);
        break encodePolymorphically$break;
      }
      var actualSerializer = Kotlin.isType(tmp$_0 = serializer.findPolymorphicSerializer_9v08u4$(this, Kotlin.isType(tmp$ = value, Any) ? tmp$ : throwCCE()), KSerializer) ? tmp$_0 : throwCCE();
      var kind = actualSerializer.descriptor.kind;
      checkKind(kind);
      this.writePolymorphic_0 = true;
      actualSerializer.serialize_awe97i$(this, value);
    }
     while (false);
  };
  StreamingJsonOutput.prototype.encodeTypeInfo_0 = function (descriptor) {
    this.composer_0.nextItem();
    this.encodeString_61zpoe$(this.configuration_0.classDiscriminator_8be2vx$);
    this.composer_0.print_s8itvh$(COLON);
    this.composer_0.space();
    this.encodeString_61zpoe$(descriptor.name);
  };
  StreamingJsonOutput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$;
    var newMode = switchMode(this.json, desc);
    if (unboxChar(newMode.begin) !== INVALID) {
      this.composer_0.print_s8itvh$(unboxChar(newMode.begin));
      this.composer_0.indent();
    }
    if (this.writePolymorphic_0) {
      this.writePolymorphic_0 = false;
      this.encodeTypeInfo_0(desc);
    }
    if (this.mode_0 === newMode) {
      return this;
    }
    return (tmp$ = this.modeReuseCache_0[newMode.ordinal]) != null ? tmp$ : new StreamingJsonOutput(this.composer_0, this.json, newMode, this.modeReuseCache_0);
  };
  StreamingJsonOutput.prototype.endStructure_qatsm0$ = function (desc) {
    if (unboxChar(this.mode_0.end) !== INVALID) {
      this.composer_0.unIndent();
      this.composer_0.nextItem();
      this.composer_0.print_s8itvh$(unboxChar(this.mode_0.end));
    }
  };
  StreamingJsonOutput.prototype.encodeElement_3zr2iy$ = function (desc, index) {
    switch (this.mode_0.name) {
      case 'LIST':
        if (!this.composer_0.writingFirst)
          this.composer_0.print_s8itvh$(COMMA);
        this.composer_0.nextItem();
        break;
      case 'MAP':
        if (!this.composer_0.writingFirst) {
          if (index % 2 === 0) {
            this.composer_0.print_s8itvh$(COMMA);
            this.composer_0.nextItem();
            this.forceQuoting_0 = true;
          }
           else {
            this.composer_0.print_s8itvh$(COLON);
            this.composer_0.space();
            this.forceQuoting_0 = false;
          }
        }
         else {
          this.forceQuoting_0 = true;
          this.composer_0.nextItem();
        }

        break;
      case 'POLY_OBJ':
        if (index === 0)
          this.forceQuoting_0 = true;
        if (index === 1) {
          this.composer_0.print_s8itvh$(COMMA);
          this.composer_0.space();
          this.forceQuoting_0 = false;
        }

        break;
      default:if (!this.composer_0.writingFirst)
          this.composer_0.print_s8itvh$(COMMA);
        this.composer_0.nextItem();
        this.encodeString_61zpoe$(desc.getElementName_za3lpa$(index));
        this.composer_0.print_s8itvh$(COLON);
        this.composer_0.space();
        break;
    }
    return true;
  };
  StreamingJsonOutput.prototype.encodeNull = function () {
    this.composer_0.print_61zpoe$(NULL);
  };
  StreamingJsonOutput.prototype.encodeBoolean_6taknv$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_6taknv$(value);
  };
  StreamingJsonOutput.prototype.encodeByte_s8j3t7$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_s8j3t7$(value);
  };
  StreamingJsonOutput.prototype.encodeShort_mq22fl$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_mq22fl$(value);
  };
  StreamingJsonOutput.prototype.encodeInt_za3lpa$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_za3lpa$(value);
  };
  StreamingJsonOutput.prototype.encodeLong_s8cxhz$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_s8cxhz$(value);
  };
  StreamingJsonOutput.prototype.encodeFloat_mx4ult$ = function (value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite(value)) {
      throw InvalidFloatingPoint(value, 'float');
    }
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_mx4ult$(value);
  };
  StreamingJsonOutput.prototype.encodeDouble_14dthe$ = function (value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite_0(value)) {
      throw InvalidFloatingPoint(value, 'double');
    }
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_14dthe$(value);
  };
  StreamingJsonOutput.prototype.encodeChar_s8itvh$ = function (value) {
    this.encodeString_61zpoe$(String.fromCharCode(value));
  };
  StreamingJsonOutput.prototype.encodeString_61zpoe$ = function (value) {
    if (this.configuration_0.unquoted_8be2vx$ && !shouldBeQuoted(value)) {
      this.composer_0.print_61zpoe$(value);
    }
     else {
      this.composer_0.printQuoted_61zpoe$(value);
    }
  };
  StreamingJsonOutput.prototype.encodeEnum_39yahq$ = function (enumDescription, ordinal) {
    this.encodeString_61zpoe$(enumDescription.getElementName_za3lpa$(ordinal));
  };
  StreamingJsonOutput.prototype.encodeValue_za3rmp$ = function (value) {
    if (this.configuration_0.strictMode_8be2vx$)
      ElementValueEncoder.prototype.encodeValue_za3rmp$.call(this, value);
    else
      this.encodeString_61zpoe$(value.toString());
  };
  function StreamingJsonOutput$Composer(sb, json) {
    this.sb_8be2vx$ = sb;
    this.json_0 = json;
    this.level_0 = 0;
    this.writingFirst_uw5fqz$_0 = true;
  }
  Object.defineProperty(StreamingJsonOutput$Composer.prototype, 'writingFirst', {get: function () {
    return this.writingFirst_uw5fqz$_0;
  }, set: function (writingFirst) {
    this.writingFirst_uw5fqz$_0 = writingFirst;
  }});
  StreamingJsonOutput$Composer.prototype.indent = function () {
    this.writingFirst = true;
    this.level_0 = this.level_0 + 1 | 0;
  };
  StreamingJsonOutput$Composer.prototype.unIndent = function () {
    this.level_0 = this.level_0 - 1 | 0;
  };
  StreamingJsonOutput$Composer.prototype.nextItem = function () {
    this.writingFirst = false;
    if (this.json_0.configuration_8be2vx$.prettyPrint_8be2vx$) {
      this.print_61zpoe$('\n');
      var times = this.level_0;
      for (var index = 0; index < times; index++) {
        this.print_61zpoe$(this.json_0.configuration_8be2vx$.indent_8be2vx$);
      }
    }
  };
  StreamingJsonOutput$Composer.prototype.space = function () {
    if (this.json_0.configuration_8be2vx$.prettyPrint_8be2vx$)
      this.print_s8itvh$(32);
  };
  StreamingJsonOutput$Composer.prototype.print_s8itvh$ = function (v) {
    return this.sb_8be2vx$.append_s8itvh$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_61zpoe$ = function (v) {
    return this.sb_8be2vx$.append_gw00v9$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_mx4ult$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_14dthe$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_s8j3t7$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_mq22fl$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_za3lpa$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_s8cxhz$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_6taknv$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.printQuoted_61zpoe$ = function (value) {
    printQuoted(this.sb_8be2vx$, value);
  };
  StreamingJsonOutput$Composer.$metadata$ = {kind: Kind_CLASS, simpleName: 'Composer', interfaces: []};
  StreamingJsonOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'StreamingJsonOutput', interfaces: [ElementValueEncoder, JsonOutput]};
  function StreamingJsonOutput_init(output, json, mode, modeReuseCache, $this) {
    $this = $this || Object.create(StreamingJsonOutput.prototype);
    StreamingJsonOutput.call($this, new StreamingJsonOutput$Composer(output, json), json, mode, modeReuseCache);
    return $this;
  }
  function toHexChar(i) {
    var d = i & 15;
    return d < 10 ? toChar(d + 48 | 0) : toChar(d - 10 + 97 | 0);
  }
  var ESCAPE_CHARS;
  function printQuoted($receiver, value) {
    var tmp$;
    $receiver.append_s8itvh$(STRING);
    var lastPos = 0;
    var length = value.length;
    for (var i = 0; i < length; i++) {
      var c = value.charCodeAt(i) | 0;
      if (c >= ESCAPE_CHARS.length)
        continue;
      tmp$ = ESCAPE_CHARS[c];
      if (tmp$ == null) {
        continue;
      }
      var esc = tmp$;
      $receiver.append_ezbsdh$(value, lastPos, i);
      $receiver.append_gw00v9$(esc);
      lastPos = i + 1 | 0;
    }
    $receiver.append_ezbsdh$(value, lastPos, length);
    $receiver.append_s8itvh$(STRING);
  }
  function toBooleanStrict($receiver) {
    var tmp$;
    tmp$ = toBooleanStrictOrNull($receiver);
    if (tmp$ == null) {
      throw IllegalStateException_init($receiver + ' does not represent a Boolean');
    }
    return tmp$;
  }
  function toBooleanStrictOrNull($receiver) {
    if (equals_0($receiver, 'true', true))
      return true;
    else if (equals_0($receiver, 'false', true))
      return false;
    else
      return null;
  }
  function shouldBeQuoted(str) {
    var tmp$;
    if (equals(str, NULL))
      return true;
    tmp$ = iterator(str);
    while (tmp$.hasNext()) {
      var ch = unboxChar(tmp$.next());
      if (charToTokenClass(ch) !== TC_OTHER)
        return true;
    }
    return false;
  }
  function readJson($receiver, element, deserializer) {
    var tmp$, tmp$_0;
    if (Kotlin.isType(element, JsonObject))
      tmp$_0 = new JsonTreeInput($receiver, element);
    else if (Kotlin.isType(element, JsonArray))
      tmp$_0 = new JsonTreeListInput($receiver, element);
    else if (Kotlin.isType(element, JsonLiteral) || equals(element, JsonNull_getInstance())) {
      tmp$_0 = new JsonPrimitiveInput($receiver, Kotlin.isType(tmp$ = element, JsonPrimitive) ? tmp$ : throwCCE());
    }
     else
      tmp$_0 = Kotlin.noWhenBranchMatched();
    var input = tmp$_0;
    return decode_0(input, deserializer);
  }
  function AbstractJsonTreeInput(json, obj) {
    NamedValueDecoder.call(this);
    this.json_sa61ty$_0 = json;
    this.obj_gyc2sv$_0 = obj;
    this.configuration_0 = this.json.configuration_8be2vx$;
  }
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'json', {get: function () {
    return this.json_sa61ty$_0;
  }});
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'obj', {get: function () {
    return this.obj_gyc2sv$_0;
  }});
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'context', {get: function () {
    return this.json.context;
  }});
  AbstractJsonTreeInput.prototype.currentObject_0 = function () {
    var tmp$, tmp$_0;
    return (tmp$_0 = (tmp$ = this.currentTagOrNull) != null ? this.currentElement_61zpoe$(tmp$) : null) != null ? tmp$_0 : this.obj;
  };
  AbstractJsonTreeInput.prototype.decodeJson = function () {
    return this.currentObject_0();
  };
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'updateMode', {get: function () {
    return this.configuration_0.updateMode_8be2vx$;
  }});
  AbstractJsonTreeInput.prototype.decodeSerializableValue_w63s0f$ = function (deserializer) {
    return decodeSerializableValuePolymorphic(this, deserializer);
  };
  AbstractJsonTreeInput.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return childName;
  };
  AbstractJsonTreeInput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$, tmp$_0;
    var currentObject = this.currentObject_0();
    tmp$ = desc.kind;
    if (equals(tmp$, StructureKind$LIST_getInstance()) || equals(tmp$, UnionKind$POLYMORPHIC_getInstance())) {
      var tmp$_1 = this.json;
      var tmp$_2;
      if (!Kotlin.isType(currentObject, JsonArray)) {
        var message = 'Expected ' + getKClass(JsonArray) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
        throw IllegalStateException_init(message.toString());
      }
      tmp$_0 = new JsonTreeListInput(tmp$_1, Kotlin.isType(tmp$_2 = currentObject, JsonArray) ? tmp$_2 : throwCCE());
    }
     else if (equals(tmp$, StructureKind$MAP_getInstance())) {
      var $receiver = this.json;
      var tmp$_3;
      var keyDescriptor = desc.getElementDescriptor_za3lpa$(0);
      var keyKind = keyDescriptor.kind;
      if (Kotlin.isType(keyKind, PrimitiveKind) || equals(keyKind, UnionKind.ENUM_KIND)) {
        var tmp$_4 = this.json;
        var tmp$_5;
        if (!Kotlin.isType(currentObject, JsonObject)) {
          var message_0 = 'Expected ' + getKClass(JsonObject) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
          throw IllegalStateException_init(message_0.toString());
        }
        tmp$_3 = new JsonTreeMapInput(tmp$_4, Kotlin.isType(tmp$_5 = currentObject, JsonObject) ? tmp$_5 : throwCCE());
      }
       else if ($receiver.configuration_8be2vx$.allowStructuredMapKeys_8be2vx$) {
        var tmp$_6 = this.json;
        var tmp$_7;
        if (!Kotlin.isType(currentObject, JsonArray)) {
          var message_1 = 'Expected ' + getKClass(JsonArray) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
          throw IllegalStateException_init(message_1.toString());
        }
        tmp$_3 = new JsonTreeListInput(tmp$_6, Kotlin.isType(tmp$_7 = currentObject, JsonArray) ? tmp$_7 : throwCCE());
      }
       else {
        throw JsonMapInvalidKeyKind(keyDescriptor);
      }
      tmp$_0 = tmp$_3;
    }
     else {
      var tmp$_8 = this.json;
      var tmp$_9;
      if (!Kotlin.isType(currentObject, JsonObject)) {
        var message_2 = 'Expected ' + getKClass(JsonObject) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
        throw IllegalStateException_init(message_2.toString());
      }
      tmp$_0 = new JsonTreeInput(tmp$_8, Kotlin.isType(tmp$_9 = currentObject, JsonObject) ? tmp$_9 : throwCCE());
    }
    return tmp$_0;
  };
  AbstractJsonTreeInput.prototype.getValue_61zpoe$ = function (tag) {
    var tmp$, tmp$_0;
    var currentElement = this.currentElement_61zpoe$(tag);
    tmp$_0 = Kotlin.isType(tmp$ = currentElement, JsonPrimitive) ? tmp$ : null;
    if (tmp$_0 == null) {
      throw new JsonDecodingException(-1, 'Expected JsonPrimitive at ' + tag + ', found ' + currentElement);
    }
    return tmp$_0;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedChar_11rb$ = function (tag) {
    var tmp$;
    var o = this.getValue_61zpoe$(tag);
    if (o.content.length === 1)
      tmp$ = o.content.charCodeAt(0);
    else
      throw new SerializationException(o.toString() + " can't be represented as Char");
    return toBoxedChar(tmp$);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedEnum_wc8hrb$ = function (tag, enumDescription) {
    return getElementIndexOrThrow(enumDescription, this.getValue_61zpoe$(tag).content);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedNull_11rb$ = function (tag) {
    return null;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedNotNullMark_11rb$ = function (tag) {
    return this.currentElement_61zpoe$(tag) !== JsonNull_getInstance();
  };
  AbstractJsonTreeInput.prototype.decodeTaggedUnit_11rb$ = function (tag) {
    return;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedBoolean_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).boolean;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedByte_11rb$ = function (tag) {
    return toByte(this.getValue_61zpoe$(tag).int);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedShort_11rb$ = function (tag) {
    return toShort(this.getValue_61zpoe$(tag).int);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedInt_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).int;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedLong_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).long;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedFloat_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).float;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedDouble_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).double;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedString_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).content;
  };
  AbstractJsonTreeInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractJsonTreeInput', interfaces: [JsonInput, NamedValueDecoder]};
  function JsonPrimitiveInput(json, obj) {
    AbstractJsonTreeInput.call(this, json, obj);
    this.obj_dqj0pm$_0 = obj;
    this.pushTag_11rb$(PRIMITIVE_TAG);
  }
  Object.defineProperty(JsonPrimitiveInput.prototype, 'obj', {get: function () {
    return this.obj_dqj0pm$_0;
  }});
  JsonPrimitiveInput.prototype.currentElement_61zpoe$ = function (tag) {
    if (!(tag === PRIMITIVE_TAG)) {
      var message = "This input can only handle primitives with 'primitive' tag";
      throw IllegalArgumentException_init(message.toString());
    }
    return this.obj;
  };
  JsonPrimitiveInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonPrimitiveInput', interfaces: [AbstractJsonTreeInput]};
  function JsonTreeInput(json, obj) {
    AbstractJsonTreeInput.call(this, json, obj);
    this.obj_piko0j$_0 = obj;
    this.position_0 = 0;
  }
  Object.defineProperty(JsonTreeInput.prototype, 'obj', {get: function () {
    return this.obj_piko0j$_0;
  }});
  JsonTreeInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    var tmp$;
    while (this.position_0 < desc.elementsCount) {
      var name = this.getTag_m47q6f$(desc, (tmp$ = this.position_0, this.position_0 = tmp$ + 1 | 0, tmp$));
      var $receiver = this.obj;
      var tmp$_0;
      if ((Kotlin.isType(tmp$_0 = $receiver, Map) ? tmp$_0 : throwCCE()).containsKey_11rb$(name)) {
        return this.position_0 - 1 | 0;
      }
    }
    return -1;
  };
  JsonTreeInput.prototype.currentElement_61zpoe$ = function (tag) {
    return getValue(this.obj, tag);
  };
  JsonTreeInput.prototype.endStructure_qatsm0$ = function (desc) {
    var tmp$, tmp$_0;
    if (!this.configuration_0.strictMode_8be2vx$ || Kotlin.isType(desc, PolymorphicClassDescriptor))
      return;
    var names = HashSet_init_1(desc.elementsCount);
    tmp$ = desc.elementsCount;
    for (var i = 0; i < tmp$; i++) {
      var element = desc.getElementName_za3lpa$(i);
      names.add_11rb$(element);
    }
    tmp$_0 = this.obj.keys.iterator();
    while (tmp$_0.hasNext()) {
      var key = tmp$_0.next();
      if (!names.contains_11rb$(key))
        throw jsonUnknownKeyException(-1, key);
    }
  };
  JsonTreeInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeInput', interfaces: [AbstractJsonTreeInput]};
  function JsonTreeMapInput(json, obj) {
    JsonTreeInput.call(this, json, obj);
    this.obj_reg7od$_0 = obj;
    this.keys_0 = toList(this.obj.keys);
    this.size_0 = this.keys_0.size * 2 | 0;
    this.position_1 = -1;
  }
  Object.defineProperty(JsonTreeMapInput.prototype, 'obj', {get: function () {
    return this.obj_reg7od$_0;
  }});
  JsonTreeMapInput.prototype.elementName_3zr2iy$ = function (desc, index) {
    var i = index / 2 | 0;
    return this.keys_0.get_za3lpa$(i);
  };
  JsonTreeMapInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    while (this.position_1 < (this.size_0 - 1 | 0)) {
      this.position_1 = this.position_1 + 1 | 0;
      return this.position_1;
    }
    return -1;
  };
  JsonTreeMapInput.prototype.currentElement_61zpoe$ = function (tag) {
    return this.position_1 % 2 === 0 ? JsonLiteral_init_1(tag) : getValue(this.obj, tag);
  };
  JsonTreeMapInput.prototype.endStructure_qatsm0$ = function (desc) {
  };
  JsonTreeMapInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeMapInput', interfaces: [JsonTreeInput]};
  function JsonTreeListInput(json, obj) {
    AbstractJsonTreeInput.call(this, json, obj);
    this.obj_el7e51$_0 = obj;
    this.size_0 = this.obj.content.size;
    this.currentIndex_0 = -1;
  }
  Object.defineProperty(JsonTreeListInput.prototype, 'obj', {get: function () {
    return this.obj_el7e51$_0;
  }});
  JsonTreeListInput.prototype.elementName_3zr2iy$ = function (desc, index) {
    return index.toString();
  };
  JsonTreeListInput.prototype.currentElement_61zpoe$ = function (tag) {
    return this.obj.get_za3lpa$(toInt(tag));
  };
  JsonTreeListInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    while (this.currentIndex_0 < (this.size_0 - 1 | 0)) {
      this.currentIndex_0 = this.currentIndex_0 + 1 | 0;
      return this.currentIndex_0;
    }
    return -1;
  };
  JsonTreeListInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeListInput', interfaces: [AbstractJsonTreeInput]};
  function writeJson$lambda(closure$result) {
    return function (it) {
      closure$result.v = it;
      return Unit;
    };
  }
  function writeJson($receiver, value, serializer) {
    var result = {v: null};
    var encoder = new JsonTreeOutput($receiver, writeJson$lambda(result));
    encode_0(encoder, serializer, value);
    return result.v == null ? throwUPAE('result') : result.v;
  }
  function AbstractJsonTreeOutput(json, nodeConsumer) {
    NamedValueEncoder.call(this);
    this.json_138ar7$_0 = json;
    this.nodeConsumer = nodeConsumer;
    this.configuration_0 = this.json.configuration_8be2vx$;
    this.writePolymorphic_0 = false;
  }
  Object.defineProperty(AbstractJsonTreeOutput.prototype, 'json', {get: function () {
    return this.json_138ar7$_0;
  }});
  Object.defineProperty(AbstractJsonTreeOutput.prototype, 'context', {get: function () {
    return this.json.context;
  }});
  AbstractJsonTreeOutput.prototype.encodeJson_qiw0cd$ = function (element) {
    this.encodeSerializableValue_tf03ej$(JsonElementSerializer_getInstance(), element);
  };
  AbstractJsonTreeOutput.prototype.shouldEncodeElementDefault_3zr2iy$ = function (desc, index) {
    return this.configuration_0.encodeDefaults_8be2vx$;
  };
  AbstractJsonTreeOutput.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return childName;
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedNull_11rb$ = function (tag) {
    this.putElement_zafu29$(tag, JsonNull_getInstance());
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedInt_dpg1yx$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedByte_19qe40$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedShort_veccj0$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedLong_19wkf8$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedFloat_vlf4p8$ = function (tag, value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite(value)) {
      throw InvalidFloatingPoint_0(value, tag, 'float');
    }
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeSerializableValue_tf03ej$ = function (serializer, value) {
    if (this.currentTagOrNull != null || (!Kotlin.isType(serializer.descriptor.kind, PrimitiveKind) && serializer.descriptor.kind !== UnionKind$ENUM_KIND_getInstance())) {
      encodePolymorphically$break: do {
        var tmp$, tmp$_0;
        if (!Kotlin.isType(serializer, PolymorphicSerializer) || this.json.configuration_8be2vx$.useArrayPolymorphism_8be2vx$) {
          serializer.serialize_awe97i$(this, value);
          break encodePolymorphically$break;
        }
        var actualSerializer = Kotlin.isType(tmp$_0 = serializer.findPolymorphicSerializer_9v08u4$(this, Kotlin.isType(tmp$ = value, Any) ? tmp$ : throwCCE()), KSerializer) ? tmp$_0 : throwCCE();
        var kind = actualSerializer.descriptor.kind;
        checkKind(kind);
        this.writePolymorphic_0 = true;
        actualSerializer.serialize_awe97i$(this, value);
      }
       while (false);
    }
     else {
      var $receiver = new JsonPrimitiveOutput(this.json, this.nodeConsumer);
      $receiver.encodeSerializableValue_tf03ej$(serializer, value);
      $receiver.endEncode_qatsm0$(serializer.descriptor);
    }
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedDouble_e37ph5$ = function (tag, value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite_0(value)) {
      throw InvalidFloatingPoint_0(value, tag, 'double');
    }
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedBoolean_iuyhfk$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_0(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedChar_19qo1q$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(String.fromCharCode(value)));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedString_l9l8mx$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedEnum_g3arax$ = function (tag, enumDescription, ordinal) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(enumDescription.getElementName_za3lpa$(ordinal)));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedValue_dpg7wc$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(value.toString()));
  };
  function AbstractJsonTreeOutput$beginStructure$lambda(this$AbstractJsonTreeOutput) {
    return function (node) {
      this$AbstractJsonTreeOutput.putElement_zafu29$(this$AbstractJsonTreeOutput.currentTag, node);
      return Unit;
    };
  }
  AbstractJsonTreeOutput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$, tmp$_0;
    var consumer = this.currentTagOrNull == null ? this.nodeConsumer : AbstractJsonTreeOutput$beginStructure$lambda(this);
    tmp$ = desc.kind;
    if (equals(tmp$, StructureKind$LIST_getInstance()) || equals(tmp$, UnionKind$POLYMORPHIC_getInstance()))
      tmp$_0 = new JsonTreeListOutput(this.json, consumer);
    else if (equals(tmp$, StructureKind$MAP_getInstance())) {
      var $receiver = this.json;
      var tmp$_1;
      var keyDescriptor = desc.getElementDescriptor_za3lpa$(0);
      var keyKind = keyDescriptor.kind;
      if (Kotlin.isType(keyKind, PrimitiveKind) || equals(keyKind, UnionKind.ENUM_KIND)) {
        tmp$_1 = new JsonTreeMapOutput(this.json, consumer);
      }
       else if ($receiver.configuration_8be2vx$.allowStructuredMapKeys_8be2vx$) {
        tmp$_1 = new JsonTreeListOutput(this.json, consumer);
      }
       else {
        throw JsonMapInvalidKeyKind(keyDescriptor);
      }
      tmp$_0 = tmp$_1;
    }
     else
      tmp$_0 = new JsonTreeOutput(this.json, consumer);
    var encoder = tmp$_0;
    if (this.writePolymorphic_0) {
      this.writePolymorphic_0 = false;
      encoder.putElement_zafu29$(this.configuration_0.classDiscriminator_8be2vx$, JsonPrimitive_2(desc.name));
    }
    return encoder;
  };
  AbstractJsonTreeOutput.prototype.endEncode_qatsm0$ = function (desc) {
    this.nodeConsumer(this.getCurrent());
  };
  AbstractJsonTreeOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractJsonTreeOutput', interfaces: [JsonOutput, NamedValueEncoder]};
  var PRIMITIVE_TAG;
  function JsonPrimitiveOutput(json, nodeConsumer) {
    AbstractJsonTreeOutput.call(this, json, nodeConsumer);
    this.content_0 = null;
    this.pushTag_11rb$(PRIMITIVE_TAG);
  }
  JsonPrimitiveOutput.prototype.putElement_zafu29$ = function (key, element) {
    if (!(key === PRIMITIVE_TAG)) {
      var message = "This output can only consume primitives with 'primitive' tag";
      throw IllegalArgumentException_init(message.toString());
    }
    if (!(this.content_0 == null)) {
      var message_0 = 'Primitive element was already recorded. Does call to .encodeXxx happen more than once?';
      throw IllegalArgumentException_init(message_0.toString());
    }
    this.content_0 = element;
  };
  JsonPrimitiveOutput.prototype.getCurrent = function () {
    var value = this.content_0;
    var requireNotNull$result;
    if (value == null) {
      var message = 'Primitive element has not been recorded. Is call to .encodeXxx is missing in serializer?';
      throw IllegalArgumentException_init(message.toString());
    }
     else {
      requireNotNull$result = value;
    }
    return requireNotNull$result;
  };
  JsonPrimitiveOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonPrimitiveOutput', interfaces: [AbstractJsonTreeOutput]};
  function JsonTreeOutput(json, nodeConsumer) {
    AbstractJsonTreeOutput.call(this, json, nodeConsumer);
    this.content_0 = LinkedHashMap_init();
  }
  JsonTreeOutput.prototype.putElement_zafu29$ = function (key, element) {
    this.content_0.put_xwzc9p$(key, element);
  };
  JsonTreeOutput.prototype.getCurrent = function () {
    return new JsonObject(this.content_0);
  };
  JsonTreeOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeOutput', interfaces: [AbstractJsonTreeOutput]};
  function JsonTreeMapOutput(json, nodeConsumer) {
    JsonTreeOutput.call(this, json, nodeConsumer);
    this.tag_5cp6c7$_0 = this.tag_5cp6c7$_0;
  }
  Object.defineProperty(JsonTreeMapOutput.prototype, 'tag_0', {get: function () {
    if (this.tag_5cp6c7$_0 == null)
      return throwUPAE('tag');
    return this.tag_5cp6c7$_0;
  }, set: function (tag) {
    this.tag_5cp6c7$_0 = tag;
  }});
  JsonTreeMapOutput.prototype.putElement_zafu29$ = function (key, element) {
    var tmp$;
    var idx = toInt(key);
    if (idx % 2 === 0) {
      if (Kotlin.isType(element, JsonPrimitive))
        tmp$ = element.content;
      else if (Kotlin.isType(element, JsonObject))
        throw JsonMapInvalidKeyKind(JsonObjectSerializer_getInstance().descriptor);
      else if (Kotlin.isType(element, JsonArray))
        throw JsonMapInvalidKeyKind(JsonArraySerializer_getInstance().descriptor);
      else
        tmp$ = Kotlin.noWhenBranchMatched();
      this.tag_0 = tmp$;
    }
     else {
      var $receiver = this.content_0;
      var key_0 = this.tag_0;
      $receiver.put_xwzc9p$(key_0, element);
    }
  };
  JsonTreeMapOutput.prototype.getCurrent = function () {
    return new JsonObject(this.content_0);
  };
  JsonTreeMapOutput.prototype.shouldWriteElement_a5qihn$ = function (desc, tag, index) {
    return true;
  };
  JsonTreeMapOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeMapOutput', interfaces: [JsonTreeOutput]};
  function JsonTreeListOutput(json, nodeConsumer) {
    AbstractJsonTreeOutput.call(this, json, nodeConsumer);
    this.array_0 = ArrayList_init_0();
  }
  JsonTreeListOutput.prototype.elementName_3zr2iy$ = function (desc, index) {
    return index.toString();
  };
  JsonTreeListOutput.prototype.shouldWriteElement_a5qihn$ = function (desc, tag, index) {
    return true;
  };
  JsonTreeListOutput.prototype.putElement_zafu29$ = function (key, element) {
    var idx = toInt(key);
    this.array_0.add_wxm5ur$(idx, element);
  };
  JsonTreeListOutput.prototype.getCurrent = function () {
    return new JsonArray(this.array_0);
  };
  JsonTreeListOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeListOutput', interfaces: [AbstractJsonTreeOutput]};
  function WriteMode(name, ordinal, begin, end) {
    Enum.call(this);
    this.begin = toBoxedChar(begin);
    this.end = toBoxedChar(end);
    this.name$ = name;
    this.ordinal$ = ordinal;
    this.beginTc = charToTokenClass(unboxChar(this.begin));
    this.endTc = charToTokenClass(unboxChar(this.end));
  }
  function WriteMode_initFields() {
    WriteMode_initFields = function () {
    };
    WriteMode$OBJ_instance = new WriteMode('OBJ', 0, BEGIN_OBJ, END_OBJ);
    WriteMode$LIST_instance = new WriteMode('LIST', 1, BEGIN_LIST, END_LIST);
    WriteMode$MAP_instance = new WriteMode('MAP', 2, BEGIN_OBJ, END_OBJ);
    WriteMode$POLY_OBJ_instance = new WriteMode('POLY_OBJ', 3, BEGIN_LIST, END_LIST);
  }
  var WriteMode$OBJ_instance;
  function WriteMode$OBJ_getInstance() {
    WriteMode_initFields();
    return WriteMode$OBJ_instance;
  }
  var WriteMode$LIST_instance;
  function WriteMode$LIST_getInstance() {
    WriteMode_initFields();
    return WriteMode$LIST_instance;
  }
  var WriteMode$MAP_instance;
  function WriteMode$MAP_getInstance() {
    WriteMode_initFields();
    return WriteMode$MAP_instance;
  }
  var WriteMode$POLY_OBJ_instance;
  function WriteMode$POLY_OBJ_getInstance() {
    WriteMode_initFields();
    return WriteMode$POLY_OBJ_instance;
  }
  WriteMode.$metadata$ = {kind: Kind_CLASS, simpleName: 'WriteMode', interfaces: [Enum]};
  function WriteMode$values() {
    return [WriteMode$OBJ_getInstance(), WriteMode$LIST_getInstance(), WriteMode$MAP_getInstance(), WriteMode$POLY_OBJ_getInstance()];
  }
  WriteMode.values = WriteMode$values;
  function WriteMode$valueOf(name) {
    switch (name) {
      case 'OBJ':
        return WriteMode$OBJ_getInstance();
      case 'LIST':
        return WriteMode$LIST_getInstance();
      case 'MAP':
        return WriteMode$MAP_getInstance();
      case 'POLY_OBJ':
        return WriteMode$POLY_OBJ_getInstance();
      default:throwISE('No enum constant kotlinx.serialization.json.internal.WriteMode.' + name);
    }
  }
  WriteMode.valueOf_61zpoe$ = WriteMode$valueOf;
  function switchMode($receiver, desc) {
    var tmp$;
    tmp$ = desc.kind;
    if (equals(tmp$, UnionKind$POLYMORPHIC_getInstance()))
      return WriteMode$POLY_OBJ_getInstance();
    else if (equals(tmp$, StructureKind$LIST_getInstance()))
      return WriteMode$LIST_getInstance();
    else if (equals(tmp$, StructureKind$MAP_getInstance())) {
      var tmp$_0;
      var keyDescriptor = desc.getElementDescriptor_za3lpa$(0);
      var keyKind = keyDescriptor.kind;
      if (Kotlin.isType(keyKind, PrimitiveKind) || equals(keyKind, UnionKind.ENUM_KIND)) {
        tmp$_0 = WriteMode$MAP_getInstance();
      }
       else if ($receiver.configuration_8be2vx$.allowStructuredMapKeys_8be2vx$) {
        tmp$_0 = WriteMode$LIST_getInstance();
      }
       else {
        throw JsonMapInvalidKeyKind(keyDescriptor);
      }
      return tmp$_0;
    }
     else
      return WriteMode$OBJ_getInstance();
  }
  function PolymorphicModuleBuilder(baseClass, baseSerializer) {
    if (baseSerializer === void 0)
      baseSerializer = null;
    this.baseClass_0 = baseClass;
    this.baseSerializer_0 = baseSerializer;
    this.subclasses_0 = ArrayList_init_0();
  }
  PolymorphicModuleBuilder.prototype.buildTo_5224ah$ = function (module_0) {
    if (this.baseSerializer_0 != null)
      module_0.registerPolymorphicSerializer_yca12w$(this.baseClass_0, this.baseClass_0, this.baseSerializer_0);
    var tmp$;
    tmp$ = this.subclasses_0.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var kclass = element.component1(), serializer = element.component2();
      var tmp$_0, tmp$_1;
      module_0.registerPolymorphicSerializer_yca12w$(this.baseClass_0, Kotlin.isType(tmp$_0 = kclass, KClass) ? tmp$_0 : throwCCE(), Kotlin.isType(tmp$_1 = serializer, KSerializer) ? tmp$_1 : throwCCE());
    }
  };
  PolymorphicModuleBuilder.prototype.addSubclass_g8f9ns$ = function (subclass, serializer) {
    this.subclasses_0.add_11rb$(to(subclass, serializer));
  };
  PolymorphicModuleBuilder.prototype.addSubclass_97auzv$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.modules.PolymorphicModuleBuilder.addSubclass_97auzv$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    return function (T_0, isT, serializer) {
      this.addSubclass_g8f9ns$(getKClass(T_0), serializer);
    };
  }));
  PolymorphicModuleBuilder.prototype.addSubclass_n8yg2x$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.modules.PolymorphicModuleBuilder.addSubclass_n8yg2x$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var serializer = _.kotlinx.serialization.serializer_1yb8b7$;
    return function (T_0, isT) {
      this.addSubclass_g8f9ns$(getKClass(T_0), serializer(getKClass(T_0)));
    };
  }));
  PolymorphicModuleBuilder.prototype.with_kmpi2j$ = function ($receiver, serializer) {
    this.addSubclass_g8f9ns$($receiver, serializer);
  };
  PolymorphicModuleBuilder.prototype.changeBase_a3p3f0$ = function (newBaseClass, newBaseClassSerializer) {
    if (newBaseClassSerializer === void 0)
      newBaseClassSerializer = null;
    var newModule = new PolymorphicModuleBuilder(newBaseClass, newBaseClassSerializer);
    if (this.baseSerializer_0 != null) {
      var tmp$, tmp$_0;
      newModule.addSubclass_g8f9ns$(Kotlin.isType(tmp$ = this.baseClass_0, KClass) ? tmp$ : throwCCE(), Kotlin.isType(tmp$_0 = this.baseSerializer_0, KSerializer) ? tmp$_0 : throwCCE());
    }
    var tmp$_1;
    tmp$_1 = this.subclasses_0.iterator();
    while (tmp$_1.hasNext()) {
      var element = tmp$_1.next();
      var k = element.component1(), v = element.component2();
      var tmp$_2, tmp$_3;
      newModule.addSubclass_g8f9ns$(Kotlin.isType(tmp$_2 = k, KClass) ? tmp$_2 : throwCCE(), Kotlin.isType(tmp$_3 = v, KSerializer) ? tmp$_3 : throwCCE());
    }
    return newModule;
  };
  PolymorphicModuleBuilder.$metadata$ = {kind: Kind_CLASS, simpleName: 'PolymorphicModuleBuilder', interfaces: []};
  function SerialModule() {
  }
  SerialModule.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialModule', interfaces: []};
  function EmptyModule() {
    EmptyModule_instance = this;
  }
  EmptyModule.prototype.getContextual_lmshww$ = function (kclass) {
    return null;
  };
  EmptyModule.prototype.getPolymorphic_b1ce0a$ = function (baseClass, value) {
    return null;
  };
  EmptyModule.prototype.getPolymorphic_6xtsla$ = function (baseClass, serializedClassName) {
    return null;
  };
  EmptyModule.prototype.dumpTo_247rdd$ = function (collector) {
  };
  EmptyModule.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyModule', interfaces: [SerialModule]};
  var EmptyModule_instance = null;
  function EmptyModule_getInstance() {
    if (EmptyModule_instance === null) {
      new EmptyModule();
    }
    return EmptyModule_instance;
  }
  function serializersModuleOf$lambda_0(closure$map) {
    return function ($receiver) {
      var tmp$;
      tmp$ = closure$map.entries.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        var kclass = element.key;
        var serializer = element.value;
        var tmp$_0, tmp$_1;
        $receiver.contextual_cfhkba$(Kotlin.isType(tmp$_0 = kclass, KClass) ? tmp$_0 : throwCCE(), Kotlin.isType(tmp$_1 = serializer, KSerializer) ? tmp$_1 : throwCCE());
      }
      return Unit;
    };
  }
  function serializersModuleOf_0(map) {
    return SerializersModule(serializersModuleOf$lambda_0(map));
  }
  function SerializersModule(buildAction) {
    var builder = new SerializersModuleBuilder(new SerialModuleImpl());
    buildAction(builder);
    return builder.impl_8be2vx$;
  }
  function SerializersModuleBuilder(impl) {
    this.impl_8be2vx$ = impl;
  }
  SerializersModuleBuilder.prototype.contextual_cfhkba$ = function (kClass, serializer) {
    this.impl_8be2vx$.registerSerializer_z3bkzg$(kClass, serializer);
  };
  SerializersModuleBuilder.prototype.polymorphic_kfyidi$ = function (baseClass, actualClass, actualSerializer) {
    this.impl_8be2vx$.registerPolymorphicSerializer_yca12w$(baseClass, actualClass, actualSerializer);
  };
  SerializersModuleBuilder.prototype.include_stpyu4$ = function (other) {
    other.dumpTo_247rdd$(this);
  };
  function SerializersModuleBuilder$polymorphic$lambda($receiver) {
    return Unit;
  }
  SerializersModuleBuilder.prototype.polymorphic_v5citj$ = function (baseClass, baseSerializer, buildAction) {
    if (baseSerializer === void 0)
      baseSerializer = null;
    if (buildAction === void 0)
      buildAction = SerializersModuleBuilder$polymorphic$lambda;
    var builder = new PolymorphicModuleBuilder(baseClass, baseSerializer);
    buildAction(builder);
    builder.buildTo_5224ah$(this.impl_8be2vx$);
  };
  SerializersModuleBuilder.prototype.polymorphic_czluys$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.modules.SerializersModuleBuilder.polymorphic_czluys$', wrapFunction(function () {
    var Unit = Kotlin.kotlin.Unit;
    var getKClass = Kotlin.getKClass;
    function SerializersModuleBuilder$polymorphic$lambda($receiver) {
      return Unit;
    }
    return function (Base_0, isBase, baseSerializer, buildAction) {
      if (baseSerializer === void 0)
        baseSerializer = null;
      if (buildAction === void 0)
        buildAction = SerializersModuleBuilder$polymorphic$lambda;
      this.polymorphic_v5citj$(getKClass(Base_0), baseSerializer, buildAction);
    };
  }));
  function SerializersModuleBuilder$polymorphic$lambda_0($receiver) {
    return Unit;
  }
  SerializersModuleBuilder.prototype.polymorphic_myr6su$ = function (baseClass, baseClasses, buildAction) {
    if (buildAction === void 0)
      buildAction = SerializersModuleBuilder$polymorphic$lambda_0;
    var tmp$, tmp$_0, tmp$_1;
    var builder = new PolymorphicModuleBuilder(Kotlin.isType(tmp$ = baseClass, KClass) ? tmp$ : throwCCE(), null);
    buildAction(builder);
    builder.buildTo_5224ah$(this.impl_8be2vx$);
    for (tmp$_0 = 0; tmp$_0 !== baseClasses.length; ++tmp$_0) {
      var base = baseClasses[tmp$_0];
      builder.changeBase_a3p3f0$(Kotlin.isType(tmp$_1 = base, KClass) ? tmp$_1 : throwCCE(), null).buildTo_5224ah$(this.impl_8be2vx$);
    }
  };
  SerializersModuleBuilder.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerializersModuleBuilder', interfaces: [SerialModuleCollector]};
  function SerialModuleCollector() {
  }
  SerialModuleCollector.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialModuleCollector', interfaces: []};
  function getContextualOrDefault($receiver, klass) {
    var tmp$;
    return (tmp$ = $receiver.getContextual_lmshww$(klass)) != null ? tmp$ : serializer(klass);
  }
  function plus$lambda(this$plus, closure$other) {
    return function ($receiver) {
      $receiver.include_stpyu4$(this$plus);
      $receiver.include_stpyu4$(closure$other);
      return Unit;
    };
  }
  function plus($receiver, other) {
    return SerializersModule(plus$lambda($receiver, other));
  }
  function SerialModuleImpl() {
    this.classMap_0 = HashMap_init();
    this.polyMap_0 = HashMap_init();
    this.inverseClassNameMap_0 = HashMap_init();
  }
  SerialModuleImpl.prototype.registerSerializer_z3bkzg$ = function (forClass, serializer, allowOverwrite) {
    if (allowOverwrite === void 0)
      allowOverwrite = false;
    var tmp$ = !allowOverwrite;
    if (tmp$) {
      var $receiver = this.classMap_0;
      var tmp$_0;
      tmp$ = (Kotlin.isType(tmp$_0 = $receiver, Map) ? tmp$_0 : throwCCE()).containsKey_11rb$(forClass);
    }
    if (tmp$)
      throw SerializerAlreadyRegisteredException_init_0(forClass);
    this.classMap_0.put_xwzc9p$(forClass, serializer);
  };
  SerialModuleImpl.prototype.registerPolymorphicSerializer_yca12w$ = function (baseClass, concreteClass, concreteSerializer, allowOverwrite) {
    if (allowOverwrite === void 0)
      allowOverwrite = false;
    var name = concreteSerializer.descriptor.name;
    var $receiver = this.polyMap_0;
    var tmp$;
    var value = $receiver.get_11rb$(baseClass);
    if (value == null) {
      var answer = HashMap_init();
      $receiver.put_xwzc9p$(baseClass, answer);
      tmp$ = answer;
    }
     else {
      tmp$ = value;
    }
    var baseClassMap = tmp$;
    var tmp$_0 = !allowOverwrite;
    if (tmp$_0) {
      var tmp$_1;
      tmp$_0 = (Kotlin.isType(tmp$_1 = baseClassMap, Map) ? tmp$_1 : throwCCE()).containsKey_11rb$(concreteClass);
    }
    if (tmp$_0)
      throw SerializerAlreadyRegisteredException_init(baseClass, concreteClass);
    baseClassMap.put_xwzc9p$(concreteClass, concreteSerializer);
    var $receiver_0 = this.inverseClassNameMap_0;
    var tmp$_2;
    var value_0 = $receiver_0.get_11rb$(baseClass);
    if (value_0 == null) {
      var answer_0 = HashMap_init();
      $receiver_0.put_xwzc9p$(baseClass, answer_0);
      tmp$_2 = answer_0;
    }
     else {
      tmp$_2 = value_0;
    }
    tmp$_2.put_xwzc9p$(name, concreteSerializer);
  };
  SerialModuleImpl.prototype.getPolymorphic_b1ce0a$ = function (baseClass, value) {
    var tmp$, tmp$_0, tmp$_1;
    if (!isInstanceOf(value, baseClass))
      return null;
    if ((tmp$ = (baseClass != null ? baseClass.equals(PrimitiveClasses$anyClass) : null) ? StandardSubtypesOfAny_getInstance().getSubclassSerializer_kcmwxo$(value) : null) != null) {
      var tmp$_2;
      return Kotlin.isType(tmp$_2 = tmp$, KSerializer) ? tmp$_2 : throwCCE();
    }
    return Kotlin.isType(tmp$_1 = (tmp$_0 = this.polyMap_0.get_11rb$(baseClass)) != null ? tmp$_0.get_11rb$(Kotlin.getKClassFromExpression(value)) : null, KSerializer) ? tmp$_1 : null;
  };
  SerialModuleImpl.prototype.getPolymorphic_6xtsla$ = function (baseClass, serializedClassName) {
    var tmp$, tmp$_0, tmp$_1;
    if ((tmp$ = (baseClass != null ? baseClass.equals(PrimitiveClasses$anyClass) : null) ? StandardSubtypesOfAny_getInstance().getDefaultDeserializer_y4putb$(serializedClassName) : null) != null) {
      var tmp$_2;
      return Kotlin.isType(tmp$_2 = tmp$, KSerializer) ? tmp$_2 : throwCCE();
    }
    return Kotlin.isType(tmp$_1 = (tmp$_0 = this.inverseClassNameMap_0.get_11rb$(baseClass)) != null ? tmp$_0.get_11rb$(serializedClassName) : null, KSerializer) ? tmp$_1 : null;
  };
  SerialModuleImpl.prototype.getContextual_lmshww$ = function (kclass) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.classMap_0.get_11rb$(kclass), KSerializer) ? tmp$ : null;
  };
  SerialModuleImpl.prototype.dumpTo_247rdd$ = function (collector) {
    var tmp$;
    tmp$ = this.classMap_0.entries.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var kclass = element.key;
      var serial = element.value;
      var tmp$_0, tmp$_1;
      collector.contextual_cfhkba$(Kotlin.isType(tmp$_0 = kclass, KClass) ? tmp$_0 : throwCCE(), Kotlin.isType(tmp$_1 = serial, KSerializer) ? tmp$_1 : throwCCE());
    }
    var tmp$_2;
    tmp$_2 = this.polyMap_0.entries.iterator();
    while (tmp$_2.hasNext()) {
      var element_0 = tmp$_2.next();
      var baseClass = element_0.key;
      var classMap = element_0.value;
      var tmp$_3;
      tmp$_3 = classMap.entries.iterator();
      while (tmp$_3.hasNext()) {
        var element_1 = tmp$_3.next();
        var actualClass = element_1.key;
        var serializer = element_1.value;
        var tmp$_4, tmp$_5, tmp$_6;
        collector.polymorphic_kfyidi$(Kotlin.isType(tmp$_4 = baseClass, KClass) ? tmp$_4 : throwCCE(), Kotlin.isType(tmp$_5 = actualClass, KClass) ? tmp$_5 : throwCCE(), Kotlin.isType(tmp$_6 = serializer, KSerializer) ? tmp$_6 : throwCCE());
      }
    }
  };
  SerialModuleImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialModuleImpl', interfaces: [SerialModule]};
  function SerializerAlreadyRegisteredException(msg) {
    IllegalArgumentException_init(msg, this);
    this.name = 'SerializerAlreadyRegisteredException';
  }
  SerializerAlreadyRegisteredException.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerializerAlreadyRegisteredException', interfaces: [IllegalArgumentException]};
  function SerializerAlreadyRegisteredException_init(baseClass, concreteClass, $this) {
    $this = $this || Object.create(SerializerAlreadyRegisteredException.prototype);
    SerializerAlreadyRegisteredException.call($this, 'Serializer for ' + concreteClass + ' already registered in the scope of ' + baseClass);
    return $this;
  }
  function SerializerAlreadyRegisteredException_init_0(forClass, $this) {
    $this = $this || Object.create(SerializerAlreadyRegisteredException.prototype);
    SerializerAlreadyRegisteredException.call($this, 'Serializer for ' + forClass + ' already registered in this module');
    return $this;
  }
  function StandardSubtypesOfAny() {
    StandardSubtypesOfAny_instance = this;
    this.map_0 = mapOf([to(getKClass(List), new ArrayListSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(LinkedHashSet), new LinkedHashSetSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(HashSet), new HashSetSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(Set), new LinkedHashSetSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(LinkedHashMap), new LinkedHashMapSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(HashMap), new HashMapSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(Map), new LinkedHashMapSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(Map$Entry), new MapEntrySerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(PrimitiveClasses$stringClass, StringSerializer_getInstance()), to(getKClass(Char), CharSerializer_getInstance()), to(PrimitiveClasses$doubleClass, DoubleSerializer_getInstance()), to(PrimitiveClasses$floatClass, FloatSerializer_getInstance()), to(getKClass(Long), LongSerializer_getInstance()), to(PrimitiveClasses$intClass, IntSerializer_getInstance()), to(PrimitiveClasses$shortClass, ShortSerializer_getInstance()), to(PrimitiveClasses$byteClass, ByteSerializer_getInstance()), to(PrimitiveClasses$booleanClass, BooleanSerializer_getInstance()), to(getKClass(Object.getPrototypeOf(kotlin.Unit).constructor), UnitSerializer_getInstance())]);
    var $receiver = this.map_0;
    var destination = LinkedHashMap_init_1(mapCapacity($receiver.size));
    var tmp$;
    tmp$ = $receiver.entries.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var tmp$_0 = destination.put_xwzc9p$;
      var s = element.value;
      tmp$_0.call(destination, s.descriptor.name, element.value);
    }
    this.deserializingMap_0 = destination;
  }
  StandardSubtypesOfAny.prototype.getSubclassSerializer_kcmwxo$ = function (objectToCheck) {
    var tmp$;
    tmp$ = this.map_0.entries.iterator();
    while (tmp$.hasNext()) {
      var tmp$_0 = tmp$.next();
      var k = tmp$_0.key;
      var v = tmp$_0.value;
      if (isInstanceOf(objectToCheck, k))
        return v;
    }
    return null;
  };
  StandardSubtypesOfAny.prototype.getDefaultDeserializer_y4putb$ = function (serializedClassName) {
    return this.deserializingMap_0.get_11rb$(serializedClassName);
  };
  StandardSubtypesOfAny.$metadata$ = {kind: Kind_OBJECT, simpleName: 'StandardSubtypesOfAny', interfaces: []};
  var StandardSubtypesOfAny_instance = null;
  function StandardSubtypesOfAny_getInstance() {
    if (StandardSubtypesOfAny_instance === null) {
      new StandardSubtypesOfAny();
    }
    return StandardSubtypesOfAny_instance;
  }
  var ProtoBuf$Varint_instance = null;
  var ProtoBuf$Companion_instance = null;
  var ProtoNumberType$DEFAULT_instance;
  var ProtoNumberType$SIGNED_instance;
  var ProtoNumberType$FIXED_instance;
  var ByteBuffer$Companion_instance = null;
  var InputStream$Companion_instance = null;
  var MAX_SAFE_INTEGER;
  function compiledSerializer($receiver) {
    var tmp$, tmp$_0;
    return Kotlin.isType(tmp$_0 = (tmp$ = get_js($receiver).Companion) != null ? tmp$.serializer() : null, KSerializer) ? tmp$_0 : null;
  }
  function isInstanceOf($receiver, kclass) {
    return kclass.isInstance_s8jyv4$($receiver);
  }
  var package$kotlinx = _.kotlinx || (_.kotlinx = {});
  var package$serialization = package$kotlinx.serialization || (package$kotlinx.serialization = {});
  package$serialization.Encoder = Encoder;
  package$serialization.CompositeEncoder = CompositeEncoder;
  package$serialization.Decoder = Decoder;
  Object.defineProperty(CompositeDecoder, 'Companion', {get: CompositeDecoder$Companion_getInstance});
  package$serialization.CompositeDecoder = CompositeDecoder;
  package$serialization.ContextSerializer = ContextSerializer;
  package$serialization.SerialDescriptor = SerialDescriptor;
  package$serialization.SerializationStrategy = SerializationStrategy;
  package$serialization.DeserializationStrategy = DeserializationStrategy;
  Object.defineProperty(UpdateMode, 'BANNED', {get: UpdateMode$BANNED_getInstance});
  Object.defineProperty(UpdateMode, 'OVERWRITE', {get: UpdateMode$OVERWRITE_getInstance});
  Object.defineProperty(UpdateMode, 'UPDATE', {get: UpdateMode$UPDATE_getInstance});
  package$serialization.UpdateMode = UpdateMode;
  package$serialization.KSerializer = KSerializer;
  package$serialization.serializer_1yb8b7$ = serializer;
  package$serialization.encode_dt3ugd$ = encode_0;
  package$serialization.decode_cmswi7$ = decode_0;
  package$serialization.SerialKind = SerialKind;
  Object.defineProperty(PrimitiveKind, 'INT', {get: PrimitiveKind$INT_getInstance});
  Object.defineProperty(PrimitiveKind, 'UNIT', {get: PrimitiveKind$UNIT_getInstance});
  Object.defineProperty(PrimitiveKind, 'BOOLEAN', {get: PrimitiveKind$BOOLEAN_getInstance});
  Object.defineProperty(PrimitiveKind, 'BYTE', {get: PrimitiveKind$BYTE_getInstance});
  Object.defineProperty(PrimitiveKind, 'SHORT', {get: PrimitiveKind$SHORT_getInstance});
  Object.defineProperty(PrimitiveKind, 'LONG', {get: PrimitiveKind$LONG_getInstance});
  Object.defineProperty(PrimitiveKind, 'FLOAT', {get: PrimitiveKind$FLOAT_getInstance});
  Object.defineProperty(PrimitiveKind, 'DOUBLE', {get: PrimitiveKind$DOUBLE_getInstance});
  Object.defineProperty(PrimitiveKind, 'CHAR', {get: PrimitiveKind$CHAR_getInstance});
  Object.defineProperty(PrimitiveKind, 'STRING', {get: PrimitiveKind$STRING_getInstance});
  package$serialization.PrimitiveKind = PrimitiveKind;
  Object.defineProperty(StructureKind, 'CLASS', {get: StructureKind$CLASS_getInstance});
  Object.defineProperty(StructureKind, 'LIST', {get: StructureKind$LIST_getInstance});
  Object.defineProperty(StructureKind, 'MAP', {get: StructureKind$MAP_getInstance});
  package$serialization.StructureKind = StructureKind;
  Object.defineProperty(UnionKind, 'OBJECT', {get: UnionKind$OBJECT_getInstance});
  Object.defineProperty(UnionKind, 'ENUM_KIND', {get: UnionKind$ENUM_KIND_getInstance});
  Object.defineProperty(UnionKind, 'SEALED', {get: UnionKind$SEALED_getInstance});
  Object.defineProperty(UnionKind, 'POLYMORPHIC', {get: UnionKind$POLYMORPHIC_getInstance});
  package$serialization.UnionKind = UnionKind;
  package$serialization.ElementValueEncoder = ElementValueEncoder;
  package$serialization.ElementValueDecoder = ElementValueDecoder;
  package$serialization.SerializationException = SerializationException;
  package$serialization.UpdateNotSupportedException = UpdateNotSupportedException;
  var package$modules = package$serialization.modules || (package$serialization.modules = {});
  package$modules.getContextualOrDefault_6za9kt$ = getContextualOrDefault;
  Object.defineProperty(package$serialization, 'PolymorphicClassDescriptor', {get: PolymorphicClassDescriptor_getInstance});
  package$serialization.PolymorphicSerializer = PolymorphicSerializer;
  package$serialization.SerialFormat = SerialFormat;
  package$serialization.AbstractSerialFormat = AbstractSerialFormat;
  package$serialization.BinaryFormat = BinaryFormat;
  package$serialization.StringFormat = StringFormat;
  var package$internal = package$serialization.internal || (package$serialization.internal = {});
  package$serialization.elementDescriptors_xzf193$ = elementDescriptors;
  package$serialization.getElementIndexOrThrow_27vawp$ = getElementIndexOrThrow;
  package$serialization.TaggedEncoder = TaggedEncoder;
  package$serialization.NamedValueEncoder = NamedValueEncoder;
  package$serialization.TaggedDecoder = TaggedDecoder;
  package$serialization.NamedValueDecoder = NamedValueDecoder;
  package$internal.ListLikeDescriptor = ListLikeDescriptor;
  package$internal.MapLikeDescriptor = MapLikeDescriptor;
  package$internal.ArrayListClassDesc = ArrayListClassDesc;
  package$internal.NamedListClassDescriptor = NamedListClassDescriptor;
  package$internal.LinkedHashSetClassDesc = LinkedHashSetClassDesc;
  package$internal.HashSetClassDesc = HashSetClassDesc;
  package$internal.NamedMapClassDescriptor = NamedMapClassDescriptor;
  package$internal.LinkedHashMapClassDesc = LinkedHashMapClassDesc;
  package$internal.HashMapClassDesc = HashMapClassDesc;
  package$internal.AbstractCollectionSerializer = AbstractCollectionSerializer;
  package$internal.ListLikeSerializer = ListLikeSerializer;
  package$internal.MapLikeSerializer = MapLikeSerializer;
  package$internal.ArrayListSerializer = ArrayListSerializer;
  package$internal.LinkedHashSetSerializer = LinkedHashSetSerializer;
  package$internal.HashSetSerializer = HashSetSerializer;
  package$internal.LinkedHashMapSerializer = LinkedHashMapSerializer;
  package$internal.HashMapSerializer = HashMapSerializer;
  package$internal.CommonEnumSerializer = CommonEnumSerializer;
  package$internal.GeneratedSerializer = GeneratedSerializer;
  package$internal.makeNullable_ewacr1$ = makeNullable;
  package$internal.NullableSerializer = NullableSerializer;
  package$internal.PrimitiveDescriptor = PrimitiveDescriptor;
  Object.defineProperty(package$internal, 'IntDescriptor', {get: IntDescriptor_getInstance});
  Object.defineProperty(package$internal, 'UnitDescriptor', {get: UnitDescriptor_getInstance});
  Object.defineProperty(package$internal, 'BooleanDescriptor', {get: BooleanDescriptor_getInstance});
  Object.defineProperty(package$internal, 'ByteDescriptor', {get: ByteDescriptor_getInstance});
  Object.defineProperty(package$internal, 'ShortDescriptor', {get: ShortDescriptor_getInstance});
  Object.defineProperty(package$internal, 'LongDescriptor', {get: LongDescriptor_getInstance});
  Object.defineProperty(package$internal, 'FloatDescriptor', {get: FloatDescriptor_getInstance});
  Object.defineProperty(package$internal, 'DoubleDescriptor', {get: DoubleDescriptor_getInstance});
  Object.defineProperty(package$internal, 'CharDescriptor', {get: CharDescriptor_getInstance});
  Object.defineProperty(package$internal, 'StringDescriptor', {get: StringDescriptor_getInstance});
  Object.defineProperty(package$internal, 'UnitSerializer', {get: UnitSerializer_getInstance});
  Object.defineProperty(package$internal, 'BooleanSerializer', {get: BooleanSerializer_getInstance});
  Object.defineProperty(package$internal, 'ByteSerializer', {get: ByteSerializer_getInstance});
  Object.defineProperty(package$internal, 'ShortSerializer', {get: ShortSerializer_getInstance});
  Object.defineProperty(package$internal, 'IntSerializer', {get: IntSerializer_getInstance});
  Object.defineProperty(package$internal, 'LongSerializer', {get: LongSerializer_getInstance});
  Object.defineProperty(package$internal, 'FloatSerializer', {get: FloatSerializer_getInstance});
  Object.defineProperty(package$internal, 'DoubleSerializer', {get: DoubleSerializer_getInstance});
  Object.defineProperty(package$internal, 'CharSerializer', {get: CharSerializer_getInstance});
  Object.defineProperty(package$internal, 'StringSerializer', {get: StringSerializer_getInstance});
  package$internal.defaultSerializer_1yb8b7$ = defaultSerializer;
  package$internal.SerialClassDescImpl = SerialClassDescImpl;
  package$internal.KeyValueSerializer = KeyValueSerializer;
  package$internal.MapEntrySerializer = MapEntrySerializer;
  package$internal.MapEntry = MapEntry;
  Object.defineProperty(package$internal, 'MapEntryClassDesc', {get: MapEntryClassDesc_getInstance});
  package$internal.TripleSerializer = TripleSerializer;
  var package$json = package$serialization.json || (package$serialization.json = {});
  package$json.Json = Json;
  Object.defineProperty(Json, 'Companion', {get: Json$Companion_getInstance});
  Object.defineProperty(JsonConfiguration, 'Companion', {get: JsonConfiguration$Companion_getInstance});
  package$json.JsonConfiguration = JsonConfiguration;
  Object.defineProperty(JsonElement, 'Companion', {get: JsonElement$Companion_getInstance});
  package$json.JsonElement = JsonElement;
  Object.defineProperty(JsonPrimitive, 'Companion', {get: JsonPrimitive$Companion_getInstance});
  package$json.JsonPrimitive = JsonPrimitive;
  Object.defineProperty(JsonLiteral, 'Companion', {get: JsonLiteral$Companion_getInstance});
  package$json.JsonLiteral_init_3p81yu$ = JsonLiteral_init;
  package$json.JsonLiteral_init_6taknv$ = JsonLiteral_init_0;
  package$json.JsonLiteral_init_61zpoe$ = JsonLiteral_init_1;
  package$json.JsonLiteral = JsonLiteral;
  Object.defineProperty(package$json, 'JsonNull', {get: JsonNull_getInstance});
  package$json.unexpectedJson_puj7f4$ = unexpectedJson;
  Object.defineProperty(JsonObject, 'Companion', {get: JsonObject$Companion_getInstance});
  package$json.JsonObject = JsonObject;
  Object.defineProperty(JsonArray, 'Companion', {get: JsonArray$Companion_getInstance});
  package$json.JsonArray = JsonArray;
  Object.defineProperty(package$json, 'JsonElementSerializer', {get: JsonElementSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonPrimitiveSerializer', {get: JsonPrimitiveSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonNullSerializer', {get: JsonNullSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonLiteralSerializer', {get: JsonLiteralSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonObjectSerializer', {get: JsonObjectSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonArraySerializer', {get: JsonArraySerializer_getInstance});
  package$json.JsonPrimitive_pdl1vj$ = JsonPrimitive_2;
  package$json.get_content_u3sd3g$ = get_content;
  package$json.InvalidFloatingPoint_qwibp1$ = InvalidFloatingPoint;
  package$json.InvalidFloatingPoint_x0xb19$ = InvalidFloatingPoint_0;
  package$json.jsonUnknownKeyException_f0n09d$ = jsonUnknownKeyException;
  package$json.JsonMapInvalidKeyKind_4b8fhx$ = JsonMapInvalidKeyKind;
  package$json.JsonException = JsonException;
  package$json.JsonDecodingException = JsonDecodingException;
  package$json.JsonEncodingException = JsonEncodingException;
  package$json.JsonInput = JsonInput;
  package$json.JsonOutput = JsonOutput;
  var package$internal_0 = package$json.internal || (package$json.internal = {});
  package$internal_0.JsonParser = JsonParser;
  Object.defineProperty(package$internal_0, 'EscapeCharMappings', {get: EscapeCharMappings_getInstance});
  package$internal_0.charToTokenClass_8e8zqy$ = charToTokenClass;
  package$internal_0.escapeToChar_kcn2v3$ = escapeToChar;
  package$internal_0.JsonReader = JsonReader;
  package$internal_0.checkKind_y7bnyb$ = checkKind;
  package$internal_0.decodeSerializableValuePolymorphic_ojldma$ = decodeSerializableValuePolymorphic;
  package$internal_0.StreamingJsonInput = StreamingJsonInput;
  StreamingJsonOutput.Composer = StreamingJsonOutput$Composer;
  package$internal_0.StreamingJsonOutput_init_ek5ogp$ = StreamingJsonOutput_init;
  package$internal_0.StreamingJsonOutput = StreamingJsonOutput;
  package$internal_0.printQuoted_jigvc$ = printQuoted;
  package$internal_0.toBooleanStrict_7efafi$ = toBooleanStrict;
  package$internal_0.toBooleanStrictOrNull_7efafi$ = toBooleanStrictOrNull;
  package$internal_0.shouldBeQuoted_y4putb$ = shouldBeQuoted;
  package$internal_0.readJson_ijhaef$ = readJson;
  package$internal_0.writeJson_4dixew$ = writeJson;
  Object.defineProperty(WriteMode, 'OBJ', {get: WriteMode$OBJ_getInstance});
  Object.defineProperty(WriteMode, 'LIST', {get: WriteMode$LIST_getInstance});
  Object.defineProperty(WriteMode, 'MAP', {get: WriteMode$MAP_getInstance});
  Object.defineProperty(WriteMode, 'POLY_OBJ', {get: WriteMode$POLY_OBJ_getInstance});
  package$internal_0.WriteMode = WriteMode;
  package$internal_0.switchMode_2zz6bv$ = switchMode;
  package$modules.PolymorphicModuleBuilder = PolymorphicModuleBuilder;
  package$modules.SerialModule = SerialModule;
  Object.defineProperty(package$modules, 'EmptyModule', {get: EmptyModule_getInstance});
  package$modules.serializersModuleOf_azm104$ = serializersModuleOf_0;
  package$modules.SerializersModule_q4tcel$ = SerializersModule;
  package$modules.SerializersModuleBuilder = SerializersModuleBuilder;
  package$modules.SerialModuleCollector = SerialModuleCollector;
  package$modules.plus_7n7cf$ = plus;
  package$modules.SerialModuleImpl = SerialModuleImpl;
  package$modules.SerializerAlreadyRegisteredException_init_gfgaic$ = SerializerAlreadyRegisteredException_init;
  package$modules.SerializerAlreadyRegisteredException_init_xo1ogr$ = SerializerAlreadyRegisteredException_init_0;
  package$modules.SerializerAlreadyRegisteredException = SerializerAlreadyRegisteredException;
  Object.defineProperty(package$modules, 'StandardSubtypesOfAny', {get: StandardSubtypesOfAny_getInstance});
  package$serialization.compiledSerializer_1yb8b7$ = compiledSerializer;
  package$serialization.isInstanceOf_ofcvxk$ = isInstanceOf;
  Object.defineProperty(SerialClassDescImpl.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  ContextSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  ElementValueEncoder.prototype.encodeSerializableValue_tf03ej$ = Encoder.prototype.encodeSerializableValue_tf03ej$;
  ElementValueEncoder.prototype.encodeNullableSerializableValue_f4686g$ = Encoder.prototype.encodeNullableSerializableValue_f4686g$;
  ElementValueEncoder.prototype.beginCollection_gly1x5$ = Encoder.prototype.beginCollection_gly1x5$;
  ElementValueEncoder.prototype.endStructure_qatsm0$ = CompositeEncoder.prototype.endStructure_qatsm0$;
  ElementValueEncoder.prototype.shouldEncodeElementDefault_3zr2iy$ = CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$;
  ElementValueDecoder.prototype.decodeSerializableValue_w63s0f$ = Decoder.prototype.decodeSerializableValue_w63s0f$;
  ElementValueDecoder.prototype.decodeNullableSerializableValue_aae3ea$ = Decoder.prototype.decodeNullableSerializableValue_aae3ea$;
  ElementValueDecoder.prototype.updateSerializableValue_19c8k5$ = Decoder.prototype.updateSerializableValue_19c8k5$;
  ElementValueDecoder.prototype.updateNullableSerializableValue_exmlbs$ = Decoder.prototype.updateNullableSerializableValue_exmlbs$;
  ElementValueDecoder.prototype.endStructure_qatsm0$ = CompositeDecoder.prototype.endStructure_qatsm0$;
  ElementValueDecoder.prototype.decodeCollectionSize_qatsm0$ = CompositeDecoder.prototype.decodeCollectionSize_qatsm0$;
  TaggedEncoder.prototype.encodeSerializableValue_tf03ej$ = Encoder.prototype.encodeSerializableValue_tf03ej$;
  TaggedEncoder.prototype.encodeNullableSerializableValue_f4686g$ = Encoder.prototype.encodeNullableSerializableValue_f4686g$;
  TaggedEncoder.prototype.beginCollection_gly1x5$ = Encoder.prototype.beginCollection_gly1x5$;
  TaggedEncoder.prototype.shouldEncodeElementDefault_3zr2iy$ = CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$;
  TaggedDecoder.prototype.decodeSerializableValue_w63s0f$ = Decoder.prototype.decodeSerializableValue_w63s0f$;
  TaggedDecoder.prototype.decodeNullableSerializableValue_aae3ea$ = Decoder.prototype.decodeNullableSerializableValue_aae3ea$;
  TaggedDecoder.prototype.updateSerializableValue_19c8k5$ = Decoder.prototype.updateSerializableValue_19c8k5$;
  TaggedDecoder.prototype.updateNullableSerializableValue_exmlbs$ = Decoder.prototype.updateNullableSerializableValue_exmlbs$;
  TaggedDecoder.prototype.endStructure_qatsm0$ = CompositeDecoder.prototype.endStructure_qatsm0$;
  TaggedDecoder.prototype.decodeCollectionSize_qatsm0$ = CompositeDecoder.prototype.decodeCollectionSize_qatsm0$;
  PolymorphicSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  BinaryFormat.prototype.install_stpyu4$ = SerialFormat.prototype.install_stpyu4$;
  StringFormat.prototype.install_stpyu4$ = SerialFormat.prototype.install_stpyu4$;
  ListLikeDescriptor.prototype.getEntityAnnotations = SerialDescriptor.prototype.getEntityAnnotations;
  ListLikeDescriptor.prototype.getElementAnnotations_za3lpa$ = SerialDescriptor.prototype.getElementAnnotations_za3lpa$;
  Object.defineProperty(ListLikeDescriptor.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  ListLikeDescriptor.prototype.isElementOptional_za3lpa$ = SerialDescriptor.prototype.isElementOptional_za3lpa$;
  MapLikeDescriptor.prototype.getEntityAnnotations = SerialDescriptor.prototype.getEntityAnnotations;
  MapLikeDescriptor.prototype.getElementAnnotations_za3lpa$ = SerialDescriptor.prototype.getElementAnnotations_za3lpa$;
  Object.defineProperty(MapLikeDescriptor.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  MapLikeDescriptor.prototype.isElementOptional_za3lpa$ = SerialDescriptor.prototype.isElementOptional_za3lpa$;
  CommonEnumSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  GeneratedSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  LongAsStringSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  PrimitiveDescriptor.prototype.getEntityAnnotations = SerialDescriptor.prototype.getEntityAnnotations;
  PrimitiveDescriptor.prototype.getElementAnnotations_za3lpa$ = SerialDescriptor.prototype.getElementAnnotations_za3lpa$;
  Object.defineProperty(PrimitiveDescriptor.prototype, 'elementsCount', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'elementsCount'));
  Object.defineProperty(PrimitiveDescriptor.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  UnitSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  BooleanSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  ByteSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  ShortSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  IntSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  LongSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  FloatSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  DoubleSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  CharSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  StringSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  KeyValueSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  TripleSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonElementSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonPrimitiveSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonNullSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonLiteralSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonObjectSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonArraySerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonInput.prototype.decodeSerializableValue_w63s0f$ = Decoder.prototype.decodeSerializableValue_w63s0f$;
  JsonInput.prototype.decodeNullableSerializableValue_aae3ea$ = Decoder.prototype.decodeNullableSerializableValue_aae3ea$;
  JsonInput.prototype.updateSerializableValue_19c8k5$ = Decoder.prototype.updateSerializableValue_19c8k5$;
  JsonInput.prototype.updateNullableSerializableValue_exmlbs$ = Decoder.prototype.updateNullableSerializableValue_exmlbs$;
  JsonInput.prototype.endStructure_qatsm0$ = CompositeDecoder.prototype.endStructure_qatsm0$;
  JsonInput.prototype.decodeCollectionSize_qatsm0$ = CompositeDecoder.prototype.decodeCollectionSize_qatsm0$;
  JsonOutput.prototype.encodeSerializableValue_tf03ej$ = Encoder.prototype.encodeSerializableValue_tf03ej$;
  JsonOutput.prototype.encodeNullableSerializableValue_f4686g$ = Encoder.prototype.encodeNullableSerializableValue_f4686g$;
  JsonOutput.prototype.beginCollection_gly1x5$ = Encoder.prototype.beginCollection_gly1x5$;
  JsonOutput.prototype.endStructure_qatsm0$ = CompositeEncoder.prototype.endStructure_qatsm0$;
  JsonOutput.prototype.shouldEncodeElementDefault_3zr2iy$ = CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$;
  StreamingJsonInput.prototype.decodeNullableSerializableValue_aae3ea$ = JsonInput.prototype.decodeNullableSerializableValue_aae3ea$;
  StreamingJsonInput.prototype.updateSerializableValue_19c8k5$ = JsonInput.prototype.updateSerializableValue_19c8k5$;
  StreamingJsonInput.prototype.updateNullableSerializableValue_exmlbs$ = JsonInput.prototype.updateNullableSerializableValue_exmlbs$;
  StreamingJsonInput.prototype.decodeCollectionSize_qatsm0$ = JsonInput.prototype.decodeCollectionSize_qatsm0$;
  StreamingJsonOutput.prototype.encodeNullableSerializableValue_f4686g$ = JsonOutput.prototype.encodeNullableSerializableValue_f4686g$;
  StreamingJsonOutput.prototype.beginCollection_gly1x5$ = JsonOutput.prototype.beginCollection_gly1x5$;
  deprecationText = 'Obsolete name from the preview version of library.';
  INSTALL_DEPRECATION_TEXT = 'Install is no longer supported, module can be added to format only in constructor';
  ARRAY_NAME = 'kotlin.Array';
  ARRAY_LIST_NAME = 'kotlin.collections.ArrayList';
  LINKED_HASH_SET_NAME = 'kotlin.collections.LinkedHashSet';
  HASH_SET_NAME = 'kotlin.collections.HashSet';
  LINKED_HASH_MAP_NAME = 'kotlin.collections.LinkedHashMap';
  HASH_MAP_NAME = 'kotlin.collections.HashMap';
  KEY_INDEX = 0;
  VALUE_INDEX = 1;
  defaultJsonModule = serializersModuleOf_0(mapOf([to(getKClass(JsonElement), JsonElementSerializer_getInstance()), to(getKClass(JsonPrimitive), JsonPrimitiveSerializer_getInstance()), to(getKClass(JsonLiteral), JsonLiteralSerializer_getInstance()), to(getKClass(JsonNull), JsonNullSerializer_getInstance()), to(getKClass(JsonObject), JsonObjectSerializer_getInstance()), to(getKClass(JsonArray), JsonArraySerializer_getInstance())]));
  NULL = 'null';
  COMMA = 44;
  COLON = 58;
  BEGIN_OBJ = 123;
  END_OBJ = 125;
  BEGIN_LIST = 91;
  END_LIST = 93;
  STRING = 34;
  STRING_ESC = 92;
  INVALID = toChar(0);
  UNICODE_ESC = 117;
  TC_OTHER = 0;
  TC_STRING = 1;
  TC_STRING_ESC = 2;
  TC_WS = 3;
  TC_COMMA = 4;
  TC_COLON = 5;
  TC_BEGIN_OBJ = 6;
  TC_END_OBJ = 7;
  TC_BEGIN_LIST = 8;
  TC_END_LIST = 9;
  TC_NULL = 10;
  TC_INVALID = 11;
  TC_EOF = 12;
  CTC_MAX = 126;
  ESC2C_MAX = 117;
  var $receiver = new Int8Array(126);
  for (var i = 0; i <= 32; i++) {
    initC2TC($receiver, i, TC_INVALID);
  }
  initC2TC($receiver, 9, TC_WS);
  initC2TC($receiver, 10, TC_WS);
  initC2TC($receiver, 13, TC_WS);
  initC2TC($receiver, 32, TC_WS);
  initC2TC_0($receiver, COMMA, TC_COMMA);
  initC2TC_0($receiver, COLON, TC_COLON);
  initC2TC_0($receiver, BEGIN_OBJ, TC_BEGIN_OBJ);
  initC2TC_0($receiver, END_OBJ, TC_END_OBJ);
  initC2TC_0($receiver, BEGIN_LIST, TC_BEGIN_LIST);
  initC2TC_0($receiver, END_LIST, TC_END_LIST);
  initC2TC_0($receiver, STRING, TC_STRING);
  initC2TC_0($receiver, STRING_ESC, TC_STRING_ESC);
  C2TC = $receiver;
  var $receiver_0 = Kotlin.newArray(128, null);
  for (var c = 0; c <= 31; c++) {
    var c1 = toHexChar(c >> 12);
    var c2 = toHexChar(c >> 8);
    var c3 = toHexChar(c >> 4);
    var c4 = toHexChar(c);
    $receiver_0[c] = '\\' + 'u' + String.fromCharCode(c1) + String.fromCharCode(c2) + String.fromCharCode(c3) + String.fromCharCode(c4);
  }
  $receiver_0[34] = '\\"';
  $receiver_0[92] = '\\\\';
  $receiver_0[9] = '\\t';
  $receiver_0[8] = '\\b';
  $receiver_0[10] = '\\n';
  $receiver_0[13] = '\\r';
  $receiver_0[12] = '\\f';
  ESCAPE_CHARS = $receiver_0;
  PRIMITIVE_TAG = 'primitive';
  MAX_SAFE_INTEGER = L9007199254740991.toNumber();
  return _;
}));

//# sourceMappingURL=kotlinx-serialization-kotlinx-serialization-runtime.js.map


/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
( function( global, factory ) {

	"use strict";

	if (  true && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var flat = arr.flat ? function( array ) {
	return arr.flat.call( array );
} : function( array ) {
	return arr.concat.apply( [], array );
};


var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

      // Support: Chrome <=57, Firefox <=52
      // In some browsers, typeof returns "function" for HTML <object> elements
      // (i.e., `typeof document.createElement( "object" ) === "function"`).
      // We don't want to classify *any* DOM node as a function.
      return typeof obj === "function" && typeof obj.nodeType !== "number";
  };


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};


var document = window.document;



	var preservedScriptAttributes = {
		type: true,
		src: true,
		nonce: true,
		noModule: true
	};

	function DOMEval( code, node, doc ) {
		doc = doc || document;

		var i, val,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {

				// Support: Firefox 64+, Edge 18+
				// Some browsers don't support the "nonce" property on scripts.
				// On the other hand, just using `getAttribute` is not enough as
				// the `nonce` attribute is reset to an empty string whenever it
				// becomes browsing-context connected.
				// See https://github.com/whatwg/html/issues/2369
				// See https://html.spec.whatwg.org/#nonce-attributes
				// The `node.getAttribute` check was added for the sake of
				// `jQuery.globalEval` so that it can fake a nonce-containing node
				// via an object.
				val = node[ i ] || node.getAttribute && node.getAttribute( i );
				if ( val ) {
					script.setAttribute( i, val );
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	// Support: Android <=2.3 only (functionish RegExp)
	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.5.1",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	even: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return ( i + 1 ) % 2;
		} ) );
	},

	odd: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return i % 2;
		} ) );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				copy = options[ name ];

				// Prevent Object.prototype pollution
				// Prevent never-ending loop
				if ( name === "__proto__" || target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {
					src = target[ name ];

					// Ensure proper type for the source value
					if ( copyIsArray && !Array.isArray( src ) ) {
						clone = [];
					} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {
						clone = {};
					} else {
						clone = src;
					}
					copyIsArray = false;

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	// Evaluates a script in a provided context; falls back to the global one
	// if not specified.
	globalEval: function( code, options, doc ) {
		DOMEval( code, { nonce: options && options.nonce }, doc );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return flat( ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
function( _i, name ) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
( function( window ) {
var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	nonnativeSelectorCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// Instance methods
	hasOwn = ( {} ).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	pushNative = arr.push,
	push = arr.push,
	slice = arr.slice,

	// Use a stripped-down indexOf as it's faster than native
	// https://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[ i ] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|" +
		"ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
	identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +
		"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +

		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +

		// "Attribute values must be CSS identifiers [capture 5]
		// or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +
		whitespace + "*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +

		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +

		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +

		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" +
		whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace +
		"*" ),
	rdescend = new RegExp( whitespace + "|>" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
			whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +
			whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),

		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace +
			"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +
			"*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rhtml = /HTML$/i,
	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	// CSS escapes
	// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g" ),
	funescape = function( escape, nonHex ) {
		var high = "0x" + escape.slice( 1 ) - 0x10000;

		return nonHex ?

			// Strip the backslash prefix from a non-hex escape sequence
			nonHex :

			// Replace a hexadecimal escape sequence with the encoded Unicode code point
			// Support: IE <=11+
			// For values outside the Basic Multilingual Plane (BMP), manually construct a
			// surrogate pair
			high < 0 ?
				String.fromCharCode( high + 0x10000 ) :
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" +
				ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	},

	inDisabledFieldset = addCombinator(
		function( elem ) {
			return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";
		},
		{ dir: "parentNode", next: "legend" }
	);

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		( arr = slice.call( preferredDoc.childNodes ) ),
		preferredDoc.childNodes
	);

	// Support: Android<4.0
	// Detect silently failing push.apply
	// eslint-disable-next-line no-unused-expressions
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			pushNative.apply( target, slice.call( els ) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;

			// Can't trust NodeList.length
			while ( ( target[ j++ ] = els[ i++ ] ) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {
		setDocument( context );
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {

				// ID selector
				if ( ( m = match[ 1 ] ) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( ( elem = context.getElementById( m ) ) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && ( elem = newContext.getElementById( m ) ) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[ 2 ] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!nonnativeSelectorCache[ selector + " " ] &&
				( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&

				// Support: IE 8 only
				// Exclude object elements
				( nodeType !== 1 || context.nodeName.toLowerCase() !== "object" ) ) {

				newSelector = selector;
				newContext = context;

				// qSA considers elements outside a scoping root when evaluating child or
				// descendant combinators, which is not what we want.
				// In such cases, we work around the behavior by prefixing every selector in the
				// list with an ID selector referencing the scope context.
				// The technique has to be used as well when a leading combinator is used
				// as such selectors are not recognized by querySelectorAll.
				// Thanks to Andrew Dupont for this technique.
				if ( nodeType === 1 &&
					( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;

					// We can use :scope instead of the ID hack if the browser
					// supports it & if we're not changing the context.
					if ( newContext !== context || !support.scope ) {

						// Capture the context ID, setting it first if necessary
						if ( ( nid = context.getAttribute( "id" ) ) ) {
							nid = nid.replace( rcssescape, fcssescape );
						} else {
							context.setAttribute( "id", ( nid = expando ) );
						}
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[ i ] = ( nid ? "#" + nid : ":scope" ) + " " +
							toSelector( groups[ i ] );
					}
					newSelector = groups.join( "," );
				}

				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch ( qsaError ) {
					nonnativeSelectorCache( selector, true );
				} finally {
					if ( nid === expando ) {
						context.removeAttribute( "id" );
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {

		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {

			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return ( cache[ key + " " ] = value );
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created element and returns a boolean result
 */
function assert( fn ) {
	var el = document.createElement( "fieldset" );

	try {
		return !!fn( el );
	} catch ( e ) {
		return false;
	} finally {

		// Remove from its parent by default
		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}

		// release memory in IE
		el = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split( "|" ),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[ i ] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			a.sourceIndex - b.sourceIndex;

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( ( cur = cur.nextSibling ) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return ( name === "input" || name === "button" ) && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for :enabled/:disabled
 * @param {Boolean} disabled true for :disabled; false for :enabled
 */
function createDisabledPseudo( disabled ) {

	// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	return function( elem ) {

		// Only certain elements can match :enabled or :disabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
		if ( "form" in elem ) {

			// Check for inherited disabledness on relevant non-disabled elements:
			// * listed form-associated elements in a disabled fieldset
			//   https://html.spec.whatwg.org/multipage/forms.html#category-listed
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
			// * option elements in a disabled optgroup
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
			// All such elements have a "form" property.
			if ( elem.parentNode && elem.disabled === false ) {

				// Option elements defer to a parent optgroup if present
				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				// Support: IE 6 - 11
				// Use the isDisabled shortcut property to check for disabled fieldset ancestors
				return elem.isDisabled === disabled ||

					// Where there is no isDisabled, check manually
					/* jshint -W018 */
					elem.isDisabled !== !disabled &&
					inDisabledFieldset( elem ) === disabled;
			}

			return elem.disabled === disabled;

		// Try to winnow out elements that can't be disabled before trusting the disabled property.
		// Some victims get caught in our net (label, legend, menu, track), but it shouldn't
		// even exist on them, let alone have a boolean value.
		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		// Remaining elements are neither :enabled nor :disabled
		return false;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction( function( argument ) {
		argument = +argument;
		return markFunction( function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ ( j = matchIndexes[ i ] ) ] ) {
					seed[ j ] = !( matches[ j ] = seed[ j ] );
				}
			}
		} );
	} );
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	var namespace = elem.namespaceURI,
		docElem = ( elem.ownerDocument || elem ).documentElement;

	// Support: IE <=8
	// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes
	// https://bugs.jquery.com/ticket/4833
	return !rhtml.test( namespace || docElem && docElem.nodeName || "HTML" );
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9 - 11+, Edge 12 - 18+
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( preferredDoc != document &&
		( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {

		// Support: IE 11, Edge
		if ( subWindow.addEventListener ) {
			subWindow.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( subWindow.attachEvent ) {
			subWindow.attachEvent( "onunload", unloadHandler );
		}
	}

	// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,
	// Safari 4 - 5 only, Opera <=11.6 - 12.x only
	// IE/Edge & older browsers don't support the :scope pseudo-class.
	// Support: Safari 6.0 only
	// Safari 6.0 supports :scope but it's an alias of :root there.
	support.scope = assert( function( el ) {
		docElem.appendChild( el ).appendChild( document.createElement( "div" ) );
		return typeof el.querySelectorAll !== "undefined" &&
			!el.querySelectorAll( ":scope fieldset div" ).length;
	} );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert( function( el ) {
		el.className = "i";
		return !el.getAttribute( "className" );
	} );

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert( function( el ) {
		el.appendChild( document.createComment( "" ) );
		return !el.getElementsByTagName( "*" ).length;
	} );

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programmatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert( function( el ) {
		docElem.appendChild( el ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	} );

	// ID filter and find
	if ( support.getById ) {
		Expr.filter[ "ID" ] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute( "id" ) === attrId;
			};
		};
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter[ "ID" ] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode( "id" );
				return node && node.value === attrId;
			};
		};

		// Support: IE 6 - 7 only
		// getElementById is not reliable as a find shortcut
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					// Verify the id attribute
					node = elem.getAttributeNode( "id" );
					if ( node && node.value === id ) {
						return [ elem ];
					}

					// Fall back on getElementsByName
					elems = context.getElementsByName( id );
					i = 0;
					while ( ( elem = elems[ i++ ] ) ) {
						node = elem.getAttributeNode( "id" );
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	// Tag
	Expr.find[ "TAG" ] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,

				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( ( elem = results[ i++ ] ) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find[ "CLASS" ] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See https://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {

		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert( function( el ) {

			var input;

			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// https://bugs.jquery.com/ticket/12359
			docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( el.querySelectorAll( "[msallowcapture^='']" ).length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !el.querySelectorAll( "[selected]" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push( "~=" );
			}

			// Support: IE 11+, Edge 15 - 18+
			// IE 11/Edge don't find elements on a `[name='']` query in some cases.
			// Adding a temporary attribute to the document before the selection works
			// around the issue.
			// Interestingly, IE 10 & older don't seem to have the issue.
			input = document.createElement( "input" );
			input.setAttribute( "name", "" );
			el.appendChild( input );
			if ( !el.querySelectorAll( "[name='']" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*name" + whitespace + "*=" +
					whitespace + "*(?:''|\"\")" );
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !el.querySelectorAll( ":checked" ).length ) {
				rbuggyQSA.push( ":checked" );
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibling-combinator selector` fails
			if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push( ".#.+[+~]" );
			}

			// Support: Firefox <=3.6 - 5 only
			// Old Firefox doesn't throw on a badly-escaped identifier.
			el.querySelectorAll( "\\\f" );
			rbuggyQSA.push( "[\\r\\n\\f]" );
		} );

		assert( function( el ) {
			el.innerHTML = "<a href='' disabled='disabled'></a>" +
				"<select disabled='disabled'><option/></select>";

			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement( "input" );
			input.setAttribute( "type", "hidden" );
			el.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( el.querySelectorAll( "[name=d]" ).length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( el.querySelectorAll( ":enabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: IE9-11+
			// IE's :disabled selector does not pick up the children of disabled fieldsets
			docElem.appendChild( el ).disabled = true;
			if ( el.querySelectorAll( ":disabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: Opera 10 - 11 only
			// Opera 10-11 does not throw on post-comma invalid pseudos
			el.querySelectorAll( "*,:x" );
			rbuggyQSA.push( ",.*:" );
		} );
	}

	if ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector ) ) ) ) {

		assert( function( el ) {

			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( el, "*" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( el, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		} );
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( "|" ) );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( "|" ) );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			) );
		} :
		function( a, b ) {
			if ( b ) {
				while ( ( b = b.parentNode ) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		// Support: IE 11+, Edge 17 - 18+
		// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
		// two documents; shallow comparisons work.
		// eslint-disable-next-line eqeqeq
		compare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {

			// Choose the first element that is related to our preferred document
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( a == document || a.ownerDocument == preferredDoc &&
				contains( preferredDoc, a ) ) {
				return -1;
			}

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( b == document || b.ownerDocument == preferredDoc &&
				contains( preferredDoc, b ) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {

		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			return a == document ? -1 :
				b == document ? 1 :
				/* eslint-enable eqeqeq */
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( ( cur = cur.parentNode ) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( ( cur = cur.parentNode ) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[ i ] === bp[ i ] ) {
			i++;
		}

		return i ?

			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[ i ], bp[ i ] ) :

			// Otherwise nodes in our document sort first
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			ap[ i ] == preferredDoc ? -1 :
			bp[ i ] == preferredDoc ? 1 :
			/* eslint-enable eqeqeq */
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	setDocument( elem );

	if ( support.matchesSelector && documentIsHTML &&
		!nonnativeSelectorCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||

				// As well, disconnected nodes are said to be in a document
				// fragment in IE 9
				elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch ( e ) {
			nonnativeSelectorCache( expr, true );
		}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( context.ownerDocument || context ) != document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( elem.ownerDocument || elem ) != document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],

		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			( val = elem.getAttributeNode( name ) ) && val.specified ?
				val.value :
				null;
};

Sizzle.escape = function( sel ) {
	return ( sel + "" ).replace( rcssescape, fcssescape );
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( ( elem = results[ i++ ] ) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {

		// If no nodeType, this is expected to be an array
		while ( ( node = elem[ i++ ] ) ) {

			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {

		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {

			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}

	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[ 1 ] = match[ 1 ].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[ 3 ] = ( match[ 3 ] || match[ 4 ] ||
				match[ 5 ] || "" ).replace( runescape, funescape );

			if ( match[ 2 ] === "~=" ) {
				match[ 3 ] = " " + match[ 3 ] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {

			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[ 1 ] = match[ 1 ].toLowerCase();

			if ( match[ 1 ].slice( 0, 3 ) === "nth" ) {

				// nth-* requires argument
				if ( !match[ 3 ] ) {
					Sizzle.error( match[ 0 ] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[ 4 ] = +( match[ 4 ] ?
					match[ 5 ] + ( match[ 6 ] || 1 ) :
					2 * ( match[ 3 ] === "even" || match[ 3 ] === "odd" ) );
				match[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === "odd" );

				// other types prohibit arguments
			} else if ( match[ 3 ] ) {
				Sizzle.error( match[ 0 ] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[ 6 ] && match[ 2 ];

			if ( matchExpr[ "CHILD" ].test( match[ 0 ] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[ 3 ] ) {
				match[ 2 ] = match[ 4 ] || match[ 5 ] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&

				// Get excess from tokenize (recursively)
				( excess = tokenize( unquoted, true ) ) &&

				// advance to the next closing parenthesis
				( excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length ) ) {

				// excess is a negative index
				match[ 0 ] = match[ 0 ].slice( 0, excess );
				match[ 2 ] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() {
					return true;
				} :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				( pattern = new RegExp( "(^|" + whitespace +
					")" + className + "(" + whitespace + "|$)" ) ) && classCache(
						className, function( elem ) {
							return pattern.test(
								typeof elem.className === "string" && elem.className ||
								typeof elem.getAttribute !== "undefined" &&
									elem.getAttribute( "class" ) ||
								""
							);
				} );
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				/* eslint-disable max-len */

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
				/* eslint-enable max-len */

			};
		},

		"CHILD": function( type, what, _argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, _context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( ( node = node[ dir ] ) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}

								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || ( node[ expando ] = {} );

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								( outerCache[ node.uniqueID ] = {} );

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( ( node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								( diff = nodeIndex = 0 ) || start.pop() ) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {

							// Use previously-cached element index if available
							if ( useCache ) {

								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || ( node[ expando ] = {} );

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									( outerCache[ node.uniqueID ] = {} );

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {

								// Use the same loop as above to seek `elem` from the start
								while ( ( node = ++nodeIndex && node && node[ dir ] ||
									( diff = nodeIndex = 0 ) || start.pop() ) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] ||
												( node[ expando ] = {} );

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												( outerCache[ node.uniqueID ] = {} );

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {

			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction( function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[ i ] );
							seed[ idx ] = !( matches[ idx ] = matched[ i ] );
						}
					} ) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {

		// Potentially complex pseudos
		"not": markFunction( function( selector ) {

			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction( function( seed, matches, _context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( ( elem = unmatched[ i ] ) ) {
							seed[ i ] = !( matches[ i ] = elem );
						}
					}
				} ) :
				function( elem, _context, xml ) {
					input[ 0 ] = elem;
					matcher( input, null, xml, results );

					// Don't keep the element (issue #299)
					input[ 0 ] = null;
					return !results.pop();
				};
		} ),

		"has": markFunction( function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		} ),

		"contains": markFunction( function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;
			};
		} ),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {

			// lang value must be a valid identifier
			if ( !ridentifier.test( lang || "" ) ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( ( elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute( "xml:lang" ) || elem.getAttribute( "lang" ) ) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );
				return false;
			};
		} ),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement &&
				( !document.hasFocus || document.hasFocus() ) &&
				!!( elem.type || elem.href || ~elem.tabIndex );
		},

		// Boolean properties
		"enabled": createDisabledPseudo( false ),
		"disabled": createDisabledPseudo( true ),

		"checked": function( elem ) {

			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return ( nodeName === "input" && !!elem.checked ) ||
				( nodeName === "option" && !!elem.selected );
		},

		"selected": function( elem ) {

			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				// eslint-disable-next-line no-unused-expressions
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {

			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos[ "empty" ]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( ( attr = elem.getAttribute( "type" ) ) == null ||
					attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo( function() {
			return [ 0 ];
		} ),

		"last": createPositionalPseudo( function( _matchIndexes, length ) {
			return [ length - 1 ];
		} ),

		"eq": createPositionalPseudo( function( _matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		} ),

		"even": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"odd": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"lt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ?
				argument + length :
				argument > length ?
					length :
					argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"gt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} )
	}
};

Expr.pseudos[ "nth" ] = Expr.pseudos[ "eq" ];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || ( match = rcomma.exec( soFar ) ) ) {
			if ( match ) {

				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[ 0 ].length ) || soFar;
			}
			groups.push( ( tokens = [] ) );
		}

		matched = false;

		// Combinators
		if ( ( match = rcombinators.exec( soFar ) ) ) {
			matched = match.shift();
			tokens.push( {
				value: matched,

				// Cast descendant combinators to space
				type: match[ 0 ].replace( rtrim, " " )
			} );
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||
				( match = preFilters[ type ]( match ) ) ) ) {
				matched = match.shift();
				tokens.push( {
					value: matched,
					type: type,
					matches: match
				} );
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :

			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[ i ].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?

		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( ( elem = elem[ dir ] ) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || ( elem[ expando ] = {} );

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] ||
							( outerCache[ elem.uniqueID ] = {} );

						if ( skip && skip === elem.nodeName.toLowerCase() ) {
							elem = elem[ dir ] || elem;
						} else if ( ( oldCache = uniqueCache[ key ] ) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return ( newCache[ 2 ] = oldCache[ 2 ] );
						} else {

							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ key ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[ i ]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[ 0 ];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[ i ], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( ( elem = unmatched[ i ] ) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction( function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts(
				selector || "*",
				context.nodeType ? [ context ] : context,
				[]
			),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?

				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( ( elem = temp[ i ] ) ) {
					matcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {

					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( ( elem = matcherOut[ i ] ) ) {

							// Restore matcherIn since elem is not yet a final match
							temp.push( ( matcherIn[ i ] = elem ) );
						}
					}
					postFinder( null, ( matcherOut = [] ), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( ( elem = matcherOut[ i ] ) &&
						( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {

						seed[ temp ] = !( results[ temp ] = elem );
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	} );
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[ 0 ].type ],
		implicitRelative = leadingRelative || Expr.relative[ " " ],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				( checkContext = context ).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );

			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {
			matchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];
		} else {
			matcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {

				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[ j ].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(

					// If the preceding token was a descendant combinator, insert an implicit any-element `*`
					tokens
						.slice( 0, i - 1 )
						.concat( { value: tokens[ i - 2 ].type === " " ? "*" : "" } )
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,

				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find[ "TAG" ]( "*", outermost ),

				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),
				len = elems.length;

			if ( outermost ) {

				// Support: IE 11+, Edge 17 - 18+
				// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
				// two documents; shallow comparisons work.
				// eslint-disable-next-line eqeqeq
				outermostContext = context == document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;

					// Support: IE 11+, Edge 17 - 18+
					// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
					// two documents; shallow comparisons work.
					// eslint-disable-next-line eqeqeq
					if ( !context && elem.ownerDocument != document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( ( matcher = elementMatchers[ j++ ] ) ) {
						if ( matcher( elem, context || document, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {

					// They will have gone through all possible matchers
					if ( ( elem = !matcher && elem ) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( ( matcher = setMatchers[ j++ ] ) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {

					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !( unmatched[ i ] || setMatched[ i ] ) ) {
								setMatched[ i ] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {

		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[ i ] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache(
			selector,
			matcherFromGroupMatchers( elementMatchers, setMatchers )
		);

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( ( selector = compiled.selector || selector ) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[ 0 ] = match[ 0 ].slice( 0 );
		if ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === "ID" &&
			context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {

			context = ( Expr.find[ "ID" ]( token.matches[ 0 ]
				.replace( runescape, funescape ), context ) || [] )[ 0 ];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr[ "needsContext" ].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[ i ];

			// Abort if we hit a combinator
			if ( Expr.relative[ ( type = token.type ) ] ) {
				break;
			}
			if ( ( find = Expr.find[ type ] ) ) {

				// Search, expanding context for leading sibling combinators
				if ( ( seed = find(
					token.matches[ 0 ].replace( runescape, funescape ),
					rsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||
						context
				) ) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split( "" ).sort( sortOrder ).join( "" ) === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert( function( el ) {

	// Should return 1, but returns 4 (following)
	return el.compareDocumentPosition( document.createElement( "fieldset" ) ) & 1;
} );

// Support: IE<8
// Prevent attribute/property "interpolation"
// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert( function( el ) {
	el.innerHTML = "<a href='#'></a>";
	return el.firstChild.getAttribute( "href" ) === "#";
} ) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	} );
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert( function( el ) {
	el.innerHTML = "<input/>";
	el.firstChild.setAttribute( "value", "" );
	return el.firstChild.getAttribute( "value" ) === "";
} ) ) {
	addHandle( "value", function( elem, _name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	} );
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert( function( el ) {
	return el.getAttribute( "disabled" ) == null;
} ) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
				( val = elem.getAttributeNode( name ) ) && val.specified ?
					val.value :
					null;
		}
	} );
}

return Sizzle;

} )( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;

// Deprecated
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;
jQuery.escapeSelector = Sizzle.escape;




var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

};
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Filtered directly for both simple and complex selectors
	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, _i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, _i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, _i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		if ( elem.contentDocument != null &&

			// Support: IE 11+
			// <object> elements with no `data` attribute has an object
			// `contentDocument` with a `null` prototype.
			getProto( elem.contentDocument ) ) {

			return elem.contentDocument;
		}

		// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
		// Treat the template element as a regular one in browsers that
		// don't support it.
		if ( nodeName( elem, "template" ) ) {
			elem = elem.content || elem;
		}

		return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		// Check for promise aspect first to privilege synchronous behavior
		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		// Other thenables
		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		// Other non-thenables
		} else {

			// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
			// * false: [ value ].slice( 0 ) => resolve( value )
			// * true: [ value ].slice( 1 ) => resolve()
			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	// For Promises/A+, convert exceptions into rejections
	// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	// Deferred#then to conditionally suppress rejection.
	} catch ( value ) {

		// Support: Android 4.0 only
		// Strict mode functions invoked without .call/.apply get global-object context
		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, callbacks,
				// ... .then handlers, argument index, [final state]
				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				// Keep pipe for back-compat
				pipe: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( _i, tuple ) {

							// Map tuples (progress, done, fail) to arguments (done, fail, progress)
							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							// deferred.progress(function() { bind to newDefer or newDefer.notify })
							// deferred.done(function() { bind to newDefer or newDefer.resolve })
							// deferred.fail(function() { bind to newDefer or newDefer.reject })
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									// Support: Promises/A+ section 2.3.3.3.3
									// https://promisesaplus.com/#point-59
									// Ignore double-resolution attempts
									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									// Support: Promises/A+ section 2.3.1
									// https://promisesaplus.com/#point-48
									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									// Support: Promises/A+ sections 2.3.3.1, 3.5
									// https://promisesaplus.com/#point-54
									// https://promisesaplus.com/#point-75
									// Retrieve `then` only once
									then = returned &&

										// Support: Promises/A+ section 2.3.4
										// https://promisesaplus.com/#point-64
										// Only check objects and functions for thenability
										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									// Handle a returned thenable
									if ( isFunction( then ) ) {

										// Special processors (notify) just wait for resolution
										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										// Normal processors (resolve) also hook into progress
										} else {

											// ...and disregard older resolution values
											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									// Handle all other returned values
									} else {

										// Only substitute handlers pass on context
										// and multiple values (non-spec behavior)
										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										// Process the value(s)
										// Default process is resolve
										( special || deferred.resolveWith )( that, args );
									}
								},

								// Only normal processors (resolve) catch and reject exceptions
								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.stackTrace );
											}

											// Support: Promises/A+ section 2.3.3.3.4.1
											// https://promisesaplus.com/#point-61
											// Ignore post-resolution exceptions
											if ( depth + 1 >= maxDepth ) {

												// Only substitute handlers pass on context
												// and multiple values (non-spec behavior)
												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							// Support: Promises/A+ section 2.3.3.3.1
							// https://promisesaplus.com/#point-57
							// Re-resolve promises immediately to dodge false rejection from
							// subsequent errors
							if ( depth ) {
								process();
							} else {

								// Call an optional hook to record the stack, in case of exception
								// since it's otherwise lost when execution goes async
								if ( jQuery.Deferred.getStackHook ) {
									process.stackTrace = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						// progress_handlers.add( ... )
						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						// fulfilled_handlers.add( ... )
						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						// rejected_handlers.add( ... )
						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			// promise.progress = list.add
			// promise.done = list.add
			// promise.fail = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(
					function() {

						// state = "resolved" (i.e., fulfilled)
						// state = "rejected"
						state = stateString;
					},

					// rejected_callbacks.disable
					// fulfilled_callbacks.disable
					tuples[ 3 - i ][ 2 ].disable,

					// rejected_handlers.disable
					// fulfilled_handlers.disable
					tuples[ 3 - i ][ 3 ].disable,

					// progress_callbacks.lock
					tuples[ 0 ][ 2 ].lock,

					// progress_handlers.lock
					tuples[ 0 ][ 3 ].lock
				);
			}

			// progress_handlers.fire
			// fulfilled_handlers.fire
			// rejected_handlers.fire
			list.add( tuple[ 3 ].fire );

			// deferred.notify = function() { deferred.notifyWith(...) }
			// deferred.resolve = function() { deferred.resolveWith(...) }
			// deferred.reject = function() { deferred.rejectWith(...) }
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			// deferred.notifyWith = list.fireWith
			// deferred.resolveWith = list.fireWith
			// deferred.rejectWith = list.fireWith
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( singleValue ) {
		var

			// count of uncompleted subordinates
			remaining = arguments.length,

			// count of unprocessed arguments
			i = remaining,

			// subordinate fulfillment data
			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			// the master Deferred
			master = jQuery.Deferred(),

			// subordinate callback factory
			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						master.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		// Single- and empty arguments are adopted like Promise.resolve
		if ( remaining <= 1 ) {
			adoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,
				!remaining );

			// Use .then() to unwrap secondary thenables (cf. gh-3000)
			if ( master.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return master.then();
			}
		}

		// Multiple arguments are aggregated like Promise.all array elements
		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), master.reject );
		}

		return master.promise();
	}
} );


// These usually indicate a programmer mistake during development,
// warn about them ASAP rather than swallowing them by default.
var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, stack ) {

	// Support: IE 8 - 9 only
	// Console exists when dev tools are open, which can happen at any time
	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// The deferred used on DOM ready
var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		// Wrap jQuery.readyException in a function so that the lookup
		// happens at the time of error handling instead of callback
		// registration.
		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

// The ready event handler and self cleanup method
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE <=9 - 10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, _key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
					value :
					value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


// Matches dashed string for camelizing
var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

// Used by camelCase as callback to replace()
function fcamelCase( _all, letter ) {
	return letter.toUpperCase();
}

// Convert dashed to camelCase; used by the css and data modules
// Support: IE <=9 - 11, Edge 12 - 15
// Microsoft forgot to hump their vendor prefix (#9572)
function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var documentElement = document.documentElement;



	var isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem );
		},
		composed = { composed: true };

	// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
	// Check attachment across shadow DOM boundaries when possible (gh-3504)
	// Support: iOS 10.0-10.2 only
	// Early iOS 10 versions support `attachShadow` but not `getRootNode`,
	// leading to errors. We need to check for `getRootNode`.
	if ( documentElement.getRootNode ) {
		isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem ) ||
				elem.getRootNode( composed ) === elem.ownerDocument;
		};
	}
var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			isAttached( elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = elem.nodeType &&
			( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Support: Firefox <=54
		// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
		initial = initial / 2;

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			// Evaluate and update our best guess (doubling guesses that zero out).
			// Finish if the scale equals or crosses 1 (making the old*new product non-positive).
			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	// Determine new display value for elements that need to change
	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			// Since we force visibility upon cascade-hidden elements, an immediate (and slow)
			// check is required in this first loop unless we have a nonempty display value (either
			// inline or about-to-be-restored)
			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				// Remember what we're overwriting
				dataPriv.set( elem, "display", display );
			}
		}
	}

	// Set the display of the elements in a second loop to avoid constant reflow
	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

	// Support: IE <=9 only
	// IE <=9 replaces <option> tags with their contents when inserted outside of
	// the select element.
	div.innerHTML = "<option></option>";
	support.option = !!div.lastChild;
} )();


// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: IE <=9 only
if ( !support.option ) {
	wrapMap.optgroup = wrapMap.option = [ 1, "<select multiple='multiple'>", "</select>" ];
}


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, attached, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( toType( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		attached = isAttached( elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( attached ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 - 11+
// focus() and blur() are asynchronous, except when they are no-op.
// So expect focus to be synchronous when the element is already active,
// and blur to be synchronous when the element is not already active.
// (focus and blur are always synchronous in other supported browsers,
// this just defines when we can count on it).
function expectSync( elem, type ) {
	return ( elem === safeActiveElement() ) === ( type === "focus" );
}

// Support: IE <=9 only
// Accessing document.activeElement can throw unexpectedly
// https://bugs.jquery.com/ticket/13393
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Only attach events to objects that accept data
		if ( !acceptData( elem ) ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = Object.create( null );
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),

			// Make a writable jQuery.Event from the native event object
			event = jQuery.event.fix( nativeEvent ),

			handlers = (
					dataPriv.get( this, "events" ) || Object.create( null )
				)[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// If the event is namespaced, then each handler is only invoked if it is
				// specially universal or its namespaces are a superset of the event's.
				if ( !event.rnamespace || handleObj.namespace === false ||
					event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
							return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
							return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		click: {

			// Utilize native event to ensure correct state for checkable inputs
			setup: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Claim the first handler
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					// dataPriv.set( el, "click", ... )
					leverageNative( el, "click", returnTrue );
				}

				// Return false to allow normal processing in the caller
				return false;
			},
			trigger: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Force setup before triggering a click
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click" );
				}

				// Return non-false to allow normal event-path propagation
				return true;
			},

			// For cross-browser consistency, suppress native .click() on links
			// Also prevent it if we're currently inside a leveraged native-event stack
			_default: function( event ) {
				var target = event.target;
				return rcheckableType.test( target.type ) &&
					target.click && nodeName( target, "input" ) &&
					dataPriv.get( target, "click" ) ||
					nodeName( target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

// Ensure the presence of an event listener that handles manually-triggered
// synthetic events by interrupting progress until reinvoked in response to
// *native* events that it fires directly, ensuring that state changes have
// already occurred before other listeners are invoked.
function leverageNative( el, type, expectSync ) {

	// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add
	if ( !expectSync ) {
		if ( dataPriv.get( el, type ) === undefined ) {
			jQuery.event.add( el, type, returnTrue );
		}
		return;
	}

	// Register the controller as a special universal handler for all event namespaces
	dataPriv.set( el, type, false );
	jQuery.event.add( el, type, {
		namespace: false,
		handler: function( event ) {
			var notAsync, result,
				saved = dataPriv.get( this, type );

			if ( ( event.isTrigger & 1 ) && this[ type ] ) {

				// Interrupt processing of the outer synthetic .trigger()ed event
				// Saved data should be false in such cases, but might be a leftover capture object
				// from an async native handler (gh-4350)
				if ( !saved.length ) {

					// Store arguments for use when handling the inner native event
					// There will always be at least one argument (an event object), so this array
					// will not be confused with a leftover capture object.
					saved = slice.call( arguments );
					dataPriv.set( this, type, saved );

					// Trigger the native event and capture its result
					// Support: IE <=9 - 11+
					// focus() and blur() are asynchronous
					notAsync = expectSync( this, type );
					this[ type ]();
					result = dataPriv.get( this, type );
					if ( saved !== result || notAsync ) {
						dataPriv.set( this, type, false );
					} else {
						result = {};
					}
					if ( saved !== result ) {

						// Cancel the outer synthetic event
						event.stopImmediatePropagation();
						event.preventDefault();
						return result.value;
					}

				// If this is an inner synthetic event for an event with a bubbling surrogate
				// (focus or blur), assume that the surrogate already propagated from triggering the
				// native event and prevent that from happening again here.
				// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
				// bubbling surrogate propagates *after* the non-bubbling base), but that seems
				// less bad than duplication.
				} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {
					event.stopPropagation();
				}

			// If this is a native event triggered above, everything is now in order
			// Fire an inner synthetic event with the original arguments
			} else if ( saved.length ) {

				// ...and capture the result
				dataPriv.set( this, type, {
					value: jQuery.event.trigger(

						// Support: IE <=9 - 11+
						// Extend with the prototype to reset the above stopImmediatePropagation()
						jQuery.extend( saved[ 0 ], jQuery.Event.prototype ),
						saved.slice( 1 ),
						this
					)
				} );

				// Abort handling of the native event
				event.stopImmediatePropagation();
			}
		}
	} );
}

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (#504, #13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || Date.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	code: true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,

	which: function( event ) {
		var button = event.button;

		// Add which for key events
		if ( event.which == null && rkeyEvent.test( event.type ) ) {
			return event.charCode != null ? event.charCode : event.keyCode;
		}

		// Add which for click: 1 === left; 2 === middle; 3 === right
		if ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {
			if ( button & 1 ) {
				return 1;
			}

			if ( button & 2 ) {
				return 3;
			}

			if ( button & 4 ) {
				return 2;
			}

			return 0;
		}

		return event.which;
	}
}, jQuery.event.addProp );

jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {
	jQuery.event.special[ type ] = {

		// Utilize native event if possible so blur/focus sequence is correct
		setup: function() {

			// Claim the first handler
			// dataPriv.set( this, "focus", ... )
			// dataPriv.set( this, "blur", ... )
			leverageNative( this, type, expectSync );

			// Return false to allow normal processing in the caller
			return false;
		},
		trigger: function() {

			// Force setup before trigger
			leverageNative( this, type );

			// Return non-false to allow normal event-path propagation
			return true;
		},

		delegateType: delegateType
	};
} );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.get( src );
		events = pdataOld.events;

		if ( events ) {
			dataPriv.remove( dest, "handle events" );

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = flat( args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl && !node.noModule ) {
								jQuery._evalUrl( node.src, {
									nonce: node.nonce || node.getAttribute( "nonce" )
								}, doc );
							}
						} else {
							DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && isAttached( node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html;
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = isAttached( elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var swap = function( elem, options, callback ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.call( elem );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );



( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
		// Some styles come back with percentage values, even though they shouldn't
		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		// Support: IE 9 - 11 only
		// Detect misreporting of content dimensions for box-sizing:border-box elements
		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		// Support: IE 9 only
		// Detect overflow:scroll screwiness (gh-3699)
		// Support: Chrome <=64
		// Don't get tricked when zoom affects offsetWidth (gh-4029)
		div.style.position = "absolute";
		scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableTrDimensionsVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		},

		// Support: IE 9 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Behavior in IE 9 is more subtle than in newer versions & it passes
		// some versions of this test; make sure not to make it pass there!
		reliableTrDimensions: function() {
			var table, tr, trChild, trStyle;
			if ( reliableTrDimensionsVal == null ) {
				table = document.createElement( "table" );
				tr = document.createElement( "tr" );
				trChild = document.createElement( "div" );

				table.style.cssText = "position:absolute;left:-11111px";
				tr.style.height = "1px";
				trChild.style.height = "9px";

				documentElement
					.appendChild( table )
					.appendChild( tr )
					.appendChild( trChild );

				trStyle = window.getComputedStyle( tr );
				reliableTrDimensionsVal = parseInt( trStyle.height ) > 3;

				documentElement.removeChild( table );
			}
			return reliableTrDimensionsVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, #12537)
	//   .css('--customProperty) (#3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( ret === "" && !isAttached( elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style,
	vendorProps = {};

// Return a vendor-prefixed property or undefined
function vendorPropName( name ) {

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a potentially-mapped jQuery.cssProps or vendor prefixed property
function finalPropName( name ) {
	var final = jQuery.cssProps[ name ] || vendorProps[ name ];

	if ( final ) {
		return final;
	}
	if ( name in emptyStyle ) {
		return name;
	}
	return vendorProps[ name ] = vendorPropName( name ) || name;
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rcustomProp = /^--/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	};

function setPositiveNumber( _elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5

		// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
		// Use an explicit zero to avoid NaN (gh-3964)
		) ) || 0;
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),

		// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
		// Fake content-box until we know it's needed to know the true value.
		boxSizingNeeded = !support.boxSizingReliable() || extra,
		isBorderBox = boxSizingNeeded &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox,

		val = curCSS( elem, dimension, styles ),
		offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );

	// Support: Firefox <=54
	// Return a confounding non-pixel value or feign ignorance, as appropriate.
	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}


	// Support: IE 9 - 11 only
	// Use offsetWidth/offsetHeight for when box sizing is unreliable.
	// In those cases, the computed value can be trusted to be border-box.
	if ( ( !support.boxSizingReliable() && isBorderBox ||

		// Support: IE 10 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Interestingly, in some cases IE 9 doesn't suffer from this issue.
		!support.reliableTrDimensions() && nodeName( elem, "tr" ) ||

		// Fall back to offsetWidth/offsetHeight when value is "auto"
		// This happens for inline elements with no explicit setting (gh-3571)
		val === "auto" ||

		// Support: Android <=4.1 - 4.3 only
		// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&

		// Make sure the element is visible & connected
		elem.getClientRects().length ) {

		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		// Where available, offsetWidth/offsetHeight approximate border box dimensions.
		// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
		// retrieved value as a content box dimension.
		valueIsBorderBox = offsetProp in elem;
		if ( valueIsBorderBox ) {
			val = elem[ offsetProp ];
		}
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"gridArea": true,
		"gridColumn": true,
		"gridColumnEnd": true,
		"gridColumnStart": true,
		"gridRow": true,
		"gridRowEnd": true,
		"gridRowStart": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
			// "px" to a few hardcoded values.
			if ( type === "number" && !isCustomProp ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( _i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
						swap( elem, cssShow, function() {
							return getWidthOrHeight( elem, dimension, extra );
						} ) :
						getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),

				// Only read styles.position if the test has a chance to fail
				// to avoid forcing a reflow.
				scrollboxSizeBuggy = !support.scrollboxSize() &&
					styles.position === "absolute",

				// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
				boxSizingNeeded = scrollboxSizeBuggy || extra,
				isBorderBox = boxSizingNeeded &&
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra ?
					boxModelAdjustment(
						elem,
						dimension,
						extra,
						isBorderBox,
						styles
					) :
					0;

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && scrollboxSizeBuggy ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
				) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 && (
					jQuery.cssHooks[ tween.prop ] ||
					tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9 only
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Queue-skipping animations hijack the fx hooks
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Detect show/hide animations
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// Pretend to be hidden if this is a "show" and
				// there is still data from a stopped show/hide
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				// Ignore all other no-op show/hide data
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	// Bail out if this is a no-op like .hide().hide()
	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	// Restrict "overflow" and "display" styles during box animations
	if ( isBox && elem.nodeType === 1 ) {

		// Support: IE <=9 - 11, Edge 12 - 15
		// Record all 3 overflow attributes because IE does not infer the shorthand
		// from identically-valued overflowX and overflowY and Edge just mirrors
		// the overflowX value there.
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Identify a display type, preferring old show/hide data over the CSS cascade
		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				// Get nonempty value(s) by temporarily forcing visibility
				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		// Animate inline elements as inline-block
		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				// Restore the original display value at the end of pure show/hide animations
				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// Implement show/hide animations
	propTween = false;
	for ( prop in orig ) {

		// General show/hide setup for this element animation
		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			// Store hidden/visible for toggle so `.stop().toggle()` "reverses"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			// Show elements before animating them
			if ( hidden ) {
				showHide( [ elem ], true );
			}

			/* eslint-disable no-loop-func */

			anim.done( function() {

			/* eslint-enable no-loop-func */

				// The final step of a "hide" animation is actually hiding the element
				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		// Per-property setup
		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3 only
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			// If there's more to do, yield
			if ( percent < 1 && length ) {
				return remaining;
			}

			// If this was an empty animation, synthesize a final progress notification
			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			// Resolve the animation and report its conclusion
			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	// Attach callbacks from options
	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	// Go to the end state if fx are off
	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( _i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Run the timer and safely remove it when done (allowing for external removal)
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: Android <=4.3 only
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE <=11 only
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: IE <=11 only
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( _i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// Support: IE <=9 - 11 only
				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
// eslint rule "no-unused-expressions" is disabled for this code
// since it considers such accessions noop
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( isValidValue ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = classesToArray( value );

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
						"" :
						dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
					return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


support.focusin = "onfocusin" in window;


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = (
					dataPriv.get( cur, "events" ) || Object.create( null )
				)[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


// Support: Firefox <=44
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {

				// Handle: regular nodes (via `this.ownerDocument`), window
				// (via `this.document`) & document (via `this`).
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = { guid: Date.now() };

var rquery = ( /\?/ );



// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE 9 - 11 only
	// IE throws on parseFromString with invalid input.
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	if ( a == null ) {
		return "";
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} )
		.filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} )
		.map( function( _i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );
	originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",

		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": JSON.parse,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// Request state (becomes false upon send and true upon completion)
			completed,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// uncached part of the url
			uncached,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
					jQuery( callbackContext ) :
					jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() + " " ] =
									( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] )
										.concat( match[ 2 ] );
							}
						}
						match = responseHeaders[ key.toLowerCase() + " " ];
					}
					return match == null ? null : match.join( ", " );
				},

				// Raw string
				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						} else {

							// Lazy-add the new callbacks in a way that preserves old ones
							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR );

		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE <=8 - 11, Edge 12 - 15
			// IE throws exception on accessing the href property if url is malformed,
			// e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE <=8 - 11 only
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( completed ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		// Remove hash to simplify url manipulation
		cacheURL = s.url.replace( rhash, "" );

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// Remember the hash so we can put it back
			uncached = s.url.slice( cacheURL.length );

			// If data is available and should be processed, append data to url
			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add or update anti-cache param if needed
			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce.guid++ ) +
					uncached;
			}

			// Put hash and anti-cache on the URL that will be requested (gh-1732)
			s.url = cacheURL + uncached;

		// Change '%20' to '+' if this is encoded form body content (gh-2658)
		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( completed ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Rethrow post-completion exceptions
				if ( completed ) {
					throw e;
				}

				// Propagate others as results
				done( -1, e );
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Ignore repeat invocations
			if ( completed ) {
				return;
			}

			completed = true;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Use a noop converter for missing script
			if ( !isSuccess && jQuery.inArray( "script", s.dataTypes ) > -1 ) {
				s.converters[ "text script" ] = function() {};
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( _i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );

jQuery.ajaxPrefilter( function( s ) {
	var i;
	for ( i in s.headers ) {
		if ( i.toLowerCase() === "content-type" ) {
			s.contentType = s.headers[ i ] || "";
		}
	}
} );


jQuery._evalUrl = function( url, options, doc ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,

		// Only evaluate the response if it is successful (gh-4126)
		// dataFilter is not invoked for failure responses, so using it instead
		// of the default converter is kludgy but it works.
		converters: {
			"text script": function() {}
		},
		dataFilter: function( response ) {
			jQuery.globalEval( response, options, doc );
		}
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE <=9 only
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE <=9 only
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see #8605, #14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE <=9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				// Support: IE 9 only
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain or forced-by-attrs requests
	if ( s.crossDomain || s.scriptAttrs ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" )
					.attr( s.scriptAttrs || {} )
					.prop( { charset: s.scriptCharset, src: s.url } )
					.on( "load error", callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					} );

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce.guid++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			if ( typeof props.top === "number" ) {
				props.top += "px";
			}
			if ( typeof props.left === "number" ) {
				props.left += "px";
			}
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( _i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
		function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( _i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	},

	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );

jQuery.each( ( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( _i, name ) {

		// Handle event binding
		jQuery.fn[ name ] = function( data, fn ) {
			return arguments.length > 0 ?
				this.on( name, null, data, fn ) :
				this.trigger( name );
		};
	} );




// Support: Android <=4.0 only
// Make sure we trim BOM and NBSP
var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

// Bind a function to a context, optionally partially applying any
// arguments.
// jQuery.proxy is deprecated to promote standards (specifically Function#bind)
// However, it is not slated for removal any time soon
jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	// Quick check to determine if target is callable, in the spec
	// this throws a TypeError, but we will just return undefined.
	if ( !isFunction( fn ) ) {
		return undefined;
	}

	// Simulated bind
	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	// Set the guid of unique handler to the same of original handler, so it can be removed
	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	// As of jQuery 3.0, isNumeric is limited to
	// strings and numbers (primitives or objects)
	// that can be coerced to finite numbers (gh-2662)
	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		// parseFloat NaNs numeric-cast false positives ("")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		!isNaN( obj - parseFloat( obj ) );
};

jQuery.trim = function( text ) {
	return text == null ?
		"" :
		( text + "" ).replace( rtrim, "" );
};



// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === "undefined" ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );


/***/ }),

/***/ "./node_modules/kotlin-playground/dist/playground.min.js":
/*!***************************************************************!*\
  !*** ./node_modules/kotlin-playground/dist/playground.min.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=162)}([function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!o&&/Chrome\//.test(t),f=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),m=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),g=/Android/.test(t),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=m||/Mac/.test(e),b=/\bCrOS\b/.test(t),x=/win/i.test(e),w=f&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(f=!1,l=!0);var C=y&&(c||f&&(null==w||w<12.11)),k=n||a&&s>=9;function _(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var S,E=function(t,e){var n=t.className,r=_(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function O(t,e){return T(t).appendChild(e)}function M(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function L(t,e,n,r){var i=M(t,e,n,r);return i.setAttribute("role","presentation"),i}function A(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function N(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function P(t,e){var n=t.className;_(e).test(n)||(t.className+=(n?" ":"")+e)}function F(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!_(n[r]).test(e)&&(e+=" "+n[r]);return e}S=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var I=function(t){t.select()};function j(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function D(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function z(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,a=i||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}}m?I=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(I=function(t){try{t.select()}catch(t){}});var R=function(){this.id=null};function B(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}R.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var H=30,W={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},V={origin:"*mouse"},G={origin:"+move"};function K(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=e)return r}}var $=[""];function q(t){for(;$.length<=t;)$.push(Y($)+" ");return $[t]}function Y(t){return t[t.length-1]}function J(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function X(){}function Z(t,e){var n;return Object.create?n=Object.create(t):(X.prototype=t,n=new X),e&&D(e,n),n}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Q.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var rt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function it(t){return t.charCodeAt(0)>=768&&rt.test(t)}function ot(t,e,n){for(;(n<0?e>0:e<t.length)&&it(t.charAt(e));)e+=n;return e}function at(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}var st=null;function lt(t,e,n){var r;st=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:st=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:st=i)}return null!=r?r:st}var ct=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function s(t,e,n){this.level=t,this.from=e,this.to=n}return function(l,c){var u,f="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!n.test(l))return!1;for(var d=l.length,h=[],p=0;p<d;++p)h.push((u=l.charCodeAt(p))<=247?t.charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?e.charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var m=0,g=f;m<d;++m){var v=h[m];"m"==v?h[m]=g:g=v}for(var y=0,b=f;y<d;++y){var x=h[y];"1"==x&&"r"==b?h[y]="n":i.test(x)&&(b=x,"r"==x&&(h[y]="R"))}for(var w=1,C=h[0];w<d-1;++w){var k=h[w];"+"==k&&"1"==C&&"1"==h[w+1]?h[w]="1":","!=k||C!=h[w+1]||"1"!=C&&"n"!=C||(h[w]=C),C=k}for(var _=0;_<d;++_){var S=h[_];if(","==S)h[_]="N";else if("%"==S){var E=void 0;for(E=_+1;E<d&&"%"==h[E];++E);for(var T=_&&"!"==h[_-1]||E<d&&"1"==h[E]?"1":"N",O=_;O<E;++O)h[O]=T;_=E-1}}for(var M=0,L=f;M<d;++M){var A=h[M];"L"==L&&"1"==A?h[M]="L":i.test(A)&&(L=A)}for(var N=0;N<d;++N)if(r.test(h[N])){var P=void 0;for(P=N+1;P<d&&r.test(h[P]);++P);for(var F="L"==(N?h[N-1]:f),I="L"==(P<d?h[P]:f),j=F==I?F?"L":"R":f,D=N;D<P;++D)h[D]=j;N=P-1}for(var z,R=[],B=0;B<d;)if(o.test(h[B])){var H=B;for(++B;B<d&&o.test(h[B]);++B);R.push(new s(0,H,B))}else{var W=B,U=R.length;for(++B;B<d&&"L"!=h[B];++B);for(var V=W;V<B;)if(a.test(h[V])){W<V&&R.splice(U,0,new s(1,W,V));var G=V;for(++V;V<B&&a.test(h[V]);++V);R.splice(U,0,new s(2,G,V)),W=V}else++V;W<B&&R.splice(U,0,new s(1,W,B))}return"ltr"==c&&(1==R[0].level&&(z=l.match(/^\s+/))&&(R[0].from=z[0].length,R.unshift(new s(0,0,z[0].length))),1==Y(R).level&&(z=l.match(/\s+$/))&&(Y(R).to-=z[0].length,R.push(new s(0,d-z[0].length,d)))),"rtl"==c?R.reverse():R}}();function ut(t,e){var n=t.order;return null==n&&(n=t.order=ct(t.text,e)),n}var ft=[],dt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||ft).concat(n)}};function ht(t,e){return t._handlers&&t._handlers[e]||ft}function pt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=B(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function mt(t,e){var n=ht(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function gt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),mt(t,n||e.type,t,e),Ct(e)||e.codemirrorIgnore}function vt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==B(n,e[r])&&n.push(e[r])}function yt(t,e){return ht(t,e).length>0}function bt(t){t.prototype.on=function(t,e){dt(this,t,e)},t.prototype.off=function(t,e){pt(this,t,e)}}function xt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function wt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Ct(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function kt(t){xt(t),wt(t)}function _t(t){return t.target||t.srcElement}function St(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var Et,Tt,Ot=function(){if(a&&s<9)return!1;var t=M("div");return"draggable"in t||"dragDrop"in t}();function Mt(t){if(null==Et){var e=M("span","");O(t,M("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Et=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&s<8))}var n=Et?M("span",""):M("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Lt(t){if(null!=Tt)return Tt;var e=O(t,document.createTextNode("AA")),n=S(e,0,1).getBoundingClientRect(),r=S(e,1,2).getBoundingClientRect();return T(t),!(!n||n.left==n.right)&&(Tt=r.right-n.right<3)}var At,Nt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Pt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Ft="oncopy"in(At=M("div"))||(At.setAttribute("oncopy","return;"),"function"==typeof At.oncopy),It=null,jt={},Dt={};function zt(t){if("string"==typeof t&&Dt.hasOwnProperty(t))t=Dt[t];else if(t&&"string"==typeof t.name&&Dt.hasOwnProperty(t.name)){var e=Dt[t.name];"string"==typeof e&&(e={name:e}),(t=Z(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return zt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return zt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Rt(t,e){e=zt(e);var n=jt[e.name];if(!n)return Rt(t,"text/plain");var r=n(t,e);if(Bt.hasOwnProperty(e.name)){var i=Bt[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)r[a]=e.modeProps[a];return r}var Bt={};function Ht(t,e){var n=Bt.hasOwnProperty(t)?Bt[t]:Bt[t]={};D(e,n)}function Wt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ut(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Vt(t,e,n){return!t.startState||t.startState(e,n)}var Gt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Kt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function $t(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function qt(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function Yt(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function Jt(t){if(null==t.parent)return null;for(var e=t.parent,n=B(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function Xt(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a],l=s.height;if(e<l)break;e-=l}return n+a}function Zt(t,e){return e>=t.first&&e<t.first+t.size}function Qt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,n){if(void 0===n&&(n=null),!(this instanceof te))return new te(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ee(t,e){return t.line-e.line||t.ch-e.ch}function ne(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function re(t){return te(t.line,t.ch)}function ie(t,e){return ee(t,e)<0?e:t}function oe(t,e){return ee(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function se(t,e){if(e.line<t.first)return te(t.first,0);var n=t.first+t.size-1;return e.line>n?te(n,Kt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?te(t.line,e):n<0?te(t.line,0):t}(e,Kt(t,e.line).text.length)}function le(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=se(t,e[r]);return n}Gt.prototype.eol=function(){return this.pos>=this.string.length},Gt.prototype.sol=function(){return this.pos==this.lineStart},Gt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Gt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Gt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Gt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Gt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Gt.prototype.skipToEnd=function(){this.pos=this.string.length},Gt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Gt.prototype.backUp=function(t){this.pos-=t},Gt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Gt.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Gt.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return!1!==e&&(this.pos+=t.length),!0},Gt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Gt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Gt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Gt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ce=function(t,e){this.state=t,this.lookAhead=e},ue=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function fe(t,e,n,r){var i=[t.state.modeGen],o={};xe(t,e.text,t.doc.mode,n,function(t,e){return i.push(t,e)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=t.state.overlays[r],l=1,c=0;n.state=!0,xe(t,e.text,s.mode,n,function(t,e){for(var n=l;c<t;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,c=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function de(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=he(t,Jt(e)),i=e.text.length>t.options.maxHighlightLength&&Wt(t.doc.mode,r.state),o=fe(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function he(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new ue(r,!0,e);var o=function(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=Kt(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof ce?c.lookAhead:0)<=o.modeFrontier))return s;var u=z(l.text,null,t.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}(t,e,n),a=o>r.first&&Kt(r,o-1).stateAfter,s=a?ue.fromSaved(r,a,o):new ue(r,Vt(r.mode),o);return r.iter(o,e,function(n){pe(t,n.text,s);var r=s.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function pe(t,e,n,r){var i=t.doc.mode,o=new Gt(e,t.options.tabSize,n);for(o.start=o.pos=r||0,""==e&&me(i,n.state);!o.eol();)ge(i,o,n.state),o.start=o.pos}function me(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Ut(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ge(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ut(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}ue.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ue.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ue.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ue.fromSaved=function(t,e,n){return e instanceof ce?new ue(t,Wt(t.mode,e.state),n,e.lookAhead):new ue(t,Wt(t.mode,e),n)},ue.prototype.save=function(t){var e=!1!==t?Wt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ce(e,this.maxLookAhead):e};var ve=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ye(t,e,n,r){var i,o=t.doc,a=o.mode;e=se(o,e);var s,l=Kt(o,e.line),c=he(t,e.line,n),u=new Gt(l.text,t.options.tabSize,c);for(r&&(s=[]);(r||u.pos<e.ch)&&!u.eol();)u.start=u.pos,i=ge(a,u,c.state),r&&s.push(new ve(u,i,Wt(o.mode,c.state)));return r?s:new ve(u,i,c.state)}function be(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function xe(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,c=0,u=null,f=new Gt(e,t.options.tabSize,r),d=t.options.addModeClass&&[null];for(""==e&&be(me(n,r.state),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(s=!1,a&&pe(t,e,r,f.pos),f.pos=e.length,l=null):l=be(ge(n,f,r.state,d),o),d){var h=d[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){for(;c<f.start;)c=Math.min(f.start,c+5e3),i(c,u);u=l}f.start=f.pos}for(;c<f.pos;){var p=Math.min(f.pos,c+5e3);i(p,u),c=p}}var we=!1,Ce=!1;function ke(t,e,n){this.marker=t,this.from=e,this.to=n}function _e(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Se(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Ee(t,e){if(e.full)return null;var n=Zt(t,e.from.line)&&Kt(t,e.from.line).markedSpans,r=Zt(t,e.to.line)&&Kt(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==ee(e.from,e.to),s=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(s||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new ke(a,o.from,l?null:o.to))}}return r}(n,i,a),l=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(s||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new ke(a,l?null:o.from-e,null==o.to?null:o.to-e))}}return r}(r,o,a),c=1==e.text.length,u=Y(e.text).length+(c?i:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var h=_e(l,d.marker);h?c&&(d.to=null==h.to?null:h.to+u):d.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=u),null==m.from){var g=_e(s,m.marker);g||(m.from=u,c&&(s||(s=[])).push(m))}else m.from+=u,c&&(s||(s=[])).push(m)}s&&(s=Te(s)),l&&l!=s&&(l=Te(l));var v=[s];if(!c){var y,b=e.text.length-2;if(b>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new ke(s[x].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(l)}return v}function Te(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Oe(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Me(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Le(t){return t.inclusiveLeft?-1:0}function Ae(t){return t.inclusiveRight?1:0}function Ne(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=ee(r.from,i.from)||Le(t)-Le(e);if(o)return-o;var a=ee(r.to,i.to)||Ae(t)-Ae(e);return a||e.id-t.id}function Pe(t,e){var n,r=Ce&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!n||Ne(n,i.marker)<0)&&(n=i.marker);return n}function Fe(t){return Pe(t,!0)}function Ie(t){return Pe(t,!1)}function je(t,e){var n,r=Ce&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Ne(n,o.marker)<0)&&(n=o.marker)}return n}function De(t,e,n,r,i){var o=Kt(t,e),a=Ce&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=ee(c.from,n)||Le(l.marker)-Le(i),f=ee(c.to,r)||Ae(l.marker)-Ae(i);if(!(u>=0&&f<=0||u<=0&&f>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.to,n)>=0:ee(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.from,r)<=0:ee(c.from,r)<0)))return!0}}}function ze(t){for(var e;e=Fe(t);)t=e.find(-1,!0).line;return t}function Re(t,e){var n=Kt(t,e),r=ze(n);return n==r?e:Jt(r)}function Be(t,e){if(e>t.lastLine())return e;var n,r=Kt(t,e);if(!He(t,r))return e;for(;n=Ie(r);)r=n.find(1,!0).line;return Jt(r)+1}function He(t,e){var n=Ce&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&We(t,e,r))return!0}}function We(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return We(t,r.line,_e(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&We(t,e,i))return!0}function Ue(t){t=ze(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;e+=s.height}return e}function Ve(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=Fe(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=Ie(r);){var o=e.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function Ge(t){var e=t.display,n=t.doc;e.maxLine=Kt(n,n.first),e.maxLineLength=Ve(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=Ve(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}var Ke=function(t,e,n){this.text=t,Me(this,e),this.height=n?n(this):1};function $e(t){t.parent=null,Oe(t)}Ke.prototype.lineNo=function(){return Jt(this)},bt(Ke);var qe={},Ye={};function Je(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ye:qe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Xe(t,e){var n=L("span",null,null,l?"padding-right: .1px":null),r={pre:L("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,a=void 0;r.pos=0,r.addToken=Qe,Lt(t.display.measure)&&(a=ut(o,t.doc.direction))&&(r.addToken=tn(r.addToken,a)),r.map=[];var s=e!=t.display.externalMeasured&&Jt(o);nn(o,r,de(t,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=F(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=F(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Mt(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return mt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=F(r.pre.className,r.textClass||"")),r}function Ze(t){var e=M("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Qe(t,e,n,r,i,o,l){if(e){var c,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=""),r+=o,n=" "==o}return r}(e,t.trailingSpace):e,f=t.cm.state.specialChars,d=!1;if(f.test(e)){c=document.createDocumentFragment();for(var h=0;;){f.lastIndex=h;var p=f.exec(e),m=p?p.index-h:e.length-h;if(m){var g=document.createTextNode(u.slice(h,h+m));a&&s<9?c.appendChild(M("span",[g])):c.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!p)break;h+=m+1;var v=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=c.appendChild(M("span",q(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild(M("span","\r"==p[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?c.appendChild(M("span",[v])):c.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),a&&s<9&&(d=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||r||i||d||o){var x=n||"";r&&(x+=r),i&&(x+=i);var w=M("span",[c],x,o);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,l[C]);return t.content.appendChild(w)}t.content.appendChild(c)}}function tn(t,e){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var f=void 0,d=0;d<e.length&&!((f=e[d]).to>c&&f.from<=c);d++);if(f.to>=u)return t(n,r,i,o,a,s,l);t(n,r.slice(0,f.to-c),i,o,null,s,l),o=null,r=r.slice(f.to-c),c=f.to}}}function en(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function nn(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,l,c,u,f,d,h=i.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=s="",d=null,f=null,v=1/0;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],C=w.marker;if("bookmark"==C.type&&w.from==p&&C.widgetNode)y.push(C);else if(w.from<=p&&(null==w.to||w.to>p||C.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&w.from==p&&(u+=" "+C.startStyle),C.endStyle&&w.to==v&&(b||(b=[])).push(C.endStyle,w.to),C.title&&((d||(d={})).title=C.title),C.attributes)for(var k in C.attributes)(d||(d={}))[k]=C.attributes[k];C.collapsed&&(!f||Ne(f.marker,C)<0)&&(f=w)}else w.from>p&&v>w.from&&(v=w.from)}if(b)for(var _=0;_<b.length;_+=2)b[_+1]==v&&(c+=" "+b[_]);if(!f||f.from==p)for(var S=0;S<y.length;++S)en(e,0,y[S]);if(f&&(f.from||0)==p){if(en(e,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=h)break;for(var E=Math.min(h,v);;){if(g){var T=p+g.length;if(!f){var O=T>E?g.slice(0,E-p):g;e.addToken(e,O,a?a+l:l,u,p+O.length==v?c:"",s,d)}if(T>=E){g=g.slice(E-p),p=E;break}p=T,u=""}g=i.slice(o,o=n[m++]),a=Je(n[m++],e.cm.options)}}else for(var M=1;M<n.length;M+=2)e.addToken(e,i.slice(o,o=n[M]),Je(n[M+1],e.cm.options))}function rn(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Ie(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Jt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=He(t,e)}function on(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new rn(t.doc,Kt(t.doc,o),o);r=o+a.size,i.push(a)}return i}var an=null,sn=null;function ln(t,e){var n=ht(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);an?r=an.delayedCallbacks:sn?r=sn:(r=sn=[],setTimeout(cn,0));for(var o=function(t){r.push(function(){return n[t].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function cn(){var t=sn;sn=null;for(var e=0;e<t.length;++e)t[e]()}function un(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?hn(t,e):"gutter"==o?mn(t,e,n,r):"class"==o?pn(t,e):"widget"==o&&gn(t,e,r)}e.changes=null}function fn(t){return t.node==t.text&&(t.node=M("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&s<8&&(t.node.style.zIndex=2)),t.node}function dn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Xe(t,e)}function hn(t,e){var n=e.text.className,r=dn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,pn(t,e)):n&&(e.text.className=n)}function pn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=fn(e);e.background=r.insertBefore(M("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?fn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function mn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=fn(e);e.gutterBackground=M("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var a=fn(e),s=e.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(M("div",Qt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(M("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function gn(t,e,n){e.alignable&&(e.alignable=null);for(var r=e.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&e.node.removeChild(r);yn(t,e,n)}function vn(t,e,n,r){var i=dn(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),pn(t,e),mn(t,e,n,r),yn(t,e,r),e.node}function yn(t,e,n){if(bn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)bn(t,e.rest[r],e,n,!1)}function bn(t,e,n,r,i){if(e.widgets)for(var o=fn(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],c=M("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),xn(l,c,n,r),t.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),ln(l,"redraw")}}function xn(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function wn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!A(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),O(e.display.measure,M("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Cn(t,e){for(var n=_t(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function kn(t){return t.lineSpace.offsetTop}function _n(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Sn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=O(t.measure,M("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function En(t){return H-t.display.nativeBarWidth}function Tn(t){return t.display.scroller.clientWidth-En(t)-t.display.barWidth}function On(t){return t.display.scroller.clientHeight-En(t)-t.display.barHeight}function Mn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(Jt(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Ln(t,e,n,r){return Pn(t,Nn(t,e),n,r)}function An(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[lr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Nn(t,e){var n=Jt(e),r=An(t,n);r&&!r.text?r=null:r&&r.changes&&(un(t,r,n,rr(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=Jt(e=ze(e)),r=t.display.externalMeasured=new rn(t.doc,e,n);r.lineN=n;var i=r.built=Xe(t,r);return r.text=i.pre,O(t.display.lineMeasure,i.pre),r}(t,e));var i=Mn(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Pn(t,e,n,r,i){e.before&&(n=-1);var o,l=n+(r||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,i=r&&Tn(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,r){var i,o=jn(e.map,n,r),l=o.node,c=o.start,u=o.end,f=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&it(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&it(e.line.text.charAt(o.coverStart+u));)++u;if((i=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Dn(S(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,f="right"}a&&s<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=It)return It;var e=O(t,M("span","x")),n=e.getBoundingClientRect(),r=S(e,0,1).getBoundingClientRect();return It=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,i))}else{var h;c>0&&(f=r="right"),i=t.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==r?h.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+nr(t.display),top:p.top,bottom:p.bottom}:In}for(var m=i.top-e.rect.top,g=i.bottom-e.rect.top,v=(m+g)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var x=b?y[b-1]:0,w=y[b],C={left:("right"==f?i.right:i.left)-e.rect.left,right:("left"==f?i.left:i.right)-e.rect.left,top:x,bottom:w};return i.left||i.right||(C.bogus=!0),t.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}(t,e,n,r)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Fn,In={left:0,right:0,top:0,bottom:0};function jn(t,e,n){for(var r,i,o,a,s,l,c=0;c<t.length;c+=3)if(s=t[c],l=t[c+1],e<s?(i=0,o=1,a="left"):e<l?o=1+(i=e-s):(c==t.length-3||e==l&&t[c+3]>e)&&(i=(o=l-s)-1,e>=l&&(a="right")),null!=i){if(r=t[c+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)r=t[2+(c-=3)],a="left";if("right"==n&&i==l-s)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)r=t[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Dn(t,e){var n=In;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function zn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Rn(t){t.display.externalMeasure=null,T(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)zn(t.display.view[e])}function Bn(t){Rn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Hn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Un(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=wn(t.widgets[n]));return e}function Vn(t,e,n,r,i){if(!i){var o=Un(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ue(e);if("local"==r?a+=kn(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:Wn());var l=s.left+("window"==r?0:Hn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Gn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=Hn(),i-=Wn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Kn(t,e,n,r,i){return r||(r=Kt(t.doc,e.line)),Vn(t,r,Ln(t,r,e.ch,i),n)}function $n(t,e,n,r,i,o){function a(e,a){var s=Pn(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Vn(t,r,s,n)}r=r||Kt(t.doc,e.line),i||(i=Nn(t,r));var s=ut(r,t.doc.direction),l=e.ch,c=e.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(t,e,n){var r=s[e],i=1==r.level;return a(n?t-1:t,i!=n)}var f=lt(s,l,c),d=st,h=u(l,f,"before"==c);return null!=d&&(h.other=u(l,d,"before"!=c)),h}function qn(t,e){var n=0;e=se(t.doc,e),t.options.lineWrapping||(n=nr(t.display)*e.ch);var r=Kt(t.doc,e.line),i=Ue(r)+kn(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Yn(t,e,n,r,i){var o=te(t,e,n);return o.xRel=i,r&&(o.outside=r),o}function Jn(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return Yn(r.first,0,null,-1,-1);var i=Xt(r,n),o=r.first+r.size-1;if(i>o)return Yn(r.first+r.size-1,Kt(r,o).text.length,null,1,1);e<0&&(e=0);for(var a=Kt(r,i);;){var s=tr(t,a,i,e,n),l=je(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==i)return c;a=Kt(r,i=c.line)}}function Xn(t,e,n,r){r-=Un(e);var i=e.text.length,o=at(function(e){return Pn(t,n,e-1).bottom<=r},i,0);return i=at(function(e){return Pn(t,n,e).top>r},o,i),{begin:o,end:i}}function Zn(t,e,n,r){n||(n=Nn(t,e));var i=Vn(t,e,Pn(t,n,r),"line").top;return Xn(t,e,n,i)}function Qn(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function tr(t,e,n,r,i){i-=Ue(e);var o=Nn(t,e),a=Un(e),s=0,l=e.text.length,c=!0,u=ut(e,t.doc.direction);if(u){var f=(t.options.lineWrapping?function(t,e,n,r,i,o,a){var s=Xn(t,e,r,a),l=s.begin,c=s.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,f=null,d=0;d<i.length;d++){var h=i[d];if(!(h.from>=c||h.to<=l)){var p=1!=h.level,m=Pn(t,r,p?Math.min(c,h.to)-1:Math.max(l,h.from)).right,g=m<o?o-m+1e9:m-o;(!u||f>g)&&(u=h,f=g)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}:function(t,e,n,r,i,o,a){var s=at(function(s){var l=i[s],c=1!=l.level;return Qn($n(t,te(n,c?l.to:l.from,c?"before":"after"),"line",e,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var c=1!=l.level,u=$n(t,te(n,c?l.from:l.to,c?"after":"before"),"line",e,r);Qn(u,o,a,!0)&&u.top>a&&(l=i[s-1])}return l})(t,e,n,o,u,r,i);c=1!=f.level,s=c?f.from:f.to-1,l=c?f.to:f.from-1}var d,h,p=null,m=null,g=at(function(e){var n=Pn(t,o,e);return n.top+=a,n.bottom+=a,!!Qn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=e,m=n),!0)},s,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==c;g=p+(b?0:1),h=b?"after":"before",d=y?m.left:m.right}else{c||g!=l&&g!=s||g++,h=0==g?"after":g==e.text.length?"before":Pn(t,o,g-(c?1:0)).bottom+a<=i==c?"after":"before";var x=$n(t,te(n,g,h),"line",e,o);d=x.left,v=i<x.top?-1:i>=x.bottom?1:0}return g=ot(e.text,g,1),Yn(n,g,h,v,r-d)}function er(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Fn){Fn=M("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Fn.appendChild(document.createTextNode("x")),Fn.appendChild(M("br"));Fn.appendChild(document.createTextNode("x"))}O(t.measure,Fn);var n=Fn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),T(t.measure),n||1}function nr(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=M("span","xxxxxxxxxx"),n=M("pre",[e],"CodeMirror-line-like");O(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function rr(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=t.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:ir(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function ir(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function or(t){var e=er(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/nr(t.display)-3);return function(i){if(He(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function ar(t){var e=t.doc,n=or(t);e.iter(function(t){var e=n(t);e!=t.height&&Yt(t,e)})}function sr(t,e,n,r){var i=t.display;if(!n&&"true"==_t(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,c=Jn(t,o,a);if(r&&1==c.xRel&&(l=Kt(t.doc,c.line).text).length==c.ch){var u=z(l,l.length,t.options.tabSize)-l.length;c=te(c.line,Math.max(0,Math.round((o-Sn(t.display).left)/nr(t.display))-u))}return c}function lr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function cr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Ce&&Re(t.doc,e)<i.viewTo&&fr(t);else if(n<=i.viewFrom)Ce&&Be(t.doc,n+r)>i.viewFrom?fr(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)fr(t);else if(e<=i.viewFrom){var o=dr(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):fr(t)}else if(n>=i.viewTo){var a=dr(t,e,e,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):fr(t)}else{var s=dr(t,e,e,-1),l=dr(t,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(on(t,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):fr(t)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:e<c.lineN+c.size&&(i.externalMeasured=null))}function ur(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[lr(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,n)&&a.push(n)}}}function fr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function dr(t,e,n,r){var i,o=lr(t,e),a=t.display.view;if(!Ce||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=t.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=e){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-e,o++}else i=s-e;e+=i,n+=i}for(;Re(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function hr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function pr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function mr(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&gr(t,s.head,i),l||yr(t,s,o)}}return r}function gr(t,e,n){var r=$n(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(M("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(M("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function vr(t,e){return t.top-e.top||t.left-e.left}function yr(t,e,n){var r=t.display,i=t.doc,o=document.createDocumentFragment(),a=Sn(t.display),s=a.left,l=Math.max(r.sizerWidth,Tn(t)-r.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function u(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(r-e)+"px"))}function f(e,n,r){var o,a,f=Kt(i,e),d=f.text.length;function h(n,r){return Kn(t,te(e,n),"div",f,r)}function p(e,n,r){var i=Zn(t,f,null,e),o="ltr"==n==("after"==r)?"left":"right",a="after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1);return h(a,o)[o]}var m=ut(f,i.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}(m,n||0,null==r?d:r,function(t,e,i,f){var g="ltr"==i,v=h(t,g?"left":"right"),y=h(e-1,g?"right":"left"),b=null==n&&0==t,x=null==r&&e==d,w=0==f,C=!m||f==m.length-1;if(y.top-v.top<=3){var k=(c?b:x)&&w,_=(c?x:b)&&C,S=k?s:(g?v:y).left,E=_?l:(g?y:v).right;u(S,v.top,E-S,v.bottom)}else{var T,O,M,L;g?(T=c&&b&&w?s:v.left,O=c?l:p(t,i,"before"),M=c?s:p(e,i,"after"),L=c&&x&&C?l:y.right):(T=c?p(t,i,"before"):s,O=!c&&b&&w?l:v.right,M=!c&&x&&C?s:y.left,L=c?p(e,i,"after"):l),u(T,v.top,O-T,v.bottom),v.bottom<y.top&&u(s,v.bottom,null,y.top),u(M,y.top,L-M,y.bottom)}(!o||vr(v,o)<0)&&(o=v),vr(y,o)<0&&(o=y),(!a||vr(v,a)<0)&&(a=v),vr(y,a)<0&&(a=y)}),{start:o,end:a}}var d=e.from(),h=e.to();if(d.line==h.line)f(d.line,d.ch,h.ch);else{var p=Kt(i,d.line),m=Kt(i,h.line),g=ze(p)==ze(m),v=f(d.line,d.ch,g?p.text.length+1:null).end,y=f(h.line,g?0:null,h.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(s,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(s,v.bottom,null,y.top)}n.appendChild(o)}function br(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function xr(t){t.state.focused||(t.display.input.focus(),Cr(t))}function wr(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,kr(t))},100)}function Cr(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(mt(t,"focus",t,e),t.state.focused=!0,P(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),br(t))}function kr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(mt(t,"blur",t,e),t.state.focused=!1,E(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function _r(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i=e.view[r],o=t.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(a&&s<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-n,n=u}else{var f=i.node.getBoundingClientRect();l=f.bottom-f.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var d=i.line.height-l;if((d>.005||d<-.005)&&(Yt(i.line,l),Sr(i.line),i.rest))for(var h=0;h<i.rest.length;h++)Sr(i.rest[h]);if(c>t.display.sizerWidth){var p=Math.ceil(c/nr(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function Sr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Er(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-kn(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=Xt(e,r),a=Xt(e,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=Xt(e,Ue(Kt(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=Xt(e,Ue(Kt(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Tr(t,e){var n=t.display,r=er(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=On(t),a={};e.bottom-e.top>o&&(e.bottom=e.top+o);var s=t.doc.height+_n(n),l=e.top<r,c=e.bottom>s-r;if(e.top<i)a.scrollTop=l?0:e.top;else if(e.bottom>i+o){var u=Math.min(e.top,(c?s:e.bottom)-o);u!=i&&(a.scrollTop=u)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,d=Tn(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),h=e.right-e.left>d;return h&&(e.right=e.left+d),e.left<10?a.scrollLeft=0:e.left<f?a.scrollLeft=Math.max(0,e.left-(h?0:10)):e.right>d+f-3&&(a.scrollLeft=e.right+(h?0:10)-d),a}function Or(t,e){null!=e&&(Ar(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Mr(t){Ar(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Lr(t,e,n){null==e&&null==n||Ar(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Ar(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=qn(t,e.from),r=qn(t,e.to);Nr(t,n,r,e.margin)}}function Nr(t,e,n,r){var i=Tr(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Lr(t,i.scrollLeft,i.scrollTop)}function Pr(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||oi(t,{top:e}),Fr(t,e,!0),n&&oi(t),ti(t,100))}function Fr(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Ir(t,e,n,r){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,li(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function jr(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+_n(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+En(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Dr=function(t,e,n){this.cm=n;var r=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),dt(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),dt(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Dr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},Dr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Dr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Dr.prototype.zeroWidthHack=function(){var t=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},Dr.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,function r(){var i=t.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,r)})},Dr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var zr=function(){};function Rr(t,e){e||(e=jr(t));var n=t.display.barWidth,r=t.display.barHeight;Br(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&_r(t),Br(t,jr(t)),n=t.display.barWidth,r=t.display.barHeight}function Br(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}zr.prototype.update=function(){return{bottom:0,right:0}},zr.prototype.setScrollLeft=function(){},zr.prototype.setScrollTop=function(){},zr.prototype.clear=function(){};var Hr={native:Dr,null:zr};function Wr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&E(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Hr[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),dt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?Ir(t,e):Pr(t,e)},t),t.display.scrollbars.addClass&&P(t.display.wrapper,t.display.scrollbars.addClass)}var Ur=0;function Vr(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ur},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function Gr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}(n)}finally{an=null,e(n)}}(e,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Kr(e[n]);for(var r=0;r<e.length;r++)(i=e[r]).updatedDisplay=i.mustUpdate&&ri(i.cm,i.update);for(var i,o=0;o<e.length;o++)$r(e[o]);for(var a=0;a<e.length;a++)qr(e[a]);for(var s=0;s<e.length;s++)Yr(e[s])}(t)})}function Kr(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=En(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=En(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Ge(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ni(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function $r(t){var e=t.cm,n=e.display;t.updatedDisplay&&_r(e),t.barMeasure=jr(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ln(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+En(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Tn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function qr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Ir(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==N();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Rr(e,t.barMeasure),t.updatedDisplay&&si(e,t.barMeasure),t.selectionChanged&&br(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&xr(t.cm)}function Yr(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&ii(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Fr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Ir(e,t.scrollLeft,!0,!0),t.scrollToPos){var i=function(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,n="before"==e.sticky?te(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var a=!1,s=$n(t,e),l=n&&n!=e?$n(t,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var c=Tr(t,i),u=t.doc.scrollTop,f=t.doc.scrollLeft;if(null!=c.scrollTop&&(Pr(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(Ir(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}(e,se(r,t.scrollToPos.from),se(r,t.scrollToPos.to),t.scrollToPos.margin);!function(t,e){if(!gt(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=M("div","",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-kn(t.display))+"px;\n                         height: "+(e.bottom-e.top+En(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||mt(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&mt(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Jr(t,e){if(t.curOp)return e();Vr(t);try{return e()}finally{Gr(t)}}function Xr(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Vr(t);try{return e.apply(t,arguments)}finally{Gr(t)}}}function Zr(t){return function(){if(this.curOp)return t.apply(this,arguments);Vr(this);try{return t.apply(this,arguments)}finally{Gr(this)}}}function Qr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Vr(e);try{return t.apply(this,arguments)}finally{Gr(e)}}}function ti(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,j(ei,t))}function ei(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=he(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(r.line>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength?Wt(e.mode,r.state):null,l=fe(t,o,r,!0);s&&(r.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&pe(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ti(t,t.options.workDelay),!0}),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&Jr(t,function(){for(var e=0;e<i.length;e++)ur(t,i[e],"text")})}}var ni=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Er(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Tn(t),this.force=n,this.dims=rr(t),this.events=[]};function ri(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return fr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==hr(t))return!1;ci(t)&&(fr(t),e.dims=rr(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Ce&&(o=Re(t.doc,o),a=Be(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=on(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=on(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(lr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(on(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,lr(t,n)))),r.viewTo=n}(t,o,a),n.viewOffset=Ue(Kt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=hr(t);if(!s&&0==c&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(t){if(t.hasFocus())return null;var e=N();if(!e||!A(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&A(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return c>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(e){var n=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var c=r.view,u=r.viewFrom,f=0;f<c.length;f++){var d=c[f];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var h=i&&null!=e&&e<=u&&d.lineNumber;d.changes&&(B(d.changes,"gutter")>-1&&(h=!1),un(t,d,u,n)),h&&(T(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(Qt(t.options,u)))),a=d.node.nextSibling}else{var p=vn(t,d,u,n);o.insertBefore(p,a)}u+=d.size}for(;a;)a=s(a)}(t,n.updateLineNumbers,e.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=N()&&(t.activeElt.focus(),t.anchorNode&&A(document.body,t.anchorNode)&&A(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(u),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ti(t,400)),n.updateLineNumbers=null,!0}function ii(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Tn(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+_n(t.display)-On(t),n.top)}),e.visible=Er(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&ri(t,e);r=!1){_r(t);var i=jr(t);pr(t),Rr(t,i),si(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function oi(t,e){var n=new ni(t,e);if(ri(t,n)){_r(t),ii(t,n);var r=jr(t);pr(t),Rr(t,r),si(t,r),n.finish()}}function ai(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function si(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+En(t)+"px"}function li(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=ir(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function ci(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=Qt(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ai(t.display),!0}return!1}function ui(t,e){for(var n=[],r=!1,i=0;i<t.length;i++){var o=t[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;r=!0}n.push({className:o,style:a})}return e&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function fi(t){var e=t.gutters,n=t.gutterSpecs;T(e),t.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=e.appendChild(M("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(t.lineGutter=s,s.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",ai(t)}function di(t){fi(t.display),cr(t),li(t)}function hi(t,e,r,i){var o=this;this.input=r,o.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=M("div",null,"CodeMirror-cursors"),o.measure=M("div",null,"CodeMirror-measure"),o.lineMeasure=M("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=M("div",[c],null,"position: relative"),o.sizer=M("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=M("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),o.gutters=M("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=M("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=M("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=ui(i.gutters,i.lineNumbers),fi(o),r.init(o)}ni.prototype.signal=function(t,e){yt(t,e)&&this.events.push(arguments)},ni.prototype.finish=function(){for(var t=0;t<this.events.length;t++)mt.apply(null,this.events[t])};var pi=0,mi=null;function gi(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function vi(t){var e=gi(t);return e.x*=mi,e.y*=mi,e}function yi(t,e){var r=gi(e),i=r.x,o=r.y,a=t.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(i&&c||o&&u){if(o&&y&&l)t:for(var d=e.target,h=a.view;d!=s;d=d.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==d){t.display.currentWheelTarget=d;break t}if(i&&!n&&!f&&null!=mi)return o&&u&&Pr(t,Math.max(0,s.scrollTop+o*mi)),Ir(t,Math.max(0,s.scrollLeft+i*mi)),(!o||o&&u)&&xt(e),void(a.wheelStartX=null);if(o&&null!=mi){var m=o*mi,g=t.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(t.doc.height,v+m+50),oi(t,{top:g,bottom:v})}pi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,e=s.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(mi=(mi*pi+n)/(pi+1),++pi)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?mi=-.53:n?mi=15:u?mi=-.7:d&&(mi=-1/3);var bi=function(t,e){this.ranges=t,this.primIndex=e};bi.prototype.primary=function(){return this.ranges[this.primIndex]},bi.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!ne(n.anchor,r.anchor)||!ne(n.head,r.head))return!1}return!0},bi.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new xi(re(this.ranges[e].anchor),re(this.ranges[e].head));return new bi(t,this.primIndex)},bi.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},bi.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ee(e,r.from())>=0&&ee(t,r.to())<=0)return n}return-1};var xi=function(t,e){this.anchor=t,this.head=e};function wi(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort(function(t,e){return ee(t.from(),e.from())}),n=B(e,i);for(var o=1;o<e.length;o++){var a=e[o],s=e[o-1],l=ee(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var c=oe(s.from(),a.from()),u=ie(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,e.splice(--o,2,new xi(f?u:c,f?c:u))}}return new bi(e,n)}function Ci(t,e){return new bi([new xi(t,e||t)],0)}function ki(t){return t.text?te(t.from.line+t.text.length-1,Y(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function _i(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return ki(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=ki(e).ch-e.to.ch),te(n,r)}function Si(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new xi(_i(i.anchor,e),_i(i.head,e)))}return wi(t.cm,n,t.sel.primIndex)}function Ei(t,e,n){return t.line==e.line?te(n.line,t.ch-e.ch+n.ch):te(n.line+(t.line-e.line),t.ch)}function Ti(t){t.doc.mode=Rt(t.options,t.doc.modeOption),Oi(t)}function Oi(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ti(t,100),t.state.modeGen++,t.curOp&&cr(t)}function Mi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Y(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Li(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){!function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Oe(t),Me(t,n);var i=r?r(t):1;i!=t.height&&Yt(t,i)}(t,n,i,r),ln(t,"change",t,e)}function a(t,e){for(var n=[],o=t;o<e;++o)n.push(new Ke(c[o],i(o),r));return n}var s=e.from,l=e.to,c=e.text,u=Kt(t,s.line),f=Kt(t,l.line),d=Y(c),h=i(c.length-1),p=l.line-s.line;if(e.full)t.insert(0,a(0,c.length)),t.remove(c.length,t.size-c.length);else if(Mi(t,e)){var m=a(0,c.length-1);o(f,f.text,h),p&&t.remove(s.line,p),m.length&&t.insert(s.line,m)}else if(u==f)if(1==c.length)o(u,u.text.slice(0,s.ch)+d+u.text.slice(l.ch),h);else{var g=a(1,c.length-1);g.push(new Ke(d+u.text.slice(l.ch),h,r)),o(u,u.text.slice(0,s.ch)+c[0],i(0)),t.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+f.text.slice(l.ch),i(0)),t.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+c[0],i(0)),o(f,d+f.text.slice(l.ch),h);var v=a(1,c.length-1);p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,v)}ln(t,"change",t,e)}function Ai(t,e,n){!function t(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(e(s.doc,l),t(s.doc,r,l))}}}(t,null,!0)}function Ni(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ar(t),Ti(t),Pi(t),t.options.lineWrapping||Ge(t),t.options.mode=e.modeOption,cr(t)}function Pi(t){("rtl"==t.doc.direction?P:E)(t.display.lineDiv,"CodeMirror-rtl")}function Fi(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Ii(t,e){var n={from:re(e.from),to:ki(e),text:$t(t,e.from,e.to)};return Bi(t,n,e.from.line,e.to.line+1),Ai(t,function(t){return Bi(t,n,e.from.line,e.to.line+1)},!0),n}function ji(t){for(;t.length;){var e=Y(t);if(!e.ranges)break;t.pop()}}function Di(t,e,n,r){var i=t.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(ji(t.done),Y(t.done)):t.done.length&&!Y(t.done).ranges?Y(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Y(t.done)):void 0}(i,i.lastOp==r)))a=Y(o.changes),0==ee(e.from,e.to)&&0==ee(e.from,a.to)?a.to=ki(e):o.changes.push(Ii(t,e));else{var l=Y(i.done);for(l&&l.ranges||Ri(t.sel,i.done),o={changes:[Ii(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,a||mt(t,"historyAdded")}function zi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,Y(i.done),e))?i.done[i.done.length-1]=e:Ri(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ji(i.undone)}function Ri(t,e){var n=Y(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Bi(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function Hi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Wi(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(Hi(n[i]));return r}(t,e),r=Ee(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else a&&(n[i]=a)}return n}function Ui(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?bi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&B(e,Number(u[1]))>-1&&(Y(s)[f]=c[f],delete c[f])}}}return r}function Vi(t,e,n,r){if(r){var i=t.anchor;if(n){var o=ee(e,i)<0;o!=ee(n,i)<0?(i=e,e=n):o!=ee(e,n)<0&&(e=n)}return new xi(i,e)}return new xi(n||e,e)}function Gi(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Ji(t,new bi([Vi(t.sel.primary(),e,n,i)],0),r)}function Ki(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=Vi(t.sel.ranges[o],e[o],null,i);var a=wi(t.cm,r,t.sel.primIndex);Ji(t,a,n)}function $i(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,Ji(t,wi(t.cm,i,t.sel.primIndex),r)}function qi(t,e,n,r){Ji(t,Ci(e,n),r)}function Yi(t,e,n){var r=t.history.done,i=Y(r);i&&i.ranges?(r[r.length-1]=e,Xi(t,e,n)):Ji(t,e,n)}function Ji(t,e,n){Xi(t,e,n),zi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Xi(t,e,n){(yt(t,"beforeSelectionChange")||t.cm&&yt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new xi(se(t,e[n].anchor),se(t,e[n].head))},origin:n&&n.origin};return mt(t,"beforeSelectionChange",t,r),t.cm&&mt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?wi(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);Zi(t,to(t,e,r,!0)),n&&!1===n.scroll||!t.cm||Mr(t.cm)}function Zi(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,vt(t.cm)),ln(t,"cursorActivity",t))}function Qi(t){Zi(t,to(t,t.sel,null,!1))}function to(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=no(t,a.anchor,s&&s.anchor,n,r),c=no(t,a.head,s&&s.head,n,r);(i||l!=a.anchor||c!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new xi(l,c))}return i?wi(t.cm,i,e.primIndex):e}function eo(t,e,n,r,i){var o=Kt(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(u?s.to>=e.ch:s.to>e.ch))){if(i&&(mt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),d=void 0;if((r<0?u:c)&&(f=ro(t,f,-r,f&&f.line==e.line?o:null)),f&&f.line==e.line&&(d=ee(f,n))&&(r<0?d<0:d>0))return eo(t,f,e,r,i)}var h=l.find(r<0?-1:1);return(r<0?c:u)&&(h=ro(t,h,r,h.line==e.line?o:null)),h?eo(t,h,e,r,i):null}}return e}function no(t,e,n,r,i){var o=r||1,a=eo(t,e,n,o,i)||!i&&eo(t,e,n,o,!0)||eo(t,e,n,-o,i)||!i&&eo(t,e,n,-o,!0);return a||(t.cantEdit=!0,te(t.first,0))}function ro(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?se(t,te(e.line-1)):null:n>0&&e.ch==(r||Kt(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+n)}function io(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),U)}function oo(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=se(t,e)),n&&(r.to=se(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),mt(t,"beforeChange",t,r),t.cm&&mt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ao(t,e,n){if(t.cm){if(!t.cm.curOp)return Xr(t.cm,ao)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"))||(e=oo(t,e,!0))){var r=we&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=B(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ee(c.to,s.from)<0||ee(c.from,s.to)>0)){var u=[l,1],f=ee(c.from,s.from),d=ee(c.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&u.push({from:c.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)so(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else so(t,e)}}function so(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var n=Si(t,e);Di(t,e,n,t.cm?t.cm.curOp.id:NaN),uo(t,e,n,Ee(t,e));var r=[];Ai(t,function(t,n){n||-1!=B(r,t.history)||(mo(t.history,e),r.push(t.history)),uo(t,e,null,Ee(t,e))})}}function lo(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,a=t.sel,s="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<s.length&&(i=s[c],n?!i.ranges||i.equals(t.sel):i.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(Ri(i,l),n&&!i.equals(t.sel))return void Ji(t,i,{clearRedo:!1});a=i}var u=[];Ri(a,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=e,f&&!oo(t,r,!1))return s.length=0,{};u.push(Ii(t,r));var o=n?Si(t,r):Y(s);uo(t,r,o,Wi(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:ki(r)});var a=[];Ai(t,function(t,e){e||-1!=B(a,t.history)||(mo(t.history,r),a.push(t.history)),uo(t,r,null,Wi(t,r))})},h=i.changes.length-1;h>=0;--h){var p=d(h);if(p)return p.v}}}}function co(t,e){if(0!=e&&(t.first+=e,t.sel=new bi(J(t.sel.ranges,function(t){return new xi(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){cr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)ur(t.cm,r,"gutter")}}function uo(t,e,n,r){if(t.cm&&!t.cm.curOp)return Xr(t.cm,uo)(t,e,n,r);if(e.to.line<t.first)co(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);co(t,i),e={from:te(t.first,0),to:te(e.to.line+i,e.to.ch),text:[Y(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:te(o,Kt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=$t(t,e.from,e.to),n||(n=Si(t,e)),t.cm?function(t,e,n){var r=t.doc,i=t.display,o=e.from,a=e.to,s=!1,l=o.line;t.options.lineWrapping||(l=Jt(ze(Kt(r,o.line))),r.iter(l,a.line+1,function(t){if(t==i.maxLine)return s=!0,!0})),r.sel.contains(e.from,e.to)>-1&&vt(t),Li(r,e,n,or(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,function(t){var e=Ve(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=Kt(t,r).stateAfter;if(i&&(!(i instanceof ce)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,o.line),ti(t,400);var c=e.text.length-(a.line-o.line)-1;e.full?cr(t):o.line!=a.line||1!=e.text.length||Mi(t.doc,e)?cr(t,o.line,a.line+1,c):ur(t,o.line,"text");var u=yt(t,"changes"),f=yt(t,"change");if(f||u){var d={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};f&&ln(t,"change",t,d),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}(t.cm,e,r):Li(t,e,r),Xi(t,n,U),t.cantEdit&&no(t,te(t.firstLine(),0))&&(t.cantEdit=!1)}}function fo(t,e,n,r,i){var o;r||(r=n),ee(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),ao(t,{from:n,to:r,text:e,origin:i})}function ho(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function po(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)ho(o.ranges[s].anchor,e,n,r),ho(o.ranges[s].head,e,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=te(c.from.line+r,c.from.ch),c.to=te(c.to.line+r,c.to.ch);else if(e<=c.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function mo(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;po(t.done,n,r,i),po(t.undone,n,r,i)}function go(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Kt(t,ae(t,e)):i=Jt(e),null==i?null:(r(o,i)&&t.cm&&ur(t.cm,i,n),o)}function vo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function yo(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}xi.prototype.from=function(){return oe(this.anchor,this.head)},xi.prototype.to=function(){return ie(this.anchor,this.head)},xi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,$e(i),ln(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},yo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof vo))){var s=[];this.collapse(s),this.children=[new vo(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new vo(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new yo(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=B(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new yo(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var bo=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function xo(t,e,n){Ue(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Or(t,n)}bo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=Jt(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=wn(this);Yt(n,Math.max(0,n.height-o)),t&&(Jr(t,function(){xo(t,n,-o),ur(t,r,"widget")}),ln(t,"lineWidgetCleared",t,this,r))}},bo.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=wn(this)-e;i&&(He(this.doc,r)||Yt(r,r.height+i),n&&Jr(n,function(){n.curOp.forceUpdate=!0,xo(n,r,i),ln(n,"lineWidgetChanged",n,t,Jt(r))}))},bt(bo);var wo=0,Co=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++wo};function ko(t,e,n,r,i){if(r&&r.shared)return function(t,e,n,r,i){(r=D(r)).shared=!1;var o=[ko(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Ai(t,function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(ko(t,se(t,e),se(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=Y(o)}),new _o(o,a)}(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return Xr(t.cm,ko)(t,e,n,r,i);var o=new Co(t,i),a=ee(e,n);if(r&&D(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(De(t,e.line,e,n,o)||e.line!=n.line&&De(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}o.addToHistory&&Di(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,l=e.line,c=t.cm;if(t.iter(l,n.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&ze(t)==c.display.maxLine&&(s=!0),o.collapsed&&l!=e.line&&Yt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new ke(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){He(t,e)&&Yt(e,0)}),o.clearOnEnter&&dt(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(we=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++wo,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)cr(c,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=e.line;u<=n.line;u++)ur(c,u,"text");o.atomic&&Qi(c.doc),ln(c,"markerAdded",c,o)}return o}Co.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Vr(t),yt(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=_e(a.markedSpans,this);t&&!this.collapsed?ur(t,Jt(a),"text"):t&&(null!=s.to&&(i=Jt(a)),null!=s.from&&(r=Jt(a))),a.markedSpans=Se(a.markedSpans,s),null==s.from&&this.collapsed&&!He(this.doc,a)&&t&&Yt(a,er(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=ze(this.lines[l]),u=Ve(c);u>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&cr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Qi(t.doc)),t&&ln(t,"markerCleared",t,this,r,i),e&&Gr(t),this.parent&&this.parent.clear()}},Co.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=_e(o.markedSpans,this);if(null!=a.from&&(n=te(e?o:Jt(o),a.from),-1==t))return n;if(null!=a.to&&(r=te(e?o:Jt(o),a.to),1==t))return r}return n&&{from:n,to:r}},Co.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&Jr(r,function(){var i=e.line,o=Jt(e.line),a=An(r,o);if(a&&(zn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!He(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=wn(n)-s;l&&Yt(i,i.height+l)}ln(r,"markerChanged",r,t)})},Co.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=B(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Co.prototype.detachLine=function(t){if(this.lines.splice(B(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},bt(Co);var _o=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function So(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),function(t){return t.parent})}function Eo(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];Ai(n.primary.doc,function(t){return r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==B(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}_o.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ln(this,"clear")}},_o.prototype.find=function(t,e){return this.primary.find(t,e)},bt(_o);var To=0,Oo=function(t,e,n,r,i){if(!(this instanceof Oo))return new Oo(t,e,n,r,i);null==n&&(n=0),yo.call(this,[new vo([new Ke("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=te(n,0);this.sel=Ci(o),this.history=new Fi(null),this.id=++To,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Li(this,{from:o,to:o,text:t}),Ji(this,Ci(o),U)};Oo.prototype=Z(yo.prototype,{constructor:Oo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=qt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Qr(function(t){var e=te(this.first,0),n=this.first+this.size-1;ao(this,{from:e,to:te(n,Kt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Lr(this.cm,0,0),Ji(this,Ci(e),U)}),replaceRange:function(t,e,n,r){e=se(this,e),n=n?se(this,n):e,fo(this,t,e,n,r)},getRange:function(t,e,n){var r=$t(this,se(this,t),se(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Zt(this,t))return Kt(this,t)},getLineNumber:function(t){return Jt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Kt(this,t)),ze(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return se(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qr(function(t,e,n){qi(this,se(this,"number"==typeof t?te(t,e||0):t),null,n)}),setSelection:Qr(function(t,e,n){qi(this,se(this,t),se(this,e||t),n)}),extendSelection:Qr(function(t,e,n){Gi(this,se(this,t),e&&se(this,e),n)}),extendSelections:Qr(function(t,e){Ki(this,le(this,t),e)}),extendSelectionsBy:Qr(function(t,e){var n=J(this.sel.ranges,t);Ki(this,le(this,n),e)}),setSelections:Qr(function(t,e,n){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new xi(se(this,t[i].anchor),se(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Ji(this,wi(this.cm,r,e),n)}}),addSelection:Qr(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new xi(se(this,t),se(this,e||t))),Ji(this,wi(this.cm,r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=$t(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=$t(this,n[r].from(),n[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Qr(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var s=e&&"end"!=e&&function(t,e,n){for(var r=[],i=te(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],l=Ei(s.from,i,o),c=Ei(ki(s),i,o);if(i=s.to,o=c,"around"==n){var u=t.sel.ranges[a],f=ee(u.head,u.anchor)<0;r[a]=new xi(f?c:l,f?l:c)}else r[a]=new xi(l,l)}return new bi(r,t.sel.primIndex)}(this,r,e),l=r.length-1;l>=0;l--)ao(this,r[l]);s?Yi(this,s):this.cm&&Mr(this.cm)}),undo:Qr(function(){lo(this,"undo")}),redo:Qr(function(){lo(this,"redo")}),undoSelection:Qr(function(){lo(this,"undo",!0)}),redoSelection:Qr(function(){lo(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Fi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ui(this.history.done),undone:Ui(this.history.undone)}},setHistory:function(t){var e=this.history=new Fi(this.history.maxGeneration);e.done=Ui(t.done.slice(0),null,!0),e.undone=Ui(t.undone.slice(0),null,!0)},setGutterMarker:Qr(function(t,e,n){return go(this,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&nt(r)&&(t.gutterMarkers=null),!0})}),clearGutter:Qr(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&go(e,n,"gutter",function(){return n.gutterMarkers[t]=null,nt(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!Zt(this,t))return null;if(e=t,!(t=Kt(this,t)))return null}else if(null==(e=Jt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Qr(function(t,e,n){return go(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(_(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:Qr(function(t,e,n){return go(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(_(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Qr(function(t,e,n){return function(t,e,n,r){var i=new bo(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),go(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!He(t,e)){var r=Ue(e)<t.scrollTop;Yt(e,e.height+wn(i)),r&&Or(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&ln(o,"lineWidgetAdded",o,i,"number"==typeof e?e:Jt(e)),i}(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return ko(this,se(this,t),se(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return ko(this,t=se(this,t),t,n,"bookmark")},findMarksAt:function(t){t=se(this,t);var e=[],n=Kt(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=se(this,t),e=se(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n}),se(this,te(n,e))},indexFromPos:function(t){var e=(t=se(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Oo(qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Oo(qt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(ee(o,a)){var s=ko(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,So(this)),r},unlinkDoc:function(t){if(t instanceof _a&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var n=this.linked[e];if(n.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Eo(So(this));break}}if(t.history==this.history){var r=[t.id];Ai(t,function(t){return r.push(t.id)},!0),t.history=new Fi(null),t.history.done=Ui(this.history.done,r),t.history.undone=Ui(this.history.undone,r)}},iterLinkedDocs:function(t){Ai(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Nt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Qr(function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Jr(e=this.cm,function(){Pi(e),cr(e)}))})}),Oo.prototype.eachLine=Oo.prototype.iter;var Mo=0;function Lo(t){var e=this;if(Ao(e),!gt(e,t)&&!Cn(e.display,t)){xt(t),a&&(Mo=+new Date);var n=sr(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(t,r){if(!e.options.allowDropFileTypes||-1!=B(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=Xr(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++s==i){var l={from:n=se(e.doc,n),to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};ao(e.doc,l),Yi(e.doc,Ci(n,ki(l)))}}),a.readAsText(t)}},c=0;c<i;++c)l(r[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var u=t.dataTransfer.getData("Text");if(u){var f;if(e.state.draggingText&&!e.state.draggingText.copy&&(f=e.listSelections()),Xi(e.doc,Ci(n,n)),f)for(var d=0;d<f.length;++d)fo(e.doc,"",f[d].anchor,f[d].head,"drag");e.replaceSelection(u,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Ao(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function No(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var e=0;e<n.length;e++)t(n[e])})}}var Po=!1;function Fo(){var t;Po||(dt(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,No(Io)},100))}),dt(window,"blur",function(){return No(kr)}),Po=!0)}function Io(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Do=0;Do<10;Do++)jo[Do+48]=jo[Do+96]=String(Do);for(var zo=65;zo<=90;zo++)jo[zo]=String.fromCharCode(zo);for(var Ro=1;Ro<=12;Ro++)jo[Ro+111]=jo[Ro+63235]="F"+Ro;var Bo={};function Ho(t){var e,n,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Wo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=J(n.split(" "),Ho),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var c in e)t[c]=e[c];return t}function Uo(t,e,n,r){var i=(e=$o(e)).call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Uo(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=Uo(t,e.fallthrough[o],n,r);if(a)return a}}}function Vo(t){var e="string"==typeof t?t:jo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Go(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(C?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(C?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Ko(t,e){if(f&&34==t.keyCode&&t.char)return!1;var n=jo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Go(n,t,e))}function $o(t){return"string"==typeof t?Bo[t]:t}function qo(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&ee(o.from,Y(r).to)<=0;){var a=r.pop();if(ee(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Jr(t,function(){for(var e=r.length-1;e>=0;e--)fo(t.doc,"",r[e].from,r[e].to,"+delete");Mr(t)})}function Yo(t,e,n){var r=ot(t.text,e+n,n);return r<0||r>t.text.length?null:r}function Jo(t,e,n){var r=Yo(t,e.ch,n);return null==r?null:new te(e.line,r,n<0?"after":"before")}function Xo(t,e,n,r,i){if(t){var o=ut(n,e.doc.direction);if(o){var a,s=i<0?Y(o):o[0],l=i<0==(1==s.level),c=l?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var u=Nn(e,n);a=i<0?n.text.length-1:0;var f=Pn(e,u,a).top;a=at(function(t){return Pn(e,u,t).top==f},i<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=Yo(n,a,1))}else a=i<0?s.to:s.from;return new te(r,a,c)}}return new te(r,i<0?n.text.length:0,i<0?"before":"after")}Bo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Bo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Bo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Bo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Bo.default=y?Bo.macDefault:Bo.pcDefault;var Zo={selectAll:io,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),U)},killLine:function(t){return qo(t,function(e){if(e.empty()){var n=Kt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return qo(t,function(e){return{from:te(e.from().line,0),to:se(t.doc,te(e.to().line+1,0))}})},delLineLeft:function(t){return qo(t,function(t){return{from:te(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return qo(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){return qo(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Qo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return ta(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var n=Kt(t.doc,e),r=function(t){for(var e;e=Ie(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=Jt(r)),Xo(!0,t,n,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},G)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},G)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?ta(t,e.head):r},G)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=z(t.getLine(o.line),o.ch,r);e.push(q(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Jr(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=Kt(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new te(i.line,i.ch-1)),i.ch>0)i=new te(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),te(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Kt(t.doc,i.line-1).text;a&&(i=new te(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),te(i.line-1,a.length-1),i,"+transpose"))}n.push(new xi(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){return Jr(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Mr(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Qo(t,e){var n=Kt(t.doc,e),r=ze(n);return r!=n&&(e=Jt(r)),Xo(!0,t,r,e,1)}function ta(t,e){var n=Qo(t,e.line),r=Kt(t.doc,n.line),i=ut(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return te(n.line,a?0:o,n.sticky)}return n}function ea(t,e,n){if("string"==typeof e&&!(e=Zo[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=W}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var na=new R;function ra(t,e,n,r){var i=t.state.keySeq;if(i){if(Vo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:na.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),ia(t,i+" "+e,n,r))return!0}return ia(t,e,n,r)}function ia(t,e,n,r){var i=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Uo(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Uo(e,t.options.extraKeys,n,t)||Uo(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&ln(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(xt(n),br(t)),!!i}function oa(t,e){var n=Ko(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ra(t,"Shift-"+n,e,function(e){return ea(t,e,!0)})||ra(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ea(t,e)}):ra(t,n,e,function(e){return ea(t,e)}))}var aa=null;function sa(t){var e=this;if(e.curOp.focus=N(),!gt(e,t)){a&&s<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=oa(e,t);f&&(aa=r?n:null,!r&&88==n&&!Ft&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(E(e,"CodeMirror-crosshair"),pt(document,"keyup",n),pt(document,"mouseover",n))}P(e,"CodeMirror-crosshair"),dt(document,"keyup",n),dt(document,"mouseover",n)}(e)}}function la(t){16==t.keyCode&&(this.doc.sel.shift=!1),gt(this,t)}function ca(t){var e=this;if(!(Cn(e.display,t)||gt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(f&&n==aa)return aa=null,void xt(t);if(!f||t.which&&!(t.which<10)||!oa(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(t,e,n){return ra(t,"'"+n+"'",e,function(e){return ea(t,e,!0)})}(e,t,i)||e.display.input.onKeyPress(t))}}}var ua,fa,da=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ha(t){var e=this,n=e.display;if(!(gt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,Cn(n,t))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!ga(e,t)){var r=sr(e,t),i=St(t),o=r?function(t,e){var n=+new Date;return fa&&fa.compare(n,t,e)?(ua=fa=null,"triple"):ua&&ua.compare(n,t,e)?(fa=new da(n,t,e),ua=null,"double"):(ua=new da(n,t,e),fa=null,"single")}(r,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ra(t,Go(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,function(e){if("string"==typeof e&&(e=Zo[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=W}finally{t.state.suppressEdits=!1}return r})}(e,i,r,o,t)||(1==i?r?function(t,e,n,r){a?setTimeout(j(xr,t),0):t.curOp.focus=N();var i,o=function(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(t,n,r),c=t.doc.sel;t.options.dragDrop&&Ot&&!t.isReadOnly()&&"single"==n&&(i=c.contains(e))>-1&&(ee((i=c.ranges[i]).from(),e)<0||e.xRel>0)&&(ee(i.to(),e)>0||e.xRel<0)?function(t,e,n,r){var i=t.display,o=!1,c=Xr(t,function(e){l&&(i.scroller.draggable=!1),t.state.draggingText=!1,pt(i.wrapper.ownerDocument,"mouseup",c),pt(i.wrapper.ownerDocument,"mousemove",u),pt(i.scroller,"dragstart",f),pt(i.scroller,"drop",c),o||(xt(e),r.addNew||Gi(t.doc,n,null,null,r.extend),l||a&&9==s?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),u=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},f=function(){return o=!0};l&&(i.scroller.draggable=!0),t.state.draggingText=c,c.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),dt(i.wrapper.ownerDocument,"mouseup",c),dt(i.wrapper.ownerDocument,"mousemove",u),dt(i.scroller,"dragstart",f),dt(i.scroller,"drop",c),wr(t),setTimeout(function(){return i.input.focus()},20)}(t,r,e,o):function(t,e,n,r){var i=t.display,o=t.doc;xt(e);var a,s,l=o.sel,c=l.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?c[s]:new xi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new xi(n,n)),n=sr(t,e,!0,!0),s=-1;else{var u=pa(t,n,r.unit);a=r.extend?Vi(a,u.anchor,u.head,r.extend):u}r.addNew?-1==s?(s=c.length,Ji(o,wi(t,c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==r.unit&&!r.extend?(Ji(o,wi(t,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):$i(o,s,a,V):(s=0,Ji(o,new bi([a],0),V),l=o.sel);var f=n;function d(e){if(0!=ee(f,e))if(f=e,"rectangle"==r.unit){for(var i=[],c=t.options.tabSize,u=z(Kt(o,n.line).text,n.ch,c),d=z(Kt(o,e.line).text,e.ch,c),h=Math.min(u,d),p=Math.max(u,d),m=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));m<=g;m++){var v=Kt(o,m).text,y=K(v,h,c);h==p?i.push(new xi(te(m,y),te(m,y))):v.length>y&&i.push(new xi(te(m,y),te(m,K(v,p,c))))}i.length||i.push(new xi(n,n)),Ji(o,wi(t,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,x=a,w=pa(t,e,r.unit),C=x.anchor;ee(w.anchor,C)>0?(b=w.head,C=oe(x.from(),w.anchor)):(b=w.anchor,C=ie(x.to(),w.head));var k=l.ranges.slice(0);k[s]=function(t,e){var n=e.anchor,r=e.head,i=Kt(t.doc,n.line);if(0==ee(n,r)&&n.sticky==r.sticky)return e;var o=ut(i);if(!o)return e;var a=lt(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return e;var l,c=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return e;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=lt(o,r.ch,r.sticky),f=u-a||(r.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?f<0:f>0}var d=o[c+(l?-1:0)],h=l==(1==d.level),p=h?d.from:d.to,m=h?"after":"before";return n.ch==p&&n.sticky==m?e:new xi(new te(n.line,p,m),r)}(t,new xi(se(o,C),b)),Ji(o,wi(t,k,s),V)}}var h=i.wrapper.getBoundingClientRect(),p=0;function m(e){t.state.selectingText=!1,p=1/0,e&&(xt(e),i.input.focus()),pt(i.wrapper.ownerDocument,"mousemove",g),pt(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var g=Xr(t,function(e){0!==e.buttons&&St(e)?function e(n){var a=++p,s=sr(t,n,!0,"rectangle"==r.unit);if(s)if(0!=ee(s,f)){t.curOp.focus=N(),d(s);var l=Er(i,o);(s.line>=l.to||s.line<l.from)&&setTimeout(Xr(t,function(){p==a&&e(n)}),150)}else{var c=n.clientY<h.top?-20:n.clientY>h.bottom?20:0;c&&setTimeout(Xr(t,function(){p==a&&(i.scroller.scrollTop+=c,e(n))}),50)}}(e):m(e)}),v=Xr(t,m);t.state.selectingText=v,dt(i.wrapper.ownerDocument,"mousemove",g),dt(i.wrapper.ownerDocument,"mouseup",v)}(t,r,e,o)}(e,r,o,t):_t(t)==n.scroller&&xt(t):2==i?(r&&Gi(e.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(k?e.display.input.onContextMenu(t):wr(e)))}}function pa(t,e,n){if("char"==n)return new xi(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new xi(te(e.line,0),se(t.doc,te(e.line+1,0)));var r=n(t,e);return new xi(r.from,r.to)}function ma(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&xt(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!yt(t,n))return Ct(e);o-=s.top-a.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=Xt(t.doc,o),f=t.display.gutterSpecs[l];return mt(t,n,t,u,f.className,e),Ct(e)}}}function ga(t,e){return ma(t,e,"gutterClick",!0)}function va(t,e){Cn(t.display,e)||function(t,e){return!!yt(t,"gutterContextMenu")&&ma(t,e,"gutterContextMenu",!1)}(t,e)||gt(t,e,"contextmenu")||k||t.display.input.onContextMenu(e)}function ya(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(t)}da.prototype.compare=function(t,e,n){return this.time+400>t&&0==ee(e,this.pos)&&n==this.button};var ba={toString:function(){return"CodeMirror.Init"}},xa={},wa={};function Ca(t,e,n){var r=n&&n!=ba;if(!e!=!r){var i=t.display.dragFunctions,o=e?dt:pt;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}function ka(t){t.options.lineWrapping?(P(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(E(t.display.wrapper,"CodeMirror-wrap"),Ge(t)),ar(t),cr(t),Bn(t),setTimeout(function(){return Rr(t)},100)}function _a(t,e){var n=this;if(!(this instanceof _a))return new _a(t,e);this.options=e=e?D(e):{},D(xa,e,!1);var r=e.value;"string"==typeof r?r=new Oo(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new _a.inputStyles[e.inputStyle](this),o=this.display=new hi(t,r,i,e);for(var c in o.wrapper.CodeMirror=this,ya(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(t){var e=t.display;dt(e.scroller,"mousedown",Xr(t,ha)),dt(e.scroller,"dblclick",a&&s<11?Xr(t,function(e){if(!gt(t,e)){var n=sr(t,e);if(n&&!ga(t,e)&&!Cn(t.display,e)){xt(e);var r=t.findWordAt(n);Gi(t.doc,r.anchor,r.head)}}}):function(e){return gt(t,e)||xt(e)}),dt(e.scroller,"contextmenu",function(e){return va(t,e)});var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),(r=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}dt(e.scroller,"touchstart",function(i){if(!gt(t,i)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(i)&&!ga(t,i)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}}),dt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),dt(e.scroller,"touchend",function(n){var r=e.activeTouch;if(r&&!Cn(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=t.coordsChar(e.activeTouch,"page");a=!r.prev||o(r,r.prev)?new xi(s,s):!r.prev.prev||o(r,r.prev.prev)?t.findWordAt(s):new xi(te(s.line,0),se(t.doc,te(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),xt(n)}i()}),dt(e.scroller,"touchcancel",i),dt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Pr(t,e.scroller.scrollTop),Ir(t,e.scroller.scrollLeft,!0),mt(t,"scroll",t))}),dt(e.scroller,"mousewheel",function(e){return yi(t,e)}),dt(e.scroller,"DOMMouseScroll",function(e){return yi(t,e)}),dt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){gt(t,e)||kt(e)},over:function(e){gt(t,e)||(function(t,e){var n=sr(t,e);if(n){var r=document.createDocumentFragment();gr(t,n,r),t.display.dragCursor||(t.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),O(t.display.dragCursor,r)}}(t,e),kt(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Mo<100))kt(e);else if(!gt(t,e)&&!Cn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(t,e)},drop:Xr(t,Lo),leave:function(e){gt(t,e)||Ao(t)}};var l=e.input.getField();dt(l,"keyup",function(e){return la.call(t,e)}),dt(l,"keydown",Xr(t,sa)),dt(l,"keypress",Xr(t,ca)),dt(l,"focus",function(e){return Cr(t,e)}),dt(l,"blur",function(e){return kr(t,e)})}(this),Fo(),Vr(this),this.curOp.forceUpdate=!0,Ni(this,r),e.autofocus&&!v||this.hasFocus()?setTimeout(j(Cr,this),20):kr(this),wa)wa.hasOwnProperty(c)&&wa[c](n,e[c],ba);ci(this),e.finishInit&&e.finishInit(this);for(var u=0;u<Sa.length;++u)Sa[u](n);Gr(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}_a.defaults=xa,_a.optionHandlers=wa;var Sa=[];function Ea(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=he(t,e).state:n="prev");var a=t.options.tabSize,s=Kt(o,e),l=z(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(i,s.text.slice(u.length),s.text))==W||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?z(Kt(o,e-1).text,null,a):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",d=0;if(t.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)d+=a,f+="\t";if(d<c&&(f+=q(c-d)),f!=u)return fo(o,f,te(e,0),te(e,u.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==e&&m.head.ch<u.length){var g=te(e,u.length);$i(o,p,new xi(g,g));break}}}_a.defineInitHook=function(t){return Sa.push(t)};var Ta=null;function Oa(t){Ta=t}function Ma(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||t.state.pasteIncoming>a,l=Nt(e),c=null;if(s&&r.ranges.length>1)if(Ta&&Ta.text.join("\n")==e){if(r.ranges.length%Ta.text.length==0){c=[];for(var u=0;u<Ta.text.length;u++)c.push(o.splitLines(Ta.text[u]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(c=J(l,function(t){return[t]}));for(var f=t.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var h=r.ranges[d],p=h.from(),m=h.to();h.empty()&&(n&&n>0?p=te(p.line,p.ch-n):t.state.overwrite&&!s?m=te(m.line,Math.min(Kt(o,m.line).text.length,m.ch+Y(l).length)):s&&Ta&&Ta.lineWise&&Ta.text.join("\n")==e&&(p=m=te(p.line,0)));var g={from:p,to:m,text:c?c[d%c.length]:l,origin:i||(s?"paste":t.state.cutIncoming>a?"cut":"+input")};ao(t.doc,g),ln(t,"inputRead",t,g)}e&&!s&&Aa(t,e),Mr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=f),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function La(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Jr(e,function(){return Ma(e,n,0,null,"paste")}),!0}function Aa(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Ea(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Kt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ea(t,i.head.line,"smart"));a&&ln(t,"electricInput",t,i.head.line)}}}function Na(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:te(i,0),head:te(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Pa(t,e,n,r){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",r?"":"off"),t.setAttribute("spellcheck",!!e)}function Fa(){var t=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=M("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),Pa(t),e}function Ia(t,e,n,r,i){var o=e,a=n,s=Kt(t,e.line);function l(r){var o,a;if(null==(o=i?function(t,e,n,r){var i=ut(e,t.doc.direction);if(!i)return Jo(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=lt(i,n.ch,n.sticky),a=i[o];if("ltr"==t.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Jo(e,n,r);var s,l=function(t,n){return Yo(e,t instanceof te?t.ch:t,n)},c=function(n){return t.options.lineWrapping?(s=s||Nn(t,e),Zn(t,e,s,n)):{begin:0,end:e.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var f=1==a.level==r<0,d=l(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=u.end:d>=a.from&&d>=u.begin)){var h=f?"before":"after";return new te(n.line,d,h)}}var p=function(t,e,r){for(var o=function(t,e){return e?new te(n.line,l(t,1),"before"):new te(n.line,t,"after")};t>=0&&t<i.length;t+=e){var a=i[t],s=e>0==(1!=a.level),c=s?r.begin:l(r.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),r.begin<=c&&c<r.end)return o(c,s)}},m=p(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==e.text.length||!(m=p(r>0?0:i.length-1,r,c(g)))?null:m}(t.cm,s,e,n):Jo(s,e,n))){if(r||((a=e.line+n)<t.first||a>=t.first+t.size||(e=new te(a,e.ch,e.sticky),!(s=Kt(t,a)))))return!1;e=Xo(i,t.cm,s,e.line,n)}else e=o;return!0}if("char"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var c=null,u="group"==r,f=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var h=s.text.charAt(e.ch)||"\n",p=et(h,f)?"w":u&&"\n"==h?"n":!u||/\s/.test(h)?null:"p";if(!u||d||p||(p="s"),c&&c!=p){n<0&&(n=1,l(),e.sticky="after");break}if(p&&(c=p),n>0&&!l(!d))break}var m=no(t,e,o,a,!0);return ne(o,m)&&(m.hitSide=!0),m}function ja(t,e,n,r){var i,o,a=t.doc,s=e.left;if("page"==r){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*er(t.display),3);i=(n>0?e.bottom:e.top)+n*c}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;(o=Jn(t,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Da=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function za(t,e){var n=An(t,e.line);if(!n||n.hidden)return null;var r=Kt(t.doc,e.line),i=Mn(n,r,e.line),o=ut(r,t.doc.direction),a="left";if(o){var s=lt(o,e.ch);a=s%2?"right":"left"}var l=jn(i.map,e.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Ra(t,e){return e&&(t.bad=!0),t}function Ba(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return Ra(t.clipPos(te(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return Ha(o,e,n)}}function Ha(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!A(r,e))return Ra(te(Jt(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var o=t.rest?Y(t.rest):t.line;return Ra(te(Jt(o),o.text.length),i)}var a=3==e.nodeType?e:null,s=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=t.measure,c=l.maps;function u(e,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var u=Jt(i<0?t.line:t.rest[i]),f=o[a]+r;return(r<0||s!=e)&&(f=o[a+(r?1:0)]),te(u,f)}}}var f=u(a,s,n);if(f)return Ra(f,i);for(var d=s.nextSibling,h=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=u(d,d.firstChild,0))return Ra(te(f.line,f.ch-h),i);h+=d.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(f=u(p,p.firstChild,-1))return Ra(te(f.line,f.ch+m),i);m+=p.textContent.length}}Da.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function o(t){if(!gt(r,t)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Na(r);Oa({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,U),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=Ta.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var a=Fa(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Ta.text.join("\n");var l=document.activeElement;I(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==i&&n.showPrimarySelection()},50)}}Pa(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),dt(i,"paste",function(t){gt(r,t)||La(t,r)||s<=11&&setTimeout(Xr(r,function(){return e.updateFromDOM()}),20)}),dt(i,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),dt(i,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),dt(i,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),dt(i,"touchstart",function(){return n.forceCompositionEnd()}),dt(i,"input",function(){e.composing||e.readFromDOMSoon()}),dt(i,"copy",o),dt(i,"cut",o)},Da.prototype.prepareSelection=function(){var t=mr(this.cm,!1);return t.focus=this.cm.state.focused,t},Da.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Da.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Da.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var a=Ba(e,t.anchorNode,t.anchorOffset),s=Ba(e,t.focusNode,t.focusOffset);if(!a||a.bad||!s||s.bad||0!=ee(oe(a,s),i)||0!=ee(ie(a,s),o)){var l=e.display.view,c=i.line>=e.display.viewFrom&&za(e,i)||{node:l[0].measure.map[2],offset:0},u=o.line<e.display.viewTo&&za(e,o);if(!u){var f=l[l.length-1].measure,d=f.maps?f.maps[f.maps.length-1]:f.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var h,p=t.rangeCount&&t.getRangeAt(0);try{h=S(c.node,c.offset,u.offset,u.node)}catch(t){}h&&(!n&&e.state.focused?(t.collapse(c.node,c.offset),h.collapsed||(t.removeAllRanges(),t.addRange(h))):(t.removeAllRanges(),t.addRange(h)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Da.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Da.prototype.showMultipleSelections=function(t){O(this.cm.display.cursorDiv,t.cursors),O(this.cm.display.selectionDiv,t.selection)},Da.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Da.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},Da.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Da.prototype.blur=function(){this.div.blur()},Da.prototype.getField=function(){return this.div},Da.prototype.supportsTouch=function(){return!0},Da.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Jr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Da.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Da.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ba(e,t.anchorNode,t.anchorOffset),r=Ba(e,t.focusNode,t.focusOffset);n&&r&&Jr(e,function(){Ji(e.doc,Ci(n,r),U),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}}},Da.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=te(a.line-1,Kt(r.doc,a.line-1).length)),s.ch==Kt(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=te(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(t=lr(r,a.line))?(e=Jt(i.view[0].line),n=i.view[0].node):(e=Jt(i.view[t].line),n=i.view[t-1].node.nextSibling);var l,c,u=lr(r,s.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=Jt(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(function(t,e,n,r,i){var o="",a=!1,s=t.doc.lineSeparator(),l=!1;function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function u(t){t&&(c(),o+=t)}function f(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void u(n);var o,d=e.getAttribute("cm-marker");if(d){var h=t.findMarks(te(r,0),te(i+1,0),(g=+d,function(t){return t.id==g}));return void(h.length&&(o=h[0].find(0))&&u($t(t.doc,o.from,o.to).join(s)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&c();for(var m=0;m<e.childNodes.length;m++)f(e.childNodes[m]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(a=!0)}else 3==e.nodeType&&u(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;f(e),e!=n;)e=e.nextSibling,l=!1;return o}(r,n,c,e,l)),d=$t(r.doc,te(e,0),te(l,Kt(r.doc,l).text.length));f.length>1&&d.length>1;)if(Y(f)==Y(d))f.pop(),d.pop(),l--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),e++}for(var h=0,p=0,m=f[0],g=d[0],v=Math.min(m.length,g.length);h<v&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=Y(f),b=Y(d),x=Math.min(y.length-(1==f.length?h:0),b.length-(1==d.length?h:0));p<x&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==f.length&&1==d.length&&e==a.line)for(;h&&h>a.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)h--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var w=te(e,h),C=te(l,d.length?Y(d).length-p:0);return f.length>1||f[0]||ee(w,C)?(fo(r.doc,f,w,C,"+input"),!0):void 0},Da.prototype.ensurePolled=function(){this.forceCompositionEnd()},Da.prototype.reset=function(){this.forceCompositionEnd()},Da.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Da.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Da.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Jr(this.cm,function(){return cr(t.cm)})},Da.prototype.setUneditable=function(t){t.contentEditable="false"},Da.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Xr(this.cm,Ma)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Da.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Da.prototype.onContextMenu=function(){},Da.prototype.resetPosition=function(){},Da.prototype.needsContentAttribute=!0;var Wa=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};Wa.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!gt(r,t)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Na(r);Oa({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,U):(n.prevInput="",i.value=e.text.join("\n"),I(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(i.style.width="0px"),dt(i,"input",function(){a&&s>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),dt(i,"paste",function(t){gt(r,t)||La(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())}),dt(i,"cut",o),dt(i,"copy",o),dt(t.scroller,"paste",function(e){if(!Cn(t,e)&&!gt(r,e)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,i.dispatchEvent(o)}}),dt(t.lineSpace,"selectstart",function(e){Cn(t,e)||xt(e)}),dt(i,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),dt(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Wa.prototype.createField=function(t){this.wrapper=Fa(),this.textarea=this.wrapper.firstChild},Wa.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=mr(t);if(t.options.moveInputWithCursor){var i=$n(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Wa.prototype.showSelection=function(t){var e=this.cm,n=e.display;O(n.cursorDiv,t.cursors),O(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Wa.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&I(this.textarea),a&&s>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Wa.prototype.getField=function(){return this.textarea},Wa.prototype.supportsTouch=function(){return!1},Wa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(t){}},Wa.prototype.blur=function(){this.textarea.blur()},Wa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Wa.prototype.receivedFocus=function(){this.slowPoll()},Wa.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Wa.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function n(){var r=e.poll();r||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))})},Wa.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Pt(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Jr(e,function(){Ma(e,i.slice(l),r.length-l,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Wa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Wa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Wa.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=sr(n,t),c=r.scroller.scrollTop;if(o&&!f){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(o)&&Xr(n,Ji)(n.doc,Ci(o),U);var d,h=i.style.cssText,p=e.wrapper.style.cssText,m=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-m.top-5)+"px; left: "+(t.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(d=window.scrollY),r.input.focus(),l&&window.scrollTo(null,d),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&v(),k){kt(t);var g=function(){pt(window,"mouseup",g),setTimeout(y,20)};dt(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=i.selectionStart){var t=n.somethingSelected(),o=""+(t?i.value:"");i.value="",i.value=o,e.prevInput=t?"":"",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(e.contextMenuPending==y&&(e.contextMenuPending=!1,e.wrapper.style.cssText=p,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!a||a&&s<9)&&v();var t=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&""==e.prevInput?Xr(n,io)(n):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Wa.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Wa.prototype.setUneditable=function(){},Wa.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,i,o){t.defaults[n]=r,i&&(e[n]=o?function(t,e,n){n!=ba&&i(t,e,n)}:i)}t.defineOption=n,t.Init=ba,n("value","",function(t,e){return t.setValue(e)},!0),n("mode",null,function(t,e){t.doc.modeOption=e,Ti(t)},!0),n("indentUnit",2,Ti,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(t){Oi(t),Bn(t),cr(t)},!0),n("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(te(r,o))}r++});for(var i=n.length-1;i>=0;i--)fo(t.doc,e,n[i],te(n[i].line,n[i].ch+e.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=ba&&t.refresh()}),n("specialCharPlaceholder",Ze,function(t){return t.refresh()},!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),n("autocorrect",!1,function(t,e){return t.getInputField().autocorrect=e},!0),n("autocapitalize",!1,function(t,e){return t.getInputField().autocapitalize=e},!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",function(t){ya(t),di(t)},!0),n("keyMap","default",function(t,e,n){var r=$o(e),i=n!=ba&&$o(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,ka,!0),n("gutters",[],function(t,e){t.display.gutterSpecs=ui(e,t.options.lineNumbers),di(t)},!0),n("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?ir(t.display)+"px":"0",t.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(t){return Rr(t)},!0),n("scrollbarStyle","native",function(t){Wr(t),Rr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),n("lineNumbers",!1,function(t,e){t.display.gutterSpecs=ui(t.options.gutters,e),di(t)},!0),n("firstLineNumber",1,di,!0),n("lineNumberFormatter",function(t){return t},di,!0),n("showCursorWhenSelecting",!1,pr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(t,e){"nocursor"==e&&(kr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),n("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),n("dragDrop",!0,Ca),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,pr,!0),n("singleCursorHeightPerLine",!0,pr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Oi,!0),n("addModeClass",!1,Oi,!0),n("pollInterval",100),n("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),n("historyEventDelay",1250),n("viewportMargin",10,function(t){return t.refresh()},!0),n("maxHighlightLength",1e4,Oi,!0),n("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),n("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),n("autofocus",null),n("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0),n("phrases",null)}(_a),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&Xr(this,e[t])(this,n,i),mt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"]($o(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Zr(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)}(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,cr(this)}),removeOverlay:Zr(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void cr(this)}}),indentLine:Zr(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Zt(this.doc,t)&&Ea(this,t,e,n)}),indentSelection:Zr(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Ea(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Mr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Ea(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[r].from().ch>0&&$i(this.doc,r,new xi(o,c[r].to()),U)}}}),getTokenAt:function(t,e){return ye(this,t,e)},getLineTokens:function(t,e){return ye(this,te(t),e,!0)},getTokenTypeAt:function(t){t=se(this.doc,t);var e,n=de(this,Kt(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var i=n[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&r.push(i[o[e]]);else if(o[e])for(var a=0;a<o[e].length;a++){var s=i[o[e][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==B(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(t,e){var n=this.doc;return he(this,(t=ae(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return $n(this,null==t?n.head:"object"==typeof t?se(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Kn(this,se(this.doc,t),e||"page")},coordsChar:function(t,e){return Jn(this,(t=Gn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Gn(this,{top:t,left:0},e||"page").top,Xt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=Kt(this.doc,t)}else r=t;return Vn(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-Ue(r):0)},defaultTextHeight:function(){return er(this.display)},defaultCharWidth:function(){return nr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o,a,s,l=this.display,c=(t=$n(this,se(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==r)c=t.top;else if("above"==r||"near"==r){var f=Math.max(l.wrapper.clientHeight,this.doc.height),d=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>f)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=f&&(c=t.bottom),u+e.offsetWidth>d&&(u=d-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==i?(u=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&(o=this,a={left:u,top:c,right:u+e.offsetWidth,bottom:c+e.offsetHeight},null!=(s=Tr(o,a)).scrollTop&&Pr(o,s.scrollTop),null!=s.scrollLeft&&Ir(o,s.scrollLeft))},triggerOnKeyDown:Zr(sa),triggerOnKeyPress:Zr(ca),triggerOnKeyUp:la,triggerOnMouseDown:Zr(ha),execCommand:function(t){if(Zo.hasOwnProperty(t))return Zo[t].call(null,this)},triggerElectric:Zr(function(t){Aa(this,t)}),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=se(this.doc,t),a=0;a<e&&!(o=Ia(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Zr(function(t,e){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Ia(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()},G)}),deleteH:Zr(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qo(this,function(n){var i=Ia(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var a=se(this.doc,t),s=0;s<e;++s){var l=$n(this,a,"div");if(null==o?o=l.left:l.left=o,(a=ja(this,l,i,n)).hitSide)break}return a},moveV:Zr(function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var s=$n(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=ja(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Or(n,Kn(n,l,"div").top-s.top),l},G),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=Kt(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=et(a,o)?function(t){return et(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new xi(te(t.line,r),te(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Zr(function(t,e){Lr(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-En(this)-this.display.barHeight,width:t.scrollWidth-En(this)-this.display.barWidth,clientHeight:On(this),clientWidth:Tn(this)}},scrollIntoView:Zr(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Ar(t),t.curOp.scrollToPos=e}(this,t):Nr(this,t.from,t.to,t.margin)}),setSize:Zr(function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&Rn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){ur(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,mt(this,"refresh",this)}),operation:function(t){return Jr(this,t)},startOperation:function(){return Vr(this)},endOperation:function(){return Gr(this)},refresh:Zr(function(){var t=this.display.cachedTextHeight;cr(this),this.curOp.forceUpdate=!0,Bn(this),Lr(this,this.doc.scrollLeft,this.doc.scrollTop),ai(this.display),(null==t||Math.abs(t-er(this.display))>.5)&&ar(this),mt(this,"refresh",this)}),swapDoc:Zr(function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Ni(this,t),Bn(this),this.display.input.reset(),Lr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,e),e}),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bt(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}(_a);var Ua="iter insert remove copy getEditor constructor".split(" ");for(var Va in Oo.prototype)Oo.prototype.hasOwnProperty(Va)&&B(Ua,Va)<0&&(_a.prototype[Va]=function(t){return function(){return t.apply(this.doc,arguments)}}(Oo.prototype[Va]));return bt(Oo),_a.inputStyles={textarea:Wa,contenteditable:Da},_a.defineMode=function(t){_a.defaults.mode||"null"==t||(_a.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),jt[t]=e}.apply(this,arguments)},_a.defineMIME=function(t,e){Dt[t]=e},_a.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),_a.defineMIME("text/plain","null"),_a.defineExtension=function(t,e){_a.prototype[t]=e},_a.defineDocExtension=function(t,e){Oo.prototype[t]=e},_a.fromTextArea=function(t,e){if((e=e?D(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=N();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=s.getValue()}var i;if(t.form&&(dt(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(pt(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var s=_a(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return s},function(t){t.off=pt,t.on=dt,t.wheelEventPixels=vi,t.Doc=Oo,t.splitLines=Nt,t.countColumn=z,t.findColumn=K,t.isWordChar=tt,t.Pass=W,t.signal=mt,t.Line=Ke,t.changeEnd=ki,t.scrollbarModel=Hr,t.Pos=te,t.cmpPos=ee,t.modes=jt,t.mimeModes=Dt,t.resolveMode=zt,t.getMode=Rt,t.modeExtensions=Bt,t.extendMode=Ht,t.copyState=Wt,t.startState=Vt,t.innerMode=Ut,t.commands=Zo,t.keyMap=Bo,t.keyName=Ko,t.isModifierKey=Vo,t.lookupKey=Uo,t.normalizeKeyMap=Wo,t.StringStream=Gt,t.SharedTextMarker=_o,t.TextMarker=Co,t.LineWidget=bo,t.e_preventDefault=xt,t.e_stopPropagation=wt,t.e_stop=kt,t.addClass=P,t.contains=A,t.rmClass=E,t.keyNames=jo}(_a),_a.version="5.49.0",_a}()},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(3),i=n(1),o=n(26),a=n(21),s=n(15),l=function(t,e,n){var c,u,f,d=t&l.F,h=t&l.G,p=t&l.S,m=t&l.P,g=t&l.B,v=t&l.W,y=h?i:i[e]||(i[e]={}),b=y.prototype,x=h?r:p?r[e]:(r[e]||{}).prototype;for(c in h&&(n=e),n)(u=!d&&x&&void 0!==x[c])&&s(y,c)||(f=u?x[c]:n[c],y[c]=h&&"function"!=typeof x[c]?n[c]:g&&u?o(f,r):v&&x[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[c]=f,t&l.R&&b&&!b[c]&&a(b,c,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(68)("wks"),i=n(48),o=n(3).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(114);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(81)("wks"),i=n(83),o=n(23).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(7),i=n(106),o=n(67),a=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(33);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(109),i=n(50);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";t.exports=n(272)()?Symbol:n(273)},function(t,e,n){var r=n(305),i=n(147);function o(e){return t.exports=o=i?r:function(t){return t.__proto__||r(t)},o(e)}t.exports=o},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(10),i=n(38);t.exports=n(8)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(98),i=n(141),o=n(268),a=n(99);(t.exports=function(t,e){var n,o,s,l,c;return arguments.length<2||"string"!=typeof t?(l=e,e=t,t=null):l=arguments[2],null==t?(n=s=!0,o=!1):(n=a.call(t,"c"),o=a.call(t,"e"),s=a.call(t,"w")),c={value:e,configurable:n,enumerable:o,writable:s},l?r(i(l),c):c}).gs=function(t,e,n){var s,l,c,u;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(s=!0,l=!1):(s=a.call(t,"c"),l=a.call(t,"e")),u={get:e,set:n,configurable:s,enumerable:l},c?r(i(c),u):u}},function(t,e,n){var r=n(47);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(108),i=n(74);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(50);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(52),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(23),i=n(82),o=n(55),a=n(43),s=n(87),l=function(t,e,n){var c,u,f,d,h=t&l.F,p=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,y=p?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?i:i[e]||(i[e]={}),x=b.prototype||(b.prototype={});for(c in p&&(n=e),n)f=((u=!h&&y&&void 0!==y[c])?y:n)[c],d=v&&u?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,c,f,t&l.U),b[c]!=f&&o(b,c,d),g&&x[c]!=f&&(x[c]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(137)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){t.exports=n(171)},function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){var n;return e&&!0===e.clone&&r(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t}function a(t,e,n){var i=t.slice();return e.forEach(function(e,a){void 0===i[a]?i[a]=o(e,n):r(e)?i[a]=s(t[a],e,n):-1===t.indexOf(e)&&i.push(o(e,n))}),i}function s(t,e,n){var i=Array.isArray(e);return i===Array.isArray(t)?i?((n||{arrayMerge:a}).arrayMerge||a)(t,e,n):function(t,e,n){var i={};return r(t)&&Object.keys(t).forEach(function(e){i[e]=o(t[e],n)}),Object.keys(e).forEach(function(a){r(e[a])&&t[a]?i[a]=s(t[a],e[a],n):i[a]=o(e[a],n)}),i}(t,e,n):o(e,n)}s.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,n){return s(t,n,e)})};var l=s;t.exports=l},function(t,e,n){t.exports=n(195)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!0},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(17),i=n(116),o=n(117),a=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(23),i=n(55),o=n(86),a=n(83)("src"),s=n(182),l=(""+s).split("toString");n(82).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){"use strict";var r=n(196)(!0);n(127)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){!function(e){function n(){this.parent=null,this.nested=[],this.nodes=[],this.filters=null,this.directives=null,this.context=null,this.unbind=null,this.onRender=null,this.onUpdate=null,this.onRemove=null,this.noCache=!1}function r(){this.items=Object.create(null),this.length=0,this.next=0}function i(t,e,n,r){if(r){var i={__index__:n};return i[r.value]=t[n],r.key&&(i[r.key]=n),i}return t[n]}function o(t,e,n,r){if(r){var i={__index__:n};return i[r.value]=t[e[n]],r.key&&(i[r.key]=e[n]),i}return t[e[n]]}n.render=function(t,e,n){var r;return r=n&&n.noCache?new t:t.pool.pop()||new t,8==e.nodeType?r.insertBefore(e):r.appendTo(e),n&&(n.parent&&(r.parent=n.parent),n.context&&(r.context=n.context),n.filters&&(r.filters=n.filters),n.directives&&(r.directives=n.directives),n.noCache&&(r.noCache=n.noCache)),r.onRender&&r.onRender(),r},n.prerender=function(t,e){for(;e--;)t.pool.push(new t)},n.loop=function(t,e,r,a,s,l){var c,u,f,d,h,p,m=r.length;for(c in Array.isArray(s)?(h=i,p=s.length):(h=o,p=(d=Object.keys(s)).length),f=m-p,r.items){if(!(f-- >0))break;r.items[c].remove()}for(c in u=0,r.items)r.items[c].__state__=h(s,d,u,l),u++;for(u=m,f=p;u<f;u++){var g=n.render(a,e,{parent:t,context:t.context,filters:t.filters,directives:t.directives,noCache:t.noCache});t.nested.push(g),c=r.push(g),g.unbind=function(t){return function(){r.remove(t)}}(c),g.__state__=h(s,d,u,l)}},n.cond=function(t,e,r,i,o){if(r.ref)o||r.ref.remove();else if(o){var a=n.render(i,e,{parent:t,context:t.context,filters:t.filters,directives:t.directives,noCache:t.noCache});t.nested.push(a),r.ref=a,a.unbind=function(){r.ref=null}}return o},n.insert=function(t,e,r,i,o){if(r.ref)r.ref.update(o);else{var a=n.render(i,e,{parent:t,context:t.context,filters:t.filters,directives:t.directives,noCache:t.noCache});t.nested.push(a),r.ref=a,a.unbind=function(){r.ref=null},a.update(o)}},n.prototype.remove=function(){for(var t=this.nodes.length;t--;)this.nodes[t].parentNode.removeChild(this.nodes[t]);for(this.unbind&&this.unbind(),t=this.nested.length;t--;)this.nested[t].remove();this.parent&&(t=this.parent.nested.indexOf(this),this.parent.nested.splice(t,1),this.parent=null),this.onRemove&&this.onRemove(),this.noCache||this.constructor.pool.push(this)},n.prototype.appendTo=function(t){for(var e=0,n=this.nodes.length;e<n;e++)t.appendChild(this.nodes[e])},n.prototype.insertBefore=function(t){if(!t.parentNode)throw new Error("Can not insert child view into parent node. You need append your view first and then update.");for(var e=0,n=this.nodes.length;e<n;e++)t.parentNode.insertBefore(this.nodes[e],t)},n.prototype.createDocument=function(){if(1==this.nodes.length)return this.nodes[0];for(var t=e.createDocumentFragment(),n=0,r=this.nodes.length;n<r;n++)t.appendChild(this.nodes[n]);return t},n.prototype.querySelector=function(t){for(var e=0;e<this.nodes.length;e++){if(this.nodes[e].matches&&this.nodes[e].matches(t))return this.nodes[e];if(8===this.nodes[e].nodeType)throw new Error("Can not use querySelector with non-element nodes on first level.");if(this.nodes[e].querySelector){var n=this.nodes[e].querySelector(t);if(n)return n}}return null},r.prototype.push=function(t){return this.items[this.next]=t,this.length+=1,this.next+=1,this.next-1},r.prototype.remove=function(t){if(!(t in this.items))throw new Error('You are trying to delete not existing element "'+t+'" form map.');delete this.items[t],this.length-=1},r.prototype.forEach=function(t){for(var e in this.items)t(this.items[e])},n.Map=r,t.exports=n}(window.document)},function(t,e){function n(t,e,n){var r,i,o,a,s;function l(){var c=Date.now()-a;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(s=t.apply(o,i),o=i=null))}null==e&&(e=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(s=t.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}n.debounce=n,t.exports=n},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(10).f,i=n(15),o=n(4)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(41),i=n(38),o=n(16),a=n(67),s=n(15),l=n(106),c=Object.getOwnPropertyDescriptor;e.f=n(8)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(17);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(42),i=n(118);t.exports=n(12)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(90),i=n(17),o=n(194),a=n(79),s=n(29),l=n(80),c=n(85),u=n(24),f=Math.min,d=[].push,h=!u(function(){RegExp(4294967295,"y")});n(84)("split",2,function(t,e,n,u){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,u+"g");(o=c.call(p,i))&&!((a=p.lastIndex)>f&&(l.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&d.apply(l,o.slice(1)),s=o[0].length,f=a,l.length>=h));)p.lastIndex===o.index&&p.lastIndex++;return f===i.length?!s&&p.test("")||l.push(""):l.push(i.slice(f)),l.length>h?l.slice(0,h):l}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):p.call(String(i),n,r)},function(t,e){var r=u(p,t,this,e,p!==n);if(r.done)return r.value;var c=i(t),d=String(this),m=o(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),y=new m(h?c:"^(?:"+c.source+")",v),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===d.length)return null===l(y,d)?[d]:[];for(var x=0,w=0,C=[];w<d.length;){y.lastIndex=h?w:0;var k,_=l(y,h?d:d.slice(w));if(null===_||(k=f(s(y.lastIndex+(h?0:w)),d.length))===x)w=a(d,w,g);else{if(C.push(d.slice(x,w)),C.length===b)return C;for(var S=1;S<=_.length-1;S++)if(C.push(_[S]),C.length===b)return C;w=x=k}}return C.push(d.slice(x)),C}]})},function(t,e,n){n(198);for(var r=n(3),i=n(21),o=n(32),a=n(4)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],f=u&&u.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(t,e,n){"use strict";t.exports=n(139)()?Object.setPrototypeOf:n(140)},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===i}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===i)||!1}},function(t,e,n){t.exports=n(230)},function(t,e,n){var r=n(101),i=n(304);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(113),i=n(311),o=(n(19),n(314));function a(e,n,s){return"undefined"!=typeof Reflect&&i?t.exports=a=i:t.exports=a=function(t,e,n){var i=o(t,e);if(i){var a=r(i,e);return a.get?a.get.call(n):a.value}},a(e,n,s||e)}t.exports=a},function(t,e,n){var r=n(315),i=n(318);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){t.exports=n(233)},function(t,e,n){var r=n(11),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(1),i=n(3),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(39)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){e.f=n(4)},function(t,e,n){var r=n(3),i=n(1),o=n(39),a=n(69),s=n(10).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(72),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(68)("keys"),i=n(48);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(7),i=n(168),o=n(74),a=n(73)("IE_PROTO"),s=function(){},l=function(){var t,e=n(66)("iframe"),r=o.length;for(e.style.display="none",n(111).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(2),i=n(1),o=n(20);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";var r=n(17),i=n(29),o=n(79),a=n(80);n(84)("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=r(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var f,d=[],h=0;null!==(f=a(l,c));){var p=String(f[0]);d[h]=p,""===p&&(l.lastIndex=o(c,i(l.lastIndex),u)),h++}return 0===h?null:d}]})},function(t,e,n){"use strict";var r=n(178)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r=n(115),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(82),i=n(23),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(179)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";n(180);var r=n(43),i=n(55),o=n(24),a=n(30),s=n(9),l=n(85),c=s("species"),u=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),h=!o(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),p=h?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e}):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],g=n(a,d,""[t],function(t,e,n,r,i){return e.exec===l?h&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=g[0],y=g[1];r(String.prototype,t,v),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){"use strict";var r,i,o=n(54),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(t){var e,n,r,i,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(e=l.lastIndex),r=a.call(l,t),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),u&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=l},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(119);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(23),i=n(183),o=n(42).f,a=n(187).f,s=n(90),l=n(54),c=r.RegExp,u=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(n(12)&&(!p||n(24)(function(){return h[n(9)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new u(r&&!o?t.source:t,e):u((r=t instanceof c)?t.source:t,r&&o?l.call(t):e),n?this:f,c)};for(var m=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),v=0;g.length>v;)m(g[v++]);f.constructor=c,c.prototype=f,n(43)(r,"RegExp",c)}n(192)("RegExp")},function(t,e,n){var r=n(120),i=n(30);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(22),i=n(53),o=n(9)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(17),i=n(122),o=n(29),a=n(52),s=n(79),l=n(80),c=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(84)("replace",2,function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var g=f.global;if(g){var v=f.unicode;f.lastIndex=0}for(var y=[];;){var b=l(f,d);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(f.lastIndex=s(d,o(f.lastIndex),v))}for(var x,w="",C=0,k=0;k<y.length;k++){b=y[k];for(var _=String(b[0]),S=c(u(a(b.index),d.length),0),E=[],T=1;T<b.length;T++)E.push(void 0===(x=b[T])?x:String(x));var O=b.groups;if(h){var M=[_].concat(E,S,d);void 0!==O&&M.push(O);var L=String(e.apply(void 0,M))}else L=m(_,d,S,E,O,e);S>=C&&(w+=d.slice(C,S)+L,C=S+_.length)}return w+d.slice(C)}];function m(t,e,r,o,a,s){var l=r+t.length,c=o.length,u=h;return void 0!==a&&(a=i(a),u=d),n.call(s,u,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var d=f(u/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";var r=n(31),i=n(121)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(123)("includes")},function(t,e,n){"use strict";var r=n(31),i=n(124);r(r.P+r.F*n(125)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(15),i=n(28),o=n(73)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(40),i=n(4)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(95),i=n(4)("iterator"),o=n(32);t.exports=n(1).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(47);function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";t.exports=n(263)()?Object.assign:n(264)},function(t,e,n){"use strict";t.exports=n(269)()?String.prototype.contains:n(270)},function(t,e,n){"use strict";var r,i=n(136),o=n(98),a=n(14),s=n(13),l=n(25),c=n(280),u=n(18),f=Object.defineProperty,d=Object.defineProperties;t.exports=r=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");d(this,{__list__:l("w",s(t)),__context__:l("w",e),__nextIndex__:l("w",0)}),e&&(a(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete r.prototype.constructor,d(r.prototype,o({_next:l(function(){var t;if(this.__list__)return this.__redo__&&void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:l(function(t){return this.__list__[t]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[u.toStringTag]||"Object")+"]"})},c({_onAdd:l(function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,n){e>=t&&(this.__redo__[n]=++e)},this),this.__redo__.push(t)):f(this,"__redo__",l("c",[t])))}),_onDelete:l(function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(t))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,n){e>t&&(this.__redo__[n]=--e)},this)))}),_onClear:l(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),f(r.prototype,u.iterator,l(function(){return this}))},function(t,e,n){var r=n(211),i=n(213);function o(t){return(o="function"==typeof i&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t})(t)}function a(e){return"function"==typeof i&&"symbol"===o(r)?t.exports=a=function(t){return o(t)}:t.exports=a=function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":o(t)},a(e)}t.exports=a},function(t,e,n){t.exports=n(294)},function(t,e){t.exports=function(t,e){return(e="number"==typeof e?e:1/0)?function t(n,r){return n.reduce(function(n,i){return Array.isArray(i)&&r<e?n.concat(t(i,r+1)):n.concat(i)},[])}(t,1):Array.isArray(t)?t.map(function(t){return t}):t}},function(t,e,n){t.exports=n(163)},function(t,e,n){"use strict";var r=n(3),i=n(15),o=n(8),a=n(2),s=n(107),l=n(164).KEY,c=n(20),u=n(68),f=n(49),d=n(48),h=n(4),p=n(69),m=n(70),g=n(165),v=n(110),y=n(7),b=n(11),x=n(28),w=n(16),C=n(67),k=n(38),_=n(76),S=n(169),E=n(51),T=n(75),O=n(10),M=n(27),L=E.f,A=O.f,N=S.f,P=r.Symbol,F=r.JSON,I=F&&F.stringify,j=h("_hidden"),D=h("toPrimitive"),z={}.propertyIsEnumerable,R=u("symbol-registry"),B=u("symbols"),H=u("op-symbols"),W=Object.prototype,U="function"==typeof P&&!!T.f,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,K=o&&c(function(){return 7!=_(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(W,e);r&&delete W[e],A(t,e,n),r&&t!==W&&A(W,e,r)}:A,$=function(t){var e=B[t]=_(P.prototype);return e._k=t,e},q=U&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===W&&Y(H,e,n),y(t),e=C(e,!0),y(n),i(B,e)?(n.enumerable?(i(t,j)&&t[j][e]&&(t[j][e]=!1),n=_(n,{enumerable:k(0,!1)})):(i(t,j)||A(t,j,k(1,{})),t[j][e]=!0),K(t,e,n)):A(t,e,n)},J=function(t,e){y(t);for(var n,r=g(e=w(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},X=function(t){var e=z.call(this,t=C(t,!0));return!(this===W&&i(B,t)&&!i(H,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,j)&&this[j][t])||e)},Z=function(t,e){if(t=w(t),e=C(e,!0),t!==W||!i(B,e)||i(H,e)){var n=L(t,e);return!n||!i(B,e)||i(t,j)&&t[j][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=N(w(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==j||e==l||r.push(e);return r},tt=function(t){for(var e,n=t===W,r=N(n?H:w(t)),o=[],a=0;r.length>a;)!i(B,e=r[a++])||n&&!i(W,e)||o.push(B[e]);return o};U||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(H,n),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),K(this,t,k(1,n))};return o&&G&&K(W,t,{configurable:!0,set:e}),$(t)}).prototype,"toString",function(){return this._k}),E.f=Z,O.f=Y,n(112).f=S.f=Q,n(41).f=X,T.f=tt,o&&!n(39)&&s(W,"propertyIsEnumerable",X,!0),p.f=function(t){return $(h(t))}),a(a.G+a.W+a.F*!U,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var rt=M(h.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=P(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?_(t):J(_(t),e)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var ot=c(function(){T.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return T.f(x(t))}}),F&&a(a.S+a.F*(!U||c(function(){var t=P();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!q(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,I.apply(F,r)}}),P.prototype[D]||n(21)(P.prototype,D,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){t.exports=!n(8)&&!n(20)(function(){return 7!=Object.defineProperty(n(66)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(21)},function(t,e,n){var r=n(15),i=n(16),o=n(166)(!1),a=n(73)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(40);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(40);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(108),i=n(74).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){t.exports=n(173)},function(t,e,n){t.exports=n(176)},function(t,e,n){var r=n(53),i=n(9)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){t.exports=!n(12)&&!n(24)(function(){return 7!=Object.defineProperty(n(181)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(22);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(53);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(89),i=n(29),o=n(189);t.exports=function(t){return function(e,n,a){var s,l=r(e),c=i(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(9)("unscopables"),i=Array.prototype;null==i[r]&&n(55)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(90),i=n(30);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(9)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e){},function(t,e,n){"use strict";var r=n(39),i=n(2),o=n(107),a=n(21),s=n(32),l=n(197),c=n(49),u=n(94),f=n(4)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,m,g,v){l(n,e,p);var y,b,x,w=function(t){if(!d&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",k="values"==m,_=!1,S=t.prototype,E=S[f]||S["@@iterator"]||m&&S[m],T=E||w(m),O=m?k?w("entries"):T:void 0,M="Array"==e&&S.entries||E;if(M&&(x=u(M.call(new t)))!==Object.prototype&&x.next&&(c(x,C,!0),r||"function"==typeof x[f]||a(x,f,h)),k&&E&&"values"!==E.name&&(_=!0,T=function(){return E.call(this)}),r&&!v||!d&&!_&&S[f]||a(S,f,T),s[e]=T,s[C]=h,m)if(y={values:k?T:w("values"),keys:g?T:w("keys"),entries:O},v)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(d||_),e,y);return y}},function(t,e,n){var r=n(7);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(32),i=n(4)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(7),i=n(47),o=n(4)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(26),s=n(204),l=n(111),c=n(66),u=n(3),f=u.process,d=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete v[t]},"process"==n(40)(f)?r=function(t){f.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(7),i=n(11),o=n(97);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(4)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(13);t.exports=function(){return r(this).length=0,this}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(257),i=Math.max;t.exports=function(t){return i(0,r(t))}},function(t,e,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};t.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"==typeof t&&i(t(e(null),o))===o}},function(t,e,n){"use strict";var r,i,o,a,s=n(261),l=n(13),c=Object.prototype.isPrototypeOf,u=Object.defineProperty,f={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(t,e){if(l(t),null===e||s(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=(i=function(){var t,e=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(t=r.set).call(e,n)}catch(t){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return e.__proto__=n,Object.getPrototypeOf(e)===n?{level:2}:((e={}).__proto__=n,Object.getPrototypeOf(e)===n&&{level:1})}())?(2===i.level?i.set?(a=i.set,o=function(t,e){return a.call(r(t,e),e),t}):o=function(t,e){return r(t,e).__proto__=e,t}:o=function t(e,n){var i;return r(e,n),(i=c.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===n&&(n=t.nullPolyfill),e.__proto__=n,i&&u(t.nullPolyfill,"__proto__",f),e},Object.defineProperty(o,"level",{configurable:!1,enumerable:!1,writable:!1,value:i.level})):null,n(262)},function(t,e,n){"use strict";var r=n(33),i=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(276);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},function(t,e,n){"use strict";n(292);var r=n(17),i=n(54),o=n(12),a=/./.toString,s=function(t){n(43)(RegExp.prototype,"toString",t,!0)};n(24)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";var r=n(115),i={};i[n(9)("toStringTag")]="z",i+""!="[object z]"&&n(43)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(31),i=n(29),o=n(124),a="".endsWith;r(r.P+r.F*n(125)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){t.exports=n(308)},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,c=0,u=[],f=n(330);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;n=l||(l=g(e)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&d(h(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){var r=n(104),i=n(170);t.exports=function(t,e){if(null==t)return{};var n,o,a=i(t,e);if(r){var s=r(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}},function(t,e,n){var r=n(113),i=n(104),o=n(35),a=n(175);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},s=o(n);"function"==typeof i&&(s=s.concat(i(n).filter(function(t){return r(n,t).enumerable}))),s.forEach(function(e){a(t,e,n[e])})}return t}},function(t,e,n){var r=n(217),i=n(221),o=n(229);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){"use strict";var r,i,o,a=n(136),s=n(253),l=n(58),c=n(14),u=n(25),f=n(271),d=n(18),h=n(142),p=n(277),m=n(290),g=n(291),v=Function.prototype.call,y=Object.defineProperty,b=Object.getPrototypeOf;g&&(o=Set),t.exports=r=function(){var t,e=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return t=g&&l?l(new o,b(this)):this,null!=e&&h(e),y(t,"__setData__",u("c",[])),e?(p(e,function(t){-1===s.call(this,t)&&this.push(t)},t.__setData__),t):t},g&&(l&&l(r,o),r.prototype=Object.create(o.prototype,{constructor:u(r)})),f(Object.defineProperties(r.prototype,{add:u(function(t){return this.has(t)?this:(this.emit("_add",this.__setData__.push(t)-1,t),this)}),clear:u(function(){this.__setData__.length&&(a.call(this.__setData__),this.emit("_clear"))}),delete:u(function(t){var e=s.call(this.__setData__,t);return-1!==e&&(this.__setData__.splice(e,1),this.emit("_delete",e,t),!0)}),entries:u(function(){return new m(this,"key+value")}),forEach:u(function(t){var e,n,r,i=arguments[1];for(c(t),n=(e=this.values())._next();void 0!==n;)r=e._resolve(n),v.call(t,i,r,r,this),n=e._next()}),has:u(function(t){return-1!==s.call(this.__setData__,t)}),keys:u(i=function(){return this.values()}),size:u.gs(function(){return this.__setData__.length}),values:u(function(){return new m(this)}),toString:u(function(){return"[object Set]"})})),y(r.prototype,d.iterator,u(i)),y(r.prototype,d.toStringTag,u("c","Set"))},function(t,e,n){t.exports=n(293)},function(t,e,n){"use strict";(function(e){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(t){var e,n,i,o,a,s,l=Object.create(null);if(this[c]=l,t)if("string"==typeof t)for("?"===t.charAt(0)&&(t=t.slice(1)),a=0,s=(o=t.split("&")).length;a<s;a++)-1<(e=(i=o[a]).indexOf("="))?f(l,d(i.slice(0,e)),d(i.slice(e+1))):i.length&&f(l,d(i),"");else if(r(t))for(a=0,s=t.length;a<s;a++)f(l,(i=t[a])[0],i[1]);else if(t.forEach)t.forEach(u,l);else for(n in t)f(l,n,t[n])}var r=Array.isArray,i=n.prototype,o=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},l=function(t){return s[t]},c="__URLSearchParams__:"+Math.random();function u(t,e){f(this,e,t)}function f(t,e,n){var i=r(n)?n.join(","):n;e in t?t[e].push(i):t[e]=[i]}function d(t){return decodeURIComponent(t.replace(a," "))}function h(t){return encodeURIComponent(t).replace(o,l)}i.append=function(t,e){f(this[c],t,e)},i.delete=function(t){delete this[c][t]},i.get=function(t){var e=this[c];return t in e?e[t][0]:null},i.getAll=function(t){var e=this[c];return t in e?e[t].slice(0):[]},i.has=function(t){return t in this[c]},i.set=function(t,e){this[c][t]=[""+e]},i.forEach=function(t,e){var n=this[c];Object.getOwnPropertyNames(n).forEach(function(r){n[r].forEach(function(n){t.call(e,n,r,this)},this)},this)},i.toJSON=function(){return{}},i.toString=function(){var t,e,n,r,i=this[c],o=[];for(e in i)for(n=h(e),t=0,r=i[e];t<r.length;t++)o.push(n+"="+h(r[t]));return o.join("&")},function(t){var e=function(){try{return!!Symbol.iterator}catch(t){return!1}}();"forEach"in t||(t.forEach=function(t,e){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach(function(r){!r.length||r in n||(n[r]=this.getAll(r)).forEach(function(n){t.call(e,n,r,this)},this)},this)}),"keys"in t||(t.keys=function(){var t=[];this.forEach(function(e,n){t.push(n)});var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n}),"values"in t||(t.values=function(){var t=[];this.forEach(function(e){t.push(e)});var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in t||(t.entries=function(){var t=[];this.forEach(function(e,n){t.push([n,e])});var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n}),!e||Symbol.iterator in t||(t[Symbol.iterator]=t.entries),"sort"in t||(t.sort=function(){for(var t,e,n,r=this.entries(),i=r.next(),o=i.done,a=[],s=Object.create(null);!o;)e=(n=i.value)[0],a.push(e),e in s||(s[e]=[]),s[e].push(n[1]),o=(i=r.next()).done;for(a.sort(),t=0;t<a.length;t++)this.delete(a[t]);for(t=0;t<a.length;t++)e=a[t],this.append(e,s[e].shift())})}((n=t.exports=e.URLSearchParams||n).prototype)}).call(this,n(145))},function(t,e){var n=Array.isArray;t.exports=function(t){return!(!t||"object"!=typeof t||n(t)||Object.keys(t).length)}},function(t,e,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;t.exports=function(t){var e,n=""+t,i=r.exec(n);if(!i)return n;var o="",a=0,s=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==a&&(o+=n.substring(s,a)),s=a+1,o+=e}return s!==a?o+n.substring(s,a):o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(319),o=n(320),a=n(321),s=(r=a)&&r.__esModule?r:{default:r};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.default={show:i.Show,hide:i.Hide,fadeIn:o.FadeIn,onclick:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"click"))}return u(e,s.default),e}(),oncontextmenu:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"contextmenu"))}return u(e,s.default),e}(),ondblclick:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dblclick"))}return u(e,s.default),e}(),onmousedown:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mousedown"))}return u(e,s.default),e}(),onmouseenter:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseenter"))}return u(e,s.default),e}(),onmouseleave:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseleave"))}return u(e,s.default),e}(),onmousemove:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mousemove"))}return u(e,s.default),e}(),onmouseover:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseover"))}return u(e,s.default),e}(),onmouseout:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseout"))}return u(e,s.default),e}(),onmouseup:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseup"))}return u(e,s.default),e}(),onkeydown:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"keydown"))}return u(e,s.default),e}(),onkeypress:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"keypress"))}return u(e,s.default),e}(),onkeyup:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"keyup"))}return u(e,s.default),e}(),onload:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"load"))}return u(e,s.default),e}(),onresize:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"resize"))}return u(e,s.default),e}(),onscroll:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"scroll"))}return u(e,s.default),e}(),onblur:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"blur"))}return u(e,s.default),e}(),onchange:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"change"))}return u(e,s.default),e}(),onfocus:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"focus"))}return u(e,s.default),e}(),onfocusin:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"focusin"))}return u(e,s.default),e}(),onfocusout:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"focusout"))}return u(e,s.default),e}(),oninput:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"input"))}return u(e,s.default),e}(),onreset:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"reset"))}return u(e,s.default),e}(),onselect:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"select"))}return u(e,s.default),e}(),onsubmit:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"submit"))}return u(e,s.default),e}(),ondrag:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"drag"))}return u(e,s.default),e}(),ondragend:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragend"))}return u(e,s.default),e}(),ondragenter:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragenter"))}return u(e,s.default),e}(),ondragleave:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragleave"))}return u(e,s.default),e}(),ondragover:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragover"))}return u(e,s.default),e}(),ondragstart:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragstart"))}return u(e,s.default),e}(),ondrop:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"drop"))}return u(e,s.default),e}(),animationend:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"animationend"))}return u(e,s.default),e}(),animationiteration:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"animationiteration"))}return u(e,s.default),e}(),animationstart:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"animationstart"))}return u(e,s.default),e}(),transitionend:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"webkitTransitionEnd"))}return u(e,s.default),e}(),onmessage:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"message"))}return u(e,s.default),e}(),onopen:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"open"))}return u(e,s.default),e}(),onwheel:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"wheel"))}return u(e,s.default),e}()}},function(t,e,n){var r,i=n(45),o=(r=n(325))&&r.__esModule?r.default:r;var a=function(t,e,n){var r,i=e.length,o=document.createElement("div");for(o.innerHTML=n;i-- >0;)e[i].parentNode.removeChild(e.pop());for(i=r=o.childNodes.length-1;r>=0;r--)e.push(o.childNodes[r]);if(++i,8==t.nodeType){if(!t.parentNode)throw"Can not insert child view into parent node. You need append your view first and then update.";for(;i-- >0;)t.parentNode.insertBefore(e[i],t)}else for(;i-- >0;)t.appendChild(e[i])};function s(){i.call(this);var t=this,e=document.createElement("div"),n=document.createElement("div"),r=document.createComment("if"),o={},a=document.createElement("div"),s=document.createComment("if"),h={},p=document.createElement("textarea"),g=document.createElement("div"),v=document.createComment("if"),y={},b=document.createComment("if"),x={},w={},C=document.createComment("if"),k={};a.appendChild(s),a.appendChild(p),a.setAttribute("class","code-area "),g.appendChild(v),g.appendChild(b),g.setAttribute("class","js-code-output-executor "),n.appendChild(r),n.appendChild(a),n.appendChild(g),n.setAttribute("class","executable-fragment "),e.appendChild(n),e.appendChild(C),e.setAttribute("class","executable-fragment-wrapper"),this.__update__={highlightOnly:function(e){i.cond(t,r,o,l,!e),i.cond(t,C,k,m,!e)},isShouldBeFolded:function(e){i.cond(t,s,h,c,e)},folded:function(t){a.setAttribute("class","code-area "+(t?"_folded":"_unfolded"))},openConsole:function(e){i.cond(t,v,y,u,e)},waitingForOutput:function(e){var n;n=i.cond(t,b,x,f,e),i.cond(t,b,w,d,!n)},theme:function(t){g.setAttribute("class","js-code-output-executor "+t),n.setAttribute("class","executable-fragment "+t)}},this.onUpdate=function(t){o.ref&&o.ref.update(t),h.ref&&h.ref.update(t),y.ref&&y.ref.update(t),x.ref&&x.ref.update(t),w.ref&&w.ref.update(t),k.ref&&k.ref.update(t)},this.nodes=[e]}function l(){i.call(this);var t,e=this,n=document.createElement("div");n.setAttribute("class","run-button "),this.__update__={waitingForOutput:function(t){n.setAttribute("class","run-button "+(t?"_disabled":""))}},this.onRender=function(){void 0===t&&(t=new e.directives.onclick),t.bind(n),t.update(e.parent.execute.bind(e.parent))},this.onRemove=function(e){t.unbind(n)},this.nodes=[n]}function c(){i.call(this),this.__cache__={};var t,e,n=this,r=document.createElement("div");r.setAttribute("class","fold-button  "),this.__update__={foldButtonHover_theme:function(t,e){r.setAttribute("class","fold-button "+(t?"_hover":"")+" "+e)}},this.onRender=function(){void 0===t&&(t=new n.directives.onmouseenter),t.bind(r),t.update(n.parent.onFoldButtonMouseEnter.bind(n.parent)),void 0===e&&(e=new n.directives.onmouseleave),e.bind(r),e.update(n.parent.onFoldButtonMouseLeave.bind(n.parent))},this.onRemove=function(n){t.unbind(r),e.unbind(r)},this.nodes=[r]}function u(){i.call(this);var t,e=this,n=document.createElement("div");n.setAttribute("class","console-close "),this.__update__={theme:function(t){n.setAttribute("class","console-close "+t)}},this.onRender=function(){void 0===t&&(t=new e.directives.onclick),t.bind(n),t.update(e.parent.onConsoleCloseButtonEnter.bind(e.parent))},this.onRemove=function(e){t.unbind(n)},this.nodes=[n]}function f(){i.call(this);var t=document.createElement("div"),e=document.createElement("div");e.setAttribute("class","loader "),t.appendChild(e),t.setAttribute("class","output-wrapper "),this.__update__={theme:function(n){e.setAttribute("class","loader "+n),t.setAttribute("class","output-wrapper "+n)}},this.nodes=[t]}function d(){i.call(this),this.__cache__={};var t=this,e=document.createComment("if"),n={};this.__update__={exception_output:function(r,o){i.cond(t,e,n,h,o&&""!=o||r)}},this.onUpdate=function(t){n.ref&&n.ref.update(t)},this.nodes=[e]}function h(){i.call(this);var t=this,e=document.createElement("div"),n=document.createElement("div"),r=document.createComment("unsafe"),o=[],s=document.createComment("if"),l={};n.appendChild(r),n.appendChild(s),n.setAttribute("class","code-output"),e.appendChild(n),e.setAttribute("class","output-wrapper "),this.__update__={output:function(t){a(r,o,t)},exception:function(e){i.cond(t,s,l,p,e)},theme:function(t){e.setAttribute("class","output-wrapper "+t)}},this.onUpdate=function(t){l.ref&&l.ref.update(t)},this.nodes=[e]}function p(){i.call(this);var t=this,e=document.createComment("Exception"),n={};this.__update__={exception:function(r){i.insert(t,e,n,o,r)}},this.onRender=function(){i.insert(t,e,n,o,{originalException:!0,onExceptionClick:t.parent.parent.parent.onExceptionClick.bind(t.parent.parent.parent)})},this.nodes=[e]}function m(){i.call(this);var t=document.createElement("div"),e=document.createElement("span"),n=document.createTextNode(""),r=document.createElement("span"),o=document.createTextNode("");e.appendChild(document.createTextNode("Target platform: ")),e.appendChild(n),r.appendChild(document.createTextNode("Running on kotlin v. ")),r.appendChild(o),t.appendChild(e),t.appendChild(r),t.setAttribute("class","compiler-info"),this.__update__={targetPlatform:function(t){n.textContent=t.printableName},compilerVersion:function(t){o.textContent=t}},this.nodes=[t]}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.pool=[],s.prototype.update=function(t){void 0!==t.highlightOnly&&this.__update__.highlightOnly(t.highlightOnly),void 0!==t.isShouldBeFolded&&this.__update__.isShouldBeFolded(t.isShouldBeFolded),void 0!==t.folded&&this.__update__.folded(t.folded),void 0!==t.openConsole&&this.__update__.openConsole(t.openConsole),void 0!==t.waitingForOutput&&this.__update__.waitingForOutput(t.waitingForOutput),void 0!==t.theme&&this.__update__.theme(t.theme),this.onUpdate(t)},l.prototype=Object.create(i.prototype),l.prototype.constructor=l,l.pool=[],l.prototype.update=function(t){void 0!==t.waitingForOutput&&this.__update__.waitingForOutput(t.waitingForOutput)},c.prototype=Object.create(i.prototype),c.prototype.constructor=c,c.pool=[],c.prototype.update=function(t){void 0!==t.foldButtonHover&&(this.__cache__.foldButtonHover=t.foldButtonHover),void 0!==t.theme&&(this.__cache__.theme=t.theme),void 0!==this.__cache__.foldButtonHover&&void 0!==this.__cache__.theme&&this.__update__.foldButtonHover_theme(this.__cache__.foldButtonHover,this.__cache__.theme)},u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.pool=[],u.prototype.update=function(t){void 0!==t.theme&&this.__update__.theme(t.theme)},f.prototype=Object.create(i.prototype),f.prototype.constructor=f,f.pool=[],f.prototype.update=function(t){void 0!==t.theme&&this.__update__.theme(t.theme)},d.prototype=Object.create(i.prototype),d.prototype.constructor=d,d.pool=[],d.prototype.update=function(t){void 0!==t.exception&&(this.__cache__.exception=t.exception),void 0!==t.output&&(this.__cache__.output=t.output),void 0!==this.__cache__.exception&&void 0!==this.__cache__.output&&this.__update__.exception_output(this.__cache__.exception,this.__cache__.output),this.onUpdate(t)},h.prototype=Object.create(i.prototype),h.prototype.constructor=h,h.pool=[],h.prototype.update=function(t){void 0!==t.output&&this.__update__.output(t.output),void 0!==t.exception&&this.__update__.exception(t.exception),void 0!==t.theme&&this.__update__.theme(t.theme),this.onUpdate(t)},p.prototype=Object.create(i.prototype),p.prototype.constructor=p,p.pool=[],p.prototype.update=function(t){void 0!==t.exception&&this.__update__.exception(t.exception)},m.prototype=Object.create(i.prototype),m.prototype.constructor=m,m.pool=[],m.prototype.update=function(t){void 0!==t.targetPlatform&&this.__update__.targetPlatform(t.targetPlatform),void 0!==t.compilerVersion&&this.__update__.compilerVersion(t.compilerVersion)},t.exports=s},function(t,e,n){var r=n(45);function i(){r.call(this);var t=this,e=document.createElement("span"),n=document.createTextNode(""),i=document.createComment("if"),l={},c=document.createElement("br"),u=document.createComment("for"),f=new r.Map,d=document.createComment("for"),h=new r.Map;e.appendChild(document.createTextNode('Exception in thread "main" ')),e.appendChild(n),e.appendChild(i),e.setAttribute("class","error-output"),this.__update__={fullName:function(t){n.textContent=t},message:function(e){r.cond(t,i,l,o,e)},stackTrace:function(e){r.loop(t,u,f,a,e,{value:"stacktraceElement"})},causes:function(e){r.loop(t,d,h,s,e,{value:"cause"})}},this.onUpdate=function(t){l.ref&&l.ref.update(t),f.forEach(function(e){e.update(e.__state__),e.update(t),e.update(e.__state__)}),h.forEach(function(e){e.update(e.__state__),e.update(t),e.update(e.__state__)})},this.nodes=[e,c,u,d]}function o(){r.call(this);var t=document.createTextNode("");this.__update__={message:function(e){t.textContent=e}},this.nodes=[document.createTextNode(": "),t]}function a(){r.call(this),this.__state__={};var t,e=this,n=document.createElement("span"),i=document.createTextNode(""),o=document.createTextNode(""),a=document.createElement("span"),s=document.createTextNode(""),l=document.createTextNode(""),c=document.createElement("br");a.appendChild(s),a.appendChild(document.createTextNode(":")),a.appendChild(l),a.setAttribute("class","stacktrace-link"),n.appendChild(document.createTextNode(" at ")),n.appendChild(i),n.appendChild(document.createTextNode(".")),n.appendChild(o),n.appendChild(document.createTextNode(" (")),n.appendChild(a),n.appendChild(document.createTextNode(") ")),n.setAttribute("class","stacktrace-element error-output"),this.__update__={stacktraceElement:function(n){i.textContent=n.className,o.textContent=n.methodName,s.textContent=n.fileName,l.textContent=n.lineNumber,t.update(e.parent.onStackTraceClick.bind(e.parent,n.fileName,n.lineNumber))}},this.onRender=function(){void 0===t&&(t=new e.directives.onclick),t.bind(a)},this.onRemove=function(e){t.unbind(a)},this.nodes=[n,c]}function s(){r.call(this),this.__state__={};var t=this,e=document.createElement("span"),n=document.createTextNode(""),i=document.createComment("if"),o={},a=document.createElement("br"),s=document.createComment("for"),u=new r.Map;e.appendChild(document.createTextNode("Caused by: ")),e.appendChild(n),e.appendChild(i),e.setAttribute("class","error-output"),this.__update__={fullName:function(t){n.textContent=t},message:function(e){r.cond(t,i,o,l,e)},stackTrace:function(e){r.loop(t,s,u,c,e,{value:"stacktraceElement"})}},this.onUpdate=function(t){o.ref&&o.ref.update(t),u.forEach(function(e){e.update(e.__state__),e.update(t),e.update(e.__state__)})},this.nodes=[e,a,s]}function l(){r.call(this);var t=document.createTextNode("");this.__update__={message:function(e){t.textContent=e}},this.nodes=[document.createTextNode(": "),t]}function c(){r.call(this),this.__state__={};var t=document.createElement("span"),e=document.createTextNode(""),n=document.createTextNode(""),i=document.createTextNode(""),o=document.createTextNode(""),a=document.createElement("br");t.appendChild(document.createTextNode("at ")),t.appendChild(e),t.appendChild(document.createTextNode(" .")),t.appendChild(n),t.appendChild(document.createTextNode("(")),t.appendChild(i),t.appendChild(document.createTextNode(":")),t.appendChild(o),t.appendChild(document.createTextNode(")")),t.setAttribute("class","stacktrace-element error-output"),this.__update__={stacktraceElement:function(t){e.textContent=t.className,n.textContent=t.methodName,i.textContent=t.fileName,o.textContent=t.lineNumber}},this.nodes=[t,a]}i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.pool=[],i.prototype.update=function(t){void 0!==t.fullName&&this.__update__.fullName(t.fullName),void 0!==t.message&&this.__update__.message(t.message),void 0!==t.stackTrace&&this.__update__.stackTrace(t.stackTrace),void 0!==t.causes&&this.__update__.causes(t.causes),this.onUpdate(t)},o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.pool=[],o.prototype.update=function(t){void 0!==t.message&&this.__update__.message(t.message)},a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.pool=[],a.prototype.update=function(t){void 0!==t.stacktraceElement&&void 0!==t.__index__&&this.__update__.stacktraceElement(t.stacktraceElement)},s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.pool=[],s.prototype.update=function(t){void 0!==t.fullName&&this.__update__.fullName(t.fullName),void 0!==t.message&&this.__update__.message(t.message),void 0!==t.stackTrace&&this.__update__.stackTrace(t.stackTrace),void 0!==t.cause&&t.__index__,this.onUpdate(t)},l.prototype=Object.create(r.prototype),l.prototype.constructor=l,l.pool=[],l.prototype.update=function(t){void 0!==t.message&&this.__update__.message(t.message)},c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.pool=[],c.prototype.update=function(t){void 0!==t.stacktraceElement&&void 0!==t.__index__&&this.__update__.stacktraceElement(t.stacktraceElement)},t.exports=i},function(t,e,n){t.exports=n(326)},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.6+9869a4bc
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,a=void 0,s=function(t,e){p[i]=t,p[i+1]=e,2===(i+=2)&&(a?a(m):x())},l="undefined"!=typeof window?window:void 0,c=l||{},u=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(m,1)}}var p=new Array(1e3);function m(){for(var t=0;t<i;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}i=0}var g,v,y,b,x=void 0;function w(t,e){var n=this,r=new this.constructor(_);void 0===r[k]&&R(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return D(i,r,o,n._result)})}else I(n,r,t,e);return r}function C(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(_);return A(e,t),e}f?x=function(){return e.nextTick(m)}:u?(v=0,y=new u(m),b=document.createTextNode(""),y.observe(b,{characterData:!0}),x=function(){b.data=v=++v%2}):d?((g=new MessageChannel).port1.onmessage=m,x=function(){return g.port2.postMessage(0)}):x=void 0===l?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(m)}:h()}catch(t){return h()}}():h();var k=Math.random().toString(36).substring(2);function _(){}var S=void 0,E=1,T=2,O={error:null};function M(t){try{return t.then}catch(t){return O.error=t,O}}function L(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===C?function(t,e){e._state===E?P(t,e._result):e._state===T?F(t,e._result):I(e,void 0,function(e){return A(t,e)},function(e){return F(t,e)})}(e,n):r===O?(F(e,O.error),O.error=null):void 0===r?P(e,n):t(r)?function(t,e,n){s(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?A(t,n):P(t,n))},function(e){r||(r=!0,F(t,e))},t._label);!r&&i&&(r=!0,F(t,i))},t)}(e,n,r):P(e,n)}function A(t,e){var n,r;t===e?F(t,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=e),null===n||"object"!==r&&"function"!==r?P(t,e):L(t,e,M(e)))}function N(t){t._onerror&&t._onerror(t._result),j(t)}function P(t,e){t._state===S&&(t._result=e,t._state=E,0!==t._subscribers.length&&s(j,t))}function F(t,e){t._state===S&&(t._state=T,t._result=e,s(N,t))}function I(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+E]=n,i[o+T]=r,0===o&&t._state&&s(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?D(n,r,i,o):i(o);t._subscribers.length=0}}function D(e,n,r,i){var o=t(r),a=void 0,s=void 0,l=void 0,c=void 0;if(o){if((a=function(t,e){try{return t(e)}catch(t){return O.error=t,O}}(r,i))===O?(c=!0,s=a.error,a.error=null):l=!0,n===a)return void F(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;n._state!==S||(o&&l?A(n,a):c?F(n,s):e===E?P(n,a):e===T&&F(n,a))}var z=0;function R(t){t[k]=z++,t._state=void 0,t._result=void 0,t._subscribers=[]}var B=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[k]||R(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&P(this.promise,this._result))):F(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===C){var i=M(t);if(i===w&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===H){var o=new n(_);L(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===S&&(this._remaining--,t===T?F(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;I(t,void 0,function(t){return n._settledAt(E,e,t)},function(t){return n._settledAt(T,e,t)})},t}(),H=function(){function e(t){this[k]=z++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){A(t,e)},function(e){F(t,e)})}catch(e){F(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return H.prototype.then=w,H.all=function(t){return new B(this,t).promise},H.race=function(t){var e=this;return r(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},H.resolve=C,H.reject=function(t){var e=new this(_);return F(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){s=t},H._asap=s,H.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=r()}).call(this,n(351),n(145))},function(t,e,n){t.exports=n(355)},function(t,e,n){n(105),t.exports=n(1).Object.getOwnPropertySymbols},function(t,e,n){var r=n(48)("meta"),i=n(11),o=n(15),a=n(10).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(20)(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&l(t)&&!o(t,r)&&u(t),t}}},function(t,e,n){var r=n(27),i=n(75),o=n(41);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(16),i=n(71),o=n(167);t.exports=function(t){return function(e,n,a){var s,l=r(e),c=i(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(72),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(10),i=n(7),o=n(27);t.exports=n(8)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(16),i=n(112).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(35);t.exports=function(t,e){if(null==t)return{};var n,i,o={},a=r(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}},function(t,e,n){n(172),t.exports=n(1).Object.keys},function(t,e,n){var r=n(28),i=n(27);n(77)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(174);var r=n(1).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(16),i=n(51).f;n(77)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(114);t.exports=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){n(177);var r=n(1).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(2);r(r.S+r.F*!n(8),"Object",{defineProperty:n(10).f})},function(t,e,n){var r=n(52),i=n(30);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e){t.exports=!1},function(t,e,n){"use strict";var r=n(85);n(31)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){var r=n(22),i=n(23).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=n(81)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(22),i=n(184).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){var r=n(22),i=n(17),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(87)(Function.call,n(185).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(186),i=n(118),o=n(89),a=n(117),s=n(86),l=n(116),c=Object.getOwnPropertyDescriptor;e.f=n(12)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(188),i=n(191).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(86),i=n(89),o=n(121)(!1),a=n(190)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(52),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(81)("keys"),i=n(83);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";var r=n(23),i=n(42),o=n(12),a=n(9)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(42).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(12)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var r=n(17),i=n(119),o=n(9)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){n(126),n(44),n(57),n(201),n(209),n(210),t.exports=n(1).Promise},function(t,e,n){var r=n(72),i=n(50);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(76),i=n(38),o=n(49),a={};n(21)(a,n(4)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(199),i=n(200),o=n(32),a=n(16);t.exports=n(127)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o,a,s=n(39),l=n(3),c=n(26),u=n(95),f=n(2),d=n(11),h=n(47),p=n(202),m=n(203),g=n(130),v=n(131).set,y=n(205)(),b=n(97),x=n(132),w=n(206),C=n(133),k=l.TypeError,_=l.process,S=_&&_.versions,E=S&&S.v8||"",T=l.Promise,O="process"==u(_),M=function(){},L=i=b.f,A=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(4)("species")]=function(t){t(M,M)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),N=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(i||(2==t._h&&j(t),t._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===e.promise?c(k("Promise-chain cycle")):(o=N(n))?o.call(n,l,c):l(n)):c(r)}catch(t){u&&!a&&u.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&F(t)})}},F=function(t){v.call(l,function(){var e,n,r,i=t._v,o=I(t);if(o&&(e=x(function(){O?_.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=O||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){v.call(l,function(){var e;O?_.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=N(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(z,r,1),c(D,r,1))}catch(t){D.call(r,t)}}):(n._v=t,n._s=1,P(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};A||(T=function(t){p(this,T,"Promise","_h"),h(t),r.call(this);try{t(c(z,this,1),c(D,this,1))}catch(t){D.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(207)(T.prototype,{then:function(t,e){var n=L(g(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(z,t,1),this.reject=c(D,t,1)},b.f=L=function(t){return t===T||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!A,{Promise:T}),n(49)(T,"Promise"),n(208)("Promise"),a=n(1).Promise,f(f.S+f.F*!A,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!A),"Promise",{resolve:function(t){return C(s&&this===a?T:this,t)}}),f(f.S+f.F*!(A&&n(134)(function(t){T.all(t).catch(M)})),"Promise",{all:function(t){var e=this,n=L(e),r=n.resolve,i=n.reject,o=x(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=x(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(26),i=n(128),o=n(129),a=n(7),s=n(71),l=n(96),c={},u={};(e=t.exports=function(t,e,n,f,d){var h,p,m,g,v=d?function(){return t}:l(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=s(t.length);h>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===c||g===u)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=i(m,y,p.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3),i=n(131).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(40)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(3).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(21);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r=n(3),i=n(1),o=n(10),a=n(8),s=n(4)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(2),i=n(1),o=n(3),a=n(130),s=n(133);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(2),i=n(97),o=n(132);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){t.exports=n(212)},function(t,e,n){n(44),n(57),t.exports=n(69).f("iterator")},function(t,e,n){t.exports=n(214)},function(t,e,n){n(105),n(126),n(215),n(216),t.exports=n(1).Symbol},function(t,e,n){n(70)("asyncIterator")},function(t,e,n){n(70)("observable")},function(t,e,n){var r=n(218);t.exports=function(t){if(r(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e,n){t.exports=n(219)},function(t,e,n){n(220),t.exports=n(1).Array.isArray},function(t,e,n){var r=n(2);r(r.S,"Array",{isArray:n(110)})},function(t,e,n){var r=n(222),i=n(226);t.exports=function(t){if(i(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r(t)}},function(t,e,n){t.exports=n(223)},function(t,e,n){n(44),n(224),t.exports=n(1).Array.from},function(t,e,n){"use strict";var r=n(26),i=n(2),o=n(28),a=n(128),s=n(129),l=n(71),c=n(225),u=n(96);i(i.S+i.F*!n(134)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(d);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(n=new h(e=l(d.length));e>v;v++)c(n,v,g?m(d[v],v):d[v]);else for(f=y.call(d),n=new h;!(i=f.next()).done;v++)c(n,v,g?a(f,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(10),i=n(38);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){t.exports=n(227)},function(t,e,n){n(57),n(44),t.exports=n(228)},function(t,e,n){var r=n(95),i=n(4)("iterator"),o=n(32);t.exports=n(1).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){n(231),t.exports=n(1).Object.assign},function(t,e,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(232)})},function(t,e,n){"use strict";var r=n(8),i=n(27),o=n(75),a=n(41),s=n(28),l=n(109),c=Object.assign;t.exports=!c||n(20)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,u=1,f=o.f,d=a.f;c>u;)for(var h,p=l(arguments[u++]),m=f?i(p).concat(f(p)):i(p),g=m.length,v=0;g>v;)h=m[v++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:c},function(t,e,n){n(234),t.exports=n(1).parseInt},function(t,e,n){var r=n(2),i=n(235);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(3).parseInt,i=n(236).trim,o=n(135),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(2),i=n(50),o=n(20),a=n(135),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,n){var i={},s=o(function(){return!!a[t]()||""!=""[t]()}),l=i[t]=s?e(f):a[t];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},f=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e,n){!function(t){"use strict";var e="CodeMirror-hint",n="CodeMirror-hint-active";function r(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;t.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}t.showHint=function(t,e,n){if(!e)return t.showHint(n);n&&n.async&&(e.async=!0);var r={hint:e};if(n)for(var i in n)r[i]=n[i];return t.showHint(r)},t.defineExtension("showHint",function(e){e=function(t,e,n){var r=t.options.hintOptions,i={};for(var o in u)i[o]=u[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(t,e)),i}(this,this.getCursor("start"),e);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!e.hint.supportsSelection)return;for(var i=0;i<n.length;i++)if(n[i].head.line!=n[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new r(this,e);o.options.hint&&(t.signal(this,"startCompletion",this),o.update(!0))}}),t.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var i=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(t){return"string"==typeof t?t:t.text}function s(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function l(r,i){this.completion=r,this.data=i,this.picked=!1;var o=this,l=r.cm,c=l.getInputField().ownerDocument,u=c.defaultView||c.parentWindow,f=this.hints=c.createElement("ul"),d=r.cm.options.theme;f.className="CodeMirror-hints "+d,this.selectedHint=i.selectedHint||0;for(var h=i.list,p=0;p<h.length;++p){var m=f.appendChild(c.createElement("li")),g=h[p],v=e+(p!=this.selectedHint?"":" "+n);null!=g.className&&(v=g.className+" "+v),m.className=v,g.render?g.render(m,i,g):m.appendChild(c.createTextNode(g.displayText||a(g))),m.hintId=p}var y=r.options.container||c.body,b=l.cursorCoords(r.options.alignWithWord?i.from:null),x=b.left,w=b.bottom,C=!0,k=0,_=0;if(y!==c.body){var S=-1!==["absolute","relative","fixed"].indexOf(u.getComputedStyle(y).position),E=S?y:y.offsetParent,T=E.getBoundingClientRect(),O=c.body.getBoundingClientRect();k=T.left-O.left-E.scrollLeft,_=T.top-O.top-E.scrollTop}f.style.left=x-k+"px",f.style.top=w-_+"px";var M=u.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),L=u.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);y.appendChild(f);var A=f.getBoundingClientRect(),N=A.bottom-L,P=f.scrollHeight>f.clientHeight+1,F=l.getScrollInfo();if(N>0){var I=A.bottom-A.top,j=b.top-(b.bottom-A.top);if(j-I>0)f.style.top=(w=b.top-I-_)+"px",C=!1;else if(I>L){f.style.height=L-5+"px",f.style.top=(w=b.bottom-A.top-_)+"px";var D=l.getCursor();i.from.ch!=D.ch&&(b=l.cursorCoords(D),f.style.left=(x=b.left-k)+"px",A=f.getBoundingClientRect())}}var z,R=A.right-M;if(R>0&&(A.right-A.left>M&&(f.style.width=M-5+"px",R-=A.right-A.left-M),f.style.left=(x=b.left-R-k)+"px"),P)for(var B=f.firstChild;B;B=B.nextSibling)B.style.paddingRight=l.display.nativeBarWidth+"px";return l.addKeyMap(this.keyMap=function(t,e){var n={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(1-e.menuSize(),!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){e.moveFocus(-1)},n["Ctrl-N"]=function(){e.moveFocus(1)});var r=t.options.customKeys,i=r?{}:n;function o(t,r){var o;o="string"!=typeof r?function(t){return r(t,e)}:n.hasOwnProperty(r)?n[r]:r,i[t]=o}if(r)for(var a in r)r.hasOwnProperty(a)&&o(a,r[a]);var s=t.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}(r,{moveFocus:function(t,e){o.changeActive(o.selectedHint+t,e)},setFocus:function(t){o.changeActive(t)},menuSize:function(){return o.screenAmount()},length:h.length,close:function(){r.close()},pick:function(){o.pick()},data:i})),r.options.closeOnUnfocus&&(l.on("blur",this.onBlur=function(){z=setTimeout(function(){r.close()},100)}),l.on("focus",this.onFocus=function(){clearTimeout(z)})),l.on("scroll",this.onScroll=function(){var t=l.getScrollInfo(),e=l.getWrapperElement().getBoundingClientRect(),n=w+F.top-t.top,i=n-(u.pageYOffset||(c.documentElement||c.body).scrollTop);if(C||(i+=f.offsetHeight),i<=e.top||i>=e.bottom)return r.close();f.style.top=n+"px",f.style.left=x+F.left-t.left+"px"}),t.on(f,"dblclick",function(t){var e=s(f,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),o.pick())}),t.on(f,"click",function(t){var e=s(f,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),r.options.completeOnSingleClick&&o.pick())}),t.on(f,"mousedown",function(){setTimeout(function(){l.focus()},20)}),t.signal(i,"select",h[this.selectedHint],f.childNodes[this.selectedHint]),!0}function c(t,e,n,r){if(t.async)t(e,r,n);else{var i=t(e,n);i&&i.then?i.then(r):r(i)}}r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,n){var r=e.list[n];r.hint?r.hint(this.cm,e,r):this.cm.replaceRange(a(r),r.from||e.from,r.to||e.to,"complete"),t.signal(e,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=i(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,n=++this.tick;c(this.options.hint,this.cm,this.options,function(r){e.tick==n&&e.finishUpdate(r,t)})}},finishUpdate:function(e,n){this.data&&t.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(r&&1==e.list.length?this.pick(e,0):(this.widget=new l(this,e),t.signal(e,"shown")))}},l.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,r){if(e>=this.data.list.length?e=r?this.data.list.length-1:0:e<0&&(e=r?0:this.data.list.length-1),this.selectedHint!=e){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+n,"")),(i=this.hints.childNodes[this.selectedHint=e]).className+=" "+n,i.offsetTop<this.hints.scrollTop?this.hints.scrollTop=i.offsetTop-3:i.offsetTop+i.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=i.offsetTop+i.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],i)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:function(e,n){var r,i=e.getHelpers(n,"hint");if(i.length){var o=function(t,e,n){var r=function(t,e){if(!t.somethingSelected())return e;for(var n=[],r=0;r<e.length;r++)e[r].supportsSelection&&n.push(e[r]);return n}(t,i);!function i(o){if(o==r.length)return e(null);c(r[o],t,n,function(t){t&&t.list.length>0?e(t):i(o+1)})}(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:r})}:t.hint.anyword?function(e,n){return t.hint.anyword(e,n)}:function(){}}}),t.registerHelper("hint","fromList",function(e,n){var r,i=e.getCursor(),o=e.getTokenAt(i),a=t.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",a=i);for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,r.length)==r&&l.push(u)}if(l.length)return{list:l,from:a,to:s}}),t.commands.autocomplete=t.showHint;var u={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)}(n(0))},function(t,e,n){!function(t){"use strict";var e=/[\w$]+/;t.registerHelper("hint","anyword",function(n,r){for(var i=r&&r.word||e,o=r&&r.range||500,a=n.getCursor(),s=n.getLine(a.line),l=a.ch,c=l;c&&i.test(s.charAt(c-1));)--c;for(var u=c!=l&&s.slice(c,l),f=r&&r.list||[],d={},h=new RegExp(i.source,"g"),p=-1;p<=1;p+=2)for(var m=a.line,g=Math.min(Math.max(m+p*o,n.firstLine()),n.lastLine())+p;m!=g;m+=p)for(var v,y=n.getLine(m);v=h.exec(y);)m==a.line&&v[0]===u||u&&0!=v[0].lastIndexOf(u,0)||Object.prototype.hasOwnProperty.call(d,v[0])||(d[v[0]]=!0,f.push(v[0]));return{list:f,from:t.Pos(a.line,c),to:t.Pos(a.line,l)}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(e,n,r){this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=e+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var i=this;function o(e){var n=t.wheelEventPixels(e)["horizontal"==i.orientation?"x":"y"],r=i.pos;i.moveTo(i.pos+n),i.pos!=r&&t.e_preventDefault(e)}t.on(this.inner,"mousedown",function(e){if(1==e.which){t.e_preventDefault(e);var n="horizontal"==i.orientation?"pageX":"pageY",r=e[n],o=i.pos;t.on(document,"mousemove",s),t.on(document,"mouseup",a)}function a(){t.off(document,"mousemove",s),t.off(document,"mouseup",a)}function s(t){if(1!=t.which)return a();i.moveTo(o+(t[n]-r)*(i.total/i.size))}}),t.on(this.node,"click",function(e){t.e_preventDefault(e);var n,r=i.inner.getBoundingClientRect();n="horizontal"==i.orientation?e.clientX<r.left?-1:e.clientX>r.right?1:0:e.clientY<r.top?-1:e.clientY>r.bottom?1:0,i.moveTo(i.pos+n*i.screen)}),t.on(this.node,"mousewheel",o),t.on(this.node,"DOMMouseScroll",o)}function n(t,n,r){this.addClass=t,this.horiz=new e(t,"horizontal",r),n(this.horiz.node),this.vert=new e(t,"vertical",r),n(this.vert.node),this.width=null}e.prototype.setPos=function(t,e){return t<0&&(t=0),t>this.total-this.screen&&(t=this.total-this.screen),!(!e&&t==this.pos||(this.pos=t,this.inner.style["horizontal"==this.orientation?"left":"top"]=t*(this.size/this.total)+"px",0))},e.prototype.moveTo=function(t){this.setPos(t)&&this.scroll(t,this.orientation)},e.prototype.update=function(t,e,n){var r=this.screen!=e||this.total!=t||this.size!=n;r&&(this.screen=e,this.total=t,this.size=n);var i=this.screen*(this.size/this.total);i<10&&(this.size-=10-i,i=10),this.inner.style["horizontal"==this.orientation?"width":"height"]=i+"px",this.setPos(this.pos,r)},n.prototype.update=function(t){if(null==this.width){var e=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;e&&(this.width=parseInt(e.height))}var n=this.width||0,r=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(t.scrollHeight,t.clientHeight,t.viewHeight-(r?n:0)),this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(t.scrollWidth,t.clientWidth,t.viewWidth-(i?n:0)-t.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=t.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(t){this.vert.setPos(t)},n.prototype.setScrollLeft=function(t){this.horiz.setPos(t)},n.prototype.clear=function(){var t=this.horiz.node.parentNode;t.removeChild(this.horiz.node),t.removeChild(this.vert.node)},t.scrollbarModel.simple=function(t,e){return new n("CodeMirror-simplescroll",t,e)},t.scrollbarModel.overlay=function(t,e){return new n("CodeMirror-overlayscroll",t,e)}}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("smalltalk",function(t){var e=/[+\-\/\\*~<>=@%|&?!.,:;^]/,n=/true|false|nil|self|super|thisContext/,r=function(t,e){this.next=t,this.parent=e},i=function(t,e,n){this.name=t,this.context=e,this.eos=n},o=function(){this.context=new r(a,null),this.expectVariable=!0,this.indentation=0,this.userIndentationDelta=0};o.prototype.userIndent=function(e){this.userIndentationDelta=e>0?e/t.indentUnit-this.indentation:0};var a=function(t,o,a){var f=new i(null,o,!1),d=t.next();return'"'===d?f=s(t,new r(s,o)):"'"===d?f=l(t,new r(l,o)):"#"===d?"'"===t.peek()?(t.next(),f=c(t,new r(c,o))):t.eatWhile(/[^\s.{}\[\]()]/)?f.name="string-2":f.name="meta":"$"===d?("<"===t.next()&&(t.eatWhile(/[^\s>]/),t.next()),f.name="string-2"):"|"===d&&a.expectVariable?f.context=new r(u,o):/[\[\]{}()]/.test(d)?(f.name="bracket",f.eos=/[\[{(]/.test(d),"["===d?a.indentation++:"]"===d&&(a.indentation=Math.max(0,a.indentation-1))):e.test(d)?(t.eatWhile(e),f.name="operator",f.eos=";"!==d):/\d/.test(d)?(t.eatWhile(/[\w\d]/),f.name="number"):/[\w_]/.test(d)?(t.eatWhile(/[\w\d_]/),f.name=a.expectVariable?n.test(t.current())?"keyword":"variable":null):f.eos=a.expectVariable,f},s=function(t,e){return t.eatWhile(/[^"]/),new i("comment",t.eat('"')?e.parent:e,!0)},l=function(t,e){return t.eatWhile(/[^']/),new i("string",t.eat("'")?e.parent:e,!1)},c=function(t,e){return t.eatWhile(/[^']/),new i("string-2",t.eat("'")?e.parent:e,!1)},u=function(t,e){var n=new i(null,e,!1),r=t.next();return"|"===r?(n.context=e.parent,n.eos=!0):(t.eatWhile(/[^|]/),n.name="variable"),n};return{startState:function(){return new o},token:function(t,e){if(e.userIndent(t.indentation()),t.eatSpace())return null;var n=e.context.next(t,e.context,e);return e.context=n.context,e.expectVariable=n.eos,n.name},blankLine:function(t){t.userIndent(0)},indent:function(e,n){var r=e.context.next===a&&n&&"]"===n.charAt(0)?-1:e.userIndentationDelta;return(e.indentation+r)*t.indentUnit},electricChars:"]"}}),t.defineMIME("text/x-stsrc",{name:"smalltalk"})}(n(0))},function(t,e,n){!function(t){"use strict";var e=/^(p|li|div|h\\d|pre|blockquote|td)$/;function n(t,r){if(3==t.nodeType)return r.push(t.nodeValue);for(var i=t.firstChild;i;i=i.nextSibling)n(i,r),e.test(t.nodeType)&&r.push("\n")}t.colorize=function(e,r){e||(e=document.body.getElementsByTagName("pre"));for(var i=0;i<e.length;++i){var o=e[i],a=o.getAttribute("data-lang")||r;if(a){var s=[];n(o,s),o.innerHTML="",t.runMode(s.join(""),a,o),o.className+=" cm-s-default"}}}}(n(0),n(242))},function(t,e,n){!function(t){"use strict";t.runMode=function(e,n,r,i){var o=t.getMode(t.defaults,n),a=/MSIE \d/.test(navigator.userAgent),s=a&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var l=i&&i.tabSize||t.defaults.tabSize,c=r,u=0;c.innerHTML="",r=function(t,e){if("\n"==t)return c.appendChild(document.createTextNode(s?"\r":t)),void(u=0);for(var n="",r=0;;){var i=t.indexOf("\t",r);if(-1==i){n+=t.slice(r),u+=t.length-r;break}u+=i-r,n+=t.slice(r,i);var o=l-u%l;u+=o;for(var a=0;a<o;++a)n+=" ";r=i+1}if(e){var f=c.appendChild(document.createElement("span"));f.className="cm-"+e.replace(/ +/g," cm-"),f.appendChild(document.createTextNode(n))}else c.appendChild(document.createTextNode(n))}}for(var f=t.splitLines(e),d=i&&i.state||t.startState(o),h=0,p=f.length;h<p;++h){h&&r("\n");var m=new t.StringStream(f[h]);for(!m.string&&o.blankLine&&o.blankLine(d);!m.eol();){var g=o.token(m,d);r(m.current(),g,h,m.start,d),m.start=m.pos}}}}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.info=r,this.align=i,this.prev=o}function n(t,n,r,i){var o=t.indented;return t.context&&"statement"==t.context.type&&"statement"!=r&&(o=t.context.indented),t.context=new e(o,n,r,i,null,t.context)}function r(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}function i(t,e,n){return"variable"==e.prevToken||"type"==e.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(t.string.slice(0,n))||!(!e.typeAtEndOfLine||t.column()!=t.indentation())||void 0}function o(t){for(;;){if(!t||"top"==t.type)return!0;if("}"==t.type&&"namespace"!=t.prev.info)return!1;t=t.prev}}function a(t){for(var e={},n=t.split(" "),r=0;r<n.length;++r)e[n[r]]=!0;return e}function s(t,e){return"function"==typeof t?t(e):t.propertyIsEnumerable(e)}t.defineMode("clike",function(a,l){var c,u,f=a.indentUnit,d=l.statementIndentUnit||f,h=l.dontAlignCalls,p=l.keywords||{},m=l.types||{},g=l.builtin||{},v=l.blockKeywords||{},y=l.defKeywords||{},b=l.atoms||{},x=l.hooks||{},w=l.multiLineStrings,C=!1!==l.indentStatements,k=!1!==l.indentSwitch,_=l.namespaceSeparator,S=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,E=l.numberStart||/[\d\.]/,T=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,O=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,M=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,L=l.isReservedIdentifier||!1;function A(t,e){var n,r=t.next();if(x[r]){var i=x[r](t,e);if(!1!==i)return i}if('"'==r||"'"==r)return e.tokenize=(n=r,function(t,e){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==n&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!w)&&(e.tokenize=null),"string"}),e.tokenize(t,e);if(S.test(r))return c=r,null;if(E.test(r)){if(t.backUp(1),t.match(T))return"number";t.next()}if("/"==r){if(t.eat("*"))return e.tokenize=N,N(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(O.test(r)){for(;!t.match(/^\/[\/*]/,!1)&&t.eat(O););return"operator"}if(t.eatWhile(M),_)for(;t.match(_);)t.eatWhile(M);var o=t.current();return s(p,o)?(s(v,o)&&(c="newstatement"),s(y,o)&&(u=!0),"keyword"):s(m,o)?"type":s(g,o)||L&&L(o)?(s(v,o)&&(c="newstatement"),"builtin"):s(b,o)?"atom":"variable"}function N(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=null;break}r="*"==n}return"comment"}function P(t,e){l.typeFirstDefinitions&&t.eol()&&o(e.context)&&(e.typeAtEndOfLine=i(t,e,t.pos))}return{startState:function(t){return{tokenize:null,context:new e((t||0)-f,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(t,e){var a=e.context;if(t.sol()&&(null==a.align&&(a.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return P(t,e),null;c=u=null;var s=(e.tokenize||A)(t,e);if("comment"==s||"meta"==s)return s;if(null==a.align&&(a.align=!0),";"==c||":"==c||","==c&&t.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==e.context.type;)r(e);else if("{"==c)n(e,t.column(),"}");else if("["==c)n(e,t.column(),"]");else if("("==c)n(e,t.column(),")");else if("}"==c){for(;"statement"==a.type;)a=r(e);for("}"==a.type&&(a=r(e));"statement"==a.type;)a=r(e)}else c==a.type?r(e):C&&(("}"==a.type||"top"==a.type)&&";"!=c||"statement"==a.type&&"newstatement"==c)&&n(e,t.column(),"statement",t.current());if("variable"==s&&("def"==e.prevToken||l.typeFirstDefinitions&&i(t,e,t.start)&&o(e.context)&&t.match(/^\s*\(/,!1))&&(s="def"),x.token){var f=x.token(t,e,s);void 0!==f&&(s=f)}return"def"==s&&!1===l.styleDefs&&(s="variable"),e.startOfLine=!1,e.prevToken=u?"def":s||c,P(t,e),s},indent:function(e,n){if(e.tokenize!=A&&null!=e.tokenize||e.typeAtEndOfLine)return t.Pass;var r=e.context,i=n&&n.charAt(0),o=i==r.type;if("statement"==r.type&&"}"==i&&(r=r.prev),l.dontIndentStatements)for(;"statement"==r.type&&l.dontIndentStatements.test(r.info);)r=r.prev;if(x.indent){var a=x.indent(e,r,n,f);if("number"==typeof a)return a}var s=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(i)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==i?0:d):!r.align||h&&")"==r.type?")"!=r.type||o?r.indented+(o?0:f)+(o||!s||/^(?:case|default)\b/.test(n)?0:f):r.indented+d:r.column+(o?0:1)},electricInput:k?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",c=a("int long char short double float unsigned signed void bool"),u=a("SEL instancetype id Class Protocol BOOL");function f(t){return s(c,t)||/.+_t$/.test(t)}var d="case do else for if switch while struct enum union";function h(t,e){if(!e.startOfLine)return!1;for(var n,r=null;n=t.peek();){if("\\"==n&&t.match(/^.$/)){r=h;break}if("/"==n&&t.match(/^\/[\/\*]/,!1))break;t.next()}return e.tokenize=r,"meta"}function p(t,e){return"type"==e.prevToken&&"type"}function m(t){return!(!t||t.length<2||"_"!=t[0]||"_"!=t[1]&&t[1]===t[1].toLowerCase())}function g(t){return t.eatWhile(/[\w\.']/),"number"}function v(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var n=t.match(/"([^\s\\()]{0,16})\(/);return!!n&&(e.cpp11RawStringDelim=n[1],e.tokenize=b,b(t,e))}return t.match(/(u8|u|U|L)/)?!!t.match(/["']/,!1)&&"string":(t.next(),!1)}function y(t,e){for(var n;null!=(n=t.next());)if('"'==n&&!t.eat('"')){e.tokenize=null;break}return"string"}function b(t,e){var n=e.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=t.match(new RegExp(".*?\\)"+n+'"'));return r?e.tokenize=null:t.skipToEnd(),"string"}function x(e,n){"string"==typeof e&&(e=[e]);var r=[];function i(t){if(t)for(var e in t)t.hasOwnProperty(e)&&r.push(e)}i(n.keywords),i(n.types),i(n.builtin),i(n.atoms),r.length&&(n.helperType=e[0],t.registerHelper("hintWords",e[0],r));for(var o=0;o<e.length;++o)t.defineMIME(e[o],n)}function w(t,e){for(var n=!1;!t.eol();){if(!n&&t.match('"""')){e.tokenize=null;break}n="\\"==t.next()&&!n}return"string"}function C(t){return function(e,n){for(var r;r=e.next();){if("*"==r&&e.eat("/")){if(1==t){n.tokenize=null;break}return n.tokenize=C(t-1),n.tokenize(e,n)}if("/"==r&&e.eat("*"))return n.tokenize=C(t+1),n.tokenize(e,n)}return"comment"}}x(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:a(l),types:f,blockKeywords:a(d),defKeywords:a("struct enum union"),typeFirstDefinitions:!0,atoms:a("NULL true false"),isReservedIdentifier:m,hooks:{"#":h,"*":p},modeProps:{fold:["brace","include"]}}),x(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:a(l+"alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq"),types:f,blockKeywords:a(d+" class try catch"),defKeywords:a("struct enum union class namespace"),typeFirstDefinitions:!0,atoms:a("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:m,hooks:{"#":h,"*":p,u:v,U:v,L:v,R:v,0:g,1:g,2:g,3:g,4:g,5:g,6:g,7:g,8:g,9:g,token:function(t,e,n){if("variable"==n&&"("==t.peek()&&(";"==e.prevToken||null==e.prevToken||"}"==e.prevToken)&&(r=t.current(),(i=/(\w+)::~?(\w+)$/.exec(r))&&i[1]==i[2]))return"def";var r,i}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),x("text/x-java",{name:"clike",keywords:a("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:a("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:a("catch class do else finally for if switch try while"),defKeywords:a("class interface enum @interface"),typeFirstDefinitions:!0,atoms:a("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(t){return!t.match("interface",!1)&&(t.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),x("text/x-csharp",{name:"clike",keywords:a("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:a("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),defKeywords:a("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=y,y(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),x("text/x-scala",{name:"clike",keywords:a("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:a("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:a("catch class enum do else finally for forSome if match switch try while"),defKeywords:a("class enum def object package trait type val var"),atoms:a("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return!!t.match('""')&&(e.tokenize=w,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(t,n){var r=n.context;return!("}"!=r.type||!r.align||!t.eat(">"))&&(n.context=new e(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(t,e){return!!t.eat("*")&&(e.tokenize=C(1),e.tokenize(t,e))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),x("text/x-kotlin",{name:"clike",keywords:a("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:a("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:a("catch class do else finally for if where try while enum"),defKeywords:a("class val var object interface fun"),atoms:a("true false null this"),hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},"*":function(t,e){return"."==e.prevToken?"variable":"operator"},'"':function(t,e){var n;return e.tokenize=(n=t.match('""'),function(t,e){for(var r,i=!1,o=!1;!t.eol();){if(!n&&!i&&t.match('"')){o=!0;break}if(n&&t.match('"""')){o=!0;break}r=t.next(),!i&&"$"==r&&t.match("{")&&t.skipTo("}"),i=!i&&"\\"==r&&!n}return!o&&n||(e.tokenize=null),"string"}),e.tokenize(t,e)},"/":function(t,e){return!!t.eat("*")&&(e.tokenize=C(1),e.tokenize(t,e))},indent:function(t,e,n,r){var i=n&&n.charAt(0);return"}"!=t.prevToken&&")"!=t.prevToken||""!=n?"operator"==t.prevToken&&"}"!=n&&"}"!=t.context.type||"variable"==t.prevToken&&"."==i||("}"==t.prevToken||")"==t.prevToken)&&"."==i?2*r+e.indented:e.align&&"}"==e.type?e.indented+(t.context.type==(n||"").charAt(0)?0:r):void 0:t.indented}},modeProps:{closeBrackets:{triples:'"'}}}),x(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:a("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:a("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:a("for while do if else struct"),builtin:a("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:a("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":h},modeProps:{fold:["brace","include"]}}),x("text/x-nesc",{name:"clike",keywords:a(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:f,blockKeywords:a(d),atoms:a("null true false"),hooks:{"#":h},modeProps:{fold:["brace","include"]}}),x("text/x-objectivec",{name:"clike",keywords:a(l+" bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available"),types:function(t){return f(t)||s(u,t)},builtin:a("FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION NS_RETURNS_RETAINED NS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT"),blockKeywords:a(d+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:a("struct enum union @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:m,hooks:{"#":h,"*":p},modeProps:{fold:["brace","include"]}}),x("text/x-squirrel",{name:"clike",keywords:a("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:f,blockKeywords:a("case catch class else for foreach if switch try while"),defKeywords:a("function local class"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"#":h},modeProps:{fold:["brace","include"]}});var k=null;x("text/x-ceylon",{name:"clike",keywords:a("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(t){var e=t.charAt(0);return e===e.toUpperCase()&&e!==e.toLowerCase()},blockKeywords:a("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:a("class dynamic function interface module object package value"),builtin:a("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:a("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return e.tokenize=function t(e){return function(n,r){for(var i,o=!1,a=!1;!n.eol();){if(!o&&n.match('"')&&("single"==e||n.match('""'))){a=!0;break}if(!o&&n.match("``")){k=t(e),a=!0;break}i=n.next(),o="single"==e&&!o&&"\\"==i}return a&&(r.tokenize=null),"string"}}(t.match('""')?"triple":"single"),e.tokenize(t,e)},"`":function(t,e){return!(!k||!t.match("`"))&&(e.tokenize=k,k=null,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(t,e,n){if(("variable"==n||"type"==n)&&"."==e.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("groovy",function(e){function n(t){for(var e={},n=t.split(" "),r=0;r<n.length;++r)e[n[r]]=!0;return e}var r,i=n("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws trait transient try void volatile while"),o=n("catch class def do else enum finally for if interface switch trait try while"),a=n("return break continue"),s=n("null true false this");function l(t,e){var n=t.next();if('"'==n||"'"==n)return c(n,t,e);if(/[\[\]{}\(\),;\:\.]/.test(n))return r=n,null;if(/\d/.test(n))return t.eatWhile(/[\w\.]/),t.eat(/eE/)&&(t.eat(/\+\-/),t.eatWhile(/\d/)),"number";if("/"==n){if(t.eat("*"))return e.tokenize.push(f),f(t,e);if(t.eat("/"))return t.skipToEnd(),"comment";if(d(e.lastToken,!1))return c(n,t,e)}if("-"==n&&t.eat(">"))return r="->",null;if(/[+\-*&%=<>!?|\/~]/.test(n))return t.eatWhile(/[+\-*&%=<>|~]/),"operator";if(t.eatWhile(/[\w\$_]/),"@"==n)return t.eatWhile(/[\w\$_\.]/),"meta";if("."==e.lastToken)return"property";if(t.eat(":"))return r="proplabel","property";var l=t.current();return s.propertyIsEnumerable(l)?"atom":i.propertyIsEnumerable(l)?(o.propertyIsEnumerable(l)?r="newstatement":a.propertyIsEnumerable(l)&&(r="standalone"),"keyword"):"variable"}function c(t,e,n){var r=!1;if("/"!=t&&e.eat(t)){if(!e.eat(t))return"string";r=!0}function i(e,n){for(var i,o=!1,a=!r;null!=(i=e.next());){if(i==t&&!o){if(!r)break;if(e.match(t+t)){a=!0;break}}if('"'==t&&"$"==i&&!o&&e.eat("{"))return n.tokenize.push(u()),"string";o=!o&&"\\"==i}return a&&n.tokenize.pop(),"string"}return n.tokenize.push(i),i(e,n)}function u(){var t=1;function e(e,n){if("}"==e.peek()){if(0==--t)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)}else"{"==e.peek()&&t++;return l(e,n)}return e.isBase=!0,e}function f(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize.pop();break}r="*"==n}return"comment"}function d(t,e){return!t||"operator"==t||"->"==t||/[\.\[\{\(,;:]/.test(t)||"newstatement"==t||"keyword"==t||"proplabel"==t||"standalone"==t&&!e}function h(t,e,n,r,i){this.indented=t,this.column=e,this.type=n,this.align=r,this.prev=i}function p(t,e,n){return t.context=new h(t.indented,e,n,null,t.context)}function m(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}return l.isBase=!0,{startState:function(t){return{tokenize:[l],context:new h((t||0)-e.indentUnit,0,"top",!1),indented:0,startOfLine:!0,lastToken:null}},token:function(t,e){var n=e.context;if(t.sol()&&(null==n.align&&(n.align=!1),e.indented=t.indentation(),e.startOfLine=!0,"statement"!=n.type||d(e.lastToken,!0)||(m(e),n=e.context)),t.eatSpace())return null;r=null;var i=e.tokenize[e.tokenize.length-1](t,e);if("comment"==i)return i;if(null==n.align&&(n.align=!0),";"!=r&&":"!=r||"statement"!=n.type)if("->"==r&&"statement"==n.type&&"}"==n.prev.type)m(e),e.context.align=!1;else if("{"==r)p(e,t.column(),"}");else if("["==r)p(e,t.column(),"]");else if("("==r)p(e,t.column(),")");else if("}"==r){for(;"statement"==n.type;)n=m(e);for("}"==n.type&&(n=m(e));"statement"==n.type;)n=m(e)}else r==n.type?m(e):("}"==n.type||"top"==n.type||"statement"==n.type&&"newstatement"==r)&&p(e,t.column(),"statement");else m(e);return e.startOfLine=!1,e.lastToken=r||i,i},indent:function(n,r){if(!n.tokenize[n.tokenize.length-1].isBase)return t.Pass;var i=r&&r.charAt(0),o=n.context;"statement"!=o.type||d(n.lastToken,!0)||(o=o.prev);var a=i==o.type;return"statement"==o.type?o.indented+("{"==i?0:e.indentUnit):o.align?o.column+(a?0:1):o.indented+(a?0:e.indentUnit)},electricChars:"{}",closeBrackets:{triples:"'\""},fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),t.defineMIME("text/x-groovy","groovy")}(n(0))},function(t,e,n){!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(r,i){var o,a,s=r.indentUnit,l={},c=i.htmlMode?e:n;for(var u in c)l[u]=c[u];for(var u in i)l[u]=i[u];function f(t,e){function n(n){return e.tokenize=n,n(t,e)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(h("atom","]]>")):null:t.match("--")?n(h("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(function t(e){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=t(e+1),r.tokenize(n,r);if(">"==i){if(1==e){r.tokenize=f;break}return r.tokenize=t(e-1),r.tokenize(n,r)}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=h("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",e.tokenize=d,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function d(t,e){var n,r,i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=f,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){e.tokenize=f,e.state=v,e.tagName=e.tagStart=null;var a=e.tokenize(t,e);return a?a+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=(n=i,(r=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=d;break}return"string"}).isInAttribute=!0,r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function h(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=f;break}n.next()}return t}}function p(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function m(t){t.context&&(t.context=t.context.prev)}function g(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(e))return;m(t)}}function v(t,e,n){return"openTag"==t?(n.tagStart=e.column(),y):"closeTag"==t?b:v}function y(t,e,n){return"word"==t?(n.tagName=e.current(),a="tag",C):l.allowMissingTagName&&"endTag"==t?(a="tag bracket",C(t,0,n)):(a="error",y)}function b(t,e,n){if("word"==t){var r=e.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",x):(a="tag error",w)}return l.allowMissingTagName&&"endTag"==t?(a="tag bracket",x(t,0,n)):(a="error",w)}function x(t,e,n){return"endTag"!=t?(a="error",x):(m(n),v)}function w(t,e,n){return a="error",x(t,0,n)}function C(t,e,n){if("word"==t)return a="attribute",k;if("endTag"==t||"selfcloseTag"==t){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||l.autoSelfClosers.hasOwnProperty(r)?g(n,r):(g(n,r),n.context=new p(n,r,i==n.indented)),v}return a="error",C}function k(t,e,n){return"equals"==t?_:(l.allowMissing||(a="error"),C(t,0,n))}function _(t,e,n){return"string"==t?S:"word"==t&&l.allowUnquoted?(a="string",C):(a="error",C(t,0,n))}function S(t,e,n){return"string"==t?S:C(t,0,n)}return f.isInText=!0,{startState:function(t){var e={tokenize:f,state:v,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;o=null;var n=e.tokenize(t,e);return(n||o)&&"comment"!=n&&(a=null,e.state=e.state(o||n,t,e),a&&(n="error"==a?n+" error":a)),n},indent:function(e,n,r){var i=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(i&&i.noIndent)return t.Pass;if(e.tokenize!=d&&e.tokenize!=f)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=l.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(t){t.state==_&&(t.state=C)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var e=[],n=t.context;n;n=n.prev)n.tagName&&e.push(n.tagName);return e.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(0))},function(t,e,n){!function(t){var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=t.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(t){return t&&t.bracketRegex||/[(){}[\]]/}function o(t,e,o){var s=t.getLineHandle(e.line),l=e.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var u=i(o),f=!c&&l>=0&&u.test(s.text.charAt(l))&&r[s.text.charAt(l)]||u.test(s.text.charAt(l+1))&&r[s.text.charAt(++l)];if(!f)return null;var d=">"==f.charAt(1)?1:-1;if(o&&o.strict&&d>0!=(l==e.ch))return null;var h=t.getTokenTypeAt(n(e.line,l+1)),p=a(t,n(e.line,l+(d>0?1:0)),d,h||null,o);return null==p?null:{from:n(e.line,l),to:p&&p.pos,match:p&&p.ch==f.charAt(0),forward:d>0}}function a(t,e,o,a,s){for(var l=s&&s.maxScanLineLength||1e4,c=s&&s.maxScanLines||1e3,u=[],f=i(s),d=o>0?Math.min(e.line+c,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-c),h=e.line;h!=d;h+=o){var p=t.getLine(h);if(p){var m=o>0?0:p.length-1,g=o>0?p.length:-1;if(!(p.length>l))for(h==e.line&&(m=e.ch-(o<0?1:0));m!=g;m+=o){var v=p.charAt(m);if(f.test(v)&&(void 0===a||t.getTokenTypeAt(n(h,m+1))==a)){var y=r[v];if(y&&">"==y.charAt(1)==o>0)u.push(v);else{if(!u.length)return{pos:n(h,m),ch:v};u.pop()}}}}}return h-o!=(o>0?t.lastLine():t.firstLine())&&null}function s(t,r,i){for(var a=t.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=t.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&o(t,l[c].head,i);if(u&&t.getLine(u.from.line).length<=a){var f=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(t.markText(u.from,n(u.from.line,u.from.ch+1),{className:f})),u.to&&t.getLine(u.to.line).length<=a&&s.push(t.markText(u.to,n(u.to.line,u.to.ch+1),{className:f}))}}if(s.length){e&&t.state.focused&&t.focus();var d=function(){t.operation(function(){for(var t=0;t<s.length;t++)s[t].clear()})};if(!r)return d;setTimeout(d,800)}}function l(t){t.operation(function(){t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null),t.state.matchBrackets.currentlyHighlighted=s(t,!1,t.state.matchBrackets)})}t.defineOption("matchBrackets",!1,function(e,n,r){r&&r!=t.Init&&(e.off("cursorActivity",l),e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)),n&&(e.state.matchBrackets="object"==typeof n?n:{},e.on("cursorActivity",l))}),t.defineExtension("matchBrackets",function(){s(this,!0)}),t.defineExtension("findMatchingBracket",function(t,e,n){return(n||"boolean"==typeof e)&&(n?(n.strict=e,e=n):e=e?{strict:!0}:null),o(this,t,e)}),t.defineExtension("scanForBracket",function(t,e,n,r){return a(this,t,e,n,r)})}(n(0))},function(t,e,n){!function(t){var e={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=t.Pos;function r(t,n){return"pairs"==n&&"string"==typeof t?t:"object"==typeof t&&null!=t[n]?t[n]:e[n]}t.defineOption("autoCloseBrackets",!1,function(e,n,a){a&&a!=t.Init&&(e.removeKeyMap(i),e.state.closeBrackets=null),n&&(o(r(n,"pairs")),e.state.closeBrackets=n,e.addKeyMap(i))});var i={Backspace:function(e){var i=s(e);if(!i||e.getOption("disableInput"))return t.Pass;for(var o=r(i,"pairs"),a=e.listSelections(),c=0;c<a.length;c++){if(!a[c].empty())return t.Pass;var u=l(e,a[c].head);if(!u||o.indexOf(u)%2!=0)return t.Pass}for(var c=a.length-1;c>=0;c--){var f=a[c].head;e.replaceRange("",n(f.line,f.ch-1),n(f.line,f.ch+1),"+delete")}},Enter:function(e){var n=s(e),i=n&&r(n,"explode");if(!i||e.getOption("disableInput"))return t.Pass;for(var o=e.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return t.Pass;var c=l(e,o[a].head);if(!c||i.indexOf(c)%2!=0)return t.Pass}e.operation(function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),e.execCommand("goCharLeft"),o=e.listSelections();for(var n=0;n<o.length;n++){var r=o[n].head.line;e.indentLine(r,null,!0),e.indentLine(r+1,null,!0)}})}};function o(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r="'"+n+"'";i[r]||(i[r]=a(n))}}function a(e){return function(i){return function(e,i){var o=s(e);if(!o||e.getOption("disableInput"))return t.Pass;var a=r(o,"pairs"),l=a.indexOf(i);if(-1==l)return t.Pass;for(var u,f=r(o,"closeBefore"),d=r(o,"triples"),h=a.charAt(l+1)==i,p=e.listSelections(),m=l%2==0,g=0;g<p.length;g++){var v,y=p[g],b=y.head,x=e.getRange(b,n(b.line,b.ch+1));if(m&&!y.empty())v="surround";else if(!h&&m||x!=i)if(h&&b.ch>1&&d.indexOf(i)>=0&&e.getRange(n(b.line,b.ch-2),b)==i+i){if(b.ch>2&&/\bstring/.test(e.getTokenTypeAt(n(b.line,b.ch-2))))return t.Pass;v="addFour"}else if(h){var w=0==b.ch?" ":e.getRange(n(b.line,b.ch-1),b);if(t.isWordChar(x)||w==i||t.isWordChar(w))return t.Pass;v="both"}else{if(!m||!(0===x.length||/\s/.test(x)||f.indexOf(x)>-1))return t.Pass;v="both"}else v=h&&c(e,b)?"both":d.indexOf(i)>=0&&e.getRange(b,n(b.line,b.ch+3))==i+i+i?"skipThree":"skip";if(u){if(u!=v)return t.Pass}else u=v}var C=l%2?a.charAt(l-1):i,k=l%2?i:a.charAt(l+1);e.operation(function(){if("skip"==u)e.execCommand("goCharRight");else if("skipThree"==u)for(var r=0;r<3;r++)e.execCommand("goCharRight");else if("surround"==u){for(var i=e.getSelections(),r=0;r<i.length;r++)i[r]=C+i[r]+k;e.replaceSelections(i,"around"),i=e.listSelections().slice();for(var r=0;r<i.length;r++)i[r]=(o=i[r],a=void 0,a=t.cmpPos(o.anchor,o.head)>0,{anchor:new n(o.anchor.line,o.anchor.ch+(a?-1:1)),head:new n(o.head.line,o.head.ch+(a?1:-1))});e.setSelections(i)}else"both"==u?(e.replaceSelection(C+k,null),e.triggerElectric(C+k),e.execCommand("goCharLeft")):"addFour"==u&&(e.replaceSelection(C+C+C+C,"before"),e.execCommand("goCharRight"));var o,a})}(i,e)}}function s(t){var e=t.state.closeBrackets;if(!e||e.override)return e;var n=t.getModeAt(t.getCursor());return n.closeBrackets||e}function l(t,e){var r=t.getRange(n(e.line,e.ch-1),n(e.line,e.ch+1));return 2==r.length?r:null}function c(t,e){var r=t.getTokenAt(n(e.line,e.ch+1));return/\bstring/.test(r.type)&&r.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}o(e.pairs+"`")}(n(0))},function(t,e,n){!function(t){"use strict";var e={},n=/[^\s\u00a0]/,r=t.Pos;function i(t){var e=t.search(n);return-1==e?0:e}function o(t,e){var n=t.getMode();return!1!==n.useInnerComments&&n.innerMode?t.getModeAt(e):n}t.commands.toggleComment=function(t){t.toggleComment()},t.defineExtension("toggleComment",function(t){t||(t=e);for(var n=1/0,i=this.listSelections(),o=null,a=i.length-1;a>=0;a--){var s=i[a].from(),l=i[a].to();s.line>=n||(l.line>=n&&(l=r(n,0)),n=s.line,null==o?this.uncomment(s,l,t)?o="un":(this.lineComment(s,l,t),o="line"):"un"==o?this.uncomment(s,l,t):this.lineComment(s,l,t))}}),t.defineExtension("lineComment",function(t,a,s){s||(s=e);var l=this,c=o(l,t),u=l.getLine(t.line);if(null!=u&&(f=t,d=u,!/\bstring\b/.test(l.getTokenTypeAt(r(f.line,0)))||/^[\'\"\`]/.test(d))){var f,d,h=s.lineComment||c.lineComment;if(h){var p=Math.min(0!=a.ch||a.line==t.line?a.line+1:a.line,l.lastLine()+1),m=null==s.padding?" ":s.padding,g=s.commentBlankLines||t.line==a.line;l.operation(function(){if(s.indent){for(var e=null,o=t.line;o<p;++o){var a=l.getLine(o),c=a.slice(0,i(a));(null==e||e.length>c.length)&&(e=c)}for(var o=t.line;o<p;++o){var a=l.getLine(o),u=e.length;(g||n.test(a))&&(a.slice(0,u)!=e&&(u=i(a)),l.replaceRange(e+h+m,r(o,0),r(o,u)))}}else for(var o=t.line;o<p;++o)(g||n.test(l.getLine(o)))&&l.replaceRange(h+m,r(o,0))})}else(s.blockCommentStart||c.blockCommentStart)&&(s.fullLines=!0,l.blockComment(t,a,s))}}),t.defineExtension("blockComment",function(t,i,a){a||(a=e);var s=this,l=o(s,t),c=a.blockCommentStart||l.blockCommentStart,u=a.blockCommentEnd||l.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(s.getTokenTypeAt(r(t.line,0)))){var f=Math.min(i.line,s.lastLine());f!=t.line&&0==i.ch&&n.test(s.getLine(f))&&--f;var d=null==a.padding?" ":a.padding;t.line>f||s.operation(function(){if(0!=a.fullLines){var e=n.test(s.getLine(f));s.replaceRange(d+u,r(f)),s.replaceRange(c+d,r(t.line,0));var o=a.blockCommentLead||l.blockCommentLead;if(null!=o)for(var h=t.line+1;h<=f;++h)(h!=f||e)&&s.replaceRange(o+d,r(h,0))}else s.replaceRange(u,i),s.replaceRange(c,t)})}}else(a.lineComment||l.lineComment)&&0!=a.fullLines&&s.lineComment(t,i,a)}),t.defineExtension("uncomment",function(t,i,a){a||(a=e);var s,l=this,c=o(l,t),u=Math.min(0!=i.ch||i.line==t.line?i.line:i.line-1,l.lastLine()),f=Math.min(t.line,u),d=a.lineComment||c.lineComment,h=[],p=null==a.padding?" ":a.padding;t:if(d){for(var m=f;m<=u;++m){var g=l.getLine(m),v=g.indexOf(d);if(v>-1&&!/comment/.test(l.getTokenTypeAt(r(m,v+1)))&&(v=-1),-1==v&&n.test(g))break t;if(v>-1&&n.test(g.slice(0,v)))break t;h.push(g)}if(l.operation(function(){for(var t=f;t<=u;++t){var e=h[t-f],n=e.indexOf(d),i=n+d.length;n<0||(e.slice(i,i+p.length)==p&&(i+=p.length),s=!0,l.replaceRange("",r(t,n),r(t,i)))}}),s)return!0}var y=a.blockCommentStart||c.blockCommentStart,b=a.blockCommentEnd||c.blockCommentEnd;if(!y||!b)return!1;var x=a.blockCommentLead||c.blockCommentLead,w=l.getLine(f),C=w.indexOf(y);if(-1==C)return!1;var k=u==f?w:l.getLine(u),_=k.indexOf(b,u==f?C+y.length:0),S=r(f,C+1),E=r(u,_+1);if(-1==_||!/comment/.test(l.getTokenTypeAt(S))||!/comment/.test(l.getTokenTypeAt(E))||l.getRange(S,E,"\n").indexOf(b)>-1)return!1;var T=w.lastIndexOf(y,t.ch),O=-1==T?-1:w.slice(0,t.ch).indexOf(b,T+y.length);if(-1!=T&&-1!=O&&O+b.length!=t.ch)return!1;O=k.indexOf(b,i.ch);var M=k.slice(i.ch).lastIndexOf(y,O-i.ch);return T=-1==O||-1==M?-1:i.ch+M,(-1==O||-1==T||T==i.ch)&&(l.operation(function(){l.replaceRange("",r(u,_-(p&&k.slice(_-p.length,_)==p?p.length:0)),r(u,_+b.length));var t=C+y.length;if(p&&w.slice(t,t+p.length)==p&&(t+=p.length),l.replaceRange("",r(f,C),r(f,t)),x)for(var e=f+1;e<=u;++e){var i=l.getLine(e),o=i.indexOf(x);if(-1!=o&&!n.test(i.slice(0,o))){var a=o+x.length;p&&i.slice(a,a+p.length)==p&&(a+=p.length),l.replaceRange("",r(e,o),r(e,a))}}}),!0)})}(n(0))},function(t,e,n){!function(t){function e(e){if(e.getOption("disableInput"))return t.Pass;for(var r,i=e.listSelections(),o=[],a=0;a<i.length;a++){var s=i[a].head;if(!/\bcomment\b/.test(e.getTokenTypeAt(s)))return t.Pass;var l=e.getModeAt(s);if(r){if(r!=l)return t.Pass}else r=l;var c=null;if(r.blockCommentStart&&r.blockCommentContinue){var u=e.getLine(s.line).slice(0,s.ch),f=u.lastIndexOf(r.blockCommentEnd);if(-1!=f&&f==s.ch-r.blockCommentEnd.length);else if((h=u.lastIndexOf(r.blockCommentStart))>-1&&h>f){if(c=u.slice(0,h),/\S/.test(c)){c="";for(var d=0;d<h;++d)c+=" "}}else(h=u.indexOf(r.blockCommentContinue))>-1&&!/\S/.test(u.slice(0,h))&&(c=u.slice(0,h));null!=c&&(c+=r.blockCommentContinue)}if(null==c&&r.lineComment&&n(e)){var u=e.getLine(s.line),h=u.indexOf(r.lineComment);h>-1&&(c=u.slice(0,h),/\S/.test(c)?c=null:c+=r.lineComment+u.slice(h+r.lineComment.length).match(/^\s*/)[0])}if(null==c)return t.Pass;o[a]="\n"+c}e.operation(function(){for(var t=i.length-1;t>=0;t--)e.replaceRange(o[t],i[t].from(),i[t].to(),"+insert")})}function n(t){var e=t.getOption("continueComments");return!e||"object"!=typeof e||!1!==e.continueLineComment}t.defineOption("continueComments",null,function(n,r,i){if(i&&i!=t.Init&&n.removeKeyMap("continueComment"),r){var o="Enter";"string"==typeof r?o=r:"object"==typeof r&&r.key&&(o=r.key);var a={name:"continueComment"};a[o]=e,n.addKeyMap(a)}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("javascript",function(e,n){var r,i,o=e.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("keyword d"),o=t("operator"),a={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:t("new"),delete:r,void:r,throw:r,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:t("this"),class:t("class"),super:t("atom"),yield:r,export:t("export"),import:t("import"),extends:r,await:r}}(),d=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(t,e,n){return r=t,i=n,e}function m(t,e){var n,r=t.next();if('"'==r||"'"==r)return e.tokenize=(n=r,function(t,e){var r,i=!1;if(s&&"@"==t.peek()&&t.match(h))return e.tokenize=m,p("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(e.tokenize=m),p("string","string")}),e.tokenize(t,e);if("."==r&&t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==r&&t.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return p(r);if("="==r&&t.eat(">"))return p("=>","operator");if("0"==r&&t.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(r))return t.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==r)return t.eat("*")?(e.tokenize=g,g(t,e)):t.eat("/")?(t.skipToEnd(),p("comment","comment")):qt(t,e,1)?(function(t){for(var e,n=!1,r=!1;null!=(e=t.next());){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(t.eat("="),p("operator","operator",t.current()));if("`"==r)return e.tokenize=v,v(t,e);if("#"==r)return t.skipToEnd(),p("error","error");if("<"==r&&t.match("!--")||"-"==r&&t.match("->"))return t.skipToEnd(),p("comment","comment");if(d.test(r))return">"==r&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=r&&"="!=r||t.eat("="):/[<>*+\-]/.test(r)&&(t.eat(r),">"==r&&t.eat(r))),p("operator","operator",t.current());if(u.test(r)){t.eatWhile(u);var i=t.current();if("."!=e.lastType){if(f.propertyIsEnumerable(i)){var o=f[i];return p(o.type,o.style,i)}if("async"==i&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",i)}return p("variable","variable",i)}}function g(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=m;break}r="*"==n}return p("comment","comment")}function v(t,e){for(var n,r=!1;null!=(n=t.next());){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=m;break}r=!r&&"\\"==n}return p("quasi","string-2",t.current())}var y="([{}])";function b(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(c){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=t.string.charAt(a),l=y.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(u.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;var f=t.string.charAt(a-1);if(f==s&&"\\"!=t.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(e.fatArrowAt=a)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function C(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==e)return!0}var k={state:null,column:null,marked:null,cc:null};function _(){for(var t=arguments.length-1;t>=0;t--)k.cc.push(arguments[t])}function S(){return _.apply(null,arguments),!0}function E(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function T(t){var e=k.state;if(k.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var r=function t(e,n){if(n){if(n.block){var r=t(e,n.prev);return r?r==n.prev?n:new M(r,n.vars,!0):null}return E(e,n.vars)?n:new M(n.prev,new L(e,n.vars),!1)}return null}(t,e.context);if(null!=r)return void(e.context=r)}else if(!E(t,e.localVars))return void(e.localVars=new L(t,e.localVars));n.globalVars&&!E(t,e.globalVars)&&(e.globalVars=new L(t,e.globalVars))}function O(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function M(t,e,n){this.prev=t,this.vars=e,this.block=n}function L(t,e){this.name=t,this.next=e}var A=new L("this",new L("arguments",null));function N(){k.state.context=new M(k.state.context,k.state.localVars,!1),k.state.localVars=A}function P(){k.state.context=new M(k.state.context,k.state.localVars,!0),k.state.localVars=null}function F(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function I(t,e){var n=function(){var n=k.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new w(r,k.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function j(){var t=k.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function D(t){return function e(n){return n==t?S():";"==t||"}"==n||")"==n||"]"==n?_():S(e)}}function z(t,e){return"var"==t?S(I("vardef",e),bt,D(";"),j):"keyword a"==t?S(I("form"),W,z,j):"keyword b"==t?S(I("form"),z,j):"keyword d"==t?k.stream.match(/^\s*$/,!1)?S():S(I("stat"),V,D(";"),j):"debugger"==t?S(D(";")):"{"==t?S(I("}"),P,at,j,F):";"==t?S():"if"==t?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==j&&k.state.cc.pop()(),S(I("form"),W,z,j,St)):"function"==t?S(Mt):"for"==t?S(I("form"),Et,z,j):"class"==t||c&&"interface"==e?(k.marked="keyword",S(I("form","class"==t?t:e),Ft,j)):"variable"==t?c&&"declare"==e?(k.marked="keyword",S(z)):c&&("module"==e||"enum"==e||"type"==e)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==e?S(Kt):"type"==e?S(At,D("operator"),ft,D(";")):S(I("form"),xt,D("{"),I("}"),at,j,j)):c&&"namespace"==e?(k.marked="keyword",S(I("form"),B,z,j)):c&&"abstract"==e?(k.marked="keyword",S(z)):S(I("stat"),Q):"switch"==t?S(I("form"),W,D("{"),I("}","switch"),P,at,j,j,F):"case"==t?S(B,D(":")):"default"==t?S(D(":")):"catch"==t?S(I("form"),N,R,z,j,F):"export"==t?S(I("stat"),zt,j):"import"==t?S(I("stat"),Bt,j):"async"==t?S(z):"@"==e?S(B,z):_(I("stat"),B,D(";"),j)}function R(t){if("("==t)return S(Nt,D(")"))}function B(t,e){return U(t,e,!1)}function H(t,e){return U(t,e,!0)}function W(t){return"("!=t?_():S(I(")"),B,D(")"),j)}function U(t,e,n){if(k.state.fatArrowAt==k.stream.start){var r=n?J:Y;if("("==t)return S(N,I(")"),it(Nt,")"),j,D("=>"),r,F);if("variable"==t)return _(N,xt,D("=>"),r,F)}var i=n?K:G;return x.hasOwnProperty(t)?S(i):"function"==t?S(Mt,i):"class"==t||c&&"interface"==e?(k.marked="keyword",S(I("form"),Pt,j)):"keyword c"==t||"async"==t?S(n?H:B):"("==t?S(I(")"),V,D(")"),j,i):"operator"==t||"spread"==t?S(n?H:B):"["==t?S(I("]"),Gt,j,i):"{"==t?ot(et,"}",null,i):"quasi"==t?_($,i):"new"==t?S(function(t){return function(e){return"."==e?S(t?Z:X):"variable"==e&&c?S(gt,t?K:G):_(t?H:B)}}(n)):"import"==t?S(B):S()}function V(t){return t.match(/[;\}\)\],]/)?_():_(B)}function G(t,e){return","==t?S(B):K(t,e,!1)}function K(t,e,n){var r=0==n?G:K,i=0==n?B:H;return"=>"==t?S(N,n?J:Y,F):"operator"==t?/\+\+|--/.test(e)||c&&"!"==e?S(r):c&&"<"==e&&k.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?S(I(">"),it(ft,">"),j,r):"?"==e?S(B,D(":"),i):S(i):"quasi"==t?_($,r):";"!=t?"("==t?ot(H,")","call",r):"."==t?S(tt,r):"["==t?S(I("]"),V,D("]"),j,r):c&&"as"==e?(k.marked="keyword",S(ft,r)):"regexp"==t?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),S(i)):void 0:void 0}function $(t,e){return"quasi"!=t?_():"${"!=e.slice(e.length-2)?S($):S(B,q)}function q(t){if("}"==t)return k.marked="string-2",k.state.tokenize=v,S($)}function Y(t){return b(k.stream,k.state),_("{"==t?z:B)}function J(t){return b(k.stream,k.state),_("{"==t?z:H)}function X(t,e){if("target"==e)return k.marked="keyword",S(G)}function Z(t,e){if("target"==e)return k.marked="keyword",S(K)}function Q(t){return":"==t?S(j,z):_(G,D(";"),j)}function tt(t){if("variable"==t)return k.marked="property",S()}function et(t,e){return"async"==t?(k.marked="property",S(et)):"variable"==t||"keyword"==k.style?(k.marked="property","get"==e||"set"==e?S(nt):(c&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),S(rt))):"number"==t||"string"==t?(k.marked=s?"property":k.style+" property",S(rt)):"jsonld-keyword"==t?S(rt):c&&O(e)?(k.marked="keyword",S(et)):"["==t?S(B,st,D("]"),rt):"spread"==t?S(H,rt):"*"==e?(k.marked="keyword",S(et)):":"==t?_(rt):void 0;var n}function nt(t){return"variable"!=t?_(rt):(k.marked="property",S(Mt))}function rt(t){return":"==t?S(H):"("==t?_(Mt):void 0}function it(t,e,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=k.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),S(function(n,r){return n==e||r==e?_():_(t)},r)}return i==e||o==e?S():n&&n.indexOf(";")>-1?_(t):S(D(e))}return function(n,i){return n==e||i==e?S():_(t,r)}}function ot(t,e,n){for(var r=3;r<arguments.length;r++)k.cc.push(arguments[r]);return S(I(e,n),it(t,e),j)}function at(t){return"}"==t?S():_(z,at)}function st(t,e){if(c){if(":"==t)return S(ft);if("?"==e)return S(st)}}function lt(t,e){if(c&&(":"==t||"in"==e))return S(ft)}function ct(t){if(c&&":"==t)return k.stream.match(/^\s*\w+\s+is\b/,!1)?S(B,ut,ft):S(ft)}function ut(t,e){if("is"==e)return k.marked="keyword",S()}function ft(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(k.marked="keyword",S("typeof"==e?H:ft)):"variable"==t||"void"==e?(k.marked="type",S(mt)):"|"==e||"&"==e?S(ft):"string"==t||"number"==t||"atom"==t?S(mt):"["==t?S(I("]"),it(ft,"]",","),j,mt):"{"==t?S(I("}"),it(ht,"}",",;"),j,mt):"("==t?S(it(pt,")"),dt,mt):"<"==t?S(it(ft,">"),ft):void 0}function dt(t){if("=>"==t)return S(ft)}function ht(t,e){return"variable"==t||"keyword"==k.style?(k.marked="property",S(ht)):"?"==e||"number"==t||"string"==t?S(ht):":"==t?S(ft):"["==t?S(D("variable"),lt,D("]"),ht):"("==t?_(Lt,ht):void 0}function pt(t,e){return"variable"==t&&k.stream.match(/^\s*[?:]/,!1)||"?"==e?S(pt):":"==t?S(ft):"spread"==t?S(pt):_(ft)}function mt(t,e){return"<"==e?S(I(">"),it(ft,">"),j,mt):"|"==e||"."==t||"&"==e?S(ft):"["==t?S(ft,D("]"),mt):"extends"==e||"implements"==e?(k.marked="keyword",S(ft)):"?"==e?S(ft,D(":"),ft):void 0}function gt(t,e){if("<"==e)return S(I(">"),it(ft,">"),j,mt)}function vt(){return _(ft,yt)}function yt(t,e){if("="==e)return S(ft)}function bt(t,e){return"enum"==e?(k.marked="keyword",S(Kt)):_(xt,st,kt,_t)}function xt(t,e){return c&&O(e)?(k.marked="keyword",S(xt)):"variable"==t?(T(e),S()):"spread"==t?S(xt):"["==t?ot(Ct,"]"):"{"==t?ot(wt,"}"):void 0}function wt(t,e){return"variable"!=t||k.stream.match(/^\s*:/,!1)?("variable"==t&&(k.marked="property"),"spread"==t?S(xt):"}"==t?_():"["==t?S(B,D("]"),D(":"),wt):S(D(":"),xt,kt)):(T(e),S(kt))}function Ct(){return _(xt,kt)}function kt(t,e){if("="==e)return S(H)}function _t(t){if(","==t)return S(bt)}function St(t,e){if("keyword b"==t&&"else"==e)return S(I("form","else"),z,j)}function Et(t,e){return"await"==e?S(Et):"("==t?S(I(")"),Tt,j):void 0}function Tt(t){return"var"==t?S(bt,Ot):"variable"==t?S(Ot):_(Ot)}function Ot(t,e){return")"==t?S():";"==t?S(Ot):"in"==e||"of"==e?(k.marked="keyword",S(B,Ot)):_(B,Ot)}function Mt(t,e){return"*"==e?(k.marked="keyword",S(Mt)):"variable"==t?(T(e),S(Mt)):"("==t?S(N,I(")"),it(Nt,")"),j,ct,z,F):c&&"<"==e?S(I(">"),it(vt,">"),j,Mt):void 0}function Lt(t,e){return"*"==e?(k.marked="keyword",S(Lt)):"variable"==t?(T(e),S(Lt)):"("==t?S(N,I(")"),it(Nt,")"),j,ct,F):c&&"<"==e?S(I(">"),it(vt,">"),j,Lt):void 0}function At(t,e){return"keyword"==t||"variable"==t?(k.marked="type",S(At)):"<"==e?S(I(">"),it(vt,">"),j):void 0}function Nt(t,e){return"@"==e&&S(B,Nt),"spread"==t?S(Nt):c&&O(e)?(k.marked="keyword",S(Nt)):c&&"this"==t?S(st,kt):_(xt,st,kt)}function Pt(t,e){return"variable"==t?Ft(t,e):It(t,e)}function Ft(t,e){if("variable"==t)return T(e),S(It)}function It(t,e){return"<"==e?S(I(">"),it(vt,">"),j,It):"extends"==e||"implements"==e||c&&","==t?("implements"==e&&(k.marked="keyword"),S(c?ft:B,It)):"{"==t?S(I("}"),jt,j):void 0}function jt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||c&&O(e))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",S(jt)):"variable"==t||"keyword"==k.style?(k.marked="property",S(c?Dt:Mt,jt)):"number"==t||"string"==t?S(c?Dt:Mt,jt):"["==t?S(B,st,D("]"),c?Dt:Mt,jt):"*"==e?(k.marked="keyword",S(jt)):c&&"("==t?_(Lt,jt):";"==t||","==t?S(jt):"}"==t?S():"@"==e?S(B,jt):void 0}function Dt(t,e){if("?"==e)return S(Dt);if(":"==t)return S(ft,kt);if("="==e)return S(H);var n=k.state.lexical.prev,r=n&&"interface"==n.info;return _(r?Lt:Mt)}function zt(t,e){return"*"==e?(k.marked="keyword",S(Vt,D(";"))):"default"==e?(k.marked="keyword",S(B,D(";"))):"{"==t?S(it(Rt,"}"),Vt,D(";")):_(z)}function Rt(t,e){return"as"==e?(k.marked="keyword",S(D("variable"))):"variable"==t?_(H,Rt):void 0}function Bt(t){return"string"==t?S():"("==t?_(B):_(Ht,Wt,Vt)}function Ht(t,e){return"{"==t?ot(Ht,"}"):("variable"==t&&T(e),"*"==e&&(k.marked="keyword"),S(Ut))}function Wt(t){if(","==t)return S(Ht,Wt)}function Ut(t,e){if("as"==e)return k.marked="keyword",S(Ht)}function Vt(t,e){if("from"==e)return k.marked="keyword",S(B)}function Gt(t){return"]"==t?S():_(it(H,"]"))}function Kt(){return _(I("form"),xt,D("{"),I("}"),it($t,"}"),j,j)}function $t(){return _(xt,kt)}function qt(t,e,n){return e.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return F.lex=!0,j.lex=!0,{startState:function(t){var e={tokenize:m,lastType:"sof",cc:[],lexical:new w((t||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new M(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),b(t,e)),e.tokenize!=g&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==r?n:(e.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(t,e,n,r,i){var o=t.cc;for(k.state=t,k.stream=i,k.marked=null,k.cc=o,k.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():l?B:z;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&C(t,r)?"variable-2":e}}}(e,n,r,i,t))},indent:function(e,r){if(e.tokenize==g)return t.Pass;if(e.tokenize!=m)return 0;var i,s=r&&r.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(r))for(var c=e.cc.length-1;c>=0;--c){var u=e.cc[c];if(u==j)l=l.prev;else if(u!=St)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=e.cc[e.cc.length-1])&&(i==G||i==K)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var f=l.type,h=s==f;return"vardef"==f?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==f&&"{"==s?l.indented:"form"==f?l.indented+o:"stat"==f?l.indented+(function(t,e){return"operator"==t.lastType||","==t.lastType||d.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}(e,r)?a||o:0):"switch"!=l.info||h||0==n.doubleIndentSwitch?l.align?l.column+(h?0:1):l.indented+(h?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:qt,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=B&&e!=H||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("shell",function(){var e={};function n(t,n){for(var r=0;r<n.length;r++)e[n[r]]=t}var r=["true","false"],i=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],o=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];function a(t,e){var n="("==t?")":"{"==t?"}":t;return function(r,i){for(var o,u=!1;null!=(o=r.next());){if(o===n&&!u){i.tokens.shift();break}if("$"===o&&!u&&"'"!==t&&r.peek()!=n){u=!0,r.backUp(1),i.tokens.unshift(l);break}if(!u&&t!==n&&o===t)return i.tokens.unshift(a(t,e)),c(r,i);if(!u&&/['"]/.test(o)&&!/['"]/.test(t)){i.tokens.unshift(s(o,"string")),r.backUp(1);break}u=!u&&"\\"===o}return e}}function s(t,e){return function(n,r){return r.tokens[0]=a(t,e),n.next(),c(n,r)}}t.registerHelper("hintWords","shell",r.concat(i,o)),n("atom",r),n("keyword",i),n("builtin",o);var l=function(t,e){e.tokens.length>1&&t.eat("$");var n=t.next();return/['"({]/.test(n)?(e.tokens[0]=a(n,"("==n?"quote":"{"==n?"def":"string"),c(t,e)):(/\d/.test(n)||t.eatWhile(/\w/),e.tokens.shift(),"def")};function c(t,n){return(n.tokens[0]||function(t,n){if(t.eatSpace())return null;var r=t.sol(),i=t.next();if("\\"===i)return t.next(),null;if("'"===i||'"'===i||"`"===i)return n.tokens.unshift(a(i,"`"===i?"quote":"string")),c(t,n);if("#"===i)return r&&t.eat("!")?(t.skipToEnd(),"meta"):(t.skipToEnd(),"comment");if("$"===i)return n.tokens.unshift(l),c(t,n);if("+"===i||"="===i)return"operator";if("-"===i)return t.eat("-"),t.eatWhile(/\w/),"attribute";if(/\d/.test(i)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w-]/);var o=t.current();return"="===t.peek()&&/\w+/.test(o)?"def":e.hasOwnProperty(o)?e[o]:null})(t,n)}return{startState:function(){return{tokens:[]}},token:function(t,e){return c(t,e)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),t.defineMIME("text/x-sh","shell"),t.defineMIME("application/x-sh","shell")}(n(0))},function(t,e,n){!function(t){"use strict";function e(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var n=e(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),r=e(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),i=e(["true","false","nil","self","super","_"]),o=e(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),a="+-/*%=|&<>~^?!",s=":;,.(){}[]",l=/^\-?0b[01][01_]*/,c=/^\-?0o[0-7][0-7_]*/,u=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,f=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,d=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,h=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,p=/^\#[A-Za-z]+/,m=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function g(t,e,g){if(t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;var b,x=t.peek();if("/"==x){if(t.match("//"))return t.skipToEnd(),"comment";if(t.match("/*"))return e.tokenize.push(y),y(t,e)}if(t.match(p))return"builtin";if(t.match(m))return"attribute";if(t.match(l))return"number";if(t.match(c))return"number";if(t.match(u))return"number";if(t.match(f))return"number";if(t.match(h))return"property";if(a.indexOf(x)>-1)return t.next(),"operator";if(s.indexOf(x)>-1)return t.next(),t.match(".."),"punctuation";if(b=t.match(/("""|"|')/)){var w=function(t,e,n){for(var r,i=1==t.length,o=!1;r=e.peek();)if(o){if(e.next(),"("==r)return n.tokenize.push(v()),"string";o=!1}else{if(e.match(t))return n.tokenize.pop(),"string";e.next(),o="\\"==r}return i&&n.tokenize.pop(),"string"}.bind(null,b[0]);return e.tokenize.push(w),w(t,e)}if(t.match(d)){var C=t.current();return o.hasOwnProperty(C)?"variable-2":i.hasOwnProperty(C)?"atom":n.hasOwnProperty(C)?(r.hasOwnProperty(C)&&(e.prev="define"),"keyword"):"define"==g?"def":"variable"}return t.next(),null}function v(){var t=0;return function(e,n,r){var i=g(e,n,r);if("punctuation"==i)if("("==e.current())++t;else if(")"==e.current()){if(0==t)return e.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n);--t}return i}}function y(t,e){for(var n;t.match(/^[^\/*]+/,!0),n=t.next();)"/"===n&&t.eat("*")?e.tokenize.push(y):"*"===n&&t.eat("/")&&e.tokenize.pop();return"comment"}function b(t,e,n){this.prev=t,this.align=e,this.indented=n}t.defineMode("swift",function(t){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(t,e){var n=e.prev;e.prev=null;var r=e.tokenize[e.tokenize.length-1]||g,i=r(t,e,n);if(i&&"comment"!=i?e.prev||(e.prev=i):e.prev=n,"punctuation"==i){var o=/[\(\[\{]|([\]\)\}])/.exec(t.current());o&&(o[1]?function(t){t.context&&(t.indented=t.context.indented,t.context=t.context.prev)}:function(t,e){var n=e.match(/^\s*($|\/[\/\*])/,!1)?null:e.column()+1;t.context=new b(t.context,n,t.indented)})(e,t)}return i},indent:function(e,n){var r=e.context;if(!r)return 0;var i=/^[\]\}\)]/.test(n);return null!=r.align?r.align-(i?1:0):r.indented+(i?0:t.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}}),t.defineMIME("text/x-swift","swift")}(n(0))},function(t,e,n){"use strict";var r=n(254),i=n(138),o=n(13),a=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,l=Math.abs,c=Math.floor;t.exports=function(t){var e,n,u,f;if(!r(t))return a.apply(this,arguments);for(n=i(o(this).length),u=arguments[1],e=u=isNaN(u)?0:u>=0?c(u):i(this.length)-c(l(u));e<n;++e)if(s.call(this,e)&&(f=this[e],r(f)))return e;return-1}},function(t,e,n){"use strict";t.exports=n(255)()?Number.isNaN:n(256)},function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},function(t,e,n){"use strict";t.exports=function(t){return t!=t}},function(t,e,n){"use strict";var r=n(258),i=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(i(t)):t}},function(t,e,n){"use strict";t.exports=n(259)()?Math.sign:n(260)},function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,n){"use strict";var r=n(33),i={function:!0,object:!0};t.exports=function(t){return r(t)&&i[typeof t]||!1}},function(t,e,n){"use strict";var r,i,o,a,s=Object.create;n(139)()||(r=n(140)),t.exports=r?1!==r.level?s:(i={},o={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(t){o[t]="__proto__"!==t?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(i,o),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return s(null===t?i:t,e)}):s},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(265),i=n(13),o=Math.max;t.exports=function(t,e){var n,a,s,l=o(arguments.length,2);for(t=Object(i(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<l;++a)e=arguments[a],r(e).forEach(s);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(266)()?Object.keys:n(267)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(33),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r,i,o,a,s,l,c,u=n(25),f=n(14),d=Function.prototype.apply,h=Function.prototype.call,p=Object.create,m=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};i=function(t,e){var n,i;return f(e),i=this,r.call(this,t,n=function(){o.call(i,t,n),d.call(e,this,arguments)}),n.__eeOnceListener__=e,this},s={on:r=function(t,e){var n;return f(e),v.call(this,"__ee__")?n=this.__ee__:(n=y.value=p(null),m(this,"__ee__",y),y.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:i,off:o=function(t,e){var n,r,i,o;if(f(e),!v.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(o=0;i=r[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===r.length?n[t]=r[o?0:1]:r.splice(o,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:a=function(t){var e,n,r,i,o;if(v.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;r=i[e];++e)d.call(r,this,o)}else switch(arguments.length){case 1:h.call(i,this);break;case 2:h.call(i,this,arguments[1]);break;case 3:h.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];d.call(i,this,o)}}},l={on:u(r),once:u(i),off:u(o),emit:u(a)},c=g({},l),t.exports=e=function(t){return null==t?p(c):g(Object(t),l)},e.methods=s},function(t,e,n){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(t,e,n){"use strict";var r,i,o,a,s=n(25),l=n(274),c=Object.create,u=Object.defineProperties,f=Object.defineProperty,d=Object.prototype,h=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(t){}}var p,m=(p=c(null),function(t){for(var e,n,r=0;p[t+(r||"")];)++r;return p[t+=r||""]=!0,f(d,e="@@"+t,s.gs(null,function(t){n||(n=!0,f(this,e,s(t)),n=!1)})),e});o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(t)},t.exports=i=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return a?r(e):(n=c(o.prototype),e=void 0===e?"":String(e),u(n,{__description__:s("",e),__name__:s("",m(e))}))},u(i,{for:s(function(t){return h[t]?h[t]:h[t]=i(String(t))}),keyFor:s(function(t){var e;for(e in l(t),h)if(h[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",r&&r.iterator||i("iterator")),match:s("",r&&r.match||i("match")),replace:s("",r&&r.replace||i("replace")),search:s("",r&&r.search||i("search")),species:s("",r&&r.species||i("species")),split:s("",r&&r.split||i("split")),toPrimitive:s("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:s("",r&&r.toStringTag||i("toStringTag")),unscopables:s("",r&&r.unscopables||i("unscopables"))}),u(o.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),u(i.prototype,{toString:s(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:s(function(){return l(this)})}),f(i.prototype,i.toPrimitive,s("",function(){var t=l(this);return"symbol"==typeof t?t:t.toString()})),f(i.prototype,i.toStringTag,s("c","Symbol")),f(o.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),f(o.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(t,e,n){"use strict";var r=n(275);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r=n(59),i=n(33),o=n(60),a=n(18).iterator,s=Array.isArray;t.exports=function(t){return!!i(t)&&(!!s(t)||(!!o(t)||(!!r(t)||"function"==typeof t[a])))}},function(t,e,n){"use strict";var r=n(59),i=n(14),o=n(60),a=n(278),s=Array.isArray,l=Function.prototype.call,c=Array.prototype.some;t.exports=function(t,e){var n,u,f,d,h,p,m,g,v=arguments[2];if(s(t)||r(t)?n="array":o(t)?n="string":t=a(t),i(e),f=function(){d=!0},"array"!==n)if("string"!==n)for(u=t.next();!u.done;){if(l.call(e,v,u.value,f),d)return;u=t.next()}else for(p=t.length,h=0;h<p&&(m=t[h],h+1<p&&(g=m.charCodeAt(0))>=55296&&g<=56319&&(m+=t[++h]),l.call(e,v,m,f),!d);++h);else c.call(t,function(t){return l.call(e,v,t,f),d})}},function(t,e,n){"use strict";var r=n(59),i=n(60),o=n(279),a=n(289),s=n(142),l=n(18).iterator;t.exports=function(t){return"function"==typeof s(t)[l]?t[l]():r(t)?new o(t):i(t)?new a(t):new o(t)}},function(t,e,n){"use strict";var r,i=n(58),o=n(99),a=n(25),s=n(18),l=n(100),c=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");l.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",c(this,"__kind__",a("",e))},i&&i(r,l),delete r.prototype.constructor,r.prototype=Object.create(l.prototype,{_resolve:a(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),c(r.prototype,s.toStringTag,a("c","Array Iterator"))},function(t,e,n){"use strict";var r,i=n(281),o=n(141),a=n(14),s=n(286),l=n(14),c=n(13),u=Function.prototype.bind,f=Object.defineProperty,d=Object.prototype.hasOwnProperty;r=function(t,e,n){var r,o=c(e)&&l(e.value);return delete(r=i(e)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&d.call(this,t)?o:(e.value=u.call(o,n.resolveContext?n.resolveContext(this):this),f(this,t,e),this[t])},r},t.exports=function(t){var e=o(arguments[1]);return null!=e.resolveContext&&a(e.resolveContext),s(t,function(t,n){return r(n,t,e)})}},function(t,e,n){"use strict";var r=n(282),i=n(98),o=n(13);t.exports=function(t){var e=Object(o(t)),n=arguments[1],a=Object(arguments[2]);if(e!==t&&!n)return e;var s={};return n?r(n,function(e){(a.ensure||e in t)&&(s[e]=t[e])}):i(s,t),s}},function(t,e,n){"use strict";t.exports=n(283)()?Array.from:n(284)},function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,n){"use strict";var r=n(18).iterator,i=n(59),o=n(285),a=n(138),s=n(14),l=n(13),c=n(33),u=n(60),f=Array.isArray,d=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(t){var e,n,m,g,v,y,b,x,w,C,k=arguments[1],_=arguments[2];if(t=Object(l(t)),c(k)&&s(k),this&&this!==Array&&o(this))e=this;else{if(!k){if(i(t))return 1!==(v=t.length)?Array.apply(null,t):((g=new Array(1))[0]=t[0],g);if(f(t)){for(g=new Array(v=t.length),n=0;n<v;++n)g[n]=t[n];return g}}g=[]}if(!f(t))if(void 0!==(w=t[r])){for(b=s(w).call(t),e&&(g=new e),x=b.next(),n=0;!x.done;)C=k?d.call(k,_,x.value,n):x.value,e?(h.value=C,p(g,n,h)):g[n]=C,x=b.next(),++n;v=n}else if(u(t)){for(v=t.length,e&&(g=new e),n=0,m=0;n<v;++n)C=t[n],n+1<v&&(y=C.charCodeAt(0))>=55296&&y<=56319&&(C+=t[++n]),C=k?d.call(k,_,C,m):C,e?(h.value=C,p(g,m,h)):g[m]=C,++m;v=m}if(void 0===v)for(v=a(t.length),e&&(g=new e(v)),n=0;n<v;++n)C=k?d.call(k,_,t[n],n):t[n],e?(h.value=C,p(g,n,h)):g[n]=C;return e&&(h.value=null,g.length=v),g}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(n(137));t.exports=function(t){return"function"==typeof t&&r.call(t)===i}},function(t,e,n){"use strict";var r=n(14),i=n(287),o=Function.prototype.call;t.exports=function(t,e){var n={},a=arguments[2];return r(e),i(t,function(t,r,i,s){n[r]=o.call(e,a,t,r,i,s)}),n}},function(t,e,n){"use strict";t.exports=n(288)("forEach")},function(t,e,n){"use strict";var r=n(14),i=n(13),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,c){var u,f=arguments[2],d=arguments[3];return n=Object(i(n)),r(c),u=s(n),d&&u.sort("function"==typeof d?o.call(d,n):void 0),"function"!=typeof t&&(t=u[t]),a.call(t,u,function(t,r){return l.call(n,t)?a.call(c,f,n[t],t,n,r):e})}}},function(t,e,n){"use strict";var r,i=n(58),o=n(25),a=n(18),s=n(100),l=Object.defineProperty;r=t.exports=function(t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");t=String(t),s.call(this,t),l(this,"__length__",o("",t.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(t){var e,n=this.__list__[t];return this.__nextIndex__===this.__length__?n:(e=n.charCodeAt(0))>=55296&&e<=56319?n+this.__list__[this.__nextIndex__++]:n})}),l(r.prototype,a.toStringTag,o("c","String Iterator"))},function(t,e,n){"use strict";var r,i=n(58),o=n(99),a=n(25),s=n(100),l=n(18).toStringTag,c=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))return new r(t,e);s.call(this,t.__setData__,t),e=e&&o.call(e,"key+value")?"key+value":"value",c(this,"__kind__",a("",e))},i&&i(r,s),r.prototype=Object.create(s.prototype,{constructor:a(r),_resolve:a(function(t){return"value"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__list__[t]]}),toString:a(function(){return"[object Set Iterator]"})}),c(r.prototype,l,a("c","Set Iterator"))},function(t,e,n){"use strict";t.exports="undefined"!=typeof Set&&"[object Set]"===Object.prototype.toString.call(Set.prototype)},function(t,e,n){n(12)&&"g"!=/./g.flags&&n(42).f(RegExp.prototype,"flags",{configurable:!0,get:n(54)})},function(t,e,n){var r=n(1),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(295),t.exports=n(1).Object.values},function(t,e,n){var r=n(2),i=n(296)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(8),i=n(27),o=n(16),a=n(41).f;t.exports=function(t){return function(e){for(var n,s=o(e),l=i(s),c=l.length,u=0,f=[];c>u;)n=l[u++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){"use strict";var r=n(31),i=n(298)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(123)("find")},function(t,e,n){var r=n(87),i=n(120),o=n(122),a=n(29),s=n(299);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,f=6==t,d=5==t||f,h=e||s;return function(e,s,p){for(var m,g,v=o(e),y=i(v),b=r(s,p,3),x=a(y.length),w=0,C=n?h(e,x):l?h(e,0):void 0;x>w;w++)if((d||w in y)&&(g=b(m=y[w],w,v),t))if(n)C[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:C.push(m)}else if(u)return!1;return f?-1:c||u?u:C}}},function(t,e,n){var r=n(300);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(22),i=n(301),o=n(9)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(53);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";n(303)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){var r=n(31),i=n(24),o=n(30),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){t.exports=n(306)},function(t,e,n){n(307),t.exports=n(1).Object.getPrototypeOf},function(t,e,n){var r=n(28),i=n(94);n(77)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){n(309),t.exports=n(1).Object.setPrototypeOf},function(t,e,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(310).set})},function(t,e,n){var r=n(11),i=n(7),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(26)(Function.call,n(51).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports=n(312)},function(t,e,n){n(313),t.exports=n(1).Reflect.get},function(t,e,n){var r=n(51),i=n(94),o=n(15),a=n(2),s=n(11),l=n(7);a(a.S,"Reflect",{get:function t(e,n){var a,c,u=arguments.length<3?e:arguments[2];return l(e)===u?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=i(e))?t(c,n,u):void 0}})},function(t,e,n){var r=n(19);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){t.exports=n(316)},function(t,e,n){n(317);var r=n(1).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(2);r(r.S,"Object",{create:n(76)})},function(t,e,n){var r=n(147);function i(e,n){return t.exports=i=r||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.Show=function(){function t(){i(this,t),this.node=null}return r(t,[{key:"bind",value:function(t){this.node=t}},{key:"unbind",value:function(t){this.node=null}},{key:"update",value:function(t){this.node.style.display=t?"":"none"}}]),t}(),e.Hide=function(){function t(){i(this,t),this.node=null}return r(t,[{key:"bind",value:function(t){this.node=t}},{key:"unbind",value:function(t){this.node=null}},{key:"update",value:function(t){this.node.style.display=t?"none":""}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.FadeIn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=null}return r(t,[{key:"bind",value:function(t){this.node=t}},{key:"unbind",value:function(t){this.node=null}},{key:"update",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?300:arguments[0];this.node.style.opacity=0,this.node.style.transition="opacity "+e+"ms",window.requestAnimationFrame(function(){return t.node.style.opacity=1})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.handler=null,this.callback=this.callback.bind(this)}return r(t,[{key:"callback",value:function(t){this.handler(t)}},{key:"bind",value:function(t){t.addEventListener(this.type,this.callback)}},{key:"unbind",value:function(t){t.removeEventListener(this.type,this.callback)}},{key:"update",value:function(t){this.handler=t}}]),t}();e.default=i},function(t,e,n){"use strict";var r,i=n(45),o=(r=i)&&r.__esModule?r:{default:r},a=n(323);o.default.prototype.on=function(t,e,n){var r=this,i=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];this.delegates||(this.delegates=[],this.nodes.forEach(function(t,e){if(8===t.nodeType)throw"Can not use event delegating with non-element nodes on first level.";r.delegates[e]=new a.Delegate(t)})),this.delegates.forEach(function(r){return r.on(t,e,n,i)})},o.default.prototype.off=function(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];this.delegates.forEach(function(i){return i.off(t,e,n,r)})}},function(t,e,n){"use strict";
/**
 * @preserve Create and manage a DOM event delegator.
 *
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */var r=n(324);t.exports=function(t){return new r(t)},t.exports.Delegate=r},function(t,e,n){"use strict";function r(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=r.prototype.handle.bind(this)}t.exports=r,r.prototype.root=function(t){var e,n=this.listenerMap;if(this.rootElement){for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;for(e in this.rootElement=t,n[1])n[1].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!1);return this},r.prototype.captureForType=function(t){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(t)},r.prototype.on=function(t,e,n,r){var s,l,c,u;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof e&&(r=n,n=e,e=null),void 0===r&&(r=this.captureForType(t)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return s=this.rootElement,(l=this.listenerMap[r?1:0])[t]||(s&&s.addEventListener(t,this.handle,r),l[t]=[]),e?/^[a-z]+$/i.test(e)?(u=e,c=o):/^#[a-z0-9\-_]+$/i.test(e)?(u=e.slice(1),c=a):(u=e,c=i):(u=null,c=function(t,e){return this.rootElement===window?e===document:this.rootElement===e}.bind(this)),l[t].push({selector:e,handler:n,matcher:c,matcherParam:u}),this},r.prototype.off=function(t,e,n,r){var i,o,a,s,l;if("function"==typeof e&&(r=n,n=e,e=null),void 0===r)return this.off(t,e,n,!0),this.off(t,e,n,!1),this;if(a=this.listenerMap[r?1:0],!t){for(l in a)a.hasOwnProperty(l)&&this.off(l,e,n);return this}if(!(s=a[t])||!s.length)return this;for(i=s.length-1;i>=0;i--)o=s[i],e&&e!==o.selector||n&&n!==o.handler||s.splice(i,1);return s.length||(delete a[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,r)),this},r.prototype.handle=function(t){var e,n,r,i,o,a,s=t.type,l=[];if(!0!==t.ftLabsDelegateIgnore){switch(3===(a=t.target).nodeType&&(a=a.parentNode),r=this.rootElement,t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:l=this.listenerMap[1][s];break;case 2:this.listenerMap[0]&&this.listenerMap[0][s]&&(l=l.concat(this.listenerMap[0][s])),this.listenerMap[1]&&this.listenerMap[1][s]&&(l=l.concat(this.listenerMap[1][s]));break;case 3:l=this.listenerMap[0][s]}for(n=l.length;a&&n;){for(e=0;e<n&&(i=l[e]);e++)if(i.matcher.call(a,i.matcherParam,a)&&(o=this.fire(t,a,i)),!1===o)return t.ftLabsDelegateIgnore=!0,void t.preventDefault();if(a===r)break;n=l.length,a=a.parentElement}}},r.prototype.fire=function(t,e,n){return n.handler.call(e,t,e)};var i=function(t){if(t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);function o(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function a(t,e){return t===e.id}r.prototype.destroy=function(){this.off(),this.root()}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var r=n(61),i=n.n(r),o=n(5),a=n.n(o),s=n(6),l=n.n(s),c=n(62),u=n.n(c),f=n(19),d=n.n(f),h=n(63),p=n.n(h),m=n(64),g=n.n(m),v=n(159),y=function(t){function e(){var t;return a()(this,e),(t=u()(this,d()(e).call(this))).state={onExceptionClick:null},t}return g()(e,t),l()(e,[{key:"update",value:function(t){i()(this.state,t),p()(d()(e.prototype),"update",this).call(this,t)}},{key:"onStackTraceClick",value:function(t,e){this.state.onExceptionClick(t,e)}}]),e}(n.n(v).a)},function(t,e,n){n(57),n(44),t.exports=n(327)},function(t,e,n){var r=n(7),i=n(96);t.exports=n(1).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(329);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(148)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,".k2js-iframe{display:none}iframe{border:none;background:white;width:100%;z-index:10}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var r=n(332);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(148)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(34)(!1)).i(n(333),""),e.i(n(334),""),e.i(n(335),""),e.i(n(336),"");var r=n(337),i=r(n(338)),o=r(n(339)),a=r(n(340)),s=r(n(341)),l=r(n(342)),c=r(n(343)),u=r(n(344)),f=r(n(345)),d=r(n(346)),h=r(n(347)),p=r(n(348)),m=r(n(349)),g=r(n(350));e.push([t.i,".executable-fragment-wrapper{margin-bottom:20px;position:relative}.executable-fragment{border:1px solid #eaeaec;border-bottom-width:0}.executable-fragment.darcula{border:1px solid gray;border-bottom-width:0;background-color:#313336}.hidden-dependency{display:none}.CodeMirror{height:auto;font-size:12px}.CodeMirror pre{line-height:16.8px;margin-bottom:0 !important}.CodeMirror .CodeMirror-overlayscroll-horizontal div,.CodeMirror .CodeMirror-overlayscroll-vertical div{display:none}.CodeMirror:hover .CodeMirror-overlayscroll-horizontal div,.CodeMirror:hover .CodeMirror-overlayscroll-vertical div{display:block;background:#afb1b3}.CodeMirror-lines{padding:0;margin:12px 0}.CodeMirror-gutter{height:auto}.CodeMirror{line-height:1.4;font-family:menlo, consolas, monospace;font-size:12px}.CodeMirror-linenumber{min-width:0;text-align:center}.CodeMirror-linebackground.unmodifiable-line{background-color:#eaeaec}.CodeMirror-linebackground.unmodifiable-line-dark{background-color:#3c3f43}.markPlaceholder{border-top:1px solid #167dff;border-bottom:1px solid #167dff}.markPlaceholder-start{border-left:1px solid #167dff}.markPlaceholder-end{border-right:1px solid #167dff}.run-button{position:absolute;z-index:10;right:5px;top:5px;height:20px;width:16px;cursor:pointer;background-size:cover;background:url("+i+') no-repeat}.run-button._disabled{cursor:default;opacity:0.5}.loader{position:relative;width:15px;height:15px;margin:0 auto;border-radius:50%;text-indent:-9999em;color:#161616;font-size:8px;opacity:.7;animation:loader 1s infinite ease-in-out;animation-delay:0.16s}.loader.darcula{opacity:1;color:#696969}.loader::before{left:-3.5em;animation-delay:0s;position:absolute;width:15px;border-radius:50%;height:15px;content:\'\';animation:loader 1s infinite ease-in-out}.loader::after{left:3.5em;animation-delay:0.32s;position:absolute;border-radius:50%;width:15px;height:15px;content:\'\';animation:loader 1s infinite ease-in-out}@keyframes loader{100%{box-shadow:0 2.5em 0 -1.3em}80%{box-shadow:0 2.5em 0 -1.3em}0%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}.cm__ERROR{color:#ec5424 !important}.errors-and-warnings-gutter{width:16px}.ERRORgutter{height:13px;width:13px;margin-top:2px;margin-left:2px;background:url("https://try.kotlinlang.org/static/images/icons_all_sprite.svg") no-repeat -150px -500px}.WARNINGgutter{height:13px;width:13px;margin-top:2px;margin-left:2px;background:url("https://try.kotlinlang.org/static/images/icons_all_sprite.svg") no-repeat -150px -600px}.cm__red_wavy_line{background:url("https://try.kotlinlang.org/static/images/wavyline-red.gif") repeat-x 100% 100%;padding-bottom:2px}.cm__green_wavy_line{background:url("https://try.kotlinlang.org/static/images/wavyline-green.gif") repeat-x 100% 100%;padding-bottom:2px}.js-code-output-executor{border-top:1px solid #eaeaec;position:relative}.js-code-output-executor.darcula{border-top:1px solid grey}.output-wrapper{flex-direction:column;display:flex;border-bottom:1px solid #eaeaec;min-height:60px;font-size:14px;background-color:white}.output-wrapper.darcula{background-color:#313336;color:#afb1b3}.code-output{flex-grow:1;font-family:"Liberation Mono",Consolas,Menlo,Courier,monospace;overflow:auto;padding-left:10px;padding-top:15px}.standard-output.darcula{color:#afb1b3}.error-output{white-space:pre-wrap;color:#ec5424;min-height:1.4em;margin:0;vertical-align:top}.error-output.darcula{color:#ec5424}.standard-output{white-space:pre;color:#000;min-height:1.4em;margin:0;vertical-align:top}.test-passed{white-space:pre;color:#4dbb5f;min-height:1.4em;vertical-align:top}.console-close{position:absolute;right:0;width:16px;height:16px;background:#afb1b3 url('+o+") no-repeat}.console-close.darcula{background:url("+o+")}.console-close:hover{background-color:dimgray}.console-close.darcula:hover{background-color:#ec5424}.test-fail,.test-error{color:#ec5424;min-height:1.4em;vertical-align:top}.console-block{display:flex}.console-icon{margin-top:2px;padding-right:20px;width:15px;height:15px}.console-icon.attention{background:url("+a+") no-repeat}.console-icon.passed{background:url("+s+") no-repeat}.console-icon.fail{background:url("+l+") no-repeat}.console-icon.error{background:url("+l+") no-repeat}.test-time{float:right;font-size:10px;color:#afb1b3;margin-right:20px;margin-top:-14px}.stacktrace-element{margin-left:20px}.stacktrace-element .stacktrace-link{color:#167dff;cursor:pointer}.stacktrace-element .stacktrace-link:hover{text-decoration:underline}.CodeMirror-foldgutter{position:absolute;width:100%}.CodeMirror-foldgutter-folded{width:100%;background:white}.fold-button{position:absolute;height:19px;width:31px;top:0;left:50%;transform:translate(-50%, -50%);z-index:10;cursor:pointer;background:transparent url("+c+") no-repeat}.fold-button._hover{background-image:url("+u+")}.fold-button.darcula{background:url("+f+") no-repeat}.fold-button.darcula._hover{background-image:url("+d+")}._unfolded .fold-button{background-image:url("+h+")}._unfolded .fold-button._hover{background-image:url("+p+")}._unfolded .fold-button.darcula{background:url("+m+") no-repeat}._unfolded .fold-button.darcula._hover{background-image:url("+g+')}.code-area{position:relative}.compiler-info{position:absolute;right:0;font-size:10px;color:#afb1b3}.compiler-info span{margin-left:15px}.CodeMirror-hints{padding-left:0 !important;border:1px solid #afb1b3;border-radius:4px;list-style:none;position:absolute;background-color:#f7f7f7;overflow-y:hidden;z-index:10;max-height:20em;box-shadow:2px 3px 5px rgba(0,0,0,0.2)}.CodeMirror-hint{cursor:pointer;display:flex;align-items:center;padding-right:5px;padding-left:5px}li.CodeMirror-hint-active{background-color:#d8d8d8;color:#000000}.CodeMirror-hint .name{margin-right:20px}.CodeMirror-hint .tail{margin-left:auto;margin-right:5px}.CodeMirror-hint .icon{height:16px;width:16px;margin-right:5px}.icon{background:url("https://try.kotlinlang.org/static/images/icons_all_sprite.svg")}.icon.class{background:url("https://try.kotlinlang.org/static/images/completion_class.svg")}.icon.package{background:url("https://try.kotlinlang.org/static/images/completion_package.svg")}.icon.method{background:url("https://try.kotlinlang.org/static/images/completion_method.svg")}.icon.genericValue{background:url("https://try.kotlinlang.org/static/images/completion_generic.svg")}.icon.property{background:url("https://try.kotlinlang.org/static/images/completion_property.svg")}div[label]:hover:after{content:attr(label);padding:0.25rem 0.5rem;white-space:pre;margin-top:-1rem;display:inline-flex;background:#feffde;border-radius:3px;margin-left:1rem;color:black;border:1px solid #3c3f43}\n',""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,"/**\n    Name:       IDEA default theme\n    From IntelliJ IDEA by JetBrains\n */\n\n.cm-s-idea span.cm-meta { color: #808000; }\n.cm-s-idea span.cm-number { color: #0000FF; }\n.cm-s-idea span.cm-keyword { line-height: 1em; font-weight: bold; color: #000080; }\n.cm-s-idea span.cm-atom { font-weight: bold; color: #000080; }\n.cm-s-idea span.cm-def { color: #000000; }\n.cm-s-idea span.cm-variable { color: black; }\n.cm-s-idea span.cm-variable-2 { color: black; }\n.cm-s-idea span.cm-variable-3, .cm-s-idea span.cm-type { color: black; }\n.cm-s-idea span.cm-property { color: black; }\n.cm-s-idea span.cm-operator { color: black; }\n.cm-s-idea span.cm-comment { color: #808080; }\n.cm-s-idea span.cm-string { color: #008000; }\n.cm-s-idea span.cm-string-2 { color: #008000; }\n.cm-s-idea span.cm-qualifier { color: #555; }\n.cm-s-idea span.cm-error { color: #FF0000; }\n.cm-s-idea span.cm-attribute { color: #0000FF; }\n.cm-s-idea span.cm-tag { color: #000080; }\n.cm-s-idea span.cm-link { color: #0000FF; }\n.cm-s-idea .CodeMirror-activeline-background { background: #FFFAE3; }\n\n.cm-s-idea span.cm-builtin { color: #30a; }\n.cm-s-idea span.cm-bracket { color: #cc7; }\n.cm-s-idea  { font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;}\n\n\n.cm-s-idea .CodeMirror-matchingbracket { outline:1px solid grey; color:black !important; }\n\n.CodeMirror-hints.idea {\n  font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;\n  color: #616569;\n  background-color: #ebf3fd !important;\n}\n\n.CodeMirror-hints.idea .CodeMirror-hint-active {\n  background-color: #a2b8c9 !important;\n  color: #5c6065 !important;\n}",""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,"/**\n    Name: IntelliJ IDEA darcula theme\n    From IntelliJ IDEA by JetBrains\n */\n\n.cm-s-darcula  { font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif;}\n.cm-s-darcula.CodeMirror { background: #2B2B2B; color: #A9B7C6; } \n\n.cm-s-darcula span.cm-meta { color: #BBB529; }\n.cm-s-darcula span.cm-number { color: #6897BB; }\n.cm-s-darcula span.cm-keyword { color: #CC7832; line-height: 1em; font-weight: bold; }  \n.cm-s-darcula span.cm-def { color: #A9B7C6; font-style: italic; }\n.cm-s-darcula span.cm-variable { color: #A9B7C6; }\n.cm-s-darcula span.cm-variable-2 { color: #A9B7C6; }\n.cm-s-darcula span.cm-variable-3 { color: #9876AA; }\n.cm-s-darcula span.cm-type { color: #AABBCC; font-weight: bold; }\n.cm-s-darcula span.cm-property { color: #FFC66D; }\n.cm-s-darcula span.cm-operator { color: #A9B7C6; }\n.cm-s-darcula span.cm-string { color: #6A8759; }\n.cm-s-darcula span.cm-string-2 { color: #6A8759; }\n.cm-s-darcula span.cm-comment { color: #61A151; font-style: italic; } \n.cm-s-darcula span.cm-link { color: #CC7832; }\n.cm-s-darcula span.cm-atom { color: #CC7832; }\n.cm-s-darcula span.cm-error { color: #BC3F3C; }\n.cm-s-darcula span.cm-tag { color: #629755; font-weight: bold; font-style: italic; text-decoration: underline; }\n.cm-s-darcula span.cm-attribute { color: #6897bb; }\n.cm-s-darcula span.cm-qualifier { color: #6A8759; }\n.cm-s-darcula span.cm-bracket { color: #A9B7C6; }\n.cm-s-darcula span.cm-builtin { color: #FF9E59; }\n.cm-s-darcula span.cm-special { color: #FF9E59; }\n\n.cm-s-darcula .CodeMirror-cursor { border-left: 1px solid #A9B7C6; }  \n.cm-s-darcula .CodeMirror-activeline-background { background: #323232; } \n.cm-s-darcula .CodeMirror-gutters { background: #313335; border-right: 1px solid #313335; } \n.cm-s-darcula .CodeMirror-guttermarker { color: #FFEE80; }  \n.cm-s-darcula .CodeMirror-guttermarker-subtle { color: #D0D0D0; }  \n.cm-s-darcula .CodeMirrir-linenumber { color: #606366; } \n.cm-s-darcula .CodeMirror-matchingbracket { background-color: #3B514D; color: #FFEF28 !important; font-weight: bold; } \n\n.cm-s-darcula div.CodeMirror-selected { background: #214283; }  \n\n.CodeMirror-hints.darcula {\n  font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;\n  color: #9C9E9E;\n  background-color: #3B3E3F !important;\n}\n\n.CodeMirror-hints.darcula .CodeMirror-hint-active {\n  background-color: #494D4E !important;\n  color: #9C9E9E !important;\n}\n",""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,".CodeMirror-simplescroll-horizontal div, .CodeMirror-simplescroll-vertical div {\n  position: absolute;\n  background: #ccc;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n}\n\n.CodeMirror-simplescroll-horizontal, .CodeMirror-simplescroll-vertical {\n  position: absolute;\n  z-index: 6;\n  background: #eee;\n}\n\n.CodeMirror-simplescroll-horizontal {\n  bottom: 0; left: 0;\n  height: 8px;\n}\n.CodeMirror-simplescroll-horizontal div {\n  bottom: 0;\n  height: 100%;\n}\n\n.CodeMirror-simplescroll-vertical {\n  right: 0; top: 0;\n  width: 8px;\n}\n.CodeMirror-simplescroll-vertical div {\n  right: 0;\n  width: 100%;\n}\n\n\n.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler, .CodeMirror-overlayscroll .CodeMirror-gutter-filler {\n  display: none;\n}\n\n.CodeMirror-overlayscroll-horizontal div, .CodeMirror-overlayscroll-vertical div {\n  position: absolute;\n  background: #bcd;\n  border-radius: 3px;\n}\n\n.CodeMirror-overlayscroll-horizontal, .CodeMirror-overlayscroll-vertical {\n  position: absolute;\n  z-index: 6;\n}\n\n.CodeMirror-overlayscroll-horizontal {\n  bottom: 0; left: 0;\n  height: 6px;\n}\n.CodeMirror-overlayscroll-horizontal div {\n  bottom: 0;\n  height: 100%;\n}\n\n.CodeMirror-overlayscroll-vertical {\n  right: 0; top: 0;\n  width: 6px;\n}\n.CodeMirror-overlayscroll-vertical div {\n  right: 0;\n  width: 100%;\n}\n",""])},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports="\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 16.996 20.999' enable-background='new 0 0 16.996 20.999' xml:space='preserve'%3E %3Cpolygon fill='%2338B058' points='16.996,10.499 0,20.999 0,0 '/%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Cpolygon points='13.5 12.125 9.375 8 13.5 3.875 12.125 2.5 8 6.625 3.875 2.5 2.5 3.875 6.625 8 2.5 12.125 3.875 13.5 8 9.375 12.125 13.5 13.5 12.125' fill='%23ffffff' opacity='0.9'/%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Cg%3E %3Ccircle cx='8' cy='8' r='6' fill='%23e05219' opacity='0.9' style='isolation: isolate'/%3E %3Cpath d='M8.99609,4.98828V6.48193a.4905.4905,0,0,1-.00976.09619L8.28174,9H7.71045L7.00586,6.57812A.44233.44233,0,0,1,7,6.521V5c0-.26465,0-.99023.47559-.99023h1.041C9,4.00977,8.99609,4.72363,8.99609,4.98828Zm-.10547,5.9329L8.42627,10.31a.47056.47056,0,0,0-.37354-.18943H7.94092a.47078.47078,0,0,0-.374.18943l-.46435.61117A.52557.52557,0,0,0,7,11.22882v.28184A.49088.49088,0,0,0,7.47607,12h1.041a.49312.49312,0,0,0,.479-.50638l.00049-.25447A.52333.52333,0,0,0,8.89062,10.92118Z' fill='%23fff'/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Ccircle cx='8' cy='8' r='7' fill='%234ca01f' opacity='0.9' style='isolation: isolate'/%3E %3Cpolygon points='12.808 6.205 11.5 5.025 7.486 9.625 4.346 6.077 3.125 7.182 7.5 12 12.808 6.205' fill='%23fff'/%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Cg style='isolation: isolate'%3E %3Ccircle cx='7.5' cy='7.5' r='6.5' fill='%23e05219'/%3E %3C/g%3E %3Cpolygon points='10.328 9.621 8.207 7.5 10.328 5.379 9.621 4.672 7.5 6.793 5.379 4.672 4.672 5.379 6.793 7.5 4.672 9.621 5.379 10.328 7.5 8.207 9.621 10.328 10.328 9.621' fill='%23fff'/%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23d4d4d4' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='21,9 10,9 10,10 21,10 21,9 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='16,4 15,4 15,15 16,15 16,4 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='21,9 10,9 10,10 21,10 21,9 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='16,4 15,4 15,15 16,15 16,4 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z'/%3E %3Cpath class='data-fill' fill='%23ffffff' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z'/%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23EAEAEC' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='21,9 10,9 10,10 21,10 21,9 '/%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23EAEAEC' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='16,4 15,4 15,15 16,15 16,4 '/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23EAEAEC' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='21,9 10,9 10,10 21,10 21,9 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23EAEAEC' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='16,4 15,4 15,15 16,15 16,4 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23d4d4d4' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z'/%3E %3Cpath class='data-fill' fill='%23EAEAEC' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z'/%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 '/%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 '/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,f=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,function(t,e,n){"use strict";n.r(e);var r=n(149),i=n.n(r),o=n(150),a=n.n(o),s=(n(78),n(88),n(35)),l=n.n(s),c=(n(91),n(193),n(56),n(36)),u=n.n(c),f="darcula",d="idea",h="default",p="nocursor";function m(t){return Array.prototype.slice.call(t,0)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||!t.attributes)return{};var n=m(t.attributes).reduce(function(t,e){var n=e.name,r=e.value;return-1===n.indexOf("data-")?t:(t[n.replace("data-","").split("-").map(function(t,e){return e?function(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)}(t):t}).join("")]=r,t)},{});return e?u.a.all([S,n||{}]):n}function v(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function y(t){var e={"&lt;":"<","&gt;":">"},n=t;return l()(e).forEach(function(t){n=n.replace(new RegExp(e[t],"g"),t)}),n}function b(t){return(t.match(/\n/g)||[]).length}function x(t){return t.replace(/^\s+|\s+$/g,"")}var w,C=(w=document.getElementsByTagName("script"))[w.length-1]||null,k=a()({},g(C)),_={server:k.server||"https://try.kotlinlang.org",get COMPILE(){return"".concat(this.server,"/kotlinServer?type=run&runConf=")},get HIGHLIGHT(){return"".concat(this.server,"/kotlinServer?type=highlight&runConf=")},get COMPLETE(){return"".concat(this.server,"/kotlinServer?type=complete&runConf=")},get VERSIONS(){return"".concat(this.server,"/kotlinServer?type=getKotlinVersions")},get JQUERY(){return"https://cdn.jsdelivr.net/npm/jquery@1/dist/jquery.min.js"},get KOTLIN_JS(){return"https://cdn.jsdelivr.net/npm/kotlin@"}},S={selector:"code",compilerVersion:void 0},E=(n(92),n(93),n(37)),T=n.n(E),O=n(101),M=n.n(O),L=n(151),A=n.n(L),N=n(61),P=n.n(N),F=n(65),I=n.n(F),j=n(5),D=n.n(j),z=n(6),R=n.n(z),B=n(0),H=n.n(B),W=(n(237),n(238),n(239),n(240),n(241),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(152)),U=n.n(W),V=(n(143),n(144),n(153)),G=n.n(V),K=n(102),$=n.n(K),q={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(q.arrayBuffer)var Y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],J=ArrayBuffer.isView||function(t){return t&&Y.indexOf(Object.prototype.toString.call(t))>-1};function X(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function Z(t){return"string"!=typeof t&&(t=String(t)),t}function Q(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return q.iterable&&(e[Symbol.iterator]=function(){return e}),e}function tt(t){this.map={},t instanceof tt?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function et(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function nt(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function rt(t){var e=new FileReader,n=nt(e);return e.readAsArrayBuffer(t),n}function it(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function ot(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:q.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:q.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:q.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():q.arrayBuffer&&q.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=it(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):q.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||J(t))?this._bodyArrayBuffer=it(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):q.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},q.blob&&(this.blob=function(){var t=et(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?et(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(rt)}),this.text=function(){var t=et(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=nt(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},q.formData&&(this.formData=function(){return this.text().then(lt)}),this.json=function(){return this.text().then(JSON.parse)},this}tt.prototype.append=function(t,e){t=X(t),e=Z(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},tt.prototype.delete=function(t){delete this.map[X(t)]},tt.prototype.get=function(t){return t=X(t),this.has(t)?this.map[t]:null},tt.prototype.has=function(t){return this.map.hasOwnProperty(X(t))},tt.prototype.set=function(t,e){this.map[X(t)]=Z(e)},tt.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},tt.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),Q(t)},tt.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Q(t)},tt.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),Q(t)},q.iterable&&(tt.prototype[Symbol.iterator]=tt.prototype.entries);var at=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function st(t,e){var n,r,i=(e=e||{}).body;if(t instanceof st){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new tt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new tt(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),at.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function lt(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function ct(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new tt(e.headers),this.url=e.url||"",this._initBody(t)}st.prototype.clone=function(){return new st(this,{body:this._bodyInit})},ot.call(st.prototype),ot.call(ct.prototype),ct.prototype.clone=function(){return new ct(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new tt(this.headers),url:this.url})},ct.error=function(){var t=new ct(null,{status:0,statusText:""});return t.type="error",t};var ut=[301,302,303,307,308];ct.redirect=function(t,e){if(-1===ut.indexOf(e))throw new RangeError("Invalid status code");return new ct(null,{status:e,headers:{location:t}})};var ft=self.DOMException;try{new ft}catch(t){(ft=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),ft.prototype.constructor=ft}function dt(t,e){return new Promise(function(n,r){var i=new st(t,e);if(i.signal&&i.signal.aborted)return r(new ft("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var t,e,r={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new tt,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;n(new ct(i,r))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new ft("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&q.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})}dt.polyfill=!0,self.fetch||(self.fetch=dt,self.Headers=tt,self.Request=st,self.Response=ct);var ht=n(154),pt=n.n(ht),mt=function(){function t(e,n){D()(this,t),this.id=e,this.printableName=n}return R()(t,null,[{key:"getById",value:function(e){switch(e){case"js":return t.JS;case"junit":return t.JUNIT;case"canvas":return t.CANVAS;default:return t.JAVA}}}]),t}();mt.JS=new mt("js","JavaScript"),mt.JAVA=new mt("java","JVM"),mt.JUNIT=new mt("junit","JUnit"),mt.CANVAS=new mt("canvas","JavaScript(canvas)");var gt=mt,vt=n(103),yt=n.n(vt),bt=n(155),xt=n.n(bt),wt=n(156),Ct=n.n(wt),kt="java.security.AccessControlException",_t="Access control exception due to security reasons in web playground",St="Unhandled JavaScript exception",Et="No tests methods are found",Tt="&lt;",Ot="&gt;",Mt={FAIL:{value:"FAIL",text:"Fail"},ERROR:{value:"ERROR",text:"Error"},PASSED:{value:"OK",text:"Passed"}},Lt="".concat(Tt,"errStream").concat(Ot,"BUG").concat(Tt,"/errStream").concat(Ot),At="".concat(Tt,"errStream").concat(Ot,"Hey! It seems you just found a bug! \n")+"Please click <a href=http://kotl.in/issue target=_blank>here<a> to submit it to the issue tracker and one day we fix it, hopefully \n"+" Don't forget to attach code to the issue".concat(Tt,"/errStream").concat(Ot,"\n");function Nt(t,e){return y(t).split(Lt).join(At).split("".concat(Tt,"outStream").concat(Ot)).join('<span class="standard-output '.concat(e,'">')).split("".concat(Tt,"/outStream").concat(Ot)).join("</span>").split("".concat(Tt,"errStream").concat(Ot)).join('<span class="error-output '.concat(e,'">')).split("".concat(Tt,"/errStream").concat(Ot)).join("</span>")}function Pt(t,e,n){return'\n  <div class="console-block">\n    <span class="console-icon '.concat(t.toLocaleLowerCase(),'"></span>\n    <div class="test-').concat(t.toLocaleLowerCase(),'">').concat(t,": ").concat(e).concat(n?": "+(r={"&lt;":"&amp;lt;","&gt;":"&amp;gt;"},i=n,l()(r).forEach(function(t){i=i.replace(new RegExp(r[t],"g"),t)}),i):"","</div>\n  </div>\n  ");var r,i}function Ft(t,e){return t.reduce(function(t,n){return t+'<div class="console-block">\n                        <span class="console-icon attention"></span>\n                        <div class="test-fail '.concat(e,'">').concat(Ct()(n.message),"</div>\n                      </div>")},"")}function It(t){return null!=t.stackTrace&&(null!=t.message?t.message="".concat(_t,": \n ")+t.message:t.message=_t,t.stackTrace=t.stackTrace.slice(t.stackTrace.length-1)),t}var jt={},Dt="File.kt",zt=function(){function t(){D()(this,t)}return R()(t,null,[{key:"getCompilerVersions",value:function(){return"compilerVersions"in jt?T.a.resolve(jt.compilerVersions):dt(_.VERSIONS).then(function(t){return t.json()}).then(function(t){return jt.compilerVersions=t,t}).catch(function(){return null})}},{key:"translateKotlinToJs",value:function(t,e,n,r,i){return Rt(_.COMPILE,t,e,n,r,i).then(function(t){return{output:"",errors:yt()($()(t.errors)),jsCode:t.jsCode}})}},{key:"executeKotlinCode",value:function(t,e,n,r,i,o,a,s){return Rt(_.COMPILE,t,e,n,r,o).then(function(t){var e="",r=yt()($()(t.errors)),o=r.filter(function(t){return"ERROR"===t.severity});if(o.length>0)e=Ft(o,i);else switch(n){case gt.JAVA:t.text&&(e=Nt(t.text,i));break;case gt.JUNIT:e=t.testResults?function(t,e,n){var r="",i=0,o=!0;if(xt()(t))return Et;for(var a in t)r+=m(t[a]).reduce(function(t,e){switch(i+=e.executionTime/1e3,e.status!==Mt.ERROR.value&&e.status!==Mt.FAIL.value||(o=!1),e.status){case Mt.FAIL.value:return t+Pt(Mt.FAIL.text,e.methodName,e.comparisonFailure.message);case Mt.ERROR.value:return t+Pt(Mt.ERROR.text,e.methodName,e.exception.message);case Mt.PASSED.value:return t+Pt(Mt.PASSED.text,e.methodName,"")}},"");return o&&e&&e(),!o&&n&&n(),'<div class="test-time">Total test time: '.concat(i,"s</div>")+r}(t.testResults,a,s):Nt(t.text,i)}var l=null;return null!=t.exception&&((l=function(t){for(var e=t;null!=e;){if(e.fullName===kt)return It(e);e=e.cause}return t}(t.exception)).causes=function t(e){return void 0!==e.cause&&null!=e.cause?[e.cause].concat(t(e.cause)):[]}(l),l.cause=void 0),{errors:r,output:e,exception:l}})}},{key:"getAutoCompletion",value:function(t,e,n,r,i,o){Rt(_.COMPLETE,t,n,r,"",i,e).then(function(t){o(t)})}},{key:"getHighlight",value:function(t,e,n,r){return Rt(_.HIGHLIGHT,t,e,n,"",r).then(function(t){return t[Dt]})}}]),t}();function Rt(t,e,n,r,i,o,a){var s=[Bt(e,Dt)].concat(o.map(function(t,e){return Bt(t,"hiddenDependency".concat(e,".kt"))})),l=G()({id:"",name:"",args:i,compilerVersion:n,confType:r.id,originUrl:null,files:s,readOnlyFileNames:[]}),c=new pt.a;if(c.set("filename",Dt),c.set("project",l),void 0!==a)for(var u in a)c.set(u,a[u]);return dt(t+r.id,{method:"POST",body:c.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(t){return t.json()})}function Bt(t,e){return{name:e,text:t,publicId:""}}n(297),n(302),n(146);var Ht=n(62),Wt=n.n(Ht),Ut=n(19),Vt=n.n(Ut),Gt=n(63),Kt=n.n(Gt),$t=n(64),qt=n.n($t),Yt=n(45),Jt=n.n(Yt),Xt=n(157),Zt=n.n(Xt),Qt=(n(322),n(158)),te=n.n(Qt),ee=n(160),ne=n.n(ee),re=(n(328),function(){function t(e){D()(this,t),this.kotlinVersion=e}return R()(t,[{key:"executeJsCode",value:function(t,e,n,r,i,o){return new Promise(function(a,s){return n===gt.CANVAS&&(this.iframe.style.display="block",r&&(this.iframe.style.height="".concat(r,"px"))),Promise.resolve(this.execute(t,e,i,o)).then(a,s)}.bind(this))}},{key:"execute",value:function(t,e,n,r){return new Promise(function(i,o){var a,s;if((this.iframe.contentDocument||this.iframe.document).getElementsByTagName("script").length===e.size+2)try{return a=this.iframe.contentWindow.eval(t),i(a?'<span class="standard-output '.concat(n,'">').concat(y(a),"</span>"):"")}catch(t){return r&&r(),s=function(t){if(console&&console.error(t),null!=t.stack){var e=t.stack.toString().substr(0,t.stack.toString().indexOf("at eval (<anonymous>)"));return"".concat(St,": ").concat(t.message," \n ").concat(e)}return St}(t),i('<span class="error-output">'.concat(s,"</span>"))}return Promise.resolve(this.timeout(400)).then(function(a){try{return Promise.resolve(this.execute(t,e,n,r)).then(i,o)}catch(t){return o(t)}}.bind(this),o)}.bind(this))}},{key:"timeout",value:function(t){return new T.a(function(e){return setTimeout(e,t)})}},{key:"reloadIframeScripts",value:function(t,e){void 0!==this.iframe&&e.removeChild(this.iframe),this.iframe=document.createElement("iframe"),this.iframe.className="k2js-iframe",e.appendChild(this.iframe);var n=this.iframe.contentDocument||this.iframe.document;n.open();var r,i,o=_.KOTLIN_JS+"".concat((r=this.kotlinVersion,(i=r.match(/-M\d+$/))&&r.substring(0,i.index).match(/^\d+\.\d+$/)?r.substring(0,i.index)+".0"+i[0]:r),"/kotlin.js");n.write("<script src='"+o+"'><\/script>");var a=!0,s=!1,l=void 0;try{for(var c,u=ne()(t);!(a=(c=u.next()).done);a=!0){var f=c.value;n.write("<script src='"+f+"'><\/script>")}}catch(t){s=!0,l=t}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}n.write("<script>".concat("if(kotlin.BufferedOutput!==undefined){kotlin.out = new kotlin.BufferedOutput()}else{kotlin.kotlin.io.output = new kotlin.kotlin.io.BufferedOutput()}","<\/script>")),n.write('<body style="margin: 0; overflow: hidden;"></body>'),n.close()}}]),t}()),ie=n(46),oe=n.n(ie),ae=function(){function t(e){D()(this,t),this.completion=e}return R()(t,[{key:"render",value:function(t,e,n){var r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div");r.setAttribute("class","icon "+this.completion.icon),i.setAttribute("class","name"),o.setAttribute("class","tail"),i.textContent=this.completion.displayText,o.textContent=this.completion.tail,t.appendChild(r),t.appendChild(i),t.appendChild(o)}},{key:"hint",value:function(t,e,n){var r=t.getCursor(),i=t.getTokenAt(r),o={line:r.line,ch:i.start},a={line:r.line,ch:i.end},s=i.string.trim();if([".","","(",":"].includes(s))t.replaceRange(this.completion.text,a);else{var l=r.ch-i.start,c=s.substring(0,l).lastIndexOf("$"),u=s.substring(0,c+1)+this.completion.text+s.substring(l,i.string.length);t.replaceRange(u,o,a),t.setCursor(r.line,i.start+c+this.completion.text.length+1),u.endsWith("(")&&(t.replaceRange(")",{line:r.line,ch:i.start+this.completion.text.length}),t.execCommand("goCharLeft"))}}}]),t}(),se=82,le=120,ce=".js-code-output-executor",ue=".fold-button",fe="unmodifiable-line-dark",de="unmodifiable-line",he="markPlaceholder",pe="markPlaceholder-start",me="markPlaceholder-end",ge="gutter",ve="CodeMirror-foldgutter",ye="ERRORgutter",be="errors-and-warnings-gutter",xe="background",we="label",Ce=function(t){function e(){return D()(this,e),Wt()(this,Vt()(e).apply(this,arguments))}return qt()(e,t),R()(e,[{key:"update",value:function(t){var n,r=this,i=!1,o=t.targetPlatform;if(!t.compilerVersion||o!==gt.JS&&o!==gt.CANVAS||(this.jsExecutor=new re(t.compilerVersion)),t.code){var a=t.code;if(t.from&&t.to&&t.to>=t.from&&t.from>0&&t.to>0){var s=a.split("\n");s.splice(t.from-1,0,"//sampleStart"),s.splice(t.to+1,0,"//sampleEnd"),a=s.join("\n")}var l=a.indexOf("//sampleStart"),c=a.indexOf("//sampleEnd");i=!t.noneMarkers&&l>-1&&c>-1,this.prefix="",this.suffix="",n=a,i&&(this.prefix=a.substring(0,l),this.suffix=a.substring(c+"//sampleEnd".length),n=a.substring(l+"//sampleStart".length+1,c-1)),this.suffix.endsWith("\n")&&(this.suffix=this.suffix.substr(0,this.suffix.length-1))}else if(this.state.folded)n=this.codemirror.getValue();else{var d=this.codemirror.getValue();n=d.substring(this.prefix.length,d.length-this.suffix.length)}if(this.state=u.a.all([this.state,t,{isShouldBeFolded:this.isShouldBeFolded&&t.isFoldedButton}]),Kt()(Vt()(e.prototype),"update",this).call(this,this.state),this.initialized){if(this.showDiagnostics(t.errors),void 0===t.folded)return}else this.initializeCodeMirror(t),this.initialized=!0;if(this.state.folded)this.codemirror.setOption("lineNumbers",t.lines&&!i),this.codemirror.setValue(n),this.markPlaceHolders();else{this.codemirror.setOption("lineNumbers",!0),this.codemirror.setValue(this.prefix+n+this.suffix),this.codemirror.markText({line:0,ch:0},{line:b(this.prefix),ch:0},{readOnly:!0,inclusiveLeft:!0,inclusiveRight:!1}),this.codemirror.markText({line:this.codemirror.lineCount()-b(this.suffix)-1,ch:null},{line:this.codemirror.lineCount()-1,ch:null},{readOnly:!0,inclusiveLeft:!1,inclusiveRight:!0});var h=this.state.theme===f?fe:de;this.codemirror.operation(function(){for(var t=0;t<b(r.prefix);t++)r.codemirror.addLineClass(t,xe,h);for(var e=r.codemirror.lineCount()-b(r.suffix);e<r.codemirror.lineCount();e++)r.codemirror.addLineClass(e,xe,h)})}if(this.state.autoIndent||this.prefix&&this.suffix)for(var p=0;p<this.codemirror.lineCount();p++)this.codemirror.indentLine(p)}},{key:"markPlaceHolders",value:function(){var t=this,e=this.getTaskRanges();this.codemirror.setValue(this.codemirror.getValue().replace(new RegExp(v("[mark]"),"g"),"").replace(new RegExp(v("[/mark]"),"g"),"")),e.forEach(function(e){t.codemirror.markText({line:e.line,ch:e.ch},{line:e.line,ch:e.ch+e.length},{className:he,startStyle:pe,endStyle:me,handleMouseEvents:!0})})}},{key:"getTaskRanges",value:function(){for(var t=[],e=this.codemirror.getValue().split("\n"),n=0;n<e.length;n++)for(var r=e[n];r.includes("[mark]");){var i=r.indexOf("[mark]"),o=(r=r.replace("[mark]","")).indexOf("[/mark]");r=r.replace("[/mark]",""),t.push({line:n,ch:i,length:o-i})}return t}},{key:"onFoldButtonMouseEnter",value:function(){this.state.foldButtonHover||this.update({foldButtonHover:!0})}},{key:"onFoldButtonMouseLeave",value:function(){this.state.foldButtonHover&&this.update({foldButtonHover:!1})}},{key:"onConsoleCloseButtonEnter",value:function(){var t=this.state,e=t.jsLibs,n=t.onCloseConsole,r=t.targetPlatform;r!==gt.CANVAS&&r!==gt.JS||this.jsExecutor.reloadIframeScripts(e,this.getNodeForMountIframe()),this.update({output:"",openConsole:!1,exception:null}),n&&n()}},{key:"onExceptionClick",value:function(t,e){this.codemirror.setCursor(e-1,0),this.codemirror.focus()}},{key:"execute",value:function(){var t=this,e=this.state,n=e.onOpenConsole,r=e.targetPlatform,i=e.waitingForOutput,o=e.compilerVersion,a=e.onRun,s=e.onError,l=e.args,c=e.theme,u=e.hiddenDependencies,f=e.onTestPassed,d=e.onTestFailed,h=e.onCloseConsole,p=e.jsLibs,m=e.outputHeight,g=e.getJsCode;i||(this.update({waitingForOutput:!0,openConsole:!1}),n&&n(),a&&a(),r===gt.JAVA||r===gt.JUNIT?zt.executeKotlinCode(this.getCode(),o,r,l,c,u,f,d).then(function(e){e.waitingForOutput=!1,e.output||e.exception?e.openConsole=!0:h&&h(),(e.errors.length>0||e.exception)&&s&&s(),t.update(e)},function(){return t.update({waitingForOutput:!1})}):(this.jsExecutor.reloadIframeScripts(p,this.getNodeForMountIframe()),zt.translateKotlinToJs(this.getCode(),o,r,l,u).then(function(e){e.waitingForOutput=!1;var i=e.jsCode;delete e.jsCode,g&&g(i);var o=e.errors.filter(function(t){return"ERROR"===t.severity});o.length>0?(s&&s(),e.output=Ft(o),e.openConsole=!0,e.exception=null,t.update(e)):t.jsExecutor.executeJsCode(i,p,r,m,c,s).then(function(i){i?(e.openConsole=!0,e.output=i):(e.output="",h&&h()),r===gt.CANVAS&&(n&&n(),e.openConsole=!0),e.exception=null,t.update(e)})},function(){return t.update({waitingForOutput:!1})})))}},{key:"getNodeForMountIframe",value:function(){return this.nodes[0].querySelector(ce)}},{key:"getCode",value:function(){return this.state.folded?this.prefix+this.codemirror.getValue()+this.suffix:this.codemirror.getValue()}},{key:"recalculatePosition",value:function(t){var e={line:t.line,ch:t.ch};if(!this.state.folded)return e;var n=(this.prefix.match(/\n/g)||[]).length;return e.line=t.line-n,e.line<0?(e.line=0,e.ch=0):e.line>=this.codemirror.lineCount()&&(e.line=this.codemirror.lineCount()-1,e.ch=null),e}},{key:"showDiagnostics",value:function(t){var e=this;this.removeStyles(),void 0!==t&&t.forEach(function(t){var n=t.interval;n.start=e.recalculatePosition(n.start),n.end=e.recalculatePosition(n.end);var r,i,o,a=(r=t.message,i={"<":"&amp;lt;",">":"&amp;gt;","&":"&amp;"," ":"%20"},o=r,l()(i).forEach(function(t){o=o.replace(new RegExp(i[t],"g"),t)}),o),s=t.severity;if(e.arrayClasses.push(e.codemirror.markText(n.start,n.end,{className:"cm__"+t.className,title:a})),null!=e.codemirror.lineInfo(n.start.line)&&null==e.codemirror.lineInfo(n.start.line).gutterMarkers){var c=document.createElement("div");c.className=s+ge,c.setAttribute(we,a),e.codemirror.setGutterMarker(n.start.line,be,c)}else{var u=e.codemirror.lineInfo(n.start.line).gutterMarkers[be];u.setAttribute(we,u.getAttribute(we)+"\n".concat(a)),-1===u.className.indexOf(ye)&&(u.className=s+ge)}})}},{key:"removeStyles",value:function(){this.arrayClasses.forEach(function(t){return t.clear()}),this.codemirror.clearGutter(be)}},{key:"initializeCodeMirror",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.nodes[0].getElementsByTagName("textarea")[0],r=e.highlightOnly,i={readOnly:r,lineNumbers:!1,mode:e.mode,theme:e.theme,matchBrackets:e.matchBrackets,scrollbarStyle:"overlay",continueComments:!0,autoCloseBrackets:!0,indentUnit:e.indent,viewportMargin:1/0,foldGutter:!0,gutters:[be,ve]};r&&(i.cursorBlinkRate=-1),this.codemirror=H.a.fromTextArea(n,i),r||(H.a.registerHelper("hint","kotlin",function(e,n){var r=e.getCursor(),i=e.getTokenAt(r),o=t.state.folded?t.prefix+e.getValue()+t.suffix:e.getValue(),a=t.state.folded?{line:r.line+t.prefix.split("\n").length-1,ch:r.ch}:r;zt.getAutoCompletion(o,a,t.state.compilerVersion,t.state.targetPlatform,t.state.hiddenDependencies,function(t){var o=e.findWordAt({line:r.line,ch:r.ch}).anchor.ch,a=e.findWordAt({line:r.line,ch:r.ch}).head.ch,s=e.getRange({line:r.line,ch:o},{line:r.line,ch:a});0===t.length&&/^[a-zA-Z]+$/.test(s)?H.a.showHint(e,H.a.hint.default,{completeSingle:!1}):n({list:t.map(function(t){return new ae(t)}),from:{line:r.line,ch:i.start},to:{line:r.line,ch:i.end}})})}),H.a.hint.kotlin.async=!0,H.a.commands.autocomplete=function(t){H.a.showHint(t,H.a.hint.kotlin)},-1!==window.navigator.appVersion.indexOf("Mac")?this.codemirror.setOption("extraKeys",{"Cmd-Alt-L":"indentAuto","Shift-Tab":"indentLess","Ctrl-/":"toggleComment","Cmd-[":!1,"Cmd-]":!1,"Ctrl-Space":"autocomplete"}):this.codemirror.setOption("extraKeys",{"Ctrl-Alt-L":"indentAuto","Shift-Tab":"indentLess","Ctrl-/":"toggleComment","Ctrl-[":!1,"Ctrl-]":!1,"Ctrl-Space":"autocomplete"}),this.codemirror.on("change",oe()(function(e){var n=t.state,r=n.onChange,i=n.onFlyHighLight,o=n.compilerVersion,a=n.targetPlatform,s=n.hiddenDependencies;r&&r(e.getValue()),t.removeStyles(),i&&zt.getHighlight(t.getCode(),o,a,s).then(function(e){return t.showDiagnostics(e)})},500)),this.codemirror.on("keypress",oe()(function(e,n){n.keyCode===se||n.ctrlKey||t.state.autoComplete&&!e.state.completionActive&&H.a.showHint(e,H.a.hint.kotlin,{completeSingle:!1})},500)),this.codemirror.on("mousedown",function(t,e){var n=t.coordsChar({left:e.pageX,top:e.pageY});if(0!==n.line||0!==n.ch){var r=t.findMarksAt(n).find(function(t){return t.className===he});if(null!=r){var i=r.find();t.setSelection(i.from,i.to),t.focus(),e.preventDefault()}}}))}},{key:"destroy",value:function(){this.arrayClasses=null,this.initialized=!1,this.jsExecutor=!1,this.state=null,this.codemirror.toTextArea(),this.off(),this.remove()}},{key:"isShouldBeFolded",get:function(){return""!==this.prefix.trim()||""!==this.suffix.trim()}}],[{key:"render",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Jt.a.render(e,t,{directives:Zt.a});r.arrayClasses=[],r.initialized=!1,r.state={theme:"",code:"",foldButtonHover:!1,folded:!0,output:null},r.codemirror=new H.a,r.on("click",ue,function(){r.update({folded:!r.state.folded})}),r.on("keyup",function(t){-1!==window.navigator.appVersion.indexOf("Mac")?t.keyCode===se&&t.ctrlKey&&r.execute():t.keyCode===le&&t.ctrlKey&&r.execute()});var i=n.eventFunctions;return i&&i.getInstance&&i.getInstance(r),r}}]),e}(te.a),ke=(n(331),"data-kotlin-playground-initialized"),_e=4,Se={HIDDEN_DEPENDENCY:"hidden-dependency",INDENT:"indent",HIGHLIGHT_ONLY:"data-highlight-only",STYLE:"style",FROM:"from",TO:"to",NONE_MARKERS:"none-markers",THEME:"theme",MODE:"mode",MATCH_BRACKETS:"match-brackets",OUTPUT_HEIGHT:"data-output-height",COMPLETE:"data-autocomplete",ON_FLY_HIGHLIGHT:"highlight-on-fly",PLATFORM:"data-target-platform",JS_LIBS:"data-js-libs",FOLDED_BUTTON:"folded-button",ARGUMENTS:"args",LINES:"lines",AUTO_INDENT:"auto-indent"},Ee={JAVA:"text/x-java",KOTLIN:"text/x-kotlin",JS:"text/javascript",GROOVY:"text/x-groovy",XML:"text/html",C:"text/x-c",OBJ_C:"text/x-objectivec",SWIFT:"text/x-swift",SHELL:"text/x-sh"},Te=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;D()(this,t);var i="string"==typeof e?document.querySelector(e):e,o=!!n.highlightOnly||(i.getAttribute(Se.HIGHLIGHT_ONLY)===p?i.getAttribute(Se.HIGHLIGHT_ONLY):i.hasAttribute(Se.HIGHLIGHT_ONLY)),a=i.hasAttribute(Se.NONE_MARKERS),s=i.hasAttribute(Se.INDENT)?I()(i.getAttribute(Se.INDENT)):_e,l=i.hasAttribute(Se.FROM)?I()(i.getAttribute(Se.FROM)):null,c=i.hasAttribute(Se.TO)?I()(i.getAttribute(Se.TO)):null,f=this.getTheme(i),d=i.hasAttribute(Se.ARGUMENTS)?i.getAttribute(Se.ARGUMENTS):"",h=this.getHiddenDependencies(i),m=i.getAttribute(Se.OUTPUT_HEIGHT)||null,g=gt.getById(i.getAttribute(Se.PLATFORM)),v=i.getAttribute(Se.STYLE),y=this.getJsLibraries(i,g),b="false"!==i.getAttribute(Se.FOLDED_BUTTON),w="true"===i.getAttribute(Se.LINES),C="true"===i.getAttribute(Se.ON_FLY_HIGHLIGHT),k="true"===i.getAttribute(Se.COMPLETE),_="true"===i.getAttribute(Se.MATCH_BRACKETS),E="true"===i.getAttribute(Se.AUTO_INDENT),T=this.getMode(i),O=x(i.textContent),M=u()(S,n);T!==Ee.KOTLIN&&o!==p&&(o=!0),i.style.display="none",i.setAttribute(ke,"true");var L,A,N=document.createElement("div");L=N,(A=i).parentNode.insertBefore(L,A.nextSibling);var F=Ce.render(N,{eventFunctions:r});F.update(P()({code:O,lines:w,theme:f,indent:s,args:d,mode:T,matchBrackets:_,from:l,to:c,autoComplete:k,hiddenDependencies:h,compilerVersion:M.compilerVersion,noneMarkers:a,onFlyHighLight:C,autoIndent:E,highlightOnly:o,targetPlatform:g,jsLibs:y,isFoldedButton:b,outputHeight:m},r)),this.config=M,this.node=N,this.targetNode=i,this.targetNodeStyle=v,this.view=F,i.KotlinPlayground=this,r&&r.callback&&r.callback(i,N)}return R()(t,[{key:"getHiddenDependencies",value:function(t){return m(t.getElementsByClassName(Se.HIDDEN_DEPENDENCY)).reduce(function(t,e){return e.parentNode.removeChild(e),[].concat(A()(t),[x(e.textContent)])},[])}},{key:"getJsLibraries",value:function(t,e){if(e===gt.JS||e===gt.CANVAS){var n=t.getAttribute(Se.JS_LIBS),r=new U.a(_.JQUERY.split());if(n){var i=new RegExp("https?://.+$");n.replace(" ","").split(",").filter(function(t){return i.test(t)}).forEach(function(t){return r.add(t)})}return r}}},{key:"getTheme",value:function(t){switch(t.getAttribute(Se.THEME)){case f:return f;case d:return d;default:return h}}},{key:"getMode",value:function(t){switch(t.getAttribute(Se.MODE)){case"java":return Ee.JAVA;case"c":return Ee.C;case"js":return Ee.JS;case"groovy":return Ee.GROOVY;case"xml":return Ee.XML;case"shell":return Ee.SHELL;case"obj-c":return Ee.OBJ_C;case"swift":return Ee.SWIFT;default:return Ee.KOTLIN}}},{key:"destroy",value:function(){this.config=null,this.node=null,this.view.destroy();var t=this.targetNode;null!==this.targetNodeStyle?t.style=this.targetNodeStyle:t.style="",t.removeAttribute(ke),delete t.KotlinPlayground}},{key:"isInited",value:function(){var t=this.targetNode,e=t&&t.getAttribute(ke);return e&&"true"===e}}],[{key:"create",value:function(e,n){var r;if("string"==typeof e)r=m(document.querySelectorAll(e));else if(e instanceof Node)r=[e];else if(e instanceof NodeList==!1)throw new Error("'target' type should be string|Node|NodeList, ".concat(M()(e)," given"));return 0===r.length?T.a.resolve([]):zt.getCompilerVersions().then(function(e){var i=[];return r.forEach(function(r){var o=g(r,!0),a=o.minCompilerVersion,s=null,l=null;if(""!==r.textContent.trim()&&"true"!==r.getAttribute(ke))if(e){var c=e.map(function(t){return t.version});c.includes(o.version)?l=o.version:c.includes(n.version)?l=n.version:(e.forEach(function(t){t.latestStable&&(s=t.version)}),l=s),a&&(l=a>s?e[e.length-1].version:s),i.push(new t(r,{compilerVersion:l},n))}else console.error("Cann't get kotlin version from server"),i.push(new t(r,{highlightOnly:!0}))}),i})}}]),t}(),Oe=".d-editor-preview",Me=".d-editor-input.ember-text-area",Le=".lang-run-kotlin",Ae=function(){var t=window.KotlinPlayground,e=document.querySelector(Me),n=document.querySelector(Oe);e&&n&&e.addEventListener("keydown",oe()(function(){m(n.querySelectorAll(Le)).forEach(function(e){var n=e.KotlinPlayground;n&&n.destroy(),t(e)})},300))},Ne=n(161);function Pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.server=e.server||_.server,Te.create(t,e)}n.d(e,"default",function(){return Pe}),Object(Ne.polyfill)(),Pe.default=Pe,Pe.discourse=function(t,e){return Ae(),Pe(t,e)};var Fe=k.selector,Ie=k.discourseSelector,je=i()(k,["selector","discourseSelector"]);(Fe||Ie)&&document.addEventListener("DOMContentLoaded",function(){var t,e,n;Ie?(Pe.discourse(Ie,je),t=Oe,e=function(){return Ae()},n=setInterval(function(){var r=document.querySelector(t);r&&(clearInterval(n),e(r))},100)):Pe(Fe,je)})}]).default});
//# sourceMappingURL=playground.min.js.map

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4va290bGluLWpzLW1pbi9tYWluL2Zyb250LWVuZC5qcyIsIndlYnBhY2s6Ly8vLi9rb3RsaW4tanMtbWluL21haW4va290bGluLmpzIiwid2VicGFjazovLy8uL2tvdGxpbi1qcy1taW4vbWFpbi9rb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMva290bGluLXBsYXlncm91bmQvZGlzdC9wbGF5Z3JvdW5kLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FBQ0E7Ozs7Ozs7Ozs7OztBQ2xGQSxpR0FBTyxDQUFDLE9BQVMsRUFBRSxtRUFBUSxFQUFFLHlFQUFRLEVBQUUsNkpBQXFELENBQUMsbUNBQUU7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBLElBQUk7QUFDSiw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0EsSUFBSTtBQUNKLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDOUM7QUFDQSx3QkFBd0IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUMxQztBQUNBO0FBQ0Esb0JBQW9CLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRztBQUMxRztBQUNBLEdBQUc7QUFDSCxJQUFJO0FBQ0oseUdBQXlHO0FBQ3pHO0FBQ0EsR0FBRztBQUNILElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEc7QUFDMUc7QUFDQSxJQUFJO0FBQ0osNkVBQTZFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsRUFBRTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUdBQXlHLEVBQUUsR0FBRyxjQUFjLEdBQUcsRUFBRSwrQkFBK0IsRUFBRSxtQkFBbUIsRUFBRSwwRkFBMEYsRUFBRSxLQUFLLEVBQUU7QUFDMVI7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0EsaUNBQWlDLE9BQU87QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRztBQUNoRyxpR0FBaUc7QUFDakcsd0VBQXdFO0FBQ3hFLG1HQUFtRztBQUNuRyx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxFQUFFLEdBQUcsRUFBRTtBQUM1RTtBQUNBO0FBQ0Esa0VBQWtFLEVBQUUsY0FBYyxFQUFFLEdBQUcsRUFBRTtBQUN6RjtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELEVBQUU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsRUFBRSxHQUFHLEVBQUU7QUFDL0Q7QUFDQTtBQUNBLDREQUE0RCxFQUFFLEdBQUcsRUFBRTtBQUNuRTtBQUNBO0FBQ0EsMERBQTBELEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtBQUN0RTtBQUNBO0FBQ0EseURBQXlELEVBQUU7QUFDM0Q7QUFDQSw4SkFBOEosZUFBZSxNQUFNLEVBQUUsaUVBQWlFLGdCQUFnQixnQkFBZ0IseVNBQXlTO0FBQy9qQjtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMseUJBQXlCO0FBQ25FLCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSixtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxFQUFFO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrQkFBK0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSwrQkFBK0I7QUFDakc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFNBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFlBQVk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDRCQUE0QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsOEJBQThCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNEJBQTRCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUN4RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1QkFBdUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBLE1BQU07QUFDTixtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0EsTUFBTTtBQUNOLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBLE1BQU07QUFDTiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBLE1BQU07QUFDTixrRUFBa0U7QUFDbEU7QUFDQSxLQUFLO0FBQ0w7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdCQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwyQkFBMkI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQSxNQUFNO0FBQ04seUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQSxNQUFNO0FBQ04sc0VBQXNFO0FBQ3RFO0FBQ0EsTUFBTTtBQUNOLHVFQUF1RTtBQUN2RTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBIQUEwSDtBQUMxSDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhGQUE4RjtBQUM5Riw0RUFBNEU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRkFBMEY7QUFDMUY7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlELHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSx3QkFBd0I7QUFDaEc7QUFDQTtBQUNBLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Y7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBLE1BQU07QUFDTix1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkZBQTZGO0FBQzdGO0FBQ0EsTUFBTTtBQUNOLGlFQUFpRTtBQUNqRSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELEtBQUs7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRjtBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRjtBQUNBLE1BQU07QUFDTixtRUFBbUU7QUFDbkUsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixXQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixXQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGlCQUFpQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixZQUFZO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQyw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0EsTUFBTTtBQUNOLDBEQUEwRDtBQUMxRDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDs7Ozs7Ozs7Ozs7OztBQ3JzUEE7QUFDQSxNQUFNLElBQTBDO0FBQ2hELElBQUksaUNBQU8sQ0FBQyxPQUFTLEVBQUUsbUVBQVEsQ0FBQyxvQ0FBRSxPQUFPO0FBQUE7QUFBQTtBQUFBLG9HQUFDO0FBQzFDLE9BQU8sRUFPSjtBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBLElBQUk7QUFDSixzRUFBc0U7QUFDdEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQSxJQUFJO0FBQ0osMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0U7QUFDeEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0EsSUFBSTtBQUNKLHNFQUFzRTtBQUN0RTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBLElBQUk7QUFDSixnRUFBZ0U7QUFDaEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBLElBQUk7QUFDSixzRUFBc0U7QUFDdEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0EsSUFBSTtBQUNKLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBLElBQUk7QUFDSixrRUFBa0U7QUFDbEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQSxJQUFJO0FBQ0osbUVBQW1FO0FBQ25FO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0EsSUFBSTtBQUNKLHNFQUFzRTtBQUN0RTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0JBQStCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7Ozs7Ozs7Ozs7OztBQ3ZsTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxNQUFNLEtBQTBCOztBQUVoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsWUFBWTs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLG9CQUFvQjs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUYsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQSxrQkFBa0Isa0NBQWtDO0FBQ3BELEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLFlBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxJQUFJO0FBQ3RDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IsSUFBSTs7QUFFcEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsMENBQTBDLElBQUk7QUFDOUM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVEsNkJBQTZCO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0IsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFF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RTlDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLGlFQUFpRSxVQUFVO0FBQzNFLHNDQUFzQywyQkFBMkI7QUFDakU7QUFDQSxnQ0FBZ0MsTUFBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFVBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsWUFBWSx1RUFBdUU7QUFDbkY7QUFDQTtBQUNBLFlBQVksNEJBQTRCO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsU0FBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSw0REFBNEQ7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsU0FBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxTQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILFFBQVEsU0FBUztBQUNqQjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaURBQWlEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCxVQUFVLDRDQUE0QztBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUEsQ0FBQzs7OztBQUlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLFFBQVEsR0FBRztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOzs7O0FBSUE7O0FBRUE7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBLGNBQWMsU0FBUztBQUN2QjtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCLDBCQUEwQix3QkFBd0I7O0FBRWxEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLDBDQUEwQztBQUMxQyxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGNBQWM7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx3Q0FBd0Msc0NBQXNDO0FBQzlFLG9DQUFvQyx1Q0FBdUM7QUFDM0Usb0NBQW9DLHNDQUFzQztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLE9BQU87QUFDUDtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVOztBQUVWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DO0FBQ3BDLHFDQUFxQztBQUNyQyxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7Ozs7QUFLQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVLFNBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixhQUFhO0FBQ3BDLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLFNBQVM7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7OztBQUdBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxjQUFjOztBQUVkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLGdCQUFnQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxFQUFFO0FBQ0Y7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsT0FBTztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSxzQkFBc0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87QUFDZjs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxnQkFBZ0I7QUFDbEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVc7O0FBRVg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsY0FBYyxzQkFBc0I7QUFDcEM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsK0RBQStEO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxjQUFjOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVDQUF1QztBQUNqRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQXVEO0FBQzlFOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLCtDQUErQztBQUNwRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUMsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQsY0FBYyxxQ0FBcUM7QUFDbkQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLCtCQUErQjtBQUN2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUNBQXVDLE9BQU87QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLHFDQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBLFNBQVMsOEJBQThCO0FBQ3ZDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxZQUFZLE9BQU87QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTLFdBQVc7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOzs7O0FBSUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtDQUErQyxjQUFjLFdBQVc7QUFDeEUsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQSxzQkFBc0IsY0FBYyxzQkFBc0IsZ0JBQWdCO0FBQzFFLGdCQUFnQixXQUFXLFlBQVk7QUFDdkMsY0FBYztBQUNkOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZDQUE2QztBQUM3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUErRDtBQUMzRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87O0FBRWY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FB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QUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixpREFBaUQsMEJBQTBCO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LG1CQUFtQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLGlDQUFpQztBQUNqQztBQUNBOztBQUVBLElBQUk7QUFDSjs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7OztBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBOztBQUVBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQztBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsS0FBSztBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxQ0FBcUM7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQSxhQUFhOztBQUViOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYixLQUFLO0FBQ0w7O0FBRUEsV0FBVztBQUNYLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCOztBQUVoQixnREFBZ0Q7QUFDaEQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQjs7QUFFM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQzs7QUFFbEM7QUFDQSxzQkFBc0I7QUFDdEIsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixhQUFhLHVDQUF1QztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxREFBcUQ7QUFDckQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGNBQWMsc0RBQXNEO0FBQ3BFOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0EsY0FBYyxtQ0FBbUM7QUFDakQsZUFBZSw2REFBNkQ7QUFDNUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7QUFDRixDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7Ozs7QUFLRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxLQUFLLElBQTBDO0FBQy9DLENBQUMsaUNBQWtCLEVBQUUsbUNBQUU7QUFDdkI7QUFDQSxFQUFFO0FBQUEsb0dBQUU7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4va290bGluLWpzLW1pbi9tYWluL2Zyb250LWVuZC5qc1wiKTtcbiIsImRlZmluZShbJ2V4cG9ydHMnLCAna290bGluJywgJ2pxdWVyeScsICdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUnXSwgZnVuY3Rpb24gKF8sIEtvdGxpbiwgJG1vZHVsZSRqcXVlcnksICRtb2R1bGUka290bGlueF9zZXJpYWxpemF0aW9uX2tvdGxpbnhfc2VyaWFsaXphdGlvbl9ydW50aW1lKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEtpbmRfQ0xBU1MgPSBLb3RsaW4uS2luZC5DTEFTUztcbiAgdmFyIEtpbmRfSU5URVJGQUNFID0gS290bGluLktpbmQuSU5URVJGQUNFO1xuICB2YXIgbWFwQ2FwYWNpdHkgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLm1hcENhcGFjaXR5X3phM2xwYSQ7XG4gIHZhciBMaW5rZWRIYXNoTWFwX2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXBfaW5pdF9id3RjNyQ7XG4gIHZhciBBcnJheUxpc3RfaW5pdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuQXJyYXlMaXN0X2luaXRfMjg3ZTIkO1xuICB2YXIgRW51bSA9IEtvdGxpbi5rb3RsaW4uRW51bTtcbiAgdmFyIHRocm93SVNFID0gS290bGluLnRocm93SVNFO1xuICB2YXIgdG9JbnQgPSBLb3RsaW4ua290bGluLnRleHQudG9JbnRfcGRsMXZ6JDtcbiAgdmFyIHRvQm9vbGVhbiA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0Jvb2xlYW5fcGRsMXZ6JDtcbiAgdmFyIHNwbGl0ID0gS290bGluLmtvdGxpbi50ZXh0LnNwbGl0X2lwOHluJDtcbiAgdmFyIHRvU2V0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy50b1NldF83d252emEkO1xuICB2YXIgZW1wdHlTZXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmVtcHR5U2V0XzI4N2UyJDtcbiAgdmFyIGNvbGxlY3Rpb25TaXplT3JEZWZhdWx0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5jb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdF9iYTJsZG8kO1xuICB2YXIgQXJyYXlMaXN0X2luaXRfMCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuQXJyYXlMaXN0X2luaXRfd3c3M244JDtcbiAgdmFyIHRocm93Q0NFID0gS290bGluLnRocm93Q0NFO1xuICB2YXIgdHJpbSA9IEtvdGxpbi5rb3RsaW4udGV4dC50cmltX2d3MDB2cCQ7XG4gIHZhciBlcXVhbHMgPSBLb3RsaW4uZXF1YWxzO1xuICB2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLklsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0X3BkbDF2aiQ7XG4gIHZhciBLaW5kX09CSkVDVCA9IEtvdGxpbi5LaW5kLk9CSkVDVDtcbiAgdmFyIFJlZ2V4X2luaXQgPSBLb3RsaW4ua290bGluLnRleHQuUmVnZXhfaW5pdF82MXpwb2UkO1xuICB2YXIgUmVnZXhPcHRpb24gPSBLb3RsaW4ua290bGluLnRleHQuUmVnZXhPcHRpb247XG4gIHZhciBSZWdleF9pbml0XzAgPSBLb3RsaW4ua290bGluLnRleHQuUmVnZXhfaW5pdF9zYjNxMiQ7XG4gIHZhciBMaW5rZWRIYXNoTWFwX2luaXRfMCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcF9pbml0X3EzbG1mdiQ7XG4gIHZhciBsaXN0T2YgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmxpc3RPZl9taDVob3ckO1xuICB2YXIgY29udGFpbnMgPSBLb3RsaW4ua290bGluLnRleHQuY29udGFpbnNfbGkzenB1JDtcbiAgdmFyIEV4Y2VwdGlvbl9pbml0ID0gS290bGluLmtvdGxpbi5FeGNlcHRpb25faW5pdF9wZGwxdmokO1xuICB2YXIgcHJpbnQgPSBLb3RsaW4ua290bGluLmlvLnByaW50X3M4anl2NCQ7XG4gIHZhciBFeGNlcHRpb25faW5pdF8wID0gS290bGluLmtvdGxpbi5FeGNlcHRpb25faW5pdDtcbiAgdmFyIFVuaXQgPSBLb3RsaW4ua290bGluLlVuaXQ7XG4gIHZhciB0b1N0cmluZyA9IEtvdGxpbi50b1N0cmluZztcbiAgdmFyIEpzb25Db25maWd1cmF0aW9uID0gJG1vZHVsZSRrb3RsaW54X3NlcmlhbGl6YXRpb25fa290bGlueF9zZXJpYWxpemF0aW9uX3J1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uSnNvbkNvbmZpZ3VyYXRpb247XG4gIHZhciBKc29uID0gJG1vZHVsZSRrb3RsaW54X3NlcmlhbGl6YXRpb25fa290bGlueF9zZXJpYWxpemF0aW9uX3J1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uSnNvbjtcbiAgdmFyIGNvZXJjZUF0TGVhc3QgPSBLb3RsaW4ua290bGluLnJhbmdlcy5jb2VyY2VBdExlYXN0X2RxZ2xyaiQ7XG4gIHZhciBjb3B5VG9BcnJheSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuY29weVRvQXJyYXk7XG4gIHZhciBhc0xpc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmFzTGlzdF91czBtZnUkO1xuICB2YXIgam9pblRvU3RyaW5nID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5qb2luVG9TdHJpbmdfZm12MjM1JDtcbiAgdmFyIHRvTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMudG9MaXN0X3VzMG1mdSQ7XG4gIHZhciBjaGVja0luZGV4T3ZlcmZsb3cgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmNoZWNrSW5kZXhPdmVyZmxvd196YTNscGEkO1xuICB2YXIgdG8gPSBLb3RsaW4ua290bGluLnRvX3VqenJ6NyQ7XG4gIHZhciBtYXBPZiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubWFwT2ZfcWZjeWEwJDtcbiAgdmFyIEludFJhbmdlID0gS290bGluLmtvdGxpbi5yYW5nZXMuSW50UmFuZ2U7XG4gIHZhciBzbGljZSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuc2xpY2VfNmJqYmkxJDtcbiAgdmFyIHVudGlsID0gS290bGluLmtvdGxpbi5yYW5nZXMudW50aWxfZHFnbHJqJDtcbiAgdmFyIGVuc3VyZU5vdE51bGwgPSBLb3RsaW4uZW5zdXJlTm90TnVsbDtcbiAgdmFyIGxpc3RPZl8wID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5saXN0T2ZfaTV4MHl2JDtcbiAgdmFyIHRocm93VVBBRSA9IEtvdGxpbi50aHJvd1VQQUU7XG4gIHZhciBtdXRhYmxlTGlzdE9mID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5tdXRhYmxlTGlzdE9mX2k1eDB5diQ7XG4gIHZhciByZXBsYWNlID0gS290bGluLmtvdGxpbi50ZXh0LnJlcGxhY2VfNjgwcm13JDtcbiAgdmFyIFN0cmluZ0J1aWxkZXJfaW5pdCA9IEtvdGxpbi5rb3RsaW4udGV4dC5TdHJpbmdCdWlsZGVyX2luaXQ7XG4gIHZhciBMaW5rZWRIYXNoU2V0X2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hTZXRfaW5pdF8yODdlMiQ7XG4gIHZhciBtdXRhYmxlTWFwT2YgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLm11dGFibGVNYXBPZl9xZmN5YTAkO1xuICB2YXIgbnVtYmVyVG9JbnQgPSBLb3RsaW4ubnVtYmVyVG9JbnQ7XG4gIHZhciBudW1iZXJUb0RvdWJsZSA9IEtvdGxpbi5udW1iZXJUb0RvdWJsZTtcbiAgdmFyIHJvdW5kID0gS290bGluLmtvdGxpbi5tYXRoLnJvdW5kXzE0ZHRoZSQ7XG4gIHZhciBTdHJpbmdCdWlsZGVyX2luaXRfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC5TdHJpbmdCdWlsZGVyX2luaXRfemEzbHBhJDtcbiAgdmFyIENvbGxlY3Rpb24gPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkNvbGxlY3Rpb247XG4gIHZhciBqc29uID0gS290bGluLmtvdGxpbi5qcy5qc29uX3B5eW8xOCQ7XG4gIHZhciBmaXJzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuZmlyc3RfMnAxZWZtJDtcbiAgdmFyIHRvU2V0XzAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLnRvU2V0X3VzMG1mdSQ7XG4gIHZhciB0cmltRW5kID0gS290bGluLmtvdGxpbi50ZXh0LnRyaW1FbmRfZ3cwMHZwJDtcbiAgdmFyIGxhc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmxhc3RfMnAxZWZtJDtcbiAgdmFyIHRyaW1JbmRlbnQgPSBLb3RsaW4ua290bGluLnRleHQudHJpbUluZGVudF9wZGwxdnokO1xuICBMaW5rVHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgTGlua1R5cGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua1R5cGU7XG4gIFRlc3RFbGVtZW50S2V5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRW51bS5wcm90b3R5cGUpO1xuICBUZXN0RWxlbWVudEtleS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXN0RWxlbWVudEtleTtcbiAgVGVzdFR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbnVtLnByb3RvdHlwZSk7XG4gIFRlc3RUeXBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRlc3RUeXBlO1xuICBUZXN0QXJlYS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgVGVzdEFyZWEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGVzdEFyZWE7XG4gIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbnVtLnByb3RvdHlwZSk7XG4gIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbjtcbiAgTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNb2RlO1xuICBOYXZpZ2F0aW9uVHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgTmF2aWdhdGlvblR5cGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTmF2aWdhdGlvblR5cGU7XG4gIGZ1bmN0aW9uIFNlY3Rpb25UZXN0TWFwKHNlY3Rpb25UZXN0TWFwKSB7XG4gICAgdGhpcy5zZWN0aW9uVGVzdE1hcCA9IHNlY3Rpb25UZXN0TWFwO1xuICB9XG4gIFNlY3Rpb25UZXN0TWFwLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NlY3Rpb25UZXN0TWFwJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBTcGVjRW50aXR5KCkge1xuICB9XG4gIFNwZWNFbnRpdHkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1NwZWNFbnRpdHknLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFNwZWNTZWN0aW9uKHNwZWNUZXN0cykge1xuICAgIHRoaXMuc3BlY1Rlc3RzX20xdjN4aCRfMCA9IHNwZWNUZXN0cztcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3BlY1NlY3Rpb24ucHJvdG90eXBlLCAnc3BlY1Rlc3RzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnNwZWNUZXN0c19tMXYzeGgkXzA7XG4gIH19KTtcbiAgU3BlY1NlY3Rpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU3BlY1NlY3Rpb24nLCBpbnRlcmZhY2VzOiBbU3BlY0VudGl0eV19O1xuICBmdW5jdGlvbiBTcGVjUGFyYWdyYXBoKHNwZWNTZWN0aW9uLCBwYXJhZ3JhcGgpIHtcbiAgICB0aGlzLnBhcmFncmFwaCA9IHBhcmFncmFwaDtcbiAgICB0aGlzLnNwZWNUZXN0c18xNW9udWEkXzAgPSBudWxsO1xuICAgIHZhciAkcmVjZWl2ZXIgPSBzcGVjU2VjdGlvbi5zcGVjVGVzdHM7XG4gICAgdmFyIGRlc3RpbmF0aW9uID0gTGlua2VkSGFzaE1hcF9pbml0KG1hcENhcGFjaXR5KCRyZWNlaXZlci5zaXplKSk7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9ICRyZWNlaXZlci5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyIHRtcCRfMCA9IGRlc3RpbmF0aW9uLnB1dF94d3pjOXAkO1xuICAgICAgdmFyIHRtcCRfMSA9IGVsZW1lbnQua2V5O1xuICAgICAgdmFyICRyZWNlaXZlcl8wID0gZWxlbWVudC52YWx1ZTtcbiAgICAgIHZhciBkZXN0aW5hdGlvbl8wID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICAgIHZhciB0bXAkXzI7XG4gICAgICB0bXAkXzIgPSAkcmVjZWl2ZXJfMC5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCRfMi5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRfMCA9IHRtcCRfMi5uZXh0KCk7XG4gICAgICAgIGlmIChlbGVtZW50XzAudGVzdFBsYWNlLnBhcmFncmFwaCA9PT0gdGhpcy5wYXJhZ3JhcGgpXG4gICAgICAgICAgZGVzdGluYXRpb25fMC5hZGRfMTFyYiQoZWxlbWVudF8wKTtcbiAgICAgIH1cbiAgICAgIHRtcCRfMC5jYWxsKGRlc3RpbmF0aW9uLCB0bXAkXzEsIGRlc3RpbmF0aW9uXzApO1xuICAgIH1cbiAgICB0aGlzLnNwZWNUZXN0c18xNW9udWEkXzAgPSBkZXN0aW5hdGlvbjtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3BlY1BhcmFncmFwaC5wcm90b3R5cGUsICdzcGVjVGVzdHMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3BlY1Rlc3RzXzE1b251YSRfMDtcbiAgfX0pO1xuICBTcGVjUGFyYWdyYXBoLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NwZWNQYXJhZ3JhcGgnLCBpbnRlcmZhY2VzOiBbU3BlY0VudGl0eV19O1xuICBmdW5jdGlvbiBTcGVjU2VudGVuY2Uoc3BlY1BhcmFncmFwaCwgc2VudGVuY2UpIHtcbiAgICB0aGlzLnNwZWNUZXN0c19hNWhmcTckXzAgPSBudWxsO1xuICAgIHZhciAkcmVjZWl2ZXIgPSBzcGVjUGFyYWdyYXBoLnNwZWNUZXN0cztcbiAgICB2YXIgZGVzdGluYXRpb24gPSBMaW5rZWRIYXNoTWFwX2luaXQobWFwQ2FwYWNpdHkoJHJlY2VpdmVyLnNpemUpKTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gJHJlY2VpdmVyLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICB2YXIgdG1wJF8wID0gZGVzdGluYXRpb24ucHV0X3h3emM5cCQ7XG4gICAgICB2YXIgdG1wJF8xID0gZWxlbWVudC5rZXk7XG4gICAgICB2YXIgJHJlY2VpdmVyXzAgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uXzAgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgICAgdmFyIHRtcCRfMjtcbiAgICAgIHRtcCRfMiA9ICRyZWNlaXZlcl8wLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8yLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudF8wID0gdG1wJF8yLm5leHQoKTtcbiAgICAgICAgaWYgKGVsZW1lbnRfMC50ZXN0UGxhY2Uuc2VudGVuY2UgPT09IHNlbnRlbmNlKVxuICAgICAgICAgIGRlc3RpbmF0aW9uXzAuYWRkXzExcmIkKGVsZW1lbnRfMCk7XG4gICAgICB9XG4gICAgICB0bXAkXzAuY2FsbChkZXN0aW5hdGlvbiwgdG1wJF8xLCBkZXN0aW5hdGlvbl8wKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjVGVzdHNfYTVoZnE3JF8wID0gZGVzdGluYXRpb247XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwZWNTZW50ZW5jZS5wcm90b3R5cGUsICdzcGVjVGVzdHMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3BlY1Rlc3RzX2E1aGZxNyRfMDtcbiAgfX0pO1xuICBTcGVjU2VudGVuY2UucHJvdG90eXBlLmdldFRlc3RzX3MyN2JlbCQgPSBmdW5jdGlvbiAodGVzdEFyZWEpIHtcbiAgICB2YXIgdGVzdHMgPSB0aGlzLnNwZWNUZXN0cy5nZXRfMTFyYiQodGVzdEFyZWEpO1xuICAgIHJldHVybiB0ZXN0cyA9PSBudWxsIHx8IHRlc3RzLmlzRW1wdHkoKSA/IG51bGwgOiB0ZXN0cztcbiAgfTtcbiAgU3BlY1NlbnRlbmNlLnByb3RvdHlwZS5nZXRUZXN0c19hc2d1czIkID0gZnVuY3Rpb24gKHRlc3RBcmVhLCB0ZXN0VHlwZSkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciB0bXAkXzA7XG4gICAgaWYgKCh0bXAkID0gdGhpcy5nZXRUZXN0c19zMjdiZWwkKHRlc3RBcmVhKSkgIT0gbnVsbCkge1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICAgIHZhciB0bXAkXzE7XG4gICAgICB0bXAkXzEgPSB0bXAkLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIGlmIChlbGVtZW50LnRlc3RQbGFjZS50ZXN0VHlwZSA9PT0gdGVzdFR5cGUpXG4gICAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgdG1wJF8wID0gZGVzdGluYXRpb247XG4gICAgfVxuICAgICBlbHNlXG4gICAgICB0bXAkXzAgPSBudWxsO1xuICAgIHZhciB0ZXN0cyA9IHRtcCRfMDtcbiAgICByZXR1cm4gdGVzdHMgPT0gbnVsbCB8fCB0ZXN0cy5pc0VtcHR5KCkgPyBudWxsIDogdGVzdHM7XG4gIH07XG4gIFNwZWNTZW50ZW5jZS5wcm90b3R5cGUuZ2V0VGVzdHNfZGxoYjQxJCA9IGZ1bmN0aW9uICh0ZXN0QXJlYSwgdGVzdFR5cGUsIGxpbmtUeXBlKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIHRtcCRfMDtcbiAgICBpZiAoKHRtcCQgPSB0aGlzLmdldFRlc3RzX2FzZ3VzMiQodGVzdEFyZWEsIHRlc3RUeXBlKSkgIT0gbnVsbCkge1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICAgIHZhciB0bXAkXzE7XG4gICAgICB0bXAkXzEgPSB0bXAkLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIGlmIChlbGVtZW50LnRlc3RJbmZvLmxpbmtUeXBlID09PSBsaW5rVHlwZSlcbiAgICAgICAgICBkZXN0aW5hdGlvbi5hZGRfMTFyYiQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgICB0bXAkXzAgPSBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgIGVsc2VcbiAgICAgIHRtcCRfMCA9IG51bGw7XG4gICAgdmFyIHRlc3RzID0gdG1wJF8wO1xuICAgIHJldHVybiB0ZXN0cyA9PSBudWxsIHx8IHRlc3RzLmlzRW1wdHkoKSA/IG51bGwgOiB0ZXN0cztcbiAgfTtcbiAgU3BlY1NlbnRlbmNlLnByb3RvdHlwZS5nZXRUZXN0Xzh4MW41OSQgPSBmdW5jdGlvbiAodGVzdEFyZWEsIHRlc3RUeXBlLCBsaW5rVHlwZSwgdGVzdE51bWJlcikge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciB0bXAkXzA7XG4gICAgaWYgKCh0bXAkID0gdGhpcy5nZXRUZXN0c19kbGhiNDEkKHRlc3RBcmVhLCB0ZXN0VHlwZSwgbGlua1R5cGUpKSAhPSBudWxsKSB7XG4gICAgICB2YXIgZmlyc3RPck51bGwkcmVzdWx0O1xuICAgICAgZmlyc3RPck51bGwkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCRfMTtcbiAgICAgICAgdG1wJF8xID0gdG1wJC5pdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdG1wJF8xLm5leHQoKTtcbiAgICAgICAgICBpZiAoZWxlbWVudC50ZXN0SW5mby50ZXN0TnVtYmVyID09PSB0ZXN0TnVtYmVyKSB7XG4gICAgICAgICAgICBmaXJzdE9yTnVsbCRyZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgICAgYnJlYWsgZmlyc3RPck51bGwkYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpcnN0T3JOdWxsJHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHRtcCRfMCA9IGZpcnN0T3JOdWxsJHJlc3VsdDtcbiAgICB9XG4gICAgIGVsc2VcbiAgICAgIHRtcCRfMCA9IG51bGw7XG4gICAgcmV0dXJuIHRtcCRfMDtcbiAgfTtcbiAgU3BlY1NlbnRlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NwZWNTZW50ZW5jZScsIGludGVyZmFjZXM6IFtTcGVjRW50aXR5XX07XG4gIGZ1bmN0aW9uIFNwZWNUZXN0KHRlc3RJbmZvLCB0ZXN0UGxhY2UsIGNvbnRlbnQsIHRlc3RBcmVhKSB7XG4gICAgdGhpcy50ZXN0SW5mbyA9IHRlc3RJbmZvO1xuICAgIHRoaXMudGVzdFBsYWNlID0gdGVzdFBsYWNlO1xuICAgIHRoaXMudGVzdENhc2VzID0gdGVzdEFyZWEucGFyc2VUZXN0XzYxenBvZSQoY29udGVudCk7XG4gIH1cbiAgU3BlY1Rlc3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU3BlY1Rlc3QnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFRlc3RDYXNlKGNvZGUsIGluZm9FbGVtZW50cykge1xuICAgIGlmIChpbmZvRWxlbWVudHMgPT09IHZvaWQgMClcbiAgICAgIGluZm9FbGVtZW50cyA9IG51bGw7XG4gICAgdGhpcy5jb2RlID0gY29kZTtcbiAgfVxuICBUZXN0Q2FzZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUZXN0Q2FzZScsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gVGVzdFBsYWNlKHBhcmFncmFwaCwgdGVzdFR5cGUsIHNlbnRlbmNlKSB7XG4gICAgdGhpcy5wYXJhZ3JhcGggPSBwYXJhZ3JhcGg7XG4gICAgdGhpcy50ZXN0VHlwZSA9IHRlc3RUeXBlO1xuICAgIHRoaXMuc2VudGVuY2UgPSBzZW50ZW5jZTtcbiAgfVxuICBUZXN0UGxhY2UuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdFBsYWNlJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBMaW5rVHlwZShuYW1lLCBvcmRpbmFsKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICB9XG4gIGZ1bmN0aW9uIExpbmtUeXBlX2luaXRGaWVsZHMoKSB7XG4gICAgTGlua1R5cGVfaW5pdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIExpbmtUeXBlJG1haW5faW5zdGFuY2UgPSBuZXcgTGlua1R5cGUoJ21haW4nLCAwKTtcbiAgICBMaW5rVHlwZSRwcmltYXJ5X2luc3RhbmNlID0gbmV3IExpbmtUeXBlKCdwcmltYXJ5JywgMSk7XG4gICAgTGlua1R5cGUkc2Vjb25kYXJ5X2luc3RhbmNlID0gbmV3IExpbmtUeXBlKCdzZWNvbmRhcnknLCAyKTtcbiAgfVxuICB2YXIgTGlua1R5cGUkbWFpbl9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gTGlua1R5cGUkbWFpbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBMaW5rVHlwZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIExpbmtUeXBlJG1haW5faW5zdGFuY2U7XG4gIH1cbiAgdmFyIExpbmtUeXBlJHByaW1hcnlfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIExpbmtUeXBlJHByaW1hcnlfZ2V0SW5zdGFuY2UoKSB7XG4gICAgTGlua1R5cGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBMaW5rVHlwZSRwcmltYXJ5X2luc3RhbmNlO1xuICB9XG4gIHZhciBMaW5rVHlwZSRzZWNvbmRhcnlfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIExpbmtUeXBlJHNlY29uZGFyeV9nZXRJbnN0YW5jZSgpIHtcbiAgICBMaW5rVHlwZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIExpbmtUeXBlJHNlY29uZGFyeV9pbnN0YW5jZTtcbiAgfVxuICBMaW5rVHlwZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMaW5rVHlwZScsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gIGZ1bmN0aW9uIExpbmtUeXBlJHZhbHVlcygpIHtcbiAgICByZXR1cm4gW0xpbmtUeXBlJG1haW5fZ2V0SW5zdGFuY2UoKSwgTGlua1R5cGUkcHJpbWFyeV9nZXRJbnN0YW5jZSgpLCBMaW5rVHlwZSRzZWNvbmRhcnlfZ2V0SW5zdGFuY2UoKV07XG4gIH1cbiAgTGlua1R5cGUudmFsdWVzID0gTGlua1R5cGUkdmFsdWVzO1xuICBmdW5jdGlvbiBMaW5rVHlwZSR2YWx1ZU9mKG5hbWUpIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ21haW4nOlxuICAgICAgICByZXR1cm4gTGlua1R5cGUkbWFpbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAncHJpbWFyeSc6XG4gICAgICAgIHJldHVybiBMaW5rVHlwZSRwcmltYXJ5X2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdzZWNvbmRhcnknOlxuICAgICAgICByZXR1cm4gTGlua1R5cGUkc2Vjb25kYXJ5X2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMuZW50aXR5LnRlc3QucGFyYW1ldGVycy5MaW5rVHlwZS4nICsgbmFtZSk7XG4gICAgfVxuICB9XG4gIExpbmtUeXBlLnZhbHVlT2ZfNjF6cG9lJCA9IExpbmtUeXBlJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5KG5hbWUsIG9yZGluYWwsIHZhbHVlKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLm5hbWUkID0gbmFtZTtcbiAgICB0aGlzLm9yZGluYWwkID0gb3JkaW5hbDtcbiAgfVxuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleV9pbml0RmllbGRzKCkge1xuICAgIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBUZXN0RWxlbWVudEtleSRTUEVDX1ZFUlNJT05faW5zdGFuY2UgPSBuZXcgVGVzdEVsZW1lbnRLZXkoJ1NQRUNfVkVSU0lPTicsIDAsICdzcGVjVmVyc2lvbicpO1xuICAgIFRlc3RFbGVtZW50S2V5JENBU0VTX05VTUJFUl9pbnN0YW5jZSA9IG5ldyBUZXN0RWxlbWVudEtleSgnQ0FTRVNfTlVNQkVSJywgMSwgJ2Nhc2VzTnVtYmVyJyk7XG4gICAgVGVzdEVsZW1lbnRLZXkkREVTQ1JJUFRJT05faW5zdGFuY2UgPSBuZXcgVGVzdEVsZW1lbnRLZXkoJ0RFU0NSSVBUSU9OJywgMiwgJ2Rlc2NyaXB0aW9uJyk7XG4gICAgVGVzdEVsZW1lbnRLZXkkUEFUSF9pbnN0YW5jZSA9IG5ldyBUZXN0RWxlbWVudEtleSgnUEFUSCcsIDMsICdwYXRoJyk7XG4gICAgVGVzdEVsZW1lbnRLZXkkVU5FWFBFQ1RFRF9CRUhBVklPVVJfaW5zdGFuY2UgPSBuZXcgVGVzdEVsZW1lbnRLZXkoJ1VORVhQRUNURURfQkVIQVZJT1VSJywgNCwgJ3VuZXhwZWN0ZWRCZWhhdmlvdXInKTtcbiAgICBUZXN0RWxlbWVudEtleSRMSU5LX1RZUEVfaW5zdGFuY2UgPSBuZXcgVGVzdEVsZW1lbnRLZXkoJ0xJTktfVFlQRScsIDUsICdsaW5rVHlwZScpO1xuICAgIFRlc3RFbGVtZW50S2V5JEhFTFBFUlNfaW5zdGFuY2UgPSBuZXcgVGVzdEVsZW1lbnRLZXkoJ0hFTFBFUlMnLCA2LCAnaGVscGVycycpO1xuICB9XG4gIHZhciBUZXN0RWxlbWVudEtleSRTUEVDX1ZFUlNJT05faW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5JFNQRUNfVkVSU0lPTl9nZXRJbnN0YW5jZSgpIHtcbiAgICBUZXN0RWxlbWVudEtleV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFRlc3RFbGVtZW50S2V5JFNQRUNfVkVSU0lPTl9pbnN0YW5jZTtcbiAgfVxuICB2YXIgVGVzdEVsZW1lbnRLZXkkQ0FTRVNfTlVNQkVSX2luc3RhbmNlO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSRDQVNFU19OVU1CRVJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVGVzdEVsZW1lbnRLZXlfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBUZXN0RWxlbWVudEtleSRDQVNFU19OVU1CRVJfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFRlc3RFbGVtZW50S2V5JERFU0NSSVBUSU9OX2luc3RhbmNlO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSRERVNDUklQVElPTl9nZXRJbnN0YW5jZSgpIHtcbiAgICBUZXN0RWxlbWVudEtleV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFRlc3RFbGVtZW50S2V5JERFU0NSSVBUSU9OX2luc3RhbmNlO1xuICB9XG4gIHZhciBUZXN0RWxlbWVudEtleSRQQVRIX2luc3RhbmNlO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSRQQVRIX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkUEFUSF9pbnN0YW5jZTtcbiAgfVxuICB2YXIgVGVzdEVsZW1lbnRLZXkkVU5FWFBFQ1RFRF9CRUhBVklPVVJfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5JFVORVhQRUNURURfQkVIQVZJT1VSX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkVU5FWFBFQ1RFRF9CRUhBVklPVVJfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFRlc3RFbGVtZW50S2V5JExJTktfVFlQRV9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVGVzdEVsZW1lbnRLZXkkTElOS19UWVBFX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkTElOS19UWVBFX2luc3RhbmNlO1xuICB9XG4gIHZhciBUZXN0RWxlbWVudEtleSRIRUxQRVJTX2luc3RhbmNlO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSRIRUxQRVJTX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkSEVMUEVSU19pbnN0YW5jZTtcbiAgfVxuICBUZXN0RWxlbWVudEtleS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUZXN0RWxlbWVudEtleScsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5JHZhbHVlcygpIHtcbiAgICByZXR1cm4gW1Rlc3RFbGVtZW50S2V5JFNQRUNfVkVSU0lPTl9nZXRJbnN0YW5jZSgpLCBUZXN0RWxlbWVudEtleSRDQVNFU19OVU1CRVJfZ2V0SW5zdGFuY2UoKSwgVGVzdEVsZW1lbnRLZXkkREVTQ1JJUFRJT05fZ2V0SW5zdGFuY2UoKSwgVGVzdEVsZW1lbnRLZXkkUEFUSF9nZXRJbnN0YW5jZSgpLCBUZXN0RWxlbWVudEtleSRVTkVYUEVDVEVEX0JFSEFWSU9VUl9nZXRJbnN0YW5jZSgpLCBUZXN0RWxlbWVudEtleSRMSU5LX1RZUEVfZ2V0SW5zdGFuY2UoKSwgVGVzdEVsZW1lbnRLZXkkSEVMUEVSU19nZXRJbnN0YW5jZSgpXTtcbiAgfVxuICBUZXN0RWxlbWVudEtleS52YWx1ZXMgPSBUZXN0RWxlbWVudEtleSR2YWx1ZXM7XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5JHZhbHVlT2YobmFtZSkge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnU1BFQ19WRVJTSU9OJzpcbiAgICAgICAgcmV0dXJuIFRlc3RFbGVtZW50S2V5JFNQRUNfVkVSU0lPTl9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnQ0FTRVNfTlVNQkVSJzpcbiAgICAgICAgcmV0dXJuIFRlc3RFbGVtZW50S2V5JENBU0VTX05VTUJFUl9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnREVTQ1JJUFRJT04nOlxuICAgICAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkREVTQ1JJUFRJT05fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ1BBVEgnOlxuICAgICAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkUEFUSF9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnVU5FWFBFQ1RFRF9CRUhBVklPVVInOlxuICAgICAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkVU5FWFBFQ1RFRF9CRUhBVklPVVJfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ0xJTktfVFlQRSc6XG4gICAgICAgIHJldHVybiBUZXN0RWxlbWVudEtleSRMSU5LX1RZUEVfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ0hFTFBFUlMnOlxuICAgICAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkSEVMUEVSU19nZXRJbnN0YW5jZSgpO1xuICAgICAgZGVmYXVsdDp0aHJvd0lTRSgnTm8gZW51bSBjb25zdGFudCBvcmcuamV0YnJhaW5zLmtvdGxpbi5zcGVjLmVudGl0eS50ZXN0LnBhcmFtZXRlcnMuVGVzdEVsZW1lbnRLZXkuJyArIG5hbWUpO1xuICAgIH1cbiAgfVxuICBUZXN0RWxlbWVudEtleS52YWx1ZU9mXzYxenBvZSQgPSBUZXN0RWxlbWVudEtleSR2YWx1ZU9mO1xuICBmdW5jdGlvbiBUZXN0SW5mbyhqc29uU3BlY1Rlc3RJbmZvLCB0ZXN0TnVtYmVyKSB7XG4gICAgdGhpcy50ZXN0TnVtYmVyID0gdGVzdE51bWJlcjtcbiAgICB0aGlzLnNwZWNWZXJzaW9uID0gbnVsbDtcbiAgICB0aGlzLmNhc2VzTnVtYmVyID0gMDtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICB0aGlzLnBhdGggPSBudWxsO1xuICAgIHRoaXMudW5leHBlY3RlZEJlaGF2aW91ciA9IGZhbHNlO1xuICAgIHRoaXMubGlua1R5cGUgPSBudWxsO1xuICAgIHRoaXMuaGVscGVycyA9IG51bGw7XG4gICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzIsIHRtcCRfMywgdG1wJF80LCB0bXAkXzUsIHRtcCRfNiwgdG1wJF83LCB0bXAkXzgsIHRtcCRfOSwgdG1wJF8xMCwgdG1wJF8xMTtcbiAgICB2YXIgcGFyc2UgPSBUZXN0SW5mb19pbml0JHBhcnNlKGpzb25TcGVjVGVzdEluZm8pO1xuICAgIHRoaXMuc3BlY1ZlcnNpb24gPSAodG1wJCA9IHBhcnNlKFRlc3RFbGVtZW50S2V5JFNQRUNfVkVSU0lPTl9nZXRJbnN0YW5jZSgpKSkgIT0gbnVsbCA/IHRtcCQgOiAnJztcbiAgICB0aGlzLmNhc2VzTnVtYmVyID0gKHRtcCRfMSA9ICh0bXAkXzAgPSBwYXJzZShUZXN0RWxlbWVudEtleSRDQVNFU19OVU1CRVJfZ2V0SW5zdGFuY2UoKSkpICE9IG51bGwgPyB0b0ludCh0bXAkXzApIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMSA6IDE7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9ICh0bXAkXzIgPSBwYXJzZShUZXN0RWxlbWVudEtleSRERVNDUklQVElPTl9nZXRJbnN0YW5jZSgpKSkgIT0gbnVsbCA/IHRtcCRfMiA6ICcnO1xuICAgIHRoaXMucGF0aCA9ICh0bXAkXzMgPSBwYXJzZShUZXN0RWxlbWVudEtleSRQQVRIX2dldEluc3RhbmNlKCkpKSAhPSBudWxsID8gdG1wJF8zIDogJyc7XG4gICAgdGhpcy51bmV4cGVjdGVkQmVoYXZpb3VyID0gKHRtcCRfNSA9ICh0bXAkXzQgPSBwYXJzZShUZXN0RWxlbWVudEtleSRVTkVYUEVDVEVEX0JFSEFWSU9VUl9nZXRJbnN0YW5jZSgpKSkgIT0gbnVsbCA/IHRvQm9vbGVhbih0bXAkXzQpIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfNSA6IGZhbHNlO1xuICAgIHRoaXMubGlua1R5cGUgPSAodG1wJF83ID0gKHRtcCRfNiA9IHBhcnNlKFRlc3RFbGVtZW50S2V5JExJTktfVFlQRV9nZXRJbnN0YW5jZSgpKSkgIT0gbnVsbCA/IExpbmtUeXBlJHZhbHVlT2YodG1wJF82KSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzcgOiBMaW5rVHlwZSRtYWluX2dldEluc3RhbmNlKCk7XG4gICAgdmFyIHRtcCRfMTI7XG4gICAgaWYgKCh0bXAkXzkgPSAodG1wJF84ID0gcGFyc2UoVGVzdEVsZW1lbnRLZXkkSEVMUEVSU19nZXRJbnN0YW5jZSgpKSkgIT0gbnVsbCA/IHNwbGl0KHRtcCRfOCwgWycsJ10pIDogbnVsbCkgIT0gbnVsbCkge1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXRfMChjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCh0bXAkXzksIDEwKSk7XG4gICAgICB2YXIgdG1wJF8xMztcbiAgICAgIHRtcCRfMTMgPSB0bXAkXzkuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkXzEzLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgaXRlbSA9IHRtcCRfMTMubmV4dCgpO1xuICAgICAgICB2YXIgdG1wJF8xNDtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKHRyaW0oS290bGluLmlzQ2hhclNlcXVlbmNlKHRtcCRfMTQgPSBpdGVtKSA/IHRtcCRfMTQgOiB0aHJvd0NDRSgpKS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHRtcCRfMTIgPSBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgIGVsc2VcbiAgICAgIHRtcCRfMTIgPSBudWxsO1xuICAgIHRoaXMuaGVscGVycyA9ICh0bXAkXzExID0gKHRtcCRfMTAgPSB0bXAkXzEyKSAhPSBudWxsID8gdG9TZXQodG1wJF8xMCkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8xMSA6IGVtcHR5U2V0KCk7XG4gIH1cbiAgZnVuY3Rpb24gVGVzdEluZm9faW5pdCRwYXJzZShjbG9zdXJlJGpzb25TcGVjVGVzdEluZm8pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRlc3RFbGVtZW50S2V5KSB7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgICAgcmV0dXJuICh0bXAkXzAgPSAodG1wJCA9IGNsb3N1cmUkanNvblNwZWNUZXN0SW5mby5nZXRfMTFyYiQodGVzdEVsZW1lbnRLZXkudmFsdWUpKSAhPSBudWxsID8gdG1wJC5wcmltaXRpdmUgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wLmNvbnRlbnQgOiBudWxsO1xuICAgIH07XG4gIH1cbiAgVGVzdEluZm8uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdEluZm8nLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFRlc3RUeXBlKG5hbWUsIG9yZGluYWwsIHNob3J0TmFtZSkge1xuICAgIEVudW0uY2FsbCh0aGlzKTtcbiAgICB0aGlzLnNob3J0TmFtZSA9IHNob3J0TmFtZTtcbiAgICB0aGlzLm5hbWUkID0gbmFtZTtcbiAgICB0aGlzLm9yZGluYWwkID0gb3JkaW5hbDtcbiAgfVxuICBmdW5jdGlvbiBUZXN0VHlwZV9pbml0RmllbGRzKCkge1xuICAgIFRlc3RUeXBlX2luaXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBUZXN0VHlwZSRQb3NpdGl2ZV9pbnN0YW5jZSA9IG5ldyBUZXN0VHlwZSgnUG9zaXRpdmUnLCAwLCAncG9zJyk7XG4gICAgVGVzdFR5cGUkTmVnYXRpdmVfaW5zdGFuY2UgPSBuZXcgVGVzdFR5cGUoJ05lZ2F0aXZlJywgMSwgJ25lZycpO1xuICAgIFRlc3RUeXBlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIHZhciBUZXN0VHlwZSRQb3NpdGl2ZV9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVGVzdFR5cGUkUG9zaXRpdmVfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVGVzdFR5cGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBUZXN0VHlwZSRQb3NpdGl2ZV9pbnN0YW5jZTtcbiAgfVxuICB2YXIgVGVzdFR5cGUkTmVnYXRpdmVfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RUeXBlJE5lZ2F0aXZlX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RUeXBlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdFR5cGUkTmVnYXRpdmVfaW5zdGFuY2U7XG4gIH1cbiAgVGVzdFR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfTtcbiAgZnVuY3Rpb24gVGVzdFR5cGUkQ29tcGFuaW9uKCkge1xuICAgIFRlc3RUeXBlJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgVGVzdFR5cGUkQ29tcGFuaW9uLnByb3RvdHlwZS5nZXRCeVNob3J0TmFtZV82MXpwb2UkID0gZnVuY3Rpb24gKHNob3J0TmFtZSkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciAkcmVjZWl2ZXIgPSBUZXN0VHlwZSR2YWx1ZXMoKTtcbiAgICB2YXIgZmlyc3RPck51bGwkcmVzdWx0O1xuICAgIGZpcnN0T3JOdWxsJGJyZWFrOiBkbyB7XG4gICAgICB2YXIgdG1wJF8wO1xuICAgICAgZm9yICh0bXAkXzAgPSAwOyB0bXAkXzAgIT09ICRyZWNlaXZlci5sZW5ndGg7ICsrdG1wJF8wKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gJHJlY2VpdmVyW3RtcCRfMF07XG4gICAgICAgIGlmIChlcXVhbHMoZWxlbWVudC5zaG9ydE5hbWUsIHNob3J0TmFtZSkpIHtcbiAgICAgICAgICBmaXJzdE9yTnVsbCRyZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgIGJyZWFrIGZpcnN0T3JOdWxsJGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmaXJzdE9yTnVsbCRyZXN1bHQgPSBudWxsO1xuICAgIH1cbiAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICB0bXAkID0gZmlyc3RPck51bGwkcmVzdWx0O1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KCdUZXN0VHlwZSAnICsgc2hvcnROYW1lICsgJyBpcyBub3QgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIFRlc3RUeXBlJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgVGVzdFR5cGUkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVGVzdFR5cGUkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RUeXBlX2luaXRGaWVsZHMoKTtcbiAgICBpZiAoVGVzdFR5cGUkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgVGVzdFR5cGUkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBUZXN0VHlwZSRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgVGVzdFR5cGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdFR5cGUnLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBUZXN0VHlwZSR2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIFtUZXN0VHlwZSRQb3NpdGl2ZV9nZXRJbnN0YW5jZSgpLCBUZXN0VHlwZSROZWdhdGl2ZV9nZXRJbnN0YW5jZSgpXTtcbiAgfVxuICBUZXN0VHlwZS52YWx1ZXMgPSBUZXN0VHlwZSR2YWx1ZXM7XG4gIGZ1bmN0aW9uIFRlc3RUeXBlJHZhbHVlT2YobmFtZSkge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnUG9zaXRpdmUnOlxuICAgICAgICByZXR1cm4gVGVzdFR5cGUkUG9zaXRpdmVfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ05lZ2F0aXZlJzpcbiAgICAgICAgcmV0dXJuIFRlc3RUeXBlJE5lZ2F0aXZlX2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMuZW50aXR5LnRlc3QucGFyYW1ldGVycy5UZXN0VHlwZS4nICsgbmFtZSk7XG4gICAgfVxuICB9XG4gIFRlc3RUeXBlLnZhbHVlT2ZfNjF6cG9lJCA9IFRlc3RUeXBlJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1BhcnNlcigpIHtcbiAgICBTcGVjVGVzdHNQYXJzZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuU0lOR0xFX0xJTkVfQ09NTUVOVF9SRUdFWF8wID0gJ1xcXFwvXFxcXC9cXFxccyp7MX0nO1xuICAgIHRoaXMuTVVMVElMSU5FX0NPTU1FTlRfUkVHRVhfMCA9ICdcXFxcL1xcXFwqXFxcXHMrP3sxfVxcXFxzK1xcXFwqXFxcXC8oPzpcXFxcbikqJztcbiAgICB0aGlzLlRFU1RfQ0FTRV9DT0RFX1JFR0VYXzAgPSAnKD88ezF9PltcXFxcc1xcXFxTXSo/KSc7XG4gICAgdGhpcy5BU1RFUklTS19SRUdFWF8wID0gJ1xcXFwqJztcbiAgICB0aGlzLnRlc3RDYXNlSGVhZGVyUmVnZXhfMCA9IGZvcm1hdCh0aGlzLlNJTkdMRV9MSU5FX0NPTU1FTlRfUkVHRVhfMCwgWydbXFxcXHdcXFxcc10rVEVTVENBU0UgTlVNQkVSJ10pICsgJ3wnICsgZm9ybWF0KHRoaXMuTVVMVElMSU5FX0NPTU1FTlRfUkVHRVhfMCwgWycgXFxcXCogW1xcXFx3XFxcXHNdK1RFU1RDQVNFIE5VTUJFUjpbXFxcXHNcXFxcU10qPyddKTtcbiAgICB0aGlzLnRlc3RDYXNlSW5mb0VsZW1lbnRzUmVnZXhfMCA9ICcoPzx7MX0+ezJ9VEVTVENBU0UgTlVNQkVSOnszfSo/XFxcXG4pJztcbiAgICB0aGlzLnRlc3RDYXNlSW5mb1JlZ2V4XzAgPSB0aGlzLlRFU1RfQ0FTRV9DT0RFX1JFR0VYXzAgKyAnKD88ezJ9Pig/OicgKyB0aGlzLnRlc3RDYXNlSGVhZGVyUmVnZXhfMCArICcpfCcgKyAnJCcgKyAnKSc7XG4gICAgdGhpcy50ZXN0Q2FzZUluZm9TaW5nbGVMaW5lUmVnZXhfMCA9IGZvcm1hdCh0aGlzLlNJTkdMRV9MSU5FX0NPTU1FTlRfUkVHRVhfMCwgW2Zvcm1hdCh0aGlzLnRlc3RDYXNlSW5mb0VsZW1lbnRzUmVnZXhfMCwgWydpbmZvRWxlbWVudHNTTCcsICcnLCAnXFxcXHMqLiddKV0pICsgZm9ybWF0KHRoaXMudGVzdENhc2VJbmZvUmVnZXhfMCwgWydjb2RlU0wnLCAnbmV4dERpcmVjdGl2ZVNMJ10pO1xuICAgIHRoaXMudGVzdENhc2VJbmZvTXVsdGlsaW5lUmVnZXhfMCA9IGZvcm1hdCh0aGlzLk1VTFRJTElORV9DT01NRU5UX1JFR0VYXzAsIFtmb3JtYXQodGhpcy50ZXN0Q2FzZUluZm9FbGVtZW50c1JlZ2V4XzAsIFsnaW5mb0VsZW1lbnRzTUwnLCAnIFxcXFwqICcsICdbXFxcXHNcXFxcU10nXSldKSArIGZvcm1hdCh0aGlzLnRlc3RDYXNlSW5mb1JlZ2V4XzAsIFsnY29kZU1MJywgJ25leHREaXJlY3RpdmVNTCddKTtcbiAgICB0aGlzLnRlc3RDYXNlSW5mb1BhdHRlcm5fOGJlMnZ4JCA9IFJlZ2V4X2luaXQoZm9ybWF0KCcoPzp7MX0pfCg/OnsyfSknLCBbdGhpcy50ZXN0Q2FzZUluZm9TaW5nbGVMaW5lUmVnZXhfMCwgdGhpcy50ZXN0Q2FzZUluZm9NdWx0aWxpbmVSZWdleF8wXSkpO1xuICAgIHRoaXMudGVzdEluZm9FbGVtZW50UGF0dGVybl8wID0gUmVnZXhfaW5pdF8wKCcoPzogXFxcXCogKT8oPzxuYW1lPltBLVogXSs/KSg/OjpcXFxccyooPzx2YWx1ZT4uKj8pKT9cXFxcbicsIFJlZ2V4T3B0aW9uLk1VTFRJTElORSk7XG4gICAgdGhpcy50ZXN0VHlwZVJlZ2V4XzAgPSAnKD88dGVzdFR5cGU+UE9TSVRJVkV8TkVHQVRJVkUpJztcbiAgICB0aGlzLnRlc3RBcmVhUmVnZXhfMCA9ICcoPzx0ZXN0QXJlYT5QU0l8RElBR05PU1RJQ1N8Q09ERUdFTiBCT1gpJztcbiAgICB0aGlzLnRlc3RJbmZvUGF0dGVybl84YmUydngkID0gUmVnZXhfaW5pdChmb3JtYXQodGhpcy5NVUxUSUxJTkVfQ09NTUVOVF9SRUdFWF8wLCBbZm9ybWF0KCd7MX0gS09UTElOIHsyfSBTUEVDIFRFU1QgXFxcXCh7M31cXFxcKVxcXFxuKD88aW5mb0VsZW1lbnRzPltcXFxcc1xcXFxTXSo/XFxcXG4pJywgW3RoaXMuQVNURVJJU0tfUkVHRVhfMCwgdGhpcy50ZXN0QXJlYVJlZ2V4XzAsIHRoaXMudGVzdFR5cGVSZWdleF8wXSldKSk7XG4gICAgdGhpcy5pbXBsZW1lbnRhdGlvblRlc3RJbmZvUGF0dGVybiA9IFJlZ2V4X2luaXQoZm9ybWF0KHRoaXMuTVVMVElMSU5FX0NPTU1FTlRfUkVHRVhfMCwgWydcXFxcKlxcXFxzK1JFTEVWQU5UIFNQRUMgU0VOVEVOQ0VTIFxcXFwoc3BlYyB2ZXJzaW9uOiAoPzxzcGVjVmVyc2lvbj5cXFxcZCtcXFxcLlswLTldXFxcXGQqXFxcXC1bMC05XVxcXFxkKiksIHRlc3QgdHlwZTogKD88dGVzdFR5cGU+cG9zfG5lZylcXFxcKTooPzx0ZXN0U3BlY1NlbnRlbmNlTGlzdD4oXFxcXG5cXFxccytcXFxcKlxcXFxzKy1cXFxccysuKj8pKyknXSkpO1xuICAgIHRoaXMudG9wTGV2ZWxEaXJlY3RpdmVQYXR0ZXJuID0gUmVnZXhfaW5pdCgnXig/Oi8vLio/XFxcXG4pKycpO1xuICAgIHRoaXMuZGlhZ25vc3RpY1RhZ1JlZ2V4cF84YmUydngkID0gUmVnZXhfaW5pdF8wKCcoPzo8IT4pfCg/OjwhKC4rPyhcXFxcKFwiLio/XCJcXFxcKSk/KCxcXFxccyopPykrPyE+KScsIFJlZ2V4T3B0aW9uLk1VTFRJTElORSk7XG4gIH1cbiAgU3BlY1Rlc3RzUGFyc2VyLnByb3RvdHlwZS5wYXJzZVRlc3RJbmZvRWxlbWVudHNfeTRwdXRiJCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgIHZhciB0ZXN0SW5mb0VsZW1lbnRzID0gTGlua2VkSGFzaE1hcF9pbml0XzAoKTtcbiAgICB2YXIgbWF0Y2hlcyA9IHRoaXMudGVzdEluZm9FbGVtZW50UGF0dGVybl8wLmZpbmRfOTA1YXp1JChkYXRhKTtcbiAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgd2hpbGUgKG1hdGNoZXMgIT0gbnVsbCkge1xuICAgICAgdG1wJF8wID0gKHRtcCQgPSBtYXRjaGVzLmdyb3Vwcy5nZXRfemEzbHBhJCgxKSkgIT0gbnVsbCA/IHRtcCQudmFsdWUgOiBudWxsO1xuICAgICAgaWYgKHRtcCRfMCA9PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIG5hbWUgPSB0bXAkXzA7XG4gICAgICB2YXIgdmFsdWUgPSAodG1wJF8xID0gbWF0Y2hlcy5ncm91cHMuZ2V0X3phM2xwYSQoMikpICE9IG51bGwgPyB0bXAkXzEudmFsdWUgOiBudWxsO1xuICAgICAgc3RhcnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb24gKyBtYXRjaGVzLnJhbmdlLmxhc3QgfCAwO1xuICAgICAgdGVzdEluZm9FbGVtZW50cy5wdXRfeHd6YzlwJChuYW1lLCB2YWx1ZSk7XG4gICAgICB2YXIgdG1wJF8yID0gdGhpcy50ZXN0SW5mb0VsZW1lbnRQYXR0ZXJuXzA7XG4gICAgICB2YXIgc3RhcnRJbmRleCA9IHN0YXJ0UG9zaXRpb247XG4gICAgICBtYXRjaGVzID0gdG1wJF8yLmZpbmRfOTA1YXp1JChkYXRhLnN1YnN0cmluZyhzdGFydEluZGV4KSk7XG4gICAgfVxuICAgIHJldHVybiB0ZXN0SW5mb0VsZW1lbnRzO1xuICB9O1xuICBTcGVjVGVzdHNQYXJzZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1NwZWNUZXN0c1BhcnNlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFNwZWNUZXN0c1BhcnNlcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1BhcnNlcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3BlY1Rlc3RzUGFyc2VyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3BlY1Rlc3RzUGFyc2VyKCk7XG4gICAgfVxuICAgIHJldHVybiBTcGVjVGVzdHNQYXJzZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gVGVzdEFyZWEobmFtZSwgb3JkaW5hbCwgcGF0aCwgZGVzY3JpcHRpb24sIHNob3J0TmFtZSkge1xuICAgIEVudW0uY2FsbCh0aGlzKTtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLnNob3J0TmFtZSA9IHNob3J0TmFtZTtcbiAgICB0aGlzLm5hbWUkID0gbmFtZTtcbiAgICB0aGlzLm9yZGluYWwkID0gb3JkaW5hbDtcbiAgfVxuICBmdW5jdGlvbiBUZXN0QXJlYV9pbml0RmllbGRzKCkge1xuICAgIFRlc3RBcmVhX2luaXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBUZXN0QXJlYSREaWFnbm9zdGljc19pbnN0YW5jZSA9IG5ldyBUZXN0QXJlYSgnRGlhZ25vc3RpY3MnLCAwLCAnZGlhZ25vc3RpY3MnLCAnRnJvbnQtZW5kIGRpYWdub3N0aWNzIHRlc3RzJywgJ2RpYWdub3N0aWNzJyk7XG4gICAgVGVzdEFyZWEkQ29kZWdlbkJveF9pbnN0YW5jZSA9IG5ldyBUZXN0QXJlYSgnQ29kZWdlbkJveCcsIDEsICdjb2RlZ2VuL2JveCcsICdDb2RlZ2VuIGJveCB0ZXN0cycsICdib3gnKTtcbiAgICBUZXN0QXJlYSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICB2YXIgVGVzdEFyZWEkRGlhZ25vc3RpY3NfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RBcmVhJERpYWdub3N0aWNzX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RBcmVhX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdEFyZWEkRGlhZ25vc3RpY3NfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFRlc3RBcmVhJENvZGVnZW5Cb3hfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RBcmVhJENvZGVnZW5Cb3hfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVGVzdEFyZWFfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBUZXN0QXJlYSRDb2RlZ2VuQm94X2luc3RhbmNlO1xuICB9XG4gIFRlc3RBcmVhLnByb3RvdHlwZS5wYXJzZVRlc3RfNjF6cG9lJCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgc3dpdGNoICh0aGlzLm5hbWUpIHtcbiAgICAgIGNhc2UgJ0NvZGVnZW5Cb3gnOlxuICAgICAgICB0bXAkID0gVGVzdEFyZWEkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkucGFyc2VDb2RlZ2VuQm94U3BlY1Rlc3RfMChkYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdEaWFnbm9zdGljcyc6XG4gICAgICAgIHRtcCQgPSBUZXN0QXJlYSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5wYXJzZURpYWdub3N0aWNzVGVzdF8wKGRhdGEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6dG1wJCA9IEtvdGxpbi5ub1doZW5CcmFuY2hNYXRjaGVkKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgZnVuY3Rpb24gVGVzdEFyZWEkQ29tcGFuaW9uKCkge1xuICAgIFRlc3RBcmVhJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5TUEVDX01PRFVMRV9ESVIgPSAnLy8gTU9EVUxFOic7XG4gICAgdGhpcy5TUEVDX0ZJTEVfRElSID0gJy8vIEZJTEU6JztcbiAgfVxuICBUZXN0QXJlYSRDb21wYW5pb24ucHJvdG90eXBlLnBhcnNlQ29kZWdlbkJveFNwZWNUZXN0XzAgPSBmdW5jdGlvbiAodGVzdEZpbGVDb2RlKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmdldFRlc3RDYXNlc0NvZGVfMCh0ZXN0RmlsZUNvZGUpO1xuICAgIHZhciB0ZXN0Q2FzZSA9IG5ldyBUZXN0Q2FzZShTcGVjVGVzdHNQYXJzZXJfZ2V0SW5zdGFuY2UoKS50ZXN0SW5mb1BhdHRlcm5fOGJlMnZ4JC5yZXBsYWNlX3gydXFldSQoZGF0YSwgJycpKTtcbiAgICByZXR1cm4gbGlzdE9mKHRlc3RDYXNlKTtcbiAgfTtcbiAgVGVzdEFyZWEkQ29tcGFuaW9uLnByb3RvdHlwZS5wYXJzZURpYWdub3N0aWNzVGVzdF8wID0gZnVuY3Rpb24gKHRlc3RGaWxlQ29kZSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMSwgdG1wJF8yLCB0bXAkXzMsIHRtcCRfNCwgdG1wJF81O1xuICAgIHZhciBkYXRhID0gdGhpcy5nZXRUZXN0Q2FzZXNDb2RlXzAodGVzdEZpbGVDb2RlKTtcbiAgICB2YXIgbGlzdCA9IEFycmF5TGlzdF9pbml0KCk7XG4gICAgdmFyIHRlc3RDYXNlTWF0Y2hlcyA9IFNwZWNUZXN0c1BhcnNlcl9nZXRJbnN0YW5jZSgpLnRlc3RDYXNlSW5mb1BhdHRlcm5fOGJlMnZ4JC5maW5kXzkwNWF6dSQoZGF0YSk7XG4gICAgdmFyIHN0YXJ0UG9zaXRpb24gPSAwO1xuICAgIHdoaWxlICh0ZXN0Q2FzZU1hdGNoZXMgIT0gbnVsbCkge1xuICAgICAgdmFyIGluZm9FbGVtZW50R3JvdXAgPSAodG1wJCA9IHRlc3RDYXNlTWF0Y2hlcy5ncm91cHMuZ2V0X3phM2xwYSQoMSkpICE9IG51bGwgPyB0bXAkIDogdGVzdENhc2VNYXRjaGVzLmdyb3Vwcy5nZXRfemEzbHBhJCg0KTtcbiAgICAgIHRtcCRfMCA9IGluZm9FbGVtZW50R3JvdXAgIT0gbnVsbCA/IGluZm9FbGVtZW50R3JvdXAudmFsdWUgOiBudWxsO1xuICAgICAgaWYgKHRtcCRfMCA9PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGluZm9FbGVtZW50cyA9IHRtcCRfMDtcbiAgICAgIHZhciBjb2RlR3JvdXAgPSAodG1wJF8xID0gdGVzdENhc2VNYXRjaGVzLmdyb3Vwcy5nZXRfemEzbHBhJCgyKSkgIT0gbnVsbCA/IHRtcCRfMSA6IHRlc3RDYXNlTWF0Y2hlcy5ncm91cHMuZ2V0X3phM2xwYSQoNSk7XG4gICAgICB0bXAkXzMgPSAodG1wJF8yID0gY29kZUdyb3VwICE9IG51bGwgPyBjb2RlR3JvdXAudmFsdWUgOiBudWxsKSAhPSBudWxsID8gU3BlY1Rlc3RzUGFyc2VyX2dldEluc3RhbmNlKCkuZGlhZ25vc3RpY1RhZ1JlZ2V4cF84YmUydngkLnJlcGxhY2VfeDJ1cWV1JCh0bXAkXzIsICcnKSA6IG51bGw7XG4gICAgICBpZiAodG1wJF8zID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgY29kZSA9IHRtcCRfMztcbiAgICAgIHRtcCRfNSA9ICh0bXAkXzQgPSB0ZXN0Q2FzZU1hdGNoZXMuZ3JvdXBzLmdldF96YTNscGEkKDMpKSAhPSBudWxsID8gdG1wJF80IDogdGVzdENhc2VNYXRjaGVzLmdyb3Vwcy5nZXRfemEzbHBhJCg2KTtcbiAgICAgIGlmICh0bXAkXzUgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciB0ZXN0Q2FzZU1hdGNoZXNHcm91cCA9IHRtcCRfNTtcbiAgICAgIHN0YXJ0UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uICsgKHRlc3RDYXNlTWF0Y2hlcy5yYW5nZS5sYXN0IC0gdGVzdENhc2VNYXRjaGVzR3JvdXAudmFsdWUubGVuZ3RoKSB8IDA7XG4gICAgICBpZiAoIWNvbnRhaW5zKGNvZGUsIHRoaXMuU1BFQ19GSUxFX0RJUikgJiYgIWNvbnRhaW5zKGNvZGUsIHRoaXMuU1BFQ19NT0RVTEVfRElSKSlcbiAgICAgICAgbGlzdC5hZGRfMTFyYiQobmV3IFRlc3RDYXNlKGNvZGUsIFNwZWNUZXN0c1BhcnNlcl9nZXRJbnN0YW5jZSgpLnBhcnNlVGVzdEluZm9FbGVtZW50c195NHB1dGIkKGluZm9FbGVtZW50cykpKTtcbiAgICAgIHZhciB0bXAkXzYgPSBTcGVjVGVzdHNQYXJzZXJfZ2V0SW5zdGFuY2UoKS50ZXN0Q2FzZUluZm9QYXR0ZXJuXzhiZTJ2eCQ7XG4gICAgICB2YXIgc3RhcnRJbmRleCA9IHN0YXJ0UG9zaXRpb247XG4gICAgICB0ZXN0Q2FzZU1hdGNoZXMgPSB0bXAkXzYuZmluZF85MDVhenUkKGRhdGEuc3Vic3RyaW5nKHN0YXJ0SW5kZXgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH07XG4gIFRlc3RBcmVhJENvbXBhbmlvbi5wcm90b3R5cGUuZ2V0VGVzdENhc2VzQ29kZV8wID0gZnVuY3Rpb24gKHRlc3RGaWxlQ29kZSkge1xuICAgIHZhciAkcmVjZWl2ZXIgPSBTcGVjVGVzdHNQYXJzZXJfZ2V0SW5zdGFuY2UoKS5kaWFnbm9zdGljVGFnUmVnZXhwXzhiZTJ2eCQucmVwbGFjZV94MnVxZXUkKHRlc3RGaWxlQ29kZSwgJycpO1xuICAgIHZhciAkcmVjZWl2ZXJfMCA9IFNwZWNUZXN0c1BhcnNlcl9nZXRJbnN0YW5jZSgpLmltcGxlbWVudGF0aW9uVGVzdEluZm9QYXR0ZXJuLnJlcGxhY2VfeDJ1cWV1JCgkcmVjZWl2ZXIsICcnKTtcbiAgICByZXR1cm4gU3BlY1Rlc3RzUGFyc2VyX2dldEluc3RhbmNlKCkudG9wTGV2ZWxEaXJlY3RpdmVQYXR0ZXJuLnJlcGxhY2VfeDJ1cWV1JCgkcmVjZWl2ZXJfMCwgJycpO1xuICB9O1xuICBUZXN0QXJlYSRDb21wYW5pb24ucHJvdG90eXBlLmdldEJ5U2hvcnROYW1lXzYxenBvZSQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciAkcmVjZWl2ZXIgPSBUZXN0QXJlYSR2YWx1ZXMoKTtcbiAgICB2YXIgdG1wJDtcbiAgICBmb3IgKHRtcCQgPSAwOyB0bXAkICE9PSAkcmVjZWl2ZXIubGVuZ3RoOyArK3RtcCQpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gJHJlY2VpdmVyW3RtcCRdO1xuICAgICAgaWYgKGVxdWFscyhlbGVtZW50LnNob3J0TmFtZSwgbmFtZSkpXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICB0aHJvdyBFeGNlcHRpb25faW5pdCgnVGVzdEFyZWEgYnkgc2hvcnQgbmFtZSAnICsgbmFtZSArICcgaXMgbm90IGZvdW5kJyk7XG4gIH07XG4gIFRlc3RBcmVhJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgVGVzdEFyZWEkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVGVzdEFyZWEkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RBcmVhX2luaXRGaWVsZHMoKTtcbiAgICBpZiAoVGVzdEFyZWEkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgVGVzdEFyZWEkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBUZXN0QXJlYSRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgVGVzdEFyZWEuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdEFyZWEnLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBUZXN0QXJlYSR2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIFtUZXN0QXJlYSREaWFnbm9zdGljc19nZXRJbnN0YW5jZSgpLCBUZXN0QXJlYSRDb2RlZ2VuQm94X2dldEluc3RhbmNlKCldO1xuICB9XG4gIFRlc3RBcmVhLnZhbHVlcyA9IFRlc3RBcmVhJHZhbHVlcztcbiAgZnVuY3Rpb24gVGVzdEFyZWEkdmFsdWVPZihuYW1lKSB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdEaWFnbm9zdGljcyc6XG4gICAgICAgIHJldHVybiBUZXN0QXJlYSREaWFnbm9zdGljc19nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnQ29kZWdlbkJveCc6XG4gICAgICAgIHJldHVybiBUZXN0QXJlYSRDb2RlZ2VuQm94X2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMuZW50aXR5LnRlc3QucGFyYW1ldGVycy50ZXN0QXJlYS5UZXN0QXJlYS4nICsgbmFtZSk7XG4gICAgfVxuICB9XG4gIFRlc3RBcmVhLnZhbHVlT2ZfNjF6cG9lJCA9IFRlc3RBcmVhJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyKCkge1xuICAgIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4obmFtZSwgb3JkaW5hbCkge1xuICAgIEVudW0uY2FsbCh0aGlzKTtcbiAgICB0aGlzLm5hbWUkID0gbmFtZTtcbiAgICB0aGlzLm9yZGluYWwkID0gb3JkaW5hbDtcbiAgfVxuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luX2luaXRGaWVsZHMoKSB7XG4gICAgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbl9pbml0RmllbGRzID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbiRTUEVDX1RFU1RfaW5zdGFuY2UgPSBuZXcgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbignU1BFQ19URVNUJywgMCk7XG4gICAgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbiRJTVBMRU1FTlRBVElPTl9URVNUX2luc3RhbmNlID0gbmV3IEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4oJ0lNUExFTUVOVEFUSU9OX1RFU1QnLCAxKTtcbiAgfVxuICB2YXIgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbiRTUEVDX1RFU1RfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4kU1BFQ19URVNUX2dldEluc3RhbmNlKCkge1xuICAgIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW5faW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luJFNQRUNfVEVTVF9pbnN0YW5jZTtcbiAgfVxuICB2YXIgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbiRJTVBMRU1FTlRBVElPTl9URVNUX2luc3RhbmNlO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luJElNUExFTUVOVEFUSU9OX1RFU1RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbl9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4kSU1QTEVNRU5UQVRJT05fVEVTVF9pbnN0YW5jZTtcbiAgfVxuICBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1Rlc3RPcmlnaW4nLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luJHZhbHVlcygpIHtcbiAgICByZXR1cm4gW0dpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4kU1BFQ19URVNUX2dldEluc3RhbmNlKCksIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4kSU1QTEVNRU5UQVRJT05fVEVTVF9nZXRJbnN0YW5jZSgpXTtcbiAgfVxuICBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luLnZhbHVlcyA9IEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4kdmFsdWVzO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luJHZhbHVlT2YobmFtZSkge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnU1BFQ19URVNUJzpcbiAgICAgICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4kU1BFQ19URVNUX2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdJTVBMRU1FTlRBVElPTl9URVNUJzpcbiAgICAgICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4kSU1QTEVNRU5UQVRJT05fVEVTVF9nZXRJbnN0YW5jZSgpO1xuICAgICAgZGVmYXVsdDp0aHJvd0lTRSgnTm8gZW51bSBjb25zdGFudCBvcmcuamV0YnJhaW5zLmtvdGxpbi5zcGVjLmxvYWRlci5HaXRodWJUZXN0c0xvYWRlci5UZXN0T3JpZ2luLicgKyBuYW1lKTtcbiAgICB9XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbi52YWx1ZU9mXzYxenBvZSQgPSBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbigpIHtcbiAgICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuUkFXX0dJVEhVQl9VUkxfMCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSmV0QnJhaW5zL2tvdGxpbic7XG4gICAgdGhpcy5TUEVDX1RFU1RfREFUQV9QQVRIXzAgPSAnY29tcGlsZXIvdGVzdHMtc3BlYy90ZXN0RGF0YSc7XG4gICAgdGhpcy5MSU5LRURfU1BFQ19URVNUU19GT0xERVJfMCA9ICdsaW5rZWQnO1xuICAgIHRoaXMuSEVMUEVSU19GT0xERVJfMCA9ICdoZWxwZXJzJztcbiAgICB0aGlzLkRFRkFVTFRfQlJBTkNIID0gJ3NwZWMtdGVzdHMnO1xuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuZ2V0QnJhbmNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiAodG1wJCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3BlYy10ZXN0cy1icmFuY2gnKSkgIT0gbnVsbCA/IHRtcCQgOiB0aGlzLkRFRkFVTFRfQlJBTkNIO1xuICB9O1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZEhlbHBlckZyb21SYXdHaXRodWIkbGFtYmRhJGxhbWJkYShjbG9zdXJlJHJlcXVlc3RSZWplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICBjbG9zdXJlJHJlcXVlc3RSZWplY3QoRXhjZXB0aW9uX2luaXRfMCgpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGxvYWRIZWxwZXJGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGFfMChjbG9zdXJlJHJlcXVlc3RSZXNvbHZlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNwb25zZSwgZikge1xuICAgICAgY2xvc3VyZSRyZXF1ZXN0UmVzb2x2ZSh0b1N0cmluZyhyZXNwb25zZSkpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZEhlbHBlckZyb21SYXdHaXRodWIkbGFtYmRhKGNsb3N1cmUkdGVzdEFyZWEsIGNsb3N1cmUkZmlsZU5hbWUsIHRoaXMkR2l0aHViVGVzdHNMb2FkZXIkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0UmVzb2x2ZSwgcmVxdWVzdFJlamVjdCkge1xuICAgICAgJG1vZHVsZSRqcXVlcnkuYWpheCh0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJC5nZXRGdWxsSGVscGVyUGF0aF8wKGNsb3N1cmUkdGVzdEFyZWEsIGNsb3N1cmUkZmlsZU5hbWUpLCB0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJC5qUXVlcnlBamF4U2V0dGluZ3NfMChHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZEhlbHBlckZyb21SYXdHaXRodWIkbGFtYmRhJGxhbWJkYShyZXF1ZXN0UmVqZWN0KSkpLnRoZW4oR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGxvYWRIZWxwZXJGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGFfMChyZXF1ZXN0UmVzb2x2ZSkpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmxvYWRIZWxwZXJGcm9tUmF3R2l0aHViX213cTV6aiQgPSBmdW5jdGlvbiAoZmlsZU5hbWUsIHRlc3RBcmVhKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkSGVscGVyRnJvbVJhd0dpdGh1YiRsYW1iZGEodGVzdEFyZWEsIGZpbGVOYW1lLCB0aGlzKSk7XG4gIH07XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGEoY2xvc3VyZSRyZXF1ZXN0UmVqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgY2xvc3VyZSRyZXF1ZXN0UmVqZWN0KEV4Y2VwdGlvbl9pbml0XzAoKSk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGFfMChjbG9zdXJlJHJlcXVlc3RSZXNvbHZlLCBjbG9zdXJlJHRlc3RJbmZvLCBjbG9zdXJlJHRlc3RQbGFjZSwgY2xvc3VyZSR0ZXN0QXJlYSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVzcG9uc2UsIGYpIHtcbiAgICAgIGNsb3N1cmUkcmVxdWVzdFJlc29sdmUobmV3IFNwZWNUZXN0KGNsb3N1cmUkdGVzdEluZm8sIGNsb3N1cmUkdGVzdFBsYWNlLCB0b1N0cmluZyhyZXNwb25zZSksIGNsb3N1cmUkdGVzdEFyZWEpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGxvYWRUZXN0RmlsZUZyb21SYXdHaXRodWIkbGFtYmRhKGNsb3N1cmUkcGF0aCwgdGhpcyRHaXRodWJUZXN0c0xvYWRlciQsIGNsb3N1cmUkdGVzdEluZm8sIGNsb3N1cmUkdGVzdFBsYWNlLCBjbG9zdXJlJHRlc3RBcmVhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXF1ZXN0UmVzb2x2ZSwgcmVxdWVzdFJlamVjdCkge1xuICAgICAgJG1vZHVsZSRqcXVlcnkuYWpheCh0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJC5nZXRGdWxsVGVzdFBhdGhfMChjbG9zdXJlJHBhdGgpLCB0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJC5qUXVlcnlBamF4U2V0dGluZ3NfMChHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhKHJlcXVlc3RSZWplY3QpKSkudGhlbihHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhXzAocmVxdWVzdFJlc29sdmUsIGNsb3N1cmUkdGVzdEluZm8sIGNsb3N1cmUkdGVzdFBsYWNlLCBjbG9zdXJlJHRlc3RBcmVhKSk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUubG9hZFRlc3RGaWxlRnJvbVJhd0dpdGh1Yl9zMmw4NjYkID0gZnVuY3Rpb24gKHBhdGgsIHRlc3RJbmZvLCB0ZXN0UGxhY2UsIHRlc3RBcmVhKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYShwYXRoLCB0aGlzLCB0ZXN0SW5mbywgdGVzdFBsYWNlLCB0ZXN0QXJlYSkpO1xuICB9O1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhJGxhbWJkYShpdCkge1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGEkbGFtYmRhXzAodGhpcyRHaXRodWJUZXN0c0xvYWRlciQsIGNsb3N1cmUkcmVzdWx0TWFwLCBjbG9zdXJlJGl0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNwb25zZSwgZikge1xuICAgICAgdmFyICRyZWNlaXZlciA9IGNsb3N1cmUkcmVzdWx0TWFwO1xuICAgICAgdmFyIGtleSA9IGNsb3N1cmUkaXQ7XG4gICAgICB2YXIgdmFsdWUgPSBuZXcgU2VjdGlvblRlc3RNYXAodGhpcyRHaXRodWJUZXN0c0xvYWRlciQucGFyc2VKc29uVGV4dF8wKHRvU3RyaW5nKHJlc3BvbnNlKSkpO1xuICAgICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKGtleSwgdmFsdWUpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhKGNsb3N1cmUkcmVzb2x2ZSwgY2xvc3VyZSRyZXN1bHRNYXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgY2xvc3VyZSRyZXNvbHZlKGNsb3N1cmUkcmVzdWx0TWFwKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGxvYWRUZXN0TWFwRmlsZUZyb21SYXdHaXRodWIkbGFtYmRhJGxhbWJkYV8wKGNsb3N1cmUkcmVzb2x2ZSwgY2xvc3VyZSRyZXN1bHRNYXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICBjbG9zdXJlJHJlc29sdmUoY2xvc3VyZSRyZXN1bHRNYXApO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEoY2xvc3VyZSR0ZXN0QXJlYXNUb0xvYWQsIGNsb3N1cmUkdGVzdFR5cGUsIGNsb3N1cmUkcGF0aCwgdGhpcyRHaXRodWJUZXN0c0xvYWRlciQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlc29sdmUsIGYpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHJlc3VsdE1hcCA9IExpbmtlZEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICB2YXIgdG1wJF8wID0gKHRtcCQgPSAkbW9kdWxlJGpxdWVyeSkud2hlbjtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBjbG9zdXJlJHRlc3RBcmVhc1RvTG9hZDtcbiAgICAgIHZhciByZXN1bHQgPSBMaW5rZWRIYXNoTWFwX2luaXQoY29lcmNlQXRMZWFzdChtYXBDYXBhY2l0eShjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXIsIDEwKSksIDE2KSk7XG4gICAgICB2YXIgdG1wJF8xO1xuICAgICAgdG1wJF8xID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIHZhciB0bXAkXzIgPSByZXN1bHQucHV0X3h3emM5cCQ7XG4gICAgICAgIHZhciBjbG9zdXJlJHRlc3RUeXBlXzAgPSBjbG9zdXJlJHRlc3RUeXBlO1xuICAgICAgICB2YXIgY2xvc3VyZSRwYXRoXzAgPSBjbG9zdXJlJHBhdGg7XG4gICAgICAgIHZhciB0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJF8wID0gdGhpcyRHaXRodWJUZXN0c0xvYWRlciQ7XG4gICAgICAgIHRtcCRfMi5jYWxsKHJlc3VsdCwgZWxlbWVudCwgJG1vZHVsZSRqcXVlcnkuYWpheCh0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJF8wLmdldEZ1bGxUZXN0TWFwUGF0aF8wKGNsb3N1cmUkdGVzdFR5cGVfMCwgZWxlbWVudCwgY2xvc3VyZSRwYXRoXzApLCB0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJF8wLmpRdWVyeUFqYXhTZXR0aW5nc18wKEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGEkbGFtYmRhKSkudGhlbihHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhJGxhbWJkYV8wKHRoaXMkR2l0aHViVGVzdHNMb2FkZXIkXzAsIHJlc3VsdE1hcCwgZWxlbWVudCkpKTtcbiAgICAgIH1cbiAgICAgIHRtcCRfMC5hcHBseSh0bXAkLCBjb3B5VG9BcnJheShyZXN1bHQudmFsdWVzKSkudGhlbihHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhKHJlc29sdmUsIHJlc3VsdE1hcCksIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGFfMChyZXNvbHZlLCByZXN1bHRNYXApKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5sb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViX3U4Ym9vcSQgPSBmdW5jdGlvbiAocGF0aCwgdGVzdFR5cGUsIHRlc3RBcmVhc1RvTG9hZCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEodGVzdEFyZWFzVG9Mb2FkLCB0ZXN0VHlwZSwgcGF0aCwgdGhpcykpO1xuICB9O1xuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmdldEZ1bGxUZXN0TWFwUGF0aF8wID0gZnVuY3Rpb24gKHRlc3RPcmlnaW4sIHRlc3RBcmVhLCBwYXRoKSB7XG4gICAgc3dpdGNoICh0ZXN0T3JpZ2luLm5hbWUpIHtcbiAgICAgIGNhc2UgJ1NQRUNfVEVTVCc6XG4gICAgICAgIHJldHVybiBmb3JtYXQoJ3sxfS97Mn0vezN9L3s0fS97NX0vezZ9JywgW3RoaXMuUkFXX0dJVEhVQl9VUkxfMCwgdGhpcy5nZXRCcmFuY2goKSwgdGhpcy5TUEVDX1RFU1RfREFUQV9QQVRIXzAsIHRlc3RBcmVhLnBhdGgsIHRoaXMuTElOS0VEX1NQRUNfVEVTVFNfRk9MREVSXzAsIHBhdGhdKTtcbiAgICAgIGNhc2UgJ0lNUExFTUVOVEFUSU9OX1RFU1QnOlxuICAgICAgICByZXR1cm4gZm9ybWF0KCd7MX0vezJ9L3szfScsIFt0aGlzLlJBV19HSVRIVUJfVVJMXzAsIHRoaXMuZ2V0QnJhbmNoKCksIHBhdGhdKTtcbiAgICAgIGRlZmF1bHQ6cmV0dXJuIEtvdGxpbi5ub1doZW5CcmFuY2hNYXRjaGVkKCk7XG4gICAgfVxuICB9O1xuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmdldEZ1bGxIZWxwZXJQYXRoXzAgPSBmdW5jdGlvbiAodGVzdEFyZWEsIGhlbHBlckZpbGUpIHtcbiAgICByZXR1cm4gZm9ybWF0KCd7MX0vezJ9L3szfS97NH0vezV9L3s2fScsIFt0aGlzLlJBV19HSVRIVUJfVVJMXzAsIHRoaXMuZ2V0QnJhbmNoKCksIHRoaXMuU1BFQ19URVNUX0RBVEFfUEFUSF8wLCB0ZXN0QXJlYS5wYXRoLCB0aGlzLkhFTFBFUlNfRk9MREVSXzAsIGhlbHBlckZpbGVdKTtcbiAgfTtcbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5nZXRGdWxsVGVzdFBhdGhfMCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgcmV0dXJuIGZvcm1hdCgnezF9L3syfS97M30nLCBbdGhpcy5SQVdfR0lUSFVCX1VSTF8wLCB0aGlzLmdldEJyYW5jaCgpLCBwYXRoXSk7XG4gIH07XG4gIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUucGFyc2VKc29uVGV4dF8wID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICByZXR1cm4gKG5ldyBKc29uKEpzb25Db25maWd1cmF0aW9uLkNvbXBhbmlvbi5TdGFibGUpKS5wYXJzZUpzb25fNjF6cG9lJCh0ZXh0KTtcbiAgfTtcbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGpRdWVyeUFqYXhTZXR0aW5ncyRPYmplY3RMaXRlcmFsKGNsb3N1cmUkcmVxdWVzdFJlamVjdCkge1xuICAgIHRoaXMuY2xvc3VyZSRyZXF1ZXN0UmVqZWN0ID0gY2xvc3VyZSRyZXF1ZXN0UmVqZWN0O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kalF1ZXJ5QWpheFNldHRpbmdzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnY2FjaGUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LCBzZXQ6IGZ1bmN0aW9uIChmKSB7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRqUXVlcnlBamF4U2V0dGluZ3MkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUsICd0eXBlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnR0VUJztcbiAgfSwgc2V0OiBmdW5jdGlvbiAoZikge1xuICB9fSk7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRqUXVlcnlBamF4U2V0dGluZ3MkT2JqZWN0TGl0ZXJhbCRnZXRfR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGpRdWVyeUFqYXhTZXR0aW5ncyRPYmplY3RMaXRlcmFsJGVycm9yJGxhbWJkYShjbG9zdXJlJHJlcXVlc3RSZWplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCwgZl8xKSB7XG4gICAgICBjbG9zdXJlJHJlcXVlc3RSZWplY3QoRXhjZXB0aW9uX2luaXRfMCgpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRqUXVlcnlBamF4U2V0dGluZ3MkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUsICdlcnJvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGpRdWVyeUFqYXhTZXR0aW5ncyRPYmplY3RMaXRlcmFsJGdldF9HaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kalF1ZXJ5QWpheFNldHRpbmdzJE9iamVjdExpdGVyYWwkZXJyb3IkbGFtYmRhKHRoaXMuY2xvc3VyZSRyZXF1ZXN0UmVqZWN0KTtcbiAgfX0pO1xuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kalF1ZXJ5QWpheFNldHRpbmdzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbXX07XG4gIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUualF1ZXJ5QWpheFNldHRpbmdzXzAgPSBmdW5jdGlvbiAocmVxdWVzdFJlamVjdCkge1xuICAgIHJldHVybiBuZXcgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGpRdWVyeUFqYXhTZXR0aW5ncyRPYmplY3RMaXRlcmFsKHJlcXVlc3RSZWplY3QpO1xuICB9O1xuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0dpdGh1YlRlc3RzTG9hZGVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBMb2FkZXJCeVRlc3RzTWFwRmlsZSgpIHtcbiAgICB0aGlzLnRlc3RzTWFwRmlsZW5hbWVfMCA9ICd0ZXN0c01hcC5qc29uJztcbiAgfVxuICBMb2FkZXJCeVRlc3RzTWFwRmlsZS5wcm90b3R5cGUubG9hZFRlc3RzTWFwRmlsZV8wID0gZnVuY3Rpb24gKHNlY3Rpb25zUGF0aCwgdGVzdEFyZWFzVG9Mb2FkKSB7XG4gICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmxvYWRUZXN0TWFwRmlsZUZyb21SYXdHaXRodWJfdThib29xJChzZWN0aW9uc1BhdGggKyAnLycgKyB0aGlzLnRlc3RzTWFwRmlsZW5hbWVfMCwgR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbiRTUEVDX1RFU1RfZ2V0SW5zdGFuY2UoKSwgYXNMaXN0KHRlc3RBcmVhc1RvTG9hZCkpO1xuICB9O1xuICBMb2FkZXJCeVRlc3RzTWFwRmlsZS5wcm90b3R5cGUuZ2V0UHJvbWlzZXNGb3JUZXN0RmlsZXNGcm9tVGVzdE1hcF8wID0gZnVuY3Rpb24gKHRlc3RzTWFwU2VjdGlvbiwgdGVzdEFyZWEpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzEsIHRtcCRfMjtcbiAgICB2YXIgcHJvbWlzZXMgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHRtcCQgPSB0ZXN0c01hcFNlY3Rpb24gIT0gbnVsbCA/IHRlc3RzTWFwU2VjdGlvbi5zZWN0aW9uVGVzdE1hcCA6IG51bGw7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvcHlUb0FycmF5KHByb21pc2VzKTtcbiAgICB9XG4gICAgdmFyIHRlc3RzTWFwID0gdG1wJDtcbiAgICB0bXAkXzAgPSB0ZXN0c01hcC5qc29uT2JqZWN0LmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgdmFyIHRtcCRfMyA9IHRtcCRfMC5uZXh0KCk7XG4gICAgICB2YXIgcGFyYWdyYXBoID0gdG1wJF8zLmtleTtcbiAgICAgIHZhciB0ZXN0c0J5UGFyYWdyYXBocyA9IHRtcCRfMy52YWx1ZTtcbiAgICAgIHRtcCRfMSA9IHRlc3RzQnlQYXJhZ3JhcGhzLmpzb25PYmplY3QuZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCRfMS5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIHRtcCRfNCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIHZhciB0ZXN0VHlwZSA9IHRtcCRfNC5rZXk7XG4gICAgICAgIHZhciB0ZXN0c0J5VHlwZXMgPSB0bXAkXzQudmFsdWU7XG4gICAgICAgIHRtcCRfMiA9IHRlc3RzQnlUeXBlcy5qc29uT2JqZWN0LmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCRfMi5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgdG1wJF81ID0gdG1wJF8yLm5leHQoKTtcbiAgICAgICAgICB2YXIgdGVzdFNlbnRlbmNlID0gdG1wJF81LmtleTtcbiAgICAgICAgICB2YXIgdGVzdHNCeVNlbnRlbmNlcyA9IHRtcCRfNS52YWx1ZTtcbiAgICAgICAgICB2YXIgdG1wJF82LCB0bXAkXzBfMDtcbiAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgIHRtcCRfNiA9IHRlc3RzQnlTZW50ZW5jZXMuanNvbkFycmF5Lml0ZXJhdG9yKCk7XG4gICAgICAgICAgbG9vcF9sYWJlbDogd2hpbGUgKHRtcCRfNi5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdG1wJF82Lm5leHQoKTtcbiAgICAgICAgICAgIHZhciBpID0gY2hlY2tJbmRleE92ZXJmbG93KCh0bXAkXzBfMCA9IGluZGV4LCBpbmRleCA9IHRtcCRfMF8wICsgMSB8IDAsIHRtcCRfMF8wKSk7XG4gICAgICAgICAgICBhY3Rpb24kYnJlYWs6IGRvIHtcbiAgICAgICAgICAgICAgdmFyIHRtcCRfNywgdG1wJF84LCB0bXAkXzk7XG4gICAgICAgICAgICAgIHRtcCRfOSA9ICh0bXAkXzggPSAodG1wJF83ID0gaXRlbS5qc29uT2JqZWN0LmdldF8xMXJiJCgncGF0aCcpKSAhPSBudWxsID8gdG1wJF83LnByaW1pdGl2ZSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzguY29udGVudCA6IG51bGw7XG4gICAgICAgICAgICAgIGlmICh0bXAkXzkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJyZWFrIGFjdGlvbiRicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgdGVzdEZpbGVQYXRoID0gdG1wJF85O1xuICAgICAgICAgICAgICB2YXIgdGVzdEVsZW1lbnRJbmZvID0gbmV3IFRlc3RJbmZvKGl0ZW0uanNvbk9iamVjdCwgaSArIDEgfCAwKTtcbiAgICAgICAgICAgICAgdmFyIHRlc3RQYXRoID0gbmV3IFRlc3RQbGFjZSh0b0ludChwYXJhZ3JhcGgpLCBUZXN0VHlwZSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRCeVNob3J0TmFtZV82MXpwb2UkKHRlc3RUeXBlKSwgdG9JbnQodGVzdFNlbnRlbmNlKSk7XG4gICAgICAgICAgICAgIHByb21pc2VzLmFkZF8xMXJiJChHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5sb2FkVGVzdEZpbGVGcm9tUmF3R2l0aHViX3MybDg2NiQodGVzdEZpbGVQYXRoLCB0ZXN0RWxlbWVudEluZm8sIHRlc3RQYXRoLCB0ZXN0QXJlYSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3B5VG9BcnJheShwcm9taXNlcyk7XG4gIH07XG4gIGZ1bmN0aW9uIExvYWRlckJ5VGVzdHNNYXBGaWxlJGxvYWRUZXN0RmlsZXMkbGFtYmRhJGxhbWJkYShjbG9zdXJlJHJlc3VsdE1hcCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHJldHVybiBuZXcgU3BlY1NlY3Rpb24oY2xvc3VyZSRyZXN1bHRNYXApO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gTG9hZGVyQnlUZXN0c01hcEZpbGUkbG9hZFRlc3RGaWxlcyRsYW1iZGEoY2xvc3VyZSR0ZXN0QXJlYXNUb0xvYWQsIHRoaXMkTG9hZGVyQnlUZXN0c01hcEZpbGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNlY3Rpb25UZXN0TWFwcykge1xuICAgICAgdmFyIHJlc3VsdE1hcCA9IExpbmtlZEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gYXNMaXN0KGNsb3N1cmUkdGVzdEFyZWFzVG9Mb2FkKTtcbiAgICAgIHZhciByZXN1bHQgPSBMaW5rZWRIYXNoTWFwX2luaXQoY29lcmNlQXRMZWFzdChtYXBDYXBhY2l0eShjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXIsIDEwKSksIDE2KSk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgICByZXN1bHQucHV0X3h3emM5cCQoZWxlbWVudCwgdGhpcyRMb2FkZXJCeVRlc3RzTWFwRmlsZS5nZXRQcm9taXNlRm9yVGVzdHNfMChlbGVtZW50LCBzZWN0aW9uVGVzdE1hcHMsIHJlc3VsdE1hcCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGNvcHlUb0FycmF5KHJlc3VsdC52YWx1ZXMpKS50aGVuKExvYWRlckJ5VGVzdHNNYXBGaWxlJGxvYWRUZXN0RmlsZXMkbGFtYmRhJGxhbWJkYShyZXN1bHRNYXApKTtcbiAgICB9O1xuICB9XG4gIExvYWRlckJ5VGVzdHNNYXBGaWxlLnByb3RvdHlwZS5sb2FkVGVzdEZpbGVzX2FyZmRvdSQgPSBmdW5jdGlvbiAoc2VjdGlvbk5hbWUsIHNlY3Rpb25zUGF0aCwgdGVzdEFyZWFzVG9Mb2FkKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZFRlc3RzTWFwRmlsZV8wKGpvaW5Ub1N0cmluZyhzZWN0aW9uc1BhdGgsICcvJykgKyAnLycgKyBzZWN0aW9uTmFtZSwgdGVzdEFyZWFzVG9Mb2FkKS50aGVuKExvYWRlckJ5VGVzdHNNYXBGaWxlJGxvYWRUZXN0RmlsZXMkbGFtYmRhKHRlc3RBcmVhc1RvTG9hZCwgdGhpcykpO1xuICB9O1xuICBmdW5jdGlvbiBMb2FkZXJCeVRlc3RzTWFwRmlsZSRnZXRQcm9taXNlRm9yVGVzdHMkbGFtYmRhKGNsb3N1cmUkbWFwT2ZUZXN0cywgY2xvc3VyZSR0ZXN0QXJlYSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBjbG9zdXJlJG1hcE9mVGVzdHM7XG4gICAgICB2YXIga2V5ID0gY2xvc3VyZSR0ZXN0QXJlYTtcbiAgICAgIHZhciB2YWx1ZSA9IHRvTGlzdChpdCk7XG4gICAgICAkcmVjZWl2ZXIucHV0X3h3emM5cCQoa2V5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIExvYWRlckJ5VGVzdHNNYXBGaWxlLnByb3RvdHlwZS5nZXRQcm9taXNlRm9yVGVzdHNfMCA9IGZ1bmN0aW9uICh0ZXN0QXJlYSwgc2VjdGlvblRlc3RNYXBzLCBtYXBPZlRlc3RzKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuZ2V0UHJvbWlzZXNGb3JUZXN0RmlsZXNGcm9tVGVzdE1hcF8wKHNlY3Rpb25UZXN0TWFwcy5nZXRfMTFyYiQodGVzdEFyZWEpLCB0ZXN0QXJlYSkpLnRoZW4oTG9hZGVyQnlUZXN0c01hcEZpbGUkZ2V0UHJvbWlzZUZvclRlc3RzJGxhbWJkYShtYXBPZlRlc3RzLCB0ZXN0QXJlYSkpO1xuICB9O1xuICBMb2FkZXJCeVRlc3RzTWFwRmlsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMb2FkZXJCeVRlc3RzTWFwRmlsZScsIGludGVyZmFjZXM6IFtHaXRodWJUZXN0c0xvYWRlcl19O1xuICBmdW5jdGlvbiBTcGVjVGVzdHNMb2FkZXIoKSB7XG4gICAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMubG9hZGVyXzAgPSBuZXcgTG9hZGVyQnlUZXN0c01hcEZpbGUoKTtcbiAgICB0aGlzLnNlY3Rpb25QcmV2TG9hZGVkXzdmejdldCRfMCA9IHRoaXMuc2VjdGlvblByZXZMb2FkZWRfN2Z6N2V0JF8wO1xuICAgIHRoaXMub3JpZ2luYWxTZWN0aW9uTmFtZV8wID0gbnVsbDtcbiAgICB0aGlzLm51bWJlclNlY3Rpb25zTG9hZGVkXzAgPSAwO1xuICB9XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24oKSB7XG4gICAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5FWENFUFRFRF9TRUxFQ1RPUlNfMCA9ICcuZ3JhbW1hci1ydWxlJztcbiAgICB0aGlzLnBhcmFncmFwaFNlbGVjdG9yXzAgPSBqb2luVG9TdHJpbmcobGlzdE9mXzAoWycucGFyYWdyYXBoJywgJ0RMJywgJ1VMJywgJ09MJ10pLCAnLCcpO1xuICAgIHRoaXMuc2VjdGlvblRhZ05hbWVzXzAgPSBsaXN0T2ZfMChbJ0gxJywgJ0gyJywgJ0gzJywgJ0g0JywgJ0g1J10pO1xuICAgIHRoaXMuTE9BRElOR19JQ09OX1BBVEhfMCA9ICcuL3Jlc291cmNlcy9pbWFnZXMvbG9hZGluZy5naWYnO1xuICAgIHRoaXMuTE9BRElOR19JQ09OX0hUTUxfMCA9ICc8aW1nIHNyYz1cIi4vcmVzb3VyY2VzL2ltYWdlcy9sb2FkaW5nLmdpZlwiIC8+JztcbiAgICB0aGlzLlNFVF9CUkFOQ0hfSUNPTl8wID0gJy4vcmVzb3VyY2VzL2ltYWdlcy9zZXQtYnJhbmNoLnBuZyc7XG4gICAgdGhpcy5MT0FEX1RFU1RTX1RFWFRfMCA9ICdMb2FkIHRlc3RzJztcbiAgICB0aGlzLm5vdExvYWRlZFRlc3RzVGV4dF8wID0gJ1Rlc3RzIGZvciAnICsgJ1wiJyArICd7MX0nICsgJ1wiJyArICcgaW4gJyArICdcIicgKyBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRCcmFuY2goKSArICdcIicgKyBcIiBicmFuY2ggYXJlbid0IHlldCB3cml0dGVuLlwiO1xuICAgIHRoaXMuU0VDVElPTl9QQVRIX1NFUEFSQVRPUl8wID0gJywgJztcbiAgfVxuICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5pbnNlcnRMb2FkSWNvbl9lcm4zZnokID0gZnVuY3Rpb24gKGhlYWRlckVsZW1lbnQsIG1vZGUpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gU3RyaW5nQnVpbGRlcl9pbml0KCk7XG4gICAgaWYgKG1vZGUgPT09IE1vZGUkRGV2X2dldEluc3RhbmNlKCkpXG4gICAgICAkcmVjZWl2ZXIuYXBwZW5kX2d3MDB2OSQoJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJzZXQtYnJhbmNoXCIgdGl0bGU9XCJUaGUgY29tcGlsZXIgcmVwbyBicmFuY2ggZnJvbSB3aGljaCB0aGUgdGVzdHMgd2lsbCBiZSB0YWtlblwiPjxpbWcgc3JjPVwiLi9yZXNvdXJjZXMvaW1hZ2VzL3NldC1icmFuY2gucG5nXCIgLz48XFwvYT48XFwvc3Bhbj4nKTtcbiAgICAkcmVjZWl2ZXIuYXBwZW5kX2d3MDB2OSQoJzxhIGhyZWY9JyArICdcIicgKyAnIycgKyAnXCInICsgJyBkYXRhLWlkPScgKyAnXCInICsgaGVhZGVyRWxlbWVudC5hdHRyKCdpZCcpICsgJ1wiJyArICcgZGF0YS10eXBlPScgKyAnXCInICsgaGVhZGVyRWxlbWVudC5wcm9wKCd0YWdOYW1lJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpICsgJ1wiJyArICcgY2xhc3M9JyArICdcIicgKyAnbG9hZC10ZXN0cycgKyAnXCInICsgJyB0aXRsZT0nICsgJ1wiJyArICdTaG93IHRlc3RzIGNvdmVyYWdlJyArICdcIicgKyAnPkxvYWQgdGVzdHM8XFwvYT4nKTtcbiAgICBoZWFkZXJFbGVtZW50LmFwcGVuZCgkcmVjZWl2ZXIudG9TdHJpbmcoKSk7XG4gIH07XG4gIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmdldFBhcmFncmFwaHNJbmZvX2xqaXk4eiQgPSBmdW5jdGlvbiAoc2VjdGlvbkVsZW1lbnQpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gc2VjdGlvbkVsZW1lbnQuZ2V0KCk7XG4gICAgaWYgKCRyZWNlaXZlci5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB2YXIgbmV4dFNpYmxpbmcgPSAkcmVjZWl2ZXJbMF0ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIHZhciBzZWN0aW9uTmFtZSA9IHNlY3Rpb25FbGVtZW50LmF0dHIoJ2lkJyk7XG4gICAgdmFyIHBhcmFncmFwaHNNYXAgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHZhciBwYXJhZ3JhcGhDb3VudGVyID0gMTtcbiAgICBpZiAoc2VjdGlvbk5hbWUubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgd2hpbGUgKG5leHRTaWJsaW5nICE9IG51bGwgJiYgdGhpcy5zZWN0aW9uVGFnTmFtZXNfMC5pbmRleE9mXzExcmIkKG5leHRTaWJsaW5nLnRhZ05hbWUpID09PSAtMSkge1xuICAgICAgdmFyIGlzUGFyYWdyYXBoID0gbmV4dFNpYmxpbmcubWF0Y2hlcyh0aGlzLnBhcmFncmFwaFNlbGVjdG9yXzApO1xuICAgICAgdmFyIGNoaWxkUGFyYWdyYXBoID0gbmV4dFNpYmxpbmcucXVlcnlTZWxlY3RvcignLnBhcmFncmFwaCcpO1xuICAgICAgaWYgKChpc1BhcmFncmFwaCB8fCBjaGlsZFBhcmFncmFwaCAhPSBudWxsKSAmJiAhJG1vZHVsZSRqcXVlcnkobmV4dFNpYmxpbmcpLmlzKHRoaXMuRVhDRVBURURfU0VMRUNUT1JTXzApKSB7XG4gICAgICAgIHZhciBuZXh0UGFyYWdyYXBoID0gY2hpbGRQYXJhZ3JhcGggIT0gbnVsbCA/IGNoaWxkUGFyYWdyYXBoIDogbmV4dFNpYmxpbmc7XG4gICAgICAgIHBhcmFncmFwaHNNYXAuYWRkXzExcmIkKG1hcE9mKFt0bygncGFyYWdyYXBoRWxlbWVudCcsIG5leHRQYXJhZ3JhcGgpLCB0bygnc2VudGVuY2VDb3VudCcsICRtb2R1bGUkanF1ZXJ5KG5leHRQYXJhZ3JhcGgpLmZpbmQoJy5zZW50ZW5jZScpLmxlbmd0aC50b1N0cmluZygpKV0pKTtcbiAgICAgICAgcGFyYWdyYXBoQ291bnRlciA9IHBhcmFncmFwaENvdW50ZXIgKyAxIHwgMDtcbiAgICAgIH1cbiAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gcGFyYWdyYXBoc01hcDtcbiAgfTtcbiAgZnVuY3Rpb24gU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbiRzaG93TWFya3VwJGxhbWJkYSh0aGlzJFNwZWNUZXN0c0xvYWRlciQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIHNlY3Rpb24pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHNlY3Rpb25UYWdOYW1lID0gc2VjdGlvbi50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgc2VjdGlvbkVsZW1lbnQgPSAkbW9kdWxlJGpxdWVyeShzZWN0aW9uKTtcbiAgICAgIHRtcCQgPSB0aGlzJFNwZWNUZXN0c0xvYWRlciQuZ2V0UGFyYWdyYXBoc0luZm9fbGppeTh6JChzZWN0aW9uRWxlbWVudCk7XG4gICAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmFncmFwaHNJbmZvID0gdG1wJDtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBMaW5rZWRIYXNoU2V0X2luaXQoKTtcbiAgICAgIHZhciB0aGlzJFNwZWNUZXN0c0xvYWRlciRfMCA9IHRoaXMkU3BlY1Rlc3RzTG9hZGVyJDtcbiAgICAgIGlmIChlcXVhbHMoc2VjdGlvblRhZ05hbWUsICdoMycpIHx8IGVxdWFscyhzZWN0aW9uVGFnTmFtZSwgJ2g0JykgfHwgZXF1YWxzKHNlY3Rpb25UYWdOYW1lLCAnaDUnKSkge1xuICAgICAgICAkcmVjZWl2ZXIuYWRkXzExcmIkKHRoaXMkU3BlY1Rlc3RzTG9hZGVyJF8wLmdldFBhcmVudFNlY3Rpb25OYW1lX2VrbW1yOSQoc2VjdGlvbkVsZW1lbnQsICdoMicpKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcXVhbHMoc2VjdGlvblRhZ05hbWUsICdoNCcpIHx8IGVxdWFscyhzZWN0aW9uVGFnTmFtZSwgJ2g1JykpIHtcbiAgICAgICAgJHJlY2VpdmVyLmFkZF8xMXJiJCh0aGlzJFNwZWNUZXN0c0xvYWRlciRfMC5nZXRQYXJlbnRTZWN0aW9uTmFtZV9la21tcjkkKHNlY3Rpb25FbGVtZW50LCAnaDMnKSk7XG4gICAgICB9XG4gICAgICBpZiAoZXF1YWxzKHNlY3Rpb25UYWdOYW1lLCAnaDUnKSkge1xuICAgICAgICAkcmVjZWl2ZXIuYWRkXzExcmIkKHRoaXMkU3BlY1Rlc3RzTG9hZGVyJF8wLmdldFBhcmVudFNlY3Rpb25OYW1lX2VrbW1yOSQoc2VjdGlvbkVsZW1lbnQsICdoNCcpKTtcbiAgICAgIH1cbiAgICAgICRyZWNlaXZlci5hZGRfMTFyYiQoc2VjdGlvbkVsZW1lbnQuYXR0cignaWQnKSk7XG4gICAgICB2YXIgc2VjdGlvbnNQYXRoID0gJHJlY2VpdmVyO1xuICAgICAgcmV0dXJuIE1hcmtVcEFycmFuZ2VyX2dldEluc3RhbmNlKCkuc2hvd01hcmtVcEZvclBhcmFncmFwaHNfdzZnOXA3JChwYXJhZ3JhcGhzSW5mbywgam9pblRvU3RyaW5nKHNlY3Rpb25zUGF0aCwgJywgJykpLCBVbml0O1xuICAgIH07XG4gIH1cbiAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuc2hvd01hcmt1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkbW9kdWxlJGpxdWVyeSgnaDIsIGgzLCBoNCwgaDUnKS5lYWNoKFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24kc2hvd01hcmt1cCRsYW1iZGEodGhpcykpO1xuICB9O1xuICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5nZXROZXN0ZWRTZWN0aW9uc18wID0gZnVuY3Rpb24gKHNlY3Rpb25FbGVtZW50KSB7XG4gICAgdmFyIHBsYWNlQ3VycmVudFNlY3Rpb25MZXZlbCA9IHRoaXMuc2VjdGlvblRhZ05hbWVzXzAuaW5kZXhPZl8xMXJiJChzZWN0aW9uRWxlbWVudC5wcm9wKCd0YWdOYW1lJykudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpKTtcbiAgICB2YXIgb3RoZXJTZWN0aW9uVGFnTmFtZXMgPSBzbGljZSh0aGlzLnNlY3Rpb25UYWdOYW1lc18wLCBuZXcgSW50UmFuZ2UoMCwgcGxhY2VDdXJyZW50U2VjdGlvbkxldmVsKSk7XG4gICAgdmFyIG5lc3RlZFNlY3Rpb25UYWdOYW1lcyA9IHNsaWNlKHRoaXMuc2VjdGlvblRhZ05hbWVzXzAsIHVudGlsKHBsYWNlQ3VycmVudFNlY3Rpb25MZXZlbCwgdGhpcy5zZWN0aW9uVGFnTmFtZXNfMC5zaXplKSk7XG4gICAgdmFyIG5leHRTaWJsaW5nID0gc2VjdGlvbkVsZW1lbnQuZ2V0KClbMF0ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIHZhciBuZXN0ZWRTZWN0aW9uSWRzID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICB3aGlsZSAobmV4dFNpYmxpbmcgIT0gbnVsbCAmJiBvdGhlclNlY3Rpb25UYWdOYW1lcy5pbmRleE9mXzExcmIkKG5leHRTaWJsaW5nLnRhZ05hbWUpID09PSAtMSkge1xuICAgICAgaWYgKG5lc3RlZFNlY3Rpb25UYWdOYW1lcy5pbmRleE9mXzExcmIkKG5leHRTaWJsaW5nLnRhZ05hbWUpICE9PSAtMSkge1xuICAgICAgICBuZXN0ZWRTZWN0aW9uSWRzLmFkZF8xMXJiJChlbnN1cmVOb3ROdWxsKG5leHRTaWJsaW5nLmdldEF0dHJpYnV0ZSgnaWQnKSkpO1xuICAgICAgfVxuICAgICAgbmV4dFNpYmxpbmcgPSBuZXh0U2libGluZy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBuZXN0ZWRTZWN0aW9uSWRzO1xuICB9O1xuICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5wYXJzZVRlc3RGaWxlc19zcjh4bWwkID0gZnVuY3Rpb24gKHNwZWNTZWN0aW9uVGVzdFNldCwgY3VycmVudFNlY3Rpb24sIHNlY3Rpb25zUGF0aCwgcGFyYWdyYXBoc0luZm8pIHtcbiAgICB2YXIgcGF0aFByZWZpeCA9IGpvaW5Ub1N0cmluZyhzZWN0aW9uc1BhdGgsIHRoaXMuU0VDVElPTl9QQVRIX1NFUEFSQVRPUl8wKSArIHRoaXMuU0VDVElPTl9QQVRIX1NFUEFSQVRPUl8wICsgY3VycmVudFNlY3Rpb247XG4gICAgU3BlY0NvdmVyYWdlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5zaG93Q292ZXJhZ2VPZlBhcmFncmFwaHNfODk4Z3gwJChwYXJhZ3JhcGhzSW5mbywgc3BlY1NlY3Rpb25UZXN0U2V0LCBwYXRoUHJlZml4KTtcbiAgfTtcbiAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuZ2V0UGFyZW50U2VjdGlvbk5hbWVfZWttbXI5JCA9IGZ1bmN0aW9uIChlbGVtZW50LCB0eXBlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucHJldkFsbCh0eXBlKS5maXJzdCgpLmF0dHIoJ2lkJyk7XG4gIH07XG4gIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLm9uU2V0QnJhbmNoSWNvbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBjdXJyZW50QnJhbmNoID0gKHRtcCQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NwZWMtdGVzdHMtYnJhbmNoJykpICE9IG51bGwgPyB0bXAkIDogR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuREVGQVVMVF9CUkFOQ0g7XG4gICAgdmFyIG5ld0JyYW5jaCA9IHdpbmRvdy5wcm9tcHQoJ1NwZWNpZnkgdGhlIEtvdGxpbiBjb21waWxlciByZXBvIGJyYW5jaCBmcm9tIHdoaWNoIHRoZSBzcGVjIHRlc3RzIHdpbGwgYmUgdGFrZW46JywgY3VycmVudEJyYW5jaCk7XG4gICAgaWYgKG5ld0JyYW5jaCAhPSBudWxsICYmICFlcXVhbHMobmV3QnJhbmNoLCBjdXJyZW50QnJhbmNoKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcGVjLXRlc3RzLWJyYW5jaCcsIG5ld0JyYW5jaCk7XG4gICAgfVxuICB9O1xuICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5sb2FkSGVscGVyRmlsZV9td3E1emokID0gZnVuY3Rpb24gKGhlbHBlck5hbWUsIHRlc3RBcmVhKSB7XG4gICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmxvYWRIZWxwZXJGcm9tUmF3R2l0aHViX213cTV6aiQoaGVscGVyTmFtZSArICcua3QnLCB0ZXN0QXJlYSk7XG4gIH07XG4gIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3BlY1Rlc3RzTG9hZGVyLnByb3RvdHlwZSwgJ3NlY3Rpb25QcmV2TG9hZGVkXzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2VjdGlvblByZXZMb2FkZWRfN2Z6N2V0JF8wID09IG51bGwpXG4gICAgICByZXR1cm4gdGhyb3dVUEFFKCdzZWN0aW9uUHJldkxvYWRlZCcpO1xuICAgIHJldHVybiB0aGlzLnNlY3Rpb25QcmV2TG9hZGVkXzdmejdldCRfMDtcbiAgfSwgc2V0OiBmdW5jdGlvbiAoc2VjdGlvblByZXZMb2FkZWQpIHtcbiAgICB0aGlzLnNlY3Rpb25QcmV2TG9hZGVkXzdmejdldCRfMCA9IHNlY3Rpb25QcmV2TG9hZGVkO1xuICB9fSk7XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c0xvYWRlciRvblRlc3RzTG9hZGluZ0xpbmtDbGljayRsYW1iZGEoY2xvc3VyZSRwYXJhZ3JhcGhzSW5mbywgY2xvc3VyZSRzZWN0aW9uTmFtZSwgY2xvc3VyZSRzZWN0aW9uc1BhdGgsIGNsb3N1cmUkbGluaywgdGhpcyRTcGVjVGVzdHNMb2FkZXIsIGNsb3N1cmUkc2VjdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc2VjdGlvblRlc3RTZXQpIHtcbiAgICAgIGlmIChjbG9zdXJlJHBhcmFncmFwaHNJbmZvICE9IG51bGwpXG4gICAgICAgIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5wYXJzZVRlc3RGaWxlc19zcjh4bWwkKHNlY3Rpb25UZXN0U2V0LCBjbG9zdXJlJHNlY3Rpb25OYW1lLCBjbG9zdXJlJHNlY3Rpb25zUGF0aCwgY2xvc3VyZSRwYXJhZ3JhcGhzSW5mbyk7XG4gICAgICBjbG9zdXJlJGxpbmsuaHRtbCgnUmVsb2FkIHRlc3RzJyk7XG4gICAgICBpZiAoZXF1YWxzKHRoaXMkU3BlY1Rlc3RzTG9hZGVyLm9yaWdpbmFsU2VjdGlvbk5hbWVfMCwgY2xvc3VyZSRzZWN0aW9uTmFtZSkpIHtcbiAgICAgICAgY2xvc3VyZSRzZWN0aW9uLm5leHRBbGwoJy5wYXJhZ3JhcGgud2l0aC10ZXN0cycpLmZpcnN0KCkuZ2V0KClbMF0uc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgdGhpcyRTcGVjVGVzdHNMb2FkZXIub3JpZ2luYWxTZWN0aW9uTmFtZV8wID0gbnVsbDtcbiAgICAgICAgdGhpcyRTcGVjVGVzdHNMb2FkZXIuc2VjdGlvblByZXZMb2FkZWRfMCA9IGNsb3N1cmUkc2VjdGlvbk5hbWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c0xvYWRlciRvblRlc3RzTG9hZGluZ0xpbmtDbGljayRsYW1iZGFfMCh0aGlzJFNwZWNUZXN0c0xvYWRlciwgY2xvc3VyZSRzZWN0aW9uTmFtZSwgY2xvc3VyZSRsaW5rKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gdGhpcyRTcGVjVGVzdHNMb2FkZXIubnVtYmVyU2VjdGlvbnNMb2FkZWRfMDtcbiAgICAgIHRoaXMkU3BlY1Rlc3RzTG9hZGVyLm51bWJlclNlY3Rpb25zTG9hZGVkXzAgPSB0bXAkIC0gMSB8IDA7XG4gICAgICBpZiAoZXF1YWxzKHRoaXMkU3BlY1Rlc3RzTG9hZGVyLm9yaWdpbmFsU2VjdGlvbk5hbWVfMCwgY2xvc3VyZSRzZWN0aW9uTmFtZSkpIHtcbiAgICAgICAgdGhpcyRTcGVjVGVzdHNMb2FkZXIub3JpZ2luYWxTZWN0aW9uTmFtZV8wID0gbnVsbDtcbiAgICAgICAgdGhpcyRTcGVjVGVzdHNMb2FkZXIuc2VjdGlvblByZXZMb2FkZWRfMCA9IGNsb3N1cmUkc2VjdGlvbk5hbWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcyRTcGVjVGVzdHNMb2FkZXIubnVtYmVyU2VjdGlvbnNMb2FkZWRfMCA9PT0gMCkge1xuICAgICAgICB3aW5kb3cuYWxlcnQoZm9ybWF0KFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5ub3RMb2FkZWRUZXN0c1RleHRfMCwgW3RoaXMkU3BlY1Rlc3RzTG9hZGVyLnNlY3Rpb25QcmV2TG9hZGVkXzBdKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2xvc3VyZSRsaW5rLmh0bWwoU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLkxPQURfVEVTVFNfVEVYVF8wKTtcbiAgICB9O1xuICB9XG4gIFNwZWNUZXN0c0xvYWRlci5wcm90b3R5cGUub25UZXN0c0xvYWRpbmdMaW5rQ2xpY2tfbGppeTh6JCA9IGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgdmFyIHNlY3Rpb24gPSBsaW5rLnBhcmVudCgnaDMsIGg0LCBoNScpO1xuICAgIHZhciBwYXJhZ3JhcGhzSW5mbyA9IFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRQYXJhZ3JhcGhzSW5mb19saml5OHokKHNlY3Rpb24pO1xuICAgIHZhciBuZXN0ZWRTZWN0aW9ucyA9IFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXROZXN0ZWRTZWN0aW9uc18wKHNlY3Rpb24pO1xuICAgIHZhciBzZWN0aW9uTmFtZSA9IHNlY3Rpb24uYXR0cignaWQnKTtcbiAgICB2YXIgc2VjdGlvbnNQYXRoID0gbXV0YWJsZUxpc3RPZihbU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldFBhcmVudFNlY3Rpb25OYW1lX2VrbW1yOSQoc2VjdGlvbiwgJ2gyJyldKTtcbiAgICBpZiAodGhpcy5vcmlnaW5hbFNlY3Rpb25OYW1lXzAgPT0gbnVsbCkge1xuICAgICAgdGhpcy5vcmlnaW5hbFNlY3Rpb25OYW1lXzAgPSBzZWN0aW9uTmFtZTtcbiAgICAgIHRoaXMubnVtYmVyU2VjdGlvbnNMb2FkZWRfMCA9IDE7XG4gICAgfVxuICAgIGxpbmsuaHRtbChTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuTE9BRElOR19JQ09OX0hUTUxfMCk7XG4gICAgaWYgKGVxdWFscyhsaW5rLmRhdGEoJ3R5cGUnKSwgJ2g0JykgfHwgZXF1YWxzKGxpbmsuZGF0YSgndHlwZScpLCAnaDUnKSkge1xuICAgICAgc2VjdGlvbnNQYXRoLmFkZF8xMXJiJChTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZ2V0UGFyZW50U2VjdGlvbk5hbWVfZWttbXI5JChzZWN0aW9uLCAnaDMnKSk7XG4gICAgfVxuICAgIGlmIChlcXVhbHMobGluay5kYXRhKCd0eXBlJyksICdoNScpKSB7XG4gICAgICBzZWN0aW9uc1BhdGguYWRkXzExcmIkKFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRQYXJlbnRTZWN0aW9uTmFtZV9la21tcjkkKHNlY3Rpb24sICdoNCcpKTtcbiAgICB9XG4gICAgdGhpcy5sb2FkZXJfMC5sb2FkVGVzdEZpbGVzX2FyZmRvdSQoc2VjdGlvbk5hbWUsIHNlY3Rpb25zUGF0aCwgVGVzdEFyZWEkdmFsdWVzKCkpLnRoZW4oU3BlY1Rlc3RzTG9hZGVyJG9uVGVzdHNMb2FkaW5nTGlua0NsaWNrJGxhbWJkYShwYXJhZ3JhcGhzSW5mbywgc2VjdGlvbk5hbWUsIHNlY3Rpb25zUGF0aCwgbGluaywgdGhpcywgc2VjdGlvbikpLmNhdGNoKFNwZWNUZXN0c0xvYWRlciRvblRlc3RzTG9hZGluZ0xpbmtDbGljayRsYW1iZGFfMCh0aGlzLCBzZWN0aW9uTmFtZSwgbGluaykpO1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSBuZXN0ZWRTZWN0aW9ucy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgIHRoaXMubnVtYmVyU2VjdGlvbnNMb2FkZWRfMCA9IHRoaXMubnVtYmVyU2VjdGlvbnNMb2FkZWRfMCArIDEgfCAwO1xuICAgICAgJG1vZHVsZSRqcXVlcnkoJyMnICsgcmVwbGFjZShlbGVtZW50LCAnLicsICdcXFxcXFxcXC4nKSArICcgLmxvYWQtdGVzdHMnKS5jbGljaygpO1xuICAgIH1cbiAgfTtcbiAgU3BlY1Rlc3RzTG9hZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NwZWNUZXN0c0xvYWRlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYShjbG9zdXJlJG1vZGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGVsKSB7XG4gICAgICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuaW5zZXJ0TG9hZEljb25fZXJuM2Z6JCgkbW9kdWxlJGpxdWVyeShlbCksIGNsb3N1cmUkbW9kZSk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGFfMChpbmRleCwgZWxlbWVudCkge1xuICAgIHJldHVybiAkbW9kdWxlJGpxdWVyeShlbGVtZW50KS5wYXJlbnQoKS5wYXJlbnQoKS5oYXMoJ3VsJykuY2hpbGRyZW4oJ2EnKS5jaGlsZHJlbignc3BhbicpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYV8xKGluZGV4LCBlbGVtZW50KSB7XG4gICAgU2lkZWJhclZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5pbnNlcnRBcnJvd0ljb25fbGppeTh6JCgkbW9kdWxlJGpxdWVyeShlbGVtZW50KSk7XG4gICAgcmV0dXJuIFVuaXQ7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGEoY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIGYpIHtcbiAgICAgIGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyLnNob3dWaWV3ZXJfbGppeTh6JCgkbW9kdWxlJGpxdWVyeShlLmN1cnJlbnRUYXJnZXQpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMChjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZl8wKSB7XG4gICAgICBjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlci5vblRlc3RBcmVhQ2hhbmdlKCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzEoY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIub25UZXN0VHlwZUNoYW5nZSgpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8yKGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBmXzApIHtcbiAgICAgIGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyLm9uVGVzdFByaW9yaXR5Q2hhbmdlKCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzMoY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIub25UZXN0TnVtYmVyQ2hhbmdlKCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzQoY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIGYpIHtcbiAgICAgIGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyLm5hdmlnYXRlVGVzdENhc2Vfbjk2YWZ0JCgkbW9kdWxlJGpxdWVyeShlLmN1cnJlbnRUYXJnZXQpLCBOYXZpZ2F0aW9uVHlwZSRQUkVWX2dldEluc3RhbmNlKCkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfNShjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSwgZikge1xuICAgICAgY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIubmF2aWdhdGVUZXN0Q2FzZV9uOTZhZnQkKCRtb2R1bGUkanF1ZXJ5KGUuY3VycmVudFRhcmdldCksIE5hdmlnYXRpb25UeXBlJE5FWFRfZ2V0SW5zdGFuY2UoKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV82KGNsb3N1cmUkc3BlY1Rlc3RzTG9hZGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlLCBmKSB7XG4gICAgICBjbG9zdXJlJHNwZWNUZXN0c0xvYWRlci5vblRlc3RzTG9hZGluZ0xpbmtDbGlja19saml5OHokKCRtb2R1bGUkanF1ZXJ5KGUuY3VycmVudFRhcmdldCkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfNyhmLCBmXzApIHtcbiAgICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkub25TZXRCcmFuY2hJY29uQ2xpY2soKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfOChjbG9zdXJlJG1vZGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIGYpIHtcbiAgICAgIFNwZWNQbGFjZUhpZ2hsaWdodGVyX2dldEluc3RhbmNlKCkub25TZW50ZW5jZUdldExpbmtDbGlja19lcm4zZnokKCRtb2R1bGUkanF1ZXJ5KGUuY3VycmVudFRhcmdldCksIGNsb3N1cmUkbW9kZSk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfOShlLCBmKSB7XG4gICAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5vblBhcmFncmFwaEdldExpbmtDbGlja19saml5OHokKCRtb2R1bGUkanF1ZXJ5KGUuY3VycmVudFRhcmdldCkpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xMChmLCBmXzApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTEoZiwgZl8wKSB7XG4gICAgU2VudGVuY2VGaW5kZXJfZ2V0SW5zdGFuY2UoKS5maW5kU2VudGVuY2UoKTtcbiAgICByZXR1cm4gVW5pdDtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xMihlLCBmKSB7XG4gICAgaWYgKGVxdWFscyhlLmtleUNvZGUsIDEzKSkge1xuICAgICAgU2VudGVuY2VGaW5kZXJfZ2V0SW5zdGFuY2UoKS5maW5kU2VudGVuY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIFVuaXQ7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGEkbGFtYmRhKGNsb3N1cmUka2V5cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IGNsb3N1cmUka2V5cztcbiAgICAgIHZhciBrZXkgPSBudW1iZXJUb0ludChlLmtleUNvZGUpO1xuICAgICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKGtleSwgdHJ1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhJGxhbWJkYV8wKGNsb3N1cmUka2V5cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGNsb3N1cmUka2V5cy5nZXRfMTFyYiQoMTgpID09PSB0cnVlICYmIGNsb3N1cmUka2V5cy5nZXRfMTFyYiQoNjkpID09PSB0cnVlKSB7XG4gICAgICAgICRtb2R1bGUkanF1ZXJ5KCcuc3BlYy1sb2NhdGlvbi1zZWFyY2ggaW5wdXRbbmFtZT1cInNwZWMtc2VudGVuY2UtbG9jYXRpb25cIl0nKS5mb2N1cygpLnNlbGVjdCgpO1xuICAgICAgfVxuICAgICAgdmFyICRyZWNlaXZlciA9IGNsb3N1cmUka2V5cztcbiAgICAgIHZhciBrZXkgPSBudW1iZXJUb0ludChlLmtleUNvZGUpO1xuICAgICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKGtleSwgZmFsc2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xMyhmLCBmXzApIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2hvd01hcmt1cCcsICd0cnVlJyk7XG4gICAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNob3dNYXJrdXAoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTQoZiwgZl8wKSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Nob3dNYXJrdXAnKTtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzE1KGYsIGZfMCkge1xuICAgIHByaW50KCdsb29raW5nIGZvciBUT0MnKTtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdUT0MnKTtcbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKVxuICAgICAgcHJpbnQoJ2F6YXphemEgVE9DIG5vdCBmb3VuZCcpO1xuICAgIGVsc2Uge1xuICAgICAgcHJpbnQoJ3dvb2hvbyBUT0MgIGZvdW5kJyk7XG4gICAgICAkbW9kdWxlJGpxdWVyeShlbGVtZW50KS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xNihhLCBiKSB7XG4gICAgYS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICRtb2R1bGUkanF1ZXJ5KGEuY3VycmVudFRhcmdldCkucGFyZW50KCkucGFyZW50KCkuY2hpbGRyZW4oJ3VsOmZpcnN0Jykuc2xpZGVUb2dnbGUoKTtcbiAgICB2YXIgaW1nID0gJG1vZHVsZSRqcXVlcnkoYS5jdXJyZW50VGFyZ2V0KS5jaGlsZHJlbignaW1nLm5hdi1pY29uJyk7XG4gICAgdmFyIHNyYyA9IGltZy5hdHRyKCdzcmMnKTtcbiAgICByZXR1cm4gY29udGFpbnMoc3JjLCBTaWRlYmFyVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlJJR0hUX0FSUk9XX0lDT04pID8gaW1nLmF0dHIoJ3NyYycsIHJlcGxhY2UoaW1nLmF0dHIoJ3NyYycpLCBTaWRlYmFyVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlJJR0hUX0FSUk9XX0lDT04sIFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuRE9XTl9BUlJPV19JQ09OKSkgOiBpbWcuYXR0cignc3JjJywgcmVwbGFjZShpbWcuYXR0cignc3JjJyksIFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuRE9XTl9BUlJPV19JQ09OLCBTaWRlYmFyVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlJJR0hUX0FSUk9XX0lDT04pKTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xNyhlLCBmKSB7XG4gICAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5vbkhlYWRlckdldExpbmtDbGlja19saml5OHokKCRtb2R1bGUkanF1ZXJ5KGUuY3VycmVudFRhcmdldCkpO1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBzcGVjVGVzdHNMb2FkZXIgPSBuZXcgU3BlY1Rlc3RzTG9hZGVyKCk7XG4gICAgdmFyIHNwZWNUZXN0c1ZpZXdlciA9IG5ldyBTcGVjVGVzdHNWaWV3ZXIoKTtcbiAgICB2YXIgc2hvdWxkQmVTaG93ZWRNYXJrdXAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2hvd01hcmt1cCcpICE9IG51bGw7XG4gICAgdmFyIHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkID0gZ2V0X3NlYXJjaE1hcCh3aW5kb3cubG9jYXRpb24pLmdldF8xMXJiJCgnc2VudGVuY2UnKTtcbiAgICB2YXIgcGFyYWdyYXBoVG9CZUhpZ2hsaWdodGVkID0gZ2V0X3NlYXJjaE1hcCh3aW5kb3cubG9jYXRpb24pLmdldF8xMXJiJCgncGFyYWdyYXBoJyk7XG4gICAgdmFyIHNlY3Rpb25Ub0JlSGlnaGxpZ2h0ZWQgPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICB2YXIgbW9kZSA9IE1vZGUkRGV2X2dldEluc3RhbmNlKCk7XG4gICAgJG1vZHVsZSRqcXVlcnkoJ2gzLCBoNCwgaDUnKS5lYWNoKHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEobW9kZSkpO1xuICAgICRtb2R1bGUkanF1ZXJ5KCcjVE9DIHVsIGxpIHVsIGxpIGEnKS5wYXJlbnQoKS5jaGlsZHJlbigndWwnKS5oaWRlKCk7XG4gICAgJG1vZHVsZSRqcXVlcnkoJyNUT0MgdWwgbGkgdWwgbGkgYSBzcGFuJykuZWFjaChydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhXzApO1xuICAgICRtb2R1bGUkanF1ZXJ5KCcudG9jLXNlY3Rpb24tbnVtYmVyJykuZWFjaChydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhXzEpO1xuICAgIGlmIChzaG91bGRCZVNob3dlZE1hcmt1cCkge1xuICAgICAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNob3dNYXJrdXAoKTtcbiAgICB9XG4gICAgaWYgKHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkICE9IG51bGwpIHtcbiAgICAgIFNwZWNQbGFjZUhpZ2hsaWdodGVyX2dldEluc3RhbmNlKCkuaGlnaGxpZ2h0U2VudGVuY2VfNjF6cG9lJChzZW50ZW5jZVRvQmVIaWdobGlnaHRlZCk7XG4gICAgfVxuICAgIGlmIChwYXJhZ3JhcGhUb0JlSGlnaGxpZ2h0ZWQgIT0gbnVsbCkge1xuICAgICAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5oaWdobGlnaHRQYXJhZ3JhcGhfNjF6cG9lJChwYXJhZ3JhcGhUb0JlSGlnaGxpZ2h0ZWQpO1xuICAgIH1cbiAgICBpZiAoc2VjdGlvblRvQmVIaWdobGlnaHRlZC5sZW5ndGggPiAwKSB7XG4gICAgICBTcGVjUGxhY2VIaWdobGlnaHRlcl9nZXRJbnN0YW5jZSgpLmhpZ2hsaWdodFNlY3Rpb25fNjF6cG9lJChzZWN0aW9uVG9CZUhpZ2hsaWdodGVkLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIGlmICgodG1wJF8wID0gKHRtcCQgPSBkb2N1bWVudC5ib2R5KSAhPSBudWxsID8gJG1vZHVsZSRqcXVlcnkodG1wJCkgOiBudWxsKSAhPSBudWxsKSB7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5zZW50ZW5jZS5jb3ZlcmVkJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGEoc3BlY1Rlc3RzVmlld2VyKSk7XG4gICAgICB0bXAkXzAub24oJ2NoYW5nZScsIFwiLnRlc3QtY292ZXJhZ2UtdmlldyBzZWxlY3RbbmFtZT0ndGVzdC1hcmVhJ11cIiwgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMChzcGVjVGVzdHNWaWV3ZXIpKTtcbiAgICAgIHRtcCRfMC5vbignY2hhbmdlJywgXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LXR5cGUnXVwiLCBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xKHNwZWNUZXN0c1ZpZXdlcikpO1xuICAgICAgdG1wJF8wLm9uKCdjaGFuZ2UnLCBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtbGluay10eXBlJ11cIiwgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMihzcGVjVGVzdHNWaWV3ZXIpKTtcbiAgICAgIHRtcCRfMC5vbignY2hhbmdlJywgXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LW51bWJlciddXCIsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzMoc3BlY1Rlc3RzVmlld2VyKSk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5wcmV2LXRlc3RjYXNlJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfNChzcGVjVGVzdHNWaWV3ZXIpKTtcbiAgICAgIHRtcCRfMC5vbignY2xpY2snLCAnLm5leHQtdGVzdGNhc2UnLCBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV81KHNwZWNUZXN0c1ZpZXdlcikpO1xuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICcubG9hZC10ZXN0cycsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzYoc3BlY1Rlc3RzTG9hZGVyKSk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5zZXQtYnJhbmNoJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfNyk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5udW1iZXItaW5mb1tkYXRhLXBhdGhdJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfOChtb2RlKSk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5wYXJhZ3JhcGgtbGluaycsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzkpO1xuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICcubG9hZGVkLXRlc3RzJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTApO1xuICAgICAgaWYgKG1vZGUgPT09IE1vZGUkRGV2X2dldEluc3RhbmNlKCkpIHtcbiAgICAgICAgdG1wJF8wLnByZXBlbmQoZm9ybWF0KFNlbnRlbmNlRmluZGVyX2dldEluc3RhbmNlKCkuRklOREVSX0JBUl9IVE1MLCAoc2hvdWxkQmVTaG93ZWRNYXJrdXAgPyBbJ2hpZGUnLCAnSGlkZSddIDogWydzaG93JywgJ1Nob3cnXSkuc2xpY2UoKSkpO1xuICAgICAgfVxuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICcuY29udGVudC1uYXZpZ2F0aW9uJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTEpO1xuICAgICAgdG1wJF8wLm9uKCdrZXl1cCcsICcuc3BlYy1sb2NhdGlvbi1zZWFyY2ggaW5wdXRbbmFtZT1cInNwZWMtc2VudGVuY2UtbG9jYXRpb25cIl0nLCBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xMik7XG4gICAgICB2YXIga2V5cyA9IG11dGFibGVNYXBPZihbdG8oMTgsIGZhbHNlKSwgdG8oNjksIGZhbHNlKV0pO1xuICAgICAgJG1vZHVsZSRqcXVlcnkoZG9jdW1lbnQpLmtleWRvd24ocnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGEkbGFtYmRhKGtleXMpKS5rZXl1cChydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYSRsYW1iZGFfMChrZXlzKSk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5zaG93LW1hcmt1cC1saW5rJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTMpO1xuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICcuaGlkZS1tYXJrdXAtbGluaycsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzE0KTtcbiAgICAgIHRtcCRfMC5vbignY2xpY2snLCAnLmljb24tbWVudScsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzE1KTtcbiAgICAgIHRtcCRfMC5vbignY2xpY2snLCAnLnRvYy1zZWN0aW9uLW51bWJlcicsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzE2KTtcbiAgICAgIHRtcCRfMC5vbignY2xpY2snLCAnaDIsIGgzLCBoNCwgaDUnLCBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xNyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1haW4kbGFtYmRhKGl0KSB7XG4gICAgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5KCk7XG4gICAgcmV0dXJuIFVuaXQ7XG4gIH1cbiAgZnVuY3Rpb24gbWFpbl8wKCkge1xuICAgICRtb2R1bGUkanF1ZXJ5KGRvY3VtZW50KS5yZWFkeShtYWluJGxhbWJkYSk7XG4gIH1cbiAgZnVuY3Rpb24gTW9kZShuYW1lLCBvcmRpbmFsKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICB9XG4gIGZ1bmN0aW9uIE1vZGVfaW5pdEZpZWxkcygpIHtcbiAgICBNb2RlX2luaXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBNb2RlJERldl9pbnN0YW5jZSA9IG5ldyBNb2RlKCdEZXYnLCAwKTtcbiAgICBNb2RlJFVzZXJfaW5zdGFuY2UgPSBuZXcgTW9kZSgnVXNlcicsIDEpO1xuICB9XG4gIHZhciBNb2RlJERldl9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gTW9kZSREZXZfZ2V0SW5zdGFuY2UoKSB7XG4gICAgTW9kZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIE1vZGUkRGV2X2luc3RhbmNlO1xuICB9XG4gIHZhciBNb2RlJFVzZXJfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIE1vZGUkVXNlcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBNb2RlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gTW9kZSRVc2VyX2luc3RhbmNlO1xuICB9XG4gIE1vZGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTW9kZScsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gIGZ1bmN0aW9uIE1vZGUkdmFsdWVzKCkge1xuICAgIHJldHVybiBbTW9kZSREZXZfZ2V0SW5zdGFuY2UoKSwgTW9kZSRVc2VyX2dldEluc3RhbmNlKCldO1xuICB9XG4gIE1vZGUudmFsdWVzID0gTW9kZSR2YWx1ZXM7XG4gIGZ1bmN0aW9uIE1vZGUkdmFsdWVPZihuYW1lKSB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdEZXYnOlxuICAgICAgICByZXR1cm4gTW9kZSREZXZfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ1VzZXInOlxuICAgICAgICByZXR1cm4gTW9kZSRVc2VyX2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMudXRpbHMuTW9kZS4nICsgbmFtZSk7XG4gICAgfVxuICB9XG4gIE1vZGUudmFsdWVPZl82MXpwb2UkID0gTW9kZSR2YWx1ZU9mO1xuICBmdW5jdGlvbiBQb3B1cENvbmZpZyh3aWR0aCwgaGVpZ2h0LCB0aXRsZSwgY29udGVudCwgbWF4SGVpZ2h0KSB7XG4gICAgaWYgKG1heEhlaWdodCA9PT0gdm9pZCAwKVxuICAgICAgbWF4SGVpZ2h0ID0gbnVsbDtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvcHVwQ29uZmlnLnByb3RvdHlwZSwgJ29wdGltaXplZFdpZHRoJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHZhciAkcmVjZWl2ZXIgPSBudW1iZXJUb0ludCgkbW9kdWxlJGpxdWVyeShlbnN1cmVOb3ROdWxsKGRvY3VtZW50LmJvZHkpKS53aWR0aCgpKTtcbiAgICByZXR1cm4gKCRyZWNlaXZlciAtIDUwIHwgMCkgPCB0aGlzLndpZHRoID8gJHJlY2VpdmVyIC0gNTAgfCAwIDogdGhpcy53aWR0aDtcbiAgfX0pO1xuICBQb3B1cENvbmZpZy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQb3B1cENvbmZpZycsIGludGVyZmFjZXM6IFtdfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGg7XG4gIH07XG4gIFBvcHVwQ29uZmlnLnByb3RvdHlwZS5jb21wb25lbnQyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmNvbXBvbmVudDMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gIH07XG4gIFBvcHVwQ29uZmlnLnByb3RvdHlwZS5jb21wb25lbnQ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gIH07XG4gIFBvcHVwQ29uZmlnLnByb3RvdHlwZS5jb21wb25lbnQ1ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1heEhlaWdodDtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmNvcHlfZWxiNGU3JCA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCB0aXRsZSwgY29udGVudCwgbWF4SGVpZ2h0KSB7XG4gICAgcmV0dXJuIG5ldyBQb3B1cENvbmZpZyh3aWR0aCA9PT0gdm9pZCAwID8gdGhpcy53aWR0aCA6IHdpZHRoLCBoZWlnaHQgPT09IHZvaWQgMCA/IHRoaXMuaGVpZ2h0IDogaGVpZ2h0LCB0aXRsZSA9PT0gdm9pZCAwID8gdGhpcy50aXRsZSA6IHRpdGxlLCBjb250ZW50ID09PSB2b2lkIDAgPyB0aGlzLmNvbnRlbnQgOiBjb250ZW50LCBtYXhIZWlnaHQgPT09IHZvaWQgMCA/IHRoaXMubWF4SGVpZ2h0IDogbWF4SGVpZ2h0KTtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnUG9wdXBDb25maWcod2lkdGg9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLndpZHRoKSArICgnLCBoZWlnaHQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmhlaWdodCkpICsgKCcsIHRpdGxlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy50aXRsZSkpICsgKCcsIGNvbnRlbnQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmNvbnRlbnQpKSArICgnLCBtYXhIZWlnaHQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLm1heEhlaWdodCkpICsgJyknO1xuICB9O1xuICBQb3B1cENvbmZpZy5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy53aWR0aCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuaGVpZ2h0KSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy50aXRsZSkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuY29udGVudCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMubWF4SGVpZ2h0KSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiAoS290bGluLmVxdWFscyh0aGlzLndpZHRoLCBvdGhlci53aWR0aCkgJiYgS290bGluLmVxdWFscyh0aGlzLmhlaWdodCwgb3RoZXIuaGVpZ2h0KSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudGl0bGUsIG90aGVyLnRpdGxlKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuY29udGVudCwgb3RoZXIuY29udGVudCkgJiYgS290bGluLmVxdWFscyh0aGlzLm1heEhlaWdodCwgb3RoZXIubWF4SGVpZ2h0KSkpKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFBvcHVwU2VsZWN0b3JzKG1haW4sIGJvZHksIGNsb3NlLCB0aXRsZSwgc2hhZG93KSB7XG4gICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMuY2xvc2UgPSBjbG9zZTtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5zaGFkb3cgPSBzaGFkb3c7XG4gIH1cbiAgUG9wdXBTZWxlY3RvcnMuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUG9wdXBTZWxlY3RvcnMnLCBpbnRlcmZhY2VzOiBbXX07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5jb21wb25lbnQxID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1haW47XG4gIH07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5jb21wb25lbnQyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmJvZHk7XG4gIH07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5jb21wb25lbnQzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNsb3NlO1xuICB9O1xuICBQb3B1cFNlbGVjdG9ycy5wcm90b3R5cGUuY29tcG9uZW50NCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgfTtcbiAgUG9wdXBTZWxlY3RvcnMucHJvdG90eXBlLmNvbXBvbmVudDUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhZG93O1xuICB9O1xuICBQb3B1cFNlbGVjdG9ycy5wcm90b3R5cGUuY29weV94MGE2dDYkID0gZnVuY3Rpb24gKG1haW4sIGJvZHksIGNsb3NlLCB0aXRsZSwgc2hhZG93KSB7XG4gICAgcmV0dXJuIG5ldyBQb3B1cFNlbGVjdG9ycyhtYWluID09PSB2b2lkIDAgPyB0aGlzLm1haW4gOiBtYWluLCBib2R5ID09PSB2b2lkIDAgPyB0aGlzLmJvZHkgOiBib2R5LCBjbG9zZSA9PT0gdm9pZCAwID8gdGhpcy5jbG9zZSA6IGNsb3NlLCB0aXRsZSA9PT0gdm9pZCAwID8gdGhpcy50aXRsZSA6IHRpdGxlLCBzaGFkb3cgPT09IHZvaWQgMCA/IHRoaXMuc2hhZG93IDogc2hhZG93KTtcbiAgfTtcbiAgUG9wdXBTZWxlY3RvcnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnUG9wdXBTZWxlY3RvcnMobWFpbj0nICsgS290bGluLnRvU3RyaW5nKHRoaXMubWFpbikgKyAoJywgYm9keT0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuYm9keSkpICsgKCcsIGNsb3NlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5jbG9zZSkpICsgKCcsIHRpdGxlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy50aXRsZSkpICsgKCcsIHNoYWRvdz0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuc2hhZG93KSkgKyAnKSc7XG4gIH07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLm1haW4pIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmJvZHkpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmNsb3NlKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy50aXRsZSkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuc2hhZG93KSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgUG9wdXBTZWxlY3RvcnMucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiAoS290bGluLmVxdWFscyh0aGlzLm1haW4sIG90aGVyLm1haW4pICYmIEtvdGxpbi5lcXVhbHModGhpcy5ib2R5LCBvdGhlci5ib2R5KSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuY2xvc2UsIG90aGVyLmNsb3NlKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudGl0bGUsIG90aGVyLnRpdGxlKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuc2hhZG93LCBvdGhlci5zaGFkb3cpKSkpKTtcbiAgfTtcbiAgZnVuY3Rpb24gUG9wdXBUZW1wbGF0ZXMod3JhcCwgdGl0bGUsIGNsb3NlLCBib2R5KSB7XG4gICAgdGhpcy53cmFwXzAgPSB3cmFwO1xuICAgIHRoaXMudGl0bGVfMCA9IHRpdGxlO1xuICAgIHRoaXMuY2xvc2VfMCA9IGNsb3NlO1xuICAgIHRoaXMuYm9keV8wID0gYm9keTtcbiAgfVxuICBQb3B1cFRlbXBsYXRlcy5wcm90b3R5cGUuZ2V0U3BlY2lhbGl6ZWRUZW1wbGF0ZV9jY3NrZmskID0gZnVuY3Rpb24gKHRpdGxlLCBjb250ZW50LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLndyYXBfMCwgW3dpZHRoLCBmb3JtYXQodGhpcy50aXRsZV8wLCBbdGhpcy5jbG9zZV8wLCB0aXRsZV0pLCBmb3JtYXQodGhpcy5ib2R5XzAsIFtoZWlnaHQsIGNvbnRlbnRdKV0pO1xuICB9O1xuICBQb3B1cFRlbXBsYXRlcy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQb3B1cFRlbXBsYXRlcycsIGludGVyZmFjZXM6IFtdfTtcbiAgUG9wdXBUZW1wbGF0ZXMucHJvdG90eXBlLmNvbXBvbmVudDFfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwXzA7XG4gIH07XG4gIFBvcHVwVGVtcGxhdGVzLnByb3RvdHlwZS5jb21wb25lbnQyXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGl0bGVfMDtcbiAgfTtcbiAgUG9wdXBUZW1wbGF0ZXMucHJvdG90eXBlLmNvbXBvbmVudDNfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9zZV8wO1xuICB9O1xuICBQb3B1cFRlbXBsYXRlcy5wcm90b3R5cGUuY29tcG9uZW50NF8wID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmJvZHlfMDtcbiAgfTtcbiAgUG9wdXBUZW1wbGF0ZXMucHJvdG90eXBlLmNvcHlfdzc0bmlrJCA9IGZ1bmN0aW9uICh3cmFwLCB0aXRsZSwgY2xvc2UsIGJvZHkpIHtcbiAgICByZXR1cm4gbmV3IFBvcHVwVGVtcGxhdGVzKHdyYXAgPT09IHZvaWQgMCA/IHRoaXMud3JhcF8wIDogd3JhcCwgdGl0bGUgPT09IHZvaWQgMCA/IHRoaXMudGl0bGVfMCA6IHRpdGxlLCBjbG9zZSA9PT0gdm9pZCAwID8gdGhpcy5jbG9zZV8wIDogY2xvc2UsIGJvZHkgPT09IHZvaWQgMCA/IHRoaXMuYm9keV8wIDogYm9keSk7XG4gIH07XG4gIFBvcHVwVGVtcGxhdGVzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ1BvcHVwVGVtcGxhdGVzKHdyYXA9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLndyYXBfMCkgKyAoJywgdGl0bGU9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnRpdGxlXzApKSArICgnLCBjbG9zZT0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuY2xvc2VfMCkpICsgKCcsIGJvZHk9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmJvZHlfMCkpICsgJyknO1xuICB9O1xuICBQb3B1cFRlbXBsYXRlcy5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy53cmFwXzApIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnRpdGxlXzApIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmNsb3NlXzApIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmJvZHlfMCkgfCAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIFBvcHVwVGVtcGxhdGVzLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PT0gb3RoZXIgfHwgKG90aGVyICE9PSBudWxsICYmICh0eXBlb2Ygb3RoZXIgPT09ICdvYmplY3QnICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihvdGhlcikgJiYgKEtvdGxpbi5lcXVhbHModGhpcy53cmFwXzAsIG90aGVyLndyYXBfMCkgJiYgS290bGluLmVxdWFscyh0aGlzLnRpdGxlXzAsIG90aGVyLnRpdGxlXzApICYmIEtvdGxpbi5lcXVhbHModGhpcy5jbG9zZV8wLCBvdGhlci5jbG9zZV8wKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuYm9keV8wLCBvdGhlci5ib2R5XzApKSkpKTtcbiAgfTtcbiAgZnVuY3Rpb24gUG9wdXAoY29uZmlnKSB7XG4gICAgUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgdGhpcy5jb25maWdfMCA9IGNvbmZpZztcbiAgICB0aGlzLnNldEhhbmRsZXJzXzAoKTtcbiAgfVxuICBmdW5jdGlvbiBQb3B1cCRDb21wYW5pb24oKSB7XG4gICAgUG9wdXAkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLlRJVExFX0hFSUdIVF8wID0gMjk7XG4gICAgdGhpcy5PRkZTRVRfQVJPVU5EX0JPRFlfMCA9IDUwO1xuICAgIHRoaXMuc2VsZWN0b3JzXzAgPSBuZXcgUG9wdXBTZWxlY3RvcnMoJy5ib3gnLCAnLmJveCAuYm9keScsICcuYm94IC50aXRsZSAuY2xvc2UnLCAnLmJveCAudGl0bGUgLnRleHQnLCAnLmJveF9zaGFkb3cnKTtcbiAgICB0aGlzLnRlbXBsYXRlc18wID0gbmV3IFBvcHVwVGVtcGxhdGVzKCc8ZGl2IGNsYXNzPVwiYm94X3NoYWRvd1wiPjxcXC9kaXY+PGRpdiBjbGFzcz1cImJveFwiIHN0eWxlPVwid2lkdGg6ezF9cHg7b3BhY2l0eTowLjBcIj57Mn17M308XFwvZGl2PicsICc8ZGl2IGNsYXNzPVwidGl0bGVcIj57MX08ZGl2IGNsYXNzPVwidGV4dFwiPnsyfTxcXC9kaXY+PFxcL2Rpdj4nLCAnPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNsb3NlXCI+PFxcL2E+JywgJzxkaXYgY2xhc3M9XCJib2R5XCIgc3R5bGU9XCJtaW4taGVpZ2h0OnsxfXB4XCI+ezJ9PFxcL2Rpdj4nKTtcbiAgfVxuICBQb3B1cCRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFBvcHVwJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUG9wdXAkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUG9wdXAkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBQb3B1cCRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUG9wdXAkb3BlbiRsYW1iZGEoKSB7XG4gICAgJG1vZHVsZSRqcXVlcnkoJy5ib3gnKS5mYWRlVG8oNTAwLCAxLjApO1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIFBvcHVwLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLm1haW4pLnJlbW92ZSgpO1xuICAgICRtb2R1bGUkanF1ZXJ5KGVuc3VyZU5vdE51bGwoZG9jdW1lbnQuYm9keSkpLmFwcGVuZChQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS50ZW1wbGF0ZXNfMC5nZXRTcGVjaWFsaXplZFRlbXBsYXRlX2Njc2tmayQodGhpcy5jb25maWdfMC50aXRsZSwgdGhpcy5jb25maWdfMC5jb250ZW50LCB0aGlzLmNvbmZpZ18wLm9wdGltaXplZFdpZHRoLCB0aGlzLmNvbmZpZ18wLmhlaWdodCAtIDI5IHwgMCkpO1xuICAgIHRoaXMuY29tcHV0ZVNpemVzX3lvMmNxZyQoUG9wdXAkb3BlbiRsYW1iZGEpO1xuICB9O1xuICBQb3B1cC5wcm90b3R5cGUuY29tcHV0ZVNpemVzX3lvMmNxZyQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMClcbiAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgd2luZG93SGVpZ2h0ID0gbnVtYmVyVG9JbnQoJG1vZHVsZSRqcXVlcnkod2luZG93KS5oZWlnaHQoKSk7XG4gICAgdmFyIHdpbmRvd1dpZHRoID0gbnVtYmVyVG9JbnQoJG1vZHVsZSRqcXVlcnkod2luZG93KS53aWR0aCgpKTtcbiAgICBpZiAodGhpcy5jb25maWdfMC5tYXhIZWlnaHQgPT0gbnVsbCB8fCB0aGlzLmNvbmZpZ18wLm1heEhlaWdodCA+ICh3aW5kb3dIZWlnaHQgLSA1MCB8IDApKVxuICAgICAgdG1wJCA9IHdpbmRvd0hlaWdodCAtIDUwIHwgMDtcbiAgICBlbHNlXG4gICAgICB0bXAkID0gdGhpcy5jb25maWdfMC5tYXhIZWlnaHQ7XG4gICAgdmFyIG1heEhlaWdodCA9IHRtcCQ7XG4gICAgdmFyIG93bkhlaWdodCA9IG51bWJlclRvRG91YmxlKCRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLm1haW4pLmhlaWdodCgpKTtcbiAgICB2YXIgb3duV2lkdGggPSBudW1iZXJUb0RvdWJsZSgkbW9kdWxlJGpxdWVyeShQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zZWxlY3RvcnNfMC5tYWluKS53aWR0aCgpKTtcbiAgICAkbW9kdWxlJGpxdWVyeShQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zZWxlY3RvcnNfMC5tYWluKS5jc3MoJ21heEhlaWdodCcsICdgJyArIG1heEhlaWdodCArICdweCcpO1xuICAgICRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLmJvZHkpLmNzcygnbWF4SGVpZ2h0JywgKG1heEhlaWdodCAtIDI5IHwgMCkudG9TdHJpbmcoKSArICdweCcpO1xuICAgICRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLm1haW4pLmNzcygndG9wJywgcm91bmQoKHdpbmRvd0hlaWdodCAtIG93bkhlaWdodCkgLyAyKS50b1N0cmluZygpICsgJ3B4Jyk7XG4gICAgJG1vZHVsZSRqcXVlcnkoUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAubWFpbikuY3NzKCdsZWZ0Jywgcm91bmQoKHdpbmRvd1dpZHRoIC0gb3duV2lkdGgpIC8gMikudG9TdHJpbmcoKSArICdweCcpO1xuICAgIGNhbGxiYWNrICE9IG51bGwgPyBjYWxsYmFjaygpIDogbnVsbDtcbiAgfTtcbiAgUG9wdXAucHJvdG90eXBlLmNsb3NlXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgJG1vZHVsZSRqcXVlcnkoUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAubWFpbikucmVtb3ZlKCk7XG4gICAgJG1vZHVsZSRqcXVlcnkoUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAuc2hhZG93KS5yZW1vdmUoKTtcbiAgfTtcbiAgZnVuY3Rpb24gUG9wdXAkc2V0SGFuZGxlcnMkbGFtYmRhJGxhbWJkYSh0aGlzJFBvcHVwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBmXzApIHtcbiAgICAgIHRoaXMkUG9wdXAuY2xvc2VfMCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gUG9wdXAkc2V0SGFuZGxlcnMkbGFtYmRhJGxhbWJkYV8wKHRoaXMkUG9wdXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgdGhpcyRQb3B1cC5jbG9zZV8wKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBQb3B1cCRzZXRIYW5kbGVycyRsYW1iZGEodGhpcyRQb3B1cCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZl8wKSB7XG4gICAgICB0aGlzJFBvcHVwLmNvbXB1dGVTaXplc195bzJjcWckKCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIFBvcHVwLnByb3RvdHlwZS5zZXRIYW5kbGVyc18wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkcmVjZWl2ZXIgPSAkbW9kdWxlJGpxdWVyeShlbnN1cmVOb3ROdWxsKGRvY3VtZW50LmJvZHkpKTtcbiAgICAkcmVjZWl2ZXIub24oJ2NsaWNrJywgUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAuY2xvc2UsIFBvcHVwJHNldEhhbmRsZXJzJGxhbWJkYSRsYW1iZGEodGhpcykpO1xuICAgICRyZWNlaXZlci5vbignY2xpY2snLCBQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zZWxlY3RvcnNfMC5zaGFkb3csIFBvcHVwJHNldEhhbmRsZXJzJGxhbWJkYSRsYW1iZGFfMCh0aGlzKSk7XG4gICAgJG1vZHVsZSRqcXVlcnkod2luZG93KS5vbigncmVzaXplJywgUG9wdXAkc2V0SGFuZGxlcnMkbGFtYmRhKHRoaXMpKTtcbiAgfTtcbiAgUG9wdXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUG9wdXAnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIGZvcm1hdCgkcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICB2YXIgcmVnZXggPSBSZWdleF9pbml0XzAoJ1xcXFx7KFxcXFxkKyl9JywgUmVnZXhPcHRpb24uTVVMVElMSU5FKTtcbiAgICB2YXIgcmVwbGFjZV8yMHdzbWEkcmVzdWx0O1xuICAgIHJlcGxhY2VfMjB3c21hJGJyZWFrOiBkbyB7XG4gICAgICB2YXIgbWF0Y2ggPSByZWdleC5maW5kXzkwNWF6dSQoJHJlY2VpdmVyKTtcbiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgIHJlcGxhY2VfMjB3c21hJHJlc3VsdCA9ICRyZWNlaXZlci50b1N0cmluZygpO1xuICAgICAgICBicmVhayByZXBsYWNlXzIwd3NtYSRicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0U3RhcnQgPSAwO1xuICAgICAgdmFyIGxlbmd0aCA9ICRyZWNlaXZlci5sZW5ndGg7XG4gICAgICB2YXIgc2IgPSBTdHJpbmdCdWlsZGVyX2luaXRfMChsZW5ndGgpO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgZm91bmRNYXRjaCA9IGVuc3VyZU5vdE51bGwobWF0Y2gpO1xuICAgICAgICBzYi5hcHBlbmRfZXpic2RoJCgkcmVjZWl2ZXIsIGxhc3RTdGFydCwgZm91bmRNYXRjaC5yYW5nZS5zdGFydCk7XG4gICAgICAgIHZhciB0bXAkID0gc2IuYXBwZW5kX2d3MDB2OSQ7XG4gICAgICAgIHZhciBudW1iZXIgPSB0b0ludChmb3VuZE1hdGNoLmdyb3VwVmFsdWVzLmdldF96YTNscGEkKDEpKTtcbiAgICAgICAgdG1wJC5jYWxsKHNiLCBhcmdzLmxlbmd0aCA+PSBudW1iZXIgPyBhcmdzW251bWJlciAtIDEgfCAwXS50b1N0cmluZygpIDogJycpO1xuICAgICAgICBsYXN0U3RhcnQgPSBmb3VuZE1hdGNoLnJhbmdlLmVuZEluY2x1c2l2ZSArIDEgfCAwO1xuICAgICAgICBtYXRjaCA9IGZvdW5kTWF0Y2gubmV4dCgpO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChsYXN0U3RhcnQgPCBsZW5ndGggJiYgbWF0Y2ggIT0gbnVsbCk7XG4gICAgICBpZiAobGFzdFN0YXJ0IDwgbGVuZ3RoKSB7XG4gICAgICAgIHNiLmFwcGVuZF9lemJzZGgkKCRyZWNlaXZlciwgbGFzdFN0YXJ0LCBsZW5ndGgpO1xuICAgICAgfVxuICAgICAgcmVwbGFjZV8yMHdzbWEkcmVzdWx0ID0gc2IudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgIHdoaWxlIChmYWxzZSk7XG4gICAgcmV0dXJuIHJlcGxhY2VfMjB3c21hJHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBlc2NhcGVIdG1sKCRyZWNlaXZlcikge1xuICAgIHZhciAkcmVjZWl2ZXJfMCA9IFJlZ2V4X2luaXRfMCgnJicsIFJlZ2V4T3B0aW9uLk1VTFRJTElORSkucmVwbGFjZV94MnVxZXUkKCRyZWNlaXZlciwgJyZhbXA7Jyk7XG4gICAgdmFyICRyZWNlaXZlcl8xID0gUmVnZXhfaW5pdF8wKCc8JywgUmVnZXhPcHRpb24uTVVMVElMSU5FKS5yZXBsYWNlX3gydXFldSQoJHJlY2VpdmVyXzAsICcmbHQ7Jyk7XG4gICAgdmFyICRyZWNlaXZlcl8yID0gUmVnZXhfaW5pdCgnPicpLnJlcGxhY2VfeDJ1cWV1JCgkcmVjZWl2ZXJfMSwgJyZndDsnKTtcbiAgICB2YXIgJHJlY2VpdmVyXzMgPSBSZWdleF9pbml0XzAoJ1wiJywgUmVnZXhPcHRpb24uTVVMVElMSU5FKS5yZXBsYWNlX3gydXFldSQoJHJlY2VpdmVyXzIsICcmcXVvdDsnKTtcbiAgICByZXR1cm4gUmVnZXhfaW5pdF8wKFwiJ1wiLCBSZWdleE9wdGlvbi5NVUxUSUxJTkUpLnJlcGxhY2VfeDJ1cWV1JCgkcmVjZWl2ZXJfMywgJyYjMDM5OycpO1xuICB9XG4gIGZ1bmN0aW9uIGdldF9zZWFyY2hNYXAoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHJhd1NlYXJjaCA9IHNwbGl0KCRyZWNlaXZlci5zZWFyY2guc3Vic3RyaW5nKDEpLCBbJyYnXSk7XG4gICAgdmFyIG9ialVSTCA9IExpbmtlZEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9IHJhd1NlYXJjaC5pdGVyYXRvcigpO1xuICAgIGxvb3BfbGFiZWw6IHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgIGFjdGlvbiRicmVhazogZG8ge1xuICAgICAgICB2YXIgcGFyYW1Db21wb25lbnRzID0gc3BsaXQoZWxlbWVudCwgWyc9J10pO1xuICAgICAgICBpZiAocGFyYW1Db21wb25lbnRzLnNpemUgIT09IDIpXG4gICAgICAgICAgYnJlYWsgYWN0aW9uJGJyZWFrO1xuICAgICAgICB2YXIga2V5ID0gcGFyYW1Db21wb25lbnRzLmdldF96YTNscGEkKDApO1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJhbUNvbXBvbmVudHMuZ2V0X3phM2xwYSQoMSk7XG4gICAgICAgIG9ialVSTC5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqVVJMO1xuICB9XG4gIGZ1bmN0aW9uIE1hcmtVcEFycmFuZ2VyKCkge1xuICAgIE1hcmtVcEFycmFuZ2VyX2luc3RhbmNlID0gdGhpcztcbiAgfVxuICBNYXJrVXBBcnJhbmdlci5wcm90b3R5cGUuc2hvd01hcmtVcEZvclBhcmFncmFwaHNfdzZnOXA3JCA9IGZ1bmN0aW9uIChwYXJhZ3JhcGhzSW5mbywgc2VjdGlvbnNQYXRoKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHRtcCQgPSBwYXJhZ3JhcGhzSW5mby5pdGVyYXRvcigpO1xuICAgIGxvb3BfbGFiZWw6IHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgIHZhciBwYXJhZ3JhcGhJbmRleCA9IGNoZWNrSW5kZXhPdmVyZmxvdygodG1wJF8wID0gaW5kZXgsIGluZGV4ID0gdG1wJF8wICsgMSB8IDAsIHRtcCRfMCkpO1xuICAgICAgYWN0aW9uJGJyZWFrOiBkbyB7XG4gICAgICAgIHZhciB0bXAkXzEsIHRtcCRfMiwgdG1wJF8zO1xuICAgICAgICB2YXIgcGFyYWdyYXBoTnVtYmVyID0gcGFyYWdyYXBoSW5kZXggKyAxIHwgMDtcbiAgICAgICAgdmFyIHRtcCRfNDtcbiAgICAgICAgaWYgKCh0bXAkXzIgPSBLb3RsaW4uaXNUeXBlKHRtcCRfMSA9IGl0ZW0uZ2V0XzExcmIkKCdwYXJhZ3JhcGhFbGVtZW50JyksIEhUTUxFbGVtZW50KSA/IHRtcCRfMSA6IG51bGwpICE9IG51bGwpIHtcbiAgICAgICAgICB2YXIgJHJlY2VpdmVyID0gJG1vZHVsZSRqcXVlcnkodG1wJF8yKTtcbiAgICAgICAgICAkcmVjZWl2ZXIuYWRkQ2xhc3MoJ3dpdGgtdGVzdHMnKTtcbiAgICAgICAgICB0bXAkXzQgPSAkcmVjZWl2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2VcbiAgICAgICAgICB0bXAkXzQgPSBudWxsO1xuICAgICAgICB0bXAkXzMgPSB0bXAkXzQ7XG4gICAgICAgIGlmICh0bXAkXzMgPT0gbnVsbCkge1xuICAgICAgICAgIGJyZWFrIGFjdGlvbiRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYWdyYXBoRWwgPSB0bXAkXzM7XG4gICAgICAgIHRoaXMuc2hvd1NlbnRlbmNlc051bWJlckZvclBhcmFncmFwaF8wKHBhcmFncmFwaEVsLCBwYXJhZ3JhcGhOdW1iZXIsIHNlY3Rpb25zUGF0aCk7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIE1hcmtVcEFycmFuZ2VyJHNob3dTZW50ZW5jZXNOdW1iZXJGb3JQYXJhZ3JhcGgkbGFtYmRhKGNsb3N1cmUkc2VudGVuY2VDb3VudGVyLCBjbG9zdXJlJHNlY3Rpb25QYXRoLCBjbG9zdXJlJHBhcmFncmFwaE51bWJlciwgdGhpcyRNYXJrVXBBcnJhbmdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZWwpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHNlbnRlbmNlID0gJG1vZHVsZSRqcXVlcnkoZWwpO1xuICAgICAgdmFyIGV4aXN0aW5nTnVtYmVySW5mbyA9IHNlbnRlbmNlLmZpbmQoJy5udW1iZXItaW5mbycpO1xuICAgICAgaWYgKG51bWJlclRvSW50KGV4aXN0aW5nTnVtYmVySW5mby5sZW5ndGgpID4gMCkge1xuICAgICAgICBleGlzdGluZ051bWJlckluZm8ucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICB0aGlzJE1hcmtVcEFycmFuZ2VyLmluc2VydFNlbnRlbmNlTnVtYmVyX2JnejBmNyQoc2VudGVuY2UsIGNsb3N1cmUkc2VudGVuY2VDb3VudGVyLnYsIGNsb3N1cmUkc2VjdGlvblBhdGgsIGNsb3N1cmUkcGFyYWdyYXBoTnVtYmVyLCBjbG9zdXJlJHNlbnRlbmNlQ291bnRlci52KTtcbiAgICAgIHJldHVybiB0bXAkID0gY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiwgY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiA9IHRtcCQgKyAxIHwgMCwgdG1wJDtcbiAgICB9O1xuICB9XG4gIE1hcmtVcEFycmFuZ2VyLnByb3RvdHlwZS5zaG93U2VudGVuY2VzTnVtYmVyRm9yUGFyYWdyYXBoXzAgPSBmdW5jdGlvbiAocGFyYWdyYXBoLCBwYXJhZ3JhcGhOdW1iZXIsIHNlY3Rpb25QYXRoKSB7XG4gICAgdmFyIHNlbnRlbmNlcyA9ICRtb2R1bGUkanF1ZXJ5KHBhcmFncmFwaCkuZmluZCgnLnNlbnRlbmNlJyk7XG4gICAgdmFyIHNlbnRlbmNlQ291bnRlciA9IHt2OiAxfTtcbiAgICB0aGlzLmluc2VydFBhcmFncmFwaE51bWJlcl9xcDg5NGYkKCRtb2R1bGUkanF1ZXJ5KHBhcmFncmFwaCksIHBhcmFncmFwaE51bWJlciwgc2VjdGlvblBhdGgsIHBhcmFncmFwaE51bWJlcik7XG4gICAgc2VudGVuY2VzLmVhY2goTWFya1VwQXJyYW5nZXIkc2hvd1NlbnRlbmNlc051bWJlckZvclBhcmFncmFwaCRsYW1iZGEoc2VudGVuY2VDb3VudGVyLCBzZWN0aW9uUGF0aCwgcGFyYWdyYXBoTnVtYmVyLCB0aGlzKSk7XG4gIH07XG4gIE1hcmtVcEFycmFuZ2VyLnByb3RvdHlwZS5pbnNlcnRQYXJhZ3JhcGhOdW1iZXJfcXA4OTRmJCA9IGZ1bmN0aW9uIChlbGVtZW50LCBudW1iZXIsIHNlY3Rpb25QYXRoLCBwYXJhZ3JhcGhOdW1iZXIpIHtcbiAgICBlbGVtZW50LnByZXBlbmQoZm9ybWF0KFwiPHNwYW4gY2xhc3M9J3BhcmFncmFwaC1saW5rJyBkYXRhLWxpbms9J3sxfSc+ezJ9PFxcL3NwYW4+XCIsIFsncGFyYWdyYXBoPScgKyByZXBsYWNlKHNlY3Rpb25QYXRoLCAnICcsICcnKSArICcsJyArIHBhcmFncmFwaE51bWJlciwgbnVtYmVyXSkpO1xuICB9O1xuICBNYXJrVXBBcnJhbmdlci5wcm90b3R5cGUuaW5zZXJ0U2VudGVuY2VOdW1iZXJfYmd6MGY3JCA9IGZ1bmN0aW9uIChlbGVtZW50LCBudW1iZXIsIHNlY3Rpb25QYXRoLCBwYXJhZ3JhcGhOdW1iZXIsIHNlbnRlbmNlTnVtYmVyKSB7XG4gICAgZWxlbWVudC5wcmVwZW5kKGZvcm1hdChcIjxzcGFuIGNsYXNzPSdudW1iZXItaW5mbycgZGF0YS1wYXRoPSd7MX0nIGRhdGEtbGluaz0nezJ9Jz57M308XFwvc3Bhbj5cIiwgW3NlY3Rpb25QYXRoICsgJyAtPiBwYXJhZ3JhcGggJyArIHBhcmFncmFwaE51bWJlciArICcgLT4gc2VudGVuY2UgJyArIHNlbnRlbmNlTnVtYmVyLCAnc2VudGVuY2U9JyArIHJlcGxhY2Uoc2VjdGlvblBhdGgsICcgJywgJycpICsgJywnICsgcGFyYWdyYXBoTnVtYmVyICsgJywnICsgc2VudGVuY2VOdW1iZXIsIG51bWJlcl0pKTtcbiAgfTtcbiAgTWFya1VwQXJyYW5nZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ01hcmtVcEFycmFuZ2VyJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgTWFya1VwQXJyYW5nZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBNYXJrVXBBcnJhbmdlcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoTWFya1VwQXJyYW5nZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBNYXJrVXBBcnJhbmdlcigpO1xuICAgIH1cbiAgICByZXR1cm4gTWFya1VwQXJyYW5nZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gU2lkZWJhclZpZXdlcigpIHtcbiAgICBTaWRlYmFyVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIGZ1bmN0aW9uIFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uKCkge1xuICAgIFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLlJJR0hUX0FSUk9XX0lDT04gPSAnLi9yZXNvdXJjZXMvaW1hZ2VzL3BsYXktYXJyb3cucG5nJztcbiAgICB0aGlzLkRPV05fQVJST1dfSUNPTiA9ICcuL3Jlc291cmNlcy9pbWFnZXMvZG93bi1hcnJvdy5wbmcnO1xuICB9XG4gIFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5pbnNlcnRBcnJvd0ljb25fbGppeTh6JCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgZWxlbWVudC50b2dnbGVDbGFzcygndW5yb2xsZWQnKTtcbiAgICBlbGVtZW50LmFwcGVuZCgnPGltZyBzcmM9XCIuL3Jlc291cmNlcy9pbWFnZXMvcGxheS1hcnJvdy5wbmdcIiBjbGFzcz1cIm5hdi1pY29uXCI+Jyk7XG4gIH07XG4gIFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBTaWRlYmFyVmlld2VyJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTaWRlYmFyVmlld2VyJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBTaWRlYmFyVmlld2VyJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTcGVjQ292ZXJhZ2VIaWdobGlnaHRlcigpIHtcbiAgICBTcGVjQ292ZXJhZ2VIaWdobGlnaHRlcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5URU1QTEFURSA9IFwiXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGVzdC1jb3ZlcmFnZS12aWV3Jz5cXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPSd0ZXN0LWFyZWEnPlxcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nZGlhZ25vc3RpY3MnPkZyb250LWVuZCBkaWFnbm9zdGljcyB0ZXN0czxcXC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdib3gnPkNvZGVnZW4gYm94IHRlc3RzPFxcL29wdGlvbj5cXG4gICAgICAgICAgICAgICAgPFxcL3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPSd0ZXN0LXR5cGUnPjxcXC9zZWxlY3Q+XFxuICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT0ndGVzdC1saW5rLXR5cGUnPlxcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nbWFpbic+TWFpbiB0ZXN0czxcXC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdwcmltYXJ5Jz5QcmltYXJ5IHRlc3RzPFxcL29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J3NlY29uZGFyeSc+U2Vjb25kYXJ5IHRlc3RzPFxcL29wdGlvbj5cXG4gICAgICAgICAgICAgICAgPFxcL3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPSd0ZXN0LW51bWJlcic+PFxcL3NlbGVjdD5cXG4gICAgICAgICAgICA8XFwvZGl2PlxcbiAgICAgICAgXCI7XG4gIH1cbiAgU3BlY0NvdmVyYWdlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmhhc1VuZXhwZWN0ZWRCZWhhdmlvdXJfMCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICB2YXIgYW55JHJlc3VsdDtcbiAgICBhbnkkYnJlYWs6IGRvIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBDb2xsZWN0aW9uKSAmJiAkcmVjZWl2ZXIuaXNFbXB0eSgpKSB7XG4gICAgICAgIGFueSRyZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgfVxuICAgICAgdG1wJCA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGlmIChlbGVtZW50LnRlc3RJbmZvLnVuZXhwZWN0ZWRCZWhhdmlvdXIpIHtcbiAgICAgICAgICBhbnkkcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICBicmVhayBhbnkkYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFueSRyZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgIHdoaWxlIChmYWxzZSk7XG4gICAgcmV0dXJuIGFueSRyZXN1bHQ7XG4gIH07XG4gIFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5zaG93U2VudGVuY2VDb3ZlcmFnZV8wID0gZnVuY3Rpb24gKHNlbnRlbmNlLCBzcGVjU2VudGVuY2VUZXN0U2V0KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB2YXIgdGVzdHNCeUFyZWEgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHZhciB1bmV4cGVjdGVkQmVoYXZpb3VyID0gZmFsc2U7XG4gICAgdG1wJCA9IHNwZWNTZW50ZW5jZVRlc3RTZXQuc3BlY1Rlc3RzLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciB0bXAkXzEgPSB0bXAkLm5leHQoKTtcbiAgICAgIHZhciB0ZXN0QXJlYSA9IHRtcCRfMS5rZXk7XG4gICAgICB2YXIgbGlzdE9mVGVzdHMgPSB0bXAkXzEudmFsdWU7XG4gICAgICB2YXIgdGVzdE51bWJlckJ5VHlwZUluZm8gPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gTGlua2VkSGFzaE1hcF9pbml0XzAoKTtcbiAgICAgIHZhciB0bXAkXzI7XG4gICAgICB0bXAkXzIgPSBsaXN0T2ZUZXN0cy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCRfMi5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkXzIubmV4dCgpO1xuICAgICAgICB2YXIga2V5ID0gZWxlbWVudC50ZXN0UGxhY2UudGVzdFR5cGU7XG4gICAgICAgIHZhciB0bXAkXzBfMDtcbiAgICAgICAgdmFyIHZhbHVlID0gZGVzdGluYXRpb24uZ2V0XzExcmIkKGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGFuc3dlciA9IEFycmF5TGlzdF9pbml0KCk7XG4gICAgICAgICAgZGVzdGluYXRpb24ucHV0X3h3emM5cCQoa2V5LCBhbnN3ZXIpO1xuICAgICAgICAgIHRtcCRfMF8wID0gYW5zd2VyO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0bXAkXzBfMCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ID0gdG1wJF8wXzA7XG4gICAgICAgIGxpc3QuYWRkXzExcmIkKGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgdG1wJF8wID0gZGVzdGluYXRpb24uZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCRfMC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIHRtcCRfMyA9IHRtcCRfMC5uZXh0KCk7XG4gICAgICAgIHZhciB0ZXN0VHlwZSA9IHRtcCRfMy5rZXk7XG4gICAgICAgIHZhciB0eXBlZFRlc3RzID0gdG1wJF8zLnZhbHVlO1xuICAgICAgICB2YXIgZGVzdGluYXRpb25fMCA9IEFycmF5TGlzdF9pbml0KCk7XG4gICAgICAgIHZhciB0bXAkXzQ7XG4gICAgICAgIHRtcCRfNCA9IHR5cGVkVGVzdHMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCRfNC5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudF8wID0gdG1wJF80Lm5leHQoKTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnRfMC50ZXN0Q2FzZXMuaXNFbXB0eSgpKVxuICAgICAgICAgICAgZGVzdGluYXRpb25fMC5hZGRfMTFyYiQoZWxlbWVudF8wKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlsdGVyZWRUZXN0cyA9IGRlc3RpbmF0aW9uXzA7XG4gICAgICAgIHVuZXhwZWN0ZWRCZWhhdmlvdXIgPSB1bmV4cGVjdGVkQmVoYXZpb3VyIHx8IHRoaXMuaGFzVW5leHBlY3RlZEJlaGF2aW91cl8wKHR5cGVkVGVzdHMpO1xuICAgICAgICBpZiAoIWZpbHRlcmVkVGVzdHMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgdGVzdE51bWJlckJ5VHlwZUluZm8uYWRkXzExcmIkKGZpbHRlcmVkVGVzdHMuc2l6ZS50b1N0cmluZygpICsgJyAnICsgdGVzdFR5cGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgdGVzdHNCeUFyZWEuYWRkXzExcmIkKCc8Yj4nICsgdGVzdEFyZWEuZGVzY3JpcHRpb24gKyAnPFxcL2I+OiAnICsgam9pblRvU3RyaW5nKHRlc3ROdW1iZXJCeVR5cGVJbmZvLCAnLCAnKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVuZXhwZWN0ZWRCZWhhdmlvdXIpIHtcbiAgICAgIHNlbnRlbmNlLmFkZENsYXNzKCd1bmV4cGVjdGVkLWJlaGF2aW91cicpLnBhcmVudCgpLmJlZm9yZShcIjxzcGFuIGNsYXNzPSd1bmV4cGVjdGVkLWJlaGF2aW91ci1tYXJrZXInPjxcXC9zcGFuPlwiKTtcbiAgICB9XG4gICAgaWYgKCF0ZXN0c0J5QXJlYS5pc0VtcHR5KCkpIHtcbiAgICAgIHNlbnRlbmNlLnByZXBlbmQoZm9ybWF0KFwiPHNwYW4gY2xhc3M9J2NvdmVyYWdlLWluZm8nPnsxfTxcXC9zcGFuPlwiLCBbam9pblRvU3RyaW5nKHRlc3RzQnlBcmVhLCAnPGJyIC8+JyldKSkuZGF0YSgndGVzdHMnLCBzcGVjU2VudGVuY2VUZXN0U2V0KS5hZGRDbGFzcygnY292ZXJlZCcpO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gU3BlY0NvdmVyYWdlSGlnaGxpZ2h0ZXIkc2hvd1BhcmFncmFwaENvdmVyYWdlJGxhbWJkYShjbG9zdXJlJHNwZWNQYXJhZ3JhcGhUZXN0U2V0LCBjbG9zdXJlJHNlbnRlbmNlQ291bnRlciwgdGhpcyRTcGVjQ292ZXJhZ2VIaWdobGlnaHRlciwgY2xvc3VyZSRzZWN0aW9uUGF0aCwgY2xvc3VyZSRwYXJhZ3JhcGhOdW1iZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGVsKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciBzZW50ZW5jZSA9ICRtb2R1bGUkanF1ZXJ5KGVsKTtcbiAgICAgIHZhciBleGlzdGluZ051bWJlckluZm8gPSBzZW50ZW5jZS5maW5kKCcubnVtYmVyLWluZm8nKTtcbiAgICAgIGlmIChudW1iZXJUb0ludChleGlzdGluZ051bWJlckluZm8ubGVuZ3RoKSA+IDApIHtcbiAgICAgICAgZXhpc3RpbmdOdW1iZXJJbmZvLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHNlbnRlbmNlVGVzdFNldCA9IG5ldyBTcGVjU2VudGVuY2UoY2xvc3VyZSRzcGVjUGFyYWdyYXBoVGVzdFNldCwgY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudik7XG4gICAgICB0aGlzJFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyLnNob3dTZW50ZW5jZUNvdmVyYWdlXzAoc2VudGVuY2UsIHNlbnRlbmNlVGVzdFNldCk7XG4gICAgICBNYXJrVXBBcnJhbmdlcl9nZXRJbnN0YW5jZSgpLmluc2VydFNlbnRlbmNlTnVtYmVyX2JnejBmNyQoc2VudGVuY2UsIGNsb3N1cmUkc2VudGVuY2VDb3VudGVyLnYsIGNsb3N1cmUkc2VjdGlvblBhdGgsIGNsb3N1cmUkcGFyYWdyYXBoTnVtYmVyLCBjbG9zdXJlJHNlbnRlbmNlQ291bnRlci52KTtcbiAgICAgIHJldHVybiB0bXAkID0gY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiwgY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiA9IHRtcCQgKyAxIHwgMCwgdG1wJDtcbiAgICB9O1xuICB9XG4gIFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5zaG93UGFyYWdyYXBoQ292ZXJhZ2VfMCA9IGZ1bmN0aW9uIChwYXJhZ3JhcGgsIHNlY3Rpb25QYXRoLCBzcGVjUGFyYWdyYXBoVGVzdFNldCkge1xuICAgIHZhciBzZW50ZW5jZXMgPSAkbW9kdWxlJGpxdWVyeShwYXJhZ3JhcGgpLmZpbmQoJy5zZW50ZW5jZScpO1xuICAgIHZhciBzZW50ZW5jZUNvdW50ZXIgPSB7djogMX07XG4gICAgdmFyIHBhcmFncmFwaE51bWJlciA9IHNwZWNQYXJhZ3JhcGhUZXN0U2V0LnBhcmFncmFwaDtcbiAgICBNYXJrVXBBcnJhbmdlcl9nZXRJbnN0YW5jZSgpLmluc2VydFBhcmFncmFwaE51bWJlcl9xcDg5NGYkKCRtb2R1bGUkanF1ZXJ5KHBhcmFncmFwaCksIHBhcmFncmFwaE51bWJlciwgc2VjdGlvblBhdGgsIHBhcmFncmFwaE51bWJlcik7XG4gICAgc2VudGVuY2VzLmVhY2goU3BlY0NvdmVyYWdlSGlnaGxpZ2h0ZXIkc2hvd1BhcmFncmFwaENvdmVyYWdlJGxhbWJkYShzcGVjUGFyYWdyYXBoVGVzdFNldCwgc2VudGVuY2VDb3VudGVyLCB0aGlzLCBzZWN0aW9uUGF0aCwgcGFyYWdyYXBoTnVtYmVyKSk7XG4gIH07XG4gIFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5zaG93Q292ZXJhZ2VPZlBhcmFncmFwaHNfODk4Z3gwJCA9IGZ1bmN0aW9uIChwYXJhZ3JhcGhzSW5mbywgc3BlY1NlY3Rpb25UZXN0U2V0LCBzZWN0aW9uc1BhdGgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdG1wJCA9IHBhcmFncmFwaHNJbmZvLml0ZXJhdG9yKCk7XG4gICAgbG9vcF9sYWJlbDogd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgaXRlbSA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyIHBhcmFncmFwaEluZGV4ID0gY2hlY2tJbmRleE92ZXJmbG93KCh0bXAkXzAgPSBpbmRleCwgaW5kZXggPSB0bXAkXzAgKyAxIHwgMCwgdG1wJF8wKSk7XG4gICAgICBhY3Rpb24kYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCRfMSwgdG1wJF8yLCB0bXAkXzM7XG4gICAgICAgIHZhciBwYXJhZ3JhcGhOdW1iZXIgPSBwYXJhZ3JhcGhJbmRleCArIDEgfCAwO1xuICAgICAgICB2YXIgdG1wJF80O1xuICAgICAgICBpZiAoKHRtcCRfMiA9IEtvdGxpbi5pc1R5cGUodG1wJF8xID0gaXRlbS5nZXRfMTFyYiQoJ3BhcmFncmFwaEVsZW1lbnQnKSwgSFRNTEVsZW1lbnQpID8gdG1wJF8xIDogbnVsbCkgIT0gbnVsbCkge1xuICAgICAgICAgIHZhciAkcmVjZWl2ZXIgPSAkbW9kdWxlJGpxdWVyeSh0bXAkXzIpO1xuICAgICAgICAgICRyZWNlaXZlci5hZGRDbGFzcygnd2l0aC10ZXN0cycpO1xuICAgICAgICAgIHRtcCRfNCA9ICRyZWNlaXZlcjtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZVxuICAgICAgICAgIHRtcCRfNCA9IG51bGw7XG4gICAgICAgIHRtcCRfMyA9IHRtcCRfNDtcbiAgICAgICAgaWYgKHRtcCRfMyA9PSBudWxsKSB7XG4gICAgICAgICAgYnJlYWsgYWN0aW9uJGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhZ3JhcGhFbCA9IHRtcCRfMztcbiAgICAgICAgdmFyIHBhcmFncmFwaFRlc3RTZXQgPSBuZXcgU3BlY1BhcmFncmFwaChzcGVjU2VjdGlvblRlc3RTZXQsIHBhcmFncmFwaE51bWJlcik7XG4gICAgICAgIHRoaXMuc2hvd1BhcmFncmFwaENvdmVyYWdlXzAocGFyYWdyYXBoRWwsIHNlY3Rpb25zUGF0aCwgcGFyYWdyYXBoVGVzdFNldCk7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICB9XG4gIH07XG4gIFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTcGVjQ292ZXJhZ2VIaWdobGlnaHRlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3BlY0NvdmVyYWdlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3BlY0NvdmVyYWdlSGlnaGxpZ2h0ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyX2luc3RhbmNlO1xuICB9XG4gIHZhciBLb3RsaW5QbGF5Z3JvdW5kO1xuICBmdW5jdGlvbiBOYXZpZ2F0aW9uVHlwZShuYW1lLCBvcmRpbmFsKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICB9XG4gIGZ1bmN0aW9uIE5hdmlnYXRpb25UeXBlX2luaXRGaWVsZHMoKSB7XG4gICAgTmF2aWdhdGlvblR5cGVfaW5pdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIE5hdmlnYXRpb25UeXBlJFBSRVZfaW5zdGFuY2UgPSBuZXcgTmF2aWdhdGlvblR5cGUoJ1BSRVYnLCAwKTtcbiAgICBOYXZpZ2F0aW9uVHlwZSRORVhUX2luc3RhbmNlID0gbmV3IE5hdmlnYXRpb25UeXBlKCdORVhUJywgMSk7XG4gIH1cbiAgdmFyIE5hdmlnYXRpb25UeXBlJFBSRVZfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIE5hdmlnYXRpb25UeXBlJFBSRVZfZ2V0SW5zdGFuY2UoKSB7XG4gICAgTmF2aWdhdGlvblR5cGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBOYXZpZ2F0aW9uVHlwZSRQUkVWX2luc3RhbmNlO1xuICB9XG4gIHZhciBOYXZpZ2F0aW9uVHlwZSRORVhUX2luc3RhbmNlO1xuICBmdW5jdGlvbiBOYXZpZ2F0aW9uVHlwZSRORVhUX2dldEluc3RhbmNlKCkge1xuICAgIE5hdmlnYXRpb25UeXBlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gTmF2aWdhdGlvblR5cGUkTkVYVF9pbnN0YW5jZTtcbiAgfVxuICBOYXZpZ2F0aW9uVHlwZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOYXZpZ2F0aW9uVHlwZScsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gIGZ1bmN0aW9uIE5hdmlnYXRpb25UeXBlJHZhbHVlcygpIHtcbiAgICByZXR1cm4gW05hdmlnYXRpb25UeXBlJFBSRVZfZ2V0SW5zdGFuY2UoKSwgTmF2aWdhdGlvblR5cGUkTkVYVF9nZXRJbnN0YW5jZSgpXTtcbiAgfVxuICBOYXZpZ2F0aW9uVHlwZS52YWx1ZXMgPSBOYXZpZ2F0aW9uVHlwZSR2YWx1ZXM7XG4gIGZ1bmN0aW9uIE5hdmlnYXRpb25UeXBlJHZhbHVlT2YobmFtZSkge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnUFJFVic6XG4gICAgICAgIHJldHVybiBOYXZpZ2F0aW9uVHlwZSRQUkVWX2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdORVhUJzpcbiAgICAgICAgcmV0dXJuIE5hdmlnYXRpb25UeXBlJE5FWFRfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGRlZmF1bHQ6dGhyb3dJU0UoJ05vIGVudW0gY29uc3RhbnQgb3JnLmpldGJyYWlucy5rb3RsaW4uc3BlYy52aWV3ZXIuTmF2aWdhdGlvblR5cGUuJyArIG5hbWUpO1xuICAgIH1cbiAgfVxuICBOYXZpZ2F0aW9uVHlwZS52YWx1ZU9mXzYxenBvZSQgPSBOYXZpZ2F0aW9uVHlwZSR2YWx1ZU9mO1xuICBmdW5jdGlvbiBTcGVjVGVzdHNWaWV3ZXIoKSB7XG4gICAgU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzl0MmJoaSRfMCA9IHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzl0MmJoaSRfMDtcbiAgICB0aGlzLnRlc3RQb3B1cF9kcTgwcXkkXzAgPSB0aGlzLnRlc3RQb3B1cF9kcTgwcXkkXzA7XG4gIH1cbiAgZnVuY3Rpb24gU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbigpIHtcbiAgICBTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLlRFU1RTX1ZJRVdFUl9TRUxFQ1RPUl8wID0gJy50ZXN0LWNvdmVyYWdlLXZpZXcnO1xuICAgIHRoaXMuVEVTVF9BUkVBX1NFTEVDVE9SXzAgPSBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtYXJlYSddXCI7XG4gICAgdGhpcy5URVNUX0FSRUFfT1BUSU9OX1NFTEVDVE9SXzAgPSBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtYXJlYSddIG9wdGlvblwiO1xuICAgIHRoaXMuVEVTVF9UWVBFX1NFTEVDVE9SXzAgPSBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtdHlwZSddXCI7XG4gICAgdGhpcy5URVNUX1RZUEVfT1BUSU9OX1NFTEVDVE9SXzAgPSBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtdHlwZSddIG9wdGlvblwiO1xuICAgIHRoaXMuVEVTVF9UWVBFX09QVElPTl9URU1QTEFURV8wID0gXCI8b3B0aW9uIHZhbHVlPSd7MX0nPnsyfTxcXC9vcHRpb24+XCI7XG4gICAgdGhpcy5URVNUX1BSSU9SSVRZX1NFTEVDVE9SXzAgPSBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtbGluay10eXBlJ11cIjtcbiAgICB0aGlzLlRFU1RfUFJJT1JJVFlfT1BUSU9OX1NFTEVDVE9SXzAgPSBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtbGluay10eXBlJ10gb3B0aW9uXCI7XG4gICAgdGhpcy5URVNUX1BSSU9SSVRZX09QVElPTl9URU1QTEFURV8wID0gXCI8b3B0aW9uIHZhbHVlPSd7MX0nPnsyfTxcXC9vcHRpb24+XCI7XG4gICAgdGhpcy5URVNUX05VTUJFUl9TRUxFQ1RPUl8wID0gXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LW51bWJlciddXCI7XG4gICAgdGhpcy5URVNUX05VTUJFUl9PUFRJT05fU0VMRUNUT1JfMCA9IFwiLnRlc3QtY292ZXJhZ2UtdmlldyBzZWxlY3RbbmFtZT0ndGVzdC1udW1iZXInXSBvcHRpb25cIjtcbiAgICB0aGlzLlRFU1RfTlVNQkVSX09QVElPTl9URU1QTEFURV8wID0gXCI8b3B0aW9uIHZhbHVlPSd7MX0nPnsxfTogezJ9PFxcL29wdGlvbj5cIjtcbiAgICB0aGlzLlRFU1RfQ09ERV9XUkFQUEVSX1NFTEVDVE9SXzAgPSAnLnRlc3QtY29kZS13cmFwcGVyJztcbiAgICB0aGlzLlRFU1RfQ09ERV9TRUxFQ1RPUl8wID0gJy50ZXN0LWNvdmVyYWdlLXZpZXcgLnRlc3QtY29kZSc7XG4gICAgdGhpcy5URVNUX0NPREVfVEVNUExBVEVfMCA9IFwiPGRpdiBjbGFzcz0ndGVzdC1jb2RlJz57MX08XFwvZGl2PlwiO1xuICAgIHRoaXMuVEVTVF9DQVNFX0lORk9fU0VMRUNUT1JfMCA9ICcudGVzdC1jYXNlLWluZm8nO1xuICAgIHRoaXMuVEVTVF9WSUVXRVJfQk9EWV9URU1QTEFURV8wID0gXCJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGVzdC1jYXNlLWluZm8nPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGVzdC10aXRsZScgc3R5bGU9J3RleHQtYWxpZ246IGNlbnRlcjttYXJnaW46IDEwcHggMDsnPjxiPnsxfTxcXC9iPjxcXC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7Zm9udC1zaXplOiAxNHB4O21hcmdpbi10b3A6IDVweDsnPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9JyMnIGNsYXNzPSdwcmV2LXRlc3RjYXNlIGRpc2FibGVkJz5QcmV2IHRlc3RjYXNlPFxcL2E+IHwgVGVzdCBjYXNlICM8YiBjbGFzcz0ndGVzdGNhc2UtbnVtYmVyJz4xPFxcL2I+IHwgPGEgaHJlZj0nIycgY2xhc3M9J25leHQtdGVzdGNhc2UnPk5leHQgdGVzdGNhc2U8XFwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDxcXC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSd0ZXN0LWNvZGUtd3JhcHBlcicgc3R5bGU9J21hcmdpbi10b3A6IDE1cHg7Jz48XFwvZGl2PlxcbiAgICAgICAgICAgICAgICA8XFwvZGl2PlxcbiAgICAgICAgICAgIFwiO1xuICAgIHRoaXMuTkVYVF9URVNUQ0FTRV9TRUxFQ1RPUl8wID0gJy5uZXh0LXRlc3RjYXNlJztcbiAgICB0aGlzLlBSRVZfVEVTVENBU0VfU0VMRUNUT1JfMCA9ICcucHJldi10ZXN0Y2FzZSc7XG4gICAgdGhpcy5URVNUQ0FTRV9OVU1CRVJfU0VMRUNUT1JfMCA9ICcudGVzdGNhc2UtbnVtYmVyJztcbiAgICB0aGlzLk1BSU5fRlVOX0NPREVfMCA9ICdcXG5mdW4gbWFpbigpIHsgcHJpbnRsbihcIlRlc3QgcGFzc2VkXCIpIH0nO1xuICAgIHRoaXMuU0FNUExFX1dSQVBfQ09ERV8wID0gJy8vc2FtcGxlU3RhcnRcXG57MX1cXG4vL3NhbXBsZUVuZCc7XG4gIH1cbiAgU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2luc3RhbmNlO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLCAnY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzl0MmJoaSRfMCA9PSBudWxsKVxuICAgICAgcmV0dXJuIHRocm93VVBBRSgnY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzJyk7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzl0MmJoaSRfMDtcbiAgfSwgc2V0OiBmdW5jdGlvbiAoY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzKSB7XG4gICAgdGhpcy5jdXJyZW50U3BlY1NlbnRlbmNlVGVzdHNfOXQyYmhpJF8wID0gY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLCAndGVzdFBvcHVwXzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudGVzdFBvcHVwX2RxODBxeSRfMCA9PSBudWxsKVxuICAgICAgcmV0dXJuIHRocm93VVBBRSgndGVzdFBvcHVwJyk7XG4gICAgcmV0dXJuIHRoaXMudGVzdFBvcHVwX2RxODBxeSRfMDtcbiAgfSwgc2V0OiBmdW5jdGlvbiAodGVzdFBvcHVwKSB7XG4gICAgdGhpcy50ZXN0UG9wdXBfZHE4MHF5JF8wID0gdGVzdFBvcHVwO1xuICB9fSk7XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1ZpZXdlciRpbnNlcnRDb2RlJGxhbWJkYSh0aGlzJFNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzJFNwZWNUZXN0c1ZpZXdlci50ZXN0UG9wdXBfMC5jb21wdXRlU2l6ZXNfeW8yY3FnJCgpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBTcGVjVGVzdHNWaWV3ZXIkaW5zZXJ0Q29kZSRsYW1iZGFfMCh0aGlzJFNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzJFNwZWNUZXN0c1ZpZXdlci50ZXN0UG9wdXBfMC5jb21wdXRlU2l6ZXNfeW8yY3FnJCgpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLmluc2VydENvZGVfMCA9IGZ1bmN0aW9uICh0ZXN0Q2FzZUNvZGUsIGhlbHBlckZpbGVzQ29udGVudCkge1xuICAgIGlmIChoZWxwZXJGaWxlc0NvbnRlbnQgPT09IHZvaWQgMClcbiAgICAgIGhlbHBlckZpbGVzQ29udGVudCA9IG51bGw7XG4gICAgdmFyIGNvZGUgPSBTdHJpbmdCdWlsZGVyX2luaXQoKTtcbiAgICBpZiAoaGVscGVyRmlsZXNDb250ZW50ICE9IG51bGwpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9IGhlbHBlckZpbGVzQ29udGVudC5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGNvZGUuYXBwZW5kX2d3MDB2OSQoZWxlbWVudCArICdcXG4nICsgJ1xcbicpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb2RlLmFwcGVuZF9ndzAwdjkkKGZvcm1hdChTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuU0FNUExFX1dSQVBfQ09ERV8wLCBbdGVzdENhc2VDb2RlLmNvZGVdKSk7XG4gICAgY29kZS5hcHBlbmRfZ3cwMHY5JChTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuTUFJTl9GVU5fQ09ERV8wKTtcbiAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9DT0RFX1dSQVBQRVJfU0VMRUNUT1JfMCkuaHRtbChmb3JtYXQoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQ09ERV9URU1QTEFURV8wLCBbZXNjYXBlSHRtbChjb2RlLnRvU3RyaW5nKCkpXSkpO1xuICAgIEtvdGxpblBsYXlncm91bmQoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQ09ERV9TRUxFQ1RPUl8wLCBqc29uKFt0bygnY2FsbGJhY2snLCBTcGVjVGVzdHNWaWV3ZXIkaW5zZXJ0Q29kZSRsYW1iZGEodGhpcykpLCB0bygnb25DaGFuZ2UnLCBTcGVjVGVzdHNWaWV3ZXIkaW5zZXJ0Q29kZSRsYW1iZGFfMCh0aGlzKSldKSk7XG4gIH07XG4gIFNwZWNUZXN0c1ZpZXdlci5wcm90b3R5cGUuc2hvd1Rlc3RDYXNlQ29kZV8wID0gZnVuY3Rpb24gKHNwZWNUZXN0LCBoZWxwZXJGaWxlc0NvbnRlbnQpIHtcbiAgICBpZiAoaGVscGVyRmlsZXNDb250ZW50ID09PSB2b2lkIDApXG4gICAgICBoZWxwZXJGaWxlc0NvbnRlbnQgPSBudWxsO1xuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX0NBU0VfSU5GT19TRUxFQ1RPUl8wKS5yZW1vdmUoKTtcbiAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVFNfVklFV0VSX1NFTEVDVE9SXzApLmFwcGVuZChmb3JtYXQoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVklFV0VSX0JPRFlfVEVNUExBVEVfMCwgW3NwZWNUZXN0LnRlc3RJbmZvLmRlc2NyaXB0aW9uXSkpO1xuICAgIHZhciB0ZXN0Q2FzZXMgPSBzcGVjVGVzdC50ZXN0Q2FzZXM7XG4gICAgdGhpcy5pbnNlcnRDb2RlXzAoZmlyc3QodGVzdENhc2VzKSwgaGVscGVyRmlsZXNDb250ZW50KTtcbiAgICBpZiAodGVzdENhc2VzLnNpemUgPT09IDEpIHtcbiAgICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5ORVhUX1RFU1RDQVNFX1NFTEVDVE9SXzApLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfTtcbiAgU3BlY1Rlc3RzVmlld2VyLnByb3RvdHlwZS5nZXRIZWxwZXJzXzAgPSBmdW5jdGlvbiAoaGVscGVyTmFtZXMsIHRlc3RBcmVhKSB7XG4gICAgdmFyIGhlbHBlckZpbGVzUHJvbWlzZXMgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSBoZWxwZXJOYW1lcy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgIGhlbHBlckZpbGVzUHJvbWlzZXMuYWRkXzExcmIkKFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5sb2FkSGVscGVyRmlsZV9td3E1emokKGVsZW1lbnQsIHRlc3RBcmVhKSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChjb3B5VG9BcnJheShoZWxwZXJGaWxlc1Byb21pc2VzKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1ZpZXdlciRzaG93Vmlld2VyJGxhbWJkYShjbG9zdXJlJHRlc3RzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBlbCkge1xuICAgICAgdmFyIHRlc3RBcmVhID0gJG1vZHVsZSRqcXVlcnkoZWwpO1xuICAgICAgaWYgKGNsb3N1cmUkdGVzdHMuZ2V0VGVzdHNfczI3YmVsJChUZXN0QXJlYSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRCeVNob3J0TmFtZV82MXpwb2UkKHRlc3RBcmVhLmF0dHIoJ3ZhbHVlJykpKSA9PSBudWxsKSB7XG4gICAgICAgIHRlc3RBcmVhLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLnNob3dWaWV3ZXJfbGppeTh6JCA9IGZ1bmN0aW9uIChzZW50ZW5jZUVsZW1lbnQpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IHNlbnRlbmNlRWxlbWVudC5kYXRhKCd0ZXN0cycpLCBTcGVjU2VudGVuY2UpID8gdG1wJCA6IG51bGw7XG4gICAgaWYgKHRtcCRfMCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0ZXN0cyA9IHRtcCRfMDtcbiAgICB2YXIgc2VudGVuY2VUZXh0ID0gZm9ybWF0KCdzZW50ZW5jZSB7MX0nLCBbc2VudGVuY2VFbGVtZW50LmNsb25lKCkuY2hpbGRyZW4oJy5udW1iZXItaW5mbycpLnRleHQoKV0pO1xuICAgIHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzAgPSB0ZXN0cztcbiAgICB2YXIgJHJlY2VpdmVyID0gbmV3IFBvcHVwKG5ldyBQb3B1cENvbmZpZyg4MDAsIDMwMCwgJ1Rlc3QgY292ZXJhZ2Ugb2YgJyArIHNlbnRlbmNlVGV4dCwgU3BlY0NvdmVyYWdlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5URU1QTEFURSkpO1xuICAgICRyZWNlaXZlci5vcGVuKCk7XG4gICAgdGhpcy50ZXN0UG9wdXBfMCA9ICRyZWNlaXZlcjtcbiAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9BUkVBX09QVElPTl9TRUxFQ1RPUl8wKS5lYWNoKFNwZWNUZXN0c1ZpZXdlciRzaG93Vmlld2VyJGxhbWJkYSh0ZXN0cykpO1xuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX0FSRUFfU0VMRUNUT1JfMCkudmFsKCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX0FSRUFfT1BUSU9OX1NFTEVDVE9SXzApLmVxKDApLnZhbCgpLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMub25UZXN0QXJlYUNoYW5nZSgpO1xuICB9O1xuICBTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLm9uVGVzdEFyZWFDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQgPSBUZXN0QXJlYSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICB2YXIgJHJlY2VpdmVyID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpO1xuICAgIGlmICgkcmVjZWl2ZXIubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIHZhciB0ZXN0QXJlYSA9IHRtcCQuZ2V0QnlTaG9ydE5hbWVfNjF6cG9lJCgkcmVjZWl2ZXIpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRTcGVjU2VudGVuY2VUZXN0c18wLmdldFRlc3RzX3MyN2JlbCQodGVzdEFyZWEpID09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgdmFyICRyZWNlaXZlcl8wID0gVGVzdFR5cGUkdmFsdWVzKCk7XG4gICAgdmFyIHRtcCRfMDtcbiAgICBsb29wX2xhYmVsOiBmb3IgKHRtcCRfMCA9IDA7IHRtcCRfMCAhPT0gJHJlY2VpdmVyXzAubGVuZ3RoOyArK3RtcCRfMCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSAkcmVjZWl2ZXJfMFt0bXAkXzBdO1xuICAgICAgYWN0aW9uJGJyZWFrOiBkbyB7XG4gICAgICAgIHZhciB0bXAkXzE7XG4gICAgICAgIHRtcCRfMSA9IHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzAuZ2V0VGVzdHNfYXNndXMyJCh0ZXN0QXJlYSwgZWxlbWVudCk7XG4gICAgICAgIGlmICh0bXAkXzEgPT0gbnVsbCkge1xuICAgICAgICAgIGJyZWFrIGFjdGlvbiRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGVzdHMgPSB0bXAkXzE7XG4gICAgICAgIGlmICghdGVzdHMuaXNFbXB0eSgpKVxuICAgICAgICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX1RZUEVfU0VMRUNUT1JfMCkuYXBwZW5kKGZvcm1hdChTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9UWVBFX09QVElPTl9URU1QTEFURV8wLCBbZWxlbWVudC5zaG9ydE5hbWUsIGVsZW1lbnQubmFtZV0pKTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgIH1cbiAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9UWVBFX1NFTEVDVE9SXzApLnNob3coKS52YWwoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVFlQRV9PUFRJT05fU0VMRUNUT1JfMCkuZXEoMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5vblRlc3RUeXBlQ2hhbmdlKCk7XG4gIH07XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1ZpZXdlciRvblRlc3RUeXBlQ2hhbmdlJGxhbWJkYShjbG9zdXJlJHRlc3RzLCB0aGlzJFNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZWwpIHtcbiAgICAgIHZhciB0ZXN0UHJpb3JpdHkgPSAkbW9kdWxlJGpxdWVyeShlbCk7XG4gICAgICBpZiAodGhpcyRTcGVjVGVzdHNWaWV3ZXIuZ2V0VGVzdHNCeVRlc3RQcmlvcml0eV8wKGNsb3N1cmUkdGVzdHMsIExpbmtUeXBlJHZhbHVlT2YodGVzdFByaW9yaXR5LmF0dHIoJ3ZhbHVlJykpKS5pc0VtcHR5KCkpIHtcbiAgICAgICAgdGVzdFByaW9yaXR5LnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLm9uVGVzdFR5cGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIHRtcCRfMCA9IFRlc3RUeXBlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIHZhciAkcmVjZWl2ZXIgPSAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9UWVBFX1NFTEVDVE9SXzApLnZhbCgpLnRvU3RyaW5nKCk7XG4gICAgaWYgKCRyZWNlaXZlci5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm47XG4gICAgdmFyIHRlc3RUeXBlID0gdG1wJF8wLmdldEJ5U2hvcnROYW1lXzYxenBvZSQoJHJlY2VpdmVyKTtcbiAgICB2YXIgdGVzdEFyZWEgPSBUZXN0QXJlYSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRCeVNob3J0TmFtZV82MXpwb2UkKCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX0FSRUFfU0VMRUNUT1JfMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdG1wJCA9IHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzAuZ2V0VGVzdHNfYXNndXMyJCh0ZXN0QXJlYSwgdGVzdFR5cGUpO1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRlc3RzID0gdG1wJDtcbiAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9QUklPUklUWV9PUFRJT05fU0VMRUNUT1JfMCkuZWFjaChTcGVjVGVzdHNWaWV3ZXIkb25UZXN0VHlwZUNoYW5nZSRsYW1iZGEodGVzdHMsIHRoaXMpKTtcbiAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9QUklPUklUWV9TRUxFQ1RPUl8wKS52YWwoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfUFJJT1JJVFlfT1BUSU9OX1NFTEVDVE9SXzApLmVxKDApLnZhbCgpLnRvU3RyaW5nKCkpO1xuICAgIHRoaXMub25UZXN0UHJpb3JpdHlDaGFuZ2UoKTtcbiAgfTtcbiAgU3BlY1Rlc3RzVmlld2VyLnByb3RvdHlwZS5nZXRUZXN0c0J5VGVzdFByaW9yaXR5XzAgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBhdHRyKSB7XG4gICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgaWYgKGVsZW1lbnQudGVzdEluZm8ubGlua1R5cGUgPT09IGF0dHIpXG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZF8xMXJiJChlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICB9O1xuICBTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLm9uVGVzdFByaW9yaXR5Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciAkcmVjZWl2ZXIgPSAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9QUklPUklUWV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpO1xuICAgIGlmICgkcmVjZWl2ZXIubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIHZhciB0ZXN0UHJpb3JpdHkgPSBMaW5rVHlwZSR2YWx1ZU9mKCRyZWNlaXZlcik7XG4gICAgdmFyIHRlc3RBcmVhID0gVGVzdEFyZWEkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZ2V0QnlTaG9ydE5hbWVfNjF6cG9lJCgkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9BUkVBX1NFTEVDVE9SXzApLnZhbCgpLnRvU3RyaW5nKCkpO1xuICAgIHZhciB0ZXN0VHlwZSA9IFRlc3RUeXBlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldEJ5U2hvcnROYW1lXzYxenBvZSQoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVFlQRV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpKTtcbiAgICB0bXAkID0gdGhpcy5jdXJyZW50U3BlY1NlbnRlbmNlVGVzdHNfMC5nZXRUZXN0c19kbGhiNDEkKHRlc3RBcmVhLCB0ZXN0VHlwZSwgdGVzdFByaW9yaXR5KTtcbiAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0ZXN0cyA9IHRtcCQ7XG4gICAgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfTlVNQkVSX1NFTEVDVE9SXzApLmVtcHR5KCk7XG4gICAgdmFyIHRtcCRfMDtcbiAgICB0bXAkXzAgPSB0ZXN0cy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkXzAuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMC5uZXh0KCk7XG4gICAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9OVU1CRVJfU0VMRUNUT1JfMCkuYXBwZW5kKGZvcm1hdChTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9OVU1CRVJfT1BUSU9OX1RFTVBMQVRFXzAsIFtlbGVtZW50LnRlc3RJbmZvLnRlc3ROdW1iZXIsIGVsZW1lbnQudGVzdEluZm8uZGVzY3JpcHRpb25dKSk7XG4gICAgfVxuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX05VTUJFUl9TRUxFQ1RPUl8wKS5zaG93KCkudmFsKCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX05VTUJFUl9PUFRJT05fU0VMRUNUT1JfMCkuZXEoMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5vblRlc3ROdW1iZXJDaGFuZ2UoKTtcbiAgfTtcbiAgZnVuY3Rpb24gU3BlY1Rlc3RzVmlld2VyJG9uVGVzdE51bWJlckNoYW5nZSRsYW1iZGEoY2xvc3VyZSRzcGVjVGVzdCwgdGhpcyRTcGVjVGVzdHNWaWV3ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICB0aGlzJFNwZWNUZXN0c1ZpZXdlci5zaG93VGVzdENhc2VDb2RlXzAoY2xvc3VyZSRzcGVjVGVzdCwgdG9TZXRfMChpdCkpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLm9uVGVzdE51bWJlckNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgJHJlY2VpdmVyID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfTlVNQkVSX1NFTEVDVE9SXzApLnZhbCgpLnRvU3RyaW5nKCk7XG4gICAgaWYgKCRyZWNlaXZlci5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm47XG4gICAgdmFyIHRlc3ROdW1iZXIgPSB0b0ludCgkcmVjZWl2ZXIpO1xuICAgIHZhciB0ZXN0UHJpb3JpdHkgPSBMaW5rVHlwZSR2YWx1ZU9mKCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX1BSSU9SSVRZX1NFTEVDVE9SXzApLnZhbCgpLnRvU3RyaW5nKCkpO1xuICAgIHZhciB0ZXN0QXJlYSA9IFRlc3RBcmVhJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldEJ5U2hvcnROYW1lXzYxenBvZSQoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpKTtcbiAgICB2YXIgdGVzdFR5cGUgPSBUZXN0VHlwZSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRCeVNob3J0TmFtZV82MXpwb2UkKCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX1RZUEVfU0VMRUNUT1JfMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdG1wJCA9IHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzAuZ2V0VGVzdF84eDFuNTkkKHRlc3RBcmVhLCB0ZXN0VHlwZSwgdGVzdFByaW9yaXR5LCB0ZXN0TnVtYmVyKTtcbiAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzcGVjVGVzdCA9IHRtcCQ7XG4gICAgaWYgKCFzcGVjVGVzdC50ZXN0SW5mby5oZWxwZXJzLmlzRW1wdHkoKSkge1xuICAgICAgdGhpcy5nZXRIZWxwZXJzXzAoc3BlY1Rlc3QudGVzdEluZm8uaGVscGVycywgdGVzdEFyZWEpLnRoZW4oU3BlY1Rlc3RzVmlld2VyJG9uVGVzdE51bWJlckNoYW5nZSRsYW1iZGEoc3BlY1Rlc3QsIHRoaXMpKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdGhpcy5zaG93VGVzdENhc2VDb2RlXzAoc3BlY1Rlc3QpO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gU3BlY1Rlc3RzVmlld2VyJG5hdmlnYXRlVGVzdENhc2UkbGFtYmRhKGNsb3N1cmUkdGVzdENhc2VzLCBjbG9zdXJlJGNhc2VOdW1iZXIsIHRoaXMkU3BlY1Rlc3RzVmlld2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgdGhpcyRTcGVjVGVzdHNWaWV3ZXIuaW5zZXJ0Q29kZV8wKGNsb3N1cmUkdGVzdENhc2VzLmdldF96YTNscGEkKGNsb3N1cmUkY2FzZU51bWJlciksIHRvU2V0XzAoaXQpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgU3BlY1Rlc3RzVmlld2VyLnByb3RvdHlwZS5uYXZpZ2F0ZVRlc3RDYXNlX245NmFmdCQgPSBmdW5jdGlvbiAobmF2aWdhdGlvbkxpbmssIG5hdmlnYXRpb25UeXBlKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgaWYgKG5hdmlnYXRpb25MaW5rLmhhc0NsYXNzKCdkaXNhYmxlZCcpKVxuICAgICAgcmV0dXJuO1xuICAgIHZhciB0ZXN0QXJlYSA9IFRlc3RBcmVhJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldEJ5U2hvcnROYW1lXzYxenBvZSQoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpKTtcbiAgICB2YXIgdGVzdFR5cGUgPSBUZXN0VHlwZSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRCeVNob3J0TmFtZV82MXpwb2UkKCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX1RZUEVfU0VMRUNUT1JfMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdmFyIHRlc3ROdW1iZXIgPSB0b0ludCgkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9OVU1CRVJfU0VMRUNUT1JfMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdmFyIHRlc3RQcmlvcml0eSA9IExpbmtUeXBlJHZhbHVlT2YoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfUFJJT1JJVFlfU0VMRUNUT1JfMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdG1wJCA9IHRoaXMuY3VycmVudFNwZWNTZW50ZW5jZVRlc3RzXzAuZ2V0VGVzdF84eDFuNTkkKHRlc3RBcmVhLCB0ZXN0VHlwZSwgdGVzdFByaW9yaXR5LCB0ZXN0TnVtYmVyKTtcbiAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzcGVjVGVzdCA9IHRtcCQ7XG4gICAgdmFyIGN1cnJlbnROdW1iZXIgPSB0b0ludCgkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVENBU0VfTlVNQkVSX1NFTEVDVE9SXzApLnRleHQoKSk7XG4gICAgdmFyIGNhc2VOdW1iZXIgPSBuYXZpZ2F0aW9uVHlwZSA9PT0gTmF2aWdhdGlvblR5cGUkUFJFVl9nZXRJbnN0YW5jZSgpID8gY3VycmVudE51bWJlciAtIDIgfCAwIDogY3VycmVudE51bWJlcjtcbiAgICB2YXIgdGVzdENhc2VzID0gc3BlY1Rlc3QudGVzdENhc2VzO1xuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUQ0FTRV9OVU1CRVJfU0VMRUNUT1JfMCkuaHRtbCgoY2FzZU51bWJlciArIDEgfCAwKS50b1N0cmluZygpKTtcbiAgICBpZiAoIXNwZWNUZXN0LnRlc3RJbmZvLmhlbHBlcnMuaXNFbXB0eSgpKSB7XG4gICAgICB0aGlzLmdldEhlbHBlcnNfMChzcGVjVGVzdC50ZXN0SW5mby5oZWxwZXJzLCB0ZXN0QXJlYSkudGhlbihTcGVjVGVzdHNWaWV3ZXIkbmF2aWdhdGVUZXN0Q2FzZSRsYW1iZGEodGVzdENhc2VzLCBjYXNlTnVtYmVyLCB0aGlzKSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHRoaXMuaW5zZXJ0Q29kZV8wKHRlc3RDYXNlcy5nZXRfemEzbHBhJChjYXNlTnVtYmVyKSk7XG4gICAgfVxuICAgIGlmICgoY2FzZU51bWJlciArIDEgfCAwKSA+PSB0ZXN0Q2FzZXMuc2l6ZSkge1xuICAgICAgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLk5FWFRfVEVTVENBU0VfU0VMRUNUT1JfMCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgICBlbHNlIGlmIChuYXZpZ2F0aW9uVHlwZSA9PT0gTmF2aWdhdGlvblR5cGUkUFJFVl9nZXRJbnN0YW5jZSgpICYmICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5ORVhUX1RFU1RDQVNFX1NFTEVDVE9SXzApLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG4gICAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuTkVYVF9URVNUQ0FTRV9TRUxFQ1RPUl8wKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRpb25UeXBlID09PSBOYXZpZ2F0aW9uVHlwZSRORVhUX2dldEluc3RhbmNlKCkgJiYgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlBSRVZfVEVTVENBU0VfU0VMRUNUT1JfMCkuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5QUkVWX1RFU1RDQVNFX1NFTEVDVE9SXzApLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICAgZWxzZSBpZiAoKGNhc2VOdW1iZXIgKyAxIHwgMCkgPT09IDEpIHtcbiAgICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5QUkVWX1RFU1RDQVNFX1NFTEVDVE9SXzApLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfTtcbiAgU3BlY1Rlc3RzVmlld2VyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NwZWNUZXN0c1ZpZXdlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gU2VudGVuY2VGaW5kZXIoKSB7XG4gICAgU2VudGVuY2VGaW5kZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuRklOREVSX0JBUl9IVE1MID0gJzxkaXYgY2xhc3M9XCJzZW50ZW5jZS1maW5kZXItYmFyXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaWNvbi1tZW51XCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGl2aWRlXCI+PFxcL3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGl2aWRlXCI+PFxcL3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGl2aWRlXCI+PFxcL3NwYW4+XFxuICAgICAgICA8XFwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInNwZWMtbG9jYXRpb24tc2VhcmNoXCI+XFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNwZWMtc2VudGVuY2UtbG9jYXRpb25cIiAvPlxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzcGVjLXNlbnRlbmNlLWZpbmRcIj5GaW5kIHNlbnRlbmNlPFxcL2J1dHRvbj5cXG4gICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwiezF9LW1hcmt1cC1saW5rXCI+ezJ9IG1hcmt1cDxcXC9hPlxcbiAgICAgICAgPFxcL2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGVjLWxvY2F0aW9uLWZvcm1hdFwiPkZvcm1hdDogc2VjdGlvbnMtaGllcmFyY2h5eyx9IC0+IHBhcmFncmFwaCB7bn0gLT4gc2VudGVuY2Uge219PFxcL2Rpdj5cXG4gICAgICAgIDxcXC9kaXY+JztcbiAgfVxuICBTZW50ZW5jZUZpbmRlci5wcm90b3R5cGUuZmluZFNlbnRlbmNlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZmluZFNlbnRlbmNlXzAoJG1vZHVsZSRqcXVlcnkoJy5zcGVjLWxvY2F0aW9uLXNlYXJjaCBpbnB1dFtuYW1lPVwic3BlYy1zZW50ZW5jZS1sb2NhdGlvblwiXScpLnZhbCgpLnRvU3RyaW5nKCkpO1xuICB9O1xuICBTZW50ZW5jZUZpbmRlci5wcm90b3R5cGUuZmluZFNlbnRlbmNlXzAgPSBmdW5jdGlvbiAocGxhY2UpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgc3BlY1BsYWNlQ29tcG9uZW50cyA9IFNwZWNQbGFjZUhpZ2hsaWdodGVyX2dldEluc3RhbmNlKCkuZ2V0U2VudGVuY2VJbmZvRnJvbVNlYXJjaEZpZWxkXzYxenBvZSQodHJpbUVuZChLb3RsaW4uaXNDaGFyU2VxdWVuY2UodG1wJCA9IHBsYWNlKSA/IHRtcCQgOiB0aHJvd0NDRSgpKS50b1N0cmluZygpKTtcbiAgICBpZiAoc3BlY1BsYWNlQ29tcG9uZW50cy5zZW50ZW5jZU51bWJlciAhPSBudWxsKSB7XG4gICAgICBTcGVjUGxhY2VIaWdobGlnaHRlcl9nZXRJbnN0YW5jZSgpLmhpZ2hsaWdodFNlbnRlbmNlXzNlbnh3OSQoc3BlY1BsYWNlQ29tcG9uZW50cyk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIFNwZWNQbGFjZUhpZ2hsaWdodGVyX2dldEluc3RhbmNlKCkuaGlnaGxpZ2h0UGFyYWdyYXBoXzNlbnh3OSQoc3BlY1BsYWNlQ29tcG9uZW50cyk7XG4gICAgfVxuICB9O1xuICBTZW50ZW5jZUZpbmRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU2VudGVuY2VGaW5kZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBTZW50ZW5jZUZpbmRlcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFNlbnRlbmNlRmluZGVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTZW50ZW5jZUZpbmRlcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFNlbnRlbmNlRmluZGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBTZW50ZW5jZUZpbmRlcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTcGVjUGxhY2VDb21wb25lbnRzKHNlY3Rpb25JZCwgcGFyYWdyYXBoTnVtYmVyLCBzZW50ZW5jZU51bWJlcikge1xuICAgIGlmIChzZW50ZW5jZU51bWJlciA9PT0gdm9pZCAwKVxuICAgICAgc2VudGVuY2VOdW1iZXIgPSBudWxsO1xuICAgIHRoaXMuc2VjdGlvbklkID0gc2VjdGlvbklkO1xuICAgIHRoaXMucGFyYWdyYXBoTnVtYmVyID0gcGFyYWdyYXBoTnVtYmVyO1xuICAgIHRoaXMuc2VudGVuY2VOdW1iZXIgPSBzZW50ZW5jZU51bWJlcjtcbiAgfVxuICBTcGVjUGxhY2VDb21wb25lbnRzLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NwZWNQbGFjZUNvbXBvbmVudHMnLCBpbnRlcmZhY2VzOiBbXX07XG4gIFNwZWNQbGFjZUNvbXBvbmVudHMucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VjdGlvbklkO1xuICB9O1xuICBTcGVjUGxhY2VDb21wb25lbnRzLnByb3RvdHlwZS5jb21wb25lbnQyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFncmFwaE51bWJlcjtcbiAgfTtcbiAgU3BlY1BsYWNlQ29tcG9uZW50cy5wcm90b3R5cGUuY29tcG9uZW50MyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zZW50ZW5jZU51bWJlcjtcbiAgfTtcbiAgU3BlY1BsYWNlQ29tcG9uZW50cy5wcm90b3R5cGUuY29weV90enV1dGIkID0gZnVuY3Rpb24gKHNlY3Rpb25JZCwgcGFyYWdyYXBoTnVtYmVyLCBzZW50ZW5jZU51bWJlcikge1xuICAgIHJldHVybiBuZXcgU3BlY1BsYWNlQ29tcG9uZW50cyhzZWN0aW9uSWQgPT09IHZvaWQgMCA/IHRoaXMuc2VjdGlvbklkIDogc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIgPT09IHZvaWQgMCA/IHRoaXMucGFyYWdyYXBoTnVtYmVyIDogcGFyYWdyYXBoTnVtYmVyLCBzZW50ZW5jZU51bWJlciA9PT0gdm9pZCAwID8gdGhpcy5zZW50ZW5jZU51bWJlciA6IHNlbnRlbmNlTnVtYmVyKTtcbiAgfTtcbiAgU3BlY1BsYWNlQ29tcG9uZW50cy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdTcGVjUGxhY2VDb21wb25lbnRzKHNlY3Rpb25JZD0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuc2VjdGlvbklkKSArICgnLCBwYXJhZ3JhcGhOdW1iZXI9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnBhcmFncmFwaE51bWJlcikpICsgKCcsIHNlbnRlbmNlTnVtYmVyPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5zZW50ZW5jZU51bWJlcikpICsgJyknO1xuICB9O1xuICBTcGVjUGxhY2VDb21wb25lbnRzLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnNlY3Rpb25JZCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMucGFyYWdyYXBoTnVtYmVyKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy5zZW50ZW5jZU51bWJlcikgfCAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIFNwZWNQbGFjZUNvbXBvbmVudHMucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiAoS290bGluLmVxdWFscyh0aGlzLnNlY3Rpb25JZCwgb3RoZXIuc2VjdGlvbklkKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMucGFyYWdyYXBoTnVtYmVyLCBvdGhlci5wYXJhZ3JhcGhOdW1iZXIpICYmIEtvdGxpbi5lcXVhbHModGhpcy5zZW50ZW5jZU51bWJlciwgb3RoZXIuc2VudGVuY2VOdW1iZXIpKSkpKTtcbiAgfTtcbiAgZnVuY3Rpb24gU3BlY1BsYWNlSGlnaGxpZ2h0ZXIoKSB7XG4gICAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuUEFSQUdSQVBIX05PVF9GT1VORF8wID0gJ1BhcmFncmFwaCBcInsxfVwiIG9mIHNlY3Rpb24gXCJ7Mn1cIiBpcyBub3QgZm91bmQuJztcbiAgICB0aGlzLlNFTlRFTkNFX05PVF9GT1VORF8wID0gJ1NlbnRlbmNlIFwiezF9XCIgaXMgbm90IGZvdW5kLic7XG4gICAgdGhpcy5FU0NBUEVEX1NFQ1RJT05fSURfU0VQQVJBVE9SXzAgPSAnXFxcXC4nO1xuICB9XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5maW5kUGFyYWdyYXBoXzAgPSBmdW5jdGlvbiAoc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzE7XG4gICAgdmFyIHNlY3Rpb25FbGVtZW50ID0gJG1vZHVsZSRqcXVlcnkoJyMnICsgcmVwbGFjZShzZWN0aW9uSWQsICcuJywgdGhpcy5FU0NBUEVEX1NFQ1RJT05fSURfU0VQQVJBVE9SXzApKTtcbiAgICB0bXAkID0gU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldFBhcmFncmFwaHNJbmZvX2xqaXk4eiQoc2VjdGlvbkVsZW1lbnQpO1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgcGFyYWdyYXBoc0luZm8gPSB0bXAkO1xuICAgIGlmIChwYXJhZ3JhcGhzSW5mby5zaXplID4gKHBhcmFncmFwaE51bWJlciAtIDEgfCAwKSkge1xuICAgICAgdG1wJF8xID0gJG1vZHVsZSRqcXVlcnkoS290bGluLmlzVHlwZSh0bXAkXzAgPSBwYXJhZ3JhcGhzSW5mby5nZXRfemEzbHBhJChwYXJhZ3JhcGhOdW1iZXIgLSAxIHwgMCkuZ2V0XzExcmIkKCdwYXJhZ3JhcGhFbGVtZW50JyksIEhUTUxFbGVtZW50KSA/IHRtcCRfMCA6IHRocm93Q0NFKCkpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB3aW5kb3cuYWxlcnQoZm9ybWF0KHRoaXMuUEFSQUdSQVBIX05PVF9GT1VORF8wLCBbcGFyYWdyYXBoTnVtYmVyLCBzZWN0aW9uSWRdKSk7XG4gICAgICB0bXAkXzEgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJF8xO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuZmluZFNlbnRlbmNlXzAgPSBmdW5jdGlvbiAocGFyYWdyYXBoRWxlbWVudCwgc2VudGVuY2VOdW1iZXIpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgc2VudGVuY2VzID0gcGFyYWdyYXBoRWxlbWVudC5maW5kKCcuc2VudGVuY2UnKTtcbiAgICBpZiAobnVtYmVyVG9JbnQoc2VudGVuY2VzLmxlbmd0aCkgPiAoc2VudGVuY2VOdW1iZXIgLSAxIHwgMCkpIHtcbiAgICAgIHRtcCQgPSAkbW9kdWxlJGpxdWVyeShlbnN1cmVOb3ROdWxsKHNlbnRlbmNlc1tzZW50ZW5jZU51bWJlciAtIDEgfCAwXSkpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB3aW5kb3cuYWxlcnQoZm9ybWF0KHRoaXMuU0VOVEVOQ0VfTk9UX0ZPVU5EXzAsIFtzZW50ZW5jZU51bWJlcl0pKTtcbiAgICAgIHRtcCQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmhpZ2hsaWdodFBhcmFncmFwaF8wID0gZnVuY3Rpb24gKHNlY3Rpb25JZCwgcGFyYWdyYXBoTnVtYmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB0bXAkID0gdGhpcy5maW5kUGFyYWdyYXBoXzAoc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIpO1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHBhcmFncmFwaCA9IHRtcCQ7XG4gICAgcGFyYWdyYXBoLmFkZENsYXNzKCdoaWdobGlnaHRlZCcpO1xuICAgICh0bXAkXzAgPSBwYXJhZ3JhcGhbMF0pICE9IG51bGwgPyAodG1wJF8wLnNjcm9sbEludG9WaWV3KCksIFVuaXQpIDogbnVsbDtcbiAgICAkbW9kdWxlJGpxdWVyeSh3aW5kb3cpLnNjcm9sbFRvcChudW1iZXJUb0ludCgkbW9kdWxlJGpxdWVyeSh3aW5kb3cpLnNjcm9sbFRvcCgpKSAtIDgwIHwgMCk7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5oaWdobGlnaHRQYXJhZ3JhcGhfNjF6cG9lJCA9IGZ1bmN0aW9uIChwYXJhZ3JhcGhUb0JlSGlnaGxpZ2h0ZWQpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB0aGlzLmhpZ2hsaWdodFBhcmFncmFwaF8zZW54dzkkKHRoaXMuZ2V0UGFyYWdyYXBoSW5mb18wKHRyaW1FbmQoS290bGluLmlzQ2hhclNlcXVlbmNlKHRtcCQgPSBwYXJhZ3JhcGhUb0JlSGlnaGxpZ2h0ZWQpID8gdG1wJCA6IHRocm93Q0NFKCkpLnRvU3RyaW5nKCkpKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmhpZ2hsaWdodFBhcmFncmFwaF8zZW54dzkkID0gZnVuY3Rpb24gKHNlbnRlbmNlUGF0aCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0UGFyYWdyYXBoXzAoc2VudGVuY2VQYXRoLnNlY3Rpb25JZCwgc2VudGVuY2VQYXRoLnBhcmFncmFwaE51bWJlcik7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5oaWdobGlnaHRTZW50ZW5jZV8wID0gZnVuY3Rpb24gKHNlY3Rpb25JZCwgcGFyYWdyYXBoTnVtYmVyLCBzZW50ZW5jZU51bWJlcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICB0bXAkID0gdGhpcy5maW5kUGFyYWdyYXBoXzAoc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIpO1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHBhcmFncmFwaEVsZW1lbnQgPSB0bXAkO1xuICAgIHRtcCRfMCA9IHRoaXMuZmluZFNlbnRlbmNlXzAocGFyYWdyYXBoRWxlbWVudCwgc2VudGVuY2VOdW1iZXIpO1xuICAgIGlmICh0bXAkXzAgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2VudGVuY2UgPSB0bXAkXzA7XG4gICAgc2VudGVuY2UuYWRkQ2xhc3MoJ2hpZ2hsaWdodGVkJyk7XG4gICAgKHRtcCRfMSA9IHNlbnRlbmNlWzBdKSAhPSBudWxsID8gKHRtcCRfMS5zY3JvbGxJbnRvVmlldygpLCBVbml0KSA6IG51bGw7XG4gICAgJG1vZHVsZSRqcXVlcnkod2luZG93KS5zY3JvbGxUb3AobnVtYmVyVG9JbnQoJG1vZHVsZSRqcXVlcnkod2luZG93KS5zY3JvbGxUb3AoKSkgLSA4MCB8IDApO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuaGlnaGxpZ2h0U2VudGVuY2VfNjF6cG9lJCA9IGZ1bmN0aW9uIChzZW50ZW5jZVRvQmVIaWdobGlnaHRlZCkge1xuICAgIHRoaXMuaGlnaGxpZ2h0U2VudGVuY2VfM2VueHc5JCh0aGlzLmdldFNlbnRlbmNlSW5mb0Zyb21VcmxfMChzZW50ZW5jZVRvQmVIaWdobGlnaHRlZCkpO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuaGlnaGxpZ2h0U2VudGVuY2VfM2VueHc5JCA9IGZ1bmN0aW9uIChzZW50ZW5jZVBhdGgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzE7XG4gICAgdG1wJCA9IHNlbnRlbmNlUGF0aC5zZWN0aW9uSWQ7XG4gICAgdG1wJF8wID0gc2VudGVuY2VQYXRoLnBhcmFncmFwaE51bWJlcjtcbiAgICB0bXAkXzEgPSBzZW50ZW5jZVBhdGguc2VudGVuY2VOdW1iZXI7XG4gICAgaWYgKHRtcCRfMSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaGlnaGxpZ2h0U2VudGVuY2VfMCh0bXAkLCB0bXAkXzAsIHRtcCRfMSk7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5oaWdobGlnaHRTZWN0aW9uXzYxenBvZSQgPSBmdW5jdGlvbiAoc2VjdGlvbklkKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIHNlY3Rpb25FbGVtZW50ID0gJG1vZHVsZSRqcXVlcnkoJyMnICsgcmVwbGFjZShzZWN0aW9uSWQsICcuJywgJ1xcXFxcXFxcLicpKTtcbiAgICBzZWN0aW9uRWxlbWVudC5hZGRDbGFzcygnaGlnaGxpZ2h0ZWQnKTtcbiAgICAodG1wJCA9IHNlY3Rpb25FbGVtZW50WzBdKSAhPSBudWxsID8gKHRtcCQuc2Nyb2xsSW50b1ZpZXcoKSwgVW5pdCkgOiBudWxsO1xuICAgICRtb2R1bGUkanF1ZXJ5KHdpbmRvdykuc2Nyb2xsVG9wKG51bWJlclRvSW50KCRtb2R1bGUkanF1ZXJ5KHdpbmRvdykuc2Nyb2xsVG9wKCkpIC0gODAgfCAwKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldFNlbnRlbmNlSW5mb0Zyb21VcmxfMCA9IGZ1bmN0aW9uIChzZW50ZW5jZVRvQmVIaWdobGlnaHRlZCkge1xuICAgIHZhciBzcGxpdHRlZFNlbnRlbmNlUGF0aCA9IFJlZ2V4X2luaXQoJ1xcXFxzKixcXFxccyonKS5zcGxpdF85MDVhenUkKHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkLCAwKTtcbiAgICB2YXIgc3BsaXR0ZWRTZW50ZW5jZVBhdGhTaXplID0gc3BsaXR0ZWRTZW50ZW5jZVBhdGguc2l6ZTtcbiAgICByZXR1cm4gbmV3IFNwZWNQbGFjZUNvbXBvbmVudHMoc3BsaXR0ZWRTZW50ZW5jZVBhdGguZ2V0X3phM2xwYSQoc3BsaXR0ZWRTZW50ZW5jZVBhdGhTaXplIC0gMyB8IDApLCB0b0ludChzcGxpdHRlZFNlbnRlbmNlUGF0aC5nZXRfemEzbHBhJChzcGxpdHRlZFNlbnRlbmNlUGF0aFNpemUgLSAyIHwgMCkpLCB0b0ludChzcGxpdHRlZFNlbnRlbmNlUGF0aC5nZXRfemEzbHBhJChzcGxpdHRlZFNlbnRlbmNlUGF0aFNpemUgLSAxIHwgMCkpKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldFNlbnRlbmNlSW5mb0Zyb21TZWFyY2hGaWVsZF82MXpwb2UkID0gZnVuY3Rpb24gKHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkKSB7XG4gICAgdmFyIHNwbGl0dGVkU2VudGVuY2VQYXRoID0gUmVnZXhfaW5pdCgnXFxcXHMqLT5cXFxccyonKS5zcGxpdF85MDVhenUkKHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkLCAwKTtcbiAgICB2YXIgJHJlY2VpdmVyID0gc3BsaXR0ZWRTZW50ZW5jZVBhdGguZ2V0X3phM2xwYSQoMCk7XG4gICAgdmFyIHNwbGl0dGVkU2VjdGlvblBhdGggPSBSZWdleF9pbml0KCdcXFxccyosXFxcXHMqJykuc3BsaXRfOTA1YXp1JCgkcmVjZWl2ZXIsIDApO1xuICAgIHJldHVybiBuZXcgU3BlY1BsYWNlQ29tcG9uZW50cyhsYXN0KHNwbGl0dGVkU2VjdGlvblBhdGgpLCB0b0ludChyZXBsYWNlKHNwbGl0dGVkU2VudGVuY2VQYXRoLmdldF96YTNscGEkKDEpLCAncGFyYWdyYXBoICcsICcnKSksIHNwbGl0dGVkU2VudGVuY2VQYXRoLnNpemUgPT09IDMgPyB0b0ludChyZXBsYWNlKHNwbGl0dGVkU2VudGVuY2VQYXRoLmdldF96YTNscGEkKDIpLCAnc2VudGVuY2UgJywgJycpKSA6IG51bGwpO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0UGFyYWdyYXBoSW5mb18wID0gZnVuY3Rpb24gKHBhcmFncmFwaFRvQmVIaWdobGlnaHRlZCkge1xuICAgIHZhciBzcGxpdHRlZFNlbnRlbmNlUGF0aCA9IFJlZ2V4X2luaXQoJ1xcXFxzKixcXFxccyonKS5zcGxpdF85MDVhenUkKHBhcmFncmFwaFRvQmVIaWdobGlnaHRlZCwgMCk7XG4gICAgdmFyIHNwbGl0dGVkU2VudGVuY2VQYXRoU2l6ZSA9IHNwbGl0dGVkU2VudGVuY2VQYXRoLnNpemU7XG4gICAgcmV0dXJuIG5ldyBTcGVjUGxhY2VDb21wb25lbnRzKHNwbGl0dGVkU2VudGVuY2VQYXRoLmdldF96YTNscGEkKHNwbGl0dGVkU2VudGVuY2VQYXRoU2l6ZSAtIDIgfCAwKSwgdG9JbnQoc3BsaXR0ZWRTZW50ZW5jZVBhdGguZ2V0X3phM2xwYSQoc3BsaXR0ZWRTZW50ZW5jZVBhdGhTaXplIC0gMSB8IDApKSk7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRMaW5rXzAgPSBmdW5jdGlvbiAoc2VhcmNoQ29tcG9uZW50KSB7XG4gICAgdmFyICRyZWNlaXZlciA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnByb3RvY29sICsgJy8vJyArICRyZWNlaXZlci5ob3N0bmFtZSArICRyZWNlaXZlci5wYXRobmFtZSArICc/JyArIHNlYXJjaENvbXBvbmVudCArICRyZWNlaXZlci5oYXNoO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0U2VjdGlvbkxpbmtfMCA9IGZ1bmN0aW9uIChzZWN0aW9uSWQpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gd2luZG93LmxvY2F0aW9uO1xuICAgIHJldHVybiAkcmVjZWl2ZXIucHJvdG9jb2wgKyAnLy8nICsgJHJlY2VpdmVyLmhvc3RuYW1lICsgJHJlY2VpdmVyLnBhdGhuYW1lICsgKCRyZWNlaXZlci5zZWFyY2gubGVuZ3RoID4gMCA/ICc/JyArICRyZWNlaXZlci5zZWFyY2ggOiAnJykgKyAnIycgKyBzZWN0aW9uSWQ7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5vblNlbnRlbmNlR2V0TGlua0NsaWNrX2VybjNmeiQgPSBmdW5jdGlvbiAoZWxlbWVudCwgbW9kZSkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciAkcmVjZWl2ZXIgPSBTdHJpbmdCdWlsZGVyX2luaXQoKTtcbiAgICBpZiAobW9kZSA9PT0gTW9kZSREZXZfZ2V0SW5zdGFuY2UoKSkge1xuICAgICAgJHJlY2VpdmVyLmFwcGVuZF9ndzAwdjkkKCc8ZGl2IGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmtzLXJvdycgKyAnXCInICsgJz4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPScgKyAnXCInICsgJ2xpbmstc2VudGVuY2UtZGVzY3JpcHRpb24tbGluay10eXBlJyArICdcIicgKyAnPkxpbmsgZm9yIGNvbXBpbGVyIHRlc3Q6PFxcL3NwYW4+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0nICsgJ1wiJyArICd0ZXh0JyArICdcIicgKyAnIGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLXBhdGgtZm9yLWNvbXBpbGVyLXRlc3QnICsgJ1wiJyArICcgdmFsdWU9JyArICdcIicgKyBlbGVtZW50LmRhdGEoJ3BhdGgnKS50b1N0cmluZygpICsgJ1wiJyArICc+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFxcL2Rpdj4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKTtcbiAgICB9XG4gICAgJHJlY2VpdmVyLmFwcGVuZF9ndzAwdjkkKCc8ZGl2IGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmtzLXJvdycgKyAnXCInICsgJz4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9JyArICdcIicgKyAnbGluay1zZW50ZW5jZS1kZXNjcmlwdGlvbi1saW5rLXR5cGUnICsgJ1wiJyArICc+U2VudGVuY2UgcGF0aDo8XFwvc3Bhbj4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9JyArICdcIicgKyAndGV4dCcgKyAnXCInICsgJyBjbGFzcz0nICsgJ1wiJyArICdzZW50ZW5jZS1saW5rLWZpZWxkJyArICdcIicgKyAnIHZhbHVlPScgKyAnXCInICsgdGhpcy5nZXRMaW5rXzAoZWxlbWVudC5kYXRhKCdsaW5rJykudG9TdHJpbmcoKSkgKyAnXCInICsgJz4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxcXC9kaXY+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKTtcbiAgICB0bXAkID0gdHJpbUluZGVudChmb3JtYXQoJzxkaXYgY2xhc3M9XCJzZW50ZW5jZS1saW5rcy1wb3B1cFwiPnsxfTxcXC9kaXY+JywgWyRyZWNlaXZlci50b1N0cmluZygpXSkpO1xuICAgIChuZXcgUG9wdXAobmV3IFBvcHVwQ29uZmlnKDgwMCwgbW9kZSA9PT0gTW9kZSREZXZfZ2V0SW5zdGFuY2UoKSA/IDE1MCA6IDEwMCwgJ1NlbnRlbmNlIGluZm8nLCB0bXAkKSkpLm9wZW4oKTtcbiAgICAkbW9kdWxlJGpxdWVyeSgnLnNlbnRlbmNlLXBhdGgtZm9yLWNvbXBpbGVyLXRlc3QnKS5zZWxlY3QoKS5mb2N1cygpO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUub25QYXJhZ3JhcGhHZXRMaW5rQ2xpY2tfbGppeTh6JCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgKG5ldyBQb3B1cChuZXcgUG9wdXBDb25maWcoODAwLCAxMDAsICdMaW5rIHRvIHRoaXMgcGFyYWdyYXBoJywgdHJpbUluZGVudCgnXFxuJyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nICsgJ1wiJyArICdzZW50ZW5jZS1saW5rcy1wb3B1cCcgKyAnXCInICsgJz4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmtzLXJvdycgKyAnXCInICsgJz48c3BhbiBjbGFzcz0nICsgJ1wiJyArICdsaW5rLXNlbnRlbmNlLWRlc2NyaXB0aW9uLWxpbmstdHlwZScgKyAnXCInICsgJz5MaW5rOjxcXC9zcGFuPjxpbnB1dCB0eXBlPScgKyAnXCInICsgJ3RleHQnICsgJ1wiJyArICcgY2xhc3M9JyArICdcIicgKyAnc2VudGVuY2UtbGluay1maWVsZCcgKyAnXCInICsgJyB2YWx1ZT0nICsgJ1wiJyArIHRoaXMuZ2V0TGlua18wKGVsZW1lbnQuZGF0YSgnbGluaycpLnRvU3RyaW5nKCkpICsgJ1wiJyArICc+PFxcL2Rpdj4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxcXC9kaXY+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICcpKSkpLm9wZW4oKTtcbiAgICAkbW9kdWxlJGpxdWVyeSgnLnNlbnRlbmNlLWxpbmstZmllbGQnKS5zZWxlY3QoKS5mb2N1cygpO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUub25IZWFkZXJHZXRMaW5rQ2xpY2tfbGppeTh6JCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgKG5ldyBQb3B1cChuZXcgUG9wdXBDb25maWcoODAwLCAxMDAsICdMaW5rIHRvIHRoaXMgc2VjdGlvbicsIHRyaW1JbmRlbnQoJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9JyArICdcIicgKyAnc2VudGVuY2UtbGlua3MtcG9wdXAnICsgJ1wiJyArICc+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nICsgJ1wiJyArICdzZW50ZW5jZS1saW5rcy1yb3cnICsgJ1wiJyArICc+PHNwYW4gY2xhc3M9JyArICdcIicgKyAnbGluay1zZW50ZW5jZS1kZXNjcmlwdGlvbi1saW5rLXR5cGUnICsgJ1wiJyArICc+TGluazo8XFwvc3Bhbj48aW5wdXQgdHlwZT0nICsgJ1wiJyArICd0ZXh0JyArICdcIicgKyAnIGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmstZmllbGQnICsgJ1wiJyArICcgdmFsdWU9JyArICdcIicgKyB0aGlzLmdldFNlY3Rpb25MaW5rXzAoZWxlbWVudC5hdHRyKCdpZCcpKSArICdcIicgKyAnPjxcXC9kaXY+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8XFwvZGl2PicgKyAnXFxuJyArICcgICAgICAgICAgICAgICAgICAgICAgICAnKSkpKS5vcGVuKCk7XG4gICAgJG1vZHVsZSRqcXVlcnkoJy5zZW50ZW5jZS1saW5rLWZpZWxkJykuc2VsZWN0KCkuZm9jdXMoKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1NwZWNQbGFjZUhpZ2hsaWdodGVyJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBTcGVjUGxhY2VIaWdobGlnaHRlcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBTcGVjUGxhY2VIaWdobGlnaHRlcigpO1xuICAgIH1cbiAgICByZXR1cm4gU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIHBhY2thZ2Ukb3JnID0gXy5vcmcgfHwgKF8ub3JnID0ge30pO1xuICB2YXIgcGFja2FnZSRqZXRicmFpbnMgPSBwYWNrYWdlJG9yZy5qZXRicmFpbnMgfHwgKHBhY2thZ2Ukb3JnLmpldGJyYWlucyA9IHt9KTtcbiAgdmFyIHBhY2thZ2Uka290bGluID0gcGFja2FnZSRqZXRicmFpbnMua290bGluIHx8IChwYWNrYWdlJGpldGJyYWlucy5rb3RsaW4gPSB7fSk7XG4gIHZhciBwYWNrYWdlJHNwZWMgPSBwYWNrYWdlJGtvdGxpbi5zcGVjIHx8IChwYWNrYWdlJGtvdGxpbi5zcGVjID0ge30pO1xuICB2YXIgcGFja2FnZSRlbnRpdHkgPSBwYWNrYWdlJHNwZWMuZW50aXR5IHx8IChwYWNrYWdlJHNwZWMuZW50aXR5ID0ge30pO1xuICBwYWNrYWdlJGVudGl0eS5TZWN0aW9uVGVzdE1hcCA9IFNlY3Rpb25UZXN0TWFwO1xuICBwYWNrYWdlJGVudGl0eS5TcGVjU2VjdGlvbiA9IFNwZWNTZWN0aW9uO1xuICBwYWNrYWdlJGVudGl0eS5TcGVjUGFyYWdyYXBoID0gU3BlY1BhcmFncmFwaDtcbiAgcGFja2FnZSRlbnRpdHkuU3BlY1NlbnRlbmNlID0gU3BlY1NlbnRlbmNlO1xuICB2YXIgcGFja2FnZSR0ZXN0ID0gcGFja2FnZSRlbnRpdHkudGVzdCB8fCAocGFja2FnZSRlbnRpdHkudGVzdCA9IHt9KTtcbiAgcGFja2FnZSR0ZXN0LlNwZWNUZXN0ID0gU3BlY1Rlc3Q7XG4gIHBhY2thZ2UkdGVzdC5UZXN0Q2FzZSA9IFRlc3RDYXNlO1xuICBwYWNrYWdlJHRlc3QuVGVzdFBsYWNlID0gVGVzdFBsYWNlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlua1R5cGUsICdtYWluJywge2dldDogTGlua1R5cGUkbWFpbl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlua1R5cGUsICdwcmltYXJ5Jywge2dldDogTGlua1R5cGUkcHJpbWFyeV9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlua1R5cGUsICdzZWNvbmRhcnknLCB7Z2V0OiBMaW5rVHlwZSRzZWNvbmRhcnlfZ2V0SW5zdGFuY2V9KTtcbiAgdmFyIHBhY2thZ2UkcGFyYW1ldGVycyA9IHBhY2thZ2UkdGVzdC5wYXJhbWV0ZXJzIHx8IChwYWNrYWdlJHRlc3QucGFyYW1ldGVycyA9IHt9KTtcbiAgcGFja2FnZSRwYXJhbWV0ZXJzLkxpbmtUeXBlID0gTGlua1R5cGU7XG4gIHBhY2thZ2UkcGFyYW1ldGVycy5UZXN0SW5mbyA9IFRlc3RJbmZvO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGVzdFR5cGUsICdQb3NpdGl2ZScsIHtnZXQ6IFRlc3RUeXBlJFBvc2l0aXZlX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXN0VHlwZSwgJ05lZ2F0aXZlJywge2dldDogVGVzdFR5cGUkTmVnYXRpdmVfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRlc3RUeXBlLCAnQ29tcGFuaW9uJywge2dldDogVGVzdFR5cGUkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkcGFyYW1ldGVycy5UZXN0VHlwZSA9IFRlc3RUeXBlO1xuICB2YXIgcGFja2FnZSR0ZXN0QXJlYSA9IHBhY2thZ2UkcGFyYW1ldGVycy50ZXN0QXJlYSB8fCAocGFja2FnZSRwYXJhbWV0ZXJzLnRlc3RBcmVhID0ge30pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSR0ZXN0QXJlYSwgJ1NwZWNUZXN0c1BhcnNlcicsIHtnZXQ6IFNwZWNUZXN0c1BhcnNlcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGVzdEFyZWEsICdEaWFnbm9zdGljcycsIHtnZXQ6IFRlc3RBcmVhJERpYWdub3N0aWNzX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXN0QXJlYSwgJ0NvZGVnZW5Cb3gnLCB7Z2V0OiBUZXN0QXJlYSRDb2RlZ2VuQm94X2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXN0QXJlYSwgJ0NvbXBhbmlvbicsIHtnZXQ6IFRlc3RBcmVhJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJHRlc3RBcmVhLlRlc3RBcmVhID0gVGVzdEFyZWE7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luLCAnU1BFQ19URVNUJywge2dldDogR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbiRTUEVDX1RFU1RfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RPcmlnaW4sICdJTVBMRU1FTlRBVElPTl9URVNUJywge2dldDogR2l0aHViVGVzdHNMb2FkZXIkVGVzdE9yaWdpbiRJTVBMRU1FTlRBVElPTl9URVNUX2dldEluc3RhbmNlfSk7XG4gIEdpdGh1YlRlc3RzTG9hZGVyLlRlc3RPcmlnaW4gPSBHaXRodWJUZXN0c0xvYWRlciRUZXN0T3JpZ2luO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR2l0aHViVGVzdHNMb2FkZXIsICdDb21wYW5pb24nLCB7Z2V0OiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgdmFyIHBhY2thZ2UkbG9hZGVyID0gcGFja2FnZSRzcGVjLmxvYWRlciB8fCAocGFja2FnZSRzcGVjLmxvYWRlciA9IHt9KTtcbiAgcGFja2FnZSRsb2FkZXIuR2l0aHViVGVzdHNMb2FkZXIgPSBHaXRodWJUZXN0c0xvYWRlcjtcbiAgcGFja2FnZSRsb2FkZXIuTG9hZGVyQnlUZXN0c01hcEZpbGUgPSBMb2FkZXJCeVRlc3RzTWFwRmlsZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwZWNUZXN0c0xvYWRlciwgJ0NvbXBhbmlvbicsIHtnZXQ6IFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRsb2FkZXIuU3BlY1Rlc3RzTG9hZGVyID0gU3BlY1Rlc3RzTG9hZGVyO1xuICBwYWNrYWdlJHNwZWMucnVuQWZ0ZXJEb2N1bWVudFJlYWR5ID0gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5O1xuICBwYWNrYWdlJHNwZWMubWFpbiA9IG1haW5fMDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1vZGUsICdEZXYnLCB7Z2V0OiBNb2RlJERldl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW9kZSwgJ1VzZXInLCB7Z2V0OiBNb2RlJFVzZXJfZ2V0SW5zdGFuY2V9KTtcbiAgdmFyIHBhY2thZ2UkdXRpbHMgPSBwYWNrYWdlJHNwZWMudXRpbHMgfHwgKHBhY2thZ2Ukc3BlYy51dGlscyA9IHt9KTtcbiAgcGFja2FnZSR1dGlscy5Nb2RlID0gTW9kZTtcbiAgcGFja2FnZSR1dGlscy5Qb3B1cENvbmZpZyA9IFBvcHVwQ29uZmlnO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG9wdXAsICdDb21wYW5pb24nLCB7Z2V0OiBQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSR1dGlscy5Qb3B1cCA9IFBvcHVwO1xuICBwYWNrYWdlJHV0aWxzLmZvcm1hdF9lMzNrd2wkID0gZm9ybWF0O1xuICBwYWNrYWdlJHV0aWxzLmVzY2FwZUh0bWxfcGRsMXZ6JCA9IGVzY2FwZUh0bWw7XG4gIHBhY2thZ2UkdXRpbHMuZ2V0X3NlYXJjaE1hcF91cThucngkID0gZ2V0X3NlYXJjaE1hcDtcbiAgdmFyIHBhY2thZ2Ukdmlld2VyID0gcGFja2FnZSRzcGVjLnZpZXdlciB8fCAocGFja2FnZSRzcGVjLnZpZXdlciA9IHt9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2Ukdmlld2VyLCAnTWFya1VwQXJyYW5nZXInLCB7Z2V0OiBNYXJrVXBBcnJhbmdlcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2lkZWJhclZpZXdlciwgJ0NvbXBhbmlvbicsIHtnZXQ6IFNpZGViYXJWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukdmlld2VyLlNpZGViYXJWaWV3ZXIgPSBTaWRlYmFyVmlld2VyO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSR2aWV3ZXIsICdTcGVjQ292ZXJhZ2VIaWdobGlnaHRlcicsIHtnZXQ6IFNwZWNDb3ZlcmFnZUhpZ2hsaWdodGVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOYXZpZ2F0aW9uVHlwZSwgJ1BSRVYnLCB7Z2V0OiBOYXZpZ2F0aW9uVHlwZSRQUkVWX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOYXZpZ2F0aW9uVHlwZSwgJ05FWFQnLCB7Z2V0OiBOYXZpZ2F0aW9uVHlwZSRORVhUX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukdmlld2VyLk5hdmlnYXRpb25UeXBlID0gTmF2aWdhdGlvblR5cGU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcGVjVGVzdHNWaWV3ZXIsICdDb21wYW5pb24nLCB7Z2V0OiBTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukdmlld2VyLlNwZWNUZXN0c1ZpZXdlciA9IFNwZWNUZXN0c1ZpZXdlcjtcbiAgdmFyIHBhY2thZ2UkbGlua3MgPSBwYWNrYWdlJHZpZXdlci5saW5rcyB8fCAocGFja2FnZSR2aWV3ZXIubGlua3MgPSB7fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGxpbmtzLCAnU2VudGVuY2VGaW5kZXInLCB7Z2V0OiBTZW50ZW5jZUZpbmRlcl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGxpbmtzLlNwZWNQbGFjZUNvbXBvbmVudHMgPSBTcGVjUGxhY2VDb21wb25lbnRzO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRsaW5rcywgJ1NwZWNQbGFjZUhpZ2hsaWdodGVyJywge2dldDogU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgS290bGluUGxheWdyb3VuZCA9IHJlcXVpcmUoJ2tvdGxpbi1wbGF5Z3JvdW5kJyk7XG4gIG1haW5fMCgpO1xuICByZXR1cm4gXztcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9udC1lbmQuanMubWFwXG4iLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgna290bGluJywgWydleHBvcnRzJ10sIGZhY3RvcnkpO1xuICB9XG4gICBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBmYWN0b3J5KG1vZHVsZS5leHBvcnRzKTtcbiAgfVxuICAgZWxzZSB7XG4gICAgcm9vdC5rb3RsaW4gPSB7fTtcbiAgICBmYWN0b3J5KHJvb3Qua290bGluKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoS290bGluKSB7XG4gIHZhciBfID0gS290bGluO1xuICBLb3RsaW4uaXNCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiAoQXJyYXkuaXNBcnJheShhKSB8fCBhIGluc3RhbmNlb2YgSW50OEFycmF5KSAmJiBhLiR0eXBlJCA9PT0gJ0Jvb2xlYW5BcnJheSc7XG4gIH07XG4gIEtvdGxpbi5pc0J5dGVBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBJbnQ4QXJyYXkgJiYgYS4kdHlwZSQgIT09ICdCb29sZWFuQXJyYXknO1xuICB9O1xuICBLb3RsaW4uaXNTaG9ydEFycmF5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEludDE2QXJyYXk7XG4gIH07XG4gIEtvdGxpbi5pc0NoYXJBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBVaW50MTZBcnJheSAmJiBhLiR0eXBlJCA9PT0gJ0NoYXJBcnJheSc7XG4gIH07XG4gIEtvdGxpbi5pc0ludEFycmF5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEludDMyQXJyYXk7XG4gIH07XG4gIEtvdGxpbi5pc0Zsb2F0QXJyYXkgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5O1xuICB9O1xuICBLb3RsaW4uaXNEb3VibGVBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBGbG9hdDY0QXJyYXk7XG4gIH07XG4gIEtvdGxpbi5pc0xvbmdBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgJiYgYS4kdHlwZSQgPT09ICdMb25nQXJyYXknO1xuICB9O1xuICBLb3RsaW4uaXNBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgJiYgIWEuJHR5cGUkO1xuICB9O1xuICBLb3RsaW4uaXNBcnJheWlzaCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KGEpO1xuICB9O1xuICBLb3RsaW4uYXJyYXlUb1N0cmluZyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHRvU3RyaW5nID0gS290bGluLmlzQ2hhckFycmF5KGEpID8gU3RyaW5nLmZyb21DaGFyQ29kZSA6IEtvdGxpbi50b1N0cmluZztcbiAgICByZXR1cm4gJ1snICsgQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcoZSk7XG4gICAgfSkuam9pbignLCAnKSArICddJztcbiAgfTtcbiAgdmFyIHByb3BlcnR5UmVmQ2xhc3NNZXRhZGF0YUNhY2hlID0gW3ttdXRhYmxlOiB7dmFsdWU6IG51bGwsIGltcGxlbWVudGVkSW50ZXJmYWNlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5LTXV0YWJsZVByb3BlcnR5MDtcbiAgfX0sIGltbXV0YWJsZToge3ZhbHVlOiBudWxsLCBpbXBsZW1lbnRlZEludGVyZmFjZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBLb3RsaW4ua290bGluLnJlZmxlY3QuS1Byb3BlcnR5MDtcbiAgfX19LCB7bXV0YWJsZToge3ZhbHVlOiBudWxsLCBpbXBsZW1lbnRlZEludGVyZmFjZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBLb3RsaW4ua290bGluLnJlZmxlY3QuS011dGFibGVQcm9wZXJ0eTE7XG4gIH19LCBpbW11dGFibGU6IHt2YWx1ZTogbnVsbCwgaW1wbGVtZW50ZWRJbnRlcmZhY2U6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gS290bGluLmtvdGxpbi5yZWZsZWN0LktQcm9wZXJ0eTE7XG4gIH19fV07XG4gIEtvdGxpbi50b1Nob3J0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gKGEgJiA2NTUzNSkgPDwgMTYgPj4gMTY7XG4gIH07XG4gIEtvdGxpbi50b0J5dGUgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiAoYSAmIDI1NSkgPDwgMjQgPj4gMjQ7XG4gIH07XG4gIEtvdGxpbi50b0NoYXIgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBhICYgNjU1MzU7XG4gIH07XG4gIEtvdGxpbi5udW1iZXJUb0ludCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBLb3RsaW4uTG9uZyA/IGEudG9JbnQoKSA6IEtvdGxpbi5kb3VibGVUb0ludChhKTtcbiAgfTtcbiAgS290bGluLm51bWJlclRvRG91YmxlID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gK2E7XG4gIH07XG4gIEtvdGxpbi5kb3VibGVUb0ludCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKGEgPiAyMTQ3NDgzNjQ3KVxuICAgICAgcmV0dXJuIDIxNDc0ODM2NDc7XG4gICAgaWYgKGEgPCAtMjE0NzQ4MzY0OClcbiAgICAgIHJldHVybiAtMjE0NzQ4MzY0ODtcbiAgICByZXR1cm4gYSB8IDA7XG4gIH07XG4gIEtvdGxpbi50b0JveGVkQ2hhciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKGEgPT0gbnVsbClcbiAgICAgIHJldHVybiBhO1xuICAgIGlmIChhIGluc3RhbmNlb2YgS290bGluLkJveGVkQ2hhcilcbiAgICAgIHJldHVybiBhO1xuICAgIHJldHVybiBuZXcgS290bGluLkJveGVkQ2hhcihhKTtcbiAgfTtcbiAgS290bGluLnVuYm94Q2hhciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKGEgPT0gbnVsbClcbiAgICAgIHJldHVybiBhO1xuICAgIHJldHVybiBLb3RsaW4udG9DaGFyKGEpO1xuICB9O1xuICBLb3RsaW4uZXF1YWxzID0gZnVuY3Rpb24gKG9iajEsIG9iajIpIHtcbiAgICBpZiAob2JqMSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gb2JqMiA9PSBudWxsO1xuICAgIH1cbiAgICBpZiAob2JqMiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvYmoxICE9PSBvYmoxKSB7XG4gICAgICByZXR1cm4gb2JqMiAhPT0gb2JqMjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmoxID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqMS5lcXVhbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBvYmoxLmVxdWFscyhvYmoyKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmoxID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygb2JqMiA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBvYmoxID09PSBvYmoyICYmIChvYmoxICE9PSAwIHx8IDEgLyBvYmoxID09PSAxIC8gb2JqMik7XG4gICAgfVxuICAgIHJldHVybiBvYmoxID09PSBvYmoyO1xuICB9O1xuICBLb3RsaW4uaGFzaENvZGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIG9ialR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgIGlmICgnb2JqZWN0JyA9PT0gb2JqVHlwZSkge1xuICAgICAgcmV0dXJuICdmdW5jdGlvbicgPT09IHR5cGVvZiBvYmouaGFzaENvZGUgPyBvYmouaGFzaENvZGUoKSA6IGdldE9iamVjdEhhc2hDb2RlKG9iaik7XG4gICAgfVxuICAgIGlmICgnZnVuY3Rpb24nID09PSBvYmpUeXBlKSB7XG4gICAgICByZXR1cm4gZ2V0T2JqZWN0SGFzaENvZGUob2JqKTtcbiAgICB9XG4gICAgaWYgKCdudW1iZXInID09PSBvYmpUeXBlKSB7XG4gICAgICByZXR1cm4gS290bGluLm51bWJlckhhc2hDb2RlKG9iaik7XG4gICAgfVxuICAgIGlmICgnYm9vbGVhbicgPT09IG9ialR5cGUpIHtcbiAgICAgIHJldHVybiBOdW1iZXIob2JqKTtcbiAgICB9XG4gICAgdmFyIHN0ciA9IFN0cmluZyhvYmopO1xuICAgIHJldHVybiBnZXRTdHJpbmdIYXNoQ29kZShzdHIpO1xuICB9O1xuICBLb3RsaW4udG9TdHJpbmcgPSBmdW5jdGlvbiAobykge1xuICAgIGlmIChvID09IG51bGwpIHtcbiAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuICAgICBlbHNlIGlmIChLb3RsaW4uaXNBcnJheWlzaChvKSkge1xuICAgICAgcmV0dXJuICdbLi4uXSc7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHJldHVybiBvLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9O1xuICB2YXIgUE9XXzJfMzIgPSA0LjI5NDk2NzI5NkU5O1xuICB2YXIgT0JKRUNUX0hBU0hfQ09ERV9QUk9QRVJUWV9OQU1FID0gJ2tvdGxpbkhhc2hDb2RlVmFsdWUkJztcbiAgZnVuY3Rpb24gZ2V0T2JqZWN0SGFzaENvZGUob2JqKSB7XG4gICAgaWYgKCEoT0JKRUNUX0hBU0hfQ09ERV9QUk9QRVJUWV9OQU1FIGluIG9iaikpIHtcbiAgICAgIHZhciBoYXNoID0gTWF0aC5yYW5kb20oKSAqIFBPV18yXzMyIHwgMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIE9CSkVDVF9IQVNIX0NPREVfUFJPUEVSVFlfTkFNRSwge3ZhbHVlOiBoYXNoLCBlbnVtZXJhYmxlOiBmYWxzZX0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JqW09CSkVDVF9IQVNIX0NPREVfUFJPUEVSVFlfTkFNRV07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U3RyaW5nSGFzaENvZGUoc3RyKSB7XG4gICAgdmFyIGhhc2ggPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgaGFzaCA9IGhhc2ggKiAzMSArIGNvZGUgfCAwO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuICBLb3RsaW4uaWRlbnRpdHlIYXNoQ29kZSA9IGdldE9iamVjdEhhc2hDb2RlO1xuICBLb3RsaW4uTG9uZyA9IGZ1bmN0aW9uIChsb3csIGhpZ2gpIHtcbiAgICB0aGlzLmxvd18gPSBsb3cgfCAwO1xuICAgIHRoaXMuaGlnaF8gPSBoaWdoIHwgMDtcbiAgfTtcbiAgS290bGluLkxvbmcuJG1ldGFkYXRhJCA9IHtraW5kOiAnY2xhc3MnLCBzaW1wbGVOYW1lOiAnTG9uZycsIGludGVyZmFjZXM6IFtdfTtcbiAgS290bGluLkxvbmcuSW50Q2FjaGVfID0ge307XG4gIEtvdGxpbi5Mb25nLmZyb21JbnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoLTEyOCA8PSB2YWx1ZSAmJiB2YWx1ZSA8IDEyOCkge1xuICAgICAgdmFyIGNhY2hlZE9iaiA9IEtvdGxpbi5Mb25nLkludENhY2hlX1t2YWx1ZV07XG4gICAgICBpZiAoY2FjaGVkT2JqKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRPYmo7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBvYmogPSBuZXcgS290bGluLkxvbmcodmFsdWUgfCAwLCB2YWx1ZSA8IDAgPyAtMSA6IDApO1xuICAgIGlmICgtMTI4IDw9IHZhbHVlICYmIHZhbHVlIDwgMTI4KSB7XG4gICAgICBLb3RsaW4uTG9uZy5JbnRDYWNoZV9bdmFsdWVdID0gb2JqO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuICBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLlpFUk87XG4gICAgfVxuICAgICBlbHNlIGlmICh2YWx1ZSA8PSAtS290bGluLkxvbmcuVFdPX1BXUl82M19EQkxfKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuTUlOX1ZBTFVFO1xuICAgIH1cbiAgICAgZWxzZSBpZiAodmFsdWUgKyAxID49IEtvdGxpbi5Mb25nLlRXT19QV1JfNjNfREJMXykge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLk1BWF9WQUxVRTtcbiAgICB9XG4gICAgIGVsc2UgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21OdW1iZXIoLXZhbHVlKS5uZWdhdGUoKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBLb3RsaW4uTG9uZyh2YWx1ZSAlIEtvdGxpbi5Mb25nLlRXT19QV1JfMzJfREJMXyB8IDAsIHZhbHVlIC8gS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfIHwgMCk7XG4gICAgfVxuICB9O1xuICBLb3RsaW4uTG9uZy5mcm9tQml0cyA9IGZ1bmN0aW9uIChsb3dCaXRzLCBoaWdoQml0cykge1xuICAgIHJldHVybiBuZXcgS290bGluLkxvbmcobG93Qml0cywgaGlnaEJpdHMpO1xuICB9O1xuICBLb3RsaW4uTG9uZy5mcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0ciwgb3B0X3JhZGl4KSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPT0gMCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ251bWJlciBmb3JtYXQgZXJyb3I6IGVtcHR5IHN0cmluZycpO1xuICAgIH1cbiAgICB2YXIgcmFkaXggPSBvcHRfcmFkaXggfHwgMTA7XG4gICAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KSB7XG4gICAgICB0aHJvdyBFcnJvcigncmFkaXggb3V0IG9mIHJhbmdlOiAnICsgcmFkaXgpO1xuICAgIH1cbiAgICBpZiAoc3RyLmNoYXJBdCgwKSA9PSAnLScpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tU3RyaW5nKHN0ci5zdWJzdHJpbmcoMSksIHJhZGl4KS5uZWdhdGUoKTtcbiAgICB9XG4gICAgIGVsc2UgaWYgKHN0ci5pbmRleE9mKCctJykgPj0gMCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ251bWJlciBmb3JtYXQgZXJyb3I6IGludGVyaW9yIFwiLVwiIGNoYXJhY3RlcjogJyArIHN0cik7XG4gICAgfVxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKE1hdGgucG93KHJhZGl4LCA4KSk7XG4gICAgdmFyIHJlc3VsdCA9IEtvdGxpbi5Mb25nLlpFUk87XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDgpIHtcbiAgICAgIHZhciBzaXplID0gTWF0aC5taW4oOCwgc3RyLmxlbmd0aCAtIGkpO1xuICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpLCBpICsgc2l6ZSksIHJhZGl4KTtcbiAgICAgIGlmIChzaXplIDwgOCkge1xuICAgICAgICB2YXIgcG93ZXIgPSBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKE1hdGgucG93KHJhZGl4LCBzaXplKSk7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWx0aXBseShwb3dlcikuYWRkKEtvdGxpbi5Mb25nLmZyb21OdW1iZXIodmFsdWUpKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bHRpcGx5KHJhZGl4VG9Qb3dlcik7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5hZGQoS290bGluLkxvbmcuZnJvbU51bWJlcih2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBLb3RsaW4uTG9uZy5UV09fUFdSXzE2X0RCTF8gPSAxIDw8IDE2O1xuICBLb3RsaW4uTG9uZy5UV09fUFdSXzI0X0RCTF8gPSAxIDw8IDI0O1xuICBLb3RsaW4uTG9uZy5UV09fUFdSXzMyX0RCTF8gPSBLb3RsaW4uTG9uZy5UV09fUFdSXzE2X0RCTF8gKiBLb3RsaW4uTG9uZy5UV09fUFdSXzE2X0RCTF87XG4gIEtvdGxpbi5Mb25nLlRXT19QV1JfMzFfREJMXyA9IEtvdGxpbi5Mb25nLlRXT19QV1JfMzJfREJMXyAvIDI7XG4gIEtvdGxpbi5Mb25nLlRXT19QV1JfNDhfREJMXyA9IEtvdGxpbi5Mb25nLlRXT19QV1JfMzJfREJMXyAqIEtvdGxpbi5Mb25nLlRXT19QV1JfMTZfREJMXztcbiAgS290bGluLkxvbmcuVFdPX1BXUl82NF9EQkxfID0gS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfICogS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfO1xuICBLb3RsaW4uTG9uZy5UV09fUFdSXzYzX0RCTF8gPSBLb3RsaW4uTG9uZy5UV09fUFdSXzY0X0RCTF8gLyAyO1xuICBLb3RsaW4uTG9uZy5aRVJPID0gS290bGluLkxvbmcuZnJvbUludCgwKTtcbiAgS290bGluLkxvbmcuT05FID0gS290bGluLkxvbmcuZnJvbUludCgxKTtcbiAgS290bGluLkxvbmcuTkVHX09ORSA9IEtvdGxpbi5Mb25nLmZyb21JbnQoLTEpO1xuICBLb3RsaW4uTG9uZy5NQVhfVkFMVUUgPSBLb3RsaW4uTG9uZy5mcm9tQml0cyg0LjI5NDk2NzI5NUU5IHwgMCwgMjE0NzQ4MzY0NyB8IDApO1xuICBLb3RsaW4uTG9uZy5NSU5fVkFMVUUgPSBLb3RsaW4uTG9uZy5mcm9tQml0cygwLCAyLjE0NzQ4MzY0OEU5IHwgMCk7XG4gIEtvdGxpbi5Mb25nLlRXT19QV1JfMjRfID0gS290bGluLkxvbmcuZnJvbUludCgxIDw8IDI0KTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnRvSW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmxvd187XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoXyAqIEtvdGxpbi5Mb25nLlRXT19QV1JfMzJfREJMXyArIHRoaXMuZ2V0TG93Qml0c1Vuc2lnbmVkKCk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoXyBeIHRoaXMubG93XztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKG9wdF9yYWRpeCkge1xuICAgIHZhciByYWRpeCA9IG9wdF9yYWRpeCB8fCAxMDtcbiAgICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpIHtcbiAgICAgIHRocm93IEVycm9yKCdyYWRpeCBvdXQgb2YgcmFuZ2U6ICcgKyByYWRpeCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gJzAnO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIGlmICh0aGlzLmVxdWFsc0xvbmcoS290bGluLkxvbmcuTUlOX1ZBTFVFKSkge1xuICAgICAgICB2YXIgcmFkaXhMb25nID0gS290bGluLkxvbmcuZnJvbU51bWJlcihyYWRpeCk7XG4gICAgICAgIHZhciBkaXYgPSB0aGlzLmRpdihyYWRpeExvbmcpO1xuICAgICAgICB2YXIgcmVtID0gZGl2Lm11bHRpcGx5KHJhZGl4TG9uZykuc3VidHJhY3QodGhpcyk7XG4gICAgICAgIHJldHVybiBkaXYudG9TdHJpbmcocmFkaXgpICsgcmVtLnRvSW50KCkudG9TdHJpbmcocmFkaXgpO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJy0nICsgdGhpcy5uZWdhdGUoKS50b1N0cmluZyhyYWRpeCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciByYWRpeFRvUG93ZXIgPSBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKE1hdGgucG93KHJhZGl4LCA2KSk7XG4gICAgdmFyIHJlbSA9IHRoaXM7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgcmVtRGl2ID0gcmVtLmRpdihyYWRpeFRvUG93ZXIpO1xuICAgICAgdmFyIGludHZhbCA9IHJlbS5zdWJ0cmFjdChyZW1EaXYubXVsdGlwbHkocmFkaXhUb1Bvd2VyKSkudG9JbnQoKTtcbiAgICAgIHZhciBkaWdpdHMgPSBpbnR2YWwudG9TdHJpbmcocmFkaXgpO1xuICAgICAgcmVtID0gcmVtRGl2O1xuICAgICAgaWYgKHJlbS5pc1plcm8oKSkge1xuICAgICAgICByZXR1cm4gZGlnaXRzICsgcmVzdWx0O1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB3aGlsZSAoZGlnaXRzLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgICBkaWdpdHMgPSAnMCcgKyBkaWdpdHM7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gJycgKyBkaWdpdHMgKyByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuZ2V0SGlnaEJpdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlnaF87XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5nZXRMb3dCaXRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmxvd187XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5nZXRMb3dCaXRzVW5zaWduZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubG93XyA+PSAwID8gdGhpcy5sb3dfIDogS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfICsgdGhpcy5sb3dfO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuZ2V0TnVtQml0c0FicyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIGlmICh0aGlzLmVxdWFsc0xvbmcoS290bGluLkxvbmcuTUlOX1ZBTFVFKSkge1xuICAgICAgICByZXR1cm4gNjQ7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0ZSgpLmdldE51bUJpdHNBYnMoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdmFyIHZhbCA9IHRoaXMuaGlnaF8gIT0gMCA/IHRoaXMuaGlnaF8gOiB0aGlzLmxvd187XG4gICAgICBmb3IgKHZhciBiaXQgPSAzMTsgYml0ID4gMDsgYml0LS0pIHtcbiAgICAgICAgaWYgKCh2YWwgJiAxIDw8IGJpdCkgIT0gMCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5oaWdoXyAhPSAwID8gYml0ICsgMzMgOiBiaXQgKyAxO1xuICAgIH1cbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoXyA9PSAwICYmIHRoaXMubG93XyA9PSAwO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuaXNOZWdhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoXyA8IDA7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5pc09kZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMubG93XyAmIDEpID09IDE7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5lcXVhbHNMb25nID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlnaF8gPT0gb3RoZXIuaGlnaF8gJiYgdGhpcy5sb3dfID09IG90aGVyLmxvd187XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5ub3RFcXVhbHNMb25nID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlnaF8gIT0gb3RoZXIuaGlnaF8gfHwgdGhpcy5sb3dfICE9IG90aGVyLmxvd187XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5sZXNzVGhhbiA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmNvbXBhcmUob3RoZXIpIDwgMDtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmNvbXBhcmUob3RoZXIpIDw9IDA7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5ncmVhdGVyVGhhbiA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmNvbXBhcmUob3RoZXIpID4gMDtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmNvbXBhcmUob3RoZXIpID49IDA7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgaWYgKHRoaXMuZXF1YWxzTG9uZyhvdGhlcikpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgdGhpc05lZyA9IHRoaXMuaXNOZWdhdGl2ZSgpO1xuICAgIHZhciBvdGhlck5lZyA9IG90aGVyLmlzTmVnYXRpdmUoKTtcbiAgICBpZiAodGhpc05lZyAmJiAhb3RoZXJOZWcpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKCF0aGlzTmVnICYmIG90aGVyTmVnKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3VidHJhY3Qob3RoZXIpLmlzTmVnYXRpdmUoKSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5uZWdhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuTUlOX1ZBTFVFO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5ub3QoKS5hZGQoS290bGluLkxvbmcuT05FKTtcbiAgICB9XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICB2YXIgYTQ4ID0gdGhpcy5oaWdoXyA+Pj4gMTY7XG4gICAgdmFyIGEzMiA9IHRoaXMuaGlnaF8gJiA2NTUzNTtcbiAgICB2YXIgYTE2ID0gdGhpcy5sb3dfID4+PiAxNjtcbiAgICB2YXIgYTAwID0gdGhpcy5sb3dfICYgNjU1MzU7XG4gICAgdmFyIGI0OCA9IG90aGVyLmhpZ2hfID4+PiAxNjtcbiAgICB2YXIgYjMyID0gb3RoZXIuaGlnaF8gJiA2NTUzNTtcbiAgICB2YXIgYjE2ID0gb3RoZXIubG93XyA+Pj4gMTY7XG4gICAgdmFyIGIwMCA9IG90aGVyLmxvd18gJiA2NTUzNTtcbiAgICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcbiAgICBjMDAgKz0gYTAwICsgYjAwO1xuICAgIGMxNiArPSBjMDAgPj4+IDE2O1xuICAgIGMwMCAmPSA2NTUzNTtcbiAgICBjMTYgKz0gYTE2ICsgYjE2O1xuICAgIGMzMiArPSBjMTYgPj4+IDE2O1xuICAgIGMxNiAmPSA2NTUzNTtcbiAgICBjMzIgKz0gYTMyICsgYjMyO1xuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xuICAgIGMzMiAmPSA2NTUzNTtcbiAgICBjNDggKz0gYTQ4ICsgYjQ4O1xuICAgIGM0OCAmPSA2NTUzNTtcbiAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHMoYzE2IDw8IDE2IHwgYzAwLCBjNDggPDwgMTYgfCBjMzIpO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5hZGQob3RoZXIubmVnYXRlKCkpO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBpZiAodGhpcy5pc1plcm8oKSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLlpFUk87XG4gICAgfVxuICAgICBlbHNlIGlmIChvdGhlci5pc1plcm8oKSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLlpFUk87XG4gICAgfVxuICAgIGlmICh0aGlzLmVxdWFsc0xvbmcoS290bGluLkxvbmcuTUlOX1ZBTFVFKSkge1xuICAgICAgcmV0dXJuIG90aGVyLmlzT2RkKCkgPyBLb3RsaW4uTG9uZy5NSU5fVkFMVUUgOiBLb3RsaW4uTG9uZy5aRVJPO1xuICAgIH1cbiAgICAgZWxzZSBpZiAob3RoZXIuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc09kZCgpID8gS290bGluLkxvbmcuTUlOX1ZBTFVFIDogS290bGluLkxvbmcuWkVSTztcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICBpZiAob3RoZXIuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0ZSgpLm11bHRpcGx5KG90aGVyLm5lZ2F0ZSgpKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRlKCkubXVsdGlwbHkob3RoZXIpLm5lZ2F0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAgZWxzZSBpZiAob3RoZXIuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShvdGhlci5uZWdhdGUoKSkubmVnYXRlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmxlc3NUaGFuKEtvdGxpbi5Mb25nLlRXT19QV1JfMjRfKSAmJiBvdGhlci5sZXNzVGhhbihLb3RsaW4uTG9uZy5UV09fUFdSXzI0XykpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKHRoaXMudG9OdW1iZXIoKSAqIG90aGVyLnRvTnVtYmVyKCkpO1xuICAgIH1cbiAgICB2YXIgYTQ4ID0gdGhpcy5oaWdoXyA+Pj4gMTY7XG4gICAgdmFyIGEzMiA9IHRoaXMuaGlnaF8gJiA2NTUzNTtcbiAgICB2YXIgYTE2ID0gdGhpcy5sb3dfID4+PiAxNjtcbiAgICB2YXIgYTAwID0gdGhpcy5sb3dfICYgNjU1MzU7XG4gICAgdmFyIGI0OCA9IG90aGVyLmhpZ2hfID4+PiAxNjtcbiAgICB2YXIgYjMyID0gb3RoZXIuaGlnaF8gJiA2NTUzNTtcbiAgICB2YXIgYjE2ID0gb3RoZXIubG93XyA+Pj4gMTY7XG4gICAgdmFyIGIwMCA9IG90aGVyLmxvd18gJiA2NTUzNTtcbiAgICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcbiAgICBjMDAgKz0gYTAwICogYjAwO1xuICAgIGMxNiArPSBjMDAgPj4+IDE2O1xuICAgIGMwMCAmPSA2NTUzNTtcbiAgICBjMTYgKz0gYTE2ICogYjAwO1xuICAgIGMzMiArPSBjMTYgPj4+IDE2O1xuICAgIGMxNiAmPSA2NTUzNTtcbiAgICBjMTYgKz0gYTAwICogYjE2O1xuICAgIGMzMiArPSBjMTYgPj4+IDE2O1xuICAgIGMxNiAmPSA2NTUzNTtcbiAgICBjMzIgKz0gYTMyICogYjAwO1xuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xuICAgIGMzMiAmPSA2NTUzNTtcbiAgICBjMzIgKz0gYTE2ICogYjE2O1xuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xuICAgIGMzMiAmPSA2NTUzNTtcbiAgICBjMzIgKz0gYTAwICogYjMyO1xuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xuICAgIGMzMiAmPSA2NTUzNTtcbiAgICBjNDggKz0gYTQ4ICogYjAwICsgYTMyICogYjE2ICsgYTE2ICogYjMyICsgYTAwICogYjQ4O1xuICAgIGM0OCAmPSA2NTUzNTtcbiAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHMoYzE2IDw8IDE2IHwgYzAwLCBjNDggPDwgMTYgfCBjMzIpO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuZGl2ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgaWYgKG90aGVyLmlzWmVybygpKSB7XG4gICAgICB0aHJvdyBFcnJvcignZGl2aXNpb24gYnkgemVybycpO1xuICAgIH1cbiAgICAgZWxzZSBpZiAodGhpcy5pc1plcm8oKSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLlpFUk87XG4gICAgfVxuICAgIGlmICh0aGlzLmVxdWFsc0xvbmcoS290bGluLkxvbmcuTUlOX1ZBTFVFKSkge1xuICAgICAgaWYgKG90aGVyLmVxdWFsc0xvbmcoS290bGluLkxvbmcuT05FKSB8fCBvdGhlci5lcXVhbHNMb25nKEtvdGxpbi5Mb25nLk5FR19PTkUpKSB7XG4gICAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5NSU5fVkFMVUU7XG4gICAgICB9XG4gICAgICAgZWxzZSBpZiAob3RoZXIuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5PTkU7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBoYWxmVGhpcyA9IHRoaXMuc2hpZnRSaWdodCgxKTtcbiAgICAgICAgdmFyIGFwcHJveCA9IGhhbGZUaGlzLmRpdihvdGhlcikuc2hpZnRMZWZ0KDEpO1xuICAgICAgICBpZiAoYXBwcm94LmVxdWFsc0xvbmcoS290bGluLkxvbmcuWkVSTykpIHtcbiAgICAgICAgICByZXR1cm4gb3RoZXIuaXNOZWdhdGl2ZSgpID8gS290bGluLkxvbmcuT05FIDogS290bGluLkxvbmcuTkVHX09ORTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHJlbSA9IHRoaXMuc3VidHJhY3Qob3RoZXIubXVsdGlwbHkoYXBwcm94KSk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGFwcHJveC5hZGQocmVtLmRpdihvdGhlcikpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgIGVsc2UgaWYgKG90aGVyLmVxdWFsc0xvbmcoS290bGluLkxvbmcuTUlOX1ZBTFVFKSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLlpFUk87XG4gICAgfVxuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgICAgaWYgKG90aGVyLmlzTmVnYXRpdmUoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGUoKS5kaXYob3RoZXIubmVnYXRlKCkpO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGUoKS5kaXYob3RoZXIpLm5lZ2F0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAgZWxzZSBpZiAob3RoZXIuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXYob3RoZXIubmVnYXRlKCkpLm5lZ2F0ZSgpO1xuICAgIH1cbiAgICB2YXIgcmVzID0gS290bGluLkxvbmcuWkVSTztcbiAgICB2YXIgcmVtID0gdGhpcztcbiAgICB3aGlsZSAocmVtLmdyZWF0ZXJUaGFuT3JFcXVhbChvdGhlcikpIHtcbiAgICAgIHZhciBhcHByb3ggPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHJlbS50b051bWJlcigpIC8gb3RoZXIudG9OdW1iZXIoKSkpO1xuICAgICAgdmFyIGxvZzIgPSBNYXRoLmNlaWwoTWF0aC5sb2coYXBwcm94KSAvIE1hdGguTE4yKTtcbiAgICAgIHZhciBkZWx0YSA9IGxvZzIgPD0gNDggPyAxIDogTWF0aC5wb3coMiwgbG9nMiAtIDQ4KTtcbiAgICAgIHZhciBhcHByb3hSZXMgPSBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKGFwcHJveCk7XG4gICAgICB2YXIgYXBwcm94UmVtID0gYXBwcm94UmVzLm11bHRpcGx5KG90aGVyKTtcbiAgICAgIHdoaWxlIChhcHByb3hSZW0uaXNOZWdhdGl2ZSgpIHx8IGFwcHJveFJlbS5ncmVhdGVyVGhhbihyZW0pKSB7XG4gICAgICAgIGFwcHJveCAtPSBkZWx0YTtcbiAgICAgICAgYXBwcm94UmVzID0gS290bGluLkxvbmcuZnJvbU51bWJlcihhcHByb3gpO1xuICAgICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsdGlwbHkob3RoZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGFwcHJveFJlcy5pc1plcm8oKSkge1xuICAgICAgICBhcHByb3hSZXMgPSBLb3RsaW4uTG9uZy5PTkU7XG4gICAgICB9XG4gICAgICByZXMgPSByZXMuYWRkKGFwcHJveFJlcyk7XG4gICAgICByZW0gPSByZW0uc3VidHJhY3QoYXBwcm94UmVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLm1vZHVsbyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLnN1YnRyYWN0KHRoaXMuZGl2KG90aGVyKS5tdWx0aXBseShvdGhlcikpO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUubm90ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyh+dGhpcy5sb3dfLCB+dGhpcy5oaWdoXyk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHModGhpcy5sb3dfICYgb3RoZXIubG93XywgdGhpcy5oaWdoXyAmIG90aGVyLmhpZ2hfKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21CaXRzKHRoaXMubG93XyB8IG90aGVyLmxvd18sIHRoaXMuaGlnaF8gfCBvdGhlci5oaWdoXyk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHModGhpcy5sb3dfIF4gb3RoZXIubG93XywgdGhpcy5oaWdoXyBeIG90aGVyLmhpZ2hfKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnNoaWZ0TGVmdCA9IGZ1bmN0aW9uIChudW1CaXRzKSB7XG4gICAgbnVtQml0cyAmPSA2MztcbiAgICBpZiAobnVtQml0cyA9PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdmFyIGxvdyA9IHRoaXMubG93XztcbiAgICAgIGlmIChudW1CaXRzIDwgMzIpIHtcbiAgICAgICAgdmFyIGhpZ2ggPSB0aGlzLmhpZ2hfO1xuICAgICAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHMobG93IDw8IG51bUJpdHMsIGhpZ2ggPDwgbnVtQml0cyB8IGxvdyA+Pj4gMzIgLSBudW1CaXRzKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21CaXRzKDAsIGxvdyA8PCBudW1CaXRzIC0gMzIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnNoaWZ0UmlnaHQgPSBmdW5jdGlvbiAobnVtQml0cykge1xuICAgIG51bUJpdHMgJj0gNjM7XG4gICAgaWYgKG51bUJpdHMgPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHZhciBoaWdoID0gdGhpcy5oaWdoXztcbiAgICAgIGlmIChudW1CaXRzIDwgMzIpIHtcbiAgICAgICAgdmFyIGxvdyA9IHRoaXMubG93XztcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21CaXRzKGxvdyA+Pj4gbnVtQml0cyB8IGhpZ2ggPDwgMzIgLSBudW1CaXRzLCBoaWdoID4+IG51bUJpdHMpO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHMoaGlnaCA+PiBudW1CaXRzIC0gMzIsIGhpZ2ggPj0gMCA/IDAgOiAtMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkID0gZnVuY3Rpb24gKG51bUJpdHMpIHtcbiAgICBudW1CaXRzICY9IDYzO1xuICAgIGlmIChudW1CaXRzID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB2YXIgaGlnaCA9IHRoaXMuaGlnaF87XG4gICAgICBpZiAobnVtQml0cyA8IDMyKSB7XG4gICAgICAgIHZhciBsb3cgPSB0aGlzLmxvd187XG4gICAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyhsb3cgPj4+IG51bUJpdHMgfCBoaWdoIDw8IDMyIC0gbnVtQml0cywgaGlnaCA+Pj4gbnVtQml0cyk7XG4gICAgICB9XG4gICAgICAgZWxzZSBpZiAobnVtQml0cyA9PSAzMikge1xuICAgICAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHMoaGlnaCwgMCk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyhoaWdoID4+PiBudW1CaXRzIC0gMzIsIDApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIEtvdGxpbi5Mb25nICYmIHRoaXMuZXF1YWxzTG9uZyhvdGhlcik7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5jb21wYXJlVG9fMTFyYiQgPSBLb3RsaW4uTG9uZy5wcm90b3R5cGUuY29tcGFyZTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmluYyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoS290bGluLkxvbmcuT05FKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmRlYyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoS290bGluLkxvbmcuTkVHX09ORSk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRvTnVtYmVyKCk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS51bmFyeVBsdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS51bmFyeU1pbnVzID0gS290bGluLkxvbmcucHJvdG90eXBlLm5lZ2F0ZTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmludiA9IEtvdGxpbi5Mb25nLnByb3RvdHlwZS5ub3Q7XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5yYW5nZVRvID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIG5ldyBLb3RsaW4ua290bGluLnJhbmdlcy5Mb25nUmFuZ2UodGhpcywgb3RoZXIpO1xuICB9O1xuICBLb3RsaW4uZGVmaW5lSW5saW5lRnVuY3Rpb24gPSBmdW5jdGlvbiAodGFnLCBmdW4pIHtcbiAgICByZXR1cm4gZnVuO1xuICB9O1xuICBLb3RsaW4ud3JhcEZ1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBmID0gZnVuY3Rpb24gKCkge1xuICAgICAgZiA9IGZ1bigpO1xuICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG4gIEtvdGxpbi5zdXNwZW5kQ2FsbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgS290bGluLmNvcm91dGluZVJlc3VsdCA9IGZ1bmN0aW9uIChxdWFsaWZpZXIpIHtcbiAgICB0aHJvd01hcmtlckVycm9yKCk7XG4gIH07XG4gIEtvdGxpbi5jb3JvdXRpbmVSZWNlaXZlciA9IGZ1bmN0aW9uIChxdWFsaWZpZXIpIHtcbiAgICB0aHJvd01hcmtlckVycm9yKCk7XG4gIH07XG4gIGZ1bmN0aW9uIHRocm93TWFya2VyRXJyb3IoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1hcmtlciBmdW5jdGlvbiBzaG91bGQgbmV2ZXIgYmVlbiBjYWxsZWQuICcgKyAnTG9va3MgbGlrZSBjb21waWxlciBkaWQgbm90IGVsaW1pbmF0ZSBpdCBwcm9wZXJseS4gJyArICdQbGVhc2UsIHJlcG9ydCBhbiBpc3N1ZSBpZiB5b3UgY2F1Z2h0IHRoaXMgZXhjZXB0aW9uLicpO1xuICB9XG4gIEtvdGxpbi5jb21wYXJlVG8gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciB0eXBlQSA9IHR5cGVvZiBhO1xuICAgIGlmICh0eXBlQSA9PT0gJ251bWJlcicpIHtcbiAgICAgIGlmICh0eXBlb2YgYiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5kb3VibGVDb21wYXJlVG8oYSwgYik7XG4gICAgICB9XG4gICAgICByZXR1cm4gS290bGluLnByaW1pdGl2ZUNvbXBhcmVUbyhhLCBiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVBID09PSAnc3RyaW5nJyB8fCB0eXBlQSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gS290bGluLnByaW1pdGl2ZUNvbXBhcmVUbyhhLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIGEuY29tcGFyZVRvXzExcmIkKGIpO1xuICB9O1xuICBLb3RsaW4ucHJpbWl0aXZlQ29tcGFyZVRvID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7XG4gIH07XG4gIEtvdGxpbi5kb3VibGVDb21wYXJlVG8gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhIDwgYilcbiAgICAgIHJldHVybiAtMTtcbiAgICBpZiAoYSA+IGIpXG4gICAgICByZXR1cm4gMTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgaWYgKGEgIT09IDApXG4gICAgICAgIHJldHVybiAwO1xuICAgICAgdmFyIGlhID0gMSAvIGE7XG4gICAgICByZXR1cm4gaWEgPT09IDEgLyBiID8gMCA6IGlhIDwgMCA/IC0xIDogMTtcbiAgICB9XG4gICAgcmV0dXJuIGEgIT09IGEgPyBiICE9PSBiID8gMCA6IDEgOiAtMTtcbiAgfTtcbiAgS290bGluLmltdWwgPSBNYXRoLmltdWwgfHwgaW11bDtcbiAgS290bGluLmltdWxFbXVsYXRlZCA9IGltdWw7XG4gIGZ1bmN0aW9uIGltdWwoYSwgYikge1xuICAgIHJldHVybiAoYSAmIDQuMjk0OTAxNzZFOSkgKiAoYiAmIDY1NTM1KSArIChhICYgNjU1MzUpICogKGIgfCAwKSB8IDA7XG4gIH1cbiAgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKDgpO1xuICAgIHZhciBidWZGbG9hdDY0ID0gbmV3IEZsb2F0NjRBcnJheShidWYpO1xuICAgIHZhciBidWZGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheShidWYpO1xuICAgIHZhciBidWZJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGJ1Zik7XG4gICAgdmFyIGxvd0luZGV4ID0gMDtcbiAgICB2YXIgaGlnaEluZGV4ID0gMTtcbiAgICBidWZGbG9hdDY0WzBdID0gLTE7XG4gICAgaWYgKGJ1ZkludDMyW2xvd0luZGV4XSAhPT0gMCkge1xuICAgICAgbG93SW5kZXggPSAxO1xuICAgICAgaGlnaEluZGV4ID0gMDtcbiAgICB9XG4gICAgS290bGluLm51bWJlckhhc2hDb2RlID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgaWYgKChvYmogfCAwKSA9PT0gb2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogfCAwO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICBidWZGbG9hdDY0WzBdID0gb2JqO1xuICAgICAgICByZXR1cm4gKGJ1ZkludDMyW2hpZ2hJbmRleF0gKiAzMSB8IDApICsgYnVmSW50MzJbbG93SW5kZXhdIHwgMDtcbiAgICAgIH1cbiAgICB9O1xuICB9KCkpO1xuICBLb3RsaW4uZW5zdXJlTm90TnVsbCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHggIT0gbnVsbCA/IHggOiBLb3RsaW4udGhyb3dOUEUoKTtcbiAgfTtcbiAgaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24gKHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gfHwgMDtcbiAgICAgIHJldHVybiB0aGlzLmxhc3RJbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pID09PSBwb3NpdGlvbjtcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoID0gZnVuY3Rpb24gKHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgICAgIHZhciBzdWJqZWN0U3RyaW5nID0gdGhpcy50b1N0cmluZygpO1xuICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdWJqZWN0U3RyaW5nLmxlbmd0aCkge1xuICAgICAgICBwb3NpdGlvbiA9IHN1YmplY3RTdHJpbmcubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgICAgIHZhciBsYXN0SW5kZXggPSBzdWJqZWN0U3RyaW5nLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gICAgICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBNYXRoLnNpZ24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgIHggPSAreDtcbiAgICAgIGlmICh4ID09PSAwIHx8IGlzTmFOKHgpKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoeCk7XG4gICAgICB9XG4gICAgICByZXR1cm4geCA+IDAgPyAxIDogLTE7XG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGgudHJ1bmMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgTWF0aC50cnVuYyA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICBpZiAoaXNOYU4oeCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgIH1cbiAgICAgIGlmICh4ID4gMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcih4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNYXRoLmNlaWwoeCk7XG4gICAgfTtcbiAgfVxuICAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBlcHNpbG9uID0gMi4yMjA0NDYwNDkyNTAzMTNFLTE2O1xuICAgIHZhciB0YXlsb3JfMl9ib3VuZCA9IE1hdGguc3FydChlcHNpbG9uKTtcbiAgICB2YXIgdGF5bG9yX25fYm91bmQgPSBNYXRoLnNxcnQodGF5bG9yXzJfYm91bmQpO1xuICAgIHZhciB1cHBlcl90YXlsb3JfMl9ib3VuZCA9IDEgLyB0YXlsb3JfMl9ib3VuZDtcbiAgICB2YXIgdXBwZXJfdGF5bG9yX25fYm91bmQgPSAxIC8gdGF5bG9yX25fYm91bmQ7XG4gICAgaWYgKHR5cGVvZiBNYXRoLnNpbmggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBNYXRoLnNpbmggPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPCB0YXlsb3Jfbl9ib3VuZCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSB4O1xuICAgICAgICAgIGlmIChNYXRoLmFicyh4KSA+IHRheWxvcl8yX2JvdW5kKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0geCAqIHggKiB4IC8gNjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHkgPSBNYXRoLmV4cCh4KTtcbiAgICAgICAgICB2YXIgeTEgPSAxIC8geTtcbiAgICAgICAgICBpZiAoIWlzRmluaXRlKHkpKVxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZXhwKHggLSBNYXRoLkxOMik7XG4gICAgICAgICAgaWYgKCFpc0Zpbml0ZSh5MSkpXG4gICAgICAgICAgICByZXR1cm4gLU1hdGguZXhwKC14IC0gTWF0aC5MTjIpO1xuICAgICAgICAgIHJldHVybiAoeSAtIHkxKSAvIDI7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgTWF0aC5jb3NoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgTWF0aC5jb3NoID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmV4cCh4KTtcbiAgICAgICAgdmFyIHkxID0gMSAvIHk7XG4gICAgICAgIGlmICghaXNGaW5pdGUoeSkgfHwgIWlzRmluaXRlKHkxKSlcbiAgICAgICAgICByZXR1cm4gTWF0aC5leHAoTWF0aC5hYnMoeCkgLSBNYXRoLkxOMik7XG4gICAgICAgIHJldHVybiAoeSArIHkxKSAvIDI7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIE1hdGgudGFuaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIE1hdGgudGFuaCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh4KSA8IHRheWxvcl9uX2JvdW5kKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHg7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHgpID4gdGF5bG9yXzJfYm91bmQpIHtcbiAgICAgICAgICAgIHJlc3VsdCAtPSB4ICogeCAqIHggLyAzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgYSA9IE1hdGguZXhwKCt4KSwgYiA9IE1hdGguZXhwKC14KTtcbiAgICAgICAgICByZXR1cm4gYSA9PT0gSW5maW5pdHkgPyAxIDogYiA9PT0gSW5maW5pdHkgPyAtMSA6IChhIC0gYikgLyAoYSArIGIpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIE1hdGguYXNpbmggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXNpbmggPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoeCA+PSArdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICBpZiAoeCA+IHVwcGVyX3RheWxvcl9uX2JvdW5kKSB7XG4gICAgICAgICAgICBpZiAoeCA+IHVwcGVyX3RheWxvcl8yX2JvdW5kKSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4KSArIE1hdGguTE4yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coeCAqIDIgKyAxIC8gKHggKiAyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4ICsgTWF0aC5zcXJ0KHggKiB4ICsgMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgZWxzZSBpZiAoeCA8PSAtdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICByZXR1cm4gLWFzaW5oKC14KTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHg7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHgpID49IHRheWxvcl8yX2JvdW5kKSB7XG4gICAgICAgICAgICB2YXIgeDMgPSB4ICogeCAqIHg7XG4gICAgICAgICAgICByZXN1bHQgLT0geDMgLyA2O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgTWF0aC5hc2luaCA9IGFzaW5oO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIE1hdGguYWNvc2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBNYXRoLmFjb3NoID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKHggPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSBpZiAoeCAtIDEgPj0gdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICBpZiAoeCA+IHVwcGVyX3RheWxvcl8yX2JvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coeCkgKyBNYXRoLkxOMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKHggKyBNYXRoLnNxcnQoeCAqIHggLSAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgeSA9IE1hdGguc3FydCh4IC0gMSk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHk7XG4gICAgICAgICAgaWYgKHkgPj0gdGF5bG9yXzJfYm91bmQpIHtcbiAgICAgICAgICAgIHZhciB5MyA9IHkgKiB5ICogeTtcbiAgICAgICAgICAgIHJlc3VsdCAtPSB5MyAvIDEyO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KDIpICogcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIE1hdGguYXRhbmggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBNYXRoLmF0YW5oID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHgpIDwgdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0geDtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPiB0YXlsb3JfMl9ib3VuZCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHggKiB4ICogeCAvIDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgubG9nKCgxICsgeCkgLyAoMSAtIHgpKSAvIDI7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIE1hdGgubG9nMXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBNYXRoLmxvZzFwID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHgpIDwgdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICB2YXIgeDIgPSB4ICogeDtcbiAgICAgICAgICB2YXIgeDMgPSB4MiAqIHg7XG4gICAgICAgICAgdmFyIHg0ID0geDMgKiB4O1xuICAgICAgICAgIHJldHVybiAteDQgLyA0ICsgeDMgLyAzIC0geDIgLyAyICsgeDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5sb2coeCArIDEpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBNYXRoLmV4cG0xID09PSAndW5kZWZpbmVkJykge1xuICAgICAgTWF0aC5leHBtMSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh4KSA8IHRheWxvcl9uX2JvdW5kKSB7XG4gICAgICAgICAgdmFyIHgyID0geCAqIHg7XG4gICAgICAgICAgdmFyIHgzID0geDIgKiB4O1xuICAgICAgICAgIHZhciB4NCA9IHgzICogeDtcbiAgICAgICAgICByZXR1cm4geDQgLyAyNCArIHgzIC8gNiArIHgyIC8gMiArIHg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGguZXhwKHgpIC0gMTtcbiAgICAgIH07XG4gICAgfVxuICB9KCkpO1xuICBpZiAodHlwZW9mIE1hdGguaHlwb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB5ID0gMDtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJndW1lbnRzW2ldID09PSBJbmZpbml0eSB8fCBhcmd1bWVudHNbaV0gPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICB5ICs9IGFyZ3VtZW50c1tpXSAqIGFyZ3VtZW50c1tpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNYXRoLnNxcnQoeSk7XG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGgubG9nMTAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgTWF0aC5sb2cxMCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coeCkgKiBNYXRoLkxPRzEwRTtcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgTWF0aC5sb2cyID09PSAndW5kZWZpbmVkJykge1xuICAgIE1hdGgubG9nMiA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4gTWF0aC5sb2coeCkgKiBNYXRoLkxPRzJFO1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBNYXRoLmNsejMyID09PSAndW5kZWZpbmVkJykge1xuICAgIE1hdGguY2x6MzIgPSBmdW5jdGlvbiAobG9nLCBMTjIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgYXNVaW50ID0geCA+Pj4gMDtcbiAgICAgICAgaWYgKGFzVWludCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAzMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMzEgLSAobG9nKGFzVWludCkgLyBMTjIgfCAwKSB8IDA7XG4gICAgICB9O1xuICAgIH0oTWF0aC5sb2csIE1hdGguTE4yKTtcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgPSBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGEgIT0gbnVsbCAmJiBhLl9fcHJvdG9fXyAhPSBudWxsICYmIGEuX19wcm90b19fLl9fcHJvdG9fXyA9PT0gSW50OEFycmF5LnByb3RvdHlwZS5fX3Byb3RvX187XG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZS5maWxsID09PSAndW5kZWZpbmVkJykge1xuICAgIEFycmF5LnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0aGlzIGlzIG51bGwgb3Igbm90IGRlZmluZWQnKTtcbiAgICAgIH1cbiAgICAgIHZhciBPID0gT2JqZWN0KHRoaXMpO1xuICAgICAgdmFyIGxlbiA9IE8ubGVuZ3RoID4+PiAwO1xuICAgICAgdmFyIHN0YXJ0ID0gYXJndW1lbnRzWzFdO1xuICAgICAgdmFyIHJlbGF0aXZlU3RhcnQgPSBzdGFydCA+PiAwO1xuICAgICAgdmFyIGsgPSByZWxhdGl2ZVN0YXJ0IDwgMCA/IE1hdGgubWF4KGxlbiArIHJlbGF0aXZlU3RhcnQsIDApIDogTWF0aC5taW4ocmVsYXRpdmVTdGFydCwgbGVuKTtcbiAgICAgIHZhciBlbmQgPSBhcmd1bWVudHNbMl07XG4gICAgICB2YXIgcmVsYXRpdmVFbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IGVuZCA+PiAwO1xuICAgICAgdmFyIGZpbmFsID0gcmVsYXRpdmVFbmQgPCAwID8gTWF0aC5tYXgobGVuICsgcmVsYXRpdmVFbmQsIDApIDogTWF0aC5taW4ocmVsYXRpdmVFbmQsIGxlbik7XG4gICAgICB3aGlsZSAoayA8IGZpbmFsKSB7XG4gICAgICAgIE9ba10gPSB2YWx1ZTtcbiAgICAgICAgaysrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE87XG4gICAgfTtcbiAgfVxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9mZnNldChvZmZzZXQsIGxlbmd0aCkge1xuICAgICAgaWYgKG9mZnNldCA8IDApXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBvZmZzZXQgKyBsZW5ndGgpO1xuICAgICAgcmV0dXJuIE1hdGgubWluKG9mZnNldCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHlwZWRBcnJheVNsaWNlKGJlZ2luLCBlbmQpIHtcbiAgICAgIGlmICh0eXBlb2YgZW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbmQgPSB0aGlzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGJlZ2luID0gbm9ybWFsaXplT2Zmc2V0KGJlZ2luIHx8IDAsIHRoaXMubGVuZ3RoKTtcbiAgICAgIGVuZCA9IE1hdGgubWF4KGJlZ2luLCBub3JtYWxpemVPZmZzZXQoZW5kLCB0aGlzLmxlbmd0aCkpO1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc3ViYXJyYXkoYmVnaW4sIGVuZCkpO1xuICAgIH1cbiAgICB2YXIgYXJyYXlzID0gW0ludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksIEludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIFR5cGVkQXJyYXkgPSBhcnJheXNbaV07XG4gICAgICBpZiAodHlwZW9mIFR5cGVkQXJyYXkucHJvdG90eXBlLmZpbGwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIFR5cGVkQXJyYXkucHJvdG90eXBlLmZpbGwgPSBBcnJheS5wcm90b3R5cGUuZmlsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgVHlwZWRBcnJheS5wcm90b3R5cGUuc2xpY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUeXBlZEFycmF5LnByb3RvdHlwZSwgJ3NsaWNlJywge3ZhbHVlOiB0eXBlZEFycmF5U2xpY2V9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB9LmFwcGx5KG51bGwsIG5ldyBJbnQzMkFycmF5KDApKSk7XG4gICAgfVxuICAgICBjYXRjaCAoZSkge1xuICAgICAgdmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwgJ2FwcGx5Jywge3ZhbHVlOiBmdW5jdGlvbiAoc2VsZiwgYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5LmNhbGwodGhpcywgc2VsZiwgW10uc2xpY2UuY2FsbChhcnJheSkpO1xuICAgICAgfX0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIFR5cGVkQXJyYXkgPSBhcnJheXNbaV07XG4gICAgICBpZiAodHlwZW9mIFR5cGVkQXJyYXkucHJvdG90eXBlLm1hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFR5cGVkQXJyYXkucHJvdG90eXBlLCAnbWFwJywge3ZhbHVlOiBmdW5jdGlvbiAoY2FsbGJhY2ssIHNlbGYpIHtcbiAgICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbCh0aGlzKS5tYXAoY2FsbGJhY2ssIHNlbGYpO1xuICAgICAgICB9fSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB0b3RhbE9yZGVyQ29tcGFyYXRvciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICBpZiAoYSA8IGIpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIGlmIChhID4gYilcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICBpZiAoYSAhPT0gMClcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgdmFyIGlhID0gMSAvIGE7XG4gICAgICAgIHJldHVybiBpYSA9PT0gMSAvIGIgPyAwIDogaWEgPCAwID8gLTEgOiAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGEgIT09IGEgPyBiICE9PSBiID8gMCA6IDEgOiAtMTtcbiAgICB9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgVHlwZWRBcnJheSA9IGFycmF5c1tpXTtcbiAgICAgIGlmICh0eXBlb2YgVHlwZWRBcnJheS5wcm90b3R5cGUuc29ydCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFR5cGVkQXJyYXkucHJvdG90eXBlLCAnc29ydCcsIHt2YWx1ZTogZnVuY3Rpb24gKGNvbXBhcmVGdW5jdGlvbikge1xuICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc29ydC5jYWxsKHRoaXMsIGNvbXBhcmVGdW5jdGlvbiB8fCB0b3RhbE9yZGVyQ29tcGFyYXRvcik7XG4gICAgICAgIH19KTtcbiAgICAgIH1cbiAgICB9XG4gIH0oKSk7XG4gIEtvdGxpbi5LaW5kID0ge0NMQVNTOiAnY2xhc3MnLCBJTlRFUkZBQ0U6ICdpbnRlcmZhY2UnLCBPQkpFQ1Q6ICdvYmplY3QnfTtcbiAgZnVuY3Rpb24gaXNJbmhlcml0YW5jZUZyb21JbnRlcmZhY2UoY3RvciwgaWZhY2UpIHtcbiAgICBpZiAoY3RvciA9PT0gaWZhY2UpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB2YXIgbWV0YWRhdGEgPSBjdG9yLiRtZXRhZGF0YSQ7XG4gICAgaWYgKG1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgIHZhciBpbnRlcmZhY2VzID0gbWV0YWRhdGEuaW50ZXJmYWNlcztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW50ZXJmYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNJbmhlcml0YW5jZUZyb21JbnRlcmZhY2UoaW50ZXJmYWNlc1tpXSwgaWZhY2UpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN1cGVyUHJvdG90eXBlID0gY3Rvci5wcm90b3R5cGUgIT0gbnVsbCA/IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdG9yLnByb3RvdHlwZSkgOiBudWxsO1xuICAgIHZhciBzdXBlckNvbnN0cnVjdG9yID0gc3VwZXJQcm90b3R5cGUgIT0gbnVsbCA/IHN1cGVyUHJvdG90eXBlLmNvbnN0cnVjdG9yIDogbnVsbDtcbiAgICByZXR1cm4gc3VwZXJDb25zdHJ1Y3RvciAhPSBudWxsICYmIGlzSW5oZXJpdGFuY2VGcm9tSW50ZXJmYWNlKHN1cGVyQ29uc3RydWN0b3IsIGlmYWNlKTtcbiAgfVxuICBLb3RsaW4uaXNUeXBlID0gZnVuY3Rpb24gKG9iamVjdCwga2xhc3MpIHtcbiAgICBpZiAoa2xhc3MgPT09IE9iamVjdCkge1xuICAgICAgc3dpdGNoICh0eXBlb2Ygb2JqZWN0KSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6cmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9iamVjdCA9PSBudWxsIHx8IGtsYXNzID09IG51bGwgfHwgKHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3QgIT09ICdmdW5jdGlvbicpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yga2xhc3MgPT09ICdmdW5jdGlvbicgJiYgb2JqZWN0IGluc3RhbmNlb2Yga2xhc3MpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoa2xhc3MpO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvICE9IG51bGwgPyBwcm90by5jb25zdHJ1Y3RvciA6IG51bGw7XG4gICAgaWYgKGNvbnN0cnVjdG9yICE9IG51bGwgJiYgJyRtZXRhZGF0YSQnIGluIGNvbnN0cnVjdG9yKSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBjb25zdHJ1Y3Rvci4kbWV0YWRhdGEkO1xuICAgICAgaWYgKG1ldGFkYXRhLmtpbmQgPT09IEtvdGxpbi5LaW5kLk9CSkVDVCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBrbGFzcztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGtsYXNzTWV0YWRhdGEgPSBrbGFzcy4kbWV0YWRhdGEkO1xuICAgIGlmIChrbGFzc01ldGFkYXRhID09IG51bGwpIHtcbiAgICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBrbGFzcztcbiAgICB9XG4gICAgaWYgKGtsYXNzTWV0YWRhdGEua2luZCA9PT0gS290bGluLktpbmQuSU5URVJGQUNFICYmIG9iamVjdC5jb25zdHJ1Y3RvciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gaXNJbmhlcml0YW5jZUZyb21JbnRlcmZhY2Uob2JqZWN0LmNvbnN0cnVjdG9yLCBrbGFzcyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgS290bGluLmlzTnVtYmVyID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGEgPT0gJ251bWJlcicgfHwgYSBpbnN0YW5jZW9mIEtvdGxpbi5Mb25nO1xuICB9O1xuICBLb3RsaW4uaXNDaGFyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgS290bGluLkJveGVkQ2hhcjtcbiAgfTtcbiAgS290bGluLmlzQ2hhclNlcXVlbmNlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgS290bGluLmlzVHlwZSh2YWx1ZSwgS290bGluLmtvdGxpbi5DaGFyU2VxdWVuY2UpO1xuICB9O1xuICAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgS2luZF9JTlRFUkZBQ0UgPSBLb3RsaW4uS2luZC5JTlRFUkZBQ0U7XG4gICAgdmFyIEtpbmRfT0JKRUNUID0gS290bGluLktpbmQuT0JKRUNUO1xuICAgIHZhciBLaW5kX0NMQVNTID0gS290bGluLktpbmQuQ0xBU1M7XG4gICAgdmFyIGRlZmluZUlubGluZUZ1bmN0aW9uID0gS290bGluLmRlZmluZUlubGluZUZ1bmN0aW9uO1xuICAgIHZhciB3cmFwRnVuY3Rpb24gPSBLb3RsaW4ud3JhcEZ1bmN0aW9uO1xuICAgIHZhciBlcXVhbHMgPSBLb3RsaW4uZXF1YWxzO1xuICAgIHZhciBMMCA9IEtvdGxpbi5Mb25nLlpFUk87XG4gICAgZnVuY3Rpb24gQ29tcGFyYWJsZSgpIHtcbiAgICB9XG4gICAgQ29tcGFyYWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnQ29tcGFyYWJsZScsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBFbnVtKCkge1xuICAgICAgRW51bSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHRoaXMubmFtZSQgPSAnJztcbiAgICAgIHRoaXMub3JkaW5hbCQgPSAwO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW51bS5wcm90b3R5cGUsICduYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmFtZSQ7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnVtLnByb3RvdHlwZSwgJ29yZGluYWwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcmRpbmFsJDtcbiAgICB9fSk7XG4gICAgRW51bS5wcm90b3R5cGUuY29tcGFyZVRvXzExcmIkID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLnByaW1pdGl2ZUNvbXBhcmVUbyh0aGlzLm9yZGluYWwsIG90aGVyLm9yZGluYWwpO1xuICAgIH07XG4gICAgRW51bS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gdGhpcyA9PT0gb3RoZXI7XG4gICAgfTtcbiAgICBFbnVtLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaWRlbnRpdHlIYXNoQ29kZSh0aGlzKTtcbiAgICB9O1xuICAgIEVudW0ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEVudW0kQ29tcGFuaW9uKCkge1xuICAgICAgRW51bSRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBFbnVtJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBFbnVtJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRW51bSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRW51bSRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEVudW0kQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRW51bSRDb21wYW5pb25faW5zdGFuY2U7XG4gICAgfVxuICAgIEVudW0uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRW51bScsIGludGVyZmFjZXM6IFtDb21wYXJhYmxlXX07XG4gICAgZnVuY3Rpb24gbmV3QXJyYXkoc2l6ZSwgaW5pdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZmlsbEFycmF5VmFsKEFycmF5KHNpemUpLCBpbml0VmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBib29sZWFuQXJyYXkoc2l6ZSwgaW5pdCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXkoc2l6ZSk7XG4gICAgICByZXN1bHQuJHR5cGUkID0gJ0Jvb2xlYW5BcnJheSc7XG4gICAgICBpZiAoaW5pdCA9PSBudWxsIHx8IGVxdWFscyhpbml0LCB0cnVlKSlcbiAgICAgICAgdG1wJCA9IGZpbGxBcnJheVZhbChyZXN1bHQsIGZhbHNlKTtcbiAgICAgIGVsc2UgaWYgKGVxdWFscyhpbml0LCBmYWxzZSkpXG4gICAgICAgIHRtcCQgPSByZXN1bHQ7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRtcCRfMDtcbiAgICAgICAgdG1wJF8wID0gcmVzdWx0Lmxlbmd0aCAtIDEgfCAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSB0bXAkXzA7IGkrKykge1xuICAgICAgICAgIHJlc3VsdFtpXSA9IGluaXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgdG1wJCA9IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFyQXJyYXkoc2l6ZSwgaW5pdCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQxNkFycmF5KHNpemUpO1xuICAgICAgcmVzdWx0LiR0eXBlJCA9ICdDaGFyQXJyYXknO1xuICAgICAgaWYgKGluaXQgPT0gbnVsbCB8fCBlcXVhbHMoaW5pdCwgdHJ1ZSkgfHwgZXF1YWxzKGluaXQsIGZhbHNlKSlcbiAgICAgICAgdG1wJCA9IHJlc3VsdDtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgdG1wJF8wO1xuICAgICAgICB0bXAkXzAgPSByZXN1bHQubGVuZ3RoIC0gMSB8IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHRtcCRfMDsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0W2ldID0gaW5pdChpKTtcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbGxBcnJheVZhbChhcnJheSwgaW5pdFZhbHVlKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBhcnJheS5sZW5ndGggLSAxIHwgMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHRtcCQ7IGkrKykge1xuICAgICAgICBhcnJheVtpXSA9IGluaXRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRG91YmxlQ29tcGFuaW9uT2JqZWN0KCkge1xuICAgICAgRG91YmxlQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuTUlOX1ZBTFVFID0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICAgIHRoaXMuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgIHRoaXMuUE9TSVRJVkVfSU5GSU5JVFkgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICB0aGlzLk5FR0FUSVZFX0lORklOSVRZID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgICAgdGhpcy5OYU4gPSBOdW1iZXIuTmFOO1xuICAgIH1cbiAgICBEb3VibGVDb21wYW5pb25PYmplY3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0RvdWJsZUNvbXBhbmlvbk9iamVjdCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgRG91YmxlQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBEb3VibGVDb21wYW5pb25PYmplY3RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRG91YmxlQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBEb3VibGVDb21wYW5pb25PYmplY3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBEb3VibGVDb21wYW5pb25PYmplY3RfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEZsb2F0Q29tcGFuaW9uT2JqZWN0KCkge1xuICAgICAgRmxvYXRDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5NSU5fVkFMVUUgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgICAgdGhpcy5NQVhfVkFMVUUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgdGhpcy5QT1NJVElWRV9JTkZJTklUWSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIHRoaXMuTkVHQVRJVkVfSU5GSU5JVFkgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICB0aGlzLk5hTiA9IE51bWJlci5OYU47XG4gICAgfVxuICAgIEZsb2F0Q29tcGFuaW9uT2JqZWN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdGbG9hdENvbXBhbmlvbk9iamVjdCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgRmxvYXRDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEZsb2F0Q29tcGFuaW9uT2JqZWN0X2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEZsb2F0Q29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBGbG9hdENvbXBhbmlvbk9iamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEZsb2F0Q29tcGFuaW9uT2JqZWN0X2luc3RhbmNlO1xuICAgIH1cbiAgICB2YXIgSW50Q29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgTG9uZ0NvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gU2hvcnRDb21wYW5pb25PYmplY3QoKSB7XG4gICAgICBTaG9ydENvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICB0aGlzLk1JTl9WQUxVRSA9IC0zMjc2OCB8IDA7XG4gICAgICB0aGlzLk1BWF9WQUxVRSA9IDMyNzY3O1xuICAgICAgdGhpcy5TSVpFX0JZVEVTID0gMjtcbiAgICAgIHRoaXMuU0laRV9CSVRTID0gMTY7XG4gICAgfVxuICAgIFNob3J0Q29tcGFuaW9uT2JqZWN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTaG9ydENvbXBhbmlvbk9iamVjdCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgU2hvcnRDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIFNob3J0Q29tcGFuaW9uT2JqZWN0X2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKFNob3J0Q29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBTaG9ydENvbXBhbmlvbk9iamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFNob3J0Q29tcGFuaW9uT2JqZWN0X2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBCeXRlQ29tcGFuaW9uT2JqZWN0KCkge1xuICAgICAgQnl0ZUNvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICB0aGlzLk1JTl9WQUxVRSA9IC0xMjggfCAwO1xuICAgICAgdGhpcy5NQVhfVkFMVUUgPSAxMjc7XG4gICAgICB0aGlzLlNJWkVfQllURVMgPSAxO1xuICAgICAgdGhpcy5TSVpFX0JJVFMgPSA4O1xuICAgIH1cbiAgICBCeXRlQ29tcGFuaW9uT2JqZWN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdCeXRlQ29tcGFuaW9uT2JqZWN0JywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBCeXRlQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBCeXRlQ29tcGFuaW9uT2JqZWN0X2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEJ5dGVDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEJ5dGVDb21wYW5pb25PYmplY3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBCeXRlQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlO1xuICAgIH1cbiAgICB2YXIgQ2hhckNvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFN0cmluZ0NvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIEJvb2xlYW5Db21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBwYWNrYWdlJGtvdGxpbiA9IF8ua290bGluIHx8IChfLmtvdGxpbiA9IHt9KTtcbiAgICBwYWNrYWdlJGtvdGxpbi5Db21wYXJhYmxlID0gQ29tcGFyYWJsZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW51bSwgJ0NvbXBhbmlvbicsIHtnZXQ6IEVudW0kQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRrb3RsaW4uRW51bSA9IEVudW07XG4gICAgXy5uZXdBcnJheSA9IG5ld0FycmF5O1xuICAgIF8uYm9vbGVhbkFycmF5ID0gYm9vbGVhbkFycmF5O1xuICAgIF8uY2hhckFycmF5ID0gY2hhckFycmF5O1xuICAgIHZhciBwYWNrYWdlJGpzID0gcGFja2FnZSRrb3RsaW4uanMgfHwgKHBhY2thZ2Uka290bGluLmpzID0ge30pO1xuICAgIHZhciBwYWNrYWdlJGludGVybmFsID0gcGFja2FnZSRqcy5pbnRlcm5hbCB8fCAocGFja2FnZSRqcy5pbnRlcm5hbCA9IHt9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0RvdWJsZUNvbXBhbmlvbk9iamVjdCcsIHtnZXQ6IERvdWJsZUNvbXBhbmlvbk9iamVjdF9nZXRJbnN0YW5jZX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnRmxvYXRDb21wYW5pb25PYmplY3QnLCB7Z2V0OiBGbG9hdENvbXBhbmlvbk9iamVjdF9nZXRJbnN0YW5jZX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnU2hvcnRDb21wYW5pb25PYmplY3QnLCB7Z2V0OiBTaG9ydENvbXBhbmlvbk9iamVjdF9nZXRJbnN0YW5jZX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnQnl0ZUNvbXBhbmlvbk9iamVjdCcsIHtnZXQ6IEJ5dGVDb21wYW5pb25PYmplY3RfZ2V0SW5zdGFuY2V9KTtcbiAgfSgpKTtcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGRlZmluZUlubGluZUZ1bmN0aW9uID0gS290bGluLmRlZmluZUlubGluZUZ1bmN0aW9uO1xuICAgIHZhciB3cmFwRnVuY3Rpb24gPSBLb3RsaW4ud3JhcEZ1bmN0aW9uO1xuICAgIHZhciBlcXVhbHMgPSBLb3RsaW4uZXF1YWxzO1xuICAgIHZhciB0b0JveGVkQ2hhciA9IEtvdGxpbi50b0JveGVkQ2hhcjtcbiAgICB2YXIgdW5ib3hDaGFyID0gS290bGluLnVuYm94Q2hhcjtcbiAgICB2YXIga290bGluX2pzX2ludGVybmFsX0RvdWJsZUNvbXBhbmlvbk9iamVjdCA9IEtvdGxpbi5rb3RsaW4uanMuaW50ZXJuYWwuRG91YmxlQ29tcGFuaW9uT2JqZWN0O1xuICAgIHZhciBMMCA9IEtvdGxpbi5Mb25nLlpFUk87XG4gICAgdmFyIE1hdGhfMCA9IE1hdGg7XG4gICAgdmFyIEtpbmRfQ0xBU1MgPSBLb3RsaW4uS2luZC5DTEFTUztcbiAgICB2YXIgdG9DaGFyID0gS290bGluLnRvQ2hhcjtcbiAgICB2YXIgTF8xID0gS290bGluLkxvbmcuTkVHX09ORTtcbiAgICB2YXIgdG9CeXRlID0gS290bGluLnRvQnl0ZTtcbiAgICB2YXIgTF8xMjggPSBLb3RsaW4uTG9uZy5mcm9tSW50KC0xMjgpO1xuICAgIHZhciBMMTI3ID0gS290bGluLkxvbmcuZnJvbUludCgxMjcpO1xuICAgIHZhciBrb3RsaW5fanNfaW50ZXJuYWxfQnl0ZUNvbXBhbmlvbk9iamVjdCA9IEtvdGxpbi5rb3RsaW4uanMuaW50ZXJuYWwuQnl0ZUNvbXBhbmlvbk9iamVjdDtcbiAgICB2YXIgbnVtYmVyVG9JbnQgPSBLb3RsaW4ubnVtYmVyVG9JbnQ7XG4gICAgdmFyIExfMjE0NzQ4MzY0OCA9IEtvdGxpbi5Mb25nLmZyb21JbnQoLTIxNDc0ODM2NDgpO1xuICAgIHZhciBMMjE0NzQ4MzY0NyA9IEtvdGxpbi5Mb25nLmZyb21JbnQoMjE0NzQ4MzY0Nyk7XG4gICAgdmFyIExvbmckQ29tcGFuaW9uJE1JTl9WQUxVRSA9IEtvdGxpbi5Mb25nLk1JTl9WQUxVRTtcbiAgICB2YXIgTG9uZyRDb21wYW5pb24kTUFYX1ZBTFVFID0gS290bGluLkxvbmcuTUFYX1ZBTFVFO1xuICAgIHZhciB0b1Nob3J0ID0gS290bGluLnRvU2hvcnQ7XG4gICAgdmFyIExfMzI3NjggPSBLb3RsaW4uTG9uZy5mcm9tSW50KC0zMjc2OCk7XG4gICAgdmFyIEwzMjc2NyA9IEtvdGxpbi5Mb25nLmZyb21JbnQoMzI3NjcpO1xuICAgIHZhciBrb3RsaW5fanNfaW50ZXJuYWxfU2hvcnRDb21wYW5pb25PYmplY3QgPSBLb3RsaW4ua290bGluLmpzLmludGVybmFsLlNob3J0Q29tcGFuaW9uT2JqZWN0O1xuICAgIHZhciB0b1N0cmluZyA9IEtvdGxpbi50b1N0cmluZztcbiAgICB2YXIgTDI1NSA9IEtvdGxpbi5Mb25nLmZyb21JbnQoMjU1KTtcbiAgICB2YXIgTDQyOTQ5NjcyOTUgPSBuZXcgS290bGluLkxvbmcoLTEsIDApO1xuICAgIHZhciBMNjU1MzUgPSBLb3RsaW4uTG9uZy5mcm9tSW50KDY1NTM1KTtcbiAgICB2YXIgS2luZF9JTlRFUkZBQ0UgPSBLb3RsaW4uS2luZC5JTlRFUkZBQ0U7XG4gICAgdmFyIEFueSA9IE9iamVjdDtcbiAgICB2YXIgS2luZF9PQkpFQ1QgPSBLb3RsaW4uS2luZC5PQkpFQ1Q7XG4gICAgdmFyIEwxID0gS290bGluLkxvbmcuT05FO1xuICAgIHZhciBFbnVtID0gS290bGluLmtvdGxpbi5FbnVtO1xuICAgIHZhciBDb21wYXJhYmxlID0gS290bGluLmtvdGxpbi5Db21wYXJhYmxlO1xuICAgIHZhciBlbnN1cmVOb3ROdWxsID0gS290bGluLmVuc3VyZU5vdE51bGw7XG4gICAgdmFyIHRocm93Q0NFID0gS290bGluLnRocm93Q0NFO1xuICAgIHZhciBhcnJheVRvU3RyaW5nID0gS290bGluLmFycmF5VG9TdHJpbmc7XG4gICAgdmFyIGhhc2hDb2RlID0gS290bGluLmhhc2hDb2RlO1xuICAgIHZhciBUaHJvd2FibGUgPSBFcnJvcjtcbiAgICB2YXIga290bGluX2pzX2ludGVybmFsX0Zsb2F0Q29tcGFuaW9uT2JqZWN0ID0gS290bGluLmtvdGxpbi5qcy5pbnRlcm5hbC5GbG9hdENvbXBhbmlvbk9iamVjdDtcbiAgICB2YXIgTF83MzkwNDY4NzY0NTA4MDY5ODM4ID0gbmV3IEtvdGxpbi5Mb25nKC0xNDc4NDY3NTM0LCAtMTcyMDcyNzYwMCk7XG4gICAgdmFyIEw4MjQ2NzE0ODI5NTQ1Njg4Mjc0ID0gbmV3IEtvdGxpbi5Mb25nKC04ODg5MTA2MzgsIDE5MjAwODc5MjEpO1xuICAgIHZhciBMMzQwNjYwMzc3NDM4NzAyMDUzMiA9IG5ldyBLb3RsaW4uTG9uZygxOTkzODU5ODI4LCA3OTMxNjE3NDkpO1xuICAgIHZhciBMXzkyMjMzNzIwMzY4NTQ3NzU4MDcgPSBuZXcgS290bGluLkxvbmcoMSwgLTIxNDc0ODM2NDgpO1xuICAgIHZhciBMMjA0NyA9IEtvdGxpbi5Mb25nLmZyb21JbnQoMjA0Nyk7XG4gICAgQ2hhclByb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDaGFySXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBDaGFyUHJvZ3Jlc3Npb25JdGVyYXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaGFyUHJvZ3Jlc3Npb25JdGVyYXRvcjtcbiAgICBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSW50SXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludFByb2dyZXNzaW9uSXRlcmF0b3I7XG4gICAgTG9uZ1Byb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMb25nSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBMb25nUHJvZ3Jlc3Npb25JdGVyYXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb25nUHJvZ3Jlc3Npb25JdGVyYXRvcjtcbiAgICBDaGFyUmFuZ2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDaGFyUHJvZ3Jlc3Npb24ucHJvdG90eXBlKTtcbiAgICBDaGFyUmFuZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2hhclJhbmdlO1xuICAgIEludFJhbmdlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSW50UHJvZ3Jlc3Npb24ucHJvdG90eXBlKTtcbiAgICBJbnRSYW5nZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbnRSYW5nZTtcbiAgICBMb25nUmFuZ2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMb25nUHJvZ3Jlc3Npb24ucHJvdG90eXBlKTtcbiAgICBMb25nUmFuZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9uZ1JhbmdlO1xuICAgIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCb29sZWFuSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBib29sZWFuQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWw7XG4gICAgYnl0ZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJ5dGVJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIGJ5dGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gYnl0ZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBzaG9ydEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNob3J0SXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBzaG9ydEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzaG9ydEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBjaGFyQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2hhckl0ZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgY2hhckFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGFyQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsO1xuICAgIGludEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEludEl0ZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgaW50QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGludEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBmbG9hdEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEZsb2F0SXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBmbG9hdEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBmbG9hdEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShEb3VibGVJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIGRvdWJsZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWw7XG4gICAgbG9uZ0FycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExvbmdJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIGxvbmdBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9uZ0FycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBBYnN0cmFjdExpc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdExpc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RMaXN0O1xuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb247XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlTGlzdCRJdGVyYXRvckltcGwucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JExpc3RJdGVyYXRvckltcGwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsO1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE11dGFibGVMaXN0O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkU3ViTGlzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNdXRhYmxlTGlzdCRTdWJMaXN0O1xuICAgIEFic3RyYWN0TXV0YWJsZVNldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE11dGFibGVTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNdXRhYmxlU2V0O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZVNldC5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWw7XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWw7XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNYXAucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNdXRhYmxlTWFwO1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlKTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXJyYXlMaXN0O1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE11dGFibGVTZXQucHJvdG90eXBlKTtcbiAgICBIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhhc2hNYXAkRW50cnlTZXQ7XG4gICAgSGFzaE1hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZU1hcC5wcm90b3R5cGUpO1xuICAgIEhhc2hNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSGFzaE1hcDtcbiAgICBIYXNoU2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlU2V0LnByb3RvdHlwZSk7XG4gICAgSGFzaFNldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBIYXNoU2V0O1xuICAgIExpbmtlZEhhc2hNYXAkQ2hhaW5FbnRyeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5wcm90b3R5cGUpO1xuICAgIExpbmtlZEhhc2hNYXAkQ2hhaW5FbnRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5rZWRIYXNoTWFwJENoYWluRW50cnk7XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZVNldC5wcm90b3R5cGUpO1xuICAgIExpbmtlZEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua2VkSGFzaE1hcCRFbnRyeVNldDtcbiAgICBMaW5rZWRIYXNoTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSGFzaE1hcC5wcm90b3R5cGUpO1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua2VkSGFzaE1hcDtcbiAgICBMaW5rZWRIYXNoU2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSGFzaFNldC5wcm90b3R5cGUpO1xuICAgIExpbmtlZEhhc2hTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua2VkSGFzaFNldDtcbiAgICBOb2RlSnNPdXRwdXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShCYXNlT3V0cHV0LnByb3RvdHlwZSk7XG4gICAgTm9kZUpzT3V0cHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5vZGVKc091dHB1dDtcbiAgICBCdWZmZXJlZE91dHB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJhc2VPdXRwdXQucHJvdG90eXBlKTtcbiAgICBCdWZmZXJlZE91dHB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCdWZmZXJlZE91dHB1dDtcbiAgICBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJ1ZmZlcmVkT3V0cHV0LnByb3RvdHlwZSk7XG4gICAgQnVmZmVyZWRPdXRwdXRUb0NvbnNvbGVMb2cucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQnVmZmVyZWRPdXRwdXRUb0NvbnNvbGVMb2c7XG4gICAgRXJyb3JfMC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFRocm93YWJsZS5wcm90b3R5cGUpO1xuICAgIEVycm9yXzAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRXJyb3JfMDtcbiAgICBFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShUaHJvd2FibGUucHJvdG90eXBlKTtcbiAgICBFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRXhjZXB0aW9uO1xuICAgIFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJ1bnRpbWVFeGNlcHRpb247XG4gICAgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb247XG4gICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247XG4gICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247XG4gICAgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247XG4gICAgTnVtYmVyRm9ybWF0RXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgTnVtYmVyRm9ybWF0RXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE51bWJlckZvcm1hdEV4Y2VwdGlvbjtcbiAgICBOdWxsUG9pbnRlckV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBOdWxsUG9pbnRlckV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOdWxsUG9pbnRlckV4Y2VwdGlvbjtcbiAgICBDbGFzc0Nhc3RFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgQ2xhc3NDYXN0RXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENsYXNzQ2FzdEV4Y2VwdGlvbjtcbiAgICBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIE5vU3VjaEVsZW1lbnRFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTm9TdWNoRWxlbWVudEV4Y2VwdGlvbjtcbiAgICBBcml0aG1ldGljRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIEFyaXRobWV0aWNFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXJpdGhtZXRpY0V4Y2VwdGlvbjtcbiAgICBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIE5vV2hlbkJyYW5jaE1hdGNoZWRFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbjtcbiAgICBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbjtcbiAgICBTaW1wbGVLQ2xhc3NJbXBsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoS0NsYXNzSW1wbC5wcm90b3R5cGUpO1xuICAgIFNpbXBsZUtDbGFzc0ltcGwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2ltcGxlS0NsYXNzSW1wbDtcbiAgICBQcmltaXRpdmVLQ2xhc3NJbXBsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoS0NsYXNzSW1wbC5wcm90b3R5cGUpO1xuICAgIFByaW1pdGl2ZUtDbGFzc0ltcGwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHJpbWl0aXZlS0NsYXNzSW1wbDtcbiAgICBOb3RoaW5nS0NsYXNzSW1wbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEtDbGFzc0ltcGwucHJvdG90eXBlKTtcbiAgICBOb3RoaW5nS0NsYXNzSW1wbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOb3RoaW5nS0NsYXNzSW1wbDtcbiAgICBSZWdleE9wdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgICBSZWdleE9wdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZWdleE9wdGlvbjtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdExpc3QucHJvdG90eXBlKTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRnZXRfZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cFZhbHVlcyRPYmplY3RMaXRlcmFsO1xuICAgIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBzJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBzJE9iamVjdExpdGVyYWw7XG4gICAgQWJzdHJhY3RMaXN0JFN1Ykxpc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdExpc3QucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdExpc3QkU3ViTGlzdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdExpc3QkU3ViTGlzdDtcbiAgICBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TGlzdCRJdGVyYXRvckltcGwucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbDtcbiAgICBBYnN0cmFjdFNldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0Q29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0U2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0U2V0O1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdFNldC5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbDtcbiAgICBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsO1xuICAgIENvcm91dGluZVNpbmdsZXRvbnMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbnVtLnByb3RvdHlwZSk7XG4gICAgQ29yb3V0aW5lU2luZ2xldG9ucy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb3JvdXRpbmVTaW5nbGV0b25zO1xuICAgIGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDaGFySXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGl0ZXJhdG9yJE9iamVjdExpdGVyYWw7XG4gICAgTm90SW1wbGVtZW50ZWRFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yXzAucHJvdG90eXBlKTtcbiAgICBOb3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5vdEltcGxlbWVudGVkRXJyb3I7XG4gICAgZnVuY3Rpb24gY29udGFpbnMoJHJlY2VpdmVyLCBlbGVtZW50KSB7XG4gICAgICByZXR1cm4gaW5kZXhPZigkcmVjZWl2ZXIsIGVsZW1lbnQpID49IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zXzcoJHJlY2VpdmVyLCBlbGVtZW50KSB7XG4gICAgICByZXR1cm4gaW5kZXhPZl83KCRyZWNlaXZlciwgZWxlbWVudCkgPj0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3JOdWxsKCRyZWNlaXZlciwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDw9IGdldF9sYXN0SW5kZXgoJHJlY2VpdmVyKSA/ICRyZWNlaXZlcltpbmRleF0gOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmRleE9mKCRyZWNlaXZlciwgZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4ICE9PSAkcmVjZWl2ZXIubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgaWYgKCRyZWNlaXZlcltpbmRleF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpbmRleF8wID0gMDsgaW5kZXhfMCAhPT0gJHJlY2VpdmVyLmxlbmd0aDsgKytpbmRleF8wKSB7XG4gICAgICAgICAgaWYgKGVxdWFscyhlbGVtZW50LCAkcmVjZWl2ZXJbaW5kZXhfMF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXhfMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5kZXhPZl83KCRyZWNlaXZlciwgZWxlbWVudCkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCAhPT0gJHJlY2VpdmVyLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICBpZiAoZWxlbWVudCA9PT0gJHJlY2VpdmVyW2luZGV4XSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZigkcmVjZWl2ZXIsIGVsZW1lbnQpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIHRtcCQgPSByZXZlcnNlZF85KGdldF9pbmRpY2VzKCRyZWNlaXZlcikpLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBpbmRleCA9IHRtcCQubmV4dCgpO1xuICAgICAgICAgIGlmICgkcmVjZWl2ZXJbaW5kZXhdID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdG1wJF8wID0gcmV2ZXJzZWRfOShnZXRfaW5kaWNlcygkcmVjZWl2ZXIpKS5pdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBpbmRleF8wID0gdG1wJF8wLm5leHQoKTtcbiAgICAgICAgICBpZiAoZXF1YWxzKGVsZW1lbnQsICRyZWNlaXZlcltpbmRleF8wXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleF8wO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaW5nbGVfNygkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgc3dpdGNoICgkcmVjZWl2ZXIubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbignQXJyYXkgaXMgZW1wdHkuJyk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0bXAkID0gJHJlY2VpdmVyWzBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OnRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ0FycmF5IGhhcyBtb3JlIHRoYW4gb25lIGVsZW1lbnQuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0X2luZGljZXMoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbmV3IEludFJhbmdlKDAsIGdldF9sYXN0SW5kZXgoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldF9sYXN0SW5kZXgoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyLmxlbmd0aCAtIDEgfCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0NvbGxlY3Rpb24oJHJlY2VpdmVyLCBkZXN0aW5hdGlvbikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBmb3IgKHRtcCQgPSAwOyB0bXAkICE9PSAkcmVjZWl2ZXIubGVuZ3RoOyArK3RtcCQpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSAkcmVjZWl2ZXJbdG1wJF07XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZF8xMXJiJChpdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9MaXN0KCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBzd2l0Y2ggKCRyZWNlaXZlci5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHRtcCQgPSBlbXB0eUxpc3QoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRtcCQgPSBsaXN0T2YoJHJlY2VpdmVyWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDp0bXAkID0gdG9NdXRhYmxlTGlzdCgkcmVjZWl2ZXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvTXV0YWJsZUxpc3QoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gQXJyYXlMaXN0X2luaXRfMShhc0NvbGxlY3Rpb24oJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvU2V0KCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBzd2l0Y2ggKCRyZWNlaXZlci5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHRtcCQgPSBlbXB0eVNldCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdG1wJCA9IHNldE9mKCRyZWNlaXZlclswXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6dG1wJCA9IHRvQ29sbGVjdGlvbigkcmVjZWl2ZXIsIExpbmtlZEhhc2hTZXRfaW5pdF8zKG1hcENhcGFjaXR5KCRyZWNlaXZlci5sZW5ndGgpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gU2VxdWVuY2UkT2JqZWN0TGl0ZXJhbF8wKGNsb3N1cmUkaXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRpdGVyYXRvciA9IGNsb3N1cmUkaXRlcmF0b3I7XG4gICAgfVxuICAgIFNlcXVlbmNlJE9iamVjdExpdGVyYWxfMC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGl0ZXJhdG9yKCk7XG4gICAgfTtcbiAgICBTZXF1ZW5jZSRPYmplY3RMaXRlcmFsXzAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbU2VxdWVuY2VdfTtcbiAgICBmdW5jdGlvbiBmaXJzdF8xOCgkcmVjZWl2ZXIpIHtcbiAgICAgIGlmICgkcmVjZWl2ZXIuaXNFbXB0eSgpKVxuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbignTGlzdCBpcyBlbXB0eS4nKTtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE9yTnVsbF84KCRyZWNlaXZlciwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDw9IGdldF9sYXN0SW5kZXhfMTIoJHJlY2VpdmVyKSA/ICRyZWNlaXZlci5nZXRfemEzbHBhJChpbmRleCkgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsYXN0XzE4KCRyZWNlaXZlcikge1xuICAgICAgaWYgKCRyZWNlaXZlci5pc0VtcHR5KCkpXG4gICAgICAgIHRocm93IG5ldyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKCdMaXN0IGlzIGVtcHR5LicpO1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5nZXRfemEzbHBhJChnZXRfbGFzdEluZGV4XzEyKCRyZWNlaXZlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsYXN0T3JOdWxsXzE4KCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5pc0VtcHR5KCkgPyBudWxsIDogJHJlY2VpdmVyLmdldF96YTNscGEkKCRyZWNlaXZlci5zaXplIC0gMSB8IDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaW5nbGVfMTcoJHJlY2VpdmVyKSB7XG4gICAgICBpZiAoS290bGluLmlzVHlwZSgkcmVjZWl2ZXIsIExpc3QpKVxuICAgICAgICByZXR1cm4gc2luZ2xlXzE4KCRyZWNlaXZlcik7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICAgIGlmICghaXRlcmF0b3IuaGFzTmV4dCgpKVxuICAgICAgICAgIHRocm93IG5ldyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKCdDb2xsZWN0aW9uIGlzIGVtcHR5LicpO1xuICAgICAgICB2YXIgc2luZ2xlID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoaXRlcmF0b3IuaGFzTmV4dCgpKVxuICAgICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ0NvbGxlY3Rpb24gaGFzIG1vcmUgdGhhbiBvbmUgZWxlbWVudC4nKTtcbiAgICAgICAgcmV0dXJuIHNpbmdsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2luZ2xlXzE4KCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBzd2l0Y2ggKCRyZWNlaXZlci5zaXplKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbignTGlzdCBpcyBlbXB0eS4nKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6dGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnTGlzdCBoYXMgbW9yZSB0aGFuIG9uZSBlbGVtZW50LicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNsaWNlXzE3KCRyZWNlaXZlciwgaW5kaWNlcykge1xuICAgICAgaWYgKGluZGljZXMuaXNFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b0xpc3RfOCgkcmVjZWl2ZXIuc3ViTGlzdF92dXg5ZjAkKGluZGljZXMuc3RhcnQsIGluZGljZXMuZW5kSW5jbHVzaXZlICsgMSB8IDApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Db2xsZWN0aW9uXzgoJHJlY2VpdmVyLCBkZXN0aW5hdGlvbikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKGl0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0xpc3RfOCgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBDb2xsZWN0aW9uKSkge1xuICAgICAgICBzd2l0Y2ggKCRyZWNlaXZlci5zaXplKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdG1wJCA9IGVtcHR5TGlzdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdG1wJCA9IGxpc3RPZihLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgTGlzdCkgPyAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoMCkgOiAkcmVjZWl2ZXIuaXRlcmF0b3IoKS5uZXh0KCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDp0bXAkID0gdG9NdXRhYmxlTGlzdF85KCRyZWNlaXZlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG1wJDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpbWl6ZVJlYWRPbmx5TGlzdCh0b011dGFibGVMaXN0XzgoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvTXV0YWJsZUxpc3RfOCgkcmVjZWl2ZXIpIHtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgQ29sbGVjdGlvbikpXG4gICAgICAgIHJldHVybiB0b011dGFibGVMaXN0XzkoJHJlY2VpdmVyKTtcbiAgICAgIHJldHVybiB0b0NvbGxlY3Rpb25fOCgkcmVjZWl2ZXIsIEFycmF5TGlzdF9pbml0KCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b011dGFibGVMaXN0XzkoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gQXJyYXlMaXN0X2luaXRfMSgkcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b1NldF84KCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoS290bGluLmlzVHlwZSgkcmVjZWl2ZXIsIENvbGxlY3Rpb24pKSB7XG4gICAgICAgIHN3aXRjaCAoJHJlY2VpdmVyLnNpemUpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICB0bXAkID0gZW1wdHlTZXQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRtcCQgPSBzZXRPZihLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgTGlzdCkgPyAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoMCkgOiAkcmVjZWl2ZXIuaXRlcmF0b3IoKS5uZXh0KCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDp0bXAkID0gdG9Db2xsZWN0aW9uXzgoJHJlY2VpdmVyLCBMaW5rZWRIYXNoU2V0X2luaXRfMyhtYXBDYXBhY2l0eSgkcmVjZWl2ZXIuc2l6ZSkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0bXAkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGltaXplUmVhZE9ubHlTZXQodG9Db2xsZWN0aW9uXzgoJHJlY2VpdmVyLCBMaW5rZWRIYXNoU2V0X2luaXRfMCgpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1pbl8xMSgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgaWYgKCFpdGVyYXRvci5oYXNOZXh0KCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgdmFyIG1pbiA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHdoaWxlIChpdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGUgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChLb3RsaW4uY29tcGFyZVRvKG1pbiwgZSkgPiAwKVxuICAgICAgICAgIG1pbiA9IGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqb2luVG9fOCgkcmVjZWl2ZXIsIGJ1ZmZlciwgc2VwYXJhdG9yLCBwcmVmaXgsIHBvc3RmaXgsIGxpbWl0LCB0cnVuY2F0ZWQsIHRyYW5zZm9ybSkge1xuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdm9pZCAwKVxuICAgICAgICBzZXBhcmF0b3IgPSAnLCAnO1xuICAgICAgaWYgKHByZWZpeCA9PT0gdm9pZCAwKVxuICAgICAgICBwcmVmaXggPSAnJztcbiAgICAgIGlmIChwb3N0Zml4ID09PSB2b2lkIDApXG4gICAgICAgIHBvc3RmaXggPSAnJztcbiAgICAgIGlmIChsaW1pdCA9PT0gdm9pZCAwKVxuICAgICAgICBsaW1pdCA9IC0xO1xuICAgICAgaWYgKHRydW5jYXRlZCA9PT0gdm9pZCAwKVxuICAgICAgICB0cnVuY2F0ZWQgPSAnLi4uJztcbiAgICAgIGlmICh0cmFuc2Zvcm0gPT09IHZvaWQgMClcbiAgICAgICAgdHJhbnNmb3JtID0gbnVsbDtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgYnVmZmVyLmFwcGVuZF9ndzAwdjkkKHByZWZpeCk7XG4gICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgdG1wJCA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGlmICgoY291bnQgPSBjb3VudCArIDEgfCAwLCBjb3VudCkgPiAxKVxuICAgICAgICAgIGJ1ZmZlci5hcHBlbmRfZ3cwMHY5JChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAobGltaXQgPCAwIHx8IGNvdW50IDw9IGxpbWl0KSB7XG4gICAgICAgICAgYXBwZW5kRWxlbWVudF8wKGJ1ZmZlciwgZWxlbWVudCwgdHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGxpbWl0ID49IDAgJiYgY291bnQgPiBsaW1pdClcbiAgICAgICAgYnVmZmVyLmFwcGVuZF9ndzAwdjkkKHRydW5jYXRlZCk7XG4gICAgICBidWZmZXIuYXBwZW5kX2d3MDB2OSQocG9zdGZpeCk7XG4gICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqb2luVG9TdHJpbmdfOCgkcmVjZWl2ZXIsIHNlcGFyYXRvciwgcHJlZml4LCBwb3N0Zml4LCBsaW1pdCwgdHJ1bmNhdGVkLCB0cmFuc2Zvcm0pIHtcbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHZvaWQgMClcbiAgICAgICAgc2VwYXJhdG9yID0gJywgJztcbiAgICAgIGlmIChwcmVmaXggPT09IHZvaWQgMClcbiAgICAgICAgcHJlZml4ID0gJyc7XG4gICAgICBpZiAocG9zdGZpeCA9PT0gdm9pZCAwKVxuICAgICAgICBwb3N0Zml4ID0gJyc7XG4gICAgICBpZiAobGltaXQgPT09IHZvaWQgMClcbiAgICAgICAgbGltaXQgPSAtMTtcbiAgICAgIGlmICh0cnVuY2F0ZWQgPT09IHZvaWQgMClcbiAgICAgICAgdHJ1bmNhdGVkID0gJy4uLic7XG4gICAgICBpZiAodHJhbnNmb3JtID09PSB2b2lkIDApXG4gICAgICAgIHRyYW5zZm9ybSA9IG51bGw7XG4gICAgICByZXR1cm4gam9pblRvXzgoJHJlY2VpdmVyLCBTdHJpbmdCdWlsZGVyX2luaXRfMSgpLCBzZXBhcmF0b3IsIHByZWZpeCwgcG9zdGZpeCwgbGltaXQsIHRydW5jYXRlZCwgdHJhbnNmb3JtKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc1NlcXVlbmNlJGxhbWJkYV84KHRoaXMkYXNTZXF1ZW5jZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMkYXNTZXF1ZW5jZS5pdGVyYXRvcigpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNTZXF1ZW5jZV84KCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBTZXF1ZW5jZSRPYmplY3RMaXRlcmFsXzAoYXNTZXF1ZW5jZSRsYW1iZGFfOCgkcmVjZWl2ZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG93blRvXzQoJHJlY2VpdmVyLCB0bykge1xuICAgICAgcmV0dXJuIEludFByb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmZyb21DbG9zZWRSYW5nZV9xdDFkcjIkKCRyZWNlaXZlciwgdG8sIC0xKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV2ZXJzZWRfOSgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5mcm9tQ2xvc2VkUmFuZ2VfcXQxZHIyJCgkcmVjZWl2ZXIubGFzdCwgJHJlY2VpdmVyLmZpcnN0LCAtJHJlY2VpdmVyLnN0ZXAgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW50aWxfNCgkcmVjZWl2ZXIsIHRvKSB7XG4gICAgICBpZiAodG8gPD0gLTIxNDc0ODM2NDgpXG4gICAgICAgIHJldHVybiBJbnRSYW5nZSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5FTVBUWTtcbiAgICAgIHJldHVybiBuZXcgSW50UmFuZ2UoJHJlY2VpdmVyLCB0byAtIDEgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29lcmNlQXRMZWFzdF8yKCRyZWNlaXZlciwgbWluaW11bVZhbHVlKSB7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyIDwgbWluaW11bVZhbHVlID8gbWluaW11bVZhbHVlIDogJHJlY2VpdmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2VyY2VBdE1vc3RfMigkcmVjZWl2ZXIsIG1heGltdW1WYWx1ZSkge1xuICAgICAgcmV0dXJuICRyZWNlaXZlciA+IG1heGltdW1WYWx1ZSA/IG1heGltdW1WYWx1ZSA6ICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29lcmNlSW5fMigkcmVjZWl2ZXIsIG1pbmltdW1WYWx1ZSwgbWF4aW11bVZhbHVlKSB7XG4gICAgICBpZiAobWluaW11bVZhbHVlID4gbWF4aW11bVZhbHVlKVxuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdDYW5ub3QgY29lcmNlIHZhbHVlIHRvIGFuIGVtcHR5IHJhbmdlOiBtYXhpbXVtICcgKyBtYXhpbXVtVmFsdWUgKyAnIGlzIGxlc3MgdGhhbiBtaW5pbXVtICcgKyBtaW5pbXVtVmFsdWUgKyAnLicpO1xuICAgICAgaWYgKCRyZWNlaXZlciA8IG1pbmltdW1WYWx1ZSlcbiAgICAgICAgcmV0dXJuIG1pbmltdW1WYWx1ZTtcbiAgICAgIGlmICgkcmVjZWl2ZXIgPiBtYXhpbXVtVmFsdWUpXG4gICAgICAgIHJldHVybiBtYXhpbXVtVmFsdWU7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBJdGVyYWJsZSRPYmplY3RMaXRlcmFsXzAoY2xvc3VyZSRpdGVyYXRvcikge1xuICAgICAgdGhpcy5jbG9zdXJlJGl0ZXJhdG9yID0gY2xvc3VyZSRpdGVyYXRvcjtcbiAgICB9XG4gICAgSXRlcmFibGUkT2JqZWN0TGl0ZXJhbF8wLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkaXRlcmF0b3IoKTtcbiAgICB9O1xuICAgIEl0ZXJhYmxlJE9iamVjdExpdGVyYWxfMC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYWJsZV19O1xuICAgIGZ1bmN0aW9uIHRha2VfOSgkcmVjZWl2ZXIsIG4pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKCEobiA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdSZXF1ZXN0ZWQgZWxlbWVudCBjb3VudCAnICsgbiArICcgaXMgbGVzcyB0aGFuIHplcm8uJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgaWYgKG4gPT09IDApXG4gICAgICAgIHRtcCQgPSBlbXB0eVNlcXVlbmNlKCk7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgRHJvcFRha2VTZXF1ZW5jZSkpXG4gICAgICAgIHRtcCQgPSAkcmVjZWl2ZXIudGFrZV96YTNscGEkKG4pO1xuICAgICAgZWxzZVxuICAgICAgICB0bXAkID0gbmV3IFRha2VTZXF1ZW5jZSgkcmVjZWl2ZXIsIG4pO1xuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvQ29sbGVjdGlvbl85KCRyZWNlaXZlciwgZGVzdGluYXRpb24pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBpdGVtID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZF8xMXJiJChpdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9MaXN0XzEwKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG9wdGltaXplUmVhZE9ubHlMaXN0KHRvTXV0YWJsZUxpc3RfMTAoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvTXV0YWJsZUxpc3RfMTAoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gdG9Db2xsZWN0aW9uXzkoJHJlY2VpdmVyLCBBcnJheUxpc3RfaW5pdCgpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwXzEwKCRyZWNlaXZlciwgdHJhbnNmb3JtKSB7XG4gICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybWluZ1NlcXVlbmNlKCRyZWNlaXZlciwgdHJhbnNmb3JtKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNJdGVyYWJsZSRsYW1iZGFfOCh0aGlzJGFzSXRlcmFibGUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzJGFzSXRlcmFibGUuaXRlcmF0b3IoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzSXRlcmFibGVfMTAoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlJE9iamVjdExpdGVyYWxfMChhc0l0ZXJhYmxlJGxhbWJkYV84KCRyZWNlaXZlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaW5nbGVfMjIoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHN3aXRjaCAoJHJlY2VpdmVyLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24oJ0NoYXIgc2VxdWVuY2UgaXMgZW1wdHkuJyk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0bXAkID0gJHJlY2VpdmVyLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6dGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnQ2hhciBzZXF1ZW5jZSBoYXMgbW9yZSB0aGFuIG9uZSBlbGVtZW50LicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRyb3BfMTEoJHJlY2VpdmVyLCBuKSB7XG4gICAgICBpZiAoIShuID49IDApKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ1JlcXVlc3RlZCBjaGFyYWN0ZXIgY291bnQgJyArIG4gKyAnIGlzIGxlc3MgdGhhbiB6ZXJvLic7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkcmVjZWl2ZXIuc3Vic3RyaW5nKGNvZXJjZUF0TW9zdF8yKG4sICRyZWNlaXZlci5sZW5ndGgpKTtcbiAgICB9XG4gICAgdmFyIFBJO1xuICAgIHZhciBFO1xuICAgIGZ1bmN0aW9uIENoYXJTZXF1ZW5jZSgpIHtcbiAgICB9XG4gICAgQ2hhclNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDaGFyU2VxdWVuY2UnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gSXRlcmFibGUoKSB7XG4gICAgfVxuICAgIEl0ZXJhYmxlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdJdGVyYWJsZScsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBNdXRhYmxlSXRlcmFibGUoKSB7XG4gICAgfVxuICAgIE11dGFibGVJdGVyYWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTXV0YWJsZUl0ZXJhYmxlJywgaW50ZXJmYWNlczogW0l0ZXJhYmxlXX07XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcbiAgICB9XG4gICAgQ29sbGVjdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnQ29sbGVjdGlvbicsIGludGVyZmFjZXM6IFtJdGVyYWJsZV19O1xuICAgIGZ1bmN0aW9uIE11dGFibGVDb2xsZWN0aW9uKCkge1xuICAgIH1cbiAgICBNdXRhYmxlQ29sbGVjdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTXV0YWJsZUNvbGxlY3Rpb24nLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUl0ZXJhYmxlLCBDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gTGlzdCgpIHtcbiAgICB9XG4gICAgTGlzdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTGlzdCcsIGludGVyZmFjZXM6IFtDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZUxpc3QoKSB7XG4gICAgfVxuICAgIE11dGFibGVMaXN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNdXRhYmxlTGlzdCcsIGludGVyZmFjZXM6IFtNdXRhYmxlQ29sbGVjdGlvbiwgTGlzdF19O1xuICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICB9XG4gICAgU2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXQnLCBpbnRlcmZhY2VzOiBbQ29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIE11dGFibGVTZXQoKSB7XG4gICAgfVxuICAgIE11dGFibGVTZXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ011dGFibGVTZXQnLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUNvbGxlY3Rpb24sIFNldF19O1xuICAgIGZ1bmN0aW9uIE1hcCgpIHtcbiAgICB9XG4gICAgTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IGZ1bmN0aW9uIChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSBudWxsKSA9PSBudWxsIHx8IEtvdGxpbi5pc1R5cGUodG1wJCwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBNYXAkRW50cnkoKSB7XG4gICAgfVxuICAgIE1hcCRFbnRyeS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnRW50cnknLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgTWFwLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNYXAnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZU1hcCgpIHtcbiAgICB9XG4gICAgTXV0YWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlX3h3emM5cCQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBNdXRhYmxlTWFwJE11dGFibGVFbnRyeSgpIHtcbiAgICB9XG4gICAgTXV0YWJsZU1hcCRNdXRhYmxlRW50cnkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ011dGFibGVFbnRyeScsIGludGVyZmFjZXM6IFtNYXAkRW50cnldfTtcbiAgICBNdXRhYmxlTWFwLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNdXRhYmxlTWFwJywgaW50ZXJmYWNlczogW01hcF19O1xuICAgIGZ1bmN0aW9uIEZ1bmN0aW9uXzAoKSB7XG4gICAgfVxuICAgIEZ1bmN0aW9uXzAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0Z1bmN0aW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIGZ1bmN0aW9uIEl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBJdGVyYXRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnSXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZUl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBNdXRhYmxlSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ011dGFibGVJdGVyYXRvcicsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIExpc3RJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgTGlzdEl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdMaXN0SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBNdXRhYmxlTGlzdEl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBNdXRhYmxlTGlzdEl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNdXRhYmxlTGlzdEl0ZXJhdG9yJywgaW50ZXJmYWNlczogW011dGFibGVJdGVyYXRvciwgTGlzdEl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gQnl0ZUl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBCeXRlSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXh0Qnl0ZSgpO1xuICAgIH07XG4gICAgQnl0ZUl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0J5dGVJdGVyYXRvcicsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIENoYXJJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgQ2hhckl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRvQm94ZWRDaGFyKHRoaXMubmV4dENoYXIoKSk7XG4gICAgfTtcbiAgICBDaGFySXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhckl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gU2hvcnRJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgU2hvcnRJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRTaG9ydCgpO1xuICAgIH07XG4gICAgU2hvcnRJdGVyYXRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTaG9ydEl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gSW50SXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIEludEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dEludCgpO1xuICAgIH07XG4gICAgSW50SXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW50SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBMb25nSXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIExvbmdJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRMb25nKCk7XG4gICAgfTtcbiAgICBMb25nSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTG9uZ0l0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gRmxvYXRJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgRmxvYXRJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRGbG9hdCgpO1xuICAgIH07XG4gICAgRmxvYXRJdGVyYXRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdGbG9hdEl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gRG91YmxlSXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIERvdWJsZUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dERvdWJsZSgpO1xuICAgIH07XG4gICAgRG91YmxlSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRG91YmxlSXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBCb29sZWFuSXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIEJvb2xlYW5JdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRCb29sZWFuKCk7XG4gICAgfTtcbiAgICBCb29sZWFuSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQm9vbGVhbkl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gQ2hhclByb2dyZXNzaW9uSXRlcmF0b3IoZmlyc3QsIGxhc3QsIHN0ZXApIHtcbiAgICAgIENoYXJJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5zdGVwID0gc3RlcDtcbiAgICAgIHRoaXMuZmluYWxFbGVtZW50XzAgPSBsYXN0IHwgMDtcbiAgICAgIHRoaXMuaGFzTmV4dF8wID0gdGhpcy5zdGVwID4gMCA/IGZpcnN0IDw9IGxhc3QgOiBmaXJzdCA+PSBsYXN0O1xuICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLmhhc05leHRfMCA/IGZpcnN0IHwgMCA6IHRoaXMuZmluYWxFbGVtZW50XzA7XG4gICAgfVxuICAgIENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzTmV4dF8wO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlLm5leHRDaGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5uZXh0XzA7XG4gICAgICBpZiAodmFsdWUgPT09IHRoaXMuZmluYWxFbGVtZW50XzApIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc05leHRfMClcbiAgICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgICAgdGhpcy5oYXNOZXh0XzAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLm5leHRfMCArIHRoaXMuc3RlcCB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9DaGFyKHZhbHVlKTtcbiAgICB9O1xuICAgIENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0NoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0NoYXJJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIEludFByb2dyZXNzaW9uSXRlcmF0b3IoZmlyc3QsIGxhc3QsIHN0ZXApIHtcbiAgICAgIEludEl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnN0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5maW5hbEVsZW1lbnRfMCA9IGxhc3Q7XG4gICAgICB0aGlzLmhhc05leHRfMCA9IHRoaXMuc3RlcCA+IDAgPyBmaXJzdCA8PSBsYXN0IDogZmlyc3QgPj0gbGFzdDtcbiAgICAgIHRoaXMubmV4dF8wID0gdGhpcy5oYXNOZXh0XzAgPyBmaXJzdCA6IHRoaXMuZmluYWxFbGVtZW50XzA7XG4gICAgfVxuICAgIEludFByb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXNOZXh0XzA7XG4gICAgfTtcbiAgICBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0SW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5uZXh0XzA7XG4gICAgICBpZiAodmFsdWUgPT09IHRoaXMuZmluYWxFbGVtZW50XzApIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc05leHRfMClcbiAgICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgICAgdGhpcy5oYXNOZXh0XzAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLm5leHRfMCArIHRoaXMuc3RlcCB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0ludFByb2dyZXNzaW9uSXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSW50SXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBMb25nUHJvZ3Jlc3Npb25JdGVyYXRvcihmaXJzdCwgbGFzdCwgc3RlcCkge1xuICAgICAgTG9uZ0l0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnN0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5maW5hbEVsZW1lbnRfMCA9IGxhc3Q7XG4gICAgICB0aGlzLmhhc05leHRfMCA9IHRoaXMuc3RlcC50b051bWJlcigpID4gMCA/IGZpcnN0LmNvbXBhcmVUb18xMXJiJChsYXN0KSA8PSAwIDogZmlyc3QuY29tcGFyZVRvXzExcmIkKGxhc3QpID49IDA7XG4gICAgICB0aGlzLm5leHRfMCA9IHRoaXMuaGFzTmV4dF8wID8gZmlyc3QgOiB0aGlzLmZpbmFsRWxlbWVudF8wO1xuICAgIH1cbiAgICBMb25nUHJvZ3Jlc3Npb25JdGVyYXRvci5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc05leHRfMDtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0TG9uZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMubmV4dF8wO1xuICAgICAgaWYgKGVxdWFscyh2YWx1ZSwgdGhpcy5maW5hbEVsZW1lbnRfMCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc05leHRfMClcbiAgICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgICAgdGhpcy5oYXNOZXh0XzAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLm5leHRfMC5hZGQodGhpcy5zdGVwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0xvbmdJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIENoYXJQcm9ncmVzc2lvbihzdGFydCwgZW5kSW5jbHVzaXZlLCBzdGVwKSB7XG4gICAgICBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgICBpZiAoc3RlcCA9PT0gMClcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBtdXN0IGJlIG5vbi16ZXJvLicpO1xuICAgICAgaWYgKHN0ZXAgPT09IC0yMTQ3NDgzNjQ4KVxuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdTdGVwIG11c3QgYmUgZ3JlYXRlciB0aGFuIEludC5NSU5fVkFMVUUgdG8gYXZvaWQgb3ZlcmZsb3cgb24gbmVnYXRpb24uJyk7XG4gICAgICB0aGlzLmZpcnN0ID0gc3RhcnQ7XG4gICAgICB0aGlzLmxhc3QgPSB0b0NoYXIoZ2V0UHJvZ3Jlc3Npb25MYXN0RWxlbWVudChzdGFydCB8IDAsIGVuZEluY2x1c2l2ZSB8IDAsIHN0ZXApKTtcbiAgICAgIHRoaXMuc3RlcCA9IHN0ZXA7XG4gICAgfVxuICAgIENoYXJQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yKHRoaXMuZmlyc3QsIHRoaXMubGFzdCwgdGhpcy5zdGVwKTtcbiAgICB9O1xuICAgIENoYXJQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0ZXAgPiAwID8gdGhpcy5maXJzdCA+IHRoaXMubGFzdCA6IHRoaXMuZmlyc3QgPCB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBDaGFyUHJvZ3Jlc3Npb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIENoYXJQcm9ncmVzc2lvbikgJiYgKHRoaXMuaXNFbXB0eSgpICYmIG90aGVyLmlzRW1wdHkoKSB8fCAodGhpcy5maXJzdCA9PT0gb3RoZXIuZmlyc3QgJiYgdGhpcy5sYXN0ID09PSBvdGhlci5sYXN0ICYmIHRoaXMuc3RlcCA9PT0gb3RoZXIuc3RlcCkpO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IC0xIDogKDMxICogKCgzMSAqICh0aGlzLmZpcnN0IHwgMCkgfCAwKSArICh0aGlzLmxhc3QgfCAwKSB8IDApIHwgMCkgKyB0aGlzLnN0ZXAgfCAwO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0ZXAgPiAwID8gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmZpcnN0KSArICcuLicgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMubGFzdCkgKyAnIHN0ZXAgJyArIHRoaXMuc3RlcCA6IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5maXJzdCkgKyAnIGRvd25UbyAnICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmxhc3QpICsgJyBzdGVwICcgKyAoLXRoaXMuc3RlcCB8IDApO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ2hhclByb2dyZXNzaW9uJENvbXBhbmlvbigpIHtcbiAgICAgIENoYXJQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uLnByb3RvdHlwZS5mcm9tQ2xvc2VkUmFuZ2VfYXlyYTQ0JCA9IGZ1bmN0aW9uIChyYW5nZVN0YXJ0LCByYW5nZUVuZCwgc3RlcCkge1xuICAgICAgcmV0dXJuIG5ldyBDaGFyUHJvZ3Jlc3Npb24ocmFuZ2VTdGFydCwgcmFuZ2VFbmQsIHN0ZXApO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKENoYXJQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IENoYXJQcm9ncmVzc2lvbiRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBDaGFyUHJvZ3Jlc3Npb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhclByb2dyZXNzaW9uJywgaW50ZXJmYWNlczogW0l0ZXJhYmxlXX07XG4gICAgZnVuY3Rpb24gSW50UHJvZ3Jlc3Npb24oc3RhcnQsIGVuZEluY2x1c2l2ZSwgc3RlcCkge1xuICAgICAgSW50UHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgICBpZiAoc3RlcCA9PT0gMClcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBtdXN0IGJlIG5vbi16ZXJvLicpO1xuICAgICAgaWYgKHN0ZXAgPT09IC0yMTQ3NDgzNjQ4KVxuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdTdGVwIG11c3QgYmUgZ3JlYXRlciB0aGFuIEludC5NSU5fVkFMVUUgdG8gYXZvaWQgb3ZlcmZsb3cgb24gbmVnYXRpb24uJyk7XG4gICAgICB0aGlzLmZpcnN0ID0gc3RhcnQ7XG4gICAgICB0aGlzLmxhc3QgPSBnZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50KHN0YXJ0LCBlbmRJbmNsdXNpdmUsIHN0ZXApO1xuICAgICAgdGhpcy5zdGVwID0gc3RlcDtcbiAgICB9XG4gICAgSW50UHJvZ3Jlc3Npb24ucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yKHRoaXMuZmlyc3QsIHRoaXMubGFzdCwgdGhpcy5zdGVwKTtcbiAgICB9O1xuICAgIEludFByb2dyZXNzaW9uLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RlcCA+IDAgPyB0aGlzLmZpcnN0ID4gdGhpcy5sYXN0IDogdGhpcy5maXJzdCA8IHRoaXMubGFzdDtcbiAgICB9O1xuICAgIEludFByb2dyZXNzaW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKG90aGVyLCBJbnRQcm9ncmVzc2lvbikgJiYgKHRoaXMuaXNFbXB0eSgpICYmIG90aGVyLmlzRW1wdHkoKSB8fCAodGhpcy5maXJzdCA9PT0gb3RoZXIuZmlyc3QgJiYgdGhpcy5sYXN0ID09PSBvdGhlci5sYXN0ICYmIHRoaXMuc3RlcCA9PT0gb3RoZXIuc3RlcCkpO1xuICAgIH07XG4gICAgSW50UHJvZ3Jlc3Npb24ucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiAoMzEgKiAoKDMxICogdGhpcy5maXJzdCB8IDApICsgdGhpcy5sYXN0IHwgMCkgfCAwKSArIHRoaXMuc3RlcCB8IDA7XG4gICAgfTtcbiAgICBJbnRQcm9ncmVzc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGVwID4gMCA/IHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcuLicgKyB0aGlzLmxhc3QgKyAnIHN0ZXAgJyArIHRoaXMuc3RlcCA6IHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcgZG93blRvICcgKyB0aGlzLmxhc3QgKyAnIHN0ZXAgJyArICgtdGhpcy5zdGVwIHwgMCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb24oKSB7XG4gICAgICBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb24ucHJvdG90eXBlLmZyb21DbG9zZWRSYW5nZV9xdDFkcjIkID0gZnVuY3Rpb24gKHJhbmdlU3RhcnQsIHJhbmdlRW5kLCBzdGVwKSB7XG4gICAgICByZXR1cm4gbmV3IEludFByb2dyZXNzaW9uKHJhbmdlU3RhcnQsIHJhbmdlRW5kLCBzdGVwKTtcbiAgICB9O1xuICAgIEludFByb2dyZXNzaW9uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEludFByb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEludFByb2dyZXNzaW9uJENvbXBhbmlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEludFByb2dyZXNzaW9uJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgSW50UHJvZ3Jlc3Npb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW50UHJvZ3Jlc3Npb24nLCBpbnRlcmZhY2VzOiBbSXRlcmFibGVdfTtcbiAgICBmdW5jdGlvbiBMb25nUHJvZ3Jlc3Npb24oc3RhcnQsIGVuZEluY2x1c2l2ZSwgc3RlcCkge1xuICAgICAgTG9uZ1Byb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgaWYgKGVxdWFscyhzdGVwLCBMMCkpXG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ1N0ZXAgbXVzdCBiZSBub24temVyby4nKTtcbiAgICAgIGlmIChlcXVhbHMoc3RlcCwgTG9uZyRDb21wYW5pb24kTUlOX1ZBTFVFKSlcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBMb25nLk1JTl9WQUxVRSB0byBhdm9pZCBvdmVyZmxvdyBvbiBuZWdhdGlvbi4nKTtcbiAgICAgIHRoaXMuZmlyc3QgPSBzdGFydDtcbiAgICAgIHRoaXMubGFzdCA9IGdldFByb2dyZXNzaW9uTGFzdEVsZW1lbnRfMChzdGFydCwgZW5kSW5jbHVzaXZlLCBzdGVwKTtcbiAgICAgIHRoaXMuc3RlcCA9IHN0ZXA7XG4gICAgfVxuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yKHRoaXMuZmlyc3QsIHRoaXMubGFzdCwgdGhpcy5zdGVwKTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0ZXAudG9OdW1iZXIoKSA+IDAgPyB0aGlzLmZpcnN0LmNvbXBhcmVUb18xMXJiJCh0aGlzLmxhc3QpID4gMCA6IHRoaXMuZmlyc3QuY29tcGFyZVRvXzExcmIkKHRoaXMubGFzdCkgPCAwO1xuICAgIH07XG4gICAgTG9uZ1Byb2dyZXNzaW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKG90aGVyLCBMb25nUHJvZ3Jlc3Npb24pICYmICh0aGlzLmlzRW1wdHkoKSAmJiBvdGhlci5pc0VtcHR5KCkgfHwgKGVxdWFscyh0aGlzLmZpcnN0LCBvdGhlci5maXJzdCkgJiYgZXF1YWxzKHRoaXMubGFzdCwgb3RoZXIubGFzdCkgJiYgZXF1YWxzKHRoaXMuc3RlcCwgb3RoZXIuc3RlcCkpKTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyAtMSA6IEtvdGxpbi5Mb25nLmZyb21JbnQoMzEpLm11bHRpcGx5KEtvdGxpbi5Mb25nLmZyb21JbnQoMzEpLm11bHRpcGx5KHRoaXMuZmlyc3QueG9yKHRoaXMuZmlyc3Quc2hpZnRSaWdodFVuc2lnbmVkKDMyKSkpLmFkZCh0aGlzLmxhc3QueG9yKHRoaXMubGFzdC5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpKSkpLmFkZCh0aGlzLnN0ZXAueG9yKHRoaXMuc3RlcC5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpKSkudG9JbnQoKTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGVwLnRvTnVtYmVyKCkgPiAwID8gdGhpcy5maXJzdC50b1N0cmluZygpICsgJy4uJyArIHRoaXMubGFzdC50b1N0cmluZygpICsgJyBzdGVwICcgKyB0aGlzLnN0ZXAudG9TdHJpbmcoKSA6IHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcgZG93blRvICcgKyB0aGlzLmxhc3QudG9TdHJpbmcoKSArICcgc3RlcCAnICsgdGhpcy5zdGVwLnVuYXJ5TWludXMoKS50b1N0cmluZygpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gTG9uZ1Byb2dyZXNzaW9uJENvbXBhbmlvbigpIHtcbiAgICAgIExvbmdQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uLnByb3RvdHlwZS5mcm9tQ2xvc2VkUmFuZ2VfYjliZDBkJCA9IGZ1bmN0aW9uIChyYW5nZVN0YXJ0LCByYW5nZUVuZCwgc3RlcCkge1xuICAgICAgcmV0dXJuIG5ldyBMb25nUHJvZ3Jlc3Npb24ocmFuZ2VTdGFydCwgcmFuZ2VFbmQsIHN0ZXApO1xuICAgIH07XG4gICAgTG9uZ1Byb2dyZXNzaW9uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKExvbmdQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IExvbmdQcm9ncmVzc2lvbiRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBMb25nUHJvZ3Jlc3Npb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTG9uZ1Byb2dyZXNzaW9uJywgaW50ZXJmYWNlczogW0l0ZXJhYmxlXX07XG4gICAgZnVuY3Rpb24gQ2xvc2VkUmFuZ2UoKSB7XG4gICAgfVxuICAgIENsb3NlZFJhbmdlLnByb3RvdHlwZS5jb250YWluc19tZWY3a3gkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gS290bGluLmNvbXBhcmVUbyh2YWx1ZSwgdGhpcy5zdGFydCkgPj0gMCAmJiBLb3RsaW4uY29tcGFyZVRvKHZhbHVlLCB0aGlzLmVuZEluY2x1c2l2ZSkgPD0gMDtcbiAgICB9O1xuICAgIENsb3NlZFJhbmdlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5jb21wYXJlVG8odGhpcy5zdGFydCwgdGhpcy5lbmRJbmNsdXNpdmUpID4gMDtcbiAgICB9O1xuICAgIENsb3NlZFJhbmdlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDbG9zZWRSYW5nZScsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBDaGFyUmFuZ2Uoc3RhcnQsIGVuZEluY2x1c2l2ZSkge1xuICAgICAgQ2hhclJhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgQ2hhclByb2dyZXNzaW9uLmNhbGwodGhpcywgc3RhcnQsIGVuZEluY2x1c2l2ZSwgMSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFyUmFuZ2UucHJvdG90eXBlLCAnc3RhcnQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdG9Cb3hlZENoYXIodGhpcy5maXJzdCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFyUmFuZ2UucHJvdG90eXBlLCAnZW5kSW5jbHVzaXZlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRvQm94ZWRDaGFyKHRoaXMubGFzdCk7XG4gICAgfX0pO1xuICAgIENoYXJSYW5nZS5wcm90b3R5cGUuY29udGFpbnNfbWVmN2t4JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QgPD0gdmFsdWUgJiYgdmFsdWUgPD0gdGhpcy5sYXN0O1xuICAgIH07XG4gICAgQ2hhclJhbmdlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QgPiB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBDaGFyUmFuZ2UucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIENoYXJSYW5nZSkgJiYgKHRoaXMuaXNFbXB0eSgpICYmIG90aGVyLmlzRW1wdHkoKSB8fCAodGhpcy5maXJzdCA9PT0gb3RoZXIuZmlyc3QgJiYgdGhpcy5sYXN0ID09PSBvdGhlci5sYXN0KSk7XG4gICAgfTtcbiAgICBDaGFyUmFuZ2UucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiAoMzEgKiAodGhpcy5maXJzdCB8IDApIHwgMCkgKyAodGhpcy5sYXN0IHwgMCkgfCAwO1xuICAgIH07XG4gICAgQ2hhclJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZmlyc3QpICsgJy4uJyArIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5sYXN0KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIENoYXJSYW5nZSRDb21wYW5pb24oKSB7XG4gICAgICBDaGFyUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuRU1QVFkgPSBuZXcgQ2hhclJhbmdlKHRvQ2hhcigxKSwgdG9DaGFyKDApKTtcbiAgICB9XG4gICAgQ2hhclJhbmdlJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBDaGFyUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDaGFyUmFuZ2UkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKENoYXJSYW5nZSRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IENoYXJSYW5nZSRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDaGFyUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBDaGFyUmFuZ2UuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhclJhbmdlJywgaW50ZXJmYWNlczogW0Nsb3NlZFJhbmdlLCBDaGFyUHJvZ3Jlc3Npb25dfTtcbiAgICBmdW5jdGlvbiBJbnRSYW5nZShzdGFydCwgZW5kSW5jbHVzaXZlKSB7XG4gICAgICBJbnRSYW5nZSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIEludFByb2dyZXNzaW9uLmNhbGwodGhpcywgc3RhcnQsIGVuZEluY2x1c2l2ZSwgMSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRSYW5nZS5wcm90b3R5cGUsICdzdGFydCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpcnN0O1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50UmFuZ2UucHJvdG90eXBlLCAnZW5kSW5jbHVzaXZlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdDtcbiAgICB9fSk7XG4gICAgSW50UmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zX21lZjdreCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpcnN0IDw9IHZhbHVlICYmIHZhbHVlIDw9IHRoaXMubGFzdDtcbiAgICB9O1xuICAgIEludFJhbmdlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QgPiB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBJbnRSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgSW50UmFuZ2UpICYmICh0aGlzLmlzRW1wdHkoKSAmJiBvdGhlci5pc0VtcHR5KCkgfHwgKHRoaXMuZmlyc3QgPT09IG90aGVyLmZpcnN0ICYmIHRoaXMubGFzdCA9PT0gb3RoZXIubGFzdCkpO1xuICAgIH07XG4gICAgSW50UmFuZ2UucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiAoMzEgKiB0aGlzLmZpcnN0IHwgMCkgKyB0aGlzLmxhc3QgfCAwO1xuICAgIH07XG4gICAgSW50UmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcuLicgKyB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBJbnRSYW5nZSRDb21wYW5pb24oKSB7XG4gICAgICBJbnRSYW5nZSRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5FTVBUWSA9IG5ldyBJbnRSYW5nZSgxLCAwKTtcbiAgICB9XG4gICAgSW50UmFuZ2UkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIEludFJhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gSW50UmFuZ2UkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEludFJhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgSW50UmFuZ2UkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gSW50UmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBJbnRSYW5nZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdJbnRSYW5nZScsIGludGVyZmFjZXM6IFtDbG9zZWRSYW5nZSwgSW50UHJvZ3Jlc3Npb25dfTtcbiAgICBmdW5jdGlvbiBMb25nUmFuZ2Uoc3RhcnQsIGVuZEluY2x1c2l2ZSkge1xuICAgICAgTG9uZ1JhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgTG9uZ1Byb2dyZXNzaW9uLmNhbGwodGhpcywgc3RhcnQsIGVuZEluY2x1c2l2ZSwgTDEpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9uZ1JhbmdlLnByb3RvdHlwZSwgJ3N0YXJ0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3Q7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nUmFuZ2UucHJvdG90eXBlLCAnZW5kSW5jbHVzaXZlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdDtcbiAgICB9fSk7XG4gICAgTG9uZ1JhbmdlLnByb3RvdHlwZS5jb250YWluc19tZWY3a3gkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maXJzdC5jb21wYXJlVG9fMTFyYiQodmFsdWUpIDw9IDAgJiYgdmFsdWUuY29tcGFyZVRvXzExcmIkKHRoaXMubGFzdCkgPD0gMDtcbiAgICB9O1xuICAgIExvbmdSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpcnN0LmNvbXBhcmVUb18xMXJiJCh0aGlzLmxhc3QpID4gMDtcbiAgICB9O1xuICAgIExvbmdSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgTG9uZ1JhbmdlKSAmJiAodGhpcy5pc0VtcHR5KCkgJiYgb3RoZXIuaXNFbXB0eSgpIHx8IChlcXVhbHModGhpcy5maXJzdCwgb3RoZXIuZmlyc3QpICYmIGVxdWFscyh0aGlzLmxhc3QsIG90aGVyLmxhc3QpKSk7XG4gICAgfTtcbiAgICBMb25nUmFuZ2UucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiBLb3RsaW4uTG9uZy5mcm9tSW50KDMxKS5tdWx0aXBseSh0aGlzLmZpcnN0Lnhvcih0aGlzLmZpcnN0LnNoaWZ0UmlnaHRVbnNpZ25lZCgzMikpKS5hZGQodGhpcy5sYXN0Lnhvcih0aGlzLmxhc3Quc2hpZnRSaWdodFVuc2lnbmVkKDMyKSkpLnRvSW50KCk7XG4gICAgfTtcbiAgICBMb25nUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcuLicgKyB0aGlzLmxhc3QudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIExvbmdSYW5nZSRDb21wYW5pb24oKSB7XG4gICAgICBMb25nUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuRU1QVFkgPSBuZXcgTG9uZ1JhbmdlKEwxLCBMMCk7XG4gICAgfVxuICAgIExvbmdSYW5nZSRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgTG9uZ1JhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gTG9uZ1JhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChMb25nUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBMb25nUmFuZ2UkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTG9uZ1JhbmdlJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgTG9uZ1JhbmdlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xvbmdSYW5nZScsIGludGVyZmFjZXM6IFtDbG9zZWRSYW5nZSwgTG9uZ1Byb2dyZXNzaW9uXX07XG4gICAgZnVuY3Rpb24gVW5pdCgpIHtcbiAgICAgIFVuaXRfaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBVbml0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAna290bGluLlVuaXQnO1xuICAgIH07XG4gICAgVW5pdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnVW5pdCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgVW5pdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gVW5pdF9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChVbml0X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBVbml0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVW5pdF9pbnN0YW5jZTtcbiAgICB9XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkQ0xBU1NfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkQU5OT1RBVElPTl9DTEFTU19pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRUWVBFX1BBUkFNRVRFUl9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRQUk9QRVJUWV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRGSUVMRF9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRMT0NBTF9WQVJJQUJMRV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRWQUxVRV9QQVJBTUVURVJfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkQ09OU1RSVUNUT1JfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkRlVOQ1RJT05faW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkUFJPUEVSVFlfR0VUVEVSX2luc3RhbmNlO1xuICAgIHZhciBBbm5vdGF0aW9uVGFyZ2V0JFBST1BFUlRZX1NFVFRFUl9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRUWVBFX2luc3RhbmNlO1xuICAgIHZhciBBbm5vdGF0aW9uVGFyZ2V0JEVYUFJFU1NJT05faW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkRklMRV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRUWVBFQUxJQVNfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25SZXRlbnRpb24kU09VUkNFX2luc3RhbmNlO1xuICAgIHZhciBBbm5vdGF0aW9uUmV0ZW50aW9uJEJJTkFSWV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblJldGVudGlvbiRSVU5USU1FX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIG1vZChhLCBiKSB7XG4gICAgICB2YXIgbW9kID0gYSAlIGI7XG4gICAgICByZXR1cm4gbW9kID49IDAgPyBtb2QgOiBtb2QgKyBiIHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW9kXzAoYSwgYikge1xuICAgICAgdmFyIG1vZCA9IGEubW9kdWxvKGIpO1xuICAgICAgcmV0dXJuIG1vZC50b051bWJlcigpID49IDAgPyBtb2QgOiBtb2QuYWRkKGIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmZXJlbmNlTW9kdWxvKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBtb2QobW9kKGEsIGMpIC0gbW9kKGIsIGMpIHwgMCwgYyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VNb2R1bG9fMChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gbW9kXzAobW9kXzAoYSwgYykuc3VidHJhY3QobW9kXzAoYiwgYykpLCBjKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJvZ3Jlc3Npb25MYXN0RWxlbWVudChzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICBpZiAoc3RlcCA+IDApXG4gICAgICAgIHJldHVybiBzdGFydCA+PSBlbmQgPyBlbmQgOiBlbmQgLSBkaWZmZXJlbmNlTW9kdWxvKGVuZCwgc3RhcnQsIHN0ZXApIHwgMDtcbiAgICAgIGVsc2UgaWYgKHN0ZXAgPCAwKVxuICAgICAgICByZXR1cm4gc3RhcnQgPD0gZW5kID8gZW5kIDogZW5kICsgZGlmZmVyZW5jZU1vZHVsbyhzdGFydCwgZW5kLCAtc3RlcCB8IDApIHwgMDtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBpcyB6ZXJvLicpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50XzAoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgaWYgKHN0ZXAudG9OdW1iZXIoKSA+IDApXG4gICAgICAgIHJldHVybiBzdGFydC5jb21wYXJlVG9fMTFyYiQoZW5kKSA+PSAwID8gZW5kIDogZW5kLnN1YnRyYWN0KGRpZmZlcmVuY2VNb2R1bG9fMChlbmQsIHN0YXJ0LCBzdGVwKSk7XG4gICAgICBlbHNlIGlmIChzdGVwLnRvTnVtYmVyKCkgPCAwKVxuICAgICAgICByZXR1cm4gc3RhcnQuY29tcGFyZVRvXzExcmIkKGVuZCkgPD0gMCA/IGVuZCA6IGVuZC5hZGQoZGlmZmVyZW5jZU1vZHVsb18wKHN0YXJ0LCBlbmQsIHN0ZXAudW5hcnlNaW51cygpKSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ1N0ZXAgaXMgemVyby4nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gS0Fubm90YXRlZEVsZW1lbnQoKSB7XG4gICAgfVxuICAgIEtBbm5vdGF0ZWRFbGVtZW50LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdLQW5ub3RhdGVkRWxlbWVudCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBLQ2FsbGFibGUoKSB7XG4gICAgfVxuICAgIEtDYWxsYWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS0NhbGxhYmxlJywgaW50ZXJmYWNlczogW0tBbm5vdGF0ZWRFbGVtZW50XX07XG4gICAgZnVuY3Rpb24gS0NsYXNzKCkge1xuICAgIH1cbiAgICBLQ2xhc3MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tDbGFzcycsIGludGVyZmFjZXM6IFtLQ2xhc3NpZmllciwgS0Fubm90YXRlZEVsZW1lbnQsIEtEZWNsYXJhdGlvbkNvbnRhaW5lcl19O1xuICAgIGZ1bmN0aW9uIEtDbGFzc2lmaWVyKCkge1xuICAgIH1cbiAgICBLQ2xhc3NpZmllci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS0NsYXNzaWZpZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gS0RlY2xhcmF0aW9uQ29udGFpbmVyKCkge1xuICAgIH1cbiAgICBLRGVjbGFyYXRpb25Db250YWluZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tEZWNsYXJhdGlvbkNvbnRhaW5lcicsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBLRnVuY3Rpb24oKSB7XG4gICAgfVxuICAgIEtGdW5jdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS0Z1bmN0aW9uJywgaW50ZXJmYWNlczogW0Z1bmN0aW9uXzAsIEtDYWxsYWJsZV19O1xuICAgIHZhciBLUGFyYW1ldGVyJEtpbmQkSU5TVEFOQ0VfaW5zdGFuY2U7XG4gICAgdmFyIEtQYXJhbWV0ZXIkS2luZCRFWFRFTlNJT05fUkVDRUlWRVJfaW5zdGFuY2U7XG4gICAgdmFyIEtQYXJhbWV0ZXIkS2luZCRWQUxVRV9pbnN0YW5jZTtcbiAgICBmdW5jdGlvbiBLUHJvcGVydHkoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEtQcm9wZXJ0eSRBY2Nlc3NvcigpIHtcbiAgICB9XG4gICAgS1Byb3BlcnR5JEFjY2Vzc29yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdBY2Nlc3NvcicsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBLUHJvcGVydHkkR2V0dGVyKCkge1xuICAgIH1cbiAgICBLUHJvcGVydHkkR2V0dGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdHZXR0ZXInLCBpbnRlcmZhY2VzOiBbS0Z1bmN0aW9uLCBLUHJvcGVydHkkQWNjZXNzb3JdfTtcbiAgICBLUHJvcGVydHkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tQcm9wZXJ0eScsIGludGVyZmFjZXM6IFtLQ2FsbGFibGVdfTtcbiAgICBmdW5jdGlvbiBLTXV0YWJsZVByb3BlcnR5KCkge1xuICAgIH1cbiAgICBmdW5jdGlvbiBLTXV0YWJsZVByb3BlcnR5JFNldHRlcigpIHtcbiAgICB9XG4gICAgS011dGFibGVQcm9wZXJ0eSRTZXR0ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1NldHRlcicsIGludGVyZmFjZXM6IFtLRnVuY3Rpb24sIEtQcm9wZXJ0eSRBY2Nlc3Nvcl19O1xuICAgIEtNdXRhYmxlUHJvcGVydHkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tNdXRhYmxlUHJvcGVydHknLCBpbnRlcmZhY2VzOiBbS1Byb3BlcnR5XX07XG4gICAgZnVuY3Rpb24gS1Byb3BlcnR5MCgpIHtcbiAgICB9XG4gICAgZnVuY3Rpb24gS1Byb3BlcnR5MCRHZXR0ZXIoKSB7XG4gICAgfVxuICAgIEtQcm9wZXJ0eTAkR2V0dGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdHZXR0ZXInLCBpbnRlcmZhY2VzOiBbS1Byb3BlcnR5JEdldHRlcl19O1xuICAgIEtQcm9wZXJ0eTAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tQcm9wZXJ0eTAnLCBpbnRlcmZhY2VzOiBbS1Byb3BlcnR5XX07XG4gICAgZnVuY3Rpb24gS011dGFibGVQcm9wZXJ0eTAoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEtNdXRhYmxlUHJvcGVydHkwJFNldHRlcigpIHtcbiAgICB9XG4gICAgS011dGFibGVQcm9wZXJ0eTAkU2V0dGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXR0ZXInLCBpbnRlcmZhY2VzOiBbS011dGFibGVQcm9wZXJ0eSRTZXR0ZXJdfTtcbiAgICBLTXV0YWJsZVByb3BlcnR5MC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS011dGFibGVQcm9wZXJ0eTAnLCBpbnRlcmZhY2VzOiBbS011dGFibGVQcm9wZXJ0eSwgS1Byb3BlcnR5MF19O1xuICAgIGZ1bmN0aW9uIEtQcm9wZXJ0eTEoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEtQcm9wZXJ0eTEkR2V0dGVyKCkge1xuICAgIH1cbiAgICBLUHJvcGVydHkxJEdldHRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnR2V0dGVyJywgaW50ZXJmYWNlczogW0tQcm9wZXJ0eSRHZXR0ZXJdfTtcbiAgICBLUHJvcGVydHkxLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdLUHJvcGVydHkxJywgaW50ZXJmYWNlczogW0tQcm9wZXJ0eV19O1xuICAgIGZ1bmN0aW9uIEtNdXRhYmxlUHJvcGVydHkxKCkge1xuICAgIH1cbiAgICBmdW5jdGlvbiBLTXV0YWJsZVByb3BlcnR5MSRTZXR0ZXIoKSB7XG4gICAgfVxuICAgIEtNdXRhYmxlUHJvcGVydHkxJFNldHRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnU2V0dGVyJywgaW50ZXJmYWNlczogW0tNdXRhYmxlUHJvcGVydHkkU2V0dGVyXX07XG4gICAgS011dGFibGVQcm9wZXJ0eTEuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tNdXRhYmxlUHJvcGVydHkxJywgaW50ZXJmYWNlczogW0tNdXRhYmxlUHJvcGVydHksIEtQcm9wZXJ0eTFdfTtcbiAgICB2YXIgS1R5cGVQcm9qZWN0aW9uJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIEtWYXJpYW5jZSRJTlZBUklBTlRfaW5zdGFuY2U7XG4gICAgdmFyIEtWYXJpYW5jZSRJTl9pbnN0YW5jZTtcbiAgICB2YXIgS1ZhcmlhbmNlJE9VVF9pbnN0YW5jZTtcbiAgICB2YXIgS1Zpc2liaWxpdHkkUFVCTElDX2luc3RhbmNlO1xuICAgIHZhciBLVmlzaWJpbGl0eSRQUk9URUNURURfaW5zdGFuY2U7XG4gICAgdmFyIEtWaXNpYmlsaXR5JElOVEVSTkFMX2luc3RhbmNlO1xuICAgIHZhciBLVmlzaWJpbGl0eSRQUklWQVRFX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGFycikge1xuICAgICAgdGhpcy5jbG9zdXJlJGFyciA9IGNsb3N1cmUkYXJyO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFyci5sZW5ndGg7XG4gICAgfTtcbiAgICBhcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFyci5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRhcnJbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIGFycmF5SXRlcmF0b3IoYXJyYXksIHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAgICAgdmFyIGFyciA9IGFycmF5O1xuICAgICAgICByZXR1cm4gbmV3IGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnIpO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSAnQm9vbGVhbkFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnQnl0ZUFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBieXRlQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnU2hvcnRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gc2hvcnRBcnJheUl0ZXJhdG9yKGFycmF5KTtcbiAgICAgICAgICBjYXNlICdDaGFyQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIGNoYXJBcnJheUl0ZXJhdG9yKGFycmF5KTtcbiAgICAgICAgICBjYXNlICdJbnRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gaW50QXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnTG9uZ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBsb25nQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnRmxvYXRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gZmxvYXRBcnJheUl0ZXJhdG9yKGFycmF5KTtcbiAgICAgICAgICBjYXNlICdEb3VibGVBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gZG91YmxlQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgZGVmYXVsdDp0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKCdVbnN1cHBvcnRlZCB0eXBlIGFyZ3VtZW50IGZvciBhcnJheUl0ZXJhdG9yOiAnICsgdG9TdHJpbmcodHlwZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIEJvb2xlYW5JdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBib29sZWFuQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Qm9vbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQm9vbGVhbkl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gYm9vbGVhbkFycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgYm9vbGVhbkFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ5dGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIEJ5dGVJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGJ5dGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBieXRlQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Qnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGJ5dGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQnl0ZUl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gYnl0ZUFycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgYnl0ZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3J0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsKGNsb3N1cmUkYXJyYXkpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRhcnJheSA9IGNsb3N1cmUkYXJyYXk7XG4gICAgICBTaG9ydEl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG4gICAgc2hvcnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBzaG9ydEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dFNob3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRhcnJheVt0bXAkID0gdGhpcy5pbmRleCwgdGhpcy5pbmRleCA9IHRtcCQgKyAxIHwgMCwgdG1wJF07XG4gICAgICB9XG4gICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbih0aGlzLmluZGV4LnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgc2hvcnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbU2hvcnRJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIHNob3J0QXJyYXlJdGVyYXRvcihhcnJheSkge1xuICAgICAgcmV0dXJuIG5ldyBzaG9ydEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIENoYXJJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBjaGFyQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Q2hhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQ2hhckl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gY2hhckFycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgY2hhckFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGFycmF5KSB7XG4gICAgICB0aGlzLmNsb3N1cmUkYXJyYXkgPSBjbG9zdXJlJGFycmF5O1xuICAgICAgSW50SXRlcmF0b3IuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cbiAgICBpbnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBpbnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHRJbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGFycmF5W3RtcCQgPSB0aGlzLmluZGV4LCB0aGlzLmluZGV4ID0gdG1wJCArIDEgfCAwLCB0bXAkXTtcbiAgICAgIH1cbiAgICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgfTtcbiAgICBpbnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSW50SXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBpbnRBcnJheUl0ZXJhdG9yKGFycmF5KSB7XG4gICAgICByZXR1cm4gbmV3IGludEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsb2F0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsKGNsb3N1cmUkYXJyYXkpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRhcnJheSA9IGNsb3N1cmUkYXJyYXk7XG4gICAgICBGbG9hdEl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG4gICAgZmxvYXRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBmbG9hdEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dEZsb2F0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRhcnJheVt0bXAkID0gdGhpcy5pbmRleCwgdGhpcy5pbmRleCA9IHRtcCQgKyAxIHwgMCwgdG1wJF07XG4gICAgICB9XG4gICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbih0aGlzLmluZGV4LnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgZmxvYXRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbRmxvYXRJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIGZsb2F0QXJyYXlJdGVyYXRvcihhcnJheSkge1xuICAgICAgcmV0dXJuIG5ldyBmbG9hdEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvdWJsZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGFycmF5KSB7XG4gICAgICB0aGlzLmNsb3N1cmUkYXJyYXkgPSBjbG9zdXJlJGFycmF5O1xuICAgICAgRG91YmxlSXRlcmF0b3IuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cbiAgICBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHREb3VibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGFycmF5W3RtcCQgPSB0aGlzLmluZGV4LCB0aGlzLmluZGV4ID0gdG1wJCArIDEgfCAwLCB0bXAkXTtcbiAgICAgIH1cbiAgICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgfTtcbiAgICBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbRG91YmxlSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBkb3VibGVBcnJheUl0ZXJhdG9yKGFycmF5KSB7XG4gICAgICByZXR1cm4gbmV3IGRvdWJsZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvbmdBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIExvbmdJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGxvbmdBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBsb25nQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0TG9uZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGxvbmdBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbTG9uZ0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gbG9uZ0FycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgbG9uZ0FycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vV2hlbkJyYW5jaE1hdGNoZWQoKSB7XG4gICAgICB0aHJvdyBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uX2luaXQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3ViU2VxdWVuY2UoYywgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICAgIGlmICh0eXBlb2YgYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMuc3ViU2VxdWVuY2VfdnV4OWYwJChzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhcHR1cmVTdGFjayhiYXNlQ2xhc3MsIGluc3RhbmNlKSB7XG4gICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoaW5zdGFuY2UsIGdldF9qcyhLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24oaW5zdGFuY2UpKSk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gQm94ZWRDaGFyKGMpIHtcbiAgICAgIHRoaXMuYyA9IGM7XG4gICAgfVxuICAgIEJveGVkQ2hhci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgQm94ZWRDaGFyKSAmJiB0aGlzLmMgPT09IG90aGVyLmM7XG4gICAgfTtcbiAgICBCb3hlZENoYXIucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYztcbiAgICB9O1xuICAgIEJveGVkQ2hhci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh1bmJveENoYXIodGhpcy5jKSk7XG4gICAgfTtcbiAgICBCb3hlZENoYXIucHJvdG90eXBlLmNvbXBhcmVUb18xMXJiJCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIHRoaXMuYyAtIG90aGVyO1xuICAgIH07XG4gICAgQm94ZWRDaGFyLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYztcbiAgICB9O1xuICAgIEJveGVkQ2hhci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdCb3hlZENoYXInLCBpbnRlcmZhY2VzOiBbQ29tcGFyYWJsZV19O1xuICAgIGZ1bmN0aW9uIGNoYXJBcnJheU9mKCkge1xuICAgICAgdmFyIHR5cGUgPSAnQ2hhckFycmF5JztcbiAgICAgIHZhciBhcnJheSA9IG5ldyBVaW50MTZBcnJheShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgYXJyYXkuJHR5cGUkID0gdHlwZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lSW1wbChyZXN1bHRDb250aW51YXRpb24pIHtcbiAgICAgIHRoaXMucmVzdWx0Q29udGludWF0aW9uXzAgPSByZXN1bHRDb250aW51YXRpb247XG4gICAgICB0aGlzLnN0YXRlXzAgPSAwO1xuICAgICAgdGhpcy5leGNlcHRpb25TdGF0ZV8wID0gMDtcbiAgICAgIHRoaXMucmVzdWx0XzAgPSBudWxsO1xuICAgICAgdGhpcy5leGNlcHRpb25fMCA9IG51bGw7XG4gICAgICB0aGlzLmZpbmFsbHlQYXRoXzAgPSBudWxsO1xuICAgICAgdGhpcy5jb250ZXh0X2h4Y3VobCRfMCA9IHRoaXMucmVzdWx0Q29udGludWF0aW9uXzAuY29udGV4dDtcbiAgICAgIHRoaXMuaW50ZXJjZXB0ZWRfXzAgPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yb3V0aW5lSW1wbC5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dF9oeGN1aGwkXzA7XG4gICAgfX0pO1xuICAgIENvcm91dGluZUltcGwucHJvdG90eXBlLmludGVyY2VwdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgICAgdmFyIHRtcCRfMjtcbiAgICAgIGlmICgodG1wJF8xID0gdGhpcy5pbnRlcmNlcHRlZF9fMCkgIT0gbnVsbClcbiAgICAgICAgdG1wJF8yID0gdG1wJF8xO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciAkcmVjZWl2ZXIgPSAodG1wJF8wID0gKHRtcCQgPSB0aGlzLmNvbnRleHQuZ2V0X2ozcjJzbiQoQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2dldEluc3RhbmNlKCkpKSAhPSBudWxsID8gdG1wJC5pbnRlcmNlcHRDb250aW51YXRpb25fd2o4ZDgwJCh0aGlzKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB0aGlzO1xuICAgICAgICB0aGlzLmludGVyY2VwdGVkX18wID0gJHJlY2VpdmVyO1xuICAgICAgICB0bXAkXzIgPSAkcmVjZWl2ZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJF8yO1xuICAgIH07XG4gICAgQ29yb3V0aW5lSW1wbC5wcm90b3R5cGUucmVzdW1lV2l0aF90bDFncGMkID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSB7djogdGhpc307XG4gICAgICB2YXIgZ2V0T3JOdWxsJHJlc3VsdDtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHJlc3VsdC5pc0ZhaWx1cmUpIHtcbiAgICAgICAgZ2V0T3JOdWxsJHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGdldE9yTnVsbCRyZXN1bHQgPSAodG1wJCA9IHJlc3VsdC52YWx1ZSkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJyZW50UmVzdWx0ID0ge3Y6IGdldE9yTnVsbCRyZXN1bHR9O1xuICAgICAgdmFyIGN1cnJlbnRFeGNlcHRpb24gPSB7djogcmVzdWx0LmV4Y2VwdGlvbk9yTnVsbCgpfTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciAkcmVjZWl2ZXIgPSBjdXJyZW50LnY7XG4gICAgICAgIHZhciB0bXAkXzA7XG4gICAgICAgIHZhciBjb21wbGV0aW9uID0gJHJlY2VpdmVyLnJlc3VsdENvbnRpbnVhdGlvbl8wO1xuICAgICAgICBpZiAoY3VycmVudEV4Y2VwdGlvbi52ID09IG51bGwpIHtcbiAgICAgICAgICAkcmVjZWl2ZXIucmVzdWx0XzAgPSBjdXJyZW50UmVzdWx0LnY7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICRyZWNlaXZlci5zdGF0ZV8wID0gJHJlY2VpdmVyLmV4Y2VwdGlvblN0YXRlXzA7XG4gICAgICAgICAgJHJlY2VpdmVyLmV4Y2VwdGlvbl8wID0gY3VycmVudEV4Y2VwdGlvbi52O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG91dGNvbWUgPSAkcmVjZWl2ZXIuZG9SZXN1bWUoKTtcbiAgICAgICAgICBpZiAob3V0Y29tZSA9PT0gZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdXJyZW50UmVzdWx0LnYgPSBvdXRjb21lO1xuICAgICAgICAgIGN1cnJlbnRFeGNlcHRpb24udiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgIGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICBjdXJyZW50UmVzdWx0LnYgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRFeGNlcHRpb24udiA9IGV4Y2VwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAkcmVjZWl2ZXIucmVsZWFzZUludGVyY2VwdGVkXzAoKTtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoY29tcGxldGlvbiwgQ29yb3V0aW5lSW1wbCkpIHtcbiAgICAgICAgICBjdXJyZW50LnYgPSBjb21wbGV0aW9uO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgdG1wJF8xO1xuICAgICAgICAgIGlmICgodG1wJF8wID0gY3VycmVudEV4Y2VwdGlvbi52KSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb21wbGV0aW9uLnJlc3VtZVdpdGhfdGwxZ3BjJChuZXcgUmVzdWx0KGNyZWF0ZUZhaWx1cmUodG1wJF8wKSkpO1xuICAgICAgICAgICAgdG1wJF8xID0gVW5pdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRtcCRfMSA9IG51bGw7XG4gICAgICAgICAgaWYgKHRtcCRfMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21wbGV0aW9uLnJlc3VtZVdpdGhfdGwxZ3BjJChuZXcgUmVzdWx0KGN1cnJlbnRSZXN1bHQudikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIENvcm91dGluZUltcGwucHJvdG90eXBlLnJlbGVhc2VJbnRlcmNlcHRlZF8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGludGVyY2VwdGVkID0gdGhpcy5pbnRlcmNlcHRlZF9fMDtcbiAgICAgIGlmIChpbnRlcmNlcHRlZCAhPSBudWxsICYmIGludGVyY2VwdGVkICE9PSB0aGlzKSB7XG4gICAgICAgIGVuc3VyZU5vdE51bGwodGhpcy5jb250ZXh0LmdldF9qM3Iyc24kKENvbnRpbnVhdGlvbkludGVyY2VwdG9yJEtleV9nZXRJbnN0YW5jZSgpKSkucmVsZWFzZUludGVyY2VwdGVkQ29udGludWF0aW9uX2s5OGJqaCQoaW50ZXJjZXB0ZWQpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbnRlcmNlcHRlZF9fMCA9IENvbXBsZXRlZENvbnRpbnVhdGlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgQ29yb3V0aW5lSW1wbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdDb3JvdXRpbmVJbXBsJywgaW50ZXJmYWNlczogW0NvbnRpbnVhdGlvbl19O1xuICAgIGZ1bmN0aW9uIENvbXBsZXRlZENvbnRpbnVhdGlvbigpIHtcbiAgICAgIENvbXBsZXRlZENvbnRpbnVhdGlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wbGV0ZWRDb250aW51YXRpb24ucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAoJ1RoaXMgY29udGludWF0aW9uIGlzIGFscmVhZHkgY29tcGxldGUnLnRvU3RyaW5nKCkpO1xuICAgIH19KTtcbiAgICBDb21wbGV0ZWRDb250aW51YXRpb24ucHJvdG90eXBlLnJlc3VtZVdpdGhfdGwxZ3BjJCA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAoJ1RoaXMgY29udGludWF0aW9uIGlzIGFscmVhZHkgY29tcGxldGUnLnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgQ29tcGxldGVkQ29udGludWF0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnVGhpcyBjb250aW51YXRpb24gaXMgYWxyZWFkeSBjb21wbGV0ZSc7XG4gICAgfTtcbiAgICBDb21wbGV0ZWRDb250aW51YXRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBsZXRlZENvbnRpbnVhdGlvbicsIGludGVyZmFjZXM6IFtDb250aW51YXRpb25dfTtcbiAgICB2YXIgQ29tcGxldGVkQ29udGludWF0aW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDb21wbGV0ZWRDb250aW51YXRpb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoQ29tcGxldGVkQ29udGludWF0aW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBDb21wbGV0ZWRDb250aW51YXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDb21wbGV0ZWRDb250aW51YXRpb25faW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVyY2VwdGVkKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgICAgcmV0dXJuICh0bXAkXzEgPSAodG1wJF8wID0gS290bGluLmlzVHlwZSh0bXAkID0gJHJlY2VpdmVyLCBDb3JvdXRpbmVJbXBsKSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wLmludGVyY2VwdGVkKCkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8xIDogJHJlY2VpdmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsYXp5KGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gbmV3IFVuc2FmZUxhenlJbXBsKGluaXRpYWxpemVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsbEZyb20oc3JjLCBkc3QpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHNyY0xlbiA9IHNyYy5sZW5ndGg7XG4gICAgICB2YXIgZHN0TGVuID0gZHN0Lmxlbmd0aDtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB3aGlsZSAoaW5kZXggPCBzcmNMZW4gJiYgaW5kZXggPCBkc3RMZW4pIHtcbiAgICAgICAgZHN0W2luZGV4XSA9IHNyY1t0bXAkID0gaW5kZXgsIGluZGV4ID0gdG1wJCArIDEgfCAwLCB0bXAkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFycmF5Q29weVJlc2l6ZShzb3VyY2UsIG5ld1NpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgcmVzdWx0ID0gc291cmNlLnNsaWNlKDAsIG5ld1NpemUpO1xuICAgICAgaWYgKHNvdXJjZS4kdHlwZSQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQuJHR5cGUkID0gc291cmNlLiR0eXBlJDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICBpZiAobmV3U2l6ZSA+IGluZGV4KSB7XG4gICAgICAgIHJlc3VsdC5sZW5ndGggPSBuZXdTaXplO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBuZXdTaXplKSB7XG4gICAgICAgICAgcmVzdWx0W3RtcCQgPSBpbmRleCwgaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc0xpc3QoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5TGlzdCgkcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5T2ZfMjIoJHJlY2VpdmVyLCBuZXdTaXplKSB7XG4gICAgICBpZiAoIShuZXdTaXplID49IDApKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0ludmFsaWQgbmV3IGFycmF5IHNpemU6ICcgKyBuZXdTaXplICsgJy4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9ICdCb29sZWFuQXJyYXknO1xuICAgICAgdmFyIGFycmF5ID0gYXJyYXlDb3B5UmVzaXplKCRyZWNlaXZlciwgbmV3U2l6ZSwgZmFsc2UpO1xuICAgICAgYXJyYXkuJHR5cGUkID0gdHlwZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weU9mXzIzKCRyZWNlaXZlciwgbmV3U2l6ZSkge1xuICAgICAgaWYgKCEobmV3U2l6ZSA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdJbnZhbGlkIG5ldyBhcnJheSBzaXplOiAnICsgbmV3U2l6ZSArICcuJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSAnQ2hhckFycmF5JztcbiAgICAgIHZhciBhcnJheSA9IGZpbGxGcm9tKCRyZWNlaXZlciwgS290bGluLmNoYXJBcnJheShuZXdTaXplKSk7XG4gICAgICBhcnJheS4kdHlwZSQgPSB0eXBlO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5T2ZSYW5nZV8zKCRyZWNlaXZlciwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tSYW5nZUluZGV4ZXNfY3ViNTFiJChmcm9tSW5kZXgsIHRvSW5kZXgsICRyZWNlaXZlci5sZW5ndGgpO1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5zbGljZShmcm9tSW5kZXgsIHRvSW5kZXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wYXJhdG9yKCkge1xuICAgIH1cbiAgICBDb21wYXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb21wYXJhdG9yJywgaW50ZXJmYWNlczogW119O1xuICAgIGZ1bmN0aW9uIGNvcHlUb0FycmF5KGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uLnRvQXJyYXkgIT09IHVuZGVmaW5lZCA/IGNvbGxlY3Rpb24udG9BcnJheSgpIDogY29weVRvQXJyYXlJbXBsKGNvbGxlY3Rpb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5VG9BcnJheUltcGwoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKVxuICAgICAgICBhcnJheS5wdXNoKGl0ZXJhdG9yLm5leHQoKSk7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlUb0FycmF5SW1wbF8wKGNvbGxlY3Rpb24sIGFycmF5KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmIChhcnJheS5sZW5ndGggPCBjb2xsZWN0aW9uLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGNvcHlUb0FycmF5SW1wbChjb2xsZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uaXRlcmF0b3IoKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICAgIGFycmF5W3RtcCQgPSBpbmRleCwgaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgICAgaWYgKGluZGV4IDwgYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RPZihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gYXJyYXlMaXN0T2ZfMChbZWxlbWVudF0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRPZihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gaGFzaFNldE9mXzAoW2VsZW1lbnRdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJbmRleE92ZXJmbG93KGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHRocm93SW5kZXhPdmVyZmxvdygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uKCkge1xuICAgICAgQWJzdHJhY3RDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICAgIGlmIChlcXVhbHMoaXRlcmF0b3IubmV4dCgpLCBlbGVtZW50KSkge1xuICAgICAgICAgIGl0ZXJhdG9yLnJlbW92ZSgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgbW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgIHRtcCQgPSBlbGVtZW50cy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGlmICh0aGlzLmFkZF8xMXJiJChlbGVtZW50KSlcbiAgICAgICAgICBtb2RpZmllZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbW9kaWZpZWQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uJHJlbW92ZUFsbCRsYW1iZGEoY2xvc3VyZSRlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgICByZXR1cm4gY2xvc3VyZSRlbGVtZW50cy5jb250YWluc18xMXJiJChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVBbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gcmVtb3ZlQWxsXzAoS290bGluLmlzVHlwZSh0bXAkID0gdGhpcywgTXV0YWJsZUl0ZXJhYmxlKSA/IHRtcCQgOiB0aHJvd0NDRV8wKCksIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24kcmVtb3ZlQWxsJGxhbWJkYShlbGVtZW50cykpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbiRyZXRhaW5BbGwkbGFtYmRhKGNsb3N1cmUkZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgcmV0dXJuICFjbG9zdXJlJGVsZW1lbnRzLmNvbnRhaW5zXzExcmIkKGl0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJldGFpbkFsbF9icnl3bnEkID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiByZW1vdmVBbGxfMChLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLCBNdXRhYmxlSXRlcmFibGUpID8gdG1wJCA6IHRocm93Q0NFXzAoKSwgQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbiRyZXRhaW5BbGwkbGFtYmRhKGVsZW1lbnRzKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlIChpdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpdGVyYXRvci5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbicsIGludGVyZmFjZXM6IFtNdXRhYmxlQ29sbGVjdGlvbiwgQWJzdHJhY3RDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTGlzdCgpIHtcbiAgICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMubW9kQ291bnQgPSAwO1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5hZGRfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdGhpcy5hZGRfd3htNXVyJCh0aGlzLnNpemUsIGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5hZGRBbGxfdTU3eDI4JCA9IGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudHMpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICB2YXIgX2luZGV4ID0gaW5kZXg7XG4gICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdG1wJCA9IGVsZW1lbnRzLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGUgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgdGhpcy5hZGRfd3htNXVyJCgodG1wJF8wID0gX2luZGV4LCBfaW5kZXggPSB0bXAkXzAgKyAxIHwgMCwgdG1wJF8wKSwgZSk7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVtb3ZlUmFuZ2VfdnV4OWYwJCgwLCB0aGlzLnNpemUpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTGlzdCRyZW1vdmVBbGwkbGFtYmRhKGNsb3N1cmUkZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgcmV0dXJuIGNsb3N1cmUkZWxlbWVudHMuY29udGFpbnNfMTFyYiQoaXQpO1xuICAgICAgfTtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUucmVtb3ZlQWxsX2JyeXducSQgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiByZW1vdmVBbGxfMSh0aGlzLCBBYnN0cmFjdE11dGFibGVMaXN0JHJlbW92ZUFsbCRsYW1iZGEoZWxlbWVudHMpKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZUxpc3QkcmV0YWluQWxsJGxhbWJkYShjbG9zdXJlJGVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiAhY2xvc3VyZSRlbGVtZW50cy5jb250YWluc18xMXJiJChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5yZXRhaW5BbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIHJlbW92ZUFsbF8xKHRoaXMsIEFic3RyYWN0TXV0YWJsZUxpc3QkcmV0YWluQWxsJGxhbWJkYShlbGVtZW50cykpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZl8xMXJiJChlbGVtZW50KSA+PSAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUuaW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBnZXRfbGFzdEluZGV4XzEyKHRoaXMpO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8PSB0bXAkOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChlcXVhbHModGhpcy5nZXRfemEzbHBhJChpbmRleCksIGVsZW1lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5sYXN0SW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IGdldF9sYXN0SW5kZXhfMTIodGhpcyk7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgaWYgKGVxdWFscyh0aGlzLmdldF96YTNscGEkKGluZGV4KSwgZWxlbWVudCkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLmxpc3RJdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RJdGVyYXRvcl96YTNscGEkKDApO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUubGlzdEl0ZXJhdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsKHRoaXMsIGluZGV4KTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLnN1Ykxpc3RfdnV4OWYwJCA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RNdXRhYmxlTGlzdCRTdWJMaXN0KHRoaXMsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5yZW1vdmVSYW5nZV92dXg5ZjAkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5saXN0SXRlcmF0b3JfemEzbHBhJChmcm9tSW5kZXgpO1xuICAgICAgdmFyIHRpbWVzID0gdG9JbmRleCAtIGZyb21JbmRleCB8IDA7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGltZXM7IGluZGV4KyspIHtcbiAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpdGVyYXRvci5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgaWYgKG90aGVyID09PSB0aGlzKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICghS290bGluLmlzVHlwZShvdGhlciwgTGlzdCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkub3JkZXJlZEVxdWFsc19lOTJrYTckKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5vcmRlcmVkSGFzaENvZGVfbnlrb2lmJCh0aGlzKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsKCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICB0aGlzLmluZGV4XzAgPSAwO1xuICAgICAgdGhpcy5sYXN0XzAgPSAtMTtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRJdGVyYXRvckltcGwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wIDwgdGhpcy4kb3V0ZXIuc2l6ZTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoIXRoaXMuaGFzTmV4dCgpKVxuICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgIHRoaXMubGFzdF8wID0gKHRtcCQgPSB0aGlzLmluZGV4XzAsIHRoaXMuaW5kZXhfMCA9IHRtcCQgKyAxIHwgMCwgdG1wJCk7XG4gICAgICByZXR1cm4gdGhpcy4kb3V0ZXIuZ2V0X3phM2xwYSQodGhpcy5sYXN0XzApO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRJdGVyYXRvckltcGwucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghKHRoaXMubGFzdF8wICE9PSAtMSkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2FsbCBuZXh0KCkgb3IgcHJldmlvdXMoKSBiZWZvcmUgcmVtb3ZpbmcgZWxlbWVudCBmcm9tIHRoZSBpdGVyYXRvci4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB0aGlzLiRvdXRlci5yZW1vdmVBdF96YTNscGEkKHRoaXMubGFzdF8wKTtcbiAgICAgIHRoaXMuaW5kZXhfMCA9IHRoaXMubGFzdF8wO1xuICAgICAgdGhpcy5sYXN0XzAgPSAtMTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0l0ZXJhdG9ySW1wbCcsIGludGVyZmFjZXM6IFtNdXRhYmxlSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVMaXN0JExpc3RJdGVyYXRvckltcGwoJG91dGVyLCBpbmRleCkge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICBBYnN0cmFjdE11dGFibGVMaXN0JEl0ZXJhdG9ySW1wbC5jYWxsKHRoaXMsIHRoaXMuJG91dGVyKTtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja1Bvc2l0aW9uSW5kZXhfNnh2bTVyJChpbmRleCwgdGhpcy4kb3V0ZXIuc2l6ZSk7XG4gICAgICB0aGlzLmluZGV4XzAgPSBpbmRleDtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5oYXNQcmV2aW91cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgPiAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5wcmV2aW91cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNQcmV2aW91cygpKVxuICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgIHRoaXMubGFzdF8wID0gKHRoaXMuaW5kZXhfMCA9IHRoaXMuaW5kZXhfMCAtIDEgfCAwLCB0aGlzLmluZGV4XzApO1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLmdldF96YTNscGEkKHRoaXMubGFzdF8wKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUucHJldmlvdXNJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgLSAxIHwgMDtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUuYWRkXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuJG91dGVyLmFkZF93eG01dXIkKHRoaXMuaW5kZXhfMCwgZWxlbWVudCk7XG4gICAgICB0aGlzLmluZGV4XzAgPSB0aGlzLmluZGV4XzAgKyAxIHwgMDtcbiAgICAgIHRoaXMubGFzdF8wID0gLTE7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JExpc3RJdGVyYXRvckltcGwucHJvdG90eXBlLnNldF8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAoISh0aGlzLmxhc3RfMCAhPT0gLTEpKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0NhbGwgbmV4dCgpIG9yIHByZXZpb3VzKCkgYmVmb3JlIHVwZGF0aW5nIGVsZW1lbnQgdmFsdWUgd2l0aCB0aGUgaXRlcmF0b3IuJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy4kb3V0ZXIuc2V0X3d4bTV1ciQodGhpcy5sYXN0XzAsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpc3RJdGVyYXRvckltcGwnLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUxpc3RJdGVyYXRvciwgQWJzdHJhY3RNdXRhYmxlTGlzdCRJdGVyYXRvckltcGxdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QobGlzdCwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICBBYnN0cmFjdE11dGFibGVMaXN0LmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmxpc3RfMCA9IGxpc3Q7XG4gICAgICB0aGlzLmZyb21JbmRleF8wID0gZnJvbUluZGV4O1xuICAgICAgdGhpcy5fc2l6ZV8wID0gMDtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja1JhbmdlSW5kZXhlc19jdWI1MWIkKHRoaXMuZnJvbUluZGV4XzAsIHRvSW5kZXgsIHRoaXMubGlzdF8wLnNpemUpO1xuICAgICAgdGhpcy5fc2l6ZV8wID0gdG9JbmRleCAtIHRoaXMuZnJvbUluZGV4XzAgfCAwO1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLmFkZF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tQb3NpdGlvbkluZGV4XzZ4dm01ciQoaW5kZXgsIHRoaXMuX3NpemVfMCk7XG4gICAgICB0aGlzLmxpc3RfMC5hZGRfd3htNXVyJCh0aGlzLmZyb21JbmRleF8wICsgaW5kZXggfCAwLCBlbGVtZW50KTtcbiAgICAgIHRoaXMuX3NpemVfMCA9IHRoaXMuX3NpemVfMCArIDEgfCAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRTdWJMaXN0LnByb3RvdHlwZS5nZXRfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmNoZWNrRWxlbWVudEluZGV4XzZ4dm01ciQoaW5kZXgsIHRoaXMuX3NpemVfMCk7XG4gICAgICByZXR1cm4gdGhpcy5saXN0XzAuZ2V0X3phM2xwYSQodGhpcy5mcm9tSW5kZXhfMCArIGluZGV4IHwgMCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLnJlbW92ZUF0X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja0VsZW1lbnRJbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLl9zaXplXzApO1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubGlzdF8wLnJlbW92ZUF0X3phM2xwYSQodGhpcy5mcm9tSW5kZXhfMCArIGluZGV4IHwgMCk7XG4gICAgICB0aGlzLl9zaXplXzAgPSB0aGlzLl9zaXplXzAgLSAxIHwgMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLnNldF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tFbGVtZW50SW5kZXhfNnh2bTVyJChpbmRleCwgdGhpcy5fc2l6ZV8wKTtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RfMC5zZXRfd3htNXVyJCh0aGlzLmZyb21JbmRleF8wICsgaW5kZXggfCAwLCBlbGVtZW50KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaXplXzA7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkU3ViTGlzdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTdWJMaXN0JywgaW50ZXJmYWNlczogW1JhbmRvbUFjY2VzcywgQWJzdHJhY3RNdXRhYmxlTGlzdF19O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RNdXRhYmxlTGlzdCcsIGludGVyZmFjZXM6IFtNdXRhYmxlTGlzdCwgQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCgpIHtcbiAgICAgIEFic3RyYWN0TWFwLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLl9rZXlzX3FlMm0wbiRfMCA9IG51bGw7XG4gICAgICB0aGlzLl92YWx1ZXNfa3hkbHFoJF8wID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTWFwJFNpbXBsZUVudHJ5KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMua2V5XzV4aHEzZCRfMCA9IGtleTtcbiAgICAgIHRoaXMuX3ZhbHVlXzAgPSB2YWx1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5wcm90b3R5cGUsICdrZXknLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5rZXlfNXhocTNkJF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNdXRhYmxlTWFwJFNpbXBsZUVudHJ5LnByb3RvdHlwZSwgJ3ZhbHVlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlXzA7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5wcm90b3R5cGUuc2V0VmFsdWVfMTFyYyQgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMuX3ZhbHVlXzA7XG4gICAgICB0aGlzLl92YWx1ZV8wID0gbmV3VmFsdWU7XG4gICAgICByZXR1cm4gb2xkVmFsdWU7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEFic3RyYWN0TWFwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmVudHJ5SGFzaENvZGVfOWZ0aGRuJCh0aGlzKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gQWJzdHJhY3RNYXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZW50cnlUb1N0cmluZ185ZnRoZG4kKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJFNpbXBsZUVudHJ5LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBBYnN0cmFjdE1hcCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5lbnRyeUVxdWFsc19qczdmb3gkKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTaW1wbGVFbnRyeScsIGludGVyZmFjZXM6IFtNdXRhYmxlTWFwJE11dGFibGVFbnRyeV19O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCRBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnlfaW5pdChlbnRyeSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkucHJvdG90eXBlKTtcbiAgICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5jYWxsKCR0aGlzLCBlbnRyeS5rZXksIGVudHJ5LnZhbHVlKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZW50cmllcy5jbGVhcigpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsKHRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwKSB7XG4gICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwID0gdGhpcyRBYnN0cmFjdE11dGFibGVNYXA7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5hZGRfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdGhyb3cgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKCdBZGQgaXMgbm90IHN1cHBvcnRlZCBvbiBrZXlzJyk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jbGVhcigpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb250YWluc18xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jb250YWluc0tleV8xMXJiJChlbGVtZW50KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsKGNsb3N1cmUkZW50cnlJdGVyYXRvcikge1xuICAgICAgdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IgPSBjbG9zdXJlJGVudHJ5SXRlcmF0b3I7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLmhhc05leHQoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLm5leHQoKS5rZXk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IucmVtb3ZlKCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtNdXRhYmxlSXRlcmF0b3JdfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVudHJ5SXRlcmF0b3IgPSB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoZW50cnlJdGVyYXRvcik7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jb250YWluc0tleV8xMXJiJChlbGVtZW50KSkge1xuICAgICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwLnJlbW92ZV8xMXJiJChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5zaXplO1xuICAgIH19KTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlU2V0XX07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TXV0YWJsZU1hcC5wcm90b3R5cGUsICdrZXlzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuX2tleXNfcWUybTBuJF8wID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fa2V5c19xZTJtMG4kXzAgPSBuZXcgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fa2V5c19xZTJtMG4kXzApO1xuICAgIH19KTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlLnB1dEFsbF9hMmszenIkID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9IGZyb20uZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciB0bXAkXzAgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgdmFyIGtleSA9IHRtcCRfMC5rZXk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRtcCRfMC52YWx1ZTtcbiAgICAgICAgdGhpcy5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwKSB7XG4gICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwID0gdGhpcyRBYnN0cmFjdE11dGFibGVNYXA7XG4gICAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5hZGRfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdGhyb3cgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKCdBZGQgaXMgbm90IHN1cHBvcnRlZCBvbiB2YWx1ZXMnKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudGhpcyRBYnN0cmFjdE11dGFibGVNYXAuY2xlYXIoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb250YWluc18xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jb250YWluc1ZhbHVlXzExcmMkKGVsZW1lbnQpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGVudHJ5SXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yID0gY2xvc3VyZSRlbnRyeUl0ZXJhdG9yO1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLmhhc05leHQoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IubmV4dCgpLnZhbHVlO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IucmVtb3ZlKCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW011dGFibGVJdGVyYXRvcl19O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlbnRyeUl0ZXJhdG9yID0gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoZW50cnlJdGVyYXRvcik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwLnNpemU7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIGlmICh0aGlzID09PSBvdGhlcilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIENvbGxlY3Rpb24pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLm9yZGVyZWRFcXVhbHNfZTkya2E3JCh0aGlzLCBvdGhlcik7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLm9yZGVyZWRIYXNoQ29kZV9ueWtvaWYkKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbl19O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlLCAndmFsdWVzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuX3ZhbHVlc19reGRscWgkXzAgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl92YWx1ZXNfa3hkbHFoJF8wID0gbmV3IEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fdmFsdWVzX2t4ZGxxaCRfMCk7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlXzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGl0ZXIgPSB0aGlzLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlIChpdGVyLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZW50cnkgPSBpdGVyLm5leHQoKTtcbiAgICAgICAgdmFyIGsgPSBlbnRyeS5rZXk7XG4gICAgICAgIGlmIChlcXVhbHMoa2V5LCBrKSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5LnZhbHVlO1xuICAgICAgICAgIGl0ZXIucmVtb3ZlKCk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBYnN0cmFjdE11dGFibGVNYXAnLCBpbnRlcmZhY2VzOiBbTXV0YWJsZU1hcCwgQWJzdHJhY3RNYXBdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVTZXQoKSB7XG4gICAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZVNldC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT09IHRoaXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBTZXQpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2V0RXF1YWxzX3k4ZjdlbiQodGhpcywgb3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlU2V0LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBBYnN0cmFjdFNldCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS51bm9yZGVyZWRIYXNoQ29kZV9ueWtvaWYkKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlU2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0Fic3RyYWN0TXV0YWJsZVNldCcsIGludGVyZmFjZXM6IFtNdXRhYmxlU2V0LCBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gQXJyYXlMaXN0KGFycmF5KSB7XG4gICAgICBBYnN0cmFjdE11dGFibGVMaXN0LmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmFycmF5X2hkN292NiRfMCA9IGFycmF5O1xuICAgIH1cbiAgICBBcnJheUxpc3QucHJvdG90eXBlLnRyaW1Ub1NpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmVuc3VyZUNhcGFjaXR5X3phM2xwYSQgPSBmdW5jdGlvbiAobWluQ2FwYWNpdHkpIHtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheUxpc3QucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFycmF5X2hkN292NiRfMC5sZW5ndGg7XG4gICAgfX0pO1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUuZ2V0X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgcmV0dXJuICh0bXAkID0gdGhpcy5hcnJheV9oZDdvdjYkXzBbdGhpcy5yYW5nZUNoZWNrX3hjbWs1byRfMChpbmRleCldKSA9PSBudWxsIHx8IEtvdGxpbi5pc1R5cGUodG1wJCwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCk7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLnNldF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRoaXMucmFuZ2VDaGVja194Y21rNW8kXzAoaW5kZXgpO1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuYXJyYXlfaGQ3b3Y2JF8wW2luZGV4XTtcbiAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSAkcmVjZWl2ZXIpID09IG51bGwgfHwgS290bGluLmlzVHlwZSh0bXAkLCBBbnkpID8gdG1wJCA6IHRocm93Q0NFXzAoKTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUuYWRkXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wLnB1c2goZWxlbWVudCk7XG4gICAgICB0aGlzLm1vZENvdW50ID0gdGhpcy5tb2RDb3VudCArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmFkZF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UodGhpcy5pbnNlcnRpb25SYW5nZUNoZWNrX3h3aXZmbCRfMChpbmRleCksIDAsIGVsZW1lbnQpO1xuICAgICAgdGhpcy5tb2RDb3VudCA9IHRoaXMubW9kQ291bnQgKyAxIHwgMDtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUuYWRkQWxsX2JyeXducSQgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgIGlmIChlbGVtZW50cy5pc0VtcHR5KCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wID0gdGhpcy5hcnJheV9oZDdvdjYkXzAuY29uY2F0KGNvcHlUb0FycmF5KGVsZW1lbnRzKSk7XG4gICAgICB0aGlzLm1vZENvdW50ID0gdGhpcy5tb2RDb3VudCArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmFkZEFsbF91NTd4MjgkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50cykge1xuICAgICAgdGhpcy5pbnNlcnRpb25SYW5nZUNoZWNrX3h3aXZmbCRfMChpbmRleCk7XG4gICAgICBpZiAoaW5kZXggPT09IHRoaXMuc2l6ZSlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQWxsX2JyeXducSQoZWxlbWVudHMpO1xuICAgICAgaWYgKGVsZW1lbnRzLmlzRW1wdHkoKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGluZGV4ID09PSB0aGlzLnNpemUpXG4gICAgICAgIHJldHVybiB0aGlzLmFkZEFsbF9icnl3bnEkKGVsZW1lbnRzKTtcbiAgICAgIGVsc2UgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wID0gY29weVRvQXJyYXkoZWxlbWVudHMpLmNvbmNhdCh0aGlzLmFycmF5X2hkN292NiRfMCk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wID0gY29weU9mUmFuZ2VfMyh0aGlzLmFycmF5X2hkN292NiRfMCwgMCwgaW5kZXgpLmNvbmNhdChjb3B5VG9BcnJheShlbGVtZW50cyksIGNvcHlPZlJhbmdlXzModGhpcy5hcnJheV9oZDdvdjYkXzAsIGluZGV4LCB0aGlzLnNpemUpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUucmVtb3ZlQXRfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdGhpcy5yYW5nZUNoZWNrX3hjbWs1byRfMChpbmRleCk7XG4gICAgICB0aGlzLm1vZENvdW50ID0gdGhpcy5tb2RDb3VudCArIDEgfCAwO1xuICAgICAgcmV0dXJuIGluZGV4ID09PSBnZXRfbGFzdEluZGV4XzEyKHRoaXMpID8gdGhpcy5hcnJheV9oZDdvdjYkXzAucG9wKCkgOiB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS5yZW1vdmVfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gdGhpcy5hcnJheV9oZDdvdjYkXzA7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4ICE9PSB0bXAkLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICBpZiAoZXF1YWxzKHRoaXMuYXJyYXlfaGQ3b3Y2JF8wW2luZGV4XSwgZWxlbWVudCkpIHtcbiAgICAgICAgICB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUucmVtb3ZlUmFuZ2VfdnV4OWYwJCA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgICB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UoZnJvbUluZGV4LCB0b0luZGV4IC0gZnJvbUluZGV4IHwgMCk7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5hcnJheV9oZDdvdjYkXzAgPSBbXTtcbiAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmluZGV4T2ZfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGluZGV4T2YodGhpcy5hcnJheV9oZDdvdjYkXzAsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS5sYXN0SW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gbGFzdEluZGV4T2YodGhpcy5hcnJheV9oZDdvdjYkXzAsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhcnJheVRvU3RyaW5nKHRoaXMuYXJyYXlfaGQ3b3Y2JF8wKTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHRoaXMuYXJyYXlfaGQ3b3Y2JF8wKTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUucmFuZ2VDaGVja194Y21rNW8kXzAgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja0VsZW1lbnRJbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS5pbnNlcnRpb25SYW5nZUNoZWNrX3h3aXZmbCRfMCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmNoZWNrUG9zaXRpb25JbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgQXJyYXlMaXN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0FycmF5TGlzdCcsIGludGVyZmFjZXM6IFtSYW5kb21BY2Nlc3MsIEFic3RyYWN0TXV0YWJsZUxpc3QsIE11dGFibGVMaXN0XX07XG4gICAgZnVuY3Rpb24gQXJyYXlMaXN0X2luaXQoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShBcnJheUxpc3QucHJvdG90eXBlKTtcbiAgICAgIEFycmF5TGlzdC5jYWxsKCR0aGlzLCBbXSk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEFycmF5TGlzdF9pbml0XzAoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgaWYgKGluaXRpYWxDYXBhY2l0eSA9PT0gdm9pZCAwKVxuICAgICAgICBpbml0aWFsQ2FwYWNpdHkgPSAwO1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEFycmF5TGlzdC5wcm90b3R5cGUpO1xuICAgICAgQXJyYXlMaXN0LmNhbGwoJHRoaXMsIFtdKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gQXJyYXlMaXN0X2luaXRfMShlbGVtZW50cywgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShBcnJheUxpc3QucHJvdG90eXBlKTtcbiAgICAgIEFycmF5TGlzdC5jYWxsKCR0aGlzLCBjb3B5VG9BcnJheShlbGVtZW50cykpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICB2YXIgX3N0YWJsZVNvcnRpbmdJc1N1cHBvcnRlZDtcbiAgICBmdW5jdGlvbiBFcXVhbGl0eUNvbXBhcmF0b3IoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZSgpIHtcbiAgICAgIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZS5wcm90b3R5cGUuZXF1YWxzX29hZnRuOCQgPSBmdW5jdGlvbiAodmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgIHJldHVybiBlcXVhbHModmFsdWUxLCB2YWx1ZTIpO1xuICAgIH07XG4gICAgRXF1YWxpdHlDb21wYXJhdG9yJEhhc2hDb2RlLnByb3RvdHlwZS5nZXRIYXNoQ29kZV9zOGp5djQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHZhbHVlICE9IG51bGwgPyBoYXNoQ29kZSh2YWx1ZSkgOiBudWxsKSAhPSBudWxsID8gdG1wJCA6IDA7XG4gICAgfTtcbiAgICBFcXVhbGl0eUNvbXBhcmF0b3IkSGFzaENvZGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0hhc2hDb2RlJywgaW50ZXJmYWNlczogW0VxdWFsaXR5Q29tcGFyYXRvcl19O1xuICAgIHZhciBFcXVhbGl0eUNvbXBhcmF0b3IkSGFzaENvZGVfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChFcXVhbGl0eUNvbXBhcmF0b3IkSGFzaENvZGVfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9pbnN0YW5jZTtcbiAgICB9XG4gICAgRXF1YWxpdHlDb21wYXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdFcXVhbGl0eUNvbXBhcmF0b3InLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gSGFzaE1hcCgpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wID0gbnVsbDtcbiAgICAgIHRoaXMuZXF1YWxpdHlfdmdoNmNtJF8wID0gbnVsbDtcbiAgICAgIHRoaXMuX2VudHJpZXNfN2loODd4JF8wID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaE1hcCRFbnRyeVNldCgkb3V0ZXIpIHtcbiAgICAgIHRoaXMuJG91dGVyID0gJG91dGVyO1xuICAgICAgQWJzdHJhY3RNdXRhYmxlU2V0LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmFkZF8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB0aHJvdyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl9pbml0XzAoJ0FkZCBpcyBub3Qgc3VwcG9ydGVkIG9uIGVudHJpZXMnKTtcbiAgICB9O1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kb3V0ZXIuY2xlYXIoKTtcbiAgICB9O1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLiRvdXRlci5jb250YWluc0VudHJ5XzhoeHF3NCQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRvdXRlci5pbnRlcm5hbE1hcF91eGhlbjUkXzAuaXRlcmF0b3IoKTtcbiAgICB9O1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5jb250YWluc18xMXJiJChlbGVtZW50KSkge1xuICAgICAgICB0aGlzLiRvdXRlci5yZW1vdmVfMTFyYiQoZWxlbWVudC5rZXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kb3V0ZXIuc2l6ZTtcbiAgICB9fSk7XG4gICAgSGFzaE1hcCRFbnRyeVNldC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdFbnRyeVNldCcsIGludGVyZmFjZXM6IFtBYnN0cmFjdE11dGFibGVTZXRdfTtcbiAgICBIYXNoTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wLmNsZWFyKCk7XG4gICAgfTtcbiAgICBIYXNoTWFwLnByb3RvdHlwZS5jb250YWluc0tleV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5jb250YWluc18xMXJiJChrZXkpO1xuICAgIH07XG4gICAgSGFzaE1hcC5wcm90b3R5cGUuY29udGFpbnNWYWx1ZV8xMXJjJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wO1xuICAgICAgdmFyIGFueSRyZXN1bHQ7XG4gICAgICBhbnkkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgQ29sbGVjdGlvbikgJiYgJHJlY2VpdmVyLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFueSRyZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhayBhbnkkYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdG1wJCA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgICAgIGlmICh0aGlzLmVxdWFsaXR5X3ZnaDZjbSRfMC5lcXVhbHNfb2FmdG44JChlbGVtZW50LnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIGFueSRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbnkkcmVzdWx0O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhhc2hNYXAucHJvdG90eXBlLCAnZW50cmllcycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLl9lbnRyaWVzXzdpaDg3eCRfMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXNfN2loODd4JF8wID0gdGhpcy5jcmVhdGVFbnRyeVNldCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fZW50cmllc183aWg4N3gkXzApO1xuICAgIH19KTtcbiAgICBIYXNoTWFwLnByb3RvdHlwZS5jcmVhdGVFbnRyeVNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgSGFzaE1hcCRFbnRyeVNldCh0aGlzKTtcbiAgICB9O1xuICAgIEhhc2hNYXAucHJvdG90eXBlLmdldF8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5nZXRfMTFyYiQoa2V5KTtcbiAgICB9O1xuICAgIEhhc2hNYXAucHJvdG90eXBlLnB1dF94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIEhhc2hNYXAucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5yZW1vdmVfMTFyYiQoa2V5KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIYXNoTWFwLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1hcF91eGhlbjUkXzAuc2l6ZTtcbiAgICB9fSk7XG4gICAgSGFzaE1hcC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdIYXNoTWFwJywgaW50ZXJmYWNlczogW0Fic3RyYWN0TXV0YWJsZU1hcCwgTXV0YWJsZU1hcF19O1xuICAgIGZ1bmN0aW9uIEhhc2hNYXBfaW5pdChpbnRlcm5hbE1hcCwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBBYnN0cmFjdE11dGFibGVNYXAuY2FsbCgkdGhpcyk7XG4gICAgICBIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wID0gaW50ZXJuYWxNYXA7XG4gICAgICAkdGhpcy5lcXVhbGl0eV92Z2g2Y20kXzAgPSBpbnRlcm5hbE1hcC5lcXVhbGl0eTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaE1hcF9pbml0XzAoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBIYXNoTWFwX2luaXQobmV3IEludGVybmFsSGFzaENvZGVNYXAoRXF1YWxpdHlDb21wYXJhdG9yJEhhc2hDb2RlX2dldEluc3RhbmNlKCkpLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhhc2hNYXBfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgbG9hZEZhY3RvciwgJHRoaXMpIHtcbiAgICAgIGlmIChsb2FkRmFjdG9yID09PSB2b2lkIDApXG4gICAgICAgIGxvYWRGYWN0b3IgPSAwLjA7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSGFzaE1hcC5wcm90b3R5cGUpO1xuICAgICAgSGFzaE1hcF9pbml0XzAoJHRoaXMpO1xuICAgICAgaWYgKCEoaW5pdGlhbENhcGFjaXR5ID49IDApKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ05lZ2F0aXZlIGluaXRpYWwgY2FwYWNpdHk6ICcgKyBpbml0aWFsQ2FwYWNpdHk7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGxvYWRGYWN0b3IgPj0gMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VfMCA9ICdOb24tcG9zaXRpdmUgbG9hZCBmYWN0b3I6ICcgKyBsb2FkRmFjdG9yO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaE1hcF9pbml0XzIoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hNYXAucHJvdG90eXBlKTtcbiAgICAgIEhhc2hNYXBfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgMC4wLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhhc2hNYXBfaW5pdF8zKG9yaWdpbmFsLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hNYXAucHJvdG90eXBlKTtcbiAgICAgIEhhc2hNYXBfaW5pdF8wKCR0aGlzKTtcbiAgICAgICR0aGlzLnB1dEFsbF9hMmszenIkKG9yaWdpbmFsKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaFNldCgpIHtcbiAgICAgIHRoaXMubWFwX2VvdDY0aSRfMCA9IG51bGw7XG4gICAgfVxuICAgIEhhc2hTZXQucHJvdG90eXBlLmFkZF8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgb2xkID0gdGhpcy5tYXBfZW90NjRpJF8wLnB1dF94d3pjOXAkKGVsZW1lbnQsIHRoaXMpO1xuICAgICAgcmV0dXJuIG9sZCA9PSBudWxsO1xuICAgIH07XG4gICAgSGFzaFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLm1hcF9lb3Q2NGkkXzAuY2xlYXIoKTtcbiAgICB9O1xuICAgIEhhc2hTZXQucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF9lb3Q2NGkkXzAuY29udGFpbnNLZXlfMTFyYiQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBIYXNoU2V0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwX2VvdDY0aSRfMC5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBIYXNoU2V0LnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF9lb3Q2NGkkXzAua2V5cy5pdGVyYXRvcigpO1xuICAgIH07XG4gICAgSGFzaFNldC5wcm90b3R5cGUucmVtb3ZlXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF9lb3Q2NGkkXzAucmVtb3ZlXzExcmIkKGVsZW1lbnQpICE9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGFzaFNldC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwX2VvdDY0aSRfMC5zaXplO1xuICAgIH19KTtcbiAgICBIYXNoU2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0hhc2hTZXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlU2V0LCBNdXRhYmxlU2V0XX07XG4gICAgZnVuY3Rpb24gSGFzaFNldF9pbml0KCR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSGFzaFNldC5wcm90b3R5cGUpO1xuICAgICAgQWJzdHJhY3RNdXRhYmxlU2V0LmNhbGwoJHRoaXMpO1xuICAgICAgSGFzaFNldC5jYWxsKCR0aGlzKTtcbiAgICAgICR0aGlzLm1hcF9lb3Q2NGkkXzAgPSBIYXNoTWFwX2luaXRfMCgpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBIYXNoU2V0X2luaXRfMChlbGVtZW50cywgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoU2V0LnByb3RvdHlwZSk7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCgkdGhpcyk7XG4gICAgICBIYXNoU2V0LmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwX2VvdDY0aSRfMCA9IEhhc2hNYXBfaW5pdF8yKGVsZW1lbnRzLnNpemUpO1xuICAgICAgJHRoaXMuYWRkQWxsX2JyeXducSQoZWxlbWVudHMpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBIYXNoU2V0X2luaXRfMShpbml0aWFsQ2FwYWNpdHksIGxvYWRGYWN0b3IsICR0aGlzKSB7XG4gICAgICBpZiAobG9hZEZhY3RvciA9PT0gdm9pZCAwKVxuICAgICAgICBsb2FkRmFjdG9yID0gMC4wO1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hTZXQucHJvdG90eXBlKTtcbiAgICAgIEFic3RyYWN0TXV0YWJsZVNldC5jYWxsKCR0aGlzKTtcbiAgICAgIEhhc2hTZXQuY2FsbCgkdGhpcyk7XG4gICAgICAkdGhpcy5tYXBfZW90NjRpJF8wID0gSGFzaE1hcF9pbml0XzEoaW5pdGlhbENhcGFjaXR5LCBsb2FkRmFjdG9yKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaFNldF9pbml0XzIoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hTZXQucHJvdG90eXBlKTtcbiAgICAgIEhhc2hTZXRfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgMC4wLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhhc2hTZXRfaW5pdF8zKG1hcCwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoU2V0LnByb3RvdHlwZSk7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCgkdGhpcyk7XG4gICAgICBIYXNoU2V0LmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwX2VvdDY0aSRfMCA9IG1hcDtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSW50ZXJuYWxIYXNoQ29kZU1hcChlcXVhbGl0eSkge1xuICAgICAgdGhpcy5lcXVhbGl0eV9tYW1sdTgkXzAgPSBlcXVhbGl0eTtcbiAgICAgIHRoaXMuYmFja2luZ01hcF8wID0gdGhpcy5jcmVhdGVKc01hcCgpO1xuICAgICAgdGhpcy5zaXplX3gzYm03ciRfMCA9IDA7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZSwgJ2VxdWFsaXR5Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXF1YWxpdHlfbWFtbHU4JF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZV94M2JtN3IkXzA7XG4gICAgfSwgc2V0OiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgdGhpcy5zaXplX3gzYm03ciRfMCA9IHNpemU7XG4gICAgfX0pO1xuICAgIEludGVybmFsSGFzaENvZGVNYXAucHJvdG90eXBlLnB1dF94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBoYXNoQ29kZSA9IHRoaXMuZXF1YWxpdHkuZ2V0SGFzaENvZGVfczhqeXY0JChrZXkpO1xuICAgICAgdmFyIGNoYWluT3JFbnRyeSA9IHRoaXMuZ2V0Q2hhaW5PckVudHJ5T3JOdWxsXzAoaGFzaENvZGUpO1xuICAgICAgaWYgKGNoYWluT3JFbnRyeSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuYmFja2luZ01hcF8wW2hhc2hDb2RlXSA9IG5ldyBBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGlmICghS290bGluLmlzQXJyYXkoY2hhaW5PckVudHJ5KSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IGNoYWluT3JFbnRyeTtcbiAgICAgICAgICBpZiAodGhpcy5lcXVhbGl0eS5lcXVhbHNfb2FmdG44JChlbnRyeS5rZXksIGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5zZXRWYWx1ZV8xMXJjJCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2luZ01hcF8wW2hhc2hDb2RlXSA9IFtlbnRyeSwgbmV3IEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeShrZXksIHZhbHVlKV07XG4gICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUgKyAxIHwgMDtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGNoYWluID0gY2hhaW5PckVudHJ5O1xuICAgICAgICAgIHZhciBlbnRyeV8wID0gdGhpcy5maW5kRW50cnlJbkNoYWluXzAoY2hhaW4sIGtleSk7XG4gICAgICAgICAgaWYgKGVudHJ5XzAgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5XzAuc2V0VmFsdWVfMTFyYyQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFpbi5wdXNoKG5ldyBBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkoa2V5LCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUgKyAxIHwgMDtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUucmVtb3ZlXzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgaGFzaENvZGUgPSB0aGlzLmVxdWFsaXR5LmdldEhhc2hDb2RlX3M4anl2NCQoa2V5KTtcbiAgICAgIHRtcCQgPSB0aGlzLmdldENoYWluT3JFbnRyeU9yTnVsbF8wKGhhc2hDb2RlKTtcbiAgICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW5PckVudHJ5ID0gdG1wJDtcbiAgICAgIGlmICghS290bGluLmlzQXJyYXkoY2hhaW5PckVudHJ5KSkge1xuICAgICAgICB2YXIgZW50cnkgPSBjaGFpbk9yRW50cnk7XG4gICAgICAgIGlmICh0aGlzLmVxdWFsaXR5LmVxdWFsc19vYWZ0bjgkKGVudHJ5LmtleSwga2V5KSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmJhY2tpbmdNYXBfMFtoYXNoQ29kZV07XG4gICAgICAgICAgdGhpcy5zaXplID0gdGhpcy5zaXplIC0gMSB8IDA7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgY2hhaW4gPSBjaGFpbk9yRW50cnk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggIT09IGNoYWluLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgIHZhciBlbnRyeV8wID0gY2hhaW5baW5kZXhdO1xuICAgICAgICAgIGlmICh0aGlzLmVxdWFsaXR5LmVxdWFsc19vYWZ0bjgkKGtleSwgZW50cnlfMC5rZXkpKSB7XG4gICAgICAgICAgICBpZiAoY2hhaW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIGNoYWluLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJhY2tpbmdNYXBfMFtoYXNoQ29kZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNoYWluLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUgLSAxIHwgMDtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeV8wLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuYmFja2luZ01hcF8wID0gdGhpcy5jcmVhdGVKc01hcCgpO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RW50cnlfMChrZXkpICE9IG51bGw7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZS5nZXRfMTFyYiQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHRoaXMuZ2V0RW50cnlfMChrZXkpKSAhPSBudWxsID8gdG1wJC52YWx1ZSA6IG51bGw7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZS5nZXRFbnRyeV8wID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gdGhpcy5nZXRDaGFpbk9yRW50cnlPck51bGxfMCh0aGlzLmVxdWFsaXR5LmdldEhhc2hDb2RlX3M4anl2NCQoa2V5KSk7XG4gICAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluT3JFbnRyeSA9IHRtcCQ7XG4gICAgICBpZiAoIUtvdGxpbi5pc0FycmF5KGNoYWluT3JFbnRyeSkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gY2hhaW5PckVudHJ5O1xuICAgICAgICBpZiAodGhpcy5lcXVhbGl0eS5lcXVhbHNfb2FmdG44JChlbnRyeS5rZXksIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBjaGFpbiA9IGNoYWluT3JFbnRyeTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEVudHJ5SW5DaGFpbl8wKGNoYWluLCBrZXkpO1xuICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUuZmluZEVudHJ5SW5DaGFpbl8wID0gZnVuY3Rpb24gKCRyZWNlaXZlciwga2V5KSB7XG4gICAgICB2YXIgZmlyc3RPck51bGwkcmVzdWx0O1xuICAgICAgZmlyc3RPck51bGwkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIGZvciAodG1wJCA9IDA7IHRtcCQgIT09ICRyZWNlaXZlci5sZW5ndGg7ICsrdG1wJCkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gJHJlY2VpdmVyW3RtcCRdO1xuICAgICAgICAgIGlmICh0aGlzLmVxdWFsaXR5LmVxdWFsc19vYWZ0bjgkKGVsZW1lbnQua2V5LCBrZXkpKSB7XG4gICAgICAgICAgICBmaXJzdE9yTnVsbCRyZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgICAgYnJlYWsgZmlyc3RPck51bGwkYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpcnN0T3JOdWxsJHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBmaXJzdE9yTnVsbCRyZXN1bHQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRJbnRlcm5hbEhhc2hDb2RlTWFwKSB7XG4gICAgICB0aGlzLnRoaXMkSW50ZXJuYWxIYXNoQ29kZU1hcCA9IHRoaXMkSW50ZXJuYWxIYXNoQ29kZU1hcDtcbiAgICAgIHRoaXMuc3RhdGUgPSAtMTtcbiAgICAgIHRoaXMua2V5cyA9IE9iamVjdC5rZXlzKHRoaXMkSW50ZXJuYWxIYXNoQ29kZU1hcC5iYWNraW5nTWFwXzApO1xuICAgICAgdGhpcy5rZXlJbmRleCA9IC0xO1xuICAgICAgdGhpcy5jaGFpbk9yRW50cnkgPSBudWxsO1xuICAgICAgdGhpcy5pc0NoYWluID0gZmFsc2U7XG4gICAgICB0aGlzLml0ZW1JbmRleCA9IC0xO1xuICAgICAgdGhpcy5sYXN0RW50cnkgPSBudWxsO1xuICAgIH1cbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbXB1dGVOZXh0XzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jaGFpbk9yRW50cnkgIT0gbnVsbCAmJiB0aGlzLmlzQ2hhaW4pIHtcbiAgICAgICAgdmFyIGNoYWluU2l6ZSA9IHRoaXMuY2hhaW5PckVudHJ5Lmxlbmd0aDtcbiAgICAgICAgaWYgKCh0aGlzLml0ZW1JbmRleCA9IHRoaXMuaXRlbUluZGV4ICsgMSB8IDAsIHRoaXMuaXRlbUluZGV4KSA8IGNoYWluU2l6ZSlcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmICgodGhpcy5rZXlJbmRleCA9IHRoaXMua2V5SW5kZXggKyAxIHwgMCwgdGhpcy5rZXlJbmRleCkgPCB0aGlzLmtleXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2hhaW5PckVudHJ5ID0gdGhpcy50aGlzJEludGVybmFsSGFzaENvZGVNYXAuYmFja2luZ01hcF8wW3RoaXMua2V5c1t0aGlzLmtleUluZGV4XV07XG4gICAgICAgIHRoaXMuaXNDaGFpbiA9IEtvdGxpbi5pc0FycmF5KHRoaXMuY2hhaW5PckVudHJ5KTtcbiAgICAgICAgdGhpcy5pdGVtSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGFpbk9yRW50cnkgPSBudWxsO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAtMSlcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuY29tcHV0ZU5leHRfMCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IDA7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICghdGhpcy5oYXNOZXh0KCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgaWYgKHRoaXMuaXNDaGFpbikge1xuICAgICAgICB0bXAkID0gdGhpcy5jaGFpbk9yRW50cnlbdGhpcy5pdGVtSW5kZXhdO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkID0gdGhpcy5jaGFpbk9yRW50cnk7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEVudHJ5ID0gdG1wJDtcbiAgICAgIHRoaXMubGFzdEVudHJ5ID0gbGFzdEVudHJ5O1xuICAgICAgdGhpcy5zdGF0ZSA9IC0xO1xuICAgICAgcmV0dXJuIGxhc3RFbnRyeTtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMubGFzdEVudHJ5ID09IG51bGwpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnUmVxdWlyZWQgdmFsdWUgd2FzIG51bGwuJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy50aGlzJEludGVybmFsSGFzaENvZGVNYXAucmVtb3ZlXzExcmIkKGVuc3VyZU5vdE51bGwodGhpcy5sYXN0RW50cnkpLmtleSk7XG4gICAgICB0aGlzLmxhc3RFbnRyeSA9IG51bGw7XG4gICAgICB0aGlzLml0ZW1JbmRleCA9IHRoaXMuaXRlbUluZGV4IC0gMSB8IDA7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUl0ZXJhdG9yXX07XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEludGVybmFsSGFzaENvZGVNYXAkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzKTtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAucHJvdG90eXBlLmdldENoYWluT3JFbnRyeU9yTnVsbF8wID0gZnVuY3Rpb24gKGhhc2hDb2RlKSB7XG4gICAgICB2YXIgY2hhaW5PckVudHJ5ID0gdGhpcy5iYWNraW5nTWFwXzBbaGFzaENvZGVdO1xuICAgICAgcmV0dXJuIGNoYWluT3JFbnRyeSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNoYWluT3JFbnRyeTtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW50ZXJuYWxIYXNoQ29kZU1hcCcsIGludGVyZmFjZXM6IFtJbnRlcm5hbE1hcF19O1xuICAgIGZ1bmN0aW9uIEludGVybmFsTWFwKCkge1xuICAgIH1cbiAgICBJbnRlcm5hbE1hcC5wcm90b3R5cGUuY3JlYXRlSnNNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJlc3VsdFsnZm9vJ10gPSAxO1xuICAgICAgZGVsZXRlIHJlc3VsdFsnZm9vJ107XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSW50ZXJuYWxNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0ludGVybmFsTWFwJywgaW50ZXJmYWNlczogW011dGFibGVJdGVyYWJsZV19O1xuICAgIGZ1bmN0aW9uIEludGVybmFsU3RyaW5nTWFwKGVxdWFsaXR5KSB7XG4gICAgICB0aGlzLmVxdWFsaXR5X3FtYTYxMiRfMCA9IGVxdWFsaXR5O1xuICAgICAgdGhpcy5iYWNraW5nTWFwXzAgPSB0aGlzLmNyZWF0ZUpzTWFwKCk7XG4gICAgICB0aGlzLnNpemVfNnUzeWt6JF8wID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcCgpIHtcbiAgICAgIHRoaXMuaGVhZF8xbHI0NGwkXzAgPSBudWxsO1xuICAgICAgdGhpcy5tYXBfOTdxNWR2JF8wID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcCRDaGFpbkVudHJ5KGtleSwgdmFsdWUpIHtcbiAgICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5uZXh0XzhiZTJ2eCQgPSBudWxsO1xuICAgICAgdGhpcy5wcmV2XzhiZTJ2eCQgPSBudWxsO1xuICAgIH1cbiAgICBMaW5rZWRIYXNoTWFwJENoYWluRW50cnkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhaW5FbnRyeScsIGludGVyZmFjZXM6IFtBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnldfTtcbiAgICBmdW5jdGlvbiBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0KCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yKCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICB0aGlzLmxhc3RfMCA9IG51bGw7XG4gICAgICB0aGlzLm5leHRfMCA9IG51bGw7XG4gICAgICB0aGlzLm5leHRfMCA9IHRoaXMuJG91dGVyLiRvdXRlci5oZWFkXzFscjQ0bCRfMDtcbiAgICB9XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dF8wICE9PSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmhhc05leHQoKSlcbiAgICAgICAgdGhyb3cgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbl9pbml0KCk7XG4gICAgICB2YXIgY3VycmVudCA9IGVuc3VyZU5vdE51bGwodGhpcy5uZXh0XzApO1xuICAgICAgdGhpcy5sYXN0XzAgPSBjdXJyZW50O1xuICAgICAgdmFyICRyZWNlaXZlciA9IGN1cnJlbnQubmV4dF84YmUydngkO1xuICAgICAgdGhpcy4kb3V0ZXIuJG91dGVyO1xuICAgICAgdGhpcy5uZXh0XzAgPSAkcmVjZWl2ZXIgIT09IHRoaXMuJG91dGVyLiRvdXRlci5oZWFkXzFscjQ0bCRfMCA/ICRyZWNlaXZlciA6IG51bGw7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAkRW50cnlTZXQkRW50cnlJdGVyYXRvci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEodGhpcy5sYXN0XzAgIT0gbnVsbCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2hlY2sgZmFpbGVkLic7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJG91dGVyLiRvdXRlci5yZW1vdmVfYXVsNXRkJF8wKGVuc3VyZU5vdE51bGwodGhpcy5sYXN0XzApKTtcbiAgICAgIHRoaXMuJG91dGVyLiRvdXRlci5tYXBfOTdxNWR2JF8wLnJlbW92ZV8xMXJiJChlbnN1cmVOb3ROdWxsKHRoaXMubGFzdF8wKS5rZXkpO1xuICAgICAgdGhpcy5sYXN0XzAgPSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0VudHJ5SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUl0ZXJhdG9yXX07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUuYWRkXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHRocm93IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uX2luaXRfMCgnQWRkIGlzIG5vdCBzdXBwb3J0ZWQgb24gZW50cmllcycpO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRvdXRlci5jbGVhcigpO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLmNvbnRhaW5zRW50cnlfOGh4cXc0JChlbGVtZW50KTtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0JEVudHJ5SXRlcmF0b3IodGhpcyk7XG4gICAgfTtcbiAgICBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZS5yZW1vdmVfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMuY29udGFpbnNfMTFyYiQoZWxlbWVudCkpIHtcbiAgICAgICAgdGhpcy4kb3V0ZXIucmVtb3ZlXzExcmIkKGVsZW1lbnQua2V5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLnNpemU7XG4gICAgfX0pO1xuICAgIExpbmtlZEhhc2hNYXAkRW50cnlTZXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRW50cnlTZXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlU2V0XX07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuYWRkVG9FbmRfdWZnMmhnJF8wID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgICAgaWYgKCEoJHJlY2VpdmVyLm5leHRfOGJlMnZ4JCA9PSBudWxsICYmICRyZWNlaXZlci5wcmV2XzhiZTJ2eCQgPT0gbnVsbCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2hlY2sgZmFpbGVkLic7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBfaGVhZCA9IHRoaXMuaGVhZF8xbHI0NGwkXzA7XG4gICAgICBpZiAoX2hlYWQgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmhlYWRfMWxyNDRsJF8wID0gJHJlY2VpdmVyO1xuICAgICAgICAkcmVjZWl2ZXIubmV4dF84YmUydngkID0gJHJlY2VpdmVyO1xuICAgICAgICAkcmVjZWl2ZXIucHJldl84YmUydngkID0gJHJlY2VpdmVyO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUgPSBfaGVhZC5wcmV2XzhiZTJ2eCQ7XG4gICAgICAgIHZhciBjaGVja05vdE51bGwkcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBtZXNzYWdlXzAgPSAnUmVxdWlyZWQgdmFsdWUgd2FzIG51bGwuJztcbiAgICAgICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY2hlY2tOb3ROdWxsJHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGFpbCA9IGNoZWNrTm90TnVsbCRyZXN1bHQ7XG4gICAgICAgICRyZWNlaXZlci5wcmV2XzhiZTJ2eCQgPSBfdGFpbDtcbiAgICAgICAgJHJlY2VpdmVyLm5leHRfOGJlMnZ4JCA9IF9oZWFkO1xuICAgICAgICBfaGVhZC5wcmV2XzhiZTJ2eCQgPSAkcmVjZWl2ZXI7XG4gICAgICAgIF90YWlsLm5leHRfOGJlMnZ4JCA9ICRyZWNlaXZlcjtcbiAgICAgIH1cbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLnJlbW92ZV9hdWw1dGQkXzAgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgICBpZiAoJHJlY2VpdmVyLm5leHRfOGJlMnZ4JCA9PT0gJHJlY2VpdmVyKSB7XG4gICAgICAgIHRoaXMuaGVhZF8xbHI0NGwkXzAgPSBudWxsO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5oZWFkXzFscjQ0bCRfMCA9PT0gJHJlY2VpdmVyKSB7XG4gICAgICAgICAgdGhpcy5oZWFkXzFscjQ0bCRfMCA9ICRyZWNlaXZlci5uZXh0XzhiZTJ2eCQ7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlTm90TnVsbCgkcmVjZWl2ZXIubmV4dF84YmUydngkKS5wcmV2XzhiZTJ2eCQgPSAkcmVjZWl2ZXIucHJldl84YmUydngkO1xuICAgICAgICBlbnN1cmVOb3ROdWxsKCRyZWNlaXZlci5wcmV2XzhiZTJ2eCQpLm5leHRfOGJlMnZ4JCA9ICRyZWNlaXZlci5uZXh0XzhiZTJ2eCQ7XG4gICAgICB9XG4gICAgICAkcmVjZWl2ZXIubmV4dF84YmUydngkID0gbnVsbDtcbiAgICAgICRyZWNlaXZlci5wcmV2XzhiZTJ2eCQgPSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLm1hcF85N3E1ZHYkXzAuY2xlYXIoKTtcbiAgICAgIHRoaXMuaGVhZF8xbHI0NGwkXzAgPSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuY29udGFpbnNLZXlfMTFyYiQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXBfOTdxNWR2JF8wLmNvbnRhaW5zS2V5XzExcmIkKGtleSk7XG4gICAgfTtcbiAgICBMaW5rZWRIYXNoTWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlXzExcmMkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSB0aGlzLmhlYWRfMWxyNDRsJF8wO1xuICAgICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbm9kZSA9IHRtcCQ7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChlcXVhbHMobm9kZS52YWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGVuc3VyZU5vdE51bGwobm9kZS5uZXh0XzhiZTJ2eCQpO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChub2RlICE9PSB0aGlzLmhlYWRfMWxyNDRsJF8wKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLmNyZWF0ZUVudHJ5U2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0KHRoaXMpO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuZ2V0XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0aGlzLm1hcF85N3E1ZHYkXzAuZ2V0XzExcmIkKGtleSkpICE9IG51bGwgPyB0bXAkLnZhbHVlIDogbnVsbDtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLnB1dF94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvbGQgPSB0aGlzLm1hcF85N3E1ZHYkXzAuZ2V0XzExcmIkKGtleSk7XG4gICAgICBpZiAob2xkID09IG51bGwpIHtcbiAgICAgICAgdmFyIG5ld0VudHJ5ID0gbmV3IExpbmtlZEhhc2hNYXAkQ2hhaW5FbnRyeShrZXksIHZhbHVlKTtcbiAgICAgICAgdGhpcy5tYXBfOTdxNWR2JF8wLnB1dF94d3pjOXAkKGtleSwgbmV3RW50cnkpO1xuICAgICAgICB0aGlzLmFkZFRvRW5kX3VmZzJoZyRfMChuZXdFbnRyeSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkLnNldFZhbHVlXzExcmMkKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMubWFwXzk3cTVkdiRfMC5yZW1vdmVfMTFyYiQoa2V5KTtcbiAgICAgIGlmIChlbnRyeSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlX2F1bDV0ZCRfMChlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhhc2hNYXAucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF85N3E1ZHYkXzAuc2l6ZTtcbiAgICB9fSk7XG4gICAgTGlua2VkSGFzaE1hcC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMaW5rZWRIYXNoTWFwJywgaW50ZXJmYWNlczogW0hhc2hNYXAsIE11dGFibGVNYXBdfTtcbiAgICBmdW5jdGlvbiBMaW5rZWRIYXNoTWFwX2luaXQoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBIYXNoTWFwX2luaXRfMCgkdGhpcyk7XG4gICAgICBMaW5rZWRIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwXzk3cTVkdiRfMCA9IEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hNYXBfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgbG9hZEZhY3RvciwgJHRoaXMpIHtcbiAgICAgIGlmIChsb2FkRmFjdG9yID09PSB2b2lkIDApXG4gICAgICAgIGxvYWRGYWN0b3IgPSAwLjA7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoTGlua2VkSGFzaE1hcC5wcm90b3R5cGUpO1xuICAgICAgSGFzaE1hcF9pbml0XzEoaW5pdGlhbENhcGFjaXR5LCBsb2FkRmFjdG9yLCAkdGhpcyk7XG4gICAgICBMaW5rZWRIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwXzk3cTVkdiRfMCA9IEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hNYXBfaW5pdF8yKGluaXRpYWxDYXBhY2l0eSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBMaW5rZWRIYXNoTWFwX2luaXRfMShpbml0aWFsQ2FwYWNpdHksIDAuMCwgJHRoaXMpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBMaW5rZWRIYXNoTWFwX2luaXRfMyhvcmlnaW5hbCwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBIYXNoTWFwX2luaXRfMCgkdGhpcyk7XG4gICAgICBMaW5rZWRIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwXzk3cTVkdiRfMCA9IEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICAkdGhpcy5wdXRBbGxfYTJrM3pyJChvcmlnaW5hbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hTZXQoKSB7XG4gICAgfVxuICAgIExpbmtlZEhhc2hTZXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTGlua2VkSGFzaFNldCcsIGludGVyZmFjZXM6IFtIYXNoU2V0LCBNdXRhYmxlU2V0XX07XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaFNldF9pbml0XzAoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoU2V0LnByb3RvdHlwZSk7XG4gICAgICBIYXNoU2V0X2luaXRfMyhMaW5rZWRIYXNoTWFwX2luaXQoKSwgJHRoaXMpO1xuICAgICAgTGlua2VkSGFzaFNldC5jYWxsKCR0aGlzKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaFNldF9pbml0XzEoZWxlbWVudHMsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoTGlua2VkSGFzaFNldC5wcm90b3R5cGUpO1xuICAgICAgSGFzaFNldF9pbml0XzMoTGlua2VkSGFzaE1hcF9pbml0KCksICR0aGlzKTtcbiAgICAgIExpbmtlZEhhc2hTZXQuY2FsbCgkdGhpcyk7XG4gICAgICAkdGhpcy5hZGRBbGxfYnJ5d25xJChlbGVtZW50cyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hTZXRfaW5pdF8yKGluaXRpYWxDYXBhY2l0eSwgbG9hZEZhY3RvciwgJHRoaXMpIHtcbiAgICAgIGlmIChsb2FkRmFjdG9yID09PSB2b2lkIDApXG4gICAgICAgIGxvYWRGYWN0b3IgPSAwLjA7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoTGlua2VkSGFzaFNldC5wcm90b3R5cGUpO1xuICAgICAgSGFzaFNldF9pbml0XzMoTGlua2VkSGFzaE1hcF9pbml0XzEoaW5pdGlhbENhcGFjaXR5LCBsb2FkRmFjdG9yKSwgJHRoaXMpO1xuICAgICAgTGlua2VkSGFzaFNldC5jYWxsKCR0aGlzKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaFNldF9pbml0XzMoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKExpbmtlZEhhc2hTZXQucHJvdG90eXBlKTtcbiAgICAgIExpbmtlZEhhc2hTZXRfaW5pdF8yKGluaXRpYWxDYXBhY2l0eSwgMC4wLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJhbmRvbUFjY2VzcygpIHtcbiAgICB9XG4gICAgUmFuZG9tQWNjZXNzLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdSYW5kb21BY2Nlc3MnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gQmFzZU91dHB1dCgpIHtcbiAgICB9XG4gICAgQmFzZU91dHB1dC5wcm90b3R5cGUucHJpbnRsbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJpbnRfczhqeXY0JCgnXFxuJyk7XG4gICAgfTtcbiAgICBCYXNlT3V0cHV0LnByb3RvdHlwZS5wcmludGxuX3M4anl2NCQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgdGhpcy5wcmludF9zOGp5djQkKG1lc3NhZ2UpO1xuICAgICAgdGhpcy5wcmludGxuKCk7XG4gICAgfTtcbiAgICBCYXNlT3V0cHV0LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIEJhc2VPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQmFzZU91dHB1dCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBOb2RlSnNPdXRwdXQob3V0cHV0U3RyZWFtKSB7XG4gICAgICBCYXNlT3V0cHV0LmNhbGwodGhpcyk7XG4gICAgICB0aGlzLm91dHB1dFN0cmVhbSA9IG91dHB1dFN0cmVhbTtcbiAgICB9XG4gICAgTm9kZUpzT3V0cHV0LnByb3RvdHlwZS5wcmludF9zOGp5djQkID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBtZXNzYWdlU3RyaW5nID0gU3RyaW5nKG1lc3NhZ2UpO1xuICAgICAgdGhpcy5vdXRwdXRTdHJlYW0ud3JpdGUobWVzc2FnZVN0cmluZyk7XG4gICAgfTtcbiAgICBOb2RlSnNPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTm9kZUpzT3V0cHV0JywgaW50ZXJmYWNlczogW0Jhc2VPdXRwdXRdfTtcbiAgICBmdW5jdGlvbiBCdWZmZXJlZE91dHB1dCgpIHtcbiAgICAgIEJhc2VPdXRwdXQuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgfVxuICAgIEJ1ZmZlcmVkT3V0cHV0LnByb3RvdHlwZS5wcmludF9zOGp5djQkID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuYnVmZmVyICs9IFN0cmluZyhtZXNzYWdlKTtcbiAgICB9O1xuICAgIEJ1ZmZlcmVkT3V0cHV0LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgfTtcbiAgICBCdWZmZXJlZE91dHB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdCdWZmZXJlZE91dHB1dCcsIGludGVyZmFjZXM6IFtCYXNlT3V0cHV0XX07XG4gICAgZnVuY3Rpb24gQnVmZmVyZWRPdXRwdXRUb0NvbnNvbGVMb2coKSB7XG4gICAgICBCdWZmZXJlZE91dHB1dC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZy5wcm90b3R5cGUucHJpbnRfczhqeXY0JCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICB2YXIgcyA9IFN0cmluZyhtZXNzYWdlKTtcbiAgICAgIHZhciBpID0gbGFzdEluZGV4T2ZfMTUocywgMTApO1xuICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyICsgcy5zdWJzdHJpbmcoMCwgaSk7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgKyAxIHwgMCk7XG4gICAgICB9XG4gICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyICsgcztcbiAgICB9O1xuICAgIEJ1ZmZlcmVkT3V0cHV0VG9Db25zb2xlTG9nLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYnVmZmVyKTtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgfTtcbiAgICBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZycsIGludGVyZmFjZXM6IFtCdWZmZXJlZE91dHB1dF19O1xuICAgIHZhciBvdXRwdXQ7XG4gICAgZnVuY3Rpb24gcHJpbnQobWVzc2FnZSkge1xuICAgICAgb3V0cHV0LnByaW50X3M4anl2NCQobWVzc2FnZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFNhZmVDb250aW51YXRpb24oZGVsZWdhdGUsIGluaXRpYWxSZXN1bHQpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGVfMCA9IGRlbGVnYXRlO1xuICAgICAgdGhpcy5yZXN1bHRfMCA9IGluaXRpYWxSZXN1bHQ7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTYWZlQ29udGludWF0aW9uLnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZV8wLmNvbnRleHQ7XG4gICAgfX0pO1xuICAgIFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlLnJlc3VtZVdpdGhfdGwxZ3BjJCA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHZhciBjdXIgPSB0aGlzLnJlc3VsdF8wO1xuICAgICAgaWYgKGN1ciA9PT0gQ29yb3V0aW5lU2luZ2xldG9ucyRVTkRFQ0lERURfZ2V0SW5zdGFuY2UoKSlcbiAgICAgICAgdGhpcy5yZXN1bHRfMCA9IHJlc3VsdC52YWx1ZTtcbiAgICAgIGVsc2UgaWYgKGN1ciA9PT0gZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQoKSkge1xuICAgICAgICB0aGlzLnJlc3VsdF8wID0gQ29yb3V0aW5lU2luZ2xldG9ucyRSRVNVTUVEX2dldEluc3RhbmNlKCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGVfMC5yZXN1bWVXaXRoX3RsMWdwYyQocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgICBlbHNlXG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAoJ0FscmVhZHkgcmVzdW1lZCcpO1xuICAgIH07XG4gICAgU2FmZUNvbnRpbnVhdGlvbi5wcm90b3R5cGUuZ2V0T3JUaHJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMucmVzdWx0XzAgPT09IENvcm91dGluZVNpbmdsZXRvbnMkVU5ERUNJREVEX2dldEluc3RhbmNlKCkpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRfMCA9IGdldF9DT1JPVVRJTkVfU1VTUEVOREVEKCk7XG4gICAgICAgIHJldHVybiBnZXRfQ09ST1VUSU5FX1NVU1BFTkRFRCgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0XzA7XG4gICAgICBpZiAocmVzdWx0ID09PSBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKSlcbiAgICAgICAgdG1wJCA9IGdldF9DT1JPVVRJTkVfU1VTUEVOREVEKCk7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKHJlc3VsdCwgUmVzdWx0JEZhaWx1cmUpKVxuICAgICAgICB0aHJvdyByZXN1bHQuZXhjZXB0aW9uO1xuICAgICAgZWxzZVxuICAgICAgICB0bXAkID0gcmVzdWx0O1xuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfTtcbiAgICBTYWZlQ29udGludWF0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NhZmVDb250aW51YXRpb24nLCBpbnRlcmZhY2VzOiBbQ29udGludWF0aW9uXX07XG4gICAgZnVuY3Rpb24gU2FmZUNvbnRpbnVhdGlvbl9pbml0KGRlbGVnYXRlLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlKTtcbiAgICAgIFNhZmVDb250aW51YXRpb24uY2FsbCgkdGhpcywgZGVsZWdhdGUsIENvcm91dGluZVNpbmdsZXRvbnMkVU5ERUNJREVEX2dldEluc3RhbmNlKCkpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb250aW51YXRpb24kT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGNvbnRleHQsIGNsb3N1cmUkcmVzdW1lV2l0aCkge1xuICAgICAgdGhpcy5jbG9zdXJlJGNvbnRleHQgPSBjbG9zdXJlJGNvbnRleHQ7XG4gICAgICB0aGlzLmNsb3N1cmUkcmVzdW1lV2l0aCA9IGNsb3N1cmUkcmVzdW1lV2l0aDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRpbnVhdGlvbiRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGNvbnRleHQ7XG4gICAgfX0pO1xuICAgIENvbnRpbnVhdGlvbiRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5yZXN1bWVXaXRoX3RsMWdwYyQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICB0aGlzLmNsb3N1cmUkcmVzdW1lV2l0aChyZXN1bHQpO1xuICAgIH07XG4gICAgQ29udGludWF0aW9uJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQ29udGludWF0aW9uXX07XG4gICAgZnVuY3Rpb24gRW1wdHlDb250aW51YXRpb24kbGFtYmRhKHJlc3VsdCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0aHJvd09uRmFpbHVyZShyZXN1bHQpO1xuICAgICAgKHRtcCQgPSByZXN1bHQudmFsdWUpID09IG51bGwgfHwgS290bGluLmlzVHlwZSh0bXAkLCBBbnkpID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9XG4gICAgdmFyIEVtcHR5Q29udGludWF0aW9uO1xuICAgIGZ1bmN0aW9uIHRocm93TlBFKG1lc3NhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBOdWxsUG9pbnRlckV4Y2VwdGlvbihtZXNzYWdlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dDQ0VfMCgpIHtcbiAgICAgIHRocm93IG5ldyBDbGFzc0Nhc3RFeGNlcHRpb24oJ0lsbGVnYWwgY2FzdCcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0lTRShtZXNzYWdlKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd1VQQUUocHJvcGVydHlOYW1lKSB7XG4gICAgICB0aHJvdyBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb25faW5pdF8wKCdsYXRlaW5pdCBwcm9wZXJ0eSAnICsgcHJvcGVydHlOYW1lICsgJyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRXJyb3JfMChtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgVGhyb3dhYmxlLmNhbGwodGhpcyk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBjYXVzZSAhPSBudWxsID8gY2F1c2UgOiBudWxsO1xuICAgICAgdGhpcy5tZXNzYWdlX3E3cjhpdSRfMCA9IHR5cGVvZiBtZXNzYWdlID09PSAndW5kZWZpbmVkJyAmJiB0bXAkICE9IG51bGwgPyBLb3RsaW4udG9TdHJpbmcodG1wJCkgOiBtZXNzYWdlO1xuICAgICAgdGhpcy5jYXVzZV91czlqMGMkXzAgPSB0bXAkO1xuICAgICAgS290bGluLmNhcHR1cmVTdGFjayhUaHJvd2FibGUsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ0Vycm9yJztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVycm9yXzAucHJvdG90eXBlLCAnbWVzc2FnZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VfcTdyOGl1JF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXJyb3JfMC5wcm90b3R5cGUsICdjYXVzZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhdXNlX3VzOWowYyRfMDtcbiAgICB9fSk7XG4gICAgRXJyb3JfMC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdFcnJvcicsIGludGVyZmFjZXM6IFtUaHJvd2FibGVdfTtcbiAgICBmdW5jdGlvbiBFcnJvcl9pbml0XzAobWVzc2FnZSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShFcnJvcl8wLnByb3RvdHlwZSk7XG4gICAgICBFcnJvcl8wLmNhbGwoJHRoaXMsIG1lc3NhZ2UsIG51bGwpO1xuICAgICAgZ2V0X2pzKGdldEtDbGFzcyhFcnJvcl8wKSkuY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgVGhyb3dhYmxlLmNhbGwodGhpcyk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBjYXVzZSAhPSBudWxsID8gY2F1c2UgOiBudWxsO1xuICAgICAgdGhpcy5tZXNzYWdlXzh5cDd1biRfMCA9IHR5cGVvZiBtZXNzYWdlID09PSAndW5kZWZpbmVkJyAmJiB0bXAkICE9IG51bGwgPyBLb3RsaW4udG9TdHJpbmcodG1wJCkgOiBtZXNzYWdlO1xuICAgICAgdGhpcy5jYXVzZV90aDBqZHYkXzAgPSB0bXAkO1xuICAgICAgS290bGluLmNhcHR1cmVTdGFjayhUaHJvd2FibGUsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ0V4Y2VwdGlvbic7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24ucHJvdG90eXBlLCAnbWVzc2FnZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VfOHlwN3VuJF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXhjZXB0aW9uLnByb3RvdHlwZSwgJ2NhdXNlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2F1c2VfdGgwamR2JF8wO1xuICAgIH19KTtcbiAgICBFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1Rocm93YWJsZV19O1xuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbl9pbml0KCR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBFeGNlcHRpb24uY2FsbCgkdGhpcywgbnVsbCwgbnVsbCk7XG4gICAgICBnZXRfanMoZ2V0S0NsYXNzKEV4Y2VwdGlvbikpLmNhbGwoJHRoaXMsIG51bGwsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBFeGNlcHRpb24uY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICBnZXRfanMoZ2V0S0NsYXNzKEV4Y2VwdGlvbikpLmNhbGwoJHRoaXMsIG1lc3NhZ2UsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSdW50aW1lRXhjZXB0aW9uKG1lc3NhZ2UsIGNhdXNlKSB7XG4gICAgICBFeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICB0aGlzLm5hbWUgPSAnUnVudGltZUV4Y2VwdGlvbic7XG4gICAgfVxuICAgIFJ1bnRpbWVFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUnVudGltZUV4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBSdW50aW1lRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb24uY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbi5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICAgIHRoaXMubmFtZSA9ICdJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuICAgIH1cbiAgICBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24uY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbi5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICAgIHRoaXMubmFtZSA9ICdJbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuICAgIH1cbiAgICBJbGxlZ2FsU3RhdGVFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSWxsZWdhbFN0YXRlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBJbGxlZ2FsU3RhdGVFeGNlcHRpb24uY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZSwgdGhpcyk7XG4gICAgICB0aGlzLm5hbWUgPSAnSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbic7XG4gICAgfVxuICAgIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24obWVzc2FnZSwgY2F1c2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICB0aGlzLm5hbWUgPSAnVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24nO1xuICAgIH1cbiAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uLmNhbGwoJHRoaXMsIG1lc3NhZ2UsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBOdW1iZXJGb3JtYXRFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCB0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdOdW1iZXJGb3JtYXRFeGNlcHRpb24nO1xuICAgIH1cbiAgICBOdW1iZXJGb3JtYXRFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTnVtYmVyRm9ybWF0RXhjZXB0aW9uJywgaW50ZXJmYWNlczogW0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl19O1xuICAgIGZ1bmN0aW9uIE51bGxQb2ludGVyRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ051bGxQb2ludGVyRXhjZXB0aW9uJztcbiAgICB9XG4gICAgTnVsbFBvaW50ZXJFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTnVsbFBvaW50ZXJFeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbUnVudGltZUV4Y2VwdGlvbl19O1xuICAgIGZ1bmN0aW9uIENsYXNzQ2FzdEV4Y2VwdGlvbihtZXNzYWdlKSB7XG4gICAgICBSdW50aW1lRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCB0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdDbGFzc0Nhc3RFeGNlcHRpb24nO1xuICAgIH1cbiAgICBDbGFzc0Nhc3RFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2xhc3NDYXN0RXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ05vU3VjaEVsZW1lbnRFeGNlcHRpb24nO1xuICAgIH1cbiAgICBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ05vU3VjaEVsZW1lbnRFeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbUnVudGltZUV4Y2VwdGlvbl19O1xuICAgIGZ1bmN0aW9uIE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKE5vU3VjaEVsZW1lbnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgIE5vU3VjaEVsZW1lbnRFeGNlcHRpb24uY2FsbCgkdGhpcywgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEFyaXRobWV0aWNFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZSwgdGhpcyk7XG4gICAgICB0aGlzLm5hbWUgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7XG4gICAgfVxuICAgIEFyaXRobWV0aWNFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQXJpdGhtZXRpY0V4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbi5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICAgIHRoaXMubmFtZSA9ICdOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uJztcbiAgICB9XG4gICAgTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uX2luaXQoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uLmNhbGwoJHRoaXMsIG51bGwsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb24obWVzc2FnZSwgY2F1c2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICB0aGlzLm5hbWUgPSAnVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uJztcbiAgICB9XG4gICAgVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1VuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uLmNhbGwoJHRoaXMsIG1lc3NhZ2UsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBTZXJpYWxpemFibGUoKSB7XG4gICAgfVxuICAgIFNlcmlhbGl6YWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnU2VyaWFsaXphYmxlJywgaW50ZXJmYWNlczogW119O1xuICAgIGZ1bmN0aW9uIGpzb24ocGFpcnMpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgZm9yICh0bXAkID0gMDsgdG1wJCAhPT0gcGFpcnMubGVuZ3RoOyArK3RtcCQpIHtcbiAgICAgICAgdmFyIHRtcCRfMCA9IHBhaXJzW3RtcCRdO1xuICAgICAgICB2YXIgbmFtZSA9IHRtcCRfMC5jb21wb25lbnQxKCksIHZhbHVlID0gdG1wJF8wLmNvbXBvbmVudDIoKTtcbiAgICAgICAgcmVzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByb3VuZCh4KSB7XG4gICAgICBpZiAoeCAlIDAuNSAhPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHgpO1xuICAgICAgfVxuICAgICAgdmFyIGZsb29yID0gTWF0aF8wLmZsb29yKHgpO1xuICAgICAgcmV0dXJuIGZsb29yICUgMiA9PT0gMC4wID8gZmxvb3IgOiBNYXRoXzAuY2VpbCh4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNOYU5fMCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIgIT09ICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNOYU5fMSgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIgIT09ICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNJbmZpbml0ZSgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIgPT09IGtvdGxpbl9qc19pbnRlcm5hbF9Eb3VibGVDb21wYW5pb25PYmplY3QuUE9TSVRJVkVfSU5GSU5JVFkgfHwgJHJlY2VpdmVyID09PSBrb3RsaW5fanNfaW50ZXJuYWxfRG91YmxlQ29tcGFuaW9uT2JqZWN0Lk5FR0FUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0luZmluaXRlXzAoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyID09PSBrb3RsaW5fanNfaW50ZXJuYWxfRmxvYXRDb21wYW5pb25PYmplY3QuUE9TSVRJVkVfSU5GSU5JVFkgfHwgJHJlY2VpdmVyID09PSBrb3RsaW5fanNfaW50ZXJuYWxfRmxvYXRDb21wYW5pb25PYmplY3QuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzRmluaXRlKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuICFpc0luZmluaXRlKCRyZWNlaXZlcikgJiYgIWlzTmFOXzAoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNGaW5pdGVfMCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAhaXNJbmZpbml0ZV8wKCRyZWNlaXZlcikgJiYgIWlzTmFOXzEoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgdmFyIElOVl8yXzI2O1xuICAgIHZhciBJTlZfMl81MztcbiAgICBmdW5jdGlvbiBnZXRfanMoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAoS290bGluLmlzVHlwZSh0bXAkID0gJHJlY2VpdmVyLCBLQ2xhc3NJbXBsKSA/IHRtcCQgOiB0aHJvd0NDRV8wKCkpLmpDbGFzcztcbiAgICB9XG4gICAgZnVuY3Rpb24gS0NsYXNzSW1wbChqQ2xhc3MpIHtcbiAgICAgIHRoaXMuakNsYXNzXzFwcGF0eCRfMCA9IGpDbGFzcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnakNsYXNzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuakNsYXNzXzFwcGF0eCRfMDtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnYW5ub3RhdGlvbnMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdjb25zdHJ1Y3RvcnMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdpc0Fic3RyYWN0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnaXNDb21wYW5pb24nLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdpc0RhdGEnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdpc0ZpbmFsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnaXNJbm5lcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ2lzT3BlbicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ2lzU2VhbGVkJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnbWVtYmVycycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ25lc3RlZENsYXNzZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdvYmplY3RJbnN0YW5jZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ3F1YWxpZmllZE5hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdzdXBlcnR5cGVzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAndHlwZVBhcmFtZXRlcnMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdzZWFsZWRTdWJjbGFzc2VzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAndmlzaWJpbGl0eScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIEtDbGFzc0ltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIEtDbGFzc0ltcGwpICYmIGVxdWFscyh0aGlzLmpDbGFzcywgb3RoZXIuakNsYXNzKTtcbiAgICB9O1xuICAgIEtDbGFzc0ltcGwucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIHJldHVybiAodG1wJF8wID0gKHRtcCQgPSB0aGlzLnNpbXBsZU5hbWUpICE9IG51bGwgPyBoYXNoQ29kZSh0bXAkKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiAwO1xuICAgIH07XG4gICAgS0NsYXNzSW1wbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ2NsYXNzICcgKyB0b1N0cmluZyh0aGlzLnNpbXBsZU5hbWUpO1xuICAgIH07XG4gICAgS0NsYXNzSW1wbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdLQ2xhc3NJbXBsJywgaW50ZXJmYWNlczogW0tDbGFzc119O1xuICAgIGZ1bmN0aW9uIFNpbXBsZUtDbGFzc0ltcGwoakNsYXNzKSB7XG4gICAgICBLQ2xhc3NJbXBsLmNhbGwodGhpcywgakNsYXNzKTtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdGhpcy5zaW1wbGVOYW1lX203bXhpMCRfMCA9ICh0bXAkID0gakNsYXNzLiRtZXRhZGF0YSQpICE9IG51bGwgPyB0bXAkLnNpbXBsZU5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlS0NsYXNzSW1wbC5wcm90b3R5cGUsICdzaW1wbGVOYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2ltcGxlTmFtZV9tN214aTAkXzA7XG4gICAgfX0pO1xuICAgIFNpbXBsZUtDbGFzc0ltcGwucHJvdG90eXBlLmlzSW5zdGFuY2VfczhqeXY0JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIGpzQ2xhc3MgPSB0aGlzLmpDbGFzcztcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHZhbHVlLCBqc0NsYXNzKTtcbiAgICB9O1xuICAgIFNpbXBsZUtDbGFzc0ltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU2ltcGxlS0NsYXNzSW1wbCcsIGludGVyZmFjZXM6IFtLQ2xhc3NJbXBsXX07XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlS0NsYXNzSW1wbChqQ2xhc3MsIGdpdmVuU2ltcGxlTmFtZSwgaXNJbnN0YW5jZUZ1bmN0aW9uKSB7XG4gICAgICBLQ2xhc3NJbXBsLmNhbGwodGhpcywgakNsYXNzKTtcbiAgICAgIHRoaXMuZ2l2ZW5TaW1wbGVOYW1lXzAgPSBnaXZlblNpbXBsZU5hbWU7XG4gICAgICB0aGlzLmlzSW5zdGFuY2VGdW5jdGlvbl8wID0gaXNJbnN0YW5jZUZ1bmN0aW9uO1xuICAgIH1cbiAgICBQcmltaXRpdmVLQ2xhc3NJbXBsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIGlmICghS290bGluLmlzVHlwZShvdGhlciwgUHJpbWl0aXZlS0NsYXNzSW1wbCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBLQ2xhc3NJbXBsLnByb3RvdHlwZS5lcXVhbHMuY2FsbCh0aGlzLCBvdGhlcikgJiYgZXF1YWxzKHRoaXMuZ2l2ZW5TaW1wbGVOYW1lXzAsIG90aGVyLmdpdmVuU2ltcGxlTmFtZV8wKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ3NpbXBsZU5hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5naXZlblNpbXBsZU5hbWVfMDtcbiAgICB9fSk7XG4gICAgUHJpbWl0aXZlS0NsYXNzSW1wbC5wcm90b3R5cGUuaXNJbnN0YW5jZV9zOGp5djQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0luc3RhbmNlRnVuY3Rpb25fMCh2YWx1ZSk7XG4gICAgfTtcbiAgICBQcmltaXRpdmVLQ2xhc3NJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1ByaW1pdGl2ZUtDbGFzc0ltcGwnLCBpbnRlcmZhY2VzOiBbS0NsYXNzSW1wbF19O1xuICAgIGZ1bmN0aW9uIE5vdGhpbmdLQ2xhc3NJbXBsKCkge1xuICAgICAgTm90aGluZ0tDbGFzc0ltcGxfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgS0NsYXNzSW1wbC5jYWxsKHRoaXMsIE9iamVjdCk7XG4gICAgICB0aGlzLnNpbXBsZU5hbWVfbG56eTczJF8wID0gJ05vdGhpbmcnO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLCAnc2ltcGxlTmFtZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpbXBsZU5hbWVfbG56eTczJF8wO1xuICAgIH19KTtcbiAgICBOb3RoaW5nS0NsYXNzSW1wbC5wcm90b3R5cGUuaXNJbnN0YW5jZV9zOGp5djQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLCAnakNsYXNzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKFwiVGhlcmUncyBubyBuYXRpdmUgSlMgY2xhc3MgZm9yIE5vdGhpbmcgdHlwZVwiKTtcbiAgICB9fSk7XG4gICAgTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIG90aGVyID09PSB0aGlzO1xuICAgIH07XG4gICAgTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBOb3RoaW5nS0NsYXNzSW1wbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTm90aGluZ0tDbGFzc0ltcGwnLCBpbnRlcmZhY2VzOiBbS0NsYXNzSW1wbF19O1xuICAgIHZhciBOb3RoaW5nS0NsYXNzSW1wbF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gTm90aGluZ0tDbGFzc0ltcGxfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoTm90aGluZ0tDbGFzc0ltcGxfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IE5vdGhpbmdLQ2xhc3NJbXBsKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTm90aGluZ0tDbGFzc0ltcGxfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMoKSB7XG4gICAgICBQcmltaXRpdmVDbGFzc2VzX2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuYW55Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChPYmplY3QsICdBbnknLCBQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLm51bWJlckNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoTnVtYmVyLCAnTnVtYmVyJywgUHJpbWl0aXZlQ2xhc3NlcyRudW1iZXJDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5ub3RoaW5nQ2xhc3MgPSBOb3RoaW5nS0NsYXNzSW1wbF9nZXRJbnN0YW5jZSgpO1xuICAgICAgdGhpcy5ib29sZWFuQ2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChCb29sZWFuLCAnQm9vbGVhbicsIFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmJ5dGVDbGFzcyA9IG5ldyBQcmltaXRpdmVLQ2xhc3NJbXBsKE51bWJlciwgJ0J5dGUnLCBQcmltaXRpdmVDbGFzc2VzJGJ5dGVDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5zaG9ydENsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoTnVtYmVyLCAnU2hvcnQnLCBQcmltaXRpdmVDbGFzc2VzJHNob3J0Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuaW50Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChOdW1iZXIsICdJbnQnLCBQcmltaXRpdmVDbGFzc2VzJGludENsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmZsb2F0Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChOdW1iZXIsICdGbG9hdCcsIFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5kb3VibGVDbGFzcyA9IG5ldyBQcmltaXRpdmVLQ2xhc3NJbXBsKE51bWJlciwgJ0RvdWJsZScsIFByaW1pdGl2ZUNsYXNzZXMkZG91YmxlQ2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuYXJyYXlDbGFzcyA9IG5ldyBQcmltaXRpdmVLQ2xhc3NJbXBsKEFycmF5LCAnQXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGFycmF5Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuc3RyaW5nQ2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChTdHJpbmcsICdTdHJpbmcnLCBQcmltaXRpdmVDbGFzc2VzJHN0cmluZ0NsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLnRocm93YWJsZUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoRXJyb3IsICdUaHJvd2FibGUnLCBQcmltaXRpdmVDbGFzc2VzJHRocm93YWJsZUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmJvb2xlYW5BcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoQXJyYXksICdCb29sZWFuQXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGJvb2xlYW5BcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmNoYXJBcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoVWludDE2QXJyYXksICdDaGFyQXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGNoYXJBcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmJ5dGVBcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoSW50OEFycmF5LCAnQnl0ZUFycmF5JywgUHJpbWl0aXZlQ2xhc3NlcyRieXRlQXJyYXlDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5zaG9ydEFycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChJbnQxNkFycmF5LCAnU2hvcnRBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRBcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmludEFycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChJbnQzMkFycmF5LCAnSW50QXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGludEFycmF5Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMubG9uZ0FycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChBcnJheSwgJ0xvbmdBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkbG9uZ0FycmF5Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuZmxvYXRBcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoRmxvYXQzMkFycmF5LCAnRmxvYXRBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRBcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmRvdWJsZUFycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChGbG9hdDY0QXJyYXksICdEb3VibGVBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkZG91YmxlQXJyYXlDbGFzcyRsYW1iZGEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGZ1bmN0aW9uQ2xhc3MkbGFtYmRhJGxhbWJkYShjbG9zdXJlJGFyaXR5KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbicgJiYgaXQubGVuZ3RoID09PSBjbG9zdXJlJGFyaXR5O1xuICAgICAgfTtcbiAgICB9XG4gICAgUHJpbWl0aXZlQ2xhc3Nlcy5wcm90b3R5cGUuZnVuY3Rpb25DbGFzcyA9IGZ1bmN0aW9uIChhcml0eSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgdG1wJF8wO1xuICAgICAgaWYgKCh0bXAkID0gZnVuY3Rpb25DbGFzc2VzW2FyaXR5XSkgIT0gbnVsbClcbiAgICAgICAgdG1wJF8wID0gdG1wJDtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoRnVuY3Rpb24sICdGdW5jdGlvbicgKyBhcml0eSwgUHJpbWl0aXZlQ2xhc3NlcyRmdW5jdGlvbkNsYXNzJGxhbWJkYSRsYW1iZGEoYXJpdHkpKTtcbiAgICAgICAgZnVuY3Rpb25DbGFzc2VzW2FyaXR5XSA9IHJlc3VsdDtcbiAgICAgICAgdG1wJF8wID0gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCRfMDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShpdCwgQW55KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRudW1iZXJDbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNOdW1iZXIoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGJvb2xlYW5DbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaXQgPT09ICdib29sZWFuJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRieXRlQ2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRzaG9ydENsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ251bWJlcic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkaW50Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRmbG9hdENsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ251bWJlcic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkZG91YmxlQ2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRhcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0FycmF5KGl0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRzdHJpbmdDbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaXQgPT09ICdzdHJpbmcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJHRocm93YWJsZUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUoaXQsIFRocm93YWJsZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkFycmF5Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzQm9vbGVhbkFycmF5KGl0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRjaGFyQXJyYXlDbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNDaGFyQXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGJ5dGVBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0J5dGVBcnJheShpdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1Nob3J0QXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGludEFycmF5Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzSW50QXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGxvbmdBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0xvbmdBcnJheShpdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0Zsb2F0QXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGRvdWJsZUFycmF5Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzRG91YmxlQXJyYXkoaXQpO1xuICAgIH1cbiAgICBQcmltaXRpdmVDbGFzc2VzLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdQcmltaXRpdmVDbGFzc2VzJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBQcmltaXRpdmVDbGFzc2VzX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKFByaW1pdGl2ZUNsYXNzZXNfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFByaW1pdGl2ZUNsYXNzZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcmltaXRpdmVDbGFzc2VzX2luc3RhbmNlO1xuICAgIH1cbiAgICB2YXIgZnVuY3Rpb25DbGFzc2VzO1xuICAgIGZ1bmN0aW9uIGdldEtDbGFzcyhqQ2xhc3MpIHtcbiAgICAgIHJldHVybiBnZXRPckNyZWF0ZUtDbGFzcyhqQ2xhc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbihlKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHN3aXRjaCAodHlwZW9mIGUpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLnN0cmluZ0NsYXNzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIHRtcCQgPSAoZSB8IDApID09PSBlID8gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmludENsYXNzIDogUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmRvdWJsZUNsYXNzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmJvb2xlYW5DbGFzcztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuZnVuY3Rpb25DbGFzcyhlLmxlbmd0aCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6aWYgKEtvdGxpbi5pc0Jvb2xlYW5BcnJheShlKSlcbiAgICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuYm9vbGVhbkFycmF5Q2xhc3M7XG4gICAgICAgICAgZWxzZSBpZiAoS290bGluLmlzQ2hhckFycmF5KGUpKVxuICAgICAgICAgICAgdG1wJCA9IFByaW1pdGl2ZUNsYXNzZXNfZ2V0SW5zdGFuY2UoKS5jaGFyQXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNCeXRlQXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmJ5dGVBcnJheUNsYXNzO1xuICAgICAgICAgIGVsc2UgaWYgKEtvdGxpbi5pc1Nob3J0QXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLnNob3J0QXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNJbnRBcnJheShlKSlcbiAgICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuaW50QXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNMb25nQXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmxvbmdBcnJheUNsYXNzO1xuICAgICAgICAgIGVsc2UgaWYgKEtvdGxpbi5pc0Zsb2F0QXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmZsb2F0QXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNEb3VibGVBcnJheShlKSlcbiAgICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuZG91YmxlQXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKGUsIEtDbGFzcykpXG4gICAgICAgICAgICB0bXAkID0gZ2V0S0NsYXNzKEtDbGFzcyk7XG4gICAgICAgICAgZWxzZSBpZiAoS290bGluLmlzQXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmFycmF5Q2xhc3M7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29uc3RydWN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY29uc3RydWN0b3I7XG4gICAgICAgICAgICBpZiAoY29uc3RydWN0b3IgPT09IE9iamVjdClcbiAgICAgICAgICAgICAgdG1wJCA9IFByaW1pdGl2ZUNsYXNzZXNfZ2V0SW5zdGFuY2UoKS5hbnlDbGFzcztcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnN0cnVjdG9yID09PSBFcnJvcilcbiAgICAgICAgICAgICAgdG1wJCA9IFByaW1pdGl2ZUNsYXNzZXNfZ2V0SW5zdGFuY2UoKS50aHJvd2FibGVDbGFzcztcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB2YXIganNDbGFzcyA9IGNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICB0bXAkID0gZ2V0T3JDcmVhdGVLQ2xhc3MoanNDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3JDcmVhdGVLQ2xhc3MoakNsYXNzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmIChqQ2xhc3MgPT09IFN0cmluZykge1xuICAgICAgICByZXR1cm4gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLnN0cmluZ0NsYXNzO1xuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gakNsYXNzLiRtZXRhZGF0YSQ7XG4gICAgICBpZiAobWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICBpZiAobWV0YWRhdGEuJGtDbGFzcyQgPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBrQ2xhc3MgPSBuZXcgU2ltcGxlS0NsYXNzSW1wbChqQ2xhc3MpO1xuICAgICAgICAgIG1ldGFkYXRhLiRrQ2xhc3MkID0ga0NsYXNzO1xuICAgICAgICAgIHRtcCQgPSBrQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRtcCQgPSBtZXRhZGF0YS4ka0NsYXNzJDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkID0gbmV3IFNpbXBsZUtDbGFzc0ltcGwoakNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldCgkcmVjZWl2ZXIpIHtcbiAgICAgICRyZWNlaXZlci5sYXN0SW5kZXggPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1doaXRlc3BhY2UoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcyhTdHJpbmcuZnJvbUNoYXJDb2RlKCRyZWNlaXZlciksICdbXFxcXHNcXFxceEEwXScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0Jvb2xlYW4oJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gZXF1YWxzKCRyZWNlaXZlci50b0xvd2VyQ2FzZSgpLCAndHJ1ZScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0J5dGVfMCgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgcmV0dXJuICh0bXAkID0gdG9CeXRlT3JOdWxsKCRyZWNlaXZlcikpICE9IG51bGwgPyB0bXAkIDogbnVtYmVyRm9ybWF0RXJyb3IoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9TaG9ydF8wKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0b1Nob3J0T3JOdWxsKCRyZWNlaXZlcikpICE9IG51bGwgPyB0bXAkIDogbnVtYmVyRm9ybWF0RXJyb3IoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9JbnQoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHRvSW50T3JOdWxsKCRyZWNlaXZlcikpICE9IG51bGwgPyB0bXAkIDogbnVtYmVyRm9ybWF0RXJyb3IoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Mb25nKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0b0xvbmdPck51bGwoJHJlY2VpdmVyKSkgIT0gbnVsbCA/IHRtcCQgOiBudW1iZXJGb3JtYXRFcnJvcigkcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0RvdWJsZSgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9ICskcmVjZWl2ZXI7XG4gICAgICBpZiAoaXNOYU5fMCgkcmVjZWl2ZXJfMCkgJiYgIWlzTmFOXzIoJHJlY2VpdmVyKSB8fCAoJHJlY2VpdmVyXzAgPT09IDAuMCAmJiBpc0JsYW5rKCRyZWNlaXZlcikpKVxuICAgICAgICBudW1iZXJGb3JtYXRFcnJvcigkcmVjZWl2ZXIpO1xuICAgICAgcmV0dXJuICRyZWNlaXZlcl8wO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0RvdWJsZU9yTnVsbCgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9ICskcmVjZWl2ZXI7XG4gICAgICByZXR1cm4gIShpc05hTl8wKCRyZWNlaXZlcl8wKSAmJiAhaXNOYU5fMigkcmVjZWl2ZXIpIHx8ICgkcmVjZWl2ZXJfMCA9PT0gMC4wICYmIGlzQmxhbmsoJHJlY2VpdmVyKSkpID8gJHJlY2VpdmVyXzAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc05hTl8yKCRyZWNlaXZlcikge1xuICAgICAgc3dpdGNoICgkcmVjZWl2ZXIudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICduYW4nOlxuICAgICAgICBjYXNlICcrbmFuJzpcbiAgICAgICAgY2FzZSAnLW5hbic6XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6cmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja1JhZGl4KHJhZGl4KSB7XG4gICAgICBpZiAoISgyIDw9IHJhZGl4ICYmIHJhZGl4IDw9IDM2KSkge1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdyYWRpeCAnICsgcmFkaXggKyAnIHdhcyBub3QgaW4gdmFsaWQgcmFuZ2UgMi4uMzYnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYWRpeDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlnaXRPZihjaGFyLCByYWRpeCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoY2hhciA+PSA0OCAmJiBjaGFyIDw9IDU3KVxuICAgICAgICB0bXAkID0gY2hhciAtIDQ4O1xuICAgICAgZWxzZSBpZiAoY2hhciA+PSA2NSAmJiBjaGFyIDw9IDkwKVxuICAgICAgICB0bXAkID0gY2hhciAtIDY1ICsgMTAgfCAwO1xuICAgICAgZWxzZSBpZiAoY2hhciA+PSA5NyAmJiBjaGFyIDw9IDEyMilcbiAgICAgICAgdG1wJCA9IGNoYXIgLSA5NyArIDEwIHwgMDtcbiAgICAgIGVsc2VcbiAgICAgICAgdG1wJCA9IC0xO1xuICAgICAgdmFyIGl0ID0gdG1wJDtcbiAgICAgIHJldHVybiBpdCA+PSByYWRpeCA/IC0xIDogaXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlZ2V4T3B0aW9uKG5hbWUsIG9yZGluYWwsIHZhbHVlKSB7XG4gICAgICBFbnVtLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICB0aGlzLm5hbWUkID0gbmFtZTtcbiAgICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWdleE9wdGlvbl9pbml0RmllbGRzKCkge1xuICAgICAgUmVnZXhPcHRpb25faW5pdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIH07XG4gICAgICBSZWdleE9wdGlvbiRJR05PUkVfQ0FTRV9pbnN0YW5jZSA9IG5ldyBSZWdleE9wdGlvbignSUdOT1JFX0NBU0UnLCAwLCAnaScpO1xuICAgICAgUmVnZXhPcHRpb24kTVVMVElMSU5FX2luc3RhbmNlID0gbmV3IFJlZ2V4T3B0aW9uKCdNVUxUSUxJTkUnLCAxLCAnbScpO1xuICAgIH1cbiAgICB2YXIgUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBSZWdleE9wdGlvbl9pbml0RmllbGRzKCk7XG4gICAgICByZXR1cm4gUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfaW5zdGFuY2U7XG4gICAgfVxuICAgIHZhciBSZWdleE9wdGlvbiRNVUxUSUxJTkVfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gUmVnZXhPcHRpb24kTVVMVElMSU5FX2dldEluc3RhbmNlKCkge1xuICAgICAgUmVnZXhPcHRpb25faW5pdEZpZWxkcygpO1xuICAgICAgcmV0dXJuIFJlZ2V4T3B0aW9uJE1VTFRJTElORV9pbnN0YW5jZTtcbiAgICB9XG4gICAgUmVnZXhPcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUmVnZXhPcHRpb24nLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICAgIGZ1bmN0aW9uIFJlZ2V4T3B0aW9uJHZhbHVlcygpIHtcbiAgICAgIHJldHVybiBbUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfZ2V0SW5zdGFuY2UoKSwgUmVnZXhPcHRpb24kTVVMVElMSU5FX2dldEluc3RhbmNlKCldO1xuICAgIH1cbiAgICBSZWdleE9wdGlvbi52YWx1ZXMgPSBSZWdleE9wdGlvbiR2YWx1ZXM7XG4gICAgZnVuY3Rpb24gUmVnZXhPcHRpb24kdmFsdWVPZihuYW1lKSB7XG4gICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSAnSUdOT1JFX0NBU0UnOlxuICAgICAgICAgIHJldHVybiBSZWdleE9wdGlvbiRJR05PUkVfQ0FTRV9nZXRJbnN0YW5jZSgpO1xuICAgICAgICBjYXNlICdNVUxUSUxJTkUnOlxuICAgICAgICAgIHJldHVybiBSZWdleE9wdGlvbiRNVUxUSUxJTkVfZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgZGVmYXVsdDp0aHJvd0lTRSgnTm8gZW51bSBjb25zdGFudCBrb3RsaW4udGV4dC5SZWdleE9wdGlvbi4nICsgbmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFJlZ2V4T3B0aW9uLnZhbHVlT2ZfNjF6cG9lJCA9IFJlZ2V4T3B0aW9uJHZhbHVlT2Y7XG4gICAgZnVuY3Rpb24gTWF0Y2hHcm91cCh2YWx1ZSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBNYXRjaEdyb3VwLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ01hdGNoR3JvdXAnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgTWF0Y2hHcm91cC5wcm90b3R5cGUuY29tcG9uZW50MSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH07XG4gICAgTWF0Y2hHcm91cC5wcm90b3R5cGUuY29weV82MXpwb2UkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmV3IE1hdGNoR3JvdXAodmFsdWUgPT09IHZvaWQgMCA/IHRoaXMudmFsdWUgOiB2YWx1ZSk7XG4gICAgfTtcbiAgICBNYXRjaEdyb3VwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnTWF0Y2hHcm91cCh2YWx1ZT0nICsgS290bGluLnRvU3RyaW5nKHRoaXMudmFsdWUpICsgJyknO1xuICAgIH07XG4gICAgTWF0Y2hHcm91cC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMudmFsdWUpIHwgMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNYXRjaEdyb3VwLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudmFsdWUsIG90aGVyLnZhbHVlKSkpKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFJlZ2V4KHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICAgIFJlZ2V4JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHRvU2V0Xzgob3B0aW9ucyk7XG4gICAgICB2YXIgZGVzdGluYXRpb24gPSBBcnJheUxpc3RfaW5pdF8wKGNvbGxlY3Rpb25TaXplT3JEZWZhdWx0KG9wdGlvbnMsIDEwKSk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBvcHRpb25zLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKGl0ZW0udmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYXRpdmVQYXR0ZXJuXzAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sIGpvaW5Ub1N0cmluZ184KGRlc3RpbmF0aW9uLCAnJykgKyAnZycpO1xuICAgIH1cbiAgICBSZWdleC5wcm90b3R5cGUubWF0Y2hlc182YnVsMmMkID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICByZXNldCh0aGlzLm5hdGl2ZVBhdHRlcm5fMCk7XG4gICAgICB2YXIgbWF0Y2ggPSB0aGlzLm5hdGl2ZVBhdHRlcm5fMC5leGVjKGlucHV0LnRvU3RyaW5nKCkpO1xuICAgICAgcmV0dXJuIG1hdGNoICE9IG51bGwgJiYgbWF0Y2guaW5kZXggPT09IDAgJiYgdGhpcy5uYXRpdmVQYXR0ZXJuXzAubGFzdEluZGV4ID09PSBpbnB1dC5sZW5ndGg7XG4gICAgfTtcbiAgICBSZWdleC5wcm90b3R5cGUuY29udGFpbnNNYXRjaEluXzZidWwyYyQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgIHJlc2V0KHRoaXMubmF0aXZlUGF0dGVybl8wKTtcbiAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVBhdHRlcm5fMC50ZXN0KGlucHV0LnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLmZpbmRfOTA1YXp1JCA9IGZ1bmN0aW9uIChpbnB1dCwgc3RhcnRJbmRleCkge1xuICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMClcbiAgICAgICAgc3RhcnRJbmRleCA9IDA7XG4gICAgICByZXR1cm4gZmluZE5leHQodGhpcy5uYXRpdmVQYXR0ZXJuXzAsIGlucHV0LnRvU3RyaW5nKCksIHN0YXJ0SW5kZXgpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gUmVnZXgkZmluZEFsbCRsYW1iZGEoY2xvc3VyZSRpbnB1dCwgY2xvc3VyZSRzdGFydEluZGV4LCB0aGlzJFJlZ2V4KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcyRSZWdleC5maW5kXzkwNWF6dSQoY2xvc3VyZSRpbnB1dCwgY2xvc3VyZSRzdGFydEluZGV4KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlZ2V4JGZpbmRBbGwkbGFtYmRhXzAobWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXRjaC5uZXh0KCk7XG4gICAgfVxuICAgIFJlZ2V4LnByb3RvdHlwZS5maW5kQWxsXzkwNWF6dSQgPSBmdW5jdGlvbiAoaW5wdXQsIHN0YXJ0SW5kZXgpIHtcbiAgICAgIGlmIChzdGFydEluZGV4ID09PSB2b2lkIDApXG4gICAgICAgIHN0YXJ0SW5kZXggPSAwO1xuICAgICAgcmV0dXJuIGdlbmVyYXRlU2VxdWVuY2VfMShSZWdleCRmaW5kQWxsJGxhbWJkYShpbnB1dCwgc3RhcnRJbmRleCwgdGhpcyksIFJlZ2V4JGZpbmRBbGwkbGFtYmRhXzApO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLm1hdGNoRW50aXJlXzZidWwyYyQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgIGlmIChzdGFydHNXaXRoXzEodGhpcy5wYXR0ZXJuLCA5NCkgJiYgZW5kc1dpdGhfMCh0aGlzLnBhdHRlcm4sIDM2KSlcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZF85MDVhenUkKGlucHV0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIChuZXcgUmVnZXgoJ14nICsgdHJpbUVuZF8yKHRyaW1TdGFydF8yKHRoaXMucGF0dGVybiwgS290bGluLmNoYXJBcnJheU9mKDk0KSksIEtvdGxpbi5jaGFyQXJyYXlPZigzNikpICsgJyQnLCB0aGlzLm9wdGlvbnMpKS5maW5kXzkwNWF6dSQoaW5wdXQpO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLnJlcGxhY2VfeDJ1cWV1JCA9IGZ1bmN0aW9uIChpbnB1dCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpLnJlcGxhY2UodGhpcy5uYXRpdmVQYXR0ZXJuXzAsIHJlcGxhY2VtZW50KTtcbiAgICB9O1xuICAgIFJlZ2V4LnByb3RvdHlwZS5yZXBsYWNlXzIwd3NtYSQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0LlJlZ2V4LnJlcGxhY2VfMjB3c21hJCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgU3RyaW5nQnVpbGRlcl9pbml0ID0gXy5rb3RsaW4udGV4dC5TdHJpbmdCdWlsZGVyX2luaXRfemEzbHBhJDtcbiAgICAgIHZhciBlbnN1cmVOb3ROdWxsID0gS290bGluLmVuc3VyZU5vdE51bGw7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5maW5kXzkwNWF6dSQoaW5wdXQpO1xuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbClcbiAgICAgICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIGxhc3RTdGFydCA9IDA7XG4gICAgICAgIHZhciBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIHZhciBzYiA9IFN0cmluZ0J1aWxkZXJfaW5pdChsZW5ndGgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyIGZvdW5kTWF0Y2ggPSBlbnN1cmVOb3ROdWxsKG1hdGNoKTtcbiAgICAgICAgICBzYi5hcHBlbmRfZXpic2RoJChpbnB1dCwgbGFzdFN0YXJ0LCBmb3VuZE1hdGNoLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICBzYi5hcHBlbmRfZ3cwMHY5JCh0cmFuc2Zvcm0oZm91bmRNYXRjaCkpO1xuICAgICAgICAgIGxhc3RTdGFydCA9IGZvdW5kTWF0Y2gucmFuZ2UuZW5kSW5jbHVzaXZlICsgMSB8IDA7XG4gICAgICAgICAgbWF0Y2ggPSBmb3VuZE1hdGNoLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICAgd2hpbGUgKGxhc3RTdGFydCA8IGxlbmd0aCAmJiBtYXRjaCAhPSBudWxsKTtcbiAgICAgICAgaWYgKGxhc3RTdGFydCA8IGxlbmd0aCkge1xuICAgICAgICAgIHNiLmFwcGVuZF9lemJzZGgkKGlucHV0LCBsYXN0U3RhcnQsIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG4gICAgICB9O1xuICAgIH0pKTtcbiAgICBSZWdleC5wcm90b3R5cGUucmVwbGFjZUZpcnN0X3gydXFldSQgPSBmdW5jdGlvbiAoaW5wdXQsIHJlcGxhY2VtZW50KSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXRfMChjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXIsIDEwKSk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgaXRlbSA9IHRtcCQubmV4dCgpO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGRfMTFyYiQoaXRlbS52YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YXIgbm9uR2xvYmFsT3B0aW9ucyA9IGpvaW5Ub1N0cmluZ184KGRlc3RpbmF0aW9uLCAnJyk7XG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wYXR0ZXJuLCBub25HbG9iYWxPcHRpb25zKSwgcmVwbGFjZW1lbnQpO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLnNwbGl0XzkwNWF6dSQgPSBmdW5jdGlvbiAoaW5wdXQsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgPT09IHZvaWQgMClcbiAgICAgICAgbGltaXQgPSAwO1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoIShsaW1pdCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdMaW1pdCBtdXN0IGJlIG5vbi1uZWdhdGl2ZSwgYnV0IHdhcyAnICsgbGltaXQ7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdCA9IHRoaXMuZmluZEFsbF85MDVhenUkKGlucHV0KTtcbiAgICAgIHZhciBtYXRjaGVzID0gbGltaXQgPT09IDAgPyBpdCA6IHRha2VfOShpdCwgbGltaXQgLSAxIHwgMCk7XG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICAgIHZhciBsYXN0U3RhcnQgPSAwO1xuICAgICAgdG1wJCA9IG1hdGNoZXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB0bXAkLm5leHQoKTtcbiAgICAgICAgcmVzdWx0LmFkZF8xMXJiJChLb3RsaW4uc3ViU2VxdWVuY2UoaW5wdXQsIGxhc3RTdGFydCwgbWF0Y2gucmFuZ2Uuc3RhcnQpLnRvU3RyaW5nKCkpO1xuICAgICAgICBsYXN0U3RhcnQgPSBtYXRjaC5yYW5nZS5lbmRJbmNsdXNpdmUgKyAxIHwgMDtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5hZGRfMTFyYiQoS290bGluLnN1YlNlcXVlbmNlKGlucHV0LCBsYXN0U3RhcnQsIGlucHV0Lmxlbmd0aCkudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmF0aXZlUGF0dGVybl8wLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBSZWdleCRDb21wYW5pb24oKSB7XG4gICAgICBSZWdleCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5wYXR0ZXJuRXNjYXBlXzAgPSBuZXcgUmVnRXhwKCdbLVxcXFxcXFxcXiQqKz8uKCl8W1xcXFxde31dJywgJ2cnKTtcbiAgICAgIHRoaXMucmVwbGFjZW1lbnRFc2NhcGVfMCA9IG5ldyBSZWdFeHAoJ1xcXFwkJywgJ2cnKTtcbiAgICB9XG4gICAgUmVnZXgkQ29tcGFuaW9uLnByb3RvdHlwZS5mcm9tTGl0ZXJhbF82MXpwb2UkID0gZnVuY3Rpb24gKGxpdGVyYWwpIHtcbiAgICAgIHJldHVybiBSZWdleF9pbml0XzAodGhpcy5lc2NhcGVfNjF6cG9lJChsaXRlcmFsKSk7XG4gICAgfTtcbiAgICBSZWdleCRDb21wYW5pb24ucHJvdG90eXBlLmVzY2FwZV82MXpwb2UkID0gZnVuY3Rpb24gKGxpdGVyYWwpIHtcbiAgICAgIHJldHVybiBsaXRlcmFsLnJlcGxhY2UodGhpcy5wYXR0ZXJuRXNjYXBlXzAsICdcXFxcJCYnKTtcbiAgICB9O1xuICAgIFJlZ2V4JENvbXBhbmlvbi5wcm90b3R5cGUuZXNjYXBlUmVwbGFjZW1lbnRfNjF6cG9lJCA9IGZ1bmN0aW9uIChsaXRlcmFsKSB7XG4gICAgICByZXR1cm4gbGl0ZXJhbC5yZXBsYWNlKHRoaXMucmVwbGFjZW1lbnRFc2NhcGVfMCwgJyQkJCQnKTtcbiAgICB9O1xuICAgIFJlZ2V4JENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBSZWdleCRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIFJlZ2V4JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChSZWdleCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFJlZ2V4JENvbXBhbmlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlZ2V4JENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgUmVnZXguJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUmVnZXgnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gUmVnZXhfaW5pdChwYXR0ZXJuLCBvcHRpb24sICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoUmVnZXgucHJvdG90eXBlKTtcbiAgICAgIFJlZ2V4LmNhbGwoJHRoaXMsIHBhdHRlcm4sIHNldE9mKG9wdGlvbikpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWdleF9pbml0XzAocGF0dGVybiwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShSZWdleC5wcm90b3R5cGUpO1xuICAgICAgUmVnZXguY2FsbCgkdGhpcywgcGF0dGVybiwgZW1wdHlTZXQoKSk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwoY2xvc3VyZSRtYXRjaCwgdGhpcyRmaW5kTmV4dCwgY2xvc3VyZSRpbnB1dCwgY2xvc3VyZSRyYW5nZSkge1xuICAgICAgdGhpcy5jbG9zdXJlJG1hdGNoID0gY2xvc3VyZSRtYXRjaDtcbiAgICAgIHRoaXMudGhpcyRmaW5kTmV4dCA9IHRoaXMkZmluZE5leHQ7XG4gICAgICB0aGlzLmNsb3N1cmUkaW5wdXQgPSBjbG9zdXJlJGlucHV0O1xuICAgICAgdGhpcy5jbG9zdXJlJHJhbmdlID0gY2xvc3VyZSRyYW5nZTtcbiAgICAgIHRoaXMucmFuZ2VfY282Yjl3JF8wID0gY2xvc3VyZSRyYW5nZTtcbiAgICAgIHRoaXMuZ3JvdXBzX3FjYXp0YiRfMCA9IG5ldyBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwcyRPYmplY3RMaXRlcmFsKGNsb3N1cmUkbWF0Y2gpO1xuICAgICAgdGhpcy5ncm91cFZhbHVlc19fMCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ3JhbmdlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmFuZ2VfY282Yjl3JF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmluZE5leHQkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUsICd2YWx1ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBlbnN1cmVOb3ROdWxsKHRoaXMuY2xvc3VyZSRtYXRjaFswXSk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2dyb3VwcycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdyb3Vwc19xY2F6dGIkXzA7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ2V0X2ZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBWYWx1ZXMkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJG1hdGNoKSB7XG4gICAgICB0aGlzLmNsb3N1cmUkbWF0Y2ggPSBjbG9zdXJlJG1hdGNoO1xuICAgICAgQWJzdHJhY3RMaXN0LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkbWF0Y2gubGVuZ3RoO1xuICAgIH19KTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmdldF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHRoaXMuY2xvc3VyZSRtYXRjaFtpbmRleF0pICE9IG51bGwgPyB0bXAkIDogJyc7XG4gICAgfTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RMaXN0XX07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZpbmROZXh0JE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnZ3JvdXBWYWx1ZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5ncm91cFZhbHVlc19fMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZ3JvdXBWYWx1ZXNfXzAgPSBuZXcgZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRnZXRfZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cFZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMuY2xvc3VyZSRtYXRjaCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW5zdXJlTm90TnVsbCh0aGlzLmdyb3VwVmFsdWVzX18wKTtcbiAgICB9fSk7XG4gICAgZmluZE5leHQkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmaW5kTmV4dCh0aGlzLnRoaXMkZmluZE5leHQsIHRoaXMuY2xvc3VyZSRpbnB1dCwgdGhpcy5jbG9zdXJlJHJhbmdlLmlzRW1wdHkoKSA/IHRoaXMuY2xvc3VyZSRyYW5nZS5zdGFydCArIDEgfCAwIDogdGhpcy5jbG9zdXJlJHJhbmdlLmVuZEluY2x1c2l2ZSArIDEgfCAwKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBzJE9iamVjdExpdGVyYWwoY2xvc3VyZSRtYXRjaCkge1xuICAgICAgdGhpcy5jbG9zdXJlJG1hdGNoID0gY2xvc3VyZSRtYXRjaDtcbiAgICAgIEFic3RyYWN0Q29sbGVjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRtYXRjaC5sZW5ndGg7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkbGFtYmRhKHRoaXMkKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzJC5nZXRfemEzbHBhJChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtYXBfMTAoYXNTZXF1ZW5jZV84KGdldF9pbmRpY2VzXzEyKHRoaXMpKSwgZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRsYW1iZGEodGhpcykpLml0ZXJhdG9yKCk7XG4gICAgfTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5nZXRfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0aGlzLmNsb3N1cmUkbWF0Y2hbaW5kZXhdKSAhPSBudWxsID8gbmV3IE1hdGNoR3JvdXAodG1wJCkgOiBudWxsO1xuICAgIH07XG4gICAgZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtBYnN0cmFjdENvbGxlY3Rpb24sIE1hdGNoR3JvdXBDb2xsZWN0aW9uXX07XG4gICAgZmluZE5leHQkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtNYXRjaFJlc3VsdF19O1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0KCRyZWNlaXZlciwgaW5wdXQsIGZyb20pIHtcbiAgICAgICRyZWNlaXZlci5sYXN0SW5kZXggPSBmcm9tO1xuICAgICAgdmFyIG1hdGNoID0gJHJlY2VpdmVyLmV4ZWMoaW5wdXQpO1xuICAgICAgaWYgKG1hdGNoID09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgdmFyIHJhbmdlID0gbmV3IEludFJhbmdlKG1hdGNoLmluZGV4LCAkcmVjZWl2ZXIubGFzdEluZGV4IC0gMSB8IDApO1xuICAgICAgcmV0dXJuIG5ldyBmaW5kTmV4dCRPYmplY3RMaXRlcmFsKG1hdGNoLCAkcmVjZWl2ZXIsIGlucHV0LCByYW5nZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBhcmF0b3IkT2JqZWN0TGl0ZXJhbF8wKGNsb3N1cmUkY29tcGFyaXNvbikge1xuICAgICAgdGhpcy5jbG9zdXJlJGNvbXBhcmlzb24gPSBjbG9zdXJlJGNvbXBhcmlzb247XG4gICAgfVxuICAgIENvbXBhcmF0b3IkT2JqZWN0TGl0ZXJhbF8wLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkY29tcGFyaXNvbihhLCBiKTtcbiAgICB9O1xuICAgIENvbXBhcmF0b3IkT2JqZWN0TGl0ZXJhbF8wLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0NvbXBhcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBTdHJpbmdfMihjaGFycywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKG9mZnNldCA8IDAgfHwgbGVuZ3RoIDwgMCB8fCAoY2hhcnMubGVuZ3RoIC0gb2Zmc2V0IHwgMCkgPCBsZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKCdzaXplOiAnICsgY2hhcnMubGVuZ3RoICsgJzsgb2Zmc2V0OiAnICsgb2Zmc2V0ICsgJzsgbGVuZ3RoOiAnICsgbGVuZ3RoKTtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIHRtcCQgPSBvZmZzZXQgKyBsZW5ndGggfCAwO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSBvZmZzZXQ7IGluZGV4IDwgdG1wJDsgaW5kZXgrKykge1xuICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZVRvKCRyZWNlaXZlciwgb3RoZXIsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmIChpZ25vcmVDYXNlKSB7XG4gICAgICAgIHZhciBuMSA9ICRyZWNlaXZlci5sZW5ndGg7XG4gICAgICAgIHZhciBuMiA9IG90aGVyLmxlbmd0aDtcbiAgICAgICAgdmFyIG1pbiA9IE1hdGhfMC5taW4objEsIG4yKTtcbiAgICAgICAgaWYgKG1pbiA9PT0gMClcbiAgICAgICAgICByZXR1cm4gbjEgLSBuMiB8IDA7XG4gICAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGVuZCA9IE1hdGhfMC5taW4oc3RhcnQgKyAxNiB8IDAsIG1pbik7XG4gICAgICAgICAgdmFyIHMxID0gJHJlY2VpdmVyLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgICB2YXIgczIgPSBvdGhlci5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgaWYgKCFlcXVhbHMoczEsIHMyKSkge1xuICAgICAgICAgICAgczEgPSBzMS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgczIgPSBzMi50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKCFlcXVhbHMoczEsIHMyKSkge1xuICAgICAgICAgICAgICBzMSA9IHMxLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgIHMyID0gczIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgaWYgKCFlcXVhbHMoczEsIHMyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBLb3RsaW4uY29tcGFyZVRvKHMxLCBzMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVuZCA9PT0gbWluKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgc3RhcnQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4xIC0gbjIgfCAwO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gS290bGluLmNvbXBhcmVUbygkcmVjZWl2ZXIsIG90aGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gU1RSSU5HX0NBU0VfSU5TRU5TSVRJVkVfT1JERVIkbGFtYmRhKGEsIGIpIHtcbiAgICAgIHJldHVybiBjb21wYXJlVG8oYSwgYiwgdHJ1ZSk7XG4gICAgfVxuICAgIHZhciBTVFJJTkdfQ0FTRV9JTlNFTlNJVElWRV9PUkRFUjtcbiAgICBmdW5jdGlvbiBtYXRjaGVzKCRyZWNlaXZlciwgcmVnZXgpIHtcbiAgICAgIHZhciByZXN1bHQgPSAkcmVjZWl2ZXIubWF0Y2gocmVnZXgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCAhPSBudWxsICYmIHJlc3VsdC5sZW5ndGggIT09IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQmxhbmsoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyLmxlbmd0aCA9PT0gMCB8fCBtYXRjaGVzKHR5cGVvZiAkcmVjZWl2ZXIgPT09ICdzdHJpbmcnID8gJHJlY2VpdmVyIDogJHJlY2VpdmVyLnRvU3RyaW5nKCksICdeW1xcXFxzXFxcXHhBMF0rJCcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlcXVhbHNfMCgkcmVjZWl2ZXIsIG90aGVyLCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICgkcmVjZWl2ZXIgPT0gbnVsbClcbiAgICAgICAgdG1wJCA9IG90aGVyID09IG51bGw7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRtcCRfMDtcbiAgICAgICAgaWYgKCFpZ25vcmVDYXNlKVxuICAgICAgICAgIHRtcCRfMCA9IGVxdWFscygkcmVjZWl2ZXIsIG90aGVyKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHRtcCRfMSA9IG90aGVyICE9IG51bGw7XG4gICAgICAgICAgaWYgKHRtcCRfMSkge1xuICAgICAgICAgICAgdG1wJF8xID0gZXF1YWxzKCRyZWNlaXZlci50b0xvd2VyQ2FzZSgpLCBvdGhlci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG1wJF8wID0gdG1wJF8xO1xuICAgICAgICB9XG4gICAgICAgIHRtcCQgPSB0bXAkXzA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaW9uTWF0Y2hlcygkcmVjZWl2ZXIsIHRoaXNPZmZzZXQsIG90aGVyLCBvdGhlck9mZnNldCwgbGVuZ3RoLCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICByZXR1cm4gcmVnaW9uTWF0Y2hlc0ltcGwoJHJlY2VpdmVyLCB0aGlzT2Zmc2V0LCBvdGhlciwgb3RoZXJPZmZzZXQsIGxlbmd0aCwgaWdub3JlQ2FzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxhY2UoJHJlY2VpdmVyLCBvbGRWYWx1ZSwgbmV3VmFsdWUsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIucmVwbGFjZShuZXcgUmVnRXhwKFJlZ2V4JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmVzY2FwZV82MXpwb2UkKG9sZFZhbHVlKSwgaWdub3JlQ2FzZSA/ICdnaScgOiAnZycpLCBSZWdleCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5lc2NhcGVSZXBsYWNlbWVudF82MXpwb2UkKG5ld1ZhbHVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEFwcGVuZGFibGUoKSB7XG4gICAgfVxuICAgIEFwcGVuZGFibGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0FwcGVuZGFibGUnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcihjb250ZW50KSB7XG4gICAgICBpZiAoY29udGVudCA9PT0gdm9pZCAwKVxuICAgICAgICBjb250ZW50ID0gJyc7XG4gICAgICB0aGlzLnN0cmluZ18wID0gY29udGVudDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLCAnbGVuZ3RoJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nXzAubGVuZ3RoO1xuICAgIH19KTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5jaGFyQ29kZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5zdHJpbmdfMDtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPD0gZ2V0X2xhc3RJbmRleF8xMygkcmVjZWl2ZXIpKVxuICAgICAgICB0bXAkID0gJHJlY2VpdmVyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKCdpbmRleDogJyArIGluZGV4ICsgJywgbGVuZ3RoOiAnICsgdGhpcy5sZW5ndGggKyAnfScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJTZXF1ZW5jZV92dXg5ZjAkID0gZnVuY3Rpb24gKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJpbmdfMC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kX3M4aXR2aCQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgdGhpcy5zdHJpbmdfMCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmRfZ3cwMHY5JCA9IGZ1bmN0aW9uIChjc3EpIHtcbiAgICAgIHRoaXMuc3RyaW5nXzAgKz0gdG9TdHJpbmcoY3NxKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kX2V6YnNkaCQgPSBmdW5jdGlvbiAoY3NxLCBzdGFydCwgZW5kKSB7XG4gICAgICB0aGlzLnN0cmluZ18wICs9IHRvU3RyaW5nKGNzcSkuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmRfczhqeXY0JCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHRoaXMuc3RyaW5nXzAgKz0gdG9TdHJpbmcob2JqKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuc3RyaW5nXzAgPSB0aGlzLnN0cmluZ18wLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zdHJpbmdfMCA9ICcnO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmluZ18wO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTdHJpbmdCdWlsZGVyJywgaW50ZXJmYWNlczogW0NoYXJTZXF1ZW5jZSwgQXBwZW5kYWJsZV19O1xuICAgIGZ1bmN0aW9uIFN0cmluZ0J1aWxkZXJfaW5pdChjYXBhY2l0eSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShTdHJpbmdCdWlsZGVyLnByb3RvdHlwZSk7XG4gICAgICBTdHJpbmdCdWlsZGVyX2luaXRfMSgkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFN0cmluZ0J1aWxkZXJfaW5pdF8xKCR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoU3RyaW5nQnVpbGRlci5wcm90b3R5cGUpO1xuICAgICAgU3RyaW5nQnVpbGRlci5jYWxsKCR0aGlzLCAnJyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIHZhciBNQVhfQllURVNfUEVSX0NIQVI7XG4gICAgdmFyIFJFUExBQ0VNRU5UX0JZVEVfU0VRVUVOQ0U7XG4gICAgdmFyIFJFUExBQ0VNRU5UX0NIQVI7XG4gICAgdmFyIER1cmF0aW9uVW5pdCROQU5PU0VDT05EU19pbnN0YW5jZTtcbiAgICB2YXIgRHVyYXRpb25Vbml0JE1JQ1JPU0VDT05EU19pbnN0YW5jZTtcbiAgICB2YXIgRHVyYXRpb25Vbml0JE1JTExJU0VDT05EU19pbnN0YW5jZTtcbiAgICB2YXIgRHVyYXRpb25Vbml0JFNFQ09ORFNfaW5zdGFuY2U7XG4gICAgdmFyIER1cmF0aW9uVW5pdCRNSU5VVEVTX2luc3RhbmNlO1xuICAgIHZhciBEdXJhdGlvblVuaXQkSE9VUlNfaW5zdGFuY2U7XG4gICAgdmFyIER1cmF0aW9uVW5pdCREQVlTX2luc3RhbmNlO1xuICAgIHZhciBNb25vQ2xvY2tfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBEYXRlTm93Q2xvY2tfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBFeHBlcmltZW50YWwkTGV2ZWwkV0FSTklOR19pbnN0YW5jZTtcbiAgICB2YXIgRXhwZXJpbWVudGFsJExldmVsJEVSUk9SX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0Q29sbGVjdGlvbigpIHtcbiAgICB9XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWluc18xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgYW55JHJlc3VsdDtcbiAgICAgIGFueSRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUodGhpcywgQ29sbGVjdGlvbikgJiYgdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRtcCQgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50XzAgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoZXF1YWxzKGVsZW1lbnRfMCwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGFueSRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbnkkcmVzdWx0O1xuICAgIH07XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWluc0FsbF9icnl3bnEkID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICB2YXIgYWxsJHJlc3VsdDtcbiAgICAgIGFsbCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudHMsIENvbGxlY3Rpb24pICYmIGVsZW1lbnRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFsbCRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gZWxlbWVudHMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbnNfMTFyYiQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGFsbCRyZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWxsJHJlc3VsdCA9IHRydWU7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbGwkcmVzdWx0O1xuICAgIH07XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZSA9PT0gMDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0Q29sbGVjdGlvbiR0b1N0cmluZyRsYW1iZGEodGhpcyRBYnN0cmFjdENvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgcmV0dXJuIGl0ID09PSB0aGlzJEFic3RyYWN0Q29sbGVjdGlvbiA/ICcodGhpcyBDb2xsZWN0aW9uKScgOiB0b1N0cmluZyhpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGpvaW5Ub1N0cmluZ184KHRoaXMsICcsICcsICdbJywgJ10nLCB2b2lkIDAsIHZvaWQgMCwgQWJzdHJhY3RDb2xsZWN0aW9uJHRvU3RyaW5nJGxhbWJkYSh0aGlzKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY29weVRvQXJyYXlJbXBsKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5X3JvNmRneSQgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgIHJldHVybiBjb3B5VG9BcnJheUltcGxfMCh0aGlzLCBhcnJheSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdENvbGxlY3Rpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RDb2xsZWN0aW9uJywgaW50ZXJmYWNlczogW0NvbGxlY3Rpb25dfTtcbiAgICB2YXIgU3RhdGUkUmVhZHlfaW5zdGFuY2U7XG4gICAgdmFyIFN0YXRlJE5vdFJlYWR5X2luc3RhbmNlO1xuICAgIHZhciBTdGF0ZSREb25lX2luc3RhbmNlO1xuICAgIHZhciBTdGF0ZSRGYWlsZWRfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RMaXN0KCkge1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgQWJzdHJhY3RDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TGlzdCRJdGVyYXRvckltcGwodGhpcyk7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QucHJvdG90eXBlLmluZGV4T2ZfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIGluZGV4T2ZGaXJzdCRyZXN1bHQ7XG4gICAgICBpbmRleE9mRmlyc3QkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHRtcCQgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBpdGVtID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKGVxdWFscyhpdGVtLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgaW5kZXhPZkZpcnN0JHJlc3VsdCA9IGluZGV4O1xuICAgICAgICAgICAgYnJlYWsgaW5kZXhPZkZpcnN0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbmRleCA9IGluZGV4ICsgMSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhPZkZpcnN0JHJlc3VsdCA9IC0xO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICByZXR1cm4gaW5kZXhPZkZpcnN0JHJlc3VsdDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUubGFzdEluZGV4T2ZfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIGluZGV4T2ZMYXN0JHJlc3VsdDtcbiAgICAgIGluZGV4T2ZMYXN0JGJyZWFrOiBkbyB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMubGlzdEl0ZXJhdG9yX3phM2xwYSQodGhpcy5zaXplKTtcbiAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLmhhc1ByZXZpb3VzKCkpIHtcbiAgICAgICAgICBpZiAoZXF1YWxzKGl0ZXJhdG9yLnByZXZpb3VzKCksIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpbmRleE9mTGFzdCRyZXN1bHQgPSBpdGVyYXRvci5uZXh0SW5kZXgoKTtcbiAgICAgICAgICAgIGJyZWFrIGluZGV4T2ZMYXN0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleE9mTGFzdCRyZXN1bHQgPSAtMTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgICAgcmV0dXJuIGluZGV4T2ZMYXN0JHJlc3VsdDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUubGlzdEl0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbCh0aGlzLCAwKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUubGlzdEl0ZXJhdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RMaXN0JExpc3RJdGVyYXRvckltcGwodGhpcywgaW5kZXgpO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0LnByb3RvdHlwZS5zdWJMaXN0X3Z1eDlmMCQgPSBmdW5jdGlvbiAoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TGlzdCRTdWJMaXN0KHRoaXMsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdExpc3QkU3ViTGlzdChsaXN0LCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICAgIEFic3RyYWN0TGlzdC5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5saXN0XzAgPSBsaXN0O1xuICAgICAgdGhpcy5mcm9tSW5kZXhfMCA9IGZyb21JbmRleDtcbiAgICAgIHRoaXMuX3NpemVfMCA9IDA7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tSYW5nZUluZGV4ZXNfY3ViNTFiJCh0aGlzLmZyb21JbmRleF8wLCB0b0luZGV4LCB0aGlzLmxpc3RfMC5zaXplKTtcbiAgICAgIHRoaXMuX3NpemVfMCA9IHRvSW5kZXggLSB0aGlzLmZyb21JbmRleF8wIHwgMDtcbiAgICB9XG4gICAgQWJzdHJhY3RMaXN0JFN1Ykxpc3QucHJvdG90eXBlLmdldF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tFbGVtZW50SW5kZXhfNnh2bTVyJChpbmRleCwgdGhpcy5fc2l6ZV8wKTtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RfMC5nZXRfemEzbHBhJCh0aGlzLmZyb21JbmRleF8wICsgaW5kZXggfCAwKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdExpc3QkU3ViTGlzdC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpemVfMDtcbiAgICB9fSk7XG4gICAgQWJzdHJhY3RMaXN0JFN1Ykxpc3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU3ViTGlzdCcsIGludGVyZmFjZXM6IFtSYW5kb21BY2Nlc3MsIEFic3RyYWN0TGlzdF19O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT09IHRoaXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBMaXN0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5vcmRlcmVkRXF1YWxzX2U5MmthNyQodGhpcywgb3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkub3JkZXJlZEhhc2hDb2RlX255a29pZiQodGhpcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsKCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICB0aGlzLmluZGV4XzAgPSAwO1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhfMCA8IHRoaXMuJG91dGVyLnNpemU7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIGlmICghdGhpcy5oYXNOZXh0KCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgdG1wJF8wID0gKHRtcCQgPSB0aGlzLmluZGV4XzAsIHRoaXMuaW5kZXhfMCA9IHRtcCQgKyAxIHwgMCwgdG1wJCk7XG4gICAgICByZXR1cm4gdGhpcy4kb3V0ZXIuZ2V0X3phM2xwYSQodG1wJF8wKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRJdGVyYXRvckltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSXRlcmF0b3JJbXBsJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RMaXN0JExpc3RJdGVyYXRvckltcGwoJG91dGVyLCBpbmRleCkge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsLmNhbGwodGhpcywgdGhpcy4kb3V0ZXIpO1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmNoZWNrUG9zaXRpb25JbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLiRvdXRlci5zaXplKTtcbiAgICAgIHRoaXMuaW5kZXhfMCA9IGluZGV4O1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUuaGFzUHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wID4gMDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0JExpc3RJdGVyYXRvckltcGwucHJvdG90eXBlLnByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmhhc1ByZXZpb3VzKCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLmdldF96YTNscGEkKCh0aGlzLmluZGV4XzAgPSB0aGlzLmluZGV4XzAgLSAxIHwgMCwgdGhpcy5pbmRleF8wKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUucHJldmlvdXNJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgLSAxIHwgMDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRMaXN0SXRlcmF0b3JJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpc3RJdGVyYXRvckltcGwnLCBpbnRlcmZhY2VzOiBbTGlzdEl0ZXJhdG9yLCBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RMaXN0JENvbXBhbmlvbigpIHtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5jaGVja0VsZW1lbnRJbmRleF82eHZtNXIkID0gZnVuY3Rpb24gKGluZGV4LCBzaXplKSB7XG4gICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2luZGV4OiAnICsgaW5kZXggKyAnLCBzaXplOiAnICsgc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uSW5kZXhfNnh2bTVyJCA9IGZ1bmN0aW9uIChpbmRleCwgc2l6ZSkge1xuICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2luZGV4OiAnICsgaW5kZXggKyAnLCBzaXplOiAnICsgc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5jaGVja1JhbmdlSW5kZXhlc19jdWI1MWIkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCwgc2l6ZSkge1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA+IHNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2Zyb21JbmRleDogJyArIGZyb21JbmRleCArICcsIHRvSW5kZXg6ICcgKyB0b0luZGV4ICsgJywgc2l6ZTogJyArIHNpemUpO1xuICAgICAgfVxuICAgICAgaWYgKGZyb21JbmRleCA+IHRvSW5kZXgpIHtcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnZnJvbUluZGV4OiAnICsgZnJvbUluZGV4ICsgJyA+IHRvSW5kZXg6ICcgKyB0b0luZGV4KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb24ucHJvdG90eXBlLmNoZWNrQm91bmRzSW5kZXhlc19jdWI1MWIkID0gZnVuY3Rpb24gKHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBzaXplKSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA8IDAgfHwgZW5kSW5kZXggPiBzaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKCdzdGFydEluZGV4OiAnICsgc3RhcnRJbmRleCArICcsIGVuZEluZGV4OiAnICsgZW5kSW5kZXggKyAnLCBzaXplOiAnICsgc2l6ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnRJbmRleCA+IGVuZEluZGV4KSB7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ3N0YXJ0SW5kZXg6ICcgKyBzdGFydEluZGV4ICsgJyA+IGVuZEluZGV4OiAnICsgZW5kSW5kZXgpO1xuICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbi5wcm90b3R5cGUub3JkZXJlZEhhc2hDb2RlX255a29pZiQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIHZhciBoYXNoQ29kZV8wID0gMTtcbiAgICAgIHRtcCQgPSBjLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGUgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgaGFzaENvZGVfMCA9ICgzMSAqIGhhc2hDb2RlXzAgfCAwKSArICgodG1wJF8wID0gZSAhPSBudWxsID8gaGFzaENvZGUoZSkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogMCkgfCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc2hDb2RlXzA7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5vcmRlcmVkRXF1YWxzX2U5MmthNyQgPSBmdW5jdGlvbiAoYywgb3RoZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKGMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIG90aGVySXRlcmF0b3IgPSBvdGhlci5pdGVyYXRvcigpO1xuICAgICAgdG1wJCA9IGMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbSA9IHRtcCQubmV4dCgpO1xuICAgICAgICB2YXIgZWxlbU90aGVyID0gb3RoZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmICghZXF1YWxzKGVsZW0sIGVsZW1PdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEFic3RyYWN0TGlzdCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEFic3RyYWN0TGlzdCRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RMaXN0JywgaW50ZXJmYWNlczogW0xpc3QsIEFic3RyYWN0Q29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwKCkge1xuICAgICAgQWJzdHJhY3RNYXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgICB0aGlzLl9rZXlzX3VwNXozeiRfMCA9IG51bGw7XG4gICAgICB0aGlzLl92YWx1ZXNfNm53MWYxJF8wID0gbnVsbDtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmNvbnRhaW5zS2V5XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW1wbEZpbmRFbnRyeV84azFpMjQkXzAoa2V5KSAhPSBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmNvbnRhaW5zVmFsdWVfMTFyYyQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgYW55JHJlc3VsdDtcbiAgICAgIGFueSRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBDb2xsZWN0aW9uKSAmJiAkcmVjZWl2ZXIuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgYW55JHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrIGFueSRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKGVxdWFscyhlbGVtZW50LnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIGFueSRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbnkkcmVzdWx0O1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmNvbnRhaW5zRW50cnlfOGh4cXc0JCA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKGVudHJ5LCBNYXAkRW50cnkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIga2V5ID0gZW50cnkua2V5O1xuICAgICAgdmFyIHZhbHVlID0gZW50cnkudmFsdWU7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciBvdXJWYWx1ZSA9IChLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLCBNYXApID8gdG1wJCA6IHRocm93Q0NFKCkpLmdldF8xMXJiJChrZXkpO1xuICAgICAgaWYgKCFlcXVhbHModmFsdWUsIG91clZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdG1wJF8wID0gb3VyVmFsdWUgPT0gbnVsbDtcbiAgICAgIGlmICh0bXAkXzApIHtcbiAgICAgICAgdmFyIHRtcCRfMTtcbiAgICAgICAgdG1wJF8wID0gIShLb3RsaW4uaXNUeXBlKHRtcCRfMSA9IHRoaXMsIE1hcCkgPyB0bXAkXzEgOiB0aHJvd0NDRSgpKS5jb250YWluc0tleV8xMXJiJChrZXkpO1xuICAgICAgfVxuICAgICAgaWYgKHRtcCRfMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIGlmIChvdGhlciA9PT0gdGhpcylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIE1hcCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICh0aGlzLnNpemUgIT09IG90aGVyLnNpemUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBvdGhlci5lbnRyaWVzO1xuICAgICAgdmFyIGFsbCRyZXN1bHQ7XG4gICAgICBhbGwkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgQ29sbGVjdGlvbikgJiYgJHJlY2VpdmVyLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFsbCRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zRW50cnlfOGh4cXc0JChlbGVtZW50KSkge1xuICAgICAgICAgICAgYWxsJHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWsgYWxsJGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbGwkcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgICAgcmV0dXJuIGFsbCRyZXN1bHQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hcC5wcm90b3R5cGUuZ2V0XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0aGlzLmltcGxGaW5kRW50cnlfOGsxaTI0JF8wKGtleSkpICE9IG51bGwgPyB0bXAkLnZhbHVlIDogbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBoYXNoQ29kZSh0aGlzLmVudHJpZXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaXplID09PSAwO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TWFwLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLnNpemU7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwodGhpcyRBYnN0cmFjdE1hcCkge1xuICAgICAgdGhpcy50aGlzJEFic3RyYWN0TWFwID0gdGhpcyRBYnN0cmFjdE1hcDtcbiAgICAgIEFic3RyYWN0U2V0LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkQWJzdHJhY3RNYXAuY29udGFpbnNLZXlfMTFyYiQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAka2V5cyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRlbnRyeUl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLmNsb3N1cmUkZW50cnlJdGVyYXRvciA9IGNsb3N1cmUkZW50cnlJdGVyYXRvcjtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLmhhc05leHQoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkZW50cnlJdGVyYXRvci5uZXh0KCkua2V5O1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZW50cnlJdGVyYXRvciA9IHRoaXMudGhpcyRBYnN0cmFjdE1hcC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChlbnRyeUl0ZXJhdG9yKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TWFwLnNpemU7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RTZXRdfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNYXAucHJvdG90eXBlLCAna2V5cycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLl9rZXlzX3VwNXozeiRfMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2tleXNfdXA1ejN6JF8wID0gbmV3IEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW5zdXJlTm90TnVsbCh0aGlzLl9rZXlzX3VwNXozeiRfMCk7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJHRvU3RyaW5nJGxhbWJkYSh0aGlzJEFic3RyYWN0TWFwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzJEFic3RyYWN0TWFwLnRvU3RyaW5nXzU1aGU2NyRfMChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdE1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gam9pblRvU3RyaW5nXzgodGhpcy5lbnRyaWVzLCAnLCAnLCAneycsICd9Jywgdm9pZCAwLCB2b2lkIDAsIEFic3RyYWN0TWFwJHRvU3RyaW5nJGxhbWJkYSh0aGlzKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hcC5wcm90b3R5cGUudG9TdHJpbmdfNTVoZTY3JF8wID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICByZXR1cm4gdGhpcy50b1N0cmluZ19rdGh2OHMkXzAoZW50cnkua2V5KSArICc9JyArIHRoaXMudG9TdHJpbmdfa3RodjhzJF8wKGVudHJ5LnZhbHVlKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS50b1N0cmluZ19rdGh2OHMkXzAgPSBmdW5jdGlvbiAobykge1xuICAgICAgcmV0dXJuIG8gPT09IHRoaXMgPyAnKHRoaXMgTWFwKScgOiB0b1N0cmluZyhvKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbCh0aGlzJEFic3RyYWN0TWFwKSB7XG4gICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNYXAgPSB0aGlzJEFic3RyYWN0TWFwO1xuICAgICAgQWJzdHJhY3RDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhpcyRBYnN0cmFjdE1hcC5jb250YWluc1ZhbHVlXzExcmMkKGVsZW1lbnQpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRlbnRyeUl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLmNsb3N1cmUkZW50cnlJdGVyYXRvciA9IGNsb3N1cmUkZW50cnlJdGVyYXRvcjtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IuaGFzTmV4dCgpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IubmV4dCgpLnZhbHVlO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVudHJ5SXRlcmF0b3IgPSB0aGlzLnRoaXMkQWJzdHJhY3RNYXAuZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgcmV0dXJuIG5ldyBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChlbnRyeUl0ZXJhdG9yKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkQWJzdHJhY3RNYXAuc2l6ZTtcbiAgICB9fSk7XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0Fic3RyYWN0Q29sbGVjdGlvbl19O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1hcC5wcm90b3R5cGUsICd2YWx1ZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5fdmFsdWVzXzZudzFmMSRfMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlc182bncxZjEkXzAgPSBuZXcgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fdmFsdWVzXzZudzFmMSRfMCk7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS5pbXBsRmluZEVudHJ5XzhrMWkyNCRfMCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgZmlyc3RPck51bGwkcmVzdWx0O1xuICAgICAgZmlyc3RPck51bGwkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoZXF1YWxzKGVsZW1lbnQua2V5LCBrZXkpKSB7XG4gICAgICAgICAgICBmaXJzdE9yTnVsbCRyZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgICAgYnJlYWsgZmlyc3RPck51bGwkYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpcnN0T3JOdWxsJHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBmaXJzdE9yTnVsbCRyZXN1bHQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE1hcCRDb21wYW5pb24oKSB7XG4gICAgICBBYnN0cmFjdE1hcCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdE1hcCRDb21wYW5pb24ucHJvdG90eXBlLmVudHJ5SGFzaENvZGVfOWZ0aGRuJCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzEsIHRtcCRfMjtcbiAgICAgIHJldHVybiAoKHRtcCRfMCA9ICh0bXAkID0gZS5rZXkpICE9IG51bGwgPyBoYXNoQ29kZSh0bXAkKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiAwKSBeICgodG1wJF8yID0gKHRtcCRfMSA9IGUudmFsdWUpICE9IG51bGwgPyBoYXNoQ29kZSh0bXAkXzEpIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMiA6IDApO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkQ29tcGFuaW9uLnByb3RvdHlwZS5lbnRyeVRvU3RyaW5nXzlmdGhkbiQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKGUua2V5KSArICc9JyArIHRvU3RyaW5nKGUudmFsdWUpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkQ29tcGFuaW9uLnByb3RvdHlwZS5lbnRyeUVxdWFsc19qczdmb3gkID0gZnVuY3Rpb24gKGUsIG90aGVyKSB7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIE1hcCRFbnRyeSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBlcXVhbHMoZS5rZXksIG90aGVyLmtleSkgJiYgZXF1YWxzKGUudmFsdWUsIG90aGVyLnZhbHVlKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBBYnN0cmFjdE1hcCRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChBYnN0cmFjdE1hcCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEFic3RyYWN0TWFwJENvbXBhbmlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEFic3RyYWN0TWFwJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RNYXAnLCBpbnRlcmZhY2VzOiBbTWFwXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RTZXQoKSB7XG4gICAgICBBYnN0cmFjdFNldCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIEFic3RyYWN0Q29sbGVjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBBYnN0cmFjdFNldC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT09IHRoaXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBTZXQpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2V0RXF1YWxzX3k4ZjdlbiQodGhpcywgb3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RTZXQucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEFic3RyYWN0U2V0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnVub3JkZXJlZEhhc2hDb2RlX255a29pZiQodGhpcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFNldCRDb21wYW5pb24oKSB7XG4gICAgICBBYnN0cmFjdFNldCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdFNldCRDb21wYW5pb24ucHJvdG90eXBlLnVub3JkZXJlZEhhc2hDb2RlX255a29pZiQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgaGFzaENvZGVfMCA9IDA7XG4gICAgICB0bXAkID0gYy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIHZhciB0bXAkXzA7XG4gICAgICAgIGhhc2hDb2RlXzAgPSBoYXNoQ29kZV8wICsgKCh0bXAkXzAgPSBlbGVtZW50ICE9IG51bGwgPyBoYXNoQ29kZShlbGVtZW50KSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiAwKSB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzaENvZGVfMDtcbiAgICB9O1xuICAgIEFic3RyYWN0U2V0JENvbXBhbmlvbi5wcm90b3R5cGUuc2V0RXF1YWxzX3k4ZjdlbiQgPSBmdW5jdGlvbiAoYywgb3RoZXIpIHtcbiAgICAgIGlmIChjLnNpemUgIT09IG90aGVyLnNpemUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBjLmNvbnRhaW5zQWxsX2JyeXducSQob3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RTZXQkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIEFic3RyYWN0U2V0JENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEFic3RyYWN0U2V0JENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgQWJzdHJhY3RTZXQkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBBYnN0cmFjdFNldC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBYnN0cmFjdFNldCcsIGludGVyZmFjZXM6IFtTZXQsIEFic3RyYWN0Q29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIEVtcHR5SXRlcmF0b3IoKSB7XG4gICAgICBFbXB0eUl0ZXJhdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEVtcHR5SXRlcmF0b3IucHJvdG90eXBlLmhhc1ByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUubmV4dEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBFbXB0eUl0ZXJhdG9yLnByb3RvdHlwZS5wcmV2aW91c0luZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgIH07XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUucHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICB9O1xuICAgIEVtcHR5SXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0VtcHR5SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbTGlzdEl0ZXJhdG9yXX07XG4gICAgdmFyIEVtcHR5SXRlcmF0b3JfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEVtcHR5SXRlcmF0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRW1wdHlJdGVyYXRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlJdGVyYXRvcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEVtcHR5SXRlcmF0b3JfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEVtcHR5TGlzdCgpIHtcbiAgICAgIEVtcHR5TGlzdF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICB0aGlzLnNlcmlhbFZlcnNpb25VSURfMCA9IExfNzM5MDQ2ODc2NDUwODA2OTgzODtcbiAgICB9XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKG90aGVyLCBMaXN0KSAmJiBvdGhlci5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICdbXSc7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlMaXN0LnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9fSk7XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuY29udGFpbnNBbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRzLmlzRW1wdHkoKTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuZ2V0X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKFwiRW1wdHkgbGlzdCBkb2Vzbid0IGNvbnRhaW4gZWxlbWVudCBhdCBpbmRleCBcIiArIGluZGV4ICsgJy4nKTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuaW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLmxhc3RJbmRleE9mXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5saXN0SXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5saXN0SXRlcmF0b3JfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgaWYgKGluZGV4ICE9PSAwKVxuICAgICAgICB0aHJvdyBuZXcgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbignSW5kZXg6ICcgKyBpbmRleCk7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5zdWJMaXN0X3Z1eDlmMCQgPSBmdW5jdGlvbiAoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICBpZiAoZnJvbUluZGV4ID09PSAwICYmIHRvSW5kZXggPT09IDApXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2Zyb21JbmRleDogJyArIGZyb21JbmRleCArICcsIHRvSW5kZXg6ICcgKyB0b0luZGV4KTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUucmVhZFJlc29sdmVfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eUxpc3RfZ2V0SW5zdGFuY2UoKTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRW1wdHlMaXN0JywgaW50ZXJmYWNlczogW1JhbmRvbUFjY2VzcywgU2VyaWFsaXphYmxlLCBMaXN0XX07XG4gICAgdmFyIEVtcHR5TGlzdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRW1wdHlMaXN0X2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEVtcHR5TGlzdF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlMaXN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRW1wdHlMaXN0X2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc0NvbGxlY3Rpb24oJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5QXNDb2xsZWN0aW9uKCRyZWNlaXZlciwgZmFsc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBBcnJheUFzQ29sbGVjdGlvbih2YWx1ZXMsIGlzVmFyYXJncykge1xuICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICB0aGlzLmlzVmFyYXJncyA9IGlzVmFyYXJncztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5QXNDb2xsZWN0aW9uLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgIH19KTtcbiAgICBBcnJheUFzQ29sbGVjdGlvbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICBBcnJheUFzQ29sbGVjdGlvbi5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGNvbnRhaW5zKHRoaXMudmFsdWVzLCBlbGVtZW50KTtcbiAgICB9O1xuICAgIEFycmF5QXNDb2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWluc0FsbF9icnl3bnEkID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICB2YXIgYWxsJHJlc3VsdDtcbiAgICAgIGFsbCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudHMsIENvbGxlY3Rpb24pICYmIGVsZW1lbnRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFsbCRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gZWxlbWVudHMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbnNfMTFyYiQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGFsbCRyZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWxsJHJlc3VsdCA9IHRydWU7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbGwkcmVzdWx0O1xuICAgIH07XG4gICAgQXJyYXlBc0NvbGxlY3Rpb24ucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5hcnJheUl0ZXJhdG9yKHRoaXMudmFsdWVzKTtcbiAgICB9O1xuICAgIEFycmF5QXNDb2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMudmFsdWVzO1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYXJhcmdzID8gJHJlY2VpdmVyIDogJHJlY2VpdmVyLnNsaWNlKCk7XG4gICAgfTtcbiAgICBBcnJheUFzQ29sbGVjdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBcnJheUFzQ29sbGVjdGlvbicsIGludGVyZmFjZXM6IFtDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gZW1wdHlMaXN0KCkge1xuICAgICAgcmV0dXJuIEVtcHR5TGlzdF9nZXRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0T2ZfMChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRzLmxlbmd0aCA+IDAgPyBhc0xpc3QoZWxlbWVudHMpIDogZW1wdHlMaXN0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG11dGFibGVMaXN0T2ZfMChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRzLmxlbmd0aCA9PT0gMCA/IEFycmF5TGlzdF9pbml0KCkgOiBBcnJheUxpc3RfaW5pdF8xKG5ldyBBcnJheUFzQ29sbGVjdGlvbihlbGVtZW50cywgdHJ1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcnJheUxpc3RPZl8wKGVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gZWxlbWVudHMubGVuZ3RoID09PSAwID8gQXJyYXlMaXN0X2luaXQoKSA6IEFycmF5TGlzdF9pbml0XzEobmV3IEFycmF5QXNDb2xsZWN0aW9uKGVsZW1lbnRzLCB0cnVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldF9pbmRpY2VzXzEyKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBJbnRSYW5nZSgwLCAkcmVjZWl2ZXIuc2l6ZSAtIDEgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0X2xhc3RJbmRleF8xMigkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZSAtIDEgfCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcHRpbWl6ZVJlYWRPbmx5TGlzdCgkcmVjZWl2ZXIpIHtcbiAgICAgIHN3aXRjaCAoJHJlY2VpdmVyLnNpemUpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBsaXN0T2YoJHJlY2VpdmVyLmdldF96YTNscGEkKDApKTtcbiAgICAgICAgZGVmYXVsdDpyZXR1cm4gJHJlY2VpdmVyO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0luZGV4T3ZlcmZsb3coKSB7XG4gICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbignSW5kZXggb3ZlcmZsb3cgaGFzIGhhcHBlbmVkLicpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXIsIGRlZmF1bHRfMCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBDb2xsZWN0aW9uKSA/ICRyZWNlaXZlci5zaXplIDogZGVmYXVsdF8wO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPckltcGxpY2l0RGVmYXVsdCgkcmVjZWl2ZXIsIGtleSkge1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBNYXBXaXRoRGVmYXVsdCkpXG4gICAgICAgIHJldHVybiAkcmVjZWl2ZXIuZ2V0T3JJbXBsaWNpdERlZmF1bHRfMTFyYiQoa2V5KTtcbiAgICAgIHZhciBnZXRPckVsc2VOdWxsYWJsZSRyZXN1bHQ7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciB2YWx1ZSA9ICRyZWNlaXZlci5nZXRfMTFyYiQoa2V5KTtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICEkcmVjZWl2ZXIuY29udGFpbnNLZXlfMTFyYiQoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbignS2V5ICcgKyBrZXkgKyAnIGlzIG1pc3NpbmcgaW4gdGhlIG1hcC4nKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgZ2V0T3JFbHNlTnVsbGFibGUkcmVzdWx0ID0gKHRtcCQgPSB2YWx1ZSkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRPckVsc2VOdWxsYWJsZSRyZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIE1hcFdpdGhEZWZhdWx0KCkge1xuICAgIH1cbiAgICBNYXBXaXRoRGVmYXVsdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTWFwV2l0aERlZmF1bHQnLCBpbnRlcmZhY2VzOiBbTWFwXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZU1hcFdpdGhEZWZhdWx0KCkge1xuICAgIH1cbiAgICBmdW5jdGlvbiBNYXBXaXRoRGVmYXVsdEltcGwobWFwLCBkZWZhdWx0XzApIHtcbiAgICAgIHRoaXMubWFwX3R5amVxaCRfMCA9IG1hcDtcbiAgICAgIHRoaXMuZGVmYXVsdF8wID0gZGVmYXVsdF8wO1xuICAgIH1cbiAgICBmdW5jdGlvbiBNdXRhYmxlTWFwV2l0aERlZmF1bHRJbXBsKG1hcCwgZGVmYXVsdF8wKSB7XG4gICAgICB0aGlzLm1hcF9hMDl1engkXzAgPSBtYXA7XG4gICAgICB0aGlzLmRlZmF1bHRfMCA9IGRlZmF1bHRfMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gRW1wdHlNYXAoKSB7XG4gICAgICBFbXB0eU1hcF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICB0aGlzLnNlcmlhbFZlcnNpb25VSURfMCA9IEw4MjQ2NzE0ODI5NTQ1Njg4Mjc0O1xuICAgIH1cbiAgICBFbXB0eU1hcC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgTWFwKSAmJiBvdGhlci5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBFbXB0eU1hcC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIEVtcHR5TWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAne30nO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVtcHR5TWFwLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9fSk7XG4gICAgRW1wdHlNYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEVtcHR5TWFwLnByb3RvdHlwZS5jb250YWluc0tleV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEVtcHR5TWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlXzExcmMkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBFbXB0eU1hcC5wcm90b3R5cGUuZ2V0XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlNYXAucHJvdG90eXBlLCAnZW50cmllcycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eVNldF9nZXRJbnN0YW5jZSgpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlNYXAucHJvdG90eXBlLCAna2V5cycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eVNldF9nZXRJbnN0YW5jZSgpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlNYXAucHJvdG90eXBlLCAndmFsdWVzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEVtcHR5TGlzdF9nZXRJbnN0YW5jZSgpO1xuICAgIH19KTtcbiAgICBFbXB0eU1hcC5wcm90b3R5cGUucmVhZFJlc29sdmVfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eU1hcF9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0VtcHR5TWFwJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZSwgTWFwXX07XG4gICAgdmFyIEVtcHR5TWFwX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBFbXB0eU1hcF9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChFbXB0eU1hcF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlNYXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBFbXB0eU1hcF9pbnN0YW5jZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1wdHlNYXAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCQgPSBFbXB0eU1hcF9nZXRJbnN0YW5jZSgpLCBNYXApID8gdG1wJCA6IHRocm93Q0NFXzAoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwT2ZfMChwYWlycykge1xuICAgICAgcmV0dXJuIHBhaXJzLmxlbmd0aCA+IDAgPyB0b01hcF8yKHBhaXJzLCBMaW5rZWRIYXNoTWFwX2luaXRfMihtYXBDYXBhY2l0eShwYWlycy5sZW5ndGgpKSkgOiBlbXB0eU1hcCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtdXRhYmxlTWFwT2ZfMChwYWlycykge1xuICAgICAgdmFyICRyZWNlaXZlciA9IExpbmtlZEhhc2hNYXBfaW5pdF8yKG1hcENhcGFjaXR5KHBhaXJzLmxlbmd0aCkpO1xuICAgICAgcHV0QWxsKCRyZWNlaXZlciwgcGFpcnMpO1xuICAgICAgcmV0dXJuICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwQ2FwYWNpdHkoZXhwZWN0ZWRTaXplKSB7XG4gICAgICBpZiAoZXhwZWN0ZWRTaXplIDwgMykge1xuICAgICAgICByZXR1cm4gZXhwZWN0ZWRTaXplICsgMSB8IDA7XG4gICAgICB9XG4gICAgICBpZiAoZXhwZWN0ZWRTaXplIDwgMTA3Mzc0MTgyNCkge1xuICAgICAgICByZXR1cm4gZXhwZWN0ZWRTaXplICsgKGV4cGVjdGVkU2l6ZSAvIDMgfCAwKSB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMjE0NzQ4MzY0NztcbiAgICB9XG4gICAgdmFyIElOVF9NQVhfUE9XRVJfT0ZfVFdPO1xuICAgIGZ1bmN0aW9uIGdldFZhbHVlXzIoJHJlY2VpdmVyLCBrZXkpIHtcbiAgICAgIHJldHVybiBnZXRPckltcGxpY2l0RGVmYXVsdCgkcmVjZWl2ZXIsIGtleSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1dEFsbCgkcmVjZWl2ZXIsIHBhaXJzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGZvciAodG1wJCA9IDA7IHRtcCQgIT09IHBhaXJzLmxlbmd0aDsgKyt0bXAkKSB7XG4gICAgICAgIHZhciB0bXAkXzAgPSBwYWlyc1t0bXAkXTtcbiAgICAgICAgdmFyIGtleSA9IHRtcCRfMC5jb21wb25lbnQxKCksIHZhbHVlID0gdG1wJF8wLmNvbXBvbmVudDIoKTtcbiAgICAgICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0b01hcF8yKCRyZWNlaXZlciwgZGVzdGluYXRpb24pIHtcbiAgICAgIHB1dEFsbChkZXN0aW5hdGlvbiwgJHJlY2VpdmVyKTtcbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsXzAoJHJlY2VpdmVyLCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJJblBsYWNlKCRyZWNlaXZlciwgcHJlZGljYXRlLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsdGVySW5QbGFjZSgkcmVjZWl2ZXIsIHByZWRpY2F0ZSwgcHJlZGljYXRlUmVzdWx0VG9SZW1vdmUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7djogZmFsc2V9O1xuICAgICAgdmFyICRyZWNlaXZlcl8wID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAoJHJlY2VpdmVyXzAuaGFzTmV4dCgpKVxuICAgICAgICBpZiAocHJlZGljYXRlKCRyZWNlaXZlcl8wLm5leHQoKSkgPT09IHByZWRpY2F0ZVJlc3VsdFRvUmVtb3ZlKSB7XG4gICAgICAgICAgJHJlY2VpdmVyXzAucmVtb3ZlKCk7XG4gICAgICAgICAgcmVzdWx0LnYgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0LnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbF8xKCRyZWNlaXZlciwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gZmlsdGVySW5QbGFjZV8wKCRyZWNlaXZlciwgcHJlZGljYXRlLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsdGVySW5QbGFjZV8wKCRyZWNlaXZlciwgcHJlZGljYXRlLCBwcmVkaWNhdGVSZXN1bHRUb1JlbW92ZSkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzI7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBSYW5kb21BY2Nlc3MpKVxuICAgICAgICByZXR1cm4gZmlsdGVySW5QbGFjZShLb3RsaW4uaXNUeXBlKHRtcCQgPSAkcmVjZWl2ZXIsIE11dGFibGVJdGVyYWJsZSkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpLCBwcmVkaWNhdGUsIHByZWRpY2F0ZVJlc3VsdFRvUmVtb3ZlKTtcbiAgICAgIHZhciB3cml0ZUluZGV4ID0gMDtcbiAgICAgIHRtcCRfMCA9IGdldF9sYXN0SW5kZXhfMTIoJHJlY2VpdmVyKTtcbiAgICAgIGZvciAodmFyIHJlYWRJbmRleCA9IDA7IHJlYWRJbmRleCA8PSB0bXAkXzA7IHJlYWRJbmRleCsrKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gJHJlY2VpdmVyLmdldF96YTNscGEkKHJlYWRJbmRleCk7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoZWxlbWVudCkgPT09IHByZWRpY2F0ZVJlc3VsdFRvUmVtb3ZlKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAod3JpdGVJbmRleCAhPT0gcmVhZEluZGV4KVxuICAgICAgICAgICRyZWNlaXZlci5zZXRfd3htNXVyJCh3cml0ZUluZGV4LCBlbGVtZW50KTtcbiAgICAgICAgd3JpdGVJbmRleCA9IHdyaXRlSW5kZXggKyAxIHwgMDtcbiAgICAgIH1cbiAgICAgIGlmICh3cml0ZUluZGV4IDwgJHJlY2VpdmVyLnNpemUpIHtcbiAgICAgICAgdG1wJF8xID0gZ2V0X2xhc3RJbmRleF8xMigkcmVjZWl2ZXIpO1xuICAgICAgICB0bXAkXzIgPSB3cml0ZUluZGV4O1xuICAgICAgICBmb3IgKHZhciByZW1vdmVJbmRleCA9IHRtcCRfMTsgcmVtb3ZlSW5kZXggPj0gdG1wJF8yOyByZW1vdmVJbmRleC0tKVxuICAgICAgICAgICRyZWNlaXZlci5yZW1vdmVBdF96YTNscGEkKHJlbW92ZUluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gU2VxdWVuY2UoKSB7XG4gICAgfVxuICAgIFNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgU3RhdGVfTm90UmVhZHk7XG4gICAgdmFyIFN0YXRlX01hbnlOb3RSZWFkeTtcbiAgICB2YXIgU3RhdGVfTWFueVJlYWR5O1xuICAgIHZhciBTdGF0ZV9SZWFkeTtcbiAgICB2YXIgU3RhdGVfRG9uZTtcbiAgICB2YXIgU3RhdGVfRmFpbGVkO1xuICAgIGZ1bmN0aW9uIGVtcHR5U2VxdWVuY2UoKSB7XG4gICAgICByZXR1cm4gRW1wdHlTZXF1ZW5jZV9nZXRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBFbXB0eVNlcXVlbmNlKCkge1xuICAgICAgRW1wdHlTZXF1ZW5jZV9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIEVtcHR5U2VxdWVuY2UucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEVtcHR5SXRlcmF0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgICB9O1xuICAgIEVtcHR5U2VxdWVuY2UucHJvdG90eXBlLmRyb3BfemEzbHBhJCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gRW1wdHlTZXF1ZW5jZV9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlTZXF1ZW5jZS5wcm90b3R5cGUudGFrZV96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBFbXB0eVNlcXVlbmNlX2dldEluc3RhbmNlKCk7XG4gICAgfTtcbiAgICBFbXB0eVNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFbXB0eVNlcXVlbmNlJywgaW50ZXJmYWNlczogW0Ryb3BUYWtlU2VxdWVuY2UsIFNlcXVlbmNlXX07XG4gICAgdmFyIEVtcHR5U2VxdWVuY2VfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEVtcHR5U2VxdWVuY2VfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRW1wdHlTZXF1ZW5jZV9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlTZXF1ZW5jZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEVtcHR5U2VxdWVuY2VfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybWluZ1NlcXVlbmNlKHNlcXVlbmNlLCB0cmFuc2Zvcm1lcikge1xuICAgICAgdGhpcy5zZXF1ZW5jZV8wID0gc2VxdWVuY2U7XG4gICAgICB0aGlzLnRyYW5zZm9ybWVyXzAgPSB0cmFuc2Zvcm1lcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtaW5nU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzJFRyYW5zZm9ybWluZ1NlcXVlbmNlKSB7XG4gICAgICB0aGlzLnRoaXMkVHJhbnNmb3JtaW5nU2VxdWVuY2UgPSB0aGlzJFRyYW5zZm9ybWluZ1NlcXVlbmNlO1xuICAgICAgdGhpcy5pdGVyYXRvciA9IHRoaXMkVHJhbnNmb3JtaW5nU2VxdWVuY2Uuc2VxdWVuY2VfMC5pdGVyYXRvcigpO1xuICAgIH1cbiAgICBUcmFuc2Zvcm1pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhpcyRUcmFuc2Zvcm1pbmdTZXF1ZW5jZS50cmFuc2Zvcm1lcl8wKHRoaXMuaXRlcmF0b3IubmV4dCgpKTtcbiAgICB9O1xuICAgIFRyYW5zZm9ybWluZ1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pdGVyYXRvci5oYXNOZXh0KCk7XG4gICAgfTtcbiAgICBUcmFuc2Zvcm1pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgVHJhbnNmb3JtaW5nU2VxdWVuY2UucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgIH07XG4gICAgVHJhbnNmb3JtaW5nU2VxdWVuY2UucHJvdG90eXBlLmZsYXR0ZW5fMXRnbHphJCA9IGZ1bmN0aW9uIChpdGVyYXRvcikge1xuICAgICAgcmV0dXJuIG5ldyBGbGF0dGVuaW5nU2VxdWVuY2UodGhpcy5zZXF1ZW5jZV8wLCB0aGlzLnRyYW5zZm9ybWVyXzAsIGl0ZXJhdG9yKTtcbiAgICB9O1xuICAgIFRyYW5zZm9ybWluZ1NlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1RyYW5zZm9ybWluZ1NlcXVlbmNlJywgaW50ZXJmYWNlczogW1NlcXVlbmNlXX07XG4gICAgZnVuY3Rpb24gRmxhdHRlbmluZ1NlcXVlbmNlKHNlcXVlbmNlLCB0cmFuc2Zvcm1lciwgaXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuc2VxdWVuY2VfMCA9IHNlcXVlbmNlO1xuICAgICAgdGhpcy50cmFuc2Zvcm1lcl8wID0gdHJhbnNmb3JtZXI7XG4gICAgICB0aGlzLml0ZXJhdG9yXzAgPSBpdGVyYXRvcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gRmxhdHRlbmluZ1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRGbGF0dGVuaW5nU2VxdWVuY2UpIHtcbiAgICAgIHRoaXMudGhpcyRGbGF0dGVuaW5nU2VxdWVuY2UgPSB0aGlzJEZsYXR0ZW5pbmdTZXF1ZW5jZTtcbiAgICAgIHRoaXMuaXRlcmF0b3IgPSB0aGlzJEZsYXR0ZW5pbmdTZXF1ZW5jZS5zZXF1ZW5jZV8wLml0ZXJhdG9yKCk7XG4gICAgICB0aGlzLml0ZW1JdGVyYXRvciA9IG51bGw7XG4gICAgfVxuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmVuc3VyZUl0ZW1JdGVyYXRvcl8wKCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5pdGVtSXRlcmF0b3IpLm5leHQoKTtcbiAgICB9O1xuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5zdXJlSXRlbUl0ZXJhdG9yXzAoKTtcbiAgICB9O1xuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5lbnN1cmVJdGVtSXRlcmF0b3JfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKCgodG1wJCA9IHRoaXMuaXRlbUl0ZXJhdG9yKSAhPSBudWxsID8gdG1wJC5oYXNOZXh0KCkgOiBudWxsKSA9PT0gZmFsc2UpXG4gICAgICAgIHRoaXMuaXRlbUl0ZXJhdG9yID0gbnVsbDtcbiAgICAgIHdoaWxlICh0aGlzLml0ZW1JdGVyYXRvciA9PSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5pdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgdmFyIG5leHRJdGVtSXRlcmF0b3IgPSB0aGlzLnRoaXMkRmxhdHRlbmluZ1NlcXVlbmNlLml0ZXJhdG9yXzAodGhpcy50aGlzJEZsYXR0ZW5pbmdTZXF1ZW5jZS50cmFuc2Zvcm1lcl8wKGVsZW1lbnQpKTtcbiAgICAgICAgICBpZiAobmV4dEl0ZW1JdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbUl0ZXJhdG9yID0gbmV4dEl0ZW1JdGVyYXRvcjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBGbGF0dGVuaW5nU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZS5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgIH07XG4gICAgRmxhdHRlbmluZ1NlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0ZsYXR0ZW5pbmdTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtTZXF1ZW5jZV19O1xuICAgIGZ1bmN0aW9uIERyb3BUYWtlU2VxdWVuY2UoKSB7XG4gICAgfVxuICAgIERyb3BUYWtlU2VxdWVuY2UuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0Ryb3BUYWtlU2VxdWVuY2UnLCBpbnRlcmZhY2VzOiBbU2VxdWVuY2VdfTtcbiAgICBmdW5jdGlvbiBTdWJTZXF1ZW5jZShzZXF1ZW5jZSwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICAgIHRoaXMuc2VxdWVuY2VfMCA9IHNlcXVlbmNlO1xuICAgICAgdGhpcy5zdGFydEluZGV4XzAgPSBzdGFydEluZGV4O1xuICAgICAgdGhpcy5lbmRJbmRleF8wID0gZW5kSW5kZXg7XG4gICAgICBpZiAoISh0aGlzLnN0YXJ0SW5kZXhfMCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdzdGFydEluZGV4IHNob3VsZCBiZSBub24tbmVnYXRpdmUsIGJ1dCBpcyAnICsgdGhpcy5zdGFydEluZGV4XzA7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghKHRoaXMuZW5kSW5kZXhfMCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZV8wID0gJ2VuZEluZGV4IHNob3VsZCBiZSBub24tbmVnYXRpdmUsIGJ1dCBpcyAnICsgdGhpcy5lbmRJbmRleF8wO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghKHRoaXMuZW5kSW5kZXhfMCA+PSB0aGlzLnN0YXJ0SW5kZXhfMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VfMSA9ICdlbmRJbmRleCBzaG91bGQgYmUgbm90IGxlc3MgdGhhbiBzdGFydEluZGV4LCBidXQgd2FzICcgKyB0aGlzLmVuZEluZGV4XzAgKyAnIDwgJyArIHRoaXMuc3RhcnRJbmRleF8wO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YlNlcXVlbmNlLnByb3RvdHlwZSwgJ2NvdW50XzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmRJbmRleF8wIC0gdGhpcy5zdGFydEluZGV4XzAgfCAwO1xuICAgIH19KTtcbiAgICBTdWJTZXF1ZW5jZS5wcm90b3R5cGUuZHJvcF96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuID49IHRoaXMuY291bnRfMCA/IGVtcHR5U2VxdWVuY2UoKSA6IG5ldyBTdWJTZXF1ZW5jZSh0aGlzLnNlcXVlbmNlXzAsIHRoaXMuc3RhcnRJbmRleF8wICsgbiB8IDAsIHRoaXMuZW5kSW5kZXhfMCk7XG4gICAgfTtcbiAgICBTdWJTZXF1ZW5jZS5wcm90b3R5cGUudGFrZV96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuID49IHRoaXMuY291bnRfMCA/IHRoaXMgOiBuZXcgU3ViU2VxdWVuY2UodGhpcy5zZXF1ZW5jZV8wLCB0aGlzLnN0YXJ0SW5kZXhfMCwgdGhpcy5zdGFydEluZGV4XzAgKyBuIHwgMCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBTdWJTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsKHRoaXMkU3ViU2VxdWVuY2UpIHtcbiAgICAgIHRoaXMudGhpcyRTdWJTZXF1ZW5jZSA9IHRoaXMkU3ViU2VxdWVuY2U7XG4gICAgICB0aGlzLml0ZXJhdG9yID0gdGhpcyRTdWJTZXF1ZW5jZS5zZXF1ZW5jZV8wLml0ZXJhdG9yKCk7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICB9XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuZHJvcF8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHRoaXMucG9zaXRpb24gPCB0aGlzLnRoaXMkU3ViU2VxdWVuY2Uuc3RhcnRJbmRleF8wICYmIHRoaXMuaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbiArIDEgfCAwO1xuICAgICAgfVxuICAgIH07XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZHJvcF8wKCk7XG4gICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiA8IHRoaXMudGhpcyRTdWJTZXF1ZW5jZS5lbmRJbmRleF8wICYmIHRoaXMuaXRlcmF0b3IuaGFzTmV4dCgpO1xuICAgIH07XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZHJvcF8wKCk7XG4gICAgICBpZiAodGhpcy5wb3NpdGlvbiA+PSB0aGlzLnRoaXMkU3ViU2VxdWVuY2UuZW5kSW5kZXhfMClcbiAgICAgICAgdGhyb3cgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbl9pbml0KCk7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbiArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgIH07XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIFN1YlNlcXVlbmNlLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YlNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1N1YlNlcXVlbmNlJywgaW50ZXJmYWNlczogW0Ryb3BUYWtlU2VxdWVuY2UsIFNlcXVlbmNlXX07XG4gICAgZnVuY3Rpb24gVGFrZVNlcXVlbmNlKHNlcXVlbmNlLCBjb3VudCkge1xuICAgICAgdGhpcy5zZXF1ZW5jZV8wID0gc2VxdWVuY2U7XG4gICAgICB0aGlzLmNvdW50XzAgPSBjb3VudDtcbiAgICAgIGlmICghKHRoaXMuY291bnRfMCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdjb3VudCBtdXN0IGJlIG5vbi1uZWdhdGl2ZSwgYnV0IHdhcyAnICsgdGhpcy5jb3VudF8wICsgJy4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIFRha2VTZXF1ZW5jZS5wcm90b3R5cGUuZHJvcF96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuID49IHRoaXMuY291bnRfMCA/IGVtcHR5U2VxdWVuY2UoKSA6IG5ldyBTdWJTZXF1ZW5jZSh0aGlzLnNlcXVlbmNlXzAsIG4sIHRoaXMuY291bnRfMCk7XG4gICAgfTtcbiAgICBUYWtlU2VxdWVuY2UucHJvdG90eXBlLnRha2VfemEzbHBhJCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gbiA+PSB0aGlzLmNvdW50XzAgPyB0aGlzIDogbmV3IFRha2VTZXF1ZW5jZSh0aGlzLnNlcXVlbmNlXzAsIG4pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gVGFrZVNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRUYWtlU2VxdWVuY2UpIHtcbiAgICAgIHRoaXMubGVmdCA9IHRoaXMkVGFrZVNlcXVlbmNlLmNvdW50XzA7XG4gICAgICB0aGlzLml0ZXJhdG9yID0gdGhpcyRUYWtlU2VxdWVuY2Uuc2VxdWVuY2VfMC5pdGVyYXRvcigpO1xuICAgIH1cbiAgICBUYWtlU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmxlZnQgPT09IDApXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5sZWZ0IC0gMSB8IDA7XG4gICAgICByZXR1cm4gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgfTtcbiAgICBUYWtlU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlZnQgPiAwICYmIHRoaXMuaXRlcmF0b3IuaGFzTmV4dCgpO1xuICAgIH07XG4gICAgVGFrZVNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBUYWtlU2VxdWVuY2UucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBUYWtlU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzKTtcbiAgICB9O1xuICAgIFRha2VTZXF1ZW5jZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUYWtlU2VxdWVuY2UnLCBpbnRlcmZhY2VzOiBbRHJvcFRha2VTZXF1ZW5jZSwgU2VxdWVuY2VdfTtcbiAgICBmdW5jdGlvbiBHZW5lcmF0b3JTZXF1ZW5jZShnZXRJbml0aWFsVmFsdWUsIGdldE5leHRWYWx1ZSkge1xuICAgICAgdGhpcy5nZXRJbml0aWFsVmFsdWVfMCA9IGdldEluaXRpYWxWYWx1ZTtcbiAgICAgIHRoaXMuZ2V0TmV4dFZhbHVlXzAgPSBnZXROZXh0VmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRHZW5lcmF0b3JTZXF1ZW5jZSkge1xuICAgICAgdGhpcy50aGlzJEdlbmVyYXRvclNlcXVlbmNlID0gdGhpcyRHZW5lcmF0b3JTZXF1ZW5jZTtcbiAgICAgIHRoaXMubmV4dEl0ZW0gPSBudWxsO1xuICAgICAgdGhpcy5uZXh0U3RhdGUgPSAtMjtcbiAgICB9XG4gICAgR2VuZXJhdG9yU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY2FsY05leHRfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMubmV4dEl0ZW0gPSB0aGlzLm5leHRTdGF0ZSA9PT0gLTIgPyB0aGlzLnRoaXMkR2VuZXJhdG9yU2VxdWVuY2UuZ2V0SW5pdGlhbFZhbHVlXzAoKSA6IHRoaXMudGhpcyRHZW5lcmF0b3JTZXF1ZW5jZS5nZXROZXh0VmFsdWVfMChlbnN1cmVOb3ROdWxsKHRoaXMubmV4dEl0ZW0pKTtcbiAgICAgIHRoaXMubmV4dFN0YXRlID0gdGhpcy5uZXh0SXRlbSA9PSBudWxsID8gMCA6IDE7XG4gICAgfTtcbiAgICBHZW5lcmF0b3JTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5uZXh0U3RhdGUgPCAwKVxuICAgICAgICB0aGlzLmNhbGNOZXh0XzAoKTtcbiAgICAgIGlmICh0aGlzLm5leHRTdGF0ZSA9PT0gMClcbiAgICAgICAgdGhyb3cgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbl9pbml0KCk7XG4gICAgICB2YXIgcmVzdWx0ID0gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5uZXh0SXRlbSwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCk7XG4gICAgICB0aGlzLm5leHRTdGF0ZSA9IC0xO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5uZXh0U3RhdGUgPCAwKVxuICAgICAgICB0aGlzLmNhbGNOZXh0XzAoKTtcbiAgICAgIHJldHVybiB0aGlzLm5leHRTdGF0ZSA9PT0gMTtcbiAgICB9O1xuICAgIEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBHZW5lcmF0b3JTZXF1ZW5jZS5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyk7XG4gICAgfTtcbiAgICBHZW5lcmF0b3JTZXF1ZW5jZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdHZW5lcmF0b3JTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtTZXF1ZW5jZV19O1xuICAgIGZ1bmN0aW9uIGdlbmVyYXRlU2VxdWVuY2VfMShzZWVkRnVuY3Rpb24sIG5leHRGdW5jdGlvbikge1xuICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0b3JTZXF1ZW5jZShzZWVkRnVuY3Rpb24sIG5leHRGdW5jdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEVtcHR5U2V0KCkge1xuICAgICAgRW1wdHlTZXRfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5zZXJpYWxWZXJzaW9uVUlEXzAgPSBMMzQwNjYwMzc3NDM4NzAyMDUzMjtcbiAgICB9XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIFNldCkgJiYgb3RoZXIuaXNFbXB0eSgpO1xuICAgIH07XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBFbXB0eVNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ1tdJztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbXB0eVNldC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfX0pO1xuICAgIEVtcHR5U2V0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBFbXB0eVNldC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLmNvbnRhaW5zQWxsX2JyeXducSQgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBlbGVtZW50cy5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBFbXB0eVNldC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLnJlYWRSZXNvbHZlXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlTZXRfZ2V0SW5zdGFuY2UoKTtcbiAgICB9O1xuICAgIEVtcHR5U2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFbXB0eVNldCcsIGludGVyZmFjZXM6IFtTZXJpYWxpemFibGUsIFNldF19O1xuICAgIHZhciBFbXB0eVNldF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRW1wdHlTZXRfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRW1wdHlTZXRfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEVtcHR5U2V0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRW1wdHlTZXRfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVtcHR5U2V0KCkge1xuICAgICAgcmV0dXJuIEVtcHR5U2V0X2dldEluc3RhbmNlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc2hTZXRPZl8wKGVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gdG9Db2xsZWN0aW9uKGVsZW1lbnRzLCBIYXNoU2V0X2luaXRfMihtYXBDYXBhY2l0eShlbGVtZW50cy5sZW5ndGgpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wdGltaXplUmVhZE9ubHlTZXQoJHJlY2VpdmVyKSB7XG4gICAgICBzd2l0Y2ggKCRyZWNlaXZlci5zaXplKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gZW1wdHlTZXQoKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBzZXRPZigkcmVjZWl2ZXIuaXRlcmF0b3IoKS5uZXh0KCkpO1xuICAgICAgICBkZWZhdWx0OnJldHVybiAkcmVjZWl2ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBOYXR1cmFsT3JkZXJDb21wYXJhdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgUmV2ZXJzZU9yZGVyQ29tcGFyYXRvcl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIEludm9jYXRpb25LaW5kJEFUX01PU1RfT05DRV9pbnN0YW5jZTtcbiAgICB2YXIgSW52b2NhdGlvbktpbmQkQVRfTEVBU1RfT05DRV9pbnN0YW5jZTtcbiAgICB2YXIgSW52b2NhdGlvbktpbmQkRVhBQ1RMWV9PTkNFX2luc3RhbmNlO1xuICAgIHZhciBJbnZvY2F0aW9uS2luZCRVTktOT1dOX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIENvbnRpbnVhdGlvbigpIHtcbiAgICB9XG4gICAgQ29udGludWF0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb250aW51YXRpb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5zdXNwZW5kQ29yb3V0aW5lXzkyMmF3cCQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGludGVyY2VwdGVkID0gXy5rb3RsaW4uY29yb3V0aW5lcy5pbnRyaW5zaWNzLmludGVyY2VwdGVkX2Y5bWcyNSQ7XG4gICAgICB2YXIgU2FmZUNvbnRpbnVhdGlvbl9pbml0ID0gXy5rb3RsaW4uY29yb3V0aW5lcy5TYWZlQ29udGludWF0aW9uX2luaXRfd2o4ZDgwJDtcbiAgICAgIGZ1bmN0aW9uIHN1c3BlbmRDb3JvdXRpbmUkbGFtYmRhKGNsb3N1cmUkYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgdmFyIHNhZmUgPSBTYWZlQ29udGludWF0aW9uX2luaXQoaW50ZXJjZXB0ZWQoYykpO1xuICAgICAgICAgIGNsb3N1cmUkYmxvY2soc2FmZSk7XG4gICAgICAgICAgcmV0dXJuIHNhZmUuZ2V0T3JUaHJvdygpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChibG9jaywgY29udGludWF0aW9uKSB7XG4gICAgICAgIEtvdGxpbi5zdXNwZW5kQ2FsbChzdXNwZW5kQ29yb3V0aW5lJGxhbWJkYShibG9jaykoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpKTtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5jb3JvdXRpbmVSZXN1bHQoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgZnVuY3Rpb24gQ29udGludWF0aW9uSW50ZXJjZXB0b3IoKSB7XG4gICAgICBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5KCkge1xuICAgICAgQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2luc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdLZXknLCBpbnRlcmZhY2VzOiBbQ29yb3V0aW5lQ29udGV4dCRLZXldfTtcbiAgICB2YXIgQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXkoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvcm91dGluZUNvbnRleHQoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvcm91dGluZUNvbnRleHQkcGx1cyRsYW1iZGEoYWNjLCBlbGVtZW50KSB7XG4gICAgICB2YXIgcmVtb3ZlZCA9IGFjYy5taW51c0tleV95ZXFqYnkkKGVsZW1lbnQua2V5KTtcbiAgICAgIGlmIChyZW1vdmVkID09PSBFbXB0eUNvcm91dGluZUNvbnRleHRfZ2V0SW5zdGFuY2UoKSlcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gcmVtb3ZlZC5nZXRfajNyMnNuJChDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKSk7XG4gICAgICAgIGlmIChpbnRlcmNlcHRvciA9PSBudWxsKVxuICAgICAgICAgIHJldHVybiBuZXcgQ29tYmluZWRDb250ZXh0KHJlbW92ZWQsIGVsZW1lbnQpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbGVmdCA9IHJlbW92ZWQubWludXNLZXlfeWVxamJ5JChDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKSk7XG4gICAgICAgICAgcmV0dXJuIGxlZnQgPT09IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpID8gbmV3IENvbWJpbmVkQ29udGV4dChlbGVtZW50LCBpbnRlcmNlcHRvcikgOiBuZXcgQ29tYmluZWRDb250ZXh0KG5ldyBDb21iaW5lZENvbnRleHQobGVmdCwgZWxlbWVudCksIGludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5wbHVzXzFmdXB1bCQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQgPT09IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpID8gdGhpcyA6IGNvbnRleHQuZm9sZF8zY2M2OWIkKHRoaXMsIENvcm91dGluZUNvbnRleHQkcGx1cyRsYW1iZGEpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lQ29udGV4dCRLZXkoKSB7XG4gICAgfVxuICAgIENvcm91dGluZUNvbnRleHQkS2V5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdLZXknLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50KCkge1xuICAgIH1cbiAgICBDb3JvdXRpbmVDb250ZXh0JEVsZW1lbnQucHJvdG90eXBlLmdldF9qM3Iyc24kID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gZXF1YWxzKHRoaXMua2V5LCBrZXkpID8gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcywgQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCkgOiBudWxsO1xuICAgIH07XG4gICAgQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQgPSBmdW5jdGlvbiAoaW5pdGlhbCwgb3BlcmF0aW9uKSB7XG4gICAgICByZXR1cm4gb3BlcmF0aW9uKGluaXRpYWwsIHRoaXMpO1xuICAgIH07XG4gICAgQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGVxdWFscyh0aGlzLmtleSwga2V5KSA/IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpIDogdGhpcztcbiAgICB9O1xuICAgIENvcm91dGluZUNvbnRleHQkRWxlbWVudC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnRWxlbWVudCcsIGludGVyZmFjZXM6IFtDb3JvdXRpbmVDb250ZXh0XX07XG4gICAgQ29yb3V0aW5lQ29udGV4dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnQ29yb3V0aW5lQ29udGV4dCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50KGtleSkge1xuICAgICAgdGhpcy5rZXlfbm80dGFzJF8wID0ga2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBFbXB0eUNvcm91dGluZUNvbnRleHQoKSB7XG4gICAgICBFbXB0eUNvcm91dGluZUNvbnRleHRfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5zZXJpYWxWZXJzaW9uVUlEXzAgPSBMMDtcbiAgICB9XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5yZWFkUmVzb2x2ZV8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5nZXRfajNyMnNuJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQgPSBmdW5jdGlvbiAoaW5pdGlhbCwgb3BlcmF0aW9uKSB7XG4gICAgICByZXR1cm4gaW5pdGlhbDtcbiAgICB9O1xuICAgIEVtcHR5Q29yb3V0aW5lQ29udGV4dC5wcm90b3R5cGUucGx1c18xZnVwdWwkID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBFbXB0eUNvcm91dGluZUNvbnRleHQucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBFbXB0eUNvcm91dGluZUNvbnRleHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICdFbXB0eUNvcm91dGluZUNvbnRleHQnO1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFbXB0eUNvcm91dGluZUNvbnRleHQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsaXphYmxlLCBDb3JvdXRpbmVDb250ZXh0XX07XG4gICAgdmFyIEVtcHR5Q29yb3V0aW5lQ29udGV4dF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRW1wdHlDb3JvdXRpbmVDb250ZXh0X2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEVtcHR5Q29yb3V0aW5lQ29udGV4dF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlDb3JvdXRpbmVDb250ZXh0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRW1wdHlDb3JvdXRpbmVDb250ZXh0X2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21iaW5lZENvbnRleHQobGVmdCwgZWxlbWVudCkge1xuICAgICAgdGhpcy5sZWZ0XzAgPSBsZWZ0O1xuICAgICAgdGhpcy5lbGVtZW50XzAgPSBlbGVtZW50O1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQucHJvdG90eXBlLmdldF9qM3Iyc24kID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgY3VyID0gdGhpcztcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICgodG1wJCA9IGN1ci5lbGVtZW50XzAuZ2V0X2ozcjJzbiQoa2V5KSkgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB0bXAkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0ID0gY3VyLmxlZnRfMDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUobmV4dCwgQ29tYmluZWRDb250ZXh0KSkge1xuICAgICAgICAgIGN1ciA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBuZXh0LmdldF9qM3Iyc24kKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuZm9sZF8zY2M2OWIkID0gZnVuY3Rpb24gKGluaXRpYWwsIG9wZXJhdGlvbikge1xuICAgICAgcmV0dXJuIG9wZXJhdGlvbih0aGlzLmxlZnRfMC5mb2xkXzNjYzY5YiQoaW5pdGlhbCwgb3BlcmF0aW9uKSwgdGhpcy5lbGVtZW50XzApO1xuICAgIH07XG4gICAgQ29tYmluZWRDb250ZXh0LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5lbGVtZW50XzAuZ2V0X2ozcjJzbiQoa2V5KSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnRfMDtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdMZWZ0ID0gdGhpcy5sZWZ0XzAubWludXNLZXlfeWVxamJ5JChrZXkpO1xuICAgICAgaWYgKG5ld0xlZnQgPT09IHRoaXMubGVmdF8wKVxuICAgICAgICB0bXAkID0gdGhpcztcbiAgICAgIGVsc2UgaWYgKG5ld0xlZnQgPT09IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpKVxuICAgICAgICB0bXAkID0gdGhpcy5lbGVtZW50XzA7XG4gICAgICBlbHNlXG4gICAgICAgIHRtcCQgPSBuZXcgQ29tYmluZWRDb250ZXh0KG5ld0xlZnQsIHRoaXMuZWxlbWVudF8wKTtcbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH07XG4gICAgQ29tYmluZWRDb250ZXh0LnByb3RvdHlwZS5zaXplXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgICAgdmFyIGN1ciA9IHRoaXM7XG4gICAgICB2YXIgc2l6ZSA9IDI7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSBjdXIubGVmdF8wLCBDb21iaW5lZENvbnRleHQpID8gdG1wJCA6IG51bGw7XG4gICAgICAgIGlmICh0bXAkXzAgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICB9XG4gICAgICAgIGN1ciA9IHRtcCRfMDtcbiAgICAgICAgc2l6ZSA9IHNpemUgKyAxIHwgMDtcbiAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuY29udGFpbnNfMCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZXF1YWxzKHRoaXMuZ2V0X2ozcjJzbiQoZWxlbWVudC5rZXkpLCBlbGVtZW50KTtcbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuY29udGFpbnNBbGxfMCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciBjdXIgPSBjb250ZXh0O1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zXzAoY3VyLmVsZW1lbnRfMCkpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgbmV4dCA9IGN1ci5sZWZ0XzA7XG4gICAgICAgIGlmIChLb3RsaW4uaXNUeXBlKG5leHQsIENvbWJpbmVkQ29udGV4dCkpIHtcbiAgICAgICAgICBjdXIgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc18wKEtvdGxpbi5pc1R5cGUodG1wJCA9IG5leHQsIENvcm91dGluZUNvbnRleHQkRWxlbWVudCkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZWRDb250ZXh0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAoS290bGluLmlzVHlwZShvdGhlciwgQ29tYmluZWRDb250ZXh0KSAmJiBvdGhlci5zaXplXzAoKSA9PT0gdGhpcy5zaXplXzAoKSAmJiBvdGhlci5jb250YWluc0FsbF8wKHRoaXMpKTtcbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaGFzaENvZGUodGhpcy5sZWZ0XzApICsgaGFzaENvZGUodGhpcy5lbGVtZW50XzApIHwgMDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIENvbWJpbmVkQ29udGV4dCR0b1N0cmluZyRsYW1iZGEoYWNjLCBlbGVtZW50KSB7XG4gICAgICByZXR1cm4gYWNjLmxlbmd0aCA9PT0gMCA/IGVsZW1lbnQudG9TdHJpbmcoKSA6IGFjYyArICcsICcgKyBlbGVtZW50O1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICdbJyArIHRoaXMuZm9sZF8zY2M2OWIkKCcnLCBDb21iaW5lZENvbnRleHQkdG9TdHJpbmckbGFtYmRhKSArICddJztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIENvbWJpbmVkQ29udGV4dCR3cml0ZVJlcGxhY2UkbGFtYmRhKGNsb3N1cmUkZWxlbWVudHMsIGNsb3N1cmUkaW5kZXgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZWxlbWVudCkge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgY2xvc3VyZSRlbGVtZW50c1t0bXAkID0gY2xvc3VyZSRpbmRleC52LCBjbG9zdXJlJGluZGV4LnYgPSB0bXAkICsgMSB8IDAsIHRtcCRdID0gZWxlbWVudDtcbiAgICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgICB9O1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQucHJvdG90eXBlLndyaXRlUmVwbGFjZV8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgbiA9IHRoaXMuc2l6ZV8wKCk7XG4gICAgICB2YXIgZWxlbWVudHMgPSBLb3RsaW4ubmV3QXJyYXkobiwgbnVsbCk7XG4gICAgICB2YXIgaW5kZXggPSB7djogMH07XG4gICAgICB0aGlzLmZvbGRfM2NjNjliJChVbml0X2dldEluc3RhbmNlKCksIENvbWJpbmVkQ29udGV4dCR3cml0ZVJlcGxhY2UkbGFtYmRhKGVsZW1lbnRzLCBpbmRleCkpO1xuICAgICAgaWYgKCEoaW5kZXgudiA9PT0gbikpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2hlY2sgZmFpbGVkLic7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQoS290bGluLmlzQXJyYXkodG1wJCA9IGVsZW1lbnRzKSA/IHRtcCQgOiB0aHJvd0NDRV8wKCkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQoZWxlbWVudHMpIHtcbiAgICAgIENvbWJpbmVkQ29udGV4dCRTZXJpYWxpemVkJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZCRDb21wYW5pb24oKSB7XG4gICAgICBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5zZXJpYWxWZXJzaW9uVUlEXzAgPSBMMDtcbiAgICB9XG4gICAgQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIENvbWJpbmVkQ29udGV4dCRTZXJpYWxpemVkJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKENvbWJpbmVkQ29udGV4dCRTZXJpYWxpemVkJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZC5wcm90b3R5cGUucmVhZFJlc29sdmVfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmVsZW1lbnRzO1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgYWNjdW11bGF0b3IgPSBFbXB0eUNvcm91dGluZUNvbnRleHRfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGZvciAodG1wJCA9IDA7IHRtcCQgIT09ICRyZWNlaXZlci5sZW5ndGg7ICsrdG1wJCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9ICRyZWNlaXZlclt0bXAkXTtcbiAgICAgICAgYWNjdW11bGF0b3IgPSBhY2N1bXVsYXRvci5wbHVzXzFmdXB1bCQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfTtcbiAgICBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTZXJpYWxpemVkJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZV19O1xuICAgIENvbWJpbmVkQ29udGV4dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdDb21iaW5lZENvbnRleHQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsaXphYmxlLCBDb3JvdXRpbmVDb250ZXh0XX07XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5pbnRyaW5zaWNzLnN1c3BlbmRDb3JvdXRpbmVVbmludGVyY2VwdGVkT3JSZXR1cm5femIwcG15JCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0ID0gXy5rb3RsaW4uTm90SW1wbGVtZW50ZWRFcnJvcjtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYmxvY2ssIGNvbnRpbnVhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0KCdJbXBsZW1lbnRhdGlvbiBvZiBzdXNwZW5kQ29yb3V0aW5lVW5pbnRlcmNlcHRlZE9yUmV0dXJuIGlzIGludHJpbnNpYycpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgZnVuY3Rpb24gZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQoKSB7XG4gICAgICByZXR1cm4gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2dldEluc3RhbmNlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvcm91dGluZVNpbmdsZXRvbnMobmFtZSwgb3JkaW5hbCkge1xuICAgICAgRW51bS5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5uYW1lJCA9IG5hbWU7XG4gICAgICB0aGlzLm9yZGluYWwkID0gb3JkaW5hbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9uc19pbml0RmllbGRzKCkge1xuICAgICAgQ29yb3V0aW5lU2luZ2xldG9uc19pbml0RmllbGRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgfTtcbiAgICAgIENvcm91dGluZVNpbmdsZXRvbnMkQ09ST1VUSU5FX1NVU1BFTkRFRF9pbnN0YW5jZSA9IG5ldyBDb3JvdXRpbmVTaW5nbGV0b25zKCdDT1JPVVRJTkVfU1VTUEVOREVEJywgMCk7XG4gICAgICBDb3JvdXRpbmVTaW5nbGV0b25zJFVOREVDSURFRF9pbnN0YW5jZSA9IG5ldyBDb3JvdXRpbmVTaW5nbGV0b25zKCdVTkRFQ0lERUQnLCAxKTtcbiAgICAgIENvcm91dGluZVNpbmdsZXRvbnMkUkVTVU1FRF9pbnN0YW5jZSA9IG5ldyBDb3JvdXRpbmVTaW5nbGV0b25zKCdSRVNVTUVEJywgMik7XG4gICAgfVxuICAgIHZhciBDb3JvdXRpbmVTaW5nbGV0b25zJENPUk9VVElORV9TVVNQRU5ERURfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2dldEluc3RhbmNlKCkge1xuICAgICAgQ29yb3V0aW5lU2luZ2xldG9uc19pbml0RmllbGRzKCk7XG4gICAgICByZXR1cm4gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2luc3RhbmNlO1xuICAgIH1cbiAgICB2YXIgQ29yb3V0aW5lU2luZ2xldG9ucyRVTkRFQ0lERURfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyRVTkRFQ0lERURfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBDb3JvdXRpbmVTaW5nbGV0b25zX2luaXRGaWVsZHMoKTtcbiAgICAgIHJldHVybiBDb3JvdXRpbmVTaW5nbGV0b25zJFVOREVDSURFRF9pbnN0YW5jZTtcbiAgICB9XG4gICAgdmFyIENvcm91dGluZVNpbmdsZXRvbnMkUkVTVU1FRF9pbnN0YW5jZTtcbiAgICBmdW5jdGlvbiBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBDb3JvdXRpbmVTaW5nbGV0b25zX2luaXRGaWVsZHMoKTtcbiAgICAgIHJldHVybiBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfaW5zdGFuY2U7XG4gICAgfVxuICAgIENvcm91dGluZVNpbmdsZXRvbnMuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ29yb3V0aW5lU2luZ2xldG9ucycsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyR2YWx1ZXMoKSB7XG4gICAgICByZXR1cm4gW0Nvcm91dGluZVNpbmdsZXRvbnMkQ09ST1VUSU5FX1NVU1BFTkRFRF9nZXRJbnN0YW5jZSgpLCBDb3JvdXRpbmVTaW5nbGV0b25zJFVOREVDSURFRF9nZXRJbnN0YW5jZSgpLCBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKV07XG4gICAgfVxuICAgIENvcm91dGluZVNpbmdsZXRvbnMudmFsdWVzID0gQ29yb3V0aW5lU2luZ2xldG9ucyR2YWx1ZXM7XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyR2YWx1ZU9mKG5hbWUpIHtcbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICBjYXNlICdDT1JPVVRJTkVfU1VTUEVOREVEJzpcbiAgICAgICAgICByZXR1cm4gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2dldEluc3RhbmNlKCk7XG4gICAgICAgIGNhc2UgJ1VOREVDSURFRCc6XG4gICAgICAgICAgcmV0dXJuIENvcm91dGluZVNpbmdsZXRvbnMkVU5ERUNJREVEX2dldEluc3RhbmNlKCk7XG4gICAgICAgIGNhc2UgJ1JFU1VNRUQnOlxuICAgICAgICAgIHJldHVybiBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgZGVmYXVsdDp0aHJvd0lTRSgnTm8gZW51bSBjb25zdGFudCBrb3RsaW4uY29yb3V0aW5lcy5pbnRyaW5zaWNzLkNvcm91dGluZVNpbmdsZXRvbnMuJyArIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBDb3JvdXRpbmVTaW5nbGV0b25zLnZhbHVlT2ZfNjF6cG9lJCA9IENvcm91dGluZVNpbmdsZXRvbnMkdmFsdWVPZjtcbiAgICB2YXIgUmVxdWlyZUtvdGxpblZlcnNpb25LaW5kJExBTkdVQUdFX1ZFUlNJT05faW5zdGFuY2U7XG4gICAgdmFyIFJlcXVpcmVLb3RsaW5WZXJzaW9uS2luZCRDT01QSUxFUl9WRVJTSU9OX2luc3RhbmNlO1xuICAgIHZhciBSZXF1aXJlS290bGluVmVyc2lvbktpbmQkQVBJX1ZFUlNJT05faW5zdGFuY2U7XG4gICAgdmFyIERlbGVnYXRlc19pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFJhbmRvbSREZWZhdWx0X2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgUmFuZG9tJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gQ29tcGFyYWJsZVJhbmdlKHN0YXJ0LCBlbmRJbmNsdXNpdmUpIHtcbiAgICAgIHRoaXMuc3RhcnRfcDFnc21tJF8wID0gc3RhcnQ7XG4gICAgICB0aGlzLmVuZEluY2x1c2l2ZV9qajRsZjckXzAgPSBlbmRJbmNsdXNpdmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVxdWFsc18xKCRyZWNlaXZlciwgb3RoZXIsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmICgkcmVjZWl2ZXIgPT09IG90aGVyKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICghaWdub3JlQ2FzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHRvQ2hhcihTdHJpbmcuZnJvbUNoYXJDb2RlKCRyZWNlaXZlciB8IDApLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSkgPT09IHRvQ2hhcihTdHJpbmcuZnJvbUNoYXJDb2RlKG90aGVyIHwgMCkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodG9DaGFyKFN0cmluZy5mcm9tQ2hhckNvZGUoJHJlY2VpdmVyIHwgMCkudG9Mb3dlckNhc2UoKS5jaGFyQ29kZUF0KDApKSA9PT0gdG9DaGFyKFN0cmluZy5mcm9tQ2hhckNvZGUob3RoZXIgfCAwKS50b0xvd2VyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpbUluZGVudCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiByZXBsYWNlSW5kZW50KCRyZWNlaXZlciwgJycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYWNlSW5kZW50KCRyZWNlaXZlciwgbmV3SW5kZW50KSB7XG4gICAgICBpZiAobmV3SW5kZW50ID09PSB2b2lkIDApXG4gICAgICAgIG5ld0luZGVudCA9ICcnO1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgbGluZXNfMCA9IGxpbmVzKCRyZWNlaXZlcik7XG4gICAgICB2YXIgZGVzdGluYXRpb24gPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgICAgdmFyIHRtcCRfMDtcbiAgICAgIHRtcCRfMCA9IGxpbmVzXzAuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkXzAuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJF8wLm5leHQoKTtcbiAgICAgICAgaWYgKCFpc0JsYW5rKGVsZW1lbnQpKVxuICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZF8xMXJiJChlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9IGRlc3RpbmF0aW9uO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uXzAgPSBBcnJheUxpc3RfaW5pdF8wKGNvbGxlY3Rpb25TaXplT3JEZWZhdWx0KCRyZWNlaXZlcl8wLCAxMCkpO1xuICAgICAgdmFyIHRtcCRfMTtcbiAgICAgIHRtcCRfMSA9ICRyZWNlaXZlcl8wLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgaXRlbSA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIGRlc3RpbmF0aW9uXzAuYWRkXzExcmIkKGluZGVudFdpZHRoKGl0ZW0pKTtcbiAgICAgIH1cbiAgICAgIHZhciBtaW5Db21tb25JbmRlbnQgPSAodG1wJCA9IG1pbl8xMShkZXN0aW5hdGlvbl8wKSkgIT0gbnVsbCA/IHRtcCQgOiAwO1xuICAgICAgdmFyIHJlc3VsdFNpemVFc3RpbWF0ZSA9ICRyZWNlaXZlci5sZW5ndGggKyBLb3RsaW4uaW11bChuZXdJbmRlbnQubGVuZ3RoLCBsaW5lc18wLnNpemUpIHwgMDtcbiAgICAgIHZhciBpbmRlbnRBZGRGdW5jdGlvbiA9IGdldEluZGVudEZ1bmN0aW9uKG5ld0luZGVudCk7XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZ2V0X2xhc3RJbmRleF8xMihsaW5lc18wKTtcbiAgICAgIHZhciBkZXN0aW5hdGlvbl8xID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICAgIHZhciB0bXAkXzIsIHRtcCRfMztcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB0bXAkXzIgPSBsaW5lc18wLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8yLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgaXRlbV8wID0gdG1wJF8yLm5leHQoKTtcbiAgICAgICAgdmFyIHRtcCRfNDtcbiAgICAgICAgdmFyIGluZGV4XzAgPSBjaGVja0luZGV4T3ZlcmZsb3coKHRtcCRfMyA9IGluZGV4LCBpbmRleCA9IHRtcCRfMyArIDEgfCAwLCB0bXAkXzMpKTtcbiAgICAgICAgdmFyIHRtcCRfNSwgdG1wJF82O1xuICAgICAgICBpZiAoKHRtcCRfNCA9IChpbmRleF8wID09PSAwIHx8IGluZGV4XzAgPT09IGxhc3RJbmRleCkgJiYgaXNCbGFuayhpdGVtXzApID8gbnVsbCA6ICh0bXAkXzYgPSAodG1wJF81ID0gZHJvcF8xMShpdGVtXzAsIG1pbkNvbW1vbkluZGVudCkpICE9IG51bGwgPyBpbmRlbnRBZGRGdW5jdGlvbih0bXAkXzUpIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfNiA6IGl0ZW1fMCkgIT0gbnVsbCkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uXzEuYWRkXzExcmIkKHRtcCRfNCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBqb2luVG9fOChkZXN0aW5hdGlvbl8xLCBTdHJpbmdCdWlsZGVyX2luaXQocmVzdWx0U2l6ZUVzdGltYXRlKSwgJ1xcbicpLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGVudFdpZHRoKCRyZWNlaXZlcikge1xuICAgICAgdmFyIGluZGV4T2ZGaXJzdCRyZXN1bHQ7XG4gICAgICBpbmRleE9mRmlyc3QkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzI7XG4gICAgICAgIHRtcCQgPSBnZXRfaW5kaWNlc18xMygkcmVjZWl2ZXIpO1xuICAgICAgICB0bXAkXzAgPSB0bXAkLmZpcnN0O1xuICAgICAgICB0bXAkXzEgPSB0bXAkLmxhc3Q7XG4gICAgICAgIHRtcCRfMiA9IHRtcCQuc3RlcDtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSB0bXAkXzA7IGluZGV4IDw9IHRtcCRfMTsgaW5kZXggKz0gdG1wJF8yKSB7XG4gICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UodW5ib3hDaGFyKHRvQm94ZWRDaGFyKCRyZWNlaXZlci5jaGFyQ29kZUF0KGluZGV4KSkpKSkge1xuICAgICAgICAgICAgaW5kZXhPZkZpcnN0JHJlc3VsdCA9IGluZGV4O1xuICAgICAgICAgICAgYnJlYWsgaW5kZXhPZkZpcnN0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleE9mRmlyc3QkcmVzdWx0ID0gLTE7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHZhciBpdCA9IGluZGV4T2ZGaXJzdCRyZXN1bHQ7XG4gICAgICByZXR1cm4gaXQgPT09IC0xID8gJHJlY2VpdmVyLmxlbmd0aCA6IGl0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbmRlbnRGdW5jdGlvbiRsYW1iZGEobGluZSkge1xuICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluZGVudEZ1bmN0aW9uJGxhbWJkYV8wKGNsb3N1cmUkaW5kZW50KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGNsb3N1cmUkaW5kZW50ICsgbGluZTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluZGVudEZ1bmN0aW9uKGluZGVudCkge1xuICAgICAgaWYgKGluZGVudC5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBnZXRJbmRlbnRGdW5jdGlvbiRsYW1iZGE7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBnZXRJbmRlbnRGdW5jdGlvbiRsYW1iZGFfMChpbmRlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcHBlbmRFbGVtZW50XzAoJHJlY2VpdmVyLCBlbGVtZW50LCB0cmFuc2Zvcm0pIHtcbiAgICAgIGlmICh0cmFuc2Zvcm0gIT0gbnVsbClcbiAgICAgICAgJHJlY2VpdmVyLmFwcGVuZF9ndzAwdjkkKHRyYW5zZm9ybShlbGVtZW50KSk7XG4gICAgICBlbHNlIGlmIChlbGVtZW50ID09IG51bGwgfHwgS290bGluLmlzQ2hhclNlcXVlbmNlKGVsZW1lbnQpKVxuICAgICAgICAkcmVjZWl2ZXIuYXBwZW5kX2d3MDB2OSQoZWxlbWVudCk7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNDaGFyKGVsZW1lbnQpKVxuICAgICAgICAkcmVjZWl2ZXIuYXBwZW5kX3M4aXR2aCQodW5ib3hDaGFyKGVsZW1lbnQpKTtcbiAgICAgIGVsc2VcbiAgICAgICAgJHJlY2VpdmVyLmFwcGVuZF9ndzAwdjkkKHRvU3RyaW5nKGVsZW1lbnQpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9CeXRlT3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvQnl0ZU9yTnVsbF8wKCRyZWNlaXZlciwgMTApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0J5dGVPck51bGxfMCgkcmVjZWl2ZXIsIHJhZGl4KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSB0b0ludE9yTnVsbF8wKCRyZWNlaXZlciwgcmFkaXgpO1xuICAgICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHZhciBpbnQgPSB0bXAkO1xuICAgICAgaWYgKGludCA8IGtvdGxpbl9qc19pbnRlcm5hbF9CeXRlQ29tcGFuaW9uT2JqZWN0Lk1JTl9WQUxVRSB8fCBpbnQgPiBrb3RsaW5fanNfaW50ZXJuYWxfQnl0ZUNvbXBhbmlvbk9iamVjdC5NQVhfVkFMVUUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRvQnl0ZShpbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b1Nob3J0T3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvU2hvcnRPck51bGxfMCgkcmVjZWl2ZXIsIDEwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9TaG9ydE9yTnVsbF8wKCRyZWNlaXZlciwgcmFkaXgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9IHRvSW50T3JOdWxsXzAoJHJlY2VpdmVyLCByYWRpeCk7XG4gICAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIGludCA9IHRtcCQ7XG4gICAgICBpZiAoaW50IDwga290bGluX2pzX2ludGVybmFsX1Nob3J0Q29tcGFuaW9uT2JqZWN0Lk1JTl9WQUxVRSB8fCBpbnQgPiBrb3RsaW5fanNfaW50ZXJuYWxfU2hvcnRDb21wYW5pb25PYmplY3QuTUFYX1ZBTFVFKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0b1Nob3J0KGludCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvSW50T3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvSW50T3JOdWxsXzAoJHJlY2VpdmVyLCAxMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvSW50T3JOdWxsXzAoJHJlY2VpdmVyLCByYWRpeCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBjaGVja1JhZGl4KHJhZGl4KTtcbiAgICAgIHZhciBsZW5ndGggPSAkcmVjZWl2ZXIubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgc3RhcnQ7XG4gICAgICB2YXIgaXNOZWdhdGl2ZTtcbiAgICAgIHZhciBsaW1pdDtcbiAgICAgIHZhciBmaXJzdENoYXIgPSAkcmVjZWl2ZXIuY2hhckNvZGVBdCgwKTtcbiAgICAgIGlmIChmaXJzdENoYXIgPCA0OCkge1xuICAgICAgICBpZiAobGVuZ3RoID09PSAxKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBzdGFydCA9IDE7XG4gICAgICAgIGlmIChmaXJzdENoYXIgPT09IDQ1KSB7XG4gICAgICAgICAgaXNOZWdhdGl2ZSA9IHRydWU7XG4gICAgICAgICAgbGltaXQgPSAtMjE0NzQ4MzY0ODtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSBpZiAoZmlyc3RDaGFyID09PSA0Mykge1xuICAgICAgICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgICBsaW1pdCA9IC0yMTQ3NDgzNjQ3O1xuICAgICAgICB9XG4gICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgaXNOZWdhdGl2ZSA9IGZhbHNlO1xuICAgICAgICBsaW1pdCA9IC0yMTQ3NDgzNjQ3O1xuICAgICAgfVxuICAgICAgdmFyIGxpbWl0QmVmb3JlTXVsID0gbGltaXQgLyByYWRpeCB8IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHRtcCQgPSBsZW5ndGggLSAxIHwgMDtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSB0bXAkOyBpKyspIHtcbiAgICAgICAgdmFyIGRpZ2l0ID0gZGlnaXRPZigkcmVjZWl2ZXIuY2hhckNvZGVBdChpKSwgcmFkaXgpO1xuICAgICAgICBpZiAoZGlnaXQgPCAwKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAocmVzdWx0IDwgbGltaXRCZWZvcmVNdWwpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJlc3VsdCA9IEtvdGxpbi5pbXVsKHJlc3VsdCwgcmFkaXgpO1xuICAgICAgICBpZiAocmVzdWx0IDwgKGxpbWl0ICsgZGlnaXQgfCAwKSlcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IC0gZGlnaXQgfCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzTmVnYXRpdmUgPyByZXN1bHQgOiAtcmVzdWx0IHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Mb25nT3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvTG9uZ09yTnVsbF8wKCRyZWNlaXZlciwgMTApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0xvbmdPck51bGxfMCgkcmVjZWl2ZXIsIHJhZGl4KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGNoZWNrUmFkaXgocmFkaXgpO1xuICAgICAgdmFyIGxlbmd0aCA9ICRyZWNlaXZlci5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBzdGFydDtcbiAgICAgIHZhciBpc05lZ2F0aXZlO1xuICAgICAgdmFyIGxpbWl0O1xuICAgICAgdmFyIGZpcnN0Q2hhciA9ICRyZWNlaXZlci5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGZpcnN0Q2hhciA8IDQ4KSB7XG4gICAgICAgIGlmIChsZW5ndGggPT09IDEpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHN0YXJ0ID0gMTtcbiAgICAgICAgaWYgKGZpcnN0Q2hhciA9PT0gNDUpIHtcbiAgICAgICAgICBpc05lZ2F0aXZlID0gdHJ1ZTtcbiAgICAgICAgICBsaW1pdCA9IExvbmckQ29tcGFuaW9uJE1JTl9WQUxVRTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSBpZiAoZmlyc3RDaGFyID09PSA0Mykge1xuICAgICAgICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgICBsaW1pdCA9IExfOTIyMzM3MjAzNjg1NDc3NTgwNztcbiAgICAgICAgfVxuICAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgbGltaXQgPSBMXzkyMjMzNzIwMzY4NTQ3NzU4MDc7XG4gICAgICB9XG4gICAgICB2YXIgbGltaXRCZWZvcmVNdWwgPSBsaW1pdC5kaXYoS290bGluLkxvbmcuZnJvbUludChyYWRpeCkpO1xuICAgICAgdmFyIHJlc3VsdCA9IEwwO1xuICAgICAgdG1wJCA9IGxlbmd0aCAtIDEgfCAwO1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IHRtcCQ7IGkrKykge1xuICAgICAgICB2YXIgZGlnaXQgPSBkaWdpdE9mKCRyZWNlaXZlci5jaGFyQ29kZUF0KGkpLCByYWRpeCk7XG4gICAgICAgIGlmIChkaWdpdCA8IDApXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChyZXN1bHQuY29tcGFyZVRvXzExcmIkKGxpbWl0QmVmb3JlTXVsKSA8IDApXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWx0aXBseShLb3RsaW4uTG9uZy5mcm9tSW50KHJhZGl4KSk7XG4gICAgICAgIGlmIChyZXN1bHQuY29tcGFyZVRvXzExcmIkKGxpbWl0LmFkZChLb3RsaW4uTG9uZy5mcm9tSW50KGRpZ2l0KSkpIDwgMClcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnRyYWN0KEtvdGxpbi5Mb25nLmZyb21JbnQoZGlnaXQpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc05lZ2F0aXZlID8gcmVzdWx0IDogcmVzdWx0LnVuYXJ5TWludXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbnVtYmVyRm9ybWF0RXJyb3IoaW5wdXQpIHtcbiAgICAgIHRocm93IG5ldyBOdW1iZXJGb3JtYXRFeGNlcHRpb24oXCJJbnZhbGlkIG51bWJlciBmb3JtYXQ6ICdcIiArIGlucHV0ICsgXCInXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmltU3RhcnRfMigkcmVjZWl2ZXIsIGNoYXJzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9IEtvdGxpbi5pc0NoYXJTZXF1ZW5jZSh0bXAkID0gJHJlY2VpdmVyKSA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICAgICAgdmFyIHRyaW1TdGFydCRyZXN1bHQ7XG4gICAgICB0cmltU3RhcnQkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzIsIHRtcCRfMztcbiAgICAgICAgdG1wJF8wID0gZ2V0X2luZGljZXNfMTMoJHJlY2VpdmVyXzApO1xuICAgICAgICB0bXAkXzEgPSB0bXAkXzAuZmlyc3Q7XG4gICAgICAgIHRtcCRfMiA9IHRtcCRfMC5sYXN0O1xuICAgICAgICB0bXAkXzMgPSB0bXAkXzAuc3RlcDtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSB0bXAkXzE7IGluZGV4IDw9IHRtcCRfMjsgaW5kZXggKz0gdG1wJF8zKSB7XG4gICAgICAgICAgaWYgKCFjb250YWluc183KGNoYXJzLCB1bmJveENoYXIodG9Cb3hlZENoYXIoJHJlY2VpdmVyXzAuY2hhckNvZGVBdChpbmRleCkpKSkpIHtcbiAgICAgICAgICAgIHRyaW1TdGFydCRyZXN1bHQgPSBLb3RsaW4uc3ViU2VxdWVuY2UoJHJlY2VpdmVyXzAsIGluZGV4LCAkcmVjZWl2ZXJfMC5sZW5ndGgpO1xuICAgICAgICAgICAgYnJlYWsgdHJpbVN0YXJ0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmltU3RhcnQkcmVzdWx0ID0gJyc7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiB0cmltU3RhcnQkcmVzdWx0LnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyaW1FbmRfMigkcmVjZWl2ZXIsIGNoYXJzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9IEtvdGxpbi5pc0NoYXJTZXF1ZW5jZSh0bXAkID0gJHJlY2VpdmVyKSA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICAgICAgdmFyIHRyaW1FbmQkcmVzdWx0O1xuICAgICAgdHJpbUVuZCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJF8wO1xuICAgICAgICB0bXAkXzAgPSByZXZlcnNlZF85KGdldF9pbmRpY2VzXzEzKCRyZWNlaXZlcl8wKSkuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCRfMC5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSB0bXAkXzAubmV4dCgpO1xuICAgICAgICAgIGlmICghY29udGFpbnNfNyhjaGFycywgdW5ib3hDaGFyKHRvQm94ZWRDaGFyKCRyZWNlaXZlcl8wLmNoYXJDb2RlQXQoaW5kZXgpKSkpKSB7XG4gICAgICAgICAgICB0cmltRW5kJHJlc3VsdCA9IEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXJfMCwgMCwgaW5kZXggKyAxIHwgMCk7XG4gICAgICAgICAgICBicmVhayB0cmltRW5kJGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmltRW5kJHJlc3VsdCA9ICcnO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICByZXR1cm4gdHJpbUVuZCRyZXN1bHQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpbV8zKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHN0YXJ0SW5kZXggPSAwO1xuICAgICAgdmFyIGVuZEluZGV4ID0gJHJlY2VpdmVyLmxlbmd0aCAtIDEgfCAwO1xuICAgICAgdmFyIHN0YXJ0Rm91bmQgPSBmYWxzZTtcbiAgICAgIHdoaWxlIChzdGFydEluZGV4IDw9IGVuZEluZGV4KSB7XG4gICAgICAgIHZhciBpbmRleCA9ICFzdGFydEZvdW5kID8gc3RhcnRJbmRleCA6IGVuZEluZGV4O1xuICAgICAgICB2YXIgbWF0Y2ggPSBpc1doaXRlc3BhY2UodW5ib3hDaGFyKHRvQm94ZWRDaGFyKCRyZWNlaXZlci5jaGFyQ29kZUF0KGluZGV4KSkpKTtcbiAgICAgICAgaWYgKCFzdGFydEZvdW5kKSB7XG4gICAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHN0YXJ0Rm91bmQgPSB0cnVlO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ICsgMSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICghbWF0Y2gpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBlbmRJbmRleCA9IGVuZEluZGV4IC0gMSB8IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBLb3RsaW4uc3ViU2VxdWVuY2UoJHJlY2VpdmVyLCBzdGFydEluZGV4LCBlbmRJbmRleCArIDEgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpbUVuZF8zKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRyaW1FbmQkcmVzdWx0O1xuICAgICAgdHJpbUVuZCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgdG1wJCA9IHJldmVyc2VkXzkoZ2V0X2luZGljZXNfMTMoJHJlY2VpdmVyKSkuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UodW5ib3hDaGFyKHRvQm94ZWRDaGFyKCRyZWNlaXZlci5jaGFyQ29kZUF0KGluZGV4KSkpKSkge1xuICAgICAgICAgICAgdHJpbUVuZCRyZXN1bHQgPSBLb3RsaW4uc3ViU2VxdWVuY2UoJHJlY2VpdmVyLCAwLCBpbmRleCArIDEgfCAwKTtcbiAgICAgICAgICAgIGJyZWFrIHRyaW1FbmQkYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRyaW1FbmQkcmVzdWx0ID0gJyc7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiB0cmltRW5kJHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzJGl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLnRoaXMkaXRlcmF0b3IgPSB0aGlzJGl0ZXJhdG9yO1xuICAgICAgQ2hhckl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmluZGV4XzAgPSAwO1xuICAgIH1cbiAgICBpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Q2hhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICB0bXAkXzAgPSAodG1wJCA9IHRoaXMuaW5kZXhfMCwgdGhpcy5pbmRleF8wID0gdG1wJCArIDEgfCAwLCB0bXAkKTtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkaXRlcmF0b3IuY2hhckNvZGVBdCh0bXAkXzApO1xuICAgIH07XG4gICAgaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgPCB0aGlzLnRoaXMkaXRlcmF0b3IubGVuZ3RoO1xuICAgIH07XG4gICAgaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtDaGFySXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBpdGVyYXRvcl80KCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBpdGVyYXRvciRPYmplY3RMaXRlcmFsKCRyZWNlaXZlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldF9pbmRpY2VzXzEzKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBJbnRSYW5nZSgwLCAkcmVjZWl2ZXIubGVuZ3RoIC0gMSB8IDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRfbGFzdEluZGV4XzEzKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5sZW5ndGggLSAxIHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic3RyaW5nXzMoJHJlY2VpdmVyLCByYW5nZSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXIsIHJhbmdlLnN0YXJ0LCByYW5nZS5lbmRJbmNsdXNpdmUgKyAxIHwgMCkudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaW9uTWF0Y2hlc0ltcGwoJHJlY2VpdmVyLCB0aGlzT2Zmc2V0LCBvdGhlciwgb3RoZXJPZmZzZXQsIGxlbmd0aCwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKG90aGVyT2Zmc2V0IDwgMCB8fCB0aGlzT2Zmc2V0IDwgMCB8fCB0aGlzT2Zmc2V0ID4gKCRyZWNlaXZlci5sZW5ndGggLSBsZW5ndGggfCAwKSB8fCBvdGhlck9mZnNldCA+IChvdGhlci5sZW5ndGggLSBsZW5ndGggfCAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZXF1YWxzXzEoJHJlY2VpdmVyLmNoYXJDb2RlQXQodGhpc09mZnNldCArIGluZGV4IHwgMCksIG90aGVyLmNoYXJDb2RlQXQob3RoZXJPZmZzZXQgKyBpbmRleCB8IDApLCBpZ25vcmVDYXNlKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aF8xKCRyZWNlaXZlciwgY2hhciwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKGlnbm9yZUNhc2UgPT09IHZvaWQgMClcbiAgICAgICAgaWdub3JlQ2FzZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5sZW5ndGggPiAwICYmIGVxdWFsc18xKCRyZWNlaXZlci5jaGFyQ29kZUF0KDApLCBjaGFyLCBpZ25vcmVDYXNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5kc1dpdGhfMCgkcmVjZWl2ZXIsIGNoYXIsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIubGVuZ3RoID4gMCAmJiBlcXVhbHNfMSgkcmVjZWl2ZXIuY2hhckNvZGVBdChnZXRfbGFzdEluZGV4XzEzKCRyZWNlaXZlcikpLCBjaGFyLCBpZ25vcmVDYXNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2ZBbnkoJHJlY2VpdmVyLCBjaGFycywgc3RhcnRJbmRleCwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMClcbiAgICAgICAgc3RhcnRJbmRleCA9IGdldF9sYXN0SW5kZXhfMTMoJHJlY2VpdmVyKTtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmICghaWdub3JlQ2FzZSAmJiBjaGFycy5sZW5ndGggPT09IDEgJiYgdHlwZW9mICRyZWNlaXZlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGNoYXIgPSBzaW5nbGVfNyhjaGFycyk7XG4gICAgICAgIHJldHVybiAkcmVjZWl2ZXIubGFzdEluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKSwgc3RhcnRJbmRleCk7XG4gICAgICB9XG4gICAgICBsb29wX2xhYmVsOiBmb3IgKHZhciBpbmRleCA9IGNvZXJjZUF0TW9zdF8yKHN0YXJ0SW5kZXgsIGdldF9sYXN0SW5kZXhfMTMoJHJlY2VpdmVyKSk7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGNoYXJBdEluZGV4ID0gJHJlY2VpdmVyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICB2YXIgYW55JHJlc3VsdDtcbiAgICAgICAgYW55JGJyZWFrOiBkbyB7XG4gICAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgICAgZm9yICh0bXAkID0gMDsgdG1wJCAhPT0gY2hhcnMubGVuZ3RoOyArK3RtcCQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdW5ib3hDaGFyKGNoYXJzW3RtcCRdKTtcbiAgICAgICAgICAgIGlmIChlcXVhbHNfMSh1bmJveENoYXIodG9Cb3hlZENoYXIoZWxlbWVudCkpLCBjaGFyQXRJbmRleCwgaWdub3JlQ2FzZSkpIHtcbiAgICAgICAgICAgICAgYW55JHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrIGFueSRicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYW55JHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgICAgICBpZiAoYW55JHJlc3VsdClcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGV4T2ZfMTUoJHJlY2VpdmVyLCBvdGhlciwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIGlnbm9yZUNhc2UsIGxhc3QpIHtcbiAgICAgIGlmIChsYXN0ID09PSB2b2lkIDApXG4gICAgICAgIGxhc3QgPSBmYWxzZTtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICB2YXIgaW5kaWNlcyA9ICFsYXN0ID8gbmV3IEludFJhbmdlKGNvZXJjZUF0TGVhc3RfMihzdGFydEluZGV4LCAwKSwgY29lcmNlQXRNb3N0XzIoZW5kSW5kZXgsICRyZWNlaXZlci5sZW5ndGgpKSA6IGRvd25Ub180KGNvZXJjZUF0TW9zdF8yKHN0YXJ0SW5kZXgsIGdldF9sYXN0SW5kZXhfMTMoJHJlY2VpdmVyKSksIGNvZXJjZUF0TGVhc3RfMihlbmRJbmRleCwgMCkpO1xuICAgICAgaWYgKHR5cGVvZiAkcmVjZWl2ZXIgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG1wJCA9IGluZGljZXMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKHJlZ2lvbk1hdGNoZXMob3RoZXIsIDAsICRyZWNlaXZlciwgaW5kZXgsIG90aGVyLmxlbmd0aCwgaWdub3JlQ2FzZSkpXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdG1wJF8wID0gaW5kaWNlcy5pdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBpbmRleF8wID0gdG1wJF8wLm5leHQoKTtcbiAgICAgICAgICBpZiAocmVnaW9uTWF0Y2hlc0ltcGwob3RoZXIsIDAsICRyZWNlaXZlciwgaW5kZXhfMCwgb3RoZXIubGVuZ3RoLCBpZ25vcmVDYXNlKSlcbiAgICAgICAgICAgIHJldHVybiBpbmRleF8wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRBbnlPZigkcmVjZWl2ZXIsIHN0cmluZ3MsIHN0YXJ0SW5kZXgsIGlnbm9yZUNhc2UsIGxhc3QpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICBpZiAoIWlnbm9yZUNhc2UgJiYgc3RyaW5ncy5zaXplID09PSAxKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSBzaW5nbGVfMTcoc3RyaW5ncyk7XG4gICAgICAgIHZhciBpbmRleCA9ICFsYXN0ID8gaW5kZXhPZl8xNygkcmVjZWl2ZXIsIHN0cmluZywgc3RhcnRJbmRleCkgOiBsYXN0SW5kZXhPZl8xNigkcmVjZWl2ZXIsIHN0cmluZywgc3RhcnRJbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogdG8oaW5kZXgsIHN0cmluZyk7XG4gICAgICB9XG4gICAgICB2YXIgaW5kaWNlcyA9ICFsYXN0ID8gbmV3IEludFJhbmdlKGNvZXJjZUF0TGVhc3RfMihzdGFydEluZGV4LCAwKSwgJHJlY2VpdmVyLmxlbmd0aCkgOiBkb3duVG9fNChjb2VyY2VBdE1vc3RfMihzdGFydEluZGV4LCBnZXRfbGFzdEluZGV4XzEzKCRyZWNlaXZlcikpLCAwKTtcbiAgICAgIGlmICh0eXBlb2YgJHJlY2VpdmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICB0bXAkID0gaW5kaWNlcy5pdGVyYXRvcigpO1xuICAgICAgICBsb29wX2xhYmVsOiB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgaW5kZXhfMCA9IHRtcCQubmV4dCgpO1xuICAgICAgICAgIHZhciBmaXJzdE9yTnVsbCRyZXN1bHQ7XG4gICAgICAgICAgZmlyc3RPck51bGwkYnJlYWs6IGRvIHtcbiAgICAgICAgICAgIHZhciB0bXAkXzE7XG4gICAgICAgICAgICB0bXAkXzEgPSBzdHJpbmdzLml0ZXJhdG9yKCk7XG4gICAgICAgICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgICAgICAgIGlmIChyZWdpb25NYXRjaGVzKGVsZW1lbnQsIDAsICRyZWNlaXZlciwgaW5kZXhfMCwgZWxlbWVudC5sZW5ndGgsIGlnbm9yZUNhc2UpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RPck51bGwkcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICBicmVhayBmaXJzdE9yTnVsbCRicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3RPck51bGwkcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICAgICAgdmFyIG1hdGNoaW5nU3RyaW5nID0gZmlyc3RPck51bGwkcmVzdWx0O1xuICAgICAgICAgIGlmIChtYXRjaGluZ1N0cmluZyAhPSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRvKGluZGV4XzAsIG1hdGNoaW5nU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkXzAgPSBpbmRpY2VzLml0ZXJhdG9yKCk7XG4gICAgICAgIGxvb3BfbGFiZWw6IHdoaWxlICh0bXAkXzAuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4XzEgPSB0bXAkXzAubmV4dCgpO1xuICAgICAgICAgIHZhciBmaXJzdE9yTnVsbCRyZXN1bHRfMDtcbiAgICAgICAgICBmaXJzdE9yTnVsbCRicmVhazogZG8ge1xuICAgICAgICAgICAgdmFyIHRtcCRfMjtcbiAgICAgICAgICAgIHRtcCRfMiA9IHN0cmluZ3MuaXRlcmF0b3IoKTtcbiAgICAgICAgICAgIHdoaWxlICh0bXAkXzIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50XzAgPSB0bXAkXzIubmV4dCgpO1xuICAgICAgICAgICAgICBpZiAocmVnaW9uTWF0Y2hlc0ltcGwoZWxlbWVudF8wLCAwLCAkcmVjZWl2ZXIsIGluZGV4XzEsIGVsZW1lbnRfMC5sZW5ndGgsIGlnbm9yZUNhc2UpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RPck51bGwkcmVzdWx0XzAgPSBlbGVtZW50XzA7XG4gICAgICAgICAgICAgICAgYnJlYWsgZmlyc3RPck51bGwkYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpcnN0T3JOdWxsJHJlc3VsdF8wID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICAgICAgdmFyIG1hdGNoaW5nU3RyaW5nXzAgPSBmaXJzdE9yTnVsbCRyZXN1bHRfMDtcbiAgICAgICAgICBpZiAobWF0Y2hpbmdTdHJpbmdfMCAhPSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRvKGluZGV4XzEsIG1hdGNoaW5nU3RyaW5nXzApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5kZXhPZl8xNygkcmVjZWl2ZXIsIHN0cmluZywgc3RhcnRJbmRleCwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMClcbiAgICAgICAgc3RhcnRJbmRleCA9IDA7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICByZXR1cm4gaWdub3JlQ2FzZSB8fCAhKHR5cGVvZiAkcmVjZWl2ZXIgPT09ICdzdHJpbmcnKSA/IGluZGV4T2ZfMTUoJHJlY2VpdmVyLCBzdHJpbmcsIHN0YXJ0SW5kZXgsICRyZWNlaXZlci5sZW5ndGgsIGlnbm9yZUNhc2UpIDogJHJlY2VpdmVyLmluZGV4T2Yoc3RyaW5nLCBzdGFydEluZGV4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2ZfMTUoJHJlY2VpdmVyLCBjaGFyLCBzdGFydEluZGV4LCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKVxuICAgICAgICBzdGFydEluZGV4ID0gZ2V0X2xhc3RJbmRleF8xMygkcmVjZWl2ZXIpO1xuICAgICAgaWYgKGlnbm9yZUNhc2UgPT09IHZvaWQgMClcbiAgICAgICAgaWdub3JlQ2FzZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGlnbm9yZUNhc2UgfHwgISh0eXBlb2YgJHJlY2VpdmVyID09PSAnc3RyaW5nJykgPyBsYXN0SW5kZXhPZkFueSgkcmVjZWl2ZXIsIEtvdGxpbi5jaGFyQXJyYXlPZihjaGFyKSwgc3RhcnRJbmRleCwgaWdub3JlQ2FzZSkgOiAkcmVjZWl2ZXIubGFzdEluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKSwgc3RhcnRJbmRleCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mXzE2KCRyZWNlaXZlciwgc3RyaW5nLCBzdGFydEluZGV4LCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKVxuICAgICAgICBzdGFydEluZGV4ID0gZ2V0X2xhc3RJbmRleF8xMygkcmVjZWl2ZXIpO1xuICAgICAgaWYgKGlnbm9yZUNhc2UgPT09IHZvaWQgMClcbiAgICAgICAgaWdub3JlQ2FzZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGlnbm9yZUNhc2UgfHwgISh0eXBlb2YgJHJlY2VpdmVyID09PSAnc3RyaW5nJykgPyBpbmRleE9mXzE1KCRyZWNlaXZlciwgc3RyaW5nLCBzdGFydEluZGV4LCAwLCBpZ25vcmVDYXNlLCB0cnVlKSA6ICRyZWNlaXZlci5sYXN0SW5kZXhPZihzdHJpbmcsIHN0YXJ0SW5kZXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb250YWluc181MygkcmVjZWl2ZXIsIG90aGVyLCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICByZXR1cm4gdHlwZW9mIG90aGVyID09PSAnc3RyaW5nJyA/IGluZGV4T2ZfMTcoJHJlY2VpdmVyLCBvdGhlciwgdm9pZCAwLCBpZ25vcmVDYXNlKSA+PSAwIDogaW5kZXhPZl8xNSgkcmVjZWl2ZXIsIG90aGVyLCAwLCAkcmVjZWl2ZXIubGVuZ3RoLCBpZ25vcmVDYXNlKSA+PSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZShpbnB1dCwgc3RhcnRJbmRleCwgbGltaXQsIGdldE5leHRNYXRjaCkge1xuICAgICAgdGhpcy5pbnB1dF8wID0gaW5wdXQ7XG4gICAgICB0aGlzLnN0YXJ0SW5kZXhfMCA9IHN0YXJ0SW5kZXg7XG4gICAgICB0aGlzLmxpbWl0XzAgPSBsaW1pdDtcbiAgICAgIHRoaXMuZ2V0TmV4dE1hdGNoXzAgPSBnZXROZXh0TWF0Y2g7XG4gICAgfVxuICAgIGZ1bmN0aW9uIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZSkge1xuICAgICAgdGhpcy50aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlID0gdGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZTtcbiAgICAgIHRoaXMubmV4dFN0YXRlID0gLTE7XG4gICAgICB0aGlzLmN1cnJlbnRTdGFydEluZGV4ID0gY29lcmNlSW5fMih0aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlLnN0YXJ0SW5kZXhfMCwgMCwgdGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5pbnB1dF8wLmxlbmd0aCk7XG4gICAgICB0aGlzLm5leHRTZWFyY2hJbmRleCA9IHRoaXMuY3VycmVudFN0YXJ0SW5kZXg7XG4gICAgICB0aGlzLm5leHRJdGVtID0gbnVsbDtcbiAgICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgfVxuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNhbGNOZXh0XzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5uZXh0U2VhcmNoSW5kZXggPCAwKSB7XG4gICAgICAgIHRoaXMubmV4dFN0YXRlID0gMDtcbiAgICAgICAgdGhpcy5uZXh0SXRlbSA9IG51bGw7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnRoaXMkRGVsaW1pdGVkUmFuZ2VzU2VxdWVuY2UubGltaXRfMCA+IDAgJiYgKHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciArIDEgfCAwLCB0aGlzLmNvdW50ZXIpID49IHRoaXMudGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5saW1pdF8wIHx8IHRoaXMubmV4dFNlYXJjaEluZGV4ID4gdGhpcy50aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlLmlucHV0XzAubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5uZXh0SXRlbSA9IG5ldyBJbnRSYW5nZSh0aGlzLmN1cnJlbnRTdGFydEluZGV4LCBnZXRfbGFzdEluZGV4XzEzKHRoaXMudGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5pbnB1dF8wKSk7XG4gICAgICAgICAgdGhpcy5uZXh0U2VhcmNoSW5kZXggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gdGhpcy50aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlLmdldE5leHRNYXRjaF8wKHRoaXMudGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5pbnB1dF8wLCB0aGlzLm5leHRTZWFyY2hJbmRleCk7XG4gICAgICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEl0ZW0gPSBuZXcgSW50UmFuZ2UodGhpcy5jdXJyZW50U3RhcnRJbmRleCwgZ2V0X2xhc3RJbmRleF8xMyh0aGlzLnRoaXMkRGVsaW1pdGVkUmFuZ2VzU2VxdWVuY2UuaW5wdXRfMCkpO1xuICAgICAgICAgICAgdGhpcy5uZXh0U2VhcmNoSW5kZXggPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbWF0Y2guY29tcG9uZW50MSgpLCBsZW5ndGggPSBtYXRjaC5jb21wb25lbnQyKCk7XG4gICAgICAgICAgICB0aGlzLm5leHRJdGVtID0gdW50aWxfNCh0aGlzLmN1cnJlbnRTdGFydEluZGV4LCBpbmRleCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGFydEluZGV4ID0gaW5kZXggKyBsZW5ndGggfCAwO1xuICAgICAgICAgICAgdGhpcy5uZXh0U2VhcmNoSW5kZXggPSB0aGlzLmN1cnJlbnRTdGFydEluZGV4ICsgKGxlbmd0aCA9PT0gMCA/IDEgOiAwKSB8IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dFN0YXRlID0gMTtcbiAgICAgIH1cbiAgICB9O1xuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLm5leHRTdGF0ZSA9PT0gLTEpXG4gICAgICAgIHRoaXMuY2FsY05leHRfMCgpO1xuICAgICAgaWYgKHRoaXMubmV4dFN0YXRlID09PSAwKVxuICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgIHZhciByZXN1bHQgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLm5leHRJdGVtLCBJbnRSYW5nZSkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpO1xuICAgICAgdGhpcy5uZXh0SXRlbSA9IG51bGw7XG4gICAgICB0aGlzLm5leHRTdGF0ZSA9IC0xO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5uZXh0U3RhdGUgPT09IC0xKVxuICAgICAgICB0aGlzLmNhbGNOZXh0XzAoKTtcbiAgICAgIHJldHVybiB0aGlzLm5leHRTdGF0ZSA9PT0gMTtcbiAgICB9O1xuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyk7XG4gICAgfTtcbiAgICBEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtTZXF1ZW5jZV19O1xuICAgIGZ1bmN0aW9uIHJhbmdlc0RlbGltaXRlZEJ5JGxhbWJkYV8wKGNsb3N1cmUkZGVsaW1pdGVyc0xpc3QsIGNsb3N1cmUkaWdub3JlQ2FzZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGN1cnJlbnRJbmRleCkge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgcmV0dXJuICh0bXAkID0gZmluZEFueU9mKCRyZWNlaXZlciwgY2xvc3VyZSRkZWxpbWl0ZXJzTGlzdCwgY3VycmVudEluZGV4LCBjbG9zdXJlJGlnbm9yZUNhc2UsIGZhbHNlKSkgIT0gbnVsbCA/IHRvKHRtcCQuZmlyc3QsIHRtcCQuc2Vjb25kLmxlbmd0aCkgOiBudWxsO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmFuZ2VzRGVsaW1pdGVkQnlfMCgkcmVjZWl2ZXIsIGRlbGltaXRlcnMsIHN0YXJ0SW5kZXgsIGlnbm9yZUNhc2UsIGxpbWl0KSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKVxuICAgICAgICBzdGFydEluZGV4ID0gMDtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmIChsaW1pdCA9PT0gdm9pZCAwKVxuICAgICAgICBsaW1pdCA9IDA7XG4gICAgICBpZiAoIShsaW1pdCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdMaW1pdCBtdXN0IGJlIG5vbi1uZWdhdGl2ZSwgYnV0IHdhcyAnICsgbGltaXQgKyAnLic7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWxpbWl0ZXJzTGlzdCA9IGFzTGlzdChkZWxpbWl0ZXJzKTtcbiAgICAgIHJldHVybiBuZXcgRGVsaW1pdGVkUmFuZ2VzU2VxdWVuY2UoJHJlY2VpdmVyLCBzdGFydEluZGV4LCBsaW1pdCwgcmFuZ2VzRGVsaW1pdGVkQnkkbGFtYmRhXzAoZGVsaW1pdGVyc0xpc3QsIGlnbm9yZUNhc2UpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3BsaXRUb1NlcXVlbmNlJGxhbWJkYSh0aGlzJHNwbGl0VG9TZXF1ZW5jZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgICByZXR1cm4gc3Vic3RyaW5nXzModGhpcyRzcGxpdFRvU2VxdWVuY2UsIGl0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNwbGl0VG9TZXF1ZW5jZSgkcmVjZWl2ZXIsIGRlbGltaXRlcnMsIGlnbm9yZUNhc2UsIGxpbWl0KSB7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICBpZiAobGltaXQgPT09IHZvaWQgMClcbiAgICAgICAgbGltaXQgPSAwO1xuICAgICAgcmV0dXJuIG1hcF8xMChyYW5nZXNEZWxpbWl0ZWRCeV8wKCRyZWNlaXZlciwgZGVsaW1pdGVycywgdm9pZCAwLCBpZ25vcmVDYXNlLCBsaW1pdCksIHNwbGl0VG9TZXF1ZW5jZSRsYW1iZGEoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNwbGl0KCRyZWNlaXZlciwgZGVsaW1pdGVycywgaWdub3JlQ2FzZSwgbGltaXQpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmIChsaW1pdCA9PT0gdm9pZCAwKVxuICAgICAgICBsaW1pdCA9IDA7XG4gICAgICBpZiAoZGVsaW1pdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGRlbGltaXRlciA9IGRlbGltaXRlcnNbMF07XG4gICAgICAgIGlmICghKGRlbGltaXRlci5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuIHNwbGl0XzEoJHJlY2VpdmVyLCBkZWxpbWl0ZXIsIGlnbm9yZUNhc2UsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyICRyZWNlaXZlcl8wID0gYXNJdGVyYWJsZV8xMChyYW5nZXNEZWxpbWl0ZWRCeV8wKCRyZWNlaXZlciwgZGVsaW1pdGVycywgdm9pZCAwLCBpZ25vcmVDYXNlLCBsaW1pdCkpO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXRfMChjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXJfMCwgMTApKTtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9ICRyZWNlaXZlcl8wLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKHN1YnN0cmluZ18zKCRyZWNlaXZlciwgaXRlbSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzcGxpdF8xKCRyZWNlaXZlciwgZGVsaW1pdGVyLCBpZ25vcmVDYXNlLCBsaW1pdCkge1xuICAgICAgaWYgKCEobGltaXQgPj0gMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnTGltaXQgbXVzdCBiZSBub24tbmVnYXRpdmUsIGJ1dCB3YXMgJyArIGxpbWl0ICsgJy4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB2YXIgY3VycmVudE9mZnNldCA9IDA7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gaW5kZXhPZl8xNygkcmVjZWl2ZXIsIGRlbGltaXRlciwgY3VycmVudE9mZnNldCwgaWdub3JlQ2FzZSk7XG4gICAgICBpZiAobmV4dEluZGV4ID09PSAtMSB8fCBsaW1pdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gbGlzdE9mKCRyZWNlaXZlci50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0xpbWl0ZWQgPSBsaW1pdCA+IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXlMaXN0X2luaXRfMChpc0xpbWl0ZWQgPyBjb2VyY2VBdE1vc3RfMihsaW1pdCwgMTApIDogMTApO1xuICAgICAgZG8ge1xuICAgICAgICByZXN1bHQuYWRkXzExcmIkKEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXIsIGN1cnJlbnRPZmZzZXQsIG5leHRJbmRleCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGN1cnJlbnRPZmZzZXQgPSBuZXh0SW5kZXggKyBkZWxpbWl0ZXIubGVuZ3RoIHwgMDtcbiAgICAgICAgaWYgKGlzTGltaXRlZCAmJiByZXN1bHQuc2l6ZSA9PT0gKGxpbWl0IC0gMSB8IDApKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBuZXh0SW5kZXggPSBpbmRleE9mXzE3KCRyZWNlaXZlciwgZGVsaW1pdGVyLCBjdXJyZW50T2Zmc2V0LCBpZ25vcmVDYXNlKTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAobmV4dEluZGV4ICE9PSAtMSk7XG4gICAgICByZXN1bHQuYWRkXzExcmIkKEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXIsIGN1cnJlbnRPZmZzZXQsICRyZWNlaXZlci5sZW5ndGgpLnRvU3RyaW5nKCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGluZVNlcXVlbmNlKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHNwbGl0VG9TZXF1ZW5jZSgkcmVjZWl2ZXIsIFsnXFxyXFxuJywgJ1xcbicsICdcXHInXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpbmVzKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvTGlzdF8xMChsaW5lU2VxdWVuY2UoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIHZhciBUeXBvZ3JhcGh5X2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBNYXRjaEdyb3VwQ29sbGVjdGlvbigpIHtcbiAgICB9XG4gICAgTWF0Y2hHcm91cENvbGxlY3Rpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ01hdGNoR3JvdXBDb2xsZWN0aW9uJywgaW50ZXJmYWNlczogW0NvbGxlY3Rpb25dfTtcbiAgICBmdW5jdGlvbiBNYXRjaFJlc3VsdCgpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGNoUmVzdWx0LnByb3RvdHlwZSwgJ2Rlc3RydWN0dXJlZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkKHRoaXMpO1xuICAgIH19KTtcbiAgICBmdW5jdGlvbiBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQobWF0Y2gpIHtcbiAgICAgIHRoaXMubWF0Y2ggPSBtYXRjaDtcbiAgICB9XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQxID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4udGV4dC5NYXRjaFJlc3VsdC5EZXN0cnVjdHVyZWQuY29tcG9uZW50MScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoLmdyb3VwVmFsdWVzLmdldF96YTNscGEkKDEpO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUuY29tcG9uZW50MiA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDInLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaC5ncm91cFZhbHVlcy5nZXRfemEzbHBhJCgyKTtcbiAgICB9KTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQucHJvdG90eXBlLmNvbXBvbmVudDMgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0Lk1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZC5jb21wb25lbnQzJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoMyk7XG4gICAgfSk7XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQ0ID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4udGV4dC5NYXRjaFJlc3VsdC5EZXN0cnVjdHVyZWQuY29tcG9uZW50NCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoLmdyb3VwVmFsdWVzLmdldF96YTNscGEkKDQpO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUuY29tcG9uZW50NSA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaC5ncm91cFZhbHVlcy5nZXRfemEzbHBhJCg1KTtcbiAgICB9KTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQucHJvdG90eXBlLmNvbXBvbmVudDYgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0Lk1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZC5jb21wb25lbnQ2JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoNik7XG4gICAgfSk7XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQ3ID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4udGV4dC5NYXRjaFJlc3VsdC5EZXN0cnVjdHVyZWQuY29tcG9uZW50NycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoLmdyb3VwVmFsdWVzLmdldF96YTNscGEkKDcpO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUuY29tcG9uZW50OCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaC5ncm91cFZhbHVlcy5nZXRfemEzbHBhJCg4KTtcbiAgICB9KTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQucHJvdG90eXBlLmNvbXBvbmVudDkgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0Lk1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZC5jb21wb25lbnQ5JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoOSk7XG4gICAgfSk7XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQxMCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDEwJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoMTApO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUudG9MaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuc3ViTGlzdF92dXg5ZjAkKDEsIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuc2l6ZSk7XG4gICAgfTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRGVzdHJ1Y3R1cmVkJywgaW50ZXJmYWNlczogW119O1xuICAgIE1hdGNoUmVzdWx0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNYXRjaFJlc3VsdCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgRHVyYXRpb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgS290bGluVmVyc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIExhenkoKSB7XG4gICAgfVxuICAgIExhenkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0xhenknLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIExhenlUaHJlYWRTYWZldHlNb2RlJFNZTkNIUk9OSVpFRF9pbnN0YW5jZTtcbiAgICB2YXIgTGF6eVRocmVhZFNhZmV0eU1vZGUkUFVCTElDQVRJT05faW5zdGFuY2U7XG4gICAgdmFyIExhenlUaHJlYWRTYWZldHlNb2RlJE5PTkVfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gVU5JTklUSUFMSVpFRF9WQUxVRSgpIHtcbiAgICAgIFVOSU5JVElBTElaRURfVkFMVUVfaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBVTklOSVRJQUxJWkVEX1ZBTFVFLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdVTklOSVRJQUxJWkVEX1ZBTFVFJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBVTklOSVRJQUxJWkVEX1ZBTFVFX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBVTklOSVRJQUxJWkVEX1ZBTFVFX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKFVOSU5JVElBTElaRURfVkFMVUVfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFVOSU5JVElBTElaRURfVkFMVUUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBVTklOSVRJQUxJWkVEX1ZBTFVFX2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbnNhZmVMYXp5SW1wbChpbml0aWFsaXplcikge1xuICAgICAgdGhpcy5pbml0aWFsaXplcl8wID0gaW5pdGlhbGl6ZXI7XG4gICAgICB0aGlzLl92YWx1ZV8wID0gVU5JTklUSUFMSVpFRF9WQUxVRV9nZXRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5zYWZlTGF6eUltcGwucHJvdG90eXBlLCAndmFsdWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLl92YWx1ZV8wID09PSBVTklOSVRJQUxJWkVEX1ZBTFVFX2dldEluc3RhbmNlKCkpIHtcbiAgICAgICAgdGhpcy5fdmFsdWVfMCA9IGVuc3VyZU5vdE51bGwodGhpcy5pbml0aWFsaXplcl8wKSgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVyXzAgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh0bXAkID0gdGhpcy5fdmFsdWVfMCkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpO1xuICAgIH19KTtcbiAgICBVbnNhZmVMYXp5SW1wbC5wcm90b3R5cGUuaXNJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZV8wICE9PSBVTklOSVRJQUxJWkVEX1ZBTFVFX2dldEluc3RhbmNlKCk7XG4gICAgfTtcbiAgICBVbnNhZmVMYXp5SW1wbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0luaXRpYWxpemVkKCkgPyB0b1N0cmluZyh0aGlzLnZhbHVlKSA6ICdMYXp5IHZhbHVlIG5vdCBpbml0aWFsaXplZCB5ZXQuJztcbiAgICB9O1xuICAgIFVuc2FmZUxhenlJbXBsLnByb3RvdHlwZS53cml0ZVJlcGxhY2VfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgSW5pdGlhbGl6ZWRMYXp5SW1wbCh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIFVuc2FmZUxhenlJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1Vuc2FmZUxhenlJbXBsJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZSwgTGF6eV19O1xuICAgIGZ1bmN0aW9uIEluaXRpYWxpemVkTGF6eUltcGwodmFsdWUpIHtcbiAgICAgIHRoaXMudmFsdWVfN3RhcTcwJF8wID0gdmFsdWU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbml0aWFsaXplZExhenlJbXBsLnByb3RvdHlwZSwgJ3ZhbHVlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVfN3RhcTcwJF8wO1xuICAgIH19KTtcbiAgICBJbml0aWFsaXplZExhenlJbXBsLnByb3RvdHlwZS5pc0luaXRpYWxpemVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBJbml0aWFsaXplZExhenlJbXBsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIEluaXRpYWxpemVkTGF6eUltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW5pdGlhbGl6ZWRMYXp5SW1wbCcsIGludGVyZmFjZXM6IFtTZXJpYWxpemFibGUsIExhenldfTtcbiAgICBmdW5jdGlvbiBSZXN1bHQodmFsdWUpIHtcbiAgICAgIFJlc3VsdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3VsdC5wcm90b3R5cGUsICdpc1N1Y2Nlc3MnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gIUtvdGxpbi5pc1R5cGUodGhpcy52YWx1ZSwgUmVzdWx0JEZhaWx1cmUpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0LnByb3RvdHlwZSwgJ2lzRmFpbHVyZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRoaXMudmFsdWUsIFJlc3VsdCRGYWlsdXJlKTtcbiAgICB9fSk7XG4gICAgUmVzdWx0LnByb3RvdHlwZS5nZXRPck51bGwgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi5SZXN1bHQuZ2V0T3JOdWxsJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBBbnkgPSBPYmplY3Q7XG4gICAgICB2YXIgdGhyb3dDQ0UgPSBLb3RsaW4udGhyb3dDQ0U7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKHRoaXMuaXNGYWlsdXJlKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuICh0bXAkID0gdGhpcy52YWx1ZSkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgICAgIH07XG4gICAgfSkpO1xuICAgIFJlc3VsdC5wcm90b3R5cGUuZXhjZXB0aW9uT3JOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUodGhpcy52YWx1ZSwgUmVzdWx0JEZhaWx1cmUpKVxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5leGNlcHRpb247XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVzdWx0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKHRoaXMudmFsdWUsIFJlc3VsdCRGYWlsdXJlKSlcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuICdTdWNjZXNzKCcgKyB0b1N0cmluZyh0aGlzLnZhbHVlKSArICcpJztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFJlc3VsdCRDb21wYW5pb24oKSB7XG4gICAgICBSZXN1bHQkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgUmVzdWx0JENvbXBhbmlvbi5wcm90b3R5cGUuc3VjY2Vzc19taDVob3ckID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uUmVzdWx0LkNvbXBhbmlvbi5zdWNjZXNzX21oNWhvdyQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIFJlc3VsdF9pbml0ID0gXy5rb3RsaW4uUmVzdWx0O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3VsdF9pbml0KHZhbHVlKTtcbiAgICAgIH07XG4gICAgfSkpO1xuICAgIFJlc3VsdCRDb21wYW5pb24ucHJvdG90eXBlLmZhaWx1cmVfbHNxbGszJCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLlJlc3VsdC5Db21wYW5pb24uZmFpbHVyZV9sc3FsazMkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjcmVhdGVGYWlsdXJlID0gXy5rb3RsaW4uY3JlYXRlRmFpbHVyZV90Y3Y3bjckO1xuICAgICAgdmFyIFJlc3VsdF9pbml0ID0gXy5rb3RsaW4uUmVzdWx0O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHRfaW5pdChjcmVhdGVGYWlsdXJlKGV4Y2VwdGlvbikpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgUmVzdWx0JENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBSZXN1bHQkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBSZXN1bHQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKFJlc3VsdCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFJlc3VsdCRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZXN1bHQkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZXN1bHQkRmFpbHVyZShleGNlcHRpb24pIHtcbiAgICAgIHRoaXMuZXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgIH1cbiAgICBSZXN1bHQkRmFpbHVyZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgUmVzdWx0JEZhaWx1cmUpICYmIGVxdWFscyh0aGlzLmV4Y2VwdGlvbiwgb3RoZXIuZXhjZXB0aW9uKTtcbiAgICB9O1xuICAgIFJlc3VsdCRGYWlsdXJlLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBoYXNoQ29kZSh0aGlzLmV4Y2VwdGlvbik7XG4gICAgfTtcbiAgICBSZXN1bHQkRmFpbHVyZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ0ZhaWx1cmUoJyArIHRoaXMuZXhjZXB0aW9uICsgJyknO1xuICAgIH07XG4gICAgUmVzdWx0JEZhaWx1cmUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRmFpbHVyZScsIGludGVyZmFjZXM6IFtTZXJpYWxpemFibGVdfTtcbiAgICBSZXN1bHQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUmVzdWx0JywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZV19O1xuICAgIFJlc3VsdC5wcm90b3R5cGUudW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9O1xuICAgIFJlc3VsdC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMudmFsdWUpIHwgMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBSZXN1bHQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIHRoaXMgPT09IG90aGVyIHx8IChvdGhlciAhPT0gbnVsbCAmJiAodHlwZW9mIG90aGVyID09PSAnb2JqZWN0JyAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3RoZXIpICYmIEtvdGxpbi5lcXVhbHModGhpcy52YWx1ZSwgb3RoZXIudmFsdWUpKSkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gY3JlYXRlRmFpbHVyZShleGNlcHRpb24pIHtcbiAgICAgIHJldHVybiBuZXcgUmVzdWx0JEZhaWx1cmUoZXhjZXB0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dPbkZhaWx1cmUoJHJlY2VpdmVyKSB7XG4gICAgICBpZiAoS290bGluLmlzVHlwZSgkcmVjZWl2ZXIudmFsdWUsIFJlc3VsdCRGYWlsdXJlKSlcbiAgICAgICAgdGhyb3cgJHJlY2VpdmVyLnZhbHVlLmV4Y2VwdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gTm90SW1wbGVtZW50ZWRFcnJvcihtZXNzYWdlKSB7XG4gICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKVxuICAgICAgICBtZXNzYWdlID0gJ0FuIG9wZXJhdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQuJztcbiAgICAgIEVycm9yX2luaXRfMChtZXNzYWdlLCB0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdOb3RJbXBsZW1lbnRlZEVycm9yJztcbiAgICB9XG4gICAgTm90SW1wbGVtZW50ZWRFcnJvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOb3RJbXBsZW1lbnRlZEVycm9yJywgaW50ZXJmYWNlczogW0Vycm9yXzBdfTtcbiAgICBmdW5jdGlvbiBQYWlyKGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgIHRoaXMuZmlyc3QgPSBmaXJzdDtcbiAgICAgIHRoaXMuc2Vjb25kID0gc2Vjb25kO1xuICAgIH1cbiAgICBQYWlyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnKCcgKyB0aGlzLmZpcnN0ICsgJywgJyArIHRoaXMuc2Vjb25kICsgJyknO1xuICAgIH07XG4gICAgUGFpci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQYWlyJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZV19O1xuICAgIFBhaXIucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maXJzdDtcbiAgICB9O1xuICAgIFBhaXIucHJvdG90eXBlLmNvbXBvbmVudDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWNvbmQ7XG4gICAgfTtcbiAgICBQYWlyLnByb3RvdHlwZS5jb3B5X3h3emM5cCQgPSBmdW5jdGlvbiAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgcmV0dXJuIG5ldyBQYWlyKGZpcnN0ID09PSB2b2lkIDAgPyB0aGlzLmZpcnN0IDogZmlyc3QsIHNlY29uZCA9PT0gdm9pZCAwID8gdGhpcy5zZWNvbmQgOiBzZWNvbmQpO1xuICAgIH07XG4gICAgUGFpci5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuZmlyc3QpIHwgMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuc2Vjb25kKSB8IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgUGFpci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gdGhpcyA9PT0gb3RoZXIgfHwgKG90aGVyICE9PSBudWxsICYmICh0eXBlb2Ygb3RoZXIgPT09ICdvYmplY3QnICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihvdGhlcikgJiYgKEtvdGxpbi5lcXVhbHModGhpcy5maXJzdCwgb3RoZXIuZmlyc3QpICYmIEtvdGxpbi5lcXVhbHModGhpcy5zZWNvbmQsIG90aGVyLnNlY29uZCkpKSkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gdG8oJHJlY2VpdmVyLCB0aGF0KSB7XG4gICAgICByZXR1cm4gbmV3IFBhaXIoJHJlY2VpdmVyLCB0aGF0KTtcbiAgICB9XG4gICAgdmFyIFVCeXRlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFVJbnQkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgVUludFJhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFVJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBVTG9uZyRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBVTG9uZ1JhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFVMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgVVNob3J0JENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIHBhY2thZ2Uka290bGluID0gXy5rb3RsaW4gfHwgKF8ua290bGluID0ge30pO1xuICAgIHZhciBwYWNrYWdlJGNvbGxlY3Rpb25zID0gcGFja2FnZSRrb3RsaW4uY29sbGVjdGlvbnMgfHwgKHBhY2thZ2Uka290bGluLmNvbGxlY3Rpb25zID0ge30pO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29udGFpbnNfbWp5Nmp3JCA9IGNvbnRhaW5zO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29udGFpbnNfbzJmOW1lJCA9IGNvbnRhaW5zXzc7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRfbGFzdEluZGV4X203ejRsZyQgPSBnZXRfbGFzdEluZGV4O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuZ2V0T3JOdWxsXzh1amprOCQgPSBnZXRPck51bGw7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5pbmRleE9mX21qeTZqdyQgPSBpbmRleE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuaW5kZXhPZl9vMmY5bWUkID0gaW5kZXhPZl83O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuZ2V0X2luZGljZXNfbTd6NGxnJCA9IGdldF9pbmRpY2VzO1xuICAgIHZhciBwYWNrYWdlJHJhbmdlcyA9IHBhY2thZ2Uka290bGluLnJhbmdlcyB8fCAocGFja2FnZSRrb3RsaW4ucmFuZ2VzID0ge30pO1xuICAgIHBhY2thZ2UkcmFuZ2VzLnJldmVyc2VkX3pmMXh6YyQgPSByZXZlcnNlZF85O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubGFzdEluZGV4T2ZfbWp5Nmp3JCA9IGxhc3RJbmRleE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuc2luZ2xlXzM1NW50eiQgPSBzaW5nbGVfNztcbiAgICBwYWNrYWdlJGtvdGxpbi5JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF9wZGwxdmokID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmVtcHR5TGlzdF8yODdlMiQgPSBlbXB0eUxpc3Q7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BcnJheUxpc3RfaW5pdF8yODdlMiQgPSBBcnJheUxpc3RfaW5pdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvTGlzdF91czBtZnUkID0gdG9MaXN0O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubWFwQ2FwYWNpdHlfemEzbHBhJCA9IG1hcENhcGFjaXR5O1xuICAgIHBhY2thZ2UkcmFuZ2VzLmNvZXJjZUF0TGVhc3RfZHFnbHJqJCA9IGNvZXJjZUF0TGVhc3RfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXBfaW5pdF9id3RjNyQgPSBMaW5rZWRIYXNoTWFwX2luaXRfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvQ29sbGVjdGlvbl81bjRvMnokID0gdG9Db2xsZWN0aW9uO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9NdXRhYmxlTGlzdF91czBtZnUkID0gdG9NdXRhYmxlTGlzdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvU2V0X3VzMG1mdSQgPSB0b1NldDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXBfaW5pdF9xM2xtZnYkID0gTGlua2VkSGFzaE1hcF9pbml0O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuQXJyYXlMaXN0X2luaXRfd3c3M244JCA9IEFycmF5TGlzdF9pbml0XzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoU2V0X2luaXRfMjg3ZTIkID0gSGFzaFNldF9pbml0O1xuICAgIHBhY2thZ2Uka290bGluLlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uX2luaXRfcGRsMXZqJCA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uX2luaXRfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmNvbGxlY3Rpb25TaXplT3JEZWZhdWx0X2JhMmxkbyQgPSBjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmdldF9sYXN0SW5kZXhfNTV0aG9jJCA9IGdldF9sYXN0SW5kZXhfMTI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRPck51bGxfeXpsbjJvJCA9IGdldE9yTnVsbF84O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuZmlyc3RfMnAxZWZtJCA9IGZpcnN0XzE4O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY2hlY2tJbmRleE92ZXJmbG93X3phM2xwYSQgPSBjaGVja0luZGV4T3ZlcmZsb3c7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5sYXN0XzJwMWVmbSQgPSBsYXN0XzE4O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubGFzdE9yTnVsbF8ycDFlZm0kID0gbGFzdE9yTnVsbF8xODtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnNpbmdsZV83d252emEkID0gc2luZ2xlXzE3O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuc2luZ2xlXzJwMWVmbSQgPSBzaW5nbGVfMTg7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5zbGljZV82YmpiaTEkID0gc2xpY2VfMTc7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy50b0xpc3RfN3dudnphJCA9IHRvTGlzdF84O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9Db2xsZWN0aW9uXzVjZnlxcCQgPSB0b0NvbGxlY3Rpb25fODtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvTXV0YWJsZUxpc3RfN3dudnphJCA9IHRvTXV0YWJsZUxpc3RfODtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvTXV0YWJsZUxpc3RfNGM3eWdlJCA9IHRvTXV0YWJsZUxpc3RfOTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvU2V0Xzd3bnZ6YSQgPSB0b1NldF84O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuQ29sbGVjdGlvbiA9IENvbGxlY3Rpb247XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5taW5fZXhqa3M4JCA9IG1pbl8xMTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmpvaW5Ub19nY2M3MXYkID0gam9pblRvXzg7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5qb2luVG9TdHJpbmdfZm12MjM1JCA9IGpvaW5Ub1N0cmluZ184O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuYXNTZXF1ZW5jZV83d252emEkID0gYXNTZXF1ZW5jZV84O1xuICAgIHBhY2thZ2UkcmFuZ2VzLmRvd25Ub19kcWdscmokID0gZG93blRvXzQ7XG4gICAgcGFja2FnZSRyYW5nZXMudW50aWxfZHFnbHJqJCA9IHVudGlsXzQ7XG4gICAgcGFja2FnZSRyYW5nZXMuY29lcmNlQXRNb3N0X2RxZ2xyaiQgPSBjb2VyY2VBdE1vc3RfMjtcbiAgICBwYWNrYWdlJHJhbmdlcy5jb2VyY2VJbl9lNHl2YjMkID0gY29lcmNlSW5fMjtcbiAgICB2YXIgcGFja2FnZSRzZXF1ZW5jZXMgPSBwYWNrYWdlJGtvdGxpbi5zZXF1ZW5jZXMgfHwgKHBhY2thZ2Uka290bGluLnNlcXVlbmNlcyA9IHt9KTtcbiAgICBwYWNrYWdlJHNlcXVlbmNlcy5TZXF1ZW5jZSA9IFNlcXVlbmNlO1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLnRha2Vfd3V3aGUyJCA9IHRha2VfOTtcbiAgICBwYWNrYWdlJHNlcXVlbmNlcy50b0NvbGxlY3Rpb25fZ3RzenhwJCA9IHRvQ29sbGVjdGlvbl85O1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLnRvTGlzdF92ZXF5aTAkID0gdG9MaXN0XzEwO1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLnRvTXV0YWJsZUxpc3RfdmVxeWkwJCA9IHRvTXV0YWJsZUxpc3RfMTA7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMubWFwX3o1YXZvbSQgPSBtYXBfMTA7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuYXNJdGVyYWJsZV92ZXF5aTAkID0gYXNJdGVyYWJsZV8xMDtcbiAgICB2YXIgcGFja2FnZSR0ZXh0ID0gcGFja2FnZSRrb3RsaW4udGV4dCB8fCAocGFja2FnZSRrb3RsaW4udGV4dCA9IHt9KTtcbiAgICBwYWNrYWdlJHRleHQuZ2V0X2xhc3RJbmRleF9ndzAwdnAkID0gZ2V0X2xhc3RJbmRleF8xMztcbiAgICBwYWNrYWdlJHRleHQuaXRlcmF0b3JfZ3cwMHZwJCA9IGl0ZXJhdG9yXzQ7XG4gICAgcGFja2FnZSR0ZXh0LmdldF9pbmRpY2VzX2d3MDB2cCQgPSBnZXRfaW5kaWNlc18xMztcbiAgICBwYWNrYWdlJHRleHQuc2luZ2xlX2d3MDB2cCQgPSBzaW5nbGVfMjI7XG4gICAgcGFja2FnZSR0ZXh0LmRyb3BfNmljMXBwJCA9IGRyb3BfMTE7XG4gICAgcGFja2FnZSR0ZXh0LlN0cmluZ0J1aWxkZXJfaW5pdCA9IFN0cmluZ0J1aWxkZXJfaW5pdF8xO1xuICAgIHZhciBwYWNrYWdlJG1hdGggPSBwYWNrYWdlJGtvdGxpbi5tYXRoIHx8IChwYWNrYWdlJGtvdGxpbi5tYXRoID0ge30pO1xuICAgIHBhY2thZ2Uka290bGluLkNoYXJTZXF1ZW5jZSA9IENoYXJTZXF1ZW5jZTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkl0ZXJhYmxlID0gSXRlcmFibGU7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NdXRhYmxlSXRlcmFibGUgPSBNdXRhYmxlSXRlcmFibGU7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NdXRhYmxlQ29sbGVjdGlvbiA9IE11dGFibGVDb2xsZWN0aW9uO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlzdCA9IExpc3Q7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NdXRhYmxlTGlzdCA9IE11dGFibGVMaXN0O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuU2V0ID0gU2V0O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTXV0YWJsZVNldCA9IE11dGFibGVTZXQ7XG4gICAgTWFwLkVudHJ5ID0gTWFwJEVudHJ5O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTWFwID0gTWFwO1xuICAgIE11dGFibGVNYXAuTXV0YWJsZUVudHJ5ID0gTXV0YWJsZU1hcCRNdXRhYmxlRW50cnk7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NdXRhYmxlTWFwID0gTXV0YWJsZU1hcDtcbiAgICBwYWNrYWdlJGtvdGxpbi5GdW5jdGlvbiA9IEZ1bmN0aW9uXzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5JdGVyYXRvciA9IEl0ZXJhdG9yO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTXV0YWJsZUl0ZXJhdG9yID0gTXV0YWJsZUl0ZXJhdG9yO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlzdEl0ZXJhdG9yID0gTGlzdEl0ZXJhdG9yO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTXV0YWJsZUxpc3RJdGVyYXRvciA9IE11dGFibGVMaXN0SXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5CeXRlSXRlcmF0b3IgPSBCeXRlSXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5DaGFySXRlcmF0b3IgPSBDaGFySXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5TaG9ydEl0ZXJhdG9yID0gU2hvcnRJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkludEl0ZXJhdG9yID0gSW50SXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5Mb25nSXRlcmF0b3IgPSBMb25nSXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5GbG9hdEl0ZXJhdG9yID0gRmxvYXRJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkRvdWJsZUl0ZXJhdG9yID0gRG91YmxlSXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5Cb29sZWFuSXRlcmF0b3IgPSBCb29sZWFuSXRlcmF0b3I7XG4gICAgcGFja2FnZSRyYW5nZXMuQ2hhclByb2dyZXNzaW9uSXRlcmF0b3IgPSBDaGFyUHJvZ3Jlc3Npb25JdGVyYXRvcjtcbiAgICBwYWNrYWdlJHJhbmdlcy5JbnRQcm9ncmVzc2lvbkl0ZXJhdG9yID0gSW50UHJvZ3Jlc3Npb25JdGVyYXRvcjtcbiAgICBwYWNrYWdlJHJhbmdlcy5Mb25nUHJvZ3Jlc3Npb25JdGVyYXRvciA9IExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFyUHJvZ3Jlc3Npb24sICdDb21wYW5pb24nLCB7Z2V0OiBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRyYW5nZXMuQ2hhclByb2dyZXNzaW9uID0gQ2hhclByb2dyZXNzaW9uO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRQcm9ncmVzc2lvbiwgJ0NvbXBhbmlvbicsIHtnZXQ6IEludFByb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkcmFuZ2VzLkludFByb2dyZXNzaW9uID0gSW50UHJvZ3Jlc3Npb247XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvbmdQcm9ncmVzc2lvbiwgJ0NvbXBhbmlvbicsIHtnZXQ6IExvbmdQcm9ncmVzc2lvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJHJhbmdlcy5Mb25nUHJvZ3Jlc3Npb24gPSBMb25nUHJvZ3Jlc3Npb247XG4gICAgcGFja2FnZSRyYW5nZXMuQ2xvc2VkUmFuZ2UgPSBDbG9zZWRSYW5nZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhclJhbmdlLCAnQ29tcGFuaW9uJywge2dldDogQ2hhclJhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkcmFuZ2VzLkNoYXJSYW5nZSA9IENoYXJSYW5nZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50UmFuZ2UsICdDb21wYW5pb24nLCB7Z2V0OiBJbnRSYW5nZSRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJHJhbmdlcy5JbnRSYW5nZSA9IEludFJhbmdlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nUmFuZ2UsICdDb21wYW5pb24nLCB7Z2V0OiBMb25nUmFuZ2UkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRyYW5nZXMuTG9uZ1JhbmdlID0gTG9uZ1JhbmdlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGtvdGxpbiwgJ1VuaXQnLCB7Z2V0OiBVbml0X2dldEluc3RhbmNlfSk7XG4gICAgdmFyIHBhY2thZ2UkaW50ZXJuYWwgPSBwYWNrYWdlJGtvdGxpbi5pbnRlcm5hbCB8fCAocGFja2FnZSRrb3RsaW4uaW50ZXJuYWwgPSB7fSk7XG4gICAgcGFja2FnZSRpbnRlcm5hbC5nZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50X3F0MWRyMiQgPSBnZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50O1xuICAgIHBhY2thZ2UkaW50ZXJuYWwuZ2V0UHJvZ3Jlc3Npb25MYXN0RWxlbWVudF9iOWJkMGQkID0gZ2V0UHJvZ3Jlc3Npb25MYXN0RWxlbWVudF8wO1xuICAgIHZhciBwYWNrYWdlJHJlZmxlY3QgPSBwYWNrYWdlJGtvdGxpbi5yZWZsZWN0IHx8IChwYWNrYWdlJGtvdGxpbi5yZWZsZWN0ID0ge30pO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LQW5ub3RhdGVkRWxlbWVudCA9IEtBbm5vdGF0ZWRFbGVtZW50O1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LQ2FsbGFibGUgPSBLQ2FsbGFibGU7XG4gICAgcGFja2FnZSRyZWZsZWN0LktDbGFzcyA9IEtDbGFzcztcbiAgICBwYWNrYWdlJHJlZmxlY3QuS0NsYXNzaWZpZXIgPSBLQ2xhc3NpZmllcjtcbiAgICBwYWNrYWdlJHJlZmxlY3QuS0RlY2xhcmF0aW9uQ29udGFpbmVyID0gS0RlY2xhcmF0aW9uQ29udGFpbmVyO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LRnVuY3Rpb24gPSBLRnVuY3Rpb247XG4gICAgS1Byb3BlcnR5LkFjY2Vzc29yID0gS1Byb3BlcnR5JEFjY2Vzc29yO1xuICAgIEtQcm9wZXJ0eS5HZXR0ZXIgPSBLUHJvcGVydHkkR2V0dGVyO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LUHJvcGVydHkgPSBLUHJvcGVydHk7XG4gICAgS011dGFibGVQcm9wZXJ0eS5TZXR0ZXIgPSBLTXV0YWJsZVByb3BlcnR5JFNldHRlcjtcbiAgICBwYWNrYWdlJHJlZmxlY3QuS011dGFibGVQcm9wZXJ0eSA9IEtNdXRhYmxlUHJvcGVydHk7XG4gICAgS1Byb3BlcnR5MC5HZXR0ZXIgPSBLUHJvcGVydHkwJEdldHRlcjtcbiAgICBwYWNrYWdlJHJlZmxlY3QuS1Byb3BlcnR5MCA9IEtQcm9wZXJ0eTA7XG4gICAgS011dGFibGVQcm9wZXJ0eTAuU2V0dGVyID0gS011dGFibGVQcm9wZXJ0eTAkU2V0dGVyO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LTXV0YWJsZVByb3BlcnR5MCA9IEtNdXRhYmxlUHJvcGVydHkwO1xuICAgIEtQcm9wZXJ0eTEuR2V0dGVyID0gS1Byb3BlcnR5MSRHZXR0ZXI7XG4gICAgcGFja2FnZSRyZWZsZWN0LktQcm9wZXJ0eTEgPSBLUHJvcGVydHkxO1xuICAgIEtNdXRhYmxlUHJvcGVydHkxLlNldHRlciA9IEtNdXRhYmxlUHJvcGVydHkxJFNldHRlcjtcbiAgICBwYWNrYWdlJHJlZmxlY3QuS011dGFibGVQcm9wZXJ0eTEgPSBLTXV0YWJsZVByb3BlcnR5MTtcbiAgICBfLmFycmF5SXRlcmF0b3IgPSBhcnJheUl0ZXJhdG9yO1xuICAgIF8uYm9vbGVhbkFycmF5SXRlcmF0b3IgPSBib29sZWFuQXJyYXlJdGVyYXRvcjtcbiAgICBfLmJ5dGVBcnJheUl0ZXJhdG9yID0gYnl0ZUFycmF5SXRlcmF0b3I7XG4gICAgXy5zaG9ydEFycmF5SXRlcmF0b3IgPSBzaG9ydEFycmF5SXRlcmF0b3I7XG4gICAgXy5jaGFyQXJyYXlJdGVyYXRvciA9IGNoYXJBcnJheUl0ZXJhdG9yO1xuICAgIF8uaW50QXJyYXlJdGVyYXRvciA9IGludEFycmF5SXRlcmF0b3I7XG4gICAgXy5mbG9hdEFycmF5SXRlcmF0b3IgPSBmbG9hdEFycmF5SXRlcmF0b3I7XG4gICAgXy5kb3VibGVBcnJheUl0ZXJhdG9yID0gZG91YmxlQXJyYXlJdGVyYXRvcjtcbiAgICBfLmxvbmdBcnJheUl0ZXJhdG9yID0gbG9uZ0FycmF5SXRlcmF0b3I7XG4gICAgXy5ub1doZW5CcmFuY2hNYXRjaGVkID0gbm9XaGVuQnJhbmNoTWF0Y2hlZDtcbiAgICBfLnN1YlNlcXVlbmNlID0gc3ViU2VxdWVuY2U7XG4gICAgXy5jYXB0dXJlU3RhY2sgPSBjYXB0dXJlU3RhY2s7XG4gICAgXy5Cb3hlZENoYXIgPSBCb3hlZENoYXI7XG4gICAgXy5jaGFyQXJyYXlPZiA9IGNoYXJBcnJheU9mO1xuICAgIHZhciBwYWNrYWdlJGNvcm91dGluZXMgPSBwYWNrYWdlJGtvdGxpbi5jb3JvdXRpbmVzIHx8IChwYWNrYWdlJGtvdGxpbi5jb3JvdXRpbmVzID0ge30pO1xuICAgIHBhY2thZ2UkY29yb3V0aW5lcy5Db3JvdXRpbmVJbXBsID0gQ29yb3V0aW5lSW1wbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRjb3JvdXRpbmVzLCAnQ29tcGxldGVkQ29udGludWF0aW9uJywge2dldDogQ29tcGxldGVkQ29udGludWF0aW9uX2dldEluc3RhbmNlfSk7XG4gICAgdmFyIHBhY2thZ2UkaW50cmluc2ljcyA9IHBhY2thZ2UkY29yb3V0aW5lcy5pbnRyaW5zaWNzIHx8IChwYWNrYWdlJGNvcm91dGluZXMuaW50cmluc2ljcyA9IHt9KTtcbiAgICBwYWNrYWdlJGludHJpbnNpY3MuaW50ZXJjZXB0ZWRfZjltZzI1JCA9IGludGVyY2VwdGVkO1xuICAgIHZhciBwYWNrYWdlJGpzID0gcGFja2FnZSRrb3RsaW4uanMgfHwgKHBhY2thZ2Uka290bGluLmpzID0ge30pO1xuICAgIHBhY2thZ2Uka290bGluLmxhenlfa2xmZzA0JCA9IGxhenk7XG4gICAgcGFja2FnZSRrb3RsaW4uZmlsbEZyb21fZGd6dXRyJCA9IGZpbGxGcm9tO1xuICAgIHBhY2thZ2Uka290bGluLmFycmF5Q29weVJlc2l6ZV94YW80aXUkID0gYXJyYXlDb3B5UmVzaXplO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuYXNMaXN0X3VzMG1mdSQgPSBhc0xpc3Q7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5jb3B5T2ZfMXF1MTJsJCA9IGNvcHlPZl8yMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmNvcHlPZl9ndGN3NWgkID0gY29weU9mXzIzO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29weU9mUmFuZ2VfNWY4bDN1JCA9IGNvcHlPZlJhbmdlXzM7XG4gICAgcGFja2FnZSRrb3RsaW4uQ29tcGFyYXRvciA9IENvbXBhcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5jb3B5VG9BcnJheSA9IGNvcHlUb0FycmF5O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29weVRvQXJyYXlJbXBsID0gY29weVRvQXJyYXlJbXBsO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29weVRvRXhpc3RpbmdBcnJheUltcGwgPSBjb3B5VG9BcnJheUltcGxfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmxpc3RPZl9taDVob3ckID0gbGlzdE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuc2V0T2ZfbWg1aG93JCA9IHNldE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbiA9IEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb247XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BYnN0cmFjdE11dGFibGVMaXN0ID0gQWJzdHJhY3RNdXRhYmxlTGlzdDtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAuU2ltcGxlRW50cnlfaW5pdF90cndtcWckID0gQWJzdHJhY3RNdXRhYmxlTWFwJEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeV9pbml0O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcC5TaW1wbGVFbnRyeSA9IEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TXV0YWJsZU1hcCA9IEFic3RyYWN0TXV0YWJsZU1hcDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TXV0YWJsZVNldCA9IEFic3RyYWN0TXV0YWJsZVNldDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFycmF5TGlzdF9pbml0X21xaWg1NyQgPSBBcnJheUxpc3RfaW5pdF8xO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuQXJyYXlMaXN0ID0gQXJyYXlMaXN0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFcXVhbGl0eUNvbXBhcmF0b3IsICdIYXNoQ29kZScsIHtnZXQ6IEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuRXF1YWxpdHlDb21wYXJhdG9yID0gRXF1YWxpdHlDb21wYXJhdG9yO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSGFzaE1hcF9pbml0X3ZhOTZkNCQgPSBIYXNoTWFwX2luaXQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoTWFwX2luaXRfcTNsbWZ2JCA9IEhhc2hNYXBfaW5pdF8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSGFzaE1hcF9pbml0X3hmNXh6MiQgPSBIYXNoTWFwX2luaXRfMTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF9id3RjNyQgPSBIYXNoTWFwX2luaXRfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF83M210cWMkID0gSGFzaE1hcF9pbml0XzM7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoTWFwID0gSGFzaE1hcDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hTZXRfaW5pdF9tcWloNTckID0gSGFzaFNldF9pbml0XzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoU2V0X2luaXRfMndvZmVyJCA9IEhhc2hTZXRfaW5pdF8xO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSGFzaFNldF9pbml0X3d3NzNuOCQgPSBIYXNoU2V0X2luaXRfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hTZXRfaW5pdF9ubjAxaG8kID0gSGFzaFNldF9pbml0XzM7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoU2V0ID0gSGFzaFNldDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkludGVybmFsSGFzaENvZGVNYXAgPSBJbnRlcm5hbEhhc2hDb2RlTWFwO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSW50ZXJuYWxNYXAgPSBJbnRlcm5hbE1hcDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkludGVybmFsU3RyaW5nTWFwID0gSW50ZXJuYWxTdHJpbmdNYXA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5MaW5rZWRIYXNoTWFwX2luaXRfeGY1eHoyJCA9IExpbmtlZEhhc2hNYXBfaW5pdF8xO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcF9pbml0XzczbXRxYyQgPSBMaW5rZWRIYXNoTWFwX2luaXRfMztcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXAgPSBMaW5rZWRIYXNoTWFwO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldF9pbml0XzI4N2UyJCA9IExpbmtlZEhhc2hTZXRfaW5pdF8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldF9pbml0X21xaWg1NyQgPSBMaW5rZWRIYXNoU2V0X2luaXRfMTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hTZXRfaW5pdF8yd29mZXIkID0gTGlua2VkSGFzaFNldF9pbml0XzI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5MaW5rZWRIYXNoU2V0X2luaXRfd3c3M244JCA9IExpbmtlZEhhc2hTZXRfaW5pdF8zO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldCA9IExpbmtlZEhhc2hTZXQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5SYW5kb21BY2Nlc3MgPSBSYW5kb21BY2Nlc3M7XG4gICAgdmFyIHBhY2thZ2UkaW8gPSBwYWNrYWdlJGtvdGxpbi5pbyB8fCAocGFja2FnZSRrb3RsaW4uaW8gPSB7fSk7XG4gICAgcGFja2FnZSRpby5CYXNlT3V0cHV0ID0gQmFzZU91dHB1dDtcbiAgICBwYWNrYWdlJGlvLk5vZGVKc091dHB1dCA9IE5vZGVKc091dHB1dDtcbiAgICBwYWNrYWdlJGlvLkJ1ZmZlcmVkT3V0cHV0ID0gQnVmZmVyZWRPdXRwdXQ7XG4gICAgcGFja2FnZSRpby5CdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZyA9IEJ1ZmZlcmVkT3V0cHV0VG9Db25zb2xlTG9nO1xuICAgIHBhY2thZ2UkaW8ucHJpbnRfczhqeXY0JCA9IHByaW50O1xuICAgIHBhY2thZ2UkY29yb3V0aW5lcy5TYWZlQ29udGludWF0aW9uX2luaXRfd2o4ZDgwJCA9IFNhZmVDb250aW51YXRpb25faW5pdDtcbiAgICBwYWNrYWdlJGNvcm91dGluZXMuU2FmZUNvbnRpbnVhdGlvbiA9IFNhZmVDb250aW51YXRpb247XG4gICAgXy50aHJvd05QRSA9IHRocm93TlBFO1xuICAgIF8udGhyb3dDQ0UgPSB0aHJvd0NDRV8wO1xuICAgIF8udGhyb3dJU0UgPSB0aHJvd0lTRTtcbiAgICBfLnRocm93VVBBRSA9IHRocm93VVBBRTtcbiAgICBwYWNrYWdlJGtvdGxpbi5FcnJvcl9pbml0X3BkbDF2aiQgPSBFcnJvcl9pbml0XzA7XG4gICAgcGFja2FnZSRrb3RsaW4uRXJyb3IgPSBFcnJvcl8wO1xuICAgIHBhY2thZ2Uka290bGluLkV4Y2VwdGlvbl9pbml0ID0gRXhjZXB0aW9uX2luaXQ7XG4gICAgcGFja2FnZSRrb3RsaW4uRXhjZXB0aW9uX2luaXRfcGRsMXZqJCA9IEV4Y2VwdGlvbl9pbml0XzA7XG4gICAgcGFja2FnZSRrb3RsaW4uRXhjZXB0aW9uID0gRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLlJ1bnRpbWVFeGNlcHRpb25faW5pdF9wZGwxdmokID0gUnVudGltZUV4Y2VwdGlvbl9pbml0XzA7XG4gICAgcGFja2FnZSRrb3RsaW4uUnVudGltZUV4Y2VwdGlvbiA9IFJ1bnRpbWVFeGNlcHRpb247XG4gICAgcGFja2FnZSRrb3RsaW4uSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLklsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0X3BkbDF2aiQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wO1xuICAgIHBhY2thZ2Uka290bGluLklsbGVnYWxTdGF0ZUV4Y2VwdGlvbiA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5JbmRleE91dE9mQm91bmRzRXhjZXB0aW9uID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLk51bWJlckZvcm1hdEV4Y2VwdGlvbiA9IE51bWJlckZvcm1hdEV4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5OdWxsUG9pbnRlckV4Y2VwdGlvbiA9IE51bGxQb2ludGVyRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLkNsYXNzQ2FzdEV4Y2VwdGlvbiA9IENsYXNzQ2FzdEV4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5Ob1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQgPSBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQ7XG4gICAgcGFja2FnZSRrb3RsaW4uTm9TdWNoRWxlbWVudEV4Y2VwdGlvbiA9IE5vU3VjaEVsZW1lbnRFeGNlcHRpb247XG4gICAgcGFja2FnZSRrb3RsaW4uQXJpdGhtZXRpY0V4Y2VwdGlvbiA9IEFyaXRobWV0aWNFeGNlcHRpb247XG4gICAgcGFja2FnZSRrb3RsaW4uTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbl9pbml0ID0gTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbl9pbml0O1xuICAgIHBhY2thZ2Uka290bGluLk5vV2hlbkJyYW5jaE1hdGNoZWRFeGNlcHRpb24gPSBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLlVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbl9pbml0X3BkbDF2aiQgPSBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb25faW5pdF8wO1xuICAgIHBhY2thZ2Uka290bGluLlVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbiA9IFVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGlvLlNlcmlhbGl6YWJsZSA9IFNlcmlhbGl6YWJsZTtcbiAgICBwYWNrYWdlJGpzLmpzb25fcHl5bzE4JCA9IGpzb247XG4gICAgcGFja2FnZSRtYXRoLnJvdW5kXzE0ZHRoZSQgPSByb3VuZDtcbiAgICBwYWNrYWdlJGtvdGxpbi5pc05hTl95cndkeHIkID0gaXNOYU5fMDtcbiAgICBwYWNrYWdlJGtvdGxpbi5pc05hTl84MXN6ayQgPSBpc05hTl8xO1xuICAgIHBhY2thZ2Uka290bGluLmlzSW5maW5pdGVfeXJ3ZHhyJCA9IGlzSW5maW5pdGU7XG4gICAgcGFja2FnZSRrb3RsaW4uaXNJbmZpbml0ZV84MXN6ayQgPSBpc0luZmluaXRlXzA7XG4gICAgcGFja2FnZSRrb3RsaW4uaXNGaW5pdGVfeXJ3ZHhyJCA9IGlzRmluaXRlO1xuICAgIHBhY2thZ2Uka290bGluLmlzRmluaXRlXzgxc3prJCA9IGlzRmluaXRlXzA7XG4gICAgcGFja2FnZSRqcy5nZXRfanNfMXliOGI3JCA9IGdldF9qcztcbiAgICB2YXIgcGFja2FnZSRqc18xID0gcGFja2FnZSRyZWZsZWN0LmpzIHx8IChwYWNrYWdlJHJlZmxlY3QuanMgPSB7fSk7XG4gICAgdmFyIHBhY2thZ2UkaW50ZXJuYWxfMSA9IHBhY2thZ2UkanNfMS5pbnRlcm5hbCB8fCAocGFja2FnZSRqc18xLmludGVybmFsID0ge30pO1xuICAgIHBhY2thZ2UkaW50ZXJuYWxfMS5LQ2xhc3NJbXBsID0gS0NsYXNzSW1wbDtcbiAgICBwYWNrYWdlJGludGVybmFsXzEuU2ltcGxlS0NsYXNzSW1wbCA9IFNpbXBsZUtDbGFzc0ltcGw7XG4gICAgcGFja2FnZSRpbnRlcm5hbF8xLlByaW1pdGl2ZUtDbGFzc0ltcGwgPSBQcmltaXRpdmVLQ2xhc3NJbXBsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsXzEsICdOb3RoaW5nS0NsYXNzSW1wbCcsIHtnZXQ6IE5vdGhpbmdLQ2xhc3NJbXBsX2dldEluc3RhbmNlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWxfMSwgJ1ByaW1pdGl2ZUNsYXNzZXMnLCB7Z2V0OiBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlfSk7XG4gICAgXy5nZXRLQ2xhc3MgPSBnZXRLQ2xhc3M7XG4gICAgXy5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbiA9IGdldEtDbGFzc0Zyb21FeHByZXNzaW9uO1xuICAgIHBhY2thZ2UkanMucmVzZXRfeGpxZW5pJCA9IHJlc2V0O1xuICAgIHBhY2thZ2UkdGV4dC5pc1doaXRlc3BhY2VfbXl2MmQwJCA9IGlzV2hpdGVzcGFjZTtcbiAgICBwYWNrYWdlJHRleHQudG9Cb29sZWFuX3BkbDF2eiQgPSB0b0Jvb2xlYW47XG4gICAgcGFja2FnZSR0ZXh0LnRvQnl0ZV9wZGwxdnokID0gdG9CeXRlXzA7XG4gICAgcGFja2FnZSR0ZXh0LnRvU2hvcnRfcGRsMXZ6JCA9IHRvU2hvcnRfMDtcbiAgICBwYWNrYWdlJHRleHQudG9JbnRfcGRsMXZ6JCA9IHRvSW50O1xuICAgIHBhY2thZ2UkdGV4dC50b0xvbmdfcGRsMXZ6JCA9IHRvTG9uZztcbiAgICBwYWNrYWdlJHRleHQudG9Eb3VibGVfcGRsMXZ6JCA9IHRvRG91YmxlO1xuICAgIHBhY2thZ2UkdGV4dC50b0RvdWJsZU9yTnVsbF9wZGwxdnokID0gdG9Eb3VibGVPck51bGw7XG4gICAgcGFja2FnZSR0ZXh0LmNoZWNrUmFkaXhfemEzbHBhJCA9IGNoZWNrUmFkaXg7XG4gICAgcGFja2FnZSR0ZXh0LmRpZ2l0T2ZfeHZnOXEwJCA9IGRpZ2l0T2Y7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZ2V4T3B0aW9uLCAnSUdOT1JFX0NBU0UnLCB7Z2V0OiBSZWdleE9wdGlvbiRJR05PUkVfQ0FTRV9nZXRJbnN0YW5jZX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWdleE9wdGlvbiwgJ01VTFRJTElORScsIHtnZXQ6IFJlZ2V4T3B0aW9uJE1VTFRJTElORV9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkdGV4dC5SZWdleE9wdGlvbiA9IFJlZ2V4T3B0aW9uO1xuICAgIHBhY2thZ2UkdGV4dC5NYXRjaEdyb3VwID0gTWF0Y2hHcm91cDtcbiAgICBwYWNrYWdlJHRleHQuU3RyaW5nQnVpbGRlcl9pbml0X3phM2xwYSQgPSBTdHJpbmdCdWlsZGVyX2luaXQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZ2V4LCAnQ29tcGFuaW9uJywge2dldDogUmVnZXgkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSR0ZXh0LlJlZ2V4X2luaXRfc2IzcTIkID0gUmVnZXhfaW5pdDtcbiAgICBwYWNrYWdlJHRleHQuUmVnZXhfaW5pdF82MXpwb2UkID0gUmVnZXhfaW5pdF8wO1xuICAgIHBhY2thZ2UkdGV4dC5SZWdleCA9IFJlZ2V4O1xuICAgIHBhY2thZ2UkdGV4dC5TdHJpbmdfOGNoZm15JCA9IFN0cmluZ18yO1xuICAgIHBhY2thZ2UkdGV4dC5jb21wYXJlVG9fN2Vwb3htJCA9IGNvbXBhcmVUbztcbiAgICBwYWNrYWdlJHRleHQubWF0Y2hlc19yamt0cCQgPSBtYXRjaGVzO1xuICAgIHBhY2thZ2UkdGV4dC5pc0JsYW5rX2d3MDB2cCQgPSBpc0JsYW5rO1xuICAgIHBhY2thZ2UkdGV4dC5lcXVhbHNfaWdjeTNjJCA9IGVxdWFsc18wO1xuICAgIHBhY2thZ2UkdGV4dC5yZWdpb25NYXRjaGVzX2gzaWkycSQgPSByZWdpb25NYXRjaGVzO1xuICAgIHBhY2thZ2UkdGV4dC5yZXBsYWNlXzY4MHJtdyQgPSByZXBsYWNlO1xuICAgIHBhY2thZ2UkdGV4dC5BcHBlbmRhYmxlID0gQXBwZW5kYWJsZTtcbiAgICBwYWNrYWdlJHRleHQuU3RyaW5nQnVpbGRlciA9IFN0cmluZ0J1aWxkZXI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BYnN0cmFjdENvbGxlY3Rpb24gPSBBYnN0cmFjdENvbGxlY3Rpb247XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TGlzdCwgJ0NvbXBhbmlvbicsIHtnZXQ6IEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TGlzdCA9IEFic3RyYWN0TGlzdDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNYXAsICdDb21wYW5pb24nLCB7Z2V0OiBBYnN0cmFjdE1hcCRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TWFwID0gQWJzdHJhY3RNYXA7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0U2V0LCAnQ29tcGFuaW9uJywge2dldDogQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BYnN0cmFjdFNldCA9IEFic3RyYWN0U2V0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGNvbGxlY3Rpb25zLCAnRW1wdHlJdGVyYXRvcicsIHtnZXQ6IEVtcHR5SXRlcmF0b3JfZ2V0SW5zdGFuY2V9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRjb2xsZWN0aW9ucywgJ0VtcHR5TGlzdCcsIHtnZXQ6IEVtcHR5TGlzdF9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuYXNDb2xsZWN0aW9uX3ZqNDNhaCQgPSBhc0NvbGxlY3Rpb247XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5saXN0T2ZfaTV4MHl2JCA9IGxpc3RPZl8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubXV0YWJsZUxpc3RPZl9pNXgweXYkID0gbXV0YWJsZUxpc3RPZl8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuYXJyYXlMaXN0T2ZfaTV4MHl2JCA9IGFycmF5TGlzdE9mXzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRfaW5kaWNlc19nems5MmIkID0gZ2V0X2luZGljZXNfMTI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5vcHRpbWl6ZVJlYWRPbmx5TGlzdF9xenVwdnYkID0gb3B0aW1pemVSZWFkT25seUxpc3Q7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy50aHJvd0luZGV4T3ZlcmZsb3cgPSB0aHJvd0luZGV4T3ZlcmZsb3c7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRPckltcGxpY2l0RGVmYXVsdF90OW9jaGEkID0gZ2V0T3JJbXBsaWNpdERlZmF1bHQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5lbXB0eU1hcF9xM2xtZnYkID0gZW1wdHlNYXA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5tYXBPZl9xZmN5YTAkID0gbWFwT2ZfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLm11dGFibGVNYXBPZl9xZmN5YTAkID0gbXV0YWJsZU1hcE9mXzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRWYWx1ZV90OW9jaGEkID0gZ2V0VmFsdWVfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnB1dEFsbF81Z3Y0OW8kID0gcHV0QWxsO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9NYXBfdWp3bmVpJCA9IHRvTWFwXzI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5yZW1vdmVBbGxfdWh5ZXF0JCA9IHJlbW92ZUFsbF8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMucmVtb3ZlQWxsX3FhZngxZSQgPSByZW1vdmVBbGxfMTtcbiAgICBwYWNrYWdlJHNlcXVlbmNlcy5lbXB0eVNlcXVlbmNlXzI4N2UyJCA9IGVtcHR5U2VxdWVuY2U7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuVHJhbnNmb3JtaW5nU2VxdWVuY2UgPSBUcmFuc2Zvcm1pbmdTZXF1ZW5jZTtcbiAgICBwYWNrYWdlJHNlcXVlbmNlcy5GbGF0dGVuaW5nU2VxdWVuY2UgPSBGbGF0dGVuaW5nU2VxdWVuY2U7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuRHJvcFRha2VTZXF1ZW5jZSA9IERyb3BUYWtlU2VxdWVuY2U7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuU3ViU2VxdWVuY2UgPSBTdWJTZXF1ZW5jZTtcbiAgICBwYWNrYWdlJHNlcXVlbmNlcy5UYWtlU2VxdWVuY2UgPSBUYWtlU2VxdWVuY2U7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuZ2VuZXJhdGVTZXF1ZW5jZV9jNnM5aHAkID0gZ2VuZXJhdGVTZXF1ZW5jZV8xO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGNvbGxlY3Rpb25zLCAnRW1wdHlTZXQnLCB7Z2V0OiBFbXB0eVNldF9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuZW1wdHlTZXRfMjg3ZTIkID0gZW1wdHlTZXQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5oYXNoU2V0T2ZfaTV4MHl2JCA9IGhhc2hTZXRPZl8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMub3B0aW1pemVSZWFkT25seVNldF85NGtkYnQkID0gb3B0aW1pemVSZWFkT25seVNldDtcbiAgICBwYWNrYWdlJGNvcm91dGluZXMuQ29udGludWF0aW9uID0gQ29udGludWF0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLlJlc3VsdCA9IFJlc3VsdDtcbiAgICBwYWNrYWdlJGludHJpbnNpY3MuZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQgPSBnZXRfQ09ST1VUSU5FX1NVU1BFTkRFRDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udGludWF0aW9uSW50ZXJjZXB0b3IsICdLZXknLCB7Z2V0OiBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGNvcm91dGluZXMuQ29udGludWF0aW9uSW50ZXJjZXB0b3IgPSBDb250aW51YXRpb25JbnRlcmNlcHRvcjtcbiAgICBDb3JvdXRpbmVDb250ZXh0LktleSA9IENvcm91dGluZUNvbnRleHQkS2V5O1xuICAgIENvcm91dGluZUNvbnRleHQuRWxlbWVudCA9IENvcm91dGluZUNvbnRleHQkRWxlbWVudDtcbiAgICBwYWNrYWdlJGNvcm91dGluZXMuQ29yb3V0aW5lQ29udGV4dCA9IENvcm91dGluZUNvbnRleHQ7XG4gICAgcGFja2FnZSRjb3JvdXRpbmVzLkFic3RyYWN0Q29yb3V0aW5lQ29udGV4dEVsZW1lbnQgPSBBYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGNvcm91dGluZXMsICdFbXB0eUNvcm91dGluZUNvbnRleHQnLCB7Z2V0OiBFbXB0eUNvcm91dGluZUNvbnRleHRfZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGNvcm91dGluZXMuQ29tYmluZWRDb250ZXh0ID0gQ29tYmluZWRDb250ZXh0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludHJpbnNpY3MsICdDT1JPVVRJTkVfU1VTUEVOREVEJywge2dldDogZ2V0X0NPUk9VVElORV9TVVNQRU5ERUR9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yb3V0aW5lU2luZ2xldG9ucywgJ0NPUk9VVElORV9TVVNQRU5ERUQnLCB7Z2V0OiBDb3JvdXRpbmVTaW5nbGV0b25zJENPUk9VVElORV9TVVNQRU5ERURfZ2V0SW5zdGFuY2V9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yb3V0aW5lU2luZ2xldG9ucywgJ1VOREVDSURFRCcsIHtnZXQ6IENvcm91dGluZVNpbmdsZXRvbnMkVU5ERUNJREVEX2dldEluc3RhbmNlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcm91dGluZVNpbmdsZXRvbnMsICdSRVNVTUVEJywge2dldDogQ29yb3V0aW5lU2luZ2xldG9ucyRSRVNVTUVEX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRpbnRyaW5zaWNzLkNvcm91dGluZVNpbmdsZXRvbnMgPSBDb3JvdXRpbmVTaW5nbGV0b25zO1xuICAgIHBhY2thZ2UkdGV4dC5lcXVhbHNfNGx0ZTVzJCA9IGVxdWFsc18xO1xuICAgIHBhY2thZ2UkdGV4dC50cmltSW5kZW50X3BkbDF2eiQgPSB0cmltSW5kZW50O1xuICAgIHBhY2thZ2UkdGV4dC5yZXBsYWNlSW5kZW50X3Jqa3RwJCA9IHJlcGxhY2VJbmRlbnQ7XG4gICAgcGFja2FnZSR0ZXh0LmFwcGVuZEVsZW1lbnRfazJ6Z3p0JCA9IGFwcGVuZEVsZW1lbnRfMDtcbiAgICBwYWNrYWdlJHRleHQudG9CeXRlT3JOdWxsX3BkbDF2eiQgPSB0b0J5dGVPck51bGw7XG4gICAgcGFja2FnZSR0ZXh0LnRvQnl0ZU9yTnVsbF82aWMxcHAkID0gdG9CeXRlT3JOdWxsXzA7XG4gICAgcGFja2FnZSR0ZXh0LnRvU2hvcnRPck51bGxfcGRsMXZ6JCA9IHRvU2hvcnRPck51bGw7XG4gICAgcGFja2FnZSR0ZXh0LnRvU2hvcnRPck51bGxfNmljMXBwJCA9IHRvU2hvcnRPck51bGxfMDtcbiAgICBwYWNrYWdlJHRleHQudG9JbnRPck51bGxfcGRsMXZ6JCA9IHRvSW50T3JOdWxsO1xuICAgIHBhY2thZ2UkdGV4dC50b0ludE9yTnVsbF82aWMxcHAkID0gdG9JbnRPck51bGxfMDtcbiAgICBwYWNrYWdlJHRleHQudG9Mb25nT3JOdWxsX3BkbDF2eiQgPSB0b0xvbmdPck51bGw7XG4gICAgcGFja2FnZSR0ZXh0LnRvTG9uZ09yTnVsbF82aWMxcHAkID0gdG9Mb25nT3JOdWxsXzA7XG4gICAgcGFja2FnZSR0ZXh0Lm51bWJlckZvcm1hdEVycm9yX3k0cHV0YiQgPSBudW1iZXJGb3JtYXRFcnJvcjtcbiAgICBwYWNrYWdlJHRleHQudHJpbVN0YXJ0X3dxdzN4ciQgPSB0cmltU3RhcnRfMjtcbiAgICBwYWNrYWdlJHRleHQudHJpbUVuZF93cXczeHIkID0gdHJpbUVuZF8yO1xuICAgIHBhY2thZ2UkdGV4dC50cmltX2d3MDB2cCQgPSB0cmltXzM7XG4gICAgcGFja2FnZSR0ZXh0LnRyaW1FbmRfZ3cwMHZwJCA9IHRyaW1FbmRfMztcbiAgICBwYWNrYWdlJHRleHQuc3Vic3RyaW5nX2k1MTF5YyQgPSBzdWJzdHJpbmdfMztcbiAgICBwYWNrYWdlJHRleHQucmVnaW9uTWF0Y2hlc0ltcGxfNGM3czhyJCA9IHJlZ2lvbk1hdGNoZXNJbXBsO1xuICAgIHBhY2thZ2UkdGV4dC5zdGFydHNXaXRoX3NnYm0yNyQgPSBzdGFydHNXaXRoXzE7XG4gICAgcGFja2FnZSR0ZXh0LmVuZHNXaXRoX3NnYm0yNyQgPSBlbmRzV2l0aF8wO1xuICAgIHBhY2thZ2UkdGV4dC5sYXN0SW5kZXhPZkFueV9qdW5xYXUkID0gbGFzdEluZGV4T2ZBbnk7XG4gICAgcGFja2FnZSR0ZXh0LmluZGV4T2ZfbDV1OHVrJCA9IGluZGV4T2ZfMTc7XG4gICAgcGFja2FnZSR0ZXh0Lmxhc3RJbmRleE9mXzhlb3J0ZCQgPSBsYXN0SW5kZXhPZl8xNTtcbiAgICBwYWNrYWdlJHRleHQubGFzdEluZGV4T2ZfbDV1OHVrJCA9IGxhc3RJbmRleE9mXzE2O1xuICAgIHBhY2thZ2UkdGV4dC5jb250YWluc19saTN6cHUkID0gY29udGFpbnNfNTM7XG4gICAgcGFja2FnZSR0ZXh0LnNwbGl0VG9TZXF1ZW5jZV9pcDh5biQgPSBzcGxpdFRvU2VxdWVuY2U7XG4gICAgcGFja2FnZSR0ZXh0LnNwbGl0X2lwOHluJCA9IHNwbGl0O1xuICAgIHBhY2thZ2UkdGV4dC5saW5lU2VxdWVuY2VfZ3cwMHZwJCA9IGxpbmVTZXF1ZW5jZTtcbiAgICBwYWNrYWdlJHRleHQubGluZXNfZ3cwMHZwJCA9IGxpbmVzO1xuICAgIHBhY2thZ2UkdGV4dC5NYXRjaEdyb3VwQ29sbGVjdGlvbiA9IE1hdGNoR3JvdXBDb2xsZWN0aW9uO1xuICAgIE1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZCA9IE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZDtcbiAgICBwYWNrYWdlJHRleHQuTWF0Y2hSZXN1bHQgPSBNYXRjaFJlc3VsdDtcbiAgICBwYWNrYWdlJGtvdGxpbi5MYXp5ID0gTGF6eTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRrb3RsaW4sICdVTklOSVRJQUxJWkVEX1ZBTFVFJywge2dldDogVU5JTklUSUFMSVpFRF9WQUxVRV9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2Uka290bGluLlVuc2FmZUxhenlJbXBsID0gVW5zYWZlTGF6eUltcGw7XG4gICAgcGFja2FnZSRrb3RsaW4uSW5pdGlhbGl6ZWRMYXp5SW1wbCA9IEluaXRpYWxpemVkTGF6eUltcGw7XG4gICAgcGFja2FnZSRrb3RsaW4uY3JlYXRlRmFpbHVyZV90Y3Y3bjckID0gY3JlYXRlRmFpbHVyZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0LCAnQ29tcGFuaW9uJywge2dldDogUmVzdWx0JENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICAgIFJlc3VsdC5GYWlsdXJlID0gUmVzdWx0JEZhaWx1cmU7XG4gICAgcGFja2FnZSRrb3RsaW4udGhyb3dPbkZhaWx1cmVfaWFjaW9uJCA9IHRocm93T25GYWlsdXJlO1xuICAgIHBhY2thZ2Uka290bGluLk5vdEltcGxlbWVudGVkRXJyb3IgPSBOb3RJbXBsZW1lbnRlZEVycm9yO1xuICAgIHBhY2thZ2Uka290bGluLlBhaXIgPSBQYWlyO1xuICAgIHBhY2thZ2Uka290bGluLnRvX3VqenJ6NyQgPSB0bztcbiAgICBNdXRhYmxlTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IE1hcC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQ7XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkID0gTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJDtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlLnJlbW92ZV94d3pjOXAkID0gTXV0YWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlX3h3emM5cCQ7XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUuY3JlYXRlSnNNYXAgPSBJbnRlcm5hbE1hcC5wcm90b3R5cGUuY3JlYXRlSnNNYXA7XG4gICAgSW50ZXJuYWxTdHJpbmdNYXAucHJvdG90eXBlLmNyZWF0ZUpzTWFwID0gSW50ZXJuYWxNYXAucHJvdG90eXBlLmNyZWF0ZUpzTWFwO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2Rlc3RydWN0dXJlZCcsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWF0Y2hSZXN1bHQucHJvdG90eXBlLCAnZGVzdHJ1Y3R1cmVkJykpO1xuICAgIE1hcFdpdGhEZWZhdWx0LnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IE1hcC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQ7XG4gICAgTXV0YWJsZU1hcFdpdGhEZWZhdWx0LnByb3RvdHlwZS5yZW1vdmVfeHd6YzlwJCA9IE11dGFibGVNYXAucHJvdG90eXBlLnJlbW92ZV94d3pjOXAkO1xuICAgIE11dGFibGVNYXBXaXRoRGVmYXVsdC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQgPSBNdXRhYmxlTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJDtcbiAgICBNYXBXaXRoRGVmYXVsdEltcGwucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkID0gTWFwV2l0aERlZmF1bHQucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkO1xuICAgIE11dGFibGVNYXBXaXRoRGVmYXVsdEltcGwucHJvdG90eXBlLnJlbW92ZV94d3pjOXAkID0gTXV0YWJsZU1hcFdpdGhEZWZhdWx0LnByb3RvdHlwZS5yZW1vdmVfeHd6YzlwJDtcbiAgICBNdXRhYmxlTWFwV2l0aERlZmF1bHRJbXBsLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IE11dGFibGVNYXBXaXRoRGVmYXVsdC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQ7XG4gICAgRW1wdHlNYXAucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkID0gTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJDtcbiAgICBDb3JvdXRpbmVDb250ZXh0JEVsZW1lbnQucHJvdG90eXBlLnBsdXNfMWZ1cHVsJCA9IENvcm91dGluZUNvbnRleHQucHJvdG90eXBlLnBsdXNfMWZ1cHVsJDtcbiAgICBDb250aW51YXRpb25JbnRlcmNlcHRvci5wcm90b3R5cGUuZm9sZF8zY2M2OWIkID0gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQ7XG4gICAgQ29udGludWF0aW9uSW50ZXJjZXB0b3IucHJvdG90eXBlLnBsdXNfMWZ1cHVsJCA9IENvcm91dGluZUNvbnRleHQkRWxlbWVudC5wcm90b3R5cGUucGx1c18xZnVwdWwkO1xuICAgIEFic3RyYWN0Q29yb3V0aW5lQ29udGV4dEVsZW1lbnQucHJvdG90eXBlLmdldF9qM3Iyc24kID0gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5nZXRfajNyMnNuJDtcbiAgICBBYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQgPSBDb3JvdXRpbmVDb250ZXh0JEVsZW1lbnQucHJvdG90eXBlLmZvbGRfM2NjNjliJDtcbiAgICBBYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkO1xuICAgIEFic3RyYWN0Q29yb3V0aW5lQ29udGV4dEVsZW1lbnQucHJvdG90eXBlLnBsdXNfMWZ1cHVsJCA9IENvcm91dGluZUNvbnRleHQkRWxlbWVudC5wcm90b3R5cGUucGx1c18xZnVwdWwkO1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUucGx1c18xZnVwdWwkID0gQ29yb3V0aW5lQ29udGV4dC5wcm90b3R5cGUucGx1c18xZnVwdWwkO1xuICAgIENvbXBhcmFibGVSYW5nZS5wcm90b3R5cGUuY29udGFpbnNfbWVmN2t4JCA9IENsb3NlZFJhbmdlLnByb3RvdHlwZS5jb250YWluc19tZWY3a3gkO1xuICAgIENvbXBhcmFibGVSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IENsb3NlZFJhbmdlLnByb3RvdHlwZS5pc0VtcHR5O1xuICAgIFBJID0gMy4xNDE1OTI2NTM1ODk3OTM7XG4gICAgRSA9IDIuNzE4MjgxODI4NDU5MDQ1O1xuICAgIF9zdGFibGVTb3J0aW5nSXNTdXBwb3J0ZWQgPSBudWxsO1xuICAgIHZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiAhIXByb2Nlc3MudmVyc2lvbnMubm9kZTtcbiAgICBvdXRwdXQgPSBpc05vZGUgPyBuZXcgTm9kZUpzT3V0cHV0KHByb2Nlc3Muc3Rkb3V0KSA6IG5ldyBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZygpO1xuICAgIEVtcHR5Q29udGludWF0aW9uID0gbmV3IENvbnRpbnVhdGlvbiRPYmplY3RMaXRlcmFsKEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpLCBFbXB0eUNvbnRpbnVhdGlvbiRsYW1iZGEpO1xuICAgIElOVl8yXzI2ID0gTWF0aF8wLnBvdygyLjAsIC0yNik7XG4gICAgSU5WXzJfNTMgPSBNYXRoXzAucG93KDIuMCwgLTUzKTtcbiAgICBmdW5jdGlvbkNsYXNzZXMgPSBLb3RsaW4ubmV3QXJyYXkoMCwgbnVsbCk7XG4gICAgU1RSSU5HX0NBU0VfSU5TRU5TSVRJVkVfT1JERVIgPSBuZXcgQ29tcGFyYXRvciRPYmplY3RMaXRlcmFsXzAoU1RSSU5HX0NBU0VfSU5TRU5TSVRJVkVfT1JERVIkbGFtYmRhKTtcbiAgICBNQVhfQllURVNfUEVSX0NIQVIgPSAzO1xuICAgIFJFUExBQ0VNRU5UX0JZVEVfU0VRVUVOQ0UgPSBuZXcgSW50OEFycmF5KFt0b0J5dGUoMjM5KSwgdG9CeXRlKDE5MSksIHRvQnl0ZSgxODkpXSk7XG4gICAgUkVQTEFDRU1FTlRfQ0hBUiA9IDY1NTMzO1xuICAgIElOVF9NQVhfUE9XRVJfT0ZfVFdPID0gMTA3Mzc0MTgyNDtcbiAgICBTdGF0ZV9Ob3RSZWFkeSA9IDA7XG4gICAgU3RhdGVfTWFueU5vdFJlYWR5ID0gMTtcbiAgICBTdGF0ZV9NYW55UmVhZHkgPSAyO1xuICAgIFN0YXRlX1JlYWR5ID0gMztcbiAgICBTdGF0ZV9Eb25lID0gNDtcbiAgICBTdGF0ZV9GYWlsZWQgPSA1O1xuICB9KCkpO1xuICAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgS2luZF9DTEFTUyA9IEtvdGxpbi5LaW5kLkNMQVNTO1xuICAgIHZhciBBbnkgPSBPYmplY3Q7XG4gICAgdmFyIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0ID0gS290bGluLmtvdGxpbi5JbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF9wZGwxdmokO1xuICAgIHZhciB0aHJvd0NDRSA9IEtvdGxpbi50aHJvd0NDRTtcbiAgICB2YXIgVGhyb3dhYmxlID0gRXJyb3I7XG4gICAgdmFyIGRlZmluZUlubGluZUZ1bmN0aW9uID0gS290bGluLmRlZmluZUlubGluZUZ1bmN0aW9uO1xuICAgIHZhciBLaW5kX09CSkVDVCA9IEtvdGxpbi5LaW5kLk9CSkVDVDtcbiAgICB2YXIgS2luZF9JTlRFUkZBQ0UgPSBLb3RsaW4uS2luZC5JTlRFUkZBQ0U7XG4gICAgdmFyIGVxdWFscyA9IEtvdGxpbi5lcXVhbHM7XG4gICAgdmFyIGhhc2hDb2RlID0gS290bGluLmhhc2hDb2RlO1xuICAgIHZhciB0b1N0cmluZyA9IEtvdGxpbi50b1N0cmluZztcbiAgICB2YXIgVW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5pdDtcbiAgICB2YXIgd3JhcEZ1bmN0aW9uID0gS290bGluLndyYXBGdW5jdGlvbjtcbiAgICB2YXIgQ29sbGVjdGlvbiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuQ29sbGVjdGlvbjtcbiAgICB2YXIgZW5zdXJlTm90TnVsbCA9IEtvdGxpbi5lbnN1cmVOb3ROdWxsO1xuICAgIHZhciBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLk5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdDtcbiAgICB2YXIgSXRlcmF0b3IgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkl0ZXJhdG9yO1xuICAgIHZhciBTZXF1ZW5jZSA9IEtvdGxpbi5rb3RsaW4uc2VxdWVuY2VzLlNlcXVlbmNlO1xuICAgIHZhciBOb3RJbXBsZW1lbnRlZEVycm9yID0gS290bGluLmtvdGxpbi5Ob3RJbXBsZW1lbnRlZEVycm9yO1xuICAgIHZhciBVTkRFQ0lERUQ7XG4gICAgdmFyIFJFU1VNRUQ7XG4gICAgZnVuY3Rpb24gRmFpbChleGNlcHRpb24pIHtcbiAgICAgIHRoaXMuZXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgIH1cbiAgICBGYWlsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0ZhaWwnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gU2FmZUNvbnRpbnVhdGlvbihkZWxlZ2F0ZSwgaW5pdGlhbFJlc3VsdCkge1xuICAgICAgdGhpcy5kZWxlZ2F0ZV8wID0gZGVsZWdhdGU7XG4gICAgICB0aGlzLnJlc3VsdF8wID0gaW5pdGlhbFJlc3VsdDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlXzAuY29udGV4dDtcbiAgICB9fSk7XG4gICAgU2FmZUNvbnRpbnVhdGlvbi5wcm90b3R5cGUucmVzdW1lXzExcmIkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRfMCA9PT0gVU5ERUNJREVEKVxuICAgICAgICB0aGlzLnJlc3VsdF8wID0gdmFsdWU7XG4gICAgICBlbHNlIGlmICh0aGlzLnJlc3VsdF8wID09PSBDT1JPVVRJTkVfU1VTUEVOREVEKSB7XG4gICAgICAgIHRoaXMucmVzdWx0XzAgPSBSRVNVTUVEO1xuICAgICAgICB0aGlzLmRlbGVnYXRlXzAucmVzdW1lXzExcmIkKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQoJ0FscmVhZHkgcmVzdW1lZCcpO1xuICAgICAgfVxuICAgIH07XG4gICAgU2FmZUNvbnRpbnVhdGlvbi5wcm90b3R5cGUucmVzdW1lV2l0aEV4Y2VwdGlvbl90Y3Y3bjckID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMucmVzdWx0XzAgPT09IFVOREVDSURFRClcbiAgICAgICAgdGhpcy5yZXN1bHRfMCA9IG5ldyBGYWlsKGV4Y2VwdGlvbik7XG4gICAgICBlbHNlIGlmICh0aGlzLnJlc3VsdF8wID09PSBDT1JPVVRJTkVfU1VTUEVOREVEKSB7XG4gICAgICAgIHRoaXMucmVzdWx0XzAgPSBSRVNVTUVEO1xuICAgICAgICB0aGlzLmRlbGVnYXRlXzAucmVzdW1lV2l0aEV4Y2VwdGlvbl90Y3Y3bjckKGV4Y2VwdGlvbik7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KCdBbHJlYWR5IHJlc3VtZWQnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlLmdldFJlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMucmVzdWx0XzAgPT09IFVOREVDSURFRCkge1xuICAgICAgICB0aGlzLnJlc3VsdF8wID0gQ09ST1VUSU5FX1NVU1BFTkRFRDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdF8wO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gUkVTVU1FRClcbiAgICAgICAgdG1wJCA9IENPUk9VVElORV9TVVNQRU5ERUQ7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKHJlc3VsdCwgRmFpbCkpXG4gICAgICAgIHRocm93IHJlc3VsdC5leGNlcHRpb247XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG1wJCA9IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH07XG4gICAgU2FmZUNvbnRpbnVhdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTYWZlQ29udGludWF0aW9uJywgaW50ZXJmYWNlczogW0NvbnRpbnVhdGlvbl19O1xuICAgIGZ1bmN0aW9uIFNhZmVDb250aW51YXRpb25faW5pdChkZWxlZ2F0ZSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShTYWZlQ29udGludWF0aW9uLnByb3RvdHlwZSk7XG4gICAgICBTYWZlQ29udGludWF0aW9uLmNhbGwoJHRoaXMsIGRlbGVnYXRlLCBVTkRFQ0lERUQpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICB2YXIgQ09ST1VUSU5FX1NVU1BFTkRFRDtcbiAgICBmdW5jdGlvbiBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXIoKSB7XG4gICAgICBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0Nvcm91dGluZVN1c3BlbmRlZE1hcmtlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgQ29yb3V0aW5lU3VzcGVuZGVkTWFya2VyX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoQ29yb3V0aW5lU3VzcGVuZGVkTWFya2VyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXIoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfaW5zdGFuY2U7XG4gICAgfVxuICAgIHZhciBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBFbXB0eUNvcm91dGluZUNvbnRleHRfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIENvbnRpbnVhdGlvbigpIHtcbiAgICB9XG4gICAgQ29udGludWF0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb250aW51YXRpb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5leHBlcmltZW50YWwuc3VzcGVuZENvcm91dGluZV96M2UxdDMkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBTYWZlQ29udGludWF0aW9uX2luaXQgPSBfLmtvdGxpbi5jb3JvdXRpbmVzLmV4cGVyaW1lbnRhbC5TYWZlQ29udGludWF0aW9uX2luaXRfbjRmNTNlJDtcbiAgICAgIGZ1bmN0aW9uIHN1c3BlbmRDb3JvdXRpbmVPclJldHVybiRsYW1iZGEoY2xvc3VyZSRibG9jaykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnQpIHtcbiAgICAgICAgICByZXR1cm4gY2xvc3VyZSRibG9jayhjb250LmZhY2FkZSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzdXNwZW5kQ29yb3V0aW5lJGxhbWJkYShjbG9zdXJlJGJsb2NrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIHZhciBzYWZlID0gU2FmZUNvbnRpbnVhdGlvbl9pbml0KGMpO1xuICAgICAgICAgIGNsb3N1cmUkYmxvY2soc2FmZSk7XG4gICAgICAgICAgcmV0dXJuIHNhZmUuZ2V0UmVzdWx0KCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGJsb2NrLCBjb250aW51YXRpb24pIHtcbiAgICAgICAgS290bGluLnN1c3BlbmRDYWxsKHN1c3BlbmRDb3JvdXRpbmVPclJldHVybiRsYW1iZGEoc3VzcGVuZENvcm91dGluZSRsYW1iZGEoYmxvY2spKShLb3RsaW4uY29yb3V0aW5lUmVjZWl2ZXIoKSkpO1xuICAgICAgICByZXR1cm4gS290bGluLmNvcm91dGluZVJlc3VsdChLb3RsaW4uY29yb3V0aW5lUmVjZWl2ZXIoKSk7XG4gICAgICB9O1xuICAgIH0pKTtcbiAgICB2YXIgU3RhdGVfTm90UmVhZHk7XG4gICAgdmFyIFN0YXRlX01hbnlOb3RSZWFkeTtcbiAgICB2YXIgU3RhdGVfTWFueVJlYWR5O1xuICAgIHZhciBTdGF0ZV9SZWFkeTtcbiAgICB2YXIgU3RhdGVfRG9uZTtcbiAgICB2YXIgU3RhdGVfRmFpbGVkO1xuICAgIGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLmNvcm91dGluZXMuZXhwZXJpbWVudGFsLmludHJpbnNpY3Muc3VzcGVuZENvcm91dGluZU9yUmV0dXJuXzh1Zm4ydSQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc3VzcGVuZENvcm91dGluZU9yUmV0dXJuJGxhbWJkYShjbG9zdXJlJGJsb2NrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udCkge1xuICAgICAgICAgIHJldHVybiBjbG9zdXJlJGJsb2NrKGNvbnQuZmFjYWRlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYmxvY2ssIGNvbnRpbnVhdGlvbikge1xuICAgICAgICBLb3RsaW4uc3VzcGVuZENhbGwoc3VzcGVuZENvcm91dGluZU9yUmV0dXJuJGxhbWJkYShibG9jaykoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpKTtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5jb3JvdXRpbmVSZXN1bHQoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5leHBlcmltZW50YWwuaW50cmluc2ljcy5zdXNwZW5kQ29yb3V0aW5lVW5pbnRlcmNlcHRlZE9yUmV0dXJuXzh1Zm4ydSQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIE5vdEltcGxlbWVudGVkRXJyb3JfaW5pdCA9IEtvdGxpbi5rb3RsaW4uTm90SW1wbGVtZW50ZWRFcnJvcjtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYmxvY2ssIGNvbnRpbnVhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0KCdJbXBsZW1lbnRhdGlvbiBvZiBzdXNwZW5kQ29yb3V0aW5lVW5pbnRlcmNlcHRlZE9yUmV0dXJuIGlzIGludHJpbnNpYycpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgdmFyIHBhY2thZ2Uka290bGluID0gXy5rb3RsaW4gfHwgKF8ua290bGluID0ge30pO1xuICAgIHZhciBwYWNrYWdlJGNvcm91dGluZXMgPSBwYWNrYWdlJGtvdGxpbi5jb3JvdXRpbmVzIHx8IChwYWNrYWdlJGtvdGxpbi5jb3JvdXRpbmVzID0ge30pO1xuICAgIHZhciBwYWNrYWdlJGV4cGVyaW1lbnRhbCA9IHBhY2thZ2UkY29yb3V0aW5lcy5leHBlcmltZW50YWwgfHwgKHBhY2thZ2UkY29yb3V0aW5lcy5leHBlcmltZW50YWwgPSB7fSk7XG4gICAgcGFja2FnZSRleHBlcmltZW50YWwuU2FmZUNvbnRpbnVhdGlvbl9pbml0X240ZjUzZSQgPSBTYWZlQ29udGludWF0aW9uX2luaXQ7XG4gICAgcGFja2FnZSRleHBlcmltZW50YWwuU2FmZUNvbnRpbnVhdGlvbiA9IFNhZmVDb250aW51YXRpb247XG4gICAgcGFja2FnZSRleHBlcmltZW50YWwuQ29udGludWF0aW9uID0gQ29udGludWF0aW9uO1xuICAgIFVOREVDSURFRCA9IG5ldyBBbnkoKTtcbiAgICBSRVNVTUVEID0gbmV3IEFueSgpO1xuICAgIENPUk9VVElORV9TVVNQRU5ERUQgPSBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfZ2V0SW5zdGFuY2UoKTtcbiAgICBTdGF0ZV9Ob3RSZWFkeSA9IDA7XG4gICAgU3RhdGVfTWFueU5vdFJlYWR5ID0gMTtcbiAgICBTdGF0ZV9NYW55UmVhZHkgPSAyO1xuICAgIFN0YXRlX1JlYWR5ID0gMztcbiAgICBTdGF0ZV9Eb25lID0gNDtcbiAgICBTdGF0ZV9GYWlsZWQgPSA1O1xuICB9KCkpO1xufSkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1rb3RsaW4uanMubWFwXG4iLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcbiAgICBkZWZpbmUoWydleHBvcnRzJywgJ2tvdGxpbiddLCBmYWN0b3J5KTtcbiAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuICAgIGZhY3RvcnkobW9kdWxlLmV4cG9ydHMsIHJlcXVpcmUoJ2tvdGxpbicpKTtcbiAgZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBrb3RsaW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBsb2FkaW5nIG1vZHVsZSAna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lJy4gSXRzIGRlcGVuZGVuY3kgJ2tvdGxpbicgd2FzIG5vdCBmb3VuZC4gUGxlYXNlLCBjaGVjayB3aGV0aGVyICdrb3RsaW4nIGlzIGxvYWRlZCBwcmlvciB0byAna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lJy5cIik7XG4gICAgfVxuICAgIHJvb3RbJ2tvdGxpbngtc2VyaWFsaXphdGlvbi1rb3RsaW54LXNlcmlhbGl6YXRpb24tcnVudGltZSddID0gZmFjdG9yeSh0eXBlb2YgdGhpc1sna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lJ10gPT09ICd1bmRlZmluZWQnID8ge30gOiB0aGlzWydrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUnXSwga290bGluKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoXywgS290bGluKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEVudW0gPSBLb3RsaW4ua290bGluLkVudW07XG4gIHZhciBLaW5kX0NMQVNTID0gS290bGluLktpbmQuQ0xBU1M7XG4gIHZhciB0aHJvd0lTRSA9IEtvdGxpbi50aHJvd0lTRTtcbiAgdmFyIGdldEtDbGFzcyA9IEtvdGxpbi5nZXRLQ2xhc3M7XG4gIHZhciBLaW5kX0lOVEVSRkFDRSA9IEtvdGxpbi5LaW5kLklOVEVSRkFDRTtcbiAgdmFyIEtpbmRfT0JKRUNUID0gS290bGluLktpbmQuT0JKRUNUO1xuICB2YXIgZW1wdHlMaXN0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5lbXB0eUxpc3RfMjg3ZTIkO1xuICB2YXIgZGVmaW5lSW5saW5lRnVuY3Rpb24gPSBLb3RsaW4uZGVmaW5lSW5saW5lRnVuY3Rpb247XG4gIHZhciB3cmFwRnVuY3Rpb24gPSBLb3RsaW4ud3JhcEZ1bmN0aW9uO1xuICB2YXIgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0ID0gS290bGluLmtvdGxpbi5Ob3RJbXBsZW1lbnRlZEVycm9yO1xuICB2YXIgZW5zdXJlTm90TnVsbCA9IEtvdGxpbi5lbnN1cmVOb3ROdWxsO1xuICB2YXIgdG9Cb3hlZENoYXIgPSBLb3RsaW4udG9Cb3hlZENoYXI7XG4gIHZhciB0aHJvd0NDRSA9IEtvdGxpbi50aHJvd0NDRTtcbiAgdmFyIFJ1bnRpbWVFeGNlcHRpb24gPSBLb3RsaW4ua290bGluLlJ1bnRpbWVFeGNlcHRpb247XG4gIHZhciBnZXRWYWx1ZSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuZ2V0VmFsdWVfdDlvY2hhJDtcbiAgdmFyIExpbmtlZEhhc2hNYXBfaW5pdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcF9pbml0X3EzbG1mdiQ7XG4gIHZhciBNYXAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLk1hcDtcbiAgdmFyIHRvU3RyaW5nID0gS290bGluLnRvU3RyaW5nO1xuICB2YXIgQW55ID0gT2JqZWN0O1xuICB2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLklsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0X3BkbDF2aiQ7XG4gIHZhciBLQ2xhc3MgPSBLb3RsaW4ua290bGluLnJlZmxlY3QuS0NsYXNzO1xuICB2YXIgTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlzdDtcbiAgdmFyIGVxdWFscyA9IEtvdGxpbi5lcXVhbHM7XG4gIHZhciBNdXRhYmxlTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTXV0YWJsZUxpc3Q7XG4gIHZhciBBcnJheUxpc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkFycmF5TGlzdDtcbiAgdmFyIEhhc2hTZXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hTZXQ7XG4gIHZhciBTZXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLlNldDtcbiAgdmFyIE11dGFibGVTZXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLk11dGFibGVTZXQ7XG4gIHZhciBMaW5rZWRIYXNoU2V0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5MaW5rZWRIYXNoU2V0O1xuICB2YXIgSGFzaE1hcCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuSGFzaE1hcDtcbiAgdmFyIE11dGFibGVNYXAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLk11dGFibGVNYXA7XG4gIHZhciBMaW5rZWRIYXNoTWFwID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5MaW5rZWRIYXNoTWFwO1xuICB2YXIgTWFwJEVudHJ5ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5NYXAuRW50cnk7XG4gIHZhciBQYWlyID0gS290bGluLmtvdGxpbi5QYWlyO1xuICB2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF9wZGwxdmokO1xuICB2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLklsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0X3BkbDF2aiQ7XG4gIHZhciBjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuY29sbGVjdGlvblNpemVPckRlZmF1bHRfYmEybGRvJDtcbiAgdmFyIEFycmF5TGlzdF9pbml0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5BcnJheUxpc3RfaW5pdF93dzczbjgkO1xuICB2YXIgdW50aWwgPSBLb3RsaW4ua290bGluLnJhbmdlcy51bnRpbF9kcWdscmokO1xuICB2YXIgVW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5pdDtcbiAgdmFyIGxhc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmxhc3RfMnAxZWZtJDtcbiAgdmFyIGxhc3RPck51bGwgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmxhc3RPck51bGxfMnAxZWZtJDtcbiAgdmFyIGdldF9sYXN0SW5kZXggPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmdldF9sYXN0SW5kZXhfNTV0aG9jJDtcbiAgdmFyIGtvdGxpbiA9IEtvdGxpbi5rb3RsaW47XG4gIHZhciBBcnJheUxpc3RfaW5pdF8wID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5BcnJheUxpc3RfaW5pdF8yODdlMiQ7XG4gIHZhciB0b0J5dGUgPSBLb3RsaW4udG9CeXRlO1xuICB2YXIgSW50UmFuZ2UgPSBLb3RsaW4ua290bGluLnJhbmdlcy5JbnRSYW5nZTtcbiAgdmFyIGtvdGxpbl9qc19pbnRlcm5hbF9CeXRlQ29tcGFuaW9uT2JqZWN0ID0gS290bGluLmtvdGxpbi5qcy5pbnRlcm5hbC5CeXRlQ29tcGFuaW9uT2JqZWN0O1xuICB2YXIgdG9TaG9ydCA9IEtvdGxpbi50b1Nob3J0O1xuICB2YXIga290bGluX2pzX2ludGVybmFsX1Nob3J0Q29tcGFuaW9uT2JqZWN0ID0gS290bGluLmtvdGxpbi5qcy5pbnRlcm5hbC5TaG9ydENvbXBhbmlvbk9iamVjdDtcbiAgdmFyIEwyMTQ3NDgzNjQ4ID0gbmV3IEtvdGxpbi5Mb25nKC0yMTQ3NDgzNjQ4LCAwKTtcbiAgdmFyIExvbmckQ29tcGFuaW9uJE1BWF9WQUxVRSA9IEtvdGxpbi5Mb25nLk1BWF9WQUxVRTtcbiAgdmFyIExvbmckQ29tcGFuaW9uJE1JTl9WQUxVRSA9IEtvdGxpbi5Mb25nLk1JTl9WQUxVRTtcbiAgdmFyIHRvQ2hhciA9IEtvdGxpbi50b0NoYXI7XG4gIHZhciB0b0ludE9yTnVsbCA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0ludE9yTnVsbF9wZGwxdnokO1xuICB2YXIgaGFzaENvZGUgPSBLb3RsaW4uaGFzaENvZGU7XG4gIHZhciBhc0xpc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmFzTGlzdF91czBtZnUkO1xuICB2YXIgQXJyYXlMaXN0X2luaXRfMSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuQXJyYXlMaXN0X2luaXRfbXFpaDU3JDtcbiAgdmFyIExpbmtlZEhhc2hTZXRfaW5pdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldF9pbml0X21xaWg1NyQ7XG4gIHZhciBIYXNoU2V0X2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hTZXRfaW5pdF8yODdlMiQ7XG4gIHZhciBIYXNoU2V0X2luaXRfMCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuSGFzaFNldF9pbml0X21xaWg1NyQ7XG4gIHZhciBMaW5rZWRIYXNoTWFwX2luaXRfMCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcF9pbml0XzczbXRxYyQ7XG4gIHZhciBIYXNoTWFwX2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF9xM2xtZnYkO1xuICB2YXIgSGFzaE1hcF9pbml0XzAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF83M210cWMkO1xuICB2YXIgTGlua2VkSGFzaFNldF9pbml0XzAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hTZXRfaW5pdF8yODdlMiQ7XG4gIHZhciBpbmRleE9mID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5pbmRleE9mX21qeTZqdyQ7XG4gIHZhciBnZXRfaW5kaWNlcyA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuZ2V0X2luZGljZXNfbTd6NGxnJDtcbiAgdmFyIGNvcHlUb0FycmF5ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5jb3B5VG9BcnJheTtcbiAgdmFyIHRvTG9uZyA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0xvbmdfcGRsMXZ6JDtcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkc3RyaW5nQ2xhc3MgPSBLb3RsaW4ua290bGluLnJlZmxlY3QuanMuaW50ZXJuYWwuUHJpbWl0aXZlQ2xhc3Nlcy5zdHJpbmdDbGFzcztcbiAgdmFyIENoYXIgPSBLb3RsaW4uQm94ZWRDaGFyO1xuICB2YXIgUHJpbWl0aXZlQ2xhc3NlcyRkb3VibGVDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLmRvdWJsZUNsYXNzO1xuICB2YXIgUHJpbWl0aXZlQ2xhc3NlcyRmbG9hdENsYXNzID0gS290bGluLmtvdGxpbi5yZWZsZWN0LmpzLmludGVybmFsLlByaW1pdGl2ZUNsYXNzZXMuZmxvYXRDbGFzcztcbiAgdmFyIExvbmcgPSBLb3RsaW4uTG9uZztcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkaW50Q2xhc3MgPSBLb3RsaW4ua290bGluLnJlZmxlY3QuanMuaW50ZXJuYWwuUHJpbWl0aXZlQ2xhc3Nlcy5pbnRDbGFzcztcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLnNob3J0Q2xhc3M7XG4gIHZhciBQcmltaXRpdmVDbGFzc2VzJGJ5dGVDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLmJ5dGVDbGFzcztcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkNsYXNzID0gS290bGluLmtvdGxpbi5yZWZsZWN0LmpzLmludGVybmFsLlByaW1pdGl2ZUNsYXNzZXMuYm9vbGVhbkNsYXNzO1xuICB2YXIgZ2V0T3JOdWxsID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5nZXRPck51bGxfOHVqams4JDtcbiAgdmFyIGdldE9yTnVsbF8wID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5nZXRPck51bGxfeXpsbjJvJDtcbiAgdmFyIGNvcHlPZiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuY29weU9mXzFxdTEybCQ7XG4gIHZhciBqb2luVG9TdHJpbmcgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmpvaW5Ub1N0cmluZ19mbXYyMzUkO1xuICB2YXIgbGF6eSA9IEtvdGxpbi5rb3RsaW4ubGF6eV9rbGZnMDQkO1xuICB2YXIgdG8gPSBLb3RsaW4ua290bGluLnRvX3VqenJ6NyQ7XG4gIHZhciBDaGFyUmFuZ2UgPSBLb3RsaW4ua290bGluLnJhbmdlcy5DaGFyUmFuZ2U7XG4gIHZhciBTdHJpbmdCdWlsZGVyX2luaXQgPSBLb3RsaW4ua290bGluLnRleHQuU3RyaW5nQnVpbGRlcl9pbml0X3phM2xwYSQ7XG4gIHZhciB0cmltU3RhcnQgPSBLb3RsaW4ua290bGluLnRleHQudHJpbVN0YXJ0X3dxdzN4ciQ7XG4gIHZhciBMNDI5NDk2NzI5NSA9IG5ldyBLb3RsaW4uTG9uZygtMSwgMCk7XG4gIHZhciBTdHJpbmdCdWlsZGVyX2luaXRfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC5TdHJpbmdCdWlsZGVyX2luaXQ7XG4gIHZhciBtYXBPZiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubWFwT2ZfcWZjeWEwJDtcbiAgdmFyIHRvSW50ID0gS290bGluLmtvdGxpbi50ZXh0LnRvSW50X3BkbDF2eiQ7XG4gIHZhciB0b0xvbmdPck51bGwgPSBLb3RsaW4ua290bGluLnRleHQudG9Mb25nT3JOdWxsX3BkbDF2eiQ7XG4gIHZhciB0b0RvdWJsZSA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0RvdWJsZV9wZGwxdnokO1xuICB2YXIgdG9Eb3VibGVPck51bGwgPSBLb3RsaW4ua290bGluLnRleHQudG9Eb3VibGVPck51bGxfcGRsMXZ6JDtcbiAgdmFyIHVuYm94Q2hhciA9IEtvdGxpbi51bmJveENoYXI7XG4gIHZhciBTdHJpbmdfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC5TdHJpbmdfOGNoZm15JDtcbiAgdmFyIGNvcHlPZl8wID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5jb3B5T2ZfZ3RjdzVoJDtcbiAgdmFyIGNvZXJjZUF0TGVhc3QgPSBLb3RsaW4ua290bGluLnJhbmdlcy5jb2VyY2VBdExlYXN0X2RxZ2xyaiQ7XG4gIHZhciB0b0Jvb2xlYW4gPSBLb3RsaW4ua290bGluLnRleHQudG9Cb29sZWFuX3BkbDF2eiQ7XG4gIHZhciB0b0J5dGVfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0J5dGVfcGRsMXZ6JDtcbiAgdmFyIHRvU2hvcnRfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC50b1Nob3J0X3BkbDF2eiQ7XG4gIHZhciBzaW5nbGUgPSBLb3RsaW4ua290bGluLnRleHQuc2luZ2xlX2d3MDB2cCQ7XG4gIHZhciBpc0Zpbml0ZSA9IEtvdGxpbi5rb3RsaW4uaXNGaW5pdGVfODFzemskO1xuICB2YXIgaXNGaW5pdGVfMCA9IEtvdGxpbi5rb3RsaW4uaXNGaW5pdGVfeXJ3ZHhyJDtcbiAgdmFyIGVxdWFsc18wID0gS290bGluLmtvdGxpbi50ZXh0LmVxdWFsc19pZ2N5M2MkO1xuICB2YXIgaXRlcmF0b3IgPSBLb3RsaW4ua290bGluLnRleHQuaXRlcmF0b3JfZ3cwMHZwJDtcbiAgdmFyIEhhc2hTZXRfaW5pdF8xID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5IYXNoU2V0X2luaXRfd3c3M244JDtcbiAgdmFyIHRvTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMudG9MaXN0Xzd3bnZ6YSQ7XG4gIHZhciB0aHJvd1VQQUUgPSBLb3RsaW4udGhyb3dVUEFFO1xuICB2YXIgUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLmFueUNsYXNzO1xuICB2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uID0gS290bGluLmtvdGxpbi5JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb247XG4gIHZhciBtYXBDYXBhY2l0eSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubWFwQ2FwYWNpdHlfemEzbHBhJDtcbiAgdmFyIExpbmtlZEhhc2hNYXBfaW5pdF8xID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5MaW5rZWRIYXNoTWFwX2luaXRfYnd0YzckO1xuICB2YXIgTF8xMjggPSBLb3RsaW4uTG9uZy5mcm9tSW50KC0xMjgpO1xuICB2YXIgTDAgPSBLb3RsaW4uTG9uZy5aRVJPO1xuICB2YXIgTDEyNyA9IEtvdGxpbi5Mb25nLmZyb21JbnQoMTI3KTtcbiAgdmFyIEwxMjggPSBLb3RsaW4uTG9uZy5mcm9tSW50KDEyOCk7XG4gIHZhciBMXzEgPSBLb3RsaW4uTG9uZy5ORUdfT05FO1xuICB2YXIgRXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLkV4Y2VwdGlvbl9pbml0X3BkbDF2aiQ7XG4gIHZhciBFeGNlcHRpb24gPSBLb3RsaW4ua290bGluLkV4Y2VwdGlvbjtcbiAgdmFyIGdldF9pbmRpY2VzXzAgPSBLb3RsaW4ua290bGluLnRleHQuZ2V0X2luZGljZXNfZ3cwMHZwJDtcbiAgdmFyIEw5MDA3MTk5MjU0NzQwOTkxID0gbmV3IEtvdGxpbi5Mb25nKC0xLCAyMDk3MTUxKTtcbiAgdmFyIE1hdGhfMCA9IE1hdGg7XG4gIHZhciBnZXRfanMgPSBLb3RsaW4ua290bGluLmpzLmdldF9qc18xeWI4YjckO1xuICBVcGRhdGVNb2RlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRW51bS5wcm90b3R5cGUpO1xuICBVcGRhdGVNb2RlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVwZGF0ZU1vZGU7XG4gIFByaW1pdGl2ZUtpbmQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHJpbWl0aXZlS2luZDtcbiAgUHJpbWl0aXZlS2luZCRJTlQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkSU5ULnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkSU5UO1xuICBQcmltaXRpdmVLaW5kJFVOSVQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkVU5JVC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJFVOSVQ7XG4gIFByaW1pdGl2ZUtpbmQkQk9PTEVBTi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZUtpbmQucHJvdG90eXBlKTtcbiAgUHJpbWl0aXZlS2luZCRCT09MRUFOLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkQk9PTEVBTjtcbiAgUHJpbWl0aXZlS2luZCRCWVRFLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlS2luZC5wcm90b3R5cGUpO1xuICBQcmltaXRpdmVLaW5kJEJZVEUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHJpbWl0aXZlS2luZCRCWVRFO1xuICBQcmltaXRpdmVLaW5kJFNIT1JULnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlS2luZC5wcm90b3R5cGUpO1xuICBQcmltaXRpdmVLaW5kJFNIT1JULnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkU0hPUlQ7XG4gIFByaW1pdGl2ZUtpbmQkTE9ORy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZUtpbmQucHJvdG90eXBlKTtcbiAgUHJpbWl0aXZlS2luZCRMT05HLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkTE9ORztcbiAgUHJpbWl0aXZlS2luZCRGTE9BVC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZUtpbmQucHJvdG90eXBlKTtcbiAgUHJpbWl0aXZlS2luZCRGTE9BVC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJEZMT0FUO1xuICBQcmltaXRpdmVLaW5kJERPVUJMRS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZUtpbmQucHJvdG90eXBlKTtcbiAgUHJpbWl0aXZlS2luZCRET1VCTEUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHJpbWl0aXZlS2luZCRET1VCTEU7XG4gIFByaW1pdGl2ZUtpbmQkQ0hBUi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZUtpbmQucHJvdG90eXBlKTtcbiAgUHJpbWl0aXZlS2luZCRDSEFSLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkQ0hBUjtcbiAgUHJpbWl0aXZlS2luZCRTVFJJTkcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkU1RSSU5HLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkU1RSSU5HO1xuICBTdHJ1Y3R1cmVLaW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VyaWFsS2luZC5wcm90b3R5cGUpO1xuICBTdHJ1Y3R1cmVLaW5kLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0cnVjdHVyZUtpbmQ7XG4gIFN0cnVjdHVyZUtpbmQkQ0xBU1MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJ1Y3R1cmVLaW5kLnByb3RvdHlwZSk7XG4gIFN0cnVjdHVyZUtpbmQkQ0xBU1MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RydWN0dXJlS2luZCRDTEFTUztcbiAgU3RydWN0dXJlS2luZCRMSVNULnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RydWN0dXJlS2luZC5wcm90b3R5cGUpO1xuICBTdHJ1Y3R1cmVLaW5kJExJU1QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RydWN0dXJlS2luZCRMSVNUO1xuICBTdHJ1Y3R1cmVLaW5kJE1BUC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cnVjdHVyZUtpbmQucHJvdG90eXBlKTtcbiAgU3RydWN0dXJlS2luZCRNQVAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RydWN0dXJlS2luZCRNQVA7XG4gIFVuaW9uS2luZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbEtpbmQucHJvdG90eXBlKTtcbiAgVW5pb25LaW5kLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVuaW9uS2luZDtcbiAgVW5pb25LaW5kJE9CSkVDVC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFVuaW9uS2luZC5wcm90b3R5cGUpO1xuICBVbmlvbktpbmQkT0JKRUNULnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVuaW9uS2luZCRPQkpFQ1Q7XG4gIFVuaW9uS2luZCRFTlVNX0tJTkQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShVbmlvbktpbmQucHJvdG90eXBlKTtcbiAgVW5pb25LaW5kJEVOVU1fS0lORC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVbmlvbktpbmQkRU5VTV9LSU5EO1xuICBVbmlvbktpbmQkU0VBTEVELnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVW5pb25LaW5kLnByb3RvdHlwZSk7XG4gIFVuaW9uS2luZCRTRUFMRUQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVW5pb25LaW5kJFNFQUxFRDtcbiAgVW5pb25LaW5kJFBPTFlNT1JQSElDLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVW5pb25LaW5kLnByb3RvdHlwZSk7XG4gIFVuaW9uS2luZCRQT0xZTU9SUEhJQy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVbmlvbktpbmQkUE9MWU1PUlBISUM7XG4gIFNlcmlhbGl6YXRpb25FeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gIFNlcmlhbGl6YXRpb25FeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2VyaWFsaXphdGlvbkV4Y2VwdGlvbjtcbiAgVXBkYXRlTm90U3VwcG9ydGVkRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VyaWFsaXphdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICBVcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVXBkYXRlTm90U3VwcG9ydGVkRXhjZXB0aW9uO1xuICBOYW1lZFZhbHVlRW5jb2Rlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFRhZ2dlZEVuY29kZXIucHJvdG90eXBlKTtcbiAgTmFtZWRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTmFtZWRWYWx1ZUVuY29kZXI7XG4gIE5hbWVkVmFsdWVEZWNvZGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUpO1xuICBOYW1lZFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOYW1lZFZhbHVlRGVjb2RlcjtcbiAgUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSk7XG4gIFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yO1xuICBBcnJheUxpc3RDbGFzc0Rlc2MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaXN0TGlrZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgQXJyYXlMaXN0Q2xhc3NEZXNjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFycmF5TGlzdENsYXNzRGVzYztcbiAgTmFtZWRMaXN0Q2xhc3NEZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIE5hbWVkTGlzdENsYXNzRGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3I7XG4gIExpbmtlZEhhc2hTZXRDbGFzc0Rlc2MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaXN0TGlrZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgTGlua2VkSGFzaFNldENsYXNzRGVzYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5rZWRIYXNoU2V0Q2xhc3NEZXNjO1xuICBIYXNoU2V0Q2xhc3NEZXNjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIEhhc2hTZXRDbGFzc0Rlc2MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSGFzaFNldENsYXNzRGVzYztcbiAgTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBOYW1lZE1hcENsYXNzRGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOYW1lZE1hcENsYXNzRGVzY3JpcHRvcjtcbiAgTGlua2VkSGFzaE1hcENsYXNzRGVzYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIExpbmtlZEhhc2hNYXBDbGFzc0Rlc2MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua2VkSGFzaE1hcENsYXNzRGVzYztcbiAgSGFzaE1hcENsYXNzRGVzYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIEhhc2hNYXBDbGFzc0Rlc2MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSGFzaE1hcENsYXNzRGVzYztcbiAgTGlzdExpa2VTZXJpYWxpemVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplci5wcm90b3R5cGUpO1xuICBMaXN0TGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlzdExpa2VTZXJpYWxpemVyO1xuICBNYXBMaWtlU2VyaWFsaXplci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgTWFwTGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwTGlrZVNlcmlhbGl6ZXI7XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaXN0TGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgQXJyYXlMaXN0U2VyaWFsaXplci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcnJheUxpc3RTZXJpYWxpemVyO1xuICBMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExpc3RMaWtlU2VyaWFsaXplci5wcm90b3R5cGUpO1xuICBMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5rZWRIYXNoU2V0U2VyaWFsaXplcjtcbiAgSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaXN0TGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSGFzaFNldFNlcmlhbGl6ZXI7XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFwTGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXI7XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFwTGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSGFzaE1hcFNlcmlhbGl6ZXI7XG4gIEludERlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIEludERlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50RGVzY3JpcHRvcjtcbiAgVW5pdERlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIFVuaXREZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVuaXREZXNjcmlwdG9yO1xuICBCb29sZWFuRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgQm9vbGVhbkRlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQm9vbGVhbkRlc2NyaXB0b3I7XG4gIEJ5dGVEZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBCeXRlRGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCeXRlRGVzY3JpcHRvcjtcbiAgU2hvcnREZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBTaG9ydERlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2hvcnREZXNjcmlwdG9yO1xuICBMb25nRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgTG9uZ0Rlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9uZ0Rlc2NyaXB0b3I7XG4gIEZsb2F0RGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgRmxvYXREZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZsb2F0RGVzY3JpcHRvcjtcbiAgRG91YmxlRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgRG91YmxlRGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEb3VibGVEZXNjcmlwdG9yO1xuICBDaGFyRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgQ2hhckRlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2hhckRlc2NyaXB0b3I7XG4gIFN0cmluZ0Rlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIFN0cmluZ0Rlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RyaW5nRGVzY3JpcHRvcjtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbCRNaXNzaW5nRGVzY3JpcHRvckV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbGl6YXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbCRNaXNzaW5nRGVzY3JpcHRvckV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXJpYWxDbGFzc0Rlc2NJbXBsJE1pc3NpbmdEZXNjcmlwdG9yRXhjZXB0aW9uO1xuICBNYXBFbnRyeVNlcmlhbGl6ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShLZXlWYWx1ZVNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgTWFwRW50cnlTZXJpYWxpemVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcEVudHJ5U2VyaWFsaXplcjtcbiAgTWFwRW50cnlDbGFzc0Rlc2MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSk7XG4gIE1hcEVudHJ5Q2xhc3NEZXNjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcEVudHJ5Q2xhc3NEZXNjO1xuICBKc29uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RTZXJpYWxGb3JtYXQucHJvdG90eXBlKTtcbiAgSnNvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uO1xuICBKc29uUHJpbWl0aXZlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSnNvbkVsZW1lbnQucHJvdG90eXBlKTtcbiAgSnNvblByaW1pdGl2ZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uUHJpbWl0aXZlO1xuICBKc29uTGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25QcmltaXRpdmUucHJvdG90eXBlKTtcbiAgSnNvbkxpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbkxpdGVyYWw7XG4gIEpzb25OdWxsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUpO1xuICBKc29uTnVsbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uTnVsbDtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25FbGVtZW50LnByb3RvdHlwZSk7XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbk9iamVjdDtcbiAgSnNvbkFycmF5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSnNvbkVsZW1lbnQucHJvdG90eXBlKTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25BcnJheTtcbiAgSnNvbkVsZW1lbnRTZXJpYWxpemVyJGRlc2NyaXB0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlKTtcbiAgSnNvbkVsZW1lbnRTZXJpYWxpemVyJGRlc2NyaXB0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uRWxlbWVudFNlcmlhbGl6ZXIkZGVzY3JpcHRvciRPYmplY3RMaXRlcmFsO1xuICBKc29uUHJpbWl0aXZlU2VyaWFsaXplciRKc29uUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlKTtcbiAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3I7XG4gIEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSk7XG4gIEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbk51bGxTZXJpYWxpemVyJEpzb25OdWxsRGVzY3JpcHRvcjtcbiAgSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlKTtcbiAgSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yO1xuICBKc29uRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VyaWFsaXphdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICBKc29uRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25FeGNlcHRpb247XG4gIEpzb25EZWNvZGluZ0V4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgSnNvbkRlY29kaW5nRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25EZWNvZGluZ0V4Y2VwdGlvbjtcbiAgSnNvbkVuY29kaW5nRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSnNvbkV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICBKc29uRW5jb2RpbmdFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbkVuY29kaW5nRXhjZXB0aW9uO1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZSk7XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdHJlYW1pbmdKc29uSW5wdXQ7XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZSk7XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RyZWFtaW5nSnNvbk91dHB1dDtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTmFtZWRWYWx1ZURlY29kZXIucHJvdG90eXBlKTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0SnNvblRyZWVJbnB1dDtcbiAgSnNvblByaW1pdGl2ZUlucHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZSk7XG4gIEpzb25QcmltaXRpdmVJbnB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uUHJpbWl0aXZlSW5wdXQ7XG4gIEpzb25UcmVlSW5wdXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlKTtcbiAgSnNvblRyZWVJbnB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uVHJlZUlucHV0O1xuICBKc29uVHJlZU1hcElucHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSnNvblRyZWVJbnB1dC5wcm90b3R5cGUpO1xuICBKc29uVHJlZU1hcElucHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25UcmVlTWFwSW5wdXQ7XG4gIEpzb25UcmVlTGlzdElucHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZSk7XG4gIEpzb25UcmVlTGlzdElucHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25UcmVlTGlzdElucHV0O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTmFtZWRWYWx1ZUVuY29kZXIucHJvdG90eXBlKTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdEpzb25UcmVlT3V0cHV0O1xuICBKc29uUHJpbWl0aXZlT3V0cHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUpO1xuICBKc29uUHJpbWl0aXZlT3V0cHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25QcmltaXRpdmVPdXRwdXQ7XG4gIEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUpO1xuICBKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uVHJlZU91dHB1dDtcbiAgSnNvblRyZWVNYXBPdXRwdXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShKc29uVHJlZU91dHB1dC5wcm90b3R5cGUpO1xuICBKc29uVHJlZU1hcE91dHB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uVHJlZU1hcE91dHB1dDtcbiAgSnNvblRyZWVMaXN0T3V0cHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUpO1xuICBKc29uVHJlZUxpc3RPdXRwdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvblRyZWVMaXN0T3V0cHV0O1xuICBXcml0ZU1vZGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbnVtLnByb3RvdHlwZSk7XG4gIFdyaXRlTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBXcml0ZU1vZGU7XG4gIFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uO1xuICB2YXIgQnl0ZU9yZGVyJExJVFRMRV9FTkRJQU5faW5zdGFuY2U7XG4gIHZhciBCeXRlT3JkZXIkQklHX0VORElBTl9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gRW5jb2RlcigpIHtcbiAgfVxuICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokID0gZnVuY3Rpb24gKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgc2VyaWFsaXplci5zZXJpYWxpemVfYXdlOTdpJCh0aGlzLCB2YWx1ZSk7XG4gIH07XG4gIEVuY29kZXIucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJCA9IGZ1bmN0aW9uIChzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICB0aGlzLmVuY29kZU51bGwoKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdGhpcy5lbmNvZGVOb3ROdWxsTWFyaygpO1xuICAgICAgdGhpcy5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKHNlcmlhbGl6ZXIsIHZhbHVlKTtcbiAgICB9XG4gIH07XG4gIEVuY29kZXIucHJvdG90eXBlLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkID0gZnVuY3Rpb24gKGRlc2MsIGNvbGxlY3Rpb25TaXplLCB0eXBlUGFyYW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JChkZXNjLCB0eXBlUGFyYW1zLnNsaWNlKCkpO1xuICB9O1xuICBFbmNvZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdFbmNvZGVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBDb21wb3NpdGVFbmNvZGVyKCkge1xuICB9XG4gIENvbXBvc2l0ZUVuY29kZXIucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgfTtcbiAgQ29tcG9zaXRlRW5jb2Rlci5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBDb21wb3NpdGVFbmNvZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb21wb3NpdGVFbmNvZGVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBEZWNvZGVyKCkge1xuICB9XG4gIERlY29kZXIucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQgPSBmdW5jdGlvbiAoZGVzZXJpYWxpemVyKSB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZV9udHM1cW4kKHRoaXMpO1xuICB9O1xuICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2FhZTNlYSQgPSBmdW5jdGlvbiAoZGVzZXJpYWxpemVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlTm90TnVsbE1hcmsoKSA/IHRoaXMuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJChkZXNlcmlhbGl6ZXIpIDogdGhpcy5kZWNvZGVOdWxsKCk7XG4gIH07XG4gIERlY29kZXIucHJvdG90eXBlLnVwZGF0ZVNlcmlhbGl6YWJsZVZhbHVlXzE5YzhrNSQgPSBmdW5jdGlvbiAoZGVzZXJpYWxpemVyLCBvbGQpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBzd2l0Y2ggKHRoaXMudXBkYXRlTW9kZS5uYW1lKSB7XG4gICAgICBjYXNlICdCQU5ORUQnOlxuICAgICAgICB0aHJvdyBuZXcgVXBkYXRlTm90U3VwcG9ydGVkRXhjZXB0aW9uKGRlc2VyaWFsaXplci5kZXNjcmlwdG9yLm5hbWUpO1xuICAgICAgY2FzZSAnT1ZFUldSSVRFJzpcbiAgICAgICAgdG1wJCA9IHRoaXMuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJChkZXNlcmlhbGl6ZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1VQREFURSc6XG4gICAgICAgIHRtcCQgPSBkZXNlcmlhbGl6ZXIucGF0Y2hfbXlucGl1JCh0aGlzLCBvbGQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6dG1wJCA9IEtvdGxpbi5ub1doZW5CcmFuY2hNYXRjaGVkKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9leG1sYnMkID0gZnVuY3Rpb24gKGRlc2VyaWFsaXplciwgb2xkKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgaWYgKHRoaXMudXBkYXRlTW9kZSA9PT0gVXBkYXRlTW9kZSRCQU5ORURfZ2V0SW5zdGFuY2UoKSlcbiAgICAgIHRocm93IG5ldyBVcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24oZGVzZXJpYWxpemVyLmRlc2NyaXB0b3IubmFtZSk7XG4gICAgZWxzZSBpZiAodGhpcy51cGRhdGVNb2RlID09PSBVcGRhdGVNb2RlJE9WRVJXUklURV9nZXRJbnN0YW5jZSgpIHx8IG9sZCA9PSBudWxsKVxuICAgICAgdG1wJCA9IHRoaXMuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9hYWUzZWEkKGRlc2VyaWFsaXplcik7XG4gICAgZWxzZSBpZiAodGhpcy5kZWNvZGVOb3ROdWxsTWFyaygpKVxuICAgICAgdG1wJCA9IGRlc2VyaWFsaXplci5wYXRjaF9teW5waXUkKHRoaXMsIG9sZCk7XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmRlY29kZU51bGwoKTtcbiAgICAgIHRtcCQgPSBvbGQ7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBEZWNvZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdEZWNvZGVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBDb21wb3NpdGVEZWNvZGVyKCkge1xuICAgIENvbXBvc2l0ZURlY29kZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgQ29tcG9zaXRlRGVjb2Rlci5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICB9O1xuICBmdW5jdGlvbiBDb21wb3NpdGVEZWNvZGVyJENvbXBhbmlvbigpIHtcbiAgICBDb21wb3NpdGVEZWNvZGVyJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5SRUFEX0RPTkUgPSAtMTtcbiAgICB0aGlzLlJFQURfQUxMID0gLTI7XG4gICAgdGhpcy5VTktOT1dOX05BTUUgPSAtMztcbiAgfVxuICBDb21wb3NpdGVEZWNvZGVyJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBDb21wb3NpdGVEZWNvZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBDb21wb3NpdGVEZWNvZGVyJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgQ29tcG9zaXRlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQ29sbGVjdGlvblNpemVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuICBDb21wb3NpdGVEZWNvZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb21wb3NpdGVEZWNvZGVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBDb250ZXh0U2VyaWFsaXplcihzZXJpYWxpemFibGVDbGFzcykge1xuICAgIHRoaXMuc2VyaWFsaXphYmxlQ2xhc3NfMCA9IHNlcmlhbGl6YWJsZUNsYXNzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl9mOThlamIkXzAgPSBuZXcgQ29udGV4dFNlcmlhbGl6ZXIkZGVzY3JpcHRvciRPYmplY3RMaXRlcmFsKCdDT05URVhUJyk7XG4gIH1cbiAgZnVuY3Rpb24gU2VyaWFsRGVzY3JpcHRvcigpIHtcbiAgfVxuICBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbnRpdHlBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZW1wdHlMaXN0KCk7XG4gIH07XG4gIFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRBbm5vdGF0aW9uc196YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUsICdlbGVtZW50c0NvdW50Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAwO1xuICB9fSk7XG4gIFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0KCk7XG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9fSk7XG4gIFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmlzRWxlbWVudE9wdGlvbmFsX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIFNlcmlhbERlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1NlcmlhbERlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFNlcmlhbGl6YXRpb25TdHJhdGVneSgpIHtcbiAgfVxuICBTZXJpYWxpemF0aW9uU3RyYXRlZ3kuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1NlcmlhbGl6YXRpb25TdHJhdGVneScsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gRGVzZXJpYWxpemF0aW9uU3RyYXRlZ3koKSB7XG4gIH1cbiAgRGVzZXJpYWxpemF0aW9uU3RyYXRlZ3kuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0Rlc2VyaWFsaXphdGlvblN0cmF0ZWd5JywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBVcGRhdGVNb2RlKG5hbWUsIG9yZGluYWwpIHtcbiAgICBFbnVtLmNhbGwodGhpcyk7XG4gICAgdGhpcy5uYW1lJCA9IG5hbWU7XG4gICAgdGhpcy5vcmRpbmFsJCA9IG9yZGluYWw7XG4gIH1cbiAgZnVuY3Rpb24gVXBkYXRlTW9kZV9pbml0RmllbGRzKCkge1xuICAgIFVwZGF0ZU1vZGVfaW5pdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFVwZGF0ZU1vZGUkQkFOTkVEX2luc3RhbmNlID0gbmV3IFVwZGF0ZU1vZGUoJ0JBTk5FRCcsIDApO1xuICAgIFVwZGF0ZU1vZGUkT1ZFUldSSVRFX2luc3RhbmNlID0gbmV3IFVwZGF0ZU1vZGUoJ09WRVJXUklURScsIDEpO1xuICAgIFVwZGF0ZU1vZGUkVVBEQVRFX2luc3RhbmNlID0gbmV3IFVwZGF0ZU1vZGUoJ1VQREFURScsIDIpO1xuICB9XG4gIHZhciBVcGRhdGVNb2RlJEJBTk5FRF9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVXBkYXRlTW9kZSRCQU5ORURfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVXBkYXRlTW9kZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFVwZGF0ZU1vZGUkQkFOTkVEX2luc3RhbmNlO1xuICB9XG4gIHZhciBVcGRhdGVNb2RlJE9WRVJXUklURV9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVXBkYXRlTW9kZSRPVkVSV1JJVEVfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVXBkYXRlTW9kZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFVwZGF0ZU1vZGUkT1ZFUldSSVRFX2luc3RhbmNlO1xuICB9XG4gIHZhciBVcGRhdGVNb2RlJFVQREFURV9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVXBkYXRlTW9kZSRVUERBVEVfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVXBkYXRlTW9kZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFVwZGF0ZU1vZGUkVVBEQVRFX2luc3RhbmNlO1xuICB9XG4gIFVwZGF0ZU1vZGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVXBkYXRlTW9kZScsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gIGZ1bmN0aW9uIFVwZGF0ZU1vZGUkdmFsdWVzKCkge1xuICAgIHJldHVybiBbVXBkYXRlTW9kZSRCQU5ORURfZ2V0SW5zdGFuY2UoKSwgVXBkYXRlTW9kZSRPVkVSV1JJVEVfZ2V0SW5zdGFuY2UoKSwgVXBkYXRlTW9kZSRVUERBVEVfZ2V0SW5zdGFuY2UoKV07XG4gIH1cbiAgVXBkYXRlTW9kZS52YWx1ZXMgPSBVcGRhdGVNb2RlJHZhbHVlcztcbiAgZnVuY3Rpb24gVXBkYXRlTW9kZSR2YWx1ZU9mKG5hbWUpIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ0JBTk5FRCc6XG4gICAgICAgIHJldHVybiBVcGRhdGVNb2RlJEJBTk5FRF9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnT1ZFUldSSVRFJzpcbiAgICAgICAgcmV0dXJuIFVwZGF0ZU1vZGUkT1ZFUldSSVRFX2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdVUERBVEUnOlxuICAgICAgICByZXR1cm4gVXBkYXRlTW9kZSRVUERBVEVfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGRlZmF1bHQ6dGhyb3dJU0UoJ05vIGVudW0gY29uc3RhbnQga290bGlueC5zZXJpYWxpemF0aW9uLlVwZGF0ZU1vZGUuJyArIG5hbWUpO1xuICAgIH1cbiAgfVxuICBVcGRhdGVNb2RlLnZhbHVlT2ZfNjF6cG9lJCA9IFVwZGF0ZU1vZGUkdmFsdWVPZjtcbiAgZnVuY3Rpb24gS1NlcmlhbGl6ZXIoKSB7XG4gIH1cbiAgS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBmdW5jdGlvbiAoZGVjb2Rlciwgb2xkKSB7XG4gICAgdGhyb3cgbmV3IFVwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbih0aGlzLmRlc2NyaXB0b3IubmFtZSk7XG4gIH07XG4gIEtTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdLU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtEZXNlcmlhbGl6YXRpb25TdHJhdGVneSwgU2VyaWFsaXphdGlvblN0cmF0ZWd5XX07XG4gIGZ1bmN0aW9uIGVuY29kZV8wKCRyZWNlaXZlciwgc3RyYXRlZ3ksIG9iaikge1xuICAgICRyZWNlaXZlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKHN0cmF0ZWd5LCBvYmopO1xuICB9XG4gIGZ1bmN0aW9uIGRlY29kZV8wKCRyZWNlaXZlciwgZGVzZXJpYWxpemVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkKGRlc2VyaWFsaXplcik7XG4gIH1cbiAgdmFyIGRlcHJlY2F0aW9uVGV4dDtcbiAgZnVuY3Rpb24gU2VyaWFsS2luZCgpIHtcbiAgfVxuICBTZXJpYWxLaW5kLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZW5zdXJlTm90TnVsbChLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odGhpcykuc2ltcGxlTmFtZSk7XG4gIH07XG4gIFNlcmlhbEtpbmQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU2VyaWFsS2luZCcsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCgpIHtcbiAgICBTZXJpYWxLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRJTlQoKSB7XG4gICAgUHJpbWl0aXZlS2luZCRJTlRfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZUtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBQcmltaXRpdmVLaW5kJElOVC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSU5UJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkSU5UX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRJTlRfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFByaW1pdGl2ZUtpbmQkSU5UX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRJTlQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFByaW1pdGl2ZUtpbmQkSU5UX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkVU5JVCgpIHtcbiAgICBQcmltaXRpdmVLaW5kJFVOSVRfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZUtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBQcmltaXRpdmVLaW5kJFVOSVQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1VOSVQnLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlS2luZF19O1xuICB2YXIgUHJpbWl0aXZlS2luZCRVTklUX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRVTklUX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChQcmltaXRpdmVLaW5kJFVOSVRfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBQcmltaXRpdmVLaW5kJFVOSVQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFByaW1pdGl2ZUtpbmQkVU5JVF9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJEJPT0xFQU4oKSB7XG4gICAgUHJpbWl0aXZlS2luZCRCT09MRUFOX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRCT09MRUFOLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdCT09MRUFOJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkQk9PTEVBTl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkQk9PTEVBTl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUHJpbWl0aXZlS2luZCRCT09MRUFOX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRCT09MRUFOKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJEJPT0xFQU5faW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRCWVRFKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkQllURV9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQkQllURS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQllURScsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJEJZVEVfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJEJZVEVfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFByaW1pdGl2ZUtpbmQkQllURV9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkQllURSgpO1xuICAgIH1cbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRCWVRFX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkU0hPUlQoKSB7XG4gICAgUHJpbWl0aXZlS2luZCRTSE9SVF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQkU0hPUlQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1NIT1JUJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkU0hPUlRfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJFNIT1JUX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChQcmltaXRpdmVLaW5kJFNIT1JUX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRTSE9SVCgpO1xuICAgIH1cbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRTSE9SVF9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJExPTkcoKSB7XG4gICAgUHJpbWl0aXZlS2luZCRMT05HX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRMT05HLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdMT05HJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkTE9OR19pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkTE9OR19nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUHJpbWl0aXZlS2luZCRMT05HX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRMT05HKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJExPTkdfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRGTE9BVCgpIHtcbiAgICBQcmltaXRpdmVLaW5kJEZMT0FUX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRGTE9BVC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRkxPQVQnLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlS2luZF19O1xuICB2YXIgUHJpbWl0aXZlS2luZCRGTE9BVF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkRkxPQVRfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFByaW1pdGl2ZUtpbmQkRkxPQVRfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBQcmltaXRpdmVLaW5kJEZMT0FUKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJEZMT0FUX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkRE9VQkxFKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkRE9VQkxFX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRET1VCTEUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0RPVUJMRScsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJERPVUJMRV9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkRE9VQkxFX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChQcmltaXRpdmVLaW5kJERPVUJMRV9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkRE9VQkxFKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJERPVUJMRV9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJENIQVIoKSB7XG4gICAgUHJpbWl0aXZlS2luZCRDSEFSX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRDSEFSLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDSEFSJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkQ0hBUl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkQ0hBUl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUHJpbWl0aXZlS2luZCRDSEFSX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRDSEFSKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJENIQVJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRTVFJJTkcoKSB7XG4gICAgUHJpbWl0aXZlS2luZCRTVFJJTkdfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZUtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBQcmltaXRpdmVLaW5kJFNUUklORy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU1RSSU5HJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkU1RSSU5HX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRTVFJJTkdfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFByaW1pdGl2ZUtpbmQkU1RSSU5HX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRTVFJJTkcoKTtcbiAgICB9XG4gICAgcmV0dXJuIFByaW1pdGl2ZUtpbmQkU1RSSU5HX2luc3RhbmNlO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUHJpbWl0aXZlS2luZCcsIGludGVyZmFjZXM6IFtTZXJpYWxLaW5kXX07XG4gIGZ1bmN0aW9uIFN0cnVjdHVyZUtpbmQoKSB7XG4gICAgU2VyaWFsS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIGZ1bmN0aW9uIFN0cnVjdHVyZUtpbmQkQ0xBU1MoKSB7XG4gICAgU3RydWN0dXJlS2luZCRDTEFTU19pbnN0YW5jZSA9IHRoaXM7XG4gICAgU3RydWN0dXJlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFN0cnVjdHVyZUtpbmQkQ0xBU1MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NMQVNTJywgaW50ZXJmYWNlczogW1N0cnVjdHVyZUtpbmRdfTtcbiAgdmFyIFN0cnVjdHVyZUtpbmQkQ0xBU1NfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBTdHJ1Y3R1cmVLaW5kJENMQVNTX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTdHJ1Y3R1cmVLaW5kJENMQVNTX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3RydWN0dXJlS2luZCRDTEFTUygpO1xuICAgIH1cbiAgICByZXR1cm4gU3RydWN0dXJlS2luZCRDTEFTU19pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTdHJ1Y3R1cmVLaW5kJExJU1QoKSB7XG4gICAgU3RydWN0dXJlS2luZCRMSVNUX2luc3RhbmNlID0gdGhpcztcbiAgICBTdHJ1Y3R1cmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgU3RydWN0dXJlS2luZCRMSVNULiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdMSVNUJywgaW50ZXJmYWNlczogW1N0cnVjdHVyZUtpbmRdfTtcbiAgdmFyIFN0cnVjdHVyZUtpbmQkTElTVF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFN0cnVjdHVyZUtpbmQkTElTVF9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3RydWN0dXJlS2luZCRMSVNUX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3RydWN0dXJlS2luZCRMSVNUKCk7XG4gICAgfVxuICAgIHJldHVybiBTdHJ1Y3R1cmVLaW5kJExJU1RfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gU3RydWN0dXJlS2luZCRNQVAoKSB7XG4gICAgU3RydWN0dXJlS2luZCRNQVBfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFN0cnVjdHVyZUtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBTdHJ1Y3R1cmVLaW5kJE1BUC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTUFQJywgaW50ZXJmYWNlczogW1N0cnVjdHVyZUtpbmRdfTtcbiAgdmFyIFN0cnVjdHVyZUtpbmQkTUFQX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3RydWN0dXJlS2luZCRNQVBfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFN0cnVjdHVyZUtpbmQkTUFQX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3RydWN0dXJlS2luZCRNQVAoKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cnVjdHVyZUtpbmQkTUFQX2luc3RhbmNlO1xuICB9XG4gIFN0cnVjdHVyZUtpbmQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU3RydWN0dXJlS2luZCcsIGludGVyZmFjZXM6IFtTZXJpYWxLaW5kXX07XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCgpIHtcbiAgICBTZXJpYWxLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgZnVuY3Rpb24gVW5pb25LaW5kJE9CSkVDVCgpIHtcbiAgICBVbmlvbktpbmQkT0JKRUNUX2luc3RhbmNlID0gdGhpcztcbiAgICBVbmlvbktpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBVbmlvbktpbmQkT0JKRUNULiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdPQkpFQ1QnLCBpbnRlcmZhY2VzOiBbVW5pb25LaW5kXX07XG4gIHZhciBVbmlvbktpbmQkT0JKRUNUX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVW5pb25LaW5kJE9CSkVDVF9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoVW5pb25LaW5kJE9CSkVDVF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFVuaW9uS2luZCRPQkpFQ1QoKTtcbiAgICB9XG4gICAgcmV0dXJuIFVuaW9uS2luZCRPQkpFQ1RfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gVW5pb25LaW5kJEVOVU1fS0lORCgpIHtcbiAgICBVbmlvbktpbmQkRU5VTV9LSU5EX2luc3RhbmNlID0gdGhpcztcbiAgICBVbmlvbktpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBVbmlvbktpbmQkRU5VTV9LSU5ELiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFTlVNX0tJTkQnLCBpbnRlcmZhY2VzOiBbVW5pb25LaW5kXX07XG4gIHZhciBVbmlvbktpbmQkRU5VTV9LSU5EX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVW5pb25LaW5kJEVOVU1fS0lORF9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoVW5pb25LaW5kJEVOVU1fS0lORF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFVuaW9uS2luZCRFTlVNX0tJTkQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFVuaW9uS2luZCRFTlVNX0tJTkRfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gVW5pb25LaW5kJFNFQUxFRCgpIHtcbiAgICBVbmlvbktpbmQkU0VBTEVEX2luc3RhbmNlID0gdGhpcztcbiAgICBVbmlvbktpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBVbmlvbktpbmQkU0VBTEVELiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTRUFMRUQnLCBpbnRlcmZhY2VzOiBbVW5pb25LaW5kXX07XG4gIHZhciBVbmlvbktpbmQkU0VBTEVEX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVW5pb25LaW5kJFNFQUxFRF9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoVW5pb25LaW5kJFNFQUxFRF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFVuaW9uS2luZCRTRUFMRUQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFVuaW9uS2luZCRTRUFMRURfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gVW5pb25LaW5kJFBPTFlNT1JQSElDKCkge1xuICAgIFVuaW9uS2luZCRQT0xZTU9SUEhJQ19pbnN0YW5jZSA9IHRoaXM7XG4gICAgVW5pb25LaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgVW5pb25LaW5kJFBPTFlNT1JQSElDLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdQT0xZTU9SUEhJQycsIGludGVyZmFjZXM6IFtVbmlvbktpbmRdfTtcbiAgdmFyIFVuaW9uS2luZCRQT0xZTU9SUEhJQ19pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRQT0xZTU9SUEhJQ19nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoVW5pb25LaW5kJFBPTFlNT1JQSElDX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgVW5pb25LaW5kJFBPTFlNT1JQSElDKCk7XG4gICAgfVxuICAgIHJldHVybiBVbmlvbktpbmQkUE9MWU1PUlBISUNfaW5zdGFuY2U7XG4gIH1cbiAgVW5pb25LaW5kLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1VuaW9uS2luZCcsIGludGVyZmFjZXM6IFtTZXJpYWxLaW5kXX07XG4gIGZ1bmN0aW9uIEVsZW1lbnRWYWx1ZUVuY29kZXIoKSB7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRW1wdHlNb2R1bGVfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5iZWdpblN0cnVjdHVyZV9yMHNhNnokID0gZnVuY3Rpb24gKGRlc2MsIHR5cGVQYXJhbXMpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZU5vdE51bGxNYXJrID0gZnVuY3Rpb24gKCkge1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVWYWx1ZV96YTNybXAkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJ05vbi1zZXJpYWxpemFibGUgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbih2YWx1ZSkgKyAnIGlzIG5vdCBzdXBwb3J0ZWQgYnkgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbih0aGlzKSArICcgZW5jb2RlcicpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKCdudWxsIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZW5jb2RlciA9IHRoaXMuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JChVbml0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLmRlc2NyaXB0b3IsIFtdKTtcbiAgICBlbmNvZGVyLmVuZFN0cnVjdHVyZV9xYXRzbTAkKFVuaXRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkuZGVzY3JpcHRvcik7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUJvb2xlYW5fNnRha252JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUJ5dGVfczhqM3Q3JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZVNob3J0X21xMjJmbCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVJbnRfemEzbHBhJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUxvbmdfczhjeGh6JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUZsb2F0X214NHVsdCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVEb3VibGVfMTRkdGhlJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUNoYXJfczhpdHZoJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh0b0JveGVkQ2hhcih2YWx1ZSkpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTdHJpbmdfNjF6cG9lJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUVudW1fMzl5YWhxJCA9IGZ1bmN0aW9uIChlbnVtRGVzY3JpcHRpb24sIG9yZGluYWwpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQob3JkaW5hbCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZU5vblNlcmlhbGl6YWJsZUVsZW1lbnRfNHdwa2QxJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVWYWx1ZV96YTNybXAkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVW5pdEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZVVuaXQoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQm9vbGVhbkVsZW1lbnRfdzFiMG5sJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVCb29sZWFuXzZ0YWtudiQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCeXRlRWxlbWVudF9hM3RhZGIkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZUJ5dGVfczhqM3Q3JCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZVNob3J0RWxlbWVudF90ZXQ5azUkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZVNob3J0X21xMjJmbCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVJbnRFbGVtZW50XzR3cHFhZyQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlSW50X3phM2xwYSQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVMb25nRWxlbWVudF9hM3pnb2okID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZUxvbmdfczhjeGh6JCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUZsb2F0RWxlbWVudF90N3FoZHgkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZUZsb2F0X214NHVsdCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVEb3VibGVFbGVtZW50X2ltenI1ayQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlRG91YmxlXzE0ZHRoZSQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVDaGFyRWxlbWVudF9hM3RrYjEkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZUNoYXJfczhpdHZoJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZVN0cmluZ0VsZW1lbnRfYmdtN3pzJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVTdHJpbmdfNjF6cG9lJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfYmxlY3VkJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKHNlcmlhbGl6ZXIsIHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVFbGVtZW50X29ycHZ2aSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9mNDY4NmckKHNlcmlhbGl6ZXIsIHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdFbGVtZW50VmFsdWVFbmNvZGVyJywgaW50ZXJmYWNlczogW0NvbXBvc2l0ZUVuY29kZXIsIEVuY29kZXJdfTtcbiAgZnVuY3Rpb24gRWxlbWVudFZhbHVlRGVjb2RlcigpIHtcbiAgICB0aGlzLnVwZGF0ZU1vZGVfZm1iMWFlJF8wID0gVXBkYXRlTW9kZSRVUERBVEVfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBFbXB0eU1vZHVsZV9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZSwgJ3VwZGF0ZU1vZGUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlTW9kZV9mbWIxYWUkXzA7XG4gIH19KTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRWxlbWVudEluZGV4X3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHJldHVybiAtMjtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTm90TnVsbE1hcmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZU51bGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbih0aGlzKS50b1N0cmluZygpICsgXCIgY2FuJ3QgcmV0cmlldmUgdW50eXBlZCB2YWx1ZXNcIik7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZVVuaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlYWRlciA9IHRoaXMuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JChVbml0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLmRlc2NyaXB0b3IsIFtdKTtcbiAgICByZWFkZXIuZW5kU3RydWN0dXJlX3FhdHNtMCQoVW5pdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQm9vbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVWYWx1ZSgpKSA9PT0gJ2Jvb2xlYW4nID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUJ5dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVmFsdWUoKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZVNob3J0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVJbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVmFsdWUoKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUxvbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuZGVjb2RlVmFsdWUoKSwgS290bGluLkxvbmcpID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUZsb2F0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVEb3VibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVmFsdWUoKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUNoYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc0NoYXIodG1wJCA9IHRoaXMuZGVjb2RlVmFsdWUoKSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID09PSAnc3RyaW5nJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVFbnVtX3c4NDlxcyQgPSBmdW5jdGlvbiAoZW51bURlc2NyaXB0aW9uKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVmFsdWUoKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQgPSBmdW5jdGlvbiAoZGVzYywgdHlwZVBhcmFtcykge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVVbml0RWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgdGhpcy5kZWNvZGVVbml0KCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUJvb2xlYW5FbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVCb29sZWFuKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUJ5dGVFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVCeXRlKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZVNob3J0RWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlU2hvcnQoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlSW50RWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlSW50KCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUxvbmdFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVMb25nKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUZsb2F0RWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlRmxvYXQoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRG91YmxlRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlRG91YmxlKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUNoYXJFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVDaGFyKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZVN0cmluZ0VsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVN0cmluZygpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVFbGVtZW50X3M0NGw3ciQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQoZGVzZXJpYWxpemVyKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVFbGVtZW50X2N3bG00ayQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiB0aGlzLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJChkZXNlcmlhbGl6ZXIpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVFbGVtZW50X2VodWJ2bCQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIGRlc2VyaWFsaXplciwgb2xkKSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JChkZXNlcmlhbGl6ZXIsIG9sZCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudF91MzNzMDIkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBkZXNlcmlhbGl6ZXIsIG9sZCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJChkZXNlcmlhbGl6ZXIsIG9sZCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRWxlbWVudFZhbHVlRGVjb2RlcicsIGludGVyZmFjZXM6IFtDb21wb3NpdGVEZWNvZGVyLCBEZWNvZGVyXX07XG4gIGZ1bmN0aW9uIFNlcmlhbGl6YXRpb25FeGNlcHRpb24obWVzc2FnZSwgY2F1c2UpIHtcbiAgICBpZiAoY2F1c2UgPT09IHZvaWQgMClcbiAgICAgIGNhdXNlID0gbnVsbDtcbiAgICBSdW50aW1lRXhjZXB0aW9uLmNhbGwodGhpcywgbWVzc2FnZSwgY2F1c2UpO1xuICAgIHRoaXMubmFtZSA9ICdTZXJpYWxpemF0aW9uRXhjZXB0aW9uJztcbiAgfVxuICBTZXJpYWxpemF0aW9uRXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NlcmlhbGl6YXRpb25FeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbUnVudGltZUV4Y2VwdGlvbl19O1xuICBmdW5jdGlvbiBVcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24oY2xhc3NOYW1lKSB7XG4gICAgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbi5jYWxsKHRoaXMsICdVcGRhdGUgaXMgbm90IHN1cHBvcnRlZCBmb3IgJyArIGNsYXNzTmFtZSk7XG4gICAgdGhpcy5uYW1lID0gJ1VwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbic7XG4gIH1cbiAgVXBkYXRlTm90U3VwcG9ydGVkRXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1VwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtTZXJpYWxpemF0aW9uRXhjZXB0aW9uXX07XG4gIHZhciBNYXBwZXIkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gc2VyaWFsaXplcigkcmVjZWl2ZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHRtcCRfMCA9ICh0bXAkID0gY29tcGlsZWRTZXJpYWxpemVyKCRyZWNlaXZlcikpICE9IG51bGwgPyB0bXAkIDogZGVmYXVsdFNlcmlhbGl6ZXIoJHJlY2VpdmVyKTtcbiAgICBpZiAodG1wJF8wID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKFwiQ2FuJ3QgbG9jYXRlIGFyZ3VtZW50LWxlc3Mgc2VyaWFsaXplciBmb3IgXCIgKyAkcmVjZWl2ZXIgKyAnLiBGb3IgZ2VuZXJpYyBjbGFzc2VzLCBzdWNoIGFzIGxpc3RzLCBwbGVhc2UgcHJvdmlkZSBzZXJpYWxpemVyIGV4cGxpY2l0bHkuJyk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkXzA7XG4gIH1cbiAgZnVuY3Rpb24gUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3IoKSB7XG4gICAgUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3JfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFNlcmlhbENsYXNzRGVzY0ltcGwuY2FsbCh0aGlzLCAna290bGluLkFueScpO1xuICAgIHRoaXMua2luZF9yMjVjdGUkXzAgPSBVbmlvbktpbmQkUE9MWU1PUlBISUNfZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLmFkZEVsZW1lbnRfaXZ4bjNyJCgnY2xhc3MnKTtcbiAgICB0aGlzLmFkZEVsZW1lbnRfaXZ4bjNyJCgndmFsdWUnKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3IucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5raW5kX3IyNWN0ZSRfMDtcbiAgfX0pO1xuICBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbU2VyaWFsQ2xhc3NEZXNjSW1wbF19O1xuICB2YXIgUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUG9seW1vcnBoaWNTZXJpYWxpemVyKGJhc2VDbGFzcykge1xuICAgIHRoaXMuYmFzZUNsYXNzID0gYmFzZUNsYXNzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl9ub2czd3ckXzAgPSBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb2x5bW9ycGhpY1NlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX25vZzN3dyRfMDtcbiAgfX0pO1xuICBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBhY3R1YWxTZXJpYWxpemVyID0gdGhpcy5maW5kUG9seW1vcnBoaWNTZXJpYWxpemVyXzl2MDh1NCQoZW5jb2Rlciwgb2JqKTtcbiAgICB2YXIgY29tcG9zaXRlRW5jb2RlciA9IGVuY29kZXIuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCh0aGlzLmRlc2NyaXB0b3IsIFtdKTtcbiAgICBjb21wb3NpdGVFbmNvZGVyLmVuY29kZVN0cmluZ0VsZW1lbnRfYmdtN3pzJCh0aGlzLmRlc2NyaXB0b3IsIDAsIGFjdHVhbFNlcmlhbGl6ZXIuZGVzY3JpcHRvci5uYW1lKTtcbiAgICBjb21wb3NpdGVFbmNvZGVyLmVuY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfYmxlY3VkJCh0aGlzLmRlc2NyaXB0b3IsIDEsIEtvdGxpbi5pc1R5cGUodG1wJCA9IGFjdHVhbFNlcmlhbGl6ZXIsIEtTZXJpYWxpemVyKSA/IHRtcCQgOiB0aHJvd0NDRSgpLCBvYmopO1xuICAgIGNvbXBvc2l0ZUVuY29kZXIuZW5kU3RydWN0dXJlX3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgfTtcbiAgUG9seW1vcnBoaWNTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgY29tcG9zaXRlRGVjb2RlciA9IGRlY29kZXIuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCh0aGlzLmRlc2NyaXB0b3IsIFtdKTtcbiAgICB2YXIga2xhc3NOYW1lID0ge3Y6IG51bGx9O1xuICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgbWFpbkxvb3A6IHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgaW5kZXggPSBjb21wb3NpdGVEZWNvZGVyLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gICAgICBzd2l0Y2ggKGluZGV4KSB7XG4gICAgICAgIGNhc2UgLTI6XG4gICAgICAgICAga2xhc3NOYW1lLnYgPSBjb21wb3NpdGVEZWNvZGVyLmRlY29kZVN0cmluZ0VsZW1lbnRfM3pyMml5JCh0aGlzLmRlc2NyaXB0b3IsIDApO1xuICAgICAgICAgIHZhciBzZXJpYWxpemVyID0gdGhpcy5maW5kUG9seW1vcnBoaWNTZXJpYWxpemVyX2I2OXphYyQoY29tcG9zaXRlRGVjb2Rlciwga2xhc3NOYW1lLnYpO1xuICAgICAgICAgIHZhbHVlID0gY29tcG9zaXRlRGVjb2Rlci5kZWNvZGVTZXJpYWxpemFibGVFbGVtZW50X3M0NGw3ciQodGhpcy5kZXNjcmlwdG9yLCAxLCBzZXJpYWxpemVyKTtcbiAgICAgICAgICBicmVhayBtYWluTG9vcDtcbiAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICBicmVhayBtYWluTG9vcDtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGtsYXNzTmFtZS52ID0gY29tcG9zaXRlRGVjb2Rlci5kZWNvZGVTdHJpbmdFbGVtZW50XzN6cjJpeSQodGhpcy5kZXNjcmlwdG9yLCBpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB2YXIgdmFsdWVfMCA9IGtsYXNzTmFtZS52O1xuICAgICAgICAgIHZhciByZXF1aXJlTm90TnVsbCRyZXN1bHQ7XG4gICAgICAgICAgaWYgKHZhbHVlXzAgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2Fubm90IHJlYWQgcG9seW1vcnBoaWMgdmFsdWUgYmVmb3JlIGl0cyB0eXBlIHRva2VuJztcbiAgICAgICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVpcmVOb3ROdWxsJHJlc3VsdCA9IHZhbHVlXzA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAga2xhc3NOYW1lLnYgPSByZXF1aXJlTm90TnVsbCRyZXN1bHQ7XG4gICAgICAgICAgdmFyIHNlcmlhbGl6ZXJfMCA9IHRoaXMuZmluZFBvbHltb3JwaGljU2VyaWFsaXplcl9iNjl6YWMkKGNvbXBvc2l0ZURlY29kZXIsIGtsYXNzTmFtZS52KTtcbiAgICAgICAgICB2YWx1ZSA9IGNvbXBvc2l0ZURlY29kZXIuZGVjb2RlU2VyaWFsaXphYmxlRWxlbWVudF9zNDRsN3IkKHRoaXMuZGVzY3JpcHRvciwgaW5kZXgsIHNlcmlhbGl6ZXJfMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6dGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJ0ludmFsaWQgaW5kZXggaW4gcG9seW1vcnBoaWMgZGVzZXJpYWxpemF0aW9uIG9mICcgKyAoKCh0bXAkID0ga2xhc3NOYW1lLnYpICE9IG51bGwgPyB0bXAkIDogJ3Vua25vd24gY2xhc3MnKSArICcgd2l0aCBiYXNlICcgKyB0aGlzLmJhc2VDbGFzcykgKyAoJ1xcbicgKyAnIEV4cGVjdGVkIDAsIDEsIFJFQURfQUxMKC0yKSBvciBSRUFEX0RPTkUoLTEpLCBidXQgZm91bmQgJyArIGluZGV4KSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbXBvc2l0ZURlY29kZXIuZW5kU3RydWN0dXJlX3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgICB2YXIgdmFsdWVfMSA9IHZhbHVlO1xuICAgIHZhciByZXF1aXJlTm90TnVsbCRyZXN1bHRfMDtcbiAgICBpZiAodmFsdWVfMSA9PSBudWxsKSB7XG4gICAgICB2YXIgbWVzc2FnZV8wID0gJ1BvbHltb3JwaGljIHZhbHVlIGhhdmUgbm90IGJlZW4gcmVhZCBmb3IgY2xhc3MgJyArIHRvU3RyaW5nKGtsYXNzTmFtZS52KTtcbiAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgcmVxdWlyZU5vdE51bGwkcmVzdWx0XzAgPSB2YWx1ZV8xO1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWlyZU5vdE51bGwkcmVzdWx0XzA7XG4gIH07XG4gIFBvbHltb3JwaGljU2VyaWFsaXplci5wcm90b3R5cGUuZmluZFBvbHltb3JwaGljU2VyaWFsaXplcl9iNjl6YWMkID0gZnVuY3Rpb24gKGRlY29kZXIsIGtsYXNzTmFtZSkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiAodG1wJCA9IGRlY29kZXIuY29udGV4dC5nZXRQb2x5bW9ycGhpY182eHRzbGEkKHRoaXMuYmFzZUNsYXNzLCBrbGFzc05hbWUpKSAhPSBudWxsID8gdG1wJCA6IHRocm93U3VidHlwZU5vdFJlZ2lzdGVyZWQoa2xhc3NOYW1lLCB0aGlzLmJhc2VDbGFzcyk7XG4gIH07XG4gIFBvbHltb3JwaGljU2VyaWFsaXplci5wcm90b3R5cGUuZmluZFBvbHltb3JwaGljU2VyaWFsaXplcl85djA4dTQkID0gZnVuY3Rpb24gKGVuY29kZXIsIHZhbHVlKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IGVuY29kZXIuY29udGV4dC5nZXRQb2x5bW9ycGhpY19iMWNlMGEkKHRoaXMuYmFzZUNsYXNzLCBLb3RsaW4uaXNUeXBlKHRtcCQgPSB2YWx1ZSwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRSgpKSkgIT0gbnVsbCA/IHRtcCRfMCA6IHRocm93U3VidHlwZU5vdFJlZ2lzdGVyZWRfMChLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odmFsdWUpLCB0aGlzLmJhc2VDbGFzcyk7XG4gIH07XG4gIFBvbHltb3JwaGljU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQb2x5bW9ycGhpY1NlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgZnVuY3Rpb24gdGhyb3dTdWJ0eXBlTm90UmVnaXN0ZXJlZChzdWJDbGFzc05hbWUsIGJhc2VDbGFzcykge1xuICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKHN1YkNsYXNzTmFtZSArICcgaXMgbm90IHJlZ2lzdGVyZWQgZm9yIHBvbHltb3JwaGljIHNlcmlhbGl6YXRpb24gaW4gdGhlIHNjb3BlIG9mICcgKyBiYXNlQ2xhc3MpO1xuICB9XG4gIGZ1bmN0aW9uIHRocm93U3VidHlwZU5vdFJlZ2lzdGVyZWRfMChzdWJDbGFzcywgYmFzZUNsYXNzKSB7XG4gICAgcmV0dXJuIHRocm93U3VidHlwZU5vdFJlZ2lzdGVyZWQoc3ViQ2xhc3MudG9TdHJpbmcoKSwgYmFzZUNsYXNzKTtcbiAgfVxuICB2YXIgSU5TVEFMTF9ERVBSRUNBVElPTl9URVhUO1xuICBmdW5jdGlvbiBTZXJpYWxGb3JtYXQoKSB7XG4gIH1cbiAgU2VyaWFsRm9ybWF0LnByb3RvdHlwZS5pbnN0YWxsX3N0cHl1NCQgPSBmdW5jdGlvbiAobW9kdWxlXzApIHtcbiAgfTtcbiAgU2VyaWFsRm9ybWF0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXJpYWxGb3JtYXQnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIEFic3RyYWN0U2VyaWFsRm9ybWF0KGNvbnRleHQpIHtcbiAgICB0aGlzLmNvbnRleHRfZnprY2piJF8wID0gY29udGV4dDtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RTZXJpYWxGb3JtYXQucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0X2Z6a2NqYiRfMDtcbiAgfX0pO1xuICBBYnN0cmFjdFNlcmlhbEZvcm1hdC5wcm90b3R5cGUuaW5zdGFsbF9zdHB5dTQkID0gZnVuY3Rpb24gKG1vZHVsZV8wKSB7XG4gICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3JfaW5pdChJTlNUQUxMX0RFUFJFQ0FUSU9OX1RFWFQpO1xuICB9O1xuICBBYnN0cmFjdFNlcmlhbEZvcm1hdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBYnN0cmFjdFNlcmlhbEZvcm1hdCcsIGludGVyZmFjZXM6IFtTZXJpYWxGb3JtYXRdfTtcbiAgZnVuY3Rpb24gQmluYXJ5Rm9ybWF0KCkge1xuICB9XG4gIGZ1bmN0aW9uIFN0cmluZ0Zvcm1hdCgpIHtcbiAgfVxuICBTdHJpbmdGb3JtYXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1N0cmluZ0Zvcm1hdCcsIGludGVyZmFjZXM6IFtTZXJpYWxGb3JtYXRdfTtcbiAgZnVuY3Rpb24gZWxlbWVudERlc2NyaXB0b3JzKCRyZWNlaXZlcikge1xuICAgIHZhciAkcmVjZWl2ZXJfMCA9IHVudGlsKDAsICRyZWNlaXZlci5lbGVtZW50c0NvdW50KTtcbiAgICB2YXIgZGVzdGluYXRpb24gPSBBcnJheUxpc3RfaW5pdChjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXJfMCwgMTApKTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gJHJlY2VpdmVyXzAuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBpdGVtID0gdG1wJC5uZXh0KCk7XG4gICAgICBkZXN0aW5hdGlvbi5hZGRfMTFyYiQoJHJlY2VpdmVyLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQoaXRlbSkpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudEluZGV4T3JUaHJvdygkcmVjZWl2ZXIsIG5hbWUpIHtcbiAgICB2YXIgaSA9ICRyZWNlaXZlci5nZXRFbGVtZW50SW5kZXhfNjF6cG9lJChuYW1lKTtcbiAgICBpZiAoaSA9PT0gLTMpXG4gICAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbigkcmVjZWl2ZXIubmFtZSArIFwiIGRvZXMgbm90IGNvbnRhaW4gZWxlbWVudCB3aXRoIG5hbWUgJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICByZXR1cm4gaTtcbiAgfVxuICBmdW5jdGlvbiBUYWdnZWRFbmNvZGVyKCkge1xuICAgIHRoaXMudGFnU3RhY2tfczl3NTdkJF8wID0gQXJyYXlMaXN0X2luaXRfMCgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWdnZWRFbmNvZGVyLnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEVtcHR5TW9kdWxlX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJ05vbi1zZXJpYWxpemFibGUgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbih2YWx1ZSkgKyAnIGlzIG5vdCBzdXBwb3J0ZWQgYnkgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbih0aGlzKSArICcgZW5jb2RlcicpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWROb3ROdWxsTWFya18xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkTnVsbF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbignbnVsbCBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVRhZ2dlZE51bGxhYmxlX3ZobWd0bCRfMCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHRoaXMuZW5jb2RlVGFnZ2VkTnVsbF8xMXJiJCh0YWcpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0aGlzLmVuY29kZVRhZ2dlZE5vdE51bGxNYXJrXzExcmIkKHRhZyk7XG4gICAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGFnLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWRVbml0XzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIFVuaXQpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWRJbnRfZHBnMXl4JCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWRCeXRlXzE5cWU0MCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkU2hvcnRfdmVjY2owJCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWRMb25nXzE5d2tmOCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkRmxvYXRfdmxmNHA4JCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWREb3VibGVfZTM3cGg1JCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWRCb29sZWFuX2l1eWhmayQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkQ2hhcl8xOXFvMXEkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGFnLCB0b0JveGVkQ2hhcih2YWx1ZSkpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWRTdHJpbmdfbDlsOG14JCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWRFbnVtX2czYXJheCQgPSBmdW5jdGlvbiAodGFnLCBlbnVtRGVzY3JpcHRpb24sIG9yZGluYWwpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGFnLCBvcmRpbmFsKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgdmFyIHRhZyA9IHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpO1xuICAgIHZhciBzaG91bGRXcml0ZUVsZW1lbnQgPSB0aGlzLnNob3VsZFdyaXRlRWxlbWVudF9hNXFpaG4kKGRlc2MsIHRhZywgaW5kZXgpO1xuICAgIGlmIChzaG91bGRXcml0ZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMucHVzaFRhZ18xMXJiJCh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkV3JpdGVFbGVtZW50O1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5zaG91bGRXcml0ZUVsZW1lbnRfYTVxaWhuJCA9IGZ1bmN0aW9uIChkZXNjLCB0YWcsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZU5vdE51bGxNYXJrID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkTm90TnVsbE1hcmtfMTFyYiQodGhpcy5jdXJyZW50VGFnKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZE51bGxfMTFyYiQodGhpcy5wb3BUYWdfaHpsZTl1JF8wKCkpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVVbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVW5pdF8xMXJiJCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUJvb2xlYW5fNnRha252JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkQm9vbGVhbl9pdXloZmskKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUJ5dGVfczhqM3Q3JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkQnl0ZV8xOXFlNDAkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVNob3J0X21xMjJmbCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFNob3J0X3ZlY2NqMCQodGhpcy5wb3BUYWdfaHpsZTl1JF8wKCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlSW50X3phM2xwYSQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZEludF9kcGcxeXgkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUxvbmdfczhjeGh6JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkTG9uZ18xOXdrZjgkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUZsb2F0X214NHVsdCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZEZsb2F0X3ZsZjRwOCQodGhpcy5wb3BUYWdfaHpsZTl1JF8wKCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRG91YmxlXzE0ZHRoZSQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZERvdWJsZV9lMzdwaDUkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUNoYXJfczhpdHZoJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkQ2hhcl8xOXFvMXEkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVN0cmluZ182MXpwb2UkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRTdHJpbmdfbDlsOG14JCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVFbnVtXzM5eWFocSQgPSBmdW5jdGlvbiAoZW51bURlc2NyaXB0aW9uLCBvcmRpbmFsKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRFbnVtX2czYXJheCQodGhpcy5wb3BUYWdfaHpsZTl1JF8wKCksIGVudW1EZXNjcmlwdGlvbiwgb3JkaW5hbCk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQgPSBmdW5jdGlvbiAoZGVzYywgdHlwZVBhcmFtcykge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gICAgaWYgKCF0aGlzLnRhZ1N0YWNrX3M5dzU3ZCRfMC5pc0VtcHR5KCkpXG4gICAgICB0aGlzLnBvcFRhZ19oemxlOXUkXzAoKTtcbiAgICB0aGlzLmVuZEVuY29kZV9xYXRzbTAkKGRlc2MpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmRFbmNvZGVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZU5vblNlcmlhbGl6YWJsZUVsZW1lbnRfNHdwa2QxJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVW5pdEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVW5pdF8xMXJiJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUJvb2xlYW5FbGVtZW50X3cxYjBubCQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRCb29sZWFuX2l1eWhmayQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQnl0ZUVsZW1lbnRfYTN0YWRiJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZEJ5dGVfMTlxZTQwJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTaG9ydEVsZW1lbnRfdGV0OWs1JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFNob3J0X3ZlY2NqMCQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlSW50RWxlbWVudF80d3BxYWckID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkSW50X2RwZzF5eCQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTG9uZ0VsZW1lbnRfYTN6Z29qJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZExvbmdfMTl3a2Y4JCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVGbG9hdEVsZW1lbnRfdDdxaGR4JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZEZsb2F0X3ZsZjRwOCQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRG91YmxlRWxlbWVudF9pbXpyNWskID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkRG91YmxlX2UzN3BoNSQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQ2hhckVsZW1lbnRfYTN0a2IxJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZENoYXJfMTlxbzFxJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTdHJpbmdFbGVtZW50X2JnbTd6cyQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRTdHJpbmdfbDlsOG14JCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVFbGVtZW50X2JsZWN1ZCQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChzZXJpYWxpemVyLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudF9vcnB2dmkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJChzZXJpYWxpemVyLCB2YWx1ZSk7XG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWdnZWRFbmNvZGVyLnByb3RvdHlwZSwgJ2N1cnJlbnRUYWcnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGxhc3QodGhpcy50YWdTdGFja19zOXc1N2QkXzApO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWdnZWRFbmNvZGVyLnByb3RvdHlwZSwgJ2N1cnJlbnRUYWdPck51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGxhc3RPck51bGwodGhpcy50YWdTdGFja19zOXc1N2QkXzApO1xuICB9fSk7XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLnB1c2hUYWdfMTFyYiQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRoaXMudGFnU3RhY2tfczl3NTdkJF8wLmFkZF8xMXJiJChuYW1lKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUucG9wVGFnX2h6bGU5dSRfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMudGFnU3RhY2tfczl3NTdkJF8wLmlzRW1wdHkoKSlcbiAgICAgIHJldHVybiB0aGlzLnRhZ1N0YWNrX3M5dzU3ZCRfMC5yZW1vdmVBdF96YTNscGEkKGdldF9sYXN0SW5kZXgodGhpcy50YWdTdGFja19zOXc1N2QkXzApKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbignTm8gdGFnIGluIHN0YWNrIGZvciByZXF1ZXN0ZWQgZWxlbWVudCcpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1RhZ2dlZEVuY29kZXInLCBpbnRlcmZhY2VzOiBbQ29tcG9zaXRlRW5jb2RlciwgRW5jb2Rlcl19O1xuICBmdW5jdGlvbiBOYW1lZFZhbHVlRW5jb2Rlcihyb290TmFtZSkge1xuICAgIGlmIChyb290TmFtZSA9PT0gdm9pZCAwKVxuICAgICAgcm9vdE5hbWUgPSAnJztcbiAgICBUYWdnZWRFbmNvZGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5yb290TmFtZSA9IHJvb3ROYW1lO1xuICB9XG4gIE5hbWVkVmFsdWVFbmNvZGVyLnByb3RvdHlwZS5nZXRUYWdfbTQ3cTZmJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMubmVzdGVkXzYxenBvZSQodGhpcy5lbGVtZW50TmFtZV8zenIyaXkkKCRyZWNlaXZlciwgaW5kZXgpKTtcbiAgfTtcbiAgTmFtZWRWYWx1ZUVuY29kZXIucHJvdG90eXBlLm5lc3RlZF82MXpwb2UkID0gZnVuY3Rpb24gKG5lc3RlZE5hbWUpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdGhpcy5jb21wb3NlTmFtZV9wdWo3ZjQkKCh0bXAkID0gdGhpcy5jdXJyZW50VGFnT3JOdWxsKSAhPSBudWxsID8gdG1wJCA6IHRoaXMucm9vdE5hbWUsIG5lc3RlZE5hbWUpO1xuICB9O1xuICBOYW1lZFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZWxlbWVudE5hbWVfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiBkZXNjLmdldEVsZW1lbnROYW1lX3phM2xwYSQoaW5kZXgpO1xuICB9O1xuICBOYW1lZFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuY29tcG9zZU5hbWVfcHVqN2Y0JCA9IGZ1bmN0aW9uIChwYXJlbnROYW1lLCBjaGlsZE5hbWUpIHtcbiAgICByZXR1cm4gcGFyZW50TmFtZS5sZW5ndGggPT09IDAgPyBjaGlsZE5hbWUgOiBwYXJlbnROYW1lICsgJy4nICsgY2hpbGROYW1lO1xuICB9O1xuICBOYW1lZFZhbHVlRW5jb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOYW1lZFZhbHVlRW5jb2RlcicsIGludGVyZmFjZXM6IFtUYWdnZWRFbmNvZGVyXX07XG4gIGZ1bmN0aW9uIFRhZ2dlZERlY29kZXIoKSB7XG4gICAgdGhpcy51cGRhdGVNb2RlX21jMzlxNSRfMCA9IFVwZGF0ZU1vZGUkVVBEQVRFX2dldEluc3RhbmNlKCk7XG4gICAgdGhpcy50YWdTdGFja19hdW9uMGgkXzAgPSBBcnJheUxpc3RfaW5pdF8wKCk7XG4gICAgdGhpcy5mbGFnXzEwYTI3MSRfMCA9IGZhbHNlO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWdnZWREZWNvZGVyLnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEVtcHR5TW9kdWxlX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhZ2dlZERlY29kZXIucHJvdG90eXBlLCAndXBkYXRlTW9kZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVNb2RlX21jMzlxNSRfMDtcbiAgfX0pO1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbihLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odGhpcykudG9TdHJpbmcoKSArIFwiIGNhbid0IHJldHJpZXZlIHVudHlwZWQgdmFsdWVzXCIpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWROb3ROdWxsTWFya18xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkTnVsbF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkTnVsbGFibGVfcmQ3MHIxJF8wID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkO1xuICAgIGlmICh0aGlzLmRlY29kZVRhZ2dlZE5vdE51bGxNYXJrXzExcmIkKHRhZykpIHtcbiAgICAgIHRtcCQgPSB0aGlzLmRlY29kZVRhZ2dlZFZhbHVlXzExcmIkKHRhZyk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHRtcCQgPSB0aGlzLmRlY29kZVRhZ2dlZE51bGxfMTFyYiQodGFnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZFVuaXRfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpLCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoa290bGluLlVuaXQpLmNvbnN0cnVjdG9yKSA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWRCb29sZWFuXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVRhZ2dlZFZhbHVlXzExcmIkKHRhZykpID09PSAnYm9vbGVhbicgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkQnl0ZV8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpKSA9PT0gJ251bWJlcicgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkU2hvcnRfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZEludF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpKSA9PT0gJ251bWJlcicgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkTG9uZ18xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpLCBLb3RsaW4uTG9uZykgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkRmxvYXRfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZERvdWJsZV8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpKSA9PT0gJ251bWJlcicgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkQ2hhcl8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gS290bGluLmlzQ2hhcih0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpKSA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWRTdHJpbmdfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSkgPT09ICdzdHJpbmcnID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZEVudW1fd2M4aHJiJCA9IGZ1bmN0aW9uICh0YWcsIGVudW1EZXNjcmlwdGlvbikge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVRhZ2dlZFZhbHVlXzExcmIkKHRhZykpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOb3ROdWxsTWFyayA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWROb3ROdWxsTWFya18xMXJiJCh0aGlzLmN1cnJlbnRUYWcpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVVbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGVjb2RlVGFnZ2VkVW5pdF8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUJvb2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkQm9vbGVhbl8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUJ5dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkQnl0ZV8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVNob3J0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZFNob3J0XzExcmIkKHRoaXMucG9wVGFnX3didGYzYSRfMCgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlSW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEludF8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUxvbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkTG9uZ18xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUZsb2F0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEZsb2F0XzExcmIkKHRoaXMucG9wVGFnX3didGYzYSRfMCgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRG91YmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZERvdWJsZV8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUNoYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkQ2hhcl8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRTdHJpbmdfMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVFbnVtX3c4NDlxcyQgPSBmdW5jdGlvbiAoZW51bURlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkRW51bV93YzhocmIkKHRoaXMucG9wVGFnX3didGYzYSRfMCgpLCBlbnVtRGVzY3JpcHRpb24pO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5iZWdpblN0cnVjdHVyZV9yMHNhNnokID0gZnVuY3Rpb24gKGRlc2MsIHR5cGVQYXJhbXMpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRWxlbWVudEluZGV4X3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHJldHVybiAtMjtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVW5pdEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHRoaXMuZGVjb2RlVGFnZ2VkVW5pdF8xMXJiJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUJvb2xlYW5FbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRCb29sZWFuXzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQnl0ZUVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEJ5dGVfMTFyYiQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTaG9ydEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZFNob3J0XzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlSW50RWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkSW50XzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTG9uZ0VsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZExvbmdfMTFyYiQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVGbG9hdEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEZsb2F0XzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRG91YmxlRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkRG91YmxlXzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQ2hhckVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZENoYXJfMTFyYiQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTdHJpbmdFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRTdHJpbmdfMTFyYiQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCkpO1xuICB9O1xuICBmdW5jdGlvbiBUYWdnZWREZWNvZGVyJGRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnQkbGFtYmRhKGNsb3N1cmUkZGVzZXJpYWxpemVyLCB0aGlzJFRhZ2dlZERlY29kZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMkVGFnZ2VkRGVjb2Rlci5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkKGNsb3N1cmUkZGVzZXJpYWxpemVyKTtcbiAgICB9O1xuICB9XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfczQ0bDdyJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgZGVzZXJpYWxpemVyKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnQmxvY2tfNmQyNnQ5JF8wKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCBUYWdnZWREZWNvZGVyJGRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnQkbGFtYmRhKGRlc2VyaWFsaXplciwgdGhpcykpO1xuICB9O1xuICBmdW5jdGlvbiBUYWdnZWREZWNvZGVyJGRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudCRsYW1iZGEoY2xvc3VyZSRkZXNlcmlhbGl6ZXIsIHRoaXMkVGFnZ2VkRGVjb2Rlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcyRUYWdnZWREZWNvZGVyLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJChjbG9zdXJlJGRlc2VyaWFsaXplcik7XG4gICAgfTtcbiAgfVxuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZUVsZW1lbnRfY3dsbTRrJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgZGVzZXJpYWxpemVyKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnQmxvY2tfNmQyNnQ5JF8wKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCBUYWdnZWREZWNvZGVyJGRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudCRsYW1iZGEoZGVzZXJpYWxpemVyLCB0aGlzKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFRhZ2dlZERlY29kZXIkdXBkYXRlU2VyaWFsaXphYmxlRWxlbWVudCRsYW1iZGEoY2xvc3VyZSRkZXNlcmlhbGl6ZXIsIGNsb3N1cmUkb2xkLCB0aGlzJFRhZ2dlZERlY29kZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMkVGFnZ2VkRGVjb2Rlci51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkKGNsb3N1cmUkZGVzZXJpYWxpemVyLCBjbG9zdXJlJG9sZCk7XG4gICAgfTtcbiAgfVxuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVFbGVtZW50X2VodWJ2bCQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIGRlc2VyaWFsaXplciwgb2xkKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnQmxvY2tfNmQyNnQ5JF8wKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCBUYWdnZWREZWNvZGVyJHVwZGF0ZVNlcmlhbGl6YWJsZUVsZW1lbnQkbGFtYmRhKGRlc2VyaWFsaXplciwgb2xkLCB0aGlzKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFRhZ2dlZERlY29kZXIkdXBkYXRlTnVsbGFibGVTZXJpYWxpemFibGVFbGVtZW50JGxhbWJkYShjbG9zdXJlJGRlc2VyaWFsaXplciwgY2xvc3VyZSRvbGQsIHRoaXMkVGFnZ2VkRGVjb2Rlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcyRUYWdnZWREZWNvZGVyLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJChjbG9zdXJlJGRlc2VyaWFsaXplciwgY2xvc3VyZSRvbGQpO1xuICAgIH07XG4gIH1cbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlTnVsbGFibGVTZXJpYWxpemFibGVFbGVtZW50X3UzM3MwMiQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIGRlc2VyaWFsaXplciwgb2xkKSB7XG4gICAgcmV0dXJuIHRoaXMudGFnQmxvY2tfNmQyNnQ5JF8wKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCBUYWdnZWREZWNvZGVyJHVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudCRsYW1iZGEoZGVzZXJpYWxpemVyLCBvbGQsIHRoaXMpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUudGFnQmxvY2tfNmQyNnQ5JF8wID0gZnVuY3Rpb24gKHRhZywgYmxvY2spIHtcbiAgICB0aGlzLnB1c2hUYWdfMTFyYiQodGFnKTtcbiAgICB2YXIgciA9IGJsb2NrKCk7XG4gICAgaWYgKCF0aGlzLmZsYWdfMTBhMjcxJF8wKSB7XG4gICAgICB0aGlzLnBvcFRhZ193YnRmM2EkXzAoKTtcbiAgICB9XG4gICAgdGhpcy5mbGFnXzEwYTI3MSRfMCA9IGZhbHNlO1xuICAgIHJldHVybiByO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUsICdjdXJyZW50VGFnJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBsYXN0KHRoaXMudGFnU3RhY2tfYXVvbjBoJF8wKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUsICdjdXJyZW50VGFnT3JOdWxsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBsYXN0T3JOdWxsKHRoaXMudGFnU3RhY2tfYXVvbjBoJF8wKTtcbiAgfX0pO1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5wdXNoVGFnXzExcmIkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aGlzLnRhZ1N0YWNrX2F1b24waCRfMC5hZGRfMTFyYiQobmFtZSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLnBvcFRhZ193YnRmM2EkXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHIgPSB0aGlzLnRhZ1N0YWNrX2F1b24waCRfMC5yZW1vdmVBdF96YTNscGEkKGdldF9sYXN0SW5kZXgodGhpcy50YWdTdGFja19hdW9uMGgkXzApKTtcbiAgICB0aGlzLmZsYWdfMTBhMjcxJF8wID0gdHJ1ZTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUYWdnZWREZWNvZGVyJywgaW50ZXJmYWNlczogW0NvbXBvc2l0ZURlY29kZXIsIERlY29kZXJdfTtcbiAgZnVuY3Rpb24gTmFtZWRWYWx1ZURlY29kZXIocm9vdE5hbWUpIHtcbiAgICBpZiAocm9vdE5hbWUgPT09IHZvaWQgMClcbiAgICAgIHJvb3ROYW1lID0gJyc7XG4gICAgVGFnZ2VkRGVjb2Rlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMucm9vdE5hbWUgPSByb290TmFtZTtcbiAgfVxuICBOYW1lZFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZ2V0VGFnX200N3E2ZiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLm5lc3RlZF82MXpwb2UkKHRoaXMuZWxlbWVudE5hbWVfM3pyMml5JCgkcmVjZWl2ZXIsIGluZGV4KSk7XG4gIH07XG4gIE5hbWVkVmFsdWVEZWNvZGVyLnByb3RvdHlwZS5uZXN0ZWRfNjF6cG9lJCA9IGZ1bmN0aW9uIChuZXN0ZWROYW1lKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9zZU5hbWVfcHVqN2Y0JCgodG1wJCA9IHRoaXMuY3VycmVudFRhZ09yTnVsbCkgIT0gbnVsbCA/IHRtcCQgOiB0aGlzLnJvb3ROYW1lLCBuZXN0ZWROYW1lKTtcbiAgfTtcbiAgTmFtZWRWYWx1ZURlY29kZXIucHJvdG90eXBlLmVsZW1lbnROYW1lXzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gZGVzYy5nZXRFbGVtZW50TmFtZV96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgTmFtZWRWYWx1ZURlY29kZXIucHJvdG90eXBlLmNvbXBvc2VOYW1lX3B1ajdmNCQgPSBmdW5jdGlvbiAocGFyZW50TmFtZSwgY2hpbGROYW1lKSB7XG4gICAgcmV0dXJuIHBhcmVudE5hbWUubGVuZ3RoID09PSAwID8gY2hpbGROYW1lIDogcGFyZW50TmFtZSArICcuJyArIGNoaWxkTmFtZTtcbiAgfTtcbiAgTmFtZWRWYWx1ZURlY29kZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTmFtZWRWYWx1ZURlY29kZXInLCBpbnRlcmZhY2VzOiBbVGFnZ2VkRGVjb2Rlcl19O1xuICB2YXIgQ2JvciRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBMaXN0TGlrZURlc2NyaXB0b3IoZWxlbWVudERlc2MpIHtcbiAgICB0aGlzLmVsZW1lbnREZXNjID0gZWxlbWVudERlc2M7XG4gICAgdGhpcy5lbGVtZW50c0NvdW50X2F4cjB4YyRfMCA9IDE7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUsICdraW5kJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBTdHJ1Y3R1cmVLaW5kJExJU1RfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2VsZW1lbnRzQ291bnQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudHNDb3VudF9heHIweGMkXzA7XG4gIH19KTtcbiAgTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50TmFtZV96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKCk7XG4gIH07XG4gIExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RWxlbWVudEluZGV4XzYxenBvZSQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSB0b0ludE9yTnVsbChuYW1lKTtcbiAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChuYW1lICsgJyBpcyBub3QgYSB2YWxpZCBsaXN0IGluZGV4Jyk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBMaXN0TGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50RGVzYztcbiAgfTtcbiAgTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIExpc3RMaWtlRGVzY3JpcHRvcikpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGVxdWFscyh0aGlzLmVsZW1lbnREZXNjLCBvdGhlci5lbGVtZW50RGVzYykgJiYgZXF1YWxzKHRoaXMubmFtZSwgb3RoZXIubmFtZSkpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChoYXNoQ29kZSh0aGlzLmVsZW1lbnREZXNjKSAqIDMxIHwgMCkgKyBoYXNoQ29kZSh0aGlzLm5hbWUpIHwgMDtcbiAgfTtcbiAgTGlzdExpa2VEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpc3RMaWtlRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtTZXJpYWxEZXNjcmlwdG9yXX07XG4gIGZ1bmN0aW9uIE1hcExpa2VEZXNjcmlwdG9yKG5hbWUsIGtleURlc2NyaXB0b3IsIHZhbHVlRGVzY3JpcHRvcikge1xuICAgIHRoaXMubmFtZV9la284bnQkXzAgPSBuYW1lO1xuICAgIHRoaXMua2V5RGVzY3JpcHRvciA9IGtleURlc2NyaXB0b3I7XG4gICAgdGhpcy52YWx1ZURlc2NyaXB0b3IgPSB2YWx1ZURlc2NyaXB0b3I7XG4gICAgdGhpcy5lbGVtZW50c0NvdW50X3FwMm9jcSRfMCA9IDI7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ25hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZV9la284bnQkXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFN0cnVjdHVyZUtpbmQkTUFQX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2VsZW1lbnRzQ291bnQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudHNDb3VudF9xcDJvY3EkXzA7XG4gIH19KTtcbiAgTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnROYW1lX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXgudG9TdHJpbmcoKTtcbiAgfTtcbiAgTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRJbmRleF82MXpwb2UkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gdG9JbnRPck51bGwobmFtZSk7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobmFtZSArICcgaXMgbm90IGEgdmFsaWQgbWFwIGluZGV4Jyk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RWxlbWVudERlc2NyaXB0b3JfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiBpbmRleCAlIDIgPT09IDAgPyB0aGlzLmtleURlc2NyaXB0b3IgOiB0aGlzLnZhbHVlRGVzY3JpcHRvcjtcbiAgfTtcbiAgTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIGlmICh0aGlzID09PSBvdGhlcilcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICghS290bGluLmlzVHlwZShvdGhlciwgTWFwTGlrZURlc2NyaXB0b3IpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghZXF1YWxzKHRoaXMubmFtZSwgb3RoZXIubmFtZSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFlcXVhbHModGhpcy5rZXlEZXNjcmlwdG9yLCBvdGhlci5rZXlEZXNjcmlwdG9yKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWVxdWFscyh0aGlzLnZhbHVlRGVzY3JpcHRvciwgb3RoZXIudmFsdWVEZXNjcmlwdG9yKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSBoYXNoQ29kZSh0aGlzLm5hbWUpO1xuICAgIHJlc3VsdCA9ICgzMSAqIHJlc3VsdCB8IDApICsgaGFzaENvZGUodGhpcy5rZXlEZXNjcmlwdG9yKSB8IDA7XG4gICAgcmVzdWx0ID0gKDMxICogcmVzdWx0IHwgMCkgKyBoYXNoQ29kZSh0aGlzLnZhbHVlRGVzY3JpcHRvcikgfCAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIE1hcExpa2VEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ01hcExpa2VEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1NlcmlhbERlc2NyaXB0b3JdfTtcbiAgdmFyIEFSUkFZX05BTUU7XG4gIHZhciBBUlJBWV9MSVNUX05BTUU7XG4gIHZhciBMSU5LRURfSEFTSF9TRVRfTkFNRTtcbiAgdmFyIEhBU0hfU0VUX05BTUU7XG4gIHZhciBMSU5LRURfSEFTSF9NQVBfTkFNRTtcbiAgdmFyIEhBU0hfTUFQX05BTUU7XG4gIGZ1bmN0aW9uIEFycmF5TGlzdENsYXNzRGVzYyhlbGVtZW50RGVzYykge1xuICAgIExpc3RMaWtlRGVzY3JpcHRvci5jYWxsKHRoaXMsIGVsZW1lbnREZXNjKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlMaXN0Q2xhc3NEZXNjLnByb3RvdHlwZSwgJ25hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEFSUkFZX0xJU1RfTkFNRTtcbiAgfX0pO1xuICBBcnJheUxpc3RDbGFzc0Rlc2MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQXJyYXlMaXN0Q2xhc3NEZXNjJywgaW50ZXJmYWNlczogW0xpc3RMaWtlRGVzY3JpcHRvcl19O1xuICBmdW5jdGlvbiBOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3IobmFtZSwgZWxlbWVudERlc2NyaXB0b3IpIHtcbiAgICBMaXN0TGlrZURlc2NyaXB0b3IuY2FsbCh0aGlzLCBlbGVtZW50RGVzY3JpcHRvcik7XG4gICAgdGhpcy5uYW1lXzN6cnVyNyRfMCA9IG5hbWU7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5hbWVkTGlzdENsYXNzRGVzY3JpcHRvci5wcm90b3R5cGUsICduYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVfM3pydXI3JF8wO1xuICB9fSk7XG4gIE5hbWVkTGlzdENsYXNzRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbTGlzdExpa2VEZXNjcmlwdG9yXX07XG4gIGZ1bmN0aW9uIExpbmtlZEhhc2hTZXRDbGFzc0Rlc2MoZWxlbWVudERlc2MpIHtcbiAgICBMaXN0TGlrZURlc2NyaXB0b3IuY2FsbCh0aGlzLCBlbGVtZW50RGVzYyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhhc2hTZXRDbGFzc0Rlc2MucHJvdG90eXBlLCAnbmFtZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTElOS0VEX0hBU0hfU0VUX05BTUU7XG4gIH19KTtcbiAgTGlua2VkSGFzaFNldENsYXNzRGVzYy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMaW5rZWRIYXNoU2V0Q2xhc3NEZXNjJywgaW50ZXJmYWNlczogW0xpc3RMaWtlRGVzY3JpcHRvcl19O1xuICBmdW5jdGlvbiBIYXNoU2V0Q2xhc3NEZXNjKGVsZW1lbnREZXNjKSB7XG4gICAgTGlzdExpa2VEZXNjcmlwdG9yLmNhbGwodGhpcywgZWxlbWVudERlc2MpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIYXNoU2V0Q2xhc3NEZXNjLnByb3RvdHlwZSwgJ25hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEhBU0hfU0VUX05BTUU7XG4gIH19KTtcbiAgSGFzaFNldENsYXNzRGVzYy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdIYXNoU2V0Q2xhc3NEZXNjJywgaW50ZXJmYWNlczogW0xpc3RMaWtlRGVzY3JpcHRvcl19O1xuICBmdW5jdGlvbiBOYW1lZE1hcENsYXNzRGVzY3JpcHRvcihuYW1lLCBrZXlEZXNjcmlwdG9yLCB2YWx1ZURlc2NyaXB0b3IpIHtcbiAgICBNYXBMaWtlRGVzY3JpcHRvci5jYWxsKHRoaXMsIG5hbWUsIGtleURlc2NyaXB0b3IsIHZhbHVlRGVzY3JpcHRvcik7XG4gIH1cbiAgTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbTWFwTGlrZURlc2NyaXB0b3JdfTtcbiAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcENsYXNzRGVzYyhrZXlEZXNjLCB2YWx1ZURlc2MpIHtcbiAgICBNYXBMaWtlRGVzY3JpcHRvci5jYWxsKHRoaXMsIExJTktFRF9IQVNIX01BUF9OQU1FLCBrZXlEZXNjLCB2YWx1ZURlc2MpO1xuICB9XG4gIExpbmtlZEhhc2hNYXBDbGFzc0Rlc2MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTGlua2VkSGFzaE1hcENsYXNzRGVzYycsIGludGVyZmFjZXM6IFtNYXBMaWtlRGVzY3JpcHRvcl19O1xuICBmdW5jdGlvbiBIYXNoTWFwQ2xhc3NEZXNjKGtleURlc2MsIHZhbHVlRGVzYykge1xuICAgIE1hcExpa2VEZXNjcmlwdG9yLmNhbGwodGhpcywgSEFTSF9NQVBfTkFNRSwga2V5RGVzYywgdmFsdWVEZXNjKTtcbiAgfVxuICBIYXNoTWFwQ2xhc3NEZXNjLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0hhc2hNYXBDbGFzc0Rlc2MnLCBpbnRlcmZhY2VzOiBbTWFwTGlrZURlc2NyaXB0b3JdfTtcbiAgZnVuY3Rpb24gQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplcigpIHtcbiAgfVxuICBBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gZnVuY3Rpb24gKGRlY29kZXIsIG9sZCkge1xuICAgIHZhciBidWlsZGVyID0gdGhpcy50b0J1aWxkZXJfd2lrbiQob2xkKTtcbiAgICB2YXIgc3RhcnRJbmRleCA9IHRoaXMuYnVpbGRlclNpemVfd2lsaSQoYnVpbGRlcik7XG4gICAgdmFyIGRlY29kZXJfMCA9IGRlY29kZXIuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCh0aGlzLmRlc2NyaXB0b3IsIHRoaXMudHlwZVBhcmFtcy5zbGljZSgpKTtcbiAgICB2YXIgc2l6ZSA9IHRoaXMucmVhZFNpemVfbWVzNWNlJF8wKGRlY29kZXJfMCwgYnVpbGRlcik7XG4gICAgbWFpbkxvb3A6IHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgaW5kZXggPSBkZWNvZGVyXzAuZGVjb2RlRWxlbWVudEluZGV4X3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgICAgIHN3aXRjaCAoaW5kZXgpIHtcbiAgICAgICAgY2FzZSAtMjpcbiAgICAgICAgICB0aGlzLnJlYWRBbGxfNHhmejJhJF8wKGRlY29kZXJfMCwgYnVpbGRlciwgc3RhcnRJbmRleCwgc2l6ZSk7XG4gICAgICAgICAgYnJlYWsgbWFpbkxvb3A7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgYnJlYWsgbWFpbkxvb3A7XG4gICAgICAgIGRlZmF1bHQ6dGhpcy5yZWFkSXRlbV9pbmQxbnkkKGRlY29kZXJfMCwgc3RhcnRJbmRleCArIGluZGV4IHwgMCwgYnVpbGRlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGRlY29kZXJfMC5lbmRTdHJ1Y3R1cmVfcWF0c20wJCh0aGlzLmRlc2NyaXB0b3IpO1xuICAgIHJldHVybiB0aGlzLnRvUmVzdWx0X3dpbGkkKGJ1aWxkZXIpO1xuICB9O1xuICBBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICB2YXIgYnVpbGRlciA9IHRoaXMuYnVpbGRlcigpO1xuICAgIHJldHVybiB0aGlzLnBhdGNoX215bnBpdSQoZGVjb2RlciwgdGhpcy50b1Jlc3VsdF93aWxpJChidWlsZGVyKSk7XG4gIH07XG4gIEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIucHJvdG90eXBlLnJlYWRTaXplX21lczVjZSRfMCA9IGZ1bmN0aW9uIChkZWNvZGVyLCBidWlsZGVyKSB7XG4gICAgdmFyIHNpemUgPSBkZWNvZGVyLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgICB0aGlzLmNoZWNrQ2FwYWNpdHlfcms3Ync4JChidWlsZGVyLCBzaXplKTtcbiAgICByZXR1cm4gc2l6ZTtcbiAgfTtcbiAgQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplci5wcm90b3R5cGUucmVhZEl0ZW1faW5kMW55JCA9IGZ1bmN0aW9uIChkZWNvZGVyLCBpbmRleCwgYnVpbGRlciwgY2hlY2tJbmRleCwgY2FsbGJhY2skZGVmYXVsdCkge1xuICAgIGlmIChjaGVja0luZGV4ID09PSB2b2lkIDApXG4gICAgICBjaGVja0luZGV4ID0gdHJ1ZTtcbiAgICBjYWxsYmFjayRkZWZhdWx0ID8gY2FsbGJhY2skZGVmYXVsdChkZWNvZGVyLCBpbmRleCwgYnVpbGRlciwgY2hlY2tJbmRleCkgOiB0aGlzLnJlYWRJdGVtX2luZDFueSQkZGVmYXVsdChkZWNvZGVyLCBpbmRleCwgYnVpbGRlciwgY2hlY2tJbmRleCk7XG4gIH07XG4gIEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIucHJvdG90eXBlLnJlYWRBbGxfNHhmejJhJF8wID0gZnVuY3Rpb24gKGRlY29kZXIsIGJ1aWxkZXIsIHN0YXJ0SW5kZXgsIHNpemUpIHtcbiAgICBpZiAoIShzaXplID49IDApKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdTaXplIG11c3QgYmUga25vd24gaW4gYWR2YW5jZSB3aGVuIHVzaW5nIFJFQURfQUxMJztcbiAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzaXplOyBpbmRleCsrKVxuICAgICAgdGhpcy5yZWFkSXRlbV9pbmQxbnkkKGRlY29kZXIsIHN0YXJ0SW5kZXggKyBpbmRleCB8IDAsIGJ1aWxkZXIsIGZhbHNlKTtcbiAgfTtcbiAgQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIExpc3RMaWtlU2VyaWFsaXplcihlbGVtZW50U2VyaWFsaXplcikge1xuICAgIEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmVsZW1lbnRTZXJpYWxpemVyID0gZWxlbWVudFNlcmlhbGl6ZXI7XG4gICAgdGhpcy50eXBlUGFyYW1zX3RoYmhibCRfMCA9IFt0aGlzLmVsZW1lbnRTZXJpYWxpemVyXTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdExpa2VTZXJpYWxpemVyLnByb3RvdHlwZSwgJ3R5cGVQYXJhbXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZVBhcmFtc190aGJoYmwkXzA7XG4gIH19KTtcbiAgTGlzdExpa2VTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMub2JqU2l6ZV93aWtuJChvYmopO1xuICAgIHZhciBlbmNvZGVyXzAgPSBlbmNvZGVyLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkKHRoaXMuZGVzY3JpcHRvciwgc2l6ZSwgdGhpcy50eXBlUGFyYW1zLnNsaWNlKCkpO1xuICAgIHZhciBpdGVyYXRvciA9IHRoaXMub2JqSXRlcmF0b3Jfd2lrbiQob2JqKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc2l6ZTsgaW5kZXgrKylcbiAgICAgIGVuY29kZXJfMC5lbmNvZGVTZXJpYWxpemFibGVFbGVtZW50X2JsZWN1ZCQodGhpcy5kZXNjcmlwdG9yLCBpbmRleCwgdGhpcy5lbGVtZW50U2VyaWFsaXplciwgaXRlcmF0b3IubmV4dCgpKTtcbiAgICBlbmNvZGVyXzAuZW5kU3RydWN0dXJlX3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgfTtcbiAgTGlzdExpa2VTZXJpYWxpemVyLnByb3RvdHlwZS5yZWFkSXRlbV9pbmQxbnkkJGRlZmF1bHQgPSBmdW5jdGlvbiAoZGVjb2RlciwgaW5kZXgsIGJ1aWxkZXIsIGNoZWNrSW5kZXgpIHtcbiAgICB0aGlzLmluc2VydF9wNDIybCQoYnVpbGRlciwgaW5kZXgsIGRlY29kZXIuZGVjb2RlU2VyaWFsaXphYmxlRWxlbWVudF9zNDRsN3IkKHRoaXMuZGVzY3JpcHRvciwgaW5kZXgsIHRoaXMuZWxlbWVudFNlcmlhbGl6ZXIpKTtcbiAgfTtcbiAgTGlzdExpa2VTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpc3RMaWtlU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIE1hcExpa2VTZXJpYWxpemVyKGtleVNlcmlhbGl6ZXIsIHZhbHVlU2VyaWFsaXplcikge1xuICAgIEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmtleVNlcmlhbGl6ZXIgPSBrZXlTZXJpYWxpemVyO1xuICAgIHRoaXMudmFsdWVTZXJpYWxpemVyID0gdmFsdWVTZXJpYWxpemVyO1xuICAgIHRoaXMudHlwZVBhcmFtc19qZGk1cG4kXzAgPSBbdGhpcy5rZXlTZXJpYWxpemVyLCB0aGlzLnZhbHVlU2VyaWFsaXplcl07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcExpa2VTZXJpYWxpemVyLnByb3RvdHlwZSwgJ3R5cGVQYXJhbXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZVBhcmFtc19qZGk1cG4kXzA7XG4gIH19KTtcbiAgTWFwTGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlLnJlYWRJdGVtX2luZDFueSQkZGVmYXVsdCA9IGZ1bmN0aW9uIChkZWNvZGVyLCBpbmRleCwgYnVpbGRlciwgY2hlY2tJbmRleCkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgdmFyIGtleSA9IGRlY29kZXIuZGVjb2RlU2VyaWFsaXphYmxlRWxlbWVudF9zNDRsN3IkKHRoaXMuZGVzY3JpcHRvciwgaW5kZXgsIHRoaXMua2V5U2VyaWFsaXplcik7XG4gICAgaWYgKGNoZWNrSW5kZXgpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBkZWNvZGVyLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gICAgICBpZiAoISgkcmVjZWl2ZXIgPT09IChpbmRleCArIDEgfCAwKSkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnVmFsdWUgbXVzdCBmb2xsb3cga2V5IGluIGEgbWFwLCBpbmRleCBmb3Iga2V5OiAnICsgaW5kZXggKyAnLCByZXR1cm5lZCBpbmRleCBmb3IgdmFsdWU6ICcgKyAkcmVjZWl2ZXI7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB0bXAkID0gJHJlY2VpdmVyO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0bXAkID0gaW5kZXggKyAxIHwgMDtcbiAgICB9XG4gICAgdmFyIHZJbmRleCA9IHRtcCQ7XG4gICAgaWYgKGJ1aWxkZXIuY29udGFpbnNLZXlfMTFyYiQoa2V5KSAmJiAhS290bGluLmlzVHlwZSh0aGlzLnZhbHVlU2VyaWFsaXplci5kZXNjcmlwdG9yLmtpbmQsIFByaW1pdGl2ZUtpbmQpKSB7XG4gICAgICB0bXAkXzAgPSBkZWNvZGVyLnVwZGF0ZVNlcmlhbGl6YWJsZUVsZW1lbnRfZWh1YnZsJCh0aGlzLmRlc2NyaXB0b3IsIHZJbmRleCwgdGhpcy52YWx1ZVNlcmlhbGl6ZXIsIGdldFZhbHVlKGJ1aWxkZXIsIGtleSkpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0bXAkXzAgPSBkZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfczQ0bDdyJCh0aGlzLmRlc2NyaXB0b3IsIHZJbmRleCwgdGhpcy52YWx1ZVNlcmlhbGl6ZXIpO1xuICAgIH1cbiAgICB2YXIgdmFsdWUgPSB0bXAkXzA7XG4gICAgYnVpbGRlci5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgfTtcbiAgTWFwTGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIHZhciBzaXplID0gdGhpcy5vYmpTaXplX3dpa24kKG9iaik7XG4gICAgdmFyIGVuY29kZXJfMCA9IGVuY29kZXIuYmVnaW5Db2xsZWN0aW9uX2dseTF4NSQodGhpcy5kZXNjcmlwdG9yLCBzaXplLCB0aGlzLnR5cGVQYXJhbXMuc2xpY2UoKSk7XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5vYmpJdGVyYXRvcl93aWtuJChvYmopO1xuICAgIHZhciBpbmRleCA9IHt2OiAwfTtcbiAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHZhciBrID0gZWxlbWVudC5rZXk7XG4gICAgICB2YXIgdiA9IGVsZW1lbnQudmFsdWU7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgICAgZW5jb2Rlcl8wLmVuY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfYmxlY3VkJCh0aGlzLmRlc2NyaXB0b3IsICh0bXAkID0gaW5kZXgudiwgaW5kZXgudiA9IHRtcCQgKyAxIHwgMCwgdG1wJCksIHRoaXMua2V5U2VyaWFsaXplciwgayk7XG4gICAgICBlbmNvZGVyXzAuZW5jb2RlU2VyaWFsaXphYmxlRWxlbWVudF9ibGVjdWQkKHRoaXMuZGVzY3JpcHRvciwgKHRtcCRfMCA9IGluZGV4LnYsIGluZGV4LnYgPSB0bXAkXzAgKyAxIHwgMCwgdG1wJF8wKSwgdGhpcy52YWx1ZVNlcmlhbGl6ZXIsIHYpO1xuICAgIH1cbiAgICBlbmNvZGVyXzAuZW5kU3RydWN0dXJlX3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgfTtcbiAgTWFwTGlrZVNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTWFwTGlrZVNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBBcnJheUxpc3RTZXJpYWxpemVyKGVsZW1lbnQpIHtcbiAgICBMaXN0TGlrZVNlcmlhbGl6ZXIuY2FsbCh0aGlzLCBlbGVtZW50KTtcbiAgICB0aGlzLmRlc2NyaXB0b3JfN3V3b2EyJF8wID0gbmV3IEFycmF5TGlzdENsYXNzRGVzYyhlbGVtZW50LmRlc2NyaXB0b3IpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheUxpc3RTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl83dXdvYTIkXzA7XG4gIH19KTtcbiAgQXJyYXlMaXN0U2VyaWFsaXplci5wcm90b3R5cGUub2JqU2l6ZV93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnNpemU7XG4gIH07XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLm9iakl0ZXJhdG9yX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgfTtcbiAgQXJyYXlMaXN0U2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gQXJyYXlMaXN0X2luaXRfMCgpO1xuICB9O1xuICBBcnJheUxpc3RTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZGVyU2l6ZV93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnNpemU7XG4gIH07XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLnRvUmVzdWx0X3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXI7XG4gIH07XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLnRvQnVpbGRlcl93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHJldHVybiAodG1wJF8wID0gS290bGluLmlzVHlwZSh0bXAkID0gJHJlY2VpdmVyLCBBcnJheUxpc3QpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiBBcnJheUxpc3RfaW5pdF8xKCRyZWNlaXZlcik7XG4gIH07XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLmNoZWNrQ2FwYWNpdHlfcms3Ync4JCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIHNpemUpIHtcbiAgICAkcmVjZWl2ZXIuZW5zdXJlQ2FwYWNpdHlfemEzbHBhJChzaXplKTtcbiAgfTtcbiAgQXJyYXlMaXN0U2VyaWFsaXplci5wcm90b3R5cGUuaW5zZXJ0X3A0MjJsJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGluZGV4LCBlbGVtZW50KSB7XG4gICAgJHJlY2VpdmVyLmFkZF93eG01dXIkKGluZGV4LCBlbGVtZW50KTtcbiAgfTtcbiAgQXJyYXlMaXN0U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBcnJheUxpc3RTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0xpc3RMaWtlU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBMaW5rZWRIYXNoU2V0U2VyaWFsaXplcihlU2VyaWFsaXplcikge1xuICAgIExpc3RMaWtlU2VyaWFsaXplci5jYWxsKHRoaXMsIGVTZXJpYWxpemVyKTtcbiAgICB0aGlzLmRlc2NyaXB0b3Jfdm5mYzdtJF8wID0gbmV3IExpbmtlZEhhc2hTZXRDbGFzc0Rlc2MoZVNlcmlhbGl6ZXIuZGVzY3JpcHRvcik7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl92bmZjN20kXzA7XG4gIH19KTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLm9ialNpemVfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5zaXplO1xuICB9O1xuICBMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUub2JqSXRlcmF0b3Jfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICB9O1xuICBMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTGlua2VkSGFzaFNldF9pbml0XzAoKTtcbiAgfTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkZXJTaXplX3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZTtcbiAgfTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLnRvUmVzdWx0X3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXI7XG4gIH07XG4gIExpbmtlZEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS50b0J1aWxkZXJfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9ICRyZWNlaXZlciwgTGlua2VkSGFzaFNldCkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IExpbmtlZEhhc2hTZXRfaW5pdCgkcmVjZWl2ZXIpO1xuICB9O1xuICBMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUuY2hlY2tDYXBhY2l0eV9yazdidzgkID0gZnVuY3Rpb24gKCRyZWNlaXZlciwgc2l6ZSkge1xuICB9O1xuICBMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUuaW5zZXJ0X3A0MjJsJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGluZGV4LCBlbGVtZW50KSB7XG4gICAgJHJlY2VpdmVyLmFkZF8xMXJiJChlbGVtZW50KTtcbiAgfTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTGlua2VkSGFzaFNldFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbTGlzdExpa2VTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIEhhc2hTZXRTZXJpYWxpemVyKGVTZXJpYWxpemVyKSB7XG4gICAgTGlzdExpa2VTZXJpYWxpemVyLmNhbGwodGhpcywgZVNlcmlhbGl6ZXIpO1xuICAgIHRoaXMuZGVzY3JpcHRvcl95cXB6NDckXzAgPSBuZXcgSGFzaFNldENsYXNzRGVzYyhlU2VyaWFsaXplci5kZXNjcmlwdG9yKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX3lxcHo0NyRfMDtcbiAgfX0pO1xuICBIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUub2JqU2l6ZV93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnNpemU7XG4gIH07XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5vYmpJdGVyYXRvcl93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gIH07XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBIYXNoU2V0X2luaXQoKTtcbiAgfTtcbiAgSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkZXJTaXplX3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZTtcbiAgfTtcbiAgSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLnRvUmVzdWx0X3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXI7XG4gIH07XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS50b0J1aWxkZXJfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9ICRyZWNlaXZlciwgSGFzaFNldCkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IEhhc2hTZXRfaW5pdF8wKCRyZWNlaXZlcik7XG4gIH07XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5jaGVja0NhcGFjaXR5X3JrN2J3OCQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBzaXplKSB7XG4gIH07XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5pbnNlcnRfcDQyMmwkID0gZnVuY3Rpb24gKCRyZWNlaXZlciwgaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAkcmVjZWl2ZXIuYWRkXzExcmIkKGVsZW1lbnQpO1xuICB9O1xuICBIYXNoU2V0U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdIYXNoU2V0U2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtMaXN0TGlrZVNlcmlhbGl6ZXJdfTtcbiAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIoa1NlcmlhbGl6ZXIsIHZTZXJpYWxpemVyKSB7XG4gICAgTWFwTGlrZVNlcmlhbGl6ZXIuY2FsbCh0aGlzLCBrU2VyaWFsaXplciwgdlNlcmlhbGl6ZXIpO1xuICAgIHRoaXMuZGVzY3JpcHRvcl9waXhwMG8kXzAgPSBuZXcgTGlua2VkSGFzaE1hcENsYXNzRGVzYyhrU2VyaWFsaXplci5kZXNjcmlwdG9yLCB2U2VyaWFsaXplci5kZXNjcmlwdG9yKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX3BpeHAwbyRfMDtcbiAgfX0pO1xuICBMaW5rZWRIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUub2JqU2l6ZV93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnNpemU7XG4gIH07XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5vYmpJdGVyYXRvcl93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgfTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIExpbmtlZEhhc2hNYXBfaW5pdCgpO1xuICB9O1xuICBMaW5rZWRIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGRlclNpemVfd2lsaSQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5zaXplO1xuICB9O1xuICBMaW5rZWRIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUudG9SZXN1bHRfd2lsaSQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlcjtcbiAgfTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLnRvQnVpbGRlcl93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHJldHVybiAodG1wJF8wID0gS290bGluLmlzVHlwZSh0bXAkID0gJHJlY2VpdmVyLCBMaW5rZWRIYXNoTWFwKSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogTGlua2VkSGFzaE1hcF9pbml0XzAoJHJlY2VpdmVyKTtcbiAgfTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLmNoZWNrQ2FwYWNpdHlfcms3Ync4JCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIHNpemUpIHtcbiAgfTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLmluc2VydEtleVZhbHVlUGFpcl9mYnI1OGwkID0gZnVuY3Rpb24gKCRyZWNlaXZlciwgaW5kZXgsIGtleSwgdmFsdWUpIHtcbiAgICAkcmVjZWl2ZXIucHV0X3h3emM5cCQoa2V5LCB2YWx1ZSk7XG4gIH07XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpbmtlZEhhc2hNYXBTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW01hcExpa2VTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIEhhc2hNYXBTZXJpYWxpemVyKGtTZXJpYWxpemVyLCB2U2VyaWFsaXplcikge1xuICAgIE1hcExpa2VTZXJpYWxpemVyLmNhbGwodGhpcywga1NlcmlhbGl6ZXIsIHZTZXJpYWxpemVyKTtcbiAgICB0aGlzLmRlc2NyaXB0b3Jfa3Z5eWRkJF8wID0gbmV3IEhhc2hNYXBDbGFzc0Rlc2Moa1NlcmlhbGl6ZXIuZGVzY3JpcHRvciwgdlNlcmlhbGl6ZXIuZGVzY3JpcHRvcik7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9rdnl5ZGQkXzA7XG4gIH19KTtcbiAgSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLm9ialNpemVfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5zaXplO1xuICB9O1xuICBIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUub2JqSXRlcmF0b3Jfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gIH07XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBIYXNoTWFwX2luaXQoKTtcbiAgfTtcbiAgSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkZXJTaXplX3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZTtcbiAgfTtcbiAgSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLnRvUmVzdWx0X3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXI7XG4gIH07XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS50b0J1aWxkZXJfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9ICRyZWNlaXZlciwgSGFzaE1hcCkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IEhhc2hNYXBfaW5pdF8wKCRyZWNlaXZlcik7XG4gIH07XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5jaGVja0NhcGFjaXR5X3JrN2J3OCQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBzaXplKSB7XG4gIH07XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5pbnNlcnRLZXlWYWx1ZVBhaXJfZmJyNThsJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKGtleSwgdmFsdWUpO1xuICB9O1xuICBIYXNoTWFwU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdIYXNoTWFwU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtNYXBMaWtlU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBDb21tb25FbnVtU2VyaWFsaXplcihzZXJpYWxOYW1lLCBjaG9pY2VzLCBjaG9pY2VzTmFtZXMpIHtcbiAgICB0aGlzLnNlcmlhbE5hbWUgPSBzZXJpYWxOYW1lO1xuICAgIHRoaXMuY2hvaWNlcyA9IGNob2ljZXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX2oyemdkbCRfMCA9IG5ldyBFbnVtRGVzY3JpcHRvcih0aGlzLnNlcmlhbE5hbWUsIGNob2ljZXNOYW1lcyk7XG4gIH1cbiAgZnVuY3Rpb24gR2VuZXJhdGVkU2VyaWFsaXplcigpIHtcbiAgfVxuICBmdW5jdGlvbiBMb25nQXNTdHJpbmdTZXJpYWxpemVyKCkge1xuICAgIExvbmdBc1N0cmluZ1NlcmlhbGl6ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl85YXg4dWkkXzAgPSBTdHJpbmdEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgdmFyIExvbmdBc1N0cmluZ1NlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBtYWtlTnVsbGFibGUoYWN0dWFsU2VyaWFsaXplcikge1xuICAgIHJldHVybiBuZXcgTnVsbGFibGVTZXJpYWxpemVyKGFjdHVhbFNlcmlhbGl6ZXIpO1xuICB9XG4gIGZ1bmN0aW9uIE51bGxhYmxlU2VyaWFsaXplcihhY3R1YWxTZXJpYWxpemVyKSB7XG4gICAgdGhpcy5hY3R1YWxTZXJpYWxpemVyID0gYWN0dWFsU2VyaWFsaXplcjtcbiAgICB0aGlzLmRlc2NyaXB0b3Jfa2J2bDJrJF8wID0gbmV3IE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUodGhpcy5hY3R1YWxTZXJpYWxpemVyLmRlc2NyaXB0b3IpO1xuICB9XG4gIGZ1bmN0aW9uIE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUob3JpZ2luYWwpIHtcbiAgICB0aGlzLm9yaWdpbmFsID0gb3JpZ2luYWw7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLCAnaXNOdWxsYWJsZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfX0pO1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghZXF1YWxzKHRoaXMub3JpZ2luYWwsIG90aGVyLm9yaWdpbmFsKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGhhc2hDb2RlKHRoaXMub3JpZ2luYWwpICogMzEgfCAwO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUsICdlbGVtZW50c0NvdW50Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmVsZW1lbnRzQ291bnQ7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC5raW5kO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLnByb3RvdHlwZSwgJ25hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwubmFtZTtcbiAgfX0pO1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmdldEVsZW1lbnRBbm5vdGF0aW9uc196YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUuZ2V0RWxlbWVudERlc2NyaXB0b3JfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQoaW5kZXgpO1xuICB9O1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLnByb3RvdHlwZS5nZXRFbGVtZW50SW5kZXhfNjF6cG9lJCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwuZ2V0RWxlbWVudEluZGV4XzYxenBvZSQobmFtZSk7XG4gIH07XG4gIE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLmdldEVsZW1lbnROYW1lX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC5nZXRFbGVtZW50TmFtZV96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUuZ2V0RW50aXR5QW5ub3RhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwuZ2V0RW50aXR5QW5ub3RhdGlvbnMoKTtcbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUuaXNFbGVtZW50T3B0aW9uYWxfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmlzRWxlbWVudE9wdGlvbmFsX3phM2xwYSQoaW5kZXgpO1xuICB9O1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZScsIGludGVyZmFjZXM6IFtTZXJpYWxEZXNjcmlwdG9yXX07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOdWxsYWJsZVNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX2tidmwyayRfMDtcbiAgfX0pO1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGlmIChvYmogIT0gbnVsbCkge1xuICAgICAgZW5jb2Rlci5lbmNvZGVOb3ROdWxsTWFyaygpO1xuICAgICAgZW5jb2Rlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKHRoaXMuYWN0dWFsU2VyaWFsaXplciwgb2JqKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgZW5jb2Rlci5lbmNvZGVOdWxsKCk7XG4gICAgfVxuICB9O1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZU5vdE51bGxNYXJrKCkgPyBkZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQodGhpcy5hY3R1YWxTZXJpYWxpemVyKSA6IGRlY29kZXIuZGVjb2RlTnVsbCgpO1xuICB9O1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBmdW5jdGlvbiAoZGVjb2Rlciwgb2xkKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgaWYgKG9sZCA9PSBudWxsKVxuICAgICAgdG1wJCA9IHRoaXMuZGVzZXJpYWxpemVfbnRzNXFuJChkZWNvZGVyKTtcbiAgICBlbHNlIGlmIChkZWNvZGVyLmRlY29kZU5vdE51bGxNYXJrKCkpXG4gICAgICB0bXAkID0gZGVjb2Rlci51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkKHRoaXMuYWN0dWFsU2VyaWFsaXplciwgb2xkKTtcbiAgICBlbHNlIHtcbiAgICAgIGRlY29kZXIuZGVjb2RlTnVsbCgpO1xuICAgICAgdG1wJCA9IG9sZDtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIE51bGxhYmxlU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOdWxsYWJsZVNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgZnVuY3Rpb24gUHJpbWl0aXZlRGVzY3JpcHRvcihuYW1lLCBraW5kKSB7XG4gICAgdGhpcy5uYW1lX3I5aHQ2aiRfMCA9IG5hbWU7XG4gICAgdGhpcy5raW5kX3I3emswaSRfMCA9IGtpbmQ7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLCAnbmFtZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lX3I5aHQ2aiRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUsICdraW5kJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmtpbmRfcjd6azBpJF8wO1xuICB9fSk7XG4gIFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLmVycm9yX2I2ejZ0NiRfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdCgnUHJpbWl0aXZlcyBkb2VzIG5vdCBoYXZlIGVsZW1lbnRzJyk7XG4gIH07XG4gIFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnROYW1lX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5lcnJvcl9iNno2dDYkXzAoKTtcbiAgfTtcbiAgUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RWxlbWVudEluZGV4XzYxenBvZSQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmVycm9yX2I2ejZ0NiRfMCgpO1xuICB9O1xuICBQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZS5pc0VsZW1lbnRPcHRpb25hbF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfYjZ6NnQ2JF8wKCk7XG4gIH07XG4gIFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5lcnJvcl9iNno2dDYkXzAoKTtcbiAgfTtcbiAgUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfTtcbiAgUHJpbWl0aXZlRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQcmltaXRpdmVEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1NlcmlhbERlc2NyaXB0b3JdfTtcbiAgZnVuY3Rpb24gSW50RGVzY3JpcHRvcigpIHtcbiAgICBJbnREZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVEZXNjcmlwdG9yLmNhbGwodGhpcywgJ2tvdGxpbi5JbnQnLCBQcmltaXRpdmVLaW5kJElOVF9nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBJbnREZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdJbnREZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIEludERlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBJbnREZXNjcmlwdG9yX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChJbnREZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSW50RGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gSW50RGVzY3JpcHRvcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBVbml0RGVzY3JpcHRvcigpIHtcbiAgICBVbml0RGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uVW5pdCcsIFByaW1pdGl2ZUtpbmQkVU5JVF9nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBVbml0RGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnVW5pdERlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlRGVzY3JpcHRvcl19O1xuICB2YXIgVW5pdERlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBVbml0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoVW5pdERlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBVbml0RGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gVW5pdERlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gQm9vbGVhbkRlc2NyaXB0b3IoKSB7XG4gICAgQm9vbGVhbkRlc2NyaXB0b3JfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZURlc2NyaXB0b3IuY2FsbCh0aGlzLCAna290bGluLkJvb2xlYW4nLCBQcmltaXRpdmVLaW5kJEJPT0xFQU5fZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgQm9vbGVhbkRlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0Jvb2xlYW5EZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIEJvb2xlYW5EZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gQm9vbGVhbkRlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEJvb2xlYW5EZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgQm9vbGVhbkRlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIEJvb2xlYW5EZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEJ5dGVEZXNjcmlwdG9yKCkge1xuICAgIEJ5dGVEZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVEZXNjcmlwdG9yLmNhbGwodGhpcywgJ2tvdGxpbi5CeXRlJywgUHJpbWl0aXZlS2luZCRCWVRFX2dldEluc3RhbmNlKCkpO1xuICB9XG4gIEJ5dGVEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdCeXRlRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVEZXNjcmlwdG9yXX07XG4gIHZhciBCeXRlRGVzY3JpcHRvcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEJ5dGVEZXNjcmlwdG9yX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChCeXRlRGVzY3JpcHRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEJ5dGVEZXNjcmlwdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBCeXRlRGVzY3JpcHRvcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTaG9ydERlc2NyaXB0b3IoKSB7XG4gICAgU2hvcnREZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVEZXNjcmlwdG9yLmNhbGwodGhpcywgJ2tvdGxpbi5TaG9ydCcsIFByaW1pdGl2ZUtpbmQkU0hPUlRfZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgU2hvcnREZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTaG9ydERlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlRGVzY3JpcHRvcl19O1xuICB2YXIgU2hvcnREZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU2hvcnREZXNjcmlwdG9yX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTaG9ydERlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBTaG9ydERlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIFNob3J0RGVzY3JpcHRvcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBMb25nRGVzY3JpcHRvcigpIHtcbiAgICBMb25nRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uTG9uZycsIFByaW1pdGl2ZUtpbmQkTE9OR19nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBMb25nRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTG9uZ0Rlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlRGVzY3JpcHRvcl19O1xuICB2YXIgTG9uZ0Rlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBMb25nRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoTG9uZ0Rlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBMb25nRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gTG9uZ0Rlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gRmxvYXREZXNjcmlwdG9yKCkge1xuICAgIEZsb2F0RGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uRmxvYXQnLCBQcmltaXRpdmVLaW5kJEZMT0FUX2dldEluc3RhbmNlKCkpO1xuICB9XG4gIEZsb2F0RGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRmxvYXREZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIEZsb2F0RGVzY3JpcHRvcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEZsb2F0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoRmxvYXREZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgRmxvYXREZXNjcmlwdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBGbG9hdERlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gRG91YmxlRGVzY3JpcHRvcigpIHtcbiAgICBEb3VibGVEZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVEZXNjcmlwdG9yLmNhbGwodGhpcywgJ2tvdGxpbi5Eb3VibGUnLCBQcmltaXRpdmVLaW5kJERPVUJMRV9nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBEb3VibGVEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdEb3VibGVEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIERvdWJsZURlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBEb3VibGVEZXNjcmlwdG9yX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChEb3VibGVEZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgRG91YmxlRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gRG91YmxlRGVzY3JpcHRvcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBDaGFyRGVzY3JpcHRvcigpIHtcbiAgICBDaGFyRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uQ2hhcicsIFByaW1pdGl2ZUtpbmQkQ0hBUl9nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBDaGFyRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ2hhckRlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlRGVzY3JpcHRvcl19O1xuICB2YXIgQ2hhckRlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBDaGFyRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoQ2hhckRlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBDaGFyRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gQ2hhckRlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gU3RyaW5nRGVzY3JpcHRvcigpIHtcbiAgICBTdHJpbmdEZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVEZXNjcmlwdG9yLmNhbGwodGhpcywgJ2tvdGxpbi5TdHJpbmcnLCBQcmltaXRpdmVLaW5kJFNUUklOR19nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBTdHJpbmdEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTdHJpbmdEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIFN0cmluZ0Rlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBTdHJpbmdEZXNjcmlwdG9yX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTdHJpbmdEZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3RyaW5nRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nRGVzY3JpcHRvcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBVbml0U2VyaWFsaXplcigpIHtcbiAgICBVbml0U2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX2d2dmk1dCRfMCA9IFVuaXREZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaXRTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9ndnZpNXQkXzA7XG4gIH19KTtcbiAgVW5pdFNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlVW5pdCgpO1xuICB9O1xuICBVbml0U2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgZGVjb2Rlci5kZWNvZGVVbml0KCk7XG4gIH07XG4gIFVuaXRTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdVbml0U2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgVW5pdFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBVbml0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoVW5pdFNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBVbml0U2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gVW5pdFNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gQm9vbGVhblNlcmlhbGl6ZXIoKSB7XG4gICAgQm9vbGVhblNlcmlhbGl6ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl92ZHR2YXokXzAgPSBCb29sZWFuRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb29sZWFuU2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfdmR0dmF6JF8wO1xuICB9fSk7XG4gIEJvb2xlYW5TZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICBlbmNvZGVyLmVuY29kZUJvb2xlYW5fNnRha252JChvYmopO1xuICB9O1xuICBCb29sZWFuU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlQm9vbGVhbigpO1xuICB9O1xuICBCb29sZWFuU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQm9vbGVhblNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIEJvb2xlYW5TZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gQm9vbGVhblNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEJvb2xlYW5TZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgQm9vbGVhblNlcmlhbGl6ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEJvb2xlYW5TZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEJ5dGVTZXJpYWxpemVyKCkge1xuICAgIEJ5dGVTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfZjZ2bGYxJF8wID0gQnl0ZURlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnl0ZVNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX2Y2dmxmMSRfMDtcbiAgfX0pO1xuICBCeXRlU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVCeXRlX3M4ajN0NyQob2JqKTtcbiAgfTtcbiAgQnl0ZVNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZUJ5dGUoKTtcbiAgfTtcbiAgQnl0ZVNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0J5dGVTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBCeXRlU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEJ5dGVTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChCeXRlU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEJ5dGVTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBCeXRlU2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTaG9ydFNlcmlhbGl6ZXIoKSB7XG4gICAgU2hvcnRTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfeXZqZXVwJF8wID0gU2hvcnREZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNob3J0U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfeXZqZXVwJF8wO1xuICB9fSk7XG4gIFNob3J0U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVTaG9ydF9tcTIyZmwkKG9iaik7XG4gIH07XG4gIFNob3J0U2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlU2hvcnQoKTtcbiAgfTtcbiAgU2hvcnRTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTaG9ydFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIFNob3J0U2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFNob3J0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU2hvcnRTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU2hvcnRTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBTaG9ydFNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gSW50U2VyaWFsaXplcigpIHtcbiAgICBJbnRTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfeHJqZmxxJF8wID0gSW50RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl94cmpmbHEkXzA7XG4gIH19KTtcbiAgSW50U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVJbnRfemEzbHBhJChvYmopO1xuICB9O1xuICBJbnRTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVJbnQoKTtcbiAgfTtcbiAgSW50U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSW50U2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgSW50U2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEludFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEludFNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBJbnRTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBJbnRTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIExvbmdTZXJpYWxpemVyKCkge1xuICAgIExvbmdTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfcTR6Njg3JF8wID0gTG9uZ0Rlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9uZ1NlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX3E0ejY4NyRfMDtcbiAgfX0pO1xuICBMb25nU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVMb25nX3M4Y3hoeiQob2JqKTtcbiAgfTtcbiAgTG9uZ1NlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZUxvbmcoKTtcbiAgfTtcbiAgTG9uZ1NlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0xvbmdTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBMb25nU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIExvbmdTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChMb25nU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IExvbmdTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBMb25nU2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBGbG9hdFNlcmlhbGl6ZXIoKSB7XG4gICAgRmxvYXRTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfN213MXNoJF8wID0gRmxvYXREZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZsb2F0U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfN213MXNoJF8wO1xuICB9fSk7XG4gIEZsb2F0U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVGbG9hdF9teDR1bHQkKG9iaik7XG4gIH07XG4gIEZsb2F0U2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlRmxvYXQoKTtcbiAgfTtcbiAgRmxvYXRTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdGbG9hdFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIEZsb2F0U2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEZsb2F0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoRmxvYXRTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgRmxvYXRTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBGbG9hdFNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gRG91YmxlU2VyaWFsaXplcigpIHtcbiAgICBEb3VibGVTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfMmhuMnNjJF8wID0gRG91YmxlRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEb3VibGVTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl8yaG4yc2MkXzA7XG4gIH19KTtcbiAgRG91YmxlU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVEb3VibGVfMTRkdGhlJChvYmopO1xuICB9O1xuICBEb3VibGVTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVEb3VibGUoKTtcbiAgfTtcbiAgRG91YmxlU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRG91YmxlU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgRG91YmxlU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIERvdWJsZVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKERvdWJsZVNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBEb3VibGVTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBEb3VibGVTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIENoYXJTZXJpYWxpemVyKCkge1xuICAgIENoYXJTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfNW1weTh4JF8wID0gQ2hhckRlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhclNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yXzVtcHk4eCRfMDtcbiAgfX0pO1xuICBDaGFyU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVDaGFyX3M4aXR2aCQob2JqKTtcbiAgfTtcbiAgQ2hhclNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZUNoYXIoKTtcbiAgfTtcbiAgQ2hhclNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NoYXJTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBDaGFyU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIENoYXJTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChDaGFyU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IENoYXJTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBDaGFyU2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTdHJpbmdTZXJpYWxpemVyKCkge1xuICAgIFN0cmluZ1NlcmlhbGl6ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl9zdW03MTgkXzAgPSBTdHJpbmdEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1NlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX3N1bTcxOCRfMDtcbiAgfX0pO1xuICBTdHJpbmdTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICBlbmNvZGVyLmVuY29kZVN0cmluZ182MXpwb2UkKG9iaik7XG4gIH07XG4gIFN0cmluZ1NlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZVN0cmluZygpO1xuICB9O1xuICBTdHJpbmdTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTdHJpbmdTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBTdHJpbmdTZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3RyaW5nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3RyaW5nU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFN0cmluZ1NlcmlhbGl6ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZ1NlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gZGVmYXVsdFNlcmlhbGl6ZXIoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICBpZiAoZXF1YWxzKCRyZWNlaXZlciwgUHJpbWl0aXZlQ2xhc3NlcyRzdHJpbmdDbGFzcykpXG4gICAgICB0bXAkID0gU3RyaW5nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscygkcmVjZWl2ZXIsIGdldEtDbGFzcyhDaGFyKSkpXG4gICAgICB0bXAkID0gQ2hhclNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgICBlbHNlIGlmIChlcXVhbHMoJHJlY2VpdmVyLCBQcmltaXRpdmVDbGFzc2VzJGRvdWJsZUNsYXNzKSlcbiAgICAgIHRtcCQgPSBEb3VibGVTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKCRyZWNlaXZlciwgUHJpbWl0aXZlQ2xhc3NlcyRmbG9hdENsYXNzKSlcbiAgICAgIHRtcCQgPSBGbG9hdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgICBlbHNlIGlmIChlcXVhbHMoJHJlY2VpdmVyLCBnZXRLQ2xhc3MoTG9uZykpKVxuICAgICAgdG1wJCA9IExvbmdTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKCRyZWNlaXZlciwgUHJpbWl0aXZlQ2xhc3NlcyRpbnRDbGFzcykpXG4gICAgICB0bXAkID0gSW50U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscygkcmVjZWl2ZXIsIFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRDbGFzcykpXG4gICAgICB0bXAkID0gU2hvcnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKCRyZWNlaXZlciwgUHJpbWl0aXZlQ2xhc3NlcyRieXRlQ2xhc3MpKVxuICAgICAgdG1wJCA9IEJ5dGVTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKCRyZWNlaXZlciwgUHJpbWl0aXZlQ2xhc3NlcyRib29sZWFuQ2xhc3MpKVxuICAgICAgdG1wJCA9IEJvb2xlYW5TZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKCRyZWNlaXZlciwgZ2V0S0NsYXNzKE9iamVjdC5nZXRQcm90b3R5cGVPZihrb3RsaW4uVW5pdCkuY29uc3RydWN0b3IpKSlcbiAgICAgIHRtcCQgPSBVbml0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2VcbiAgICAgIHRtcCQgPSBudWxsO1xuICAgIHJldHVybiAodG1wJF8wID0gdG1wJCkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCRfMCwgS1NlcmlhbGl6ZXIpID8gdG1wJF8wIDogdGhyb3dDQ0UoKTtcbiAgfVxuICBmdW5jdGlvbiBTZXJpYWxDbGFzc0Rlc2NJbXBsKG5hbWUsIGdlbmVyYXRlZFNlcmlhbGl6ZXIpIHtcbiAgICBpZiAoZ2VuZXJhdGVkU2VyaWFsaXplciA9PT0gdm9pZCAwKVxuICAgICAgZ2VuZXJhdGVkU2VyaWFsaXplciA9IG51bGw7XG4gICAgdGhpcy5uYW1lX2w1aW5jNiRfMCA9IG5hbWU7XG4gICAgdGhpcy5nZW5lcmF0ZWRTZXJpYWxpemVyXzF2eWV5NiRfMCA9IGdlbmVyYXRlZFNlcmlhbGl6ZXI7XG4gICAgdGhpcy5uYW1lc19naDFrYWgkXzAgPSBBcnJheUxpc3RfaW5pdF8wKCk7XG4gICAgdGhpcy5hbm5vdGF0aW9uc180amlnYTMkXzAgPSBBcnJheUxpc3RfaW5pdF8wKCk7XG4gICAgdGhpcy5jbGFzc0Fubm90YXRpb25zXzNjbG05eiRfMCA9IEFycmF5TGlzdF9pbml0XzAoKTtcbiAgICB0aGlzLmZsYWdzX2sza2ZhMCRfMCA9IEtvdGxpbi5ib29sZWFuQXJyYXkoNCk7XG4gICAgdGhpcy5kZXNjcmlwdG9yc192ZTZzd2wkXzAgPSBBcnJheUxpc3RfaW5pdF8wKCk7XG4gICAgdGhpcy5pbmRpY2VzX2ptNXRxMCRfN2RydjVvJF8wID0gbGF6eShTZXJpYWxDbGFzc0Rlc2NJbXBsJGluZGljZXMkbGFtYmRhKHRoaXMpKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUsICduYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVfbDVpbmM2JF8wO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFN0cnVjdHVyZUtpbmQkQ0xBU1NfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUsICdlbGVtZW50c0NvdW50Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFubm90YXRpb25zXzRqaWdhMyRfMC5zaXplO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSwgJ2luZGljZXNfam01dHEwJF8wJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmluZGljZXNfam01dHEwJF83ZHJ2NW8kXzAudmFsdWU7XG4gIH19KTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUuYWRkRWxlbWVudF9pdnhuM3IkID0gZnVuY3Rpb24gKG5hbWUsIGlzT3B0aW9uYWwpIHtcbiAgICBpZiAoaXNPcHRpb25hbCA9PT0gdm9pZCAwKVxuICAgICAgaXNPcHRpb25hbCA9IGZhbHNlO1xuICAgIHRoaXMubmFtZXNfZ2gxa2FoJF8wLmFkZF8xMXJiJChuYW1lKTtcbiAgICB2YXIgaWR4ID0gdGhpcy5uYW1lc19naDFrYWgkXzAuc2l6ZSAtIDEgfCAwO1xuICAgIHRoaXMuZW5zdXJlRmxhZ3NDYXBhY2l0eV9xaHRyaW0kXzAoaWR4KTtcbiAgICB0aGlzLmZsYWdzX2sza2ZhMCRfMFtpZHhdID0gaXNPcHRpb25hbDtcbiAgICB0aGlzLmFubm90YXRpb25zXzRqaWdhMyRfMC5hZGRfMTFyYiQoQXJyYXlMaXN0X2luaXRfMCgpKTtcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUucHVzaEFubm90YXRpb25feWo5MjF3JCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgbGFzdCh0aGlzLmFubm90YXRpb25zXzRqaWdhMyRfMCkuYWRkXzExcmIkKGEpO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5wdXNoQ2xhc3NBbm5vdGF0aW9uX3lqOTIxdyQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHRoaXMuY2xhc3NBbm5vdGF0aW9uc18zY2xtOXokXzAuYWRkXzExcmIkKGEpO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5wdXNoRGVzY3JpcHRvcl9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICB0aGlzLmRlc2NyaXB0b3JzX3ZlNnN3bCRfMC5hZGRfMTFyYiQoZGVzYyk7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzEsIHRtcCRfMiwgdG1wJF8zO1xuICAgIHRtcCRfMyA9ICh0bXAkXzIgPSAodG1wJF8xID0gKHRtcCRfMCA9ICh0bXAkID0gdGhpcy5nZW5lcmF0ZWRTZXJpYWxpemVyXzF2eWV5NiRfMCkgIT0gbnVsbCA/IHRtcCQuY2hpbGRTZXJpYWxpemVycygpIDogbnVsbCkgIT0gbnVsbCA/IGdldE9yTnVsbCh0bXAkXzAsIGluZGV4KSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzEuZGVzY3JpcHRvciA6IG51bGwpICE9IG51bGwgPyB0bXAkXzIgOiBnZXRPck51bGxfMCh0aGlzLmRlc2NyaXB0b3JzX3ZlNnN3bCRfMCwgaW5kZXgpO1xuICAgIGlmICh0bXAkXzMgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFNlcmlhbENsYXNzRGVzY0ltcGwkTWlzc2luZ0Rlc2NyaXB0b3JFeGNlcHRpb24oaW5kZXgsIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJF8zO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5pc0VsZW1lbnRPcHRpb25hbF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZmxhZ3NfazNrZmEwJF8wW2luZGV4XTtcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUuZ2V0RW50aXR5QW5ub3RhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xhc3NBbm5vdGF0aW9uc18zY2xtOXokXzA7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmdldEVsZW1lbnRBbm5vdGF0aW9uc196YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuYW5ub3RhdGlvbnNfNGppZ2EzJF8wLmdldF96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUuZ2V0RWxlbWVudE5hbWVfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVzX2doMWthaCRfMC5nZXRfemEzbHBhJChpbmRleCk7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmdldEVsZW1lbnRJbmRleF82MXpwb2UkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gKHRtcCQgPSB0aGlzLmluZGljZXNfam01dHEwJF8wLmdldF8xMXJiJChuYW1lKSkgIT0gbnVsbCA/IHRtcCQgOiAtMztcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUuZW5zdXJlRmxhZ3NDYXBhY2l0eV9xaHRyaW0kXzAgPSBmdW5jdGlvbiAoaSkge1xuICAgIGlmICh0aGlzLmZsYWdzX2sza2ZhMCRfMC5sZW5ndGggPD0gaSlcbiAgICAgIHRoaXMuZmxhZ3NfazNrZmEwJF8wID0gY29weU9mKHRoaXMuZmxhZ3NfazNrZmEwJF8wLCB0aGlzLmZsYWdzX2sza2ZhMCRfMC5sZW5ndGggKiAyIHwgMCk7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmJ1aWxkSW5kaWNlc181ODVyMmskXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIGluZGljZXMgPSBIYXNoTWFwX2luaXQoKTtcbiAgICB0bXAkID0gdGhpcy5uYW1lc19naDFrYWgkXzAuc2l6ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRtcCQ7IGkrKykge1xuICAgICAgdmFyIGtleSA9IHRoaXMubmFtZXNfZ2gxa2FoJF8wLmdldF96YTNscGEkKGkpO1xuICAgICAgaW5kaWNlcy5wdXRfeHd6YzlwJChrZXksIGkpO1xuICAgIH1cbiAgICByZXR1cm4gaW5kaWNlcztcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBTZXJpYWxDbGFzc0Rlc2NJbXBsKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWVxdWFscyh0aGlzLm5hbWUsIG90aGVyLm5hbWUpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghZXF1YWxzKGVsZW1lbnREZXNjcmlwdG9ycyh0aGlzKSwgZWxlbWVudERlc2NyaXB0b3JzKG90aGVyKSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSBoYXNoQ29kZSh0aGlzLm5hbWUpO1xuICAgIHJlc3VsdCA9ICgzMSAqIHJlc3VsdCB8IDApICsgaGFzaENvZGUoZWxlbWVudERlc2NyaXB0b3JzKHRoaXMpKSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgZnVuY3Rpb24gU2VyaWFsQ2xhc3NEZXNjSW1wbCR0b1N0cmluZyRsYW1iZGEodGhpcyRTZXJpYWxDbGFzc0Rlc2NJbXBsKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGl0LmtleSArICc6ICcgKyB0aGlzJFNlcmlhbENsYXNzRGVzY0ltcGwuZ2V0RWxlbWVudERlc2NyaXB0b3JfemEzbHBhJChpdC52YWx1ZSkubmFtZTtcbiAgICB9O1xuICB9XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBqb2luVG9TdHJpbmcodGhpcy5pbmRpY2VzX2ptNXRxMCRfMC5lbnRyaWVzLCAnLCAnLCB0aGlzLm5hbWUgKyAnKCcsICcpJywgdm9pZCAwLCB2b2lkIDAsIFNlcmlhbENsYXNzRGVzY0ltcGwkdG9TdHJpbmckbGFtYmRhKHRoaXMpKTtcbiAgfTtcbiAgZnVuY3Rpb24gU2VyaWFsQ2xhc3NEZXNjSW1wbCRNaXNzaW5nRGVzY3JpcHRvckV4Y2VwdGlvbihpbmRleCwgb3JpZ2luKSB7XG4gICAgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbi5jYWxsKHRoaXMsICdFbGVtZW50IGRlc2NyaXB0b3IgYXQgaW5kZXggJyArIGluZGV4ICsgJyBoYXMgbm90IGJlZW4gZm91bmQgaW4gJyArIG9yaWdpbik7XG4gICAgdGhpcy5uYW1lID0gJ1NlcmlhbENsYXNzRGVzY0ltcGwkTWlzc2luZ0Rlc2NyaXB0b3JFeGNlcHRpb24nO1xuICB9XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwkTWlzc2luZ0Rlc2NyaXB0b3JFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTWlzc2luZ0Rlc2NyaXB0b3JFeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbU2VyaWFsaXphdGlvbkV4Y2VwdGlvbl19O1xuICBmdW5jdGlvbiBTZXJpYWxDbGFzc0Rlc2NJbXBsJGluZGljZXMkbGFtYmRhKHRoaXMkU2VyaWFsQ2xhc3NEZXNjSW1wbCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcyRTZXJpYWxDbGFzc0Rlc2NJbXBsLmJ1aWxkSW5kaWNlc181ODVyMmskXzAoKTtcbiAgICB9O1xuICB9XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU2VyaWFsQ2xhc3NEZXNjSW1wbCcsIGludGVyZmFjZXM6IFtTZXJpYWxEZXNjcmlwdG9yXX07XG4gIHZhciBLRVlfSU5ERVg7XG4gIHZhciBWQUxVRV9JTkRFWDtcbiAgZnVuY3Rpb24gS2V5VmFsdWVTZXJpYWxpemVyKGtTZXJpYWxpemVyLCB2U2VyaWFsaXplcikge1xuICAgIHRoaXMua1NlcmlhbGl6ZXIgPSBrU2VyaWFsaXplcjtcbiAgICB0aGlzLnZTZXJpYWxpemVyID0gdlNlcmlhbGl6ZXI7XG4gIH1cbiAgS2V5VmFsdWVTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2YXIgZW5jb2Rlcl8wID0gZW5jb2Rlci5iZWdpblN0cnVjdHVyZV9yMHNhNnokKHRoaXMuZGVzY3JpcHRvciwgW3RoaXMua1NlcmlhbGl6ZXIsIHRoaXMudlNlcmlhbGl6ZXJdKTtcbiAgICBlbmNvZGVyXzAuZW5jb2RlU2VyaWFsaXphYmxlRWxlbWVudF9ibGVjdWQkKHRoaXMuZGVzY3JpcHRvciwgMCwgdGhpcy5rU2VyaWFsaXplciwgdGhpcy5nZXRfa2V5X3dpbGkkKG9iaikpO1xuICAgIGVuY29kZXJfMC5lbmNvZGVTZXJpYWxpemFibGVFbGVtZW50X2JsZWN1ZCQodGhpcy5kZXNjcmlwdG9yLCAxLCB0aGlzLnZTZXJpYWxpemVyLCB0aGlzLmdldF92YWx1ZV93aWxpJChvYmopKTtcbiAgICBlbmNvZGVyXzAuZW5kU3RydWN0dXJlX3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgfTtcbiAgS2V5VmFsdWVTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBpbnB1dCA9IGRlY29kZXIuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCh0aGlzLmRlc2NyaXB0b3IsIFt0aGlzLmtTZXJpYWxpemVyLCB0aGlzLnZTZXJpYWxpemVyXSk7XG4gICAgdmFyIGtTZXQgPSBmYWxzZTtcbiAgICB2YXIgdlNldCA9IGZhbHNlO1xuICAgIHZhciBrID0gbnVsbDtcbiAgICB2YXIgdiA9IG51bGw7XG4gICAgbWFpbkxvb3A6IHdoaWxlICh0cnVlKSB7XG4gICAgICBzd2l0Y2ggKGlucHV0LmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcikpIHtcbiAgICAgICAgY2FzZSAtMjpcbiAgICAgICAgICBrID0gdGhpcy5yZWFkS2V5X2VqNmtiNiQoaW5wdXQpO1xuICAgICAgICAgIGtTZXQgPSB0cnVlO1xuICAgICAgICAgIHYgPSB0aGlzLnJlYWRWYWx1ZV9ncXl1NyQoaW5wdXQsIGssIGtTZXQpO1xuICAgICAgICAgIHZTZXQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrIG1haW5Mb29wO1xuICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgIGJyZWFrIG1haW5Mb29wO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgayA9IHRoaXMucmVhZEtleV9lajZrYjYkKGlucHV0KTtcbiAgICAgICAgICBrU2V0ID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHYgPSB0aGlzLnJlYWRWYWx1ZV9ncXl1NyQoaW5wdXQsIGssIGtTZXQpO1xuICAgICAgICAgIHZTZXQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OnRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlucHV0LmVuZFN0cnVjdHVyZV9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gICAgaWYgKCFrU2V0KVxuICAgICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJ1JlcXVpcmVkIGtleSBpcyBtaXNzaW5nJyk7XG4gICAgaWYgKCF2U2V0KVxuICAgICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJ1JlcXVpcmVkIHZhbHVlIGlzIG1pc3NpbmcnKTtcbiAgICByZXR1cm4gdGhpcy50b1Jlc3VsdF94d3pjOXAkKCh0bXAkID0gaykgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKSwgKHRtcCRfMCA9IHYpID09IG51bGwgfHwgS290bGluLmlzVHlwZSh0bXAkXzAsIEFueSkgPyB0bXAkXzAgOiB0aHJvd0NDRSgpKTtcbiAgfTtcbiAgS2V5VmFsdWVTZXJpYWxpemVyLnByb3RvdHlwZS5yZWFkS2V5X2VqNmtiNiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfczQ0bDdyJCh0aGlzLmRlc2NyaXB0b3IsIDAsIHRoaXMua1NlcmlhbGl6ZXIpO1xuICB9O1xuICBLZXlWYWx1ZVNlcmlhbGl6ZXIucHJvdG90eXBlLnJlYWRWYWx1ZV9ncXl1NyQgPSBmdW5jdGlvbiAoZGVjb2Rlciwgaywga1NldCkge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfczQ0bDdyJCh0aGlzLmRlc2NyaXB0b3IsIDEsIHRoaXMudlNlcmlhbGl6ZXIpO1xuICB9O1xuICBLZXlWYWx1ZVNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnS2V5VmFsdWVTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIE1hcEVudHJ5U2VyaWFsaXplcihrU2VyaWFsaXplciwgdlNlcmlhbGl6ZXIpIHtcbiAgICBLZXlWYWx1ZVNlcmlhbGl6ZXIuY2FsbCh0aGlzLCBrU2VyaWFsaXplciwgdlNlcmlhbGl6ZXIpO1xuICAgIHRoaXMuZGVzY3JpcHRvcl9jbm1rNzUkXzAgPSBNYXBFbnRyeUNsYXNzRGVzY19nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBFbnRyeVNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX2NubWs3NSRfMDtcbiAgfX0pO1xuICBNYXBFbnRyeVNlcmlhbGl6ZXIucHJvdG90eXBlLnRvUmVzdWx0X3h3emM5cCQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgTWFwRW50cnkoa2V5LCB2YWx1ZSk7XG4gIH07XG4gIE1hcEVudHJ5U2VyaWFsaXplci5wcm90b3R5cGUuZ2V0X2tleV93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLmtleTtcbiAgfTtcbiAgTWFwRW50cnlTZXJpYWxpemVyLnByb3RvdHlwZS5nZXRfdmFsdWVfd2lsaSQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci52YWx1ZTtcbiAgfTtcbiAgTWFwRW50cnlTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ01hcEVudHJ5U2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLZXlWYWx1ZVNlcmlhbGl6ZXJdfTtcbiAgZnVuY3Rpb24gTWFwRW50cnkoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMua2V5X3FmNjE1aiRfMCA9IGtleTtcbiAgICB0aGlzLnZhbHVlX3gxNzc5NyRfMCA9IHZhbHVlO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBFbnRyeS5wcm90b3R5cGUsICdrZXknLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5X3FmNjE1aiRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwRW50cnkucHJvdG90eXBlLCAndmFsdWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWVfeDE3Nzk3JF8wO1xuICB9fSk7XG4gIE1hcEVudHJ5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ01hcEVudHJ5JywgaW50ZXJmYWNlczogW01hcCRFbnRyeV19O1xuICBNYXBFbnRyeS5wcm90b3R5cGUuY29tcG9uZW50MSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5rZXk7XG4gIH07XG4gIE1hcEVudHJ5LnByb3RvdHlwZS5jb21wb25lbnQyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICB9O1xuICBNYXBFbnRyeS5wcm90b3R5cGUuY29weV94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IE1hcEVudHJ5KGtleSA9PT0gdm9pZCAwID8gdGhpcy5rZXkgOiBrZXksIHZhbHVlID09PSB2b2lkIDAgPyB0aGlzLnZhbHVlIDogdmFsdWUpO1xuICB9O1xuICBNYXBFbnRyeS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdNYXBFbnRyeShrZXk9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmtleSkgKyAoJywgdmFsdWU9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnZhbHVlKSkgKyAnKSc7XG4gIH07XG4gIE1hcEVudHJ5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmtleSkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMudmFsdWUpIHwgMDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBNYXBFbnRyeS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT09IG90aGVyIHx8IChvdGhlciAhPT0gbnVsbCAmJiAodHlwZW9mIG90aGVyID09PSAnb2JqZWN0JyAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3RoZXIpICYmIChLb3RsaW4uZXF1YWxzKHRoaXMua2V5LCBvdGhlci5rZXkpICYmIEtvdGxpbi5lcXVhbHModGhpcy52YWx1ZSwgb3RoZXIudmFsdWUpKSkpKTtcbiAgfTtcbiAgZnVuY3Rpb24gTWFwRW50cnlDbGFzc0Rlc2MoKSB7XG4gICAgTWFwRW50cnlDbGFzc0Rlc2NfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFNlcmlhbENsYXNzRGVzY0ltcGwuY2FsbCh0aGlzLCAna290bGluLmNvbGxlY3Rpb25zLk1hcC5FbnRyeScpO1xuICAgIHRoaXMua2luZF82bzAya3gkXzAgPSBTdHJ1Y3R1cmVLaW5kJE1BUF9nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMuYWRkRWxlbWVudF9pdnhuM3IkKCdrZXknKTtcbiAgICB0aGlzLmFkZEVsZW1lbnRfaXZ4bjNyJCgndmFsdWUnKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwRW50cnlDbGFzc0Rlc2MucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5raW5kXzZvMDJreCRfMDtcbiAgfX0pO1xuICBNYXBFbnRyeUNsYXNzRGVzYy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTWFwRW50cnlDbGFzc0Rlc2MnLCBpbnRlcmZhY2VzOiBbU2VyaWFsQ2xhc3NEZXNjSW1wbF19O1xuICB2YXIgTWFwRW50cnlDbGFzc0Rlc2NfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBNYXBFbnRyeUNsYXNzRGVzY19nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoTWFwRW50cnlDbGFzc0Rlc2NfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBNYXBFbnRyeUNsYXNzRGVzYygpO1xuICAgIH1cbiAgICByZXR1cm4gTWFwRW50cnlDbGFzc0Rlc2NfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFBhaXJDbGFzc0Rlc2NfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBUcmlwbGVTZXJpYWxpemVyKGFTZXJpYWxpemVyLCBiU2VyaWFsaXplciwgY1NlcmlhbGl6ZXIpIHtcbiAgICB0aGlzLmFTZXJpYWxpemVyXzAgPSBhU2VyaWFsaXplcjtcbiAgICB0aGlzLmJTZXJpYWxpemVyXzAgPSBiU2VyaWFsaXplcjtcbiAgICB0aGlzLmNTZXJpYWxpemVyXzAgPSBjU2VyaWFsaXplcjtcbiAgICB0aGlzLmRlc2NyaXB0b3JfNzNhNnZyJF8wID0gVHJpcGxlU2VyaWFsaXplciRUcmlwbGVEZXNjX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgdmFyIFRyaXBsZVNlcmlhbGl6ZXIkVHJpcGxlRGVzY19pbnN0YW5jZSA9IG51bGw7XG4gIHZhciBIZXhDb252ZXJ0ZXJfaW5zdGFuY2UgPSBudWxsO1xuICB2YXIgSnNvblRyZWVQYXJzZXIkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbihjb25maWd1cmF0aW9uLCBjb250ZXh0KSB7XG4gICAgSnNvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdm9pZCAwKVxuICAgICAgY29uZmlndXJhdGlvbiA9IEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlN0YWJsZTtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKVxuICAgICAgY29udGV4dCA9IEVtcHR5TW9kdWxlX2dldEluc3RhbmNlKCk7XG4gICAgQWJzdHJhY3RTZXJpYWxGb3JtYXQuY2FsbCh0aGlzLCBwbHVzKGNvbnRleHQsIGRlZmF1bHRKc29uTW9kdWxlKSk7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uXzhiZTJ2eCQgPSBjb25maWd1cmF0aW9uO1xuICB9XG4gIEpzb24ucHJvdG90eXBlLnN0cmluZ2lmeV90ZjAzZWokID0gZnVuY3Rpb24gKHNlcmlhbGl6ZXIsIG9iaikge1xuICAgIHZhciByZXN1bHQgPSBTdHJpbmdCdWlsZGVyX2luaXRfMCgpO1xuICAgIHZhciBlbmNvZGVyID0gU3RyZWFtaW5nSnNvbk91dHB1dF9pbml0KHJlc3VsdCwgdGhpcywgV3JpdGVNb2RlJE9CSl9nZXRJbnN0YW5jZSgpLCBLb3RsaW4ubmV3QXJyYXkoV3JpdGVNb2RlJHZhbHVlcygpLmxlbmd0aCwgbnVsbCkpO1xuICAgIGVuY29kZV8wKGVuY29kZXIsIHNlcmlhbGl6ZXIsIG9iaik7XG4gICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpO1xuICB9O1xuICBKc29uLnByb3RvdHlwZS50b0pzb25fdGYwM2VqJCA9IGZ1bmN0aW9uIChzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIHJldHVybiB3cml0ZUpzb24odGhpcywgdmFsdWUsIHNlcmlhbGl6ZXIpO1xuICB9O1xuICBKc29uLnByb3RvdHlwZS50b0pzb25faXNzZGd0JCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uSnNvbi50b0pzb25faXNzZGd0JCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdldEtDbGFzcyA9IEtvdGxpbi5nZXRLQ2xhc3M7XG4gICAgdmFyIGdldENvbnRleHR1YWxPckRlZmF1bHQgPSBfLmtvdGxpbnguc2VyaWFsaXphdGlvbi5tb2R1bGVzLmdldENvbnRleHR1YWxPckRlZmF1bHRfNnphOWt0JDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKFRfMCwgaXNULCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9Kc29uX3RmMDNlaiQoZ2V0Q29udGV4dHVhbE9yRGVmYXVsdCh0aGlzLmNvbnRleHQsIGdldEtDbGFzcyhUXzApKSwgdmFsdWUpO1xuICAgIH07XG4gIH0pKTtcbiAgSnNvbi5wcm90b3R5cGUucGFyc2VfYXdpZjV2JCA9IGZ1bmN0aW9uIChkZXNlcmlhbGl6ZXIsIHN0cmluZykge1xuICAgIHZhciByZWFkZXIgPSBuZXcgSnNvblJlYWRlcihzdHJpbmcpO1xuICAgIHZhciBpbnB1dCA9IG5ldyBTdHJlYW1pbmdKc29uSW5wdXQodGhpcywgV3JpdGVNb2RlJE9CSl9nZXRJbnN0YW5jZSgpLCByZWFkZXIpO1xuICAgIHZhciByZXN1bHQgPSBkZWNvZGVfMChpbnB1dCwgZGVzZXJpYWxpemVyKTtcbiAgICBpZiAoIXJlYWRlci5pc0RvbmUpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KCgnUmVhZGVyIGhhcyBub3QgY29uc3VtZWQgdGhlIHdob2xlIGlucHV0OiAnICsgcmVhZGVyKS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgSnNvbi5wcm90b3R5cGUucGFyc2VKc29uXzYxenBvZSQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyc2VfYXdpZjV2JChKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSwgc3RyaW5nKTtcbiAgfTtcbiAgSnNvbi5wcm90b3R5cGUuZnJvbUpzb25faHR0MnRxJCA9IGZ1bmN0aW9uIChkZXNlcmlhbGl6ZXIsIGpzb24pIHtcbiAgICByZXR1cm4gcmVhZEpzb24odGhpcywganNvbiwgZGVzZXJpYWxpemVyKTtcbiAgfTtcbiAgSnNvbi5wcm90b3R5cGUuZnJvbUpzb25fNjVyZjF5JCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uSnNvbi5mcm9tSnNvbl82NXJmMXkkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZ2V0S0NsYXNzID0gS290bGluLmdldEtDbGFzcztcbiAgICB2YXIgZ2V0Q29udGV4dHVhbE9yRGVmYXVsdCA9IF8ua290bGlueC5zZXJpYWxpemF0aW9uLm1vZHVsZXMuZ2V0Q29udGV4dHVhbE9yRGVmYXVsdF82emE5a3QkO1xuICAgIHJldHVybiBmdW5jdGlvbiAoVF8wLCBpc1QsIHRyZWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZyb21Kc29uX2h0dDJ0cSQoZ2V0Q29udGV4dHVhbE9yRGVmYXVsdCh0aGlzLmNvbnRleHQsIGdldEtDbGFzcyhUXzApKSwgdHJlZSk7XG4gICAgfTtcbiAgfSkpO1xuICBmdW5jdGlvbiBKc29uJENvbXBhbmlvbigpIHtcbiAgICBKc29uJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5wbGFpbiA9IG5ldyBKc29uKG5ldyBKc29uQ29uZmlndXJhdGlvbih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB0cnVlKSk7XG4gICAgdGhpcy51bnF1b3RlZCA9IG5ldyBKc29uKG5ldyBKc29uQ29uZmlndXJhdGlvbih2b2lkIDAsIHZvaWQgMCwgdHJ1ZSwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgdHJ1ZSkpO1xuICAgIHRoaXMuaW5kZW50ZWQgPSBuZXcgSnNvbihuZXcgSnNvbkNvbmZpZ3VyYXRpb24odm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB0cnVlLCB2b2lkIDAsIHRydWUpKTtcbiAgICB0aGlzLm5vbnN0cmljdCA9IG5ldyBKc29uKG5ldyBKc29uQ29uZmlndXJhdGlvbih2b2lkIDAsIGZhbHNlLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHRydWUpKTtcbiAgfVxuICBKc29uJENvbXBhbmlvbi5wcm90b3R5cGUuaW5zdGFsbF9zdHB5dTQkID0gZnVuY3Rpb24gKG1vZHVsZV8wKSB7XG4gICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQoJ1lvdSBzaG91bGQgbm90IGluc3RhbGwgYW55dGhpbmcgdG8gZ2xvYmFsIGluc3RhbmNlJyk7XG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uJENvbXBhbmlvbi5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnBsYWluLmNvbnRleHQ7XG4gIH19KTtcbiAgSnNvbiRDb21wYW5pb24ucHJvdG90eXBlLnN0cmluZ2lmeV90ZjAzZWokID0gZnVuY3Rpb24gKHNlcmlhbGl6ZXIsIG9iaikge1xuICAgIHJldHVybiB0aGlzLnBsYWluLnN0cmluZ2lmeV90ZjAzZWokKHNlcmlhbGl6ZXIsIG9iaik7XG4gIH07XG4gIEpzb24kQ29tcGFuaW9uLnByb3RvdHlwZS5wYXJzZV9hd2lmNXYkID0gZnVuY3Rpb24gKGRlc2VyaWFsaXplciwgc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMucGxhaW4ucGFyc2VfYXdpZjV2JChkZXNlcmlhbGl6ZXIsIHN0cmluZyk7XG4gIH07XG4gIEpzb24kQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbU3RyaW5nRm9ybWF0XX07XG4gIHZhciBKc29uJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb24kQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBKc29uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb24nLCBpbnRlcmZhY2VzOiBbU3RyaW5nRm9ybWF0LCBBYnN0cmFjdFNlcmlhbEZvcm1hdF19O1xuICB2YXIgZGVmYXVsdEpzb25Nb2R1bGU7XG4gIGZ1bmN0aW9uIEpzb25Db25maWd1cmF0aW9uKGVuY29kZURlZmF1bHRzLCBzdHJpY3RNb2RlLCB1bnF1b3RlZCwgYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5cywgcHJldHR5UHJpbnQsIGluZGVudCwgdXNlQXJyYXlQb2x5bW9ycGhpc20sIGNsYXNzRGlzY3JpbWluYXRvciwgdXBkYXRlTW9kZSkge1xuICAgIEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChlbmNvZGVEZWZhdWx0cyA9PT0gdm9pZCAwKVxuICAgICAgZW5jb2RlRGVmYXVsdHMgPSB0cnVlO1xuICAgIGlmIChzdHJpY3RNb2RlID09PSB2b2lkIDApXG4gICAgICBzdHJpY3RNb2RlID0gdHJ1ZTtcbiAgICBpZiAodW5xdW90ZWQgPT09IHZvaWQgMClcbiAgICAgIHVucXVvdGVkID0gZmFsc2U7XG4gICAgaWYgKGFsbG93U3RydWN0dXJlZE1hcEtleXMgPT09IHZvaWQgMClcbiAgICAgIGFsbG93U3RydWN0dXJlZE1hcEtleXMgPSBmYWxzZTtcbiAgICBpZiAocHJldHR5UHJpbnQgPT09IHZvaWQgMClcbiAgICAgIHByZXR0eVByaW50ID0gZmFsc2U7XG4gICAgaWYgKGluZGVudCA9PT0gdm9pZCAwKVxuICAgICAgaW5kZW50ID0gSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZGVmYXVsdEluZGVudF8wO1xuICAgIGlmICh1c2VBcnJheVBvbHltb3JwaGlzbSA9PT0gdm9pZCAwKVxuICAgICAgdXNlQXJyYXlQb2x5bW9ycGhpc20gPSBmYWxzZTtcbiAgICBpZiAoY2xhc3NEaXNjcmltaW5hdG9yID09PSB2b2lkIDApXG4gICAgICBjbGFzc0Rpc2NyaW1pbmF0b3IgPSBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5kZWZhdWx0RGlzY3JpbWluYXRvcl8wO1xuICAgIGlmICh1cGRhdGVNb2RlID09PSB2b2lkIDApXG4gICAgICB1cGRhdGVNb2RlID0gVXBkYXRlTW9kZSRPVkVSV1JJVEVfZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLmVuY29kZURlZmF1bHRzXzhiZTJ2eCQgPSBlbmNvZGVEZWZhdWx0cztcbiAgICB0aGlzLnN0cmljdE1vZGVfOGJlMnZ4JCA9IHN0cmljdE1vZGU7XG4gICAgdGhpcy51bnF1b3RlZF84YmUydngkID0gdW5xdW90ZWQ7XG4gICAgdGhpcy5hbGxvd1N0cnVjdHVyZWRNYXBLZXlzXzhiZTJ2eCQgPSBhbGxvd1N0cnVjdHVyZWRNYXBLZXlzO1xuICAgIHRoaXMucHJldHR5UHJpbnRfOGJlMnZ4JCA9IHByZXR0eVByaW50O1xuICAgIHRoaXMuaW5kZW50XzhiZTJ2eCQgPSBpbmRlbnQ7XG4gICAgdGhpcy51c2VBcnJheVBvbHltb3JwaGlzbV84YmUydngkID0gdXNlQXJyYXlQb2x5bW9ycGhpc207XG4gICAgdGhpcy5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JCA9IGNsYXNzRGlzY3JpbWluYXRvcjtcbiAgICB0aGlzLnVwZGF0ZU1vZGVfOGJlMnZ4JCA9IHVwZGF0ZU1vZGU7XG4gICAgaWYgKHRoaXMudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JCkge1xuICAgICAgaWYgKCFlcXVhbHModGhpcy5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JCwgSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZGVmYXVsdERpc2NyaW1pbmF0b3JfMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2xhc3MgZGlzY3JpbWluYXRvciBzaG91bGQgbm90IGJlIHNwZWNpZmllZCB3aGVuIGFycmF5IHBvbHltb3JwaGlzbSBpcyBzcGVjaWZpZWQnO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMucHJldHR5UHJpbnRfOGJlMnZ4JCkge1xuICAgICAgaWYgKCFlcXVhbHModGhpcy5pbmRlbnRfOGJlMnZ4JCwgSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZGVmYXVsdEluZGVudF8wKSkge1xuICAgICAgICB2YXIgbWVzc2FnZV8wID0gJ0luZGVudCBzaG91bGQgbm90IGJlIHNwZWNpZmllZCB3aGVuIGRlZmF1bHQgcHJpbnRpbmcgbW9kZSBpcyB1c2VkJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobWVzc2FnZV8wLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb24oKSB7XG4gICAgSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlZmF1bHRJbmRlbnRfMCA9ICcgICAgJztcbiAgICB0aGlzLmRlZmF1bHREaXNjcmltaW5hdG9yXzAgPSAndHlwZSc7XG4gICAgdGhpcy5EZWZhdWx0ID0gbmV3IEpzb25Db25maWd1cmF0aW9uKCk7XG4gICAgdGhpcy5TdGFibGUgPSBuZXcgSnNvbkNvbmZpZ3VyYXRpb24odHJ1ZSwgdHJ1ZSwgZmFsc2UsIHRydWUsIGZhbHNlLCB0aGlzLmRlZmF1bHRJbmRlbnRfMCwgZmFsc2UsIHRoaXMuZGVmYXVsdERpc2NyaW1pbmF0b3JfMCk7XG4gIH1cbiAgSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2luc3RhbmNlO1xuICB9XG4gIEpzb25Db25maWd1cmF0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25Db25maWd1cmF0aW9uJywgaW50ZXJmYWNlczogW119O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29tcG9uZW50MV84YmUydngkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVuY29kZURlZmF1bHRzXzhiZTJ2eCQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnQyXzhiZTJ2eCQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaWN0TW9kZV84YmUydngkO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29tcG9uZW50M184YmUydngkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVucXVvdGVkXzhiZTJ2eCQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnQ0XzhiZTJ2eCQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29tcG9uZW50NV84YmUydngkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnByZXR0eVByaW50XzhiZTJ2eCQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnQ2XzhiZTJ2eCQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5kZW50XzhiZTJ2eCQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnQ3XzhiZTJ2eCQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JDtcbiAgfTtcbiAgSnNvbkNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudDhfOGJlMnZ4JCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JDtcbiAgfTtcbiAgSnNvbkNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudDlfOGJlMnZ4JCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVNb2RlXzhiZTJ2eCQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jb3B5X3U1bDV6MyQgPSBmdW5jdGlvbiAoZW5jb2RlRGVmYXVsdHMsIHN0cmljdE1vZGUsIHVucXVvdGVkLCBhbGxvd1N0cnVjdHVyZWRNYXBLZXlzLCBwcmV0dHlQcmludCwgaW5kZW50LCB1c2VBcnJheVBvbHltb3JwaGlzbSwgY2xhc3NEaXNjcmltaW5hdG9yLCB1cGRhdGVNb2RlKSB7XG4gICAgcmV0dXJuIG5ldyBKc29uQ29uZmlndXJhdGlvbihlbmNvZGVEZWZhdWx0cyA9PT0gdm9pZCAwID8gdGhpcy5lbmNvZGVEZWZhdWx0c184YmUydngkIDogZW5jb2RlRGVmYXVsdHMsIHN0cmljdE1vZGUgPT09IHZvaWQgMCA/IHRoaXMuc3RyaWN0TW9kZV84YmUydngkIDogc3RyaWN0TW9kZSwgdW5xdW90ZWQgPT09IHZvaWQgMCA/IHRoaXMudW5xdW90ZWRfOGJlMnZ4JCA6IHVucXVvdGVkLCBhbGxvd1N0cnVjdHVyZWRNYXBLZXlzID09PSB2b2lkIDAgPyB0aGlzLmFsbG93U3RydWN0dXJlZE1hcEtleXNfOGJlMnZ4JCA6IGFsbG93U3RydWN0dXJlZE1hcEtleXMsIHByZXR0eVByaW50ID09PSB2b2lkIDAgPyB0aGlzLnByZXR0eVByaW50XzhiZTJ2eCQgOiBwcmV0dHlQcmludCwgaW5kZW50ID09PSB2b2lkIDAgPyB0aGlzLmluZGVudF84YmUydngkIDogaW5kZW50LCB1c2VBcnJheVBvbHltb3JwaGlzbSA9PT0gdm9pZCAwID8gdGhpcy51c2VBcnJheVBvbHltb3JwaGlzbV84YmUydngkIDogdXNlQXJyYXlQb2x5bW9ycGhpc20sIGNsYXNzRGlzY3JpbWluYXRvciA9PT0gdm9pZCAwID8gdGhpcy5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JCA6IGNsYXNzRGlzY3JpbWluYXRvciwgdXBkYXRlTW9kZSA9PT0gdm9pZCAwID8gdGhpcy51cGRhdGVNb2RlXzhiZTJ2eCQgOiB1cGRhdGVNb2RlKTtcbiAgfTtcbiAgSnNvbkNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnSnNvbkNvbmZpZ3VyYXRpb24oZW5jb2RlRGVmYXVsdHM9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmVuY29kZURlZmF1bHRzXzhiZTJ2eCQpICsgKCcsIHN0cmljdE1vZGU9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnN0cmljdE1vZGVfOGJlMnZ4JCkpICsgKCcsIHVucXVvdGVkPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy51bnF1b3RlZF84YmUydngkKSkgKyAoJywgYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5cz0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkKSkgKyAoJywgcHJldHR5UHJpbnQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnByZXR0eVByaW50XzhiZTJ2eCQpKSArICgnLCBpbmRlbnQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmluZGVudF84YmUydngkKSkgKyAoJywgdXNlQXJyYXlQb2x5bW9ycGhpc209JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQpKSArICgnLCBjbGFzc0Rpc2NyaW1pbmF0b3I9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmNsYXNzRGlzY3JpbWluYXRvcl84YmUydngkKSkgKyAoJywgdXBkYXRlTW9kZT0nICsgS290bGluLnRvU3RyaW5nKHRoaXMudXBkYXRlTW9kZV84YmUydngkKSkgKyAnKSc7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmVuY29kZURlZmF1bHRzXzhiZTJ2eCQpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnN0cmljdE1vZGVfOGJlMnZ4JCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMudW5xdW90ZWRfOGJlMnZ4JCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy5wcmV0dHlQcmludF84YmUydngkKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy5pbmRlbnRfOGJlMnZ4JCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnVwZGF0ZU1vZGVfOGJlMnZ4JCkgfCAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PT0gb3RoZXIgfHwgKG90aGVyICE9PSBudWxsICYmICh0eXBlb2Ygb3RoZXIgPT09ICdvYmplY3QnICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihvdGhlcikgJiYgKEtvdGxpbi5lcXVhbHModGhpcy5lbmNvZGVEZWZhdWx0c184YmUydngkLCBvdGhlci5lbmNvZGVEZWZhdWx0c184YmUydngkKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuc3RyaWN0TW9kZV84YmUydngkLCBvdGhlci5zdHJpY3RNb2RlXzhiZTJ2eCQpICYmIEtvdGxpbi5lcXVhbHModGhpcy51bnF1b3RlZF84YmUydngkLCBvdGhlci51bnF1b3RlZF84YmUydngkKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkLCBvdGhlci5hbGxvd1N0cnVjdHVyZWRNYXBLZXlzXzhiZTJ2eCQpICYmIEtvdGxpbi5lcXVhbHModGhpcy5wcmV0dHlQcmludF84YmUydngkLCBvdGhlci5wcmV0dHlQcmludF84YmUydngkKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuaW5kZW50XzhiZTJ2eCQsIG90aGVyLmluZGVudF84YmUydngkKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JCwgb3RoZXIudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JCkgJiYgS290bGluLmVxdWFscyh0aGlzLmNsYXNzRGlzY3JpbWluYXRvcl84YmUydngkLCBvdGhlci5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JCkgJiYgS290bGluLmVxdWFscyh0aGlzLnVwZGF0ZU1vZGVfOGJlMnZ4JCwgb3RoZXIudXBkYXRlTW9kZV84YmUydngkKSkpKSk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25FbGVtZW50KCkge1xuICAgIEpzb25FbGVtZW50JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uRWxlbWVudC5wcm90b3R5cGUsICdwcmltaXRpdmUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfYXpmeWFuJF8wKCdKc29uTGl0ZXJhbCcpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uRWxlbWVudC5wcm90b3R5cGUsICdqc29uT2JqZWN0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVycm9yX2F6ZnlhbiRfMCgnSnNvbk9iamVjdCcpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uRWxlbWVudC5wcm90b3R5cGUsICdqc29uQXJyYXknLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfYXpmeWFuJF8wKCdKc29uQXJyYXknKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkVsZW1lbnQucHJvdG90eXBlLCAnanNvbk51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfYXpmeWFuJF8wKCdKc29uUHJpbWl0aXZlJyk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25FbGVtZW50LnByb3RvdHlwZSwgJ2lzTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcyA9PT0gSnNvbk51bGxfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBKc29uRWxlbWVudC5wcm90b3R5cGUuZXJyb3JfYXpmeWFuJF8wID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgSnNvbkV4Y2VwdGlvbignRWxlbWVudCAnICsgS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKHRoaXMpLnRvU3RyaW5nKCkgKyAnIGlzIG5vdCBhICcgKyBlbGVtZW50KTtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvbkVsZW1lbnQkQ29tcGFuaW9uKCkge1xuICAgIEpzb25FbGVtZW50JENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgSnNvbkVsZW1lbnQkQ29tcGFuaW9uLnByb3RvdHlwZS5zZXJpYWxpemVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgfTtcbiAgSnNvbkVsZW1lbnQkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBKc29uRWxlbWVudCRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uRWxlbWVudCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25FbGVtZW50JENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25FbGVtZW50JENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkVsZW1lbnQkQ29tcGFuaW9uX2luc3RhbmNlO1xuICB9XG4gIEpzb25FbGVtZW50LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25FbGVtZW50JywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlKCkge1xuICAgIEpzb25QcmltaXRpdmUkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgSnNvbkVsZW1lbnQuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnByaW1pdGl2ZV9hd2ZwZTUkXzAgPSB0aGlzO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUHJpbWl0aXZlLnByb3RvdHlwZSwgJ3ByaW1pdGl2ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcmltaXRpdmVfYXdmcGU1JF8wO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUHJpbWl0aXZlLnByb3RvdHlwZSwgJ2ludCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9JbnQodGhpcy5jb250ZW50KTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdpbnRPck51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvSW50T3JOdWxsKHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnbG9uZycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Mb25nKHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnbG9uZ09yTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Mb25nT3JOdWxsKHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnZG91YmxlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0RvdWJsZSh0aGlzLmNvbnRlbnQpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUHJpbWl0aXZlLnByb3RvdHlwZSwgJ2RvdWJsZU9yTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Eb3VibGVPck51bGwodGhpcy5jb250ZW50KTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdmbG9hdCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Eb3VibGUodGhpcy5jb250ZW50KTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdmbG9hdE9yTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Eb3VibGVPck51bGwodGhpcy5jb250ZW50KTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdib29sZWFuJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0Jvb2xlYW5TdHJpY3QodGhpcy5jb250ZW50KTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdib29sZWFuT3JOdWxsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0Jvb2xlYW5TdHJpY3RPck51bGwodGhpcy5jb250ZW50KTtcbiAgfX0pO1xuICBKc29uUHJpbWl0aXZlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50O1xuICB9O1xuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlJENvbXBhbmlvbigpIHtcbiAgICBKc29uUHJpbWl0aXZlJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgSnNvblByaW1pdGl2ZSRDb21wYW5pb24ucHJvdG90eXBlLnNlcmlhbGl6ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpzb25QcmltaXRpdmVTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gIH07XG4gIEpzb25QcmltaXRpdmUkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBKc29uUHJpbWl0aXZlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25QcmltaXRpdmUkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uUHJpbWl0aXZlJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25QcmltaXRpdmUkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uUHJpbWl0aXZlJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBKc29uUHJpbWl0aXZlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25QcmltaXRpdmUnLCBpbnRlcmZhY2VzOiBbSnNvbkVsZW1lbnRdfTtcbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWwoYm9keSwgaXNTdHJpbmcpIHtcbiAgICBKc29uTGl0ZXJhbCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICBKc29uUHJpbWl0aXZlLmNhbGwodGhpcyk7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB0aGlzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgdGhpcy5jb250ZW50X3Bycmp0eiRfMCA9IHRoaXMuYm9keS50b1N0cmluZygpO1xuICAgIHRoaXMuY29udGVudE9yTnVsbF9teDg2Z2YkXzAgPSB0aGlzLmNvbnRlbnQ7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25MaXRlcmFsLnByb3RvdHlwZSwgJ2NvbnRlbnQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudF9wcnJqdHokXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25MaXRlcmFsLnByb3RvdHlwZSwgJ2NvbnRlbnRPck51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudE9yTnVsbF9teDg2Z2YkXzA7XG4gIH19KTtcbiAgSnNvbkxpdGVyYWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIGlmICh0aGlzLmlzU3RyaW5nKSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gU3RyaW5nQnVpbGRlcl9pbml0XzAoKTtcbiAgICAgIHByaW50UXVvdGVkKCRyZWNlaXZlciwgdGhpcy5jb250ZW50KTtcbiAgICAgIHRtcCQgPSAkcmVjZWl2ZXIudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgIGVsc2VcbiAgICAgIHRtcCQgPSB0aGlzLmNvbnRlbnQ7XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIEpzb25MaXRlcmFsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIGlmICh0aGlzID09PSBvdGhlcilcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChvdGhlciA9PSBudWxsIHx8ICEoKHRtcCQgPSBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odGhpcykpICE9IG51bGwgPyB0bXAkLmVxdWFscyhLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24ob3RoZXIpKSA6IG51bGwpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIEtvdGxpbi5pc1R5cGUodG1wJF8wID0gb3RoZXIsIEpzb25MaXRlcmFsKSA/IHRtcCRfMCA6IHRocm93Q0NFKCk7XG4gICAgaWYgKHRoaXMuaXNTdHJpbmcgIT09IG90aGVyLmlzU3RyaW5nKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghZXF1YWxzKHRoaXMuY29udGVudCwgb3RoZXIuY29udGVudCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIEpzb25MaXRlcmFsLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gaGFzaENvZGUodGhpcy5pc1N0cmluZyk7XG4gICAgcmVzdWx0ID0gKDMxICogcmVzdWx0IHwgMCkgKyBoYXNoQ29kZSh0aGlzLmNvbnRlbnQpIHwgMDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBmdW5jdGlvbiBKc29uTGl0ZXJhbCRDb21wYW5pb24oKSB7XG4gICAgSnNvbkxpdGVyYWwkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgfVxuICBKc29uTGl0ZXJhbCRDb21wYW5pb24ucHJvdG90eXBlLnNlcmlhbGl6ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpzb25MaXRlcmFsU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICB9O1xuICBKc29uTGl0ZXJhbCRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIEpzb25MaXRlcmFsJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25MaXRlcmFsJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbkxpdGVyYWwkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbkxpdGVyYWwkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uTGl0ZXJhbCRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgSnNvbkxpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvbkxpdGVyYWwnLCBpbnRlcmZhY2VzOiBbSnNvblByaW1pdGl2ZV19O1xuICBmdW5jdGlvbiBKc29uTGl0ZXJhbF9pbml0KG51bWJlciwgJHRoaXMpIHtcbiAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSnNvbkxpdGVyYWwucHJvdG90eXBlKTtcbiAgICBKc29uTGl0ZXJhbC5jYWxsKCR0aGlzLCBudW1iZXIsIGZhbHNlKTtcbiAgICByZXR1cm4gJHRoaXM7XG4gIH1cbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWxfaW5pdF8wKGJvb2xlYW4sICR0aGlzKSB7XG4gICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEpzb25MaXRlcmFsLnByb3RvdHlwZSk7XG4gICAgSnNvbkxpdGVyYWwuY2FsbCgkdGhpcywgYm9vbGVhbiwgZmFsc2UpO1xuICAgIHJldHVybiAkdGhpcztcbiAgfVxuICBmdW5jdGlvbiBKc29uTGl0ZXJhbF9pbml0XzEoc3RyaW5nLCAkdGhpcykge1xuICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShKc29uTGl0ZXJhbC5wcm90b3R5cGUpO1xuICAgIEpzb25MaXRlcmFsLmNhbGwoJHRoaXMsIHN0cmluZywgdHJ1ZSk7XG4gICAgcmV0dXJuICR0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25OdWxsKCkge1xuICAgIEpzb25OdWxsX2luc3RhbmNlID0gdGhpcztcbiAgICBKc29uUHJpbWl0aXZlLmNhbGwodGhpcyk7XG4gICAgdGhpcy5qc29uTnVsbF9jOHlqaWIkXzAgPSB0aGlzO1xuICAgIHRoaXMuY29udGVudF93MXZrb2YkXzAgPSAnbnVsbCc7XG4gICAgdGhpcy5jb250ZW50T3JOdWxsX2VndmN1ZCRfMCA9IG51bGw7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25OdWxsLnByb3RvdHlwZSwgJ2pzb25OdWxsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmpzb25OdWxsX2M4eWppYiRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk51bGwucHJvdG90eXBlLCAnY29udGVudCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50X3cxdmtvZiRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk51bGwucHJvdG90eXBlLCAnY29udGVudE9yTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50T3JOdWxsX2VndmN1ZCRfMDtcbiAgfX0pO1xuICBKc29uTnVsbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSnNvbk51bGwnLCBpbnRlcmZhY2VzOiBbSnNvblByaW1pdGl2ZV19O1xuICB2YXIgSnNvbk51bGxfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uTnVsbF9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbk51bGxfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uTnVsbCgpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbk51bGxfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gSnNvbk9iamVjdChjb250ZW50KSB7XG4gICAgSnNvbk9iamVjdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICBKc29uRWxlbWVudC5jYWxsKHRoaXMpO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5qc29uT2JqZWN0X2pzNHlybiRfMCA9IHRoaXM7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25PYmplY3QucHJvdG90eXBlLCAnanNvbk9iamVjdCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5qc29uT2JqZWN0X2pzNHlybiRfMDtcbiAgfX0pO1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5nZXRQcmltaXRpdmVfNjF6cG9lJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHJldHVybiAodG1wJF8wID0gS290bGluLmlzVHlwZSh0bXAkID0gZ2V0VmFsdWUodGhpcywga2V5KSwgSnNvblByaW1pdGl2ZSkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IHVuZXhwZWN0ZWRKc29uKGtleSwgJ0pzb25QcmltaXRpdmUnKTtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0T2JqZWN0XzYxenBvZSQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IGdldFZhbHVlKHRoaXMsIGtleSksIEpzb25PYmplY3QpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB1bmV4cGVjdGVkSnNvbihrZXksICdKc29uT2JqZWN0Jyk7XG4gIH07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmdldEFycmF5XzYxenBvZSQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IGdldFZhbHVlKHRoaXMsIGtleSksIEpzb25BcnJheSkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IHVuZXhwZWN0ZWRKc29uKGtleSwgJ0pzb25BcnJheScpO1xuICB9O1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5nZXRQcmltaXRpdmVPck51bGxfNjF6cG9lJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5jb250ZW50LmdldF8xMXJiJChrZXkpLCBKc29uUHJpbWl0aXZlKSA/IHRtcCQgOiBudWxsO1xuICB9O1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5nZXRPYmplY3RPck51bGxfNjF6cG9lJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5jb250ZW50LmdldF8xMXJiJChrZXkpLCBKc29uT2JqZWN0KSA/IHRtcCQgOiBudWxsO1xuICB9O1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5nZXRBcnJheU9yTnVsbF82MXpwb2UkID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLmNvbnRlbnQuZ2V0XzExcmIkKGtleSksIEpzb25BcnJheSkgPyB0bXAkIDogbnVsbDtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0QXNfajA2OXAzJCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uSnNvbk9iamVjdC5nZXRBc19qMDY5cDMkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZ2V0S0NsYXNzID0gS290bGluLmdldEtDbGFzcztcbiAgICB2YXIgdW5leHBlY3RlZEpzb24gPSBfLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLnVuZXhwZWN0ZWRKc29uX3B1ajdmNCQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChKXzAsIGlzSiwga2V5KSB7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgICAgcmV0dXJuICh0bXAkXzAgPSBpc0oodG1wJCA9IHRoaXMuZ2V0XzExcmIkKGtleSkpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB1bmV4cGVjdGVkSnNvbihrZXksIGdldEtDbGFzcyhKXzApLnRvU3RyaW5nKCkpO1xuICAgIH07XG4gIH0pKTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0QXNPck51bGxfajA2OXAzJCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uSnNvbk9iamVjdC5nZXRBc09yTnVsbF9qMDY5cDMkJywgZnVuY3Rpb24gKEpfMCwgaXNKLCBrZXkpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gaXNKKHRtcCQgPSB0aGlzLmNvbnRlbnQuZ2V0XzExcmIkKGtleSkpID8gdG1wJCA6IG51bGw7XG4gIH0pO1xuICBmdW5jdGlvbiBKc29uT2JqZWN0JHRvU3RyaW5nJGxhbWJkYShmKSB7XG4gICAgdmFyIGsgPSBmLmtleTtcbiAgICB2YXIgdiA9IGYudmFsdWU7XG4gICAgcmV0dXJuICdcIicgKyBrICsgJ1wiJyArICc6JyArIHY7XG4gIH1cbiAgSnNvbk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGpvaW5Ub1N0cmluZyh0aGlzLmNvbnRlbnQuZW50cmllcywgJywnLCAneycsICd9Jywgdm9pZCAwLCB2b2lkIDAsIEpzb25PYmplY3QkdG9TdHJpbmckbGFtYmRhKTtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIGVxdWFscyh0aGlzLmNvbnRlbnQsIG90aGVyKTtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGhhc2hDb2RlKHRoaXMuY29udGVudCk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25PYmplY3QkQ29tcGFuaW9uKCkge1xuICAgIEpzb25PYmplY3QkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgfVxuICBKc29uT2JqZWN0JENvbXBhbmlvbi5wcm90b3R5cGUuc2VyaWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSnNvbk9iamVjdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgfTtcbiAgSnNvbk9iamVjdCRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIEpzb25PYmplY3QkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbk9iamVjdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25PYmplY3QkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbk9iamVjdCRDb21wYW5pb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25PYmplY3QkQ29tcGFuaW9uX2luc3RhbmNlO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uT2JqZWN0LnByb3RvdHlwZSwgJ2VudHJpZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5lbnRyaWVzO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uT2JqZWN0LnByb3RvdHlwZSwgJ2tleXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5rZXlzO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uT2JqZWN0LnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5zaXplO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uT2JqZWN0LnByb3RvdHlwZSwgJ3ZhbHVlcycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LnZhbHVlcztcbiAgfX0pO1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5jb250YWluc0tleV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmNvbnRhaW5zS2V5XzExcmIkKGtleSk7XG4gIH07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmNvbnRhaW5zVmFsdWVfMTFyYyQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmNvbnRhaW5zVmFsdWVfMTFyYyQodmFsdWUpO1xuICB9O1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5nZXRfMTFyYiQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5nZXRfMTFyYiQoa2V5KTtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmlzRW1wdHkoKTtcbiAgfTtcbiAgSnNvbk9iamVjdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uT2JqZWN0JywgaW50ZXJmYWNlczogW01hcCwgSnNvbkVsZW1lbnRdfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuY29tcG9uZW50MSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50O1xuICB9O1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5jb3B5X2ZuZDkxOCQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgIHJldHVybiBuZXcgSnNvbk9iamVjdChjb250ZW50ID09PSB2b2lkIDAgPyB0aGlzLmNvbnRlbnQgOiBjb250ZW50KTtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvbkFycmF5KGNvbnRlbnQpIHtcbiAgICBKc29uQXJyYXkkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgSnNvbkVsZW1lbnQuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIHRoaXMuanNvbkFycmF5X3UxZ3NydCRfMCA9IHRoaXM7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25BcnJheS5wcm90b3R5cGUsICdqc29uQXJyYXknLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbkFycmF5X3UxZ3NydCRfMDtcbiAgfX0pO1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldFByaW1pdGl2ZV96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuY29udGVudC5nZXRfemEzbHBhJChpbmRleCksIEpzb25QcmltaXRpdmUpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB1bmV4cGVjdGVkSnNvbignYXQgJyArIGluZGV4LCAnSnNvblByaW1pdGl2ZScpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldE9iamVjdF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuY29udGVudC5nZXRfemEzbHBhJChpbmRleCksIEpzb25PYmplY3QpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB1bmV4cGVjdGVkSnNvbignYXQgJyArIGluZGV4LCAnSnNvbk9iamVjdCcpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldEFycmF5X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHJldHVybiAodG1wJF8wID0gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5jb250ZW50LmdldF96YTNscGEkKGluZGV4KSwgSnNvbkFycmF5KSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogdW5leHBlY3RlZEpzb24oJ2F0ICcgKyBpbmRleCwgJ0pzb25BcnJheScpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldFByaW1pdGl2ZU9yTnVsbF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IGdldE9yTnVsbF8wKHRoaXMuY29udGVudCwgaW5kZXgpLCBKc29uUHJpbWl0aXZlKSA/IHRtcCQgOiBudWxsO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldE9iamVjdE9yTnVsbF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IGdldE9yTnVsbF8wKHRoaXMuY29udGVudCwgaW5kZXgpLCBKc29uT2JqZWN0KSA/IHRtcCQgOiBudWxsO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldEFycmF5T3JOdWxsX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkID0gZ2V0T3JOdWxsXzAodGhpcy5jb250ZW50LCBpbmRleCksIEpzb25BcnJheSkgPyB0bXAkIDogbnVsbDtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRBc19uODZxNSQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLkpzb25BcnJheS5nZXRBc19uODZxNSQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZXRLQ2xhc3MgPSBLb3RsaW4uZ2V0S0NsYXNzO1xuICAgIHZhciB1bmV4cGVjdGVkSnNvbiA9IF8ua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24udW5leHBlY3RlZEpzb25fcHVqN2Y0JDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKEpfMCwgaXNKLCBpbmRleCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIHJldHVybiAodG1wJF8wID0gaXNKKHRtcCQgPSB0aGlzLmNvbnRlbnQuZ2V0X3phM2xwYSQoaW5kZXgpKSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogdW5leHBlY3RlZEpzb24oJ2F0ICcgKyBpbmRleCwgZ2V0S0NsYXNzKEpfMCkudG9TdHJpbmcoKSk7XG4gICAgfTtcbiAgfSkpO1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldEFzT3JOdWxsX244NnE1JCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uSnNvbkFycmF5LmdldEFzT3JOdWxsX244NnE1JCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdldE9yTnVsbCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuZ2V0T3JOdWxsX3l6bG4ybyQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChKXzAsIGlzSiwgaW5kZXgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgcmV0dXJuIGlzSih0bXAkID0gZ2V0T3JOdWxsKHRoaXMuY29udGVudCwgaW5kZXgpKSA/IHRtcCQgOiBudWxsO1xuICAgIH07XG4gIH0pKTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gam9pblRvU3RyaW5nKHRoaXMuY29udGVudCwgJywnLCAnWycsICddJyk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIGVxdWFscyh0aGlzLmNvbnRlbnQsIG90aGVyKTtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaGFzaENvZGUodGhpcy5jb250ZW50KTtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvbkFycmF5JENvbXBhbmlvbigpIHtcbiAgICBKc29uQXJyYXkkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgfVxuICBKc29uQXJyYXkkQ29tcGFuaW9uLnByb3RvdHlwZS5zZXJpYWxpemVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBKc29uQXJyYXlTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gIH07XG4gIEpzb25BcnJheSRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIEpzb25BcnJheSRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uQXJyYXkkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uQXJyYXkkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbkFycmF5JENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkFycmF5JENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkFycmF5LnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5zaXplO1xuICB9fSk7XG4gIEpzb25BcnJheS5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuY29udGFpbnNfMTFyYiQoZWxlbWVudCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuY29udGFpbnNBbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuY29udGFpbnNBbGxfYnJ5d25xJChlbGVtZW50cyk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuZ2V0X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmdldF96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5pbmRleE9mXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmluZGV4T2ZfMTFyYiQoZWxlbWVudCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmlzRW1wdHkoKTtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lml0ZXJhdG9yKCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2ZfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQubGFzdEluZGV4T2ZfMTFyYiQoZWxlbWVudCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUubGlzdEl0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQubGlzdEl0ZXJhdG9yKCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUubGlzdEl0ZXJhdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxpc3RJdGVyYXRvcl96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5zdWJMaXN0X3Z1eDlmMCQgPSBmdW5jdGlvbiAoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5zdWJMaXN0X3Z1eDlmMCQoZnJvbUluZGV4LCB0b0luZGV4KTtcbiAgfTtcbiAgSnNvbkFycmF5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25BcnJheScsIGludGVyZmFjZXM6IFtMaXN0LCBKc29uRWxlbWVudF19O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5jb3B5X2FkcDRqYyQgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgIHJldHVybiBuZXcgSnNvbkFycmF5KGNvbnRlbnQgPT09IHZvaWQgMCA/IHRoaXMuY29udGVudCA6IGNvbnRlbnQpO1xuICB9O1xuICBmdW5jdGlvbiB1bmV4cGVjdGVkSnNvbihrZXksIGV4cGVjdGVkKSB7XG4gICAgdGhyb3cgbmV3IEpzb25FeGNlcHRpb24oJ0VsZW1lbnQgJyArIGtleSArICcgaXMgbm90IGEgJyArIGV4cGVjdGVkKTtcbiAgfVxuICBmdW5jdGlvbiBKc29uRWxlbWVudFNlcmlhbGl6ZXIoKSB7XG4gICAgSnNvbkVsZW1lbnRTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfdThrcHNlJF8wID0gbmV3IEpzb25FbGVtZW50U2VyaWFsaXplciRkZXNjcmlwdG9yJE9iamVjdExpdGVyYWwoJ0pzb25FbGVtZW50U2VyaWFsaXplcicpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX3U4a3BzZSRfMDtcbiAgfX0pO1xuICBKc29uRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIHZlcmlmeShlbmNvZGVyKTtcbiAgICBpZiAoS290bGluLmlzVHlwZShvYmosIEpzb25QcmltaXRpdmUpKVxuICAgICAgZW5jb2Rlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKEpzb25QcmltaXRpdmVTZXJpYWxpemVyX2dldEluc3RhbmNlKCksIG9iaik7XG4gICAgZWxzZSBpZiAoS290bGluLmlzVHlwZShvYmosIEpzb25PYmplY3QpKVxuICAgICAgZW5jb2Rlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKEpzb25PYmplY3RTZXJpYWxpemVyX2dldEluc3RhbmNlKCksIG9iaik7XG4gICAgZWxzZSBpZiAoS290bGluLmlzVHlwZShvYmosIEpzb25BcnJheSkpXG4gICAgICBlbmNvZGVyLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQoSnNvbkFycmF5U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBvYmopO1xuICB9O1xuICBKc29uRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHZhciB0bXAkO1xuICAgIHZlcmlmeV8wKGRlY29kZXIpO1xuICAgIHZhciBpbnB1dCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IGRlY29kZXIsIEpzb25JbnB1dCkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgICByZXR1cm4gaW5wdXQuZGVjb2RlSnNvbigpO1xuICB9O1xuICBmdW5jdGlvbiBKc29uRWxlbWVudFNlcmlhbGl6ZXIkZGVzY3JpcHRvciRPYmplY3RMaXRlcmFsKG5hbWUsIGdlbmVyYXRlZFNlcmlhbGl6ZXIpIHtcbiAgICBTZXJpYWxDbGFzc0Rlc2NJbXBsLmNhbGwodGhpcywgbmFtZSwgZ2VuZXJhdGVkU2VyaWFsaXplcik7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25FbGVtZW50U2VyaWFsaXplciRkZXNjcmlwdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVW5pb25LaW5kJFNFQUxFRF9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIEpzb25FbGVtZW50U2VyaWFsaXplciRkZXNjcmlwdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbU2VyaWFsQ2xhc3NEZXNjSW1wbF19O1xuICBKc29uRWxlbWVudFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0pzb25FbGVtZW50U2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgSnNvbkVsZW1lbnRTZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uRWxlbWVudFNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uRWxlbWVudFNlcmlhbGl6ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25FbGVtZW50U2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlU2VyaWFsaXplcigpIHtcbiAgICBKc29uUHJpbWl0aXZlU2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmVTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgdmVyaWZ5KGVuY29kZXIpO1xuICAgIGlmIChLb3RsaW4uaXNUeXBlKG9iaiwgSnNvbk51bGwpKSB7XG4gICAgICB0bXAkXzAgPSBlbmNvZGVyLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQoSnNvbk51bGxTZXJpYWxpemVyX2dldEluc3RhbmNlKCksIEpzb25OdWxsX2dldEluc3RhbmNlKCkpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0bXAkXzAgPSBlbmNvZGVyLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQoSnNvbkxpdGVyYWxTZXJpYWxpemVyX2dldEluc3RhbmNlKCksIEtvdGxpbi5pc1R5cGUodG1wJCA9IG9iaiwgSnNvbkxpdGVyYWwpID8gdG1wJCA6IHRocm93Q0NFKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJF8wO1xuICB9O1xuICBKc29uUHJpbWl0aXZlU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgdmVyaWZ5XzAoZGVjb2Rlcik7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlTm90TnVsbE1hcmsoKSA/IEpzb25QcmltaXRpdmVfMihkZWNvZGVyLmRlY29kZVN0cmluZygpKSA6IGRlY29kZXIuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJChKc29uTnVsbFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yKCkge1xuICAgIEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBTZXJpYWxDbGFzc0Rlc2NJbXBsLmNhbGwodGhpcywgJ0pzb25QcmltaXRpdmUnKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRTVFJJTkdfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBKc29uUHJpbWl0aXZlU2VyaWFsaXplciRKc29uUHJpbWl0aXZlRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSnNvblByaW1pdGl2ZURlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbU2VyaWFsQ2xhc3NEZXNjSW1wbF19O1xuICB2YXIgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlU2VyaWFsaXplciRKc29uUHJpbWl0aXZlRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uUHJpbWl0aXZlU2VyaWFsaXplciRKc29uUHJpbWl0aXZlRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0pzb25QcmltaXRpdmVTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBKc29uUHJpbWl0aXZlU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25QcmltaXRpdmVTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uUHJpbWl0aXZlU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25QcmltaXRpdmVTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uUHJpbWl0aXZlU2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBKc29uTnVsbFNlcmlhbGl6ZXIoKSB7XG4gICAgSnNvbk51bGxTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk51bGxTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBKc29uTnVsbFNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIHZlcmlmeShlbmNvZGVyKTtcbiAgICBlbmNvZGVyLmVuY29kZU51bGwoKTtcbiAgfTtcbiAgSnNvbk51bGxTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICB2ZXJpZnlfMChkZWNvZGVyKTtcbiAgICBkZWNvZGVyLmRlY29kZU51bGwoKTtcbiAgICByZXR1cm4gSnNvbk51bGxfZ2V0SW5zdGFuY2UoKTtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvbk51bGxTZXJpYWxpemVyJEpzb25OdWxsRGVzY3JpcHRvcigpIHtcbiAgICBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBTZXJpYWxDbGFzc0Rlc2NJbXBsLmNhbGwodGhpcywgJ0pzb25OdWxsJyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3IucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVW5pb25LaW5kJEVOVU1fS0lORF9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0pzb25OdWxsRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtTZXJpYWxDbGFzc0Rlc2NJbXBsXX07XG4gIHZhciBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbk51bGxTZXJpYWxpemVyJEpzb25OdWxsRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbk51bGxTZXJpYWxpemVyJEpzb25OdWxsRGVzY3JpcHRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgSnNvbk51bGxTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdKc29uTnVsbFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIEpzb25OdWxsU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25OdWxsU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbk51bGxTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbk51bGxTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uTnVsbFNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWxTZXJpYWxpemVyKCkge1xuICAgIEpzb25MaXRlcmFsU2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25MaXRlcmFsU2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgSnNvbkxpdGVyYWxTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2ZXJpZnkoZW5jb2Rlcik7XG4gICAgaWYgKG9iai5pc1N0cmluZykge1xuICAgICAgcmV0dXJuIGVuY29kZXIuZW5jb2RlU3RyaW5nXzYxenBvZSQob2JqLmNvbnRlbnQpO1xuICAgIH1cbiAgICB2YXIgbG9uZyA9IG9iai5sb25nT3JOdWxsO1xuICAgIGlmIChsb25nICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBlbmNvZGVyLmVuY29kZUxvbmdfczhjeGh6JChsb25nKTtcbiAgICB9XG4gICAgdmFyIGRvdWJsZSA9IG9iai5kb3VibGVPck51bGw7XG4gICAgaWYgKGRvdWJsZSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGVEb3VibGVfMTRkdGhlJChkb3VibGUpO1xuICAgIH1cbiAgICB2YXIgYm9vbGVhbiA9IG9iai5ib29sZWFuT3JOdWxsO1xuICAgIGlmIChib29sZWFuICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBlbmNvZGVyLmVuY29kZUJvb2xlYW5fNnRha252JChib29sZWFuKTtcbiAgICB9XG4gICAgZW5jb2Rlci5lbmNvZGVTdHJpbmdfNjF6cG9lJChvYmouY29udGVudCk7XG4gIH07XG4gIEpzb25MaXRlcmFsU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgdmVyaWZ5XzAoZGVjb2Rlcik7XG4gICAgcmV0dXJuIEpzb25MaXRlcmFsX2luaXRfMShkZWNvZGVyLmRlY29kZVN0cmluZygpKTtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvcigpIHtcbiAgICBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBTZXJpYWxDbGFzc0Rlc2NJbXBsLmNhbGwodGhpcywgJ0pzb25MaXRlcmFsJyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25MaXRlcmFsU2VyaWFsaXplciRKc29uTGl0ZXJhbERlc2NyaXB0b3IucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRTVFJJTkdfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdKc29uTGl0ZXJhbERlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbU2VyaWFsQ2xhc3NEZXNjSW1wbF19O1xuICB2YXIgSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25MaXRlcmFsU2VyaWFsaXplciRKc29uTGl0ZXJhbERlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25MaXRlcmFsU2VyaWFsaXplciRKc29uTGl0ZXJhbERlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIEpzb25MaXRlcmFsU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSnNvbkxpdGVyYWxTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBKc29uTGl0ZXJhbFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uTGl0ZXJhbFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25MaXRlcmFsU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25MaXRlcmFsU2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkxpdGVyYWxTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25PYmplY3RTZXJpYWxpemVyKCkge1xuICAgIEpzb25PYmplY3RTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfYTk5MnRqJF8wID0gbmV3IE5hbWVkTWFwQ2xhc3NEZXNjcmlwdG9yKCdKc29uT2JqZWN0JywgU3RyaW5nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLmRlc2NyaXB0b3IsIEpzb25FbGVtZW50U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLmRlc2NyaXB0b3IpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uT2JqZWN0U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfYTk5MnRqJF8wO1xuICB9fSk7XG4gIEpzb25PYmplY3RTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2ZXJpZnkoZW5jb2Rlcik7XG4gICAgKG5ldyBMaW5rZWRIYXNoTWFwU2VyaWFsaXplcihTdHJpbmdTZXJpYWxpemVyX2dldEluc3RhbmNlKCksIEpzb25FbGVtZW50U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSkuc2VyaWFsaXplX2F3ZTk3aSQoZW5jb2Rlciwgb2JqLmNvbnRlbnQpO1xuICB9O1xuICBKc29uT2JqZWN0U2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgdmVyaWZ5XzAoZGVjb2Rlcik7XG4gICAgcmV0dXJuIG5ldyBKc29uT2JqZWN0KChuZXcgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIoU3RyaW5nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSkpLmRlc2VyaWFsaXplX250czVxbiQoZGVjb2RlcikpO1xuICB9O1xuICBKc29uT2JqZWN0U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSnNvbk9iamVjdFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIEpzb25PYmplY3RTZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbk9iamVjdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25PYmplY3RTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbk9iamVjdFNlcmlhbGl6ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25PYmplY3RTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25BcnJheVNlcmlhbGl6ZXIoKSB7XG4gICAgSnNvbkFycmF5U2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yXzkzNWl2aiRfMCA9IG5ldyBOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3IoJ0pzb25BcnJheScsIEpzb25FbGVtZW50U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLmRlc2NyaXB0b3IpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uQXJyYXlTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl85MzVpdmokXzA7XG4gIH19KTtcbiAgSnNvbkFycmF5U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgdmVyaWZ5KGVuY29kZXIpO1xuICAgIChuZXcgQXJyYXlMaXN0U2VyaWFsaXplcihKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSkpLnNlcmlhbGl6ZV9hd2U5N2kkKGVuY29kZXIsIG9iaik7XG4gIH07XG4gIEpzb25BcnJheVNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHZlcmlmeV8wKGRlY29kZXIpO1xuICAgIHJldHVybiBuZXcgSnNvbkFycmF5KChuZXcgQXJyYXlMaXN0U2VyaWFsaXplcihKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSkpLmRlc2VyaWFsaXplX250czVxbiQoZGVjb2RlcikpO1xuICB9O1xuICBKc29uQXJyYXlTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdKc29uQXJyYXlTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBKc29uQXJyYXlTZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbkFycmF5U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbkFycmF5U2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25BcnJheVNlcmlhbGl6ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25BcnJheVNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gdmVyaWZ5KGVuY29kZXIpIHtcbiAgICBpZiAoIUtvdGxpbi5pc1R5cGUoZW5jb2RlciwgSnNvbk91dHB1dCkpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KCdKc29uIGVsZW1lbnQgc2VyaWFsaXplciBjYW4gYmUgdXNlZCBvbmx5IGJ5IEpzb24gZm9ybWF0Jy50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdmVyaWZ5XzAoZGVjb2Rlcikge1xuICAgIGlmICghS290bGluLmlzVHlwZShkZWNvZGVyLCBKc29uSW5wdXQpKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdCgnSnNvbiBlbGVtZW50IHNlcmlhbGl6ZXIgY2FuIGJlIHVzZWQgb25seSBieSBKc29uIGZvcm1hdCcudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIEpzb25QcmltaXRpdmVfMih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgcmV0dXJuIEpzb25OdWxsX2dldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIEpzb25MaXRlcmFsX2luaXRfMSh2YWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0X2NvbnRlbnQoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5wcmltaXRpdmUuY29udGVudDtcbiAgfVxuICBmdW5jdGlvbiBJbnZhbGlkRmxvYXRpbmdQb2ludCh2YWx1ZSwgdHlwZSkge1xuICAgIHJldHVybiBuZXcgSnNvbkVuY29kaW5nRXhjZXB0aW9uKHZhbHVlLnRvU3RyaW5nKCkgKyAnIGlzIG5vdCBhIHZhbGlkICcgKyB0eXBlICsgJyBhcyBwZXIgSlNPTiBzcGVjaWZpY2F0aW9uLiAnICsgJ1lvdSBjYW4gZGlzYWJsZSBzdHJpY3QgbW9kZSB0byBzZXJpYWxpemUgc3VjaCB2YWx1ZXMnKTtcbiAgfVxuICBmdW5jdGlvbiBJbnZhbGlkRmxvYXRpbmdQb2ludF8wKHZhbHVlLCBrZXksIHR5cGUpIHtcbiAgICByZXR1cm4gbmV3IEpzb25FbmNvZGluZ0V4Y2VwdGlvbih2YWx1ZS50b1N0cmluZygpICsgJyB3aXRoIGtleSAnICsga2V5ICsgJyBpcyBub3QgYSB2YWxpZCAnICsgdHlwZSArICcgYXMgcGVyIEpTT04gc3BlY2lmaWNhdGlvbi4gJyArICdZb3UgY2FuIGRpc2FibGUgc3RyaWN0IG1vZGUgdG8gc2VyaWFsaXplIHN1Y2ggdmFsdWVzJyk7XG4gIH1cbiAgZnVuY3Rpb24ganNvblVua25vd25LZXlFeGNlcHRpb24ocG9zaXRpb24sIGtleSkge1xuICAgIHJldHVybiBuZXcgSnNvbkRlY29kaW5nRXhjZXB0aW9uKHBvc2l0aW9uLCAnU3RyaWN0IEpTT04gZW5jb3VudGVyZWQgdW5rbm93biBrZXk6ICcgKyBrZXkgKyAnXFxuJyArICdZb3UgY2FuIGRpc2FibGUgc3RyaWN0IG1vZGUgdG8gc2tpcCB1bmtub3duIGtleXMnKTtcbiAgfVxuICBmdW5jdGlvbiBKc29uTWFwSW52YWxpZEtleUtpbmQoa2V5RGVzY3JpcHRvcikge1xuICAgIHJldHVybiBuZXcgSnNvbkV4Y2VwdGlvbignVmFsdWUgb2YgdHlwZSAnICsga2V5RGVzY3JpcHRvci5uYW1lICsgXCIgY2FuJ3QgYmUgdXNlZCBpbiBqc29uIGFzIG1hcCBrZXkuIFwiICsgKCdJdCBzaG91bGQgaGF2ZSBlaXRoZXIgcHJpbWl0aXZlIG9yIGVudW0ga2luZCwgYnV0IGl0cyBraW5kIGlzICcgKyBrZXlEZXNjcmlwdG9yLmtpbmQgKyAnLicgKyAnXFxuJykgKyBcIllvdSBjYW4gY29udmVydCBzdWNoIG1hcHMgdG8gYXJyYXlzIFtrZXkxLCB2YWx1ZTEsIGtleTIsIHZhbHVlMiwuLi5dIHdpdGggJ2FsbG93U3RydWN0dXJlZE1hcEtleXMnIGZsYWcgaW4gSnNvbkNvbmZpZ3VyYXRpb24uXCIpO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25FeGNlcHRpb24obWVzc2FnZSkge1xuICAgIFNlcmlhbGl6YXRpb25FeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnSnNvbkV4Y2VwdGlvbic7XG4gIH1cbiAgSnNvbkV4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YXRpb25FeGNlcHRpb25dfTtcbiAgZnVuY3Rpb24gSnNvbkRlY29kaW5nRXhjZXB0aW9uKHBvc2l0aW9uLCBtZXNzYWdlKSB7XG4gICAgSnNvbkV4Y2VwdGlvbi5jYWxsKHRoaXMsICdJbnZhbGlkIEpTT04gYXQgJyArIHBvc2l0aW9uICsgJzogJyArIG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9ICdKc29uRGVjb2RpbmdFeGNlcHRpb24nO1xuICB9XG4gIEpzb25EZWNvZGluZ0V4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uRGVjb2RpbmdFeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbSnNvbkV4Y2VwdGlvbl19O1xuICBmdW5jdGlvbiBKc29uRW5jb2RpbmdFeGNlcHRpb24obWVzc2FnZSkge1xuICAgIEpzb25FeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnSnNvbkVuY29kaW5nRXhjZXB0aW9uJztcbiAgfVxuICBKc29uRW5jb2RpbmdFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvbkVuY29kaW5nRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW0pzb25FeGNlcHRpb25dfTtcbiAgZnVuY3Rpb24gSnNvbklucHV0KCkge1xuICB9XG4gIEpzb25JbnB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnSnNvbklucHV0JywgaW50ZXJmYWNlczogW0NvbXBvc2l0ZURlY29kZXIsIERlY29kZXJdfTtcbiAgZnVuY3Rpb24gSnNvbk91dHB1dCgpIHtcbiAgfVxuICBKc29uT3V0cHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdKc29uT3V0cHV0JywgaW50ZXJmYWNlczogW0NvbXBvc2l0ZUVuY29kZXIsIEVuY29kZXJdfTtcbiAgZnVuY3Rpb24gSnNvblBhcnNlcihyZWFkZXIpIHtcbiAgICB0aGlzLnJlYWRlcl8wID0gcmVhZGVyO1xuICB9XG4gIEpzb25QYXJzZXIucHJvdG90eXBlLnJlYWRPYmplY3RfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgPSB0aGlzLnJlYWRlcl8wO1xuICAgIGlmICgkdGhpcy50b2tlbkNsYXNzICE9PSBUQ19CRUdJTl9PQkopIHtcbiAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpcy50b2tlbkNsYXNzKSk7XG4gICAgICAkdGhpcy5mYWlsX2JtNGx4cyQoJ0V4cGVjdGVkIHN0YXJ0IG9mIHRoZSBvYmplY3QnLCAkdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgIH1cbiAgICB0aGlzLnJlYWRlcl8wLm5leHRUb2tlbigpO1xuICAgIHZhciAkdGhpc18wID0gdGhpcy5yZWFkZXJfMDtcbiAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5yZWFkZXJfMC50b2tlbkNsYXNzICE9PSBUQ19DT01NQTtcbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnJlYWRlcl8wLmN1cnJlbnRQb3NpdGlvbjtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgJHRoaXNfMC5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgbGVhZGluZyBjb21tYScsIHBvc2l0aW9uKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IExpbmtlZEhhc2hNYXBfaW5pdCgpO1xuICAgIHZhciB2YWx1ZUV4cGVjdGVkID0gZmFsc2U7XG4gICAgd2hpbGUgKHRoaXMucmVhZGVyXzAuY2FuQmVnaW5WYWx1ZSkge1xuICAgICAgdmFsdWVFeHBlY3RlZCA9IGZhbHNlO1xuICAgICAgdmFyIGtleSA9IHRoaXMucmVhZGVyXzAudGFrZVN0cmluZygpO1xuICAgICAgdmFyICR0aGlzXzEgPSB0aGlzLnJlYWRlcl8wO1xuICAgICAgaWYgKCR0aGlzXzEudG9rZW5DbGFzcyAhPT0gVENfQ09MT04pIHtcbiAgICAgICAgdG9Cb3hlZENoYXIodG9DaGFyKCR0aGlzXzEudG9rZW5DbGFzcykpO1xuICAgICAgICAkdGhpc18xLmZhaWxfYm00bHhzJChcIkV4cGVjdGVkICc6J1wiLCAkdGhpc18xLnRva2VuUG9zaXRpb25fMCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlYWRlcl8wLm5leHRUb2tlbigpO1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnJlYWQoKTtcbiAgICAgIHJlc3VsdC5wdXRfeHd6YzlwJChrZXksIGVsZW1lbnQpO1xuICAgICAgaWYgKHRoaXMucmVhZGVyXzAudG9rZW5DbGFzcyAhPT0gVENfQ09NTUEpIHtcbiAgICAgICAgdmFyICR0aGlzXzIgPSB0aGlzLnJlYWRlcl8wO1xuICAgICAgICBpZiAoJHRoaXNfMi50b2tlbkNsYXNzICE9PSBUQ19FTkRfT0JKKSB7XG4gICAgICAgICAgdG9Cb3hlZENoYXIodG9DaGFyKCR0aGlzXzIudG9rZW5DbGFzcykpO1xuICAgICAgICAgICR0aGlzXzIuZmFpbF9ibTRseHMkKCdFeHBlY3RlZCBlbmQgb2YgdGhlIG9iamVjdCBvciBjb21tYScsICR0aGlzXzIudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZUV4cGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWFkZXJfMC5uZXh0VG9rZW4oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyICR0aGlzXzMgPSB0aGlzLnJlYWRlcl8wO1xuICAgIHZhciBjb25kaXRpb25fMCA9ICF2YWx1ZUV4cGVjdGVkICYmIHRoaXMucmVhZGVyXzAudG9rZW5DbGFzcyA9PT0gVENfRU5EX09CSjtcbiAgICB2YXIgcG9zaXRpb25fMCA9IHRoaXMucmVhZGVyXzAuY3VycmVudFBvc2l0aW9uO1xuICAgIGlmICghY29uZGl0aW9uXzApIHtcbiAgICAgICR0aGlzXzMuZmFpbF9ibTRseHMkKCdFeHBlY3RlZCBlbmQgb2YgdGhlIG9iamVjdCcsIHBvc2l0aW9uXzApO1xuICAgIH1cbiAgICB0aGlzLnJlYWRlcl8wLm5leHRUb2tlbigpO1xuICAgIHJldHVybiBuZXcgSnNvbk9iamVjdChyZXN1bHQpO1xuICB9O1xuICBKc29uUGFyc2VyLnByb3RvdHlwZS5yZWFkVmFsdWVfMCA9IGZ1bmN0aW9uIChpc1N0cmluZykge1xuICAgIHZhciBzdHIgPSB0aGlzLnJlYWRlcl8wLnRha2VTdHJpbmcoKTtcbiAgICByZXR1cm4gbmV3IEpzb25MaXRlcmFsKHN0ciwgaXNTdHJpbmcpO1xuICB9O1xuICBKc29uUGFyc2VyLnByb3RvdHlwZS5yZWFkQXJyYXlfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgPSB0aGlzLnJlYWRlcl8wO1xuICAgIGlmICgkdGhpcy50b2tlbkNsYXNzICE9PSBUQ19CRUdJTl9MSVNUKSB7XG4gICAgICB0b0JveGVkQ2hhcih0b0NoYXIoJHRoaXMudG9rZW5DbGFzcykpO1xuICAgICAgJHRoaXMuZmFpbF9ibTRseHMkKCdFeHBlY3RlZCBzdGFydCBvZiB0aGUgYXJyYXknLCAkdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgIH1cbiAgICB0aGlzLnJlYWRlcl8wLm5leHRUb2tlbigpO1xuICAgIHZhciAkdGhpc18wID0gdGhpcy5yZWFkZXJfMDtcbiAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5yZWFkZXJfMC50b2tlbkNsYXNzICE9PSBUQ19DT01NQTtcbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnJlYWRlcl8wLmN1cnJlbnRQb3NpdGlvbjtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgJHRoaXNfMC5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgbGVhZGluZyBjb21tYScsIHBvc2l0aW9uKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IEFycmF5TGlzdF9pbml0XzAoKTtcbiAgICB2YXIgdmFsdWVFeHBlY3RlZCA9IGZhbHNlO1xuICAgIHdoaWxlICh0aGlzLnJlYWRlcl8wLmNhbkJlZ2luVmFsdWUpIHtcbiAgICAgIHZhbHVlRXhwZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5yZWFkKCk7XG4gICAgICByZXN1bHQuYWRkXzExcmIkKGVsZW1lbnQpO1xuICAgICAgaWYgKHRoaXMucmVhZGVyXzAudG9rZW5DbGFzcyAhPT0gVENfQ09NTUEpIHtcbiAgICAgICAgdmFyICR0aGlzXzEgPSB0aGlzLnJlYWRlcl8wO1xuICAgICAgICBpZiAoJHRoaXNfMS50b2tlbkNsYXNzICE9PSBUQ19FTkRfTElTVCkge1xuICAgICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpc18xLnRva2VuQ2xhc3MpKTtcbiAgICAgICAgICAkdGhpc18xLmZhaWxfYm00bHhzJCgnRXhwZWN0ZWQgZW5kIG9mIHRoZSBhcnJheSBvciBjb21tYScsICR0aGlzXzEudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZUV4cGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZWFkZXJfMC5uZXh0VG9rZW4oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyICR0aGlzXzIgPSB0aGlzLnJlYWRlcl8wO1xuICAgIHZhciBjb25kaXRpb25fMCA9ICF2YWx1ZUV4cGVjdGVkO1xuICAgIHZhciBwb3NpdGlvbl8wID0gdGhpcy5yZWFkZXJfMC5jdXJyZW50UG9zaXRpb247XG4gICAgaWYgKCFjb25kaXRpb25fMCkge1xuICAgICAgJHRoaXNfMi5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgdHJhaWxpbmcgY29tbWEnLCBwb3NpdGlvbl8wKTtcbiAgICB9XG4gICAgdGhpcy5yZWFkZXJfMC5uZXh0VG9rZW4oKTtcbiAgICByZXR1cm4gbmV3IEpzb25BcnJheShyZXN1bHQpO1xuICB9O1xuICBKc29uUGFyc2VyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIGlmICghdGhpcy5yZWFkZXJfMC5jYW5CZWdpblZhbHVlKVxuICAgICAgdGhpcy5yZWFkZXJfMC5mYWlsX2JtNGx4cyQoXCJDYW4ndCBiZWdpbiByZWFkaW5nIHZhbHVlIGZyb20gaGVyZVwiKTtcbiAgICBzd2l0Y2ggKHRoaXMucmVhZGVyXzAudG9rZW5DbGFzcykge1xuICAgICAgY2FzZSAxMDpcbiAgICAgICAgdmFyICRyZWNlaXZlciA9IEpzb25OdWxsX2dldEluc3RhbmNlKCk7XG4gICAgICAgIHRoaXMucmVhZGVyXzAubmV4dFRva2VuKCk7XG4gICAgICAgIHRtcCQgPSAkcmVjZWl2ZXI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0bXAkID0gdGhpcy5yZWFkVmFsdWVfMCh0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHRtcCQgPSB0aGlzLnJlYWRWYWx1ZV8wKGZhbHNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDY6XG4gICAgICAgIHRtcCQgPSB0aGlzLnJlYWRPYmplY3RfMCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgODpcbiAgICAgICAgdG1wJCA9IHRoaXMucmVhZEFycmF5XzAoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OnRtcCQgPSB0aGlzLnJlYWRlcl8wLmZhaWxfYm00bHhzJChcIkNhbid0IGJlZ2luIHJlYWRpbmcgZWxlbWVudCwgdW5leHBlY3RlZCB0b2tlblwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBKc29uUGFyc2VyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25QYXJzZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBOVUxMO1xuICB2YXIgQ09NTUE7XG4gIHZhciBDT0xPTjtcbiAgdmFyIEJFR0lOX09CSjtcbiAgdmFyIEVORF9PQko7XG4gIHZhciBCRUdJTl9MSVNUO1xuICB2YXIgRU5EX0xJU1Q7XG4gIHZhciBTVFJJTkc7XG4gIHZhciBTVFJJTkdfRVNDO1xuICB2YXIgSU5WQUxJRDtcbiAgdmFyIFVOSUNPREVfRVNDO1xuICB2YXIgVENfT1RIRVI7XG4gIHZhciBUQ19TVFJJTkc7XG4gIHZhciBUQ19TVFJJTkdfRVNDO1xuICB2YXIgVENfV1M7XG4gIHZhciBUQ19DT01NQTtcbiAgdmFyIFRDX0NPTE9OO1xuICB2YXIgVENfQkVHSU5fT0JKO1xuICB2YXIgVENfRU5EX09CSjtcbiAgdmFyIFRDX0JFR0lOX0xJU1Q7XG4gIHZhciBUQ19FTkRfTElTVDtcbiAgdmFyIFRDX05VTEw7XG4gIHZhciBUQ19JTlZBTElEO1xuICB2YXIgVENfRU9GO1xuICB2YXIgQ1RDX01BWDtcbiAgdmFyIEVTQzJDX01BWDtcbiAgdmFyIEMyVEM7XG4gIGZ1bmN0aW9uIEVzY2FwZUNoYXJNYXBwaW5ncygpIHtcbiAgICBFc2NhcGVDaGFyTWFwcGluZ3NfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuRVNDQVBFXzJfQ0hBUiA9IEtvdGxpbi5jaGFyQXJyYXkoMTE3KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSAzMTsgaSsrKSB7XG4gICAgICB0aGlzLmluaXRDMkVTQ18wKGksIFVOSUNPREVfRVNDKTtcbiAgICB9XG4gICAgdGhpcy5pbml0QzJFU0NfMCg4LCA5OCk7XG4gICAgdGhpcy5pbml0QzJFU0NfMCg5LCAxMTYpO1xuICAgIHRoaXMuaW5pdEMyRVNDXzAoMTAsIDExMCk7XG4gICAgdGhpcy5pbml0QzJFU0NfMCgxMiwgMTAyKTtcbiAgICB0aGlzLmluaXRDMkVTQ18wKDEzLCAxMTQpO1xuICAgIHRoaXMuaW5pdEMyRVNDXzEoNDcsIDQ3KTtcbiAgICB0aGlzLmluaXRDMkVTQ18xKFNUUklORywgU1RSSU5HKTtcbiAgICB0aGlzLmluaXRDMkVTQ18xKFNUUklOR19FU0MsIFNUUklOR19FU0MpO1xuICB9XG4gIEVzY2FwZUNoYXJNYXBwaW5ncy5wcm90b3R5cGUuaW5pdEMyRVNDXzAgPSBmdW5jdGlvbiAoYywgZXNjKSB7XG4gICAgaWYgKGVzYyAhPT0gVU5JQ09ERV9FU0MpXG4gICAgICB0aGlzLkVTQ0FQRV8yX0NIQVJbZXNjIHwgMF0gPSB0b0NoYXIoYyk7XG4gIH07XG4gIEVzY2FwZUNoYXJNYXBwaW5ncy5wcm90b3R5cGUuaW5pdEMyRVNDXzEgPSBmdW5jdGlvbiAoYywgZXNjKSB7XG4gICAgdGhpcy5pbml0QzJFU0NfMChjIHwgMCwgZXNjKTtcbiAgfTtcbiAgRXNjYXBlQ2hhck1hcHBpbmdzLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFc2NhcGVDaGFyTWFwcGluZ3MnLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBFc2NhcGVDaGFyTWFwcGluZ3NfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBFc2NhcGVDaGFyTWFwcGluZ3NfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEVzY2FwZUNoYXJNYXBwaW5nc19pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEVzY2FwZUNoYXJNYXBwaW5ncygpO1xuICAgIH1cbiAgICByZXR1cm4gRXNjYXBlQ2hhck1hcHBpbmdzX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIGluaXRDMlRDKCRyZWNlaXZlciwgYywgY2wpIHtcbiAgICAkcmVjZWl2ZXJbY10gPSBjbDtcbiAgfVxuICBmdW5jdGlvbiBpbml0QzJUQ18wKCRyZWNlaXZlciwgYywgY2wpIHtcbiAgICBpbml0QzJUQygkcmVjZWl2ZXIsIGMgfCAwLCBjbCk7XG4gIH1cbiAgZnVuY3Rpb24gY2hhclRvVG9rZW5DbGFzcyhjKSB7XG4gICAgcmV0dXJuIChjIHwgMCkgPCAxMjYgPyBDMlRDW2MgfCAwXSA6IFRDX09USEVSO1xuICB9XG4gIGZ1bmN0aW9uIGVzY2FwZVRvQ2hhcihjKSB7XG4gICAgcmV0dXJuIHVuYm94Q2hhcihjIDwgMTE3ID8gRXNjYXBlQ2hhck1hcHBpbmdzX2dldEluc3RhbmNlKCkuRVNDQVBFXzJfQ0hBUltjXSA6IElOVkFMSUQpO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25SZWFkZXIoc291cmNlKSB7XG4gICAgdGhpcy5zb3VyY2VfMCA9IHNvdXJjZTtcbiAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IDA7XG4gICAgdGhpcy50b2tlbkNsYXNzID0gVENfRU9GO1xuICAgIHRoaXMudG9rZW5Qb3NpdGlvbl8wID0gMDtcbiAgICB0aGlzLm9mZnNldF8wID0gLTE7XG4gICAgdGhpcy5sZW5ndGhfMCA9IDA7XG4gICAgdGhpcy5idWZfMCA9IEtvdGxpbi5jaGFyQXJyYXkoMTYpO1xuICAgIHRoaXMubmV4dFRva2VuKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25SZWFkZXIucHJvdG90eXBlLCAnaXNEb25lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRva2VuQ2xhc3MgPT09IFRDX0VPRjtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblJlYWRlci5wcm90b3R5cGUsICdjYW5CZWdpblZhbHVlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHN3aXRjaCAodGhpcy50b2tlbkNsYXNzKSB7XG4gICAgICBjYXNlIDg6XG4gICAgICBjYXNlIDY6XG4gICAgICBjYXNlIDA6XG4gICAgICBjYXNlIDE6XG4gICAgICBjYXNlIDEwOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6cmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfX0pO1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5yZXF1aXJlVG9rZW5DbGFzc19tdmZuZjMkID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbngtc2VyaWFsaXphdGlvbi1rb3RsaW54LXNlcmlhbGl6YXRpb24tcnVudGltZS5rb3RsaW54LnNlcmlhbGl6YXRpb24uanNvbi5pbnRlcm5hbC5Kc29uUmVhZGVyLnJlcXVpcmVUb2tlbkNsYXNzX212Zm5mMyQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgIHZhciB0b0NoYXIgPSBLb3RsaW4udG9DaGFyO1xuICAgIHZhciB0b0JveGVkQ2hhciA9IEtvdGxpbi50b0JveGVkQ2hhcjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV4cGVjdGVkLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgIGlmICh0aGlzLnRva2VuQ2xhc3MgIT09IGV4cGVjdGVkKVxuICAgICAgICB0aGlzLmZhaWxfYm00bHhzJChlcnJvck1lc3NhZ2UodG9Cb3hlZENoYXIodG9DaGFyKHRoaXMudG9rZW5DbGFzcykpKSwgdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgIH07XG4gIH0pKTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUudGFrZVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50b2tlbkNsYXNzICE9PSBUQ19PVEhFUiAmJiB0aGlzLnRva2VuQ2xhc3MgIT09IFRDX1NUUklORylcbiAgICAgIHRoaXMuZmFpbF9ibTRseHMkKCdFeHBlY3RlZCBzdHJpbmcgb3Igbm9uLW51bGwgbGl0ZXJhbCcsIHRoaXMudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAodGhpcy5vZmZzZXRfMCA8IDApXG4gICAgICB0bXAkID0gU3RyaW5nXzAodGhpcy5idWZfMCwgMCwgdGhpcy5sZW5ndGhfMCk7XG4gICAgZWxzZSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5zb3VyY2VfMDtcbiAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5vZmZzZXRfMDtcbiAgICAgIHZhciBlbmRJbmRleCA9IHRoaXMub2Zmc2V0XzAgKyB0aGlzLmxlbmd0aF8wIHwgMDtcbiAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICB9XG4gICAgdmFyIHByZXZTdHIgPSB0bXAkO1xuICAgIHRoaXMubmV4dFRva2VuKCk7XG4gICAgcmV0dXJuIHByZXZTdHI7XG4gIH07XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLmFwcGVuZF8wID0gZnVuY3Rpb24gKGNoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgaWYgKHRoaXMubGVuZ3RoXzAgPj0gdGhpcy5idWZfMC5sZW5ndGgpXG4gICAgICB0aGlzLmJ1Zl8wID0gY29weU9mXzAodGhpcy5idWZfMCwgMiAqIHRoaXMuYnVmXzAubGVuZ3RoIHwgMCk7XG4gICAgdGhpcy5idWZfMFt0bXAkID0gdGhpcy5sZW5ndGhfMCwgdGhpcy5sZW5ndGhfMCA9IHRtcCQgKyAxIHwgMCwgdG1wJF0gPSBjaDtcbiAgfTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUuYXBwZW5kUmFuZ2VfMCA9IGZ1bmN0aW9uIChzb3VyY2UsIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIHZhciBhZGRMZW4gPSB0b0luZGV4IC0gZnJvbUluZGV4IHwgMDtcbiAgICB2YXIgb2xkTGVuID0gdGhpcy5sZW5ndGhfMDtcbiAgICB2YXIgbmV3TGVuID0gb2xkTGVuICsgYWRkTGVuIHwgMDtcbiAgICBpZiAobmV3TGVuID4gdGhpcy5idWZfMC5sZW5ndGgpXG4gICAgICB0aGlzLmJ1Zl8wID0gY29weU9mXzAodGhpcy5idWZfMCwgY29lcmNlQXRMZWFzdChuZXdMZW4sIDIgKiB0aGlzLmJ1Zl8wLmxlbmd0aCB8IDApKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkZExlbjsgaSsrKVxuICAgICAgdGhpcy5idWZfMFtvbGRMZW4gKyBpIHwgMF0gPSBzb3VyY2UuY2hhckNvZGVBdChmcm9tSW5kZXggKyBpIHwgMCk7XG4gICAgdGhpcy5sZW5ndGhfMCA9IHRoaXMubGVuZ3RoXzAgKyBhZGRMZW4gfCAwO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5uZXh0VG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlXzA7XG4gICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uO1xuICAgIHdoaWxlIChjdXJyZW50UG9zaXRpb24gPCBzb3VyY2UubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSBzb3VyY2UuY2hhckNvZGVBdChjdXJyZW50UG9zaXRpb24pO1xuICAgICAgdmFyIHRjID0gY2hhclRvVG9rZW5DbGFzcyhjaCk7XG4gICAgICBzd2l0Y2ggKHRjKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjdXJyZW50UG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb24gKyAxIHwgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHRoaXMubmV4dExpdGVyYWxfMChzb3VyY2UsIGN1cnJlbnRQb3NpdGlvbik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdGhpcy5uZXh0U3RyaW5nXzAoc291cmNlLCBjdXJyZW50UG9zaXRpb24pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDp0aGlzLnRva2VuUG9zaXRpb25fMCA9IGN1cnJlbnRQb3NpdGlvbjtcbiAgICAgICAgICB0aGlzLnRva2VuQ2xhc3MgPSB0YztcbiAgICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IGN1cnJlbnRQb3NpdGlvbiArIDEgfCAwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b2tlblBvc2l0aW9uXzAgPSBjdXJyZW50UG9zaXRpb247XG4gICAgdGhpcy50b2tlbkNsYXNzID0gVENfRU9GO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5uZXh0TGl0ZXJhbF8wID0gZnVuY3Rpb24gKHNvdXJjZSwgc3RhcnRQb3MpIHtcbiAgICB0aGlzLnRva2VuUG9zaXRpb25fMCA9IHN0YXJ0UG9zO1xuICAgIHRoaXMub2Zmc2V0XzAgPSBzdGFydFBvcztcbiAgICB2YXIgY3VycmVudFBvc2l0aW9uID0gc3RhcnRQb3M7XG4gICAgd2hpbGUgKGN1cnJlbnRQb3NpdGlvbiA8IHNvdXJjZS5sZW5ndGggJiYgY2hhclRvVG9rZW5DbGFzcyhzb3VyY2UuY2hhckNvZGVBdChjdXJyZW50UG9zaXRpb24pKSA9PT0gVENfT1RIRVIpIHtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IGN1cnJlbnRQb3NpdGlvbiArIDEgfCAwO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IGN1cnJlbnRQb3NpdGlvbjtcbiAgICB0aGlzLmxlbmd0aF8wID0gY3VycmVudFBvc2l0aW9uIC0gdGhpcy5vZmZzZXRfMCB8IDA7XG4gICAgdGhpcy50b2tlbkNsYXNzID0gcmFuZ2VFcXVhbHMoc291cmNlLCB0aGlzLm9mZnNldF8wLCB0aGlzLmxlbmd0aF8wLCBOVUxMKSA/IFRDX05VTEwgOiBUQ19PVEhFUjtcbiAgfTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUubmV4dFN0cmluZ18wID0gZnVuY3Rpb24gKHNvdXJjZSwgc3RhcnRQb3NpdGlvbikge1xuICAgIHRoaXMudG9rZW5Qb3NpdGlvbl8wID0gc3RhcnRQb3NpdGlvbjtcbiAgICB0aGlzLmxlbmd0aF8wID0gMDtcbiAgICB2YXIgY3VycmVudFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbiArIDEgfCAwO1xuICAgIHZhciBsYXN0UG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb247XG4gICAgdmFyIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgd2hpbGUgKHNvdXJjZS5jaGFyQ29kZUF0KGN1cnJlbnRQb3NpdGlvbikgIT09IFNUUklORykge1xuICAgICAgaWYgKGN1cnJlbnRQb3NpdGlvbiA+PSBsZW5ndGgpXG4gICAgICAgIHRoaXMuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIEVPRicsIGN1cnJlbnRQb3NpdGlvbik7XG4gICAgICBpZiAoc291cmNlLmNoYXJDb2RlQXQoY3VycmVudFBvc2l0aW9uKSA9PT0gU1RSSU5HX0VTQykge1xuICAgICAgICB0aGlzLmFwcGVuZFJhbmdlXzAoc291cmNlLCBsYXN0UG9zaXRpb24sIGN1cnJlbnRQb3NpdGlvbik7XG4gICAgICAgIHZhciBuZXdQb3NpdGlvbiA9IHRoaXMuYXBwZW5kRXNjXzAoc291cmNlLCBjdXJyZW50UG9zaXRpb24gKyAxIHwgMCk7XG4gICAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IG5ld1Bvc2l0aW9uO1xuICAgICAgICBsYXN0UG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgY3VycmVudFBvc2l0aW9uID0gY3VycmVudFBvc2l0aW9uICsgMSB8IDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsYXN0UG9zaXRpb24gPT09IChzdGFydFBvc2l0aW9uICsgMSB8IDApKSB7XG4gICAgICB0aGlzLm9mZnNldF8wID0gbGFzdFBvc2l0aW9uO1xuICAgICAgdGhpcy5sZW5ndGhfMCA9IGN1cnJlbnRQb3NpdGlvbiAtIGxhc3RQb3NpdGlvbiB8IDA7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHRoaXMuYXBwZW5kUmFuZ2VfMChzb3VyY2UsIGxhc3RQb3NpdGlvbiwgY3VycmVudFBvc2l0aW9uKTtcbiAgICAgIHRoaXMub2Zmc2V0XzAgPSAtMTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb24gKyAxIHwgMDtcbiAgICB0aGlzLnRva2VuQ2xhc3MgPSBUQ19TVFJJTkc7XG4gIH07XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLmFwcGVuZEVzY18wID0gZnVuY3Rpb24gKHNvdXJjZSwgc3RhcnRQb3NpdGlvbikge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSBzdGFydFBvc2l0aW9uO1xuICAgIHZhciBjb25kaXRpb24gPSBjdXJyZW50UG9zaXRpb24gPCBzb3VyY2UubGVuZ3RoO1xuICAgIHZhciBwb3NpdGlvbiA9IGN1cnJlbnRQb3NpdGlvbjtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdGhpcy5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgRU9GIGFmdGVyIGVzY2FwZSBjaGFyYWN0ZXInLCBwb3NpdGlvbik7XG4gICAgfVxuICAgIHZhciBjdXJyZW50Q2hhciA9IHNvdXJjZS5jaGFyQ29kZUF0KCh0bXAkID0gY3VycmVudFBvc2l0aW9uLCBjdXJyZW50UG9zaXRpb24gPSB0bXAkICsgMSB8IDAsIHRtcCQpKTtcbiAgICBpZiAoY3VycmVudENoYXIgPT09IFVOSUNPREVfRVNDKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHBlbmRIZXhfMChzb3VyY2UsIGN1cnJlbnRQb3NpdGlvbik7XG4gICAgfVxuICAgIHZhciBjID0gZXNjYXBlVG9DaGFyKGN1cnJlbnRDaGFyIHwgMCk7XG4gICAgdmFyIGNvbmRpdGlvbl8wID0gYyAhPT0gSU5WQUxJRDtcbiAgICB2YXIgcG9zaXRpb25fMCA9IGN1cnJlbnRQb3NpdGlvbjtcbiAgICBpZiAoIWNvbmRpdGlvbl8wKSB7XG4gICAgICB0aGlzLmZhaWxfYm00bHhzJChcIkludmFsaWQgZXNjYXBlZCBjaGFyICdcIiArIFN0cmluZy5mcm9tQ2hhckNvZGUoY3VycmVudENoYXIpICsgXCInXCIsIHBvc2l0aW9uXzApO1xuICAgIH1cbiAgICB0aGlzLmFwcGVuZF8wKGMpO1xuICAgIHJldHVybiBjdXJyZW50UG9zaXRpb247XG4gIH07XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLmFwcGVuZEhleF8wID0gZnVuY3Rpb24gKHNvdXJjZSwgc3RhcnRQb3MpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzEsIHRtcCRfMjtcbiAgICB2YXIgY3VyUG9zID0gc3RhcnRQb3M7XG4gICAgdGhpcy5hcHBlbmRfMCh0b0NoYXIoKHRoaXMuZnJvbUhleENoYXJfMChzb3VyY2UsICh0bXAkID0gY3VyUG9zLCBjdXJQb3MgPSB0bXAkICsgMSB8IDAsIHRtcCQpKSA8PCAxMikgKyAodGhpcy5mcm9tSGV4Q2hhcl8wKHNvdXJjZSwgKHRtcCRfMCA9IGN1clBvcywgY3VyUG9zID0gdG1wJF8wICsgMSB8IDAsIHRtcCRfMCkpIDw8IDgpICsgKHRoaXMuZnJvbUhleENoYXJfMChzb3VyY2UsICh0bXAkXzEgPSBjdXJQb3MsIGN1clBvcyA9IHRtcCRfMSArIDEgfCAwLCB0bXAkXzEpKSA8PCA0KSArIHRoaXMuZnJvbUhleENoYXJfMChzb3VyY2UsICh0bXAkXzIgPSBjdXJQb3MsIGN1clBvcyA9IHRtcCRfMiArIDEgfCAwLCB0bXAkXzIpKSB8IDApKTtcbiAgICByZXR1cm4gY3VyUG9zO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5za2lwRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50b2tlbkNsYXNzICE9PSBUQ19CRUdJTl9PQkogJiYgdGhpcy50b2tlbkNsYXNzICE9PSBUQ19CRUdJTl9MSVNUKSB7XG4gICAgICB0aGlzLm5leHRUb2tlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdG9rZW5TdGFjayA9IEFycmF5TGlzdF9pbml0XzAoKTtcbiAgICBkbyB7XG4gICAgICBzd2l0Y2ggKHRoaXMudG9rZW5DbGFzcykge1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICB0b2tlblN0YWNrLmFkZF8xMXJiJCh0aGlzLnRva2VuQ2xhc3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgaWYgKGxhc3QodG9rZW5TdGFjaykgIT09IFRDX0JFR0lOX0xJU1QpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSnNvbkRlY29kaW5nRXhjZXB0aW9uKHRoaXMuY3VycmVudFBvc2l0aW9uLCAnZm91bmQgXSBpbnN0ZWFkIG9mIH0nKTtcbiAgICAgICAgICB0b2tlblN0YWNrLnJlbW92ZUF0X3phM2xwYSQodG9rZW5TdGFjay5zaXplIC0gMSB8IDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgaWYgKGxhc3QodG9rZW5TdGFjaykgIT09IFRDX0JFR0lOX09CSilcbiAgICAgICAgICAgIHRocm93IG5ldyBKc29uRGVjb2RpbmdFeGNlcHRpb24odGhpcy5jdXJyZW50UG9zaXRpb24sICdmb3VuZCB9IGluc3RlYWQgb2YgXScpO1xuICAgICAgICAgIHRva2VuU3RhY2sucmVtb3ZlQXRfemEzbHBhJCh0b2tlblN0YWNrLnNpemUgLSAxIHwgMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLm5leHRUb2tlbigpO1xuICAgICAgdmFyIGlzTm90RW1wdHkkcmVzdWx0O1xuICAgICAgaXNOb3RFbXB0eSRyZXN1bHQgPSAhdG9rZW5TdGFjay5pc0VtcHR5KCk7XG4gICAgfVxuICAgICB3aGlsZSAoaXNOb3RFbXB0eSRyZXN1bHQpO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJKc29uUmVhZGVyKHNvdXJjZT0nXCIgKyB0aGlzLnNvdXJjZV8wICsgXCInLCBjdXJyZW50UG9zaXRpb249XCIgKyB0aGlzLmN1cnJlbnRQb3NpdGlvbiArICcsIHRva2VuQ2xhc3M9JyArIHRoaXMudG9rZW5DbGFzcyArICcsIHRva2VuUG9zaXRpb249JyArIHRoaXMudG9rZW5Qb3NpdGlvbl8wICsgJywgb2Zmc2V0PScgKyB0aGlzLm9mZnNldF8wICsgJyknO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5mYWlsX2JtNGx4cyQgPSBmdW5jdGlvbiAobWVzc2FnZSwgcG9zaXRpb24pIHtcbiAgICBpZiAocG9zaXRpb24gPT09IHZvaWQgMClcbiAgICAgIHBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb247XG4gICAgdGhyb3cgbmV3IEpzb25EZWNvZGluZ0V4Y2VwdGlvbihwb3NpdGlvbiwgbWVzc2FnZSk7XG4gIH07XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLnJlcXVpcmVfd3FuMmRzJCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uaW50ZXJuYWwuSnNvblJlYWRlci5yZXF1aXJlX3dxbjJkcyQnLCBmdW5jdGlvbiAoY29uZGl0aW9uLCBwb3NpdGlvbiwgbWVzc2FnZSkge1xuICAgIGlmIChwb3NpdGlvbiA9PT0gdm9pZCAwKVxuICAgICAgcG9zaXRpb24gPSB0aGlzLmN1cnJlbnRQb3NpdGlvbjtcbiAgICBpZiAoIWNvbmRpdGlvbilcbiAgICAgIHRoaXMuZmFpbF9ibTRseHMkKG1lc3NhZ2UoKSwgcG9zaXRpb24pO1xuICB9KTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUuZnJvbUhleENoYXJfMCA9IGZ1bmN0aW9uIChzb3VyY2UsIGN1cnJlbnRQb3NpdGlvbikge1xuICAgIHZhciB0bXAkO1xuICAgIGlmICghKGN1cnJlbnRQb3NpdGlvbiA8IHNvdXJjZS5sZW5ndGgpKSB7XG4gICAgICB0aGlzLmZhaWxfYm00bHhzJCgnVW5leHBlY3RlZCBFT0YgZHVyaW5nIHVuaWNvZGUgZXNjYXBlJywgY3VycmVudFBvc2l0aW9uKTtcbiAgICB9XG4gICAgdmFyIGN1ckNoYXIgPSBzb3VyY2UuY2hhckNvZGVBdChjdXJyZW50UG9zaXRpb24pO1xuICAgIGlmICgobmV3IENoYXJSYW5nZSg0OCwgNTcpKS5jb250YWluc19tZWY3a3gkKGN1ckNoYXIpKVxuICAgICAgdG1wJCA9IChjdXJDaGFyIHwgMCkgLSA0OCB8IDA7XG4gICAgZWxzZSBpZiAoKG5ldyBDaGFyUmFuZ2UoOTcsIDEwMikpLmNvbnRhaW5zX21lZjdreCQoY3VyQ2hhcikpXG4gICAgICB0bXAkID0gKGN1ckNoYXIgfCAwKSAtIDk3ICsgMTAgfCAwO1xuICAgIGVsc2UgaWYgKChuZXcgQ2hhclJhbmdlKDY1LCA3MCkpLmNvbnRhaW5zX21lZjdreCQoY3VyQ2hhcikpXG4gICAgICB0bXAkID0gKGN1ckNoYXIgfCAwKSAtIDY1ICsgMTAgfCAwO1xuICAgIGVsc2VcbiAgICAgIHRtcCQgPSB0aGlzLmZhaWxfYm00bHhzJChcIkludmFsaWQgdG9IZXhDaGFyIGNoYXIgJ1wiICsgU3RyaW5nLmZyb21DaGFyQ29kZShjdXJDaGFyKSArIFwiJyBpbiB1bmljb2RlIGVzY2FwZVwiKTtcbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgSnNvblJlYWRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uUmVhZGVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiByYW5nZUVxdWFscyhzb3VyY2UsIHN0YXJ0LCBsZW5ndGgsIHN0cikge1xuICAgIHZhciBuID0gc3RyLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSBuKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKVxuICAgICAgaWYgKHNvdXJjZS5jaGFyQ29kZUF0KHN0YXJ0ICsgaSB8IDApICE9PSBzdHIuY2hhckNvZGVBdChpKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIGNoZWNrS2luZChraW5kKSB7XG4gICAgaWYgKEtvdGxpbi5pc1R5cGUoa2luZCwgVW5pb25LaW5kJEVOVU1fS0lORCkpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KFwiRW51bXMgY2Fubm90IGJlIHNlcmlhbGl6ZWQgcG9seW1vcnBoaWNhbGx5IHdpdGggJ3R5cGUnIHBhcmFtZXRlci4gWW91IGNhbiB1c2UgJ0pzb25Db25maWd1cmF0aW9uLnVzZUFycmF5UG9seW1vcnBoaXNtJyBpbnN0ZWFkXCIudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGlmIChLb3RsaW4uaXNUeXBlKGtpbmQsIFByaW1pdGl2ZUtpbmQpKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdChcIlByaW1pdGl2ZXMgY2Fubm90IGJlIHNlcmlhbGl6ZWQgcG9seW1vcnBoaWNhbGx5IHdpdGggJ3R5cGUnIHBhcmFtZXRlci4gWW91IGNhbiB1c2UgJ0pzb25Db25maWd1cmF0aW9uLnVzZUFycmF5UG9seW1vcnBoaXNtJyBpbnN0ZWFkXCIudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGlmIChLb3RsaW4uaXNUeXBlKGtpbmQsIFVuaW9uS2luZCRQT0xZTU9SUEhJQykpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KCdBY3R1YWwgc2VyaWFsaXplciBmb3IgcG9seW1vcnBoaWMgY2Fubm90IGJlIHBvbHltb3JwaGljIGl0c2VsZicudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRlY29kZVNlcmlhbGl6YWJsZVZhbHVlUG9seW1vcnBoaWMoJHJlY2VpdmVyLCBkZXNlcmlhbGl6ZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIGlmICghS290bGluLmlzVHlwZShkZXNlcmlhbGl6ZXIsIFBvbHltb3JwaGljU2VyaWFsaXplcikgfHwgJHJlY2VpdmVyLmpzb24uY29uZmlndXJhdGlvbl84YmUydngkLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQpIHtcbiAgICAgIHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVfbnRzNXFuJCgkcmVjZWl2ZXIpO1xuICAgIH1cbiAgICB2YXIgb2JqID0gJHJlY2VpdmVyLmRlY29kZUpzb24oKTtcbiAgICB2YXIgdG1wJF8xO1xuICAgIGlmICghS290bGluLmlzVHlwZShvYmosIEpzb25PYmplY3QpKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdFeHBlY3RlZCAnICsgZ2V0S0NsYXNzKEpzb25PYmplY3QpICsgJyBidXQgZm91bmQgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbihvYmopO1xuICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgdmFyIGpzb25UcmVlID0gS290bGluLmlzVHlwZSh0bXAkXzEgPSBvYmosIEpzb25PYmplY3QpID8gdG1wJF8xIDogdGhyb3dDQ0UoKTtcbiAgICB2YXIgdHlwZSA9IGdldF9jb250ZW50KGdldFZhbHVlKGpzb25UcmVlLCAkcmVjZWl2ZXIuanNvbi5jb25maWd1cmF0aW9uXzhiZTJ2eCQuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQpKTtcbiAgICAoS290bGluLmlzVHlwZSh0bXAkID0ganNvblRyZWUuY29udGVudCwgTXV0YWJsZU1hcCkgPyB0bXAkIDogdGhyb3dDQ0UoKSkucmVtb3ZlXzExcmIkKCRyZWNlaXZlci5qc29uLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JCk7XG4gICAgdmFyIGFjdHVhbFNlcmlhbGl6ZXIgPSBLb3RsaW4uaXNUeXBlKHRtcCRfMCA9IGRlc2VyaWFsaXplci5maW5kUG9seW1vcnBoaWNTZXJpYWxpemVyX2I2OXphYyQoJHJlY2VpdmVyLCB0eXBlKSwgS1NlcmlhbGl6ZXIpID8gdG1wJF8wIDogdGhyb3dDQ0UoKTtcbiAgICByZXR1cm4gcmVhZEpzb24oJHJlY2VpdmVyLmpzb24sIGpzb25UcmVlLCBhY3R1YWxTZXJpYWxpemVyKTtcbiAgfVxuICBmdW5jdGlvbiBTdHJlYW1pbmdKc29uSW5wdXQoanNvbiwgbW9kZSwgcmVhZGVyKSB7XG4gICAgRWxlbWVudFZhbHVlRGVjb2Rlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuanNvbl8yZXY1YzQkXzAgPSBqc29uO1xuICAgIHRoaXMubW9kZV8wID0gbW9kZTtcbiAgICB0aGlzLnJlYWRlcl84YmUydngkID0gcmVhZGVyO1xuICAgIHRoaXMuY29udGV4dF9uZW1mOTUkXzAgPSB0aGlzLmpzb24uY29udGV4dDtcbiAgICB0aGlzLmN1cnJlbnRJbmRleF8wID0gLTE7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uXzAgPSB0aGlzLmpzb24uY29uZmlndXJhdGlvbl84YmUydngkO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLCAnanNvbicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5qc29uXzJldjVjNCRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dF9uZW1mOTUkXzA7XG4gIH19KTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVKc29uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAobmV3IEpzb25QYXJzZXIodGhpcy5yZWFkZXJfOGJlMnZ4JCkpLnJlYWQoKTtcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUsICd1cGRhdGVNb2RlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25fMC51cGRhdGVNb2RlXzhiZTJ2eCQ7XG4gIH19KTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkID0gZnVuY3Rpb24gKGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiBkZWNvZGVTZXJpYWxpemFibGVWYWx1ZVBvbHltb3JwaGljKHRoaXMsIGRlc2VyaWFsaXplcik7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCA9IGZ1bmN0aW9uIChkZXNjLCB0eXBlUGFyYW1zKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIG5ld01vZGUgPSBzd2l0Y2hNb2RlKHRoaXMuanNvbiwgZGVzYyk7XG4gICAgaWYgKHVuYm94Q2hhcihuZXdNb2RlLmJlZ2luKSAhPT0gSU5WQUxJRCkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgIGlmICgkdGhpcy50b2tlbkNsYXNzICE9PSBuZXdNb2RlLmJlZ2luVGMpIHtcbiAgICAgICAgdG9Cb3hlZENoYXIodG9DaGFyKCR0aGlzLnRva2VuQ2xhc3MpKTtcbiAgICAgICAgJHRoaXMuZmFpbF9ibTRseHMkKFwiRXhwZWN0ZWQgJ1wiICsgU3RyaW5nLmZyb21DaGFyQ29kZSh1bmJveENoYXIobmV3TW9kZS5iZWdpbikpICsgJywga2luZDogJyArIGRlc2Mua2luZCArIFwiJ1wiLCAkdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFkZXJfOGJlMnZ4JC5uZXh0VG9rZW4oKTtcbiAgICB9XG4gICAgc3dpdGNoIChuZXdNb2RlLm5hbWUpIHtcbiAgICAgIGNhc2UgJ0xJU1QnOlxuICAgICAgY2FzZSAnTUFQJzpcbiAgICAgIGNhc2UgJ1BPTFlfT0JKJzpcbiAgICAgICAgdG1wJCA9IG5ldyBTdHJlYW1pbmdKc29uSW5wdXQodGhpcy5qc29uLCBuZXdNb2RlLCB0aGlzLnJlYWRlcl84YmUydngkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OnRtcCQgPSB0aGlzLm1vZGVfMCA9PT0gbmV3TW9kZSA/IHRoaXMgOiBuZXcgU3RyZWFtaW5nSnNvbklucHV0KHRoaXMuanNvbiwgbmV3TW9kZSwgdGhpcy5yZWFkZXJfOGJlMnZ4JCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gICAgaWYgKHVuYm94Q2hhcih0aGlzLm1vZGVfMC5lbmQpICE9PSBJTlZBTElEKSB7XG4gICAgICB2YXIgJHRoaXMgPSB0aGlzLnJlYWRlcl84YmUydngkO1xuICAgICAgaWYgKCR0aGlzLnRva2VuQ2xhc3MgIT09IHRoaXMubW9kZV8wLmVuZFRjKSB7XG4gICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpcy50b2tlbkNsYXNzKSk7XG4gICAgICAgICR0aGlzLmZhaWxfYm00bHhzJChcIkV4cGVjdGVkICdcIiArIFN0cmluZy5mcm9tQ2hhckNvZGUodW5ib3hDaGFyKHRoaXMubW9kZV8wLmVuZCkpICsgXCInXCIsICR0aGlzLnRva2VuUG9zaXRpb25fMCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlYWRlcl84YmUydngkLm5leHRUb2tlbigpO1xuICAgIH1cbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVOb3ROdWxsTWFyayA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkZXJfOGJlMnZ4JC50b2tlbkNsYXNzICE9PSBUQ19OVUxMO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZU51bGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICBpZiAoJHRoaXMudG9rZW5DbGFzcyAhPT0gVENfTlVMTCkge1xuICAgICAgdG9Cb3hlZENoYXIodG9DaGFyKCR0aGlzLnRva2VuQ2xhc3MpKTtcbiAgICAgICR0aGlzLmZhaWxfYm00bHhzJChcIkV4cGVjdGVkICdudWxsJyBsaXRlcmFsXCIsICR0aGlzLnRva2VuUG9zaXRpb25fMCk7XG4gICAgfVxuICAgIHRoaXMucmVhZGVyXzhiZTJ2eCQubmV4dFRva2VuKCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlRWxlbWVudEluZGV4X3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciB0b2tlbkNsYXNzID0gdGhpcy5yZWFkZXJfOGJlMnZ4JC50b2tlbkNsYXNzO1xuICAgIGlmICh0b2tlbkNsYXNzID09PSBUQ19DT01NQSkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgIHZhciBjb25kaXRpb24gPSB0aGlzLmN1cnJlbnRJbmRleF8wICE9PSAtMTtcbiAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucmVhZGVyXzhiZTJ2eCQuY3VycmVudFBvc2l0aW9uO1xuICAgICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgJHRoaXMuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIGxlYWRpbmcgY29tbWEnLCBwb3NpdGlvbik7XG4gICAgICB9XG4gICAgICB0aGlzLnJlYWRlcl84YmUydngkLm5leHRUb2tlbigpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMubW9kZV8wLm5hbWUpIHtcbiAgICAgIGNhc2UgJ0xJU1QnOlxuICAgICAgICB0bXAkID0gdGhpcy5kZWNvZGVMaXN0SW5kZXhfMCh0b2tlbkNsYXNzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNQVAnOlxuICAgICAgICB0bXAkID0gdGhpcy5kZWNvZGVNYXBJbmRleF8wKHRva2VuQ2xhc3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1BPTFlfT0JKJzpcbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRJbmRleF8wID0gdGhpcy5jdXJyZW50SW5kZXhfMCArIDEgfCAwLCB0aGlzLmN1cnJlbnRJbmRleF8wKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdG1wJCA9IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICB0bXAkID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6dG1wJCA9IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6dG1wJCA9IHRoaXMuZGVjb2RlT2JqZWN0SW5kZXhfMCh0b2tlbkNsYXNzLCBkZXNjKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZU1hcEluZGV4XzAgPSBmdW5jdGlvbiAodG9rZW5DbGFzcykge1xuICAgIHZhciB0bXAkO1xuICAgIGlmICh0b2tlbkNsYXNzICE9PSBUQ19DT01NQSAmJiB0aGlzLmN1cnJlbnRJbmRleF8wICUgMiA9PT0gMSkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgIGlmICgkdGhpcy50b2tlbkNsYXNzICE9PSBUQ19FTkRfT0JKKSB7XG4gICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpcy50b2tlbkNsYXNzKSk7XG4gICAgICAgICR0aGlzLmZhaWxfYm00bHhzJCgnRXhwZWN0ZWQgZW5kIG9mIHRoZSBvYmplY3Qgb3IgY29tbWEnLCAkdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5jdXJyZW50SW5kZXhfMCAlIDIgPT09IDApIHtcbiAgICAgIHZhciAkdGhpc18wID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgIGlmICgkdGhpc18wLnRva2VuQ2xhc3MgIT09IFRDX0NPTE9OKSB7XG4gICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpc18wLnRva2VuQ2xhc3MpKTtcbiAgICAgICAgJHRoaXNfMC5mYWlsX2JtNGx4cyQoXCJFeHBlY3RlZCAnOicgYWZ0ZXIgdGhlIGtleVwiLCAkdGhpc18wLnRva2VuUG9zaXRpb25fMCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlYWRlcl84YmUydngkLm5leHRUb2tlbigpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucmVhZGVyXzhiZTJ2eCQuY2FuQmVnaW5WYWx1ZSkge1xuICAgICAgdmFyICR0aGlzXzEgPSB0aGlzLnJlYWRlcl84YmUydngkO1xuICAgICAgdmFyIGNvbmRpdGlvbiA9IHRva2VuQ2xhc3MgIT09IFRDX0NPTU1BO1xuICAgICAgdmFyIHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gPSAkdGhpc18xLmN1cnJlbnRQb3NpdGlvbjtcbiAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgICR0aGlzXzEuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIHRyYWlsaW5nIGNvbW1hJywgcG9zaXRpb24pO1xuICAgICAgfVxuICAgICAgdG1wJCA9IC0xO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0bXAkID0gKHRoaXMuY3VycmVudEluZGV4XzAgPSB0aGlzLmN1cnJlbnRJbmRleF8wICsgMSB8IDAsIHRoaXMuY3VycmVudEluZGV4XzApO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVPYmplY3RJbmRleF8wID0gZnVuY3Rpb24gKHRva2VuQ2xhc3MsIGRlc2MpIHtcbiAgICBpZiAodG9rZW5DbGFzcyA9PT0gVENfQ09NTUEgJiYgIXRoaXMucmVhZGVyXzhiZTJ2eCQuY2FuQmVnaW5WYWx1ZSkge1xuICAgICAgdGhpcy5yZWFkZXJfOGJlMnZ4JC5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgdHJhaWxpbmcgY29tbWEnKTtcbiAgICB9XG4gICAgd2hpbGUgKHRoaXMucmVhZGVyXzhiZTJ2eCQuY2FuQmVnaW5WYWx1ZSkge1xuICAgICAgdGhpcy5jdXJyZW50SW5kZXhfMCA9IHRoaXMuY3VycmVudEluZGV4XzAgKyAxIHwgMDtcbiAgICAgIHZhciBrZXkgPSB0aGlzLnJlYWRlcl84YmUydngkLnRha2VTdHJpbmcoKTtcbiAgICAgIHZhciAkdGhpcyA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICBpZiAoJHRoaXMudG9rZW5DbGFzcyAhPT0gVENfQ09MT04pIHtcbiAgICAgICAgdG9Cb3hlZENoYXIodG9DaGFyKCR0aGlzLnRva2VuQ2xhc3MpKTtcbiAgICAgICAgJHRoaXMuZmFpbF9ibTRseHMkKFwiRXhwZWN0ZWQgJzonXCIsICR0aGlzLnRva2VuUG9zaXRpb25fMCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlYWRlcl84YmUydngkLm5leHRUb2tlbigpO1xuICAgICAgdmFyIGluZGV4ID0gZGVzYy5nZXRFbGVtZW50SW5kZXhfNjF6cG9lJChrZXkpO1xuICAgICAgaWYgKGluZGV4ICE9PSAtMykge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uXzAuc3RyaWN0TW9kZV84YmUydngkKVxuICAgICAgICB0aGlzLnJlYWRlcl84YmUydngkLmZhaWxfYm00bHhzJCgnRW5jb3VudGVyZWQgYW4gdW5rbm93biBrZXkgJyArIGtleSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMucmVhZGVyXzhiZTJ2eCQuc2tpcEVsZW1lbnQoKTtcbiAgICAgIGlmICh0aGlzLnJlYWRlcl84YmUydngkLnRva2VuQ2xhc3MgPT09IFRDX0NPTU1BKSB7XG4gICAgICAgIHRoaXMucmVhZGVyXzhiZTJ2eCQubmV4dFRva2VuKCk7XG4gICAgICAgIHZhciAkdGhpc18wID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMucmVhZGVyXzhiZTJ2eCQuY2FuQmVnaW5WYWx1ZTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5yZWFkZXJfOGJlMnZ4JC5jdXJyZW50UG9zaXRpb247XG4gICAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgICAgJHRoaXNfMC5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgdHJhaWxpbmcgY29tbWEnLCBwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUxpc3RJbmRleF8wID0gZnVuY3Rpb24gKHRva2VuQ2xhc3MpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAodG9rZW5DbGFzcyAhPT0gVENfQ09NTUEgJiYgdGhpcy5jdXJyZW50SW5kZXhfMCAhPT0gLTEpIHtcbiAgICAgIHZhciAkdGhpcyA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICBpZiAoJHRoaXMudG9rZW5DbGFzcyAhPT0gVENfRU5EX0xJU1QpIHtcbiAgICAgICAgdG9Cb3hlZENoYXIodG9DaGFyKCR0aGlzLnRva2VuQ2xhc3MpKTtcbiAgICAgICAgJHRoaXMuZmFpbF9ibTRseHMkKCdFeHBlY3RlZCBlbmQgb2YgdGhlIGFycmF5IG9yIGNvbW1hJywgJHRoaXMudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnJlYWRlcl84YmUydngkLmNhbkJlZ2luVmFsdWUpIHtcbiAgICAgIHZhciAkdGhpc18wID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgIHZhciBjb25kaXRpb24gPSB0b2tlbkNsYXNzICE9PSBUQ19DT01NQTtcbiAgICAgIHZhciBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uID0gJHRoaXNfMC5jdXJyZW50UG9zaXRpb247XG4gICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAkdGhpc18wLmZhaWxfYm00bHhzJCgnVW5leHBlY3RlZCB0cmFpbGluZyBjb21tYScsIHBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICAgIHRtcCQgPSAtMTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdG1wJCA9ICh0aGlzLmN1cnJlbnRJbmRleF8wID0gdGhpcy5jdXJyZW50SW5kZXhfMCArIDEgfCAwLCB0aGlzLmN1cnJlbnRJbmRleF8wKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlQm9vbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5yZWFkZXJfOGJlMnZ4JC50YWtlU3RyaW5nKCk7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbl8wLnN0cmljdE1vZGVfOGJlMnZ4JCA/IHRvQm9vbGVhblN0cmljdCgkcmVjZWl2ZXIpIDogdG9Cb29sZWFuKCRyZWNlaXZlcik7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlQnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9CeXRlXzAodGhpcy5yZWFkZXJfOGJlMnZ4JC50YWtlU3RyaW5nKCkpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZVNob3J0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b1Nob3J0XzAodGhpcy5yZWFkZXJfOGJlMnZ4JC50YWtlU3RyaW5nKCkpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUludCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9JbnQodGhpcy5yZWFkZXJfOGJlMnZ4JC50YWtlU3RyaW5nKCkpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUxvbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvTG9uZyh0aGlzLnJlYWRlcl84YmUydngkLnRha2VTdHJpbmcoKSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlRmxvYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvRG91YmxlKHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVEb3VibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvRG91YmxlKHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVDaGFyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0JveGVkQ2hhcihzaW5nbGUodGhpcy5yZWFkZXJfOGJlMnZ4JC50YWtlU3RyaW5nKCkpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUVudW1fdzg0OXFzJCA9IGZ1bmN0aW9uIChlbnVtRGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gZ2V0RWxlbWVudEluZGV4T3JUaHJvdyhlbnVtRGVzY3JpcHRpb24sIHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1N0cmVhbWluZ0pzb25JbnB1dCcsIGludGVyZmFjZXM6IFtFbGVtZW50VmFsdWVEZWNvZGVyLCBKc29uSW5wdXRdfTtcbiAgZnVuY3Rpb24gU3RyZWFtaW5nSnNvbk91dHB1dChjb21wb3NlciwganNvbiwgbW9kZSwgbW9kZVJldXNlQ2FjaGUpIHtcbiAgICBFbGVtZW50VmFsdWVFbmNvZGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5jb21wb3Nlcl8wID0gY29tcG9zZXI7XG4gICAgdGhpcy5qc29uX2xwZG9kdCRfMCA9IGpzb247XG4gICAgdGhpcy5tb2RlXzAgPSBtb2RlO1xuICAgIHRoaXMubW9kZVJldXNlQ2FjaGVfMCA9IG1vZGVSZXVzZUNhY2hlO1xuICAgIHRoaXMuY29udGV4dF80MWpkcW0kXzAgPSB0aGlzLmpzb24uY29udGV4dDtcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb25fMCA9IHRoaXMuanNvbi5jb25maWd1cmF0aW9uXzhiZTJ2eCQ7XG4gICAgdGhpcy5mb3JjZVF1b3RpbmdfMCA9IGZhbHNlO1xuICAgIHRoaXMud3JpdGVQb2x5bW9ycGhpY18wID0gZmFsc2U7XG4gICAgdmFyIGkgPSB0aGlzLm1vZGVfMC5vcmRpbmFsO1xuICAgIGlmICh0aGlzLm1vZGVSZXVzZUNhY2hlXzBbaV0gIT09IG51bGwgfHwgdGhpcy5tb2RlUmV1c2VDYWNoZV8wW2ldICE9PSB0aGlzKVxuICAgICAgdGhpcy5tb2RlUmV1c2VDYWNoZV8wW2ldID0gdGhpcztcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUsICdqc29uJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmpzb25fbHBkb2R0JF8wO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dF80MWpkcW0kXzA7XG4gIH19KTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlSnNvbl9xaXcwY2QkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQoSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCksIGVsZW1lbnQpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5zaG91bGRFbmNvZGVFbGVtZW50RGVmYXVsdF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbl8wLmVuY29kZURlZmF1bHRzXzhiZTJ2eCQ7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQgPSBmdW5jdGlvbiAoc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgICBlbmNvZGVQb2x5bW9ycGhpY2FsbHkkYnJlYWs6IGRvIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUoc2VyaWFsaXplciwgUG9seW1vcnBoaWNTZXJpYWxpemVyKSB8fCB0aGlzLmpzb24uY29uZmlndXJhdGlvbl84YmUydngkLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQpIHtcbiAgICAgICAgc2VyaWFsaXplci5zZXJpYWxpemVfYXdlOTdpJCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGJyZWFrIGVuY29kZVBvbHltb3JwaGljYWxseSRicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBhY3R1YWxTZXJpYWxpemVyID0gS290bGluLmlzVHlwZSh0bXAkXzAgPSBzZXJpYWxpemVyLmZpbmRQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfOXYwOHU0JCh0aGlzLCBLb3RsaW4uaXNUeXBlKHRtcCQgPSB2YWx1ZSwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRSgpKSwgS1NlcmlhbGl6ZXIpID8gdG1wJF8wIDogdGhyb3dDQ0UoKTtcbiAgICAgIHZhciBraW5kID0gYWN0dWFsU2VyaWFsaXplci5kZXNjcmlwdG9yLmtpbmQ7XG4gICAgICBjaGVja0tpbmQoa2luZCk7XG4gICAgICB0aGlzLndyaXRlUG9seW1vcnBoaWNfMCA9IHRydWU7XG4gICAgICBhY3R1YWxTZXJpYWxpemVyLnNlcmlhbGl6ZV9hd2U5N2kkKHRoaXMsIHZhbHVlKTtcbiAgICB9XG4gICAgIHdoaWxlIChmYWxzZSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZVR5cGVJbmZvXzAgPSBmdW5jdGlvbiAoZGVzY3JpcHRvcikge1xuICAgIHRoaXMuY29tcG9zZXJfMC5uZXh0SXRlbSgpO1xuICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodGhpcy5jb25maWd1cmF0aW9uXzAuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQpO1xuICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGl0dmgkKENPTE9OKTtcbiAgICB0aGlzLmNvbXBvc2VyXzAuc3BhY2UoKTtcbiAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKGRlc2NyaXB0b3IubmFtZSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQgPSBmdW5jdGlvbiAoZGVzYywgdHlwZVBhcmFtcykge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBuZXdNb2RlID0gc3dpdGNoTW9kZSh0aGlzLmpzb24sIGRlc2MpO1xuICAgIGlmICh1bmJveENoYXIobmV3TW9kZS5iZWdpbikgIT09IElOVkFMSUQpIHtcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGl0dmgkKHVuYm94Q2hhcihuZXdNb2RlLmJlZ2luKSk7XG4gICAgICB0aGlzLmNvbXBvc2VyXzAuaW5kZW50KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLndyaXRlUG9seW1vcnBoaWNfMCkge1xuICAgICAgdGhpcy53cml0ZVBvbHltb3JwaGljXzAgPSBmYWxzZTtcbiAgICAgIHRoaXMuZW5jb2RlVHlwZUluZm9fMChkZXNjKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubW9kZV8wID09PSBuZXdNb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICh0bXAkID0gdGhpcy5tb2RlUmV1c2VDYWNoZV8wW25ld01vZGUub3JkaW5hbF0pICE9IG51bGwgPyB0bXAkIDogbmV3IFN0cmVhbWluZ0pzb25PdXRwdXQodGhpcy5jb21wb3Nlcl8wLCB0aGlzLmpzb24sIG5ld01vZGUsIHRoaXMubW9kZVJldXNlQ2FjaGVfMCk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICBpZiAodW5ib3hDaGFyKHRoaXMubW9kZV8wLmVuZCkgIT09IElOVkFMSUQpIHtcbiAgICAgIHRoaXMuY29tcG9zZXJfMC51bkluZGVudCgpO1xuICAgICAgdGhpcy5jb21wb3Nlcl8wLm5leHRJdGVtKCk7XG4gICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfczhpdHZoJCh1bmJveENoYXIodGhpcy5tb2RlXzAuZW5kKSk7XG4gICAgfVxuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICBzd2l0Y2ggKHRoaXMubW9kZV8wLm5hbWUpIHtcbiAgICAgIGNhc2UgJ0xJU1QnOlxuICAgICAgICBpZiAoIXRoaXMuY29tcG9zZXJfMC53cml0aW5nRmlyc3QpXG4gICAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4aXR2aCQoQ09NTUEpO1xuICAgICAgICB0aGlzLmNvbXBvc2VyXzAubmV4dEl0ZW0oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdNQVAnOlxuICAgICAgICBpZiAoIXRoaXMuY29tcG9zZXJfMC53cml0aW5nRmlyc3QpIHtcbiAgICAgICAgICBpZiAoaW5kZXggJSAyID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfczhpdHZoJChDT01NQSk7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2VyXzAubmV4dEl0ZW0oKTtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VRdW90aW5nXzAgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfczhpdHZoJChDT0xPTik7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2VyXzAuc3BhY2UoKTtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VRdW90aW5nXzAgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuZm9yY2VRdW90aW5nXzAgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuY29tcG9zZXJfMC5uZXh0SXRlbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQT0xZX09CSic6XG4gICAgICAgIGlmIChpbmRleCA9PT0gMClcbiAgICAgICAgICB0aGlzLmZvcmNlUXVvdGluZ18wID0gdHJ1ZTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAxKSB7XG4gICAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4aXR2aCQoQ09NTUEpO1xuICAgICAgICAgIHRoaXMuY29tcG9zZXJfMC5zcGFjZSgpO1xuICAgICAgICAgIHRoaXMuZm9yY2VRdW90aW5nXzAgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDppZiAoIXRoaXMuY29tcG9zZXJfMC53cml0aW5nRmlyc3QpXG4gICAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4aXR2aCQoQ09NTUEpO1xuICAgICAgICB0aGlzLmNvbXBvc2VyXzAubmV4dEl0ZW0oKTtcbiAgICAgICAgdGhpcy5lbmNvZGVTdHJpbmdfNjF6cG9lJChkZXNjLmdldEVsZW1lbnROYW1lX3phM2xwYSQoaW5kZXgpKTtcbiAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4aXR2aCQoQ09MT04pO1xuICAgICAgICB0aGlzLmNvbXBvc2VyXzAuc3BhY2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF82MXpwb2UkKE5VTEwpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVCb29sZWFuXzZ0YWtudiQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5mb3JjZVF1b3RpbmdfMClcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50XzZ0YWtudiQodmFsdWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVCeXRlX3M4ajN0NyQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5mb3JjZVF1b3RpbmdfMClcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4ajN0NyQodmFsdWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVTaG9ydF9tcTIyZmwkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZm9yY2VRdW90aW5nXzApXG4gICAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9tcTIyZmwkKHZhbHVlKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlSW50X3phM2xwYSQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5mb3JjZVF1b3RpbmdfMClcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3phM2xwYSQodmFsdWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVMb25nX3M4Y3hoeiQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5mb3JjZVF1b3RpbmdfMClcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4Y3hoeiQodmFsdWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVGbG9hdF9teDR1bHQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbl8wLnN0cmljdE1vZGVfOGJlMnZ4JCAmJiAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICB0aHJvdyBJbnZhbGlkRmxvYXRpbmdQb2ludCh2YWx1ZSwgJ2Zsb2F0Jyk7XG4gICAgfVxuICAgIGlmICh0aGlzLmZvcmNlUXVvdGluZ18wKVxuICAgICAgdGhpcy5lbmNvZGVTdHJpbmdfNjF6cG9lJCh2YWx1ZS50b1N0cmluZygpKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfbXg0dWx0JCh2YWx1ZSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZURvdWJsZV8xNGR0aGUkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbl8wLnN0cmljdE1vZGVfOGJlMnZ4JCAmJiAhaXNGaW5pdGVfMCh2YWx1ZSkpIHtcbiAgICAgIHRocm93IEludmFsaWRGbG9hdGluZ1BvaW50KHZhbHVlLCAnZG91YmxlJyk7XG4gICAgfVxuICAgIGlmICh0aGlzLmZvcmNlUXVvdGluZ18wKVxuICAgICAgdGhpcy5lbmNvZGVTdHJpbmdfNjF6cG9lJCh2YWx1ZS50b1N0cmluZygpKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfMTRkdGhlJCh2YWx1ZSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZUNoYXJfczhpdHZoJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQoU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSkpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVTdHJpbmdfNjF6cG9lJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb25fMC51bnF1b3RlZF84YmUydngkICYmICFzaG91bGRCZVF1b3RlZCh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF82MXpwb2UkKHZhbHVlKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50UXVvdGVkXzYxenBvZSQodmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlRW51bV8zOXlhaHEkID0gZnVuY3Rpb24gKGVudW1EZXNjcmlwdGlvbiwgb3JkaW5hbCkge1xuICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQoZW51bURlc2NyaXB0aW9uLmdldEVsZW1lbnROYW1lX3phM2xwYSQob3JkaW5hbCkpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVWYWx1ZV96YTNybXAkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbl8wLnN0cmljdE1vZGVfOGJlMnZ4JClcbiAgICAgIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZVZhbHVlX3phM3JtcCQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5lbmNvZGVTdHJpbmdfNjF6cG9lJCh2YWx1ZS50b1N0cmluZygpKTtcbiAgfTtcbiAgZnVuY3Rpb24gU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3NlcihzYiwganNvbikge1xuICAgIHRoaXMuc2JfOGJlMnZ4JCA9IHNiO1xuICAgIHRoaXMuanNvbl8wID0ganNvbjtcbiAgICB0aGlzLmxldmVsXzAgPSAwO1xuICAgIHRoaXMud3JpdGluZ0ZpcnN0X3V3NWZxeiRfMCA9IHRydWU7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbWluZ0pzb25PdXRwdXQkQ29tcG9zZXIucHJvdG90eXBlLCAnd3JpdGluZ0ZpcnN0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLndyaXRpbmdGaXJzdF91dzVmcXokXzA7XG4gIH0sIHNldDogZnVuY3Rpb24gKHdyaXRpbmdGaXJzdCkge1xuICAgIHRoaXMud3JpdGluZ0ZpcnN0X3V3NWZxeiRfMCA9IHdyaXRpbmdGaXJzdDtcbiAgfX0pO1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5pbmRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy53cml0aW5nRmlyc3QgPSB0cnVlO1xuICAgIHRoaXMubGV2ZWxfMCA9IHRoaXMubGV2ZWxfMCArIDEgfCAwO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS51bkluZGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmxldmVsXzAgPSB0aGlzLmxldmVsXzAgLSAxIHwgMDtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUubmV4dEl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy53cml0aW5nRmlyc3QgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5qc29uXzAuY29uZmlndXJhdGlvbl84YmUydngkLnByZXR0eVByaW50XzhiZTJ2eCQpIHtcbiAgICAgIHRoaXMucHJpbnRfNjF6cG9lJCgnXFxuJyk7XG4gICAgICB2YXIgdGltZXMgPSB0aGlzLmxldmVsXzA7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGltZXM7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy5wcmludF82MXpwb2UkKHRoaXMuanNvbl8wLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC5pbmRlbnRfOGJlMnZ4JCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5zcGFjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5qc29uXzAuY29uZmlndXJhdGlvbl84YmUydngkLnByZXR0eVByaW50XzhiZTJ2eCQpXG4gICAgICB0aGlzLnByaW50X3M4aXR2aCQoMzIpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF9zOGl0dmgkID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGl0dmgkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF82MXpwb2UkID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9ndzAwdjkkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF9teDR1bHQkID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGp5djQkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF8xNGR0aGUkID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGp5djQkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF9zOGozdDckID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGp5djQkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF9tcTIyZmwkID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGp5djQkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF96YTNscGEkID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGp5djQkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF9zOGN4aHokID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGp5djQkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludF82dGFrbnYkID0gZnVuY3Rpb24gKHYpIHtcbiAgICByZXR1cm4gdGhpcy5zYl84YmUydngkLmFwcGVuZF9zOGp5djQkKHYpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZS5wcmludFF1b3RlZF82MXpwb2UkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcHJpbnRRdW90ZWQodGhpcy5zYl84YmUydngkLCB2YWx1ZSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQkQ29tcG9zZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ29tcG9zZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU3RyZWFtaW5nSnNvbk91dHB1dCcsIGludGVyZmFjZXM6IFtFbGVtZW50VmFsdWVFbmNvZGVyLCBKc29uT3V0cHV0XX07XG4gIGZ1bmN0aW9uIFN0cmVhbWluZ0pzb25PdXRwdXRfaW5pdChvdXRwdXQsIGpzb24sIG1vZGUsIG1vZGVSZXVzZUNhY2hlLCAkdGhpcykge1xuICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZSk7XG4gICAgU3RyZWFtaW5nSnNvbk91dHB1dC5jYWxsKCR0aGlzLCBuZXcgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3NlcihvdXRwdXQsIGpzb24pLCBqc29uLCBtb2RlLCBtb2RlUmV1c2VDYWNoZSk7XG4gICAgcmV0dXJuICR0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIHRvSGV4Q2hhcihpKSB7XG4gICAgdmFyIGQgPSBpICYgMTU7XG4gICAgcmV0dXJuIGQgPCAxMCA/IHRvQ2hhcihkICsgNDggfCAwKSA6IHRvQ2hhcihkIC0gMTAgKyA5NyB8IDApO1xuICB9XG4gIHZhciBFU0NBUEVfQ0hBUlM7XG4gIGZ1bmN0aW9uIHByaW50UXVvdGVkKCRyZWNlaXZlciwgdmFsdWUpIHtcbiAgICB2YXIgdG1wJDtcbiAgICAkcmVjZWl2ZXIuYXBwZW5kX3M4aXR2aCQoU1RSSU5HKTtcbiAgICB2YXIgbGFzdFBvcyA9IDA7XG4gICAgdmFyIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IHZhbHVlLmNoYXJDb2RlQXQoaSkgfCAwO1xuICAgICAgaWYgKGMgPj0gRVNDQVBFX0NIQVJTLmxlbmd0aClcbiAgICAgICAgY29udGludWU7XG4gICAgICB0bXAkID0gRVNDQVBFX0NIQVJTW2NdO1xuICAgICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBlc2MgPSB0bXAkO1xuICAgICAgJHJlY2VpdmVyLmFwcGVuZF9lemJzZGgkKHZhbHVlLCBsYXN0UG9zLCBpKTtcbiAgICAgICRyZWNlaXZlci5hcHBlbmRfZ3cwMHY5JChlc2MpO1xuICAgICAgbGFzdFBvcyA9IGkgKyAxIHwgMDtcbiAgICB9XG4gICAgJHJlY2VpdmVyLmFwcGVuZF9lemJzZGgkKHZhbHVlLCBsYXN0UG9zLCBsZW5ndGgpO1xuICAgICRyZWNlaXZlci5hcHBlbmRfczhpdHZoJChTVFJJTkcpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQm9vbGVhblN0cmljdCgkcmVjZWl2ZXIpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gdG9Cb29sZWFuU3RyaWN0T3JOdWxsKCRyZWNlaXZlcik7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQoJHJlY2VpdmVyICsgJyBkb2VzIG5vdCByZXByZXNlbnQgYSBCb29sZWFuJyk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9XG4gIGZ1bmN0aW9uIHRvQm9vbGVhblN0cmljdE9yTnVsbCgkcmVjZWl2ZXIpIHtcbiAgICBpZiAoZXF1YWxzXzAoJHJlY2VpdmVyLCAndHJ1ZScsIHRydWUpKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgZWxzZSBpZiAoZXF1YWxzXzAoJHJlY2VpdmVyLCAnZmFsc2UnLCB0cnVlKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBzaG91bGRCZVF1b3RlZChzdHIpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAoZXF1YWxzKHN0ciwgTlVMTCkpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB0bXAkID0gaXRlcmF0b3Ioc3RyKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBjaCA9IHVuYm94Q2hhcih0bXAkLm5leHQoKSk7XG4gICAgICBpZiAoY2hhclRvVG9rZW5DbGFzcyhjaCkgIT09IFRDX09USEVSKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJlYWRKc29uKCRyZWNlaXZlciwgZWxlbWVudCwgZGVzZXJpYWxpemVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICBpZiAoS290bGluLmlzVHlwZShlbGVtZW50LCBKc29uT2JqZWN0KSlcbiAgICAgIHRtcCRfMCA9IG5ldyBKc29uVHJlZUlucHV0KCRyZWNlaXZlciwgZWxlbWVudCk7XG4gICAgZWxzZSBpZiAoS290bGluLmlzVHlwZShlbGVtZW50LCBKc29uQXJyYXkpKVxuICAgICAgdG1wJF8wID0gbmV3IEpzb25UcmVlTGlzdElucHV0KCRyZWNlaXZlciwgZWxlbWVudCk7XG4gICAgZWxzZSBpZiAoS290bGluLmlzVHlwZShlbGVtZW50LCBKc29uTGl0ZXJhbCkgfHwgZXF1YWxzKGVsZW1lbnQsIEpzb25OdWxsX2dldEluc3RhbmNlKCkpKSB7XG4gICAgICB0bXAkXzAgPSBuZXcgSnNvblByaW1pdGl2ZUlucHV0KCRyZWNlaXZlciwgS290bGluLmlzVHlwZSh0bXAkID0gZWxlbWVudCwgSnNvblByaW1pdGl2ZSkgPyB0bXAkIDogdGhyb3dDQ0UoKSk7XG4gICAgfVxuICAgICBlbHNlXG4gICAgICB0bXAkXzAgPSBLb3RsaW4ubm9XaGVuQnJhbmNoTWF0Y2hlZCgpO1xuICAgIHZhciBpbnB1dCA9IHRtcCRfMDtcbiAgICByZXR1cm4gZGVjb2RlXzAoaW5wdXQsIGRlc2VyaWFsaXplcik7XG4gIH1cbiAgZnVuY3Rpb24gQWJzdHJhY3RKc29uVHJlZUlucHV0KGpzb24sIG9iaikge1xuICAgIE5hbWVkVmFsdWVEZWNvZGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5qc29uX3NhNjF0eSRfMCA9IGpzb247XG4gICAgdGhpcy5vYmpfZ3ljMnN2JF8wID0gb2JqO1xuICAgIHRoaXMuY29uZmlndXJhdGlvbl8wID0gdGhpcy5qc29uLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JDtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZSwgJ2pzb24nLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbl9zYTYxdHkkXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUsICdvYmonLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqX2d5YzJzdiRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbi5jb250ZXh0O1xuICB9fSk7XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuY3VycmVudE9iamVjdF8wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSAodG1wJCA9IHRoaXMuY3VycmVudFRhZ09yTnVsbCkgIT0gbnVsbCA/IHRoaXMuY3VycmVudEVsZW1lbnRfNjF6cG9lJCh0bXAkKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB0aGlzLm9iajtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVKc29uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRPYmplY3RfMCgpO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZSwgJ3VwZGF0ZU1vZGUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbl8wLnVwZGF0ZU1vZGVfOGJlMnZ4JDtcbiAgfX0pO1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQgPSBmdW5jdGlvbiAoZGVzZXJpYWxpemVyKSB7XG4gICAgcmV0dXJuIGRlY29kZVNlcmlhbGl6YWJsZVZhbHVlUG9seW1vcnBoaWModGhpcywgZGVzZXJpYWxpemVyKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5jb21wb3NlTmFtZV9wdWo3ZjQkID0gZnVuY3Rpb24gKHBhcmVudE5hbWUsIGNoaWxkTmFtZSkge1xuICAgIHJldHVybiBjaGlsZE5hbWU7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCA9IGZ1bmN0aW9uIChkZXNjLCB0eXBlUGFyYW1zKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXMuY3VycmVudE9iamVjdF8wKCk7XG4gICAgdG1wJCA9IGRlc2Mua2luZDtcbiAgICBpZiAoZXF1YWxzKHRtcCQsIFN0cnVjdHVyZUtpbmQkTElTVF9nZXRJbnN0YW5jZSgpKSB8fCBlcXVhbHModG1wJCwgVW5pb25LaW5kJFBPTFlNT1JQSElDX2dldEluc3RhbmNlKCkpKSB7XG4gICAgICB2YXIgdG1wJF8xID0gdGhpcy5qc29uO1xuICAgICAgdmFyIHRtcCRfMjtcbiAgICAgIGlmICghS290bGluLmlzVHlwZShjdXJyZW50T2JqZWN0LCBKc29uQXJyYXkpKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0V4cGVjdGVkICcgKyBnZXRLQ2xhc3MoSnNvbkFycmF5KSArICcgYnV0IGZvdW5kICcgKyBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24oY3VycmVudE9iamVjdCk7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB0bXAkXzAgPSBuZXcgSnNvblRyZWVMaXN0SW5wdXQodG1wJF8xLCBLb3RsaW4uaXNUeXBlKHRtcCRfMiA9IGN1cnJlbnRPYmplY3QsIEpzb25BcnJheSkgPyB0bXAkXzIgOiB0aHJvd0NDRSgpKTtcbiAgICB9XG4gICAgIGVsc2UgaWYgKGVxdWFscyh0bXAkLCBTdHJ1Y3R1cmVLaW5kJE1BUF9nZXRJbnN0YW5jZSgpKSkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuanNvbjtcbiAgICAgIHZhciB0bXAkXzM7XG4gICAgICB2YXIga2V5RGVzY3JpcHRvciA9IGRlc2MuZ2V0RWxlbWVudERlc2NyaXB0b3JfemEzbHBhJCgwKTtcbiAgICAgIHZhciBrZXlLaW5kID0ga2V5RGVzY3JpcHRvci5raW5kO1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoa2V5S2luZCwgUHJpbWl0aXZlS2luZCkgfHwgZXF1YWxzKGtleUtpbmQsIFVuaW9uS2luZC5FTlVNX0tJTkQpKSB7XG4gICAgICAgIHZhciB0bXAkXzQgPSB0aGlzLmpzb247XG4gICAgICAgIHZhciB0bXAkXzU7XG4gICAgICAgIGlmICghS290bGluLmlzVHlwZShjdXJyZW50T2JqZWN0LCBKc29uT2JqZWN0KSkge1xuICAgICAgICAgIHZhciBtZXNzYWdlXzAgPSAnRXhwZWN0ZWQgJyArIGdldEtDbGFzcyhKc29uT2JqZWN0KSArICcgYnV0IGZvdW5kICcgKyBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24oY3VycmVudE9iamVjdCk7XG4gICAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQobWVzc2FnZV8wLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRtcCRfMyA9IG5ldyBKc29uVHJlZU1hcElucHV0KHRtcCRfNCwgS290bGluLmlzVHlwZSh0bXAkXzUgPSBjdXJyZW50T2JqZWN0LCBKc29uT2JqZWN0KSA/IHRtcCRfNSA6IHRocm93Q0NFKCkpO1xuICAgICAgfVxuICAgICAgIGVsc2UgaWYgKCRyZWNlaXZlci5jb25maWd1cmF0aW9uXzhiZTJ2eCQuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkKSB7XG4gICAgICAgIHZhciB0bXAkXzYgPSB0aGlzLmpzb247XG4gICAgICAgIHZhciB0bXAkXzc7XG4gICAgICAgIGlmICghS290bGluLmlzVHlwZShjdXJyZW50T2JqZWN0LCBKc29uQXJyYXkpKSB7XG4gICAgICAgICAgdmFyIG1lc3NhZ2VfMSA9ICdFeHBlY3RlZCAnICsgZ2V0S0NsYXNzKEpzb25BcnJheSkgKyAnIGJ1dCBmb3VuZCAnICsgS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKGN1cnJlbnRPYmplY3QpO1xuICAgICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KG1lc3NhZ2VfMS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICB0bXAkXzMgPSBuZXcgSnNvblRyZWVMaXN0SW5wdXQodG1wJF82LCBLb3RsaW4uaXNUeXBlKHRtcCRfNyA9IGN1cnJlbnRPYmplY3QsIEpzb25BcnJheSkgPyB0bXAkXzcgOiB0aHJvd0NDRSgpKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgSnNvbk1hcEludmFsaWRLZXlLaW5kKGtleURlc2NyaXB0b3IpO1xuICAgICAgfVxuICAgICAgdG1wJF8wID0gdG1wJF8zO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB2YXIgdG1wJF84ID0gdGhpcy5qc29uO1xuICAgICAgdmFyIHRtcCRfOTtcbiAgICAgIGlmICghS290bGluLmlzVHlwZShjdXJyZW50T2JqZWN0LCBKc29uT2JqZWN0KSkge1xuICAgICAgICB2YXIgbWVzc2FnZV8yID0gJ0V4cGVjdGVkICcgKyBnZXRLQ2xhc3MoSnNvbk9iamVjdCkgKyAnIGJ1dCBmb3VuZCAnICsgS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKGN1cnJlbnRPYmplY3QpO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdChtZXNzYWdlXzIudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB0bXAkXzAgPSBuZXcgSnNvblRyZWVJbnB1dCh0bXAkXzgsIEtvdGxpbi5pc1R5cGUodG1wJF85ID0gY3VycmVudE9iamVjdCwgSnNvbk9iamVjdCkgPyB0bXAkXzkgOiB0aHJvd0NDRSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCRfMDtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5nZXRWYWx1ZV82MXpwb2UkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gdGhpcy5jdXJyZW50RWxlbWVudF82MXpwb2UkKHRhZyk7XG4gICAgdG1wJF8wID0gS290bGluLmlzVHlwZSh0bXAkID0gY3VycmVudEVsZW1lbnQsIEpzb25QcmltaXRpdmUpID8gdG1wJCA6IG51bGw7XG4gICAgaWYgKHRtcCRfMCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSnNvbkRlY29kaW5nRXhjZXB0aW9uKC0xLCAnRXhwZWN0ZWQgSnNvblByaW1pdGl2ZSBhdCAnICsgdGFnICsgJywgZm91bmQgJyArIGN1cnJlbnRFbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCRfMDtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWRDaGFyXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBvID0gdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZyk7XG4gICAgaWYgKG8uY29udGVudC5sZW5ndGggPT09IDEpXG4gICAgICB0bXAkID0gby5jb250ZW50LmNoYXJDb2RlQXQoMCk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oby50b1N0cmluZygpICsgXCIgY2FuJ3QgYmUgcmVwcmVzZW50ZWQgYXMgQ2hhclwiKTtcbiAgICByZXR1cm4gdG9Cb3hlZENoYXIodG1wJCk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkRW51bV93YzhocmIkID0gZnVuY3Rpb24gKHRhZywgZW51bURlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIGdldEVsZW1lbnRJbmRleE9yVGhyb3coZW51bURlc2NyaXB0aW9uLCB0aGlzLmdldFZhbHVlXzYxenBvZSQodGFnKS5jb250ZW50KTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWROdWxsXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZE5vdE51bGxNYXJrXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50XzYxenBvZSQodGFnKSAhPT0gSnNvbk51bGxfZ2V0SW5zdGFuY2UoKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWRVbml0XzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybjtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWRCb29sZWFuXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0aGlzLmdldFZhbHVlXzYxenBvZSQodGFnKS5ib29sZWFuO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZEJ5dGVfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIHRvQnl0ZSh0aGlzLmdldFZhbHVlXzYxenBvZSQodGFnKS5pbnQpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZFNob3J0XzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0b1Nob3J0KHRoaXMuZ2V0VmFsdWVfNjF6cG9lJCh0YWcpLmludCk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkSW50XzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0aGlzLmdldFZhbHVlXzYxenBvZSQodGFnKS5pbnQ7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkTG9uZ18xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykubG9uZztcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWRGbG9hdF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykuZmxvYXQ7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkRG91YmxlXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0aGlzLmdldFZhbHVlXzYxenBvZSQodGFnKS5kb3VibGU7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkU3RyaW5nXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0aGlzLmdldFZhbHVlXzYxenBvZSQodGFnKS5jb250ZW50O1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RKc29uVHJlZUlucHV0JywgaW50ZXJmYWNlczogW0pzb25JbnB1dCwgTmFtZWRWYWx1ZURlY29kZXJdfTtcbiAgZnVuY3Rpb24gSnNvblByaW1pdGl2ZUlucHV0KGpzb24sIG9iaikge1xuICAgIEFic3RyYWN0SnNvblRyZWVJbnB1dC5jYWxsKHRoaXMsIGpzb24sIG9iaik7XG4gICAgdGhpcy5vYmpfZHFqMHBtJF8wID0gb2JqO1xuICAgIHRoaXMucHVzaFRhZ18xMXJiJChQUklNSVRJVkVfVEFHKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZUlucHV0LnByb3RvdHlwZSwgJ29iaicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmpfZHFqMHBtJF8wO1xuICB9fSk7XG4gIEpzb25QcmltaXRpdmVJbnB1dC5wcm90b3R5cGUuY3VycmVudEVsZW1lbnRfNjF6cG9lJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICBpZiAoISh0YWcgPT09IFBSSU1JVElWRV9UQUcpKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9IFwiVGhpcyBpbnB1dCBjYW4gb25seSBoYW5kbGUgcHJpbWl0aXZlcyB3aXRoICdwcmltaXRpdmUnIHRhZ1wiO1xuICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub2JqO1xuICB9O1xuICBKc29uUHJpbWl0aXZlSW5wdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvblByaW1pdGl2ZUlucHV0JywgaW50ZXJmYWNlczogW0Fic3RyYWN0SnNvblRyZWVJbnB1dF19O1xuICBmdW5jdGlvbiBKc29uVHJlZUlucHV0KGpzb24sIG9iaikge1xuICAgIEFic3RyYWN0SnNvblRyZWVJbnB1dC5jYWxsKHRoaXMsIGpzb24sIG9iaik7XG4gICAgdGhpcy5vYmpfcGlrbzBqJF8wID0gb2JqO1xuICAgIHRoaXMucG9zaXRpb25fMCA9IDA7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25UcmVlSW5wdXQucHJvdG90eXBlLCAnb2JqJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9ial9waWtvMGokXzA7XG4gIH19KTtcbiAgSnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlRWxlbWVudEluZGV4X3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHZhciB0bXAkO1xuICAgIHdoaWxlICh0aGlzLnBvc2l0aW9uXzAgPCBkZXNjLmVsZW1lbnRzQ291bnQpIHtcbiAgICAgIHZhciBuYW1lID0gdGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCAodG1wJCA9IHRoaXMucG9zaXRpb25fMCwgdGhpcy5wb3NpdGlvbl8wID0gdG1wJCArIDEgfCAwLCB0bXAkKSk7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5vYmo7XG4gICAgICB2YXIgdG1wJF8wO1xuICAgICAgaWYgKChLb3RsaW4uaXNUeXBlKHRtcCRfMCA9ICRyZWNlaXZlciwgTWFwKSA/IHRtcCRfMCA6IHRocm93Q0NFKCkpLmNvbnRhaW5zS2V5XzExcmIkKG5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uXzAgLSAxIHwgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuICBKc29uVHJlZUlucHV0LnByb3RvdHlwZS5jdXJyZW50RWxlbWVudF82MXpwb2UkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiBnZXRWYWx1ZSh0aGlzLm9iaiwgdGFnKTtcbiAgfTtcbiAgSnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgaWYgKCF0aGlzLmNvbmZpZ3VyYXRpb25fMC5zdHJpY3RNb2RlXzhiZTJ2eCQgfHwgS290bGluLmlzVHlwZShkZXNjLCBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvcikpXG4gICAgICByZXR1cm47XG4gICAgdmFyIG5hbWVzID0gSGFzaFNldF9pbml0XzEoZGVzYy5lbGVtZW50c0NvdW50KTtcbiAgICB0bXAkID0gZGVzYy5lbGVtZW50c0NvdW50O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG1wJDsgaSsrKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGRlc2MuZ2V0RWxlbWVudE5hbWVfemEzbHBhJChpKTtcbiAgICAgIG5hbWVzLmFkZF8xMXJiJChlbGVtZW50KTtcbiAgICB9XG4gICAgdG1wJF8wID0gdGhpcy5vYmoua2V5cy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkXzAuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIga2V5ID0gdG1wJF8wLm5leHQoKTtcbiAgICAgIGlmICghbmFtZXMuY29udGFpbnNfMTFyYiQoa2V5KSlcbiAgICAgICAgdGhyb3cganNvblVua25vd25LZXlFeGNlcHRpb24oLTEsIGtleSk7XG4gICAgfVxuICB9O1xuICBKc29uVHJlZUlucHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25UcmVlSW5wdXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RKc29uVHJlZUlucHV0XX07XG4gIGZ1bmN0aW9uIEpzb25UcmVlTWFwSW5wdXQoanNvbiwgb2JqKSB7XG4gICAgSnNvblRyZWVJbnB1dC5jYWxsKHRoaXMsIGpzb24sIG9iaik7XG4gICAgdGhpcy5vYmpfcmVnN29kJF8wID0gb2JqO1xuICAgIHRoaXMua2V5c18wID0gdG9MaXN0KHRoaXMub2JqLmtleXMpO1xuICAgIHRoaXMuc2l6ZV8wID0gdGhpcy5rZXlzXzAuc2l6ZSAqIDIgfCAwO1xuICAgIHRoaXMucG9zaXRpb25fMSA9IC0xO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uVHJlZU1hcElucHV0LnByb3RvdHlwZSwgJ29iaicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmpfcmVnN29kJF8wO1xuICB9fSk7XG4gIEpzb25UcmVlTWFwSW5wdXQucHJvdG90eXBlLmVsZW1lbnROYW1lXzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICB2YXIgaSA9IGluZGV4IC8gMiB8IDA7XG4gICAgcmV0dXJuIHRoaXMua2V5c18wLmdldF96YTNscGEkKGkpO1xuICB9O1xuICBKc29uVHJlZU1hcElucHV0LnByb3RvdHlwZS5kZWNvZGVFbGVtZW50SW5kZXhfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gICAgd2hpbGUgKHRoaXMucG9zaXRpb25fMSA8ICh0aGlzLnNpemVfMCAtIDEgfCAwKSkge1xuICAgICAgdGhpcy5wb3NpdGlvbl8xID0gdGhpcy5wb3NpdGlvbl8xICsgMSB8IDA7XG4gICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbl8xO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG4gIEpzb25UcmVlTWFwSW5wdXQucHJvdG90eXBlLmN1cnJlbnRFbGVtZW50XzYxenBvZSQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25fMSAlIDIgPT09IDAgPyBKc29uTGl0ZXJhbF9pbml0XzEodGFnKSA6IGdldFZhbHVlKHRoaXMub2JqLCB0YWcpO1xuICB9O1xuICBKc29uVHJlZU1hcElucHV0LnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gIH07XG4gIEpzb25UcmVlTWFwSW5wdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvblRyZWVNYXBJbnB1dCcsIGludGVyZmFjZXM6IFtKc29uVHJlZUlucHV0XX07XG4gIGZ1bmN0aW9uIEpzb25UcmVlTGlzdElucHV0KGpzb24sIG9iaikge1xuICAgIEFic3RyYWN0SnNvblRyZWVJbnB1dC5jYWxsKHRoaXMsIGpzb24sIG9iaik7XG4gICAgdGhpcy5vYmpfZWw3ZTUxJF8wID0gb2JqO1xuICAgIHRoaXMuc2l6ZV8wID0gdGhpcy5vYmouY29udGVudC5zaXplO1xuICAgIHRoaXMuY3VycmVudEluZGV4XzAgPSAtMTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblRyZWVMaXN0SW5wdXQucHJvdG90eXBlLCAnb2JqJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9ial9lbDdlNTEkXzA7XG4gIH19KTtcbiAgSnNvblRyZWVMaXN0SW5wdXQucHJvdG90eXBlLmVsZW1lbnROYW1lXzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXgudG9TdHJpbmcoKTtcbiAgfTtcbiAgSnNvblRyZWVMaXN0SW5wdXQucHJvdG90eXBlLmN1cnJlbnRFbGVtZW50XzYxenBvZSQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqLmdldF96YTNscGEkKHRvSW50KHRhZykpO1xuICB9O1xuICBKc29uVHJlZUxpc3RJbnB1dC5wcm90b3R5cGUuZGVjb2RlRWxlbWVudEluZGV4X3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHdoaWxlICh0aGlzLmN1cnJlbnRJbmRleF8wIDwgKHRoaXMuc2l6ZV8wIC0gMSB8IDApKSB7XG4gICAgICB0aGlzLmN1cnJlbnRJbmRleF8wID0gdGhpcy5jdXJyZW50SW5kZXhfMCArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEluZGV4XzA7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbiAgSnNvblRyZWVMaXN0SW5wdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvblRyZWVMaXN0SW5wdXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RKc29uVHJlZUlucHV0XX07XG4gIGZ1bmN0aW9uIHdyaXRlSnNvbiRsYW1iZGEoY2xvc3VyZSRyZXN1bHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICBjbG9zdXJlJHJlc3VsdC52ID0gaXQ7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHdyaXRlSnNvbigkcmVjZWl2ZXIsIHZhbHVlLCBzZXJpYWxpemVyKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt2OiBudWxsfTtcbiAgICB2YXIgZW5jb2RlciA9IG5ldyBKc29uVHJlZU91dHB1dCgkcmVjZWl2ZXIsIHdyaXRlSnNvbiRsYW1iZGEocmVzdWx0KSk7XG4gICAgZW5jb2RlXzAoZW5jb2Rlciwgc2VyaWFsaXplciwgdmFsdWUpO1xuICAgIHJldHVybiByZXN1bHQudiA9PSBudWxsID8gdGhyb3dVUEFFKCdyZXN1bHQnKSA6IHJlc3VsdC52O1xuICB9XG4gIGZ1bmN0aW9uIEFic3RyYWN0SnNvblRyZWVPdXRwdXQoanNvbiwgbm9kZUNvbnN1bWVyKSB7XG4gICAgTmFtZWRWYWx1ZUVuY29kZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmpzb25fMTM4YXI3JF8wID0ganNvbjtcbiAgICB0aGlzLm5vZGVDb25zdW1lciA9IG5vZGVDb25zdW1lcjtcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb25fMCA9IHRoaXMuanNvbi5jb25maWd1cmF0aW9uXzhiZTJ2eCQ7XG4gICAgdGhpcy53cml0ZVBvbHltb3JwaGljXzAgPSBmYWxzZTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUsICdqc29uJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmpzb25fMTM4YXI3JF8wO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbi5jb250ZXh0O1xuICB9fSk7XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZUpzb25fcWl3MGNkJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdGhpcy5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKEpzb25FbGVtZW50U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBlbGVtZW50KTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25fMC5lbmNvZGVEZWZhdWx0c184YmUydngkO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5jb21wb3NlTmFtZV9wdWo3ZjQkID0gZnVuY3Rpb24gKHBhcmVudE5hbWUsIGNoaWxkTmFtZSkge1xuICAgIHJldHVybiBjaGlsZE5hbWU7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZE51bGxfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTnVsbF9nZXRJbnN0YW5jZSgpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkSW50X2RwZzF5eCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbkxpdGVyYWxfaW5pdCh2YWx1ZSkpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVUYWdnZWRCeXRlXzE5cWU0MCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbkxpdGVyYWxfaW5pdCh2YWx1ZSkpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVUYWdnZWRTaG9ydF92ZWNjajAkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLnB1dEVsZW1lbnRfemFmdTI5JCh0YWcsIEpzb25MaXRlcmFsX2luaXQodmFsdWUpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkTG9uZ18xOXdrZjgkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLnB1dEVsZW1lbnRfemFmdTI5JCh0YWcsIEpzb25MaXRlcmFsX2luaXQodmFsdWUpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkRmxvYXRfdmxmNHA4JCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbl8wLnN0cmljdE1vZGVfOGJlMnZ4JCAmJiAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgICB0aHJvdyBJbnZhbGlkRmxvYXRpbmdQb2ludF8wKHZhbHVlLCB0YWcsICdmbG9hdCcpO1xuICAgIH1cbiAgICB0aGlzLnB1dEVsZW1lbnRfemFmdTI5JCh0YWcsIEpzb25MaXRlcmFsX2luaXQodmFsdWUpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJCA9IGZ1bmN0aW9uIChzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRUYWdPck51bGwgIT0gbnVsbCB8fCAoIUtvdGxpbi5pc1R5cGUoc2VyaWFsaXplci5kZXNjcmlwdG9yLmtpbmQsIFByaW1pdGl2ZUtpbmQpICYmIHNlcmlhbGl6ZXIuZGVzY3JpcHRvci5raW5kICE9PSBVbmlvbktpbmQkRU5VTV9LSU5EX2dldEluc3RhbmNlKCkpKSB7XG4gICAgICBlbmNvZGVQb2x5bW9ycGhpY2FsbHkkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKHNlcmlhbGl6ZXIsIFBvbHltb3JwaGljU2VyaWFsaXplcikgfHwgdGhpcy5qc29uLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC51c2VBcnJheVBvbHltb3JwaGlzbV84YmUydngkKSB7XG4gICAgICAgICAgc2VyaWFsaXplci5zZXJpYWxpemVfYXdlOTdpJCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWsgZW5jb2RlUG9seW1vcnBoaWNhbGx5JGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3R1YWxTZXJpYWxpemVyID0gS290bGluLmlzVHlwZSh0bXAkXzAgPSBzZXJpYWxpemVyLmZpbmRQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfOXYwOHU0JCh0aGlzLCBLb3RsaW4uaXNUeXBlKHRtcCQgPSB2YWx1ZSwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRSgpKSwgS1NlcmlhbGl6ZXIpID8gdG1wJF8wIDogdGhyb3dDQ0UoKTtcbiAgICAgICAgdmFyIGtpbmQgPSBhY3R1YWxTZXJpYWxpemVyLmRlc2NyaXB0b3Iua2luZDtcbiAgICAgICAgY2hlY2tLaW5kKGtpbmQpO1xuICAgICAgICB0aGlzLndyaXRlUG9seW1vcnBoaWNfMCA9IHRydWU7XG4gICAgICAgIGFjdHVhbFNlcmlhbGl6ZXIuc2VyaWFsaXplX2F3ZTk3aSQodGhpcywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBuZXcgSnNvblByaW1pdGl2ZU91dHB1dCh0aGlzLmpzb24sIHRoaXMubm9kZUNvbnN1bWVyKTtcbiAgICAgICRyZWNlaXZlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKHNlcmlhbGl6ZXIsIHZhbHVlKTtcbiAgICAgICRyZWNlaXZlci5lbmRFbmNvZGVfcWF0c20wJChzZXJpYWxpemVyLmRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkRG91YmxlX2UzN3BoNSQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb25fMC5zdHJpY3RNb2RlXzhiZTJ2eCQgJiYgIWlzRmluaXRlXzAodmFsdWUpKSB7XG4gICAgICB0aHJvdyBJbnZhbGlkRmxvYXRpbmdQb2ludF8wKHZhbHVlLCB0YWcsICdkb3VibGUnKTtcbiAgICB9XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0KHZhbHVlKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZEJvb2xlYW5faXV5aGZrJCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0XzAodmFsdWUpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkQ2hhcl8xOXFvMXEkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLnB1dEVsZW1lbnRfemFmdTI5JCh0YWcsIEpzb25MaXRlcmFsX2luaXRfMShTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbHVlKSkpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVUYWdnZWRTdHJpbmdfbDlsOG14JCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0XzEodmFsdWUpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkRW51bV9nM2FyYXgkID0gZnVuY3Rpb24gKHRhZywgZW51bURlc2NyaXB0aW9uLCBvcmRpbmFsKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0XzEoZW51bURlc2NyaXB0aW9uLmdldEVsZW1lbnROYW1lX3phM2xwYSQob3JkaW5hbCkpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0XzEodmFsdWUudG9TdHJpbmcoKSkpO1xuICB9O1xuICBmdW5jdGlvbiBBYnN0cmFjdEpzb25UcmVlT3V0cHV0JGJlZ2luU3RydWN0dXJlJGxhbWJkYSh0aGlzJEFic3RyYWN0SnNvblRyZWVPdXRwdXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHRoaXMkQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wdXRFbGVtZW50X3phZnUyOSQodGhpcyRBYnN0cmFjdEpzb25UcmVlT3V0cHV0LmN1cnJlbnRUYWcsIG5vZGUpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5iZWdpblN0cnVjdHVyZV9yMHNhNnokID0gZnVuY3Rpb24gKGRlc2MsIHR5cGVQYXJhbXMpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBjb25zdW1lciA9IHRoaXMuY3VycmVudFRhZ09yTnVsbCA9PSBudWxsID8gdGhpcy5ub2RlQ29uc3VtZXIgOiBBYnN0cmFjdEpzb25UcmVlT3V0cHV0JGJlZ2luU3RydWN0dXJlJGxhbWJkYSh0aGlzKTtcbiAgICB0bXAkID0gZGVzYy5raW5kO1xuICAgIGlmIChlcXVhbHModG1wJCwgU3RydWN0dXJlS2luZCRMSVNUX2dldEluc3RhbmNlKCkpIHx8IGVxdWFscyh0bXAkLCBVbmlvbktpbmQkUE9MWU1PUlBISUNfZ2V0SW5zdGFuY2UoKSkpXG4gICAgICB0bXAkXzAgPSBuZXcgSnNvblRyZWVMaXN0T3V0cHV0KHRoaXMuanNvbiwgY29uc3VtZXIpO1xuICAgIGVsc2UgaWYgKGVxdWFscyh0bXAkLCBTdHJ1Y3R1cmVLaW5kJE1BUF9nZXRJbnN0YW5jZSgpKSkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuanNvbjtcbiAgICAgIHZhciB0bXAkXzE7XG4gICAgICB2YXIga2V5RGVzY3JpcHRvciA9IGRlc2MuZ2V0RWxlbWVudERlc2NyaXB0b3JfemEzbHBhJCgwKTtcbiAgICAgIHZhciBrZXlLaW5kID0ga2V5RGVzY3JpcHRvci5raW5kO1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoa2V5S2luZCwgUHJpbWl0aXZlS2luZCkgfHwgZXF1YWxzKGtleUtpbmQsIFVuaW9uS2luZC5FTlVNX0tJTkQpKSB7XG4gICAgICAgIHRtcCRfMSA9IG5ldyBKc29uVHJlZU1hcE91dHB1dCh0aGlzLmpzb24sIGNvbnN1bWVyKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIGlmICgkcmVjZWl2ZXIuY29uZmlndXJhdGlvbl84YmUydngkLmFsbG93U3RydWN0dXJlZE1hcEtleXNfOGJlMnZ4JCkge1xuICAgICAgICB0bXAkXzEgPSBuZXcgSnNvblRyZWVMaXN0T3V0cHV0KHRoaXMuanNvbiwgY29uc3VtZXIpO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBKc29uTWFwSW52YWxpZEtleUtpbmQoa2V5RGVzY3JpcHRvcik7XG4gICAgICB9XG4gICAgICB0bXAkXzAgPSB0bXAkXzE7XG4gICAgfVxuICAgICBlbHNlXG4gICAgICB0bXAkXzAgPSBuZXcgSnNvblRyZWVPdXRwdXQodGhpcy5qc29uLCBjb25zdW1lcik7XG4gICAgdmFyIGVuY29kZXIgPSB0bXAkXzA7XG4gICAgaWYgKHRoaXMud3JpdGVQb2x5bW9ycGhpY18wKSB7XG4gICAgICB0aGlzLndyaXRlUG9seW1vcnBoaWNfMCA9IGZhbHNlO1xuICAgICAgZW5jb2Rlci5wdXRFbGVtZW50X3phZnUyOSQodGhpcy5jb25maWd1cmF0aW9uXzAuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQsIEpzb25QcmltaXRpdmVfMihkZXNjLm5hbWUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY29kZXI7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuZEVuY29kZV9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICB0aGlzLm5vZGVDb25zdW1lcih0aGlzLmdldEN1cnJlbnQoKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RKc29uVHJlZU91dHB1dCcsIGludGVyZmFjZXM6IFtKc29uT3V0cHV0LCBOYW1lZFZhbHVlRW5jb2Rlcl19O1xuICB2YXIgUFJJTUlUSVZFX1RBRztcbiAgZnVuY3Rpb24gSnNvblByaW1pdGl2ZU91dHB1dChqc29uLCBub2RlQ29uc3VtZXIpIHtcbiAgICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LmNhbGwodGhpcywganNvbiwgbm9kZUNvbnN1bWVyKTtcbiAgICB0aGlzLmNvbnRlbnRfMCA9IG51bGw7XG4gICAgdGhpcy5wdXNoVGFnXzExcmIkKFBSSU1JVElWRV9UQUcpO1xuICB9XG4gIEpzb25QcmltaXRpdmVPdXRwdXQucHJvdG90eXBlLnB1dEVsZW1lbnRfemFmdTI5JCA9IGZ1bmN0aW9uIChrZXksIGVsZW1lbnQpIHtcbiAgICBpZiAoIShrZXkgPT09IFBSSU1JVElWRV9UQUcpKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9IFwiVGhpcyBvdXRwdXQgY2FuIG9ubHkgY29uc3VtZSBwcmltaXRpdmVzIHdpdGggJ3ByaW1pdGl2ZScgdGFnXCI7XG4gICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBpZiAoISh0aGlzLmNvbnRlbnRfMCA9PSBudWxsKSkge1xuICAgICAgdmFyIG1lc3NhZ2VfMCA9ICdQcmltaXRpdmUgZWxlbWVudCB3YXMgYWxyZWFkeSByZWNvcmRlZC4gRG9lcyBjYWxsIHRvIC5lbmNvZGVYeHggaGFwcGVuIG1vcmUgdGhhbiBvbmNlPyc7XG4gICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlXzAudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHRoaXMuY29udGVudF8wID0gZWxlbWVudDtcbiAgfTtcbiAgSnNvblByaW1pdGl2ZU91dHB1dC5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmNvbnRlbnRfMDtcbiAgICB2YXIgcmVxdWlyZU5vdE51bGwkcmVzdWx0O1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdQcmltaXRpdmUgZWxlbWVudCBoYXMgbm90IGJlZW4gcmVjb3JkZWQuIElzIGNhbGwgdG8gLmVuY29kZVh4eCBpcyBtaXNzaW5nIGluIHNlcmlhbGl6ZXI/JztcbiAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHJlcXVpcmVOb3ROdWxsJHJlc3VsdCA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWlyZU5vdE51bGwkcmVzdWx0O1xuICB9O1xuICBKc29uUHJpbWl0aXZlT3V0cHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25QcmltaXRpdmVPdXRwdXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RKc29uVHJlZU91dHB1dF19O1xuICBmdW5jdGlvbiBKc29uVHJlZU91dHB1dChqc29uLCBub2RlQ29uc3VtZXIpIHtcbiAgICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LmNhbGwodGhpcywganNvbiwgbm9kZUNvbnN1bWVyKTtcbiAgICB0aGlzLmNvbnRlbnRfMCA9IExpbmtlZEhhc2hNYXBfaW5pdCgpO1xuICB9XG4gIEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5wdXRFbGVtZW50X3phZnUyOSQgPSBmdW5jdGlvbiAoa2V5LCBlbGVtZW50KSB7XG4gICAgdGhpcy5jb250ZW50XzAucHV0X3h3emM5cCQoa2V5LCBlbGVtZW50KTtcbiAgfTtcbiAgSnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmdldEN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBKc29uT2JqZWN0KHRoaXMuY29udGVudF8wKTtcbiAgfTtcbiAgSnNvblRyZWVPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvblRyZWVPdXRwdXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RKc29uVHJlZU91dHB1dF19O1xuICBmdW5jdGlvbiBKc29uVHJlZU1hcE91dHB1dChqc29uLCBub2RlQ29uc3VtZXIpIHtcbiAgICBKc29uVHJlZU91dHB1dC5jYWxsKHRoaXMsIGpzb24sIG5vZGVDb25zdW1lcik7XG4gICAgdGhpcy50YWdfNWNwNmM3JF8wID0gdGhpcy50YWdfNWNwNmM3JF8wO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uVHJlZU1hcE91dHB1dC5wcm90b3R5cGUsICd0YWdfMCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50YWdfNWNwNmM3JF8wID09IG51bGwpXG4gICAgICByZXR1cm4gdGhyb3dVUEFFKCd0YWcnKTtcbiAgICByZXR1cm4gdGhpcy50YWdfNWNwNmM3JF8wO1xuICB9LCBzZXQ6IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB0aGlzLnRhZ181Y3A2YzckXzAgPSB0YWc7XG4gIH19KTtcbiAgSnNvblRyZWVNYXBPdXRwdXQucHJvdG90eXBlLnB1dEVsZW1lbnRfemFmdTI5JCA9IGZ1bmN0aW9uIChrZXksIGVsZW1lbnQpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgaWR4ID0gdG9JbnQoa2V5KTtcbiAgICBpZiAoaWR4ICUgMiA9PT0gMCkge1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudCwgSnNvblByaW1pdGl2ZSkpXG4gICAgICAgIHRtcCQgPSBlbGVtZW50LmNvbnRlbnQ7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKGVsZW1lbnQsIEpzb25PYmplY3QpKVxuICAgICAgICB0aHJvdyBKc29uTWFwSW52YWxpZEtleUtpbmQoSnNvbk9iamVjdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yKTtcbiAgICAgIGVsc2UgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudCwgSnNvbkFycmF5KSlcbiAgICAgICAgdGhyb3cgSnNvbk1hcEludmFsaWRLZXlLaW5kKEpzb25BcnJheVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yKTtcbiAgICAgIGVsc2VcbiAgICAgICAgdG1wJCA9IEtvdGxpbi5ub1doZW5CcmFuY2hNYXRjaGVkKCk7XG4gICAgICB0aGlzLnRhZ18wID0gdG1wJDtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuY29udGVudF8wO1xuICAgICAgdmFyIGtleV8wID0gdGhpcy50YWdfMDtcbiAgICAgICRyZWNlaXZlci5wdXRfeHd6YzlwJChrZXlfMCwgZWxlbWVudCk7XG4gICAgfVxuICB9O1xuICBKc29uVHJlZU1hcE91dHB1dC5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEpzb25PYmplY3QodGhpcy5jb250ZW50XzApO1xuICB9O1xuICBKc29uVHJlZU1hcE91dHB1dC5wcm90b3R5cGUuc2hvdWxkV3JpdGVFbGVtZW50X2E1cWlobiQgPSBmdW5jdGlvbiAoZGVzYywgdGFnLCBpbmRleCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBKc29uVHJlZU1hcE91dHB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uVHJlZU1hcE91dHB1dCcsIGludGVyZmFjZXM6IFtKc29uVHJlZU91dHB1dF19O1xuICBmdW5jdGlvbiBKc29uVHJlZUxpc3RPdXRwdXQoanNvbiwgbm9kZUNvbnN1bWVyKSB7XG4gICAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5jYWxsKHRoaXMsIGpzb24sIG5vZGVDb25zdW1lcik7XG4gICAgdGhpcy5hcnJheV8wID0gQXJyYXlMaXN0X2luaXRfMCgpO1xuICB9XG4gIEpzb25UcmVlTGlzdE91dHB1dC5wcm90b3R5cGUuZWxlbWVudE5hbWVfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiBpbmRleC50b1N0cmluZygpO1xuICB9O1xuICBKc29uVHJlZUxpc3RPdXRwdXQucHJvdG90eXBlLnNob3VsZFdyaXRlRWxlbWVudF9hNXFpaG4kID0gZnVuY3Rpb24gKGRlc2MsIHRhZywgaW5kZXgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgSnNvblRyZWVMaXN0T3V0cHV0LnByb3RvdHlwZS5wdXRFbGVtZW50X3phZnUyOSQgPSBmdW5jdGlvbiAoa2V5LCBlbGVtZW50KSB7XG4gICAgdmFyIGlkeCA9IHRvSW50KGtleSk7XG4gICAgdGhpcy5hcnJheV8wLmFkZF93eG01dXIkKGlkeCwgZWxlbWVudCk7XG4gIH07XG4gIEpzb25UcmVlTGlzdE91dHB1dC5wcm90b3R5cGUuZ2V0Q3VycmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IEpzb25BcnJheSh0aGlzLmFycmF5XzApO1xuICB9O1xuICBKc29uVHJlZUxpc3RPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvblRyZWVMaXN0T3V0cHV0JywgaW50ZXJmYWNlczogW0Fic3RyYWN0SnNvblRyZWVPdXRwdXRdfTtcbiAgZnVuY3Rpb24gV3JpdGVNb2RlKG5hbWUsIG9yZGluYWwsIGJlZ2luLCBlbmQpIHtcbiAgICBFbnVtLmNhbGwodGhpcyk7XG4gICAgdGhpcy5iZWdpbiA9IHRvQm94ZWRDaGFyKGJlZ2luKTtcbiAgICB0aGlzLmVuZCA9IHRvQm94ZWRDaGFyKGVuZCk7XG4gICAgdGhpcy5uYW1lJCA9IG5hbWU7XG4gICAgdGhpcy5vcmRpbmFsJCA9IG9yZGluYWw7XG4gICAgdGhpcy5iZWdpblRjID0gY2hhclRvVG9rZW5DbGFzcyh1bmJveENoYXIodGhpcy5iZWdpbikpO1xuICAgIHRoaXMuZW5kVGMgPSBjaGFyVG9Ub2tlbkNsYXNzKHVuYm94Q2hhcih0aGlzLmVuZCkpO1xuICB9XG4gIGZ1bmN0aW9uIFdyaXRlTW9kZV9pbml0RmllbGRzKCkge1xuICAgIFdyaXRlTW9kZV9pbml0RmllbGRzID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgV3JpdGVNb2RlJE9CSl9pbnN0YW5jZSA9IG5ldyBXcml0ZU1vZGUoJ09CSicsIDAsIEJFR0lOX09CSiwgRU5EX09CSik7XG4gICAgV3JpdGVNb2RlJExJU1RfaW5zdGFuY2UgPSBuZXcgV3JpdGVNb2RlKCdMSVNUJywgMSwgQkVHSU5fTElTVCwgRU5EX0xJU1QpO1xuICAgIFdyaXRlTW9kZSRNQVBfaW5zdGFuY2UgPSBuZXcgV3JpdGVNb2RlKCdNQVAnLCAyLCBCRUdJTl9PQkosIEVORF9PQkopO1xuICAgIFdyaXRlTW9kZSRQT0xZX09CSl9pbnN0YW5jZSA9IG5ldyBXcml0ZU1vZGUoJ1BPTFlfT0JKJywgMywgQkVHSU5fTElTVCwgRU5EX0xJU1QpO1xuICB9XG4gIHZhciBXcml0ZU1vZGUkT0JKX2luc3RhbmNlO1xuICBmdW5jdGlvbiBXcml0ZU1vZGUkT0JKX2dldEluc3RhbmNlKCkge1xuICAgIFdyaXRlTW9kZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFdyaXRlTW9kZSRPQkpfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFdyaXRlTW9kZSRMSVNUX2luc3RhbmNlO1xuICBmdW5jdGlvbiBXcml0ZU1vZGUkTElTVF9nZXRJbnN0YW5jZSgpIHtcbiAgICBXcml0ZU1vZGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBXcml0ZU1vZGUkTElTVF9pbnN0YW5jZTtcbiAgfVxuICB2YXIgV3JpdGVNb2RlJE1BUF9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gV3JpdGVNb2RlJE1BUF9nZXRJbnN0YW5jZSgpIHtcbiAgICBXcml0ZU1vZGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBXcml0ZU1vZGUkTUFQX2luc3RhbmNlO1xuICB9XG4gIHZhciBXcml0ZU1vZGUkUE9MWV9PQkpfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFdyaXRlTW9kZSRQT0xZX09CSl9nZXRJbnN0YW5jZSgpIHtcbiAgICBXcml0ZU1vZGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBXcml0ZU1vZGUkUE9MWV9PQkpfaW5zdGFuY2U7XG4gIH1cbiAgV3JpdGVNb2RlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1dyaXRlTW9kZScsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gIGZ1bmN0aW9uIFdyaXRlTW9kZSR2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIFtXcml0ZU1vZGUkT0JKX2dldEluc3RhbmNlKCksIFdyaXRlTW9kZSRMSVNUX2dldEluc3RhbmNlKCksIFdyaXRlTW9kZSRNQVBfZ2V0SW5zdGFuY2UoKSwgV3JpdGVNb2RlJFBPTFlfT0JKX2dldEluc3RhbmNlKCldO1xuICB9XG4gIFdyaXRlTW9kZS52YWx1ZXMgPSBXcml0ZU1vZGUkdmFsdWVzO1xuICBmdW5jdGlvbiBXcml0ZU1vZGUkdmFsdWVPZihuYW1lKSB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdPQkonOlxuICAgICAgICByZXR1cm4gV3JpdGVNb2RlJE9CSl9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnTElTVCc6XG4gICAgICAgIHJldHVybiBXcml0ZU1vZGUkTElTVF9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnTUFQJzpcbiAgICAgICAgcmV0dXJuIFdyaXRlTW9kZSRNQVBfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ1BPTFlfT0JKJzpcbiAgICAgICAgcmV0dXJuIFdyaXRlTW9kZSRQT0xZX09CSl9nZXRJbnN0YW5jZSgpO1xuICAgICAgZGVmYXVsdDp0aHJvd0lTRSgnTm8gZW51bSBjb25zdGFudCBrb3RsaW54LnNlcmlhbGl6YXRpb24uanNvbi5pbnRlcm5hbC5Xcml0ZU1vZGUuJyArIG5hbWUpO1xuICAgIH1cbiAgfVxuICBXcml0ZU1vZGUudmFsdWVPZl82MXpwb2UkID0gV3JpdGVNb2RlJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIHN3aXRjaE1vZGUoJHJlY2VpdmVyLCBkZXNjKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9IGRlc2Mua2luZDtcbiAgICBpZiAoZXF1YWxzKHRtcCQsIFVuaW9uS2luZCRQT0xZTU9SUEhJQ19nZXRJbnN0YW5jZSgpKSlcbiAgICAgIHJldHVybiBXcml0ZU1vZGUkUE9MWV9PQkpfZ2V0SW5zdGFuY2UoKTtcbiAgICBlbHNlIGlmIChlcXVhbHModG1wJCwgU3RydWN0dXJlS2luZCRMSVNUX2dldEluc3RhbmNlKCkpKVxuICAgICAgcmV0dXJuIFdyaXRlTW9kZSRMSVNUX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKHRtcCQsIFN0cnVjdHVyZUtpbmQkTUFQX2dldEluc3RhbmNlKCkpKSB7XG4gICAgICB2YXIgdG1wJF8wO1xuICAgICAgdmFyIGtleURlc2NyaXB0b3IgPSBkZXNjLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQoMCk7XG4gICAgICB2YXIga2V5S2luZCA9IGtleURlc2NyaXB0b3Iua2luZDtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKGtleUtpbmQsIFByaW1pdGl2ZUtpbmQpIHx8IGVxdWFscyhrZXlLaW5kLCBVbmlvbktpbmQuRU5VTV9LSU5EKSkge1xuICAgICAgICB0bXAkXzAgPSBXcml0ZU1vZGUkTUFQX2dldEluc3RhbmNlKCk7XG4gICAgICB9XG4gICAgICAgZWxzZSBpZiAoJHJlY2VpdmVyLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC5hbGxvd1N0cnVjdHVyZWRNYXBLZXlzXzhiZTJ2eCQpIHtcbiAgICAgICAgdG1wJF8wID0gV3JpdGVNb2RlJExJU1RfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgSnNvbk1hcEludmFsaWRLZXlLaW5kKGtleURlc2NyaXB0b3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCRfMDtcbiAgICB9XG4gICAgIGVsc2VcbiAgICAgIHJldHVybiBXcml0ZU1vZGUkT0JKX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgZnVuY3Rpb24gUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyKGJhc2VDbGFzcywgYmFzZVNlcmlhbGl6ZXIpIHtcbiAgICBpZiAoYmFzZVNlcmlhbGl6ZXIgPT09IHZvaWQgMClcbiAgICAgIGJhc2VTZXJpYWxpemVyID0gbnVsbDtcbiAgICB0aGlzLmJhc2VDbGFzc18wID0gYmFzZUNsYXNzO1xuICAgIHRoaXMuYmFzZVNlcmlhbGl6ZXJfMCA9IGJhc2VTZXJpYWxpemVyO1xuICAgIHRoaXMuc3ViY2xhc3Nlc18wID0gQXJyYXlMaXN0X2luaXRfMCgpO1xuICB9XG4gIFBvbHltb3JwaGljTW9kdWxlQnVpbGRlci5wcm90b3R5cGUuYnVpbGRUb181MjI0YWgkID0gZnVuY3Rpb24gKG1vZHVsZV8wKSB7XG4gICAgaWYgKHRoaXMuYmFzZVNlcmlhbGl6ZXJfMCAhPSBudWxsKVxuICAgICAgbW9kdWxlXzAucmVnaXN0ZXJQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfeWNhMTJ3JCh0aGlzLmJhc2VDbGFzc18wLCB0aGlzLmJhc2VDbGFzc18wLCB0aGlzLmJhc2VTZXJpYWxpemVyXzApO1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSB0aGlzLnN1YmNsYXNzZXNfMC5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgIHZhciBrY2xhc3MgPSBlbGVtZW50LmNvbXBvbmVudDEoKSwgc2VyaWFsaXplciA9IGVsZW1lbnQuY29tcG9uZW50MigpO1xuICAgICAgdmFyIHRtcCRfMCwgdG1wJF8xO1xuICAgICAgbW9kdWxlXzAucmVnaXN0ZXJQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfeWNhMTJ3JCh0aGlzLmJhc2VDbGFzc18wLCBLb3RsaW4uaXNUeXBlKHRtcCRfMCA9IGtjbGFzcywgS0NsYXNzKSA/IHRtcCRfMCA6IHRocm93Q0NFKCksIEtvdGxpbi5pc1R5cGUodG1wJF8xID0gc2VyaWFsaXplciwgS1NlcmlhbGl6ZXIpID8gdG1wJF8xIDogdGhyb3dDQ0UoKSk7XG4gICAgfVxuICB9O1xuICBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLmFkZFN1YmNsYXNzX2c4ZjlucyQgPSBmdW5jdGlvbiAoc3ViY2xhc3MsIHNlcmlhbGl6ZXIpIHtcbiAgICB0aGlzLnN1YmNsYXNzZXNfMC5hZGRfMTFyYiQodG8oc3ViY2xhc3MsIHNlcmlhbGl6ZXIpKTtcbiAgfTtcbiAgUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyLnByb3RvdHlwZS5hZGRTdWJjbGFzc185N2F1enYkID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbngtc2VyaWFsaXphdGlvbi1rb3RsaW54LXNlcmlhbGl6YXRpb24tcnVudGltZS5rb3RsaW54LnNlcmlhbGl6YXRpb24ubW9kdWxlcy5Qb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIuYWRkU3ViY2xhc3NfOTdhdXp2JCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdldEtDbGFzcyA9IEtvdGxpbi5nZXRLQ2xhc3M7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChUXzAsIGlzVCwgc2VyaWFsaXplcikge1xuICAgICAgdGhpcy5hZGRTdWJjbGFzc19nOGY5bnMkKGdldEtDbGFzcyhUXzApLCBzZXJpYWxpemVyKTtcbiAgICB9O1xuICB9KSk7XG4gIFBvbHltb3JwaGljTW9kdWxlQnVpbGRlci5wcm90b3R5cGUuYWRkU3ViY2xhc3Nfbjh5ZzJ4JCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLm1vZHVsZXMuUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyLmFkZFN1YmNsYXNzX244eWcyeCQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZXRLQ2xhc3MgPSBLb3RsaW4uZ2V0S0NsYXNzO1xuICAgIHZhciBzZXJpYWxpemVyID0gXy5rb3RsaW54LnNlcmlhbGl6YXRpb24uc2VyaWFsaXplcl8xeWI4YjckO1xuICAgIHJldHVybiBmdW5jdGlvbiAoVF8wLCBpc1QpIHtcbiAgICAgIHRoaXMuYWRkU3ViY2xhc3NfZzhmOW5zJChnZXRLQ2xhc3MoVF8wKSwgc2VyaWFsaXplcihnZXRLQ2xhc3MoVF8wKSkpO1xuICAgIH07XG4gIH0pKTtcbiAgUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyLnByb3RvdHlwZS53aXRoX2ttcGkyaiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBzZXJpYWxpemVyKSB7XG4gICAgdGhpcy5hZGRTdWJjbGFzc19nOGY5bnMkKCRyZWNlaXZlciwgc2VyaWFsaXplcik7XG4gIH07XG4gIFBvbHltb3JwaGljTW9kdWxlQnVpbGRlci5wcm90b3R5cGUuY2hhbmdlQmFzZV9hM3AzZjAkID0gZnVuY3Rpb24gKG5ld0Jhc2VDbGFzcywgbmV3QmFzZUNsYXNzU2VyaWFsaXplcikge1xuICAgIGlmIChuZXdCYXNlQ2xhc3NTZXJpYWxpemVyID09PSB2b2lkIDApXG4gICAgICBuZXdCYXNlQ2xhc3NTZXJpYWxpemVyID0gbnVsbDtcbiAgICB2YXIgbmV3TW9kdWxlID0gbmV3IFBvbHltb3JwaGljTW9kdWxlQnVpbGRlcihuZXdCYXNlQ2xhc3MsIG5ld0Jhc2VDbGFzc1NlcmlhbGl6ZXIpO1xuICAgIGlmICh0aGlzLmJhc2VTZXJpYWxpemVyXzAgIT0gbnVsbCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIG5ld01vZHVsZS5hZGRTdWJjbGFzc19nOGY5bnMkKEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuYmFzZUNsYXNzXzAsIEtDbGFzcykgPyB0bXAkIDogdGhyb3dDQ0UoKSwgS290bGluLmlzVHlwZSh0bXAkXzAgPSB0aGlzLmJhc2VTZXJpYWxpemVyXzAsIEtTZXJpYWxpemVyKSA/IHRtcCRfMCA6IHRocm93Q0NFKCkpO1xuICAgIH1cbiAgICB2YXIgdG1wJF8xO1xuICAgIHRtcCRfMSA9IHRoaXMuc3ViY2xhc3Nlc18wLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCRfMS5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJF8xLm5leHQoKTtcbiAgICAgIHZhciBrID0gZWxlbWVudC5jb21wb25lbnQxKCksIHYgPSBlbGVtZW50LmNvbXBvbmVudDIoKTtcbiAgICAgIHZhciB0bXAkXzIsIHRtcCRfMztcbiAgICAgIG5ld01vZHVsZS5hZGRTdWJjbGFzc19nOGY5bnMkKEtvdGxpbi5pc1R5cGUodG1wJF8yID0gaywgS0NsYXNzKSA/IHRtcCRfMiA6IHRocm93Q0NFKCksIEtvdGxpbi5pc1R5cGUodG1wJF8zID0gdiwgS1NlcmlhbGl6ZXIpID8gdG1wJF8zIDogdGhyb3dDQ0UoKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdNb2R1bGU7XG4gIH07XG4gIFBvbHltb3JwaGljTW9kdWxlQnVpbGRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFNlcmlhbE1vZHVsZSgpIHtcbiAgfVxuICBTZXJpYWxNb2R1bGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1NlcmlhbE1vZHVsZScsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gRW1wdHlNb2R1bGUoKSB7XG4gICAgRW1wdHlNb2R1bGVfaW5zdGFuY2UgPSB0aGlzO1xuICB9XG4gIEVtcHR5TW9kdWxlLnByb3RvdHlwZS5nZXRDb250ZXh0dWFsX2xtc2h3dyQgPSBmdW5jdGlvbiAoa2NsYXNzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIEVtcHR5TW9kdWxlLnByb3RvdHlwZS5nZXRQb2x5bW9ycGhpY19iMWNlMGEkID0gZnVuY3Rpb24gKGJhc2VDbGFzcywgdmFsdWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgRW1wdHlNb2R1bGUucHJvdG90eXBlLmdldFBvbHltb3JwaGljXzZ4dHNsYSQgPSBmdW5jdGlvbiAoYmFzZUNsYXNzLCBzZXJpYWxpemVkQ2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIEVtcHR5TW9kdWxlLnByb3RvdHlwZS5kdW1wVG9fMjQ3cmRkJCA9IGZ1bmN0aW9uIChjb2xsZWN0b3IpIHtcbiAgfTtcbiAgRW1wdHlNb2R1bGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0VtcHR5TW9kdWxlJywgaW50ZXJmYWNlczogW1NlcmlhbE1vZHVsZV19O1xuICB2YXIgRW1wdHlNb2R1bGVfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBFbXB0eU1vZHVsZV9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoRW1wdHlNb2R1bGVfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBFbXB0eU1vZHVsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gRW1wdHlNb2R1bGVfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gc2VyaWFsaXplcnNNb2R1bGVPZiRsYW1iZGFfMChjbG9zdXJlJG1hcCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBjbG9zdXJlJG1hcC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgdmFyIGtjbGFzcyA9IGVsZW1lbnQua2V5O1xuICAgICAgICB2YXIgc2VyaWFsaXplciA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgIHZhciB0bXAkXzAsIHRtcCRfMTtcbiAgICAgICAgJHJlY2VpdmVyLmNvbnRleHR1YWxfY2Zoa2JhJChLb3RsaW4uaXNUeXBlKHRtcCRfMCA9IGtjbGFzcywgS0NsYXNzKSA/IHRtcCRfMCA6IHRocm93Q0NFKCksIEtvdGxpbi5pc1R5cGUodG1wJF8xID0gc2VyaWFsaXplciwgS1NlcmlhbGl6ZXIpID8gdG1wJF8xIDogdGhyb3dDQ0UoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZXJzTW9kdWxlT2ZfMChtYXApIHtcbiAgICByZXR1cm4gU2VyaWFsaXplcnNNb2R1bGUoc2VyaWFsaXplcnNNb2R1bGVPZiRsYW1iZGFfMChtYXApKTtcbiAgfVxuICBmdW5jdGlvbiBTZXJpYWxpemVyc01vZHVsZShidWlsZEFjdGlvbikge1xuICAgIHZhciBidWlsZGVyID0gbmV3IFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlcihuZXcgU2VyaWFsTW9kdWxlSW1wbCgpKTtcbiAgICBidWlsZEFjdGlvbihidWlsZGVyKTtcbiAgICByZXR1cm4gYnVpbGRlci5pbXBsXzhiZTJ2eCQ7XG4gIH1cbiAgZnVuY3Rpb24gU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyKGltcGwpIHtcbiAgICB0aGlzLmltcGxfOGJlMnZ4JCA9IGltcGw7XG4gIH1cbiAgU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyLnByb3RvdHlwZS5jb250ZXh0dWFsX2NmaGtiYSQgPSBmdW5jdGlvbiAoa0NsYXNzLCBzZXJpYWxpemVyKSB7XG4gICAgdGhpcy5pbXBsXzhiZTJ2eCQucmVnaXN0ZXJTZXJpYWxpemVyX3ozYmt6ZyQoa0NsYXNzLCBzZXJpYWxpemVyKTtcbiAgfTtcbiAgU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyLnByb3RvdHlwZS5wb2x5bW9ycGhpY19rZnlpZGkkID0gZnVuY3Rpb24gKGJhc2VDbGFzcywgYWN0dWFsQ2xhc3MsIGFjdHVhbFNlcmlhbGl6ZXIpIHtcbiAgICB0aGlzLmltcGxfOGJlMnZ4JC5yZWdpc3RlclBvbHltb3JwaGljU2VyaWFsaXplcl95Y2ExMnckKGJhc2VDbGFzcywgYWN0dWFsQ2xhc3MsIGFjdHVhbFNlcmlhbGl6ZXIpO1xuICB9O1xuICBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLmluY2x1ZGVfc3RweXU0JCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIG90aGVyLmR1bXBUb18yNDdyZGQkKHRoaXMpO1xuICB9O1xuICBmdW5jdGlvbiBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIkcG9seW1vcnBoaWMkbGFtYmRhKCRyZWNlaXZlcikge1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlci5wcm90b3R5cGUucG9seW1vcnBoaWNfdjVjaXRqJCA9IGZ1bmN0aW9uIChiYXNlQ2xhc3MsIGJhc2VTZXJpYWxpemVyLCBidWlsZEFjdGlvbikge1xuICAgIGlmIChiYXNlU2VyaWFsaXplciA9PT0gdm9pZCAwKVxuICAgICAgYmFzZVNlcmlhbGl6ZXIgPSBudWxsO1xuICAgIGlmIChidWlsZEFjdGlvbiA9PT0gdm9pZCAwKVxuICAgICAgYnVpbGRBY3Rpb24gPSBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIkcG9seW1vcnBoaWMkbGFtYmRhO1xuICAgIHZhciBidWlsZGVyID0gbmV3IFBvbHltb3JwaGljTW9kdWxlQnVpbGRlcihiYXNlQ2xhc3MsIGJhc2VTZXJpYWxpemVyKTtcbiAgICBidWlsZEFjdGlvbihidWlsZGVyKTtcbiAgICBidWlsZGVyLmJ1aWxkVG9fNTIyNGFoJCh0aGlzLmltcGxfOGJlMnZ4JCk7XG4gIH07XG4gIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlci5wcm90b3R5cGUucG9seW1vcnBoaWNfY3psdXlzJCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLm1vZHVsZXMuU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyLnBvbHltb3JwaGljX2N6bHV5cyQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgIHZhciBVbml0ID0gS290bGluLmtvdGxpbi5Vbml0O1xuICAgIHZhciBnZXRLQ2xhc3MgPSBLb3RsaW4uZ2V0S0NsYXNzO1xuICAgIGZ1bmN0aW9uIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlciRwb2x5bW9ycGhpYyRsYW1iZGEoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChCYXNlXzAsIGlzQmFzZSwgYmFzZVNlcmlhbGl6ZXIsIGJ1aWxkQWN0aW9uKSB7XG4gICAgICBpZiAoYmFzZVNlcmlhbGl6ZXIgPT09IHZvaWQgMClcbiAgICAgICAgYmFzZVNlcmlhbGl6ZXIgPSBudWxsO1xuICAgICAgaWYgKGJ1aWxkQWN0aW9uID09PSB2b2lkIDApXG4gICAgICAgIGJ1aWxkQWN0aW9uID0gU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyJHBvbHltb3JwaGljJGxhbWJkYTtcbiAgICAgIHRoaXMucG9seW1vcnBoaWNfdjVjaXRqJChnZXRLQ2xhc3MoQmFzZV8wKSwgYmFzZVNlcmlhbGl6ZXIsIGJ1aWxkQWN0aW9uKTtcbiAgICB9O1xuICB9KSk7XG4gIGZ1bmN0aW9uIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlciRwb2x5bW9ycGhpYyRsYW1iZGFfMCgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gVW5pdDtcbiAgfVxuICBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLnBvbHltb3JwaGljX215cjZzdSQgPSBmdW5jdGlvbiAoYmFzZUNsYXNzLCBiYXNlQ2xhc3NlcywgYnVpbGRBY3Rpb24pIHtcbiAgICBpZiAoYnVpbGRBY3Rpb24gPT09IHZvaWQgMClcbiAgICAgIGJ1aWxkQWN0aW9uID0gU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyJHBvbHltb3JwaGljJGxhbWJkYV8wO1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIoS290bGluLmlzVHlwZSh0bXAkID0gYmFzZUNsYXNzLCBLQ2xhc3MpID8gdG1wJCA6IHRocm93Q0NFKCksIG51bGwpO1xuICAgIGJ1aWxkQWN0aW9uKGJ1aWxkZXIpO1xuICAgIGJ1aWxkZXIuYnVpbGRUb181MjI0YWgkKHRoaXMuaW1wbF84YmUydngkKTtcbiAgICBmb3IgKHRtcCRfMCA9IDA7IHRtcCRfMCAhPT0gYmFzZUNsYXNzZXMubGVuZ3RoOyArK3RtcCRfMCkge1xuICAgICAgdmFyIGJhc2UgPSBiYXNlQ2xhc3Nlc1t0bXAkXzBdO1xuICAgICAgYnVpbGRlci5jaGFuZ2VCYXNlX2EzcDNmMCQoS290bGluLmlzVHlwZSh0bXAkXzEgPSBiYXNlLCBLQ2xhc3MpID8gdG1wJF8xIDogdGhyb3dDQ0UoKSwgbnVsbCkuYnVpbGRUb181MjI0YWgkKHRoaXMuaW1wbF84YmUydngkKTtcbiAgICB9XG4gIH07XG4gIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXInLCBpbnRlcmZhY2VzOiBbU2VyaWFsTW9kdWxlQ29sbGVjdG9yXX07XG4gIGZ1bmN0aW9uIFNlcmlhbE1vZHVsZUNvbGxlY3RvcigpIHtcbiAgfVxuICBTZXJpYWxNb2R1bGVDb2xsZWN0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1NlcmlhbE1vZHVsZUNvbGxlY3RvcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gZ2V0Q29udGV4dHVhbE9yRGVmYXVsdCgkcmVjZWl2ZXIsIGtsYXNzKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuICh0bXAkID0gJHJlY2VpdmVyLmdldENvbnRleHR1YWxfbG1zaHd3JChrbGFzcykpICE9IG51bGwgPyB0bXAkIDogc2VyaWFsaXplcihrbGFzcyk7XG4gIH1cbiAgZnVuY3Rpb24gcGx1cyRsYW1iZGEodGhpcyRwbHVzLCBjbG9zdXJlJG90aGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICAgICRyZWNlaXZlci5pbmNsdWRlX3N0cHl1NCQodGhpcyRwbHVzKTtcbiAgICAgICRyZWNlaXZlci5pbmNsdWRlX3N0cHl1NCQoY2xvc3VyZSRvdGhlcik7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHBsdXMoJHJlY2VpdmVyLCBvdGhlcikge1xuICAgIHJldHVybiBTZXJpYWxpemVyc01vZHVsZShwbHVzJGxhbWJkYSgkcmVjZWl2ZXIsIG90aGVyKSk7XG4gIH1cbiAgZnVuY3Rpb24gU2VyaWFsTW9kdWxlSW1wbCgpIHtcbiAgICB0aGlzLmNsYXNzTWFwXzAgPSBIYXNoTWFwX2luaXQoKTtcbiAgICB0aGlzLnBvbHlNYXBfMCA9IEhhc2hNYXBfaW5pdCgpO1xuICAgIHRoaXMuaW52ZXJzZUNsYXNzTmFtZU1hcF8wID0gSGFzaE1hcF9pbml0KCk7XG4gIH1cbiAgU2VyaWFsTW9kdWxlSW1wbC5wcm90b3R5cGUucmVnaXN0ZXJTZXJpYWxpemVyX3ozYmt6ZyQgPSBmdW5jdGlvbiAoZm9yQ2xhc3MsIHNlcmlhbGl6ZXIsIGFsbG93T3ZlcndyaXRlKSB7XG4gICAgaWYgKGFsbG93T3ZlcndyaXRlID09PSB2b2lkIDApXG4gICAgICBhbGxvd092ZXJ3cml0ZSA9IGZhbHNlO1xuICAgIHZhciB0bXAkID0gIWFsbG93T3ZlcndyaXRlO1xuICAgIGlmICh0bXAkKSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5jbGFzc01hcF8wO1xuICAgICAgdmFyIHRtcCRfMDtcbiAgICAgIHRtcCQgPSAoS290bGluLmlzVHlwZSh0bXAkXzAgPSAkcmVjZWl2ZXIsIE1hcCkgPyB0bXAkXzAgOiB0aHJvd0NDRSgpKS5jb250YWluc0tleV8xMXJiJChmb3JDbGFzcyk7XG4gICAgfVxuICAgIGlmICh0bXAkKVxuICAgICAgdGhyb3cgU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uX2luaXRfMChmb3JDbGFzcyk7XG4gICAgdGhpcy5jbGFzc01hcF8wLnB1dF94d3pjOXAkKGZvckNsYXNzLCBzZXJpYWxpemVyKTtcbiAgfTtcbiAgU2VyaWFsTW9kdWxlSW1wbC5wcm90b3R5cGUucmVnaXN0ZXJQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfeWNhMTJ3JCA9IGZ1bmN0aW9uIChiYXNlQ2xhc3MsIGNvbmNyZXRlQ2xhc3MsIGNvbmNyZXRlU2VyaWFsaXplciwgYWxsb3dPdmVyd3JpdGUpIHtcbiAgICBpZiAoYWxsb3dPdmVyd3JpdGUgPT09IHZvaWQgMClcbiAgICAgIGFsbG93T3ZlcndyaXRlID0gZmFsc2U7XG4gICAgdmFyIG5hbWUgPSBjb25jcmV0ZVNlcmlhbGl6ZXIuZGVzY3JpcHRvci5uYW1lO1xuICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLnBvbHlNYXBfMDtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgdmFsdWUgPSAkcmVjZWl2ZXIuZ2V0XzExcmIkKGJhc2VDbGFzcyk7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHZhciBhbnN3ZXIgPSBIYXNoTWFwX2luaXQoKTtcbiAgICAgICRyZWNlaXZlci5wdXRfeHd6YzlwJChiYXNlQ2xhc3MsIGFuc3dlcik7XG4gICAgICB0bXAkID0gYW5zd2VyO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0bXAkID0gdmFsdWU7XG4gICAgfVxuICAgIHZhciBiYXNlQ2xhc3NNYXAgPSB0bXAkO1xuICAgIHZhciB0bXAkXzAgPSAhYWxsb3dPdmVyd3JpdGU7XG4gICAgaWYgKHRtcCRfMCkge1xuICAgICAgdmFyIHRtcCRfMTtcbiAgICAgIHRtcCRfMCA9IChLb3RsaW4uaXNUeXBlKHRtcCRfMSA9IGJhc2VDbGFzc01hcCwgTWFwKSA/IHRtcCRfMSA6IHRocm93Q0NFKCkpLmNvbnRhaW5zS2V5XzExcmIkKGNvbmNyZXRlQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAodG1wJF8wKVxuICAgICAgdGhyb3cgU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uX2luaXQoYmFzZUNsYXNzLCBjb25jcmV0ZUNsYXNzKTtcbiAgICBiYXNlQ2xhc3NNYXAucHV0X3h3emM5cCQoY29uY3JldGVDbGFzcywgY29uY3JldGVTZXJpYWxpemVyKTtcbiAgICB2YXIgJHJlY2VpdmVyXzAgPSB0aGlzLmludmVyc2VDbGFzc05hbWVNYXBfMDtcbiAgICB2YXIgdG1wJF8yO1xuICAgIHZhciB2YWx1ZV8wID0gJHJlY2VpdmVyXzAuZ2V0XzExcmIkKGJhc2VDbGFzcyk7XG4gICAgaWYgKHZhbHVlXzAgPT0gbnVsbCkge1xuICAgICAgdmFyIGFuc3dlcl8wID0gSGFzaE1hcF9pbml0KCk7XG4gICAgICAkcmVjZWl2ZXJfMC5wdXRfeHd6YzlwJChiYXNlQ2xhc3MsIGFuc3dlcl8wKTtcbiAgICAgIHRtcCRfMiA9IGFuc3dlcl8wO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0bXAkXzIgPSB2YWx1ZV8wO1xuICAgIH1cbiAgICB0bXAkXzIucHV0X3h3emM5cCQobmFtZSwgY29uY3JldGVTZXJpYWxpemVyKTtcbiAgfTtcbiAgU2VyaWFsTW9kdWxlSW1wbC5wcm90b3R5cGUuZ2V0UG9seW1vcnBoaWNfYjFjZTBhJCA9IGZ1bmN0aW9uIChiYXNlQ2xhc3MsIHZhbHVlKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgIGlmICghaXNJbnN0YW5jZU9mKHZhbHVlLCBiYXNlQ2xhc3MpKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKCh0bXAkID0gKGJhc2VDbGFzcyAhPSBudWxsID8gYmFzZUNsYXNzLmVxdWFscyhQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSA6IG51bGwpID8gU3RhbmRhcmRTdWJ0eXBlc09mQW55X2dldEluc3RhbmNlKCkuZ2V0U3ViY2xhc3NTZXJpYWxpemVyX2tjbXd4byQodmFsdWUpIDogbnVsbCkgIT0gbnVsbCkge1xuICAgICAgdmFyIHRtcCRfMjtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCRfMiA9IHRtcCQsIEtTZXJpYWxpemVyKSA/IHRtcCRfMiA6IHRocm93Q0NFKCk7XG4gICAgfVxuICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCRfMSA9ICh0bXAkXzAgPSB0aGlzLnBvbHlNYXBfMC5nZXRfMTFyYiQoYmFzZUNsYXNzKSkgIT0gbnVsbCA/IHRtcCRfMC5nZXRfMTFyYiQoS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKHZhbHVlKSkgOiBudWxsLCBLU2VyaWFsaXplcikgPyB0bXAkXzEgOiBudWxsO1xuICB9O1xuICBTZXJpYWxNb2R1bGVJbXBsLnByb3RvdHlwZS5nZXRQb2x5bW9ycGhpY182eHRzbGEkID0gZnVuY3Rpb24gKGJhc2VDbGFzcywgc2VyaWFsaXplZENsYXNzTmFtZSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICBpZiAoKHRtcCQgPSAoYmFzZUNsYXNzICE9IG51bGwgPyBiYXNlQ2xhc3MuZXF1YWxzKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpIDogbnVsbCkgPyBTdGFuZGFyZFN1YnR5cGVzT2ZBbnlfZ2V0SW5zdGFuY2UoKS5nZXREZWZhdWx0RGVzZXJpYWxpemVyX3k0cHV0YiQoc2VyaWFsaXplZENsYXNzTmFtZSkgOiBudWxsKSAhPSBudWxsKSB7XG4gICAgICB2YXIgdG1wJF8yO1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJF8yID0gdG1wJCwgS1NlcmlhbGl6ZXIpID8gdG1wJF8yIDogdGhyb3dDQ0UoKTtcbiAgICB9XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJF8xID0gKHRtcCRfMCA9IHRoaXMuaW52ZXJzZUNsYXNzTmFtZU1hcF8wLmdldF8xMXJiJChiYXNlQ2xhc3MpKSAhPSBudWxsID8gdG1wJF8wLmdldF8xMXJiJChzZXJpYWxpemVkQ2xhc3NOYW1lKSA6IG51bGwsIEtTZXJpYWxpemVyKSA/IHRtcCRfMSA6IG51bGw7XG4gIH07XG4gIFNlcmlhbE1vZHVsZUltcGwucHJvdG90eXBlLmdldENvbnRleHR1YWxfbG1zaHd3JCA9IGZ1bmN0aW9uIChrY2xhc3MpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5jbGFzc01hcF8wLmdldF8xMXJiJChrY2xhc3MpLCBLU2VyaWFsaXplcikgPyB0bXAkIDogbnVsbDtcbiAgfTtcbiAgU2VyaWFsTW9kdWxlSW1wbC5wcm90b3R5cGUuZHVtcFRvXzI0N3JkZCQgPSBmdW5jdGlvbiAoY29sbGVjdG9yKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9IHRoaXMuY2xhc3NNYXBfMC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyIGtjbGFzcyA9IGVsZW1lbnQua2V5O1xuICAgICAgdmFyIHNlcmlhbCA9IGVsZW1lbnQudmFsdWU7XG4gICAgICB2YXIgdG1wJF8wLCB0bXAkXzE7XG4gICAgICBjb2xsZWN0b3IuY29udGV4dHVhbF9jZmhrYmEkKEtvdGxpbi5pc1R5cGUodG1wJF8wID0ga2NsYXNzLCBLQ2xhc3MpID8gdG1wJF8wIDogdGhyb3dDQ0UoKSwgS290bGluLmlzVHlwZSh0bXAkXzEgPSBzZXJpYWwsIEtTZXJpYWxpemVyKSA/IHRtcCRfMSA6IHRocm93Q0NFKCkpO1xuICAgIH1cbiAgICB2YXIgdG1wJF8yO1xuICAgIHRtcCRfMiA9IHRoaXMucG9seU1hcF8wLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJF8yLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnRfMCA9IHRtcCRfMi5uZXh0KCk7XG4gICAgICB2YXIgYmFzZUNsYXNzID0gZWxlbWVudF8wLmtleTtcbiAgICAgIHZhciBjbGFzc01hcCA9IGVsZW1lbnRfMC52YWx1ZTtcbiAgICAgIHZhciB0bXAkXzM7XG4gICAgICB0bXAkXzMgPSBjbGFzc01hcC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8zLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudF8xID0gdG1wJF8zLm5leHQoKTtcbiAgICAgICAgdmFyIGFjdHVhbENsYXNzID0gZWxlbWVudF8xLmtleTtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZXIgPSBlbGVtZW50XzEudmFsdWU7XG4gICAgICAgIHZhciB0bXAkXzQsIHRtcCRfNSwgdG1wJF82O1xuICAgICAgICBjb2xsZWN0b3IucG9seW1vcnBoaWNfa2Z5aWRpJChLb3RsaW4uaXNUeXBlKHRtcCRfNCA9IGJhc2VDbGFzcywgS0NsYXNzKSA/IHRtcCRfNCA6IHRocm93Q0NFKCksIEtvdGxpbi5pc1R5cGUodG1wJF81ID0gYWN0dWFsQ2xhc3MsIEtDbGFzcykgPyB0bXAkXzUgOiB0aHJvd0NDRSgpLCBLb3RsaW4uaXNUeXBlKHRtcCRfNiA9IHNlcmlhbGl6ZXIsIEtTZXJpYWxpemVyKSA/IHRtcCRfNiA6IHRocm93Q0NFKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgU2VyaWFsTW9kdWxlSW1wbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTZXJpYWxNb2R1bGVJbXBsJywgaW50ZXJmYWNlczogW1NlcmlhbE1vZHVsZV19O1xuICBmdW5jdGlvbiBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24obXNnKSB7XG4gICAgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobXNnLCB0aGlzKTtcbiAgICB0aGlzLm5hbWUgPSAnU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uJztcbiAgfVxuICBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl19O1xuICBmdW5jdGlvbiBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb25faW5pdChiYXNlQ2xhc3MsIGNvbmNyZXRlQ2xhc3MsICR0aGlzKSB7XG4gICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbi5jYWxsKCR0aGlzLCAnU2VyaWFsaXplciBmb3IgJyArIGNvbmNyZXRlQ2xhc3MgKyAnIGFscmVhZHkgcmVnaXN0ZXJlZCBpbiB0aGUgc2NvcGUgb2YgJyArIGJhc2VDbGFzcyk7XG4gICAgcmV0dXJuICR0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbl9pbml0XzAoZm9yQ2xhc3MsICR0aGlzKSB7XG4gICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbi5jYWxsKCR0aGlzLCAnU2VyaWFsaXplciBmb3IgJyArIGZvckNsYXNzICsgJyBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhpcyBtb2R1bGUnKTtcbiAgICByZXR1cm4gJHRoaXM7XG4gIH1cbiAgZnVuY3Rpb24gU3RhbmRhcmRTdWJ0eXBlc09mQW55KCkge1xuICAgIFN0YW5kYXJkU3VidHlwZXNPZkFueV9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5tYXBfMCA9IG1hcE9mKFt0byhnZXRLQ2xhc3MoTGlzdCksIG5ldyBBcnJheUxpc3RTZXJpYWxpemVyKG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSkpLCB0byhnZXRLQ2xhc3MoTGlua2VkSGFzaFNldCksIG5ldyBMaW5rZWRIYXNoU2V0U2VyaWFsaXplcihtYWtlTnVsbGFibGUobmV3IFBvbHltb3JwaGljU2VyaWFsaXplcihQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSkpKSwgdG8oZ2V0S0NsYXNzKEhhc2hTZXQpLCBuZXcgSGFzaFNldFNlcmlhbGl6ZXIobWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpKSksIHRvKGdldEtDbGFzcyhTZXQpLCBuZXcgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIobWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpKSksIHRvKGdldEtDbGFzcyhMaW5rZWRIYXNoTWFwKSwgbmV3IExpbmtlZEhhc2hNYXBTZXJpYWxpemVyKG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSwgbWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpKSksIHRvKGdldEtDbGFzcyhIYXNoTWFwKSwgbmV3IEhhc2hNYXBTZXJpYWxpemVyKG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSwgbWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpKSksIHRvKGdldEtDbGFzcyhNYXApLCBuZXcgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIobWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpLCBtYWtlTnVsbGFibGUobmV3IFBvbHltb3JwaGljU2VyaWFsaXplcihQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSkpKSwgdG8oZ2V0S0NsYXNzKE1hcCRFbnRyeSksIG5ldyBNYXBFbnRyeVNlcmlhbGl6ZXIobWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpLCBtYWtlTnVsbGFibGUobmV3IFBvbHltb3JwaGljU2VyaWFsaXplcihQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSkpKSwgdG8oUHJpbWl0aXZlQ2xhc3NlcyRzdHJpbmdDbGFzcywgU3RyaW5nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oZ2V0S0NsYXNzKENoYXIpLCBDaGFyU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oUHJpbWl0aXZlQ2xhc3NlcyRkb3VibGVDbGFzcywgRG91YmxlU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oUHJpbWl0aXZlQ2xhc3NlcyRmbG9hdENsYXNzLCBGbG9hdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKGdldEtDbGFzcyhMb25nKSwgTG9uZ1NlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKFByaW1pdGl2ZUNsYXNzZXMkaW50Q2xhc3MsIEludFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRDbGFzcywgU2hvcnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhQcmltaXRpdmVDbGFzc2VzJGJ5dGVDbGFzcywgQnl0ZVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkNsYXNzLCBCb29sZWFuU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oZ2V0S0NsYXNzKE9iamVjdC5nZXRQcm90b3R5cGVPZihrb3RsaW4uVW5pdCkuY29uc3RydWN0b3IpLCBVbml0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKV0pO1xuICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLm1hcF8wO1xuICAgIHZhciBkZXN0aW5hdGlvbiA9IExpbmtlZEhhc2hNYXBfaW5pdF8xKG1hcENhcGFjaXR5KCRyZWNlaXZlci5zaXplKSk7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9ICRyZWNlaXZlci5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyIHRtcCRfMCA9IGRlc3RpbmF0aW9uLnB1dF94d3pjOXAkO1xuICAgICAgdmFyIHMgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgdG1wJF8wLmNhbGwoZGVzdGluYXRpb24sIHMuZGVzY3JpcHRvci5uYW1lLCBlbGVtZW50LnZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5kZXNlcmlhbGl6aW5nTWFwXzAgPSBkZXN0aW5hdGlvbjtcbiAgfVxuICBTdGFuZGFyZFN1YnR5cGVzT2ZBbnkucHJvdG90eXBlLmdldFN1YmNsYXNzU2VyaWFsaXplcl9rY213eG8kID0gZnVuY3Rpb24gKG9iamVjdFRvQ2hlY2spIHtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gdGhpcy5tYXBfMC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgdG1wJF8wID0gdG1wJC5uZXh0KCk7XG4gICAgICB2YXIgayA9IHRtcCRfMC5rZXk7XG4gICAgICB2YXIgdiA9IHRtcCRfMC52YWx1ZTtcbiAgICAgIGlmIChpc0luc3RhbmNlT2Yob2JqZWN0VG9DaGVjaywgaykpXG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgU3RhbmRhcmRTdWJ0eXBlc09mQW55LnByb3RvdHlwZS5nZXREZWZhdWx0RGVzZXJpYWxpemVyX3k0cHV0YiQgPSBmdW5jdGlvbiAoc2VyaWFsaXplZENsYXNzTmFtZSkge1xuICAgIHJldHVybiB0aGlzLmRlc2VyaWFsaXppbmdNYXBfMC5nZXRfMTFyYiQoc2VyaWFsaXplZENsYXNzTmFtZSk7XG4gIH07XG4gIFN0YW5kYXJkU3VidHlwZXNPZkFueS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU3RhbmRhcmRTdWJ0eXBlc09mQW55JywgaW50ZXJmYWNlczogW119O1xuICB2YXIgU3RhbmRhcmRTdWJ0eXBlc09mQW55X2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3RhbmRhcmRTdWJ0eXBlc09mQW55X2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTdGFuZGFyZFN1YnR5cGVzT2ZBbnlfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBTdGFuZGFyZFN1YnR5cGVzT2ZBbnkoKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0YW5kYXJkU3VidHlwZXNPZkFueV9pbnN0YW5jZTtcbiAgfVxuICB2YXIgUHJvdG9CdWYkVmFyaW50X2luc3RhbmNlID0gbnVsbDtcbiAgdmFyIFByb3RvQnVmJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIHZhciBQcm90b051bWJlclR5cGUkREVGQVVMVF9pbnN0YW5jZTtcbiAgdmFyIFByb3RvTnVtYmVyVHlwZSRTSUdORURfaW5zdGFuY2U7XG4gIHZhciBQcm90b051bWJlclR5cGUkRklYRURfaW5zdGFuY2U7XG4gIHZhciBCeXRlQnVmZmVyJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIHZhciBJbnB1dFN0cmVhbSRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICB2YXIgTUFYX1NBRkVfSU5URUdFUjtcbiAgZnVuY3Rpb24gY29tcGlsZWRTZXJpYWxpemVyKCRyZWNlaXZlcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJF8wID0gKHRtcCQgPSBnZXRfanMoJHJlY2VpdmVyKS5Db21wYW5pb24pICE9IG51bGwgPyB0bXAkLnNlcmlhbGl6ZXIoKSA6IG51bGwsIEtTZXJpYWxpemVyKSA/IHRtcCRfMCA6IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gaXNJbnN0YW5jZU9mKCRyZWNlaXZlciwga2NsYXNzKSB7XG4gICAgcmV0dXJuIGtjbGFzcy5pc0luc3RhbmNlX3M4anl2NCQoJHJlY2VpdmVyKTtcbiAgfVxuICB2YXIgcGFja2FnZSRrb3RsaW54ID0gXy5rb3RsaW54IHx8IChfLmtvdGxpbnggPSB7fSk7XG4gIHZhciBwYWNrYWdlJHNlcmlhbGl6YXRpb24gPSBwYWNrYWdlJGtvdGxpbnguc2VyaWFsaXphdGlvbiB8fCAocGFja2FnZSRrb3RsaW54LnNlcmlhbGl6YXRpb24gPSB7fSk7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5FbmNvZGVyID0gRW5jb2RlcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkNvbXBvc2l0ZUVuY29kZXIgPSBDb21wb3NpdGVFbmNvZGVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uRGVjb2RlciA9IERlY29kZXI7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb3NpdGVEZWNvZGVyLCAnQ29tcGFuaW9uJywge2dldDogQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkNvbXBvc2l0ZURlY29kZXIgPSBDb21wb3NpdGVEZWNvZGVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uQ29udGV4dFNlcmlhbGl6ZXIgPSBDb250ZXh0U2VyaWFsaXplcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlNlcmlhbERlc2NyaXB0b3IgPSBTZXJpYWxEZXNjcmlwdG9yO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uU2VyaWFsaXphdGlvblN0cmF0ZWd5ID0gU2VyaWFsaXphdGlvblN0cmF0ZWd5O1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uRGVzZXJpYWxpemF0aW9uU3RyYXRlZ3kgPSBEZXNlcmlhbGl6YXRpb25TdHJhdGVneTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVwZGF0ZU1vZGUsICdCQU5ORUQnLCB7Z2V0OiBVcGRhdGVNb2RlJEJBTk5FRF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXBkYXRlTW9kZSwgJ09WRVJXUklURScsIHtnZXQ6IFVwZGF0ZU1vZGUkT1ZFUldSSVRFX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVcGRhdGVNb2RlLCAnVVBEQVRFJywge2dldDogVXBkYXRlTW9kZSRVUERBVEVfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlVwZGF0ZU1vZGUgPSBVcGRhdGVNb2RlO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uS1NlcmlhbGl6ZXIgPSBLU2VyaWFsaXplcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLnNlcmlhbGl6ZXJfMXliOGI3JCA9IHNlcmlhbGl6ZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5lbmNvZGVfZHQzdWdkJCA9IGVuY29kZV8wO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uZGVjb2RlX2Ntc3dpNyQgPSBkZWNvZGVfMDtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlNlcmlhbEtpbmQgPSBTZXJpYWxLaW5kO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ0lOVCcsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkSU5UX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVLaW5kLCAnVU5JVCcsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkVU5JVF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ0JPT0xFQU4nLCB7Z2V0OiBQcmltaXRpdmVLaW5kJEJPT0xFQU5fZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZUtpbmQsICdCWVRFJywge2dldDogUHJpbWl0aXZlS2luZCRCWVRFX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVLaW5kLCAnU0hPUlQnLCB7Z2V0OiBQcmltaXRpdmVLaW5kJFNIT1JUX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVLaW5kLCAnTE9ORycsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkTE9OR19nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ0ZMT0FUJywge2dldDogUHJpbWl0aXZlS2luZCRGTE9BVF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ0RPVUJMRScsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkRE9VQkxFX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVLaW5kLCAnQ0hBUicsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkQ0hBUl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ1NUUklORycsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkU1RSSU5HX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5QcmltaXRpdmVLaW5kID0gUHJpbWl0aXZlS2luZDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cnVjdHVyZUtpbmQsICdDTEFTUycsIHtnZXQ6IFN0cnVjdHVyZUtpbmQkQ0xBU1NfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cnVjdHVyZUtpbmQsICdMSVNUJywge2dldDogU3RydWN0dXJlS2luZCRMSVNUX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJ1Y3R1cmVLaW5kLCAnTUFQJywge2dldDogU3RydWN0dXJlS2luZCRNQVBfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlN0cnVjdHVyZUtpbmQgPSBTdHJ1Y3R1cmVLaW5kO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pb25LaW5kLCAnT0JKRUNUJywge2dldDogVW5pb25LaW5kJE9CSkVDVF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pb25LaW5kLCAnRU5VTV9LSU5EJywge2dldDogVW5pb25LaW5kJEVOVU1fS0lORF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pb25LaW5kLCAnU0VBTEVEJywge2dldDogVW5pb25LaW5kJFNFQUxFRF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pb25LaW5kLCAnUE9MWU1PUlBISUMnLCB7Z2V0OiBVbmlvbktpbmQkUE9MWU1PUlBISUNfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlVuaW9uS2luZCA9IFVuaW9uS2luZDtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkVsZW1lbnRWYWx1ZUVuY29kZXIgPSBFbGVtZW50VmFsdWVFbmNvZGVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uRWxlbWVudFZhbHVlRGVjb2RlciA9IEVsZW1lbnRWYWx1ZURlY29kZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5TZXJpYWxpemF0aW9uRXhjZXB0aW9uID0gU2VyaWFsaXphdGlvbkV4Y2VwdGlvbjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlVwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbiA9IFVwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbjtcbiAgdmFyIHBhY2thZ2UkbW9kdWxlcyA9IHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5tb2R1bGVzIHx8IChwYWNrYWdlJHNlcmlhbGl6YXRpb24ubW9kdWxlcyA9IHt9KTtcbiAgcGFja2FnZSRtb2R1bGVzLmdldENvbnRleHR1YWxPckRlZmF1bHRfNnphOWt0JCA9IGdldENvbnRleHR1YWxPckRlZmF1bHQ7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJHNlcmlhbGl6YXRpb24sICdQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvcicsIHtnZXQ6IFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5Qb2x5bW9ycGhpY1NlcmlhbGl6ZXIgPSBQb2x5bW9ycGhpY1NlcmlhbGl6ZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5TZXJpYWxGb3JtYXQgPSBTZXJpYWxGb3JtYXQ7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5BYnN0cmFjdFNlcmlhbEZvcm1hdCA9IEFic3RyYWN0U2VyaWFsRm9ybWF0O1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uQmluYXJ5Rm9ybWF0ID0gQmluYXJ5Rm9ybWF0O1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uU3RyaW5nRm9ybWF0ID0gU3RyaW5nRm9ybWF0O1xuICB2YXIgcGFja2FnZSRpbnRlcm5hbCA9IHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5pbnRlcm5hbCB8fCAocGFja2FnZSRzZXJpYWxpemF0aW9uLmludGVybmFsID0ge30pO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uZWxlbWVudERlc2NyaXB0b3JzX3h6ZjE5MyQgPSBlbGVtZW50RGVzY3JpcHRvcnM7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5nZXRFbGVtZW50SW5kZXhPclRocm93XzI3dmF3cCQgPSBnZXRFbGVtZW50SW5kZXhPclRocm93O1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uVGFnZ2VkRW5jb2RlciA9IFRhZ2dlZEVuY29kZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5OYW1lZFZhbHVlRW5jb2RlciA9IE5hbWVkVmFsdWVFbmNvZGVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uVGFnZ2VkRGVjb2RlciA9IFRhZ2dlZERlY29kZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5OYW1lZFZhbHVlRGVjb2RlciA9IE5hbWVkVmFsdWVEZWNvZGVyO1xuICBwYWNrYWdlJGludGVybmFsLkxpc3RMaWtlRGVzY3JpcHRvciA9IExpc3RMaWtlRGVzY3JpcHRvcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5NYXBMaWtlRGVzY3JpcHRvciA9IE1hcExpa2VEZXNjcmlwdG9yO1xuICBwYWNrYWdlJGludGVybmFsLkFycmF5TGlzdENsYXNzRGVzYyA9IEFycmF5TGlzdENsYXNzRGVzYztcbiAgcGFja2FnZSRpbnRlcm5hbC5OYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3IgPSBOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3I7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTGlua2VkSGFzaFNldENsYXNzRGVzYyA9IExpbmtlZEhhc2hTZXRDbGFzc0Rlc2M7XG4gIHBhY2thZ2UkaW50ZXJuYWwuSGFzaFNldENsYXNzRGVzYyA9IEhhc2hTZXRDbGFzc0Rlc2M7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3IgPSBOYW1lZE1hcENsYXNzRGVzY3JpcHRvcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5MaW5rZWRIYXNoTWFwQ2xhc3NEZXNjID0gTGlua2VkSGFzaE1hcENsYXNzRGVzYztcbiAgcGFja2FnZSRpbnRlcm5hbC5IYXNoTWFwQ2xhc3NEZXNjID0gSGFzaE1hcENsYXNzRGVzYztcbiAgcGFja2FnZSRpbnRlcm5hbC5BYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyID0gQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5MaXN0TGlrZVNlcmlhbGl6ZXIgPSBMaXN0TGlrZVNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTWFwTGlrZVNlcmlhbGl6ZXIgPSBNYXBMaWtlU2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5BcnJheUxpc3RTZXJpYWxpemVyID0gQXJyYXlMaXN0U2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5MaW5rZWRIYXNoU2V0U2VyaWFsaXplciA9IExpbmtlZEhhc2hTZXRTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLkhhc2hTZXRTZXJpYWxpemVyID0gSGFzaFNldFNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIgPSBMaW5rZWRIYXNoTWFwU2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5IYXNoTWFwU2VyaWFsaXplciA9IEhhc2hNYXBTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLkNvbW1vbkVudW1TZXJpYWxpemVyID0gQ29tbW9uRW51bVNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuR2VuZXJhdGVkU2VyaWFsaXplciA9IEdlbmVyYXRlZFNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwubWFrZU51bGxhYmxlX2V3YWNyMSQgPSBtYWtlTnVsbGFibGU7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTnVsbGFibGVTZXJpYWxpemVyID0gTnVsbGFibGVTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLlByaW1pdGl2ZURlc2NyaXB0b3IgPSBQcmltaXRpdmVEZXNjcmlwdG9yO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0ludERlc2NyaXB0b3InLCB7Z2V0OiBJbnREZXNjcmlwdG9yX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnVW5pdERlc2NyaXB0b3InLCB7Z2V0OiBVbml0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0Jvb2xlYW5EZXNjcmlwdG9yJywge2dldDogQm9vbGVhbkRlc2NyaXB0b3JfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdCeXRlRGVzY3JpcHRvcicsIHtnZXQ6IEJ5dGVEZXNjcmlwdG9yX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnU2hvcnREZXNjcmlwdG9yJywge2dldDogU2hvcnREZXNjcmlwdG9yX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnTG9uZ0Rlc2NyaXB0b3InLCB7Z2V0OiBMb25nRGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0Zsb2F0RGVzY3JpcHRvcicsIHtnZXQ6IEZsb2F0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0RvdWJsZURlc2NyaXB0b3InLCB7Z2V0OiBEb3VibGVEZXNjcmlwdG9yX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnQ2hhckRlc2NyaXB0b3InLCB7Z2V0OiBDaGFyRGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ1N0cmluZ0Rlc2NyaXB0b3InLCB7Z2V0OiBTdHJpbmdEZXNjcmlwdG9yX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnVW5pdFNlcmlhbGl6ZXInLCB7Z2V0OiBVbml0U2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0Jvb2xlYW5TZXJpYWxpemVyJywge2dldDogQm9vbGVhblNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdCeXRlU2VyaWFsaXplcicsIHtnZXQ6IEJ5dGVTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnU2hvcnRTZXJpYWxpemVyJywge2dldDogU2hvcnRTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnSW50U2VyaWFsaXplcicsIHtnZXQ6IEludFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdMb25nU2VyaWFsaXplcicsIHtnZXQ6IExvbmdTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnRmxvYXRTZXJpYWxpemVyJywge2dldDogRmxvYXRTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnRG91YmxlU2VyaWFsaXplcicsIHtnZXQ6IERvdWJsZVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdDaGFyU2VyaWFsaXplcicsIHtnZXQ6IENoYXJTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnU3RyaW5nU2VyaWFsaXplcicsIHtnZXQ6IFN0cmluZ1NlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRpbnRlcm5hbC5kZWZhdWx0U2VyaWFsaXplcl8xeWI4YjckID0gZGVmYXVsdFNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuU2VyaWFsQ2xhc3NEZXNjSW1wbCA9IFNlcmlhbENsYXNzRGVzY0ltcGw7XG4gIHBhY2thZ2UkaW50ZXJuYWwuS2V5VmFsdWVTZXJpYWxpemVyID0gS2V5VmFsdWVTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLk1hcEVudHJ5U2VyaWFsaXplciA9IE1hcEVudHJ5U2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5NYXBFbnRyeSA9IE1hcEVudHJ5O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ01hcEVudHJ5Q2xhc3NEZXNjJywge2dldDogTWFwRW50cnlDbGFzc0Rlc2NfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRpbnRlcm5hbC5UcmlwbGVTZXJpYWxpemVyID0gVHJpcGxlU2VyaWFsaXplcjtcbiAgdmFyIHBhY2thZ2UkanNvbiA9IHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5qc29uIHx8IChwYWNrYWdlJHNlcmlhbGl6YXRpb24uanNvbiA9IHt9KTtcbiAgcGFja2FnZSRqc29uLkpzb24gPSBKc29uO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbiwgJ0NvbXBhbmlvbicsIHtnZXQ6IEpzb24kQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uQ29uZmlndXJhdGlvbiwgJ0NvbXBhbmlvbicsIHtnZXQ6IEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGpzb24uSnNvbkNvbmZpZ3VyYXRpb24gPSBKc29uQ29uZmlndXJhdGlvbjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25FbGVtZW50LCAnQ29tcGFuaW9uJywge2dldDogSnNvbkVsZW1lbnQkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkanNvbi5Kc29uRWxlbWVudCA9IEpzb25FbGVtZW50O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZSwgJ0NvbXBhbmlvbicsIHtnZXQ6IEpzb25QcmltaXRpdmUkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkanNvbi5Kc29uUHJpbWl0aXZlID0gSnNvblByaW1pdGl2ZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25MaXRlcmFsLCAnQ29tcGFuaW9uJywge2dldDogSnNvbkxpdGVyYWwkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkanNvbi5Kc29uTGl0ZXJhbF9pbml0XzNwODF5dSQgPSBKc29uTGl0ZXJhbF9pbml0O1xuICBwYWNrYWdlJGpzb24uSnNvbkxpdGVyYWxfaW5pdF82dGFrbnYkID0gSnNvbkxpdGVyYWxfaW5pdF8wO1xuICBwYWNrYWdlJGpzb24uSnNvbkxpdGVyYWxfaW5pdF82MXpwb2UkID0gSnNvbkxpdGVyYWxfaW5pdF8xO1xuICBwYWNrYWdlJGpzb24uSnNvbkxpdGVyYWwgPSBKc29uTGl0ZXJhbDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkanNvbiwgJ0pzb25OdWxsJywge2dldDogSnNvbk51bGxfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRqc29uLnVuZXhwZWN0ZWRKc29uX3B1ajdmNCQgPSB1bmV4cGVjdGVkSnNvbjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25PYmplY3QsICdDb21wYW5pb24nLCB7Z2V0OiBKc29uT2JqZWN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGpzb24uSnNvbk9iamVjdCA9IEpzb25PYmplY3Q7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uQXJyYXksICdDb21wYW5pb24nLCB7Z2V0OiBKc29uQXJyYXkkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkanNvbi5Kc29uQXJyYXkgPSBKc29uQXJyYXk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGpzb24sICdKc29uRWxlbWVudFNlcmlhbGl6ZXInLCB7Z2V0OiBKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkanNvbiwgJ0pzb25QcmltaXRpdmVTZXJpYWxpemVyJywge2dldDogSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkanNvbiwgJ0pzb25OdWxsU2VyaWFsaXplcicsIHtnZXQ6IEpzb25OdWxsU2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRqc29uLCAnSnNvbkxpdGVyYWxTZXJpYWxpemVyJywge2dldDogSnNvbkxpdGVyYWxTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGpzb24sICdKc29uT2JqZWN0U2VyaWFsaXplcicsIHtnZXQ6IEpzb25PYmplY3RTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGpzb24sICdKc29uQXJyYXlTZXJpYWxpemVyJywge2dldDogSnNvbkFycmF5U2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGpzb24uSnNvblByaW1pdGl2ZV9wZGwxdmokID0gSnNvblByaW1pdGl2ZV8yO1xuICBwYWNrYWdlJGpzb24uZ2V0X2NvbnRlbnRfdTNzZDNnJCA9IGdldF9jb250ZW50O1xuICBwYWNrYWdlJGpzb24uSW52YWxpZEZsb2F0aW5nUG9pbnRfcXdpYnAxJCA9IEludmFsaWRGbG9hdGluZ1BvaW50O1xuICBwYWNrYWdlJGpzb24uSW52YWxpZEZsb2F0aW5nUG9pbnRfeDB4YjE5JCA9IEludmFsaWRGbG9hdGluZ1BvaW50XzA7XG4gIHBhY2thZ2UkanNvbi5qc29uVW5rbm93bktleUV4Y2VwdGlvbl9mMG4wOWQkID0ganNvblVua25vd25LZXlFeGNlcHRpb247XG4gIHBhY2thZ2UkanNvbi5Kc29uTWFwSW52YWxpZEtleUtpbmRfNGI4Zmh4JCA9IEpzb25NYXBJbnZhbGlkS2V5S2luZDtcbiAgcGFja2FnZSRqc29uLkpzb25FeGNlcHRpb24gPSBKc29uRXhjZXB0aW9uO1xuICBwYWNrYWdlJGpzb24uSnNvbkRlY29kaW5nRXhjZXB0aW9uID0gSnNvbkRlY29kaW5nRXhjZXB0aW9uO1xuICBwYWNrYWdlJGpzb24uSnNvbkVuY29kaW5nRXhjZXB0aW9uID0gSnNvbkVuY29kaW5nRXhjZXB0aW9uO1xuICBwYWNrYWdlJGpzb24uSnNvbklucHV0ID0gSnNvbklucHV0O1xuICBwYWNrYWdlJGpzb24uSnNvbk91dHB1dCA9IEpzb25PdXRwdXQ7XG4gIHZhciBwYWNrYWdlJGludGVybmFsXzAgPSBwYWNrYWdlJGpzb24uaW50ZXJuYWwgfHwgKHBhY2thZ2UkanNvbi5pbnRlcm5hbCA9IHt9KTtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLkpzb25QYXJzZXIgPSBKc29uUGFyc2VyO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbF8wLCAnRXNjYXBlQ2hhck1hcHBpbmdzJywge2dldDogRXNjYXBlQ2hhck1hcHBpbmdzX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5jaGFyVG9Ub2tlbkNsYXNzXzhlOHpxeSQgPSBjaGFyVG9Ub2tlbkNsYXNzO1xuICBwYWNrYWdlJGludGVybmFsXzAuZXNjYXBlVG9DaGFyX2tjbjJ2MyQgPSBlc2NhcGVUb0NoYXI7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5Kc29uUmVhZGVyID0gSnNvblJlYWRlcjtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLmNoZWNrS2luZF95N2JueWIkID0gY2hlY2tLaW5kO1xuICBwYWNrYWdlJGludGVybmFsXzAuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVQb2x5bW9ycGhpY19vamxkbWEkID0gZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVQb2x5bW9ycGhpYztcbiAgcGFja2FnZSRpbnRlcm5hbF8wLlN0cmVhbWluZ0pzb25JbnB1dCA9IFN0cmVhbWluZ0pzb25JbnB1dDtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5Db21wb3NlciA9IFN0cmVhbWluZ0pzb25PdXRwdXQkQ29tcG9zZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5TdHJlYW1pbmdKc29uT3V0cHV0X2luaXRfZWs1b2dwJCA9IFN0cmVhbWluZ0pzb25PdXRwdXRfaW5pdDtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLlN0cmVhbWluZ0pzb25PdXRwdXQgPSBTdHJlYW1pbmdKc29uT3V0cHV0O1xuICBwYWNrYWdlJGludGVybmFsXzAucHJpbnRRdW90ZWRfamlndmMkID0gcHJpbnRRdW90ZWQ7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC50b0Jvb2xlYW5TdHJpY3RfN2VmYWZpJCA9IHRvQm9vbGVhblN0cmljdDtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLnRvQm9vbGVhblN0cmljdE9yTnVsbF83ZWZhZmkkID0gdG9Cb29sZWFuU3RyaWN0T3JOdWxsO1xuICBwYWNrYWdlJGludGVybmFsXzAuc2hvdWxkQmVRdW90ZWRfeTRwdXRiJCA9IHNob3VsZEJlUXVvdGVkO1xuICBwYWNrYWdlJGludGVybmFsXzAucmVhZEpzb25faWpoYWVmJCA9IHJlYWRKc29uO1xuICBwYWNrYWdlJGludGVybmFsXzAud3JpdGVKc29uXzRkaXhldyQgPSB3cml0ZUpzb247XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0ZU1vZGUsICdPQkonLCB7Z2V0OiBXcml0ZU1vZGUkT0JKX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0ZU1vZGUsICdMSVNUJywge2dldDogV3JpdGVNb2RlJExJU1RfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRlTW9kZSwgJ01BUCcsIHtnZXQ6IFdyaXRlTW9kZSRNQVBfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRlTW9kZSwgJ1BPTFlfT0JKJywge2dldDogV3JpdGVNb2RlJFBPTFlfT0JKX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5Xcml0ZU1vZGUgPSBXcml0ZU1vZGU7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5zd2l0Y2hNb2RlXzJ6ejZidiQgPSBzd2l0Y2hNb2RlO1xuICBwYWNrYWdlJG1vZHVsZXMuUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyID0gUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyO1xuICBwYWNrYWdlJG1vZHVsZXMuU2VyaWFsTW9kdWxlID0gU2VyaWFsTW9kdWxlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRtb2R1bGVzLCAnRW1wdHlNb2R1bGUnLCB7Z2V0OiBFbXB0eU1vZHVsZV9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJG1vZHVsZXMuc2VyaWFsaXplcnNNb2R1bGVPZl9hem0xMDQkID0gc2VyaWFsaXplcnNNb2R1bGVPZl8wO1xuICBwYWNrYWdlJG1vZHVsZXMuU2VyaWFsaXplcnNNb2R1bGVfcTR0Y2VsJCA9IFNlcmlhbGl6ZXJzTW9kdWxlO1xuICBwYWNrYWdlJG1vZHVsZXMuU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyID0gU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyO1xuICBwYWNrYWdlJG1vZHVsZXMuU2VyaWFsTW9kdWxlQ29sbGVjdG9yID0gU2VyaWFsTW9kdWxlQ29sbGVjdG9yO1xuICBwYWNrYWdlJG1vZHVsZXMucGx1c183bjdjZiQgPSBwbHVzO1xuICBwYWNrYWdlJG1vZHVsZXMuU2VyaWFsTW9kdWxlSW1wbCA9IFNlcmlhbE1vZHVsZUltcGw7XG4gIHBhY2thZ2UkbW9kdWxlcy5TZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb25faW5pdF9nZmdhaWMkID0gU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uX2luaXQ7XG4gIHBhY2thZ2UkbW9kdWxlcy5TZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb25faW5pdF94bzFvZ3IkID0gU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uX2luaXRfMDtcbiAgcGFja2FnZSRtb2R1bGVzLlNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbiA9IFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkbW9kdWxlcywgJ1N0YW5kYXJkU3VidHlwZXNPZkFueScsIHtnZXQ6IFN0YW5kYXJkU3VidHlwZXNPZkFueV9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uY29tcGlsZWRTZXJpYWxpemVyXzF5YjhiNyQgPSBjb21waWxlZFNlcmlhbGl6ZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5pc0luc3RhbmNlT2Zfb2ZjdnhrJCA9IGlzSW5zdGFuY2VPZjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLCAnaXNOdWxsYWJsZScsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUsICdpc051bGxhYmxlJykpO1xuICBDb250ZXh0U2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokID0gRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJDtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9mNDY4NmckID0gRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9mNDY4NmckO1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JCA9IEVuY29kZXIucHJvdG90eXBlLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkO1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IENvbXBvc2l0ZUVuY29kZXIucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkO1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5zaG91bGRFbmNvZGVFbGVtZW50RGVmYXVsdF8zenIyaXkkID0gQ29tcG9zaXRlRW5jb2Rlci5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JDtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJCA9IERlY29kZXIucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQ7XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJCA9IERlY29kZXIucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJDtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JCA9IERlY29kZXIucHJvdG90eXBlLnVwZGF0ZVNlcmlhbGl6YWJsZVZhbHVlXzE5YzhrNSQ7XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJCA9IERlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJDtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBDb21wb3NpdGVEZWNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJDtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQ29sbGVjdGlvblNpemVfcWF0c20wJCA9IENvbXBvc2l0ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQ7XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQgPSBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokO1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2Y0Njg2ZyQgPSBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2Y0Njg2ZyQ7XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkID0gRW5jb2Rlci5wcm90b3R5cGUuYmVnaW5Db2xsZWN0aW9uX2dseTF4NSQ7XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLnNob3VsZEVuY29kZUVsZW1lbnREZWZhdWx0XzN6cjJpeSQgPSBDb21wb3NpdGVFbmNvZGVyLnByb3RvdHlwZS5zaG91bGRFbmNvZGVFbGVtZW50RGVmYXVsdF8zenIyaXkkO1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkID0gRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJDtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9hYWUzZWEkID0gRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9hYWUzZWEkO1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkID0gRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JDtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9leG1sYnMkID0gRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9leG1sYnMkO1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IENvbXBvc2l0ZURlY29kZXIucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkO1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVDb2xsZWN0aW9uU2l6ZV9xYXRzbTAkID0gQ29tcG9zaXRlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQ29sbGVjdGlvblNpemVfcWF0c20wJDtcbiAgUG9seW1vcnBoaWNTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEJpbmFyeUZvcm1hdC5wcm90b3R5cGUuaW5zdGFsbF9zdHB5dTQkID0gU2VyaWFsRm9ybWF0LnByb3RvdHlwZS5pbnN0YWxsX3N0cHl1NCQ7XG4gIFN0cmluZ0Zvcm1hdC5wcm90b3R5cGUuaW5zdGFsbF9zdHB5dTQkID0gU2VyaWFsRm9ybWF0LnByb3RvdHlwZS5pbnN0YWxsX3N0cHl1NCQ7XG4gIExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RW50aXR5QW5ub3RhdGlvbnMgPSBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbnRpdHlBbm5vdGF0aW9ucztcbiAgTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJCA9IFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRBbm5vdGF0aW9uc196YTNscGEkO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLCAnaXNOdWxsYWJsZScpKTtcbiAgTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5pc0VsZW1lbnRPcHRpb25hbF96YTNscGEkID0gU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUuaXNFbGVtZW50T3B0aW9uYWxfemEzbHBhJDtcbiAgTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVudGl0eUFubm90YXRpb25zID0gU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RW50aXR5QW5ub3RhdGlvbnM7XG4gIE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJCA9IFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRBbm5vdGF0aW9uc196YTNscGEkO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLCAnaXNOdWxsYWJsZScsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUsICdpc051bGxhYmxlJykpO1xuICBNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuaXNFbGVtZW50T3B0aW9uYWxfemEzbHBhJCA9IFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmlzRWxlbWVudE9wdGlvbmFsX3phM2xwYSQ7XG4gIENvbW1vbkVudW1TZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEdlbmVyYXRlZFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgTG9uZ0FzU3RyaW5nU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbnRpdHlBbm5vdGF0aW9ucyA9IFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmdldEVudGl0eUFubm90YXRpb25zO1xuICBQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJCA9IFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRBbm5vdGF0aW9uc196YTNscGEkO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUsICdlbGVtZW50c0NvdW50JywgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2VsZW1lbnRzQ291bnQnKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLCAnaXNOdWxsYWJsZScpKTtcbiAgVW5pdFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgQm9vbGVhblNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgQnl0ZVNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgU2hvcnRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEludFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgTG9uZ1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgRmxvYXRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIERvdWJsZVNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgQ2hhclNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgU3RyaW5nU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBLZXlWYWx1ZVNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgVHJpcGxlU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBKc29uRWxlbWVudFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgSnNvbk51bGxTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEpzb25MaXRlcmFsU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBKc29uT2JqZWN0U2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBKc29uQXJyYXlTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEpzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJCA9IERlY29kZXIucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQ7XG4gIEpzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9hYWUzZWEkID0gRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9hYWUzZWEkO1xuICBKc29uSW5wdXQucHJvdG90eXBlLnVwZGF0ZVNlcmlhbGl6YWJsZVZhbHVlXzE5YzhrNSQgPSBEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkO1xuICBKc29uSW5wdXQucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJCA9IERlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJDtcbiAgSnNvbklucHV0LnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IENvbXBvc2l0ZURlY29kZXIucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkO1xuICBKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQgPSBDb21wb3NpdGVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVDb2xsZWN0aW9uU2l6ZV9xYXRzbTAkO1xuICBKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokID0gRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJDtcbiAgSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9mNDY4NmckID0gRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9mNDY4NmckO1xuICBKc29uT3V0cHV0LnByb3RvdHlwZS5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JCA9IEVuY29kZXIucHJvdG90eXBlLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkO1xuICBKc29uT3V0cHV0LnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IENvbXBvc2l0ZUVuY29kZXIucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkO1xuICBKc29uT3V0cHV0LnByb3RvdHlwZS5zaG91bGRFbmNvZGVFbGVtZW50RGVmYXVsdF8zenIyaXkkID0gQ29tcG9zaXRlRW5jb2Rlci5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JDtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2FhZTNlYSQgPSBKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJDtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkID0gSnNvbklucHV0LnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkO1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJCA9IEpzb25JbnB1dC5wcm90b3R5cGUudXBkYXRlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9leG1sYnMkO1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQgPSBKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQ7XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJCA9IEpzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJDtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuYmVnaW5Db2xsZWN0aW9uX2dseTF4NSQgPSBKc29uT3V0cHV0LnByb3RvdHlwZS5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JDtcbiAgZGVwcmVjYXRpb25UZXh0ID0gJ09ic29sZXRlIG5hbWUgZnJvbSB0aGUgcHJldmlldyB2ZXJzaW9uIG9mIGxpYnJhcnkuJztcbiAgSU5TVEFMTF9ERVBSRUNBVElPTl9URVhUID0gJ0luc3RhbGwgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCwgbW9kdWxlIGNhbiBiZSBhZGRlZCB0byBmb3JtYXQgb25seSBpbiBjb25zdHJ1Y3Rvcic7XG4gIEFSUkFZX05BTUUgPSAna290bGluLkFycmF5JztcbiAgQVJSQVlfTElTVF9OQU1FID0gJ2tvdGxpbi5jb2xsZWN0aW9ucy5BcnJheUxpc3QnO1xuICBMSU5LRURfSEFTSF9TRVRfTkFNRSA9ICdrb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldCc7XG4gIEhBU0hfU0VUX05BTUUgPSAna290bGluLmNvbGxlY3Rpb25zLkhhc2hTZXQnO1xuICBMSU5LRURfSEFTSF9NQVBfTkFNRSA9ICdrb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcCc7XG4gIEhBU0hfTUFQX05BTUUgPSAna290bGluLmNvbGxlY3Rpb25zLkhhc2hNYXAnO1xuICBLRVlfSU5ERVggPSAwO1xuICBWQUxVRV9JTkRFWCA9IDE7XG4gIGRlZmF1bHRKc29uTW9kdWxlID0gc2VyaWFsaXplcnNNb2R1bGVPZl8wKG1hcE9mKFt0byhnZXRLQ2xhc3MoSnNvbkVsZW1lbnQpLCBKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKGdldEtDbGFzcyhKc29uUHJpbWl0aXZlKSwgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKGdldEtDbGFzcyhKc29uTGl0ZXJhbCksIEpzb25MaXRlcmFsU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oZ2V0S0NsYXNzKEpzb25OdWxsKSwgSnNvbk51bGxTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhnZXRLQ2xhc3MoSnNvbk9iamVjdCksIEpzb25PYmplY3RTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhnZXRLQ2xhc3MoSnNvbkFycmF5KSwgSnNvbkFycmF5U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKV0pKTtcbiAgTlVMTCA9ICdudWxsJztcbiAgQ09NTUEgPSA0NDtcbiAgQ09MT04gPSA1ODtcbiAgQkVHSU5fT0JKID0gMTIzO1xuICBFTkRfT0JKID0gMTI1O1xuICBCRUdJTl9MSVNUID0gOTE7XG4gIEVORF9MSVNUID0gOTM7XG4gIFNUUklORyA9IDM0O1xuICBTVFJJTkdfRVNDID0gOTI7XG4gIElOVkFMSUQgPSB0b0NoYXIoMCk7XG4gIFVOSUNPREVfRVNDID0gMTE3O1xuICBUQ19PVEhFUiA9IDA7XG4gIFRDX1NUUklORyA9IDE7XG4gIFRDX1NUUklOR19FU0MgPSAyO1xuICBUQ19XUyA9IDM7XG4gIFRDX0NPTU1BID0gNDtcbiAgVENfQ09MT04gPSA1O1xuICBUQ19CRUdJTl9PQkogPSA2O1xuICBUQ19FTkRfT0JKID0gNztcbiAgVENfQkVHSU5fTElTVCA9IDg7XG4gIFRDX0VORF9MSVNUID0gOTtcbiAgVENfTlVMTCA9IDEwO1xuICBUQ19JTlZBTElEID0gMTE7XG4gIFRDX0VPRiA9IDEyO1xuICBDVENfTUFYID0gMTI2O1xuICBFU0MyQ19NQVggPSAxMTc7XG4gIHZhciAkcmVjZWl2ZXIgPSBuZXcgSW50OEFycmF5KDEyNik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDw9IDMyOyBpKyspIHtcbiAgICBpbml0QzJUQygkcmVjZWl2ZXIsIGksIFRDX0lOVkFMSUQpO1xuICB9XG4gIGluaXRDMlRDKCRyZWNlaXZlciwgOSwgVENfV1MpO1xuICBpbml0QzJUQygkcmVjZWl2ZXIsIDEwLCBUQ19XUyk7XG4gIGluaXRDMlRDKCRyZWNlaXZlciwgMTMsIFRDX1dTKTtcbiAgaW5pdEMyVEMoJHJlY2VpdmVyLCAzMiwgVENfV1MpO1xuICBpbml0QzJUQ18wKCRyZWNlaXZlciwgQ09NTUEsIFRDX0NPTU1BKTtcbiAgaW5pdEMyVENfMCgkcmVjZWl2ZXIsIENPTE9OLCBUQ19DT0xPTik7XG4gIGluaXRDMlRDXzAoJHJlY2VpdmVyLCBCRUdJTl9PQkosIFRDX0JFR0lOX09CSik7XG4gIGluaXRDMlRDXzAoJHJlY2VpdmVyLCBFTkRfT0JKLCBUQ19FTkRfT0JKKTtcbiAgaW5pdEMyVENfMCgkcmVjZWl2ZXIsIEJFR0lOX0xJU1QsIFRDX0JFR0lOX0xJU1QpO1xuICBpbml0QzJUQ18wKCRyZWNlaXZlciwgRU5EX0xJU1QsIFRDX0VORF9MSVNUKTtcbiAgaW5pdEMyVENfMCgkcmVjZWl2ZXIsIFNUUklORywgVENfU1RSSU5HKTtcbiAgaW5pdEMyVENfMCgkcmVjZWl2ZXIsIFNUUklOR19FU0MsIFRDX1NUUklOR19FU0MpO1xuICBDMlRDID0gJHJlY2VpdmVyO1xuICB2YXIgJHJlY2VpdmVyXzAgPSBLb3RsaW4ubmV3QXJyYXkoMTI4LCBudWxsKTtcbiAgZm9yICh2YXIgYyA9IDA7IGMgPD0gMzE7IGMrKykge1xuICAgIHZhciBjMSA9IHRvSGV4Q2hhcihjID4+IDEyKTtcbiAgICB2YXIgYzIgPSB0b0hleENoYXIoYyA+PiA4KTtcbiAgICB2YXIgYzMgPSB0b0hleENoYXIoYyA+PiA0KTtcbiAgICB2YXIgYzQgPSB0b0hleENoYXIoYyk7XG4gICAgJHJlY2VpdmVyXzBbY10gPSAnXFxcXCcgKyAndScgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGMxKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoYzIpICsgU3RyaW5nLmZyb21DaGFyQ29kZShjMykgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGM0KTtcbiAgfVxuICAkcmVjZWl2ZXJfMFszNF0gPSAnXFxcXFwiJztcbiAgJHJlY2VpdmVyXzBbOTJdID0gJ1xcXFxcXFxcJztcbiAgJHJlY2VpdmVyXzBbOV0gPSAnXFxcXHQnO1xuICAkcmVjZWl2ZXJfMFs4XSA9ICdcXFxcYic7XG4gICRyZWNlaXZlcl8wWzEwXSA9ICdcXFxcbic7XG4gICRyZWNlaXZlcl8wWzEzXSA9ICdcXFxccic7XG4gICRyZWNlaXZlcl8wWzEyXSA9ICdcXFxcZic7XG4gIEVTQ0FQRV9DSEFSUyA9ICRyZWNlaXZlcl8wO1xuICBQUklNSVRJVkVfVEFHID0gJ3ByaW1pdGl2ZSc7XG4gIE1BWF9TQUZFX0lOVEVHRVIgPSBMOTAwNzE5OTI1NDc0MDk5MS50b051bWJlcigpO1xuICByZXR1cm4gXztcbn0pKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmpzLm1hcFxuIiwiLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjUuMVxuICogaHR0cHM6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMjAtMDUtMDRUMjI6NDlaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbnZhciBzbGljZSA9IGFyci5zbGljZTtcblxudmFyIGZsYXQgPSBhcnIuZmxhdCA/IGZ1bmN0aW9uKCBhcnJheSApIHtcblx0cmV0dXJuIGFyci5mbGF0LmNhbGwoIGFycmF5ICk7XG59IDogZnVuY3Rpb24oIGFycmF5ICkge1xuXHRyZXR1cm4gYXJyLmNvbmNhdC5hcHBseSggW10sIGFycmF5ICk7XG59O1xuXG5cbnZhciBwdXNoID0gYXJyLnB1c2g7XG5cbnZhciBpbmRleE9mID0gYXJyLmluZGV4T2Y7XG5cbnZhciBjbGFzczJ0eXBlID0ge307XG5cbnZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XG5cbnZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgZm5Ub1N0cmluZyA9IGhhc093bi50b1N0cmluZztcblxudmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKCBPYmplY3QgKTtcblxudmFyIHN1cHBvcnQgPSB7fTtcblxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiBpc0Z1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgIC8vIFN1cHBvcnQ6IENocm9tZSA8PTU3LCBGaXJlZm94IDw9NTJcbiAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMsIHR5cGVvZiByZXR1cm5zIFwiZnVuY3Rpb25cIiBmb3IgSFRNTCA8b2JqZWN0PiBlbGVtZW50c1xuICAgICAgLy8gKGkuZS4sIGB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvYmplY3RcIiApID09PSBcImZ1bmN0aW9uXCJgKS5cbiAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gY2xhc3NpZnkgKmFueSogRE9NIG5vZGUgYXMgYSBmdW5jdGlvbi5cbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iai5ub2RlVHlwZSAhPT0gXCJudW1iZXJcIjtcbiAgfTtcblxuXG52YXIgaXNXaW5kb3cgPSBmdW5jdGlvbiBpc1dpbmRvdyggb2JqICkge1xuXHRcdHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7XG5cdH07XG5cblxudmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuXG5cblxuXHR2YXIgcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyA9IHtcblx0XHR0eXBlOiB0cnVlLFxuXHRcdHNyYzogdHJ1ZSxcblx0XHRub25jZTogdHJ1ZSxcblx0XHRub01vZHVsZTogdHJ1ZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIG5vZGUsIGRvYyApIHtcblx0XHRkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG5cblx0XHR2YXIgaSwgdmFsLFxuXHRcdFx0c2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoIFwic2NyaXB0XCIgKTtcblxuXHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRpZiAoIG5vZGUgKSB7XG5cdFx0XHRmb3IgKCBpIGluIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA2NCssIEVkZ2UgMTgrXG5cdFx0XHRcdC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgXCJub25jZVwiIHByb3BlcnR5IG9uIHNjcmlwdHMuXG5cdFx0XHRcdC8vIE9uIHRoZSBvdGhlciBoYW5kLCBqdXN0IHVzaW5nIGBnZXRBdHRyaWJ1dGVgIGlzIG5vdCBlbm91Z2ggYXNcblx0XHRcdFx0Ly8gdGhlIGBub25jZWAgYXR0cmlidXRlIGlzIHJlc2V0IHRvIGFuIGVtcHR5IHN0cmluZyB3aGVuZXZlciBpdFxuXHRcdFx0XHQvLyBiZWNvbWVzIGJyb3dzaW5nLWNvbnRleHQgY29ubmVjdGVkLlxuXHRcdFx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy9odG1sL2lzc3Vlcy8yMzY5XG5cdFx0XHRcdC8vIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNub25jZS1hdHRyaWJ1dGVzXG5cdFx0XHRcdC8vIFRoZSBgbm9kZS5nZXRBdHRyaWJ1dGVgIGNoZWNrIHdhcyBhZGRlZCBmb3IgdGhlIHNha2Ugb2Zcblx0XHRcdFx0Ly8gYGpRdWVyeS5nbG9iYWxFdmFsYCBzbyB0aGF0IGl0IGNhbiBmYWtlIGEgbm9uY2UtY29udGFpbmluZyBub2RlXG5cdFx0XHRcdC8vIHZpYSBhbiBvYmplY3QuXG5cdFx0XHRcdHZhbCA9IG5vZGVbIGkgXSB8fCBub2RlLmdldEF0dHJpYnV0ZSAmJiBub2RlLmdldEF0dHJpYnV0ZSggaSApO1xuXHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKCBpLCB2YWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdH1cblxuXG5mdW5jdGlvbiB0b1R5cGUoIG9iaiApIHtcblx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seSAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuXHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0dHlwZW9mIG9iajtcbn1cbi8qIGdsb2JhbCBTeW1ib2wgKi9cbi8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYy5qc29uIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsXG4vLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZVxuXG5cblxudmFyXG5cdHZlcnNpb24gPSBcIjMuNS4xXCIsXG5cblx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcblx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXG5cdFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG5cdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHR9O1xuXG5qUXVlcnkuZm4gPSBqUXVlcnkucHJvdG90eXBlID0ge1xuXG5cdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcblx0anF1ZXJ5OiB2ZXJzaW9uLFxuXG5cdGNvbnN0cnVjdG9yOiBqUXVlcnksXG5cblx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXG5cdGxlbmd0aDogMCxcblxuXHR0b0FycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHR9LFxuXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1Jcblx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcblx0Z2V0OiBmdW5jdGlvbiggbnVtICkge1xuXG5cdFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxuXHRcdGlmICggbnVtID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcblx0XHRyZXR1cm4gbnVtIDwgMCA/IHRoaXNbIG51bSArIHRoaXMubGVuZ3RoIF0gOiB0aGlzWyBudW0gXTtcblx0fSxcblxuXHQvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG5cdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuXHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXG5cdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cblx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcblx0fSxcblxuXHRtYXA6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRzbGljZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcblx0fSxcblxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIDAgKTtcblx0fSxcblxuXHRsYXN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcblx0fSxcblxuXHRldmVuOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gKCBpICsgMSApICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRvZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5LmdyZXAoIHRoaXMsIGZ1bmN0aW9uKCBfZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBpICUgMjtcblx0XHR9ICkgKTtcblx0fSxcblxuXHRlcTogZnVuY3Rpb24oIGkgKSB7XG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XG5cdH0sXG5cblx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcblx0fSxcblxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG5cdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxuXHRwdXNoOiBwdXNoLFxuXHRzb3J0OiBhcnIuc29ydCxcblx0c3BsaWNlOiBhcnIuc3BsaWNlXG59O1xuXG5qUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBjb3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGRlZXAgPSB0YXJnZXQ7XG5cblx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XG5cdFx0aSsrO1xuXHR9XG5cblx0Ly8gSGFuZGxlIGNhc2Ugd2hlbiB0YXJnZXQgaXMgYSBzdHJpbmcgb3Igc29tZXRoaW5nIChwb3NzaWJsZSBpbiBkZWVwIGNvcHkpXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG5cdFx0dGFyZ2V0ID0ge307XG5cdH1cblxuXHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcblx0aWYgKCBpID09PSBsZW5ndGggKSB7XG5cdFx0dGFyZ2V0ID0gdGhpcztcblx0XHRpLS07XG5cdH1cblxuXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblxuXHRcdC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcblx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcblxuXHRcdFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuXHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgT2JqZWN0LnByb3RvdHlwZSBwb2xsdXRpb25cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIG5hbWUgPT09IFwiX19wcm90b19fXCIgfHwgdGFyZ2V0ID09PSBjb3B5ICkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG5cdFx0XHRcdGlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvcHkgKSB8fFxuXHRcdFx0XHRcdCggY29weUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xuXHRcdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXG5cdFx0XHRcdFx0Ly8gRW5zdXJlIHByb3BlciB0eXBlIGZvciB0aGUgc291cmNlIHZhbHVlXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSAmJiAhQXJyYXkuaXNBcnJheSggc3JjICkgKSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IFtdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICFjb3B5SXNBcnJheSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApICkge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSB7fTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBwcm90bywgQ3RvcjtcblxuXHRcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuXHRcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xuXHRcdGlmICggIW9iaiB8fCB0b1N0cmluZy5jYWxsKCBvYmogKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcblxuXHRcdC8vIE9iamVjdHMgd2l0aCBubyBwcm90b3R5cGUgKGUuZy4sIGBPYmplY3QuY3JlYXRlKCBudWxsIClgKSBhcmUgcGxhaW5cblx0XHRpZiAoICFwcm90byApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXG5cdFx0Q3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgXCJjb25zdHJ1Y3RvclwiICkgJiYgcHJvdG8uY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuXHR9LFxuXG5cdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0dmFyIG5hbWU7XG5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgcHJvdmlkZWQgY29udGV4dDsgZmFsbHMgYmFjayB0byB0aGUgZ2xvYmFsIG9uZVxuXHQvLyBpZiBub3Qgc3BlY2lmaWVkLlxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSwgb3B0aW9ucywgZG9jICkge1xuXHRcdERPTUV2YWwoIGNvZGUsIHsgbm9uY2U6IG9wdGlvbnMgJiYgb3B0aW9ucy5ub25jZSB9LCBkb2MgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcblx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0Zmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqIF07XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciBsZW5ndGgsIHZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gZmxhdCggcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0gKTtcblxuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdO1xufVxuXG4vLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcbmpRdWVyeS5lYWNoKCBcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoIFwiIFwiICksXG5mdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdGNsYXNzMnR5cGVbIFwiW29iamVjdCBcIiArIG5hbWUgKyBcIl1cIiBdID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xufSApO1xuXG5mdW5jdGlvbiBpc0FycmF5TGlrZSggb2JqICkge1xuXG5cdC8vIFN1cHBvcnQ6IHJlYWwgaU9TIDguMiBvbmx5IChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcblx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0Ly8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuXHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHR0eXBlID0gdG9UeXBlKCBvYmogKTtcblxuXHRpZiAoIGlzRnVuY3Rpb24oIG9iaiApIHx8IGlzV2luZG93KCBvYmogKSApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHlwZSA9PT0gXCJhcnJheVwiIHx8IGxlbmd0aCA9PT0gMCB8fFxuXHRcdHR5cGVvZiBsZW5ndGggPT09IFwibnVtYmVyXCIgJiYgbGVuZ3RoID4gMCAmJiAoIGxlbmd0aCAtIDEgKSBpbiBvYmo7XG59XG52YXIgU2l6emxlID1cbi8qIVxuICogU2l6emxlIENTUyBTZWxlY3RvciBFbmdpbmUgdjIuMy41XG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vanMuZm91bmRhdGlvbi9cbiAqXG4gKiBEYXRlOiAyMDIwLTAzLTE0XG4gKi9cbiggZnVuY3Rpb24oIHdpbmRvdyApIHtcbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0cHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LFxuXHRkaXJydW5zID0gMCxcblx0ZG9uZSA9IDAsXG5cdGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gMDtcblx0fSxcblxuXHQvLyBJbnN0YW5jZSBtZXRob2RzXG5cdGhhc093biA9ICgge30gKS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hOYXRpdmUgPSBhcnIucHVzaCxcblx0cHVzaCA9IGFyci5wdXNoLFxuXHRzbGljZSA9IGFyci5zbGljZSxcblxuXHQvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQncyBmYXN0ZXIgdGhhbiBuYXRpdmVcblx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRpZiAoIGxpc3RbIGkgXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fSxcblxuXHRib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufFwiICtcblx0XHRcImlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixcblxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblxuXHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zLyNpZGVudC10b2tlbi1kaWFncmFtXG5cdGlkZW50aWZpZXIgPSBcIig/OlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcIj98XFxcXFxcXFxbXlxcXFxyXFxcXG5cXFxcZl18W1xcXFx3LV18W15cXDAtXFxcXHg3Zl0pK1wiLFxuXG5cdC8vIEF0dHJpYnV0ZSBzZWxlY3RvcnM6IGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xuXHRhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcIiArIHdoaXRlc3BhY2UgK1xuXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdXG5cdFx0Ly8gb3Igc3RyaW5ncyBbY2FwdHVyZSAzIG9yIGNhcHR1cmUgNF1cIlxuXHRcdFwiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIgKyBpZGVudGlmaWVyICsgXCIpKXwpXCIgK1xuXHRcdHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLFxuXG5cdHBzZXVkb3MgPSBcIjooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XFxcXCgoXCIgK1xuXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHQvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcblx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblxuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblxuXHRcdC8vIDMuIGFueXRoaW5nIGVsc2UgKGNhcHR1cmUgMilcblx0XHRcIi4qXCIgK1xuXHRcdFwiKVxcXFwpfClcIixcblxuXHQvLyBMZWFkaW5nIGFuZCBub24tZXNjYXBlZCB0cmFpbGluZyB3aGl0ZXNwYWNlLCBjYXB0dXJpbmcgc29tZSBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzIHByZWNlZGluZyB0aGUgbGF0dGVyXG5cdHJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwiK1wiLCBcImdcIiApLFxuXHRydHJpbSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIiArXG5cdFx0d2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXCIgKSxcblx0cmRlc2NlbmQgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCJ8PlwiICksXG5cblx0cnBzZXVkbyA9IG5ldyBSZWdFeHAoIHBzZXVkb3MgKSxcblx0cmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKCBcIl5cIiArIGlkZW50aWZpZXIgKyBcIiRcIiApLFxuXG5cdG1hdGNoRXhwciA9IHtcblx0XHRcIklEXCI6IG5ldyBSZWdFeHAoIFwiXiMoXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIkNMQVNTXCI6IG5ldyBSZWdFeHAoIFwiXlxcXFwuKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJUQUdcIjogbmV3IFJlZ0V4cCggXCJeKFwiICsgaWRlbnRpZmllciArIFwifFsqXSlcIiApLFxuXHRcdFwiQVRUUlwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIGF0dHJpYnV0ZXMgKSxcblx0XHRcIlBTRVVET1wiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHBzZXVkb3MgKSxcblx0XHRcIkNISUxEXCI6IG5ldyBSZWdFeHAoIFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKGV2ZW58b2RkfCgoWystXXwpKFxcXFxkKilufClcIiArIHdoaXRlc3BhY2UgKyBcIiooPzooWystXXwpXCIgK1xuXHRcdFx0d2hpdGVzcGFjZSArIFwiKihcXFxcZCspfCkpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KVwiLCBcImlcIiApLFxuXHRcdFwiYm9vbFwiOiBuZXcgUmVnRXhwKCBcIl4oPzpcIiArIGJvb2xlYW5zICsgXCIpJFwiLCBcImlcIiApLFxuXG5cdFx0Ly8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG5cdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKigoPzotXFxcXGQpP1xcXFxkKilcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpKD89W14tXXwkKVwiLCBcImlcIiApXG5cdH0sXG5cblx0cmh0bWwgPSAvSFRNTCQvaSxcblx0cmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJoZWFkZXIgPSAvXmhcXGQkL2ksXG5cblx0cm5hdGl2ZSA9IC9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sXG5cblx0Ly8gRWFzaWx5LXBhcnNlYWJsZS9yZXRyaWV2YWJsZSBJRCBvciBUQUcgb3IgQ0xBU1Mgc2VsZWN0b3JzXG5cdHJxdWlja0V4cHIgPSAvXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLyxcblxuXHRyc2libGluZyA9IC9bK35dLyxcblxuXHQvLyBDU1MgZXNjYXBlc1xuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjZXNjYXBlZC1jaGFyYWN0ZXJzXG5cdHJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoIFwiXFxcXFxcXFxbXFxcXGRhLWZBLUZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98XFxcXFxcXFwoW15cXFxcclxcXFxuXFxcXGZdKVwiLCBcImdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggZXNjYXBlLCBub25IZXggKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGUuc2xpY2UoIDEgKSAtIDB4MTAwMDA7XG5cblx0XHRyZXR1cm4gbm9uSGV4ID9cblxuXHRcdFx0Ly8gU3RyaXAgdGhlIGJhY2tzbGFzaCBwcmVmaXggZnJvbSBhIG5vbi1oZXggZXNjYXBlIHNlcXVlbmNlXG5cdFx0XHRub25IZXggOlxuXG5cdFx0XHQvLyBSZXBsYWNlIGEgaGV4YWRlY2ltYWwgZXNjYXBlIHNlcXVlbmNlIHdpdGggdGhlIGVuY29kZWQgVW5pY29kZSBjb2RlIHBvaW50XG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExK1xuXHRcdFx0Ly8gRm9yIHZhbHVlcyBvdXRzaWRlIHRoZSBCYXNpYyBNdWx0aWxpbmd1YWwgUGxhbmUgKEJNUCksIG1hbnVhbGx5IGNvbnN0cnVjdCBhXG5cdFx0XHQvLyBzdXJyb2dhdGUgcGFpclxuXHRcdFx0aGlnaCA8IDAgP1xuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7XG5cdH0sXG5cblx0Ly8gQ1NTIHN0cmluZy9pZGVudGlmaWVyIHNlcmlhbGl6YXRpb25cblx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNjb21tb24tc2VyaWFsaXppbmctaWRpb21zXG5cdHJjc3Nlc2NhcGUgPSAvKFtcXDAtXFx4MWZcXHg3Zl18Xi0/XFxkKXxeLSR8W15cXDAtXFx4MWZcXHg3Zi1cXHVGRkZGXFx3LV0vZyxcblx0ZmNzc2VzY2FwZSA9IGZ1bmN0aW9uKCBjaCwgYXNDb2RlUG9pbnQgKSB7XG5cdFx0aWYgKCBhc0NvZGVQb2ludCApIHtcblxuXHRcdFx0Ly8gVSswMDAwIE5VTEwgYmVjb21lcyBVK0ZGRkQgUkVQTEFDRU1FTlQgQ0hBUkFDVEVSXG5cdFx0XHRpZiAoIGNoID09PSBcIlxcMFwiICkge1xuXHRcdFx0XHRyZXR1cm4gXCJcXHVGRkZEXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzXG5cdFx0XHRyZXR1cm4gY2guc2xpY2UoIDAsIC0xICkgKyBcIlxcXFxcIiArXG5cdFx0XHRcdGNoLmNoYXJDb2RlQXQoIGNoLmxlbmd0aCAtIDEgKS50b1N0cmluZyggMTYgKSArIFwiIFwiO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcblx0XHRyZXR1cm4gXCJcXFxcXCIgKyBjaDtcblx0fSxcblxuXHQvLyBVc2VkIGZvciBpZnJhbWVzXG5cdC8vIFNlZSBzZXREb2N1bWVudCgpXG5cdC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuXHQvLyBlcnJvciBpbiBJRVxuXHR1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0c2V0RG9jdW1lbnQoKTtcblx0fSxcblxuXHRpbkRpc2FibGVkRmllbGRzZXQgPSBhZGRDb21iaW5hdG9yKFxuXHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImZpZWxkc2V0XCI7XG5cdFx0fSxcblx0XHR7IGRpcjogXCJwYXJlbnROb2RlXCIsIG5leHQ6IFwibGVnZW5kXCIgfVxuXHQpO1xuXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxudHJ5IHtcblx0cHVzaC5hcHBseShcblx0XHQoIGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkgKSxcblx0XHRwcmVmZXJyZWREb2MuY2hpbGROb2Rlc1xuXHQpO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXHRhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlO1xufSBjYXRjaCAoIGUgKSB7XG5cdHB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID9cblxuXHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0cHVzaE5hdGl2ZS5hcHBseSggdGFyZ2V0LCBzbGljZS5jYWxsKCBlbHMgKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHQvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcblx0XHRcdHdoaWxlICggKCB0YXJnZXRbIGorKyBdID0gZWxzWyBpKysgXSApICkge31cblx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBtLCBpLCBlbGVtLCBuaWQsIG1hdGNoLCBncm91cHMsIG5ld1NlbGVjdG9yLFxuXHRcdG5ld0NvbnRleHQgPSBjb250ZXh0ICYmIGNvbnRleHQub3duZXJEb2N1bWVudCxcblxuXHRcdC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcblx0XHRub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dFxuXHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcblx0XHRub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7XG5cblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXG5cdC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcblx0aWYgKCAhc2VlZCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHRcdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xuXG5cdFx0aWYgKCBkb2N1bWVudElzSFRNTCApIHtcblxuXHRcdFx0Ly8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRyeSB1c2luZyBhIFwiZ2V0KkJ5KlwiIERPTSBtZXRob2Rcblx0XHRcdC8vIChleGNlcHRpbmcgRG9jdW1lbnRGcmFnbWVudCBjb250ZXh0LCB3aGVyZSB0aGUgbWV0aG9kcyBkb24ndCBleGlzdClcblx0XHRcdGlmICggbm9kZVR5cGUgIT09IDExICYmICggbWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkgKSApIHtcblxuXHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRpZiAoICggbSA9IG1hdGNoWyAxIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvY3VtZW50IGNvbnRleHRcblx0XHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkgKSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoIGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkgKSAmJlxuXHRcdFx0XHRcdFx0XHRjb250YWlucyggY29udGV4dCwgZWxlbSApICYmXG5cdFx0XHRcdFx0XHRcdGVsZW0uaWQgPT09IG0gKSB7XG5cblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUeXBlIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWyAyIF0gKSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHRcdC8vIENsYXNzIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoICggbSA9IG1hdGNoWyAzIF0gKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiZcblx0XHRcdFx0XHRjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRha2UgYWR2YW50YWdlIG9mIHF1ZXJ5U2VsZWN0b3JBbGxcblx0XHRcdGlmICggc3VwcG9ydC5xc2EgJiZcblx0XHRcdFx0IW5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXSAmJlxuXHRcdFx0XHQoICFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApICkgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA4IG9ubHlcblx0XHRcdFx0Ly8gRXhjbHVkZSBvYmplY3QgZWxlbWVudHNcblx0XHRcdFx0KCBub2RlVHlwZSAhPT0gMSB8fCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwib2JqZWN0XCIgKSApIHtcblxuXHRcdFx0XHRuZXdTZWxlY3RvciA9IHNlbGVjdG9yO1xuXHRcdFx0XHRuZXdDb250ZXh0ID0gY29udGV4dDtcblxuXHRcdFx0XHQvLyBxU0EgY29uc2lkZXJzIGVsZW1lbnRzIG91dHNpZGUgYSBzY29waW5nIHJvb3Qgd2hlbiBldmFsdWF0aW5nIGNoaWxkIG9yXG5cdFx0XHRcdC8vIGRlc2NlbmRhbnQgY29tYmluYXRvcnMsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnQuXG5cdFx0XHRcdC8vIEluIHN1Y2ggY2FzZXMsIHdlIHdvcmsgYXJvdW5kIHRoZSBiZWhhdmlvciBieSBwcmVmaXhpbmcgZXZlcnkgc2VsZWN0b3IgaW4gdGhlXG5cdFx0XHRcdC8vIGxpc3Qgd2l0aCBhbiBJRCBzZWxlY3RvciByZWZlcmVuY2luZyB0aGUgc2NvcGUgY29udGV4dC5cblx0XHRcdFx0Ly8gVGhlIHRlY2huaXF1ZSBoYXMgdG8gYmUgdXNlZCBhcyB3ZWxsIHdoZW4gYSBsZWFkaW5nIGNvbWJpbmF0b3IgaXMgdXNlZFxuXHRcdFx0XHQvLyBhcyBzdWNoIHNlbGVjdG9ycyBhcmUgbm90IHJlY29nbml6ZWQgYnkgcXVlcnlTZWxlY3RvckFsbC5cblx0XHRcdFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgdGVjaG5pcXVlLlxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0KCByZGVzY2VuZC50ZXN0KCBzZWxlY3RvciApIHx8IHJjb21iaW5hdG9ycy50ZXN0KCBzZWxlY3RvciApICkgKSB7XG5cblx0XHRcdFx0XHQvLyBFeHBhbmQgY29udGV4dCBmb3Igc2libGluZyBzZWxlY3RvcnNcblx0XHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHQ7XG5cblx0XHRcdFx0XHQvLyBXZSBjYW4gdXNlIDpzY29wZSBpbnN0ZWFkIG9mIHRoZSBJRCBoYWNrIGlmIHRoZSBicm93c2VyXG5cdFx0XHRcdFx0Ly8gc3VwcG9ydHMgaXQgJiBpZiB3ZSdyZSBub3QgY2hhbmdpbmcgdGhlIGNvbnRleHQuXG5cdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICE9PSBjb250ZXh0IHx8ICFzdXBwb3J0LnNjb3BlICkge1xuXG5cdFx0XHRcdFx0XHQvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFx0aWYgKCAoIG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSApICkge1xuXHRcdFx0XHRcdFx0XHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dC5zZXRBdHRyaWJ1dGUoIFwiaWRcIiwgKCBuaWQgPSBleHBhbmRvICkgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdFx0XHRpID0gZ3JvdXBzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1sgaSBdID0gKCBuaWQgPyBcIiNcIiArIG5pZCA6IFwiOnNjb3BlXCIgKSArIFwiIFwiICtcblx0XHRcdFx0XHRcdFx0dG9TZWxlY3RvciggZ3JvdXBzWyBpIF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cyxcblx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH0gY2F0Y2ggKCBxc2FFcnJvciApIHtcblx0XHRcdFx0XHRub25uYXRpdmVTZWxlY3RvckNhY2hlKCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdGlmICggbmlkID09PSBleHBhbmRvICkge1xuXHRcdFx0XHRcdFx0Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFsbCBvdGhlcnNcblx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHR2YXIga2V5cyA9IFtdO1xuXG5cdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gVXNlIChrZXkgKyBcIiBcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1Nylcblx0XHRpZiAoIGtleXMucHVzaCgga2V5ICsgXCIgXCIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7XG5cblx0XHRcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuXHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTtcblx0XHR9XG5cdFx0cmV0dXJuICggY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSApO1xuXHR9XG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAqL1xuZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0Zm5bIGV4cGFuZG8gXSA9IHRydWU7XG5cdHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdFxuICovXG5mdW5jdGlvbiBhc3NlcnQoIGZuICkge1xuXHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImZpZWxkc2V0XCIgKTtcblxuXHR0cnkge1xuXHRcdHJldHVybiAhIWZuKCBlbCApO1xuXHR9IGNhdGNoICggZSApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cblx0XHQvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHRcblx0XHRpZiAoIGVsLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbCApO1xuXHRcdH1cblxuXHRcdC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXG5cdFx0ZWwgPSBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xuICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXG4gKi9cbmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7XG5cdHZhciBhcnIgPSBhdHRycy5zcGxpdCggXCJ8XCIgKSxcblx0XHRpID0gYXJyLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRFeHByLmF0dHJIYW5kbGVbIGFyclsgaSBdIF0gPSBoYW5kbGVyO1xuXHR9XG59XG5cbi8qKlxuICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5nc1xuICogQHBhcmFtIHtFbGVtZW50fSBhXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYlxuICovXG5mdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7XG5cdHZhciBjdXIgPSBiICYmIGEsXG5cdFx0ZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdGEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4O1xuXG5cdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRpZiAoIGRpZmYgKSB7XG5cdFx0cmV0dXJuIGRpZmY7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuXHRpZiAoIGN1ciApIHtcblx0XHR3aGlsZSAoICggY3VyID0gY3VyLm5leHRTaWJsaW5nICkgKSB7XG5cdFx0XHRpZiAoIGN1ciA9PT0gYiApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhID8gMSA6IC0xO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gKCBuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIiApICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZFxuICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZGlzYWJsZWQgKSB7XG5cblx0Ly8gS25vd24gOmRpc2FibGVkIGZhbHNlIHBvc2l0aXZlczogZmllbGRzZXRbZGlzYWJsZWRdID4gbGVnZW5kOm50aC1vZi10eXBlKG4rMikgOmNhbi1kaXNhYmxlXG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gbWF0Y2ggOmVuYWJsZWQgb3IgOmRpc2FibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZW5hYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWRpc2FibGVkXG5cdFx0aWYgKCBcImZvcm1cIiBpbiBlbGVtICkge1xuXG5cdFx0XHQvLyBDaGVjayBmb3IgaW5oZXJpdGVkIGRpc2FibGVkbmVzcyBvbiByZWxldmFudCBub24tZGlzYWJsZWQgZWxlbWVudHM6XG5cdFx0XHQvLyAqIGxpc3RlZCBmb3JtLWFzc29jaWF0ZWQgZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBmaWVsZHNldFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxpc3RlZFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWRcblx0XHRcdC8vICogb3B0aW9uIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZFxuXHRcdFx0Ly8gQWxsIHN1Y2ggZWxlbWVudHMgaGF2ZSBhIFwiZm9ybVwiIHByb3BlcnR5LlxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0Ly8gT3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnRcblx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5wYXJlbnROb2RlLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDYgLSAxMVxuXHRcdFx0XHQvLyBVc2UgdGhlIGlzRGlzYWJsZWQgc2hvcnRjdXQgcHJvcGVydHkgdG8gY2hlY2sgZm9yIGRpc2FibGVkIGZpZWxkc2V0IGFuY2VzdG9yc1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXG5cdFx0XHRcdFx0Ly8gV2hlcmUgdGhlcmUgaXMgbm8gaXNEaXNhYmxlZCwgY2hlY2sgbWFudWFsbHlcblx0XHRcdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdFx0XHRlbGVtLmlzRGlzYWJsZWQgIT09ICFkaXNhYmxlZCAmJlxuXHRcdFx0XHRcdGluRGlzYWJsZWRGaWVsZHNldCggZWxlbSApID09PSBkaXNhYmxlZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXG5cdFx0Ly8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5LlxuXHRcdC8vIFNvbWUgdmljdGltcyBnZXQgY2F1Z2h0IGluIG91ciBuZXQgKGxhYmVsLCBsZWdlbmQsIG1lbnUsIHRyYWNrKSwgYnV0IGl0IHNob3VsZG4ndFxuXHRcdC8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLlxuXHRcdH0gZWxzZSBpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdH1cblxuXHRcdC8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggYXJndW1lbnQgKSB7XG5cdFx0YXJndW1lbnQgPSArYXJndW1lbnQ7XG5cdFx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHR2YXIgaixcblx0XHRcdFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcblx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cblx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggc2VlZFsgKCBqID0gbWF0Y2hJbmRleGVzWyBpIF0gKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbIGogXSA9ICEoIG1hdGNoZXNbIGogXSA9IHNlZWRbIGogXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9ICk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBTaXp6bGUgY29udGV4dFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdD19IGNvbnRleHRcbiAqIEByZXR1cm5zIHtFbGVtZW50fE9iamVjdHxCb29sZWFufSBUaGUgaW5wdXQgbm9kZSBpZiBhY2NlcHRhYmxlLCBvdGhlcndpc2UgYSBmYWxzeSB2YWx1ZVxuICovXG5mdW5jdGlvbiB0ZXN0Q29udGV4dCggY29udGV4dCApIHtcblx0cmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29udGV4dDtcbn1cblxuLy8gRXhwb3NlIHN1cHBvcnQgdmFycyBmb3IgY29udmVuaWVuY2VcbnN1cHBvcnQgPSBTaXp6bGUuc3VwcG9ydCA9IHt9O1xuXG4vKipcbiAqIERldGVjdHMgWE1MIG5vZGVzXG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtIEFuIGVsZW1lbnQgb3IgYSBkb2N1bWVudFxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWZmIGVsZW0gaXMgYSBub24tSFRNTCBYTUwgbm9kZVxuICovXG5pc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbmFtZXNwYWNlID0gZWxlbS5uYW1lc3BhY2VVUkksXG5cdFx0ZG9jRWxlbSA9ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdC8vIEFzc3VtZSBIVE1MIHdoZW4gZG9jdW1lbnRFbGVtZW50IGRvZXNuJ3QgeWV0IGV4aXN0LCBzdWNoIGFzIGluc2lkZSBsb2FkaW5nIGlmcmFtZXNcblx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzQ4MzNcblx0cmV0dXJuICFyaHRtbC50ZXN0KCBuYW1lc3BhY2UgfHwgZG9jRWxlbSAmJiBkb2NFbGVtLm5vZGVOYW1lIHx8IFwiSFRNTFwiICk7XG59O1xuXG4vKipcbiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcblx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCBkb2MgPT0gZG9jdW1lbnQgfHwgZG9jLm5vZGVUeXBlICE9PSA5IHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuXHRcdHJldHVybiBkb2N1bWVudDtcblx0fVxuXG5cdC8vIFVwZGF0ZSBnbG9iYWwgdmFyaWFibGVzXG5cdGRvY3VtZW50ID0gZG9jO1xuXHRkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHRkb2N1bWVudElzSFRNTCA9ICFpc1hNTCggZG9jdW1lbnQgKTtcblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDEyIC0gMTgrXG5cdC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXCJwZXJtaXNzaW9uIGRlbmllZFwiIGVycm9ycyAoalF1ZXJ5ICMxMzkzNilcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCBwcmVmZXJyZWREb2MgIT0gZG9jdW1lbnQgJiZcblx0XHQoIHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3ICkgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0c3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxuXHRcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDExKywgRWRnZSAxMiAtIDE4KywgQ2hyb21lIDw9MTYgLSAyNSBvbmx5LCBGaXJlZm94IDw9My42IC0gMzEgb25seSxcblx0Ly8gU2FmYXJpIDQgLSA1IG9ubHksIE9wZXJhIDw9MTEuNiAtIDEyLnggb25seVxuXHQvLyBJRS9FZGdlICYgb2xkZXIgYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgOnNjb3BlIHBzZXVkby1jbGFzcy5cblx0Ly8gU3VwcG9ydDogU2FmYXJpIDYuMCBvbmx5XG5cdC8vIFNhZmFyaSA2LjAgc3VwcG9ydHMgOnNjb3BlIGJ1dCBpdCdzIGFuIGFsaWFzIG9mIDpyb290IHRoZXJlLlxuXHRzdXBwb3J0LnNjb3BlID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cdFx0cmV0dXJuIHR5cGVvZiBlbC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHQhZWwucXVlcnlTZWxlY3RvckFsbCggXCI6c2NvcGUgZmllbGRzZXQgZGl2XCIgKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvKiBBdHRyaWJ1dGVzXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBTdXBwb3J0OiBJRTw4XG5cdC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xuXHQvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcblx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NOYW1lXCIgKTtcblx0fSApO1xuXG5cdC8qIGdldEVsZW1lbnQocylCeSpcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KCBcIlwiICkgKTtcblx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcIipcIiApLmxlbmd0aDtcblx0fSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvLyBJRCBmaWx0ZXIgYW5kIGZpbmRcblx0aWYgKCBzdXBwb3J0LmdldEJ5SWQgKSB7XG5cdFx0RXhwci5maWx0ZXJbIFwiSURcIiBdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJpZFwiICkgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRFeHByLmZpbmRbIFwiSURcIiBdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXHRcdFx0XHRyZXR1cm4gZWxlbSA/IFsgZWxlbSBdIDogW107XG5cdFx0XHR9XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRFeHByLmZpbHRlclsgXCJJRFwiIF0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggXCJpZFwiICk7XG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHlcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0RXhwci5maW5kWyBcIklEXCIgXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBub2RlLCBpLCBlbGVtcyxcblx0XHRcdFx0XHRlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHQvLyBWZXJpZnkgdGhlIGlkIGF0dHJpYnV0ZVxuXHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kWyBcIlRBR1wiIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXG5cdFx0XHRcdC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cblx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzXG5cdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0bXA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9O1xuXG5cdC8vIENsYXNzXG5cdEV4cHIuZmluZFsgXCJDTEFTU1wiIF0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcblx0XHR9XG5cdH07XG5cblx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gUVNBIGFuZCBtYXRjaGVzU2VsZWN0b3Igc3VwcG9ydFxuXG5cdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXG5cdHJidWdneU1hdGNoZXMgPSBbXTtcblxuXHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxuXHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3Jcblx0Ly8gd2hlbmV2ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZVxuXHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxuXHQvLyBTZWUgaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG5cdHJidWdneVFTQSA9IFtdO1xuXG5cdGlmICggKCBzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApICkgKSB7XG5cblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0XHRcdHZhciBpbnB1dDtcblxuXHRcdFx0Ly8gU2VsZWN0IGlzIHNldCB0byBlbXB0eSBzdHJpbmcgb24gcHVycG9zZVxuXHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XG5cdFx0XHQvLyBzZXR0aW5nIGEgYm9vbGVhbiBjb250ZW50IGF0dHJpYnV0ZSxcblx0XHRcdC8vIHNpbmNlIGl0cyBwcmVzZW5jZSBzaG91bGQgYmUgZW5vdWdoXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaW5uZXJIVE1MID0gXCI8YSBpZD0nXCIgKyBleHBhbmRvICsgXCInPjwvYT5cIiArXG5cdFx0XHRcdFwiPHNlbGVjdCBpZD0nXCIgKyBleHBhbmRvICsgXCItXFxyXFxcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+XCIgK1xuXHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOCwgT3BlcmEgMTEtMTIuMTZcblx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cblx0XHRcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFwic2FmZVwiIGZvciBXaW5SVFxuXHRcdFx0Ly8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9oaDQ2NTM4OC5hc3B4I2F0dHJpYnV0ZV9zZWN0aW9uXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltzZWxlY3RlZF1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJ+PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNSAtIDE4K1xuXHRcdFx0Ly8gSUUgMTEvRWRnZSBkb24ndCBmaW5kIGVsZW1lbnRzIG9uIGEgYFtuYW1lPScnXWAgcXVlcnkgaW4gc29tZSBjYXNlcy5cblx0XHRcdC8vIEFkZGluZyBhIHRlbXBvcmFyeSBhdHRyaWJ1dGUgdG8gdGhlIGRvY3VtZW50IGJlZm9yZSB0aGUgc2VsZWN0aW9uIHdvcmtzXG5cdFx0XHQvLyBhcm91bmQgdGhlIGlzc3VlLlxuXHRcdFx0Ly8gSW50ZXJlc3RpbmdseSwgSUUgMTAgJiBvbGRlciBkb24ndCBzZWVtIHRvIGhhdmUgdGhlIGlzc3VlLlxuXHRcdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbbmFtZT0nJ11cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIipuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqPVwiICtcblx0XHRcdFx0XHR3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCI6Y2hlY2tlZFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6Y2hlY2tlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG5cdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCIuIy4rWyt+XVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD0zLjYgLSA1IG9ubHlcblx0XHRcdC8vIE9sZCBGaXJlZm94IGRvZXNuJ3QgdGhyb3cgb24gYSBiYWRseS1lc2NhcGVkIGlkZW50aWZpZXIuXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIlxcXFxcXGZcIiApO1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiW1xcXFxyXFxcXG5cXFxcZl1cIiApO1xuXHRcdH0gKTtcblxuXHRcdGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW25hbWU9ZF1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwibmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKlsqXiR8IX5dPz1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKVxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbCggXCI6ZW5hYmxlZFwiICkubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOmRpc2FibGVkXCIgKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogT3BlcmEgMTAgLSAxMSBvbmx5XG5cdFx0XHQvLyBPcGVyYSAxMC0xMSBkb2VzIG5vdCB0aHJvdyBvbiBwb3N0LWNvbW1hIGludmFsaWQgcHNldWRvc1xuXHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbCggXCIqLDp4XCIgKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKCBcIiwuKjpcIiApO1xuXHRcdH0gKTtcblx0fVxuXG5cdGlmICggKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKCBtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IgKSApICkgKSB7XG5cblx0XHRhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblxuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXG5cdFx0XHQvLyBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlIChJRSA5KVxuXHRcdFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZWwsIFwiKlwiICk7XG5cblx0XHRcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cblx0XHRcdC8vIEdlY2tvIGRvZXMgbm90IGVycm9yLCByZXR1cm5zIGZhbHNlIGluc3RlYWRcblx0XHRcdG1hdGNoZXMuY2FsbCggZWwsIFwiW3MhPScnXTp4XCIgKTtcblx0XHRcdHJidWdneU1hdGNoZXMucHVzaCggXCIhPVwiLCBwc2V1ZG9zICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbiggXCJ8XCIgKSApO1xuXHRyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKCBcInxcIiApICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpICk7XG5cdFx0fSA6XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRpZiAoIGIgKSB7XG5cdFx0XHRcdHdoaWxlICggKCBiID0gYi5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgP1xuXHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkXG5cdFx0XHQxO1xuXG5cdFx0Ly8gRGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0aWYgKCBjb21wYXJlICYgMSB8fFxuXHRcdFx0KCAhc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlICkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdGlmICggYSA9PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG5cdFx0XHRcdGNvbnRhaW5zKCBwcmVmZXJyZWREb2MsIGEgKSApIHtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0aWYgKCBiID09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PSBwcmVmZXJyZWREb2MgJiZcblx0XHRcdFx0Y29udGFpbnMoIHByZWZlcnJlZERvYywgYiApICkge1xuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFpbnRhaW4gb3JpZ2luYWwgb3JkZXJcblx0XHRcdHJldHVybiBzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxO1xuXHR9IDpcblx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXHRcdFx0cmV0dXJuIGEgPT0gZG9jdW1lbnQgPyAtMSA6XG5cdFx0XHRcdGIgPT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoICggY3VyID0gY3VyLnBhcmVudE5vZGUgKSApIHtcblx0XHRcdGJwLnVuc2hpZnQoIGN1ciApO1xuXHRcdH1cblxuXHRcdC8vIFdhbGsgZG93biB0aGUgdHJlZSBsb29raW5nIGZvciBhIGRpc2NyZXBhbmN5XG5cdFx0d2hpbGUgKCBhcFsgaSBdID09PSBicFsgaSBdICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblxuXHRcdFx0Ly8gRG8gYSBzaWJsaW5nIGNoZWNrIGlmIHRoZSBub2RlcyBoYXZlIGEgY29tbW9uIGFuY2VzdG9yXG5cdFx0XHRzaWJsaW5nQ2hlY2soIGFwWyBpIF0sIGJwWyBpIF0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuXHRcdFx0YXBbIGkgXSA9PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFsgaSBdID09IHByZWZlcnJlZERvYyA/IDEgOlxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdHNldERvY3VtZW50KCBlbGVtICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cblx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggZXhwciwgdHJ1ZSApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblxuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0fVxuXHRyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTtcbn07XG5cblNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXG5cdFx0Ly8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKGpRdWVyeSAjMTM4MDcpXG5cdFx0dmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0Zm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDpcblx0XHRcdHVuZGVmaW5lZDtcblxuXHRyZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgP1xuXHRcdHZhbCA6XG5cdFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApIDpcblx0XHRcdCggdmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkgKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lc2NhcGUgPSBmdW5jdGlvbiggc2VsICkge1xuXHRyZXR1cm4gKCBzZWwgKyBcIlwiICkucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xufTtcblxuU2l6emxlLmVycm9yID0gZnVuY3Rpb24oIG1zZyApIHtcblx0dGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XG59O1xuXG4vKipcbiAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXNcbiAqIEBwYXJhbSB7QXJyYXlMaWtlfSByZXN1bHRzXG4gKi9cblNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24oIHJlc3VsdHMgKSB7XG5cdHZhciBlbGVtLFxuXHRcdGR1cGxpY2F0ZXMgPSBbXSxcblx0XHRqID0gMCxcblx0XHRpID0gMDtcblxuXHQvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXG5cdGhhc0R1cGxpY2F0ZSA9ICFzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXM7XG5cdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xuXHRyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xuXG5cdGlmICggaGFzRHVwbGljYXRlICkge1xuXHRcdHdoaWxlICggKCBlbGVtID0gcmVzdWx0c1sgaSsrIF0gKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblxuXHRcdC8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XG5cdFx0d2hpbGUgKCAoIG5vZGUgPSBlbGVtWyBpKysgXSApICkge1xuXG5cdFx0XHQvLyBEbyBub3QgdHJhdmVyc2UgY29tbWVudCBub2Rlc1xuXHRcdFx0cmV0ICs9IGdldFRleHQoIG5vZGUgKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHtcblxuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cblx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXG5cblx0cmV0dXJuIHJldDtcbn07XG5cbkV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzID0ge1xuXG5cdC8vIENhbiBiZSBhZGp1c3RlZCBieSB0aGUgdXNlclxuXHRjYWNoZUxlbmd0aDogNTAsXG5cblx0Y3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sXG5cblx0bWF0Y2g6IG1hdGNoRXhwcixcblxuXHRhdHRySGFuZGxlOiB7fSxcblxuXHRmaW5kOiB7fSxcblxuXHRyZWxhdGl2ZToge1xuXHRcdFwiPlwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCIgXCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiB9LFxuXHRcdFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIn5cIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIgfVxuXHR9LFxuXG5cdHByZUZpbHRlcjoge1xuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbIDMgXSA9ICggbWF0Y2hbIDMgXSB8fCBtYXRjaFsgNCBdIHx8XG5cdFx0XHRcdG1hdGNoWyA1IF0gfHwgXCJcIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cblx0XHRcdGlmICggbWF0Y2hbIDIgXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFsgMyBdID0gXCIgXCIgKyBtYXRjaFsgMyBdICsgXCIgXCI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblxuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWyAxIF0gPSBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRcdGlmICggbWF0Y2hbIDEgXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFsgMCBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFsgNCBdID0gKyggbWF0Y2hbIDQgXSA/XG5cdFx0XHRcdFx0bWF0Y2hbIDUgXSArICggbWF0Y2hbIDYgXSB8fCAxICkgOlxuXHRcdFx0XHRcdDIgKiAoIG1hdGNoWyAzIF0gPT09IFwiZXZlblwiIHx8IG1hdGNoWyAzIF0gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFsgNSBdID0gKyggKCBtYXRjaFsgNyBdICsgbWF0Y2hbIDggXSApIHx8IG1hdGNoWyAzIF0gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWyA2IF0gJiYgbWF0Y2hbIDIgXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbIFwiQ0hJTERcIiBdLnRlc3QoIG1hdGNoWyAwIF0gKSApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXG5cdFx0XHRpZiAoIG1hdGNoWyAzIF0gKSB7XG5cdFx0XHRcdG1hdGNoWyAyIF0gPSBtYXRjaFsgNCBdIHx8IG1hdGNoWyA1IF0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdCggZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkgKSAmJlxuXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoIGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoIFwiKVwiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MgKSAtIHVucXVvdGVkLmxlbmd0aCApICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWyAwIF0gPSBtYXRjaFsgMCBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbIDIgXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH0gOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5vZGVOYW1lO1xuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNMQVNTXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XG5cdFx0XHR2YXIgcGF0dGVybiA9IGNsYXNzQ2FjaGVbIGNsYXNzTmFtZSArIFwiIFwiIF07XG5cblx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XG5cdFx0XHRcdCggcGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFx0XHRcIilcIiArIGNsYXNzTmFtZSArIFwiKFwiICsgd2hpdGVzcGFjZSArIFwifCQpXCIgKSApICYmIGNsYXNzQ2FjaGUoXG5cdFx0XHRcdFx0XHRjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcGF0dGVybi50ZXN0KFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fFxuXHRcdFx0XHRcdFx0XHRcdHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8XG5cdFx0XHRcdFx0XHRcdFx0XCJcIlxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9ICk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgX2FyZ3VtZW50LCBmaXJzdCwgbGFzdCApIHtcblx0XHRcdHZhciBzaW1wbGUgPSB0eXBlLnNsaWNlKCAwLCAzICkgIT09IFwibnRoXCIsXG5cdFx0XHRcdGZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSBcImxhc3RcIixcblx0XHRcdFx0b2ZUeXBlID0gd2hhdCA9PT0gXCJvZi10eXBlXCI7XG5cblx0XHRcdHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cblxuXHRcdFx0XHQvLyBTaG9ydGN1dCBmb3IgOm50aC0qKG4pXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdFx0fSA6XG5cblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9IG5vZGVbIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKCBub2RlWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWyAyIF07XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xuXG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoIGRpZmYgPSBub2RlSW5kZXggPSAwICkgfHwgc3RhcnQucG9wKCkgKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8ICggbm9kZVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KCBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0XHRkaWZmID0gbm9kZUluZGV4O1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0Ly8geG1sIDpudGgtY2hpbGQoLi4uKVxuXHRcdFx0XHRcdFx0XHQvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXG5cdFx0XHRcdFx0XHRcdGlmICggZGlmZiA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKCBub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmICggKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0KytkaWZmICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIENhY2hlIHRoZSBpbmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnRcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoIG5vZGVbIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblxuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbIGkgXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFsgaSBdICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXG5cdFx0Ly8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG5cdFx0XCJub3RcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cblx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG5cdFx0XHQvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuXHRcdFx0Ly8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzXG5cdFx0XHR2YXIgaW5wdXQgPSBbXSxcblx0XHRcdFx0cmVzdWx0cyA9IFtdLFxuXHRcdFx0XHRtYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApICk7XG5cblx0XHRcdHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xuXHRcdFx0XHRtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpIF0gPSAhKCBtYXRjaGVzWyBpIF0gPSBlbGVtICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgX2NvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFsgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cblx0XHRcdFx0XHQvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0XHRcdGlucHV0WyAwIF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHRcImhhc1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xO1xuXHRcdFx0fTtcblx0XHR9ICksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXG5cdFx0XHQvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG5cdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KCBsYW5nIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRlbGVtLmxhbmcgOlxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIFwieG1sOmxhbmdcIiApIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCBcImxhbmdcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoIGVsZW0gPSBlbGVtLnBhcmVudE5vZGUgKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiZcblx0XHRcdFx0KCAhZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSApICYmXG5cdFx0XHRcdCEhKCBlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4ICk7XG5cdFx0fSxcblxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFwiZW5hYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZmFsc2UgKSxcblx0XHRcImRpc2FibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCB0cnVlICksXG5cblx0XHRcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQgKSB8fFxuXHRcdFx0XHQoIG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCApO1xuXHRcdH0sXG5cblx0XHRcInNlbGVjdGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cblx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG5cdFx0XHQvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRcInBhcmVudFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zWyBcImVtcHR5XCIgXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoICggYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICkgPT0gbnVsbCB8fFxuXHRcdFx0XHRcdGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gWyAwIF07XG5cdFx0fSApLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBfbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0fSApLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcblx0XHR9ICksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0gKSxcblxuXHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/XG5cdFx0XHRcdGFyZ3VtZW50ICsgbGVuZ3RoIDpcblx0XHRcdFx0YXJndW1lbnQgPiBsZW5ndGggP1xuXHRcdFx0XHRcdGxlbmd0aCA6XG5cdFx0XHRcdFx0YXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7IC0taSA+PSAwOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9IClcblx0fVxufTtcblxuRXhwci5wc2V1ZG9zWyBcIm50aFwiIF0gPSBFeHByLnBzZXVkb3NbIFwiZXFcIiBdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAoIG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkgKSApIHtcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbIDAgXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAoIHRva2VucyA9IFtdICkgKTtcblx0XHR9XG5cblx0XHRtYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdGlmICggKCBtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApICkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFsgMCBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9ICk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAoIG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSApICYmICggIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQoIG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApICkgKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKCB7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRtYXRjaGVzOiBtYXRjaFxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblxuXHRcdFx0Ly8gQ2FjaGUgdGhlIHRva2Vuc1xuXHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG59O1xuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdHNlbGVjdG9yID0gXCJcIjtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0c2VsZWN0b3IgKz0gdG9rZW5zWyBpIF0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblxuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdHJldHVybiBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gOlxuXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBhbGwgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRzXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBvbGRDYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsXG5cdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcblx0XHRcdGlmICggeG1sICkge1xuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKCBlbGVtWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAoIG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGtleSBdICkgJiZcblx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKCBuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoICggbmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbIGkgXSggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IDpcblx0XHRtYXRjaGVyc1sgMCBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzWyBpIF0sIHJlc3VsdHMgKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0dmFyIGVsZW0sXG5cdFx0bmV3VW5tYXRjaGVkID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRtYXBwZWQgPSBtYXAgIT0gbnVsbDtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoICggZWxlbSA9IHVubWF0Y2hlZFsgaSBdICkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHtcblx0XHR2YXIgdGVtcCwgaSwgZWxlbSxcblx0XHRcdHByZU1hcCA9IFtdLFxuXHRcdFx0cG9zdE1hcCA9IFtdLFxuXHRcdFx0cHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCxcblxuXHRcdFx0Ly8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNvbnRleHRcblx0XHRcdGVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKFxuXHRcdFx0XHRzZWxlY3RvciB8fCBcIipcIixcblx0XHRcdFx0Y29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCxcblx0XHRcdFx0W11cblx0XHRcdCksXG5cblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0bWF0Y2hlckluID0gcHJlRmlsdGVyICYmICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0ZWxlbXMsXG5cblx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGEgcG9zdEZpbmRlciwgb3IgZmlsdGVyZWQgc2VlZCwgb3Igbm9uLXNlZWQgcG9zdEZpbHRlciBvciBwcmVleGlzdGluZyByZXN1bHRzLFxuXHRcdFx0XHRwb3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIgKSA/XG5cblx0XHRcdFx0XHQvLyAuLi5pbnRlcm1lZGlhdGUgcHJvY2Vzc2luZyBpcyBuZWNlc3Nhcnlcblx0XHRcdFx0XHRbXSA6XG5cblx0XHRcdFx0XHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcblx0XHRcdFx0XHRyZXN1bHRzIDpcblx0XHRcdFx0bWF0Y2hlckluO1xuXG5cdFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcblx0XHRpZiAoIG1hdGNoZXIgKSB7XG5cdFx0XHRtYXRjaGVyKCBtYXRjaGVySW4sIG1hdGNoZXJPdXQsIGNvbnRleHQsIHhtbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBvc3RGaWx0ZXJcblx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XG5cdFx0XHR0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcblx0XHRcdHBvc3RGaWx0ZXIoIHRlbXAsIFtdLCBjb250ZXh0LCB4bWwgKTtcblxuXHRcdFx0Ly8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxuXHRcdFx0aSA9IHRlbXAubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggKCBlbGVtID0gdGVtcFsgaSBdICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFsgaSBdIF0gPSAhKCBtYXRjaGVySW5bIHBvc3RNYXBbIGkgXSBdID0gZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcgdGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzXG5cdFx0XHRcdFx0dGVtcCA9IFtdO1xuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gbWF0Y2hlck91dFsgaSBdICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcblx0XHRcdFx0XHRcdFx0dGVtcC5wdXNoKCAoIG1hdGNoZXJJblsgaSBdID0gZWxlbSApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsICggbWF0Y2hlck91dCA9IFtdICksIHRlbXAsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTW92ZSBtYXRjaGVkIGVsZW1lbnRzIGZyb20gc2VlZCB0byByZXN1bHRzIHRvIGtlZXAgdGhlbSBzeW5jaHJvbml6ZWRcblx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICYmXG5cdFx0XHRcdFx0XHQoIHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwWyBpIF0gKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkWyB0ZW1wIF0gPSAhKCByZXN1bHRzWyB0ZW1wIF0gPSBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zICkge1xuXHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0bGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyAwIF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVsgXCIgXCIgXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KCBjaGVja0NvbnRleHQgPSBjb250ZXh0ICkubm9kZVR5cGUgP1xuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxuXHRcdFx0XHRcdG1hdGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTtcblxuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoIG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGkgXS50eXBlIF0gKSApIHtcblx0XHRcdG1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKCBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlciApIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zWyBpIF0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbIGkgXS5tYXRjaGVzICk7XG5cblx0XHRcdC8vIFJldHVybiBzcGVjaWFsIHVwb24gc2VlaW5nIGEgcG9zaXRpb25hbCBtYXRjaGVyXG5cdFx0XHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIGogXS50eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0aSA+IDEgJiYgdG9TZWxlY3RvcihcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0dG9rZW5zXG5cdFx0XHRcdFx0XHQuc2xpY2UoIDAsIGkgLSAxIClcblx0XHRcdFx0XHRcdC5jb25jYXQoIHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9IClcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICggdG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkgKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXG5cdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcblx0XHRcdFx0ZWxlbXMgPSBzZWVkIHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbIFwiVEFHXCIgXSggXCIqXCIsIG91dGVybW9zdCApLFxuXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdGRpcnJ1bnNVbmlxdWUgPSAoIGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xICksXG5cdFx0XHRcdGxlbiA9IGVsZW1zLmxlbmd0aDtcblxuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcblx0XHRcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZyBlbGVtZW50cyBieSBpZFxuXHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0XHRcdC8vIElFL0VkZ2Ugc29tZXRpbWVzIHRocm93IGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGVycm9yIHdoZW4gc3RyaWN0LWNvbXBhcmluZ1xuXHRcdFx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRcdFx0aWYgKCAhY29udGV4dCAmJiBlbGVtLm93bmVyRG9jdW1lbnQgIT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cblx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXG5cdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtICkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoZXIgPSBzZXRNYXRjaGVyc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRtYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBzZWVkICkge1xuXG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEoIHVubWF0Y2hlZFsgaSBdIHx8IHNldE1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbIGkgXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XG5cdFx0aWYgKCAhbWF0Y2ggKSB7XG5cdFx0XHRtYXRjaCA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdH1cblx0XHRpID0gbWF0Y2gubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoWyBpIF0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoXG5cdFx0XHRzZWxlY3Rvcixcblx0XHRcdG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApXG5cdFx0KTtcblxuXHRcdC8vIFNhdmUgc2VsZWN0b3IgYW5kIHRva2VuaXphdGlvblxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xuXHR9XG5cdHJldHVybiBjYWNoZWQ7XG59O1xuXG4vKipcbiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxuICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0XG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cbiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XG4gKi9cbnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxuXHRcdGNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgc2VsZWN0b3IsXG5cdFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKCBzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yICkgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFsgMCBdID0gbWF0Y2hbIDAgXS5zbGljZSggMCApO1xuXHRcdGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKCB0b2tlbiA9IHRva2Vuc1sgMCBdICkudHlwZSA9PT0gXCJJRFwiICYmXG5cdFx0XHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgMSBdLnR5cGUgXSApIHtcblxuXHRcdFx0Y29udGV4dCA9ICggRXhwci5maW5kWyBcIklEXCIgXSggdG9rZW4ubWF0Y2hlc1sgMCBdXG5cdFx0XHRcdC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLCBjb250ZXh0ICkgfHwgW10gKVsgMCBdO1xuXHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG5cdFx0aSA9IG1hdGNoRXhwclsgXCJuZWVkc0NvbnRleHRcIiBdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zWyBpIF07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKCB0eXBlID0gdG9rZW4udHlwZSApIF0gKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAoIGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSApICkge1xuXG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoICggc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1sgMCBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWyAwIF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dFxuXHRcdFx0XHQpICkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoIFwiXCIgKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKCBcIlwiICkgPT09IGV4cGFuZG87XG5cbi8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcbi8vIEFsd2F5cyBhc3N1bWUgZHVwbGljYXRlcyBpZiB0aGV5IGFyZW4ndCBwYXNzZWQgdG8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25cbnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXG4vLyBJbml0aWFsaXplIGFnYWluc3QgdGhlIGRlZmF1bHQgZG9jdW1lbnRcbnNldERvY3VtZW50KCk7XG5cbi8vIFN1cHBvcnQ6IFdlYmtpdDw1MzcuMzIgLSBTYWZhcmkgNi4wLjMvQ2hyb21lIDI1IChmaXhlZCBpbiBDaHJvbWUgMjcpXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcbnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG5cdHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJmaWVsZHNldFwiICkgKSAmIDE7XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG4vLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwiaHJlZlwiICkgPT09IFwiI1wiO1xufSApICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSApO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGVsLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCBcInZhbHVlXCIsIFwiXCIgKTtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gXCJcIjtcbn0gKSApIHtcblx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBfbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9ICk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcbmlmICggIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKCBcImRpc2FibGVkXCIgKSA9PSBudWxsO1xufSApICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHQoIHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApICkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0XHRudWxsO1xuXHRcdH1cblx0fSApO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59ICkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cblxuXG5mdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHtcblxuICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblxufTtcbnZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSApO1xuXG5cblxuLy8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3RcbmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xuXHRpZiAoIGlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoIGVsZW0sIGksIGVsZW0gKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIFNpbmdsZSBlbGVtZW50XG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBBcnJheWxpa2Ugb2YgZWxlbWVudHMgKGpRdWVyeSwgYXJndW1lbnRzLCBBcnJheSlcblx0aWYgKCB0eXBlb2YgcXVhbGlmaWVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBGaWx0ZXJlZCBkaXJlY3RseSBmb3IgYm90aCBzaW1wbGUgYW5kIGNvbXBsZXggc2VsZWN0b3JzXG5cdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcbn1cblxualF1ZXJ5LmZpbHRlciA9IGZ1bmN0aW9uKCBleHByLCBlbGVtcywgbm90ICkge1xuXHR2YXIgZWxlbSA9IGVsZW1zWyAwIF07XG5cblx0aWYgKCBub3QgKSB7XG5cdFx0ZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcblx0fVxuXG5cdGlmICggZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHR9ICkgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmluZDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBpLCByZXQsXG5cdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCBzZWxmWyBpIF0sIHRoaXMgKSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cdFx0fVxuXG5cdFx0cmV0ID0gdGhpcy5wdXNoU3RhY2soIFtdICk7XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIHJldCApIDogcmV0O1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTtcblx0fSxcblx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gISF3aW5ub3coXG5cdFx0XHR0aGlzLFxuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG5cdFx0XHQvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG5cdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0c2VsZWN0b3IgfHwgW10sXG5cdFx0XHRmYWxzZVxuXHRcdCkubGVuZ3RoO1xuXHR9XG59ICk7XG5cblxuLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcblxuXG4vLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcbnZhciByb290alF1ZXJ5LFxuXG5cdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdC8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWRcblx0cnF1aWNrRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSspKSQvLFxuXG5cdGluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHtcblx0XHR2YXIgbWF0Y2gsIGVsZW07XG5cblx0XHQvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcblx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIE1ldGhvZCBpbml0KCkgYWNjZXB0cyBhbiBhbHRlcm5hdGUgcm9vdGpRdWVyeVxuXHRcdC8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSlcblx0XHRyb290ID0gcm9vdCB8fCByb290alF1ZXJ5O1xuXG5cdFx0Ly8gSGFuZGxlIEhUTUwgc3RyaW5nc1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0aWYgKCBzZWxlY3RvclsgMCBdID09PSBcIjxcIiAmJlxuXHRcdFx0XHRzZWxlY3Rvclsgc2VsZWN0b3IubGVuZ3RoIC0gMSBdID09PSBcIj5cIiAmJlxuXHRcdFx0XHRzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcblxuXHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcblx0XHRcdGlmICggbWF0Y2ggJiYgKCBtYXRjaFsgMSBdIHx8ICFjb250ZXh0ICkgKSB7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG5cdFx0XHRcdGlmICggbWF0Y2hbIDEgXSApIHtcblx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7XG5cblx0XHRcdFx0XHQvLyBPcHRpb24gdG8gcnVuIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0XHQvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTChcblx0XHRcdFx0XHRcdG1hdGNoWyAxIF0sXG5cdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdCkgKTtcblxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcblx0XHRcdFx0XHRpZiAoIHJzaW5nbGVUYWcudGVzdCggbWF0Y2hbIDEgXSApICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb250ZXh0ICkgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGVcblx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblxuXHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgdGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXG5cdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1sgaSBdICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHR0YXJnZXRzID0gdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApO1xuXG5cdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuXHRcdGlmICggIXJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cblx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XG5cdFx0XHRcdFx0XHR0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXG5cdFx0XHRcdFx0XHRjdXIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRcdG1hdGNoZWQucHVzaCggY3VyICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdH0sXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcblx0XHR9XG5cblx0XHQvLyBJbmRleCBpbiBzZWxlY3RvclxuXHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG5cdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcyxcblxuXHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG5cdFx0XHRlbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW1cblx0XHQpO1xuXHR9LFxuXG5cdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRhZGRCYWNrOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHQpO1xuXHR9XG59ICk7XG5cbmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuXHR3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKCB7XG5cdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRyZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuXHR9LFxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBfaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dFVudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0cHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuXHR9LFxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTtcblx0fSxcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdGlmICggZWxlbS5jb250ZW50RG9jdW1lbnQgIT0gbnVsbCAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMStcblx0XHRcdC8vIDxvYmplY3Q+IGVsZW1lbnRzIHdpdGggbm8gYGRhdGFgIGF0dHJpYnV0ZSBoYXMgYW4gb2JqZWN0XG5cdFx0XHQvLyBgY29udGVudERvY3VtZW50YCB3aXRoIGEgYG51bGxgIHByb3RvdHlwZS5cblx0XHRcdGdldFByb3RvKCBlbGVtLmNvbnRlbnREb2N1bWVudCApICkge1xuXG5cdFx0XHRyZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQ7XG5cdFx0fVxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHksIGlPUyA3IG9ubHksIEFuZHJvaWQgQnJvd3NlciA8PTQuMyBvbmx5XG5cdFx0Ly8gVHJlYXQgdGhlIHRlbXBsYXRlIGVsZW1lbnQgYXMgYSByZWd1bGFyIG9uZSBpbiBicm93c2VycyB0aGF0XG5cdFx0Ly8gZG9uJ3Qgc3VwcG9ydCBpdC5cblx0XHRpZiAoIG5vZGVOYW1lKCBlbGVtLCBcInRlbXBsYXRlXCIgKSApIHtcblx0XHRcdGVsZW0gPSBlbGVtLmNvbnRlbnQgfHwgZWxlbTtcblx0XHR9XG5cblx0XHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XG5cblx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdHNlbGVjdG9yID0gdW50aWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRtYXRjaGVkID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIG1hdGNoZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0bWF0Y2hlZC5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdH07XG59ICk7XG52YXIgcm5vdGh0bWx3aGl0ZSA9ICggL1teXFx4MjBcXHRcXHJcXG5cXGZdKy9nICk7XG5cblxuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcblx0dmFyIG9iamVjdCA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdLCBmdW5jdGlvbiggXywgZmxhZyApIHtcblx0XHRvYmplY3RbIGZsYWcgXSA9IHRydWU7XG5cdH0gKTtcblx0cmV0dXJuIG9iamVjdDtcbn1cblxuLypcbiAqIENyZWF0ZSBhIGNhbGxiYWNrIGxpc3QgdXNpbmcgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICpcbiAqXHRvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBjaGFuZ2UgaG93XG4gKlx0XHRcdHRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBtb3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3RcbiAqXG4gKiBCeSBkZWZhdWx0IGEgY2FsbGJhY2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZVxuICogXCJmaXJlZFwiIG11bHRpcGxlIHRpbWVzLlxuICpcbiAqIFBvc3NpYmxlIG9wdGlvbnM6XG4gKlxuICpcdG9uY2U6XHRcdFx0d2lsbCBlbnN1cmUgdGhlIGNhbGxiYWNrIGxpc3QgY2FuIG9ubHkgYmUgZmlyZWQgb25jZSAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHRtZW1vcnk6XHRcdFx0d2lsbCBrZWVwIHRyYWNrIG9mIHByZXZpb3VzIHZhbHVlcyBhbmQgd2lsbCBjYWxsIGFueSBjYWxsYmFjayBhZGRlZFxuICpcdFx0XHRcdFx0YWZ0ZXIgdGhlIGxpc3QgaGFzIGJlZW4gZmlyZWQgcmlnaHQgYXdheSB3aXRoIHRoZSBsYXRlc3QgXCJtZW1vcml6ZWRcIlxuICpcdFx0XHRcdFx0dmFsdWVzIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdHVuaXF1ZTpcdFx0XHR3aWxsIGVuc3VyZSBhIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGFkZGVkIG9uY2UgKG5vIGR1cGxpY2F0ZSBpbiB0aGUgbGlzdClcbiAqXG4gKlx0c3RvcE9uRmFsc2U6XHRpbnRlcnJ1cHQgY2FsbGluZ3Mgd2hlbiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2VcbiAqXG4gKi9cbmpRdWVyeS5DYWxsYmFja3MgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHQvLyBDb252ZXJ0IG9wdGlvbnMgZnJvbSBTdHJpbmctZm9ybWF0dGVkIHRvIE9iamVjdC1mb3JtYXR0ZWQgaWYgbmVlZGVkXG5cdC8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdClcblx0b3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cblx0XHRjcmVhdGVPcHRpb25zKCBvcHRpb25zICkgOlxuXHRcdGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XG5cblx0dmFyIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmdcblx0XHRmaXJpbmcsXG5cblx0XHQvLyBMYXN0IGZpcmUgdmFsdWUgZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0c1xuXHRcdG1lbW9yeSxcblxuXHRcdC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IHdhcyBhbHJlYWR5IGZpcmVkXG5cdFx0ZmlyZWQsXG5cblx0XHQvLyBGbGFnIHRvIHByZXZlbnQgZmlyaW5nXG5cdFx0bG9ja2VkLFxuXG5cdFx0Ly8gQWN0dWFsIGNhbGxiYWNrIGxpc3Rcblx0XHRsaXN0ID0gW10sXG5cblx0XHQvLyBRdWV1ZSBvZiBleGVjdXRpb24gZGF0YSBmb3IgcmVwZWF0YWJsZSBsaXN0c1xuXHRcdHF1ZXVlID0gW10sXG5cblx0XHQvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSBhZGQvcmVtb3ZlIGFzIG5lZWRlZClcblx0XHRmaXJpbmdJbmRleCA9IC0xLFxuXG5cdFx0Ly8gRmlyZSBjYWxsYmFja3Ncblx0XHRmaXJlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEVuZm9yY2Ugc2luZ2xlLWZpcmluZ1xuXHRcdFx0bG9ja2VkID0gbG9ja2VkIHx8IG9wdGlvbnMub25jZTtcblxuXHRcdFx0Ly8gRXhlY3V0ZSBjYWxsYmFja3MgZm9yIGFsbCBwZW5kaW5nIGV4ZWN1dGlvbnMsXG5cdFx0XHQvLyByZXNwZWN0aW5nIGZpcmluZ0luZGV4IG92ZXJyaWRlcyBhbmQgcnVudGltZSBjaGFuZ2VzXG5cdFx0XHRmaXJlZCA9IGZpcmluZyA9IHRydWU7XG5cdFx0XHRmb3IgKCA7IHF1ZXVlLmxlbmd0aDsgZmlyaW5nSW5kZXggPSAtMSApIHtcblx0XHRcdFx0bWVtb3J5ID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdFx0d2hpbGUgKCArK2ZpcmluZ0luZGV4IDwgbGlzdC5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHQvLyBSdW4gY2FsbGJhY2sgYW5kIGNoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvblxuXHRcdFx0XHRcdGlmICggbGlzdFsgZmlyaW5nSW5kZXggXS5hcHBseSggbWVtb3J5WyAwIF0sIG1lbW9yeVsgMSBdICkgPT09IGZhbHNlICYmXG5cdFx0XHRcdFx0XHRvcHRpb25zLnN0b3BPbkZhbHNlICkge1xuXG5cdFx0XHRcdFx0XHQvLyBKdW1wIHRvIGVuZCBhbmQgZm9yZ2V0IHRoZSBkYXRhIHNvIC5hZGQgZG9lc24ndCByZS1maXJlXG5cdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvcmdldCB0aGUgZGF0YSBpZiB3ZSdyZSBkb25lIHdpdGggaXRcblx0XHRcdGlmICggIW9wdGlvbnMubWVtb3J5ICkge1xuXHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0ZmlyaW5nID0gZmFsc2U7XG5cblx0XHRcdC8vIENsZWFuIHVwIGlmIHdlJ3JlIGRvbmUgZmlyaW5nIGZvciBnb29kXG5cdFx0XHRpZiAoIGxvY2tlZCApIHtcblxuXHRcdFx0XHQvLyBLZWVwIGFuIGVtcHR5IGxpc3QgaWYgd2UgaGF2ZSBkYXRhIGZvciBmdXR1cmUgYWRkIGNhbGxzXG5cdFx0XHRcdGlmICggbWVtb3J5ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIHRoaXMgb2JqZWN0IGlzIHNwZW50XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGlzdCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3Rcblx0XHRzZWxmID0ge1xuXG5cdFx0XHQvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIG1lbW9yeSBmcm9tIGEgcGFzdCBydW4sIHdlIHNob3VsZCBmaXJlIGFmdGVyIGFkZGluZ1xuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdHF1ZXVlLnB1c2goIG1lbW9yeSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCggZnVuY3Rpb24gYWRkKCBhcmdzICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3MsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucHVzaCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiB0b1R5cGUoIGFyZyApICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gSW5zcGVjdCByZWN1cnNpdmVseVxuXHRcdFx0XHRcdFx0XHRcdGFkZCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9ICkoIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0XG5cdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdHZhciBpbmRleDtcblx0XHRcdFx0XHR3aGlsZSAoICggaW5kZXggPSBqUXVlcnkuaW5BcnJheSggYXJnLCBsaXN0LCBpbmRleCApICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdGxpc3Quc3BsaWNlKCBpbmRleCwgMSApO1xuXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXNcblx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRcdGZpcmluZ0luZGV4LS07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC5cblx0XHRcdC8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLlxuXHRcdFx0aGFzOiBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRcdHJldHVybiBmbiA/XG5cdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6XG5cdFx0XHRcdFx0bGlzdC5sZW5ndGggPiAwO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBjYWxsYmFja3MgZnJvbSB0aGUgbGlzdFxuXHRcdFx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZSBhbmQgLmFkZFxuXHRcdFx0Ly8gQWJvcnQgYW55IGN1cnJlbnQvcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHQvLyBDbGVhciBhbGwgY2FsbGJhY2tzIGFuZCB2YWx1ZXNcblx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0ZGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gIWxpc3Q7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlXG5cdFx0XHQvLyBBbHNvIGRpc2FibGUgLmFkZCB1bmxlc3Mgd2UgaGF2ZSBtZW1vcnkgKHNpbmNlIGl0IHdvdWxkIGhhdmUgbm8gZWZmZWN0KVxuXHRcdFx0Ly8gQWJvcnQgYW55IHBlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0bG9jazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGlmICggIW1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGxvY2tlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWxvY2tlZDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBjb250ZXh0IGFuZCBhcmd1bWVudHNcblx0XHRcdGZpcmVXaXRoOiBmdW5jdGlvbiggY29udGV4dCwgYXJncyApIHtcblx0XHRcdFx0aWYgKCAhbG9ja2VkICkge1xuXHRcdFx0XHRcdGFyZ3MgPSBhcmdzIHx8IFtdO1xuXHRcdFx0XHRcdGFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07XG5cdFx0XHRcdFx0cXVldWUucHVzaCggYXJncyApO1xuXHRcdFx0XHRcdGlmICggIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuXHRcdFx0ZmlyZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFmaXJlZDtcblx0XHRcdH1cblx0XHR9O1xuXG5cdHJldHVybiBzZWxmO1xufTtcblxuXG5mdW5jdGlvbiBJZGVudGl0eSggdiApIHtcblx0cmV0dXJuIHY7XG59XG5mdW5jdGlvbiBUaHJvd2VyKCBleCApIHtcblx0dGhyb3cgZXg7XG59XG5cbmZ1bmN0aW9uIGFkb3B0VmFsdWUoIHZhbHVlLCByZXNvbHZlLCByZWplY3QsIG5vVmFsdWUgKSB7XG5cdHZhciBtZXRob2Q7XG5cblx0dHJ5IHtcblxuXHRcdC8vIENoZWNrIGZvciBwcm9taXNlIGFzcGVjdCBmaXJzdCB0byBwcml2aWxlZ2Ugc3luY2hyb25vdXMgYmVoYXZpb3Jcblx0XHRpZiAoIHZhbHVlICYmIGlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUucHJvbWlzZSApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUgKS5kb25lKCByZXNvbHZlICkuZmFpbCggcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciB0aGVuYWJsZXNcblx0XHR9IGVsc2UgaWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIG5vbi10aGVuYWJsZXNcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb250cm9sIGByZXNvbHZlYCBhcmd1bWVudHMgYnkgbGV0dGluZyBBcnJheSNzbGljZSBjYXN0IGJvb2xlYW4gYG5vVmFsdWVgIHRvIGludGVnZXI6XG5cdFx0XHQvLyAqIGZhbHNlOiBbIHZhbHVlIF0uc2xpY2UoIDAgKSA9PiByZXNvbHZlKCB2YWx1ZSApXG5cdFx0XHQvLyAqIHRydWU6IFsgdmFsdWUgXS5zbGljZSggMSApID0+IHJlc29sdmUoKVxuXHRcdFx0cmVzb2x2ZS5hcHBseSggdW5kZWZpbmVkLCBbIHZhbHVlIF0uc2xpY2UoIG5vVmFsdWUgKSApO1xuXHRcdH1cblxuXHQvLyBGb3IgUHJvbWlzZXMvQSssIGNvbnZlcnQgZXhjZXB0aW9ucyBpbnRvIHJlamVjdGlvbnNcblx0Ly8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpblxuXHQvLyBEZWZlcnJlZCN0aGVuIHRvIGNvbmRpdGlvbmFsbHkgc3VwcHJlc3MgcmVqZWN0aW9uLlxuXHR9IGNhdGNoICggdmFsdWUgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0Ly8gU3RyaWN0IG1vZGUgZnVuY3Rpb25zIGludm9rZWQgd2l0aG91dCAuY2FsbC8uYXBwbHkgZ2V0IGdsb2JhbC1vYmplY3QgY29udGV4dFxuXHRcdHJlamVjdC5hcHBseSggdW5kZWZpbmVkLCBbIHZhbHVlIF0gKTtcblx0fVxufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0RGVmZXJyZWQ6IGZ1bmN0aW9uKCBmdW5jICkge1xuXHRcdHZhciB0dXBsZXMgPSBbXG5cblx0XHRcdFx0Ly8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGNhbGxiYWNrcyxcblx0XHRcdFx0Ly8gLi4uIC50aGVuIGhhbmRsZXJzLCBhcmd1bWVudCBpbmRleCwgW2ZpbmFsIHN0YXRlXVxuXHRcdFx0XHRbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSwgMiBdLFxuXHRcdFx0XHRbIFwicmVzb2x2ZVwiLCBcImRvbmVcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDAsIFwicmVzb2x2ZWRcIiBdLFxuXHRcdFx0XHRbIFwicmVqZWN0XCIsIFwiZmFpbFwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMSwgXCJyZWplY3RlZFwiIF1cblx0XHRcdF0sXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxuXHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJjYXRjaFwiOiBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHByb21pc2UudGhlbiggbnVsbCwgZm4gKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBLZWVwIHBpcGUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdHBpcGU6IGZ1bmN0aW9uKCAvKiBmbkRvbmUsIGZuRmFpbCwgZm5Qcm9ncmVzcyAqLyApIHtcblx0XHRcdFx0XHR2YXIgZm5zID0gYXJndW1lbnRzO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIF9pLCB0dXBsZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcylcblx0XHRcdFx0XHRcdFx0dmFyIGZuID0gaXNGdW5jdGlvbiggZm5zWyB0dXBsZVsgNCBdIF0gKSAmJiBmbnNbIHR1cGxlWyA0IF0gXTtcblxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5wcm9ncmVzcyhmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5ub3RpZnkgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZG9uZShmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZXNvbHZlIH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pXG5cdFx0XHRcdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMSBdIF0oIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGZuICYmIGZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkICYmIGlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0dmFyIG1heERlcHRoID0gMDtcblx0XHRcdFx0XHRmdW5jdGlvbiByZXNvbHZlKCBkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0XHRcdFx0XHRhcmdzID0gYXJndW1lbnRzLFxuXHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCwgdGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggPCBtYXhEZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhlbiA9IHJldHVybmVkICYmXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCB0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgcmV0dXJuZWQgPT09IFwiZnVuY3Rpb25cIiApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHRoZW4gKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3Ncblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhEZXB0aCsrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGggKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIHJldHVybmVkIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGggKSggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzID0gc3BlY2lhbCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93IDpcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3coKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKyAxID49IG1heERlcHRoICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgZSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cblx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb25cblx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXG5cdFx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uUHJvZ3Jlc3MgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvblByb2dyZXNzIDpcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLm5vdGlmeVdpdGhcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMSBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0aXNGdW5jdGlvbiggb25GdWxmaWxsZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvbkZ1bGZpbGxlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvblJlamVjdGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdFRocm93ZXJcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcblx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRwcm9taXNlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0XHRcdHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlZmVycmVkID0ge307XG5cblx0XHQvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG5cdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0dmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuXHRcdFx0XHRzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07XG5cblx0XHRcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuXHRcdFx0Ly8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkXG5cdFx0XHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcblxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXG5cdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRsaXN0LmFkZChcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlc29sdmVkXCIgKGkuZS4sIGZ1bGZpbGxlZClcblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZWplY3RlZFwiXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsXG5cblx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDMgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcblx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMiBdLmxvY2ssXG5cblx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5sb2NrXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmZpcmVcblx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5maXJlXG5cdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5maXJlXG5cdFx0XHRsaXN0LmFkZCggdHVwbGVbIDMgXS5maXJlICk7XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5ub3RpZnlXaXRoKC4uLikgfVxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlV2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfVxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5V2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmVXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0V2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSA9IGxpc3QuZmlyZVdpdGg7XG5cdFx0fSApO1xuXG5cdFx0Ly8gTWFrZSB0aGUgZGVmZXJyZWQgYSBwcm9taXNlXG5cdFx0cHJvbWlzZS5wcm9taXNlKCBkZWZlcnJlZCApO1xuXG5cdFx0Ly8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueVxuXHRcdGlmICggZnVuYyApIHtcblx0XHRcdGZ1bmMuY2FsbCggZGVmZXJyZWQsIGRlZmVycmVkICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsIGRvbmUhXG5cdFx0cmV0dXJuIGRlZmVycmVkO1xuXHR9LFxuXG5cdC8vIERlZmVycmVkIGhlbHBlclxuXHR3aGVuOiBmdW5jdGlvbiggc2luZ2xlVmFsdWUgKSB7XG5cdFx0dmFyXG5cblx0XHRcdC8vIGNvdW50IG9mIHVuY29tcGxldGVkIHN1Ym9yZGluYXRlc1xuXHRcdFx0cmVtYWluaW5nID0gYXJndW1lbnRzLmxlbmd0aCxcblxuXHRcdFx0Ly8gY291bnQgb2YgdW5wcm9jZXNzZWQgYXJndW1lbnRzXG5cdFx0XHRpID0gcmVtYWluaW5nLFxuXG5cdFx0XHQvLyBzdWJvcmRpbmF0ZSBmdWxmaWxsbWVudCBkYXRhXG5cdFx0XHRyZXNvbHZlQ29udGV4dHMgPSBBcnJheSggaSApLFxuXHRcdFx0cmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxuXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkXG5cdFx0XHRtYXN0ZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeVxuXHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0aWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0bWFzdGVyLnJlc29sdmVXaXRoKCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXG5cdFx0Ly8gU2luZ2xlLSBhbmQgZW1wdHkgYXJndW1lbnRzIGFyZSBhZG9wdGVkIGxpa2UgUHJvbWlzZS5yZXNvbHZlXG5cdFx0aWYgKCByZW1haW5pbmcgPD0gMSApIHtcblx0XHRcdGFkb3B0VmFsdWUoIHNpbmdsZVZhbHVlLCBtYXN0ZXIuZG9uZSggdXBkYXRlRnVuYyggaSApICkucmVzb2x2ZSwgbWFzdGVyLnJlamVjdCxcblx0XHRcdFx0IXJlbWFpbmluZyApO1xuXG5cdFx0XHQvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApXG5cdFx0XHRpZiAoIG1hc3Rlci5zdGF0ZSgpID09PSBcInBlbmRpbmdcIiB8fFxuXHRcdFx0XHRpc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcblxuXHRcdFx0XHRyZXR1cm4gbWFzdGVyLnRoZW4oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rlci5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFzdGVyLnByb21pc2UoKTtcblx0fVxufSApO1xuXG5cbi8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LFxuLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuXG52YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcblxualF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiggZXJyb3IsIHN0YWNrICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcblx0Ly8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcblx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHR3aW5kb3cuY29uc29sZS53YXJuKCBcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIHN0YWNrICk7XG5cdH1cbn07XG5cblxuXG5cbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdHRocm93IGVycm9yO1xuXHR9ICk7XG59O1xuXG5cblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXG5cdHJlYWR5TGlzdFxuXHRcdC50aGVuKCBmbiApXG5cblx0XHQvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuXHRcdC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xuXHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHQuY2F0Y2goIGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcblx0XHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxuXHRyZWFkeVdhaXQ6IDEsXG5cblx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuXHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cblx0XHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XG5cdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0alF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xuXG5cdFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcblx0XHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0cmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47XG5cbi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXG4vLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHlcbi8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxuaWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0KCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsICkgKSB7XG5cblx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxufSBlbHNlIHtcblxuXHQvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblxuXHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xufVxuXG5cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIHRvVHlwZSgga2V5ICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblx0XHRmb3IgKCBpIGluIGtleSApIHtcblx0XHRcdGFjY2VzcyggZWxlbXMsIGZuLCBpLCBrZXlbIGkgXSwgdHJ1ZSwgZW1wdHlHZXQsIHJhdyApO1xuXHRcdH1cblxuXHQvLyBTZXRzIG9uZSB2YWx1ZVxuXHR9IGVsc2UgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cblx0XHRpZiAoICFpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGJ1bGsgKSB7XG5cblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwgX2tleSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRmbihcblx0XHRcdFx0XHRlbGVtc1sgaSBdLCBrZXksIHJhdyA/XG5cdFx0XHRcdFx0dmFsdWUgOlxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIGVsZW1zWyBpIF0sIGksIGZuKCBlbGVtc1sgaSBdLCBrZXkgKSApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBjaGFpbmFibGUgKSB7XG5cdFx0cmV0dXJuIGVsZW1zO1xuXHR9XG5cblx0Ly8gR2V0c1xuXHRpZiAoIGJ1bGsgKSB7XG5cdFx0cmV0dXJuIGZuLmNhbGwoIGVsZW1zICk7XG5cdH1cblxuXHRyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XG59O1xuXG5cbi8vIE1hdGNoZXMgZGFzaGVkIHN0cmluZyBmb3IgY2FtZWxpemluZ1xudmFyIHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZztcblxuLy8gVXNlZCBieSBjYW1lbENhc2UgYXMgY2FsbGJhY2sgdG8gcmVwbGFjZSgpXG5mdW5jdGlvbiBmY2FtZWxDYXNlKCBfYWxsLCBsZXR0ZXIgKSB7XG5cdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbn1cblxuLy8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuLy8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuLy8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuZnVuY3Rpb24gY2FtZWxDYXNlKCBzdHJpbmcgKSB7XG5cdHJldHVybiBzdHJpbmcucmVwbGFjZSggcm1zUHJlZml4LCBcIm1zLVwiICkucmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApO1xufVxudmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0Ly8gQWNjZXB0cyBvbmx5OlxuXHQvLyAgLSBOb2RlXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0Ly8gIC0gT2JqZWN0XG5cdC8vICAgIC0gQW55XG5cdHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIERhdGEoKSB7XG5cdHRoaXMuZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvICsgRGF0YS51aWQrKztcbn1cblxuRGF0YS51aWQgPSAxO1xuXG5EYXRhLnByb3RvdHlwZSA9IHtcblxuXHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIG93bmVyIG9iamVjdCBhbHJlYWR5IGhhcyBhIGNhY2hlXG5cdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0Ly8gSWYgbm90LCBjcmVhdGUgb25lXG5cdFx0aWYgKCAhdmFsdWUgKSB7XG5cdFx0XHR2YWx1ZSA9IHt9O1xuXG5cdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2Vycyxcblx0XHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0XHQvLyBBbHdheXMgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC5cblx0XHRcdGlmICggYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBpdCBpcyBhIG5vZGUgdW5saWtlbHkgdG8gYmUgc3RyaW5naWZ5LWVkIG9yIGxvb3BlZCBvdmVyXG5cdFx0XHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdmFsdWU7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG5cdFx0XHRcdC8vIGNvbmZpZ3VyYWJsZSBtdXN0IGJlIHRydWUgdG8gYWxsb3cgdGhlIHByb3BlcnR5IHRvIGJlXG5cdFx0XHRcdC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIG93bmVyLCB0aGlzLmV4cGFuZG8sIHtcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fSxcblx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xuXHRcdHZhciBwcm9wLFxuXHRcdFx0Y2FjaGUgPSB0aGlzLmNhY2hlKCBvd25lciApO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xuXHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Y2FjaGVbIGNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVbIGNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGNhbWVsQ2FzZSgga2V5ICkgXTtcblx0fSxcblx0YWNjZXNzOiBmdW5jdGlvbiggb3duZXIsIGtleSwgdmFsdWUgKSB7XG5cblx0XHQvLyBJbiBjYXNlcyB3aGVyZSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXG5cdFx0Ly8gICAyLiBBIHN0cmluZyBrZXkgd2FzIHNwZWNpZmllZCwgYnV0IG5vIHZhbHVlIHByb3ZpZGVkXG5cdFx0Ly9cblx0XHQvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcblx0XHQvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XG5cdFx0Ly8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleVxuXHRcdC8vXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHQoICgga2V5ICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXHRcdH1cblxuXHRcdC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG5cdFx0Ly8gICAyLiBBIGtleSBhbmQgdmFsdWVcblx0XHQvL1xuXHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xuXG5cdFx0Ly8gU2luY2UgdGhlIFwic2V0XCIgcGF0aCBjYW4gaGF2ZSB0d28gcG9zc2libGUgZW50cnkgcG9pbnRzXG5cdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG5cdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTtcblx0fSxcblx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHR2YXIgaSxcblx0XHRcdGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0aWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBrZXlzXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIGtleSApICkge1xuXG5cdFx0XHRcdC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0LlxuXHRcdFx0XHRrZXkgPSBrZXkubWFwKCBjYW1lbENhc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGtleSA9IGNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdCgga2V5Lm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGdldERhdGEoIGRhdGEgKSB7XG5cdGlmICggZGF0YSA9PT0gXCJ0cnVlXCIgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwiZmFsc2VcIiApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwibnVsbFwiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0aWYgKCBkYXRhID09PSArZGF0YSArIFwiXCIgKSB7XG5cdFx0cmV0dXJuICtkYXRhO1xuXHR9XG5cblx0aWYgKCByYnJhY2UudGVzdCggZGF0YSApICkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICk7XG5cdH1cblxuXHRyZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBnZXREYXRhKCBkYXRhICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0gY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZGF0YTtcblxuXHRcdFx0Ly8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcblx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuXHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cblx0XHRcdFx0Ly8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xuXHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgcXVldWU7XG5cblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0cXVldWUgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBBcnJheS5pc0FycmF5KCBkYXRhICkgKSB7XG5cdFx0XHRcdFx0cXVldWUgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGRhdGEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHF1ZXVlIHx8IFtdO1xuXHRcdH1cblx0fSxcblxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpLFxuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcblx0XHRcdH07XG5cblx0XHQvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG5cdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRzdGFydExlbmd0aC0tO1xuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcblx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lXG5cdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdHJldHVybiBkYXRhUHJpdi5nZXQoIGVsZW0sIGtleSApIHx8IGRhdGFQcml2LmFjY2VzcyggZWxlbSwga2V5LCB7XG5cdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICkuYWRkKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyBcInF1ZXVlXCIsIGtleSBdICk7XG5cdFx0XHR9IClcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHNldHRlciA9IDI7XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZGF0YSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gXCJmeFwiO1xuXHRcdFx0c2V0dGVyLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1sgMCBdLCB0eXBlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzIDpcblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICYmIHF1ZXVlWyAwIF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0fSxcblx0ZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdH0gKTtcblx0fSxcblx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHR9LFxuXG5cdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcblx0Ly8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXG5cdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0dmFyIHRtcCxcblx0XHRcdGNvdW50ID0gMSxcblx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRlbGVtZW50cyA9IHRoaXMsXG5cdFx0XHRpID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b2JqID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgKTtcblx0XHRcdGlmICggdG1wICYmIHRtcC5lbXB0eSApIHtcblx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0dG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXNvbHZlKCk7XG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2UoIG9iaiApO1xuXHR9XG59ICk7XG52YXIgcG51bSA9ICggL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8gKS5zb3VyY2U7XG5cbnZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKTtcblxuXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cbnZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuXG5cdHZhciBpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblx0XHR9LFxuXHRcdGNvbXBvc2VkID0geyBjb21wb3NlZDogdHJ1ZSB9O1xuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSssIEVkZ2UgMTIgLSAxOCssIGlPUyAxMC4wIC0gMTAuMiBvbmx5XG5cdC8vIENoZWNrIGF0dGFjaG1lbnQgYWNyb3NzIHNoYWRvdyBET00gYm91bmRhcmllcyB3aGVuIHBvc3NpYmxlIChnaC0zNTA0KVxuXHQvLyBTdXBwb3J0OiBpT1MgMTAuMC0xMC4yIG9ubHlcblx0Ly8gRWFybHkgaU9TIDEwIHZlcnNpb25zIHN1cHBvcnQgYGF0dGFjaFNoYWRvd2AgYnV0IG5vdCBgZ2V0Um9vdE5vZGVgLFxuXHQvLyBsZWFkaW5nIHRvIGVycm9ycy4gV2UgbmVlZCB0byBjaGVjayBmb3IgYGdldFJvb3ROb2RlYC5cblx0aWYgKCBkb2N1bWVudEVsZW1lbnQuZ2V0Um9vdE5vZGUgKSB7XG5cdFx0aXNBdHRhY2hlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRSb290Tm9kZSggY29tcG9zZWQgKSA9PT0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdH07XG5cdH1cbnZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cblx0XHQvLyBpc0hpZGRlbldpdGhpblRyZWUgbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblxuXHRcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG5cdFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJlxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NVxuXHRcdFx0Ly8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG5cdFx0XHQvLyBpbiB0aGUgZG9jdW1lbnQuXG5cdFx0XHRpc0F0dGFjaGVkKCBlbGVtICkgJiZcblxuXHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCI7XG5cdH07XG5cblxuXG5mdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHR2YXIgYWRqdXN0ZWQsIHNjYWxlLFxuXHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmN1cigpO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTtcblx0XHRcdH0sXG5cdFx0aW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLFxuXHRcdHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblxuXHRcdC8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzXG5cdFx0aW5pdGlhbEluVW5pdCA9IGVsZW0ubm9kZVR5cGUgJiZcblx0XHRcdCggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCApICYmXG5cdFx0XHRyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApO1xuXG5cdGlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcblx0XHQvLyBIYWx2ZSB0aGUgaXRlcmF0aW9uIHRhcmdldCB2YWx1ZSB0byBwcmV2ZW50IGludGVyZmVyZW5jZSBmcm9tIENTUyB1cHBlciBib3VuZHMgKGdoLTIxNDQpXG5cdFx0aW5pdGlhbCA9IGluaXRpYWwgLyAyO1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHR3aGlsZSAoIG1heEl0ZXJhdGlvbnMtLSApIHtcblxuXHRcdFx0Ly8gRXZhbHVhdGUgYW5kIHVwZGF0ZSBvdXIgYmVzdCBndWVzcyAoZG91YmxpbmcgZ3Vlc3NlcyB0aGF0IHplcm8gb3V0KS5cblx0XHRcdC8vIEZpbmlzaCBpZiB0aGUgc2NhbGUgZXF1YWxzIG9yIGNyb3NzZXMgMSAobWFraW5nIHRoZSBvbGQqbmV3IHByb2R1Y3Qgbm9uLXBvc2l0aXZlKS5cblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblx0XHRcdGlmICggKCAxIC0gc2NhbGUgKSAqICggMSAtICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgfHwgMC41ICkgKSA8PSAwICkge1xuXHRcdFx0XHRtYXhJdGVyYXRpb25zID0gMDtcblx0XHRcdH1cblx0XHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG5cblx0XHR9XG5cblx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAqIDI7XG5cdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxuXHRcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfF5tb2R1bGUkfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcblx0Ly8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuXHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cblx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seVxuXHQvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcblx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHRkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG5cdHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdC8vIElFIDw9OSByZXBsYWNlcyA8b3B0aW9uPiB0YWdzIHdpdGggdGhlaXIgY29udGVudHMgd2hlbiBpbnNlcnRlZCBvdXRzaWRlIG9mXG5cdC8vIHRoZSBzZWxlY3QgZWxlbWVudC5cblx0ZGl2LmlubmVySFRNTCA9IFwiPG9wdGlvbj48L29wdGlvbj5cIjtcblx0c3VwcG9ydC5vcHRpb24gPSAhIWRpdi5sYXN0Q2hpbGQ7XG59ICkoKTtcblxuXG4vLyBXZSBoYXZlIHRvIGNsb3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKVxudmFyIHdyYXBNYXAgPSB7XG5cblx0Ly8gWEhUTUwgcGFyc2VycyBkbyBub3QgbWFnaWNhbGx5IGluc2VydCBlbGVtZW50cyBpbiB0aGVcblx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxuXHQvLyB0aGlzIGJ5IG9taXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuXG5cdHRoZWFkOiBbIDEsIFwiPHRhYmxlPlwiLCBcIjwvdGFibGU+XCIgXSxcblx0Y29sOiBbIDIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcblx0dHI6IFsgMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXHR0ZDogWyAzLCBcIjx0YWJsZT48dGJvZHk+PHRyPlwiLCBcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiIF0sXG5cblx0X2RlZmF1bHQ6IFsgMCwgXCJcIiwgXCJcIiBdXG59O1xuXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5pZiAoICFzdXBwb3J0Lm9wdGlvbiApIHtcblx0d3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uID0gWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdO1xufVxuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmV0ID0gW107XG5cdH1cblxuXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGF0dGFjaGVkLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggdG9UeXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcblx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblxuXHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG5cdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxuXHRcdFx0XHR0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0ZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXG5cdGkgPSAwO1xuXHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xuXG5cdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcblx0XHRcdGlmICggaWdub3JlZCApIHtcblx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRhdHRhY2hlZCA9IGlzQXR0YWNoZWQoIGVsZW0gKTtcblxuXHRcdC8vIEFwcGVuZCB0byBmcmFnbWVudFxuXHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGlmICggYXR0YWNoZWQgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHR9XG5cblx0XHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXG5cdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRtcFsgaisrIF0gKSApIHtcblx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBlbGVtLnR5cGUgfHwgXCJcIiApICkge1xuXHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KS87XG5cbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XG5cdHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiByZXR1cm5GYWxzZSgpIHtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMStcbi8vIGZvY3VzKCkgYW5kIGJsdXIoKSBhcmUgYXN5bmNocm9ub3VzLCBleGNlcHQgd2hlbiB0aGV5IGFyZSBuby1vcC5cbi8vIFNvIGV4cGVjdCBmb2N1cyB0byBiZSBzeW5jaHJvbm91cyB3aGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgYWN0aXZlLFxuLy8gYW5kIGJsdXIgdG8gYmUgc3luY2hyb25vdXMgd2hlbiB0aGUgZWxlbWVudCBpcyBub3QgYWxyZWFkeSBhY3RpdmUuXG4vLyAoZm9jdXMgYW5kIGJsdXIgYXJlIGFsd2F5cyBzeW5jaHJvbm91cyBpbiBvdGhlciBzdXBwb3J0ZWQgYnJvd3NlcnMsXG4vLyB0aGlzIGp1c3QgZGVmaW5lcyB3aGVuIHdlIGNhbiBjb3VudCBvbiBpdCkuXG5mdW5jdGlvbiBleHBlY3RTeW5jKCBlbGVtLCB0eXBlICkge1xuXHRyZXR1cm4gKCBlbGVtID09PSBzYWZlQWN0aXZlRWxlbWVudCgpICkgPT09ICggdHlwZSA9PT0gXCJmb2N1c1wiICk7XG59XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBBY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBjYW4gdGhyb3cgdW5leHBlY3RlZGx5XG4vLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzOTNcbmZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHR9IGNhdGNoICggZXJyICkgeyB9XG59XG5cbmZ1bmN0aW9uIG9uKCBlbGVtLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUgKSB7XG5cdHZhciBvcmlnRm4sIHR5cGU7XG5cblx0Ly8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXG5cdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gKCB0eXBlcy1PYmplY3QsIHNlbGVjdG9yLCBkYXRhIClcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuXHRcdFx0ZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdG9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0fVxuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCApIHtcblxuXHRcdC8vICggdHlwZXMsIGZuIClcblx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0fSBlbHNlIGlmICggZm4gPT0gbnVsbCApIHtcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgc2VsZWN0b3IsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgZGF0YSwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdH0gZWxzZSBpZiAoICFmbiApIHtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggb25lID09PSAxICkge1xuXHRcdG9yaWdGbiA9IGZuO1xuXHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cblx0XHRcdGpRdWVyeSgpLm9mZiggZXZlbnQgKTtcblx0XHRcdHJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cblx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApO1xuXHR9XG5cdHJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IgKTtcblx0fSApO1xufVxuXG4vKlxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxuICogUHJvcHMgdG8gRGVhbiBFZHdhcmRzJyBhZGRFdmVudCBsaWJyYXJ5IGZvciBtYW55IG9mIHRoZSBpZGVhcy5cbiAqL1xualF1ZXJ5LmV2ZW50ID0ge1xuXG5cdGdsb2JhbDoge30sXG5cblx0YWRkOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yICkge1xuXG5cdFx0dmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0Ly8gT25seSBhdHRhY2ggZXZlbnRzIHRvIG9iamVjdHMgdGhhdCBhY2NlcHQgZGF0YVxuXHRcdGlmICggIWFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcblx0XHRpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcblx0XHRcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcblx0XHRcdGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyO1xuXHRcdFx0c2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3Rvcjtcblx0XHR9XG5cblx0XHQvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXG5cdFx0Ly8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXG5cdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSBPYmplY3QuY3JlYXRlKCBudWxsICk7XG5cdFx0fVxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcblx0XHRcdGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlID0gZnVuY3Rpb24oIGUgKSB7XG5cblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcblx0XHRcdFx0Ly8gd2hlbiBhbiBldmVudCBpcyBjYWxsZWQgYWZ0ZXIgYSBwYWdlIGhhcyB1bmxvYWRlZFxuXHRcdFx0XHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICE9PSBlLnR5cGUgP1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2Vcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cblx0XHRcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuXHRcdFx0aGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRvcmlnVHlwZTogb3JpZ1R5cGUsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGhhbmRsZXI6IGhhbmRsZXIsXG5cdFx0XHRcdGd1aWQ6IGhhbmRsZXIuZ3VpZCxcblx0XHRcdFx0c2VsZWN0b3I6IHNlbGVjdG9yLFxuXHRcdFx0XHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxuXHRcdFx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKVxuXHRcdFx0fSwgaGFuZGxlT2JqSW4gKTtcblxuXHRcdFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3Rcblx0XHRcdGlmICggISggaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSApICkge1xuXHRcdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XG5cdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQgPSAwO1xuXG5cdFx0XHRcdC8vIE9ubHkgdXNlIGFkZEV2ZW50TGlzdGVuZXIgaWYgdGhlIHNwZWNpYWwgZXZlbnRzIGhhbmRsZXIgcmV0dXJucyBmYWxzZVxuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnNldHVwIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC5zZXR1cC5jYWxsKCBlbGVtLCBkYXRhLCBuYW1lc3BhY2VzLCBldmVudEhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHNwZWNpYWwuYWRkICkge1xuXHRcdFx0XHRzcGVjaWFsLmFkZC5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblxuXHRcdFx0XHRpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkge1xuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcblx0XHRcdGlmICggc2VsZWN0b3IgKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXG5cdFx0XHRqUXVlcnkuZXZlbnQuZ2xvYmFsWyB0eXBlIF0gPSB0cnVlO1xuXHRcdH1cblxuXHR9LFxuXG5cdC8vIERldGFjaCBhbiBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xuXG5cdFx0dmFyIGosIG9yaWdDb3VudCwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKSAmJiBkYXRhUHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdGlmICggIWVsZW1EYXRhIHx8ICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7IHR5cGUgbWF5IGJlIG9taXR0ZWRcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xuXHRcdFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcblx0XHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICk7XG5cblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcblx0XHRcdG9yaWdDb3VudCA9IGogPSBoYW5kbGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcblxuXHRcdFx0XHRpZiAoICggbWFwcGVkVHlwZXMgfHwgb3JpZ1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcblx0XHRcdFx0XHQoICF0bXAgfHwgdG1wLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApICYmXG5cdFx0XHRcdFx0KCAhc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fFxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGosIDEgKTtcblxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xuXHRcdFx0XHRcdFx0c3BlY2lhbC5yZW1vdmUuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3Rcblx0XHRcdC8vIChhdm9pZHMgcG90ZW50aWFsIGZvciBlbmRsZXNzIHJlY3Vyc2lvbiBkdXJpbmcgcmVtb3ZhbCBvZiBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzKVxuXHRcdFx0aWYgKCBvcmlnQ291bnQgJiYgIWhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxuXHRcdFx0XHRcdHNwZWNpYWwudGVhcmRvd24uY2FsbCggZWxlbSwgbmFtZXNwYWNlcywgZWxlbURhdGEuaGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xuXHRcdH1cblx0fSxcblxuXHRkaXNwYXRjaDogZnVuY3Rpb24oIG5hdGl2ZUV2ZW50ICkge1xuXG5cdFx0dmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLCBoYW5kbGVyUXVldWUsXG5cdFx0XHRhcmdzID0gbmV3IEFycmF5KCBhcmd1bWVudHMubGVuZ3RoICksXG5cblx0XHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdFx0ZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApLFxuXG5cdFx0XHRoYW5kbGVycyA9IChcblx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsIClcblx0XHRcdFx0KVsgZXZlbnQudHlwZSBdIHx8IFtdLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyBldmVudC50eXBlIF0gfHwge307XG5cblx0XHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuXHRcdGFyZ3NbIDAgXSA9IGV2ZW50O1xuXG5cdFx0Zm9yICggaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRhcmdzWyBpIF0gPSBhcmd1bWVudHNbIGkgXTtcblx0XHR9XG5cblx0XHRldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7XG5cblx0XHQvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkXG5cdFx0aWYgKCBzcGVjaWFsLnByZURpc3BhdGNoICYmIHNwZWNpYWwucHJlRGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGhhbmRsZXJzXG5cdFx0aGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwoIHRoaXMsIGV2ZW50LCBoYW5kbGVycyApO1xuXG5cdFx0Ly8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggbWF0Y2hlZCA9IGhhbmRsZXJRdWV1ZVsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XG5cblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGhhbmRsZU9iaiA9IG1hdGNoZWQuaGFuZGxlcnNbIGorKyBdICkgJiZcblx0XHRcdFx0IWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGV2ZW50IGlzIG5hbWVzcGFjZWQsIHRoZW4gZWFjaCBoYW5kbGVyIGlzIG9ubHkgaW52b2tlZCBpZiBpdCBpc1xuXHRcdFx0XHQvLyBzcGVjaWFsbHkgdW5pdmVyc2FsIG9yIGl0cyBuYW1lc3BhY2VzIGFyZSBhIHN1cGVyc2V0IG9mIHRoZSBldmVudCdzLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGhhbmRsZU9iai5uYW1lc3BhY2UgPT09IGZhbHNlIHx8XG5cdFx0XHRcdFx0ZXZlbnQucm5hbWVzcGFjZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XG5cblx0XHRcdFx0XHRldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7XG5cdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xuXG5cdFx0XHRcdFx0cmV0ID0gKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSApLmhhbmRsZSB8fFxuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgKS5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIHJldCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxuXHRcdGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XG5cdFx0XHRzcGVjaWFsLnBvc3REaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0aGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudCwgaGFuZGxlcnMgKSB7XG5cdFx0dmFyIGksIGhhbmRsZU9iaiwgc2VsLCBtYXRjaGVkSGFuZGxlcnMsIG1hdGNoZWRTZWxlY3RvcnMsXG5cdFx0XHRoYW5kbGVyUXVldWUgPSBbXSxcblx0XHRcdGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LFxuXHRcdFx0Y3VyID0gZXZlbnQudGFyZ2V0O1xuXG5cdFx0Ly8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVyc1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTlcblx0XHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICh0cmFjLTEzMTgwKVxuXHRcdFx0Y3VyLm5vZGVUeXBlICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxuXHRcdFx0Ly8gU3VwcHJlc3Mgc3BlYy12aW9sYXRpbmcgY2xpY2tzIGluZGljYXRpbmcgYSBub24tcHJpbWFyeSBwb2ludGVyIGJ1dHRvbiAodHJhYy0zODYxKVxuXHRcdFx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnQtdHlwZS1jbGlja1xuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0Ly8gLi4uYnV0IG5vdCBhcnJvdyBrZXkgXCJjbGlja3NcIiBvZiByYWRpbyBpbnB1dHMsIHdoaWNoIGNhbiBoYXZlIGBidXR0b25gIC0xIChnaC0yMzQzKVxuXHRcdFx0ISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGV2ZW50LmJ1dHRvbiA+PSAxICkgKSB7XG5cblx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxuXHRcdFx0XHQvLyBEb24ndCBwcm9jZXNzIGNsaWNrcyBvbiBkaXNhYmxlZCBlbGVtZW50cyAoIzY5MTEsICM4MTY1LCAjMTEzODIsICMxMTc2NClcblx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gXCJjbGlja1wiICYmIGN1ci5kaXNhYmxlZCA9PT0gdHJ1ZSApICkge1xuXHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycyA9IFtdO1xuXHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnMgPSB7fTtcblx0XHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGRlbGVnYXRlQ291bnQ7IGkrKyApIHtcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IGNvbmZsaWN0IHdpdGggT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzICgjMTMyMDMpXG5cdFx0XHRcdFx0XHRzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcblxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeSggc2VsLCB0aGlzICkuaW5kZXgoIGN1ciApID4gLTEgOlxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51bGwsIFsgY3VyIF0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdICkge1xuXHRcdFx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggbWF0Y2hlZEhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZWRIYW5kbGVycyB9ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xuXHRcdGN1ciA9IHRoaXM7XG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50IDwgaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhbmRsZXJRdWV1ZTtcblx0fSxcblxuXHRhZGRQcm9wOiBmdW5jdGlvbiggbmFtZSwgaG9vayApIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cblx0XHRcdGdldDogaXNGdW5jdGlvbiggaG9vayApID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBob29rKCB0aGlzLm9yaWdpbmFsRXZlbnQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gOlxuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFsgbmFtZSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgbmFtZSwge1xuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHdyaXRhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGZpeDogZnVuY3Rpb24oIG9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0cmV0dXJuIG9yaWdpbmFsRXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0b3JpZ2luYWxFdmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XG5cdH0sXG5cblx0c3BlY2lhbDoge1xuXHRcdGxvYWQ6IHtcblxuXHRcdFx0Ly8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxuXHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IHRvIGVuc3VyZSBjb3JyZWN0IHN0YXRlIGZvciBjaGVja2FibGUgaW5wdXRzXG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cblx0XHRcdFx0Ly8gRm9yIG11dHVhbCBjb21wcmVzc2liaWxpdHkgd2l0aCBfZGVmYXVsdCwgcmVwbGFjZSBgdGhpc2AgYWNjZXNzIHdpdGggYSBsb2NhbCB2YXIuXG5cdFx0XHRcdC8vIGB8fCBkYXRhYCBpcyBkZWFkIGNvZGUgbWVhbnQgb25seSB0byBwcmVzZXJ2ZSB0aGUgdmFyaWFibGUgdGhyb3VnaCBtaW5pZmljYXRpb24uXG5cdFx0XHRcdHZhciBlbCA9IHRoaXMgfHwgZGF0YTtcblxuXHRcdFx0XHQvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuXHRcdFx0XHRpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsLnR5cGUgKSAmJlxuXHRcdFx0XHRcdGVsLmNsaWNrICYmIG5vZGVOYW1lKCBlbCwgXCJpbnB1dFwiICkgKSB7XG5cblx0XHRcdFx0XHQvLyBkYXRhUHJpdi5zZXQoIGVsLCBcImNsaWNrXCIsIC4uLiApXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIsIHJldHVyblRydWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0sXG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbiggZGF0YSApIHtcblxuXHRcdFx0XHQvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci5cblx0XHRcdFx0Ly8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi5cblx0XHRcdFx0dmFyIGVsID0gdGhpcyB8fCBkYXRhO1xuXG5cdFx0XHRcdC8vIEZvcmNlIHNldHVwIGJlZm9yZSB0cmlnZ2VyaW5nIGEgY2xpY2tcblx0XHRcdFx0aWYgKCByY2hlY2thYmxlVHlwZS50ZXN0KCBlbC50eXBlICkgJiZcblx0XHRcdFx0XHRlbC5jbGljayAmJiBub2RlTmFtZSggZWwsIFwiaW5wdXRcIiApICkge1xuXG5cdFx0XHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIGVsLCBcImNsaWNrXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgc3VwcHJlc3MgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHQvLyBBbHNvIHByZXZlbnQgaXQgaWYgd2UncmUgY3VycmVudGx5IGluc2lkZSBhIGxldmVyYWdlZCBuYXRpdmUtZXZlbnQgc3RhY2tcblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cdFx0XHRcdHJldHVybiByY2hlY2thYmxlVHlwZS50ZXN0KCB0YXJnZXQudHlwZSApICYmXG5cdFx0XHRcdFx0dGFyZ2V0LmNsaWNrICYmIG5vZGVOYW1lKCB0YXJnZXQsIFwiaW5wdXRcIiApICYmXG5cdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0YXJnZXQsIFwiY2xpY2tcIiApIHx8XG5cdFx0XHRcdFx0bm9kZU5hbWUoIHRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBFbnN1cmUgdGhlIHByZXNlbmNlIG9mIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaGFuZGxlcyBtYW51YWxseS10cmlnZ2VyZWRcbi8vIHN5bnRoZXRpYyBldmVudHMgYnkgaW50ZXJydXB0aW5nIHByb2dyZXNzIHVudGlsIHJlaW52b2tlZCBpbiByZXNwb25zZSB0b1xuLy8gKm5hdGl2ZSogZXZlbnRzIHRoYXQgaXQgZmlyZXMgZGlyZWN0bHksIGVuc3VyaW5nIHRoYXQgc3RhdGUgY2hhbmdlcyBoYXZlXG4vLyBhbHJlYWR5IG9jY3VycmVkIGJlZm9yZSBvdGhlciBsaXN0ZW5lcnMgYXJlIGludm9rZWQuXG5mdW5jdGlvbiBsZXZlcmFnZU5hdGl2ZSggZWwsIHR5cGUsIGV4cGVjdFN5bmMgKSB7XG5cblx0Ly8gTWlzc2luZyBleHBlY3RTeW5jIGluZGljYXRlcyBhIHRyaWdnZXIgY2FsbCwgd2hpY2ggbXVzdCBmb3JjZSBzZXR1cCB0aHJvdWdoIGpRdWVyeS5ldmVudC5hZGRcblx0aWYgKCAhZXhwZWN0U3luYyApIHtcblx0XHRpZiAoIGRhdGFQcml2LmdldCggZWwsIHR5cGUgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZWwsIHR5cGUsIHJldHVyblRydWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVnaXN0ZXIgdGhlIGNvbnRyb2xsZXIgYXMgYSBzcGVjaWFsIHVuaXZlcnNhbCBoYW5kbGVyIGZvciBhbGwgZXZlbnQgbmFtZXNwYWNlc1xuXHRkYXRhUHJpdi5zZXQoIGVsLCB0eXBlLCBmYWxzZSApO1xuXHRqUXVlcnkuZXZlbnQuYWRkKCBlbCwgdHlwZSwge1xuXHRcdG5hbWVzcGFjZTogZmFsc2UsXG5cdFx0aGFuZGxlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIG5vdEFzeW5jLCByZXN1bHQsXG5cdFx0XHRcdHNhdmVkID0gZGF0YVByaXYuZ2V0KCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdGlmICggKCBldmVudC5pc1RyaWdnZXIgJiAxICkgJiYgdGhpc1sgdHlwZSBdICkge1xuXG5cdFx0XHRcdC8vIEludGVycnVwdCBwcm9jZXNzaW5nIG9mIHRoZSBvdXRlciBzeW50aGV0aWMgLnRyaWdnZXIoKWVkIGV2ZW50XG5cdFx0XHRcdC8vIFNhdmVkIGRhdGEgc2hvdWxkIGJlIGZhbHNlIGluIHN1Y2ggY2FzZXMsIGJ1dCBtaWdodCBiZSBhIGxlZnRvdmVyIGNhcHR1cmUgb2JqZWN0XG5cdFx0XHRcdC8vIGZyb20gYW4gYXN5bmMgbmF0aXZlIGhhbmRsZXIgKGdoLTQzNTApXG5cdFx0XHRcdGlmICggIXNhdmVkLmxlbmd0aCApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGFyZ3VtZW50cyBmb3IgdXNlIHdoZW4gaGFuZGxpbmcgdGhlIGlubmVyIG5hdGl2ZSBldmVudFxuXHRcdFx0XHRcdC8vIFRoZXJlIHdpbGwgYWx3YXlzIGJlIGF0IGxlYXN0IG9uZSBhcmd1bWVudCAoYW4gZXZlbnQgb2JqZWN0KSwgc28gdGhpcyBhcnJheVxuXHRcdFx0XHRcdC8vIHdpbGwgbm90IGJlIGNvbmZ1c2VkIHdpdGggYSBsZWZ0b3ZlciBjYXB0dXJlIG9iamVjdC5cblx0XHRcdFx0XHRzYXZlZCA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwgc2F2ZWQgKTtcblxuXHRcdFx0XHRcdC8vIFRyaWdnZXIgdGhlIG5hdGl2ZSBldmVudCBhbmQgY2FwdHVyZSBpdHMgcmVzdWx0XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTErXG5cdFx0XHRcdFx0Ly8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXNcblx0XHRcdFx0XHRub3RBc3luYyA9IGV4cGVjdFN5bmMoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0XHR0aGlzWyB0eXBlIF0oKTtcblx0XHRcdFx0XHRyZXN1bHQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0XHRpZiAoIHNhdmVkICE9PSByZXN1bHQgfHwgbm90QXN5bmMgKSB7XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIHR5cGUsIGZhbHNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHt9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIHNhdmVkICE9PSByZXN1bHQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIENhbmNlbCB0aGUgb3V0ZXIgc3ludGhldGljIGV2ZW50XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0LnZhbHVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGlzIGlzIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCBmb3IgYW4gZXZlbnQgd2l0aCBhIGJ1YmJsaW5nIHN1cnJvZ2F0ZVxuXHRcdFx0XHQvLyAoZm9jdXMgb3IgYmx1ciksIGFzc3VtZSB0aGF0IHRoZSBzdXJyb2dhdGUgYWxyZWFkeSBwcm9wYWdhdGVkIGZyb20gdHJpZ2dlcmluZyB0aGVcblx0XHRcdFx0Ly8gbmF0aXZlIGV2ZW50IGFuZCBwcmV2ZW50IHRoYXQgZnJvbSBoYXBwZW5pbmcgYWdhaW4gaGVyZS5cblx0XHRcdFx0Ly8gVGhpcyB0ZWNobmljYWxseSBnZXRzIHRoZSBvcmRlcmluZyB3cm9uZyB3LnIudC4gdG8gYC50cmlnZ2VyKClgIChpbiB3aGljaCB0aGVcblx0XHRcdFx0Ly8gYnViYmxpbmcgc3Vycm9nYXRlIHByb3BhZ2F0ZXMgKmFmdGVyKiB0aGUgbm9uLWJ1YmJsaW5nIGJhc2UpLCBidXQgdGhhdCBzZWVtc1xuXHRcdFx0XHQvLyBsZXNzIGJhZCB0aGFuIGR1cGxpY2F0aW9uLlxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge30gKS5kZWxlZ2F0ZVR5cGUgKSB7XG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIG5hdGl2ZSBldmVudCB0cmlnZ2VyZWQgYWJvdmUsIGV2ZXJ5dGhpbmcgaXMgbm93IGluIG9yZGVyXG5cdFx0XHQvLyBGaXJlIGFuIGlubmVyIHN5bnRoZXRpYyBldmVudCB3aXRoIHRoZSBvcmlnaW5hbCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHNhdmVkLmxlbmd0aCApIHtcblxuXHRcdFx0XHQvLyAuLi5hbmQgY2FwdHVyZSB0aGUgcmVzdWx0XG5cdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwge1xuXHRcdFx0XHRcdHZhbHVlOiBqUXVlcnkuZXZlbnQudHJpZ2dlcihcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTErXG5cdFx0XHRcdFx0XHQvLyBFeHRlbmQgd2l0aCB0aGUgcHJvdG90eXBlIHRvIHJlc2V0IHRoZSBhYm92ZSBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmV4dGVuZCggc2F2ZWRbIDAgXSwgalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSApLFxuXHRcdFx0XHRcdFx0c2F2ZWQuc2xpY2UoIDEgKSxcblx0XHRcdFx0XHRcdHRoaXNcblx0XHRcdFx0XHQpXG5cdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBBYm9ydCBoYW5kbGluZyBvZiB0aGUgbmF0aXZlIGV2ZW50XG5cdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSApO1xufVxuXG5qUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXG5cdC8vIFRoaXMgXCJpZlwiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0c1xuXHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSApO1xuXHR9XG59O1xuXG5qUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHtcblxuXHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0aWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50ICkgKSB7XG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIEV2ZW50IG9iamVjdFxuXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG5cdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuXHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cblx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0cmV0dXJuRmFsc2U7XG5cblx0XHQvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcblx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5XG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKCM1MDQsICMxMzE0Mylcblx0XHR0aGlzLnRhcmdldCA9ICggc3JjLnRhcmdldCAmJiBzcmMudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkgP1xuXHRcdFx0c3JjLnRhcmdldC5wYXJlbnROb2RlIDpcblx0XHRcdHNyYy50YXJnZXQ7XG5cblx0XHR0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMuY3VycmVudFRhcmdldDtcblx0XHR0aGlzLnJlbGF0ZWRUYXJnZXQgPSBzcmMucmVsYXRlZFRhcmdldDtcblxuXHQvLyBFdmVudCB0eXBlXG5cdH0gZWxzZSB7XG5cdFx0dGhpcy50eXBlID0gc3JjO1xuXHR9XG5cblx0Ly8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3Rcblx0aWYgKCBwcm9wcyApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aGlzLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmVcblx0dGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuXG5cdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0dGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XG59O1xuXG4vLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc1NpbXVsYXRlZDogZmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblx0c3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcblx0fVxufTtcblxuLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHNcbmpRdWVyeS5lYWNoKCB7XG5cdGFsdEtleTogdHJ1ZSxcblx0YnViYmxlczogdHJ1ZSxcblx0Y2FuY2VsYWJsZTogdHJ1ZSxcblx0Y2hhbmdlZFRvdWNoZXM6IHRydWUsXG5cdGN0cmxLZXk6IHRydWUsXG5cdGRldGFpbDogdHJ1ZSxcblx0ZXZlbnRQaGFzZTogdHJ1ZSxcblx0bWV0YUtleTogdHJ1ZSxcblx0cGFnZVg6IHRydWUsXG5cdHBhZ2VZOiB0cnVlLFxuXHRzaGlmdEtleTogdHJ1ZSxcblx0dmlldzogdHJ1ZSxcblx0XCJjaGFyXCI6IHRydWUsXG5cdGNvZGU6IHRydWUsXG5cdGNoYXJDb2RlOiB0cnVlLFxuXHRrZXk6IHRydWUsXG5cdGtleUNvZGU6IHRydWUsXG5cdGJ1dHRvbjogdHJ1ZSxcblx0YnV0dG9uczogdHJ1ZSxcblx0Y2xpZW50WDogdHJ1ZSxcblx0Y2xpZW50WTogdHJ1ZSxcblx0b2Zmc2V0WDogdHJ1ZSxcblx0b2Zmc2V0WTogdHJ1ZSxcblx0cG9pbnRlcklkOiB0cnVlLFxuXHRwb2ludGVyVHlwZTogdHJ1ZSxcblx0c2NyZWVuWDogdHJ1ZSxcblx0c2NyZWVuWTogdHJ1ZSxcblx0dGFyZ2V0VG91Y2hlczogdHJ1ZSxcblx0dG9FbGVtZW50OiB0cnVlLFxuXHR0b3VjaGVzOiB0cnVlLFxuXG5cdHdoaWNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcblxuXHRcdC8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50c1xuXHRcdGlmICggZXZlbnQud2hpY2ggPT0gbnVsbCAmJiBya2V5RXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0cmV0dXJuIGV2ZW50LmNoYXJDb2RlICE9IG51bGwgPyBldmVudC5jaGFyQ29kZSA6IGV2ZW50LmtleUNvZGU7XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxuXHRcdGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIHJtb3VzZUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdGlmICggYnV0dG9uICYgMSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggYnV0dG9uICYgMiApIHtcblx0XHRcdFx0cmV0dXJuIDM7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggYnV0dG9uICYgNCApIHtcblx0XHRcdFx0cmV0dXJuIDI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC53aGljaDtcblx0fVxufSwgalF1ZXJ5LmV2ZW50LmFkZFByb3AgKTtcblxualF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIHR5cGUsIGRlbGVnYXRlVHlwZSApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSA9IHtcblxuXHRcdC8vIFV0aWxpemUgbmF0aXZlIGV2ZW50IGlmIHBvc3NpYmxlIHNvIGJsdXIvZm9jdXMgc2VxdWVuY2UgaXMgY29ycmVjdFxuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2xhaW0gdGhlIGZpcnN0IGhhbmRsZXJcblx0XHRcdC8vIGRhdGFQcml2LnNldCggdGhpcywgXCJmb2N1c1wiLCAuLi4gKVxuXHRcdFx0Ly8gZGF0YVByaXYuc2V0KCB0aGlzLCBcImJsdXJcIiwgLi4uIClcblx0XHRcdGxldmVyYWdlTmF0aXZlKCB0aGlzLCB0eXBlLCBleHBlY3RTeW5jICk7XG5cblx0XHRcdC8vIFJldHVybiBmYWxzZSB0byBhbGxvdyBub3JtYWwgcHJvY2Vzc2luZyBpbiB0aGUgY2FsbGVyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXJcblx0XHRcdGxldmVyYWdlTmF0aXZlKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdC8vIFJldHVybiBub24tZmFsc2UgdG8gYWxsb3cgbm9ybWFsIGV2ZW50LXBhdGggcHJvcGFnYXRpb25cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRkZWxlZ2F0ZVR5cGU6IGRlbGVnYXRlVHlwZVxuXHR9O1xufSApO1xuXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3Ncbi8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXG4vLyBEbyB0aGUgc2FtZSBmb3IgcG9pbnRlcmVudGVyL3BvaW50ZXJsZWF2ZSBhbmQgcG9pbnRlcm92ZXIvcG9pbnRlcm91dFxuLy9cbi8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcbi8vIFNhZmFyaSBzZW5kcyBtb3VzZWVudGVyIHRvbyBvZnRlbjsgc2VlOlxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDcwMjU4XG4vLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLlxualF1ZXJ5LmVhY2goIHtcblx0bW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcblx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcblx0cG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxufSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHtcblx0XHRkZWxlZ2F0ZVR5cGU6IGZpeCxcblx0XHRiaW5kVHlwZTogZml4LFxuXG5cdFx0aGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHR0YXJnZXQgPSB0aGlzLFxuXHRcdFx0XHRyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCxcblx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXG5cdFx0XHQvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LlxuXHRcdFx0Ly8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcblx0XHRcdGlmICggIXJlbGF0ZWQgfHwgKCByZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpRdWVyeS5jb250YWlucyggdGFyZ2V0LCByZWxhdGVkICkgKSApIHtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcblx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRldmVudC50eXBlID0gZml4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblxuXHRcdFx0Ly8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxuXHRcdFx0aGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuXHRcdFx0alF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZihcblx0XHRcdFx0aGFuZGxlT2JqLm5hbWVzcGFjZSA/XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9mZiggdHlwZSwgc2VsZWN0b3IsIHR5cGVzWyB0eXBlIF0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcyBbLCBmbl0gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbnZhclxuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzIG9ubHlcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG4vLyBQcmVmZXIgYSB0Ym9keSBvdmVyIGl0cyBwYXJlbnQgdGFibGUgZm9yIGNvbnRhaW5pbmcgbmV3IHJvd3NcbmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBqUXVlcnkoIGVsZW0gKS5jaGlsZHJlbiggXCJ0Ym9keVwiIClbIDAgXSB8fCBlbGVtO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbi8vIFJlcGxhY2UvcmVzdG9yZSB0aGUgdHlwZSBhdHRyaWJ1dGUgb2Ygc2NyaXB0IGVsZW1lbnRzIGZvciBzYWZlIERPTSBtYW5pcHVsYXRpb25cbmZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoIGVsZW0gKSB7XG5cdGVsZW0udHlwZSA9ICggZWxlbS5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICkgIT09IG51bGwgKSArIFwiL1wiICsgZWxlbS50eXBlO1xuXHRyZXR1cm4gZWxlbTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoIGVsZW0gKSB7XG5cdGlmICggKCBlbGVtLnR5cGUgfHwgXCJcIiApLnNsaWNlKCAwLCA1ICkgPT09IFwidHJ1ZS9cIiApIHtcblx0XHRlbGVtLnR5cGUgPSBlbGVtLnR5cGUuc2xpY2UoIDUgKTtcblx0fSBlbHNlIHtcblx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggXCJ0eXBlXCIgKTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG5mdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkge1xuXHR2YXIgaSwgbCwgdHlwZSwgcGRhdGFPbGQsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xuXG5cdGlmICggZGVzdC5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxuXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHBkYXRhT2xkID0gZGF0YVByaXYuZ2V0KCBzcmMgKTtcblx0XHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XG5cblx0XHRpZiAoIGV2ZW50cyApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZGVzdCwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblxuXHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXG5cdGlmICggZGF0YVVzZXIuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0dWRhdGFPbGQgPSBkYXRhVXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XG5cdH1cbn1cblxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xuXHR2YXIgbm9kZU5hbWUgPSBkZXN0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0Ly8gRmFpbHMgdG8gcGVyc2lzdCB0aGUgY2hlY2tlZCBzdGF0ZSBvZiBhIGNsb25lZCBjaGVja2JveCBvciByYWRpbyBidXR0b24uXG5cdGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiByY2hlY2thYmxlVHlwZS50ZXN0KCBzcmMudHlwZSApICkge1xuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xuXG5cdC8vIEZhaWxzIHRvIHJldHVybiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHRvIHRoZSBkZWZhdWx0IHNlbGVjdGVkIHN0YXRlIHdoZW4gY2xvbmluZyBvcHRpb25zXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcblx0XHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XG5cdH1cbn1cblxuZnVuY3Rpb24gZG9tTWFuaXAoIGNvbGxlY3Rpb24sIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICkge1xuXG5cdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0YXJncyA9IGZsYXQoIGFyZ3MgKTtcblxuXHR2YXIgZnJhZ21lbnQsIGZpcnN0LCBzY3JpcHRzLCBoYXNTY3JpcHRzLCBub2RlLCBkb2MsXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuXHRcdGlOb0Nsb25lID0gbCAtIDEsXG5cdFx0dmFsdWUgPSBhcmdzWyAwIF0sXG5cdFx0dmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHQvLyBXZSBjYW4ndCBjbG9uZU5vZGUgZnJhZ21lbnRzIHRoYXQgY29udGFpbiBjaGVja2VkLCBpbiBXZWJLaXRcblx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gfHxcblx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzdXBwb3J0LmNoZWNrQ2xvbmUgJiYgcmNoZWNrZWQudGVzdCggdmFsdWUgKSApICkge1xuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdHZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTtcblx0XHRcdGlmICggdmFsdWVJc0Z1bmN0aW9uICkge1xuXHRcdFx0XHRhcmdzWyAwIF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkgKTtcblx0XHRcdH1cblx0XHRcdGRvbU1hbmlwKCBzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApO1xuXHRcdH0gKTtcblx0fVxuXG5cdGlmICggbCApIHtcblx0XHRmcmFnbWVudCA9IGJ1aWxkRnJhZ21lbnQoIGFyZ3MsIGNvbGxlY3Rpb25bIDAgXS5vd25lckRvY3VtZW50LCBmYWxzZSwgY29sbGVjdGlvbiwgaWdub3JlZCApO1xuXHRcdGZpcnN0ID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdGlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRmcmFnbWVudCA9IGZpcnN0O1xuXHRcdH1cblxuXHRcdC8vIFJlcXVpcmUgZWl0aGVyIG5ldyBjb250ZW50IG9yIGFuIGludGVyZXN0IGluIGlnbm9yZWQgZWxlbWVudHMgdG8gaW52b2tlIHRoZSBjYWxsYmFja1xuXHRcdGlmICggZmlyc3QgfHwgaWdub3JlZCApIHtcblx0XHRcdHNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCBcInNjcmlwdFwiICksIGRpc2FibGVTY3JpcHQgKTtcblx0XHRcdGhhc1NjcmlwdHMgPSBzY3JpcHRzLmxlbmd0aDtcblxuXHRcdFx0Ly8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3QgaXRlbVxuXHRcdFx0Ly8gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG5cdFx0XHQvLyBiZWluZyBlbXB0aWVkIGluY29ycmVjdGx5IGluIGNlcnRhaW4gc2l0dWF0aW9ucyAoIzgwNzApLlxuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cblx0XHRcdFx0aWYgKCBpICE9PSBpTm9DbG9uZSApIHtcblx0XHRcdFx0XHRub2RlID0galF1ZXJ5LmNsb25lKCBub2RlLCB0cnVlLCB0cnVlICk7XG5cblx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG5cdFx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggc2NyaXB0cywgZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjYWxsYmFjay5jYWxsKCBjb2xsZWN0aW9uWyBpIF0sIG5vZGUsIGkgKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcdFx0XHRkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRcdC8vIFJlZW5hYmxlIHNjcmlwdHNcblx0XHRcdFx0alF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXG5cdFx0XHRcdC8vIEV2YWx1YXRlIGV4ZWN1dGFibGUgc2NyaXB0cyBvbiBmaXJzdCBkb2N1bWVudCBpbnNlcnRpb25cblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBoYXNTY3JpcHRzOyBpKysgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IHNjcmlwdHNbIGkgXTtcblx0XHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIG5vZGUudHlwZSB8fCBcIlwiICkgJiZcblx0XHRcdFx0XHRcdCFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsIFwiZ2xvYmFsRXZhbFwiICkgJiZcblx0XHRcdFx0XHRcdGpRdWVyeS5jb250YWlucyggZG9jLCBub2RlICkgKSB7XG5cblx0XHRcdFx0XHRcdGlmICggbm9kZS5zcmMgJiYgKCBub2RlLnR5cGUgfHwgXCJcIiApLnRvTG93ZXJDYXNlKCkgICE9PSBcIm1vZHVsZVwiICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5Ll9ldmFsVXJsICYmICFub2RlLm5vTW9kdWxlICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMsIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5vbmNlOiBub2RlLm5vbmNlIHx8IG5vZGUuZ2V0QXR0cmlidXRlKCBcIm5vbmNlXCIgKVxuXHRcdFx0XHRcdFx0XHRcdH0sIGRvYyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRET01FdmFsKCBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoIHJjbGVhblNjcmlwdCwgXCJcIiApLCBub2RlLCBkb2MgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdHZhciBub2RlLFxuXHRcdG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSxcblx0XHRpID0gMDtcblxuXHRmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGlzQXR0YWNoZWQoIG5vZGUgKSApIHtcblx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdH1cblx0XHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggbm9kZSApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHJldHVybiBodG1sO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0dmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsXG5cdFx0XHRjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICksXG5cdFx0XHRpblBhZ2UgPSBpc0F0dGFjaGVkKCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwczovL2pzcGVyZi5jb20vZ2V0YWxsLXZzLXNpenpsZS8yXG5cdFx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xuXG5cdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIHRvIHRoZSBjbG9uZVxuXHRcdGlmICggZGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRcdHNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwgZ2V0QWxsKCBlbGVtICk7XG5cdFx0XHRcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XG5cblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNsb25lQ29weUV2ZW50KCBlbGVtLCBjbG9uZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCBcInNjcmlwdFwiICk7XG5cdFx0aWYgKCBkZXN0RWxlbWVudHMubGVuZ3RoID4gMCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSxcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cdFx0XHRcdGlmICggKCBkYXRhID0gZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCBlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRldGFjaDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcblx0fSxcblxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZSggZWxlbSwgdGFyZ2V0LmZpcnN0Q2hpbGQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRhZnRlcjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMubmV4dFNpYmxpbmcgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdGRhdGFBbmRFdmVudHMgPSBkYXRhQW5kRXZlbnRzID09IG51bGwgPyBmYWxzZSA6IGRhdGFBbmRFdmVudHM7XG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xuXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdGh0bWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdGwgPSB0aGlzLmxlbmd0aDtcblxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmlubmVySFRNTDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTFxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXG5cdFx0XHRcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCkgXSApIHtcblxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW0gPSAwO1xuXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxuXHRcdFx0XHR9IGNhdGNoICggZSApIHt9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0dGhpcy5lbXB0eSgpLmFwcGVuZCggdmFsdWUgKTtcblx0XHRcdH1cblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdHJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaWdub3JlZCA9IFtdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggbm9uLWlnbm9yZWQgY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHtcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXG5cdFx0fSwgaWdub3JlZCApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCB7XG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxuXHRwcmVwZW5kVG86IFwicHJlcGVuZFwiLFxuXHRpbnNlcnRCZWZvcmU6IFwiYmVmb3JlXCIsXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXG5cdHJlcGxhY2VBbGw6IFwicmVwbGFjZVdpdGhcIlxufSwgZnVuY3Rpb24oIG5hbWUsIG9yaWdpbmFsICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgZWxlbXMsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcblx0XHRcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyBpIDw9IGxhc3Q7IGkrKyApIHtcblx0XHRcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59ICk7XG52YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSg/IXB4KVthLXolXSskXCIsIFwiaVwiICk7XG5cbnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seSwgRmlyZWZveCA8PTMwICgjMTUwOTgsICMxNDE1MClcblx0XHQvLyBJRSB0aHJvd3Mgb24gZWxlbWVudHMgY3JlYXRlZCBpbiBwb3B1cHNcblx0XHQvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2ggXCJkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlXCJcblx0XHR2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuXHRcdGlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkge1xuXHRcdFx0dmlldyA9IHdpbmRvdztcblx0XHR9XG5cblx0XHRyZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG5cdH07XG5cbnZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuXHR2YXIgcmV0LCBuYW1lLFxuXHRcdG9sZCA9IHt9O1xuXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHR9XG5cblx0cmV0ID0gY2FsbGJhY2suY2FsbCggZWxlbSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG52YXIgcmJveFN0eWxlID0gbmV3IFJlZ0V4cCggY3NzRXhwYW5kLmpvaW4oIFwifFwiICksIFwiaVwiICk7XG5cblxuXG4oIGZ1bmN0aW9uKCkge1xuXG5cdC8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dFxuXHQvLyBzbyB0aGV5J3JlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIHRpbWUgdG8gc2F2ZSB0aGUgc2Vjb25kIGNvbXB1dGF0aW9uLlxuXHRmdW5jdGlvbiBjb21wdXRlU3R5bGVUZXN0cygpIHtcblxuXHRcdC8vIFRoaXMgaXMgYSBzaW5nbGV0b24sIHdlIG5lZWQgdG8gZXhlY3V0ZSBpdCBvbmx5IG9uY2Vcblx0XHRpZiAoICFkaXYgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDtcIiArXG5cdFx0XHRcIm1hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MFwiO1xuXHRcdGRpdi5zdHlsZS5jc3NUZXh0ID1cblx0XHRcdFwicG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO1wiICtcblx0XHRcdFwibWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDtcIiArXG5cdFx0XHRcIndpZHRoOjYwJTt0b3A6MSVcIjtcblx0XHRkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHRcdHZhciBkaXZTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYgKTtcblx0XHRwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSBcIjElXCI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0XG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5tYXJnaW5MZWZ0ICkgPT09IDEyO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgU2FmYXJpIDw9OS4xIC0gMTAuMSwgaU9TIDw9Ny4wIC0gOS4zXG5cdFx0Ly8gU29tZSBzdHlsZXMgY29tZSBiYWNrIHdpdGggcGVyY2VudGFnZSB2YWx1ZXMsIGV2ZW4gdGhvdWdoIHRoZXkgc2hvdWxkbid0XG5cdFx0ZGl2LnN0eWxlLnJpZ2h0ID0gXCI2MCVcIjtcblx0XHRwaXhlbEJveFN0eWxlc1ZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUucmlnaHQgKSA9PT0gMzY7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHRcdC8vIERldGVjdCBtaXNyZXBvcnRpbmcgb2YgY29udGVudCBkaW1lbnNpb25zIGZvciBib3gtc2l6aW5nOmJvcmRlci1ib3ggZWxlbWVudHNcblx0XHRib3hTaXppbmdSZWxpYWJsZVZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUud2lkdGggKSA9PT0gMzY7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHQvLyBEZXRlY3Qgb3ZlcmZsb3c6c2Nyb2xsIHNjcmV3aW5lc3MgKGdoLTM2OTkpXG5cdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9NjRcblx0XHQvLyBEb24ndCBnZXQgdHJpY2tlZCB3aGVuIHpvb20gYWZmZWN0cyBvZmZzZXRXaWR0aCAoZ2gtNDAyOSlcblx0XHRkaXYuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5cdFx0c2Nyb2xsYm94U2l6ZVZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2Lm9mZnNldFdpZHRoIC8gMyApID09PSAxMjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHRmdW5jdGlvbiByb3VuZFBpeGVsTWVhc3VyZXMoIG1lYXN1cmUgKSB7XG5cdFx0cmV0dXJuIE1hdGgucm91bmQoIHBhcnNlRmxvYXQoIG1lYXN1cmUgKSApO1xuXHR9XG5cblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBzY3JvbGxib3hTaXplVmFsLCBwaXhlbEJveFN0eWxlc1ZhbCxcblx0XHRyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLFxuXHRcdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0Ly8gRmluaXNoIGVhcmx5IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHNcblx0aWYgKCAhZGl2LnN0eWxlICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gU3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKCM4OTA4KVxuXHRkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcImNvbnRlbnQtYm94XCI7XG5cdGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG5cdHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSBcImNvbnRlbnQtYm94XCI7XG5cblx0alF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwge1xuXHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbEJveFN0eWxlczogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHBpeGVsQm94U3R5bGVzVmFsO1xuXHRcdH0sXG5cdFx0cGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0fSxcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7XG5cdFx0fSxcblx0XHRzY3JvbGxib3hTaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gc2Nyb2xsYm94U2l6ZVZhbDtcblx0XHR9LFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxNSAtIDE4K1xuXHRcdC8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0XG5cdFx0Ly8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuXG5cdFx0Ly8gQmVoYXZpb3IgaW4gSUUgOSBpcyBtb3JlIHN1YnRsZSB0aGFuIGluIG5ld2VyIHZlcnNpb25zICYgaXQgcGFzc2VzXG5cdFx0Ly8gc29tZSB2ZXJzaW9ucyBvZiB0aGlzIHRlc3Q7IG1ha2Ugc3VyZSBub3QgdG8gbWFrZSBpdCBwYXNzIHRoZXJlIVxuXHRcdHJlbGlhYmxlVHJEaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0YWJsZSwgdHIsIHRyQ2hpbGQsIHRyU3R5bGU7XG5cdFx0XHRpZiAoIHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0YWJsZVwiICk7XG5cdFx0XHRcdHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0clwiICk7XG5cdFx0XHRcdHRyQ2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0XHRcdFx0dGFibGUuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweFwiO1xuXHRcdFx0XHR0ci5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xuXHRcdFx0XHR0ckNoaWxkLnN0eWxlLmhlaWdodCA9IFwiOXB4XCI7XG5cblx0XHRcdFx0ZG9jdW1lbnRFbGVtZW50XG5cdFx0XHRcdFx0LmFwcGVuZENoaWxkKCB0YWJsZSApXG5cdFx0XHRcdFx0LmFwcGVuZENoaWxkKCB0ciApXG5cdFx0XHRcdFx0LmFwcGVuZENoaWxkKCB0ckNoaWxkICk7XG5cblx0XHRcdFx0dHJTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCB0ciApO1xuXHRcdFx0XHRyZWxpYWJsZVRyRGltZW5zaW9uc1ZhbCA9IHBhcnNlSW50KCB0clN0eWxlLmhlaWdodCApID4gMztcblxuXHRcdFx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIHRhYmxlICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVsaWFibGVUckRpbWVuc2lvbnNWYWw7XG5cdFx0fVxuXHR9ICk7XG59ICkoKTtcblxuXG5mdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xuXHR2YXIgd2lkdGgsIG1pbldpZHRoLCBtYXhXaWR0aCwgcmV0LFxuXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA1MStcblx0XHQvLyBSZXRyaWV2aW5nIHN0eWxlIGJlZm9yZSBjb21wdXRlZCBzb21laG93XG5cdFx0Ly8gZml4ZXMgYW4gaXNzdWUgd2l0aCBnZXR0aW5nIHdyb25nIHZhbHVlc1xuXHRcdC8vIG9uIGRldGFjaGVkIGVsZW1lbnRzXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XG5cblx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBuZWVkZWQgZm9yOlxuXHQvLyAgIC5jc3MoJ2ZpbHRlcicpIChJRSA5IG9ubHksICMxMjUzNylcblx0Ly8gICAuY3NzKCctLWN1c3RvbVByb3BlcnR5KSAoIzMxNDQpXG5cdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0cmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07XG5cblx0XHRpZiAoIHJldCA9PT0gXCJcIiAmJiAhaXNBdHRhY2hlZCggZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbEJveFN0eWxlcygpICYmIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiByYm94U3R5bGUudGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXIgY3NzUHJlZml4ZXMgPSBbIFwiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIiBdLFxuXHRlbXB0eVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLnN0eWxlLFxuXHR2ZW5kb3JQcm9wcyA9IHt9O1xuXG4vLyBSZXR1cm4gYSB2ZW5kb3ItcHJlZml4ZWQgcHJvcGVydHkgb3IgdW5kZWZpbmVkXG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHtcblxuXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuLy8gUmV0dXJuIGEgcG90ZW50aWFsbHktbWFwcGVkIGpRdWVyeS5jc3NQcm9wcyBvciB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIGZpbmFsUHJvcE5hbWUoIG5hbWUgKSB7XG5cdHZhciBmaW5hbCA9IGpRdWVyeS5jc3NQcm9wc1sgbmFtZSBdIHx8IHZlbmRvclByb3BzWyBuYW1lIF07XG5cblx0aWYgKCBmaW5hbCApIHtcblx0XHRyZXR1cm4gZmluYWw7XG5cdH1cblx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblx0cmV0dXJuIHZlbmRvclByb3BzWyBuYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHx8IG5hbWU7XG59XG5cblxudmFyXG5cblx0Ly8gU3dhcHBhYmxlIGlmIGRpc3BsYXkgaXMgbm9uZSBvciBzdGFydHMgd2l0aCB0YWJsZVxuXHQvLyBleGNlcHQgXCJ0YWJsZVwiLCBcInRhYmxlLWNlbGxcIiwgb3IgXCJ0YWJsZS1jYXB0aW9uXCJcblx0Ly8gU2VlIGhlcmUgZm9yIGRpc3BsYXkgdmFsdWVzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0NTUy9kaXNwbGF5XG5cdHJkaXNwbGF5c3dhcCA9IC9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxcblx0cmN1c3RvbVByb3AgPSAvXi0tLyxcblx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdmlzaWJpbGl0eTogXCJoaWRkZW5cIiwgZGlzcGxheTogXCJibG9ja1wiIH0sXG5cdGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcblx0XHRsZXR0ZXJTcGFjaW5nOiBcIjBcIixcblx0XHRmb250V2VpZ2h0OiBcIjQwMFwiXG5cdH07XG5cbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBfZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXG5cdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cblx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cblx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAyIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgOlxuXHRcdHZhbHVlO1xufVxuXG5mdW5jdGlvbiBib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgYm94LCBpc0JvcmRlckJveCwgc3R5bGVzLCBjb21wdXRlZFZhbCApIHtcblx0dmFyIGkgPSBkaW1lbnNpb24gPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXHRcdGV4dHJhID0gMCxcblx0XHRkZWx0YSA9IDA7XG5cblx0Ly8gQWRqdXN0bWVudCBtYXkgbm90IGJlIG5lY2Vzc2FyeVxuXHRpZiAoIGJveCA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApICkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luXG5cdFx0aWYgKCBib3ggPT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBib3ggKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGNvbnRlbnQtYm94LCB3ZSdyZSBzZWVraW5nIFwicGFkZGluZ1wiIG9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIlxuXHRcdGlmICggIWlzQm9yZGVyQm94ICkge1xuXG5cdFx0XHQvLyBBZGQgcGFkZGluZ1xuXHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEZvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCIsIGFkZCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gQnV0IHN0aWxsIGtlZXAgdHJhY2sgb2YgaXQgb3RoZXJ3aXNlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRleHRyYSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGJvcmRlci1ib3ggKGNvbnRlbnQgKyBwYWRkaW5nICsgYm9yZGVyKSwgd2UncmUgc2Vla2luZyBcImNvbnRlbnRcIiBvclxuXHRcdC8vIFwicGFkZGluZ1wiIG9yIFwibWFyZ2luXCJcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBGb3IgXCJjb250ZW50XCIsIHN1YnRyYWN0IHBhZGRpbmdcblx0XHRcdGlmICggYm94ID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiBvciBcInBhZGRpbmdcIiwgc3VidHJhY3QgYm9yZGVyXG5cdFx0XHRpZiAoIGJveCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBY2NvdW50IGZvciBwb3NpdGl2ZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyIHdoZW4gcmVxdWVzdGVkIGJ5IHByb3ZpZGluZyBjb21wdXRlZFZhbFxuXHRpZiAoICFpc0JvcmRlckJveCAmJiBjb21wdXRlZFZhbCA+PSAwICkge1xuXG5cdFx0Ly8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIGEgcm91bmRlZCBzdW0gb2YgY29udGVudCwgcGFkZGluZywgc2Nyb2xsIGd1dHRlciwgYW5kIGJvcmRlclxuXHRcdC8vIEFzc3VtaW5nIGludGVnZXIgc2Nyb2xsIGd1dHRlciwgc3VidHJhY3QgdGhlIHJlc3QgYW5kIHJvdW5kIGRvd25cblx0XHRkZWx0YSArPSBNYXRoLm1heCggMCwgTWF0aC5jZWlsKFxuXHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdGNvbXB1dGVkVmFsIC1cblx0XHRcdGRlbHRhIC1cblx0XHRcdGV4dHJhIC1cblx0XHRcdDAuNVxuXG5cdFx0Ly8gSWYgb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIHVua25vd24sIHRoZW4gd2UgY2FuJ3QgZGV0ZXJtaW5lIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXJcblx0XHQvLyBVc2UgYW4gZXhwbGljaXQgemVybyB0byBhdm9pZCBOYU4gKGdoLTM5NjQpXG5cdFx0KSApIHx8IDA7XG5cdH1cblxuXHRyZXR1cm4gZGVsdGE7XG59XG5cbmZ1bmN0aW9uIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKSB7XG5cblx0Ly8gU3RhcnQgd2l0aCBjb21wdXRlZCBzdHlsZVxuXHR2YXIgc3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cblx0XHQvLyBUbyBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LCBvbmx5IGZldGNoIGJveFNpemluZyBpZiB3ZSBuZWVkIGl0IChnaC00MzIyKS5cblx0XHQvLyBGYWtlIGNvbnRlbnQtYm94IHVudGlsIHdlIGtub3cgaXQncyBuZWVkZWQgdG8ga25vdyB0aGUgdHJ1ZSB2YWx1ZS5cblx0XHRib3hTaXppbmdOZWVkZWQgPSAhc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IGV4dHJhLFxuXHRcdGlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveCxcblxuXHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgZGltZW5zaW9uLCBzdHlsZXMgKSxcblx0XHRvZmZzZXRQcm9wID0gXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKTtcblxuXHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcblx0Ly8gUmV0dXJuIGEgY29uZm91bmRpbmcgbm9uLXBpeGVsIHZhbHVlIG9yIGZlaWduIGlnbm9yYW5jZSwgYXMgYXBwcm9wcmlhdGUuXG5cdGlmICggcm51bW5vbnB4LnRlc3QoIHZhbCApICkge1xuXHRcdGlmICggIWV4dHJhICkge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdFx0dmFsID0gXCJhdXRvXCI7XG5cdH1cblxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIFVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIHdoZW4gYm94IHNpemluZyBpcyB1bnJlbGlhYmxlLlxuXHQvLyBJbiB0aG9zZSBjYXNlcywgdGhlIGNvbXB1dGVkIHZhbHVlIGNhbiBiZSB0cnVzdGVkIHRvIGJlIGJvcmRlci1ib3guXG5cdGlmICggKCAhc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpICYmIGlzQm9yZGVyQm94IHx8XG5cblx0XHQvLyBTdXBwb3J0OiBJRSAxMCAtIDExKywgRWRnZSAxNSAtIDE4K1xuXHRcdC8vIElFL0VkZ2UgbWlzcmVwb3J0IGBnZXRDb21wdXRlZFN0eWxlYCBvZiB0YWJsZSByb3dzIHdpdGggd2lkdGgvaGVpZ2h0XG5cdFx0Ly8gc2V0IGluIENTUyB3aGlsZSBgb2Zmc2V0KmAgcHJvcGVydGllcyByZXBvcnQgY29ycmVjdCB2YWx1ZXMuXG5cdFx0Ly8gSW50ZXJlc3RpbmdseSwgaW4gc29tZSBjYXNlcyBJRSA5IGRvZXNuJ3Qgc3VmZmVyIGZyb20gdGhpcyBpc3N1ZS5cblx0XHQhc3VwcG9ydC5yZWxpYWJsZVRyRGltZW5zaW9ucygpICYmIG5vZGVOYW1lKCBlbGVtLCBcInRyXCIgKSB8fFxuXG5cdFx0Ly8gRmFsbCBiYWNrIHRvIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCB3aGVuIHZhbHVlIGlzIFwiYXV0b1wiXG5cdFx0Ly8gVGhpcyBoYXBwZW5zIGZvciBpbmxpbmUgZWxlbWVudHMgd2l0aCBubyBleHBsaWNpdCBzZXR0aW5nIChnaC0zNTcxKVxuXHRcdHZhbCA9PT0gXCJhdXRvXCIgfHxcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgLSA0LjMgb25seVxuXHRcdC8vIEFsc28gdXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3IgbWlzcmVwb3J0ZWQgaW5saW5lIGRpbWVuc2lvbnMgKGdoLTM2MDIpXG5cdFx0IXBhcnNlRmxvYXQoIHZhbCApICYmIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiaW5saW5lXCIgKSAmJlxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHZpc2libGUgJiBjb25uZWN0ZWRcblx0XHRlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXG5cdFx0aXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiO1xuXG5cdFx0Ly8gV2hlcmUgYXZhaWxhYmxlLCBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgYXBwcm94aW1hdGUgYm9yZGVyIGJveCBkaW1lbnNpb25zLlxuXHRcdC8vIFdoZXJlIG5vdCBhdmFpbGFibGUgKGUuZy4sIFNWRyksIGFzc3VtZSB1bnJlbGlhYmxlIGJveC1zaXppbmcgYW5kIGludGVycHJldCB0aGVcblx0XHQvLyByZXRyaWV2ZWQgdmFsdWUgYXMgYSBjb250ZW50IGJveCBkaW1lbnNpb24uXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IG9mZnNldFByb3AgaW4gZWxlbTtcblx0XHRpZiAoIHZhbHVlSXNCb3JkZXJCb3ggKSB7XG5cdFx0XHR2YWwgPSBlbGVtWyBvZmZzZXRQcm9wIF07XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIFwiXCIgYW5kIGF1dG9cblx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcblxuXHQvLyBBZGp1c3QgZm9yIHRoZSBlbGVtZW50J3MgYm94IG1vZGVsXG5cdHJldHVybiAoIHZhbCArXG5cdFx0Ym94TW9kZWxBZGp1c3RtZW50KFxuXHRcdFx0ZWxlbSxcblx0XHRcdGRpbWVuc2lvbixcblx0XHRcdGV4dHJhIHx8ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSxcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0XHRzdHlsZXMsXG5cblx0XHRcdC8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc2l6ZSB0byByZXF1ZXN0IHNjcm9sbCBndXR0ZXIgY2FsY3VsYXRpb24gKGdoLTM1ODkpXG5cdFx0XHR2YWxcblx0XHQpXG5cdCkgKyBcInB4XCI7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBBZGQgaW4gc3R5bGUgcHJvcGVydHkgaG9va3MgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHRcblx0Ly8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XG5cdGNzc0hvb2tzOiB7XG5cdFx0b3BhY2l0eToge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxuXHRcdFx0XHRcdHZhciByZXQgPSBjdXJDU1MoIGVsZW0sIFwib3BhY2l0eVwiICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJldCA9PT0gXCJcIiA/IFwiMVwiIDogcmV0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIERvbid0IGF1dG9tYXRpY2FsbHkgYWRkIFwicHhcIiB0byB0aGVzZSBwb3NzaWJseS11bml0bGVzcyBwcm9wZXJ0aWVzXG5cdGNzc051bWJlcjoge1xuXHRcdFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcIjogdHJ1ZSxcblx0XHRcImNvbHVtbkNvdW50XCI6IHRydWUsXG5cdFx0XCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwiZmxleEdyb3dcIjogdHJ1ZSxcblx0XHRcImZsZXhTaHJpbmtcIjogdHJ1ZSxcblx0XHRcImZvbnRXZWlnaHRcIjogdHJ1ZSxcblx0XHRcImdyaWRBcmVhXCI6IHRydWUsXG5cdFx0XCJncmlkQ29sdW1uXCI6IHRydWUsXG5cdFx0XCJncmlkQ29sdW1uRW5kXCI6IHRydWUsXG5cdFx0XCJncmlkQ29sdW1uU3RhcnRcIjogdHJ1ZSxcblx0XHRcImdyaWRSb3dcIjogdHJ1ZSxcblx0XHRcImdyaWRSb3dFbmRcIjogdHJ1ZSxcblx0XHRcImdyaWRSb3dTdGFydFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHt9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0aXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApLFxuXHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndFxuXHRcdC8vIHdhbnQgdG8gcXVlcnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBHZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uLCB0aGVuIHVucHJlZml4ZWQgdmVyc2lvblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UncmUgc2V0dGluZyBhIHZhbHVlXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdFx0Ly8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KVxuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICYmICggcmV0ID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYgcmV0WyAxIF0gKSB7XG5cdFx0XHRcdHZhbHVlID0gYWRqdXN0Q1NTKCBlbGVtLCBuYW1lLCByZXQgKTtcblxuXHRcdFx0XHQvLyBGaXhlcyBidWcgIzkyMzdcblx0XHRcdFx0dHlwZSA9IFwibnVtYmVyXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG51bGwgYW5kIE5hTiB2YWx1ZXMgYXJlbid0IHNldCAoIzcxMTYpXG5cdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKVxuXHRcdFx0Ly8gVGhlIGlzQ3VzdG9tUHJvcCBjaGVjayBjYW4gYmUgcmVtb3ZlZCBpbiBqUXVlcnkgNC4wIHdoZW4gd2Ugb25seSBhdXRvLWFwcGVuZFxuXHRcdFx0Ly8gXCJweFwiIHRvIGEgZmV3IGhhcmRjb2RlZCB2YWx1ZXMuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgJiYgIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdFx0dmFsdWUgKz0gcmV0ICYmIHJldFsgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYmFja2dyb3VuZC0qIHByb3BzIGFmZmVjdCBvcmlnaW5hbCBjbG9uZSdzIHZhbHVlc1xuXHRcdFx0aWYgKCAhc3VwcG9ydC5jbGVhckNsb25lU3R5bGUgJiYgdmFsdWUgPT09IFwiXCIgJiYgbmFtZS5pbmRleE9mKCBcImJhY2tncm91bmRcIiApID09PSAwICkge1xuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8XG5cdFx0XHRcdCggdmFsdWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRpZiAoIGlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdFx0XHRzdHlsZS5zZXRQcm9wZXJ0eSggbmFtZSwgdmFsdWUgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3Rcblx0XHRcdHJldHVybiBzdHlsZVsgbmFtZSBdO1xuXHRcdH1cblx0fSxcblxuXHRjc3M6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBleHRyYSwgc3R5bGVzICkge1xuXHRcdHZhciB2YWwsIG51bSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0aXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndFxuXHRcdC8vIHdhbnQgdG8gbW9kaWZ5IHRoZSB2YWx1ZSBpZiBpdCBpcyBhIENTUyBjdXN0b20gcHJvcGVydHlcblx0XHQvLyBzaW5jZSB0aGV5IGFyZSB1c2VyLWRlZmluZWQuXG5cdFx0aWYgKCAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0bmFtZSA9IGZpbmFsUHJvcE5hbWUoIG9yaWdOYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwiaGVpZ2h0XCIsIFwid2lkdGhcIiBdLCBmdW5jdGlvbiggX2ksIGRpbWVuc2lvbiApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBkaW1lbnNpb24gXSA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdC8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuXHRcdFx0XHQvLyBidXQgaXQgbXVzdCBoYXZlIGEgY3VycmVudCBkaXNwbGF5IHN0eWxlIHRoYXQgd291bGQgYmVuZWZpdFxuXHRcdFx0XHRyZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKSAmJlxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrXG5cdFx0XHRcdFx0Ly8gVGFibGUgY29sdW1ucyBpbiBTYWZhcmkgaGF2ZSBub24temVybyBvZmZzZXRXaWR0aCAmIHplcm9cblx0XHRcdFx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLlxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdFx0XHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcblx0XHRcdFx0XHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG5cdFx0XHRcdFx0KCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCB8fCAhZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCApID9cblx0XHRcdFx0XHRcdHN3YXAoIGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdFx0dmFyIG1hdGNoZXMsXG5cdFx0XHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXG5cdFx0XHRcdC8vIE9ubHkgcmVhZCBzdHlsZXMucG9zaXRpb24gaWYgdGhlIHRlc3QgaGFzIGEgY2hhbmNlIHRvIGZhaWxcblx0XHRcdFx0Ly8gdG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdy5cblx0XHRcdFx0c2Nyb2xsYm94U2l6ZUJ1Z2d5ID0gIXN1cHBvcnQuc2Nyb2xsYm94U2l6ZSgpICYmXG5cdFx0XHRcdFx0c3R5bGVzLnBvc2l0aW9uID09PSBcImFic29sdXRlXCIsXG5cblx0XHRcdFx0Ly8gVG8gYXZvaWQgZm9yY2luZyBhIHJlZmxvdywgb25seSBmZXRjaCBib3hTaXppbmcgaWYgd2UgbmVlZCBpdCAoZ2gtMzk5MSlcblx0XHRcdFx0Ym94U2l6aW5nTmVlZGVkID0gc2Nyb2xsYm94U2l6ZUJ1Z2d5IHx8IGV4dHJhLFxuXHRcdFx0XHRpc0JvcmRlckJveCA9IGJveFNpemluZ05lZWRlZCAmJlxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0XHRcdHN1YnRyYWN0ID0gZXh0cmEgP1xuXHRcdFx0XHRcdGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0XHRkaW1lbnNpb24sXG5cdFx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRcdGlzQm9yZGVyQm94LFxuXHRcdFx0XHRcdFx0c3R5bGVzXG5cdFx0XHRcdFx0KSA6XG5cdFx0XHRcdFx0MDtcblxuXHRcdFx0Ly8gQWNjb3VudCBmb3IgdW5yZWxpYWJsZSBib3JkZXItYm94IGRpbWVuc2lvbnMgYnkgY29tcGFyaW5nIG9mZnNldCogdG8gY29tcHV0ZWQgYW5kXG5cdFx0XHQvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KVxuXHRcdFx0aWYgKCBpc0JvcmRlckJveCAmJiBzY3JvbGxib3hTaXplQnVnZ3kgKSB7XG5cdFx0XHRcdHN1YnRyYWN0IC09IE1hdGguY2VpbChcblx0XHRcdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0XHRcdHBhcnNlRmxvYXQoIHN0eWxlc1sgZGltZW5zaW9uIF0gKSAtXG5cdFx0XHRcdFx0Ym94TW9kZWxBZGp1c3RtZW50KCBlbGVtLCBkaW1lbnNpb24sIFwiYm9yZGVyXCIsIGZhbHNlLCBzdHlsZXMgKSAtXG5cdFx0XHRcdFx0MC41XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgdG8gcGl4ZWxzIGlmIHZhbHVlIGFkanVzdG1lbnQgaXMgbmVlZGVkXG5cdFx0XHRpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmXG5cdFx0XHRcdCggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApICE9PSBcInB4XCIgKSB7XG5cblx0XHRcdFx0ZWxlbS5zdHlsZVsgZGltZW5zaW9uIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBkaW1lbnNpb24gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXHRcdFx0XHRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdCkgKyBcInB4XCI7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCgge1xuXHRtYXJnaW46IFwiXCIsXG5cdHBhZGRpbmc6IFwiXCIsXG5cdGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGV4cGFuZGVkID0ge30sXG5cblx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoIFwiIFwiICkgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoIHByZWZpeCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHQvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoXG5cdFx0XHRcdFx0alF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gfHxcblx0XHRcdFx0XHR0d2Vlbi5lbGVtLnN0eWxlWyBmaW5hbFByb3BOYW1lKCB0d2Vlbi5wcm9wICkgXSAhPSBudWxsICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCBpblByb2dyZXNzLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbmZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0aWYgKCBkb2N1bWVudC5oaWRkZW4gPT09IGZhbHNlICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzY2hlZHVsZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCApO1xuXHRcdH1cblxuXHRcdGpRdWVyeS5meC50aWNrKCk7XG5cdH1cbn1cblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0fSApO1xuXHRyZXR1cm4gKCBmeE5vdyA9IERhdGUubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0YXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG5cdH1cblxuXHRpZiAoIGluY2x1ZGVXaWR0aCApIHtcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHR9XG5cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0dmFyIHR3ZWVuLFxuXHRcdGNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblxuXHRcdFx0Ly8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHlcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7XG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLFxuXHRcdGFuaW0gPSB0aGlzLFxuXHRcdG9yaWcgPSB7fSxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0aGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rc1xuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7XG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRob29rcy51bnF1ZXVlZCsrO1xuXG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0Zm9yICggcHJvcCBpbiBwcm9wcyApIHtcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBwcm9wIF07XG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuXHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRcdC8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGFcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxuXHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdGlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlc3RyaWN0IFwib3ZlcmZsb3dcIiBhbmQgXCJkaXNwbGF5XCIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9uc1xuXHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0Ly8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1kgYW5kIEVkZ2UganVzdCBtaXJyb3JzXG5cdFx0Ly8gdGhlIG92ZXJmbG93WCB2YWx1ZSB0aGVyZS5cblx0XHRvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTtcblxuXHRcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuXHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcblx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHR9XG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgKSB7XG5cdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2tcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRwcm9wVHdlZW4gPSBmYWxzZTtcblx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXG5cdFx0Ly8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cblx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFwicmV2ZXJzZXNcIlxuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gUGVyLXByb3BlcnR5IHNldHVwXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdHByb3BUd2Vlbi5zdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0gY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLFxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0gKSxcblx0XHR0aWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApO1xuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG1vcmUgdG8gZG8sIHlpZWxkXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBzeW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uXG5cdFx0XHRpZiAoICFsZW5ndGggKSB7XG5cdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb25cblx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lOyBvdGhlcndpc2UsIHJlamVjdFxuXHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0gKSxcblx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblxuXHRwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xuXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcblx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdGlmICggaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCBhbmltYXRpb24uZWxlbSwgYW5pbWF0aW9uLm9wdHMucXVldWUgKS5zdG9wID1cblx0XHRcdFx0XHRyZXN1bHQuc3RvcC5iaW5kKCByZXN1bHQgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTtcblxuXHRpZiAoIGlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdH1cblxuXHQvLyBBdHRhY2ggY2FsbGJhY2tzIGZyb20gb3B0aW9uc1xuXHRhbmltYXRpb25cblx0XHQucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcblx0XHQuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKVxuXHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHQuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcblxuXHRqUXVlcnkuZngudGltZXIoXG5cdFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuXHRcdH0gKVxuXHQpO1xuXG5cdHJldHVybiBhbmltYXRpb247XG59XG5cbmpRdWVyeS5BbmltYXRpb24gPSBqUXVlcnkuZXh0ZW5kKCBBbmltYXRpb24sIHtcblxuXHR0d2VlbmVyczoge1xuXHRcdFwiKlwiOiBbIGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHtcblx0XHRcdHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICk7XG5cdFx0XHRhZGp1c3RDU1MoIHR3ZWVuLmVsZW0sIHByb3AsIHJjc3NOdW0uZXhlYyggdmFsdWUgKSwgdHdlZW4gKTtcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9IF1cblx0fSxcblxuXHR0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXHRcdH1cblxuXHRcdHZhciBwcm9wLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdID0gQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW107XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH1cblx0fSxcblxuXHRwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcblxuXHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuXHRcdFx0aXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFpc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmdcblx0fTtcblxuXHQvLyBHbyB0byB0aGUgZW5kIHN0YXRlIGlmIGZ4IGFyZSBvZmZcblx0aWYgKCBqUXVlcnkuZngub2ZmICkge1xuXHRcdG9wdC5kdXJhdGlvbiA9IDA7XG5cblx0fSBlbHNlIHtcblx0XHRpZiAoIHR5cGVvZiBvcHQuZHVyYXRpb24gIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRpZiAoIG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzICkge1xuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcblx0aWYgKCBvcHQucXVldWUgPT0gbnVsbCB8fCBvcHQucXVldWUgPT09IHRydWUgKSB7XG5cdFx0b3B0LnF1ZXVlID0gXCJmeFwiO1xuXHR9XG5cblx0Ly8gUXVldWVpbmdcblx0b3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTtcblxuXHRvcHQuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIG9wdC5vbGQgKSApIHtcblx0XHRcdG9wdC5vbGQuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0LnF1ZXVlICkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIG9wdC5xdWV1ZSApO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gb3B0O1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cblx0XHQvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuV2l0aGluVHJlZSApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcblxuXHRcdFx0Ly8gQW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHQuZW5kKCkuYW5pbWF0ZSggeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9LFxuXHRhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcblx0XHRcdG9wdGFsbCA9IGpRdWVyeS5zcGVlZCggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSxcblx0XHRcdGRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3Rcblx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXG5cdFx0XHRcdC8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZpbmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseVxuXHRcdFx0XHRpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG5cblx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxuXHRcdFx0dGhpcy5xdWV1ZSggb3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbiApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcblx0XHR2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkge1xuXHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRzdG9wKCBnb3RvRW5kICk7XG5cdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBjbGVhclF1ZXVlICkge1xuXHRcdFx0dGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZGVxdWV1ZSA9IHRydWUsXG5cdFx0XHRcdGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApO1xuXG5cdFx0XHRpZiAoIGluZGV4ICkge1xuXHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuXHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkge1xuXHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiZcblx0XHRcdFx0XHQoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHtcblxuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdFx0XHRkZXF1ZXVlID0gZmFsc2U7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuXHRcdFx0Ly8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxuXHRcdFx0Ly8gd2lsbCBkZXF1ZXVlIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kLlxuXHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblx0ZmluaXNoOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRpZiAoIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApLFxuXHRcdFx0XHRxdWV1ZSA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlXCIgXSxcblx0XHRcdFx0aG9va3MgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgXSxcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0bGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwO1xuXG5cdFx0XHQvLyBFbmFibGUgZmluaXNoaW5nIGZsYWcgb24gcHJpdmF0ZSBkYXRhXG5cdFx0XHRkYXRhLmZpbmlzaCA9IHRydWU7XG5cblx0XHRcdC8vIEVtcHR5IHRoZSBxdWV1ZSBmaXJzdFxuXHRcdFx0alF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApO1xuXG5cdFx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnN0b3AgKSB7XG5cdFx0XHRcdGhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJiB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSB7XG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFuaW1hdGlvbnMgaW4gdGhlIG9sZCBxdWV1ZSBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGlmICggcXVldWVbIGluZGV4IF0gJiYgcXVldWVbIGluZGV4IF0uZmluaXNoICkge1xuXHRcdFx0XHRcdHF1ZXVlWyBpbmRleCBdLmZpbmlzaC5jYWxsKCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcblx0XHRcdGRlbGV0ZSBkYXRhLmZpbmlzaDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJ0b2dnbGVcIiwgXCJzaG93XCIsIFwiaGlkZVwiIF0sIGZ1bmN0aW9uKCBfaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goIHtcblx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeCggXCJ0b2dnbGVcIiApLFxuXHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuXHRmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6IFwidG9nZ2xlXCIgfVxufSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdGkgPSAwLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cblx0ZnhOb3cgPSBEYXRlLm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXG5cdFx0Ly8gUnVuIHRoZSB0aW1lciBhbmQgc2FmZWx5IHJlbW92ZSBpdCB3aGVuIGRvbmUgKGFsbG93aW5nIGZvciBleHRlcm5hbCByZW1vdmFsKVxuXHRcdGlmICggIXRpbWVyKCkgJiYgdGltZXJzWyBpIF0gPT09IHRpbWVyICkge1xuXHRcdFx0dGltZXJzLnNwbGljZSggaS0tLCAxICk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhdGltZXJzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZnguc3RvcCgpO1xuXHR9XG5cdGZ4Tm93ID0gdW5kZWZpbmVkO1xufTtcblxualF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkge1xuXHRqUXVlcnkudGltZXJzLnB1c2goIHRpbWVyICk7XG5cdGpRdWVyeS5meC5zdGFydCgpO1xufTtcblxualF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGluUHJvZ3Jlc3MgPSB0cnVlO1xuXHRzY2hlZHVsZSgpO1xufTtcblxualF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHtcblx0aW5Qcm9ncmVzcyA9IG51bGw7XG59O1xuXG5qUXVlcnkuZnguc3BlZWRzID0ge1xuXHRzbG93OiA2MDAsXG5cdGZhc3Q6IDIwMCxcblxuXHQvLyBEZWZhdWx0IHNwZWVkXG5cdF9kZWZhdWx0OiA0MDBcbn07XG5cblxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuLy8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTAwMzI0MDE0NzQ3L2h0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuXHR0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1sgdGltZSBdIHx8IHRpbWUgOiB0aW1lO1xuXHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHtcblx0XHR2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7XG5cdFx0aG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dCApO1xuXHRcdH07XG5cdH0gKTtcbn07XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICksXG5cdFx0c2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzZWxlY3RcIiApLFxuXHRcdG9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvcHRpb25cIiApICk7XG5cblx0aW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4zIG9ubHlcblx0Ly8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgXCJvblwiXG5cdHN1cHBvcnQuY2hlY2tPbiA9IGlucHV0LnZhbHVlICE9PSBcIlwiO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNdXN0IGFjY2VzcyBzZWxlY3RlZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdFxuXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuXHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRpbnB1dC52YWx1ZSA9IFwidFwiO1xuXHRpbnB1dC50eXBlID0gXCJyYWRpb1wiO1xuXHRzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XG59ICkoKTtcblxuXG52YXIgYm9vbEhvb2ssXG5cdGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnByb3AoIGVsZW0sIG5hbWUsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvblxuXHRcdC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUgKyBcIlwiICk7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG5cdH0sXG5cblx0YXR0ckhvb2tzOiB7XG5cdFx0dHlwZToge1xuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXG5cdFx0XHRcdFx0bm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblxuXHRcdFx0Ly8gQXR0cmlidXRlIG5hbWVzIGNhbiBjb250YWluIG5vbi1IVE1MIHdoaXRlc3BhY2UgY2hhcmFjdGVyc1xuXHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG5cdFx0XHRhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZSxcblx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cblx0XHRpZiAoICFpc1hNTCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxuXHRcdFx0aGFuZGxlID0gYXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xuXHRcdFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xuXHRcdFx0XHRsb3dlcmNhc2VOYW1lIDpcblx0XHRcdFx0bnVsbDtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldDtcblx0fTtcbn0gKTtcblxuXG5cblxudmFyIHJmb2N1c2FibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3Ncblx0XHRcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblxuXHRcdHJldHVybiBlbGVtWyBuYW1lIF07XG5cdH0sXG5cblx0cHJvcEhvb2tzOiB7XG5cdFx0dGFiSW5kZXg6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcblx0XHRcdFx0Ly8gY29ycmVjdCB2YWx1ZSB3aGVuIGl0IGhhc24ndCBiZWVuIGV4cGxpY2l0bHkgc2V0XG5cdFx0XHRcdC8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDE0MTExNjIzMzM0Ny9odHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxuXHRcdFx0XHR2YXIgdGFiaW5kZXggPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInRhYmluZGV4XCIgKTtcblxuXHRcdFx0XHRpZiAoIHRhYmluZGV4ICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXJzZUludCggdGFiaW5kZXgsIDEwICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0cmZvY3VzYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgfHxcblx0XHRcdFx0XHRyY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJlxuXHRcdFx0XHRcdGVsZW0uaHJlZlxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0cHJvcEZpeDoge1xuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuXHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHR9XG59ICk7XG5cbi8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XG4vLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkXG4vLyBvbiB0aGUgb3B0aW9uXG4vLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxuLy8gd2hlbiBpbiBhbiBvcHRncm91cFxuLy8gZXNsaW50IHJ1bGUgXCJuby11bnVzZWQtZXhwcmVzc2lvbnNcIiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjb2RlXG4vLyBzaW5jZSBpdCBjb25zaWRlcnMgc3VjaCBhY2Nlc3Npb25zIG5vb3BcbmlmICggIXN1cHBvcnQub3B0U2VsZWN0ZWQgKSB7XG5cdGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgJiYgcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRwYXJlbnQuc2VsZWN0ZWRJbmRleDtcblxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmpRdWVyeS5lYWNoKCBbXG5cdFwidGFiSW5kZXhcIixcblx0XCJyZWFkT25seVwiLFxuXHRcIm1heExlbmd0aFwiLFxuXHRcImNlbGxTcGFjaW5nXCIsXG5cdFwiY2VsbFBhZGRpbmdcIixcblx0XCJyb3dTcGFuXCIsXG5cdFwiY29sU3BhblwiLFxuXHRcInVzZU1hcFwiLFxuXHRcImZyYW1lQm9yZGVyXCIsXG5cdFwiY29udGVudEVkaXRhYmxlXCJcbl0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkucHJvcEZpeFsgdGhpcy50b0xvd2VyQ2FzZSgpIF0gPSB0aGlzO1xufSApO1xuXG5cblxuXG5cdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlIGFjY29yZGluZyB0byBIVE1MIHNwZWNcblx0Ly8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS1hc2NpaS13aGl0ZXNwYWNlXG5cdGZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UoIHZhbHVlICkge1xuXHRcdHZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHRcdHJldHVybiB0b2tlbnMuam9pbiggXCIgXCIgKTtcblx0fVxuXG5cbmZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xuXHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiApIHx8IFwiXCI7XG59XG5cbmZ1bmN0aW9uIGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApIHtcblx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblx0fVxuXHRyZXR1cm4gW107XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Y2xhc3NlcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBjbGFzc2VzLmxlbmd0aCApIHtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPCAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgKz0gY2xhenogKyBcIiBcIjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hdHRyKCBcImNsYXNzXCIsIFwiXCIgKTtcblx0XHR9XG5cblx0XHRjbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIGNsYXNzZXMubGVuZ3RoICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cblx0XHRcdFx0Ly8gVGhpcyBleHByZXNzaW9uIGlzIGhlcmUgZm9yIGJldHRlciBjb21wcmVzc2liaWxpdHkgKHNlZSBhZGRDbGFzcylcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXCIgXCIgKyBjbGF6eiArIFwiIFwiICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdFx0Y3VyID0gY3VyLnJlcGxhY2UoIFwiIFwiICsgY2xhenogKyBcIiBcIiwgXCIgXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxuXHRcdFx0XHRcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlLFxuXHRcdFx0aXNWYWxpZFZhbHVlID0gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIGlzVmFsaWRWYWx1ZSApIHtcblx0XHRcdHJldHVybiBzdGF0ZVZhbCA/IHRoaXMuYWRkQ2xhc3MoIHZhbHVlICkgOiB0aGlzLnJlbW92ZUNsYXNzKCB2YWx1ZSApO1xuXHRcdH1cblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyhcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxuXHRcdFx0XHRcdHN0YXRlVmFsXG5cdFx0XHRcdCk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xuXG5cdFx0XHRpZiAoIGlzVmFsaWRWYWx1ZSApIHtcblxuXHRcdFx0XHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xuXHRcdFx0XHRpID0gMDtcblx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApO1xuXHRcdFx0XHRjbGFzc05hbWVzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRcdFx0d2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3Rcblx0XHRcdFx0XHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xuXHRcdFx0XHRcdFx0c2VsZi5yZW1vdmVDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxuXHRcdFx0fSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdFx0Y2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTtcblx0XHRcdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHQvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3JlIHBhc3NlZCBgZmFsc2VgLFxuXHRcdFx0XHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxuXHRcdFx0XHQvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBzdG9yZWQuXG5cdFx0XHRcdGlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIixcblx0XHRcdFx0XHRcdGNsYXNzTmFtZSB8fCB2YWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0XHRcdFx0XCJcIiA6XG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRjbGFzc05hbWUgPSBcIiBcIiArIHNlbGVjdG9yICsgXCIgXCI7XG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdCggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBnZXRDbGFzcyggZWxlbSApICkgKyBcIiBcIiApLmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59ICk7XG5cblxuXG5cbnZhciBycmV0dXJuID0gL1xcci9nO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHZhbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBob29rcywgcmV0LCB2YWx1ZUlzRnVuY3Rpb24sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8XG5cdFx0XHRcdFx0alF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0XHRpZiAoIGhvb2tzICYmXG5cdFx0XHRcdFx0XCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldCA9IGVsZW0udmFsdWU7XG5cblx0XHRcdFx0Ly8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlc1xuXHRcdFx0XHRpZiAoIHR5cGVvZiByZXQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcblx0XHRcdFx0cmV0dXJuIHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdHZhciB2YWw7XG5cblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSAhPT0gMSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHtcblx0XHRcdFx0dmFsID0gdmFsdWUuY2FsbCggdGhpcywgaSwgalF1ZXJ5KCB0aGlzICkudmFsKCkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyBcIlwiOyBjb252ZXJ0IG51bWJlcnMgdG8gc3RyaW5nXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHR2YWwgPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWwgKz0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcblxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHR2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ2YWx1ZVwiICk7XG5cdFx0XHRcdHJldHVybiB2YWwgIT0gbnVsbCA/XG5cdFx0XHRcdFx0dmFsIDpcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSBvbmx5XG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxuXHRcdFx0XHRcdC8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlXG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRzdHJpcEFuZENvbGxhcHNlKCBqUXVlcnkudGV4dCggZWxlbSApICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZWxlY3Q6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciB2YWx1ZSwgb3B0aW9uLCBpLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG5cdFx0XHRcdFx0b25lID0gZWxlbS50eXBlID09PSBcInNlbGVjdC1vbmVcIixcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XG5cdFx0XHRcdFx0aSA9IG1heDtcblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGkgPSBvbmUgPyBpbmRleCA6IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXG5cdFx0XHRcdGZvciAoIDsgaSA8IG1heDsgaSsrICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0XHRcdFx0XHQhb3B0aW9uLmRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRcdCggIW9wdGlvbi5wYXJlbnROb2RlLmRpc2FibGVkIHx8XG5cdFx0XHRcdFx0XHRcdFx0IW5vZGVOYW1lKCBvcHRpb24ucGFyZW50Tm9kZSwgXCJvcHRncm91cFwiICkgKSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gR2V0IHRoZSBzcGVjaWZpYyB2YWx1ZSBmb3IgdGhlIG9wdGlvblxuXHRcdFx0XHRcdFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xuXG5cdFx0XHRcdFx0XHQvLyBXZSBkb24ndCBuZWVkIGFuIGFycmF5IGZvciBvbmUgc2VsZWN0c1xuXHRcdFx0XHRcdFx0aWYgKCBvbmUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcblx0XHRcdFx0XHRcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG5cdFx0XHRcdFx0dmFsdWVzID0galF1ZXJ5Lm1ha2VBcnJheSggdmFsdWUgKSxcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XG5cblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tY29uZC1hc3NpZ24gKi9cblxuXHRcdFx0XHRcdGlmICggb3B0aW9uLnNlbGVjdGVkID1cblx0XHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9uICksIHZhbHVlcyApID4gLTFcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdG9wdGlvblNldCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0aWYgKCAhb3B0aW9uU2V0ICkge1xuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIFJhZGlvcyBhbmQgY2hlY2tib3hlcyBnZXR0ZXIvc2V0dGVyXG5qUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0gPSB7XG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG5zdXBwb3J0LmZvY3VzaW4gPSBcIm9uZm9jdXNpblwiIGluIHdpbmRvdztcblxuXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sXG5cdHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24oIGUgKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0fTtcblxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG5cblx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLCBsYXN0RWxlbWVudCxcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxuXHRcdFx0dHlwZSA9IGhhc093bi5jYWxsKCBldmVudCwgXCJ0eXBlXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcblx0XHRcdG5hbWVzcGFjZXMgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwibmFtZXNwYWNlXCIgKSA/IGV2ZW50Lm5hbWVzcGFjZS5zcGxpdCggXCIuXCIgKSA6IFtdO1xuXG5cdFx0Y3VyID0gbGFzdEVsZW1lbnQgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcblxuXHRcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gZm9jdXMvYmx1ciBtb3JwaHMgdG8gZm9jdXNpbi9vdXQ7IGVuc3VyZSB3ZSdyZSBub3QgZmlyaW5nIHRoZW0gcmlnaHQgbm93XG5cdFx0aWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBlICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XG5cblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xuXHRcdFx0dHlwZSA9IG5hbWVzcGFjZXMuc2hpZnQoKTtcblx0XHRcdG5hbWVzcGFjZXMuc29ydCgpO1xuXHRcdH1cblx0XHRvbnR5cGUgPSB0eXBlLmluZGV4T2YoIFwiOlwiICkgPCAwICYmIFwib25cIiArIHR5cGU7XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcblx0XHRldmVudCA9IGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdGV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xuXG5cdFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xuXHRcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXCIuXCIgKTtcblx0XHRldmVudC5ybmFtZXNwYWNlID0gZXZlbnQubmFtZXNwYWNlID9cblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcblx0XHRcdFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0dG1wID0gY3VyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBoYW5kbGVycyBvbiB0aGUgZXZlbnQgcGF0aFxuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjdXIgPSBldmVudFBhdGhbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRsYXN0RWxlbWVudCA9IGN1cjtcblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XG5cdFx0XHRcdGJ1YmJsZVR5cGUgOlxuXHRcdFx0XHRzcGVjaWFsLmJpbmRUeXBlIHx8IHR5cGU7XG5cblx0XHRcdC8vIGpRdWVyeSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSAoXG5cdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCBPYmplY3QuY3JlYXRlKCBudWxsIClcblx0XHRcdFx0KVsgZXZlbnQudHlwZSBdICYmXG5cdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGFjY2VwdERhdGEoIGN1ciApICkge1xuXHRcdFx0XHRldmVudC5yZXN1bHQgPSBoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRldmVudC50eXBlID0gdHlwZTtcblxuXHRcdC8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBkbyBpdCBub3dcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xuXG5cdFx0XHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcblx0XHRcdFx0c3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiZcblx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xuXG5cdFx0XHRcdC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQuXG5cdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcblx0XHRcdFx0aWYgKCBvbnR5cGUgJiYgaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb24ndCByZS10cmlnZ2VyIGFuIG9uRk9PIGV2ZW50IHdoZW4gd2UgY2FsbCBpdHMgRk9PKCkgbWV0aG9kXG5cdFx0XHRcdFx0dG1wID0gZWxlbVsgb250eXBlIF07XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxlZCBpdCBhYm92ZVxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRcdFx0bGFzdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtWyB0eXBlIF0oKTtcblxuXHRcdFx0XHRcdGlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdFx0XHRcdGxhc3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSB0bXA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHQvLyBQaWdneWJhY2sgb24gYSBkb25vciBldmVudCB0byBzaW11bGF0ZSBhIGRpZmZlcmVudCBvbmVcblx0Ly8gVXNlZCBvbmx5IGZvciBgZm9jdXMoaW4gfCBvdXQpYCBldmVudHNcblx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcblx0XHR2YXIgZSA9IGpRdWVyeS5leHRlbmQoXG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCksXG5cdFx0XHRldmVudCxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWVcblx0XHRcdH1cblx0XHQpO1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcblx0fVxuXG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCB0aGlzICk7XG5cdFx0fSApO1xuXHR9LFxuXHR0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF07XG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cblxuLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0XG4vLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4N1xuLy9cbi8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxuLy8gZm9jdXMoaW4gfCBvdXQpIGV2ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsXG4vLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXJcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XG5pZiAoICFzdXBwb3J0LmZvY3VzaW4gKSB7XG5cdGpRdWVyeS5lYWNoKCB7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cblx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xuXHRcdH07XG5cblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XG5cdFx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gSGFuZGxlOiByZWd1bGFyIG5vZGVzICh2aWEgYHRoaXMub3duZXJEb2N1bWVudGApLCB3aW5kb3dcblx0XHRcdFx0Ly8gKHZpYSBgdGhpcy5kb2N1bWVudGApICYgZG9jdW1lbnQgKHZpYSBgdGhpc2ApLlxuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcblxuXHRcdFx0XHRpZiAoICFhdHRhY2hlcyApIHtcblx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuXHRcdFx0fSxcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLmRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICkgLSAxO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcbn1cbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblxudmFyIG5vbmNlID0geyBndWlkOiBEYXRlLm5vdygpIH07XG5cbnZhciBycXVlcnkgPSAoIC9cXD8vICk7XG5cblxuXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXG5qUXVlcnkucGFyc2VYTUwgPSBmdW5jdGlvbiggZGF0YSApIHtcblx0dmFyIHhtbDtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxuXHR0cnkge1xuXHRcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXCJ0ZXh0L3htbFwiICk7XG5cdH0gY2F0Y2ggKCBlICkge1xuXHRcdHhtbCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwicGFyc2VyZXJyb3JcIiApLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZXJyb3IoIFwiSW52YWxpZCBYTUw6IFwiICsgZGF0YSApO1xuXHR9XG5cdHJldHVybiB4bWw7XG59O1xuXG5cbnZhclxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcblx0ckNSTEYgPSAvXFxyP1xcbi9nLFxuXHRyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcblxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xuXHR2YXIgbmFtZTtcblxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXG5cdFx0alF1ZXJ5LmVhY2goIG9iaiwgZnVuY3Rpb24oIGksIHYgKSB7XG5cdFx0XHRpZiAoIHRyYWRpdGlvbmFsIHx8IHJicmFja2V0LnRlc3QoIHByZWZpeCApICkge1xuXG5cdFx0XHRcdC8vIFRyZWF0IGVhY2ggYXJyYXkgaXRlbSBhcyBhIHNjYWxhci5cblx0XHRcdFx0YWRkKCBwcmVmaXgsIHYgKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0YnVpbGRQYXJhbXMoXG5cdFx0XHRcdFx0cHJlZml4ICsgXCJbXCIgKyAoIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT0gbnVsbCA/IGkgOiBcIlwiICkgKyBcIl1cIixcblx0XHRcdFx0XHR2LFxuXHRcdFx0XHRcdHRyYWRpdGlvbmFsLFxuXHRcdFx0XHRcdGFkZFxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgdG9UeXBlKCBvYmogKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS5cblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdH1cbn1cblxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcbi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHR2YXIgcHJlZml4LFxuXHRcdHMgPSBbXSxcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7XG5cblx0XHRcdC8vIElmIHZhbHVlIGlzIGEgZnVuY3Rpb24sIGludm9rZSBpdCBhbmQgdXNlIGl0cyByZXR1cm4gdmFsdWVcblx0XHRcdHZhciB2YWx1ZSA9IGlzRnVuY3Rpb24oIHZhbHVlT3JGdW5jdGlvbiApID9cblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uKCkgOlxuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb247XG5cblx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgK1xuXHRcdFx0XHRlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKTtcblx0XHR9O1xuXG5cdGlmICggYSA9PSBudWxsICkge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggX2ksIGVsZW0gKSB7XG5cdFx0XHR2YXIgdmFsID0galF1ZXJ5KCB0aGlzICkudmFsKCk7XG5cblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHR9ICkuZ2V0KCk7XG5cdH1cbn0gKTtcblxuXG52YXJcblx0cjIwID0gLyUyMC9nLFxuXHRyaGFzaCA9IC8jLiokLyxcblx0cmFudGlDYWNoZSA9IC8oWz8mXSlfPVteJl0qLyxcblx0cmhlYWRlcnMgPSAvXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL21nLFxuXG5cdC8vICM3NjUzLCAjODEyNSwgIzgxNTI6IGxvY2FsIHByb3RvY29sIGRldGVjdGlvblxuXHRybG9jYWxQcm90b2NvbCA9IC9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLFxuXHRybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLyxcblx0cnByb3RvY29sID0gL15cXC9cXC8vLFxuXG5cdC8qIFByZWZpbHRlcnNcblx0ICogMSkgVGhleSBhcmUgdXNlZnVsIHRvIGludHJvZHVjZSBjdXN0b20gZGF0YVR5cGVzIChzZWUgYWpheC9qc29ucC5qcyBmb3IgYW4gZXhhbXBsZSlcblx0ICogMikgVGhlc2UgYXJlIGNhbGxlZDpcblx0ICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxuXHQgKiAgICAtIEFGVEVSIHBhcmFtIHNlcmlhbGl6YXRpb24gKHMuZGF0YSBpcyBhIHN0cmluZyBpZiBzLnByb2Nlc3NEYXRhIGlzIHRydWUpXG5cdCAqIDMpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiA1KSBleGVjdXRpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBjb250aW51ZSBkb3duIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0cHJlZmlsdGVycyA9IHt9LFxuXG5cdC8qIFRyYW5zcG9ydHMgYmluZGluZ3Ncblx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiAyKSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDMpIHNlbGVjdGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGdvIHRvIFwiKlwiIGlmIG5lZWRlZFxuXHQgKi9cblx0dHJhbnNwb3J0cyA9IHt9LFxuXG5cdC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKCMxMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxuXHRhbGxUeXBlcyA9IFwiKi9cIi5jb25jYXQoIFwiKlwiICksXG5cblx0Ly8gQW5jaG9yIHRhZyBmb3IgcGFyc2luZyB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdG9yaWdpbkFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cdG9yaWdpbkFuY2hvci5ocmVmID0gbG9jYXRpb24uaHJlZjtcblxuLy8gQmFzZSBcImNvbnN0cnVjdG9yXCIgZm9yIGpRdWVyeS5hamF4UHJlZmlsdGVyIGFuZCBqUXVlcnkuYWpheFRyYW5zcG9ydFxuZnVuY3Rpb24gYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUgKSB7XG5cblx0Ly8gZGF0YVR5cGVFeHByZXNzaW9uIGlzIG9wdGlvbmFsIGFuZCBkZWZhdWx0cyB0byBcIipcIlxuXHRyZXR1cm4gZnVuY3Rpb24oIGRhdGFUeXBlRXhwcmVzc2lvbiwgZnVuYyApIHtcblxuXHRcdGlmICggdHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247XG5cdFx0XHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcblx0XHR9XG5cblx0XHR2YXIgZGF0YVR5cGUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGRhdGFUeXBlcyA9IGRhdGFUeXBlRXhwcmVzc2lvbi50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcblxuXHRcdFx0Ly8gRm9yIGVhY2ggZGF0YVR5cGUgaW4gdGhlIGRhdGFUeXBlRXhwcmVzc2lvblxuXHRcdFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXG5cdFx0XHRcdGlmICggZGF0YVR5cGVbIDAgXSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkudW5zaGlmdCggZnVuYyApO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBhcHBlbmRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gQmFzZSBpbnNwZWN0aW9uIGZ1bmN0aW9uIGZvciBwcmVmaWx0ZXJzIGFuZCB0cmFuc3BvcnRzXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xuXG5cdHZhciBpbnNwZWN0ZWQgPSB7fSxcblx0XHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcblxuXHRmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcblx0XHR2YXIgc2VsZWN0ZWQ7XG5cdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcblx0XHRqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xuXHRcdFx0dmFyIGRhdGFUeXBlT3JUcmFuc3BvcnQgPSBwcmVmaWx0ZXJPckZhY3RvcnkoIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKTtcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXNlZWtpbmdUcmFuc3BvcnQgJiYgIWluc3BlY3RlZFsgZGF0YVR5cGVPclRyYW5zcG9ydCBdICkge1xuXG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHRcdHJldHVybiBzZWxlY3RlZDtcblx0fVxuXG5cdHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXCIqXCIgXSAmJiBpbnNwZWN0KCBcIipcIiApO1xufVxuXG4vLyBBIHNwZWNpYWwgZXh0ZW5kIGZvciBhamF4IG9wdGlvbnNcbi8vIHRoYXQgdGFrZXMgXCJmbGF0XCIgb3B0aW9ucyAobm90IHRvIGJlIGRlZXAgZXh0ZW5kZWQpXG4vLyBGaXhlcyAjOTg4N1xuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XG5cdHZhciBrZXksIGRlZXAsXG5cdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xuXG5cdGZvciAoIGtleSBpbiBzcmMgKSB7XG5cdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHQoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cblx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcztcblxuXHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuXHR3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSBcIipcIiApIHtcblx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayBpZiB3ZSdyZSBkZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGVcblx0aWYgKCBjdCApIHtcblx0XHRmb3IgKCB0eXBlIGluIGNvbnRlbnRzICkge1xuXHRcdFx0aWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRzWyB0eXBlIF0udGVzdCggY3QgKSApIHtcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXG5cdGlmICggZGF0YVR5cGVzWyAwIF0gaW4gcmVzcG9uc2VzICkge1xuXHRcdGZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTtcblx0fSBlbHNlIHtcblxuXHRcdC8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXNcblx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcblx0XHRcdGlmICggIWRhdGFUeXBlc1sgMCBdIHx8IHMuY29udmVydGVyc1sgdHlwZSArIFwiIFwiICsgZGF0YVR5cGVzWyAwIF0gXSApIHtcblx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gT3IganVzdCB1c2UgZmlyc3Qgb25lXG5cdFx0ZmluYWxEYXRhVHlwZSA9IGZpbmFsRGF0YVR5cGUgfHwgZmlyc3REYXRhVHlwZTtcblx0fVxuXG5cdC8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGVcblx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcblx0Ly8gYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuXHRpZiAoIGZpbmFsRGF0YVR5cGUgKSB7XG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcblx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCBmaW5hbERhdGFUeXBlICk7XG5cdFx0fVxuXHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcblx0fVxufVxuXG4vKiBDaGFpbiBjb252ZXJzaW9ucyBnaXZlbiB0aGUgcmVxdWVzdCBhbmQgdGhlIG9yaWdpbmFsIHJlc3BvbnNlXG4gKiBBbHNvIHNldHMgdGhlIHJlc3BvbnNlWFhYIGZpZWxkcyBvbiB0aGUganFYSFIgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICkge1xuXHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcblx0XHRjb252ZXJ0ZXJzID0ge30sXG5cblx0XHQvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBpbiBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcblxuXHQvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBsb3dlcmNhc2VkIGtleXNcblx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcblx0XHRmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHtcblx0XHRcdGNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0gcy5jb252ZXJ0ZXJzWyBjb252IF07XG5cdFx0fVxuXHR9XG5cblx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXG5cdHdoaWxlICggY3VycmVudCApIHtcblxuXHRcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xuXHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcblx0XHRpZiAoICFwcmV2ICYmIGlzU3VjY2VzcyAmJiBzLmRhdGFGaWx0ZXIgKSB7XG5cdFx0XHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcblx0XHR9XG5cblx0XHRwcmV2ID0gY3VycmVudDtcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0XHRpZiAoIGN1cnJlbnQgKSB7XG5cblx0XHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDb25kZW5zZSBlcXVpdmFsZW5jZSBjb252ZXJ0ZXJzXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjb252ID09PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGN1cnJlbnQgPSB0bXBbIDAgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0bXBbIDEgXSApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFwcGx5IGNvbnZlcnRlciAoaWYgbm90IGFuIGVxdWl2YWxlbmNlKVxuXHRcdFx0XHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XG5cblx0XHRcdFx0XHQvLyBVbmxlc3MgZXJyb3JzIGFyZSBhbGxvd2VkIHRvIGJ1YmJsZSwgY2F0Y2ggYW5kIHJldHVybiB0aGVtXG5cdFx0XHRcdFx0aWYgKCBjb252ICYmIHMudGhyb3dzICkge1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxuXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBjb252ID8gZSA6IFwiTm8gY29udmVyc2lvbiBmcm9tIFwiICsgcHJldiArIFwiIHRvIFwiICsgY3VycmVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHN0YXRlOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzcG9uc2UgfTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxuXHRcdGdsb2JhbDogdHJ1ZSxcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcblx0XHRhc3luYzogdHJ1ZSxcblx0XHRjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixcblxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAvXFxieG1sXFxiLyxcblx0XHRcdGh0bWw6IC9cXGJodG1sLyxcblx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBKU09OLnBhcnNlLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhciB0cmFuc3BvcnQsXG5cblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cblx0XHRcdGNhY2hlVVJMLFxuXG5cdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcsXG5cdFx0XHRyZXNwb25zZUhlYWRlcnMsXG5cblx0XHRcdC8vIHRpbWVvdXQgaGFuZGxlXG5cdFx0XHR0aW1lb3V0VGltZXIsXG5cblx0XHRcdC8vIFVybCBjbGVhbnVwIHZhclxuXHRcdFx0dXJsQW5jaG9yLFxuXG5cdFx0XHQvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pXG5cdFx0XHRjb21wbGV0ZWQsXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxuXHRcdFx0ZmlyZUdsb2JhbHMsXG5cblx0XHRcdC8vIExvb3AgdmFyaWFibGVcblx0XHRcdGksXG5cblx0XHRcdC8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybFxuXHRcdFx0dW5jYWNoZWQsXG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3Rcblx0XHRcdHMgPSBqUXVlcnkuYWpheFNldHVwKCB7fSwgb3B0aW9ucyApLFxuXG5cdFx0XHQvLyBDYWxsYmFja3MgY29udGV4dFxuXHRcdFx0Y2FsbGJhY2tDb250ZXh0ID0gcy5jb250ZXh0IHx8IHMsXG5cblx0XHRcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cblx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJlxuXHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudCxcblxuXHRcdFx0Ly8gRGVmZXJyZWRzXG5cdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0c3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSxcblxuXHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXG5cdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXG5cblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0c3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG5cblx0XHRcdC8vIEZha2UgeGhyXG5cdFx0XHRqcVhIUiA9IHtcblx0XHRcdFx0cmVhZHlTdGF0ZTogMCxcblxuXHRcdFx0XHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXG5cdFx0XHRcdGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaDtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKCBtYXRjaCA9IHJoZWFkZXJzLmV4ZWMoIHJlc3BvbnNlSGVhZGVyc1N0cmluZyApICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgKyBcIiBcIiBdID1cblx0XHRcdFx0XHRcdFx0XHRcdCggcmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgKyBcIiBcIiBdIHx8IFtdIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmNvbmNhdCggbWF0Y2hbIDIgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgKyBcIiBcIiBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2ggPT0gbnVsbCA/IG51bGwgOiBtYXRjaC5qb2luKCBcIiwgXCIgKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBSYXcgc3RyaW5nXG5cdFx0XHRcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcblx0XHRcdFx0c2V0UmVxdWVzdEhlYWRlcjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPVxuXHRcdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fCBuYW1lO1xuXHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBPdmVycmlkZXMgcmVzcG9uc2UgY29udGVudC10eXBlIGhlYWRlclxuXHRcdFx0XHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0cy5taW1lVHlwZSA9IHR5cGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRcdHN0YXR1c0NvZGU6IGZ1bmN0aW9uKCBtYXAgKSB7XG5cdFx0XHRcdFx0dmFyIGNvZGU7XG5cdFx0XHRcdFx0aWYgKCBtYXAgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3Ncblx0XHRcdFx0XHRcdFx0anFYSFIuYWx3YXlzKCBtYXBbIGpxWEhSLnN0YXR1cyBdICk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG5cdFx0XHRcdFx0XHRcdGZvciAoIGNvZGUgaW4gbWFwICkge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhbmNlbCB0aGUgcmVxdWVzdFxuXHRcdFx0XHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XG5cdFx0XHRcdFx0aWYgKCB0cmFuc3BvcnQgKSB7XG5cdFx0XHRcdFx0XHR0cmFuc3BvcnQuYWJvcnQoIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkb25lKCAwLCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcblx0XHRkZWZlcnJlZC5wcm9taXNlKCBqcVhIUiApO1xuXG5cdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXG5cdFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcblx0XHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApXG5cdFx0XHQucmVwbGFjZSggcnByb3RvY29sLCBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiApO1xuXG5cdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XG5cdFx0cy50eXBlID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTtcblxuXHRcdC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3Rcblx0XHRzLmRhdGFUeXBlcyA9ICggcy5kYXRhVHlwZSB8fCBcIipcIiApLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxNVxuXHRcdFx0Ly8gSUUgdGhyb3dzIGV4Y2VwdGlvbiBvbiBhY2Nlc3NpbmcgdGhlIGhyZWYgcHJvcGVydHkgaWYgdXJsIGlzIG1hbGZvcm1lZCxcblx0XHRcdC8vIGUuZy4gaHR0cDovL2V4YW1wbGUuY29tOjgweC9cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gcy51cmw7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEgb25seVxuXHRcdFx0XHQvLyBBbmNob3IncyBob3N0IHByb3BlcnR5IGlzbid0IGNvcnJlY3RseSBzZXQgd2hlbiBzLnVybCBpcyByZWxhdGl2ZVxuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmO1xuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gb3JpZ2luQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XG5cdFx0XHRcdFx0dXJsQW5jaG9yLnByb3RvY29sICsgXCIvL1wiICsgdXJsQW5jaG9yLmhvc3Q7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbiBlcnJvciBwYXJzaW5nIHRoZSBVUkwsIGFzc3VtZSBpdCBpcyBjcm9zc0RvbWFpbixcblx0XHRcdFx0Ly8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZFxuXHRcdFx0XHRzLmNyb3NzRG9tYWluID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IGRhdGEgaWYgbm90IGFscmVhZHkgYSBzdHJpbmdcblx0XHRpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmIHR5cGVvZiBzLmRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRzLmRhdGEgPSBqUXVlcnkucGFyYW0oIHMuZGF0YSwgcy50cmFkaXRpb25hbCApO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHByZWZpbHRlcnNcblx0XHRpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXG5cdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0fVxuXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cblx0XHQvLyBEb24ndCBmaXJlIGV2ZW50cyBpZiBqUXVlcnkuZXZlbnQgaXMgdW5kZWZpbmVkIGluIGFuIEFNRC11c2FnZSBzY2VuYXJpbyAoIzE1MTE4KVxuXHRcdGZpcmVHbG9iYWxzID0galF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsO1xuXG5cdFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xuXHRcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcblx0XHR9XG5cblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcblx0XHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcblxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XG5cdFx0cy5oYXNDb250ZW50ID0gIXJub0NvbnRlbnQudGVzdCggcy50eXBlICk7XG5cblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2Vcblx0XHQvLyBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIgbGF0ZXIgb25cblx0XHQvLyBSZW1vdmUgaGFzaCB0byBzaW1wbGlmeSB1cmwgbWFuaXB1bGF0aW9uXG5cdFx0Y2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xuXG5cdFx0Ly8gTW9yZSBvcHRpb25zIGhhbmRsaW5nIGZvciByZXF1ZXN0cyB3aXRoIG5vIGNvbnRlbnRcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xuXHRcdFx0dW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVuZ3RoICk7XG5cblx0XHRcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlIGFuZCBzaG91bGQgYmUgcHJvY2Vzc2VkLCBhcHBlbmQgZGF0YSB0byB1cmxcblx0XHRcdGlmICggcy5kYXRhICYmICggcy5wcm9jZXNzRGF0YSB8fCB0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICkgKSB7XG5cdFx0XHRcdGNhY2hlVVJMICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGE7XG5cblx0XHRcdFx0Ly8gIzk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxuXHRcdFx0XHRkZWxldGUgcy5kYXRhO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgb3IgdXBkYXRlIGFudGktY2FjaGUgcGFyYW0gaWYgbmVlZGVkXG5cdFx0XHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xuXHRcdFx0XHRjYWNoZVVSTCA9IGNhY2hlVVJMLnJlcGxhY2UoIHJhbnRpQ2FjaGUsIFwiJDFcIiApO1xuXHRcdFx0XHR1bmNhY2hlZCA9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBcIl89XCIgKyAoIG5vbmNlLmd1aWQrKyApICtcblx0XHRcdFx0XHR1bmNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXG5cdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xuXHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xuXHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG5cdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG5cdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcblx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlIGEgbm9vcCBjb252ZXJ0ZXIgZm9yIG1pc3Npbmcgc2NyaXB0XG5cdFx0XHRpZiAoICFpc1N1Y2Nlc3MgJiYgalF1ZXJ5LmluQXJyYXkoIFwic2NyaXB0XCIsIHMuZGF0YVR5cGVzICkgPiAtMSApIHtcblx0XHRcdFx0cy5jb252ZXJ0ZXJzWyBcInRleHQgc2NyaXB0XCIgXSA9IGZ1bmN0aW9uKCkge307XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIF9pLCBtZXRob2QgKSB7XG5cdGpRdWVyeVsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjaywgdHlwZSApIHtcblxuXHRcdC8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHVybCBjYW4gYmUgYW4gb3B0aW9ucyBvYmplY3QgKHdoaWNoIHRoZW4gbXVzdCBoYXZlIC51cmwpXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KCBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHR1cmw6IHVybCxcblx0XHRcdHR5cGU6IG1ldGhvZCxcblx0XHRcdGRhdGFUeXBlOiB0eXBlLFxuXHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdHN1Y2Nlc3M6IGNhbGxiYWNrXG5cdFx0fSwgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0dmFyIGk7XG5cdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdGlmICggaS50b0xvd2VyQ2FzZSgpID09PSBcImNvbnRlbnQtdHlwZVwiICkge1xuXHRcdFx0cy5jb250ZW50VHlwZSA9IHMuaGVhZGVyc1sgaSBdIHx8IFwiXCI7XG5cdFx0fVxuXHR9XG59ICk7XG5cblxualF1ZXJ5Ll9ldmFsVXJsID0gZnVuY3Rpb24oIHVybCwgb3B0aW9ucywgZG9jICkge1xuXHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHR1cmw6IHVybCxcblxuXHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0Y2FjaGU6IHRydWUsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cblx0XHQvLyBPbmx5IGV2YWx1YXRlIHRoZSByZXNwb25zZSBpZiBpdCBpcyBzdWNjZXNzZnVsIChnaC00MTI2KVxuXHRcdC8vIGRhdGFGaWx0ZXIgaXMgbm90IGludm9rZWQgZm9yIGZhaWx1cmUgcmVzcG9uc2VzLCBzbyB1c2luZyBpdCBpbnN0ZWFkXG5cdFx0Ly8gb2YgdGhlIGRlZmF1bHQgY29udmVydGVyIGlzIGtsdWRneSBidXQgaXQgd29ya3MuXG5cdFx0Y29udmVydGVyczoge1xuXHRcdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbigpIHt9XG5cdFx0fSxcblx0XHRkYXRhRmlsdGVyOiBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggcmVzcG9uc2UsIG9wdGlvbnMsIGRvYyApO1xuXHRcdH1cblx0fSApO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciB3cmFwO1xuXG5cdFx0aWYgKCB0aGlzWyAwIF0gKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXG5cdFx0XHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0d3JhcC5pbnNlcnRCZWZvcmUoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBJbm5lciggaHRtbC5jYWxsKCB0aGlzLCBpICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0galF1ZXJ5KCB0aGlzICksXG5cdFx0XHRcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xuXG5cdFx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCApIHtcblx0XHRcdFx0Y29udGVudHMud3JhcEFsbCggaHRtbCApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWxmLmFwcGVuZCggaHRtbCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgaHRtbElzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCBodG1sICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLndyYXBBbGwoIGh0bWxJc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XG5cdFx0fSApO1xuXHR9LFxuXG5cdHVud3JhcDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHRoaXMucGFyZW50KCBzZWxlY3RvciApLm5vdCggXCJib2R5XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHR9ICk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmhpZGRlbiA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xufTtcbmpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4gISEoIGVsZW0ub2Zmc2V0V2lkdGggfHwgZWxlbS5vZmZzZXRIZWlnaHQgfHwgZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApO1xufTtcblxuXG5cblxualF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIgPSBmdW5jdGlvbigpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xuXHR9IGNhdGNoICggZSApIHt9XG59O1xuXG52YXIgeGhyU3VjY2Vzc1N0YXR1cyA9IHtcblxuXHRcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXG5cdFx0MDogMjAwLFxuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuc3VwcG9ydC5jb3JzID0gISF4aHJTdXBwb3J0ZWQgJiYgKCBcIndpdGhDcmVkZW50aWFsc1wiIGluIHhoclN1cHBvcnRlZCApO1xuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XG5cbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBmdW5jdGlvbiggb3B0aW9ucyApIHtcblx0dmFyIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrO1xuXG5cdC8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2ggWE1MSHR0cFJlcXVlc3Rcblx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggaGVhZGVycywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHZhciBpLFxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XG5cblx0XHRcdFx0eGhyLm9wZW4oXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxuXHRcdFx0XHRcdG9wdGlvbnMudXJsLFxuXHRcdFx0XHRcdG9wdGlvbnMuYXN5bmMsXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcblx0XHRcdFx0XHRvcHRpb25zLnBhc3N3b3JkXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Ly8gQXBwbHkgY3VzdG9tIGZpZWxkcyBpZiBwcm92aWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0XHR4aHJbIGkgXSA9IG9wdGlvbnMueGhyRmllbGRzWyBpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGUgbWltZSB0eXBlIGlmIG5lZWRlZFxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XG5cdFx0XHRcdFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFgtUmVxdWVzdGVkLVdpdGggaGVhZGVyXG5cdFx0XHRcdC8vIEZvciBjcm9zcy1kb21haW4gcmVxdWVzdHMsIHNlZWluZyBhcyBjb25kaXRpb25zIGZvciBhIHByZWZsaWdodCBhcmVcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cblx0XHRcdFx0Ly8gKGl0IGNhbiBhbHdheXMgYmUgc2V0IG9uIGEgcGVyLXJlcXVlc3QgYmFzaXMgb3IgZXZlbiB1c2luZyBhamF4U2V0dXApXG5cdFx0XHRcdC8vIEZvciBzYW1lLWRvbWFpbiByZXF1ZXN0cywgd29uJ3QgY2hhbmdlIGhlYWRlciBpZiBhbHJlYWR5IHByb3ZpZGVkLlxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xuXHRcdFx0XHRcdGhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IGVycm9yQ2FsbGJhY2sgPSB4aHIub25sb2FkID1cblx0XHRcdFx0XHRcdFx0XHR4aHIub25lcnJvciA9IHhoci5vbmFib3J0ID0geGhyLm9udGltZW91dCA9XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdFx0XHRcdFx0XHR4aHIuYWJvcnQoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gXCJlcnJvclwiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBPbiBhIG1hbnVhbCBuYXRpdmUgYWJvcnQsIElFOSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0XHQvLyBlcnJvcnMgb24gYW55IHByb3BlcnR5IGFjY2VzcyB0aGF0IGlzIG5vdCByZWFkeVN0YXRlXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCAwLCBcImVycm9yXCIgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlICM4NjA1LCAjMTQyMDdcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpXG5cdFx0XHRcdFx0XHRcdFx0XHQoIHhoci5yZXNwb25zZVR5cGUgfHwgXCJ0ZXh0XCIgKSAhPT0gXCJ0ZXh0XCIgIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgYmluYXJ5OiB4aHIucmVzcG9uc2UgfSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgdGV4dDogeGhyLnJlc3BvbnNlVGV4dCB9LFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Ly8gTGlzdGVuIHRvIGV2ZW50c1xuXHRcdFx0XHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcblx0XHRcdFx0ZXJyb3JDYWxsYmFjayA9IHhoci5vbmVycm9yID0geGhyLm9udGltZW91dCA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcblx0XHRcdFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xuXHRcdFx0XHRpZiAoIHhoci5vbmFib3J0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXG5cdFx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09PSA0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFsbG93IG9uZXJyb3IgdG8gYmUgY2FsbGVkIGZpcnN0LFxuXHRcdFx0XHRcdFx0XHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcblx0XHRcdFx0XHRcdFx0Ly8gYXMgeGhyLm9uZXJyb3IgY2Fubm90IGJlIGFjY2Vzc2VkXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3JDYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xuXG5cdFx0XHRcdHRyeSB7XG5cblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdC8vICMxNDY4MzogT25seSByZXRocm93IGlmIHRoaXMgaGFzbid0IGJlZW4gbm90aWZpZWQgYXMgYW4gZXJyb3IgeWV0XG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XG5cdH1cbn0gKTtcblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0YWNjZXB0czoge1xuXHRcdHNjcmlwdDogXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFwiICtcblx0XHRcdFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC9cXGIoPzpqYXZhfGVjbWEpc2NyaXB0XFxiL1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRzLmNhY2hlID0gZmFsc2U7XG5cdH1cblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHMudHlwZSA9IFwiR0VUXCI7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBzY3JpcHQgdGFnIGhhY2sgdHJhbnNwb3J0XG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cblx0Ly8gVGhpcyB0cmFuc3BvcnQgb25seSBkZWFscyB3aXRoIGNyb3NzIGRvbWFpbiBvciBmb3JjZWQtYnktYXR0cnMgcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluIHx8IHMuc2NyaXB0QXR0cnMgKSB7XG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBfLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKVxuXHRcdFx0XHRcdC5hdHRyKCBzLnNjcmlwdEF0dHJzIHx8IHt9IClcblx0XHRcdFx0XHQucHJvcCggeyBjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsIHNyYzogcy51cmwgfSApXG5cdFx0XHRcdFx0Lm9uKCBcImxvYWQgZXJyb3JcIiwgY2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBudWxsO1xuXHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCBldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTtcblx0XHRcdH0sXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlLmd1aWQrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBpc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xuXHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdH0gKTtcblxuXHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA4IG9ubHlcbi8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcbi8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxuLy8gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIHNlY3VyaXR5IG1lYXN1cmUgaGFzIHRvIGJlIGRpc2FibGVkIGluIFNhZmFyaSA4LlxuLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkge1xuXHR2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApLmJvZHk7XG5cdGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuXHRyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjtcbn0gKSgpO1xuXG5cbi8vIEFyZ3VtZW50IFwiZGF0YVwiIHNob3VsZCBiZSBzdHJpbmcgb2YgaHRtbFxuLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdGlmICggdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGtlZXBTY3JpcHRzID0gY29udGV4dDtcblx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdH1cblxuXHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuXG5cdGlmICggIWNvbnRleHQgKSB7XG5cblx0XHQvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvblxuXHRcdGlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICk7XG5cblx0XHRcdC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuXHRcdFx0Ly8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcblx0XHRcdC8vIGFyZSBiYXNlZCBvbiB0aGUgZG9jdW1lbnQncyBVUkwgKGdoLTI5NjUpXG5cdFx0XHRiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImJhc2VcIiApO1xuXHRcdFx0YmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcblx0XHRcdGNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZCggYmFzZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0fVxuXHR9XG5cblx0cGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICk7XG5cdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cblx0Ly8gU2luZ2xlIHRhZ1xuXHRpZiAoIHBhcnNlZCApIHtcblx0XHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cblx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8qKlxuICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuICovXG5qUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcywgY2FsbGJhY2sgKSB7XG5cdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoIFwiIFwiICk7XG5cblx0aWYgKCBvZmYgPiAtMSApIHtcblx0XHRzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UoIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0Ly8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG5cdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRkYXRhOiBwYXJhbXNcblx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuXHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0fSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSApLmxlbmd0aDtcbn07XG5cblxuXG5cbmpRdWVyeS5vZmZzZXQgPSB7XG5cdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcblx0XHRcdHBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICksXG5cdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRwcm9wcyA9IHt9O1xuXG5cdFx0Ly8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH1cblxuXHRcdGN1ck9mZnNldCA9IGN1ckVsZW0ub2Zmc2V0KCk7XG5cdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xuXHRcdGNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSAmJlxuXHRcdFx0KCBjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0ICkuaW5kZXhPZiggXCJhdXRvXCIgKSA+IC0xO1xuXG5cdFx0Ly8gTmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXJcblx0XHQvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcblx0XHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xuXHRcdFx0Y3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7XG5cdFx0XHRjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG5cdFx0XHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJUb3AgPSBwYXJzZUZsb2F0KCBjdXJDU1NUb3AgKSB8fCAwO1xuXHRcdFx0Y3VyTGVmdCA9IHBhcnNlRmxvYXQoIGN1ckNTU0xlZnQgKSB8fCAwO1xuXHRcdH1cblxuXHRcdGlmICggaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggdHlwZW9mIHByb3BzLnRvcCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0cHJvcHMudG9wICs9IFwicHhcIjtcblx0XHRcdH1cblx0XHRcdGlmICggdHlwZW9mIHByb3BzLmxlZnQgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHByb3BzLmxlZnQgKz0gXCJweFwiO1xuXHRcdFx0fVxuXHRcdFx0Y3VyRWxlbS5jc3MoIHByb3BzICk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0Ly8gb2Zmc2V0KCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgYm9yZGVyIGJveCB0byB0aGUgZG9jdW1lbnQgb3JpZ2luXG5cdG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIG9wdGlvbnMgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHRoaXMgOlxuXHRcdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHR2YXIgcmVjdCwgd2luLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiAoZGlzcGxheTogbm9uZSkgZWxlbWVudHMgKGdoLTIzMTApXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxuXHRcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxuXHRcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgZG9jdW1lbnQtcmVsYXRpdmUgcG9zaXRpb24gYnkgYWRkaW5nIHZpZXdwb3J0IHNjcm9sbCB0byB2aWV3cG9ydC1yZWxhdGl2ZSBnQkNSXG5cdFx0cmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0d2luID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0LFxuXHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0XG5cdFx0fTtcblx0fSxcblxuXHQvLyBwb3NpdGlvbigpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIG1hcmdpbiBib3ggdG8gaXRzIG9mZnNldCBwYXJlbnQncyBwYWRkaW5nIGJveFxuXHQvLyBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSBiZWhhdmlvciBvZiBDU1MgYWJzb2x1dGUgcG9zaXRpb25pbmdcblx0cG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggIXRoaXNbIDAgXSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsIGRvYyxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXG5cdFx0Ly8gcG9zaXRpb246Zml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHRoZSB2aWV3cG9ydCwgd2hpY2ggaXRzZWxmIGFsd2F5cyBoYXMgemVybyBvZmZzZXRcblx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XG5cblx0XHRcdC8vIEFzc3VtZSBwb3NpdGlvbjpmaXhlZCBpbXBsaWVzIGF2YWlsYWJpbGl0eSBvZiBnZXRCb3VuZGluZ0NsaWVudFJlY3Rcblx0XHRcdG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0b2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcblxuXHRcdFx0Ly8gQWNjb3VudCBmb3IgdGhlICpyZWFsKiBvZmZzZXQgcGFyZW50LCB3aGljaCBjYW4gYmUgdGhlIGRvY3VtZW50IG9yIGl0cyByb290IGVsZW1lbnRcblx0XHRcdC8vIHdoZW4gYSBzdGF0aWNhbGx5IHBvc2l0aW9uZWQgZWxlbWVudCBpcyBpZGVudGlmaWVkXG5cdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0XHRvZmZzZXRQYXJlbnQgPSBlbGVtLm9mZnNldFBhcmVudCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiZcblx0XHRcdFx0KCBvZmZzZXRQYXJlbnQgPT09IGRvYy5ib2R5IHx8IG9mZnNldFBhcmVudCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudCApICYmXG5cdFx0XHRcdGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09IGVsZW0gJiYgb2Zmc2V0UGFyZW50Lm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIEluY29ycG9yYXRlIGJvcmRlcnMgaW50byBpdHMgb2Zmc2V0LCBzaW5jZSB0aGV5IGFyZSBvdXRzaWRlIGl0cyBjb250ZW50IG9yaWdpblxuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBqUXVlcnkoIG9mZnNldFBhcmVudCApLm9mZnNldCgpO1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQudG9wICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJib3JkZXJUb3BXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHRcdHBhcmVudE9mZnNldC5sZWZ0ICs9IGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJib3JkZXJMZWZ0V2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luVG9wXCIsIHRydWUgKSxcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXG5cdFx0fTtcblx0fSxcblxuXHQvLyBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcblx0Ly8gMSkgRm9yIHRoZSBlbGVtZW50IGluc2lkZSB0aGUgaWZyYW1lIHdpdGhvdXQgb2Zmc2V0UGFyZW50LCB0aGlzIG1ldGhvZCB3aWxsIHJldHVyblxuXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcblx0Ly8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVudFxuXHQvLyAzKSBGb3IgYm9keSBvciBodG1sIGVsZW1lbnQsIGkuZS4gaW4gY2FzZSBvZiB0aGUgaHRtbCBub2RlIC0gaXQgd2lsbCByZXR1cm4gaXRzZWxmXG5cdC8vXG5cdC8vIGJ1dCB0aG9zZSBleGNlcHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlc1xuXHQvLyBhbmQgbWlnaHQgYmUgY29uc2lkZXJlZCBhcyBtb3JlIHByZWZlcmFibGUgcmVzdWx0cy5cblx0Ly9cblx0Ly8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFuZ2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmVcblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50O1xuXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50RWxlbWVudDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBzY3JvbGxMZWZ0OiBcInBhZ2VYT2Zmc2V0XCIsIHNjcm9sbFRvcDogXCJwYWdlWU9mZnNldFwiIH0sIGZ1bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7XG5cdHZhciB0b3AgPSBcInBhZ2VZT2Zmc2V0XCIgPT09IHByb3A7XG5cblx0alF1ZXJ5LmZuWyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkge1xuXG5cdFx0XHQvLyBDb2FsZXNjZSBkb2N1bWVudHMgYW5kIHdpbmRvd3Ncblx0XHRcdHZhciB3aW47XG5cdFx0XHRpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW07XG5cdFx0XHR9IGVsc2UgaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR3aW4gPSBlbGVtLmRlZmF1bHRWaWV3O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB3aW4gKSB7XG5cdFx0XHRcdHdpbi5zY3JvbGxUbyhcblx0XHRcdFx0XHQhdG9wID8gdmFsIDogd2luLnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxuXHRcdFx0XHQpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtWyBtZXRob2QgXSA9IHZhbDtcblx0XHRcdH1cblx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9O1xufSApO1xuXG4vLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUgPD0zNyAtIDQ5XG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4vLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0N1xuLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcbi8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXG5qUXVlcnkuZWFjaCggWyBcInRvcFwiLCBcImxlZnRcIiBdLCBmdW5jdGlvbiggX2ksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblxuXHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cblx0XHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5wb3NpdGlvbigpWyBwcm9wIF0gKyBcInB4XCIgOlxuXHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0KTtcbn0gKTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LFxuXHRcdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXG5cdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxuXHRcdFx0XHRcdHJldHVybiBmdW5jTmFtZS5pbmRleE9mKCBcIm91dGVyXCIgKSA9PT0gMCA/XG5cdFx0XHRcdFx0XHRlbGVtWyBcImlubmVyXCIgKyBuYW1lIF0gOlxuXHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcblx0XHRcdFx0XHQvLyB3aGljaGV2ZXIgaXMgZ3JlYXRlc3Rcblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblxuXHRcdFx0XHRcdC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDpcblxuXHRcdFx0XHRcdC8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSApO1xuXHRcdFx0fSwgdHlwZSwgY2hhaW5hYmxlID8gbWFyZ2luIDogdW5kZWZpbmVkLCBjaGFpbmFibGUgKTtcblx0XHR9O1xuXHR9ICk7XG59ICk7XG5cblxualF1ZXJ5LmVhY2goIFtcblx0XCJhamF4U3RhcnRcIixcblx0XCJhamF4U3RvcFwiLFxuXHRcImFqYXhDb21wbGV0ZVwiLFxuXHRcImFqYXhFcnJvclwiLFxuXHRcImFqYXhTdWNjZXNzXCIsXG5cdFwiYWpheFNlbmRcIlxuXSwgZnVuY3Rpb24oIF9pLCB0eXBlICkge1xuXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0fTtcbn0gKTtcblxuXG5cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdGJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBudWxsLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub2ZmKCB0eXBlcywgbnVsbCwgZm4gKTtcblx0fSxcblxuXHRkZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5kZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZm4gKSB7XG5cblx0XHQvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgP1xuXHRcdFx0dGhpcy5vZmYoIHNlbGVjdG9yLCBcIioqXCIgKSA6XG5cdFx0XHR0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcblx0fSxcblxuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goICggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG5cdFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cblx0XHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xuXHRcdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHRcdHRoaXMudHJpZ2dlciggbmFtZSApO1xuXHRcdH07XG5cdH0gKTtcblxuXG5cblxuLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG4vLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1BcbnZhciBydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZztcblxuLy8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG4vLyBhcmd1bWVudHMuXG4vLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpXG4vLyBIb3dldmVyLCBpdCBpcyBub3Qgc2xhdGVkIGZvciByZW1vdmFsIGFueSB0aW1lIHNvb25cbmpRdWVyeS5wcm94eSA9IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdGNvbnRleHQgPSBmbjtcblx0XHRmbiA9IHRtcDtcblx0fVxuXG5cdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdGlmICggIWlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIFNpbXVsYXRlZCBiaW5kXG5cdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0fTtcblxuXHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0cmV0dXJuIHByb3h5O1xufTtcblxualF1ZXJ5LmhvbGRSZWFkeSA9IGZ1bmN0aW9uKCBob2xkICkge1xuXHRpZiAoIGhvbGQgKSB7XG5cdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHR9XG59O1xualF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5qUXVlcnkubm9kZU5hbWUgPSBub2RlTmFtZTtcbmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmpRdWVyeS5pc1dpbmRvdyA9IGlzV2luZG93O1xualF1ZXJ5LmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbmpRdWVyeS50eXBlID0gdG9UeXBlO1xuXG5qUXVlcnkubm93ID0gRGF0ZS5ub3c7XG5cbmpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiggb2JqICkge1xuXG5cdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG5cdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xufTtcblxualF1ZXJ5LnRyaW0gPSBmdW5jdGlvbiggdGV4dCApIHtcblx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XCJcIiA6XG5cdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG59O1xuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXHRkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9ICk7XG59XG5cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggdHlwZW9mIG5vR2xvYmFsID09PSBcInVuZGVmaW5lZFwiICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxuXG5cbnJldHVybiBqUXVlcnk7XG59ICk7XG4iLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLktvdGxpblBsYXlncm91bmQ9ZSgpOnQuS290bGluUGxheWdyb3VuZD1lKCl9KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT17fTtmdW5jdGlvbiBuKHIpe2lmKGVbcl0pcmV0dXJuIGVbcl0uZXhwb3J0czt2YXIgaT1lW3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBuLm09dCxuLmM9ZSxuLmQ9ZnVuY3Rpb24odCxlLHIpe24ubyh0LGUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24odCxlKXtpZigxJmUmJih0PW4odCkpLDgmZSlyZXR1cm4gdDtpZig0JmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Ll9fZXNNb2R1bGUpcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6dH0pLDImZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpbi5kKHIsaSxmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKHQpe3ZhciBlPXQmJnQuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiB0LmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybiBuLmQoZSxcImFcIixlKSxlfSxuLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LG4ucD1cIlwiLG4obi5zPTE2Mil9KFtmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudCxlPW5hdmlnYXRvci5wbGF0Zm9ybSxuPS9nZWNrb1xcL1xcZC9pLnRlc3QodCkscj0vTVNJRSBcXGQvLnRlc3QodCksaT0vVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWModCksbz0vRWRnZVxcLyhcXGQrKS8uZXhlYyh0KSxhPXJ8fGl8fG8scz1hJiYocj9kb2N1bWVudC5kb2N1bWVudE1vZGV8fDY6KyhvfHxpKVsxXSksbD0hbyYmL1dlYktpdFxcLy8udGVzdCh0KSxjPWwmJi9RdFxcL1xcZCtcXC5cXGQrLy50ZXN0KHQpLHU9IW8mJi9DaHJvbWVcXC8vLnRlc3QodCksZj0vT3BlcmFcXC8vLnRlc3QodCksZD0vQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksaD0vTWFjIE9TIFggMVxcZFxcRChbOC05XXxcXGRcXGQpXFxELy50ZXN0KHQpLHA9L1BoYW50b21KUy8udGVzdCh0KSxtPSFvJiYvQXBwbGVXZWJLaXQvLnRlc3QodCkmJi9Nb2JpbGVcXC9cXHcrLy50ZXN0KHQpLGc9L0FuZHJvaWQvLnRlc3QodCksdj1tfHxnfHwvd2ViT1N8QmxhY2tCZXJyeXxPcGVyYSBNaW5pfE9wZXJhIE1vYml8SUVNb2JpbGUvaS50ZXN0KHQpLHk9bXx8L01hYy8udGVzdChlKSxiPS9cXGJDck9TXFxiLy50ZXN0KHQpLHg9L3dpbi9pLnRlc3QoZSksdz1mJiZ0Lm1hdGNoKC9WZXJzaW9uXFwvKFxcZCpcXC5cXGQqKS8pO3cmJih3PU51bWJlcih3WzFdKSksdyYmdz49MTUmJihmPSExLGw9ITApO3ZhciBDPXkmJihjfHxmJiYobnVsbD09d3x8dzwxMi4xMSkpLGs9bnx8YSYmcz49OTtmdW5jdGlvbiBfKHQpe3JldHVybiBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrdCtcIig/OiR8XFxcXHMpXFxcXHMqXCIpfXZhciBTLEU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmNsYXNzTmFtZSxyPV8oZSkuZXhlYyhuKTtpZihyKXt2YXIgaT1uLnNsaWNlKHIuaW5kZXgrclswXS5sZW5ndGgpO3QuY2xhc3NOYW1lPW4uc2xpY2UoMCxyLmluZGV4KSsoaT9yWzFdK2k6XCJcIil9fTtmdW5jdGlvbiBUKHQpe2Zvcih2YXIgZT10LmNoaWxkTm9kZXMubGVuZ3RoO2U+MDstLWUpdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3JldHVybiB0fWZ1bmN0aW9uIE8odCxlKXtyZXR1cm4gVCh0KS5hcHBlbmRDaGlsZChlKX1mdW5jdGlvbiBNKHQsZSxuLHIpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCk7aWYobiYmKGkuY2xhc3NOYW1lPW4pLHImJihpLnN0eWxlLmNzc1RleHQ9ciksXCJzdHJpbmdcIj09dHlwZW9mIGUpaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSk7ZWxzZSBpZihlKWZvcih2YXIgbz0wO288ZS5sZW5ndGg7KytvKWkuYXBwZW5kQ2hpbGQoZVtvXSk7cmV0dXJuIGl9ZnVuY3Rpb24gTCh0LGUsbixyKXt2YXIgaT1NKHQsZSxuLHIpO3JldHVybiBpLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByZXNlbnRhdGlvblwiKSxpfWZ1bmN0aW9uIEEodCxlKXtpZigzPT1lLm5vZGVUeXBlJiYoZT1lLnBhcmVudE5vZGUpLHQuY29udGFpbnMpcmV0dXJuIHQuY29udGFpbnMoZSk7ZG97aWYoMTE9PWUubm9kZVR5cGUmJihlPWUuaG9zdCksZT09dClyZXR1cm4hMH13aGlsZShlPWUucGFyZW50Tm9kZSl9ZnVuY3Rpb24gTigpe3ZhciB0O3RyeXt0PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7dD1kb2N1bWVudC5ib2R5fHxudWxsfWZvcig7dCYmdC5zaGFkb3dSb290JiZ0LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDspdD10LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDtyZXR1cm4gdH1mdW5jdGlvbiBQKHQsZSl7dmFyIG49dC5jbGFzc05hbWU7XyhlKS50ZXN0KG4pfHwodC5jbGFzc05hbWUrPShuP1wiIFwiOlwiXCIpK2UpfWZ1bmN0aW9uIEYodCxlKXtmb3IodmFyIG49dC5zcGxpdChcIiBcIikscj0wO3I8bi5sZW5ndGg7cisrKW5bcl0mJiFfKG5bcl0pLnRlc3QoZSkmJihlKz1cIiBcIituW3JdKTtyZXR1cm4gZX1TPWRvY3VtZW50LmNyZWF0ZVJhbmdlP2Z1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIGkuc2V0RW5kKHJ8fHQsbiksaS5zZXRTdGFydCh0LGUpLGl9OmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1kb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtyLm1vdmVUb0VsZW1lbnRUZXh0KHQucGFyZW50Tm9kZSl9Y2F0Y2godCl7cmV0dXJuIHJ9cmV0dXJuIHIuY29sbGFwc2UoITApLHIubW92ZUVuZChcImNoYXJhY3RlclwiLG4pLHIubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsZSkscn07dmFyIEk9ZnVuY3Rpb24odCl7dC5zZWxlY3QoKX07ZnVuY3Rpb24gaih0KXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkobnVsbCxlKX19ZnVuY3Rpb24gRCh0LGUsbil7Zm9yKHZhciByIGluIGV8fChlPXt9KSx0KSF0Lmhhc093blByb3BlcnR5KHIpfHwhMT09PW4mJmUuaGFzT3duUHJvcGVydHkocil8fChlW3JdPXRbcl0pO3JldHVybiBlfWZ1bmN0aW9uIHoodCxlLG4scixpKXtudWxsPT1lJiYtMT09KGU9dC5zZWFyY2goL1teXFxzXFx1MDBhMF0vKSkmJihlPXQubGVuZ3RoKTtmb3IodmFyIG89cnx8MCxhPWl8fDA7Oyl7dmFyIHM9dC5pbmRleE9mKFwiXFx0XCIsbyk7aWYoczwwfHxzPj1lKXJldHVybiBhKyhlLW8pO2ErPXMtbyxhKz1uLWElbixvPXMrMX19bT9JPWZ1bmN0aW9uKHQpe3Quc2VsZWN0aW9uU3RhcnQ9MCx0LnNlbGVjdGlvbkVuZD10LnZhbHVlLmxlbmd0aH06YSYmKEk9ZnVuY3Rpb24odCl7dHJ5e3Quc2VsZWN0KCl9Y2F0Y2godCl7fX0pO3ZhciBSPWZ1bmN0aW9uKCl7dGhpcy5pZD1udWxsfTtmdW5jdGlvbiBCKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24paWYodFtuXT09ZSlyZXR1cm4gbjtyZXR1cm4tMX1SLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodGhpcy5pZCksdGhpcy5pZD1zZXRUaW1lb3V0KGUsdCl9O3ZhciBIPTMwLFc9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJDb2RlTWlycm9yLlBhc3NcIn19LFU9e3Njcm9sbDohMX0sVj17b3JpZ2luOlwiKm1vdXNlXCJ9LEc9e29yaWdpbjpcIittb3ZlXCJ9O2Z1bmN0aW9uIEsodCxlLG4pe2Zvcih2YXIgcj0wLGk9MDs7KXt2YXIgbz10LmluZGV4T2YoXCJcXHRcIixyKTstMT09byYmKG89dC5sZW5ndGgpO3ZhciBhPW8tcjtpZihvPT10Lmxlbmd0aHx8aSthPj1lKXJldHVybiByK01hdGgubWluKGEsZS1pKTtpZihpKz1vLXIscj1vKzEsKGkrPW4taSVuKT49ZSlyZXR1cm4gcn19dmFyICQ9W1wiXCJdO2Z1bmN0aW9uIHEodCl7Zm9yKDskLmxlbmd0aDw9dDspJC5wdXNoKFkoJCkrXCIgXCIpO3JldHVybiAkW3RdfWZ1bmN0aW9uIFkodCl7cmV0dXJuIHRbdC5sZW5ndGgtMV19ZnVuY3Rpb24gSih0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjx0Lmxlbmd0aDtyKyspbltyXT1lKHRbcl0scik7cmV0dXJuIG59ZnVuY3Rpb24gWCgpe31mdW5jdGlvbiBaKHQsZSl7dmFyIG47cmV0dXJuIE9iamVjdC5jcmVhdGU/bj1PYmplY3QuY3JlYXRlKHQpOihYLnByb3RvdHlwZT10LG49bmV3IFgpLGUmJkQoZSxuKSxufXZhciBRPS9bXFx1MDBkZlxcdTA1ODdcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhYzAwLVxcdWQ3YWZdLztmdW5jdGlvbiB0dCh0KXtyZXR1cm4vXFx3Ly50ZXN0KHQpfHx0PlwiwoBcIiYmKHQudG9VcHBlckNhc2UoKSE9dC50b0xvd2VyQ2FzZSgpfHxRLnRlc3QodCkpfWZ1bmN0aW9uIGV0KHQsZSl7cmV0dXJuIGU/ISEoZS5zb3VyY2UuaW5kZXhPZihcIlxcXFx3XCIpPi0xJiZ0dCh0KSl8fGUudGVzdCh0KTp0dCh0KX1mdW5jdGlvbiBudCh0KXtmb3IodmFyIGUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGUpJiZ0W2VdKXJldHVybiExO3JldHVybiEwfXZhciBydD0vW1xcdTAzMDAtXFx1MDM2ZlxcdTA0ODMtXFx1MDQ4OVxcdTA1OTEtXFx1MDViZFxcdTA1YmZcXHUwNWMxXFx1MDVjMlxcdTA1YzRcXHUwNWM1XFx1MDVjN1xcdTA2MTAtXFx1MDYxYVxcdTA2NGItXFx1MDY1ZVxcdTA2NzBcXHUwNmQ2LVxcdTA2ZGNcXHUwNmRlLVxcdTA2ZTRcXHUwNmU3XFx1MDZlOFxcdTA2ZWEtXFx1MDZlZFxcdTA3MTFcXHUwNzMwLVxcdTA3NGFcXHUwN2E2LVxcdTA3YjBcXHUwN2ViLVxcdTA3ZjNcXHUwODE2LVxcdTA4MTlcXHUwODFiLVxcdTA4MjNcXHUwODI1LVxcdTA4MjdcXHUwODI5LVxcdTA4MmRcXHUwOTAwLVxcdTA5MDJcXHUwOTNjXFx1MDk0MS1cXHUwOTQ4XFx1MDk0ZFxcdTA5NTEtXFx1MDk1NVxcdTA5NjJcXHUwOTYzXFx1MDk4MVxcdTA5YmNcXHUwOWJlXFx1MDljMS1cXHUwOWM0XFx1MDljZFxcdTA5ZDdcXHUwOWUyXFx1MDllM1xcdTBhMDFcXHUwYTAyXFx1MGEzY1xcdTBhNDFcXHUwYTQyXFx1MGE0N1xcdTBhNDhcXHUwYTRiLVxcdTBhNGRcXHUwYTUxXFx1MGE3MFxcdTBhNzFcXHUwYTc1XFx1MGE4MVxcdTBhODJcXHUwYWJjXFx1MGFjMS1cXHUwYWM1XFx1MGFjN1xcdTBhYzhcXHUwYWNkXFx1MGFlMlxcdTBhZTNcXHUwYjAxXFx1MGIzY1xcdTBiM2VcXHUwYjNmXFx1MGI0MS1cXHUwYjQ0XFx1MGI0ZFxcdTBiNTZcXHUwYjU3XFx1MGI2MlxcdTBiNjNcXHUwYjgyXFx1MGJiZVxcdTBiYzBcXHUwYmNkXFx1MGJkN1xcdTBjM2UtXFx1MGM0MFxcdTBjNDYtXFx1MGM0OFxcdTBjNGEtXFx1MGM0ZFxcdTBjNTVcXHUwYzU2XFx1MGM2MlxcdTBjNjNcXHUwY2JjXFx1MGNiZlxcdTBjYzJcXHUwY2M2XFx1MGNjY1xcdTBjY2RcXHUwY2Q1XFx1MGNkNlxcdTBjZTJcXHUwY2UzXFx1MGQzZVxcdTBkNDEtXFx1MGQ0NFxcdTBkNGRcXHUwZDU3XFx1MGQ2MlxcdTBkNjNcXHUwZGNhXFx1MGRjZlxcdTBkZDItXFx1MGRkNFxcdTBkZDZcXHUwZGRmXFx1MGUzMVxcdTBlMzQtXFx1MGUzYVxcdTBlNDctXFx1MGU0ZVxcdTBlYjFcXHUwZWI0LVxcdTBlYjlcXHUwZWJiXFx1MGViY1xcdTBlYzgtXFx1MGVjZFxcdTBmMThcXHUwZjE5XFx1MGYzNVxcdTBmMzdcXHUwZjM5XFx1MGY3MS1cXHUwZjdlXFx1MGY4MC1cXHUwZjg0XFx1MGY4NlxcdTBmODdcXHUwZjkwLVxcdTBmOTdcXHUwZjk5LVxcdTBmYmNcXHUwZmM2XFx1MTAyZC1cXHUxMDMwXFx1MTAzMi1cXHUxMDM3XFx1MTAzOVxcdTEwM2FcXHUxMDNkXFx1MTAzZVxcdTEwNThcXHUxMDU5XFx1MTA1ZS1cXHUxMDYwXFx1MTA3MS1cXHUxMDc0XFx1MTA4MlxcdTEwODVcXHUxMDg2XFx1MTA4ZFxcdTEwOWRcXHUxMzVmXFx1MTcxMi1cXHUxNzE0XFx1MTczMi1cXHUxNzM0XFx1MTc1MlxcdTE3NTNcXHUxNzcyXFx1MTc3M1xcdTE3YjctXFx1MTdiZFxcdTE3YzZcXHUxN2M5LVxcdTE3ZDNcXHUxN2RkXFx1MTgwYi1cXHUxODBkXFx1MThhOVxcdTE5MjAtXFx1MTkyMlxcdTE5MjdcXHUxOTI4XFx1MTkzMlxcdTE5MzktXFx1MTkzYlxcdTFhMTdcXHUxYTE4XFx1MWE1NlxcdTFhNTgtXFx1MWE1ZVxcdTFhNjBcXHUxYTYyXFx1MWE2NS1cXHUxYTZjXFx1MWE3My1cXHUxYTdjXFx1MWE3ZlxcdTFiMDAtXFx1MWIwM1xcdTFiMzRcXHUxYjM2LVxcdTFiM2FcXHUxYjNjXFx1MWI0MlxcdTFiNmItXFx1MWI3M1xcdTFiODBcXHUxYjgxXFx1MWJhMi1cXHUxYmE1XFx1MWJhOFxcdTFiYTlcXHUxYzJjLVxcdTFjMzNcXHUxYzM2XFx1MWMzN1xcdTFjZDAtXFx1MWNkMlxcdTFjZDQtXFx1MWNlMFxcdTFjZTItXFx1MWNlOFxcdTFjZWRcXHUxZGMwLVxcdTFkZTZcXHUxZGZkLVxcdTFkZmZcXHUyMDBjXFx1MjAwZFxcdTIwZDAtXFx1MjBmMFxcdTJjZWYtXFx1MmNmMVxcdTJkZTAtXFx1MmRmZlxcdTMwMmEtXFx1MzAyZlxcdTMwOTlcXHUzMDlhXFx1YTY2Zi1cXHVhNjcyXFx1YTY3Y1xcdWE2N2RcXHVhNmYwXFx1YTZmMVxcdWE4MDJcXHVhODA2XFx1YTgwYlxcdWE4MjVcXHVhODI2XFx1YThjNFxcdWE4ZTAtXFx1YThmMVxcdWE5MjYtXFx1YTkyZFxcdWE5NDctXFx1YTk1MVxcdWE5ODAtXFx1YTk4MlxcdWE5YjNcXHVhOWI2LVxcdWE5YjlcXHVhOWJjXFx1YWEyOS1cXHVhYTJlXFx1YWEzMVxcdWFhMzJcXHVhYTM1XFx1YWEzNlxcdWFhNDNcXHVhYTRjXFx1YWFiMFxcdWFhYjItXFx1YWFiNFxcdWFhYjdcXHVhYWI4XFx1YWFiZVxcdWFhYmZcXHVhYWMxXFx1YWJlNVxcdWFiZThcXHVhYmVkXFx1ZGMwMC1cXHVkZmZmXFx1ZmIxZVxcdWZlMDAtXFx1ZmUwZlxcdWZlMjAtXFx1ZmUyNlxcdWZmOWVcXHVmZjlmXS87ZnVuY3Rpb24gaXQodCl7cmV0dXJuIHQuY2hhckNvZGVBdCgwKT49NzY4JiZydC50ZXN0KHQpfWZ1bmN0aW9uIG90KHQsZSxuKXtmb3IoOyhuPDA/ZT4wOmU8dC5sZW5ndGgpJiZpdCh0LmNoYXJBdChlKSk7KWUrPW47cmV0dXJuIGV9ZnVuY3Rpb24gYXQodCxlLG4pe2Zvcih2YXIgcj1lPm4/LTE6MTs7KXtpZihlPT1uKXJldHVybiBlO3ZhciBpPShlK24pLzIsbz1yPDA/TWF0aC5jZWlsKGkpOk1hdGguZmxvb3IoaSk7aWYobz09ZSlyZXR1cm4gdChvKT9lOm47dChvKT9uPW86ZT1vK3J9fXZhciBzdD1udWxsO2Z1bmN0aW9uIGx0KHQsZSxuKXt2YXIgcjtzdD1udWxsO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbz10W2ldO2lmKG8uZnJvbTxlJiZvLnRvPmUpcmV0dXJuIGk7by50bz09ZSYmKG8uZnJvbSE9by50byYmXCJiZWZvcmVcIj09bj9yPWk6c3Q9aSksby5mcm9tPT1lJiYoby5mcm9tIT1vLnRvJiZcImJlZm9yZVwiIT1uP3I9aTpzdD1pKX1yZXR1cm4gbnVsbCE9cj9yOnN0fXZhciBjdD1mdW5jdGlvbigpe3ZhciB0PVwiYmJiYmJiYmJidHN0d3NiYmJiYmJiYmJiYmJiYnNzc3R3Tk4lJSVOTk5OTk4sTixOMTExMTExMTExMU5OTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTExMTE5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTmJiYmJiYnNiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYixOJSUlJU5OTk5MTk5OTk4lJTExTkxOTk4xTE5OTk5OTExMTExMTExMTExMTExMTExMTExMTExOTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE5cIixlPVwibm5ubm5uTk5yJSVyLHJOTm1tbW1tbW1tbW1tcnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1tbW1tbW1tbm5ubm5ubm5ubiVubnJycm1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1uTm1tbW1tbXJybW1ObW1tbXJyMTExMTExMTExMVwiO3ZhciBuPS9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXS8scj0vW3N0d05dLyxpPS9bTFJyXS8sbz0vW0xiMW5dLyxhPS9bMW5dLztmdW5jdGlvbiBzKHQsZSxuKXt0aGlzLmxldmVsPXQsdGhpcy5mcm9tPWUsdGhpcy50bz1ufXJldHVybiBmdW5jdGlvbihsLGMpe3ZhciB1LGY9XCJsdHJcIj09Yz9cIkxcIjpcIlJcIjtpZigwPT1sLmxlbmd0aHx8XCJsdHJcIj09YyYmIW4udGVzdChsKSlyZXR1cm4hMTtmb3IodmFyIGQ9bC5sZW5ndGgsaD1bXSxwPTA7cDxkOysrcCloLnB1c2goKHU9bC5jaGFyQ29kZUF0KHApKTw9MjQ3P3QuY2hhckF0KHUpOjE0MjQ8PXUmJnU8PTE1MjQ/XCJSXCI6MTUzNjw9dSYmdTw9MTc4NT9lLmNoYXJBdCh1LTE1MzYpOjE3NzQ8PXUmJnU8PTIyMjA/XCJyXCI6ODE5Mjw9dSYmdTw9ODIwMz9cIndcIjo4MjA0PT11P1wiYlwiOlwiTFwiKTtmb3IodmFyIG09MCxnPWY7bTxkOysrbSl7dmFyIHY9aFttXTtcIm1cIj09dj9oW21dPWc6Zz12fWZvcih2YXIgeT0wLGI9Zjt5PGQ7Kyt5KXt2YXIgeD1oW3ldO1wiMVwiPT14JiZcInJcIj09Yj9oW3ldPVwiblwiOmkudGVzdCh4KSYmKGI9eCxcInJcIj09eCYmKGhbeV09XCJSXCIpKX1mb3IodmFyIHc9MSxDPWhbMF07dzxkLTE7Kyt3KXt2YXIgaz1oW3ddO1wiK1wiPT1rJiZcIjFcIj09QyYmXCIxXCI9PWhbdysxXT9oW3ddPVwiMVwiOlwiLFwiIT1rfHxDIT1oW3crMV18fFwiMVwiIT1DJiZcIm5cIiE9Q3x8KGhbd109QyksQz1rfWZvcih2YXIgXz0wO188ZDsrK18pe3ZhciBTPWhbX107aWYoXCIsXCI9PVMpaFtfXT1cIk5cIjtlbHNlIGlmKFwiJVwiPT1TKXt2YXIgRT12b2lkIDA7Zm9yKEU9XysxO0U8ZCYmXCIlXCI9PWhbRV07KytFKTtmb3IodmFyIFQ9XyYmXCIhXCI9PWhbXy0xXXx8RTxkJiZcIjFcIj09aFtFXT9cIjFcIjpcIk5cIixPPV87TzxFOysrTyloW09dPVQ7Xz1FLTF9fWZvcih2YXIgTT0wLEw9ZjtNPGQ7KytNKXt2YXIgQT1oW01dO1wiTFwiPT1MJiZcIjFcIj09QT9oW01dPVwiTFwiOmkudGVzdChBKSYmKEw9QSl9Zm9yKHZhciBOPTA7TjxkOysrTilpZihyLnRlc3QoaFtOXSkpe3ZhciBQPXZvaWQgMDtmb3IoUD1OKzE7UDxkJiZyLnRlc3QoaFtQXSk7KytQKTtmb3IodmFyIEY9XCJMXCI9PShOP2hbTi0xXTpmKSxJPVwiTFwiPT0oUDxkP2hbUF06Ziksaj1GPT1JP0Y/XCJMXCI6XCJSXCI6ZixEPU47RDxQOysrRCloW0RdPWo7Tj1QLTF9Zm9yKHZhciB6LFI9W10sQj0wO0I8ZDspaWYoby50ZXN0KGhbQl0pKXt2YXIgSD1CO2ZvcigrK0I7QjxkJiZvLnRlc3QoaFtCXSk7KytCKTtSLnB1c2gobmV3IHMoMCxILEIpKX1lbHNle3ZhciBXPUIsVT1SLmxlbmd0aDtmb3IoKytCO0I8ZCYmXCJMXCIhPWhbQl07KytCKTtmb3IodmFyIFY9VztWPEI7KWlmKGEudGVzdChoW1ZdKSl7VzxWJiZSLnNwbGljZShVLDAsbmV3IHMoMSxXLFYpKTt2YXIgRz1WO2ZvcigrK1Y7VjxCJiZhLnRlc3QoaFtWXSk7KytWKTtSLnNwbGljZShVLDAsbmV3IHMoMixHLFYpKSxXPVZ9ZWxzZSsrVjtXPEImJlIuc3BsaWNlKFUsMCxuZXcgcygxLFcsQikpfXJldHVyblwibHRyXCI9PWMmJigxPT1SWzBdLmxldmVsJiYoej1sLm1hdGNoKC9eXFxzKy8pKSYmKFJbMF0uZnJvbT16WzBdLmxlbmd0aCxSLnVuc2hpZnQobmV3IHMoMCwwLHpbMF0ubGVuZ3RoKSkpLDE9PVkoUikubGV2ZWwmJih6PWwubWF0Y2goL1xccyskLykpJiYoWShSKS50by09elswXS5sZW5ndGgsUi5wdXNoKG5ldyBzKDAsZC16WzBdLmxlbmd0aCxkKSkpKSxcInJ0bFwiPT1jP1IucmV2ZXJzZSgpOlJ9fSgpO2Z1bmN0aW9uIHV0KHQsZSl7dmFyIG49dC5vcmRlcjtyZXR1cm4gbnVsbD09biYmKG49dC5vcmRlcj1jdCh0LnRleHQsZSkpLG59dmFyIGZ0PVtdLGR0PWZ1bmN0aW9uKHQsZSxuKXtpZih0LmFkZEV2ZW50TGlzdGVuZXIpdC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSk7ZWxzZSBpZih0LmF0dGFjaEV2ZW50KXQuYXR0YWNoRXZlbnQoXCJvblwiK2Usbik7ZWxzZXt2YXIgcj10Ll9oYW5kbGVyc3x8KHQuX2hhbmRsZXJzPXt9KTtyW2VdPShyW2VdfHxmdCkuY29uY2F0KG4pfX07ZnVuY3Rpb24gaHQodCxlKXtyZXR1cm4gdC5faGFuZGxlcnMmJnQuX2hhbmRsZXJzW2VdfHxmdH1mdW5jdGlvbiBwdCh0LGUsbil7aWYodC5yZW1vdmVFdmVudExpc3RlbmVyKXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITEpO2Vsc2UgaWYodC5kZXRhY2hFdmVudCl0LmRldGFjaEV2ZW50KFwib25cIitlLG4pO2Vsc2V7dmFyIHI9dC5faGFuZGxlcnMsaT1yJiZyW2VdO2lmKGkpe3ZhciBvPUIoaSxuKTtvPi0xJiYocltlXT1pLnNsaWNlKDAsbykuY29uY2F0KGkuc2xpY2UobysxKSkpfX19ZnVuY3Rpb24gbXQodCxlKXt2YXIgbj1odCh0LGUpO2lmKG4ubGVuZ3RoKWZvcih2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMiksaT0wO2k8bi5sZW5ndGg7KytpKW5baV0uYXBwbHkobnVsbCxyKX1mdW5jdGlvbiBndCh0LGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXt0eXBlOmUscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9fSksbXQodCxufHxlLnR5cGUsdCxlKSxDdChlKXx8ZS5jb2RlbWlycm9ySWdub3JlfWZ1bmN0aW9uIHZ0KHQpe3ZhciBlPXQuX2hhbmRsZXJzJiZ0Ll9oYW5kbGVycy5jdXJzb3JBY3Rpdml0eTtpZihlKWZvcih2YXIgbj10LmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnN8fCh0LmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnM9W10pLHI9MDtyPGUubGVuZ3RoOysrciktMT09QihuLGVbcl0pJiZuLnB1c2goZVtyXSl9ZnVuY3Rpb24geXQodCxlKXtyZXR1cm4gaHQodCxlKS5sZW5ndGg+MH1mdW5jdGlvbiBidCh0KXt0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUpe2R0KHRoaXMsdCxlKX0sdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7cHQodGhpcyx0LGUpfX1mdW5jdGlvbiB4dCh0KXt0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIHd0KHQpe3Quc3RvcFByb3BhZ2F0aW9uP3Quc3RvcFByb3BhZ2F0aW9uKCk6dC5jYW5jZWxCdWJibGU9ITB9ZnVuY3Rpb24gQ3QodCl7cmV0dXJuIG51bGwhPXQuZGVmYXVsdFByZXZlbnRlZD90LmRlZmF1bHRQcmV2ZW50ZWQ6MD09dC5yZXR1cm5WYWx1ZX1mdW5jdGlvbiBrdCh0KXt4dCh0KSx3dCh0KX1mdW5jdGlvbiBfdCh0KXtyZXR1cm4gdC50YXJnZXR8fHQuc3JjRWxlbWVudH1mdW5jdGlvbiBTdCh0KXt2YXIgZT10LndoaWNoO3JldHVybiBudWxsPT1lJiYoMSZ0LmJ1dHRvbj9lPTE6MiZ0LmJ1dHRvbj9lPTM6NCZ0LmJ1dHRvbiYmKGU9MikpLHkmJnQuY3RybEtleSYmMT09ZSYmKGU9MyksZX12YXIgRXQsVHQsT3Q9ZnVuY3Rpb24oKXtpZihhJiZzPDkpcmV0dXJuITE7dmFyIHQ9TShcImRpdlwiKTtyZXR1cm5cImRyYWdnYWJsZVwiaW4gdHx8XCJkcmFnRHJvcFwiaW4gdH0oKTtmdW5jdGlvbiBNdCh0KXtpZihudWxsPT1FdCl7dmFyIGU9TShcInNwYW5cIixcIuKAi1wiKTtPKHQsTShcInNwYW5cIixbZSxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIildKSksMCE9dC5maXJzdENoaWxkLm9mZnNldEhlaWdodCYmKEV0PWUub2Zmc2V0V2lkdGg8PTEmJmUub2Zmc2V0SGVpZ2h0PjImJiEoYSYmczw4KSl9dmFyIG49RXQ/TShcInNwYW5cIixcIuKAi1wiKTpNKFwic3BhblwiLFwiwqBcIixudWxsLFwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMXB4OyBtYXJnaW4tcmlnaHQ6IC0xcHhcIik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLFwiXCIpLG59ZnVuY3Rpb24gTHQodCl7aWYobnVsbCE9VHQpcmV0dXJuIFR0O3ZhciBlPU8odCxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkHYrkFcIikpLG49UyhlLDAsMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1TKGUsMSwyKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gVCh0KSwhKCFufHxuLmxlZnQ9PW4ucmlnaHQpJiYoVHQ9ci5yaWdodC1uLnJpZ2h0PDMpfXZhciBBdCxOdD0zIT1cIlxcblxcbmJcIi5zcGxpdCgvXFxuLykubGVuZ3RoP2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49W10scj10Lmxlbmd0aDtlPD1yOyl7dmFyIGk9dC5pbmRleE9mKFwiXFxuXCIsZSk7LTE9PWkmJihpPXQubGVuZ3RoKTt2YXIgbz10LnNsaWNlKGUsXCJcXHJcIj09dC5jaGFyQXQoaS0xKT9pLTE6aSksYT1vLmluZGV4T2YoXCJcXHJcIik7LTEhPWE/KG4ucHVzaChvLnNsaWNlKDAsYSkpLGUrPWErMSk6KG4ucHVzaChvKSxlPWkrMSl9cmV0dXJuIG59OmZ1bmN0aW9uKHQpe3JldHVybiB0LnNwbGl0KC9cXHJcXG4/fFxcbi8pfSxQdD13aW5kb3cuZ2V0U2VsZWN0aW9uP2Z1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdC5zZWxlY3Rpb25TdGFydCE9dC5zZWxlY3Rpb25FbmR9Y2F0Y2godCl7cmV0dXJuITF9fTpmdW5jdGlvbih0KXt2YXIgZTt0cnl7ZT10Lm93bmVyRG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9Y2F0Y2godCl7fXJldHVybiEoIWV8fGUucGFyZW50RWxlbWVudCgpIT10KSYmMCE9ZS5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb0VuZFwiLGUpfSxGdD1cIm9uY29weVwiaW4oQXQ9TShcImRpdlwiKSl8fChBdC5zZXRBdHRyaWJ1dGUoXCJvbmNvcHlcIixcInJldHVybjtcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgQXQub25jb3B5KSxJdD1udWxsLGp0PXt9LER0PXt9O2Z1bmN0aW9uIHp0KHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZEdC5oYXNPd25Qcm9wZXJ0eSh0KSl0PUR0W3RdO2Vsc2UgaWYodCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZSYmRHQuaGFzT3duUHJvcGVydHkodC5uYW1lKSl7dmFyIGU9RHRbdC5uYW1lXTtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e25hbWU6ZX0pLCh0PVooZSx0KSkubmFtZT1lLm5hbWV9ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmL15bXFx3XFwtXStcXC9bXFx3XFwtXStcXCt4bWwkLy50ZXN0KHQpKXJldHVybiB6dChcImFwcGxpY2F0aW9uL3htbFwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmL15bXFx3XFwtXStcXC9bXFx3XFwtXStcXCtqc29uJC8udGVzdCh0KSlyZXR1cm4genQoXCJhcHBsaWNhdGlvbi9qc29uXCIpfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3tuYW1lOnR9OnR8fHtuYW1lOlwibnVsbFwifX1mdW5jdGlvbiBSdCh0LGUpe2U9enQoZSk7dmFyIG49anRbZS5uYW1lXTtpZighbilyZXR1cm4gUnQodCxcInRleHQvcGxhaW5cIik7dmFyIHI9bih0LGUpO2lmKEJ0Lmhhc093blByb3BlcnR5KGUubmFtZSkpe3ZhciBpPUJ0W2UubmFtZV07Zm9yKHZhciBvIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShvKSYmKHIuaGFzT3duUHJvcGVydHkobykmJihyW1wiX1wiK29dPXJbb10pLHJbb109aVtvXSl9aWYoci5uYW1lPWUubmFtZSxlLmhlbHBlclR5cGUmJihyLmhlbHBlclR5cGU9ZS5oZWxwZXJUeXBlKSxlLm1vZGVQcm9wcylmb3IodmFyIGEgaW4gZS5tb2RlUHJvcHMpclthXT1lLm1vZGVQcm9wc1thXTtyZXR1cm4gcn12YXIgQnQ9e307ZnVuY3Rpb24gSHQodCxlKXt2YXIgbj1CdC5oYXNPd25Qcm9wZXJ0eSh0KT9CdFt0XTpCdFt0XT17fTtEKGUsbil9ZnVuY3Rpb24gV3QodCxlKXtpZighMD09PWUpcmV0dXJuIGU7aWYodC5jb3B5U3RhdGUpcmV0dXJuIHQuY29weVN0YXRlKGUpO3ZhciBuPXt9O2Zvcih2YXIgciBpbiBlKXt2YXIgaT1lW3JdO2kgaW5zdGFuY2VvZiBBcnJheSYmKGk9aS5jb25jYXQoW10pKSxuW3JdPWl9cmV0dXJuIG59ZnVuY3Rpb24gVXQodCxlKXtmb3IodmFyIG47dC5pbm5lck1vZGUmJihuPXQuaW5uZXJNb2RlKGUpKSYmbi5tb2RlIT10OyllPW4uc3RhdGUsdD1uLm1vZGU7cmV0dXJuIG58fHttb2RlOnQsc3RhdGU6ZX19ZnVuY3Rpb24gVnQodCxlLG4pe3JldHVybiF0LnN0YXJ0U3RhdGV8fHQuc3RhcnRTdGF0ZShlLG4pfXZhciBHdD1mdW5jdGlvbih0LGUsbil7dGhpcy5wb3M9dGhpcy5zdGFydD0wLHRoaXMuc3RyaW5nPXQsdGhpcy50YWJTaXplPWV8fDgsdGhpcy5sYXN0Q29sdW1uUG9zPXRoaXMubGFzdENvbHVtblZhbHVlPTAsdGhpcy5saW5lU3RhcnQ9MCx0aGlzLmxpbmVPcmFjbGU9bn07ZnVuY3Rpb24gS3QodCxlKXtpZigoZS09dC5maXJzdCk8MHx8ZT49dC5zaXplKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIGxpbmUgXCIrKGUrdC5maXJzdCkrXCIgaW4gdGhlIGRvY3VtZW50LlwiKTtmb3IodmFyIG49dDshbi5saW5lczspZm9yKHZhciByPTA7Oysrcil7dmFyIGk9bi5jaGlsZHJlbltyXSxvPWkuY2h1bmtTaXplKCk7aWYoZTxvKXtuPWk7YnJlYWt9ZS09b31yZXR1cm4gbi5saW5lc1tlXX1mdW5jdGlvbiAkdCh0LGUsbil7dmFyIHI9W10saT1lLmxpbmU7cmV0dXJuIHQuaXRlcihlLmxpbmUsbi5saW5lKzEsZnVuY3Rpb24odCl7dmFyIG89dC50ZXh0O2k9PW4ubGluZSYmKG89by5zbGljZSgwLG4uY2gpKSxpPT1lLmxpbmUmJihvPW8uc2xpY2UoZS5jaCkpLHIucHVzaChvKSwrK2l9KSxyfWZ1bmN0aW9uIHF0KHQsZSxuKXt2YXIgcj1bXTtyZXR1cm4gdC5pdGVyKGUsbixmdW5jdGlvbih0KXtyLnB1c2godC50ZXh0KX0pLHJ9ZnVuY3Rpb24gWXQodCxlKXt2YXIgbj1lLXQuaGVpZ2h0O2lmKG4pZm9yKHZhciByPXQ7cjtyPXIucGFyZW50KXIuaGVpZ2h0Kz1ufWZ1bmN0aW9uIEp0KHQpe2lmKG51bGw9PXQucGFyZW50KXJldHVybiBudWxsO2Zvcih2YXIgZT10LnBhcmVudCxuPUIoZS5saW5lcyx0KSxyPWUucGFyZW50O3I7ZT1yLHI9ci5wYXJlbnQpZm9yKHZhciBpPTA7ci5jaGlsZHJlbltpXSE9ZTsrK2kpbis9ci5jaGlsZHJlbltpXS5jaHVua1NpemUoKTtyZXR1cm4gbitlLmZpcnN0fWZ1bmN0aW9uIFh0KHQsZSl7dmFyIG49dC5maXJzdDt0OmRve2Zvcih2YXIgcj0wO3I8dC5jaGlsZHJlbi5sZW5ndGg7KytyKXt2YXIgaT10LmNoaWxkcmVuW3JdLG89aS5oZWlnaHQ7aWYoZTxvKXt0PWk7Y29udGludWUgdH1lLT1vLG4rPWkuY2h1bmtTaXplKCl9cmV0dXJuIG59d2hpbGUoIXQubGluZXMpO2Zvcih2YXIgYT0wO2E8dC5saW5lcy5sZW5ndGg7KythKXt2YXIgcz10LmxpbmVzW2FdLGw9cy5oZWlnaHQ7aWYoZTxsKWJyZWFrO2UtPWx9cmV0dXJuIG4rYX1mdW5jdGlvbiBadCh0LGUpe3JldHVybiBlPj10LmZpcnN0JiZlPHQuZmlyc3QrdC5zaXplfWZ1bmN0aW9uIFF0KHQsZSl7cmV0dXJuIFN0cmluZyh0LmxpbmVOdW1iZXJGb3JtYXR0ZXIoZSt0LmZpcnN0TGluZU51bWJlcikpfWZ1bmN0aW9uIHRlKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj1udWxsKSwhKHRoaXMgaW5zdGFuY2VvZiB0ZSkpcmV0dXJuIG5ldyB0ZSh0LGUsbik7dGhpcy5saW5lPXQsdGhpcy5jaD1lLHRoaXMuc3RpY2t5PW59ZnVuY3Rpb24gZWUodCxlKXtyZXR1cm4gdC5saW5lLWUubGluZXx8dC5jaC1lLmNofWZ1bmN0aW9uIG5lKHQsZSl7cmV0dXJuIHQuc3RpY2t5PT1lLnN0aWNreSYmMD09ZWUodCxlKX1mdW5jdGlvbiByZSh0KXtyZXR1cm4gdGUodC5saW5lLHQuY2gpfWZ1bmN0aW9uIGllKHQsZSl7cmV0dXJuIGVlKHQsZSk8MD9lOnR9ZnVuY3Rpb24gb2UodCxlKXtyZXR1cm4gZWUodCxlKTwwP3Q6ZX1mdW5jdGlvbiBhZSh0LGUpe3JldHVybiBNYXRoLm1heCh0LmZpcnN0LE1hdGgubWluKGUsdC5maXJzdCt0LnNpemUtMSkpfWZ1bmN0aW9uIHNlKHQsZSl7aWYoZS5saW5lPHQuZmlyc3QpcmV0dXJuIHRlKHQuZmlyc3QsMCk7dmFyIG49dC5maXJzdCt0LnNpemUtMTtyZXR1cm4gZS5saW5lPm4/dGUobixLdCh0LG4pLnRleHQubGVuZ3RoKTpmdW5jdGlvbih0LGUpe3ZhciBuPXQuY2g7cmV0dXJuIG51bGw9PW58fG4+ZT90ZSh0LmxpbmUsZSk6bjwwP3RlKHQubGluZSwwKTp0fShlLEt0KHQsZS5saW5lKS50ZXh0Lmxlbmd0aCl9ZnVuY3Rpb24gbGUodCxlKXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKW5bcl09c2UodCxlW3JdKTtyZXR1cm4gbn1HdC5wcm90b3R5cGUuZW9sPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zPj10aGlzLnN0cmluZy5sZW5ndGh9LEd0LnByb3RvdHlwZS5zb2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3M9PXRoaXMubGluZVN0YXJ0fSxHdC5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpfHx2b2lkIDB9LEd0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5wb3M8dGhpcy5zdHJpbmcubGVuZ3RoKXJldHVybiB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MrKyl9LEd0LnByb3RvdHlwZS5lYXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdD9lPT10OmUmJih0LnRlc3Q/dC50ZXN0KGUpOnQoZSkpKXJldHVybisrdGhpcy5wb3MsZX0sR3QucHJvdG90eXBlLmVhdFdoaWxlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnBvczt0aGlzLmVhdCh0KTspO3JldHVybiB0aGlzLnBvcz5lfSxHdC5wcm90b3R5cGUuZWF0U3BhY2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5wb3M7L1tcXHNcXHUwMGEwXS8udGVzdCh0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpKTspKyt0aGlzLnBvcztyZXR1cm4gdGhpcy5wb3M+dH0sR3QucHJvdG90eXBlLnNraXBUb0VuZD1mdW5jdGlvbigpe3RoaXMucG9zPXRoaXMuc3RyaW5nLmxlbmd0aH0sR3QucHJvdG90eXBlLnNraXBUbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0cmluZy5pbmRleE9mKHQsdGhpcy5wb3MpO2lmKGU+LTEpcmV0dXJuIHRoaXMucG9zPWUsITB9LEd0LnByb3RvdHlwZS5iYWNrVXA9ZnVuY3Rpb24odCl7dGhpcy5wb3MtPXR9LEd0LnByb3RvdHlwZS5jb2x1bW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXN0Q29sdW1uUG9zPHRoaXMuc3RhcnQmJih0aGlzLmxhc3RDb2x1bW5WYWx1ZT16KHRoaXMuc3RyaW5nLHRoaXMuc3RhcnQsdGhpcy50YWJTaXplLHRoaXMubGFzdENvbHVtblBvcyx0aGlzLmxhc3RDb2x1bW5WYWx1ZSksdGhpcy5sYXN0Q29sdW1uUG9zPXRoaXMuc3RhcnQpLHRoaXMubGFzdENvbHVtblZhbHVlLSh0aGlzLmxpbmVTdGFydD96KHRoaXMuc3RyaW5nLHRoaXMubGluZVN0YXJ0LHRoaXMudGFiU2l6ZSk6MCl9LEd0LnByb3RvdHlwZS5pbmRlbnRhdGlvbj1mdW5jdGlvbigpe3JldHVybiB6KHRoaXMuc3RyaW5nLG51bGwsdGhpcy50YWJTaXplKS0odGhpcy5saW5lU3RhcnQ/eih0aGlzLnN0cmluZyx0aGlzLmxpbmVTdGFydCx0aGlzLnRhYlNpemUpOjApfSxHdC5wcm90b3R5cGUubWF0Y2g9ZnVuY3Rpb24odCxlLG4pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXt2YXIgcj10aGlzLnN0cmluZy5zbGljZSh0aGlzLnBvcykubWF0Y2godCk7cmV0dXJuIHImJnIuaW5kZXg+MD9udWxsOihyJiYhMSE9PWUmJih0aGlzLnBvcys9clswXS5sZW5ndGgpLHIpfXZhciBpPWZ1bmN0aW9uKHQpe3JldHVybiBuP3QudG9Mb3dlckNhc2UoKTp0fSxvPXRoaXMuc3RyaW5nLnN1YnN0cih0aGlzLnBvcyx0Lmxlbmd0aCk7aWYoaShvKT09aSh0KSlyZXR1cm4hMSE9PWUmJih0aGlzLnBvcys9dC5sZW5ndGgpLCEwfSxHdC5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnN0YXJ0LHRoaXMucG9zKX0sR3QucHJvdG90eXBlLmhpZGVGaXJzdENoYXJzPWZ1bmN0aW9uKHQsZSl7dGhpcy5saW5lU3RhcnQrPXQ7dHJ5e3JldHVybiBlKCl9ZmluYWxseXt0aGlzLmxpbmVTdGFydC09dH19LEd0LnByb3RvdHlwZS5sb29rQWhlYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5saW5lT3JhY2xlO3JldHVybiBlJiZlLmxvb2tBaGVhZCh0KX0sR3QucHJvdG90eXBlLmJhc2VUb2tlbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGluZU9yYWNsZTtyZXR1cm4gdCYmdC5iYXNlVG9rZW4odGhpcy5wb3MpfTt2YXIgY2U9ZnVuY3Rpb24odCxlKXt0aGlzLnN0YXRlPXQsdGhpcy5sb29rQWhlYWQ9ZX0sdWU9ZnVuY3Rpb24odCxlLG4scil7dGhpcy5zdGF0ZT1lLHRoaXMuZG9jPXQsdGhpcy5saW5lPW4sdGhpcy5tYXhMb29rQWhlYWQ9cnx8MCx0aGlzLmJhc2VUb2tlbnM9bnVsbCx0aGlzLmJhc2VUb2tlblBvcz0xfTtmdW5jdGlvbiBmZSh0LGUsbixyKXt2YXIgaT1bdC5zdGF0ZS5tb2RlR2VuXSxvPXt9O3hlKHQsZS50ZXh0LHQuZG9jLm1vZGUsbixmdW5jdGlvbih0LGUpe3JldHVybiBpLnB1c2godCxlKX0sbyxyKTtmb3IodmFyIGE9bi5zdGF0ZSxzPWZ1bmN0aW9uKHIpe24uYmFzZVRva2Vucz1pO3ZhciBzPXQuc3RhdGUub3ZlcmxheXNbcl0sbD0xLGM9MDtuLnN0YXRlPSEwLHhlKHQsZS50ZXh0LHMubW9kZSxuLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWw7Yzx0Oyl7dmFyIHI9aVtsXTtyPnQmJmkuc3BsaWNlKGwsMSx0LGlbbCsxXSxyKSxsKz0yLGM9TWF0aC5taW4odCxyKX1pZihlKWlmKHMub3BhcXVlKWkuc3BsaWNlKG4sbC1uLHQsXCJvdmVybGF5IFwiK2UpLGw9bisyO2Vsc2UgZm9yKDtuPGw7bis9Mil7dmFyIG89aVtuKzFdO2lbbisxXT0obz9vK1wiIFwiOlwiXCIpK1wib3ZlcmxheSBcIitlfX0sbyksbi5zdGF0ZT1hLG4uYmFzZVRva2Vucz1udWxsLG4uYmFzZVRva2VuUG9zPTF9LGw9MDtsPHQuc3RhdGUub3ZlcmxheXMubGVuZ3RoOysrbClzKGwpO3JldHVybntzdHlsZXM6aSxjbGFzc2VzOm8uYmdDbGFzc3x8by50ZXh0Q2xhc3M/bzpudWxsfX1mdW5jdGlvbiBkZSh0LGUsbil7aWYoIWUuc3R5bGVzfHxlLnN0eWxlc1swXSE9dC5zdGF0ZS5tb2RlR2VuKXt2YXIgcj1oZSh0LEp0KGUpKSxpPWUudGV4dC5sZW5ndGg+dC5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCYmV3QodC5kb2MubW9kZSxyLnN0YXRlKSxvPWZlKHQsZSxyKTtpJiYoci5zdGF0ZT1pKSxlLnN0YXRlQWZ0ZXI9ci5zYXZlKCFpKSxlLnN0eWxlcz1vLnN0eWxlcyxvLmNsYXNzZXM/ZS5zdHlsZUNsYXNzZXM9by5jbGFzc2VzOmUuc3R5bGVDbGFzc2VzJiYoZS5zdHlsZUNsYXNzZXM9bnVsbCksbj09PXQuZG9jLmhpZ2hsaWdodEZyb250aWVyJiYodC5kb2MubW9kZUZyb250aWVyPU1hdGgubWF4KHQuZG9jLm1vZGVGcm9udGllciwrK3QuZG9jLmhpZ2hsaWdodEZyb250aWVyKSl9cmV0dXJuIGUuc3R5bGVzfWZ1bmN0aW9uIGhlKHQsZSxuKXt2YXIgcj10LmRvYyxpPXQuZGlzcGxheTtpZighci5tb2RlLnN0YXJ0U3RhdGUpcmV0dXJuIG5ldyB1ZShyLCEwLGUpO3ZhciBvPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsaSxvPXQuZG9jLGE9bj8tMTplLSh0LmRvYy5tb2RlLmlubmVyTW9kZT8xZTM6MTAwKSxzPWU7cz5hOy0tcyl7aWYoczw9by5maXJzdClyZXR1cm4gby5maXJzdDt2YXIgbD1LdChvLHMtMSksYz1sLnN0YXRlQWZ0ZXI7aWYoYyYmKCFufHxzKyhjIGluc3RhbmNlb2YgY2U/Yy5sb29rQWhlYWQ6MCk8PW8ubW9kZUZyb250aWVyKSlyZXR1cm4gczt2YXIgdT16KGwudGV4dCxudWxsLHQub3B0aW9ucy50YWJTaXplKTsobnVsbD09aXx8cj51KSYmKGk9cy0xLHI9dSl9cmV0dXJuIGl9KHQsZSxuKSxhPW8+ci5maXJzdCYmS3QocixvLTEpLnN0YXRlQWZ0ZXIscz1hP3VlLmZyb21TYXZlZChyLGEsbyk6bmV3IHVlKHIsVnQoci5tb2RlKSxvKTtyZXR1cm4gci5pdGVyKG8sZSxmdW5jdGlvbihuKXtwZSh0LG4udGV4dCxzKTt2YXIgcj1zLmxpbmU7bi5zdGF0ZUFmdGVyPXI9PWUtMXx8ciU1PT0wfHxyPj1pLnZpZXdGcm9tJiZyPGkudmlld1RvP3Muc2F2ZSgpOm51bGwscy5uZXh0TGluZSgpfSksbiYmKHIubW9kZUZyb250aWVyPXMubGluZSksc31mdW5jdGlvbiBwZSh0LGUsbixyKXt2YXIgaT10LmRvYy5tb2RlLG89bmV3IEd0KGUsdC5vcHRpb25zLnRhYlNpemUsbik7Zm9yKG8uc3RhcnQ9by5wb3M9cnx8MCxcIlwiPT1lJiZtZShpLG4uc3RhdGUpOyFvLmVvbCgpOylnZShpLG8sbi5zdGF0ZSksby5zdGFydD1vLnBvc31mdW5jdGlvbiBtZSh0LGUpe2lmKHQuYmxhbmtMaW5lKXJldHVybiB0LmJsYW5rTGluZShlKTtpZih0LmlubmVyTW9kZSl7dmFyIG49VXQodCxlKTtyZXR1cm4gbi5tb2RlLmJsYW5rTGluZT9uLm1vZGUuYmxhbmtMaW5lKG4uc3RhdGUpOnZvaWQgMH19ZnVuY3Rpb24gZ2UodCxlLG4scil7Zm9yKHZhciBpPTA7aTwxMDtpKyspe3ImJihyWzBdPVV0KHQsbikubW9kZSk7dmFyIG89dC50b2tlbihlLG4pO2lmKGUucG9zPmUuc3RhcnQpcmV0dXJuIG99dGhyb3cgbmV3IEVycm9yKFwiTW9kZSBcIit0Lm5hbWUrXCIgZmFpbGVkIHRvIGFkdmFuY2Ugc3RyZWFtLlwiKX11ZS5wcm90b3R5cGUubG9va0FoZWFkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9jLmdldExpbmUodGhpcy5saW5lK3QpO3JldHVybiBudWxsIT1lJiZ0PnRoaXMubWF4TG9va0FoZWFkJiYodGhpcy5tYXhMb29rQWhlYWQ9dCksZX0sdWUucHJvdG90eXBlLmJhc2VUb2tlbj1mdW5jdGlvbih0KXtpZighdGhpcy5iYXNlVG9rZW5zKXJldHVybiBudWxsO2Zvcig7dGhpcy5iYXNlVG9rZW5zW3RoaXMuYmFzZVRva2VuUG9zXTw9dDspdGhpcy5iYXNlVG9rZW5Qb3MrPTI7dmFyIGU9dGhpcy5iYXNlVG9rZW5zW3RoaXMuYmFzZVRva2VuUG9zKzFdO3JldHVybnt0eXBlOmUmJmUucmVwbGFjZSgvKCB8XilvdmVybGF5IC4qLyxcIlwiKSxzaXplOnRoaXMuYmFzZVRva2Vuc1t0aGlzLmJhc2VUb2tlblBvc10tdH19LHVlLnByb3RvdHlwZS5uZXh0TGluZT1mdW5jdGlvbigpe3RoaXMubGluZSsrLHRoaXMubWF4TG9va0FoZWFkPjAmJnRoaXMubWF4TG9va0FoZWFkLS19LHVlLmZyb21TYXZlZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUgaW5zdGFuY2VvZiBjZT9uZXcgdWUodCxXdCh0Lm1vZGUsZS5zdGF0ZSksbixlLmxvb2tBaGVhZCk6bmV3IHVlKHQsV3QodC5tb2RlLGUpLG4pfSx1ZS5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbih0KXt2YXIgZT0hMSE9PXQ/V3QodGhpcy5kb2MubW9kZSx0aGlzLnN0YXRlKTp0aGlzLnN0YXRlO3JldHVybiB0aGlzLm1heExvb2tBaGVhZD4wP25ldyBjZShlLHRoaXMubWF4TG9va0FoZWFkKTplfTt2YXIgdmU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuc3RhcnQ9dC5zdGFydCx0aGlzLmVuZD10LnBvcyx0aGlzLnN0cmluZz10LmN1cnJlbnQoKSx0aGlzLnR5cGU9ZXx8bnVsbCx0aGlzLnN0YXRlPW59O2Z1bmN0aW9uIHllKHQsZSxuLHIpe3ZhciBpLG89dC5kb2MsYT1vLm1vZGU7ZT1zZShvLGUpO3ZhciBzLGw9S3QobyxlLmxpbmUpLGM9aGUodCxlLmxpbmUsbiksdT1uZXcgR3QobC50ZXh0LHQub3B0aW9ucy50YWJTaXplLGMpO2ZvcihyJiYocz1bXSk7KHJ8fHUucG9zPGUuY2gpJiYhdS5lb2woKTspdS5zdGFydD11LnBvcyxpPWdlKGEsdSxjLnN0YXRlKSxyJiZzLnB1c2gobmV3IHZlKHUsaSxXdChvLm1vZGUsYy5zdGF0ZSkpKTtyZXR1cm4gcj9zOm5ldyB2ZSh1LGksYy5zdGF0ZSl9ZnVuY3Rpb24gYmUodCxlKXtpZih0KWZvcig7Oyl7dmFyIG49dC5tYXRjaCgvKD86XnxcXHMrKWxpbmUtKGJhY2tncm91bmQtKT8oXFxTKykvKTtpZighbilicmVhazt0PXQuc2xpY2UoMCxuLmluZGV4KSt0LnNsaWNlKG4uaW5kZXgrblswXS5sZW5ndGgpO3ZhciByPW5bMV0/XCJiZ0NsYXNzXCI6XCJ0ZXh0Q2xhc3NcIjtudWxsPT1lW3JdP2Vbcl09blsyXTpuZXcgUmVnRXhwKFwiKD86XnxzKVwiK25bMl0rXCIoPzokfHMpXCIpLnRlc3QoZVtyXSl8fChlW3JdKz1cIiBcIituWzJdKX1yZXR1cm4gdH1mdW5jdGlvbiB4ZSh0LGUsbixyLGksbyxhKXt2YXIgcz1uLmZsYXR0ZW5TcGFucztudWxsPT1zJiYocz10Lm9wdGlvbnMuZmxhdHRlblNwYW5zKTt2YXIgbCxjPTAsdT1udWxsLGY9bmV3IEd0KGUsdC5vcHRpb25zLnRhYlNpemUsciksZD10Lm9wdGlvbnMuYWRkTW9kZUNsYXNzJiZbbnVsbF07Zm9yKFwiXCI9PWUmJmJlKG1lKG4sci5zdGF0ZSksbyk7IWYuZW9sKCk7KXtpZihmLnBvcz50Lm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoPyhzPSExLGEmJnBlKHQsZSxyLGYucG9zKSxmLnBvcz1lLmxlbmd0aCxsPW51bGwpOmw9YmUoZ2UobixmLHIuc3RhdGUsZCksbyksZCl7dmFyIGg9ZFswXS5uYW1lO2gmJihsPVwibS1cIisobD9oK1wiIFwiK2w6aCkpfWlmKCFzfHx1IT1sKXtmb3IoO2M8Zi5zdGFydDspYz1NYXRoLm1pbihmLnN0YXJ0LGMrNWUzKSxpKGMsdSk7dT1sfWYuc3RhcnQ9Zi5wb3N9Zm9yKDtjPGYucG9zOyl7dmFyIHA9TWF0aC5taW4oZi5wb3MsYys1ZTMpO2kocCx1KSxjPXB9fXZhciB3ZT0hMSxDZT0hMTtmdW5jdGlvbiBrZSh0LGUsbil7dGhpcy5tYXJrZXI9dCx0aGlzLmZyb209ZSx0aGlzLnRvPW59ZnVuY3Rpb24gX2UodCxlKXtpZih0KWZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXt2YXIgcj10W25dO2lmKHIubWFya2VyPT1lKXJldHVybiByfX1mdW5jdGlvbiBTZSh0LGUpe2Zvcih2YXIgbixyPTA7cjx0Lmxlbmd0aDsrK3IpdFtyXSE9ZSYmKG58fChuPVtdKSkucHVzaCh0W3JdKTtyZXR1cm4gbn1mdW5jdGlvbiBFZSh0LGUpe2lmKGUuZnVsbClyZXR1cm4gbnVsbDt2YXIgbj1adCh0LGUuZnJvbS5saW5lKSYmS3QodCxlLmZyb20ubGluZSkubWFya2VkU3BhbnMscj1adCh0LGUudG8ubGluZSkmJkt0KHQsZS50by5saW5lKS5tYXJrZWRTcGFucztpZighbiYmIXIpcmV0dXJuIG51bGw7dmFyIGk9ZS5mcm9tLmNoLG89ZS50by5jaCxhPTA9PWVlKGUuZnJvbSxlLnRvKSxzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtpZih0KWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbz10W2ldLGE9by5tYXJrZXIscz1udWxsPT1vLmZyb218fChhLmluY2x1c2l2ZUxlZnQ/by5mcm9tPD1lOm8uZnJvbTxlKTtpZihzfHxvLmZyb209PWUmJlwiYm9va21hcmtcIj09YS50eXBlJiYoIW58fCFvLm1hcmtlci5pbnNlcnRMZWZ0KSl7dmFyIGw9bnVsbD09by50b3x8KGEuaW5jbHVzaXZlUmlnaHQ/by50bz49ZTpvLnRvPmUpOyhyfHwocj1bXSkpLnB1c2gobmV3IGtlKGEsby5mcm9tLGw/bnVsbDpvLnRvKSl9fXJldHVybiByfShuLGksYSksbD1mdW5jdGlvbih0LGUsbil7dmFyIHI7aWYodClmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXSxhPW8ubWFya2VyLHM9bnVsbD09by50b3x8KGEuaW5jbHVzaXZlUmlnaHQ/by50bz49ZTpvLnRvPmUpO2lmKHN8fG8uZnJvbT09ZSYmXCJib29rbWFya1wiPT1hLnR5cGUmJighbnx8by5tYXJrZXIuaW5zZXJ0TGVmdCkpe3ZhciBsPW51bGw9PW8uZnJvbXx8KGEuaW5jbHVzaXZlTGVmdD9vLmZyb208PWU6by5mcm9tPGUpOyhyfHwocj1bXSkpLnB1c2gobmV3IGtlKGEsbD9udWxsOm8uZnJvbS1lLG51bGw9PW8udG8/bnVsbDpvLnRvLWUpKX19cmV0dXJuIHJ9KHIsbyxhKSxjPTE9PWUudGV4dC5sZW5ndGgsdT1ZKGUudGV4dCkubGVuZ3RoKyhjP2k6MCk7aWYocylmb3IodmFyIGY9MDtmPHMubGVuZ3RoOysrZil7dmFyIGQ9c1tmXTtpZihudWxsPT1kLnRvKXt2YXIgaD1fZShsLGQubWFya2VyKTtoP2MmJihkLnRvPW51bGw9PWgudG8/bnVsbDpoLnRvK3UpOmQudG89aX19aWYobClmb3IodmFyIHA9MDtwPGwubGVuZ3RoOysrcCl7dmFyIG09bFtwXTtpZihudWxsIT1tLnRvJiYobS50bys9dSksbnVsbD09bS5mcm9tKXt2YXIgZz1fZShzLG0ubWFya2VyKTtnfHwobS5mcm9tPXUsYyYmKHN8fChzPVtdKSkucHVzaChtKSl9ZWxzZSBtLmZyb20rPXUsYyYmKHN8fChzPVtdKSkucHVzaChtKX1zJiYocz1UZShzKSksbCYmbCE9cyYmKGw9VGUobCkpO3ZhciB2PVtzXTtpZighYyl7dmFyIHksYj1lLnRleHQubGVuZ3RoLTI7aWYoYj4wJiZzKWZvcih2YXIgeD0wO3g8cy5sZW5ndGg7Kyt4KW51bGw9PXNbeF0udG8mJih5fHwoeT1bXSkpLnB1c2gobmV3IGtlKHNbeF0ubWFya2VyLG51bGwsbnVsbCkpO2Zvcih2YXIgdz0wO3c8YjsrK3cpdi5wdXNoKHkpO3YucHVzaChsKX1yZXR1cm4gdn1mdW5jdGlvbiBUZSh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoOysrZSl7dmFyIG49dFtlXTtudWxsIT1uLmZyb20mJm4uZnJvbT09bi50byYmITEhPT1uLm1hcmtlci5jbGVhcldoZW5FbXB0eSYmdC5zcGxpY2UoZS0tLDEpfXJldHVybiB0Lmxlbmd0aD90Om51bGx9ZnVuY3Rpb24gT2UodCl7dmFyIGU9dC5tYXJrZWRTcGFucztpZihlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbillW25dLm1hcmtlci5kZXRhY2hMaW5lKHQpO3QubWFya2VkU3BhbnM9bnVsbH19ZnVuY3Rpb24gTWUodCxlKXtpZihlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoOysrbillW25dLm1hcmtlci5hdHRhY2hMaW5lKHQpO3QubWFya2VkU3BhbnM9ZX19ZnVuY3Rpb24gTGUodCl7cmV0dXJuIHQuaW5jbHVzaXZlTGVmdD8tMTowfWZ1bmN0aW9uIEFlKHQpe3JldHVybiB0LmluY2x1c2l2ZVJpZ2h0PzE6MH1mdW5jdGlvbiBOZSh0LGUpe3ZhciBuPXQubGluZXMubGVuZ3RoLWUubGluZXMubGVuZ3RoO2lmKDAhPW4pcmV0dXJuIG47dmFyIHI9dC5maW5kKCksaT1lLmZpbmQoKSxvPWVlKHIuZnJvbSxpLmZyb20pfHxMZSh0KS1MZShlKTtpZihvKXJldHVybi1vO3ZhciBhPWVlKHIudG8saS50byl8fEFlKHQpLUFlKGUpO3JldHVybiBhfHxlLmlkLXQuaWR9ZnVuY3Rpb24gUGUodCxlKXt2YXIgbixyPUNlJiZ0Lm1hcmtlZFNwYW5zO2lmKHIpZm9yKHZhciBpPXZvaWQgMCxvPTA7bzxyLmxlbmd0aDsrK28pKGk9cltvXSkubWFya2VyLmNvbGxhcHNlZCYmbnVsbD09KGU/aS5mcm9tOmkudG8pJiYoIW58fE5lKG4saS5tYXJrZXIpPDApJiYobj1pLm1hcmtlcik7cmV0dXJuIG59ZnVuY3Rpb24gRmUodCl7cmV0dXJuIFBlKHQsITApfWZ1bmN0aW9uIEllKHQpe3JldHVybiBQZSh0LCExKX1mdW5jdGlvbiBqZSh0LGUpe3ZhciBuLHI9Q2UmJnQubWFya2VkU3BhbnM7aWYocilmb3IodmFyIGk9MDtpPHIubGVuZ3RoOysraSl7dmFyIG89cltpXTtvLm1hcmtlci5jb2xsYXBzZWQmJihudWxsPT1vLmZyb218fG8uZnJvbTxlKSYmKG51bGw9PW8udG98fG8udG8+ZSkmJighbnx8TmUobixvLm1hcmtlcik8MCkmJihuPW8ubWFya2VyKX1yZXR1cm4gbn1mdW5jdGlvbiBEZSh0LGUsbixyLGkpe3ZhciBvPUt0KHQsZSksYT1DZSYmby5tYXJrZWRTcGFucztpZihhKWZvcih2YXIgcz0wO3M8YS5sZW5ndGg7KytzKXt2YXIgbD1hW3NdO2lmKGwubWFya2VyLmNvbGxhcHNlZCl7dmFyIGM9bC5tYXJrZXIuZmluZCgwKSx1PWVlKGMuZnJvbSxuKXx8TGUobC5tYXJrZXIpLUxlKGkpLGY9ZWUoYy50byxyKXx8QWUobC5tYXJrZXIpLUFlKGkpO2lmKCEodT49MCYmZjw9MHx8dTw9MCYmZj49MCkmJih1PD0wJiYobC5tYXJrZXIuaW5jbHVzaXZlUmlnaHQmJmkuaW5jbHVzaXZlTGVmdD9lZShjLnRvLG4pPj0wOmVlKGMudG8sbik+MCl8fHU+PTAmJihsLm1hcmtlci5pbmNsdXNpdmVSaWdodCYmaS5pbmNsdXNpdmVMZWZ0P2VlKGMuZnJvbSxyKTw9MDplZShjLmZyb20scik8MCkpKXJldHVybiEwfX19ZnVuY3Rpb24gemUodCl7Zm9yKHZhciBlO2U9RmUodCk7KXQ9ZS5maW5kKC0xLCEwKS5saW5lO3JldHVybiB0fWZ1bmN0aW9uIFJlKHQsZSl7dmFyIG49S3QodCxlKSxyPXplKG4pO3JldHVybiBuPT1yP2U6SnQocil9ZnVuY3Rpb24gQmUodCxlKXtpZihlPnQubGFzdExpbmUoKSlyZXR1cm4gZTt2YXIgbixyPUt0KHQsZSk7aWYoIUhlKHQscikpcmV0dXJuIGU7Zm9yKDtuPUllKHIpOylyPW4uZmluZCgxLCEwKS5saW5lO3JldHVybiBKdChyKSsxfWZ1bmN0aW9uIEhlKHQsZSl7dmFyIG49Q2UmJmUubWFya2VkU3BhbnM7aWYobilmb3IodmFyIHI9dm9pZCAwLGk9MDtpPG4ubGVuZ3RoOysraSlpZigocj1uW2ldKS5tYXJrZXIuY29sbGFwc2VkKXtpZihudWxsPT1yLmZyb20pcmV0dXJuITA7aWYoIXIubWFya2VyLndpZGdldE5vZGUmJjA9PXIuZnJvbSYmci5tYXJrZXIuaW5jbHVzaXZlTGVmdCYmV2UodCxlLHIpKXJldHVybiEwfX1mdW5jdGlvbiBXZSh0LGUsbil7aWYobnVsbD09bi50byl7dmFyIHI9bi5tYXJrZXIuZmluZCgxLCEwKTtyZXR1cm4gV2UodCxyLmxpbmUsX2Uoci5saW5lLm1hcmtlZFNwYW5zLG4ubWFya2VyKSl9aWYobi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQmJm4udG89PWUudGV4dC5sZW5ndGgpcmV0dXJuITA7Zm9yKHZhciBpPXZvaWQgMCxvPTA7bzxlLm1hcmtlZFNwYW5zLmxlbmd0aDsrK28paWYoKGk9ZS5tYXJrZWRTcGFuc1tvXSkubWFya2VyLmNvbGxhcHNlZCYmIWkubWFya2VyLndpZGdldE5vZGUmJmkuZnJvbT09bi50byYmKG51bGw9PWkudG98fGkudG8hPW4uZnJvbSkmJihpLm1hcmtlci5pbmNsdXNpdmVMZWZ0fHxuLm1hcmtlci5pbmNsdXNpdmVSaWdodCkmJldlKHQsZSxpKSlyZXR1cm4hMH1mdW5jdGlvbiBVZSh0KXt0PXplKHQpO2Zvcih2YXIgZT0wLG49dC5wYXJlbnQscj0wO3I8bi5saW5lcy5sZW5ndGg7KytyKXt2YXIgaT1uLmxpbmVzW3JdO2lmKGk9PXQpYnJlYWs7ZSs9aS5oZWlnaHR9Zm9yKHZhciBvPW4ucGFyZW50O287bz0obj1vKS5wYXJlbnQpZm9yKHZhciBhPTA7YTxvLmNoaWxkcmVuLmxlbmd0aDsrK2Epe3ZhciBzPW8uY2hpbGRyZW5bYV07aWYocz09bilicmVhaztlKz1zLmhlaWdodH1yZXR1cm4gZX1mdW5jdGlvbiBWZSh0KXtpZigwPT10LmhlaWdodClyZXR1cm4gMDtmb3IodmFyIGUsbj10LnRleHQubGVuZ3RoLHI9dDtlPUZlKHIpOyl7dmFyIGk9ZS5maW5kKDAsITApO3I9aS5mcm9tLmxpbmUsbis9aS5mcm9tLmNoLWkudG8uY2h9Zm9yKHI9dDtlPUllKHIpOyl7dmFyIG89ZS5maW5kKDAsITApO24tPXIudGV4dC5sZW5ndGgtby5mcm9tLmNoLHI9by50by5saW5lLG4rPXIudGV4dC5sZW5ndGgtby50by5jaH1yZXR1cm4gbn1mdW5jdGlvbiBHZSh0KXt2YXIgZT10LmRpc3BsYXksbj10LmRvYztlLm1heExpbmU9S3QobixuLmZpcnN0KSxlLm1heExpbmVMZW5ndGg9VmUoZS5tYXhMaW5lKSxlLm1heExpbmVDaGFuZ2VkPSEwLG4uaXRlcihmdW5jdGlvbih0KXt2YXIgbj1WZSh0KTtuPmUubWF4TGluZUxlbmd0aCYmKGUubWF4TGluZUxlbmd0aD1uLGUubWF4TGluZT10KX0pfXZhciBLZT1mdW5jdGlvbih0LGUsbil7dGhpcy50ZXh0PXQsTWUodGhpcyxlKSx0aGlzLmhlaWdodD1uP24odGhpcyk6MX07ZnVuY3Rpb24gJGUodCl7dC5wYXJlbnQ9bnVsbCxPZSh0KX1LZS5wcm90b3R5cGUubGluZU5vPWZ1bmN0aW9uKCl7cmV0dXJuIEp0KHRoaXMpfSxidChLZSk7dmFyIHFlPXt9LFllPXt9O2Z1bmN0aW9uIEplKHQsZSl7aWYoIXR8fC9eXFxzKiQvLnRlc3QodCkpcmV0dXJuIG51bGw7dmFyIG49ZS5hZGRNb2RlQ2xhc3M/WWU6cWU7cmV0dXJuIG5bdF18fChuW3RdPXQucmVwbGFjZSgvXFxTKy9nLFwiY20tJCZcIikpfWZ1bmN0aW9uIFhlKHQsZSl7dmFyIG49TChcInNwYW5cIixudWxsLG51bGwsbD9cInBhZGRpbmctcmlnaHQ6IC4xcHhcIjpudWxsKSxyPXtwcmU6TChcInByZVwiLFtuXSxcIkNvZGVNaXJyb3ItbGluZVwiKSxjb250ZW50Om4sY29sOjAscG9zOjAsY206dCx0cmFpbGluZ1NwYWNlOiExLHNwbGl0U3BhY2VzOnQuZ2V0T3B0aW9uKFwibGluZVdyYXBwaW5nXCIpfTtlLm1lYXN1cmU9e307Zm9yKHZhciBpPTA7aTw9KGUucmVzdD9lLnJlc3QubGVuZ3RoOjApO2krKyl7dmFyIG89aT9lLnJlc3RbaS0xXTplLmxpbmUsYT12b2lkIDA7ci5wb3M9MCxyLmFkZFRva2VuPVFlLEx0KHQuZGlzcGxheS5tZWFzdXJlKSYmKGE9dXQobyx0LmRvYy5kaXJlY3Rpb24pKSYmKHIuYWRkVG9rZW49dG4oci5hZGRUb2tlbixhKSksci5tYXA9W107dmFyIHM9ZSE9dC5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQmJkp0KG8pO25uKG8scixkZSh0LG8scykpLG8uc3R5bGVDbGFzc2VzJiYoby5zdHlsZUNsYXNzZXMuYmdDbGFzcyYmKHIuYmdDbGFzcz1GKG8uc3R5bGVDbGFzc2VzLmJnQ2xhc3Msci5iZ0NsYXNzfHxcIlwiKSksby5zdHlsZUNsYXNzZXMudGV4dENsYXNzJiYoci50ZXh0Q2xhc3M9RihvLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3Msci50ZXh0Q2xhc3N8fFwiXCIpKSksMD09ci5tYXAubGVuZ3RoJiZyLm1hcC5wdXNoKDAsMCxyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoTXQodC5kaXNwbGF5Lm1lYXN1cmUpKSksMD09aT8oZS5tZWFzdXJlLm1hcD1yLm1hcCxlLm1lYXN1cmUuY2FjaGU9e30pOigoZS5tZWFzdXJlLm1hcHN8fChlLm1lYXN1cmUubWFwcz1bXSkpLnB1c2goci5tYXApLChlLm1lYXN1cmUuY2FjaGVzfHwoZS5tZWFzdXJlLmNhY2hlcz1bXSkpLnB1c2goe30pKX1pZihsKXt2YXIgYz1yLmNvbnRlbnQubGFzdENoaWxkOygvXFxiY20tdGFiXFxiLy50ZXN0KGMuY2xhc3NOYW1lKXx8Yy5xdWVyeVNlbGVjdG9yJiZjLnF1ZXJ5U2VsZWN0b3IoXCIuY20tdGFiXCIpKSYmKHIuY29udGVudC5jbGFzc05hbWU9XCJjbS10YWItd3JhcC1oYWNrXCIpfXJldHVybiBtdCh0LFwicmVuZGVyTGluZVwiLHQsZS5saW5lLHIucHJlKSxyLnByZS5jbGFzc05hbWUmJihyLnRleHRDbGFzcz1GKHIucHJlLmNsYXNzTmFtZSxyLnRleHRDbGFzc3x8XCJcIikpLHJ9ZnVuY3Rpb24gWmUodCl7dmFyIGU9TShcInNwYW5cIixcIuKAolwiLFwiY20taW52YWxpZGNoYXJcIik7cmV0dXJuIGUudGl0bGU9XCJcXFxcdVwiK3QuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNiksZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZS50aXRsZSksZX1mdW5jdGlvbiBRZSh0LGUsbixyLGksbyxsKXtpZihlKXt2YXIgYyx1PXQuc3BsaXRTcGFjZXM/ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aD4xJiYhLyAgLy50ZXN0KHQpKXJldHVybiB0O2Zvcih2YXIgbj1lLHI9XCJcIixpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBvPXQuY2hhckF0KGkpO1wiIFwiIT1vfHwhbnx8aSE9dC5sZW5ndGgtMSYmMzIhPXQuY2hhckNvZGVBdChpKzEpfHwobz1cIsKgXCIpLHIrPW8sbj1cIiBcIj09b31yZXR1cm4gcn0oZSx0LnRyYWlsaW5nU3BhY2UpOmUsZj10LmNtLnN0YXRlLnNwZWNpYWxDaGFycyxkPSExO2lmKGYudGVzdChlKSl7Yz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHZhciBoPTA7Oyl7Zi5sYXN0SW5kZXg9aDt2YXIgcD1mLmV4ZWMoZSksbT1wP3AuaW5kZXgtaDplLmxlbmd0aC1oO2lmKG0pe3ZhciBnPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHUuc2xpY2UoaCxoK20pKTthJiZzPDk/Yy5hcHBlbmRDaGlsZChNKFwic3BhblwiLFtnXSkpOmMuYXBwZW5kQ2hpbGQoZyksdC5tYXAucHVzaCh0LnBvcyx0LnBvcyttLGcpLHQuY29sKz1tLHQucG9zKz1tfWlmKCFwKWJyZWFrO2grPW0rMTt2YXIgdj12b2lkIDA7aWYoXCJcXHRcIj09cFswXSl7dmFyIHk9dC5jbS5vcHRpb25zLnRhYlNpemUsYj15LXQuY29sJXk7KHY9Yy5hcHBlbmRDaGlsZChNKFwic3BhblwiLHEoYiksXCJjbS10YWJcIikpKS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJwcmVzZW50YXRpb25cIiksdi5zZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIsXCJcXHRcIiksdC5jb2wrPWJ9ZWxzZVwiXFxyXCI9PXBbMF18fFwiXFxuXCI9PXBbMF0/KCh2PWMuYXBwZW5kQ2hpbGQoTShcInNwYW5cIixcIlxcclwiPT1wWzBdP1wi4pCNXCI6XCLikKRcIixcImNtLWludmFsaWRjaGFyXCIpKSkuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLHBbMF0pLHQuY29sKz0xKTooKHY9dC5jbS5vcHRpb25zLnNwZWNpYWxDaGFyUGxhY2Vob2xkZXIocFswXSkpLnNldEF0dHJpYnV0ZShcImNtLXRleHRcIixwWzBdKSxhJiZzPDk/Yy5hcHBlbmRDaGlsZChNKFwic3BhblwiLFt2XSkpOmMuYXBwZW5kQ2hpbGQodiksdC5jb2wrPTEpO3QubWFwLnB1c2godC5wb3MsdC5wb3MrMSx2KSx0LnBvcysrfX1lbHNlIHQuY29sKz1lLmxlbmd0aCxjPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHUpLHQubWFwLnB1c2godC5wb3MsdC5wb3MrZS5sZW5ndGgsYyksYSYmczw5JiYoZD0hMCksdC5wb3MrPWUubGVuZ3RoO2lmKHQudHJhaWxpbmdTcGFjZT0zMj09dS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLG58fHJ8fGl8fGR8fG8pe3ZhciB4PW58fFwiXCI7ciYmKHgrPXIpLGkmJih4Kz1pKTt2YXIgdz1NKFwic3BhblwiLFtjXSx4LG8pO2lmKGwpZm9yKHZhciBDIGluIGwpbC5oYXNPd25Qcm9wZXJ0eShDKSYmXCJzdHlsZVwiIT1DJiZcImNsYXNzXCIhPUMmJncuc2V0QXR0cmlidXRlKEMsbFtDXSk7cmV0dXJuIHQuY29udGVudC5hcHBlbmRDaGlsZCh3KX10LmNvbnRlbnQuYXBwZW5kQ2hpbGQoYyl9fWZ1bmN0aW9uIHRuKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scixpLG8sYSxzLGwpe2k9aT9pK1wiIGNtLWZvcmNlLWJvcmRlclwiOlwiY20tZm9yY2UtYm9yZGVyXCI7Zm9yKHZhciBjPW4ucG9zLHU9YytyLmxlbmd0aDs7KXtmb3IodmFyIGY9dm9pZCAwLGQ9MDtkPGUubGVuZ3RoJiYhKChmPWVbZF0pLnRvPmMmJmYuZnJvbTw9Yyk7ZCsrKTtpZihmLnRvPj11KXJldHVybiB0KG4scixpLG8sYSxzLGwpO3QobixyLnNsaWNlKDAsZi50by1jKSxpLG8sbnVsbCxzLGwpLG89bnVsbCxyPXIuc2xpY2UoZi50by1jKSxjPWYudG99fX1mdW5jdGlvbiBlbih0LGUsbixyKXt2YXIgaT0hciYmbi53aWRnZXROb2RlO2kmJnQubWFwLnB1c2godC5wb3MsdC5wb3MrZSxpKSwhciYmdC5jbS5kaXNwbGF5LmlucHV0Lm5lZWRzQ29udGVudEF0dHJpYnV0ZSYmKGl8fChpPXQuY29udGVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSkpLGkuc2V0QXR0cmlidXRlKFwiY20tbWFya2VyXCIsbi5pZCkpLGkmJih0LmNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShpKSx0LmNvbnRlbnQuYXBwZW5kQ2hpbGQoaSkpLHQucG9zKz1lLHQudHJhaWxpbmdTcGFjZT0hMX1mdW5jdGlvbiBubih0LGUsbil7dmFyIHI9dC5tYXJrZWRTcGFucyxpPXQudGV4dCxvPTA7aWYocilmb3IodmFyIGEscyxsLGMsdSxmLGQsaD1pLmxlbmd0aCxwPTAsbT0xLGc9XCJcIix2PTA7Oyl7aWYodj09cCl7bD1jPXU9cz1cIlwiLGQ9bnVsbCxmPW51bGwsdj0xLzA7Zm9yKHZhciB5PVtdLGI9dm9pZCAwLHg9MDt4PHIubGVuZ3RoOysreCl7dmFyIHc9clt4XSxDPXcubWFya2VyO2lmKFwiYm9va21hcmtcIj09Qy50eXBlJiZ3LmZyb209PXAmJkMud2lkZ2V0Tm9kZSl5LnB1c2goQyk7ZWxzZSBpZih3LmZyb208PXAmJihudWxsPT13LnRvfHx3LnRvPnB8fEMuY29sbGFwc2VkJiZ3LnRvPT1wJiZ3LmZyb209PXApKXtpZihudWxsIT13LnRvJiZ3LnRvIT1wJiZ2PncudG8mJih2PXcudG8sYz1cIlwiKSxDLmNsYXNzTmFtZSYmKGwrPVwiIFwiK0MuY2xhc3NOYW1lKSxDLmNzcyYmKHM9KHM/cytcIjtcIjpcIlwiKStDLmNzcyksQy5zdGFydFN0eWxlJiZ3LmZyb209PXAmJih1Kz1cIiBcIitDLnN0YXJ0U3R5bGUpLEMuZW5kU3R5bGUmJncudG89PXYmJihifHwoYj1bXSkpLnB1c2goQy5lbmRTdHlsZSx3LnRvKSxDLnRpdGxlJiYoKGR8fChkPXt9KSkudGl0bGU9Qy50aXRsZSksQy5hdHRyaWJ1dGVzKWZvcih2YXIgayBpbiBDLmF0dHJpYnV0ZXMpKGR8fChkPXt9KSlba109Qy5hdHRyaWJ1dGVzW2tdO0MuY29sbGFwc2VkJiYoIWZ8fE5lKGYubWFya2VyLEMpPDApJiYoZj13KX1lbHNlIHcuZnJvbT5wJiZ2PncuZnJvbSYmKHY9dy5mcm9tKX1pZihiKWZvcih2YXIgXz0wO188Yi5sZW5ndGg7Xys9MiliW18rMV09PXYmJihjKz1cIiBcIitiW19dKTtpZighZnx8Zi5mcm9tPT1wKWZvcih2YXIgUz0wO1M8eS5sZW5ndGg7KytTKWVuKGUsMCx5W1NdKTtpZihmJiYoZi5mcm9tfHwwKT09cCl7aWYoZW4oZSwobnVsbD09Zi50bz9oKzE6Zi50byktcCxmLm1hcmtlcixudWxsPT1mLmZyb20pLG51bGw9PWYudG8pcmV0dXJuO2YudG89PXAmJihmPSExKX19aWYocD49aClicmVhaztmb3IodmFyIEU9TWF0aC5taW4oaCx2KTs7KXtpZihnKXt2YXIgVD1wK2cubGVuZ3RoO2lmKCFmKXt2YXIgTz1UPkU/Zy5zbGljZSgwLEUtcCk6ZztlLmFkZFRva2VuKGUsTyxhP2ErbDpsLHUscCtPLmxlbmd0aD09dj9jOlwiXCIscyxkKX1pZihUPj1FKXtnPWcuc2xpY2UoRS1wKSxwPUU7YnJlYWt9cD1ULHU9XCJcIn1nPWkuc2xpY2UobyxvPW5bbSsrXSksYT1KZShuW20rK10sZS5jbS5vcHRpb25zKX19ZWxzZSBmb3IodmFyIE09MTtNPG4ubGVuZ3RoO00rPTIpZS5hZGRUb2tlbihlLGkuc2xpY2UobyxvPW5bTV0pLEplKG5bTSsxXSxlLmNtLm9wdGlvbnMpKX1mdW5jdGlvbiBybih0LGUsbil7dGhpcy5saW5lPWUsdGhpcy5yZXN0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuO2U9SWUodCk7KXQ9ZS5maW5kKDEsITApLmxpbmUsKG58fChuPVtdKSkucHVzaCh0KTtyZXR1cm4gbn0oZSksdGhpcy5zaXplPXRoaXMucmVzdD9KdChZKHRoaXMucmVzdCkpLW4rMToxLHRoaXMubm9kZT10aGlzLnRleHQ9bnVsbCx0aGlzLmhpZGRlbj1IZSh0LGUpfWZ1bmN0aW9uIG9uKHQsZSxuKXtmb3IodmFyIHIsaT1bXSxvPWU7bzxuO289cil7dmFyIGE9bmV3IHJuKHQuZG9jLEt0KHQuZG9jLG8pLG8pO3I9bythLnNpemUsaS5wdXNoKGEpfXJldHVybiBpfXZhciBhbj1udWxsLHNuPW51bGw7ZnVuY3Rpb24gbG4odCxlKXt2YXIgbj1odCh0LGUpO2lmKG4ubGVuZ3RoKXt2YXIgcixpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTthbj9yPWFuLmRlbGF5ZWRDYWxsYmFja3M6c24/cj1zbjoocj1zbj1bXSxzZXRUaW1lb3V0KGNuLDApKTtmb3IodmFyIG89ZnVuY3Rpb24odCl7ci5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIG5bdF0uYXBwbHkobnVsbCxpKX0pfSxhPTA7YTxuLmxlbmd0aDsrK2EpbyhhKX19ZnVuY3Rpb24gY24oKXt2YXIgdD1zbjtzbj1udWxsO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXRbZV0oKX1mdW5jdGlvbiB1bih0LGUsbixyKXtmb3IodmFyIGk9MDtpPGUuY2hhbmdlcy5sZW5ndGg7aSsrKXt2YXIgbz1lLmNoYW5nZXNbaV07XCJ0ZXh0XCI9PW8/aG4odCxlKTpcImd1dHRlclwiPT1vP21uKHQsZSxuLHIpOlwiY2xhc3NcIj09bz9wbih0LGUpOlwid2lkZ2V0XCI9PW8mJmduKHQsZSxyKX1lLmNoYW5nZXM9bnVsbH1mdW5jdGlvbiBmbih0KXtyZXR1cm4gdC5ub2RlPT10LnRleHQmJih0Lm5vZGU9TShcImRpdlwiLG51bGwsbnVsbCxcInBvc2l0aW9uOiByZWxhdGl2ZVwiKSx0LnRleHQucGFyZW50Tm9kZSYmdC50ZXh0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQubm9kZSx0LnRleHQpLHQubm9kZS5hcHBlbmRDaGlsZCh0LnRleHQpLGEmJnM8OCYmKHQubm9kZS5zdHlsZS56SW5kZXg9MikpLHQubm9kZX1mdW5jdGlvbiBkbih0LGUpe3ZhciBuPXQuZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO3JldHVybiBuJiZuLmxpbmU9PWUubGluZT8odC5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ9bnVsbCxlLm1lYXN1cmU9bi5tZWFzdXJlLG4uYnVpbHQpOlhlKHQsZSl9ZnVuY3Rpb24gaG4odCxlKXt2YXIgbj1lLnRleHQuY2xhc3NOYW1lLHI9ZG4odCxlKTtlLnRleHQ9PWUubm9kZSYmKGUubm9kZT1yLnByZSksZS50ZXh0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHIucHJlLGUudGV4dCksZS50ZXh0PXIucHJlLHIuYmdDbGFzcyE9ZS5iZ0NsYXNzfHxyLnRleHRDbGFzcyE9ZS50ZXh0Q2xhc3M/KGUuYmdDbGFzcz1yLmJnQ2xhc3MsZS50ZXh0Q2xhc3M9ci50ZXh0Q2xhc3MscG4odCxlKSk6biYmKGUudGV4dC5jbGFzc05hbWU9bil9ZnVuY3Rpb24gcG4odCxlKXshZnVuY3Rpb24odCxlKXt2YXIgbj1lLmJnQ2xhc3M/ZS5iZ0NsYXNzK1wiIFwiKyhlLmxpbmUuYmdDbGFzc3x8XCJcIik6ZS5saW5lLmJnQ2xhc3M7aWYobiYmKG4rPVwiIENvZGVNaXJyb3ItbGluZWJhY2tncm91bmRcIiksZS5iYWNrZ3JvdW5kKW4/ZS5iYWNrZ3JvdW5kLmNsYXNzTmFtZT1uOihlLmJhY2tncm91bmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLmJhY2tncm91bmQpLGUuYmFja2dyb3VuZD1udWxsKTtlbHNlIGlmKG4pe3ZhciByPWZuKGUpO2UuYmFja2dyb3VuZD1yLmluc2VydEJlZm9yZShNKFwiZGl2XCIsbnVsbCxuKSxyLmZpcnN0Q2hpbGQpLHQuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGUuYmFja2dyb3VuZCl9fSh0LGUpLGUubGluZS53cmFwQ2xhc3M/Zm4oZSkuY2xhc3NOYW1lPWUubGluZS53cmFwQ2xhc3M6ZS5ub2RlIT1lLnRleHQmJihlLm5vZGUuY2xhc3NOYW1lPVwiXCIpO3ZhciBuPWUudGV4dENsYXNzP2UudGV4dENsYXNzK1wiIFwiKyhlLmxpbmUudGV4dENsYXNzfHxcIlwiKTplLmxpbmUudGV4dENsYXNzO2UudGV4dC5jbGFzc05hbWU9bnx8XCJcIn1mdW5jdGlvbiBtbih0LGUsbixyKXtpZihlLmd1dHRlciYmKGUubm9kZS5yZW1vdmVDaGlsZChlLmd1dHRlciksZS5ndXR0ZXI9bnVsbCksZS5ndXR0ZXJCYWNrZ3JvdW5kJiYoZS5ub2RlLnJlbW92ZUNoaWxkKGUuZ3V0dGVyQmFja2dyb3VuZCksZS5ndXR0ZXJCYWNrZ3JvdW5kPW51bGwpLGUubGluZS5ndXR0ZXJDbGFzcyl7dmFyIGk9Zm4oZSk7ZS5ndXR0ZXJCYWNrZ3JvdW5kPU0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1ndXR0ZXItYmFja2dyb3VuZCBcIitlLmxpbmUuZ3V0dGVyQ2xhc3MsXCJsZWZ0OiBcIisodC5vcHRpb25zLmZpeGVkR3V0dGVyP3IuZml4ZWRQb3M6LXIuZ3V0dGVyVG90YWxXaWR0aCkrXCJweDsgd2lkdGg6IFwiK3IuZ3V0dGVyVG90YWxXaWR0aCtcInB4XCIpLHQuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGUuZ3V0dGVyQmFja2dyb3VuZCksaS5pbnNlcnRCZWZvcmUoZS5ndXR0ZXJCYWNrZ3JvdW5kLGUudGV4dCl9dmFyIG89ZS5saW5lLmd1dHRlck1hcmtlcnM7aWYodC5vcHRpb25zLmxpbmVOdW1iZXJzfHxvKXt2YXIgYT1mbihlKSxzPWUuZ3V0dGVyPU0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlclwiLFwibGVmdDogXCIrKHQub3B0aW9ucy5maXhlZEd1dHRlcj9yLmZpeGVkUG9zOi1yLmd1dHRlclRvdGFsV2lkdGgpK1wicHhcIik7aWYodC5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUocyksYS5pbnNlcnRCZWZvcmUocyxlLnRleHQpLGUubGluZS5ndXR0ZXJDbGFzcyYmKHMuY2xhc3NOYW1lKz1cIiBcIitlLmxpbmUuZ3V0dGVyQ2xhc3MpLCF0Lm9wdGlvbnMubGluZU51bWJlcnN8fG8mJm9bXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCJdfHwoZS5saW5lTnVtYmVyPXMuYXBwZW5kQ2hpbGQoTShcImRpdlwiLFF0KHQub3B0aW9ucyxuKSxcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIixcImxlZnQ6IFwiK3IuZ3V0dGVyTGVmdFtcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl0rXCJweDsgd2lkdGg6IFwiK3QuZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCtcInB4XCIpKSksbylmb3IodmFyIGw9MDtsPHQuZGlzcGxheS5ndXR0ZXJTcGVjcy5sZW5ndGg7KytsKXt2YXIgYz10LmRpc3BsYXkuZ3V0dGVyU3BlY3NbbF0uY2xhc3NOYW1lLHU9by5oYXNPd25Qcm9wZXJ0eShjKSYmb1tjXTt1JiZzLmFwcGVuZENoaWxkKE0oXCJkaXZcIixbdV0sXCJDb2RlTWlycm9yLWd1dHRlci1lbHRcIixcImxlZnQ6IFwiK3IuZ3V0dGVyTGVmdFtjXStcInB4OyB3aWR0aDogXCIrci5ndXR0ZXJXaWR0aFtjXStcInB4XCIpKX19fWZ1bmN0aW9uIGduKHQsZSxuKXtlLmFsaWduYWJsZSYmKGUuYWxpZ25hYmxlPW51bGwpO2Zvcih2YXIgcj1lLm5vZGUuZmlyc3RDaGlsZCxpPXZvaWQgMDtyO3I9aSlpPXIubmV4dFNpYmxpbmcsXCJDb2RlTWlycm9yLWxpbmV3aWRnZXRcIj09ci5jbGFzc05hbWUmJmUubm9kZS5yZW1vdmVDaGlsZChyKTt5bih0LGUsbil9ZnVuY3Rpb24gdm4odCxlLG4scil7dmFyIGk9ZG4odCxlKTtyZXR1cm4gZS50ZXh0PWUubm9kZT1pLnByZSxpLmJnQ2xhc3MmJihlLmJnQ2xhc3M9aS5iZ0NsYXNzKSxpLnRleHRDbGFzcyYmKGUudGV4dENsYXNzPWkudGV4dENsYXNzKSxwbih0LGUpLG1uKHQsZSxuLHIpLHluKHQsZSxyKSxlLm5vZGV9ZnVuY3Rpb24geW4odCxlLG4pe2lmKGJuKHQsZS5saW5lLGUsbiwhMCksZS5yZXN0KWZvcih2YXIgcj0wO3I8ZS5yZXN0Lmxlbmd0aDtyKyspYm4odCxlLnJlc3Rbcl0sZSxuLCExKX1mdW5jdGlvbiBibih0LGUsbixyLGkpe2lmKGUud2lkZ2V0cylmb3IodmFyIG89Zm4obiksYT0wLHM9ZS53aWRnZXRzO2E8cy5sZW5ndGg7KythKXt2YXIgbD1zW2FdLGM9TShcImRpdlwiLFtsLm5vZGVdLFwiQ29kZU1pcnJvci1saW5ld2lkZ2V0XCIpO2wuaGFuZGxlTW91c2VFdmVudHN8fGMuc2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiLFwidHJ1ZVwiKSx4bihsLGMsbixyKSx0LmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShjKSxpJiZsLmFib3ZlP28uaW5zZXJ0QmVmb3JlKGMsbi5ndXR0ZXJ8fG4udGV4dCk6by5hcHBlbmRDaGlsZChjKSxsbihsLFwicmVkcmF3XCIpfX1mdW5jdGlvbiB4bih0LGUsbixyKXtpZih0Lm5vSFNjcm9sbCl7KG4uYWxpZ25hYmxlfHwobi5hbGlnbmFibGU9W10pKS5wdXNoKGUpO3ZhciBpPXIud3JhcHBlcldpZHRoO2Uuc3R5bGUubGVmdD1yLmZpeGVkUG9zK1wicHhcIix0LmNvdmVyR3V0dGVyfHwoaS09ci5ndXR0ZXJUb3RhbFdpZHRoLGUuc3R5bGUucGFkZGluZ0xlZnQ9ci5ndXR0ZXJUb3RhbFdpZHRoK1wicHhcIiksZS5zdHlsZS53aWR0aD1pK1wicHhcIn10LmNvdmVyR3V0dGVyJiYoZS5zdHlsZS56SW5kZXg9NSxlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0Lm5vSFNjcm9sbHx8KGUuc3R5bGUubWFyZ2luTGVmdD0tci5ndXR0ZXJUb3RhbFdpZHRoK1wicHhcIikpfWZ1bmN0aW9uIHduKHQpe2lmKG51bGwhPXQuaGVpZ2h0KXJldHVybiB0LmhlaWdodDt2YXIgZT10LmRvYy5jbTtpZighZSlyZXR1cm4gMDtpZighQShkb2N1bWVudC5ib2R5LHQubm9kZSkpe3ZhciBuPVwicG9zaXRpb246IHJlbGF0aXZlO1wiO3QuY292ZXJHdXR0ZXImJihuKz1cIm1hcmdpbi1sZWZ0OiAtXCIrZS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGgrXCJweDtcIiksdC5ub0hTY3JvbGwmJihuKz1cIndpZHRoOiBcIitlLmRpc3BsYXkud3JhcHBlci5jbGllbnRXaWR0aCtcInB4O1wiKSxPKGUuZGlzcGxheS5tZWFzdXJlLE0oXCJkaXZcIixbdC5ub2RlXSxudWxsLG4pKX1yZXR1cm4gdC5oZWlnaHQ9dC5ub2RlLnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0fWZ1bmN0aW9uIENuKHQsZSl7Zm9yKHZhciBuPV90KGUpO24hPXQud3JhcHBlcjtuPW4ucGFyZW50Tm9kZSlpZighbnx8MT09bi5ub2RlVHlwZSYmXCJ0cnVlXCI9PW4uZ2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiKXx8bi5wYXJlbnROb2RlPT10LnNpemVyJiZuIT10Lm1vdmVyKXJldHVybiEwfWZ1bmN0aW9uIGtuKHQpe3JldHVybiB0LmxpbmVTcGFjZS5vZmZzZXRUb3B9ZnVuY3Rpb24gX24odCl7cmV0dXJuIHQubW92ZXIub2Zmc2V0SGVpZ2h0LXQubGluZVNwYWNlLm9mZnNldEhlaWdodH1mdW5jdGlvbiBTbih0KXtpZih0LmNhY2hlZFBhZGRpbmdIKXJldHVybiB0LmNhY2hlZFBhZGRpbmdIO3ZhciBlPU8odC5tZWFzdXJlLE0oXCJwcmVcIixcInhcIixcIkNvZGVNaXJyb3ItbGluZS1saWtlXCIpKSxuPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlP3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpOmUuY3VycmVudFN0eWxlLHI9e2xlZnQ6cGFyc2VJbnQobi5wYWRkaW5nTGVmdCkscmlnaHQ6cGFyc2VJbnQobi5wYWRkaW5nUmlnaHQpfTtyZXR1cm4gaXNOYU4oci5sZWZ0KXx8aXNOYU4oci5yaWdodCl8fCh0LmNhY2hlZFBhZGRpbmdIPXIpLHJ9ZnVuY3Rpb24gRW4odCl7cmV0dXJuIEgtdC5kaXNwbGF5Lm5hdGl2ZUJhcldpZHRofWZ1bmN0aW9uIFRuKHQpe3JldHVybiB0LmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgtRW4odCktdC5kaXNwbGF5LmJhcldpZHRofWZ1bmN0aW9uIE9uKHQpe3JldHVybiB0LmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LUVuKHQpLXQuZGlzcGxheS5iYXJIZWlnaHR9ZnVuY3Rpb24gTW4odCxlLG4pe2lmKHQubGluZT09ZSlyZXR1cm57bWFwOnQubWVhc3VyZS5tYXAsY2FjaGU6dC5tZWFzdXJlLmNhY2hlfTtmb3IodmFyIHI9MDtyPHQucmVzdC5sZW5ndGg7cisrKWlmKHQucmVzdFtyXT09ZSlyZXR1cm57bWFwOnQubWVhc3VyZS5tYXBzW3JdLGNhY2hlOnQubWVhc3VyZS5jYWNoZXNbcl19O2Zvcih2YXIgaT0wO2k8dC5yZXN0Lmxlbmd0aDtpKyspaWYoSnQodC5yZXN0W2ldKT5uKXJldHVybnttYXA6dC5tZWFzdXJlLm1hcHNbaV0sY2FjaGU6dC5tZWFzdXJlLmNhY2hlc1tpXSxiZWZvcmU6ITB9fWZ1bmN0aW9uIExuKHQsZSxuLHIpe3JldHVybiBQbih0LE5uKHQsZSksbixyKX1mdW5jdGlvbiBBbih0LGUpe2lmKGU+PXQuZGlzcGxheS52aWV3RnJvbSYmZTx0LmRpc3BsYXkudmlld1RvKXJldHVybiB0LmRpc3BsYXkudmlld1tscih0LGUpXTt2YXIgbj10LmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtyZXR1cm4gbiYmZT49bi5saW5lTiYmZTxuLmxpbmVOK24uc2l6ZT9uOnZvaWQgMH1mdW5jdGlvbiBObih0LGUpe3ZhciBuPUp0KGUpLHI9QW4odCxuKTtyJiYhci50ZXh0P3I9bnVsbDpyJiZyLmNoYW5nZXMmJih1bih0LHIsbixycih0KSksdC5jdXJPcC5mb3JjZVVwZGF0ZT0hMCkscnx8KHI9ZnVuY3Rpb24odCxlKXt2YXIgbj1KdChlPXplKGUpKSxyPXQuZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkPW5ldyBybih0LmRvYyxlLG4pO3IubGluZU49bjt2YXIgaT1yLmJ1aWx0PVhlKHQscik7cmV0dXJuIHIudGV4dD1pLnByZSxPKHQuZGlzcGxheS5saW5lTWVhc3VyZSxpLnByZSkscn0odCxlKSk7dmFyIGk9TW4ocixlLG4pO3JldHVybntsaW5lOmUsdmlldzpyLHJlY3Q6bnVsbCxtYXA6aS5tYXAsY2FjaGU6aS5jYWNoZSxiZWZvcmU6aS5iZWZvcmUsaGFzSGVpZ2h0czohMX19ZnVuY3Rpb24gUG4odCxlLG4scixpKXtlLmJlZm9yZSYmKG49LTEpO3ZhciBvLGw9bisocnx8XCJcIik7cmV0dXJuIGUuY2FjaGUuaGFzT3duUHJvcGVydHkobCk/bz1lLmNhY2hlW2xdOihlLnJlY3R8fChlLnJlY3Q9ZS52aWV3LnRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLGUuaGFzSGVpZ2h0c3x8KGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10Lm9wdGlvbnMubGluZVdyYXBwaW5nLGk9ciYmVG4odCk7aWYoIWUubWVhc3VyZS5oZWlnaHRzfHxyJiZlLm1lYXN1cmUud2lkdGghPWkpe3ZhciBvPWUubWVhc3VyZS5oZWlnaHRzPVtdO2lmKHIpe2UubWVhc3VyZS53aWR0aD1pO2Zvcih2YXIgYT1lLnRleHQuZmlyc3RDaGlsZC5nZXRDbGllbnRSZWN0cygpLHM9MDtzPGEubGVuZ3RoLTE7cysrKXt2YXIgbD1hW3NdLGM9YVtzKzFdO01hdGguYWJzKGwuYm90dG9tLWMuYm90dG9tKT4yJiZvLnB1c2goKGwuYm90dG9tK2MudG9wKS8yLW4udG9wKX19by5wdXNoKG4uYm90dG9tLW4udG9wKX19KHQsZS52aWV3LGUucmVjdCksZS5oYXNIZWlnaHRzPSEwKSwobz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvPWpuKGUubWFwLG4sciksbD1vLm5vZGUsYz1vLnN0YXJ0LHU9by5lbmQsZj1vLmNvbGxhcHNlO2lmKDM9PWwubm9kZVR5cGUpe2Zvcih2YXIgZD0wO2Q8NDtkKyspe2Zvcig7YyYmaXQoZS5saW5lLnRleHQuY2hhckF0KG8uY292ZXJTdGFydCtjKSk7KS0tYztmb3IoO28uY292ZXJTdGFydCt1PG8uY292ZXJFbmQmJml0KGUubGluZS50ZXh0LmNoYXJBdChvLmNvdmVyU3RhcnQrdSkpOykrK3U7aWYoKGk9YSYmczw5JiYwPT1jJiZ1PT1vLmNvdmVyRW5kLW8uY292ZXJTdGFydD9sLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6RG4oUyhsLGMsdSkuZ2V0Q2xpZW50UmVjdHMoKSxyKSkubGVmdHx8aS5yaWdodHx8MD09YylicmVhazt1PWMsYy09MSxmPVwicmlnaHRcIn1hJiZzPDExJiYoaT1mdW5jdGlvbih0LGUpe2lmKCF3aW5kb3cuc2NyZWVufHxudWxsPT1zY3JlZW4ubG9naWNhbFhEUEl8fHNjcmVlbi5sb2dpY2FsWERQST09c2NyZWVuLmRldmljZVhEUEl8fCFmdW5jdGlvbih0KXtpZihudWxsIT1JdClyZXR1cm4gSXQ7dmFyIGU9Tyh0LE0oXCJzcGFuXCIsXCJ4XCIpKSxuPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1TKGUsMCwxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gSXQ9TWF0aC5hYnMobi5sZWZ0LXIubGVmdCk+MX0odCkpcmV0dXJuIGU7dmFyIG49c2NyZWVuLmxvZ2ljYWxYRFBJL3NjcmVlbi5kZXZpY2VYRFBJLHI9c2NyZWVuLmxvZ2ljYWxZRFBJL3NjcmVlbi5kZXZpY2VZRFBJO3JldHVybntsZWZ0OmUubGVmdCpuLHJpZ2h0OmUucmlnaHQqbix0b3A6ZS50b3Aqcixib3R0b206ZS5ib3R0b20qcn19KHQuZGlzcGxheS5tZWFzdXJlLGkpKX1lbHNle3ZhciBoO2M+MCYmKGY9cj1cInJpZ2h0XCIpLGk9dC5vcHRpb25zLmxpbmVXcmFwcGluZyYmKGg9bC5nZXRDbGllbnRSZWN0cygpKS5sZW5ndGg+MT9oW1wicmlnaHRcIj09cj9oLmxlbmd0aC0xOjBdOmwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9aWYoYSYmczw5JiYhYyYmKCFpfHwhaS5sZWZ0JiYhaS5yaWdodCkpe3ZhciBwPWwucGFyZW50Tm9kZS5nZXRDbGllbnRSZWN0cygpWzBdO2k9cD97bGVmdDpwLmxlZnQscmlnaHQ6cC5sZWZ0K25yKHQuZGlzcGxheSksdG9wOnAudG9wLGJvdHRvbTpwLmJvdHRvbX06SW59Zm9yKHZhciBtPWkudG9wLWUucmVjdC50b3AsZz1pLmJvdHRvbS1lLnJlY3QudG9wLHY9KG0rZykvMix5PWUudmlldy5tZWFzdXJlLmhlaWdodHMsYj0wO2I8eS5sZW5ndGgtMSYmISh2PHlbYl0pO2IrKyk7dmFyIHg9Yj95W2ItMV06MCx3PXlbYl0sQz17bGVmdDooXCJyaWdodFwiPT1mP2kucmlnaHQ6aS5sZWZ0KS1lLnJlY3QubGVmdCxyaWdodDooXCJsZWZ0XCI9PWY/aS5sZWZ0OmkucmlnaHQpLWUucmVjdC5sZWZ0LHRvcDp4LGJvdHRvbTp3fTtyZXR1cm4gaS5sZWZ0fHxpLnJpZ2h0fHwoQy5ib2d1cz0hMCksdC5vcHRpb25zLnNpbmdsZUN1cnNvckhlaWdodFBlckxpbmV8fChDLnJ0b3A9bSxDLnJib3R0b209ZyksQ30odCxlLG4scikpLmJvZ3VzfHwoZS5jYWNoZVtsXT1vKSkse2xlZnQ6by5sZWZ0LHJpZ2h0Om8ucmlnaHQsdG9wOmk/by5ydG9wOm8udG9wLGJvdHRvbTppP28ucmJvdHRvbTpvLmJvdHRvbX19dmFyIEZuLEluPXtsZWZ0OjAscmlnaHQ6MCx0b3A6MCxib3R0b206MH07ZnVuY3Rpb24gam4odCxlLG4pe2Zvcih2YXIgcixpLG8sYSxzLGwsYz0wO2M8dC5sZW5ndGg7Yys9MylpZihzPXRbY10sbD10W2MrMV0sZTxzPyhpPTAsbz0xLGE9XCJsZWZ0XCIpOmU8bD9vPTErKGk9ZS1zKTooYz09dC5sZW5ndGgtM3x8ZT09bCYmdFtjKzNdPmUpJiYoaT0obz1sLXMpLTEsZT49bCYmKGE9XCJyaWdodFwiKSksbnVsbCE9aSl7aWYocj10W2MrMl0scz09bCYmbj09KHIuaW5zZXJ0TGVmdD9cImxlZnRcIjpcInJpZ2h0XCIpJiYoYT1uKSxcImxlZnRcIj09biYmMD09aSlmb3IoO2MmJnRbYy0yXT09dFtjLTNdJiZ0W2MtMV0uaW5zZXJ0TGVmdDspcj10WzIrKGMtPTMpXSxhPVwibGVmdFwiO2lmKFwicmlnaHRcIj09biYmaT09bC1zKWZvcig7Yzx0Lmxlbmd0aC0zJiZ0W2MrM109PXRbYys0XSYmIXRbYys1XS5pbnNlcnRMZWZ0OylyPXRbKGMrPTMpKzJdLGE9XCJyaWdodFwiO2JyZWFrfXJldHVybntub2RlOnIsc3RhcnQ6aSxlbmQ6byxjb2xsYXBzZTphLGNvdmVyU3RhcnQ6cyxjb3ZlckVuZDpsfX1mdW5jdGlvbiBEbih0LGUpe3ZhciBuPUluO2lmKFwibGVmdFwiPT1lKWZvcih2YXIgcj0wO3I8dC5sZW5ndGgmJihuPXRbcl0pLmxlZnQ9PW4ucmlnaHQ7cisrKTtlbHNlIGZvcih2YXIgaT10Lmxlbmd0aC0xO2k+PTAmJihuPXRbaV0pLmxlZnQ9PW4ucmlnaHQ7aS0tKTtyZXR1cm4gbn1mdW5jdGlvbiB6bih0KXtpZih0Lm1lYXN1cmUmJih0Lm1lYXN1cmUuY2FjaGU9e30sdC5tZWFzdXJlLmhlaWdodHM9bnVsbCx0LnJlc3QpKWZvcih2YXIgZT0wO2U8dC5yZXN0Lmxlbmd0aDtlKyspdC5tZWFzdXJlLmNhY2hlc1tlXT17fX1mdW5jdGlvbiBSbih0KXt0LmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlPW51bGwsVCh0LmRpc3BsYXkubGluZU1lYXN1cmUpO2Zvcih2YXIgZT0wO2U8dC5kaXNwbGF5LnZpZXcubGVuZ3RoO2UrKyl6bih0LmRpc3BsYXkudmlld1tlXSl9ZnVuY3Rpb24gQm4odCl7Um4odCksdC5kaXNwbGF5LmNhY2hlZENoYXJXaWR0aD10LmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodD10LmRpc3BsYXkuY2FjaGVkUGFkZGluZ0g9bnVsbCx0Lm9wdGlvbnMubGluZVdyYXBwaW5nfHwodC5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkPSEwKSx0LmRpc3BsYXkubGluZU51bUNoYXJzPW51bGx9ZnVuY3Rpb24gSG4oKXtyZXR1cm4gdSYmZz8tKGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1wYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLm1hcmdpbkxlZnQpKTp3aW5kb3cucGFnZVhPZmZzZXR8fChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkpLnNjcm9sbExlZnR9ZnVuY3Rpb24gV24oKXtyZXR1cm4gdSYmZz8tKGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkubWFyZ2luVG9wKSk6d2luZG93LnBhZ2VZT2Zmc2V0fHwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3B9ZnVuY3Rpb24gVW4odCl7dmFyIGU9MDtpZih0LndpZGdldHMpZm9yKHZhciBuPTA7bjx0LndpZGdldHMubGVuZ3RoOysrbil0LndpZGdldHNbbl0uYWJvdmUmJihlKz13bih0LndpZGdldHNbbl0pKTtyZXR1cm4gZX1mdW5jdGlvbiBWbih0LGUsbixyLGkpe2lmKCFpKXt2YXIgbz1VbihlKTtuLnRvcCs9byxuLmJvdHRvbSs9b31pZihcImxpbmVcIj09cilyZXR1cm4gbjtyfHwocj1cImxvY2FsXCIpO3ZhciBhPVVlKGUpO2lmKFwibG9jYWxcIj09cj9hKz1rbih0LmRpc3BsYXkpOmEtPXQuZGlzcGxheS52aWV3T2Zmc2V0LFwicGFnZVwiPT1yfHxcIndpbmRvd1wiPT1yKXt2YXIgcz10LmRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2ErPXMudG9wKyhcIndpbmRvd1wiPT1yPzA6V24oKSk7dmFyIGw9cy5sZWZ0KyhcIndpbmRvd1wiPT1yPzA6SG4oKSk7bi5sZWZ0Kz1sLG4ucmlnaHQrPWx9cmV0dXJuIG4udG9wKz1hLG4uYm90dG9tKz1hLG59ZnVuY3Rpb24gR24odCxlLG4pe2lmKFwiZGl2XCI9PW4pcmV0dXJuIGU7dmFyIHI9ZS5sZWZ0LGk9ZS50b3A7aWYoXCJwYWdlXCI9PW4pci09SG4oKSxpLT1XbigpO2Vsc2UgaWYoXCJsb2NhbFwiPT1ufHwhbil7dmFyIG89dC5kaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3IrPW8ubGVmdCxpKz1vLnRvcH12YXIgYT10LmRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybntsZWZ0OnItYS5sZWZ0LHRvcDppLWEudG9wfX1mdW5jdGlvbiBLbih0LGUsbixyLGkpe3JldHVybiByfHwocj1LdCh0LmRvYyxlLmxpbmUpKSxWbih0LHIsTG4odCxyLGUuY2gsaSksbil9ZnVuY3Rpb24gJG4odCxlLG4scixpLG8pe2Z1bmN0aW9uIGEoZSxhKXt2YXIgcz1Qbih0LGksZSxhP1wicmlnaHRcIjpcImxlZnRcIixvKTtyZXR1cm4gYT9zLmxlZnQ9cy5yaWdodDpzLnJpZ2h0PXMubGVmdCxWbih0LHIscyxuKX1yPXJ8fEt0KHQuZG9jLGUubGluZSksaXx8KGk9Tm4odCxyKSk7dmFyIHM9dXQocix0LmRvYy5kaXJlY3Rpb24pLGw9ZS5jaCxjPWUuc3RpY2t5O2lmKGw+PXIudGV4dC5sZW5ndGg/KGw9ci50ZXh0Lmxlbmd0aCxjPVwiYmVmb3JlXCIpOmw8PTAmJihsPTAsYz1cImFmdGVyXCIpLCFzKXJldHVybiBhKFwiYmVmb3JlXCI9PWM/bC0xOmwsXCJiZWZvcmVcIj09Yyk7ZnVuY3Rpb24gdSh0LGUsbil7dmFyIHI9c1tlXSxpPTE9PXIubGV2ZWw7cmV0dXJuIGEobj90LTE6dCxpIT1uKX12YXIgZj1sdChzLGwsYyksZD1zdCxoPXUobCxmLFwiYmVmb3JlXCI9PWMpO3JldHVybiBudWxsIT1kJiYoaC5vdGhlcj11KGwsZCxcImJlZm9yZVwiIT1jKSksaH1mdW5jdGlvbiBxbih0LGUpe3ZhciBuPTA7ZT1zZSh0LmRvYyxlKSx0Lm9wdGlvbnMubGluZVdyYXBwaW5nfHwobj1ucih0LmRpc3BsYXkpKmUuY2gpO3ZhciByPUt0KHQuZG9jLGUubGluZSksaT1VZShyKStrbih0LmRpc3BsYXkpO3JldHVybntsZWZ0Om4scmlnaHQ6bix0b3A6aSxib3R0b206aStyLmhlaWdodH19ZnVuY3Rpb24gWW4odCxlLG4scixpKXt2YXIgbz10ZSh0LGUsbik7cmV0dXJuIG8ueFJlbD1pLHImJihvLm91dHNpZGU9ciksb31mdW5jdGlvbiBKbih0LGUsbil7dmFyIHI9dC5kb2M7aWYoKG4rPXQuZGlzcGxheS52aWV3T2Zmc2V0KTwwKXJldHVybiBZbihyLmZpcnN0LDAsbnVsbCwtMSwtMSk7dmFyIGk9WHQocixuKSxvPXIuZmlyc3Qrci5zaXplLTE7aWYoaT5vKXJldHVybiBZbihyLmZpcnN0K3Iuc2l6ZS0xLEt0KHIsbykudGV4dC5sZW5ndGgsbnVsbCwxLDEpO2U8MCYmKGU9MCk7Zm9yKHZhciBhPUt0KHIsaSk7Oyl7dmFyIHM9dHIodCxhLGksZSxuKSxsPWplKGEscy5jaCsocy54UmVsPjB8fHMub3V0c2lkZT4wPzE6MCkpO2lmKCFsKXJldHVybiBzO3ZhciBjPWwuZmluZCgxKTtpZihjLmxpbmU9PWkpcmV0dXJuIGM7YT1LdChyLGk9Yy5saW5lKX19ZnVuY3Rpb24gWG4odCxlLG4scil7ci09VW4oZSk7dmFyIGk9ZS50ZXh0Lmxlbmd0aCxvPWF0KGZ1bmN0aW9uKGUpe3JldHVybiBQbih0LG4sZS0xKS5ib3R0b208PXJ9LGksMCk7cmV0dXJuIGk9YXQoZnVuY3Rpb24oZSl7cmV0dXJuIFBuKHQsbixlKS50b3A+cn0sbyxpKSx7YmVnaW46byxlbmQ6aX19ZnVuY3Rpb24gWm4odCxlLG4scil7bnx8KG49Tm4odCxlKSk7dmFyIGk9Vm4odCxlLFBuKHQsbixyKSxcImxpbmVcIikudG9wO3JldHVybiBYbih0LGUsbixpKX1mdW5jdGlvbiBRbih0LGUsbixyKXtyZXR1cm4hKHQuYm90dG9tPD1uKSYmKHQudG9wPm58fChyP3QubGVmdDp0LnJpZ2h0KT5lKX1mdW5jdGlvbiB0cih0LGUsbixyLGkpe2ktPVVlKGUpO3ZhciBvPU5uKHQsZSksYT1VbihlKSxzPTAsbD1lLnRleHQubGVuZ3RoLGM9ITAsdT11dChlLHQuZG9jLmRpcmVjdGlvbik7aWYodSl7dmFyIGY9KHQub3B0aW9ucy5saW5lV3JhcHBpbmc/ZnVuY3Rpb24odCxlLG4scixpLG8sYSl7dmFyIHM9WG4odCxlLHIsYSksbD1zLmJlZ2luLGM9cy5lbmQ7L1xccy8udGVzdChlLnRleHQuY2hhckF0KGMtMSkpJiZjLS07Zm9yKHZhciB1PW51bGwsZj1udWxsLGQ9MDtkPGkubGVuZ3RoO2QrKyl7dmFyIGg9aVtkXTtpZighKGguZnJvbT49Y3x8aC50bzw9bCkpe3ZhciBwPTEhPWgubGV2ZWwsbT1Qbih0LHIscD9NYXRoLm1pbihjLGgudG8pLTE6TWF0aC5tYXgobCxoLmZyb20pKS5yaWdodCxnPW08bz9vLW0rMWU5Om0tbzsoIXV8fGY+ZykmJih1PWgsZj1nKX19cmV0dXJuIHV8fCh1PWlbaS5sZW5ndGgtMV0pLHUuZnJvbTxsJiYodT17ZnJvbTpsLHRvOnUudG8sbGV2ZWw6dS5sZXZlbH0pLHUudG8+YyYmKHU9e2Zyb206dS5mcm9tLHRvOmMsbGV2ZWw6dS5sZXZlbH0pLHV9OmZ1bmN0aW9uKHQsZSxuLHIsaSxvLGEpe3ZhciBzPWF0KGZ1bmN0aW9uKHMpe3ZhciBsPWlbc10sYz0xIT1sLmxldmVsO3JldHVybiBRbigkbih0LHRlKG4sYz9sLnRvOmwuZnJvbSxjP1wiYmVmb3JlXCI6XCJhZnRlclwiKSxcImxpbmVcIixlLHIpLG8sYSwhMCl9LDAsaS5sZW5ndGgtMSksbD1pW3NdO2lmKHM+MCl7dmFyIGM9MSE9bC5sZXZlbCx1PSRuKHQsdGUobixjP2wuZnJvbTpsLnRvLGM/XCJhZnRlclwiOlwiYmVmb3JlXCIpLFwibGluZVwiLGUscik7UW4odSxvLGEsITApJiZ1LnRvcD5hJiYobD1pW3MtMV0pfXJldHVybiBsfSkodCxlLG4sbyx1LHIsaSk7Yz0xIT1mLmxldmVsLHM9Yz9mLmZyb206Zi50by0xLGw9Yz9mLnRvOmYuZnJvbS0xfXZhciBkLGgscD1udWxsLG09bnVsbCxnPWF0KGZ1bmN0aW9uKGUpe3ZhciBuPVBuKHQsbyxlKTtyZXR1cm4gbi50b3ArPWEsbi5ib3R0b20rPWEsISFRbihuLHIsaSwhMSkmJihuLnRvcDw9aSYmbi5sZWZ0PD1yJiYocD1lLG09biksITApfSxzLGwpLHY9ITE7aWYobSl7dmFyIHk9ci1tLmxlZnQ8bS5yaWdodC1yLGI9eT09YztnPXArKGI/MDoxKSxoPWI/XCJhZnRlclwiOlwiYmVmb3JlXCIsZD15P20ubGVmdDptLnJpZ2h0fWVsc2V7Y3x8ZyE9bCYmZyE9c3x8ZysrLGg9MD09Zz9cImFmdGVyXCI6Zz09ZS50ZXh0Lmxlbmd0aD9cImJlZm9yZVwiOlBuKHQsbyxnLShjPzE6MCkpLmJvdHRvbSthPD1pPT1jP1wiYWZ0ZXJcIjpcImJlZm9yZVwiO3ZhciB4PSRuKHQsdGUobixnLGgpLFwibGluZVwiLGUsbyk7ZD14LmxlZnQsdj1pPHgudG9wPy0xOmk+PXguYm90dG9tPzE6MH1yZXR1cm4gZz1vdChlLnRleHQsZywxKSxZbihuLGcsaCx2LHItZCl9ZnVuY3Rpb24gZXIodCl7aWYobnVsbCE9dC5jYWNoZWRUZXh0SGVpZ2h0KXJldHVybiB0LmNhY2hlZFRleHRIZWlnaHQ7aWYobnVsbD09Rm4pe0ZuPU0oXCJwcmVcIixudWxsLFwiQ29kZU1pcnJvci1saW5lLWxpa2VcIik7Zm9yKHZhciBlPTA7ZTw0OTsrK2UpRm4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpKSxGbi5hcHBlbmRDaGlsZChNKFwiYnJcIikpO0ZuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKSl9Tyh0Lm1lYXN1cmUsRm4pO3ZhciBuPUZuLm9mZnNldEhlaWdodC81MDtyZXR1cm4gbj4zJiYodC5jYWNoZWRUZXh0SGVpZ2h0PW4pLFQodC5tZWFzdXJlKSxufHwxfWZ1bmN0aW9uIG5yKHQpe2lmKG51bGwhPXQuY2FjaGVkQ2hhcldpZHRoKXJldHVybiB0LmNhY2hlZENoYXJXaWR0aDt2YXIgZT1NKFwic3BhblwiLFwieHh4eHh4eHh4eFwiKSxuPU0oXCJwcmVcIixbZV0sXCJDb2RlTWlycm9yLWxpbmUtbGlrZVwiKTtPKHQubWVhc3VyZSxuKTt2YXIgcj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9KHIucmlnaHQtci5sZWZ0KS8xMDtyZXR1cm4gaT4yJiYodC5jYWNoZWRDaGFyV2lkdGg9aSksaXx8MTB9ZnVuY3Rpb24gcnIodCl7Zm9yKHZhciBlPXQuZGlzcGxheSxuPXt9LHI9e30saT1lLmd1dHRlcnMuY2xpZW50TGVmdCxvPWUuZ3V0dGVycy5maXJzdENoaWxkLGE9MDtvO289by5uZXh0U2libGluZywrK2Epe3ZhciBzPXQuZGlzcGxheS5ndXR0ZXJTcGVjc1thXS5jbGFzc05hbWU7bltzXT1vLm9mZnNldExlZnQrby5jbGllbnRMZWZ0K2kscltzXT1vLmNsaWVudFdpZHRofXJldHVybntmaXhlZFBvczppcihlKSxndXR0ZXJUb3RhbFdpZHRoOmUuZ3V0dGVycy5vZmZzZXRXaWR0aCxndXR0ZXJMZWZ0Om4sZ3V0dGVyV2lkdGg6cix3cmFwcGVyV2lkdGg6ZS53cmFwcGVyLmNsaWVudFdpZHRofX1mdW5jdGlvbiBpcih0KXtyZXR1cm4gdC5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LXQuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH1mdW5jdGlvbiBvcih0KXt2YXIgZT1lcih0LmRpc3BsYXkpLG49dC5vcHRpb25zLmxpbmVXcmFwcGluZyxyPW4mJk1hdGgubWF4KDUsdC5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoL25yKHQuZGlzcGxheSktMyk7cmV0dXJuIGZ1bmN0aW9uKGkpe2lmKEhlKHQuZG9jLGkpKXJldHVybiAwO3ZhciBvPTA7aWYoaS53aWRnZXRzKWZvcih2YXIgYT0wO2E8aS53aWRnZXRzLmxlbmd0aDthKyspaS53aWRnZXRzW2FdLmhlaWdodCYmKG8rPWkud2lkZ2V0c1thXS5oZWlnaHQpO3JldHVybiBuP28rKE1hdGguY2VpbChpLnRleHQubGVuZ3RoL3IpfHwxKSplOm8rZX19ZnVuY3Rpb24gYXIodCl7dmFyIGU9dC5kb2Msbj1vcih0KTtlLml0ZXIoZnVuY3Rpb24odCl7dmFyIGU9bih0KTtlIT10LmhlaWdodCYmWXQodCxlKX0pfWZ1bmN0aW9uIHNyKHQsZSxuLHIpe3ZhciBpPXQuZGlzcGxheTtpZighbiYmXCJ0cnVlXCI9PV90KGUpLmdldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIpKXJldHVybiBudWxsO3ZhciBvLGEscz1pLmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0cnl7bz1lLmNsaWVudFgtcy5sZWZ0LGE9ZS5jbGllbnRZLXMudG9wfWNhdGNoKGUpe3JldHVybiBudWxsfXZhciBsLGM9Sm4odCxvLGEpO2lmKHImJjE9PWMueFJlbCYmKGw9S3QodC5kb2MsYy5saW5lKS50ZXh0KS5sZW5ndGg9PWMuY2gpe3ZhciB1PXoobCxsLmxlbmd0aCx0Lm9wdGlvbnMudGFiU2l6ZSktbC5sZW5ndGg7Yz10ZShjLmxpbmUsTWF0aC5tYXgoMCxNYXRoLnJvdW5kKChvLVNuKHQuZGlzcGxheSkubGVmdCkvbnIodC5kaXNwbGF5KSktdSkpfXJldHVybiBjfWZ1bmN0aW9uIGxyKHQsZSl7aWYoZT49dC5kaXNwbGF5LnZpZXdUbylyZXR1cm4gbnVsbDtpZigoZS09dC5kaXNwbGF5LnZpZXdGcm9tKTwwKXJldHVybiBudWxsO2Zvcih2YXIgbj10LmRpc3BsYXkudmlldyxyPTA7cjxuLmxlbmd0aDtyKyspaWYoKGUtPW5bcl0uc2l6ZSk8MClyZXR1cm4gcn1mdW5jdGlvbiBjcih0LGUsbixyKXtudWxsPT1lJiYoZT10LmRvYy5maXJzdCksbnVsbD09biYmKG49dC5kb2MuZmlyc3QrdC5kb2Muc2l6ZSkscnx8KHI9MCk7dmFyIGk9dC5kaXNwbGF5O2lmKHImJm48aS52aWV3VG8mJihudWxsPT1pLnVwZGF0ZUxpbmVOdW1iZXJzfHxpLnVwZGF0ZUxpbmVOdW1iZXJzPmUpJiYoaS51cGRhdGVMaW5lTnVtYmVycz1lKSx0LmN1ck9wLnZpZXdDaGFuZ2VkPSEwLGU+PWkudmlld1RvKUNlJiZSZSh0LmRvYyxlKTxpLnZpZXdUbyYmZnIodCk7ZWxzZSBpZihuPD1pLnZpZXdGcm9tKUNlJiZCZSh0LmRvYyxuK3IpPmkudmlld0Zyb20/ZnIodCk6KGkudmlld0Zyb20rPXIsaS52aWV3VG8rPXIpO2Vsc2UgaWYoZTw9aS52aWV3RnJvbSYmbj49aS52aWV3VG8pZnIodCk7ZWxzZSBpZihlPD1pLnZpZXdGcm9tKXt2YXIgbz1kcih0LG4sbityLDEpO28/KGkudmlldz1pLnZpZXcuc2xpY2Uoby5pbmRleCksaS52aWV3RnJvbT1vLmxpbmVOLGkudmlld1RvKz1yKTpmcih0KX1lbHNlIGlmKG4+PWkudmlld1RvKXt2YXIgYT1kcih0LGUsZSwtMSk7YT8oaS52aWV3PWkudmlldy5zbGljZSgwLGEuaW5kZXgpLGkudmlld1RvPWEubGluZU4pOmZyKHQpfWVsc2V7dmFyIHM9ZHIodCxlLGUsLTEpLGw9ZHIodCxuLG4rciwxKTtzJiZsPyhpLnZpZXc9aS52aWV3LnNsaWNlKDAscy5pbmRleCkuY29uY2F0KG9uKHQscy5saW5lTixsLmxpbmVOKSkuY29uY2F0KGkudmlldy5zbGljZShsLmluZGV4KSksaS52aWV3VG8rPXIpOmZyKHQpfXZhciBjPWkuZXh0ZXJuYWxNZWFzdXJlZDtjJiYobjxjLmxpbmVOP2MubGluZU4rPXI6ZTxjLmxpbmVOK2Muc2l6ZSYmKGkuZXh0ZXJuYWxNZWFzdXJlZD1udWxsKSl9ZnVuY3Rpb24gdXIodCxlLG4pe3QuY3VyT3Audmlld0NoYW5nZWQ9ITA7dmFyIHI9dC5kaXNwbGF5LGk9dC5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7aWYoaSYmZT49aS5saW5lTiYmZTxpLmxpbmVOK2kuc2l6ZSYmKHIuZXh0ZXJuYWxNZWFzdXJlZD1udWxsKSwhKGU8ci52aWV3RnJvbXx8ZT49ci52aWV3VG8pKXt2YXIgbz1yLnZpZXdbbHIodCxlKV07aWYobnVsbCE9by5ub2RlKXt2YXIgYT1vLmNoYW5nZXN8fChvLmNoYW5nZXM9W10pOy0xPT1CKGEsbikmJmEucHVzaChuKX19fWZ1bmN0aW9uIGZyKHQpe3QuZGlzcGxheS52aWV3RnJvbT10LmRpc3BsYXkudmlld1RvPXQuZG9jLmZpcnN0LHQuZGlzcGxheS52aWV3PVtdLHQuZGlzcGxheS52aWV3T2Zmc2V0PTB9ZnVuY3Rpb24gZHIodCxlLG4scil7dmFyIGksbz1scih0LGUpLGE9dC5kaXNwbGF5LnZpZXc7aWYoIUNlfHxuPT10LmRvYy5maXJzdCt0LmRvYy5zaXplKXJldHVybntpbmRleDpvLGxpbmVOOm59O2Zvcih2YXIgcz10LmRpc3BsYXkudmlld0Zyb20sbD0wO2w8bztsKyspcys9YVtsXS5zaXplO2lmKHMhPWUpe2lmKHI+MCl7aWYobz09YS5sZW5ndGgtMSlyZXR1cm4gbnVsbDtpPXMrYVtvXS5zaXplLWUsbysrfWVsc2UgaT1zLWU7ZSs9aSxuKz1pfWZvcig7UmUodC5kb2MsbikhPW47KXtpZihvPT0ocjwwPzA6YS5sZW5ndGgtMSkpcmV0dXJuIG51bGw7bis9ciphW28tKHI8MD8xOjApXS5zaXplLG8rPXJ9cmV0dXJue2luZGV4Om8sbGluZU46bn19ZnVuY3Rpb24gaHIodCl7Zm9yKHZhciBlPXQuZGlzcGxheS52aWV3LG49MCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl07aS5oaWRkZW58fGkubm9kZSYmIWkuY2hhbmdlc3x8KytufXJldHVybiBufWZ1bmN0aW9uIHByKHQpe3QuZGlzcGxheS5pbnB1dC5zaG93U2VsZWN0aW9uKHQuZGlzcGxheS5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKCkpfWZ1bmN0aW9uIG1yKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApO2Zvcih2YXIgbj10LmRvYyxyPXt9LGk9ci5jdXJzb3JzPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxvPXIuc2VsZWN0aW9uPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxhPTA7YTxuLnNlbC5yYW5nZXMubGVuZ3RoO2ErKylpZihlfHxhIT1uLnNlbC5wcmltSW5kZXgpe3ZhciBzPW4uc2VsLnJhbmdlc1thXTtpZighKHMuZnJvbSgpLmxpbmU+PXQuZGlzcGxheS52aWV3VG98fHMudG8oKS5saW5lPHQuZGlzcGxheS52aWV3RnJvbSkpe3ZhciBsPXMuZW1wdHkoKTsobHx8dC5vcHRpb25zLnNob3dDdXJzb3JXaGVuU2VsZWN0aW5nKSYmZ3IodCxzLmhlYWQsaSksbHx8eXIodCxzLG8pfX1yZXR1cm4gcn1mdW5jdGlvbiBncih0LGUsbil7dmFyIHI9JG4odCxlLFwiZGl2XCIsbnVsbCxudWxsLCF0Lm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSksaT1uLmFwcGVuZENoaWxkKE0oXCJkaXZcIixcIsKgXCIsXCJDb2RlTWlycm9yLWN1cnNvclwiKSk7aWYoaS5zdHlsZS5sZWZ0PXIubGVmdCtcInB4XCIsaS5zdHlsZS50b3A9ci50b3ArXCJweFwiLGkuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsci5ib3R0b20tci50b3ApKnQub3B0aW9ucy5jdXJzb3JIZWlnaHQrXCJweFwiLHIub3RoZXIpe3ZhciBvPW4uYXBwZW5kQ2hpbGQoTShcImRpdlwiLFwiwqBcIixcIkNvZGVNaXJyb3ItY3Vyc29yIENvZGVNaXJyb3Itc2Vjb25kYXJ5Y3Vyc29yXCIpKTtvLnN0eWxlLmRpc3BsYXk9XCJcIixvLnN0eWxlLmxlZnQ9ci5vdGhlci5sZWZ0K1wicHhcIixvLnN0eWxlLnRvcD1yLm90aGVyLnRvcCtcInB4XCIsby5zdHlsZS5oZWlnaHQ9Ljg1KihyLm90aGVyLmJvdHRvbS1yLm90aGVyLnRvcCkrXCJweFwifX1mdW5jdGlvbiB2cih0LGUpe3JldHVybiB0LnRvcC1lLnRvcHx8dC5sZWZ0LWUubGVmdH1mdW5jdGlvbiB5cih0LGUsbil7dmFyIHI9dC5kaXNwbGF5LGk9dC5kb2Msbz1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYT1Tbih0LmRpc3BsYXkpLHM9YS5sZWZ0LGw9TWF0aC5tYXgoci5zaXplcldpZHRoLFRuKHQpLXIuc2l6ZXIub2Zmc2V0TGVmdCktYS5yaWdodCxjPVwibHRyXCI9PWkuZGlyZWN0aW9uO2Z1bmN0aW9uIHUodCxlLG4scil7ZTwwJiYoZT0wKSxlPU1hdGgucm91bmQoZSkscj1NYXRoLnJvdW5kKHIpLG8uYXBwZW5kQ2hpbGQoTShcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLXNlbGVjdGVkXCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IFwiK3QrXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIrZStcInB4OyB3aWR0aDogXCIrKG51bGw9PW4/bC10Om4pK1wicHg7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiKyhyLWUpK1wicHhcIikpfWZ1bmN0aW9uIGYoZSxuLHIpe3ZhciBvLGEsZj1LdChpLGUpLGQ9Zi50ZXh0Lmxlbmd0aDtmdW5jdGlvbiBoKG4scil7cmV0dXJuIEtuKHQsdGUoZSxuKSxcImRpdlwiLGYscil9ZnVuY3Rpb24gcChlLG4scil7dmFyIGk9Wm4odCxmLG51bGwsZSksbz1cImx0clwiPT1uPT0oXCJhZnRlclwiPT1yKT9cImxlZnRcIjpcInJpZ2h0XCIsYT1cImFmdGVyXCI9PXI/aS5iZWdpbjppLmVuZC0oL1xccy8udGVzdChmLnRleHQuY2hhckF0KGkuZW5kLTEpKT8yOjEpO3JldHVybiBoKGEsbylbb119dmFyIG09dXQoZixpLmRpcmVjdGlvbik7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe2lmKCF0KXJldHVybiByKGUsbixcImx0clwiLDApO2Zvcih2YXIgaT0hMSxvPTA7bzx0Lmxlbmd0aDsrK28pe3ZhciBhPXRbb107KGEuZnJvbTxuJiZhLnRvPmV8fGU9PW4mJmEudG89PWUpJiYocihNYXRoLm1heChhLmZyb20sZSksTWF0aC5taW4oYS50byxuKSwxPT1hLmxldmVsP1wicnRsXCI6XCJsdHJcIixvKSxpPSEwKX1pfHxyKGUsbixcImx0clwiKX0obSxufHwwLG51bGw9PXI/ZDpyLGZ1bmN0aW9uKHQsZSxpLGYpe3ZhciBnPVwibHRyXCI9PWksdj1oKHQsZz9cImxlZnRcIjpcInJpZ2h0XCIpLHk9aChlLTEsZz9cInJpZ2h0XCI6XCJsZWZ0XCIpLGI9bnVsbD09biYmMD09dCx4PW51bGw9PXImJmU9PWQsdz0wPT1mLEM9IW18fGY9PW0ubGVuZ3RoLTE7aWYoeS50b3Atdi50b3A8PTMpe3ZhciBrPShjP2I6eCkmJncsXz0oYz94OmIpJiZDLFM9az9zOihnP3Y6eSkubGVmdCxFPV8/bDooZz95OnYpLnJpZ2h0O3UoUyx2LnRvcCxFLVMsdi5ib3R0b20pfWVsc2V7dmFyIFQsTyxNLEw7Zz8oVD1jJiZiJiZ3P3M6di5sZWZ0LE89Yz9sOnAodCxpLFwiYmVmb3JlXCIpLE09Yz9zOnAoZSxpLFwiYWZ0ZXJcIiksTD1jJiZ4JiZDP2w6eS5yaWdodCk6KFQ9Yz9wKHQsaSxcImJlZm9yZVwiKTpzLE89IWMmJmImJnc/bDp2LnJpZ2h0LE09IWMmJngmJkM/czp5LmxlZnQsTD1jP3AoZSxpLFwiYWZ0ZXJcIik6bCksdShULHYudG9wLE8tVCx2LmJvdHRvbSksdi5ib3R0b208eS50b3AmJnUocyx2LmJvdHRvbSxudWxsLHkudG9wKSx1KE0seS50b3AsTC1NLHkuYm90dG9tKX0oIW98fHZyKHYsbyk8MCkmJihvPXYpLHZyKHksbyk8MCYmKG89eSksKCFhfHx2cih2LGEpPDApJiYoYT12KSx2cih5LGEpPDAmJihhPXkpfSkse3N0YXJ0Om8sZW5kOmF9fXZhciBkPWUuZnJvbSgpLGg9ZS50bygpO2lmKGQubGluZT09aC5saW5lKWYoZC5saW5lLGQuY2gsaC5jaCk7ZWxzZXt2YXIgcD1LdChpLGQubGluZSksbT1LdChpLGgubGluZSksZz16ZShwKT09emUobSksdj1mKGQubGluZSxkLmNoLGc/cC50ZXh0Lmxlbmd0aCsxOm51bGwpLmVuZCx5PWYoaC5saW5lLGc/MDpudWxsLGguY2gpLnN0YXJ0O2cmJih2LnRvcDx5LnRvcC0yPyh1KHYucmlnaHQsdi50b3AsbnVsbCx2LmJvdHRvbSksdShzLHkudG9wLHkubGVmdCx5LmJvdHRvbSkpOnUodi5yaWdodCx2LnRvcCx5LmxlZnQtdi5yaWdodCx2LmJvdHRvbSkpLHYuYm90dG9tPHkudG9wJiZ1KHMsdi5ib3R0b20sbnVsbCx5LnRvcCl9bi5hcHBlbmRDaGlsZChvKX1mdW5jdGlvbiBicih0KXtpZih0LnN0YXRlLmZvY3VzZWQpe3ZhciBlPXQuZGlzcGxheTtjbGVhckludGVydmFsKGUuYmxpbmtlcik7dmFyIG49ITA7ZS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eT1cIlwiLHQub3B0aW9ucy5jdXJzb3JCbGlua1JhdGU+MD9lLmJsaW5rZXI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtyZXR1cm4gZS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eT0obj0hbik/XCJcIjpcImhpZGRlblwifSx0Lm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlKTp0Lm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlPDAmJihlLmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIpfX1mdW5jdGlvbiB4cih0KXt0LnN0YXRlLmZvY3VzZWR8fCh0LmRpc3BsYXkuaW5wdXQuZm9jdXMoKSxDcih0KSl9ZnVuY3Rpb24gd3IodCl7dC5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudD0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudCYmKHQuc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQ9ITEsa3IodCkpfSwxMDApfWZ1bmN0aW9uIENyKHQsZSl7dC5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudCYmKHQuc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQ9ITEpLFwibm9jdXJzb3JcIiE9dC5vcHRpb25zLnJlYWRPbmx5JiYodC5zdGF0ZS5mb2N1c2VkfHwobXQodCxcImZvY3VzXCIsdCxlKSx0LnN0YXRlLmZvY3VzZWQ9ITAsUCh0LmRpc3BsYXkud3JhcHBlcixcIkNvZGVNaXJyb3ItZm9jdXNlZFwiKSx0LmN1ck9wfHx0LmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnU9PXQuZG9jLnNlbHx8KHQuZGlzcGxheS5pbnB1dC5yZXNldCgpLGwmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwbGF5LmlucHV0LnJlc2V0KCEwKX0sMjApKSx0LmRpc3BsYXkuaW5wdXQucmVjZWl2ZWRGb2N1cygpKSxicih0KSl9ZnVuY3Rpb24ga3IodCxlKXt0LnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50fHwodC5zdGF0ZS5mb2N1c2VkJiYobXQodCxcImJsdXJcIix0LGUpLHQuc3RhdGUuZm9jdXNlZD0hMSxFKHQuZGlzcGxheS53cmFwcGVyLFwiQ29kZU1pcnJvci1mb2N1c2VkXCIpKSxjbGVhckludGVydmFsKHQuZGlzcGxheS5ibGlua2VyKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zdGF0ZS5mb2N1c2VkfHwodC5kaXNwbGF5LnNoaWZ0PSExKX0sMTUwKSl9ZnVuY3Rpb24gX3IodCl7Zm9yKHZhciBlPXQuZGlzcGxheSxuPWUubGluZURpdi5vZmZzZXRUb3Ascj0wO3I8ZS52aWV3Lmxlbmd0aDtyKyspe3ZhciBpPWUudmlld1tyXSxvPXQub3B0aW9ucy5saW5lV3JhcHBpbmcsbD12b2lkIDAsYz0wO2lmKCFpLmhpZGRlbil7aWYoYSYmczw4KXt2YXIgdT1pLm5vZGUub2Zmc2V0VG9wK2kubm9kZS5vZmZzZXRIZWlnaHQ7bD11LW4sbj11fWVsc2V7dmFyIGY9aS5ub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2w9Zi5ib3R0b20tZi50b3AsIW8mJmkudGV4dC5maXJzdENoaWxkJiYoYz1pLnRleHQuZmlyc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodC1mLmxlZnQtMSl9dmFyIGQ9aS5saW5lLmhlaWdodC1sO2lmKChkPi4wMDV8fGQ8LS4wMDUpJiYoWXQoaS5saW5lLGwpLFNyKGkubGluZSksaS5yZXN0KSlmb3IodmFyIGg9MDtoPGkucmVzdC5sZW5ndGg7aCsrKVNyKGkucmVzdFtoXSk7aWYoYz50LmRpc3BsYXkuc2l6ZXJXaWR0aCl7dmFyIHA9TWF0aC5jZWlsKGMvbnIodC5kaXNwbGF5KSk7cD50LmRpc3BsYXkubWF4TGluZUxlbmd0aCYmKHQuZGlzcGxheS5tYXhMaW5lTGVuZ3RoPXAsdC5kaXNwbGF5Lm1heExpbmU9aS5saW5lLHQuZGlzcGxheS5tYXhMaW5lQ2hhbmdlZD0hMCl9fX19ZnVuY3Rpb24gU3IodCl7aWYodC53aWRnZXRzKWZvcih2YXIgZT0wO2U8dC53aWRnZXRzLmxlbmd0aDsrK2Upe3ZhciBuPXQud2lkZ2V0c1tlXSxyPW4ubm9kZS5wYXJlbnROb2RlO3ImJihuLmhlaWdodD1yLm9mZnNldEhlaWdodCl9fWZ1bmN0aW9uIEVyKHQsZSxuKXt2YXIgcj1uJiZudWxsIT1uLnRvcD9NYXRoLm1heCgwLG4udG9wKTp0LnNjcm9sbGVyLnNjcm9sbFRvcDtyPU1hdGguZmxvb3Ioci1rbih0KSk7dmFyIGk9biYmbnVsbCE9bi5ib3R0b20/bi5ib3R0b206cit0LndyYXBwZXIuY2xpZW50SGVpZ2h0LG89WHQoZSxyKSxhPVh0KGUsaSk7aWYobiYmbi5lbnN1cmUpe3ZhciBzPW4uZW5zdXJlLmZyb20ubGluZSxsPW4uZW5zdXJlLnRvLmxpbmU7czxvPyhvPXMsYT1YdChlLFVlKEt0KGUscykpK3Qud3JhcHBlci5jbGllbnRIZWlnaHQpKTpNYXRoLm1pbihsLGUubGFzdExpbmUoKSk+PWEmJihvPVh0KGUsVWUoS3QoZSxsKSktdC53cmFwcGVyLmNsaWVudEhlaWdodCksYT1sKX1yZXR1cm57ZnJvbTpvLHRvOk1hdGgubWF4KGEsbysxKX19ZnVuY3Rpb24gVHIodCxlKXt2YXIgbj10LmRpc3BsYXkscj1lcih0LmRpc3BsYXkpO2UudG9wPDAmJihlLnRvcD0wKTt2YXIgaT10LmN1ck9wJiZudWxsIT10LmN1ck9wLnNjcm9sbFRvcD90LmN1ck9wLnNjcm9sbFRvcDpuLnNjcm9sbGVyLnNjcm9sbFRvcCxvPU9uKHQpLGE9e307ZS5ib3R0b20tZS50b3A+byYmKGUuYm90dG9tPWUudG9wK28pO3ZhciBzPXQuZG9jLmhlaWdodCtfbihuKSxsPWUudG9wPHIsYz1lLmJvdHRvbT5zLXI7aWYoZS50b3A8aSlhLnNjcm9sbFRvcD1sPzA6ZS50b3A7ZWxzZSBpZihlLmJvdHRvbT5pK28pe3ZhciB1PU1hdGgubWluKGUudG9wLChjP3M6ZS5ib3R0b20pLW8pO3UhPWkmJihhLnNjcm9sbFRvcD11KX12YXIgZj10LmN1ck9wJiZudWxsIT10LmN1ck9wLnNjcm9sbExlZnQ/dC5jdXJPcC5zY3JvbGxMZWZ0Om4uc2Nyb2xsZXIuc2Nyb2xsTGVmdCxkPVRuKHQpLSh0Lm9wdGlvbnMuZml4ZWRHdXR0ZXI/bi5ndXR0ZXJzLm9mZnNldFdpZHRoOjApLGg9ZS5yaWdodC1lLmxlZnQ+ZDtyZXR1cm4gaCYmKGUucmlnaHQ9ZS5sZWZ0K2QpLGUubGVmdDwxMD9hLnNjcm9sbExlZnQ9MDplLmxlZnQ8Zj9hLnNjcm9sbExlZnQ9TWF0aC5tYXgoMCxlLmxlZnQtKGg/MDoxMCkpOmUucmlnaHQ+ZCtmLTMmJihhLnNjcm9sbExlZnQ9ZS5yaWdodCsoaD8wOjEwKS1kKSxhfWZ1bmN0aW9uIE9yKHQsZSl7bnVsbCE9ZSYmKEFyKHQpLHQuY3VyT3Auc2Nyb2xsVG9wPShudWxsPT10LmN1ck9wLnNjcm9sbFRvcD90LmRvYy5zY3JvbGxUb3A6dC5jdXJPcC5zY3JvbGxUb3ApK2UpfWZ1bmN0aW9uIE1yKHQpe0FyKHQpO3ZhciBlPXQuZ2V0Q3Vyc29yKCk7dC5jdXJPcC5zY3JvbGxUb1Bvcz17ZnJvbTplLHRvOmUsbWFyZ2luOnQub3B0aW9ucy5jdXJzb3JTY3JvbGxNYXJnaW59fWZ1bmN0aW9uIExyKHQsZSxuKXtudWxsPT1lJiZudWxsPT1ufHxBcih0KSxudWxsIT1lJiYodC5jdXJPcC5zY3JvbGxMZWZ0PWUpLG51bGwhPW4mJih0LmN1ck9wLnNjcm9sbFRvcD1uKX1mdW5jdGlvbiBBcih0KXt2YXIgZT10LmN1ck9wLnNjcm9sbFRvUG9zO2lmKGUpe3QuY3VyT3Auc2Nyb2xsVG9Qb3M9bnVsbDt2YXIgbj1xbih0LGUuZnJvbSkscj1xbih0LGUudG8pO05yKHQsbixyLGUubWFyZ2luKX19ZnVuY3Rpb24gTnIodCxlLG4scil7dmFyIGk9VHIodCx7bGVmdDpNYXRoLm1pbihlLmxlZnQsbi5sZWZ0KSx0b3A6TWF0aC5taW4oZS50b3Asbi50b3ApLXIscmlnaHQ6TWF0aC5tYXgoZS5yaWdodCxuLnJpZ2h0KSxib3R0b206TWF0aC5tYXgoZS5ib3R0b20sbi5ib3R0b20pK3J9KTtMcih0LGkuc2Nyb2xsTGVmdCxpLnNjcm9sbFRvcCl9ZnVuY3Rpb24gUHIodCxlKXtNYXRoLmFicyh0LmRvYy5zY3JvbGxUb3AtZSk8Mnx8KG58fG9pKHQse3RvcDplfSksRnIodCxlLCEwKSxuJiZvaSh0KSx0aSh0LDEwMCkpfWZ1bmN0aW9uIEZyKHQsZSxuKXtlPU1hdGgubWluKHQuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxIZWlnaHQtdC5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudEhlaWdodCxlKSwodC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCE9ZXx8bikmJih0LmRvYy5zY3JvbGxUb3A9ZSx0LmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoZSksdC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCE9ZSYmKHQuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A9ZSkpfWZ1bmN0aW9uIElyKHQsZSxuLHIpe2U9TWF0aC5taW4oZSx0LmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsV2lkdGgtdC5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoKSwobj9lPT10LmRvYy5zY3JvbGxMZWZ0Ok1hdGguYWJzKHQuZG9jLnNjcm9sbExlZnQtZSk8MikmJiFyfHwodC5kb2Muc2Nyb2xsTGVmdD1lLGxpKHQpLHQuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0IT1lJiYodC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQ9ZSksdC5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsTGVmdChlKSl9ZnVuY3Rpb24ganIodCl7dmFyIGU9dC5kaXNwbGF5LG49ZS5ndXR0ZXJzLm9mZnNldFdpZHRoLHI9TWF0aC5yb3VuZCh0LmRvYy5oZWlnaHQrX24odC5kaXNwbGF5KSk7cmV0dXJue2NsaWVudEhlaWdodDplLnNjcm9sbGVyLmNsaWVudEhlaWdodCx2aWV3SGVpZ2h0OmUud3JhcHBlci5jbGllbnRIZWlnaHQsc2Nyb2xsV2lkdGg6ZS5zY3JvbGxlci5zY3JvbGxXaWR0aCxjbGllbnRXaWR0aDplLnNjcm9sbGVyLmNsaWVudFdpZHRoLHZpZXdXaWR0aDplLndyYXBwZXIuY2xpZW50V2lkdGgsYmFyTGVmdDp0Lm9wdGlvbnMuZml4ZWRHdXR0ZXI/bjowLGRvY0hlaWdodDpyLHNjcm9sbEhlaWdodDpyK0VuKHQpK2UuYmFySGVpZ2h0LG5hdGl2ZUJhcldpZHRoOmUubmF0aXZlQmFyV2lkdGgsZ3V0dGVyV2lkdGg6bn19dmFyIERyPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmNtPW47dmFyIHI9dGhpcy52ZXJ0PU0oXCJkaXZcIixbTShcImRpdlwiLG51bGwsbnVsbCxcIm1pbi13aWR0aDogMXB4XCIpXSxcIkNvZGVNaXJyb3ItdnNjcm9sbGJhclwiKSxpPXRoaXMuaG9yaXo9TShcImRpdlwiLFtNKFwiZGl2XCIsbnVsbCxudWxsLFwiaGVpZ2h0OiAxMDAlOyBtaW4taGVpZ2h0OiAxcHhcIildLFwiQ29kZU1pcnJvci1oc2Nyb2xsYmFyXCIpO3IudGFiSW5kZXg9aS50YWJJbmRleD0tMSx0KHIpLHQoaSksZHQocixcInNjcm9sbFwiLGZ1bmN0aW9uKCl7ci5jbGllbnRIZWlnaHQmJmUoci5zY3JvbGxUb3AsXCJ2ZXJ0aWNhbFwiKX0pLGR0KGksXCJzY3JvbGxcIixmdW5jdGlvbigpe2kuY2xpZW50V2lkdGgmJmUoaS5zY3JvbGxMZWZ0LFwiaG9yaXpvbnRhbFwiKX0pLHRoaXMuY2hlY2tlZFplcm9XaWR0aD0hMSxhJiZzPDgmJih0aGlzLmhvcml6LnN0eWxlLm1pbkhlaWdodD10aGlzLnZlcnQuc3R5bGUubWluV2lkdGg9XCIxOHB4XCIpfTtEci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2Nyb2xsV2lkdGg+dC5jbGllbnRXaWR0aCsxLG49dC5zY3JvbGxIZWlnaHQ+dC5jbGllbnRIZWlnaHQrMSxyPXQubmF0aXZlQmFyV2lkdGg7aWYobil7dGhpcy52ZXJ0LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMudmVydC5zdHlsZS5ib3R0b209ZT9yK1wicHhcIjpcIjBcIjt2YXIgaT10LnZpZXdIZWlnaHQtKGU/cjowKTt0aGlzLnZlcnQuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCx0LnNjcm9sbEhlaWdodC10LmNsaWVudEhlaWdodCtpKStcInB4XCJ9ZWxzZSB0aGlzLnZlcnQuc3R5bGUuZGlzcGxheT1cIlwiLHRoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodD1cIjBcIjtpZihlKXt0aGlzLmhvcml6LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuaG9yaXouc3R5bGUucmlnaHQ9bj9yK1wicHhcIjpcIjBcIix0aGlzLmhvcml6LnN0eWxlLmxlZnQ9dC5iYXJMZWZ0K1wicHhcIjt2YXIgbz10LnZpZXdXaWR0aC10LmJhckxlZnQtKG4/cjowKTt0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGg9TWF0aC5tYXgoMCx0LnNjcm9sbFdpZHRoLXQuY2xpZW50V2lkdGgrbykrXCJweFwifWVsc2UgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy5ob3Jpei5maXJzdENoaWxkLnN0eWxlLndpZHRoPVwiMFwiO3JldHVybiF0aGlzLmNoZWNrZWRaZXJvV2lkdGgmJnQuY2xpZW50SGVpZ2h0PjAmJigwPT1yJiZ0aGlzLnplcm9XaWR0aEhhY2soKSx0aGlzLmNoZWNrZWRaZXJvV2lkdGg9ITApLHtyaWdodDpuP3I6MCxib3R0b206ZT9yOjB9fSxEci5wcm90b3R5cGUuc2V0U2Nyb2xsTGVmdD1mdW5jdGlvbih0KXt0aGlzLmhvcml6LnNjcm9sbExlZnQhPXQmJih0aGlzLmhvcml6LnNjcm9sbExlZnQ9dCksdGhpcy5kaXNhYmxlSG9yaXomJnRoaXMuZW5hYmxlWmVyb1dpZHRoQmFyKHRoaXMuaG9yaXosdGhpcy5kaXNhYmxlSG9yaXosXCJob3JpelwiKX0sRHIucHJvdG90eXBlLnNldFNjcm9sbFRvcD1mdW5jdGlvbih0KXt0aGlzLnZlcnQuc2Nyb2xsVG9wIT10JiYodGhpcy52ZXJ0LnNjcm9sbFRvcD10KSx0aGlzLmRpc2FibGVWZXJ0JiZ0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLnZlcnQsdGhpcy5kaXNhYmxlVmVydCxcInZlcnRcIil9LERyLnByb3RvdHlwZS56ZXJvV2lkdGhIYWNrPWZ1bmN0aW9uKCl7dmFyIHQ9eSYmIWg/XCIxMnB4XCI6XCIxOHB4XCI7dGhpcy5ob3Jpei5zdHlsZS5oZWlnaHQ9dGhpcy52ZXJ0LnN0eWxlLndpZHRoPXQsdGhpcy5ob3Jpei5zdHlsZS5wb2ludGVyRXZlbnRzPXRoaXMudmVydC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLHRoaXMuZGlzYWJsZUhvcml6PW5ldyBSLHRoaXMuZGlzYWJsZVZlcnQ9bmV3IFJ9LERyLnByb3RvdHlwZS5lbmFibGVaZXJvV2lkdGhCYXI9ZnVuY3Rpb24odCxlLG4pe3Quc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIixlLnNldCgxZTMsZnVuY3Rpb24gcigpe3ZhciBpPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1cInZlcnRcIj09bj9kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGkucmlnaHQtMSwoaS50b3AraS5ib3R0b20pLzIpOmRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoKGkucmlnaHQraS5sZWZ0KS8yLGkuYm90dG9tLTEpO28hPXQ/dC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiOmUuc2V0KDFlMyxyKX0pfSxEci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvcml6LnBhcmVudE5vZGU7dC5yZW1vdmVDaGlsZCh0aGlzLmhvcml6KSx0LnJlbW92ZUNoaWxkKHRoaXMudmVydCl9O3ZhciB6cj1mdW5jdGlvbigpe307ZnVuY3Rpb24gUnIodCxlKXtlfHwoZT1qcih0KSk7dmFyIG49dC5kaXNwbGF5LmJhcldpZHRoLHI9dC5kaXNwbGF5LmJhckhlaWdodDtCcih0LGUpO2Zvcih2YXIgaT0wO2k8NCYmbiE9dC5kaXNwbGF5LmJhcldpZHRofHxyIT10LmRpc3BsYXkuYmFySGVpZ2h0O2krKyluIT10LmRpc3BsYXkuYmFyV2lkdGgmJnQub3B0aW9ucy5saW5lV3JhcHBpbmcmJl9yKHQpLEJyKHQsanIodCkpLG49dC5kaXNwbGF5LmJhcldpZHRoLHI9dC5kaXNwbGF5LmJhckhlaWdodH1mdW5jdGlvbiBCcih0LGUpe3ZhciBuPXQuZGlzcGxheSxyPW4uc2Nyb2xsYmFycy51cGRhdGUoZSk7bi5zaXplci5zdHlsZS5wYWRkaW5nUmlnaHQ9KG4uYmFyV2lkdGg9ci5yaWdodCkrXCJweFwiLG4uc2l6ZXIuc3R5bGUucGFkZGluZ0JvdHRvbT0obi5iYXJIZWlnaHQ9ci5ib3R0b20pK1wicHhcIixuLmhlaWdodEZvcmNlci5zdHlsZS5ib3JkZXJCb3R0b209ci5ib3R0b20rXCJweCBzb2xpZCB0cmFuc3BhcmVudFwiLHIucmlnaHQmJnIuYm90dG9tPyhuLnNjcm9sbGJhckZpbGxlci5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixuLnNjcm9sbGJhckZpbGxlci5zdHlsZS5oZWlnaHQ9ci5ib3R0b20rXCJweFwiLG4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLndpZHRoPXIucmlnaHQrXCJweFwiKTpuLnNjcm9sbGJhckZpbGxlci5zdHlsZS5kaXNwbGF5PVwiXCIsci5ib3R0b20mJnQub3B0aW9ucy5jb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhciYmdC5vcHRpb25zLmZpeGVkR3V0dGVyPyhuLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixuLmd1dHRlckZpbGxlci5zdHlsZS5oZWlnaHQ9ci5ib3R0b20rXCJweFwiLG4uZ3V0dGVyRmlsbGVyLnN0eWxlLndpZHRoPWUuZ3V0dGVyV2lkdGgrXCJweFwiKTpuLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5PVwiXCJ9enIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3JldHVybntib3R0b206MCxyaWdodDowfX0senIucHJvdG90eXBlLnNldFNjcm9sbExlZnQ9ZnVuY3Rpb24oKXt9LHpyLnByb3RvdHlwZS5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oKXt9LHpyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe307dmFyIEhyPXtuYXRpdmU6RHIsbnVsbDp6cn07ZnVuY3Rpb24gV3IodCl7dC5kaXNwbGF5LnNjcm9sbGJhcnMmJih0LmRpc3BsYXkuc2Nyb2xsYmFycy5jbGVhcigpLHQuZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzJiZFKHQuZGlzcGxheS53cmFwcGVyLHQuZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKSksdC5kaXNwbGF5LnNjcm9sbGJhcnM9bmV3IEhyW3Qub3B0aW9ucy5zY3JvbGxiYXJTdHlsZV0oZnVuY3Rpb24oZSl7dC5kaXNwbGF5LndyYXBwZXIuaW5zZXJ0QmVmb3JlKGUsdC5kaXNwbGF5LnNjcm9sbGJhckZpbGxlciksZHQoZSxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dC5zdGF0ZS5mb2N1c2VkJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGlzcGxheS5pbnB1dC5mb2N1cygpfSwwKX0pLGUuc2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIixcInRydWVcIil9LGZ1bmN0aW9uKGUsbil7XCJob3Jpem9udGFsXCI9PW4/SXIodCxlKTpQcih0LGUpfSx0KSx0LmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcyYmUCh0LmRpc3BsYXkud3JhcHBlcix0LmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcyl9dmFyIFVyPTA7ZnVuY3Rpb24gVnIodCl7dmFyIGU7dC5jdXJPcD17Y206dCx2aWV3Q2hhbmdlZDohMSxzdGFydEhlaWdodDp0LmRvYy5oZWlnaHQsZm9yY2VVcGRhdGU6ITEsdXBkYXRlSW5wdXQ6MCx0eXBpbmc6ITEsY2hhbmdlT2JqczpudWxsLGN1cnNvckFjdGl2aXR5SGFuZGxlcnM6bnVsbCxjdXJzb3JBY3Rpdml0eUNhbGxlZDowLHNlbGVjdGlvbkNoYW5nZWQ6ITEsdXBkYXRlTWF4TGluZTohMSxzY3JvbGxMZWZ0Om51bGwsc2Nyb2xsVG9wOm51bGwsc2Nyb2xsVG9Qb3M6bnVsbCxmb2N1czohMSxpZDorK1VyfSxlPXQuY3VyT3AsYW4/YW4ub3BzLnB1c2goZSk6ZS5vd25zR3JvdXA9YW49e29wczpbZV0sZGVsYXllZENhbGxiYWNrczpbXX19ZnVuY3Rpb24gR3IodCl7dmFyIGU9dC5jdXJPcDtlJiZmdW5jdGlvbih0LGUpe3ZhciBuPXQub3duc0dyb3VwO2lmKG4pdHJ5eyFmdW5jdGlvbih0KXt2YXIgZT10LmRlbGF5ZWRDYWxsYmFja3Msbj0wO2Rve2Zvcig7bjxlLmxlbmd0aDtuKyspZVtuXS5jYWxsKG51bGwpO2Zvcih2YXIgcj0wO3I8dC5vcHMubGVuZ3RoO3IrKyl7dmFyIGk9dC5vcHNbcl07aWYoaS5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzKWZvcig7aS5jdXJzb3JBY3Rpdml0eUNhbGxlZDxpLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMubGVuZ3RoOylpLmN1cnNvckFjdGl2aXR5SGFuZGxlcnNbaS5jdXJzb3JBY3Rpdml0eUNhbGxlZCsrXS5jYWxsKG51bGwsaS5jbSl9fXdoaWxlKG48ZS5sZW5ndGgpfShuKX1maW5hbGx5e2FuPW51bGwsZShuKX19KGUsZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lm9wcy5sZW5ndGg7ZSsrKXQub3BzW2VdLmNtLmN1ck9wPW51bGw7IWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lm9wcyxuPTA7bjxlLmxlbmd0aDtuKyspS3IoZVtuXSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspKGk9ZVtyXSkudXBkYXRlZERpc3BsYXk9aS5tdXN0VXBkYXRlJiZyaShpLmNtLGkudXBkYXRlKTtmb3IodmFyIGksbz0wO288ZS5sZW5ndGg7bysrKSRyKGVbb10pO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKXFyKGVbYV0pO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKVlyKGVbc10pfSh0KX0pfWZ1bmN0aW9uIEtyKHQpe3ZhciBlPXQuY20sbj1lLmRpc3BsYXk7IWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGlzcGxheTshZS5zY3JvbGxiYXJzQ2xpcHBlZCYmZS5zY3JvbGxlci5vZmZzZXRXaWR0aCYmKGUubmF0aXZlQmFyV2lkdGg9ZS5zY3JvbGxlci5vZmZzZXRXaWR0aC1lLnNjcm9sbGVyLmNsaWVudFdpZHRoLGUuaGVpZ2h0Rm9yY2VyLnN0eWxlLmhlaWdodD1Fbih0KStcInB4XCIsZS5zaXplci5zdHlsZS5tYXJnaW5Cb3R0b209LWUubmF0aXZlQmFyV2lkdGgrXCJweFwiLGUuc2l6ZXIuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aD1Fbih0KStcInB4XCIsZS5zY3JvbGxiYXJzQ2xpcHBlZD0hMCl9KGUpLHQudXBkYXRlTWF4TGluZSYmR2UoZSksdC5tdXN0VXBkYXRlPXQudmlld0NoYW5nZWR8fHQuZm9yY2VVcGRhdGV8fG51bGwhPXQuc2Nyb2xsVG9wfHx0LnNjcm9sbFRvUG9zJiYodC5zY3JvbGxUb1Bvcy5mcm9tLmxpbmU8bi52aWV3RnJvbXx8dC5zY3JvbGxUb1Bvcy50by5saW5lPj1uLnZpZXdUbyl8fG4ubWF4TGluZUNoYW5nZWQmJmUub3B0aW9ucy5saW5lV3JhcHBpbmcsdC51cGRhdGU9dC5tdXN0VXBkYXRlJiZuZXcgbmkoZSx0Lm11c3RVcGRhdGUmJnt0b3A6dC5zY3JvbGxUb3AsZW5zdXJlOnQuc2Nyb2xsVG9Qb3N9LHQuZm9yY2VVcGRhdGUpfWZ1bmN0aW9uICRyKHQpe3ZhciBlPXQuY20sbj1lLmRpc3BsYXk7dC51cGRhdGVkRGlzcGxheSYmX3IoZSksdC5iYXJNZWFzdXJlPWpyKGUpLG4ubWF4TGluZUNoYW5nZWQmJiFlLm9wdGlvbnMubGluZVdyYXBwaW5nJiYodC5hZGp1c3RXaWR0aFRvPUxuKGUsbi5tYXhMaW5lLG4ubWF4TGluZS50ZXh0Lmxlbmd0aCkubGVmdCszLGUuZGlzcGxheS5zaXplcldpZHRoPXQuYWRqdXN0V2lkdGhUbyx0LmJhck1lYXN1cmUuc2Nyb2xsV2lkdGg9TWF0aC5tYXgobi5zY3JvbGxlci5jbGllbnRXaWR0aCxuLnNpemVyLm9mZnNldExlZnQrdC5hZGp1c3RXaWR0aFRvK0VuKGUpK2UuZGlzcGxheS5iYXJXaWR0aCksdC5tYXhTY3JvbGxMZWZ0PU1hdGgubWF4KDAsbi5zaXplci5vZmZzZXRMZWZ0K3QuYWRqdXN0V2lkdGhUby1UbihlKSkpLCh0LnVwZGF0ZWREaXNwbGF5fHx0LnNlbGVjdGlvbkNoYW5nZWQpJiYodC5wcmVwYXJlZFNlbGVjdGlvbj1uLmlucHV0LnByZXBhcmVTZWxlY3Rpb24oKSl9ZnVuY3Rpb24gcXIodCl7dmFyIGU9dC5jbTtudWxsIT10LmFkanVzdFdpZHRoVG8mJihlLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluV2lkdGg9dC5hZGp1c3RXaWR0aFRvK1wicHhcIix0Lm1heFNjcm9sbExlZnQ8ZS5kb2Muc2Nyb2xsTGVmdCYmSXIoZSxNYXRoLm1pbihlLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCx0Lm1heFNjcm9sbExlZnQpLCEwKSxlLmRpc3BsYXkubWF4TGluZUNoYW5nZWQ9ITEpO3ZhciBuPXQuZm9jdXMmJnQuZm9jdXM9PU4oKTt0LnByZXBhcmVkU2VsZWN0aW9uJiZlLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbih0LnByZXBhcmVkU2VsZWN0aW9uLG4pLCh0LnVwZGF0ZWREaXNwbGF5fHx0LnN0YXJ0SGVpZ2h0IT1lLmRvYy5oZWlnaHQpJiZScihlLHQuYmFyTWVhc3VyZSksdC51cGRhdGVkRGlzcGxheSYmc2koZSx0LmJhck1lYXN1cmUpLHQuc2VsZWN0aW9uQ2hhbmdlZCYmYnIoZSksZS5zdGF0ZS5mb2N1c2VkJiZ0LnVwZGF0ZUlucHV0JiZlLmRpc3BsYXkuaW5wdXQucmVzZXQodC50eXBpbmcpLG4mJnhyKHQuY20pfWZ1bmN0aW9uIFlyKHQpe3ZhciBlPXQuY20sbj1lLmRpc3BsYXkscj1lLmRvYztpZih0LnVwZGF0ZWREaXNwbGF5JiZpaShlLHQudXBkYXRlKSxudWxsPT1uLndoZWVsU3RhcnRYfHxudWxsPT10LnNjcm9sbFRvcCYmbnVsbD09dC5zY3JvbGxMZWZ0JiYhdC5zY3JvbGxUb1Bvc3x8KG4ud2hlZWxTdGFydFg9bi53aGVlbFN0YXJ0WT1udWxsKSxudWxsIT10LnNjcm9sbFRvcCYmRnIoZSx0LnNjcm9sbFRvcCx0LmZvcmNlU2Nyb2xsKSxudWxsIT10LnNjcm9sbExlZnQmJklyKGUsdC5zY3JvbGxMZWZ0LCEwLCEwKSx0LnNjcm9sbFRvUG9zKXt2YXIgaT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaTtudWxsPT1yJiYocj0wKSx0Lm9wdGlvbnMubGluZVdyYXBwaW5nfHxlIT1ufHwoZT1lLmNoP3RlKGUubGluZSxcImJlZm9yZVwiPT1lLnN0aWNreT9lLmNoLTE6ZS5jaCxcImFmdGVyXCIpOmUsbj1cImJlZm9yZVwiPT1lLnN0aWNreT90ZShlLmxpbmUsZS5jaCsxLFwiYmVmb3JlXCIpOmUpO2Zvcih2YXIgbz0wO288NTtvKyspe3ZhciBhPSExLHM9JG4odCxlKSxsPW4mJm4hPWU/JG4odCxuKTpzO2k9e2xlZnQ6TWF0aC5taW4ocy5sZWZ0LGwubGVmdCksdG9wOk1hdGgubWluKHMudG9wLGwudG9wKS1yLHJpZ2h0Ok1hdGgubWF4KHMubGVmdCxsLmxlZnQpLGJvdHRvbTpNYXRoLm1heChzLmJvdHRvbSxsLmJvdHRvbSkrcn07dmFyIGM9VHIodCxpKSx1PXQuZG9jLnNjcm9sbFRvcCxmPXQuZG9jLnNjcm9sbExlZnQ7aWYobnVsbCE9Yy5zY3JvbGxUb3AmJihQcih0LGMuc2Nyb2xsVG9wKSxNYXRoLmFicyh0LmRvYy5zY3JvbGxUb3AtdSk+MSYmKGE9ITApKSxudWxsIT1jLnNjcm9sbExlZnQmJihJcih0LGMuc2Nyb2xsTGVmdCksTWF0aC5hYnModC5kb2Muc2Nyb2xsTGVmdC1mKT4xJiYoYT0hMCkpLCFhKWJyZWFrfXJldHVybiBpfShlLHNlKHIsdC5zY3JvbGxUb1Bvcy5mcm9tKSxzZShyLHQuc2Nyb2xsVG9Qb3MudG8pLHQuc2Nyb2xsVG9Qb3MubWFyZ2luKTshZnVuY3Rpb24odCxlKXtpZighZ3QodCxcInNjcm9sbEN1cnNvckludG9WaWV3XCIpKXt2YXIgbj10LmRpc3BsYXkscj1uLnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9bnVsbDtpZihlLnRvcCtyLnRvcDwwP2k9ITA6ZS5ib3R0b20rci50b3A+KHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkmJihpPSExKSxudWxsIT1pJiYhcCl7dmFyIG89TShcImRpdlwiLFwi4oCLXCIsbnVsbCxcInBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIisoZS50b3Atbi52aWV3T2Zmc2V0LWtuKHQuZGlzcGxheSkpK1wicHg7XFxuICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIrKGUuYm90dG9tLWUudG9wK0VuKHQpK24uYmFySGVpZ2h0KStcInB4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIitlLmxlZnQrXCJweDsgd2lkdGg6IFwiK01hdGgubWF4KDIsZS5yaWdodC1lLmxlZnQpK1wicHg7XCIpO3QuZGlzcGxheS5saW5lU3BhY2UuYXBwZW5kQ2hpbGQobyksby5zY3JvbGxJbnRvVmlldyhpKSx0LmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKG8pfX19KGUsaSl9dmFyIG89dC5tYXliZUhpZGRlbk1hcmtlcnMsYT10Lm1heWJlVW5oaWRkZW5NYXJrZXJzO2lmKG8pZm9yKHZhciBzPTA7czxvLmxlbmd0aDsrK3Mpb1tzXS5saW5lcy5sZW5ndGh8fG10KG9bc10sXCJoaWRlXCIpO2lmKGEpZm9yKHZhciBsPTA7bDxhLmxlbmd0aDsrK2wpYVtsXS5saW5lcy5sZW5ndGgmJm10KGFbbF0sXCJ1bmhpZGVcIik7bi53cmFwcGVyLm9mZnNldEhlaWdodCYmKHIuc2Nyb2xsVG9wPWUuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3ApLHQuY2hhbmdlT2JqcyYmbXQoZSxcImNoYW5nZXNcIixlLHQuY2hhbmdlT2JqcyksdC51cGRhdGUmJnQudXBkYXRlLmZpbmlzaCgpfWZ1bmN0aW9uIEpyKHQsZSl7aWYodC5jdXJPcClyZXR1cm4gZSgpO1ZyKHQpO3RyeXtyZXR1cm4gZSgpfWZpbmFsbHl7R3IodCl9fWZ1bmN0aW9uIFhyKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodC5jdXJPcClyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyk7VnIodCk7dHJ5e3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX1maW5hbGx5e0dyKHQpfX19ZnVuY3Rpb24gWnIodCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodGhpcy5jdXJPcClyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7VnIodGhpcyk7dHJ5e3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e0dyKHRoaXMpfX19ZnVuY3Rpb24gUXIodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jbTtpZighZXx8ZS5jdXJPcClyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7VnIoZSk7dHJ5e3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e0dyKGUpfX19ZnVuY3Rpb24gdGkodCxlKXt0LmRvYy5oaWdobGlnaHRGcm9udGllcjx0LmRpc3BsYXkudmlld1RvJiZ0LnN0YXRlLmhpZ2hsaWdodC5zZXQoZSxqKGVpLHQpKX1mdW5jdGlvbiBlaSh0KXt2YXIgZT10LmRvYztpZighKGUuaGlnaGxpZ2h0RnJvbnRpZXI+PXQuZGlzcGxheS52aWV3VG8pKXt2YXIgbj0rbmV3IERhdGUrdC5vcHRpb25zLndvcmtUaW1lLHI9aGUodCxlLmhpZ2hsaWdodEZyb250aWVyKSxpPVtdO2UuaXRlcihyLmxpbmUsTWF0aC5taW4oZS5maXJzdCtlLnNpemUsdC5kaXNwbGF5LnZpZXdUbys1MDApLGZ1bmN0aW9uKG8pe2lmKHIubGluZT49dC5kaXNwbGF5LnZpZXdGcm9tKXt2YXIgYT1vLnN0eWxlcyxzPW8udGV4dC5sZW5ndGg+dC5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aD9XdChlLm1vZGUsci5zdGF0ZSk6bnVsbCxsPWZlKHQsbyxyLCEwKTtzJiYoci5zdGF0ZT1zKSxvLnN0eWxlcz1sLnN0eWxlczt2YXIgYz1vLnN0eWxlQ2xhc3Nlcyx1PWwuY2xhc3Nlczt1P28uc3R5bGVDbGFzc2VzPXU6YyYmKG8uc3R5bGVDbGFzc2VzPW51bGwpO2Zvcih2YXIgZj0hYXx8YS5sZW5ndGghPW8uc3R5bGVzLmxlbmd0aHx8YyE9dSYmKCFjfHwhdXx8Yy5iZ0NsYXNzIT11LmJnQ2xhc3N8fGMudGV4dENsYXNzIT11LnRleHRDbGFzcyksZD0wOyFmJiZkPGEubGVuZ3RoOysrZClmPWFbZF0hPW8uc3R5bGVzW2RdO2YmJmkucHVzaChyLmxpbmUpLG8uc3RhdGVBZnRlcj1yLnNhdmUoKSxyLm5leHRMaW5lKCl9ZWxzZSBvLnRleHQubGVuZ3RoPD10Lm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoJiZwZSh0LG8udGV4dCxyKSxvLnN0YXRlQWZ0ZXI9ci5saW5lJTU9PTA/ci5zYXZlKCk6bnVsbCxyLm5leHRMaW5lKCk7aWYoK25ldyBEYXRlPm4pcmV0dXJuIHRpKHQsdC5vcHRpb25zLndvcmtEZWxheSksITB9KSxlLmhpZ2hsaWdodEZyb250aWVyPXIubGluZSxlLm1vZGVGcm9udGllcj1NYXRoLm1heChlLm1vZGVGcm9udGllcixyLmxpbmUpLGkubGVuZ3RoJiZKcih0LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxpLmxlbmd0aDtlKyspdXIodCxpW2VdLFwidGV4dFwiKX0pfX12YXIgbmk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuZGlzcGxheTt0aGlzLnZpZXdwb3J0PWUsdGhpcy52aXNpYmxlPUVyKHIsdC5kb2MsZSksdGhpcy5lZGl0b3JJc0hpZGRlbj0hci53cmFwcGVyLm9mZnNldFdpZHRoLHRoaXMud3JhcHBlckhlaWdodD1yLndyYXBwZXIuY2xpZW50SGVpZ2h0LHRoaXMud3JhcHBlcldpZHRoPXIud3JhcHBlci5jbGllbnRXaWR0aCx0aGlzLm9sZERpc3BsYXlXaWR0aD1Ubih0KSx0aGlzLmZvcmNlPW4sdGhpcy5kaW1zPXJyKHQpLHRoaXMuZXZlbnRzPVtdfTtmdW5jdGlvbiByaSh0LGUpe3ZhciBuPXQuZGlzcGxheSxyPXQuZG9jO2lmKGUuZWRpdG9ySXNIaWRkZW4pcmV0dXJuIGZyKHQpLCExO2lmKCFlLmZvcmNlJiZlLnZpc2libGUuZnJvbT49bi52aWV3RnJvbSYmZS52aXNpYmxlLnRvPD1uLnZpZXdUbyYmKG51bGw9PW4udXBkYXRlTGluZU51bWJlcnN8fG4udXBkYXRlTGluZU51bWJlcnM+PW4udmlld1RvKSYmbi5yZW5kZXJlZFZpZXc9PW4udmlldyYmMD09aHIodCkpcmV0dXJuITE7Y2kodCkmJihmcih0KSxlLmRpbXM9cnIodCkpO3ZhciBpPXIuZmlyc3Qrci5zaXplLG89TWF0aC5tYXgoZS52aXNpYmxlLmZyb20tdC5vcHRpb25zLnZpZXdwb3J0TWFyZ2luLHIuZmlyc3QpLGE9TWF0aC5taW4oaSxlLnZpc2libGUudG8rdC5vcHRpb25zLnZpZXdwb3J0TWFyZ2luKTtuLnZpZXdGcm9tPG8mJm8tbi52aWV3RnJvbTwyMCYmKG89TWF0aC5tYXgoci5maXJzdCxuLnZpZXdGcm9tKSksbi52aWV3VG8+YSYmbi52aWV3VG8tYTwyMCYmKGE9TWF0aC5taW4oaSxuLnZpZXdUbykpLENlJiYobz1SZSh0LmRvYyxvKSxhPUJlKHQuZG9jLGEpKTt2YXIgcz1vIT1uLnZpZXdGcm9tfHxhIT1uLnZpZXdUb3x8bi5sYXN0V3JhcEhlaWdodCE9ZS53cmFwcGVySGVpZ2h0fHxuLmxhc3RXcmFwV2lkdGghPWUud3JhcHBlcldpZHRoOyFmdW5jdGlvbih0LGUsbil7dmFyIHI9dC5kaXNwbGF5OzA9PXIudmlldy5sZW5ndGh8fGU+PXIudmlld1RvfHxuPD1yLnZpZXdGcm9tPyhyLnZpZXc9b24odCxlLG4pLHIudmlld0Zyb209ZSk6KHIudmlld0Zyb20+ZT9yLnZpZXc9b24odCxlLHIudmlld0Zyb20pLmNvbmNhdChyLnZpZXcpOnIudmlld0Zyb208ZSYmKHIudmlldz1yLnZpZXcuc2xpY2UobHIodCxlKSkpLHIudmlld0Zyb209ZSxyLnZpZXdUbzxuP3Iudmlldz1yLnZpZXcuY29uY2F0KG9uKHQsci52aWV3VG8sbikpOnIudmlld1RvPm4mJihyLnZpZXc9ci52aWV3LnNsaWNlKDAsbHIodCxuKSkpKSxyLnZpZXdUbz1ufSh0LG8sYSksbi52aWV3T2Zmc2V0PVVlKEt0KHQuZG9jLG4udmlld0Zyb20pKSx0LmRpc3BsYXkubW92ZXIuc3R5bGUudG9wPW4udmlld09mZnNldCtcInB4XCI7dmFyIGM9aHIodCk7aWYoIXMmJjA9PWMmJiFlLmZvcmNlJiZuLnJlbmRlcmVkVmlldz09bi52aWV3JiYobnVsbD09bi51cGRhdGVMaW5lTnVtYmVyc3x8bi51cGRhdGVMaW5lTnVtYmVycz49bi52aWV3VG8pKXJldHVybiExO3ZhciB1PWZ1bmN0aW9uKHQpe2lmKHQuaGFzRm9jdXMoKSlyZXR1cm4gbnVsbDt2YXIgZT1OKCk7aWYoIWV8fCFBKHQuZGlzcGxheS5saW5lRGl2LGUpKXJldHVybiBudWxsO3ZhciBuPXthY3RpdmVFbHQ6ZX07aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIHI9d2luZG93LmdldFNlbGVjdGlvbigpO3IuYW5jaG9yTm9kZSYmci5leHRlbmQmJkEodC5kaXNwbGF5LmxpbmVEaXYsci5hbmNob3JOb2RlKSYmKG4uYW5jaG9yTm9kZT1yLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQ9ci5hbmNob3JPZmZzZXQsbi5mb2N1c05vZGU9ci5mb2N1c05vZGUsbi5mb2N1c09mZnNldD1yLmZvY3VzT2Zmc2V0KX1yZXR1cm4gbn0odCk7cmV0dXJuIGM+NCYmKG4ubGluZURpdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSxmdW5jdGlvbih0LGUsbil7dmFyIHI9dC5kaXNwbGF5LGk9dC5vcHRpb25zLmxpbmVOdW1iZXJzLG89ci5saW5lRGl2LGE9by5maXJzdENoaWxkO2Z1bmN0aW9uIHMoZSl7dmFyIG49ZS5uZXh0U2libGluZztyZXR1cm4gbCYmeSYmdC5kaXNwbGF5LmN1cnJlbnRXaGVlbFRhcmdldD09ZT9lLnN0eWxlLmRpc3BsYXk9XCJub25lXCI6ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLG59Zm9yKHZhciBjPXIudmlldyx1PXIudmlld0Zyb20sZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZD1jW2ZdO2lmKGQuaGlkZGVuKTtlbHNlIGlmKGQubm9kZSYmZC5ub2RlLnBhcmVudE5vZGU9PW8pe2Zvcig7YSE9ZC5ub2RlOylhPXMoYSk7dmFyIGg9aSYmbnVsbCE9ZSYmZTw9dSYmZC5saW5lTnVtYmVyO2QuY2hhbmdlcyYmKEIoZC5jaGFuZ2VzLFwiZ3V0dGVyXCIpPi0xJiYoaD0hMSksdW4odCxkLHUsbikpLGgmJihUKGQubGluZU51bWJlciksZC5saW5lTnVtYmVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFF0KHQub3B0aW9ucyx1KSkpKSxhPWQubm9kZS5uZXh0U2libGluZ31lbHNle3ZhciBwPXZuKHQsZCx1LG4pO28uaW5zZXJ0QmVmb3JlKHAsYSl9dSs9ZC5zaXplfWZvcig7YTspYT1zKGEpfSh0LG4udXBkYXRlTGluZU51bWJlcnMsZS5kaW1zKSxjPjQmJihuLmxpbmVEaXYuc3R5bGUuZGlzcGxheT1cIlwiKSxuLnJlbmRlcmVkVmlldz1uLnZpZXcsZnVuY3Rpb24odCl7aWYodCYmdC5hY3RpdmVFbHQmJnQuYWN0aXZlRWx0IT1OKCkmJih0LmFjdGl2ZUVsdC5mb2N1cygpLHQuYW5jaG9yTm9kZSYmQShkb2N1bWVudC5ib2R5LHQuYW5jaG9yTm9kZSkmJkEoZG9jdW1lbnQuYm9keSx0LmZvY3VzTm9kZSkpKXt2YXIgZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO24uc2V0RW5kKHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCksbi5jb2xsYXBzZSghMSksZS5yZW1vdmVBbGxSYW5nZXMoKSxlLmFkZFJhbmdlKG4pLGUuZXh0ZW5kKHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQpfX0odSksVChuLmN1cnNvckRpdiksVChuLnNlbGVjdGlvbkRpdiksbi5ndXR0ZXJzLnN0eWxlLmhlaWdodD1uLnNpemVyLnN0eWxlLm1pbkhlaWdodD0wLHMmJihuLmxhc3RXcmFwSGVpZ2h0PWUud3JhcHBlckhlaWdodCxuLmxhc3RXcmFwV2lkdGg9ZS53cmFwcGVyV2lkdGgsdGkodCw0MDApKSxuLnVwZGF0ZUxpbmVOdW1iZXJzPW51bGwsITB9ZnVuY3Rpb24gaWkodCxlKXtmb3IodmFyIG49ZS52aWV3cG9ydCxyPSEwOyhyJiZ0Lm9wdGlvbnMubGluZVdyYXBwaW5nJiZlLm9sZERpc3BsYXlXaWR0aCE9VG4odCl8fChuJiZudWxsIT1uLnRvcCYmKG49e3RvcDpNYXRoLm1pbih0LmRvYy5oZWlnaHQrX24odC5kaXNwbGF5KS1Pbih0KSxuLnRvcCl9KSxlLnZpc2libGU9RXIodC5kaXNwbGF5LHQuZG9jLG4pLCEoZS52aXNpYmxlLmZyb20+PXQuZGlzcGxheS52aWV3RnJvbSYmZS52aXNpYmxlLnRvPD10LmRpc3BsYXkudmlld1RvKSkpJiZyaSh0LGUpO3I9ITEpe19yKHQpO3ZhciBpPWpyKHQpO3ByKHQpLFJyKHQsaSksc2kodCxpKSxlLmZvcmNlPSExfWUuc2lnbmFsKHQsXCJ1cGRhdGVcIix0KSx0LmRpc3BsYXkudmlld0Zyb209PXQuZGlzcGxheS5yZXBvcnRlZFZpZXdGcm9tJiZ0LmRpc3BsYXkudmlld1RvPT10LmRpc3BsYXkucmVwb3J0ZWRWaWV3VG98fChlLnNpZ25hbCh0LFwidmlld3BvcnRDaGFuZ2VcIix0LHQuZGlzcGxheS52aWV3RnJvbSx0LmRpc3BsYXkudmlld1RvKSx0LmRpc3BsYXkucmVwb3J0ZWRWaWV3RnJvbT10LmRpc3BsYXkudmlld0Zyb20sdC5kaXNwbGF5LnJlcG9ydGVkVmlld1RvPXQuZGlzcGxheS52aWV3VG8pfWZ1bmN0aW9uIG9pKHQsZSl7dmFyIG49bmV3IG5pKHQsZSk7aWYocmkodCxuKSl7X3IodCksaWkodCxuKTt2YXIgcj1qcih0KTtwcih0KSxScih0LHIpLHNpKHQsciksbi5maW5pc2goKX19ZnVuY3Rpb24gYWkodCl7dmFyIGU9dC5ndXR0ZXJzLm9mZnNldFdpZHRoO3Quc2l6ZXIuc3R5bGUubWFyZ2luTGVmdD1lK1wicHhcIn1mdW5jdGlvbiBzaSh0LGUpe3QuZGlzcGxheS5zaXplci5zdHlsZS5taW5IZWlnaHQ9ZS5kb2NIZWlnaHQrXCJweFwiLHQuZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wPWUuZG9jSGVpZ2h0K1wicHhcIix0LmRpc3BsYXkuZ3V0dGVycy5zdHlsZS5oZWlnaHQ9ZS5kb2NIZWlnaHQrdC5kaXNwbGF5LmJhckhlaWdodCtFbih0KStcInB4XCJ9ZnVuY3Rpb24gbGkodCl7dmFyIGU9dC5kaXNwbGF5LG49ZS52aWV3O2lmKGUuYWxpZ25XaWRnZXRzfHxlLmd1dHRlcnMuZmlyc3RDaGlsZCYmdC5vcHRpb25zLmZpeGVkR3V0dGVyKXtmb3IodmFyIHI9aXIoZSktZS5zY3JvbGxlci5zY3JvbGxMZWZ0K3QuZG9jLnNjcm9sbExlZnQsaT1lLmd1dHRlcnMub2Zmc2V0V2lkdGgsbz1yK1wicHhcIixhPTA7YTxuLmxlbmd0aDthKyspaWYoIW5bYV0uaGlkZGVuKXt0Lm9wdGlvbnMuZml4ZWRHdXR0ZXImJihuW2FdLmd1dHRlciYmKG5bYV0uZ3V0dGVyLnN0eWxlLmxlZnQ9byksblthXS5ndXR0ZXJCYWNrZ3JvdW5kJiYoblthXS5ndXR0ZXJCYWNrZ3JvdW5kLnN0eWxlLmxlZnQ9bykpO3ZhciBzPW5bYV0uYWxpZ25hYmxlO2lmKHMpZm9yKHZhciBsPTA7bDxzLmxlbmd0aDtsKyspc1tsXS5zdHlsZS5sZWZ0PW99dC5vcHRpb25zLmZpeGVkR3V0dGVyJiYoZS5ndXR0ZXJzLnN0eWxlLmxlZnQ9citpK1wicHhcIil9fWZ1bmN0aW9uIGNpKHQpe2lmKCF0Lm9wdGlvbnMubGluZU51bWJlcnMpcmV0dXJuITE7dmFyIGU9dC5kb2Msbj1RdCh0Lm9wdGlvbnMsZS5maXJzdCtlLnNpemUtMSkscj10LmRpc3BsYXk7aWYobi5sZW5ndGghPXIubGluZU51bUNoYXJzKXt2YXIgaT1yLm1lYXN1cmUuYXBwZW5kQ2hpbGQoTShcImRpdlwiLFtNKFwiZGl2XCIsbildLFwiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiKSksbz1pLmZpcnN0Q2hpbGQub2Zmc2V0V2lkdGgsYT1pLm9mZnNldFdpZHRoLW87cmV0dXJuIHIubGluZUd1dHRlci5zdHlsZS53aWR0aD1cIlwiLHIubGluZU51bUlubmVyV2lkdGg9TWF0aC5tYXgobyxyLmxpbmVHdXR0ZXIub2Zmc2V0V2lkdGgtYSkrMSxyLmxpbmVOdW1XaWR0aD1yLmxpbmVOdW1Jbm5lcldpZHRoK2Esci5saW5lTnVtQ2hhcnM9ci5saW5lTnVtSW5uZXJXaWR0aD9uLmxlbmd0aDotMSxyLmxpbmVHdXR0ZXIuc3R5bGUud2lkdGg9ci5saW5lTnVtV2lkdGgrXCJweFwiLGFpKHQuZGlzcGxheSksITB9cmV0dXJuITF9ZnVuY3Rpb24gdWkodCxlKXtmb3IodmFyIG49W10scj0hMSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBvPXRbaV0sYT1udWxsO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBvJiYoYT1vLnN0eWxlLG89by5jbGFzc05hbWUpLFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiPT1vKXtpZighZSljb250aW51ZTtyPSEwfW4ucHVzaCh7Y2xhc3NOYW1lOm8sc3R5bGU6YX0pfXJldHVybiBlJiYhciYmbi5wdXNoKHtjbGFzc05hbWU6XCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCIsc3R5bGU6bnVsbH0pLG59ZnVuY3Rpb24gZmkodCl7dmFyIGU9dC5ndXR0ZXJzLG49dC5ndXR0ZXJTcGVjcztUKGUpLHQubGluZUd1dHRlcj1udWxsO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgaT1uW3JdLG89aS5jbGFzc05hbWUsYT1pLnN0eWxlLHM9ZS5hcHBlbmRDaGlsZChNKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItZ3V0dGVyIFwiK28pKTthJiYocy5zdHlsZS5jc3NUZXh0PWEpLFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiPT1vJiYodC5saW5lR3V0dGVyPXMscy5zdHlsZS53aWR0aD0odC5saW5lTnVtV2lkdGh8fDEpK1wicHhcIil9ZS5zdHlsZS5kaXNwbGF5PW4ubGVuZ3RoP1wiXCI6XCJub25lXCIsYWkodCl9ZnVuY3Rpb24gZGkodCl7ZmkodC5kaXNwbGF5KSxjcih0KSxsaSh0KX1mdW5jdGlvbiBoaSh0LGUscixpKXt2YXIgbz10aGlzO3RoaXMuaW5wdXQ9cixvLnNjcm9sbGJhckZpbGxlcj1NKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlclwiKSxvLnNjcm9sbGJhckZpbGxlci5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLFwidHJ1ZVwiKSxvLmd1dHRlckZpbGxlcj1NKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlclwiKSxvLmd1dHRlckZpbGxlci5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLFwidHJ1ZVwiKSxvLmxpbmVEaXY9TChcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWNvZGVcIiksby5zZWxlY3Rpb25EaXY9TShcImRpdlwiLG51bGwsbnVsbCxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMVwiKSxvLmN1cnNvckRpdj1NKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItY3Vyc29yc1wiKSxvLm1lYXN1cmU9TShcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLW1lYXN1cmVcIiksby5saW5lTWVhc3VyZT1NKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItbWVhc3VyZVwiKSxvLmxpbmVTcGFjZT1MKFwiZGl2XCIsW28ubWVhc3VyZSxvLmxpbmVNZWFzdXJlLG8uc2VsZWN0aW9uRGl2LG8uY3Vyc29yRGl2LG8ubGluZURpdl0sbnVsbCxcInBvc2l0aW9uOiByZWxhdGl2ZTsgb3V0bGluZTogbm9uZVwiKTt2YXIgYz1MKFwiZGl2XCIsW28ubGluZVNwYWNlXSxcIkNvZGVNaXJyb3ItbGluZXNcIik7by5tb3Zlcj1NKFwiZGl2XCIsW2NdLG51bGwsXCJwb3NpdGlvbjogcmVsYXRpdmVcIiksby5zaXplcj1NKFwiZGl2XCIsW28ubW92ZXJdLFwiQ29kZU1pcnJvci1zaXplclwiKSxvLnNpemVyV2lkdGg9bnVsbCxvLmhlaWdodEZvcmNlcj1NKFwiZGl2XCIsbnVsbCxudWxsLFwicG9zaXRpb246IGFic29sdXRlOyBoZWlnaHQ6IFwiK0grXCJweDsgd2lkdGg6IDFweDtcIiksby5ndXR0ZXJzPU0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1ndXR0ZXJzXCIpLG8ubGluZUd1dHRlcj1udWxsLG8uc2Nyb2xsZXI9TShcImRpdlwiLFtvLnNpemVyLG8uaGVpZ2h0Rm9yY2VyLG8uZ3V0dGVyc10sXCJDb2RlTWlycm9yLXNjcm9sbFwiKSxvLnNjcm9sbGVyLnNldEF0dHJpYnV0ZShcInRhYkluZGV4XCIsXCItMVwiKSxvLndyYXBwZXI9TShcImRpdlwiLFtvLnNjcm9sbGJhckZpbGxlcixvLmd1dHRlckZpbGxlcixvLnNjcm9sbGVyXSxcIkNvZGVNaXJyb3JcIiksYSYmczw4JiYoby5ndXR0ZXJzLnN0eWxlLnpJbmRleD0tMSxvLnNjcm9sbGVyLnN0eWxlLnBhZGRpbmdSaWdodD0wKSxsfHxuJiZ2fHwoby5zY3JvbGxlci5kcmFnZ2FibGU9ITApLHQmJih0LmFwcGVuZENoaWxkP3QuYXBwZW5kQ2hpbGQoby53cmFwcGVyKTp0KG8ud3JhcHBlcikpLG8udmlld0Zyb209by52aWV3VG89ZS5maXJzdCxvLnJlcG9ydGVkVmlld0Zyb209by5yZXBvcnRlZFZpZXdUbz1lLmZpcnN0LG8udmlldz1bXSxvLnJlbmRlcmVkVmlldz1udWxsLG8uZXh0ZXJuYWxNZWFzdXJlZD1udWxsLG8udmlld09mZnNldD0wLG8ubGFzdFdyYXBIZWlnaHQ9by5sYXN0V3JhcFdpZHRoPTAsby51cGRhdGVMaW5lTnVtYmVycz1udWxsLG8ubmF0aXZlQmFyV2lkdGg9by5iYXJIZWlnaHQ9by5iYXJXaWR0aD0wLG8uc2Nyb2xsYmFyc0NsaXBwZWQ9ITEsby5saW5lTnVtV2lkdGg9by5saW5lTnVtSW5uZXJXaWR0aD1vLmxpbmVOdW1DaGFycz1udWxsLG8uYWxpZ25XaWRnZXRzPSExLG8uY2FjaGVkQ2hhcldpZHRoPW8uY2FjaGVkVGV4dEhlaWdodD1vLmNhY2hlZFBhZGRpbmdIPW51bGwsby5tYXhMaW5lPW51bGwsby5tYXhMaW5lTGVuZ3RoPTAsby5tYXhMaW5lQ2hhbmdlZD0hMSxvLndoZWVsRFg9by53aGVlbERZPW8ud2hlZWxTdGFydFg9by53aGVlbFN0YXJ0WT1udWxsLG8uc2hpZnQ9ITEsby5zZWxGb3JDb250ZXh0TWVudT1udWxsLG8uYWN0aXZlVG91Y2g9bnVsbCxvLmd1dHRlclNwZWNzPXVpKGkuZ3V0dGVycyxpLmxpbmVOdW1iZXJzKSxmaShvKSxyLmluaXQobyl9bmkucHJvdG90eXBlLnNpZ25hbD1mdW5jdGlvbih0LGUpe3l0KHQsZSkmJnRoaXMuZXZlbnRzLnB1c2goYXJndW1lbnRzKX0sbmkucHJvdG90eXBlLmZpbmlzaD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5ldmVudHMubGVuZ3RoO3QrKyltdC5hcHBseShudWxsLHRoaXMuZXZlbnRzW3RdKX07dmFyIHBpPTAsbWk9bnVsbDtmdW5jdGlvbiBnaSh0KXt2YXIgZT10LndoZWVsRGVsdGFYLG49dC53aGVlbERlbHRhWTtyZXR1cm4gbnVsbD09ZSYmdC5kZXRhaWwmJnQuYXhpcz09dC5IT1JJWk9OVEFMX0FYSVMmJihlPXQuZGV0YWlsKSxudWxsPT1uJiZ0LmRldGFpbCYmdC5heGlzPT10LlZFUlRJQ0FMX0FYSVM/bj10LmRldGFpbDpudWxsPT1uJiYobj10LndoZWVsRGVsdGEpLHt4OmUseTpufX1mdW5jdGlvbiB2aSh0KXt2YXIgZT1naSh0KTtyZXR1cm4gZS54Kj1taSxlLnkqPW1pLGV9ZnVuY3Rpb24geWkodCxlKXt2YXIgcj1naShlKSxpPXIueCxvPXIueSxhPXQuZGlzcGxheSxzPWEuc2Nyb2xsZXIsYz1zLnNjcm9sbFdpZHRoPnMuY2xpZW50V2lkdGgsdT1zLnNjcm9sbEhlaWdodD5zLmNsaWVudEhlaWdodDtpZihpJiZjfHxvJiZ1KXtpZihvJiZ5JiZsKXQ6Zm9yKHZhciBkPWUudGFyZ2V0LGg9YS52aWV3O2QhPXM7ZD1kLnBhcmVudE5vZGUpZm9yKHZhciBwPTA7cDxoLmxlbmd0aDtwKyspaWYoaFtwXS5ub2RlPT1kKXt0LmRpc3BsYXkuY3VycmVudFdoZWVsVGFyZ2V0PWQ7YnJlYWsgdH1pZihpJiYhbiYmIWYmJm51bGwhPW1pKXJldHVybiBvJiZ1JiZQcih0LE1hdGgubWF4KDAscy5zY3JvbGxUb3ArbyptaSkpLElyKHQsTWF0aC5tYXgoMCxzLnNjcm9sbExlZnQraSptaSkpLCghb3x8byYmdSkmJnh0KGUpLHZvaWQoYS53aGVlbFN0YXJ0WD1udWxsKTtpZihvJiZudWxsIT1taSl7dmFyIG09byptaSxnPXQuZG9jLnNjcm9sbFRvcCx2PWcrYS53cmFwcGVyLmNsaWVudEhlaWdodDttPDA/Zz1NYXRoLm1heCgwLGcrbS01MCk6dj1NYXRoLm1pbih0LmRvYy5oZWlnaHQsdittKzUwKSxvaSh0LHt0b3A6Zyxib3R0b206dn0pfXBpPDIwJiYobnVsbD09YS53aGVlbFN0YXJ0WD8oYS53aGVlbFN0YXJ0WD1zLnNjcm9sbExlZnQsYS53aGVlbFN0YXJ0WT1zLnNjcm9sbFRvcCxhLndoZWVsRFg9aSxhLndoZWVsRFk9byxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYobnVsbCE9YS53aGVlbFN0YXJ0WCl7dmFyIHQ9cy5zY3JvbGxMZWZ0LWEud2hlZWxTdGFydFgsZT1zLnNjcm9sbFRvcC1hLndoZWVsU3RhcnRZLG49ZSYmYS53aGVlbERZJiZlL2Eud2hlZWxEWXx8dCYmYS53aGVlbERYJiZ0L2Eud2hlZWxEWDthLndoZWVsU3RhcnRYPWEud2hlZWxTdGFydFk9bnVsbCxuJiYobWk9KG1pKnBpK24pLyhwaSsxKSwrK3BpKX19LDIwMCkpOihhLndoZWVsRFgrPWksYS53aGVlbERZKz1vKSl9fWE/bWk9LS41MzpuP21pPTE1OnU/bWk9LS43OmQmJihtaT0tMS8zKTt2YXIgYmk9ZnVuY3Rpb24odCxlKXt0aGlzLnJhbmdlcz10LHRoaXMucHJpbUluZGV4PWV9O2JpLnByb3RvdHlwZS5wcmltYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFuZ2VzW3RoaXMucHJpbUluZGV4XX0sYmkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZih0PT10aGlzKXJldHVybiEwO2lmKHQucHJpbUluZGV4IT10aGlzLnByaW1JbmRleHx8dC5yYW5nZXMubGVuZ3RoIT10aGlzLnJhbmdlcy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLnJhbmdlcy5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLnJhbmdlc1tlXSxyPXQucmFuZ2VzW2VdO2lmKCFuZShuLmFuY2hvcixyLmFuY2hvcil8fCFuZShuLmhlYWQsci5oZWFkKSlyZXR1cm4hMX1yZXR1cm4hMH0sYmkucHJvdG90eXBlLmRlZXBDb3B5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPHRoaXMucmFuZ2VzLmxlbmd0aDtlKyspdFtlXT1uZXcgeGkocmUodGhpcy5yYW5nZXNbZV0uYW5jaG9yKSxyZSh0aGlzLnJhbmdlc1tlXS5oZWFkKSk7cmV0dXJuIG5ldyBiaSh0LHRoaXMucHJpbUluZGV4KX0sYmkucHJvdG90eXBlLnNvbWV0aGluZ1NlbGVjdGVkPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnJhbmdlcy5sZW5ndGg7dCsrKWlmKCF0aGlzLnJhbmdlc1t0XS5lbXB0eSgpKXJldHVybiEwO3JldHVybiExfSxiaS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCxlKXtlfHwoZT10KTtmb3IodmFyIG49MDtuPHRoaXMucmFuZ2VzLmxlbmd0aDtuKyspe3ZhciByPXRoaXMucmFuZ2VzW25dO2lmKGVlKGUsci5mcm9tKCkpPj0wJiZlZSh0LHIudG8oKSk8PTApcmV0dXJuIG59cmV0dXJuLTF9O3ZhciB4aT1mdW5jdGlvbih0LGUpe3RoaXMuYW5jaG9yPXQsdGhpcy5oZWFkPWV9O2Z1bmN0aW9uIHdpKHQsZSxuKXt2YXIgcj10JiZ0Lm9wdGlvbnMuc2VsZWN0aW9uc01heVRvdWNoLGk9ZVtuXTtlLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gZWUodC5mcm9tKCksZS5mcm9tKCkpfSksbj1CKGUsaSk7Zm9yKHZhciBvPTE7bzxlLmxlbmd0aDtvKyspe3ZhciBhPWVbb10scz1lW28tMV0sbD1lZShzLnRvKCksYS5mcm9tKCkpO2lmKHImJiFhLmVtcHR5KCk/bD4wOmw+PTApe3ZhciBjPW9lKHMuZnJvbSgpLGEuZnJvbSgpKSx1PWllKHMudG8oKSxhLnRvKCkpLGY9cy5lbXB0eSgpP2EuZnJvbSgpPT1hLmhlYWQ6cy5mcm9tKCk9PXMuaGVhZDtvPD1uJiYtLW4sZS5zcGxpY2UoLS1vLDIsbmV3IHhpKGY/dTpjLGY/Yzp1KSl9fXJldHVybiBuZXcgYmkoZSxuKX1mdW5jdGlvbiBDaSh0LGUpe3JldHVybiBuZXcgYmkoW25ldyB4aSh0LGV8fHQpXSwwKX1mdW5jdGlvbiBraSh0KXtyZXR1cm4gdC50ZXh0P3RlKHQuZnJvbS5saW5lK3QudGV4dC5sZW5ndGgtMSxZKHQudGV4dCkubGVuZ3RoKygxPT10LnRleHQubGVuZ3RoP3QuZnJvbS5jaDowKSk6dC50b31mdW5jdGlvbiBfaSh0LGUpe2lmKGVlKHQsZS5mcm9tKTwwKXJldHVybiB0O2lmKGVlKHQsZS50byk8PTApcmV0dXJuIGtpKGUpO3ZhciBuPXQubGluZStlLnRleHQubGVuZ3RoLShlLnRvLmxpbmUtZS5mcm9tLmxpbmUpLTEscj10LmNoO3JldHVybiB0LmxpbmU9PWUudG8ubGluZSYmKHIrPWtpKGUpLmNoLWUudG8uY2gpLHRlKG4scil9ZnVuY3Rpb24gU2kodCxlKXtmb3IodmFyIG49W10scj0wO3I8dC5zZWwucmFuZ2VzLmxlbmd0aDtyKyspe3ZhciBpPXQuc2VsLnJhbmdlc1tyXTtuLnB1c2gobmV3IHhpKF9pKGkuYW5jaG9yLGUpLF9pKGkuaGVhZCxlKSkpfXJldHVybiB3aSh0LmNtLG4sdC5zZWwucHJpbUluZGV4KX1mdW5jdGlvbiBFaSh0LGUsbil7cmV0dXJuIHQubGluZT09ZS5saW5lP3RlKG4ubGluZSx0LmNoLWUuY2grbi5jaCk6dGUobi5saW5lKyh0LmxpbmUtZS5saW5lKSx0LmNoKX1mdW5jdGlvbiBUaSh0KXt0LmRvYy5tb2RlPVJ0KHQub3B0aW9ucyx0LmRvYy5tb2RlT3B0aW9uKSxPaSh0KX1mdW5jdGlvbiBPaSh0KXt0LmRvYy5pdGVyKGZ1bmN0aW9uKHQpe3Quc3RhdGVBZnRlciYmKHQuc3RhdGVBZnRlcj1udWxsKSx0LnN0eWxlcyYmKHQuc3R5bGVzPW51bGwpfSksdC5kb2MubW9kZUZyb250aWVyPXQuZG9jLmhpZ2hsaWdodEZyb250aWVyPXQuZG9jLmZpcnN0LHRpKHQsMTAwKSx0LnN0YXRlLm1vZGVHZW4rKyx0LmN1ck9wJiZjcih0KX1mdW5jdGlvbiBNaSh0LGUpe3JldHVybiAwPT1lLmZyb20uY2gmJjA9PWUudG8uY2gmJlwiXCI9PVkoZS50ZXh0KSYmKCF0LmNtfHx0LmNtLm9wdGlvbnMud2hvbGVMaW5lVXBkYXRlQmVmb3JlKX1mdW5jdGlvbiBMaSh0LGUsbixyKXtmdW5jdGlvbiBpKHQpe3JldHVybiBuP25bdF06bnVsbH1mdW5jdGlvbiBvKHQsbixpKXshZnVuY3Rpb24odCxlLG4scil7dC50ZXh0PWUsdC5zdGF0ZUFmdGVyJiYodC5zdGF0ZUFmdGVyPW51bGwpLHQuc3R5bGVzJiYodC5zdHlsZXM9bnVsbCksbnVsbCE9dC5vcmRlciYmKHQub3JkZXI9bnVsbCksT2UodCksTWUodCxuKTt2YXIgaT1yP3IodCk6MTtpIT10LmhlaWdodCYmWXQodCxpKX0odCxuLGksciksbG4odCxcImNoYW5nZVwiLHQsZSl9ZnVuY3Rpb24gYSh0LGUpe2Zvcih2YXIgbj1bXSxvPXQ7bzxlOysrbyluLnB1c2gobmV3IEtlKGNbb10saShvKSxyKSk7cmV0dXJuIG59dmFyIHM9ZS5mcm9tLGw9ZS50byxjPWUudGV4dCx1PUt0KHQscy5saW5lKSxmPUt0KHQsbC5saW5lKSxkPVkoYyksaD1pKGMubGVuZ3RoLTEpLHA9bC5saW5lLXMubGluZTtpZihlLmZ1bGwpdC5pbnNlcnQoMCxhKDAsYy5sZW5ndGgpKSx0LnJlbW92ZShjLmxlbmd0aCx0LnNpemUtYy5sZW5ndGgpO2Vsc2UgaWYoTWkodCxlKSl7dmFyIG09YSgwLGMubGVuZ3RoLTEpO28oZixmLnRleHQsaCkscCYmdC5yZW1vdmUocy5saW5lLHApLG0ubGVuZ3RoJiZ0Lmluc2VydChzLmxpbmUsbSl9ZWxzZSBpZih1PT1mKWlmKDE9PWMubGVuZ3RoKW8odSx1LnRleHQuc2xpY2UoMCxzLmNoKStkK3UudGV4dC5zbGljZShsLmNoKSxoKTtlbHNle3ZhciBnPWEoMSxjLmxlbmd0aC0xKTtnLnB1c2gobmV3IEtlKGQrdS50ZXh0LnNsaWNlKGwuY2gpLGgscikpLG8odSx1LnRleHQuc2xpY2UoMCxzLmNoKStjWzBdLGkoMCkpLHQuaW5zZXJ0KHMubGluZSsxLGcpfWVsc2UgaWYoMT09Yy5sZW5ndGgpbyh1LHUudGV4dC5zbGljZSgwLHMuY2gpK2NbMF0rZi50ZXh0LnNsaWNlKGwuY2gpLGkoMCkpLHQucmVtb3ZlKHMubGluZSsxLHApO2Vsc2V7byh1LHUudGV4dC5zbGljZSgwLHMuY2gpK2NbMF0saSgwKSksbyhmLGQrZi50ZXh0LnNsaWNlKGwuY2gpLGgpO3ZhciB2PWEoMSxjLmxlbmd0aC0xKTtwPjEmJnQucmVtb3ZlKHMubGluZSsxLHAtMSksdC5pbnNlcnQocy5saW5lKzEsdil9bG4odCxcImNoYW5nZVwiLHQsZSl9ZnVuY3Rpb24gQWkodCxlLG4peyFmdW5jdGlvbiB0KHIsaSxvKXtpZihyLmxpbmtlZClmb3IodmFyIGE9MDthPHIubGlua2VkLmxlbmd0aDsrK2Epe3ZhciBzPXIubGlua2VkW2FdO2lmKHMuZG9jIT1pKXt2YXIgbD1vJiZzLnNoYXJlZEhpc3Q7biYmIWx8fChlKHMuZG9jLGwpLHQocy5kb2MscixsKSl9fX0odCxudWxsLCEwKX1mdW5jdGlvbiBOaSh0LGUpe2lmKGUuY20pdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBkb2N1bWVudCBpcyBhbHJlYWR5IGluIHVzZS5cIik7dC5kb2M9ZSxlLmNtPXQsYXIodCksVGkodCksUGkodCksdC5vcHRpb25zLmxpbmVXcmFwcGluZ3x8R2UodCksdC5vcHRpb25zLm1vZGU9ZS5tb2RlT3B0aW9uLGNyKHQpfWZ1bmN0aW9uIFBpKHQpeyhcInJ0bFwiPT10LmRvYy5kaXJlY3Rpb24/UDpFKSh0LmRpc3BsYXkubGluZURpdixcIkNvZGVNaXJyb3ItcnRsXCIpfWZ1bmN0aW9uIEZpKHQpe3RoaXMuZG9uZT1bXSx0aGlzLnVuZG9uZT1bXSx0aGlzLnVuZG9EZXB0aD0xLzAsdGhpcy5sYXN0TW9kVGltZT10aGlzLmxhc3RTZWxUaW1lPTAsdGhpcy5sYXN0T3A9dGhpcy5sYXN0U2VsT3A9bnVsbCx0aGlzLmxhc3RPcmlnaW49dGhpcy5sYXN0U2VsT3JpZ2luPW51bGwsdGhpcy5nZW5lcmF0aW9uPXRoaXMubWF4R2VuZXJhdGlvbj10fHwxfWZ1bmN0aW9uIElpKHQsZSl7dmFyIG49e2Zyb206cmUoZS5mcm9tKSx0bzpraShlKSx0ZXh0OiR0KHQsZS5mcm9tLGUudG8pfTtyZXR1cm4gQmkodCxuLGUuZnJvbS5saW5lLGUudG8ubGluZSsxKSxBaSh0LGZ1bmN0aW9uKHQpe3JldHVybiBCaSh0LG4sZS5mcm9tLmxpbmUsZS50by5saW5lKzEpfSwhMCksbn1mdW5jdGlvbiBqaSh0KXtmb3IoO3QubGVuZ3RoOyl7dmFyIGU9WSh0KTtpZighZS5yYW5nZXMpYnJlYWs7dC5wb3AoKX19ZnVuY3Rpb24gRGkodCxlLG4scil7dmFyIGk9dC5oaXN0b3J5O2kudW5kb25lLmxlbmd0aD0wO3ZhciBvLGEscz0rbmV3IERhdGU7aWYoKGkubGFzdE9wPT1yfHxpLmxhc3RPcmlnaW49PWUub3JpZ2luJiZlLm9yaWdpbiYmKFwiK1wiPT1lLm9yaWdpbi5jaGFyQXQoMCkmJmkubGFzdE1vZFRpbWU+cy0odC5jbT90LmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXk6NTAwKXx8XCIqXCI9PWUub3JpZ2luLmNoYXJBdCgwKSkpJiYobz1mdW5jdGlvbih0LGUpe3JldHVybiBlPyhqaSh0LmRvbmUpLFkodC5kb25lKSk6dC5kb25lLmxlbmd0aCYmIVkodC5kb25lKS5yYW5nZXM/WSh0LmRvbmUpOnQuZG9uZS5sZW5ndGg+MSYmIXQuZG9uZVt0LmRvbmUubGVuZ3RoLTJdLnJhbmdlcz8odC5kb25lLnBvcCgpLFkodC5kb25lKSk6dm9pZCAwfShpLGkubGFzdE9wPT1yKSkpYT1ZKG8uY2hhbmdlcyksMD09ZWUoZS5mcm9tLGUudG8pJiYwPT1lZShlLmZyb20sYS50byk/YS50bz1raShlKTpvLmNoYW5nZXMucHVzaChJaSh0LGUpKTtlbHNle3ZhciBsPVkoaS5kb25lKTtmb3IobCYmbC5yYW5nZXN8fFJpKHQuc2VsLGkuZG9uZSksbz17Y2hhbmdlczpbSWkodCxlKV0sZ2VuZXJhdGlvbjppLmdlbmVyYXRpb259LGkuZG9uZS5wdXNoKG8pO2kuZG9uZS5sZW5ndGg+aS51bmRvRGVwdGg7KWkuZG9uZS5zaGlmdCgpLGkuZG9uZVswXS5yYW5nZXN8fGkuZG9uZS5zaGlmdCgpfWkuZG9uZS5wdXNoKG4pLGkuZ2VuZXJhdGlvbj0rK2kubWF4R2VuZXJhdGlvbixpLmxhc3RNb2RUaW1lPWkubGFzdFNlbFRpbWU9cyxpLmxhc3RPcD1pLmxhc3RTZWxPcD1yLGkubGFzdE9yaWdpbj1pLmxhc3RTZWxPcmlnaW49ZS5vcmlnaW4sYXx8bXQodCxcImhpc3RvcnlBZGRlZFwiKX1mdW5jdGlvbiB6aSh0LGUsbixyKXt2YXIgaT10Lmhpc3Rvcnksbz1yJiZyLm9yaWdpbjtuPT1pLmxhc3RTZWxPcHx8byYmaS5sYXN0U2VsT3JpZ2luPT1vJiYoaS5sYXN0TW9kVGltZT09aS5sYXN0U2VsVGltZSYmaS5sYXN0T3JpZ2luPT1vfHxmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1lLmNoYXJBdCgwKTtyZXR1cm5cIipcIj09aXx8XCIrXCI9PWkmJm4ucmFuZ2VzLmxlbmd0aD09ci5yYW5nZXMubGVuZ3RoJiZuLnNvbWV0aGluZ1NlbGVjdGVkKCk9PXIuc29tZXRoaW5nU2VsZWN0ZWQoKSYmbmV3IERhdGUtdC5oaXN0b3J5Lmxhc3RTZWxUaW1lPD0odC5jbT90LmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXk6NTAwKX0odCxvLFkoaS5kb25lKSxlKSk/aS5kb25lW2kuZG9uZS5sZW5ndGgtMV09ZTpSaShlLGkuZG9uZSksaS5sYXN0U2VsVGltZT0rbmV3IERhdGUsaS5sYXN0U2VsT3JpZ2luPW8saS5sYXN0U2VsT3A9bixyJiYhMSE9PXIuY2xlYXJSZWRvJiZqaShpLnVuZG9uZSl9ZnVuY3Rpb24gUmkodCxlKXt2YXIgbj1ZKGUpO24mJm4ucmFuZ2VzJiZuLmVxdWFscyh0KXx8ZS5wdXNoKHQpfWZ1bmN0aW9uIEJpKHQsZSxuLHIpe3ZhciBpPWVbXCJzcGFuc19cIit0LmlkXSxvPTA7dC5pdGVyKE1hdGgubWF4KHQuZmlyc3QsbiksTWF0aC5taW4odC5maXJzdCt0LnNpemUsciksZnVuY3Rpb24obil7bi5tYXJrZWRTcGFucyYmKChpfHwoaT1lW1wic3BhbnNfXCIrdC5pZF09e30pKVtvXT1uLm1hcmtlZFNwYW5zKSwrK299KX1mdW5jdGlvbiBIaSh0KXtpZighdClyZXR1cm4gbnVsbDtmb3IodmFyIGUsbj0wO248dC5sZW5ndGg7KytuKXRbbl0ubWFya2VyLmV4cGxpY2l0bHlDbGVhcmVkP2V8fChlPXQuc2xpY2UoMCxuKSk6ZSYmZS5wdXNoKHRbbl0pO3JldHVybiBlP2UubGVuZ3RoP2U6bnVsbDp0fWZ1bmN0aW9uIFdpKHQsZSl7dmFyIG49ZnVuY3Rpb24odCxlKXt2YXIgbj1lW1wic3BhbnNfXCIrdC5pZF07aWYoIW4pcmV0dXJuIG51bGw7Zm9yKHZhciByPVtdLGk9MDtpPGUudGV4dC5sZW5ndGg7KytpKXIucHVzaChIaShuW2ldKSk7cmV0dXJuIHJ9KHQsZSkscj1FZSh0LGUpO2lmKCFuKXJldHVybiByO2lmKCFyKXJldHVybiBuO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7KytpKXt2YXIgbz1uW2ldLGE9cltpXTtpZihvJiZhKXQ6Zm9yKHZhciBzPTA7czxhLmxlbmd0aDsrK3Mpe2Zvcih2YXIgbD1hW3NdLGM9MDtjPG8ubGVuZ3RoOysrYylpZihvW2NdLm1hcmtlcj09bC5tYXJrZXIpY29udGludWUgdDtvLnB1c2gobCl9ZWxzZSBhJiYobltpXT1hKX1yZXR1cm4gbn1mdW5jdGlvbiBVaSh0LGUsbil7Zm9yKHZhciByPVtdLGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXTtpZihvLnJhbmdlcylyLnB1c2gobj9iaS5wcm90b3R5cGUuZGVlcENvcHkuY2FsbChvKTpvKTtlbHNle3ZhciBhPW8uY2hhbmdlcyxzPVtdO3IucHVzaCh7Y2hhbmdlczpzfSk7Zm9yKHZhciBsPTA7bDxhLmxlbmd0aDsrK2wpe3ZhciBjPWFbbF0sdT12b2lkIDA7aWYocy5wdXNoKHtmcm9tOmMuZnJvbSx0bzpjLnRvLHRleHQ6Yy50ZXh0fSksZSlmb3IodmFyIGYgaW4gYykodT1mLm1hdGNoKC9ec3BhbnNfKFxcZCspJC8pKSYmQihlLE51bWJlcih1WzFdKSk+LTEmJihZKHMpW2ZdPWNbZl0sZGVsZXRlIGNbZl0pfX19cmV0dXJuIHJ9ZnVuY3Rpb24gVmkodCxlLG4scil7aWYocil7dmFyIGk9dC5hbmNob3I7aWYobil7dmFyIG89ZWUoZSxpKTwwO28hPWVlKG4saSk8MD8oaT1lLGU9bik6byE9ZWUoZSxuKTwwJiYoZT1uKX1yZXR1cm4gbmV3IHhpKGksZSl9cmV0dXJuIG5ldyB4aShufHxlLGUpfWZ1bmN0aW9uIEdpKHQsZSxuLHIsaSl7bnVsbD09aSYmKGk9dC5jbSYmKHQuY20uZGlzcGxheS5zaGlmdHx8dC5leHRlbmQpKSxKaSh0LG5ldyBiaShbVmkodC5zZWwucHJpbWFyeSgpLGUsbixpKV0sMCkscil9ZnVuY3Rpb24gS2kodCxlLG4pe2Zvcih2YXIgcj1bXSxpPXQuY20mJih0LmNtLmRpc3BsYXkuc2hpZnR8fHQuZXh0ZW5kKSxvPTA7bzx0LnNlbC5yYW5nZXMubGVuZ3RoO28rKylyW29dPVZpKHQuc2VsLnJhbmdlc1tvXSxlW29dLG51bGwsaSk7dmFyIGE9d2kodC5jbSxyLHQuc2VsLnByaW1JbmRleCk7SmkodCxhLG4pfWZ1bmN0aW9uICRpKHQsZSxuLHIpe3ZhciBpPXQuc2VsLnJhbmdlcy5zbGljZSgwKTtpW2VdPW4sSmkodCx3aSh0LmNtLGksdC5zZWwucHJpbUluZGV4KSxyKX1mdW5jdGlvbiBxaSh0LGUsbixyKXtKaSh0LENpKGUsbikscil9ZnVuY3Rpb24gWWkodCxlLG4pe3ZhciByPXQuaGlzdG9yeS5kb25lLGk9WShyKTtpJiZpLnJhbmdlcz8ocltyLmxlbmd0aC0xXT1lLFhpKHQsZSxuKSk6SmkodCxlLG4pfWZ1bmN0aW9uIEppKHQsZSxuKXtYaSh0LGUsbiksemkodCx0LnNlbCx0LmNtP3QuY20uY3VyT3AuaWQ6TmFOLG4pfWZ1bmN0aW9uIFhpKHQsZSxuKXsoeXQodCxcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiKXx8dC5jbSYmeXQodC5jbSxcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiKSkmJihlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj17cmFuZ2VzOmUucmFuZ2VzLHVwZGF0ZTpmdW5jdGlvbihlKXt0aGlzLnJhbmdlcz1bXTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLnJhbmdlc1tuXT1uZXcgeGkoc2UodCxlW25dLmFuY2hvciksc2UodCxlW25dLmhlYWQpKX0sb3JpZ2luOm4mJm4ub3JpZ2lufTtyZXR1cm4gbXQodCxcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiLHQsciksdC5jbSYmbXQodC5jbSxcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiLHQuY20sciksci5yYW5nZXMhPWUucmFuZ2VzP3dpKHQuY20sci5yYW5nZXMsci5yYW5nZXMubGVuZ3RoLTEpOmV9KHQsZSxuKSk7dmFyIHI9biYmbi5iaWFzfHwoZWUoZS5wcmltYXJ5KCkuaGVhZCx0LnNlbC5wcmltYXJ5KCkuaGVhZCk8MD8tMToxKTtaaSh0LHRvKHQsZSxyLCEwKSksbiYmITE9PT1uLnNjcm9sbHx8IXQuY218fE1yKHQuY20pfWZ1bmN0aW9uIFppKHQsZSl7ZS5lcXVhbHModC5zZWwpfHwodC5zZWw9ZSx0LmNtJiYodC5jbS5jdXJPcC51cGRhdGVJbnB1dD0xLHQuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMCx2dCh0LmNtKSksbG4odCxcImN1cnNvckFjdGl2aXR5XCIsdCkpfWZ1bmN0aW9uIFFpKHQpe1ppKHQsdG8odCx0LnNlbCxudWxsLCExKSl9ZnVuY3Rpb24gdG8odCxlLG4scil7Zm9yKHZhciBpLG89MDtvPGUucmFuZ2VzLmxlbmd0aDtvKyspe3ZhciBhPWUucmFuZ2VzW29dLHM9ZS5yYW5nZXMubGVuZ3RoPT10LnNlbC5yYW5nZXMubGVuZ3RoJiZ0LnNlbC5yYW5nZXNbb10sbD1ubyh0LGEuYW5jaG9yLHMmJnMuYW5jaG9yLG4sciksYz1ubyh0LGEuaGVhZCxzJiZzLmhlYWQsbixyKTsoaXx8bCE9YS5hbmNob3J8fGMhPWEuaGVhZCkmJihpfHwoaT1lLnJhbmdlcy5zbGljZSgwLG8pKSxpW29dPW5ldyB4aShsLGMpKX1yZXR1cm4gaT93aSh0LmNtLGksZS5wcmltSW5kZXgpOmV9ZnVuY3Rpb24gZW8odCxlLG4scixpKXt2YXIgbz1LdCh0LGUubGluZSk7aWYoby5tYXJrZWRTcGFucylmb3IodmFyIGE9MDthPG8ubWFya2VkU3BhbnMubGVuZ3RoOysrYSl7dmFyIHM9by5tYXJrZWRTcGFuc1thXSxsPXMubWFya2VyLGM9XCJzZWxlY3RMZWZ0XCJpbiBsPyFsLnNlbGVjdExlZnQ6bC5pbmNsdXNpdmVMZWZ0LHU9XCJzZWxlY3RSaWdodFwiaW4gbD8hbC5zZWxlY3RSaWdodDpsLmluY2x1c2l2ZVJpZ2h0O2lmKChudWxsPT1zLmZyb218fChjP3MuZnJvbTw9ZS5jaDpzLmZyb208ZS5jaCkpJiYobnVsbD09cy50b3x8KHU/cy50bz49ZS5jaDpzLnRvPmUuY2gpKSl7aWYoaSYmKG10KGwsXCJiZWZvcmVDdXJzb3JFbnRlclwiKSxsLmV4cGxpY2l0bHlDbGVhcmVkKSl7aWYoby5tYXJrZWRTcGFucyl7LS1hO2NvbnRpbnVlfWJyZWFrfWlmKCFsLmF0b21pYyljb250aW51ZTtpZihuKXt2YXIgZj1sLmZpbmQocjwwPzE6LTEpLGQ9dm9pZCAwO2lmKChyPDA/dTpjKSYmKGY9cm8odCxmLC1yLGYmJmYubGluZT09ZS5saW5lP286bnVsbCkpLGYmJmYubGluZT09ZS5saW5lJiYoZD1lZShmLG4pKSYmKHI8MD9kPDA6ZD4wKSlyZXR1cm4gZW8odCxmLGUscixpKX12YXIgaD1sLmZpbmQocjwwPy0xOjEpO3JldHVybihyPDA/Yzp1KSYmKGg9cm8odCxoLHIsaC5saW5lPT1lLmxpbmU/bzpudWxsKSksaD9lbyh0LGgsZSxyLGkpOm51bGx9fXJldHVybiBlfWZ1bmN0aW9uIG5vKHQsZSxuLHIsaSl7dmFyIG89cnx8MSxhPWVvKHQsZSxuLG8saSl8fCFpJiZlbyh0LGUsbixvLCEwKXx8ZW8odCxlLG4sLW8saSl8fCFpJiZlbyh0LGUsbiwtbywhMCk7cmV0dXJuIGF8fCh0LmNhbnRFZGl0PSEwLHRlKHQuZmlyc3QsMCkpfWZ1bmN0aW9uIHJvKHQsZSxuLHIpe3JldHVybiBuPDAmJjA9PWUuY2g/ZS5saW5lPnQuZmlyc3Q/c2UodCx0ZShlLmxpbmUtMSkpOm51bGw6bj4wJiZlLmNoPT0ocnx8S3QodCxlLmxpbmUpKS50ZXh0Lmxlbmd0aD9lLmxpbmU8dC5maXJzdCt0LnNpemUtMT90ZShlLmxpbmUrMSwwKTpudWxsOm5ldyB0ZShlLmxpbmUsZS5jaCtuKX1mdW5jdGlvbiBpbyh0KXt0LnNldFNlbGVjdGlvbih0ZSh0LmZpcnN0TGluZSgpLDApLHRlKHQubGFzdExpbmUoKSksVSl9ZnVuY3Rpb24gb28odCxlLG4pe3ZhciByPXtjYW5jZWxlZDohMSxmcm9tOmUuZnJvbSx0bzplLnRvLHRleHQ6ZS50ZXh0LG9yaWdpbjplLm9yaWdpbixjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gci5jYW5jZWxlZD0hMH19O3JldHVybiBuJiYoci51cGRhdGU9ZnVuY3Rpb24oZSxuLGksbyl7ZSYmKHIuZnJvbT1zZSh0LGUpKSxuJiYoci50bz1zZSh0LG4pKSxpJiYoci50ZXh0PWkpLHZvaWQgMCE9PW8mJihyLm9yaWdpbj1vKX0pLG10KHQsXCJiZWZvcmVDaGFuZ2VcIix0LHIpLHQuY20mJm10KHQuY20sXCJiZWZvcmVDaGFuZ2VcIix0LmNtLHIpLHIuY2FuY2VsZWQ/KHQuY20mJih0LmNtLmN1ck9wLnVwZGF0ZUlucHV0PTIpLG51bGwpOntmcm9tOnIuZnJvbSx0bzpyLnRvLHRleHQ6ci50ZXh0LG9yaWdpbjpyLm9yaWdpbn19ZnVuY3Rpb24gYW8odCxlLG4pe2lmKHQuY20pe2lmKCF0LmNtLmN1ck9wKXJldHVybiBYcih0LmNtLGFvKSh0LGUsbik7aWYodC5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzKXJldHVybn1pZighKHl0KHQsXCJiZWZvcmVDaGFuZ2VcIil8fHQuY20mJnl0KHQuY20sXCJiZWZvcmVDaGFuZ2VcIikpfHwoZT1vbyh0LGUsITApKSl7dmFyIHI9d2UmJiFuJiZmdW5jdGlvbih0LGUsbil7dmFyIHI9bnVsbDtpZih0Lml0ZXIoZS5saW5lLG4ubGluZSsxLGZ1bmN0aW9uKHQpe2lmKHQubWFya2VkU3BhbnMpZm9yKHZhciBlPTA7ZTx0Lm1hcmtlZFNwYW5zLmxlbmd0aDsrK2Upe3ZhciBuPXQubWFya2VkU3BhbnNbZV0ubWFya2VyOyFuLnJlYWRPbmx5fHxyJiYtMSE9QihyLG4pfHwocnx8KHI9W10pKS5wdXNoKG4pfX0pLCFyKXJldHVybiBudWxsO2Zvcih2YXIgaT1be2Zyb206ZSx0bzpufV0sbz0wO288ci5sZW5ndGg7KytvKWZvcih2YXIgYT1yW29dLHM9YS5maW5kKDApLGw9MDtsPGkubGVuZ3RoOysrbCl7dmFyIGM9aVtsXTtpZighKGVlKGMudG8scy5mcm9tKTwwfHxlZShjLmZyb20scy50byk+MCkpe3ZhciB1PVtsLDFdLGY9ZWUoYy5mcm9tLHMuZnJvbSksZD1lZShjLnRvLHMudG8pOyhmPDB8fCFhLmluY2x1c2l2ZUxlZnQmJiFmKSYmdS5wdXNoKHtmcm9tOmMuZnJvbSx0bzpzLmZyb219KSwoZD4wfHwhYS5pbmNsdXNpdmVSaWdodCYmIWQpJiZ1LnB1c2goe2Zyb206cy50byx0bzpjLnRvfSksaS5zcGxpY2UuYXBwbHkoaSx1KSxsKz11Lmxlbmd0aC0zfX1yZXR1cm4gaX0odCxlLmZyb20sZS50byk7aWYocilmb3IodmFyIGk9ci5sZW5ndGgtMTtpPj0wOy0taSlzbyh0LHtmcm9tOnJbaV0uZnJvbSx0bzpyW2ldLnRvLHRleHQ6aT9bXCJcIl06ZS50ZXh0LG9yaWdpbjplLm9yaWdpbn0pO2Vsc2Ugc28odCxlKX19ZnVuY3Rpb24gc28odCxlKXtpZigxIT1lLnRleHQubGVuZ3RofHxcIlwiIT1lLnRleHRbMF18fDAhPWVlKGUuZnJvbSxlLnRvKSl7dmFyIG49U2kodCxlKTtEaSh0LGUsbix0LmNtP3QuY20uY3VyT3AuaWQ6TmFOKSx1byh0LGUsbixFZSh0LGUpKTt2YXIgcj1bXTtBaSh0LGZ1bmN0aW9uKHQsbil7bnx8LTEhPUIocix0Lmhpc3RvcnkpfHwobW8odC5oaXN0b3J5LGUpLHIucHVzaCh0Lmhpc3RvcnkpKSx1byh0LGUsbnVsbCxFZSh0LGUpKX0pfX1mdW5jdGlvbiBsbyh0LGUsbil7dmFyIHI9dC5jbSYmdC5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzO2lmKCFyfHxuKXtmb3IodmFyIGksbz10Lmhpc3RvcnksYT10LnNlbCxzPVwidW5kb1wiPT1lP28uZG9uZTpvLnVuZG9uZSxsPVwidW5kb1wiPT1lP28udW5kb25lOm8uZG9uZSxjPTA7YzxzLmxlbmd0aCYmKGk9c1tjXSxuPyFpLnJhbmdlc3x8aS5lcXVhbHModC5zZWwpOmkucmFuZ2VzKTtjKyspO2lmKGMhPXMubGVuZ3RoKXtmb3Ioby5sYXN0T3JpZ2luPW8ubGFzdFNlbE9yaWdpbj1udWxsOzspe2lmKCEoaT1zLnBvcCgpKS5yYW5nZXMpe2lmKHIpcmV0dXJuIHZvaWQgcy5wdXNoKGkpO2JyZWFrfWlmKFJpKGksbCksbiYmIWkuZXF1YWxzKHQuc2VsKSlyZXR1cm4gdm9pZCBKaSh0LGkse2NsZWFyUmVkbzohMX0pO2E9aX12YXIgdT1bXTtSaShhLGwpLGwucHVzaCh7Y2hhbmdlczp1LGdlbmVyYXRpb246by5nZW5lcmF0aW9ufSksby5nZW5lcmF0aW9uPWkuZ2VuZXJhdGlvbnx8KytvLm1heEdlbmVyYXRpb247Zm9yKHZhciBmPXl0KHQsXCJiZWZvcmVDaGFuZ2VcIil8fHQuY20mJnl0KHQuY20sXCJiZWZvcmVDaGFuZ2VcIiksZD1mdW5jdGlvbihuKXt2YXIgcj1pLmNoYW5nZXNbbl07aWYoci5vcmlnaW49ZSxmJiYhb28odCxyLCExKSlyZXR1cm4gcy5sZW5ndGg9MCx7fTt1LnB1c2goSWkodCxyKSk7dmFyIG89bj9TaSh0LHIpOlkocyk7dW8odCxyLG8sV2kodCxyKSksIW4mJnQuY20mJnQuY20uc2Nyb2xsSW50b1ZpZXcoe2Zyb206ci5mcm9tLHRvOmtpKHIpfSk7dmFyIGE9W107QWkodCxmdW5jdGlvbih0LGUpe2V8fC0xIT1CKGEsdC5oaXN0b3J5KXx8KG1vKHQuaGlzdG9yeSxyKSxhLnB1c2godC5oaXN0b3J5KSksdW8odCxyLG51bGwsV2kodCxyKSl9KX0saD1pLmNoYW5nZXMubGVuZ3RoLTE7aD49MDstLWgpe3ZhciBwPWQoaCk7aWYocClyZXR1cm4gcC52fX19fWZ1bmN0aW9uIGNvKHQsZSl7aWYoMCE9ZSYmKHQuZmlyc3QrPWUsdC5zZWw9bmV3IGJpKEoodC5zZWwucmFuZ2VzLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgeGkodGUodC5hbmNob3IubGluZStlLHQuYW5jaG9yLmNoKSx0ZSh0LmhlYWQubGluZStlLHQuaGVhZC5jaCkpfSksdC5zZWwucHJpbUluZGV4KSx0LmNtKSl7Y3IodC5jbSx0LmZpcnN0LHQuZmlyc3QtZSxlKTtmb3IodmFyIG49dC5jbS5kaXNwbGF5LHI9bi52aWV3RnJvbTtyPG4udmlld1RvO3IrKyl1cih0LmNtLHIsXCJndXR0ZXJcIil9fWZ1bmN0aW9uIHVvKHQsZSxuLHIpe2lmKHQuY20mJiF0LmNtLmN1ck9wKXJldHVybiBYcih0LmNtLHVvKSh0LGUsbixyKTtpZihlLnRvLmxpbmU8dC5maXJzdCljbyh0LGUudGV4dC5sZW5ndGgtMS0oZS50by5saW5lLWUuZnJvbS5saW5lKSk7ZWxzZSBpZighKGUuZnJvbS5saW5lPnQubGFzdExpbmUoKSkpe2lmKGUuZnJvbS5saW5lPHQuZmlyc3Qpe3ZhciBpPWUudGV4dC5sZW5ndGgtMS0odC5maXJzdC1lLmZyb20ubGluZSk7Y28odCxpKSxlPXtmcm9tOnRlKHQuZmlyc3QsMCksdG86dGUoZS50by5saW5lK2ksZS50by5jaCksdGV4dDpbWShlLnRleHQpXSxvcmlnaW46ZS5vcmlnaW59fXZhciBvPXQubGFzdExpbmUoKTtlLnRvLmxpbmU+byYmKGU9e2Zyb206ZS5mcm9tLHRvOnRlKG8sS3QodCxvKS50ZXh0Lmxlbmd0aCksdGV4dDpbZS50ZXh0WzBdXSxvcmlnaW46ZS5vcmlnaW59KSxlLnJlbW92ZWQ9JHQodCxlLmZyb20sZS50byksbnx8KG49U2kodCxlKSksdC5jbT9mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5kb2MsaT10LmRpc3BsYXksbz1lLmZyb20sYT1lLnRvLHM9ITEsbD1vLmxpbmU7dC5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KGw9SnQoemUoS3QocixvLmxpbmUpKSksci5pdGVyKGwsYS5saW5lKzEsZnVuY3Rpb24odCl7aWYodD09aS5tYXhMaW5lKXJldHVybiBzPSEwLCEwfSkpLHIuc2VsLmNvbnRhaW5zKGUuZnJvbSxlLnRvKT4tMSYmdnQodCksTGkocixlLG4sb3IodCkpLHQub3B0aW9ucy5saW5lV3JhcHBpbmd8fChyLml0ZXIobCxvLmxpbmUrZS50ZXh0Lmxlbmd0aCxmdW5jdGlvbih0KXt2YXIgZT1WZSh0KTtlPmkubWF4TGluZUxlbmd0aCYmKGkubWF4TGluZT10LGkubWF4TGluZUxlbmd0aD1lLGkubWF4TGluZUNoYW5nZWQ9ITAscz0hMSl9KSxzJiYodC5jdXJPcC51cGRhdGVNYXhMaW5lPSEwKSksZnVuY3Rpb24odCxlKXtpZih0Lm1vZGVGcm9udGllcj1NYXRoLm1pbih0Lm1vZGVGcm9udGllcixlKSwhKHQuaGlnaGxpZ2h0RnJvbnRpZXI8ZS0xMCkpe2Zvcih2YXIgbj10LmZpcnN0LHI9ZS0xO3I+bjtyLS0pe3ZhciBpPUt0KHQscikuc3RhdGVBZnRlcjtpZihpJiYoIShpIGluc3RhbmNlb2YgY2UpfHxyK2kubG9va0FoZWFkPGUpKXtuPXIrMTticmVha319dC5oaWdobGlnaHRGcm9udGllcj1NYXRoLm1pbih0LmhpZ2hsaWdodEZyb250aWVyLG4pfX0ocixvLmxpbmUpLHRpKHQsNDAwKTt2YXIgYz1lLnRleHQubGVuZ3RoLShhLmxpbmUtby5saW5lKS0xO2UuZnVsbD9jcih0KTpvLmxpbmUhPWEubGluZXx8MSE9ZS50ZXh0Lmxlbmd0aHx8TWkodC5kb2MsZSk/Y3IodCxvLmxpbmUsYS5saW5lKzEsYyk6dXIodCxvLmxpbmUsXCJ0ZXh0XCIpO3ZhciB1PXl0KHQsXCJjaGFuZ2VzXCIpLGY9eXQodCxcImNoYW5nZVwiKTtpZihmfHx1KXt2YXIgZD17ZnJvbTpvLHRvOmEsdGV4dDplLnRleHQscmVtb3ZlZDplLnJlbW92ZWQsb3JpZ2luOmUub3JpZ2lufTtmJiZsbih0LFwiY2hhbmdlXCIsdCxkKSx1JiYodC5jdXJPcC5jaGFuZ2VPYmpzfHwodC5jdXJPcC5jaGFuZ2VPYmpzPVtdKSkucHVzaChkKX10LmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnU9bnVsbH0odC5jbSxlLHIpOkxpKHQsZSxyKSxYaSh0LG4sVSksdC5jYW50RWRpdCYmbm8odCx0ZSh0LmZpcnN0TGluZSgpLDApKSYmKHQuY2FudEVkaXQ9ITEpfX1mdW5jdGlvbiBmbyh0LGUsbixyLGkpe3ZhciBvO3J8fChyPW4pLGVlKHIsbik8MCYmKG49KG89W3Isbl0pWzBdLHI9b1sxXSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXQuc3BsaXRMaW5lcyhlKSksYW8odCx7ZnJvbTpuLHRvOnIsdGV4dDplLG9yaWdpbjppfSl9ZnVuY3Rpb24gaG8odCxlLG4scil7bjx0LmxpbmU/dC5saW5lKz1yOmU8dC5saW5lJiYodC5saW5lPWUsdC5jaD0wKX1mdW5jdGlvbiBwbyh0LGUsbixyKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXSxhPSEwO2lmKG8ucmFuZ2VzKXtvLmNvcGllZHx8KChvPXRbaV09by5kZWVwQ29weSgpKS5jb3BpZWQ9ITApO2Zvcih2YXIgcz0wO3M8by5yYW5nZXMubGVuZ3RoO3MrKylobyhvLnJhbmdlc1tzXS5hbmNob3IsZSxuLHIpLGhvKG8ucmFuZ2VzW3NdLmhlYWQsZSxuLHIpfWVsc2V7Zm9yKHZhciBsPTA7bDxvLmNoYW5nZXMubGVuZ3RoOysrbCl7dmFyIGM9by5jaGFuZ2VzW2xdO2lmKG48Yy5mcm9tLmxpbmUpYy5mcm9tPXRlKGMuZnJvbS5saW5lK3IsYy5mcm9tLmNoKSxjLnRvPXRlKGMudG8ubGluZStyLGMudG8uY2gpO2Vsc2UgaWYoZTw9Yy50by5saW5lKXthPSExO2JyZWFrfX1hfHwodC5zcGxpY2UoMCxpKzEpLGk9MCl9fX1mdW5jdGlvbiBtbyh0LGUpe3ZhciBuPWUuZnJvbS5saW5lLHI9ZS50by5saW5lLGk9ZS50ZXh0Lmxlbmd0aC0oci1uKS0xO3BvKHQuZG9uZSxuLHIsaSkscG8odC51bmRvbmUsbixyLGkpfWZ1bmN0aW9uIGdvKHQsZSxuLHIpe3ZhciBpPWUsbz1lO3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP289S3QodCxhZSh0LGUpKTppPUp0KGUpLG51bGw9PWk/bnVsbDoocihvLGkpJiZ0LmNtJiZ1cih0LmNtLGksbiksbyl9ZnVuY3Rpb24gdm8odCl7dGhpcy5saW5lcz10LHRoaXMucGFyZW50PW51bGw7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGg7KytuKXRbbl0ucGFyZW50PXRoaXMsZSs9dFtuXS5oZWlnaHQ7dGhpcy5oZWlnaHQ9ZX1mdW5jdGlvbiB5byh0KXt0aGlzLmNoaWxkcmVuPXQ7Zm9yKHZhciBlPTAsbj0wLHI9MDtyPHQubGVuZ3RoOysrcil7dmFyIGk9dFtyXTtlKz1pLmNodW5rU2l6ZSgpLG4rPWkuaGVpZ2h0LGkucGFyZW50PXRoaXN9dGhpcy5zaXplPWUsdGhpcy5oZWlnaHQ9bix0aGlzLnBhcmVudD1udWxsfXhpLnByb3RvdHlwZS5mcm9tPWZ1bmN0aW9uKCl7cmV0dXJuIG9lKHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LHhpLnByb3RvdHlwZS50bz1mdW5jdGlvbigpe3JldHVybiBpZSh0aGlzLmFuY2hvcix0aGlzLmhlYWQpfSx4aS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkLmxpbmU9PXRoaXMuYW5jaG9yLmxpbmUmJnRoaXMuaGVhZC5jaD09dGhpcy5hbmNob3IuY2h9LHZvLnByb3RvdHlwZT17Y2h1bmtTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZXMubGVuZ3RofSxyZW1vdmVJbm5lcjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LHI9dCtlO248cjsrK24pe3ZhciBpPXRoaXMubGluZXNbbl07dGhpcy5oZWlnaHQtPWkuaGVpZ2h0LCRlKGkpLGxuKGksXCJkZWxldGVcIil9dGhpcy5saW5lcy5zcGxpY2UodCxlKX0sY29sbGFwc2U6ZnVuY3Rpb24odCl7dC5wdXNoLmFwcGx5KHQsdGhpcy5saW5lcyl9LGluc2VydElubmVyOmZ1bmN0aW9uKHQsZSxuKXt0aGlzLmhlaWdodCs9bix0aGlzLmxpbmVzPXRoaXMubGluZXMuc2xpY2UoMCx0KS5jb25jYXQoZSkuY29uY2F0KHRoaXMubGluZXMuc2xpY2UodCkpO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7KytyKWVbcl0ucGFyZW50PXRoaXN9LGl0ZXJOOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dCtlO3Q8cjsrK3QpaWYobih0aGlzLmxpbmVzW3RdKSlyZXR1cm4hMH19LHlvLnByb3RvdHlwZT17Y2h1bmtTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX0scmVtb3ZlSW5uZXI6ZnVuY3Rpb24odCxlKXt0aGlzLnNpemUtPWU7Zm9yKHZhciBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDsrK24pe3ZhciByPXRoaXMuY2hpbGRyZW5bbl0saT1yLmNodW5rU2l6ZSgpO2lmKHQ8aSl7dmFyIG89TWF0aC5taW4oZSxpLXQpLGE9ci5oZWlnaHQ7aWYoci5yZW1vdmVJbm5lcih0LG8pLHRoaXMuaGVpZ2h0LT1hLXIuaGVpZ2h0LGk9PW8mJih0aGlzLmNoaWxkcmVuLnNwbGljZShuLS0sMSksci5wYXJlbnQ9bnVsbCksMD09KGUtPW8pKWJyZWFrO3Q9MH1lbHNlIHQtPWl9aWYodGhpcy5zaXplLWU8MjUmJih0aGlzLmNoaWxkcmVuLmxlbmd0aD4xfHwhKHRoaXMuY2hpbGRyZW5bMF1pbnN0YW5jZW9mIHZvKSkpe3ZhciBzPVtdO3RoaXMuY29sbGFwc2UocyksdGhpcy5jaGlsZHJlbj1bbmV3IHZvKHMpXSx0aGlzLmNoaWxkcmVuWzBdLnBhcmVudD10aGlzfX0sY29sbGFwc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDsrK2UpdGhpcy5jaGlsZHJlbltlXS5jb2xsYXBzZSh0KX0saW5zZXJ0SW5uZXI6ZnVuY3Rpb24odCxlLG4pe3RoaXMuc2l6ZSs9ZS5sZW5ndGgsdGhpcy5oZWlnaHQrPW47Zm9yKHZhciByPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDsrK3Ipe3ZhciBpPXRoaXMuY2hpbGRyZW5bcl0sbz1pLmNodW5rU2l6ZSgpO2lmKHQ8PW8pe2lmKGkuaW5zZXJ0SW5uZXIodCxlLG4pLGkubGluZXMmJmkubGluZXMubGVuZ3RoPjUwKXtmb3IodmFyIGE9aS5saW5lcy5sZW5ndGglMjUrMjUscz1hO3M8aS5saW5lcy5sZW5ndGg7KXt2YXIgbD1uZXcgdm8oaS5saW5lcy5zbGljZShzLHMrPTI1KSk7aS5oZWlnaHQtPWwuaGVpZ2h0LHRoaXMuY2hpbGRyZW4uc3BsaWNlKCsrciwwLGwpLGwucGFyZW50PXRoaXN9aS5saW5lcz1pLmxpbmVzLnNsaWNlKDAsYSksdGhpcy5tYXliZVNwaWxsKCl9YnJlYWt9dC09b319LG1heWJlU3BpbGw6ZnVuY3Rpb24oKXtpZighKHRoaXMuY2hpbGRyZW4ubGVuZ3RoPD0xMCkpe3ZhciB0PXRoaXM7ZG97dmFyIGU9dC5jaGlsZHJlbi5zcGxpY2UodC5jaGlsZHJlbi5sZW5ndGgtNSw1KSxuPW5ldyB5byhlKTtpZih0LnBhcmVudCl7dC5zaXplLT1uLnNpemUsdC5oZWlnaHQtPW4uaGVpZ2h0O3ZhciByPUIodC5wYXJlbnQuY2hpbGRyZW4sdCk7dC5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHIrMSwwLG4pfWVsc2V7dmFyIGk9bmV3IHlvKHQuY2hpbGRyZW4pO2kucGFyZW50PXQsdC5jaGlsZHJlbj1baSxuXSx0PWl9bi5wYXJlbnQ9dC5wYXJlbnR9d2hpbGUodC5jaGlsZHJlbi5sZW5ndGg+MTApO3QucGFyZW50Lm1heWJlU3BpbGwoKX19LGl0ZXJOOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrcil7dmFyIGk9dGhpcy5jaGlsZHJlbltyXSxvPWkuY2h1bmtTaXplKCk7aWYodDxvKXt2YXIgYT1NYXRoLm1pbihlLG8tdCk7aWYoaS5pdGVyTih0LGEsbikpcmV0dXJuITA7aWYoMD09KGUtPWEpKWJyZWFrO3Q9MH1lbHNlIHQtPW99fX07dmFyIGJvPWZ1bmN0aW9uKHQsZSxuKXtpZihuKWZvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJih0aGlzW3JdPW5bcl0pO3RoaXMuZG9jPXQsdGhpcy5ub2RlPWV9O2Z1bmN0aW9uIHhvKHQsZSxuKXtVZShlKTwodC5jdXJPcCYmdC5jdXJPcC5zY3JvbGxUb3B8fHQuZG9jLnNjcm9sbFRvcCkmJk9yKHQsbil9Ym8ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kb2MuY20sZT10aGlzLmxpbmUud2lkZ2V0cyxuPXRoaXMubGluZSxyPUp0KG4pO2lmKG51bGwhPXImJmUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKWVbaV09PXRoaXMmJmUuc3BsaWNlKGktLSwxKTtlLmxlbmd0aHx8KG4ud2lkZ2V0cz1udWxsKTt2YXIgbz13bih0aGlzKTtZdChuLE1hdGgubWF4KDAsbi5oZWlnaHQtbykpLHQmJihKcih0LGZ1bmN0aW9uKCl7eG8odCxuLC1vKSx1cih0LHIsXCJ3aWRnZXRcIil9KSxsbih0LFwibGluZVdpZGdldENsZWFyZWRcIix0LHRoaXMscikpfX0sYm8ucHJvdG90eXBlLmNoYW5nZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5oZWlnaHQsbj10aGlzLmRvYy5jbSxyPXRoaXMubGluZTt0aGlzLmhlaWdodD1udWxsO3ZhciBpPXduKHRoaXMpLWU7aSYmKEhlKHRoaXMuZG9jLHIpfHxZdChyLHIuaGVpZ2h0K2kpLG4mJkpyKG4sZnVuY3Rpb24oKXtuLmN1ck9wLmZvcmNlVXBkYXRlPSEwLHhvKG4scixpKSxsbihuLFwibGluZVdpZGdldENoYW5nZWRcIixuLHQsSnQocikpfSkpfSxidChibyk7dmFyIHdvPTAsQ289ZnVuY3Rpb24odCxlKXt0aGlzLmxpbmVzPVtdLHRoaXMudHlwZT1lLHRoaXMuZG9jPXQsdGhpcy5pZD0rK3dvfTtmdW5jdGlvbiBrbyh0LGUsbixyLGkpe2lmKHImJnIuc2hhcmVkKXJldHVybiBmdW5jdGlvbih0LGUsbixyLGkpeyhyPUQocikpLnNoYXJlZD0hMTt2YXIgbz1ba28odCxlLG4scixpKV0sYT1vWzBdLHM9ci53aWRnZXROb2RlO3JldHVybiBBaSh0LGZ1bmN0aW9uKHQpe3MmJihyLndpZGdldE5vZGU9cy5jbG9uZU5vZGUoITApKSxvLnB1c2goa28odCxzZSh0LGUpLHNlKHQsbikscixpKSk7Zm9yKHZhciBsPTA7bDx0LmxpbmtlZC5sZW5ndGg7KytsKWlmKHQubGlua2VkW2xdLmlzUGFyZW50KXJldHVybjthPVkobyl9KSxuZXcgX28obyxhKX0odCxlLG4scixpKTtpZih0LmNtJiYhdC5jbS5jdXJPcClyZXR1cm4gWHIodC5jbSxrbykodCxlLG4scixpKTt2YXIgbz1uZXcgQ28odCxpKSxhPWVlKGUsbik7aWYociYmRChyLG8sITEpLGE+MHx8MD09YSYmITEhPT1vLmNsZWFyV2hlbkVtcHR5KXJldHVybiBvO2lmKG8ucmVwbGFjZWRXaXRoJiYoby5jb2xsYXBzZWQ9ITAsby53aWRnZXROb2RlPUwoXCJzcGFuXCIsW28ucmVwbGFjZWRXaXRoXSxcIkNvZGVNaXJyb3Itd2lkZ2V0XCIpLHIuaGFuZGxlTW91c2VFdmVudHN8fG8ud2lkZ2V0Tm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsXCJ0cnVlXCIpLHIuaW5zZXJ0TGVmdCYmKG8ud2lkZ2V0Tm9kZS5pbnNlcnRMZWZ0PSEwKSksby5jb2xsYXBzZWQpe2lmKERlKHQsZS5saW5lLGUsbixvKXx8ZS5saW5lIT1uLmxpbmUmJkRlKHQsbi5saW5lLGUsbixvKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnNlcnRpbmcgY29sbGFwc2VkIG1hcmtlciBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgYW4gZXhpc3Rpbmcgb25lXCIpO0NlPSEwfW8uYWRkVG9IaXN0b3J5JiZEaSh0LHtmcm9tOmUsdG86bixvcmlnaW46XCJtYXJrVGV4dFwifSx0LnNlbCxOYU4pO3ZhciBzLGw9ZS5saW5lLGM9dC5jbTtpZih0Lml0ZXIobCxuLmxpbmUrMSxmdW5jdGlvbih0KXtjJiZvLmNvbGxhcHNlZCYmIWMub3B0aW9ucy5saW5lV3JhcHBpbmcmJnplKHQpPT1jLmRpc3BsYXkubWF4TGluZSYmKHM9ITApLG8uY29sbGFwc2VkJiZsIT1lLmxpbmUmJll0KHQsMCksZnVuY3Rpb24odCxlKXt0Lm1hcmtlZFNwYW5zPXQubWFya2VkU3BhbnM/dC5tYXJrZWRTcGFucy5jb25jYXQoW2VdKTpbZV0sZS5tYXJrZXIuYXR0YWNoTGluZSh0KX0odCxuZXcga2UobyxsPT1lLmxpbmU/ZS5jaDpudWxsLGw9PW4ubGluZT9uLmNoOm51bGwpKSwrK2x9KSxvLmNvbGxhcHNlZCYmdC5pdGVyKGUubGluZSxuLmxpbmUrMSxmdW5jdGlvbihlKXtIZSh0LGUpJiZZdChlLDApfSksby5jbGVhck9uRW50ZXImJmR0KG8sXCJiZWZvcmVDdXJzb3JFbnRlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIG8uY2xlYXIoKX0pLG8ucmVhZE9ubHkmJih3ZT0hMCwodC5oaXN0b3J5LmRvbmUubGVuZ3RofHx0Lmhpc3RvcnkudW5kb25lLmxlbmd0aCkmJnQuY2xlYXJIaXN0b3J5KCkpLG8uY29sbGFwc2VkJiYoby5pZD0rK3dvLG8uYXRvbWljPSEwKSxjKXtpZihzJiYoYy5jdXJPcC51cGRhdGVNYXhMaW5lPSEwKSxvLmNvbGxhcHNlZCljcihjLGUubGluZSxuLmxpbmUrMSk7ZWxzZSBpZihvLmNsYXNzTmFtZXx8by5zdGFydFN0eWxlfHxvLmVuZFN0eWxlfHxvLmNzc3x8by5hdHRyaWJ1dGVzfHxvLnRpdGxlKWZvcih2YXIgdT1lLmxpbmU7dTw9bi5saW5lO3UrKyl1cihjLHUsXCJ0ZXh0XCIpO28uYXRvbWljJiZRaShjLmRvYyksbG4oYyxcIm1hcmtlckFkZGVkXCIsYyxvKX1yZXR1cm4gb31Dby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtpZighdGhpcy5leHBsaWNpdGx5Q2xlYXJlZCl7dmFyIHQ9dGhpcy5kb2MuY20sZT10JiYhdC5jdXJPcDtpZihlJiZWcih0KSx5dCh0aGlzLFwiY2xlYXJcIikpe3ZhciBuPXRoaXMuZmluZCgpO24mJmxuKHRoaXMsXCJjbGVhclwiLG4uZnJvbSxuLnRvKX1mb3IodmFyIHI9bnVsbCxpPW51bGwsbz0wO288dGhpcy5saW5lcy5sZW5ndGg7KytvKXt2YXIgYT10aGlzLmxpbmVzW29dLHM9X2UoYS5tYXJrZWRTcGFucyx0aGlzKTt0JiYhdGhpcy5jb2xsYXBzZWQ/dXIodCxKdChhKSxcInRleHRcIik6dCYmKG51bGwhPXMudG8mJihpPUp0KGEpKSxudWxsIT1zLmZyb20mJihyPUp0KGEpKSksYS5tYXJrZWRTcGFucz1TZShhLm1hcmtlZFNwYW5zLHMpLG51bGw9PXMuZnJvbSYmdGhpcy5jb2xsYXBzZWQmJiFIZSh0aGlzLmRvYyxhKSYmdCYmWXQoYSxlcih0LmRpc3BsYXkpKX1pZih0JiZ0aGlzLmNvbGxhcHNlZCYmIXQub3B0aW9ucy5saW5lV3JhcHBpbmcpZm9yKHZhciBsPTA7bDx0aGlzLmxpbmVzLmxlbmd0aDsrK2wpe3ZhciBjPXplKHRoaXMubGluZXNbbF0pLHU9VmUoYyk7dT50LmRpc3BsYXkubWF4TGluZUxlbmd0aCYmKHQuZGlzcGxheS5tYXhMaW5lPWMsdC5kaXNwbGF5Lm1heExpbmVMZW5ndGg9dSx0LmRpc3BsYXkubWF4TGluZUNoYW5nZWQ9ITApfW51bGwhPXImJnQmJnRoaXMuY29sbGFwc2VkJiZjcih0LHIsaSsxKSx0aGlzLmxpbmVzLmxlbmd0aD0wLHRoaXMuZXhwbGljaXRseUNsZWFyZWQ9ITAsdGhpcy5hdG9taWMmJnRoaXMuZG9jLmNhbnRFZGl0JiYodGhpcy5kb2MuY2FudEVkaXQ9ITEsdCYmUWkodC5kb2MpKSx0JiZsbih0LFwibWFya2VyQ2xlYXJlZFwiLHQsdGhpcyxyLGkpLGUmJkdyKHQpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5jbGVhcigpfX0sQ28ucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCxlKXt2YXIgbixyO251bGw9PXQmJlwiYm9va21hcmtcIj09dGhpcy50eXBlJiYodD0xKTtmb3IodmFyIGk9MDtpPHRoaXMubGluZXMubGVuZ3RoOysraSl7dmFyIG89dGhpcy5saW5lc1tpXSxhPV9lKG8ubWFya2VkU3BhbnMsdGhpcyk7aWYobnVsbCE9YS5mcm9tJiYobj10ZShlP286SnQobyksYS5mcm9tKSwtMT09dCkpcmV0dXJuIG47aWYobnVsbCE9YS50byYmKHI9dGUoZT9vOkp0KG8pLGEudG8pLDE9PXQpKXJldHVybiByfXJldHVybiBuJiZ7ZnJvbTpuLHRvOnJ9fSxDby5wcm90b3R5cGUuY2hhbmdlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmZpbmQoLTEsITApLG49dGhpcyxyPXRoaXMuZG9jLmNtO2UmJnImJkpyKHIsZnVuY3Rpb24oKXt2YXIgaT1lLmxpbmUsbz1KdChlLmxpbmUpLGE9QW4ocixvKTtpZihhJiYoem4oYSksci5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPXIuY3VyT3AuZm9yY2VVcGRhdGU9ITApLHIuY3VyT3AudXBkYXRlTWF4TGluZT0hMCwhSGUobi5kb2MsaSkmJm51bGwhPW4uaGVpZ2h0KXt2YXIgcz1uLmhlaWdodDtuLmhlaWdodD1udWxsO3ZhciBsPXduKG4pLXM7bCYmWXQoaSxpLmhlaWdodCtsKX1sbihyLFwibWFya2VyQ2hhbmdlZFwiLHIsdCl9KX0sQ28ucHJvdG90eXBlLmF0dGFjaExpbmU9ZnVuY3Rpb24odCl7aWYoIXRoaXMubGluZXMubGVuZ3RoJiZ0aGlzLmRvYy5jbSl7dmFyIGU9dGhpcy5kb2MuY20uY3VyT3A7ZS5tYXliZUhpZGRlbk1hcmtlcnMmJi0xIT1CKGUubWF5YmVIaWRkZW5NYXJrZXJzLHRoaXMpfHwoZS5tYXliZVVuaGlkZGVuTWFya2Vyc3x8KGUubWF5YmVVbmhpZGRlbk1hcmtlcnM9W10pKS5wdXNoKHRoaXMpfXRoaXMubGluZXMucHVzaCh0KX0sQ28ucHJvdG90eXBlLmRldGFjaExpbmU9ZnVuY3Rpb24odCl7aWYodGhpcy5saW5lcy5zcGxpY2UoQih0aGlzLmxpbmVzLHQpLDEpLCF0aGlzLmxpbmVzLmxlbmd0aCYmdGhpcy5kb2MuY20pe3ZhciBlPXRoaXMuZG9jLmNtLmN1ck9wOyhlLm1heWJlSGlkZGVuTWFya2Vyc3x8KGUubWF5YmVIaWRkZW5NYXJrZXJzPVtdKSkucHVzaCh0aGlzKX19LGJ0KENvKTt2YXIgX289ZnVuY3Rpb24odCxlKXt0aGlzLm1hcmtlcnM9dCx0aGlzLnByaW1hcnk9ZTtmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbil0W25dLnBhcmVudD10aGlzfTtmdW5jdGlvbiBTbyh0KXtyZXR1cm4gdC5maW5kTWFya3ModGUodC5maXJzdCwwKSx0LmNsaXBQb3ModGUodC5sYXN0TGluZSgpKSksZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50fSl9ZnVuY3Rpb24gRW8odCl7Zm9yKHZhciBlPWZ1bmN0aW9uKGUpe3ZhciBuPXRbZV0scj1bbi5wcmltYXJ5LmRvY107QWkobi5wcmltYXJ5LmRvYyxmdW5jdGlvbih0KXtyZXR1cm4gci5wdXNoKHQpfSk7Zm9yKHZhciBpPTA7aTxuLm1hcmtlcnMubGVuZ3RoO2krKyl7dmFyIG89bi5tYXJrZXJzW2ldOy0xPT1CKHIsby5kb2MpJiYoby5wYXJlbnQ9bnVsbCxuLm1hcmtlcnMuc3BsaWNlKGktLSwxKSl9fSxuPTA7bjx0Lmxlbmd0aDtuKyspZShuKX1fby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtpZighdGhpcy5leHBsaWNpdGx5Q2xlYXJlZCl7dGhpcy5leHBsaWNpdGx5Q2xlYXJlZD0hMDtmb3IodmFyIHQ9MDt0PHRoaXMubWFya2Vycy5sZW5ndGg7Kyt0KXRoaXMubWFya2Vyc1t0XS5jbGVhcigpO2xuKHRoaXMsXCJjbGVhclwiKX19LF9vLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucHJpbWFyeS5maW5kKHQsZSl9LGJ0KF9vKTt2YXIgVG89MCxPbz1mdW5jdGlvbih0LGUsbixyLGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIE9vKSlyZXR1cm4gbmV3IE9vKHQsZSxuLHIsaSk7bnVsbD09biYmKG49MCkseW8uY2FsbCh0aGlzLFtuZXcgdm8oW25ldyBLZShcIlwiLG51bGwpXSldKSx0aGlzLmZpcnN0PW4sdGhpcy5zY3JvbGxUb3A9dGhpcy5zY3JvbGxMZWZ0PTAsdGhpcy5jYW50RWRpdD0hMSx0aGlzLmNsZWFuR2VuZXJhdGlvbj0xLHRoaXMubW9kZUZyb250aWVyPXRoaXMuaGlnaGxpZ2h0RnJvbnRpZXI9bjt2YXIgbz10ZShuLDApO3RoaXMuc2VsPUNpKG8pLHRoaXMuaGlzdG9yeT1uZXcgRmkobnVsbCksdGhpcy5pZD0rK1RvLHRoaXMubW9kZU9wdGlvbj1lLHRoaXMubGluZVNlcD1yLHRoaXMuZGlyZWN0aW9uPVwicnRsXCI9PWk/XCJydGxcIjpcImx0clwiLHRoaXMuZXh0ZW5kPSExLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD10aGlzLnNwbGl0TGluZXModCkpLExpKHRoaXMse2Zyb206byx0bzpvLHRleHQ6dH0pLEppKHRoaXMsQ2kobyksVSl9O09vLnByb3RvdHlwZT1aKHlvLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6T28saXRlcjpmdW5jdGlvbih0LGUsbil7bj90aGlzLml0ZXJOKHQtdGhpcy5maXJzdCxlLXQsbik6dGhpcy5pdGVyTih0aGlzLmZpcnN0LHRoaXMuZmlyc3QrdGhpcy5zaXplLHQpfSxpbnNlcnQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPTA7cjxlLmxlbmd0aDsrK3Ipbis9ZVtyXS5oZWlnaHQ7dGhpcy5pbnNlcnRJbm5lcih0LXRoaXMuZmlyc3QsZSxuKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7dGhpcy5yZW1vdmVJbm5lcih0LXRoaXMuZmlyc3QsZSl9LGdldFZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXF0KHRoaXMsdGhpcy5maXJzdCx0aGlzLmZpcnN0K3RoaXMuc2l6ZSk7cmV0dXJuITE9PT10P2U6ZS5qb2luKHR8fHRoaXMubGluZVNlcGFyYXRvcigpKX0sc2V0VmFsdWU6UXIoZnVuY3Rpb24odCl7dmFyIGU9dGUodGhpcy5maXJzdCwwKSxuPXRoaXMuZmlyc3QrdGhpcy5zaXplLTE7YW8odGhpcyx7ZnJvbTplLHRvOnRlKG4sS3QodGhpcyxuKS50ZXh0Lmxlbmd0aCksdGV4dDp0aGlzLnNwbGl0TGluZXModCksb3JpZ2luOlwic2V0VmFsdWVcIixmdWxsOiEwfSwhMCksdGhpcy5jbSYmTHIodGhpcy5jbSwwLDApLEppKHRoaXMsQ2koZSksVSl9KSxyZXBsYWNlUmFuZ2U6ZnVuY3Rpb24odCxlLG4scil7ZT1zZSh0aGlzLGUpLG49bj9zZSh0aGlzLG4pOmUsZm8odGhpcyx0LGUsbixyKX0sZ2V0UmFuZ2U6ZnVuY3Rpb24odCxlLG4pe3ZhciByPSR0KHRoaXMsc2UodGhpcyx0KSxzZSh0aGlzLGUpKTtyZXR1cm4hMT09PW4/cjpyLmpvaW4obnx8dGhpcy5saW5lU2VwYXJhdG9yKCkpfSxnZXRMaW5lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TGluZUhhbmRsZSh0KTtyZXR1cm4gZSYmZS50ZXh0fSxnZXRMaW5lSGFuZGxlOmZ1bmN0aW9uKHQpe2lmKFp0KHRoaXMsdCkpcmV0dXJuIEt0KHRoaXMsdCl9LGdldExpbmVOdW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuIEp0KHQpfSxnZXRMaW5lSGFuZGxlVmlzdWFsU3RhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJih0PUt0KHRoaXMsdCkpLHplKHQpfSxsaW5lQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfSxmaXJzdExpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maXJzdH0sbGFzdExpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maXJzdCt0aGlzLnNpemUtMX0sY2xpcFBvczpmdW5jdGlvbih0KXtyZXR1cm4gc2UodGhpcyx0KX0sZ2V0Q3Vyc29yOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2VsLnByaW1hcnkoKTtyZXR1cm4gbnVsbD09dHx8XCJoZWFkXCI9PXQ/ZS5oZWFkOlwiYW5jaG9yXCI9PXQ/ZS5hbmNob3I6XCJlbmRcIj09dHx8XCJ0b1wiPT10fHwhMT09PXQ/ZS50bygpOmUuZnJvbSgpfSxsaXN0U2VsZWN0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbC5yYW5nZXN9LHNvbWV0aGluZ1NlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCl9LHNldEN1cnNvcjpRcihmdW5jdGlvbih0LGUsbil7cWkodGhpcyxzZSh0aGlzLFwibnVtYmVyXCI9PXR5cGVvZiB0P3RlKHQsZXx8MCk6dCksbnVsbCxuKX0pLHNldFNlbGVjdGlvbjpRcihmdW5jdGlvbih0LGUsbil7cWkodGhpcyxzZSh0aGlzLHQpLHNlKHRoaXMsZXx8dCksbil9KSxleHRlbmRTZWxlY3Rpb246UXIoZnVuY3Rpb24odCxlLG4pe0dpKHRoaXMsc2UodGhpcyx0KSxlJiZzZSh0aGlzLGUpLG4pfSksZXh0ZW5kU2VsZWN0aW9uczpRcihmdW5jdGlvbih0LGUpe0tpKHRoaXMsbGUodGhpcyx0KSxlKX0pLGV4dGVuZFNlbGVjdGlvbnNCeTpRcihmdW5jdGlvbih0LGUpe3ZhciBuPUoodGhpcy5zZWwucmFuZ2VzLHQpO0tpKHRoaXMsbGUodGhpcyxuKSxlKX0pLHNldFNlbGVjdGlvbnM6UXIoZnVuY3Rpb24odCxlLG4pe2lmKHQubGVuZ3RoKXtmb3IodmFyIHI9W10saT0wO2k8dC5sZW5ndGg7aSsrKXJbaV09bmV3IHhpKHNlKHRoaXMsdFtpXS5hbmNob3IpLHNlKHRoaXMsdFtpXS5oZWFkKSk7bnVsbD09ZSYmKGU9TWF0aC5taW4odC5sZW5ndGgtMSx0aGlzLnNlbC5wcmltSW5kZXgpKSxKaSh0aGlzLHdpKHRoaXMuY20scixlKSxuKX19KSxhZGRTZWxlY3Rpb246UXIoZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuc2VsLnJhbmdlcy5zbGljZSgwKTtyLnB1c2gobmV3IHhpKHNlKHRoaXMsdCksc2UodGhpcyxlfHx0KSkpLEppKHRoaXMsd2kodGhpcy5jbSxyLHIubGVuZ3RoLTEpLG4pfSksZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXRoaXMuc2VsLnJhbmdlcyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPSR0KHRoaXMsbltyXS5mcm9tKCksbltyXS50bygpKTtlPWU/ZS5jb25jYXQoaSk6aX1yZXR1cm4hMT09PXQ/ZTplLmpvaW4odHx8dGhpcy5saW5lU2VwYXJhdG9yKCkpfSxnZXRTZWxlY3Rpb25zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXRoaXMuc2VsLnJhbmdlcyxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBpPSR0KHRoaXMsbltyXS5mcm9tKCksbltyXS50bygpKTshMSE9PXQmJihpPWkuam9pbih0fHx0aGlzLmxpbmVTZXBhcmF0b3IoKSkpLGVbcl09aX1yZXR1cm4gZX0scmVwbGFjZVNlbGVjdGlvbjpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MDtpPHRoaXMuc2VsLnJhbmdlcy5sZW5ndGg7aSsrKXJbaV09dDt0aGlzLnJlcGxhY2VTZWxlY3Rpb25zKHIsZSxufHxcIitpbnB1dFwiKX0scmVwbGFjZVNlbGVjdGlvbnM6UXIoZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxpPXRoaXMuc2VsLG89MDtvPGkucmFuZ2VzLmxlbmd0aDtvKyspe3ZhciBhPWkucmFuZ2VzW29dO3Jbb109e2Zyb206YS5mcm9tKCksdG86YS50bygpLHRleHQ6dGhpcy5zcGxpdExpbmVzKHRbb10pLG9yaWdpbjpufX1mb3IodmFyIHM9ZSYmXCJlbmRcIiE9ZSYmZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxpPXRlKHQuZmlyc3QsMCksbz1pLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHM9ZVthXSxsPUVpKHMuZnJvbSxpLG8pLGM9RWkoa2kocyksaSxvKTtpZihpPXMudG8sbz1jLFwiYXJvdW5kXCI9PW4pe3ZhciB1PXQuc2VsLnJhbmdlc1thXSxmPWVlKHUuaGVhZCx1LmFuY2hvcik8MDtyW2FdPW5ldyB4aShmP2M6bCxmP2w6Yyl9ZWxzZSByW2FdPW5ldyB4aShsLGwpfXJldHVybiBuZXcgYmkocix0LnNlbC5wcmltSW5kZXgpfSh0aGlzLHIsZSksbD1yLmxlbmd0aC0xO2w+PTA7bC0tKWFvKHRoaXMscltsXSk7cz9ZaSh0aGlzLHMpOnRoaXMuY20mJk1yKHRoaXMuY20pfSksdW5kbzpRcihmdW5jdGlvbigpe2xvKHRoaXMsXCJ1bmRvXCIpfSkscmVkbzpRcihmdW5jdGlvbigpe2xvKHRoaXMsXCJyZWRvXCIpfSksdW5kb1NlbGVjdGlvbjpRcihmdW5jdGlvbigpe2xvKHRoaXMsXCJ1bmRvXCIsITApfSkscmVkb1NlbGVjdGlvbjpRcihmdW5jdGlvbigpe2xvKHRoaXMsXCJyZWRvXCIsITApfSksc2V0RXh0ZW5kaW5nOmZ1bmN0aW9uKHQpe3RoaXMuZXh0ZW5kPXR9LGdldEV4dGVuZGluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuZH0saGlzdG9yeVNpemU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5oaXN0b3J5LGU9MCxuPTAscj0wO3I8dC5kb25lLmxlbmd0aDtyKyspdC5kb25lW3JdLnJhbmdlc3x8KytlO2Zvcih2YXIgaT0wO2k8dC51bmRvbmUubGVuZ3RoO2krKyl0LnVuZG9uZVtpXS5yYW5nZXN8fCsrbjtyZXR1cm57dW5kbzplLHJlZG86bn19LGNsZWFySGlzdG9yeTpmdW5jdGlvbigpe3RoaXMuaGlzdG9yeT1uZXcgRmkodGhpcy5oaXN0b3J5Lm1heEdlbmVyYXRpb24pfSxtYXJrQ2xlYW46ZnVuY3Rpb24oKXt0aGlzLmNsZWFuR2VuZXJhdGlvbj10aGlzLmNoYW5nZUdlbmVyYXRpb24oITApfSxjaGFuZ2VHZW5lcmF0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0JiYodGhpcy5oaXN0b3J5Lmxhc3RPcD10aGlzLmhpc3RvcnkubGFzdFNlbE9wPXRoaXMuaGlzdG9yeS5sYXN0T3JpZ2luPW51bGwpLHRoaXMuaGlzdG9yeS5nZW5lcmF0aW9ufSxpc0NsZWFuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhpc3RvcnkuZ2VuZXJhdGlvbj09KHR8fHRoaXMuY2xlYW5HZW5lcmF0aW9uKX0sZ2V0SGlzdG9yeTpmdW5jdGlvbigpe3JldHVybntkb25lOlVpKHRoaXMuaGlzdG9yeS5kb25lKSx1bmRvbmU6VWkodGhpcy5oaXN0b3J5LnVuZG9uZSl9fSxzZXRIaXN0b3J5OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaGlzdG9yeT1uZXcgRmkodGhpcy5oaXN0b3J5Lm1heEdlbmVyYXRpb24pO2UuZG9uZT1VaSh0LmRvbmUuc2xpY2UoMCksbnVsbCwhMCksZS51bmRvbmU9VWkodC51bmRvbmUuc2xpY2UoMCksbnVsbCwhMCl9LHNldEd1dHRlck1hcmtlcjpRcihmdW5jdGlvbih0LGUsbil7cmV0dXJuIGdvKHRoaXMsdCxcImd1dHRlclwiLGZ1bmN0aW9uKHQpe3ZhciByPXQuZ3V0dGVyTWFya2Vyc3x8KHQuZ3V0dGVyTWFya2Vycz17fSk7cmV0dXJuIHJbZV09biwhbiYmbnQocikmJih0Lmd1dHRlck1hcmtlcnM9bnVsbCksITB9KX0pLGNsZWFyR3V0dGVyOlFyKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5pdGVyKGZ1bmN0aW9uKG4pe24uZ3V0dGVyTWFya2VycyYmbi5ndXR0ZXJNYXJrZXJzW3RdJiZnbyhlLG4sXCJndXR0ZXJcIixmdW5jdGlvbigpe3JldHVybiBuLmd1dHRlck1hcmtlcnNbdF09bnVsbCxudChuLmd1dHRlck1hcmtlcnMpJiYobi5ndXR0ZXJNYXJrZXJzPW51bGwpLCEwfSl9KX0pLGxpbmVJbmZvOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtpZighWnQodGhpcyx0KSlyZXR1cm4gbnVsbDtpZihlPXQsISh0PUt0KHRoaXMsdCkpKXJldHVybiBudWxsfWVsc2UgaWYobnVsbD09KGU9SnQodCkpKXJldHVybiBudWxsO3JldHVybntsaW5lOmUsaGFuZGxlOnQsdGV4dDp0LnRleHQsZ3V0dGVyTWFya2Vyczp0Lmd1dHRlck1hcmtlcnMsdGV4dENsYXNzOnQudGV4dENsYXNzLGJnQ2xhc3M6dC5iZ0NsYXNzLHdyYXBDbGFzczp0LndyYXBDbGFzcyx3aWRnZXRzOnQud2lkZ2V0c319LGFkZExpbmVDbGFzczpRcihmdW5jdGlvbih0LGUsbil7cmV0dXJuIGdvKHRoaXMsdCxcImd1dHRlclwiPT1lP1wiZ3V0dGVyXCI6XCJjbGFzc1wiLGZ1bmN0aW9uKHQpe3ZhciByPVwidGV4dFwiPT1lP1widGV4dENsYXNzXCI6XCJiYWNrZ3JvdW5kXCI9PWU/XCJiZ0NsYXNzXCI6XCJndXR0ZXJcIj09ZT9cImd1dHRlckNsYXNzXCI6XCJ3cmFwQ2xhc3NcIjtpZih0W3JdKXtpZihfKG4pLnRlc3QodFtyXSkpcmV0dXJuITE7dFtyXSs9XCIgXCIrbn1lbHNlIHRbcl09bjtyZXR1cm4hMH0pfSkscmVtb3ZlTGluZUNsYXNzOlFyKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZ28odGhpcyx0LFwiZ3V0dGVyXCI9PWU/XCJndXR0ZXJcIjpcImNsYXNzXCIsZnVuY3Rpb24odCl7dmFyIHI9XCJ0ZXh0XCI9PWU/XCJ0ZXh0Q2xhc3NcIjpcImJhY2tncm91bmRcIj09ZT9cImJnQ2xhc3NcIjpcImd1dHRlclwiPT1lP1wiZ3V0dGVyQ2xhc3NcIjpcIndyYXBDbGFzc1wiLGk9dFtyXTtpZighaSlyZXR1cm4hMTtpZihudWxsPT1uKXRbcl09bnVsbDtlbHNle3ZhciBvPWkubWF0Y2goXyhuKSk7aWYoIW8pcmV0dXJuITE7dmFyIGE9by5pbmRleCtvWzBdLmxlbmd0aDt0W3JdPWkuc2xpY2UoMCxvLmluZGV4KSsoby5pbmRleCYmYSE9aS5sZW5ndGg/XCIgXCI6XCJcIikraS5zbGljZShhKXx8bnVsbH1yZXR1cm4hMH0pfSksYWRkTGluZVdpZGdldDpRcihmdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW5ldyBibyh0LG4sciksbz10LmNtO3JldHVybiBvJiZpLm5vSFNjcm9sbCYmKG8uZGlzcGxheS5hbGlnbldpZGdldHM9ITApLGdvKHQsZSxcIndpZGdldFwiLGZ1bmN0aW9uKGUpe3ZhciBuPWUud2lkZ2V0c3x8KGUud2lkZ2V0cz1bXSk7aWYobnVsbD09aS5pbnNlcnRBdD9uLnB1c2goaSk6bi5zcGxpY2UoTWF0aC5taW4obi5sZW5ndGgtMSxNYXRoLm1heCgwLGkuaW5zZXJ0QXQpKSwwLGkpLGkubGluZT1lLG8mJiFIZSh0LGUpKXt2YXIgcj1VZShlKTx0LnNjcm9sbFRvcDtZdChlLGUuaGVpZ2h0K3duKGkpKSxyJiZPcihvLGkuaGVpZ2h0KSxvLmN1ck9wLmZvcmNlVXBkYXRlPSEwfXJldHVybiEwfSksbyYmbG4obyxcImxpbmVXaWRnZXRBZGRlZFwiLG8saSxcIm51bWJlclwiPT10eXBlb2YgZT9lOkp0KGUpKSxpfSh0aGlzLHQsZSxuKX0pLHJlbW92ZUxpbmVXaWRnZXQ6ZnVuY3Rpb24odCl7dC5jbGVhcigpfSxtYXJrVGV4dDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGtvKHRoaXMsc2UodGhpcyx0KSxzZSh0aGlzLGUpLG4sbiYmbi50eXBlfHxcInJhbmdlXCIpfSxzZXRCb29rbWFyazpmdW5jdGlvbih0LGUpe3ZhciBuPXtyZXBsYWNlZFdpdGg6ZSYmKG51bGw9PWUubm9kZVR5cGU/ZS53aWRnZXQ6ZSksaW5zZXJ0TGVmdDplJiZlLmluc2VydExlZnQsY2xlYXJXaGVuRW1wdHk6ITEsc2hhcmVkOmUmJmUuc2hhcmVkLGhhbmRsZU1vdXNlRXZlbnRzOmUmJmUuaGFuZGxlTW91c2VFdmVudHN9O3JldHVybiBrbyh0aGlzLHQ9c2UodGhpcyx0KSx0LG4sXCJib29rbWFya1wiKX0sZmluZE1hcmtzQXQ6ZnVuY3Rpb24odCl7dD1zZSh0aGlzLHQpO3ZhciBlPVtdLG49S3QodGhpcyx0LmxpbmUpLm1hcmtlZFNwYW5zO2lmKG4pZm9yKHZhciByPTA7cjxuLmxlbmd0aDsrK3Ipe3ZhciBpPW5bcl07KG51bGw9PWkuZnJvbXx8aS5mcm9tPD10LmNoKSYmKG51bGw9PWkudG98fGkudG8+PXQuY2gpJiZlLnB1c2goaS5tYXJrZXIucGFyZW50fHxpLm1hcmtlcil9cmV0dXJuIGV9LGZpbmRNYXJrczpmdW5jdGlvbih0LGUsbil7dD1zZSh0aGlzLHQpLGU9c2UodGhpcyxlKTt2YXIgcj1bXSxpPXQubGluZTtyZXR1cm4gdGhpcy5pdGVyKHQubGluZSxlLmxpbmUrMSxmdW5jdGlvbihvKXt2YXIgYT1vLm1hcmtlZFNwYW5zO2lmKGEpZm9yKHZhciBzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBsPWFbc107bnVsbCE9bC50byYmaT09dC5saW5lJiZ0LmNoPj1sLnRvfHxudWxsPT1sLmZyb20mJmkhPXQubGluZXx8bnVsbCE9bC5mcm9tJiZpPT1lLmxpbmUmJmwuZnJvbT49ZS5jaHx8biYmIW4obC5tYXJrZXIpfHxyLnB1c2gobC5tYXJrZXIucGFyZW50fHxsLm1hcmtlcil9KytpfSkscn0sZ2V0QWxsTWFya3M6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5pdGVyKGZ1bmN0aW9uKGUpe3ZhciBuPWUubWFya2VkU3BhbnM7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoOysrciludWxsIT1uW3JdLmZyb20mJnQucHVzaChuW3JdLm1hcmtlcil9KSx0fSxwb3NGcm9tSW5kZXg6ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLmZpcnN0LHI9dGhpcy5saW5lU2VwYXJhdG9yKCkubGVuZ3RoO3JldHVybiB0aGlzLml0ZXIoZnVuY3Rpb24oaSl7dmFyIG89aS50ZXh0Lmxlbmd0aCtyO2lmKG8+dClyZXR1cm4gZT10LCEwO3QtPW8sKytufSksc2UodGhpcyx0ZShuLGUpKX0saW5kZXhGcm9tUG9zOmZ1bmN0aW9uKHQpe3ZhciBlPSh0PXNlKHRoaXMsdCkpLmNoO2lmKHQubGluZTx0aGlzLmZpcnN0fHx0LmNoPDApcmV0dXJuIDA7dmFyIG49dGhpcy5saW5lU2VwYXJhdG9yKCkubGVuZ3RoO3JldHVybiB0aGlzLml0ZXIodGhpcy5maXJzdCx0LmxpbmUsZnVuY3Rpb24odCl7ZSs9dC50ZXh0Lmxlbmd0aCtufSksZX0sY29weTpmdW5jdGlvbih0KXt2YXIgZT1uZXcgT28ocXQodGhpcyx0aGlzLmZpcnN0LHRoaXMuZmlyc3QrdGhpcy5zaXplKSx0aGlzLm1vZGVPcHRpb24sdGhpcy5maXJzdCx0aGlzLmxpbmVTZXAsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBlLnNjcm9sbFRvcD10aGlzLnNjcm9sbFRvcCxlLnNjcm9sbExlZnQ9dGhpcy5zY3JvbGxMZWZ0LGUuc2VsPXRoaXMuc2VsLGUuZXh0ZW5kPSExLHQmJihlLmhpc3RvcnkudW5kb0RlcHRoPXRoaXMuaGlzdG9yeS51bmRvRGVwdGgsZS5zZXRIaXN0b3J5KHRoaXMuZ2V0SGlzdG9yeSgpKSksZX0sbGlua2VkRG9jOmZ1bmN0aW9uKHQpe3R8fCh0PXt9KTt2YXIgZT10aGlzLmZpcnN0LG49dGhpcy5maXJzdCt0aGlzLnNpemU7bnVsbCE9dC5mcm9tJiZ0LmZyb20+ZSYmKGU9dC5mcm9tKSxudWxsIT10LnRvJiZ0LnRvPG4mJihuPXQudG8pO3ZhciByPW5ldyBPbyhxdCh0aGlzLGUsbiksdC5tb2RlfHx0aGlzLm1vZGVPcHRpb24sZSx0aGlzLmxpbmVTZXAsdGhpcy5kaXJlY3Rpb24pO3JldHVybiB0LnNoYXJlZEhpc3QmJihyLmhpc3Rvcnk9dGhpcy5oaXN0b3J5KSwodGhpcy5saW5rZWR8fCh0aGlzLmxpbmtlZD1bXSkpLnB1c2goe2RvYzpyLHNoYXJlZEhpc3Q6dC5zaGFyZWRIaXN0fSksci5saW5rZWQ9W3tkb2M6dGhpcyxpc1BhcmVudDohMCxzaGFyZWRIaXN0OnQuc2hhcmVkSGlzdH1dLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl0saT1yLmZpbmQoKSxvPXQuY2xpcFBvcyhpLmZyb20pLGE9dC5jbGlwUG9zKGkudG8pO2lmKGVlKG8sYSkpe3ZhciBzPWtvKHQsbyxhLHIucHJpbWFyeSxyLnByaW1hcnkudHlwZSk7ci5tYXJrZXJzLnB1c2gocykscy5wYXJlbnQ9cn19fShyLFNvKHRoaXMpKSxyfSx1bmxpbmtEb2M6ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIF9hJiYodD10LmRvYyksdGhpcy5saW5rZWQpZm9yKHZhciBlPTA7ZTx0aGlzLmxpbmtlZC5sZW5ndGg7KytlKXt2YXIgbj10aGlzLmxpbmtlZFtlXTtpZihuLmRvYz09dCl7dGhpcy5saW5rZWQuc3BsaWNlKGUsMSksdC51bmxpbmtEb2ModGhpcyksRW8oU28odGhpcykpO2JyZWFrfX1pZih0Lmhpc3Rvcnk9PXRoaXMuaGlzdG9yeSl7dmFyIHI9W3QuaWRdO0FpKHQsZnVuY3Rpb24odCl7cmV0dXJuIHIucHVzaCh0LmlkKX0sITApLHQuaGlzdG9yeT1uZXcgRmkobnVsbCksdC5oaXN0b3J5LmRvbmU9VWkodGhpcy5oaXN0b3J5LmRvbmUsciksdC5oaXN0b3J5LnVuZG9uZT1VaSh0aGlzLmhpc3RvcnkudW5kb25lLHIpfX0saXRlckxpbmtlZERvY3M6ZnVuY3Rpb24odCl7QWkodGhpcyx0KX0sZ2V0TW9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGV9LGdldEVkaXRvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNtfSxzcGxpdExpbmVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpbmVTZXA/dC5zcGxpdCh0aGlzLmxpbmVTZXApOk50KHQpfSxsaW5lU2VwYXJhdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZVNlcHx8XCJcXG5cIn0sc2V0RGlyZWN0aW9uOlFyKGZ1bmN0aW9uKHQpe3ZhciBlO1wicnRsXCIhPXQmJih0PVwibHRyXCIpLHQhPXRoaXMuZGlyZWN0aW9uJiYodGhpcy5kaXJlY3Rpb249dCx0aGlzLml0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQub3JkZXI9bnVsbH0pLHRoaXMuY20mJkpyKGU9dGhpcy5jbSxmdW5jdGlvbigpe1BpKGUpLGNyKGUpfSkpfSl9KSxPby5wcm90b3R5cGUuZWFjaExpbmU9T28ucHJvdG90eXBlLml0ZXI7dmFyIE1vPTA7ZnVuY3Rpb24gTG8odCl7dmFyIGU9dGhpcztpZihBbyhlKSwhZ3QoZSx0KSYmIUNuKGUuZGlzcGxheSx0KSl7eHQodCksYSYmKE1vPStuZXcgRGF0ZSk7dmFyIG49c3IoZSx0LCEwKSxyPXQuZGF0YVRyYW5zZmVyLmZpbGVzO2lmKG4mJiFlLmlzUmVhZE9ubHkoKSlpZihyJiZyLmxlbmd0aCYmd2luZG93LkZpbGVSZWFkZXImJndpbmRvdy5GaWxlKWZvcih2YXIgaT1yLmxlbmd0aCxvPUFycmF5KGkpLHM9MCxsPWZ1bmN0aW9uKHQscil7aWYoIWUub3B0aW9ucy5hbGxvd0Ryb3BGaWxlVHlwZXN8fC0xIT1CKGUub3B0aW9ucy5hbGxvd0Ryb3BGaWxlVHlwZXMsdC50eXBlKSl7dmFyIGE9bmV3IEZpbGVSZWFkZXI7YS5vbmxvYWQ9WHIoZSxmdW5jdGlvbigpe3ZhciB0PWEucmVzdWx0O2lmKC9bXFx4MDAtXFx4MDhcXHgwZS1cXHgxZl17Mn0vLnRlc3QodCkmJih0PVwiXCIpLG9bcl09dCwrK3M9PWkpe3ZhciBsPXtmcm9tOm49c2UoZS5kb2MsbiksdG86bix0ZXh0OmUuZG9jLnNwbGl0TGluZXMoby5qb2luKGUuZG9jLmxpbmVTZXBhcmF0b3IoKSkpLG9yaWdpbjpcInBhc3RlXCJ9O2FvKGUuZG9jLGwpLFlpKGUuZG9jLENpKG4sa2kobCkpKX19KSxhLnJlYWRBc1RleHQodCl9fSxjPTA7YzxpOysrYylsKHJbY10sYyk7ZWxzZXtpZihlLnN0YXRlLmRyYWdnaW5nVGV4dCYmZS5kb2Muc2VsLmNvbnRhaW5zKG4pPi0xKXJldHVybiBlLnN0YXRlLmRyYWdnaW5nVGV4dCh0KSx2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5kaXNwbGF5LmlucHV0LmZvY3VzKCl9LDIwKTt0cnl7dmFyIHU9dC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIlRleHRcIik7aWYodSl7dmFyIGY7aWYoZS5zdGF0ZS5kcmFnZ2luZ1RleHQmJiFlLnN0YXRlLmRyYWdnaW5nVGV4dC5jb3B5JiYoZj1lLmxpc3RTZWxlY3Rpb25zKCkpLFhpKGUuZG9jLENpKG4sbikpLGYpZm9yKHZhciBkPTA7ZDxmLmxlbmd0aDsrK2QpZm8oZS5kb2MsXCJcIixmW2RdLmFuY2hvcixmW2RdLmhlYWQsXCJkcmFnXCIpO2UucmVwbGFjZVNlbGVjdGlvbih1LFwiYXJvdW5kXCIsXCJwYXN0ZVwiKSxlLmRpc3BsYXkuaW5wdXQuZm9jdXMoKX19Y2F0Y2godCl7fX19fWZ1bmN0aW9uIEFvKHQpe3QuZGlzcGxheS5kcmFnQ3Vyc29yJiYodC5kaXNwbGF5LmxpbmVTcGFjZS5yZW1vdmVDaGlsZCh0LmRpc3BsYXkuZHJhZ0N1cnNvciksdC5kaXNwbGF5LmRyYWdDdXJzb3I9bnVsbCl9ZnVuY3Rpb24gTm8odCl7aWYoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7Zm9yKHZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJDb2RlTWlycm9yXCIpLG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLkNvZGVNaXJyb3I7aSYmbi5wdXNoKGkpfW4ubGVuZ3RoJiZuWzBdLm9wZXJhdGlvbihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKXQobltlXSl9KX19dmFyIFBvPSExO2Z1bmN0aW9uIEZvKCl7dmFyIHQ7UG98fChkdCh3aW5kb3csXCJyZXNpemVcIixmdW5jdGlvbigpe251bGw9PXQmJih0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0PW51bGwsTm8oSW8pfSwxMDApKX0pLGR0KHdpbmRvdyxcImJsdXJcIixmdW5jdGlvbigpe3JldHVybiBObyhrcil9KSxQbz0hMCl9ZnVuY3Rpb24gSW8odCl7dmFyIGU9dC5kaXNwbGF5O2UuY2FjaGVkQ2hhcldpZHRoPWUuY2FjaGVkVGV4dEhlaWdodD1lLmNhY2hlZFBhZGRpbmdIPW51bGwsZS5zY3JvbGxiYXJzQ2xpcHBlZD0hMSx0LnNldFNpemUoKX1mb3IodmFyIGpvPXszOlwiUGF1c2VcIiw4OlwiQmFja3NwYWNlXCIsOTpcIlRhYlwiLDEzOlwiRW50ZXJcIiwxNjpcIlNoaWZ0XCIsMTc6XCJDdHJsXCIsMTg6XCJBbHRcIiwxOTpcIlBhdXNlXCIsMjA6XCJDYXBzTG9ja1wiLDI3OlwiRXNjXCIsMzI6XCJTcGFjZVwiLDMzOlwiUGFnZVVwXCIsMzQ6XCJQYWdlRG93blwiLDM1OlwiRW5kXCIsMzY6XCJIb21lXCIsMzc6XCJMZWZ0XCIsMzg6XCJVcFwiLDM5OlwiUmlnaHRcIiw0MDpcIkRvd25cIiw0NDpcIlByaW50U2NyblwiLDQ1OlwiSW5zZXJ0XCIsNDY6XCJEZWxldGVcIiw1OTpcIjtcIiw2MTpcIj1cIiw5MTpcIk1vZFwiLDkyOlwiTW9kXCIsOTM6XCJNb2RcIiwxMDY6XCIqXCIsMTA3OlwiPVwiLDEwOTpcIi1cIiwxMTA6XCIuXCIsMTExOlwiL1wiLDE0NTpcIlNjcm9sbExvY2tcIiwxNzM6XCItXCIsMTg2OlwiO1wiLDE4NzpcIj1cIiwxODg6XCIsXCIsMTg5OlwiLVwiLDE5MDpcIi5cIiwxOTE6XCIvXCIsMTkyOlwiYFwiLDIxOTpcIltcIiwyMjA6XCJcXFxcXCIsMjIxOlwiXVwiLDIyMjpcIidcIiw2MzIzMjpcIlVwXCIsNjMyMzM6XCJEb3duXCIsNjMyMzQ6XCJMZWZ0XCIsNjMyMzU6XCJSaWdodFwiLDYzMjcyOlwiRGVsZXRlXCIsNjMyNzM6XCJIb21lXCIsNjMyNzU6XCJFbmRcIiw2MzI3NjpcIlBhZ2VVcFwiLDYzMjc3OlwiUGFnZURvd25cIiw2MzMwMjpcIkluc2VydFwifSxEbz0wO0RvPDEwO0RvKyspam9bRG8rNDhdPWpvW0RvKzk2XT1TdHJpbmcoRG8pO2Zvcih2YXIgem89NjU7em88PTkwO3pvKyspam9bem9dPVN0cmluZy5mcm9tQ2hhckNvZGUoem8pO2Zvcih2YXIgUm89MTtSbzw9MTI7Um8rKylqb1tSbysxMTFdPWpvW1JvKzYzMjM1XT1cIkZcIitSbzt2YXIgQm89e307ZnVuY3Rpb24gSG8odCl7dmFyIGUsbixyLGksbz10LnNwbGl0KC8tKD8hJCkvKTt0PW9bby5sZW5ndGgtMV07Zm9yKHZhciBhPTA7YTxvLmxlbmd0aC0xO2ErKyl7dmFyIHM9b1thXTtpZigvXihjbWR8bWV0YXxtKSQvaS50ZXN0KHMpKWk9ITA7ZWxzZSBpZigvXmEobHQpPyQvaS50ZXN0KHMpKWU9ITA7ZWxzZSBpZigvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChzKSluPSEwO2Vsc2V7aWYoIS9ecyhoaWZ0KT8kL2kudGVzdChzKSl0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgbW9kaWZpZXIgbmFtZTogXCIrcyk7cj0hMH19cmV0dXJuIGUmJih0PVwiQWx0LVwiK3QpLG4mJih0PVwiQ3RybC1cIit0KSxpJiYodD1cIkNtZC1cIit0KSxyJiYodD1cIlNoaWZ0LVwiK3QpLHR9ZnVuY3Rpb24gV28odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIHI9dFtuXTtpZigvXihuYW1lfGZhbGx0aHJvdWdofChkZXxhdCl0YWNoKSQvLnRlc3QobikpY29udGludWU7aWYoXCIuLi5cIj09cil7ZGVsZXRlIHRbbl07Y29udGludWV9Zm9yKHZhciBpPUoobi5zcGxpdChcIiBcIiksSG8pLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9dm9pZCAwLHM9dm9pZCAwO289PWkubGVuZ3RoLTE/KHM9aS5qb2luKFwiIFwiKSxhPXIpOihzPWkuc2xpY2UoMCxvKzEpLmpvaW4oXCIgXCIpLGE9XCIuLi5cIik7dmFyIGw9ZVtzXTtpZihsKXtpZihsIT1hKXRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBiaW5kaW5ncyBmb3IgXCIrcyl9ZWxzZSBlW3NdPWF9ZGVsZXRlIHRbbl19Zm9yKHZhciBjIGluIGUpdFtjXT1lW2NdO3JldHVybiB0fWZ1bmN0aW9uIFVvKHQsZSxuLHIpe3ZhciBpPShlPSRvKGUpKS5jYWxsP2UuY2FsbCh0LHIpOmVbdF07aWYoITE9PT1pKXJldHVyblwibm90aGluZ1wiO2lmKFwiLi4uXCI9PT1pKXJldHVyblwibXVsdGlcIjtpZihudWxsIT1pJiZuKGkpKXJldHVyblwiaGFuZGxlZFwiO2lmKGUuZmFsbHRocm91Z2gpe2lmKFwiW29iamVjdCBBcnJheV1cIiE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUuZmFsbHRocm91Z2gpKXJldHVybiBVbyh0LGUuZmFsbHRocm91Z2gsbixyKTtmb3IodmFyIG89MDtvPGUuZmFsbHRocm91Z2gubGVuZ3RoO28rKyl7dmFyIGE9VW8odCxlLmZhbGx0aHJvdWdoW29dLG4scik7aWYoYSlyZXR1cm4gYX19fWZ1bmN0aW9uIFZvKHQpe3ZhciBlPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6am9bdC5rZXlDb2RlXTtyZXR1cm5cIkN0cmxcIj09ZXx8XCJBbHRcIj09ZXx8XCJTaGlmdFwiPT1lfHxcIk1vZFwiPT1lfWZ1bmN0aW9uIEdvKHQsZSxuKXt2YXIgcj10O3JldHVybiBlLmFsdEtleSYmXCJBbHRcIiE9ciYmKHQ9XCJBbHQtXCIrdCksKEM/ZS5tZXRhS2V5OmUuY3RybEtleSkmJlwiQ3RybFwiIT1yJiYodD1cIkN0cmwtXCIrdCksKEM/ZS5jdHJsS2V5OmUubWV0YUtleSkmJlwiQ21kXCIhPXImJih0PVwiQ21kLVwiK3QpLCFuJiZlLnNoaWZ0S2V5JiZcIlNoaWZ0XCIhPXImJih0PVwiU2hpZnQtXCIrdCksdH1mdW5jdGlvbiBLbyh0LGUpe2lmKGYmJjM0PT10LmtleUNvZGUmJnQuY2hhcilyZXR1cm4hMTt2YXIgbj1qb1t0LmtleUNvZGVdO3JldHVybiBudWxsIT1uJiYhdC5hbHRHcmFwaEtleSYmKDM9PXQua2V5Q29kZSYmdC5jb2RlJiYobj10LmNvZGUpLEdvKG4sdCxlKSl9ZnVuY3Rpb24gJG8odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/Qm9bdF06dH1mdW5jdGlvbiBxbyh0LGUpe2Zvcih2YXIgbj10LmRvYy5zZWwucmFuZ2VzLHI9W10saT0wO2k8bi5sZW5ndGg7aSsrKXtmb3IodmFyIG89ZShuW2ldKTtyLmxlbmd0aCYmZWUoby5mcm9tLFkocikudG8pPD0wOyl7dmFyIGE9ci5wb3AoKTtpZihlZShhLmZyb20sby5mcm9tKTwwKXtvLmZyb209YS5mcm9tO2JyZWFrfX1yLnB1c2gobyl9SnIodCxmdW5jdGlvbigpe2Zvcih2YXIgZT1yLmxlbmd0aC0xO2U+PTA7ZS0tKWZvKHQuZG9jLFwiXCIscltlXS5mcm9tLHJbZV0udG8sXCIrZGVsZXRlXCIpO01yKHQpfSl9ZnVuY3Rpb24gWW8odCxlLG4pe3ZhciByPW90KHQudGV4dCxlK24sbik7cmV0dXJuIHI8MHx8cj50LnRleHQubGVuZ3RoP251bGw6cn1mdW5jdGlvbiBKbyh0LGUsbil7dmFyIHI9WW8odCxlLmNoLG4pO3JldHVybiBudWxsPT1yP251bGw6bmV3IHRlKGUubGluZSxyLG48MD9cImFmdGVyXCI6XCJiZWZvcmVcIil9ZnVuY3Rpb24gWG8odCxlLG4scixpKXtpZih0KXt2YXIgbz11dChuLGUuZG9jLmRpcmVjdGlvbik7aWYobyl7dmFyIGEscz1pPDA/WShvKTpvWzBdLGw9aTwwPT0oMT09cy5sZXZlbCksYz1sP1wiYWZ0ZXJcIjpcImJlZm9yZVwiO2lmKHMubGV2ZWw+MHx8XCJydGxcIj09ZS5kb2MuZGlyZWN0aW9uKXt2YXIgdT1ObihlLG4pO2E9aTwwP24udGV4dC5sZW5ndGgtMTowO3ZhciBmPVBuKGUsdSxhKS50b3A7YT1hdChmdW5jdGlvbih0KXtyZXR1cm4gUG4oZSx1LHQpLnRvcD09Zn0saTwwPT0oMT09cy5sZXZlbCk/cy5mcm9tOnMudG8tMSxhKSxcImJlZm9yZVwiPT1jJiYoYT1ZbyhuLGEsMSkpfWVsc2UgYT1pPDA/cy50bzpzLmZyb207cmV0dXJuIG5ldyB0ZShyLGEsYyl9fXJldHVybiBuZXcgdGUocixpPDA/bi50ZXh0Lmxlbmd0aDowLGk8MD9cImJlZm9yZVwiOlwiYWZ0ZXJcIil9Qm8uYmFzaWM9e0xlZnQ6XCJnb0NoYXJMZWZ0XCIsUmlnaHQ6XCJnb0NoYXJSaWdodFwiLFVwOlwiZ29MaW5lVXBcIixEb3duOlwiZ29MaW5lRG93blwiLEVuZDpcImdvTGluZUVuZFwiLEhvbWU6XCJnb0xpbmVTdGFydFNtYXJ0XCIsUGFnZVVwOlwiZ29QYWdlVXBcIixQYWdlRG93bjpcImdvUGFnZURvd25cIixEZWxldGU6XCJkZWxDaGFyQWZ0ZXJcIixCYWNrc3BhY2U6XCJkZWxDaGFyQmVmb3JlXCIsXCJTaGlmdC1CYWNrc3BhY2VcIjpcImRlbENoYXJCZWZvcmVcIixUYWI6XCJkZWZhdWx0VGFiXCIsXCJTaGlmdC1UYWJcIjpcImluZGVudEF1dG9cIixFbnRlcjpcIm5ld2xpbmVBbmRJbmRlbnRcIixJbnNlcnQ6XCJ0b2dnbGVPdmVyd3JpdGVcIixFc2M6XCJzaW5nbGVTZWxlY3Rpb25cIn0sQm8ucGNEZWZhdWx0PXtcIkN0cmwtQVwiOlwic2VsZWN0QWxsXCIsXCJDdHJsLURcIjpcImRlbGV0ZUxpbmVcIixcIkN0cmwtWlwiOlwidW5kb1wiLFwiU2hpZnQtQ3RybC1aXCI6XCJyZWRvXCIsXCJDdHJsLVlcIjpcInJlZG9cIixcIkN0cmwtSG9tZVwiOlwiZ29Eb2NTdGFydFwiLFwiQ3RybC1FbmRcIjpcImdvRG9jRW5kXCIsXCJDdHJsLVVwXCI6XCJnb0xpbmVVcFwiLFwiQ3RybC1Eb3duXCI6XCJnb0xpbmVEb3duXCIsXCJDdHJsLUxlZnRcIjpcImdvR3JvdXBMZWZ0XCIsXCJDdHJsLVJpZ2h0XCI6XCJnb0dyb3VwUmlnaHRcIixcIkFsdC1MZWZ0XCI6XCJnb0xpbmVTdGFydFwiLFwiQWx0LVJpZ2h0XCI6XCJnb0xpbmVFbmRcIixcIkN0cmwtQmFja3NwYWNlXCI6XCJkZWxHcm91cEJlZm9yZVwiLFwiQ3RybC1EZWxldGVcIjpcImRlbEdyb3VwQWZ0ZXJcIixcIkN0cmwtU1wiOlwic2F2ZVwiLFwiQ3RybC1GXCI6XCJmaW5kXCIsXCJDdHJsLUdcIjpcImZpbmROZXh0XCIsXCJTaGlmdC1DdHJsLUdcIjpcImZpbmRQcmV2XCIsXCJTaGlmdC1DdHJsLUZcIjpcInJlcGxhY2VcIixcIlNoaWZ0LUN0cmwtUlwiOlwicmVwbGFjZUFsbFwiLFwiQ3RybC1bXCI6XCJpbmRlbnRMZXNzXCIsXCJDdHJsLV1cIjpcImluZGVudE1vcmVcIixcIkN0cmwtVVwiOlwidW5kb1NlbGVjdGlvblwiLFwiU2hpZnQtQ3RybC1VXCI6XCJyZWRvU2VsZWN0aW9uXCIsXCJBbHQtVVwiOlwicmVkb1NlbGVjdGlvblwiLGZhbGx0aHJvdWdoOlwiYmFzaWNcIn0sQm8uZW1hY3N5PXtcIkN0cmwtRlwiOlwiZ29DaGFyUmlnaHRcIixcIkN0cmwtQlwiOlwiZ29DaGFyTGVmdFwiLFwiQ3RybC1QXCI6XCJnb0xpbmVVcFwiLFwiQ3RybC1OXCI6XCJnb0xpbmVEb3duXCIsXCJBbHQtRlwiOlwiZ29Xb3JkUmlnaHRcIixcIkFsdC1CXCI6XCJnb1dvcmRMZWZ0XCIsXCJDdHJsLUFcIjpcImdvTGluZVN0YXJ0XCIsXCJDdHJsLUVcIjpcImdvTGluZUVuZFwiLFwiQ3RybC1WXCI6XCJnb1BhZ2VEb3duXCIsXCJTaGlmdC1DdHJsLVZcIjpcImdvUGFnZVVwXCIsXCJDdHJsLURcIjpcImRlbENoYXJBZnRlclwiLFwiQ3RybC1IXCI6XCJkZWxDaGFyQmVmb3JlXCIsXCJBbHQtRFwiOlwiZGVsV29yZEFmdGVyXCIsXCJBbHQtQmFja3NwYWNlXCI6XCJkZWxXb3JkQmVmb3JlXCIsXCJDdHJsLUtcIjpcImtpbGxMaW5lXCIsXCJDdHJsLVRcIjpcInRyYW5zcG9zZUNoYXJzXCIsXCJDdHJsLU9cIjpcIm9wZW5MaW5lXCJ9LEJvLm1hY0RlZmF1bHQ9e1wiQ21kLUFcIjpcInNlbGVjdEFsbFwiLFwiQ21kLURcIjpcImRlbGV0ZUxpbmVcIixcIkNtZC1aXCI6XCJ1bmRvXCIsXCJTaGlmdC1DbWQtWlwiOlwicmVkb1wiLFwiQ21kLVlcIjpcInJlZG9cIixcIkNtZC1Ib21lXCI6XCJnb0RvY1N0YXJ0XCIsXCJDbWQtVXBcIjpcImdvRG9jU3RhcnRcIixcIkNtZC1FbmRcIjpcImdvRG9jRW5kXCIsXCJDbWQtRG93blwiOlwiZ29Eb2NFbmRcIixcIkFsdC1MZWZ0XCI6XCJnb0dyb3VwTGVmdFwiLFwiQWx0LVJpZ2h0XCI6XCJnb0dyb3VwUmlnaHRcIixcIkNtZC1MZWZ0XCI6XCJnb0xpbmVMZWZ0XCIsXCJDbWQtUmlnaHRcIjpcImdvTGluZVJpZ2h0XCIsXCJBbHQtQmFja3NwYWNlXCI6XCJkZWxHcm91cEJlZm9yZVwiLFwiQ3RybC1BbHQtQmFja3NwYWNlXCI6XCJkZWxHcm91cEFmdGVyXCIsXCJBbHQtRGVsZXRlXCI6XCJkZWxHcm91cEFmdGVyXCIsXCJDbWQtU1wiOlwic2F2ZVwiLFwiQ21kLUZcIjpcImZpbmRcIixcIkNtZC1HXCI6XCJmaW5kTmV4dFwiLFwiU2hpZnQtQ21kLUdcIjpcImZpbmRQcmV2XCIsXCJDbWQtQWx0LUZcIjpcInJlcGxhY2VcIixcIlNoaWZ0LUNtZC1BbHQtRlwiOlwicmVwbGFjZUFsbFwiLFwiQ21kLVtcIjpcImluZGVudExlc3NcIixcIkNtZC1dXCI6XCJpbmRlbnRNb3JlXCIsXCJDbWQtQmFja3NwYWNlXCI6XCJkZWxXcmFwcGVkTGluZUxlZnRcIixcIkNtZC1EZWxldGVcIjpcImRlbFdyYXBwZWRMaW5lUmlnaHRcIixcIkNtZC1VXCI6XCJ1bmRvU2VsZWN0aW9uXCIsXCJTaGlmdC1DbWQtVVwiOlwicmVkb1NlbGVjdGlvblwiLFwiQ3RybC1VcFwiOlwiZ29Eb2NTdGFydFwiLFwiQ3RybC1Eb3duXCI6XCJnb0RvY0VuZFwiLGZhbGx0aHJvdWdoOltcImJhc2ljXCIsXCJlbWFjc3lcIl19LEJvLmRlZmF1bHQ9eT9Cby5tYWNEZWZhdWx0OkJvLnBjRGVmYXVsdDt2YXIgWm89e3NlbGVjdEFsbDppbyxzaW5nbGVTZWxlY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2V0U2VsZWN0aW9uKHQuZ2V0Q3Vyc29yKFwiYW5jaG9yXCIpLHQuZ2V0Q3Vyc29yKFwiaGVhZFwiKSxVKX0sa2lsbExpbmU6ZnVuY3Rpb24odCl7cmV0dXJuIHFvKHQsZnVuY3Rpb24oZSl7aWYoZS5lbXB0eSgpKXt2YXIgbj1LdCh0LmRvYyxlLmhlYWQubGluZSkudGV4dC5sZW5ndGg7cmV0dXJuIGUuaGVhZC5jaD09biYmZS5oZWFkLmxpbmU8dC5sYXN0TGluZSgpP3tmcm9tOmUuaGVhZCx0bzp0ZShlLmhlYWQubGluZSsxLDApfTp7ZnJvbTplLmhlYWQsdG86dGUoZS5oZWFkLmxpbmUsbil9fXJldHVybntmcm9tOmUuZnJvbSgpLHRvOmUudG8oKX19KX0sZGVsZXRlTGluZTpmdW5jdGlvbih0KXtyZXR1cm4gcW8odCxmdW5jdGlvbihlKXtyZXR1cm57ZnJvbTp0ZShlLmZyb20oKS5saW5lLDApLHRvOnNlKHQuZG9jLHRlKGUudG8oKS5saW5lKzEsMCkpfX0pfSxkZWxMaW5lTGVmdDpmdW5jdGlvbih0KXtyZXR1cm4gcW8odCxmdW5jdGlvbih0KXtyZXR1cm57ZnJvbTp0ZSh0LmZyb20oKS5saW5lLDApLHRvOnQuZnJvbSgpfX0pfSxkZWxXcmFwcGVkTGluZUxlZnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHFvKHQsZnVuY3Rpb24oZSl7dmFyIG49dC5jaGFyQ29vcmRzKGUuaGVhZCxcImRpdlwiKS50b3ArNSxyPXQuY29vcmRzQ2hhcih7bGVmdDowLHRvcDpufSxcImRpdlwiKTtyZXR1cm57ZnJvbTpyLHRvOmUuZnJvbSgpfX0pfSxkZWxXcmFwcGVkTGluZVJpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiBxbyh0LGZ1bmN0aW9uKGUpe3ZhciBuPXQuY2hhckNvb3JkcyhlLmhlYWQsXCJkaXZcIikudG9wKzUscj10LmNvb3Jkc0NoYXIoe2xlZnQ6dC5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGgrMTAwLHRvcDpufSxcImRpdlwiKTtyZXR1cm57ZnJvbTplLmZyb20oKSx0bzpyfX0pfSx1bmRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LnVuZG8oKX0scmVkbzpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWRvKCl9LHVuZG9TZWxlY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQudW5kb1NlbGVjdGlvbigpfSxyZWRvU2VsZWN0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZG9TZWxlY3Rpb24oKX0sZ29Eb2NTdGFydDpmdW5jdGlvbih0KXtyZXR1cm4gdC5leHRlbmRTZWxlY3Rpb24odGUodC5maXJzdExpbmUoKSwwKSl9LGdvRG9jRW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0LmV4dGVuZFNlbGVjdGlvbih0ZSh0Lmxhc3RMaW5lKCkpKX0sZ29MaW5lU3RhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKGUpe3JldHVybiBRbyh0LGUuaGVhZC5saW5lKX0se29yaWdpbjpcIittb3ZlXCIsYmlhczoxfSl9LGdvTGluZVN0YXJ0U21hcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKGUpe3JldHVybiB0YSh0LGUuaGVhZCl9LHtvcmlnaW46XCIrbW92ZVwiLGJpYXM6MX0pfSxnb0xpbmVFbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPUt0KHQuZG9jLGUpLHI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlO2U9SWUodCk7KXQ9ZS5maW5kKDEsITApLmxpbmU7cmV0dXJuIHR9KG4pO3JldHVybiByIT1uJiYoZT1KdChyKSksWG8oITAsdCxuLGUsLTEpfSh0LGUuaGVhZC5saW5lKX0se29yaWdpbjpcIittb3ZlXCIsYmlhczotMX0pfSxnb0xpbmVSaWdodDpmdW5jdGlvbih0KXtyZXR1cm4gdC5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24oZSl7dmFyIG49dC5jdXJzb3JDb29yZHMoZS5oZWFkLFwiZGl2XCIpLnRvcCs1O3JldHVybiB0LmNvb3Jkc0NoYXIoe2xlZnQ6dC5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGgrMTAwLHRvcDpufSxcImRpdlwiKX0sRyl9LGdvTGluZUxlZnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKGUpe3ZhciBuPXQuY3Vyc29yQ29vcmRzKGUuaGVhZCxcImRpdlwiKS50b3ArNTtyZXR1cm4gdC5jb29yZHNDaGFyKHtsZWZ0OjAsdG9wOm59LFwiZGl2XCIpfSxHKX0sZ29MaW5lTGVmdFNtYXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihlKXt2YXIgbj10LmN1cnNvckNvb3JkcyhlLmhlYWQsXCJkaXZcIikudG9wKzUscj10LmNvb3Jkc0NoYXIoe2xlZnQ6MCx0b3A6bn0sXCJkaXZcIik7cmV0dXJuIHIuY2g8dC5nZXRMaW5lKHIubGluZSkuc2VhcmNoKC9cXFMvKT90YSh0LGUuaGVhZCk6cn0sRyl9LGdvTGluZVVwOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVWKC0xLFwibGluZVwiKX0sZ29MaW5lRG93bjpmdW5jdGlvbih0KXtyZXR1cm4gdC5tb3ZlVigxLFwibGluZVwiKX0sZ29QYWdlVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZVYoLTEsXCJwYWdlXCIpfSxnb1BhZ2VEb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVWKDEsXCJwYWdlXCIpfSxnb0NoYXJMZWZ0OmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVIKC0xLFwiY2hhclwiKX0sZ29DaGFyUmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZUgoMSxcImNoYXJcIil9LGdvQ29sdW1uTGVmdDpmdW5jdGlvbih0KXtyZXR1cm4gdC5tb3ZlSCgtMSxcImNvbHVtblwiKX0sZ29Db2x1bW5SaWdodDpmdW5jdGlvbih0KXtyZXR1cm4gdC5tb3ZlSCgxLFwiY29sdW1uXCIpfSxnb1dvcmRMZWZ0OmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVIKC0xLFwid29yZFwiKX0sZ29Hcm91cFJpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVIKDEsXCJncm91cFwiKX0sZ29Hcm91cExlZnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZUgoLTEsXCJncm91cFwiKX0sZ29Xb3JkUmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZUgoMSxcIndvcmRcIil9LGRlbENoYXJCZWZvcmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlSCgtMSxcImNoYXJcIil9LGRlbENoYXJBZnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5kZWxldGVIKDEsXCJjaGFyXCIpfSxkZWxXb3JkQmVmb3JlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmRlbGV0ZUgoLTEsXCJ3b3JkXCIpfSxkZWxXb3JkQWZ0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlSCgxLFwid29yZFwiKX0sZGVsR3JvdXBCZWZvcmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlSCgtMSxcImdyb3VwXCIpfSxkZWxHcm91cEFmdGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0LmRlbGV0ZUgoMSxcImdyb3VwXCIpfSxpbmRlbnRBdXRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmluZGVudFNlbGVjdGlvbihcInNtYXJ0XCIpfSxpbmRlbnRNb3JlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmluZGVudFNlbGVjdGlvbihcImFkZFwiKX0saW5kZW50TGVzczpmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmRlbnRTZWxlY3Rpb24oXCJzdWJ0cmFjdFwiKX0saW5zZXJ0VGFiOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2VTZWxlY3Rpb24oXCJcXHRcIil9LGluc2VydFNvZnRUYWI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dC5saXN0U2VsZWN0aW9ucygpLHI9dC5vcHRpb25zLnRhYlNpemUsaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz1uW2ldLmZyb20oKSxhPXoodC5nZXRMaW5lKG8ubGluZSksby5jaCxyKTtlLnB1c2gocShyLWElcikpfXQucmVwbGFjZVNlbGVjdGlvbnMoZSl9LGRlZmF1bHRUYWI6ZnVuY3Rpb24odCl7dC5zb21ldGhpbmdTZWxlY3RlZCgpP3QuaW5kZW50U2VsZWN0aW9uKFwiYWRkXCIpOnQuZXhlY0NvbW1hbmQoXCJpbnNlcnRUYWJcIil9LHRyYW5zcG9zZUNoYXJzOmZ1bmN0aW9uKHQpe3JldHVybiBKcih0LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQubGlzdFNlbGVjdGlvbnMoKSxuPVtdLHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLmVtcHR5KCkpe3ZhciBpPWVbcl0uaGVhZCxvPUt0KHQuZG9jLGkubGluZSkudGV4dDtpZihvKWlmKGkuY2g9PW8ubGVuZ3RoJiYoaT1uZXcgdGUoaS5saW5lLGkuY2gtMSkpLGkuY2g+MClpPW5ldyB0ZShpLmxpbmUsaS5jaCsxKSx0LnJlcGxhY2VSYW5nZShvLmNoYXJBdChpLmNoLTEpK28uY2hhckF0KGkuY2gtMiksdGUoaS5saW5lLGkuY2gtMiksaSxcIit0cmFuc3Bvc2VcIik7ZWxzZSBpZihpLmxpbmU+dC5kb2MuZmlyc3Qpe3ZhciBhPUt0KHQuZG9jLGkubGluZS0xKS50ZXh0O2EmJihpPW5ldyB0ZShpLmxpbmUsMSksdC5yZXBsYWNlUmFuZ2Uoby5jaGFyQXQoMCkrdC5kb2MubGluZVNlcGFyYXRvcigpK2EuY2hhckF0KGEubGVuZ3RoLTEpLHRlKGkubGluZS0xLGEubGVuZ3RoLTEpLGksXCIrdHJhbnNwb3NlXCIpKX1uLnB1c2gobmV3IHhpKGksaSkpfXQuc2V0U2VsZWN0aW9ucyhuKX0pfSxuZXdsaW5lQW5kSW5kZW50OmZ1bmN0aW9uKHQpe3JldHVybiBKcih0LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQubGlzdFNlbGVjdGlvbnMoKSxuPWUubGVuZ3RoLTE7bj49MDtuLS0pdC5yZXBsYWNlUmFuZ2UodC5kb2MubGluZVNlcGFyYXRvcigpLGVbbl0uYW5jaG9yLGVbbl0uaGVhZCxcIitpbnB1dFwiKTtlPXQubGlzdFNlbGVjdGlvbnMoKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LmluZGVudExpbmUoZVtyXS5mcm9tKCkubGluZSxudWxsLCEwKTtNcih0KX0pfSxvcGVuTGluZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlU2VsZWN0aW9uKFwiXFxuXCIsXCJzdGFydFwiKX0sdG9nZ2xlT3ZlcndyaXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRvZ2dsZU92ZXJ3cml0ZSgpfX07ZnVuY3Rpb24gUW8odCxlKXt2YXIgbj1LdCh0LmRvYyxlKSxyPXplKG4pO3JldHVybiByIT1uJiYoZT1KdChyKSksWG8oITAsdCxyLGUsMSl9ZnVuY3Rpb24gdGEodCxlKXt2YXIgbj1Rbyh0LGUubGluZSkscj1LdCh0LmRvYyxuLmxpbmUpLGk9dXQocix0LmRvYy5kaXJlY3Rpb24pO2lmKCFpfHwwPT1pWzBdLmxldmVsKXt2YXIgbz1NYXRoLm1heCgwLHIudGV4dC5zZWFyY2goL1xcUy8pKSxhPWUubGluZT09bi5saW5lJiZlLmNoPD1vJiZlLmNoO3JldHVybiB0ZShuLmxpbmUsYT8wOm8sbi5zdGlja3kpfXJldHVybiBufWZ1bmN0aW9uIGVhKHQsZSxuKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmIShlPVpvW2VdKSlyZXR1cm4hMTt0LmRpc3BsYXkuaW5wdXQuZW5zdXJlUG9sbGVkKCk7dmFyIHI9dC5kaXNwbGF5LnNoaWZ0LGk9ITE7dHJ5e3QuaXNSZWFkT25seSgpJiYodC5zdGF0ZS5zdXBwcmVzc0VkaXRzPSEwKSxuJiYodC5kaXNwbGF5LnNoaWZ0PSExKSxpPWUodCkhPVd9ZmluYWxseXt0LmRpc3BsYXkuc2hpZnQ9cix0LnN0YXRlLnN1cHByZXNzRWRpdHM9ITF9cmV0dXJuIGl9dmFyIG5hPW5ldyBSO2Z1bmN0aW9uIHJhKHQsZSxuLHIpe3ZhciBpPXQuc3RhdGUua2V5U2VxO2lmKGkpe2lmKFZvKGUpKXJldHVyblwiaGFuZGxlZFwiO2lmKC9cXCckLy50ZXN0KGUpP3Quc3RhdGUua2V5U2VxPW51bGw6bmEuc2V0KDUwLGZ1bmN0aW9uKCl7dC5zdGF0ZS5rZXlTZXE9PWkmJih0LnN0YXRlLmtleVNlcT1udWxsLHQuZGlzcGxheS5pbnB1dC5yZXNldCgpKX0pLGlhKHQsaStcIiBcIitlLG4scikpcmV0dXJuITB9cmV0dXJuIGlhKHQsZSxuLHIpfWZ1bmN0aW9uIGlhKHQsZSxuLHIpe3ZhciBpPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQuc3RhdGUua2V5TWFwcy5sZW5ndGg7cisrKXt2YXIgaT1VbyhlLHQuc3RhdGUua2V5TWFwc1tyXSxuLHQpO2lmKGkpcmV0dXJuIGl9cmV0dXJuIHQub3B0aW9ucy5leHRyYUtleXMmJlVvKGUsdC5vcHRpb25zLmV4dHJhS2V5cyxuLHQpfHxVbyhlLHQub3B0aW9ucy5rZXlNYXAsbix0KX0odCxlLHIpO3JldHVyblwibXVsdGlcIj09aSYmKHQuc3RhdGUua2V5U2VxPWUpLFwiaGFuZGxlZFwiPT1pJiZsbih0LFwia2V5SGFuZGxlZFwiLHQsZSxuKSxcImhhbmRsZWRcIiE9aSYmXCJtdWx0aVwiIT1pfHwoeHQobiksYnIodCkpLCEhaX1mdW5jdGlvbiBvYSh0LGUpe3ZhciBuPUtvKGUsITApO3JldHVybiEhbiYmKGUuc2hpZnRLZXkmJiF0LnN0YXRlLmtleVNlcT9yYSh0LFwiU2hpZnQtXCIrbixlLGZ1bmN0aW9uKGUpe3JldHVybiBlYSh0LGUsITApfSl8fHJhKHQsbixlLGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlPy9eZ29bQS1aXS8udGVzdChlKTplLm1vdGlvbilyZXR1cm4gZWEodCxlKX0pOnJhKHQsbixlLGZ1bmN0aW9uKGUpe3JldHVybiBlYSh0LGUpfSkpfXZhciBhYT1udWxsO2Z1bmN0aW9uIHNhKHQpe3ZhciBlPXRoaXM7aWYoZS5jdXJPcC5mb2N1cz1OKCksIWd0KGUsdCkpe2EmJnM8MTEmJjI3PT10LmtleUNvZGUmJih0LnJldHVyblZhbHVlPSExKTt2YXIgbj10LmtleUNvZGU7ZS5kaXNwbGF5LnNoaWZ0PTE2PT1ufHx0LnNoaWZ0S2V5O3ZhciByPW9hKGUsdCk7ZiYmKGFhPXI/bjpudWxsLCFyJiY4OD09biYmIUZ0JiYoeT90Lm1ldGFLZXk6dC5jdHJsS2V5KSYmZS5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsbnVsbCxcImN1dFwiKSksMTghPW58fC9cXGJDb2RlTWlycm9yLWNyb3NzaGFpclxcYi8udGVzdChlLmRpc3BsYXkubGluZURpdi5jbGFzc05hbWUpfHxmdW5jdGlvbih0KXt2YXIgZT10LmRpc3BsYXkubGluZURpdjtmdW5jdGlvbiBuKHQpezE4IT10LmtleUNvZGUmJnQuYWx0S2V5fHwoRShlLFwiQ29kZU1pcnJvci1jcm9zc2hhaXJcIikscHQoZG9jdW1lbnQsXCJrZXl1cFwiLG4pLHB0KGRvY3VtZW50LFwibW91c2VvdmVyXCIsbikpfVAoZSxcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpLGR0KGRvY3VtZW50LFwia2V5dXBcIixuKSxkdChkb2N1bWVudCxcIm1vdXNlb3ZlclwiLG4pfShlKX19ZnVuY3Rpb24gbGEodCl7MTY9PXQua2V5Q29kZSYmKHRoaXMuZG9jLnNlbC5zaGlmdD0hMSksZ3QodGhpcyx0KX1mdW5jdGlvbiBjYSh0KXt2YXIgZT10aGlzO2lmKCEoQ24oZS5kaXNwbGF5LHQpfHxndChlLHQpfHx0LmN0cmxLZXkmJiF0LmFsdEtleXx8eSYmdC5tZXRhS2V5KSl7dmFyIG49dC5rZXlDb2RlLHI9dC5jaGFyQ29kZTtpZihmJiZuPT1hYSlyZXR1cm4gYWE9bnVsbCx2b2lkIHh0KHQpO2lmKCFmfHx0LndoaWNoJiYhKHQud2hpY2g8MTApfHwhb2EoZSx0KSl7dmFyIGk9U3RyaW5nLmZyb21DaGFyQ29kZShudWxsPT1yP246cik7XCJcXGJcIiE9aSYmKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcmEodCxcIidcIituK1wiJ1wiLGUsZnVuY3Rpb24oZSl7cmV0dXJuIGVhKHQsZSwhMCl9KX0oZSx0LGkpfHxlLmRpc3BsYXkuaW5wdXQub25LZXlQcmVzcyh0KSl9fX12YXIgdWEsZmEsZGE9ZnVuY3Rpb24odCxlLG4pe3RoaXMudGltZT10LHRoaXMucG9zPWUsdGhpcy5idXR0b249bn07ZnVuY3Rpb24gaGEodCl7dmFyIGU9dGhpcyxuPWUuZGlzcGxheTtpZighKGd0KGUsdCl8fG4uYWN0aXZlVG91Y2gmJm4uaW5wdXQuc3VwcG9ydHNUb3VjaCgpKSlpZihuLmlucHV0LmVuc3VyZVBvbGxlZCgpLG4uc2hpZnQ9dC5zaGlmdEtleSxDbihuLHQpKWx8fChuLnNjcm9sbGVyLmRyYWdnYWJsZT0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uc2Nyb2xsZXIuZHJhZ2dhYmxlPSEwfSwxMDApKTtlbHNlIGlmKCFnYShlLHQpKXt2YXIgcj1zcihlLHQpLGk9U3QodCksbz1yP2Z1bmN0aW9uKHQsZSl7dmFyIG49K25ldyBEYXRlO3JldHVybiBmYSYmZmEuY29tcGFyZShuLHQsZSk/KHVhPWZhPW51bGwsXCJ0cmlwbGVcIik6dWEmJnVhLmNvbXBhcmUobix0LGUpPyhmYT1uZXcgZGEobix0LGUpLHVhPW51bGwsXCJkb3VibGVcIik6KHVhPW5ldyBkYShuLHQsZSksZmE9bnVsbCxcInNpbmdsZVwiKX0ocixpKTpcInNpbmdsZVwiO3dpbmRvdy5mb2N1cygpLDE9PWkmJmUuc3RhdGUuc2VsZWN0aW5nVGV4dCYmZS5zdGF0ZS5zZWxlY3RpbmdUZXh0KHQpLHImJmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89XCJDbGlja1wiO3JldHVyblwiZG91YmxlXCI9PXI/bz1cIkRvdWJsZVwiK286XCJ0cmlwbGVcIj09ciYmKG89XCJUcmlwbGVcIitvKSxyYSh0LEdvKG89KDE9PWU/XCJMZWZ0XCI6Mj09ZT9cIk1pZGRsZVwiOlwiUmlnaHRcIikrbyxpKSxpLGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1ab1tlXSksIWUpcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3QuaXNSZWFkT25seSgpJiYodC5zdGF0ZS5zdXBwcmVzc0VkaXRzPSEwKSxyPWUodCxuKSE9V31maW5hbGx5e3Quc3RhdGUuc3VwcHJlc3NFZGl0cz0hMX1yZXR1cm4gcn0pfShlLGkscixvLHQpfHwoMT09aT9yP2Z1bmN0aW9uKHQsZSxuLHIpe2E/c2V0VGltZW91dChqKHhyLHQpLDApOnQuY3VyT3AuZm9jdXM9TigpO3ZhciBpLG89ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuZ2V0T3B0aW9uKFwiY29uZmlndXJlTW91c2VcIiksaT1yP3IodCxlLG4pOnt9O2lmKG51bGw9PWkudW5pdCl7dmFyIG89Yj9uLnNoaWZ0S2V5JiZuLm1ldGFLZXk6bi5hbHRLZXk7aS51bml0PW8/XCJyZWN0YW5nbGVcIjpcInNpbmdsZVwiPT1lP1wiY2hhclwiOlwiZG91YmxlXCI9PWU/XCJ3b3JkXCI6XCJsaW5lXCJ9cmV0dXJuKG51bGw9PWkuZXh0ZW5kfHx0LmRvYy5leHRlbmQpJiYoaS5leHRlbmQ9dC5kb2MuZXh0ZW5kfHxuLnNoaWZ0S2V5KSxudWxsPT1pLmFkZE5ldyYmKGkuYWRkTmV3PXk/bi5tZXRhS2V5Om4uY3RybEtleSksbnVsbD09aS5tb3ZlT25EcmFnJiYoaS5tb3ZlT25EcmFnPSEoeT9uLmFsdEtleTpuLmN0cmxLZXkpKSxpfSh0LG4sciksYz10LmRvYy5zZWw7dC5vcHRpb25zLmRyYWdEcm9wJiZPdCYmIXQuaXNSZWFkT25seSgpJiZcInNpbmdsZVwiPT1uJiYoaT1jLmNvbnRhaW5zKGUpKT4tMSYmKGVlKChpPWMucmFuZ2VzW2ldKS5mcm9tKCksZSk8MHx8ZS54UmVsPjApJiYoZWUoaS50bygpLGUpPjB8fGUueFJlbDwwKT9mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LmRpc3BsYXksbz0hMSxjPVhyKHQsZnVuY3Rpb24oZSl7bCYmKGkuc2Nyb2xsZXIuZHJhZ2dhYmxlPSExKSx0LnN0YXRlLmRyYWdnaW5nVGV4dD0hMSxwdChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNldXBcIixjKSxwdChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNlbW92ZVwiLHUpLHB0KGkuc2Nyb2xsZXIsXCJkcmFnc3RhcnRcIixmKSxwdChpLnNjcm9sbGVyLFwiZHJvcFwiLGMpLG98fCh4dChlKSxyLmFkZE5ld3x8R2kodC5kb2MsbixudWxsLG51bGwsci5leHRlbmQpLGx8fGEmJjk9PXM/c2V0VGltZW91dChmdW5jdGlvbigpe2kud3JhcHBlci5vd25lckRvY3VtZW50LmJvZHkuZm9jdXMoKSxpLmlucHV0LmZvY3VzKCl9LDIwKTppLmlucHV0LmZvY3VzKCkpfSksdT1mdW5jdGlvbih0KXtvPW98fE1hdGguYWJzKGUuY2xpZW50WC10LmNsaWVudFgpK01hdGguYWJzKGUuY2xpZW50WS10LmNsaWVudFkpPj0xMH0sZj1mdW5jdGlvbigpe3JldHVybiBvPSEwfTtsJiYoaS5zY3JvbGxlci5kcmFnZ2FibGU9ITApLHQuc3RhdGUuZHJhZ2dpbmdUZXh0PWMsYy5jb3B5PSFyLm1vdmVPbkRyYWcsaS5zY3JvbGxlci5kcmFnRHJvcCYmaS5zY3JvbGxlci5kcmFnRHJvcCgpLGR0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2V1cFwiLGMpLGR0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdSksZHQoaS5zY3JvbGxlcixcImRyYWdzdGFydFwiLGYpLGR0KGkuc2Nyb2xsZXIsXCJkcm9wXCIsYyksd3IodCksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBpLmlucHV0LmZvY3VzKCl9LDIwKX0odCxyLGUsbyk6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dC5kaXNwbGF5LG89dC5kb2M7eHQoZSk7dmFyIGEscyxsPW8uc2VsLGM9bC5yYW5nZXM7aWYoci5hZGROZXcmJiFyLmV4dGVuZD8ocz1vLnNlbC5jb250YWlucyhuKSxhPXM+LTE/Y1tzXTpuZXcgeGkobixuKSk6KGE9by5zZWwucHJpbWFyeSgpLHM9by5zZWwucHJpbUluZGV4KSxcInJlY3RhbmdsZVwiPT1yLnVuaXQpci5hZGROZXd8fChhPW5ldyB4aShuLG4pKSxuPXNyKHQsZSwhMCwhMCkscz0tMTtlbHNle3ZhciB1PXBhKHQsbixyLnVuaXQpO2E9ci5leHRlbmQ/VmkoYSx1LmFuY2hvcix1LmhlYWQsci5leHRlbmQpOnV9ci5hZGROZXc/LTE9PXM/KHM9Yy5sZW5ndGgsSmkobyx3aSh0LGMuY29uY2F0KFthXSkscykse3Njcm9sbDohMSxvcmlnaW46XCIqbW91c2VcIn0pKTpjLmxlbmd0aD4xJiZjW3NdLmVtcHR5KCkmJlwiY2hhclwiPT1yLnVuaXQmJiFyLmV4dGVuZD8oSmkobyx3aSh0LGMuc2xpY2UoMCxzKS5jb25jYXQoYy5zbGljZShzKzEpKSwwKSx7c2Nyb2xsOiExLG9yaWdpbjpcIiptb3VzZVwifSksbD1vLnNlbCk6JGkobyxzLGEsVik6KHM9MCxKaShvLG5ldyBiaShbYV0sMCksViksbD1vLnNlbCk7dmFyIGY9bjtmdW5jdGlvbiBkKGUpe2lmKDAhPWVlKGYsZSkpaWYoZj1lLFwicmVjdGFuZ2xlXCI9PXIudW5pdCl7Zm9yKHZhciBpPVtdLGM9dC5vcHRpb25zLnRhYlNpemUsdT16KEt0KG8sbi5saW5lKS50ZXh0LG4uY2gsYyksZD16KEt0KG8sZS5saW5lKS50ZXh0LGUuY2gsYyksaD1NYXRoLm1pbih1LGQpLHA9TWF0aC5tYXgodSxkKSxtPU1hdGgubWluKG4ubGluZSxlLmxpbmUpLGc9TWF0aC5taW4odC5sYXN0TGluZSgpLE1hdGgubWF4KG4ubGluZSxlLmxpbmUpKTttPD1nO20rKyl7dmFyIHY9S3QobyxtKS50ZXh0LHk9Syh2LGgsYyk7aD09cD9pLnB1c2gobmV3IHhpKHRlKG0seSksdGUobSx5KSkpOnYubGVuZ3RoPnkmJmkucHVzaChuZXcgeGkodGUobSx5KSx0ZShtLEsodixwLGMpKSkpfWkubGVuZ3RofHxpLnB1c2gobmV3IHhpKG4sbikpLEppKG8sd2kodCxsLnJhbmdlcy5zbGljZSgwLHMpLmNvbmNhdChpKSxzKSx7b3JpZ2luOlwiKm1vdXNlXCIsc2Nyb2xsOiExfSksdC5zY3JvbGxJbnRvVmlldyhlKX1lbHNle3ZhciBiLHg9YSx3PXBhKHQsZSxyLnVuaXQpLEM9eC5hbmNob3I7ZWUody5hbmNob3IsQyk+MD8oYj13LmhlYWQsQz1vZSh4LmZyb20oKSx3LmFuY2hvcikpOihiPXcuYW5jaG9yLEM9aWUoeC50bygpLHcuaGVhZCkpO3ZhciBrPWwucmFuZ2VzLnNsaWNlKDApO2tbc109ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmFuY2hvcixyPWUuaGVhZCxpPUt0KHQuZG9jLG4ubGluZSk7aWYoMD09ZWUobixyKSYmbi5zdGlja3k9PXIuc3RpY2t5KXJldHVybiBlO3ZhciBvPXV0KGkpO2lmKCFvKXJldHVybiBlO3ZhciBhPWx0KG8sbi5jaCxuLnN0aWNreSkscz1vW2FdO2lmKHMuZnJvbSE9bi5jaCYmcy50byE9bi5jaClyZXR1cm4gZTt2YXIgbCxjPWErKHMuZnJvbT09bi5jaD09KDEhPXMubGV2ZWwpPzA6MSk7aWYoMD09Y3x8Yz09by5sZW5ndGgpcmV0dXJuIGU7aWYoci5saW5lIT1uLmxpbmUpbD0oci5saW5lLW4ubGluZSkqKFwibHRyXCI9PXQuZG9jLmRpcmVjdGlvbj8xOi0xKT4wO2Vsc2V7dmFyIHU9bHQobyxyLmNoLHIuc3RpY2t5KSxmPXUtYXx8KHIuY2gtbi5jaCkqKDE9PXMubGV2ZWw/LTE6MSk7bD11PT1jLTF8fHU9PWM/ZjwwOmY+MH12YXIgZD1vW2MrKGw/LTE6MCldLGg9bD09KDE9PWQubGV2ZWwpLHA9aD9kLmZyb206ZC50byxtPWg/XCJhZnRlclwiOlwiYmVmb3JlXCI7cmV0dXJuIG4uY2g9PXAmJm4uc3RpY2t5PT1tP2U6bmV3IHhpKG5ldyB0ZShuLmxpbmUscCxtKSxyKX0odCxuZXcgeGkoc2UobyxDKSxiKSksSmkobyx3aSh0LGsscyksVil9fXZhciBoPWkud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwPTA7ZnVuY3Rpb24gbShlKXt0LnN0YXRlLnNlbGVjdGluZ1RleHQ9ITEscD0xLzAsZSYmKHh0KGUpLGkuaW5wdXQuZm9jdXMoKSkscHQoaS53cmFwcGVyLm93bmVyRG9jdW1lbnQsXCJtb3VzZW1vdmVcIixnKSxwdChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNldXBcIix2KSxvLmhpc3RvcnkubGFzdFNlbE9yaWdpbj1udWxsfXZhciBnPVhyKHQsZnVuY3Rpb24oZSl7MCE9PWUuYnV0dG9ucyYmU3QoZSk/ZnVuY3Rpb24gZShuKXt2YXIgYT0rK3Ascz1zcih0LG4sITAsXCJyZWN0YW5nbGVcIj09ci51bml0KTtpZihzKWlmKDAhPWVlKHMsZikpe3QuY3VyT3AuZm9jdXM9TigpLGQocyk7dmFyIGw9RXIoaSxvKTsocy5saW5lPj1sLnRvfHxzLmxpbmU8bC5mcm9tKSYmc2V0VGltZW91dChYcih0LGZ1bmN0aW9uKCl7cD09YSYmZShuKX0pLDE1MCl9ZWxzZXt2YXIgYz1uLmNsaWVudFk8aC50b3A/LTIwOm4uY2xpZW50WT5oLmJvdHRvbT8yMDowO2MmJnNldFRpbWVvdXQoWHIodCxmdW5jdGlvbigpe3A9PWEmJihpLnNjcm9sbGVyLnNjcm9sbFRvcCs9YyxlKG4pKX0pLDUwKX19KGUpOm0oZSl9KSx2PVhyKHQsbSk7dC5zdGF0ZS5zZWxlY3RpbmdUZXh0PXYsZHQoaS53cmFwcGVyLm93bmVyRG9jdW1lbnQsXCJtb3VzZW1vdmVcIixnKSxkdChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNldXBcIix2KX0odCxyLGUsbyl9KGUscixvLHQpOl90KHQpPT1uLnNjcm9sbGVyJiZ4dCh0KToyPT1pPyhyJiZHaShlLmRvYyxyKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uaW5wdXQuZm9jdXMoKX0sMjApKTozPT1pJiYoaz9lLmRpc3BsYXkuaW5wdXQub25Db250ZXh0TWVudSh0KTp3cihlKSkpfX1mdW5jdGlvbiBwYSh0LGUsbil7aWYoXCJjaGFyXCI9PW4pcmV0dXJuIG5ldyB4aShlLGUpO2lmKFwid29yZFwiPT1uKXJldHVybiB0LmZpbmRXb3JkQXQoZSk7aWYoXCJsaW5lXCI9PW4pcmV0dXJuIG5ldyB4aSh0ZShlLmxpbmUsMCksc2UodC5kb2MsdGUoZS5saW5lKzEsMCkpKTt2YXIgcj1uKHQsZSk7cmV0dXJuIG5ldyB4aShyLmZyb20sci50byl9ZnVuY3Rpb24gbWEodCxlLG4scil7dmFyIGksbztpZihlLnRvdWNoZXMpaT1lLnRvdWNoZXNbMF0uY2xpZW50WCxvPWUudG91Y2hlc1swXS5jbGllbnRZO2Vsc2UgdHJ5e2k9ZS5jbGllbnRYLG89ZS5jbGllbnRZfWNhdGNoKGUpe3JldHVybiExfWlmKGk+PU1hdGguZmxvb3IodC5kaXNwbGF5Lmd1dHRlcnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpKXJldHVybiExO3ImJnh0KGUpO3ZhciBhPXQuZGlzcGxheSxzPWEubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihvPnMuYm90dG9tfHwheXQodCxuKSlyZXR1cm4gQ3QoZSk7by09cy50b3AtYS52aWV3T2Zmc2V0O2Zvcih2YXIgbD0wO2w8dC5kaXNwbGF5Lmd1dHRlclNwZWNzLmxlbmd0aDsrK2wpe3ZhciBjPWEuZ3V0dGVycy5jaGlsZE5vZGVzW2xdO2lmKGMmJmMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ+PWkpe3ZhciB1PVh0KHQuZG9jLG8pLGY9dC5kaXNwbGF5Lmd1dHRlclNwZWNzW2xdO3JldHVybiBtdCh0LG4sdCx1LGYuY2xhc3NOYW1lLGUpLEN0KGUpfX19ZnVuY3Rpb24gZ2EodCxlKXtyZXR1cm4gbWEodCxlLFwiZ3V0dGVyQ2xpY2tcIiwhMCl9ZnVuY3Rpb24gdmEodCxlKXtDbih0LmRpc3BsYXksZSl8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuISF5dCh0LFwiZ3V0dGVyQ29udGV4dE1lbnVcIikmJm1hKHQsZSxcImd1dHRlckNvbnRleHRNZW51XCIsITEpfSh0LGUpfHxndCh0LGUsXCJjb250ZXh0bWVudVwiKXx8a3x8dC5kaXNwbGF5LmlucHV0Lm9uQ29udGV4dE1lbnUoZSl9ZnVuY3Rpb24geWEodCl7dC5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lPXQuZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqY20tcy1cXFMrL2csXCJcIikrdC5vcHRpb25zLnRoZW1lLnJlcGxhY2UoLyhefFxccylcXHMqL2csXCIgY20tcy1cIiksQm4odCl9ZGEucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnRpbWUrNDAwPnQmJjA9PWVlKGUsdGhpcy5wb3MpJiZuPT10aGlzLmJ1dHRvbn07dmFyIGJhPXt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiQ29kZU1pcnJvci5Jbml0XCJ9fSx4YT17fSx3YT17fTtmdW5jdGlvbiBDYSh0LGUsbil7dmFyIHI9biYmbiE9YmE7aWYoIWUhPSFyKXt2YXIgaT10LmRpc3BsYXkuZHJhZ0Z1bmN0aW9ucyxvPWU/ZHQ6cHQ7byh0LmRpc3BsYXkuc2Nyb2xsZXIsXCJkcmFnc3RhcnRcIixpLnN0YXJ0KSxvKHQuZGlzcGxheS5zY3JvbGxlcixcImRyYWdlbnRlclwiLGkuZW50ZXIpLG8odC5kaXNwbGF5LnNjcm9sbGVyLFwiZHJhZ292ZXJcIixpLm92ZXIpLG8odC5kaXNwbGF5LnNjcm9sbGVyLFwiZHJhZ2xlYXZlXCIsaS5sZWF2ZSksbyh0LmRpc3BsYXkuc2Nyb2xsZXIsXCJkcm9wXCIsaS5kcm9wKX19ZnVuY3Rpb24ga2EodCl7dC5vcHRpb25zLmxpbmVXcmFwcGluZz8oUCh0LmRpc3BsYXkud3JhcHBlcixcIkNvZGVNaXJyb3Itd3JhcFwiKSx0LmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluV2lkdGg9XCJcIix0LmRpc3BsYXkuc2l6ZXJXaWR0aD1udWxsKTooRSh0LmRpc3BsYXkud3JhcHBlcixcIkNvZGVNaXJyb3Itd3JhcFwiKSxHZSh0KSksYXIodCksY3IodCksQm4odCksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBScih0KX0sMTAwKX1mdW5jdGlvbiBfYSh0LGUpe3ZhciBuPXRoaXM7aWYoISh0aGlzIGluc3RhbmNlb2YgX2EpKXJldHVybiBuZXcgX2EodCxlKTt0aGlzLm9wdGlvbnM9ZT1lP0QoZSk6e30sRCh4YSxlLCExKTt2YXIgcj1lLnZhbHVlO1wic3RyaW5nXCI9PXR5cGVvZiByP3I9bmV3IE9vKHIsZS5tb2RlLG51bGwsZS5saW5lU2VwYXJhdG9yLGUuZGlyZWN0aW9uKTplLm1vZGUmJihyLm1vZGVPcHRpb249ZS5tb2RlKSx0aGlzLmRvYz1yO3ZhciBpPW5ldyBfYS5pbnB1dFN0eWxlc1tlLmlucHV0U3R5bGVdKHRoaXMpLG89dGhpcy5kaXNwbGF5PW5ldyBoaSh0LHIsaSxlKTtmb3IodmFyIGMgaW4gby53cmFwcGVyLkNvZGVNaXJyb3I9dGhpcyx5YSh0aGlzKSxlLmxpbmVXcmFwcGluZyYmKHRoaXMuZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZSs9XCIgQ29kZU1pcnJvci13cmFwXCIpLFdyKHRoaXMpLHRoaXMuc3RhdGU9e2tleU1hcHM6W10sb3ZlcmxheXM6W10sbW9kZUdlbjowLG92ZXJ3cml0ZTohMSxkZWxheWluZ0JsdXJFdmVudDohMSxmb2N1c2VkOiExLHN1cHByZXNzRWRpdHM6ITEscGFzdGVJbmNvbWluZzotMSxjdXRJbmNvbWluZzotMSxzZWxlY3RpbmdUZXh0OiExLGRyYWdnaW5nVGV4dDohMSxoaWdobGlnaHQ6bmV3IFIsa2V5U2VxOm51bGwsc3BlY2lhbENoYXJzOm51bGx9LGUuYXV0b2ZvY3VzJiYhdiYmby5pbnB1dC5mb2N1cygpLGEmJnM8MTEmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbi5kaXNwbGF5LmlucHV0LnJlc2V0KCEwKX0sMjApLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGlzcGxheTtkdChlLnNjcm9sbGVyLFwibW91c2Vkb3duXCIsWHIodCxoYSkpLGR0KGUuc2Nyb2xsZXIsXCJkYmxjbGlja1wiLGEmJnM8MTE/WHIodCxmdW5jdGlvbihlKXtpZighZ3QodCxlKSl7dmFyIG49c3IodCxlKTtpZihuJiYhZ2EodCxlKSYmIUNuKHQuZGlzcGxheSxlKSl7eHQoZSk7dmFyIHI9dC5maW5kV29yZEF0KG4pO0dpKHQuZG9jLHIuYW5jaG9yLHIuaGVhZCl9fX0pOmZ1bmN0aW9uKGUpe3JldHVybiBndCh0LGUpfHx4dChlKX0pLGR0KGUuc2Nyb2xsZXIsXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKGUpe3JldHVybiB2YSh0LGUpfSk7dmFyIG4scj17ZW5kOjB9O2Z1bmN0aW9uIGkoKXtlLmFjdGl2ZVRvdWNoJiYobj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuYWN0aXZlVG91Y2g9bnVsbH0sMWUzKSwocj1lLmFjdGl2ZVRvdWNoKS5lbmQ9K25ldyBEYXRlKX1mdW5jdGlvbiBvKHQsZSl7aWYobnVsbD09ZS5sZWZ0KXJldHVybiEwO3ZhciBuPWUubGVmdC10LmxlZnQscj1lLnRvcC10LnRvcDtyZXR1cm4gbipuK3Iqcj40MDB9ZHQoZS5zY3JvbGxlcixcInRvdWNoc3RhcnRcIixmdW5jdGlvbihpKXtpZighZ3QodCxpKSYmIWZ1bmN0aW9uKHQpe2lmKDEhPXQudG91Y2hlcy5sZW5ndGgpcmV0dXJuITE7dmFyIGU9dC50b3VjaGVzWzBdO3JldHVybiBlLnJhZGl1c1g8PTEmJmUucmFkaXVzWTw9MX0oaSkmJiFnYSh0LGkpKXtlLmlucHV0LmVuc3VyZVBvbGxlZCgpLGNsZWFyVGltZW91dChuKTt2YXIgbz0rbmV3IERhdGU7ZS5hY3RpdmVUb3VjaD17c3RhcnQ6byxtb3ZlZDohMSxwcmV2Om8tci5lbmQ8PTMwMD9yOm51bGx9LDE9PWkudG91Y2hlcy5sZW5ndGgmJihlLmFjdGl2ZVRvdWNoLmxlZnQ9aS50b3VjaGVzWzBdLnBhZ2VYLGUuYWN0aXZlVG91Y2gudG9wPWkudG91Y2hlc1swXS5wYWdlWSl9fSksZHQoZS5zY3JvbGxlcixcInRvdWNobW92ZVwiLGZ1bmN0aW9uKCl7ZS5hY3RpdmVUb3VjaCYmKGUuYWN0aXZlVG91Y2gubW92ZWQ9ITApfSksZHQoZS5zY3JvbGxlcixcInRvdWNoZW5kXCIsZnVuY3Rpb24obil7dmFyIHI9ZS5hY3RpdmVUb3VjaDtpZihyJiYhQ24oZSxuKSYmbnVsbCE9ci5sZWZ0JiYhci5tb3ZlZCYmbmV3IERhdGUtci5zdGFydDwzMDApe3ZhciBhLHM9dC5jb29yZHNDaGFyKGUuYWN0aXZlVG91Y2gsXCJwYWdlXCIpO2E9IXIucHJldnx8byhyLHIucHJldik/bmV3IHhpKHMscyk6IXIucHJldi5wcmV2fHxvKHIsci5wcmV2LnByZXYpP3QuZmluZFdvcmRBdChzKTpuZXcgeGkodGUocy5saW5lLDApLHNlKHQuZG9jLHRlKHMubGluZSsxLDApKSksdC5zZXRTZWxlY3Rpb24oYS5hbmNob3IsYS5oZWFkKSx0LmZvY3VzKCkseHQobil9aSgpfSksZHQoZS5zY3JvbGxlcixcInRvdWNoY2FuY2VsXCIsaSksZHQoZS5zY3JvbGxlcixcInNjcm9sbFwiLGZ1bmN0aW9uKCl7ZS5zY3JvbGxlci5jbGllbnRIZWlnaHQmJihQcih0LGUuc2Nyb2xsZXIuc2Nyb2xsVG9wKSxJcih0LGUuc2Nyb2xsZXIuc2Nyb2xsTGVmdCwhMCksbXQodCxcInNjcm9sbFwiLHQpKX0pLGR0KGUuc2Nyb2xsZXIsXCJtb3VzZXdoZWVsXCIsZnVuY3Rpb24oZSl7cmV0dXJuIHlpKHQsZSl9KSxkdChlLnNjcm9sbGVyLFwiRE9NTW91c2VTY3JvbGxcIixmdW5jdGlvbihlKXtyZXR1cm4geWkodCxlKX0pLGR0KGUud3JhcHBlcixcInNjcm9sbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGUud3JhcHBlci5zY3JvbGxUb3A9ZS53cmFwcGVyLnNjcm9sbExlZnQ9MH0pLGUuZHJhZ0Z1bmN0aW9ucz17ZW50ZXI6ZnVuY3Rpb24oZSl7Z3QodCxlKXx8a3QoZSl9LG92ZXI6ZnVuY3Rpb24oZSl7Z3QodCxlKXx8KGZ1bmN0aW9uKHQsZSl7dmFyIG49c3IodCxlKTtpZihuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Z3IodCxuLHIpLHQuZGlzcGxheS5kcmFnQ3Vyc29yfHwodC5kaXNwbGF5LmRyYWdDdXJzb3I9TShcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWN1cnNvcnMgQ29kZU1pcnJvci1kcmFnY3Vyc29yc1wiKSx0LmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZSh0LmRpc3BsYXkuZHJhZ0N1cnNvcix0LmRpc3BsYXkuY3Vyc29yRGl2KSksTyh0LmRpc3BsYXkuZHJhZ0N1cnNvcixyKX19KHQsZSksa3QoZSkpfSxzdGFydDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihhJiYoIXQuc3RhdGUuZHJhZ2dpbmdUZXh0fHwrbmV3IERhdGUtTW88MTAwKSlrdChlKTtlbHNlIGlmKCFndCh0LGUpJiYhQ24odC5kaXNwbGF5LGUpJiYoZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIlRleHRcIix0LmdldFNlbGVjdGlvbigpKSxlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkPVwiY29weU1vdmVcIixlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UmJiFkKSl7dmFyIG49TShcImltZ1wiLG51bGwsbnVsbCxcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMDsgdG9wOiAwO1wiKTtuLnNyYz1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCIsZiYmKG4ud2lkdGg9bi5oZWlnaHQ9MSx0LmRpc3BsYXkud3JhcHBlci5hcHBlbmRDaGlsZChuKSxuLl90b3A9bi5vZmZzZXRUb3ApLGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShuLDAsMCksZiYmbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfX0odCxlKX0sZHJvcDpYcih0LExvKSxsZWF2ZTpmdW5jdGlvbihlKXtndCh0LGUpfHxBbyh0KX19O3ZhciBsPWUuaW5wdXQuZ2V0RmllbGQoKTtkdChsLFwia2V5dXBcIixmdW5jdGlvbihlKXtyZXR1cm4gbGEuY2FsbCh0LGUpfSksZHQobCxcImtleWRvd25cIixYcih0LHNhKSksZHQobCxcImtleXByZXNzXCIsWHIodCxjYSkpLGR0KGwsXCJmb2N1c1wiLGZ1bmN0aW9uKGUpe3JldHVybiBDcih0LGUpfSksZHQobCxcImJsdXJcIixmdW5jdGlvbihlKXtyZXR1cm4ga3IodCxlKX0pfSh0aGlzKSxGbygpLFZyKHRoaXMpLHRoaXMuY3VyT3AuZm9yY2VVcGRhdGU9ITAsTmkodGhpcyxyKSxlLmF1dG9mb2N1cyYmIXZ8fHRoaXMuaGFzRm9jdXMoKT9zZXRUaW1lb3V0KGooQ3IsdGhpcyksMjApOmtyKHRoaXMpLHdhKXdhLmhhc093blByb3BlcnR5KGMpJiZ3YVtjXShuLGVbY10sYmEpO2NpKHRoaXMpLGUuZmluaXNoSW5pdCYmZS5maW5pc2hJbml0KHRoaXMpO2Zvcih2YXIgdT0wO3U8U2EubGVuZ3RoOysrdSlTYVt1XShuKTtHcih0aGlzKSxsJiZlLmxpbmVXcmFwcGluZyYmXCJvcHRpbWl6ZWxlZ2liaWxpdHlcIj09Z2V0Q29tcHV0ZWRTdHlsZShvLmxpbmVEaXYpLnRleHRSZW5kZXJpbmcmJihvLmxpbmVEaXYuc3R5bGUudGV4dFJlbmRlcmluZz1cImF1dG9cIil9X2EuZGVmYXVsdHM9eGEsX2Eub3B0aW9uSGFuZGxlcnM9d2E7dmFyIFNhPVtdO2Z1bmN0aW9uIEVhKHQsZSxuLHIpe3ZhciBpLG89dC5kb2M7bnVsbD09biYmKG49XCJhZGRcIiksXCJzbWFydFwiPT1uJiYoby5tb2RlLmluZGVudD9pPWhlKHQsZSkuc3RhdGU6bj1cInByZXZcIik7dmFyIGE9dC5vcHRpb25zLnRhYlNpemUscz1LdChvLGUpLGw9eihzLnRleHQsbnVsbCxhKTtzLnN0YXRlQWZ0ZXImJihzLnN0YXRlQWZ0ZXI9bnVsbCk7dmFyIGMsdT1zLnRleHQubWF0Y2goL15cXHMqLylbMF07aWYocnx8L1xcUy8udGVzdChzLnRleHQpKXtpZihcInNtYXJ0XCI9PW4mJigoYz1vLm1vZGUuaW5kZW50KGkscy50ZXh0LnNsaWNlKHUubGVuZ3RoKSxzLnRleHQpKT09V3x8Yz4xNTApKXtpZighcilyZXR1cm47bj1cInByZXZcIn19ZWxzZSBjPTAsbj1cIm5vdFwiO1wicHJldlwiPT1uP2M9ZT5vLmZpcnN0P3ooS3QobyxlLTEpLnRleHQsbnVsbCxhKTowOlwiYWRkXCI9PW4/Yz1sK3Qub3B0aW9ucy5pbmRlbnRVbml0Olwic3VidHJhY3RcIj09bj9jPWwtdC5vcHRpb25zLmluZGVudFVuaXQ6XCJudW1iZXJcIj09dHlwZW9mIG4mJihjPWwrbiksYz1NYXRoLm1heCgwLGMpO3ZhciBmPVwiXCIsZD0wO2lmKHQub3B0aW9ucy5pbmRlbnRXaXRoVGFicylmb3IodmFyIGg9TWF0aC5mbG9vcihjL2EpO2g7LS1oKWQrPWEsZis9XCJcXHRcIjtpZihkPGMmJihmKz1xKGMtZCkpLGYhPXUpcmV0dXJuIGZvKG8sZix0ZShlLDApLHRlKGUsdS5sZW5ndGgpLFwiK2lucHV0XCIpLHMuc3RhdGVBZnRlcj1udWxsLCEwO2Zvcih2YXIgcD0wO3A8by5zZWwucmFuZ2VzLmxlbmd0aDtwKyspe3ZhciBtPW8uc2VsLnJhbmdlc1twXTtpZihtLmhlYWQubGluZT09ZSYmbS5oZWFkLmNoPHUubGVuZ3RoKXt2YXIgZz10ZShlLHUubGVuZ3RoKTskaShvLHAsbmV3IHhpKGcsZykpO2JyZWFrfX19X2EuZGVmaW5lSW5pdEhvb2s9ZnVuY3Rpb24odCl7cmV0dXJuIFNhLnB1c2godCl9O3ZhciBUYT1udWxsO2Z1bmN0aW9uIE9hKHQpe1RhPXR9ZnVuY3Rpb24gTWEodCxlLG4scixpKXt2YXIgbz10LmRvYzt0LmRpc3BsYXkuc2hpZnQ9ITEscnx8KHI9by5zZWwpO3ZhciBhPStuZXcgRGF0ZS0yMDAscz1cInBhc3RlXCI9PWl8fHQuc3RhdGUucGFzdGVJbmNvbWluZz5hLGw9TnQoZSksYz1udWxsO2lmKHMmJnIucmFuZ2VzLmxlbmd0aD4xKWlmKFRhJiZUYS50ZXh0LmpvaW4oXCJcXG5cIik9PWUpe2lmKHIucmFuZ2VzLmxlbmd0aCVUYS50ZXh0Lmxlbmd0aD09MCl7Yz1bXTtmb3IodmFyIHU9MDt1PFRhLnRleHQubGVuZ3RoO3UrKyljLnB1c2goby5zcGxpdExpbmVzKFRhLnRleHRbdV0pKX19ZWxzZSBsLmxlbmd0aD09ci5yYW5nZXMubGVuZ3RoJiZ0Lm9wdGlvbnMucGFzdGVMaW5lc1BlclNlbGVjdGlvbiYmKGM9SihsLGZ1bmN0aW9uKHQpe3JldHVyblt0XX0pKTtmb3IodmFyIGY9dC5jdXJPcC51cGRhdGVJbnB1dCxkPXIucmFuZ2VzLmxlbmd0aC0xO2Q+PTA7ZC0tKXt2YXIgaD1yLnJhbmdlc1tkXSxwPWguZnJvbSgpLG09aC50bygpO2guZW1wdHkoKSYmKG4mJm4+MD9wPXRlKHAubGluZSxwLmNoLW4pOnQuc3RhdGUub3ZlcndyaXRlJiYhcz9tPXRlKG0ubGluZSxNYXRoLm1pbihLdChvLG0ubGluZSkudGV4dC5sZW5ndGgsbS5jaCtZKGwpLmxlbmd0aCkpOnMmJlRhJiZUYS5saW5lV2lzZSYmVGEudGV4dC5qb2luKFwiXFxuXCIpPT1lJiYocD1tPXRlKHAubGluZSwwKSkpO3ZhciBnPXtmcm9tOnAsdG86bSx0ZXh0OmM/Y1tkJWMubGVuZ3RoXTpsLG9yaWdpbjppfHwocz9cInBhc3RlXCI6dC5zdGF0ZS5jdXRJbmNvbWluZz5hP1wiY3V0XCI6XCIraW5wdXRcIil9O2FvKHQuZG9jLGcpLGxuKHQsXCJpbnB1dFJlYWRcIix0LGcpfWUmJiFzJiZBYSh0LGUpLE1yKHQpLHQuY3VyT3AudXBkYXRlSW5wdXQ8MiYmKHQuY3VyT3AudXBkYXRlSW5wdXQ9ZiksdC5jdXJPcC50eXBpbmc9ITAsdC5zdGF0ZS5wYXN0ZUluY29taW5nPXQuc3RhdGUuY3V0SW5jb21pbmc9LTF9ZnVuY3Rpb24gTGEodCxlKXt2YXIgbj10LmNsaXBib2FyZERhdGEmJnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKTtpZihuKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksZS5pc1JlYWRPbmx5KCl8fGUub3B0aW9ucy5kaXNhYmxlSW5wdXR8fEpyKGUsZnVuY3Rpb24oKXtyZXR1cm4gTWEoZSxuLDAsbnVsbCxcInBhc3RlXCIpfSksITB9ZnVuY3Rpb24gQWEodCxlKXtpZih0Lm9wdGlvbnMuZWxlY3RyaWNDaGFycyYmdC5vcHRpb25zLnNtYXJ0SW5kZW50KWZvcih2YXIgbj10LmRvYy5zZWwscj1uLnJhbmdlcy5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIGk9bi5yYW5nZXNbcl07aWYoIShpLmhlYWQuY2g+MTAwfHxyJiZuLnJhbmdlc1tyLTFdLmhlYWQubGluZT09aS5oZWFkLmxpbmUpKXt2YXIgbz10LmdldE1vZGVBdChpLmhlYWQpLGE9ITE7aWYoby5lbGVjdHJpY0NoYXJzKXtmb3IodmFyIHM9MDtzPG8uZWxlY3RyaWNDaGFycy5sZW5ndGg7cysrKWlmKGUuaW5kZXhPZihvLmVsZWN0cmljQ2hhcnMuY2hhckF0KHMpKT4tMSl7YT1FYSh0LGkuaGVhZC5saW5lLFwic21hcnRcIik7YnJlYWt9fWVsc2Ugby5lbGVjdHJpY0lucHV0JiZvLmVsZWN0cmljSW5wdXQudGVzdChLdCh0LmRvYyxpLmhlYWQubGluZSkudGV4dC5zbGljZSgwLGkuaGVhZC5jaCkpJiYoYT1FYSh0LGkuaGVhZC5saW5lLFwic21hcnRcIikpO2EmJmxuKHQsXCJlbGVjdHJpY0lucHV0XCIsdCxpLmhlYWQubGluZSl9fX1mdW5jdGlvbiBOYSh0KXtmb3IodmFyIGU9W10sbj1bXSxyPTA7cjx0LmRvYy5zZWwucmFuZ2VzLmxlbmd0aDtyKyspe3ZhciBpPXQuZG9jLnNlbC5yYW5nZXNbcl0uaGVhZC5saW5lLG89e2FuY2hvcjp0ZShpLDApLGhlYWQ6dGUoaSsxLDApfTtuLnB1c2gobyksZS5wdXNoKHQuZ2V0UmFuZ2Uoby5hbmNob3Isby5oZWFkKSl9cmV0dXJue3RleHQ6ZSxyYW5nZXM6bn19ZnVuY3Rpb24gUGEodCxlLG4scil7dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLG4/XCJcIjpcIm9mZlwiKSx0LnNldEF0dHJpYnV0ZShcImF1dG9jYXBpdGFsaXplXCIscj9cIlwiOlwib2ZmXCIpLHQuc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLCEhZSl9ZnVuY3Rpb24gRmEoKXt2YXIgdD1NKFwidGV4dGFyZWFcIixudWxsLG51bGwsXCJwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogLTFlbTsgcGFkZGluZzogMDsgd2lkdGg6IDFweDsgaGVpZ2h0OiAxZW07IG91dGxpbmU6IG5vbmVcIiksZT1NKFwiZGl2XCIsW3RdLG51bGwsXCJvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAzcHg7IGhlaWdodDogMHB4O1wiKTtyZXR1cm4gbD90LnN0eWxlLndpZHRoPVwiMTAwMHB4XCI6dC5zZXRBdHRyaWJ1dGUoXCJ3cmFwXCIsXCJvZmZcIiksbSYmKHQuc3R5bGUuYm9yZGVyPVwiMXB4IHNvbGlkIGJsYWNrXCIpLFBhKHQpLGV9ZnVuY3Rpb24gSWEodCxlLG4scixpKXt2YXIgbz1lLGE9bixzPUt0KHQsZS5saW5lKTtmdW5jdGlvbiBsKHIpe3ZhciBvLGE7aWYobnVsbD09KG89aT9mdW5jdGlvbih0LGUsbixyKXt2YXIgaT11dChlLHQuZG9jLmRpcmVjdGlvbik7aWYoIWkpcmV0dXJuIEpvKGUsbixyKTtuLmNoPj1lLnRleHQubGVuZ3RoPyhuLmNoPWUudGV4dC5sZW5ndGgsbi5zdGlja3k9XCJiZWZvcmVcIik6bi5jaDw9MCYmKG4uY2g9MCxuLnN0aWNreT1cImFmdGVyXCIpO3ZhciBvPWx0KGksbi5jaCxuLnN0aWNreSksYT1pW29dO2lmKFwibHRyXCI9PXQuZG9jLmRpcmVjdGlvbiYmYS5sZXZlbCUyPT0wJiYocj4wP2EudG8+bi5jaDphLmZyb208bi5jaCkpcmV0dXJuIEpvKGUsbixyKTt2YXIgcyxsPWZ1bmN0aW9uKHQsbil7cmV0dXJuIFlvKGUsdCBpbnN0YW5jZW9mIHRlP3QuY2g6dCxuKX0sYz1mdW5jdGlvbihuKXtyZXR1cm4gdC5vcHRpb25zLmxpbmVXcmFwcGluZz8ocz1zfHxObih0LGUpLFpuKHQsZSxzLG4pKTp7YmVnaW46MCxlbmQ6ZS50ZXh0Lmxlbmd0aH19LHU9YyhcImJlZm9yZVwiPT1uLnN0aWNreT9sKG4sLTEpOm4uY2gpO2lmKFwicnRsXCI9PXQuZG9jLmRpcmVjdGlvbnx8MT09YS5sZXZlbCl7dmFyIGY9MT09YS5sZXZlbD09cjwwLGQ9bChuLGY/MTotMSk7aWYobnVsbCE9ZCYmKGY/ZDw9YS50byYmZDw9dS5lbmQ6ZD49YS5mcm9tJiZkPj11LmJlZ2luKSl7dmFyIGg9Zj9cImJlZm9yZVwiOlwiYWZ0ZXJcIjtyZXR1cm4gbmV3IHRlKG4ubGluZSxkLGgpfX12YXIgcD1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/bmV3IHRlKG4ubGluZSxsKHQsMSksXCJiZWZvcmVcIik6bmV3IHRlKG4ubGluZSx0LFwiYWZ0ZXJcIil9O3Q+PTAmJnQ8aS5sZW5ndGg7dCs9ZSl7dmFyIGE9aVt0XSxzPWU+MD09KDEhPWEubGV2ZWwpLGM9cz9yLmJlZ2luOmwoci5lbmQsLTEpO2lmKGEuZnJvbTw9YyYmYzxhLnRvKXJldHVybiBvKGMscyk7aWYoYz1zP2EuZnJvbTpsKGEudG8sLTEpLHIuYmVnaW48PWMmJmM8ci5lbmQpcmV0dXJuIG8oYyxzKX19LG09cChvK3Iscix1KTtpZihtKXJldHVybiBtO3ZhciBnPXI+MD91LmVuZDpsKHUuYmVnaW4sLTEpO3JldHVybiBudWxsPT1nfHxyPjAmJmc9PWUudGV4dC5sZW5ndGh8fCEobT1wKHI+MD8wOmkubGVuZ3RoLTEscixjKGcpKSk/bnVsbDptfSh0LmNtLHMsZSxuKTpKbyhzLGUsbikpKXtpZihyfHwoKGE9ZS5saW5lK24pPHQuZmlyc3R8fGE+PXQuZmlyc3QrdC5zaXplfHwoZT1uZXcgdGUoYSxlLmNoLGUuc3RpY2t5KSwhKHM9S3QodCxhKSkpKSlyZXR1cm4hMTtlPVhvKGksdC5jbSxzLGUubGluZSxuKX1lbHNlIGU9bztyZXR1cm4hMH1pZihcImNoYXJcIj09cilsKCk7ZWxzZSBpZihcImNvbHVtblwiPT1yKWwoITApO2Vsc2UgaWYoXCJ3b3JkXCI9PXJ8fFwiZ3JvdXBcIj09cilmb3IodmFyIGM9bnVsbCx1PVwiZ3JvdXBcIj09cixmPXQuY20mJnQuY20uZ2V0SGVscGVyKGUsXCJ3b3JkQ2hhcnNcIiksZD0hMDshKG48MCl8fGwoIWQpO2Q9ITEpe3ZhciBoPXMudGV4dC5jaGFyQXQoZS5jaCl8fFwiXFxuXCIscD1ldChoLGYpP1wid1wiOnUmJlwiXFxuXCI9PWg/XCJuXCI6IXV8fC9cXHMvLnRlc3QoaCk/bnVsbDpcInBcIjtpZighdXx8ZHx8cHx8KHA9XCJzXCIpLGMmJmMhPXApe248MCYmKG49MSxsKCksZS5zdGlja3k9XCJhZnRlclwiKTticmVha31pZihwJiYoYz1wKSxuPjAmJiFsKCFkKSlicmVha312YXIgbT1ubyh0LGUsbyxhLCEwKTtyZXR1cm4gbmUobyxtKSYmKG0uaGl0U2lkZT0hMCksbX1mdW5jdGlvbiBqYSh0LGUsbixyKXt2YXIgaSxvLGE9dC5kb2Mscz1lLmxlZnQ7aWYoXCJwYWdlXCI9PXIpe3ZhciBsPU1hdGgubWluKHQuZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpLGM9TWF0aC5tYXgobC0uNSplcih0LmRpc3BsYXkpLDMpO2k9KG4+MD9lLmJvdHRvbTplLnRvcCkrbipjfWVsc2VcImxpbmVcIj09ciYmKGk9bj4wP2UuYm90dG9tKzM6ZS50b3AtMyk7Zm9yKDsobz1Kbih0LHMsaSkpLm91dHNpZGU7KXtpZihuPDA/aTw9MDppPj1hLmhlaWdodCl7by5oaXRTaWRlPSEwO2JyZWFrfWkrPTUqbn1yZXR1cm4gb312YXIgRGE9ZnVuY3Rpb24odCl7dGhpcy5jbT10LHRoaXMubGFzdEFuY2hvck5vZGU9dGhpcy5sYXN0QW5jaG9yT2Zmc2V0PXRoaXMubGFzdEZvY3VzTm9kZT10aGlzLmxhc3RGb2N1c09mZnNldD1udWxsLHRoaXMucG9sbGluZz1uZXcgUix0aGlzLmNvbXBvc2luZz1udWxsLHRoaXMuZ3JhY2VQZXJpb2Q9ITEsdGhpcy5yZWFkRE9NVGltZW91dD1udWxsfTtmdW5jdGlvbiB6YSh0LGUpe3ZhciBuPUFuKHQsZS5saW5lKTtpZighbnx8bi5oaWRkZW4pcmV0dXJuIG51bGw7dmFyIHI9S3QodC5kb2MsZS5saW5lKSxpPU1uKG4scixlLmxpbmUpLG89dXQocix0LmRvYy5kaXJlY3Rpb24pLGE9XCJsZWZ0XCI7aWYobyl7dmFyIHM9bHQobyxlLmNoKTthPXMlMj9cInJpZ2h0XCI6XCJsZWZ0XCJ9dmFyIGw9am4oaS5tYXAsZS5jaCxhKTtyZXR1cm4gbC5vZmZzZXQ9XCJyaWdodFwiPT1sLmNvbGxhcHNlP2wuZW5kOmwuc3RhcnQsbH1mdW5jdGlvbiBSYSh0LGUpe3JldHVybiBlJiYodC5iYWQ9ITApLHR9ZnVuY3Rpb24gQmEodCxlLG4pe3ZhciByO2lmKGU9PXQuZGlzcGxheS5saW5lRGl2KXtpZighKHI9dC5kaXNwbGF5LmxpbmVEaXYuY2hpbGROb2Rlc1tuXSkpcmV0dXJuIFJhKHQuY2xpcFBvcyh0ZSh0LmRpc3BsYXkudmlld1RvLTEpKSwhMCk7ZT1udWxsLG49MH1lbHNlIGZvcihyPWU7O3I9ci5wYXJlbnROb2RlKXtpZighcnx8cj09dC5kaXNwbGF5LmxpbmVEaXYpcmV0dXJuIG51bGw7aWYoci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGU9PXQuZGlzcGxheS5saW5lRGl2KWJyZWFrfWZvcih2YXIgaT0wO2k8dC5kaXNwbGF5LnZpZXcubGVuZ3RoO2krKyl7dmFyIG89dC5kaXNwbGF5LnZpZXdbaV07aWYoby5ub2RlPT1yKXJldHVybiBIYShvLGUsbil9fWZ1bmN0aW9uIEhhKHQsZSxuKXt2YXIgcj10LnRleHQuZmlyc3RDaGlsZCxpPSExO2lmKCFlfHwhQShyLGUpKXJldHVybiBSYSh0ZShKdCh0LmxpbmUpLDApLCEwKTtpZihlPT1yJiYoaT0hMCxlPXIuY2hpbGROb2Rlc1tuXSxuPTAsIWUpKXt2YXIgbz10LnJlc3Q/WSh0LnJlc3QpOnQubGluZTtyZXR1cm4gUmEodGUoSnQobyksby50ZXh0Lmxlbmd0aCksaSl9dmFyIGE9Mz09ZS5ub2RlVHlwZT9lOm51bGwscz1lO2ZvcihhfHwxIT1lLmNoaWxkTm9kZXMubGVuZ3RofHwzIT1lLmZpcnN0Q2hpbGQubm9kZVR5cGV8fChhPWUuZmlyc3RDaGlsZCxuJiYobj1hLm5vZGVWYWx1ZS5sZW5ndGgpKTtzLnBhcmVudE5vZGUhPXI7KXM9cy5wYXJlbnROb2RlO3ZhciBsPXQubWVhc3VyZSxjPWwubWFwcztmdW5jdGlvbiB1KGUsbixyKXtmb3IodmFyIGk9LTE7aTwoYz9jLmxlbmd0aDowKTtpKyspZm9yKHZhciBvPWk8MD9sLm1hcDpjW2ldLGE9MDthPG8ubGVuZ3RoO2ErPTMpe3ZhciBzPW9bYSsyXTtpZihzPT1lfHxzPT1uKXt2YXIgdT1KdChpPDA/dC5saW5lOnQucmVzdFtpXSksZj1vW2FdK3I7cmV0dXJuKHI8MHx8cyE9ZSkmJihmPW9bYSsocj8xOjApXSksdGUodSxmKX19fXZhciBmPXUoYSxzLG4pO2lmKGYpcmV0dXJuIFJhKGYsaSk7Zm9yKHZhciBkPXMubmV4dFNpYmxpbmcsaD1hP2Eubm9kZVZhbHVlLmxlbmd0aC1uOjA7ZDtkPWQubmV4dFNpYmxpbmcpe2lmKGY9dShkLGQuZmlyc3RDaGlsZCwwKSlyZXR1cm4gUmEodGUoZi5saW5lLGYuY2gtaCksaSk7aCs9ZC50ZXh0Q29udGVudC5sZW5ndGh9Zm9yKHZhciBwPXMucHJldmlvdXNTaWJsaW5nLG09bjtwO3A9cC5wcmV2aW91c1NpYmxpbmcpe2lmKGY9dShwLHAuZmlyc3RDaGlsZCwtMSkpcmV0dXJuIFJhKHRlKGYubGluZSxmLmNoK20pLGkpO20rPXAudGV4dENvbnRlbnQubGVuZ3RofX1EYS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcyxyPW4uY20saT1uLmRpdj10LmxpbmVEaXY7ZnVuY3Rpb24gbyh0KXtpZighZ3Qocix0KSl7aWYoci5zb21ldGhpbmdTZWxlY3RlZCgpKU9hKHtsaW5lV2lzZTohMSx0ZXh0OnIuZ2V0U2VsZWN0aW9ucygpfSksXCJjdXRcIj09dC50eXBlJiZyLnJlcGxhY2VTZWxlY3Rpb24oXCJcIixudWxsLFwiY3V0XCIpO2Vsc2V7aWYoIXIub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpcmV0dXJuO3ZhciBlPU5hKHIpO09hKHtsaW5lV2lzZTohMCx0ZXh0OmUudGV4dH0pLFwiY3V0XCI9PXQudHlwZSYmci5vcGVyYXRpb24oZnVuY3Rpb24oKXtyLnNldFNlbGVjdGlvbnMoZS5yYW5nZXMsMCxVKSxyLnJlcGxhY2VTZWxlY3Rpb24oXCJcIixudWxsLFwiY3V0XCIpfSl9aWYodC5jbGlwYm9hcmREYXRhKXt0LmNsaXBib2FyZERhdGEuY2xlYXJEYXRhKCk7dmFyIG89VGEudGV4dC5qb2luKFwiXFxuXCIpO2lmKHQuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwiVGV4dFwiLG8pLHQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKT09bylyZXR1cm4gdm9pZCB0LnByZXZlbnREZWZhdWx0KCl9dmFyIGE9RmEoKSxzPWEuZmlyc3RDaGlsZDtyLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShhLHIuZGlzcGxheS5saW5lU3BhY2UuZmlyc3RDaGlsZCkscy52YWx1ZT1UYS50ZXh0LmpvaW4oXCJcXG5cIik7dmFyIGw9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtJKHMpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKGEpLGwuZm9jdXMoKSxsPT1pJiZuLnNob3dQcmltYXJ5U2VsZWN0aW9uKCl9LDUwKX19UGEoaSxyLm9wdGlvbnMuc3BlbGxjaGVjayxyLm9wdGlvbnMuYXV0b2NvcnJlY3Qsci5vcHRpb25zLmF1dG9jYXBpdGFsaXplKSxkdChpLFwicGFzdGVcIixmdW5jdGlvbih0KXtndChyLHQpfHxMYSh0LHIpfHxzPD0xMSYmc2V0VGltZW91dChYcihyLGZ1bmN0aW9uKCl7cmV0dXJuIGUudXBkYXRlRnJvbURPTSgpfSksMjApfSksZHQoaSxcImNvbXBvc2l0aW9uc3RhcnRcIixmdW5jdGlvbih0KXtlLmNvbXBvc2luZz17ZGF0YTp0LmRhdGEsZG9uZTohMX19KSxkdChpLFwiY29tcG9zaXRpb251cGRhdGVcIixmdW5jdGlvbih0KXtlLmNvbXBvc2luZ3x8KGUuY29tcG9zaW5nPXtkYXRhOnQuZGF0YSxkb25lOiExfSl9KSxkdChpLFwiY29tcG9zaXRpb25lbmRcIixmdW5jdGlvbih0KXtlLmNvbXBvc2luZyYmKHQuZGF0YSE9ZS5jb21wb3NpbmcuZGF0YSYmZS5yZWFkRnJvbURPTVNvb24oKSxlLmNvbXBvc2luZy5kb25lPSEwKX0pLGR0KGksXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24oKXtyZXR1cm4gbi5mb3JjZUNvbXBvc2l0aW9uRW5kKCl9KSxkdChpLFwiaW5wdXRcIixmdW5jdGlvbigpe2UuY29tcG9zaW5nfHxlLnJlYWRGcm9tRE9NU29vbigpfSksZHQoaSxcImNvcHlcIixvKSxkdChpLFwiY3V0XCIsbyl9LERhLnByb3RvdHlwZS5wcmVwYXJlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9bXIodGhpcy5jbSwhMSk7cmV0dXJuIHQuZm9jdXM9dGhpcy5jbS5zdGF0ZS5mb2N1c2VkLHR9LERhLnByb3RvdHlwZS5zaG93U2VsZWN0aW9uPWZ1bmN0aW9uKHQsZSl7dCYmdGhpcy5jbS5kaXNwbGF5LnZpZXcubGVuZ3RoJiYoKHQuZm9jdXN8fGUpJiZ0aGlzLnNob3dQcmltYXJ5U2VsZWN0aW9uKCksdGhpcy5zaG93TXVsdGlwbGVTZWxlY3Rpb25zKHQpKX0sRGEucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNtLmRpc3BsYXkud3JhcHBlci5vd25lckRvY3VtZW50LmdldFNlbGVjdGlvbigpfSxEYS5wcm90b3R5cGUuc2hvd1ByaW1hcnlTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNlbGVjdGlvbigpLGU9dGhpcy5jbSxyPWUuZG9jLnNlbC5wcmltYXJ5KCksaT1yLmZyb20oKSxvPXIudG8oKTtpZihlLmRpc3BsYXkudmlld1RvPT1lLmRpc3BsYXkudmlld0Zyb218fGkubGluZT49ZS5kaXNwbGF5LnZpZXdUb3x8by5saW5lPGUuZGlzcGxheS52aWV3RnJvbSl0LnJlbW92ZUFsbFJhbmdlcygpO2Vsc2V7dmFyIGE9QmEoZSx0LmFuY2hvck5vZGUsdC5hbmNob3JPZmZzZXQpLHM9QmEoZSx0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0KTtpZighYXx8YS5iYWR8fCFzfHxzLmJhZHx8MCE9ZWUob2UoYSxzKSxpKXx8MCE9ZWUoaWUoYSxzKSxvKSl7dmFyIGw9ZS5kaXNwbGF5LnZpZXcsYz1pLmxpbmU+PWUuZGlzcGxheS52aWV3RnJvbSYmemEoZSxpKXx8e25vZGU6bFswXS5tZWFzdXJlLm1hcFsyXSxvZmZzZXQ6MH0sdT1vLmxpbmU8ZS5kaXNwbGF5LnZpZXdUbyYmemEoZSxvKTtpZighdSl7dmFyIGY9bFtsLmxlbmd0aC0xXS5tZWFzdXJlLGQ9Zi5tYXBzP2YubWFwc1tmLm1hcHMubGVuZ3RoLTFdOmYubWFwO3U9e25vZGU6ZFtkLmxlbmd0aC0xXSxvZmZzZXQ6ZFtkLmxlbmd0aC0yXS1kW2QubGVuZ3RoLTNdfX1pZihjJiZ1KXt2YXIgaCxwPXQucmFuZ2VDb3VudCYmdC5nZXRSYW5nZUF0KDApO3RyeXtoPVMoYy5ub2RlLGMub2Zmc2V0LHUub2Zmc2V0LHUubm9kZSl9Y2F0Y2godCl7fWgmJighbiYmZS5zdGF0ZS5mb2N1c2VkPyh0LmNvbGxhcHNlKGMubm9kZSxjLm9mZnNldCksaC5jb2xsYXBzZWR8fCh0LnJlbW92ZUFsbFJhbmdlcygpLHQuYWRkUmFuZ2UoaCkpKToodC5yZW1vdmVBbGxSYW5nZXMoKSx0LmFkZFJhbmdlKGgpKSxwJiZudWxsPT10LmFuY2hvck5vZGU/dC5hZGRSYW5nZShwKTpuJiZ0aGlzLnN0YXJ0R3JhY2VQZXJpb2QoKSksdGhpcy5yZW1lbWJlclNlbGVjdGlvbigpfWVsc2UgdC5yZW1vdmVBbGxSYW5nZXMoKX19fSxEYS5wcm90b3R5cGUuc3RhcnRHcmFjZVBlcmlvZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMuZ3JhY2VQZXJpb2QpLHRoaXMuZ3JhY2VQZXJpb2Q9c2V0VGltZW91dChmdW5jdGlvbigpe3QuZ3JhY2VQZXJpb2Q9ITEsdC5zZWxlY3Rpb25DaGFuZ2VkKCkmJnQuY20ub3BlcmF0aW9uKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMH0pfSwyMCl9LERhLnByb3RvdHlwZS5zaG93TXVsdGlwbGVTZWxlY3Rpb25zPWZ1bmN0aW9uKHQpe08odGhpcy5jbS5kaXNwbGF5LmN1cnNvckRpdix0LmN1cnNvcnMpLE8odGhpcy5jbS5kaXNwbGF5LnNlbGVjdGlvbkRpdix0LnNlbGVjdGlvbil9LERhLnByb3RvdHlwZS5yZW1lbWJlclNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uKCk7dGhpcy5sYXN0QW5jaG9yTm9kZT10LmFuY2hvck5vZGUsdGhpcy5sYXN0QW5jaG9yT2Zmc2V0PXQuYW5jaG9yT2Zmc2V0LHRoaXMubGFzdEZvY3VzTm9kZT10LmZvY3VzTm9kZSx0aGlzLmxhc3RGb2N1c09mZnNldD10LmZvY3VzT2Zmc2V0fSxEYS5wcm90b3R5cGUuc2VsZWN0aW9uSW5FZGl0b3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNlbGVjdGlvbigpO2lmKCF0LnJhbmdlQ291bnQpcmV0dXJuITE7dmFyIGU9dC5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO3JldHVybiBBKHRoaXMuZGl2LGUpfSxEYS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtcIm5vY3Vyc29yXCIhPXRoaXMuY20ub3B0aW9ucy5yZWFkT25seSYmKHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKXx8dGhpcy5zaG93U2VsZWN0aW9uKHRoaXMucHJlcGFyZVNlbGVjdGlvbigpLCEwKSx0aGlzLmRpdi5mb2N1cygpKX0sRGEucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXt0aGlzLmRpdi5ibHVyKCl9LERhLnByb3RvdHlwZS5nZXRGaWVsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdn0sRGEucHJvdG90eXBlLnN1cHBvcnRzVG91Y2g9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sRGEucHJvdG90eXBlLnJlY2VpdmVkRm9jdXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKT90aGlzLnBvbGxTZWxlY3Rpb24oKTpKcih0aGlzLmNtLGZ1bmN0aW9uKCl7cmV0dXJuIHQuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMH0pLHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCxmdW5jdGlvbiBlKCl7dC5jbS5zdGF0ZS5mb2N1c2VkJiYodC5wb2xsU2VsZWN0aW9uKCksdC5wb2xsaW5nLnNldCh0LmNtLm9wdGlvbnMucG9sbEludGVydmFsLGUpKX0pfSxEYS5wcm90b3R5cGUuc2VsZWN0aW9uQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uKCk7cmV0dXJuIHQuYW5jaG9yTm9kZSE9dGhpcy5sYXN0QW5jaG9yTm9kZXx8dC5hbmNob3JPZmZzZXQhPXRoaXMubGFzdEFuY2hvck9mZnNldHx8dC5mb2N1c05vZGUhPXRoaXMubGFzdEZvY3VzTm9kZXx8dC5mb2N1c09mZnNldCE9dGhpcy5sYXN0Rm9jdXNPZmZzZXR9LERhLnByb3RvdHlwZS5wb2xsU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5yZWFkRE9NVGltZW91dCYmIXRoaXMuZ3JhY2VQZXJpb2QmJnRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpKXt2YXIgdD10aGlzLmdldFNlbGVjdGlvbigpLGU9dGhpcy5jbTtpZihnJiZ1JiZ0aGlzLmNtLmRpc3BsYXkuZ3V0dGVyU3BlY3MubGVuZ3RoJiZmdW5jdGlvbih0KXtmb3IodmFyIGU9dDtlO2U9ZS5wYXJlbnROb2RlKWlmKC9Db2RlTWlycm9yLWd1dHRlci13cmFwcGVyLy50ZXN0KGUuY2xhc3NOYW1lKSlyZXR1cm4hMDtyZXR1cm4hMX0odC5hbmNob3JOb2RlKSlyZXR1cm4gdGhpcy5jbS50cmlnZ2VyT25LZXlEb3duKHt0eXBlOlwia2V5ZG93blwiLGtleUNvZGU6OCxwcmV2ZW50RGVmYXVsdDpNYXRoLmFic30pLHRoaXMuYmx1cigpLHZvaWQgdGhpcy5mb2N1cygpO2lmKCF0aGlzLmNvbXBvc2luZyl7dGhpcy5yZW1lbWJlclNlbGVjdGlvbigpO3ZhciBuPUJhKGUsdC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSxyPUJhKGUsdC5mb2N1c05vZGUsdC5mb2N1c09mZnNldCk7biYmciYmSnIoZSxmdW5jdGlvbigpe0ppKGUuZG9jLENpKG4sciksVSksKG4uYmFkfHxyLmJhZCkmJihlLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQ9ITApfSl9fX0sRGEucHJvdG90eXBlLnBvbGxDb250ZW50PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5yZWFkRE9NVGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLnJlYWRET01UaW1lb3V0KSx0aGlzLnJlYWRET01UaW1lb3V0PW51bGwpO3ZhciB0LGUsbixyPXRoaXMuY20saT1yLmRpc3BsYXksbz1yLmRvYy5zZWwucHJpbWFyeSgpLGE9by5mcm9tKCkscz1vLnRvKCk7aWYoMD09YS5jaCYmYS5saW5lPnIuZmlyc3RMaW5lKCkmJihhPXRlKGEubGluZS0xLEt0KHIuZG9jLGEubGluZS0xKS5sZW5ndGgpKSxzLmNoPT1LdChyLmRvYyxzLmxpbmUpLnRleHQubGVuZ3RoJiZzLmxpbmU8ci5sYXN0TGluZSgpJiYocz10ZShzLmxpbmUrMSwwKSksYS5saW5lPGkudmlld0Zyb218fHMubGluZT5pLnZpZXdUby0xKXJldHVybiExO2EubGluZT09aS52aWV3RnJvbXx8MD09KHQ9bHIocixhLmxpbmUpKT8oZT1KdChpLnZpZXdbMF0ubGluZSksbj1pLnZpZXdbMF0ubm9kZSk6KGU9SnQoaS52aWV3W3RdLmxpbmUpLG49aS52aWV3W3QtMV0ubm9kZS5uZXh0U2libGluZyk7dmFyIGwsYyx1PWxyKHIscy5saW5lKTtpZih1PT1pLnZpZXcubGVuZ3RoLTE/KGw9aS52aWV3VG8tMSxjPWkubGluZURpdi5sYXN0Q2hpbGQpOihsPUp0KGkudmlld1t1KzFdLmxpbmUpLTEsYz1pLnZpZXdbdSsxXS5ub2RlLnByZXZpb3VzU2libGluZyksIW4pcmV0dXJuITE7Zm9yKHZhciBmPXIuZG9jLnNwbGl0TGluZXMoZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz1cIlwiLGE9ITEscz10LmRvYy5saW5lU2VwYXJhdG9yKCksbD0hMTtmdW5jdGlvbiBjKCl7YSYmKG8rPXMsbCYmKG8rPXMpLGE9bD0hMSl9ZnVuY3Rpb24gdSh0KXt0JiYoYygpLG8rPXQpfWZ1bmN0aW9uIGYoZSl7aWYoMT09ZS5ub2RlVHlwZSl7dmFyIG49ZS5nZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIpO2lmKG4pcmV0dXJuIHZvaWQgdShuKTt2YXIgbyxkPWUuZ2V0QXR0cmlidXRlKFwiY20tbWFya2VyXCIpO2lmKGQpe3ZhciBoPXQuZmluZE1hcmtzKHRlKHIsMCksdGUoaSsxLDApLChnPStkLGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT1nfSkpO3JldHVybiB2b2lkKGgubGVuZ3RoJiYobz1oWzBdLmZpbmQoMCkpJiZ1KCR0KHQuZG9jLG8uZnJvbSxvLnRvKS5qb2luKHMpKSl9aWYoXCJmYWxzZVwiPT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm47dmFyIHA9L14ocHJlfGRpdnxwfGxpfHRhYmxlfGJyKSQvaS50ZXN0KGUubm9kZU5hbWUpO2lmKCEvXmJyJC9pLnRlc3QoZS5ub2RlTmFtZSkmJjA9PWUudGV4dENvbnRlbnQubGVuZ3RoKXJldHVybjtwJiZjKCk7Zm9yKHZhciBtPTA7bTxlLmNoaWxkTm9kZXMubGVuZ3RoO20rKylmKGUuY2hpbGROb2Rlc1ttXSk7L14ocHJlfHApJC9pLnRlc3QoZS5ub2RlTmFtZSkmJihsPSEwKSxwJiYoYT0hMCl9ZWxzZSAzPT1lLm5vZGVUeXBlJiZ1KGUubm9kZVZhbHVlLnJlcGxhY2UoL1xcdTIwMGIvZyxcIlwiKS5yZXBsYWNlKC9cXHUwMGEwL2csXCIgXCIpKTt2YXIgZ31mb3IoO2YoZSksZSE9bjspZT1lLm5leHRTaWJsaW5nLGw9ITE7cmV0dXJuIG99KHIsbixjLGUsbCkpLGQ9JHQoci5kb2MsdGUoZSwwKSx0ZShsLEt0KHIuZG9jLGwpLnRleHQubGVuZ3RoKSk7Zi5sZW5ndGg+MSYmZC5sZW5ndGg+MTspaWYoWShmKT09WShkKSlmLnBvcCgpLGQucG9wKCksbC0tO2Vsc2V7aWYoZlswXSE9ZFswXSlicmVhaztmLnNoaWZ0KCksZC5zaGlmdCgpLGUrK31mb3IodmFyIGg9MCxwPTAsbT1mWzBdLGc9ZFswXSx2PU1hdGgubWluKG0ubGVuZ3RoLGcubGVuZ3RoKTtoPHYmJm0uY2hhckNvZGVBdChoKT09Zy5jaGFyQ29kZUF0KGgpOykrK2g7Zm9yKHZhciB5PVkoZiksYj1ZKGQpLHg9TWF0aC5taW4oeS5sZW5ndGgtKDE9PWYubGVuZ3RoP2g6MCksYi5sZW5ndGgtKDE9PWQubGVuZ3RoP2g6MCkpO3A8eCYmeS5jaGFyQ29kZUF0KHkubGVuZ3RoLXAtMSk9PWIuY2hhckNvZGVBdChiLmxlbmd0aC1wLTEpOykrK3A7aWYoMT09Zi5sZW5ndGgmJjE9PWQubGVuZ3RoJiZlPT1hLmxpbmUpZm9yKDtoJiZoPmEuY2gmJnkuY2hhckNvZGVBdCh5Lmxlbmd0aC1wLTEpPT1iLmNoYXJDb2RlQXQoYi5sZW5ndGgtcC0xKTspaC0tLHArKztmW2YubGVuZ3RoLTFdPXkuc2xpY2UoMCx5Lmxlbmd0aC1wKS5yZXBsYWNlKC9eXFx1MjAwYisvLFwiXCIpLGZbMF09ZlswXS5zbGljZShoKS5yZXBsYWNlKC9cXHUyMDBiKyQvLFwiXCIpO3ZhciB3PXRlKGUsaCksQz10ZShsLGQubGVuZ3RoP1koZCkubGVuZ3RoLXA6MCk7cmV0dXJuIGYubGVuZ3RoPjF8fGZbMF18fGVlKHcsQyk/KGZvKHIuZG9jLGYsdyxDLFwiK2lucHV0XCIpLCEwKTp2b2lkIDB9LERhLnByb3RvdHlwZS5lbnN1cmVQb2xsZWQ9ZnVuY3Rpb24oKXt0aGlzLmZvcmNlQ29tcG9zaXRpb25FbmQoKX0sRGEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5mb3JjZUNvbXBvc2l0aW9uRW5kKCl9LERhLnByb3RvdHlwZS5mb3JjZUNvbXBvc2l0aW9uRW5kPWZ1bmN0aW9uKCl7dGhpcy5jb21wb3NpbmcmJihjbGVhclRpbWVvdXQodGhpcy5yZWFkRE9NVGltZW91dCksdGhpcy5jb21wb3Npbmc9bnVsbCx0aGlzLnVwZGF0ZUZyb21ET00oKSx0aGlzLmRpdi5ibHVyKCksdGhpcy5kaXYuZm9jdXMoKSl9LERhLnByb3RvdHlwZS5yZWFkRnJvbURPTVNvb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO251bGw9PXRoaXMucmVhZERPTVRpbWVvdXQmJih0aGlzLnJlYWRET01UaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZih0LnJlYWRET01UaW1lb3V0PW51bGwsdC5jb21wb3Npbmcpe2lmKCF0LmNvbXBvc2luZy5kb25lKXJldHVybjt0LmNvbXBvc2luZz1udWxsfXQudXBkYXRlRnJvbURPTSgpfSw4MCkpfSxEYS5wcm90b3R5cGUudXBkYXRlRnJvbURPTT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7IXRoaXMuY20uaXNSZWFkT25seSgpJiZ0aGlzLnBvbGxDb250ZW50KCl8fEpyKHRoaXMuY20sZnVuY3Rpb24oKXtyZXR1cm4gY3IodC5jbSl9KX0sRGEucHJvdG90eXBlLnNldFVuZWRpdGFibGU9ZnVuY3Rpb24odCl7dC5jb250ZW50RWRpdGFibGU9XCJmYWxzZVwifSxEYS5wcm90b3R5cGUub25LZXlQcmVzcz1mdW5jdGlvbih0KXswPT10LmNoYXJDb2RlfHx0aGlzLmNvbXBvc2luZ3x8KHQucHJldmVudERlZmF1bHQoKSx0aGlzLmNtLmlzUmVhZE9ubHkoKXx8WHIodGhpcy5jbSxNYSkodGhpcy5jbSxTdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXQuY2hhckNvZGU/dC5rZXlDb2RlOnQuY2hhckNvZGUpLDApKX0sRGEucHJvdG90eXBlLnJlYWRPbmx5Q2hhbmdlZD1mdW5jdGlvbih0KXt0aGlzLmRpdi5jb250ZW50RWRpdGFibGU9U3RyaW5nKFwibm9jdXJzb3JcIiE9dCl9LERhLnByb3RvdHlwZS5vbkNvbnRleHRNZW51PWZ1bmN0aW9uKCl7fSxEYS5wcm90b3R5cGUucmVzZXRQb3NpdGlvbj1mdW5jdGlvbigpe30sRGEucHJvdG90eXBlLm5lZWRzQ29udGVudEF0dHJpYnV0ZT0hMDt2YXIgV2E9ZnVuY3Rpb24odCl7dGhpcy5jbT10LHRoaXMucHJldklucHV0PVwiXCIsdGhpcy5wb2xsaW5nRmFzdD0hMSx0aGlzLnBvbGxpbmc9bmV3IFIsdGhpcy5oYXNTZWxlY3Rpb249ITEsdGhpcy5jb21wb3Npbmc9bnVsbH07V2EucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMscj10aGlzLmNtO3RoaXMuY3JlYXRlRmllbGQodCk7dmFyIGk9dGhpcy50ZXh0YXJlYTtmdW5jdGlvbiBvKHQpe2lmKCFndChyLHQpKXtpZihyLnNvbWV0aGluZ1NlbGVjdGVkKCkpT2Eoe2xpbmVXaXNlOiExLHRleHQ6ci5nZXRTZWxlY3Rpb25zKCl9KTtlbHNle2lmKCFyLm9wdGlvbnMubGluZVdpc2VDb3B5Q3V0KXJldHVybjt2YXIgZT1OYShyKTtPYSh7bGluZVdpc2U6ITAsdGV4dDplLnRleHR9KSxcImN1dFwiPT10LnR5cGU/ci5zZXRTZWxlY3Rpb25zKGUucmFuZ2VzLG51bGwsVSk6KG4ucHJldklucHV0PVwiXCIsaS52YWx1ZT1lLnRleHQuam9pbihcIlxcblwiKSxJKGkpKX1cImN1dFwiPT10LnR5cGUmJihyLnN0YXRlLmN1dEluY29taW5nPStuZXcgRGF0ZSl9fXQud3JhcHBlci5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyLHQud3JhcHBlci5maXJzdENoaWxkKSxtJiYoaS5zdHlsZS53aWR0aD1cIjBweFwiKSxkdChpLFwiaW5wdXRcIixmdW5jdGlvbigpe2EmJnM+PTkmJmUuaGFzU2VsZWN0aW9uJiYoZS5oYXNTZWxlY3Rpb249bnVsbCksbi5wb2xsKCl9KSxkdChpLFwicGFzdGVcIixmdW5jdGlvbih0KXtndChyLHQpfHxMYSh0LHIpfHwoci5zdGF0ZS5wYXN0ZUluY29taW5nPStuZXcgRGF0ZSxuLmZhc3RQb2xsKCkpfSksZHQoaSxcImN1dFwiLG8pLGR0KGksXCJjb3B5XCIsbyksZHQodC5zY3JvbGxlcixcInBhc3RlXCIsZnVuY3Rpb24oZSl7aWYoIUNuKHQsZSkmJiFndChyLGUpKXtpZighaS5kaXNwYXRjaEV2ZW50KXJldHVybiByLnN0YXRlLnBhc3RlSW5jb21pbmc9K25ldyBEYXRlLHZvaWQgbi5mb2N1cygpO3ZhciBvPW5ldyBFdmVudChcInBhc3RlXCIpO28uY2xpcGJvYXJkRGF0YT1lLmNsaXBib2FyZERhdGEsaS5kaXNwYXRjaEV2ZW50KG8pfX0pLGR0KHQubGluZVNwYWNlLFwic2VsZWN0c3RhcnRcIixmdW5jdGlvbihlKXtDbih0LGUpfHx4dChlKX0pLGR0KGksXCJjb21wb3NpdGlvbnN0YXJ0XCIsZnVuY3Rpb24oKXt2YXIgdD1yLmdldEN1cnNvcihcImZyb21cIik7bi5jb21wb3NpbmcmJm4uY29tcG9zaW5nLnJhbmdlLmNsZWFyKCksbi5jb21wb3Npbmc9e3N0YXJ0OnQscmFuZ2U6ci5tYXJrVGV4dCh0LHIuZ2V0Q3Vyc29yKFwidG9cIikse2NsYXNzTmFtZTpcIkNvZGVNaXJyb3ItY29tcG9zaW5nXCJ9KX19KSxkdChpLFwiY29tcG9zaXRpb25lbmRcIixmdW5jdGlvbigpe24uY29tcG9zaW5nJiYobi5wb2xsKCksbi5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKSxuLmNvbXBvc2luZz1udWxsKX0pfSxXYS5wcm90b3R5cGUuY3JlYXRlRmllbGQ9ZnVuY3Rpb24odCl7dGhpcy53cmFwcGVyPUZhKCksdGhpcy50ZXh0YXJlYT10aGlzLndyYXBwZXIuZmlyc3RDaGlsZH0sV2EucHJvdG90eXBlLnByZXBhcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNtLGU9dC5kaXNwbGF5LG49dC5kb2Mscj1tcih0KTtpZih0Lm9wdGlvbnMubW92ZUlucHV0V2l0aEN1cnNvcil7dmFyIGk9JG4odCxuLnNlbC5wcmltYXJ5KCkuaGVhZCxcImRpdlwiKSxvPWUud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPWUubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyLnRlVG9wPU1hdGgubWF4KDAsTWF0aC5taW4oZS53cmFwcGVyLmNsaWVudEhlaWdodC0xMCxpLnRvcCthLnRvcC1vLnRvcCkpLHIudGVMZWZ0PU1hdGgubWF4KDAsTWF0aC5taW4oZS53cmFwcGVyLmNsaWVudFdpZHRoLTEwLGkubGVmdCthLmxlZnQtby5sZWZ0KSl9cmV0dXJuIHJ9LFdhLnByb3RvdHlwZS5zaG93U2VsZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY20sbj1lLmRpc3BsYXk7TyhuLmN1cnNvckRpdix0LmN1cnNvcnMpLE8obi5zZWxlY3Rpb25EaXYsdC5zZWxlY3Rpb24pLG51bGwhPXQudGVUb3AmJih0aGlzLndyYXBwZXIuc3R5bGUudG9wPXQudGVUb3ArXCJweFwiLHRoaXMud3JhcHBlci5zdHlsZS5sZWZ0PXQudGVMZWZ0K1wicHhcIil9LFdhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXtpZighdGhpcy5jb250ZXh0TWVudVBlbmRpbmcmJiF0aGlzLmNvbXBvc2luZyl7dmFyIGU9dGhpcy5jbTtpZihlLnNvbWV0aGluZ1NlbGVjdGVkKCkpe3RoaXMucHJldklucHV0PVwiXCI7dmFyIG49ZS5nZXRTZWxlY3Rpb24oKTt0aGlzLnRleHRhcmVhLnZhbHVlPW4sZS5zdGF0ZS5mb2N1c2VkJiZJKHRoaXMudGV4dGFyZWEpLGEmJnM+PTkmJih0aGlzLmhhc1NlbGVjdGlvbj1uKX1lbHNlIHR8fCh0aGlzLnByZXZJbnB1dD10aGlzLnRleHRhcmVhLnZhbHVlPVwiXCIsYSYmcz49OSYmKHRoaXMuaGFzU2VsZWN0aW9uPW51bGwpKX19LFdhLnByb3RvdHlwZS5nZXRGaWVsZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRhcmVhfSxXYS5wcm90b3R5cGUuc3VwcG9ydHNUb3VjaD1mdW5jdGlvbigpe3JldHVybiExfSxXYS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtpZihcIm5vY3Vyc29yXCIhPXRoaXMuY20ub3B0aW9ucy5yZWFkT25seSYmKCF2fHxOKCkhPXRoaXMudGV4dGFyZWEpKXRyeXt0aGlzLnRleHRhcmVhLmZvY3VzKCl9Y2F0Y2godCl7fX0sV2EucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXt0aGlzLnRleHRhcmVhLmJsdXIoKX0sV2EucHJvdG90eXBlLnJlc2V0UG9zaXRpb249ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIuc3R5bGUudG9wPXRoaXMud3JhcHBlci5zdHlsZS5sZWZ0PTB9LFdhLnByb3RvdHlwZS5yZWNlaXZlZEZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5zbG93UG9sbCgpfSxXYS5wcm90b3R5cGUuc2xvd1BvbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucG9sbGluZ0Zhc3R8fHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCxmdW5jdGlvbigpe3QucG9sbCgpLHQuY20uc3RhdGUuZm9jdXNlZCYmdC5zbG93UG9sbCgpfSl9LFdhLnByb3RvdHlwZS5mYXN0UG9sbD1mdW5jdGlvbigpe3ZhciB0PSExLGU9dGhpcztlLnBvbGxpbmdGYXN0PSEwLGUucG9sbGluZy5zZXQoMjAsZnVuY3Rpb24gbigpe3ZhciByPWUucG9sbCgpO3J8fHQ/KGUucG9sbGluZ0Zhc3Q9ITEsZS5zbG93UG9sbCgpKToodD0hMCxlLnBvbGxpbmcuc2V0KDYwLG4pKX0pfSxXYS5wcm90b3R5cGUucG9sbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmNtLG49dGhpcy50ZXh0YXJlYSxyPXRoaXMucHJldklucHV0O2lmKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nfHwhZS5zdGF0ZS5mb2N1c2VkfHxQdChuKSYmIXImJiF0aGlzLmNvbXBvc2luZ3x8ZS5pc1JlYWRPbmx5KCl8fGUub3B0aW9ucy5kaXNhYmxlSW5wdXR8fGUuc3RhdGUua2V5U2VxKXJldHVybiExO3ZhciBpPW4udmFsdWU7aWYoaT09ciYmIWUuc29tZXRoaW5nU2VsZWN0ZWQoKSlyZXR1cm4hMTtpZihhJiZzPj05JiZ0aGlzLmhhc1NlbGVjdGlvbj09PWl8fHkmJi9bXFx1ZjcwMC1cXHVmN2ZmXS8udGVzdChpKSlyZXR1cm4gZS5kaXNwbGF5LmlucHV0LnJlc2V0KCksITE7aWYoZS5kb2Muc2VsPT1lLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUpe3ZhciBvPWkuY2hhckNvZGVBdCgwKTtpZig4MjAzIT1vfHxyfHwocj1cIuKAi1wiKSw4NjY2PT1vKXJldHVybiB0aGlzLnJlc2V0KCksdGhpcy5jbS5leGVjQ29tbWFuZChcInVuZG9cIil9Zm9yKHZhciBsPTAsYz1NYXRoLm1pbihyLmxlbmd0aCxpLmxlbmd0aCk7bDxjJiZyLmNoYXJDb2RlQXQobCk9PWkuY2hhckNvZGVBdChsKTspKytsO3JldHVybiBKcihlLGZ1bmN0aW9uKCl7TWEoZSxpLnNsaWNlKGwpLHIubGVuZ3RoLWwsbnVsbCx0LmNvbXBvc2luZz9cIipjb21wb3NlXCI6bnVsbCksaS5sZW5ndGg+MWUzfHxpLmluZGV4T2YoXCJcXG5cIik+LTE/bi52YWx1ZT10LnByZXZJbnB1dD1cIlwiOnQucHJldklucHV0PWksdC5jb21wb3NpbmcmJih0LmNvbXBvc2luZy5yYW5nZS5jbGVhcigpLHQuY29tcG9zaW5nLnJhbmdlPWUubWFya1RleHQodC5jb21wb3Npbmcuc3RhcnQsZS5nZXRDdXJzb3IoXCJ0b1wiKSx7Y2xhc3NOYW1lOlwiQ29kZU1pcnJvci1jb21wb3NpbmdcIn0pKX0pLCEwfSxXYS5wcm90b3R5cGUuZW5zdXJlUG9sbGVkPWZ1bmN0aW9uKCl7dGhpcy5wb2xsaW5nRmFzdCYmdGhpcy5wb2xsKCkmJih0aGlzLnBvbGxpbmdGYXN0PSExKX0sV2EucHJvdG90eXBlLm9uS2V5UHJlc3M9ZnVuY3Rpb24oKXthJiZzPj05JiYodGhpcy5oYXNTZWxlY3Rpb249bnVsbCksdGhpcy5mYXN0UG9sbCgpfSxXYS5wcm90b3R5cGUub25Db250ZXh0TWVudT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49ZS5jbSxyPW4uZGlzcGxheSxpPWUudGV4dGFyZWE7ZS5jb250ZXh0TWVudVBlbmRpbmcmJmUuY29udGV4dE1lbnVQZW5kaW5nKCk7dmFyIG89c3Iobix0KSxjPXIuc2Nyb2xsZXIuc2Nyb2xsVG9wO2lmKG8mJiFmKXt2YXIgdT1uLm9wdGlvbnMucmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51O3UmJi0xPT1uLmRvYy5zZWwuY29udGFpbnMobykmJlhyKG4sSmkpKG4uZG9jLENpKG8pLFUpO3ZhciBkLGg9aS5zdHlsZS5jc3NUZXh0LHA9ZS53cmFwcGVyLnN0eWxlLmNzc1RleHQsbT1lLndyYXBwZXIub2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGUud3JhcHBlci5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246IHN0YXRpY1wiLGkuc3R5bGUuY3NzVGV4dD1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDMwcHg7IGhlaWdodDogMzBweDtcXG4gICAgICB0b3A6IFwiKyh0LmNsaWVudFktbS50b3AtNSkrXCJweDsgbGVmdDogXCIrKHQuY2xpZW50WC1tLmxlZnQtNSkrXCJweDtcXG4gICAgICB6LWluZGV4OiAxMDAwOyBiYWNrZ3JvdW5kOiBcIisoYT9cInJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KVwiOlwidHJhbnNwYXJlbnRcIikrXCI7XFxuICAgICAgb3V0bGluZTogbm9uZTsgYm9yZGVyLXdpZHRoOiAwOyBvdXRsaW5lOiBub25lOyBvdmVyZmxvdzogaGlkZGVuOyBvcGFjaXR5OiAuMDU7IGZpbHRlcjogYWxwaGEob3BhY2l0eT01KTtcIixsJiYoZD13aW5kb3cuc2Nyb2xsWSksci5pbnB1dC5mb2N1cygpLGwmJndpbmRvdy5zY3JvbGxUbyhudWxsLGQpLHIuaW5wdXQucmVzZXQoKSxuLnNvbWV0aGluZ1NlbGVjdGVkKCl8fChpLnZhbHVlPWUucHJldklucHV0PVwiIFwiKSxlLmNvbnRleHRNZW51UGVuZGluZz15LHIuc2VsRm9yQ29udGV4dE1lbnU9bi5kb2Muc2VsLGNsZWFyVGltZW91dChyLmRldGVjdGluZ1NlbGVjdEFsbCksYSYmcz49OSYmdigpLGspe2t0KHQpO3ZhciBnPWZ1bmN0aW9uKCl7cHQod2luZG93LFwibW91c2V1cFwiLGcpLHNldFRpbWVvdXQoeSwyMCl9O2R0KHdpbmRvdyxcIm1vdXNldXBcIixnKX1lbHNlIHNldFRpbWVvdXQoeSw1MCl9ZnVuY3Rpb24gdigpe2lmKG51bGwhPWkuc2VsZWN0aW9uU3RhcnQpe3ZhciB0PW4uc29tZXRoaW5nU2VsZWN0ZWQoKSxvPVwi4oCLXCIrKHQ/aS52YWx1ZTpcIlwiKTtpLnZhbHVlPVwi4oeaXCIsaS52YWx1ZT1vLGUucHJldklucHV0PXQ/XCJcIjpcIuKAi1wiLGkuc2VsZWN0aW9uU3RhcnQ9MSxpLnNlbGVjdGlvbkVuZD1vLmxlbmd0aCxyLnNlbEZvckNvbnRleHRNZW51PW4uZG9jLnNlbH19ZnVuY3Rpb24geSgpe2lmKGUuY29udGV4dE1lbnVQZW5kaW5nPT15JiYoZS5jb250ZXh0TWVudVBlbmRpbmc9ITEsZS53cmFwcGVyLnN0eWxlLmNzc1RleHQ9cCxpLnN0eWxlLmNzc1RleHQ9aCxhJiZzPDkmJnIuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3Aoci5zY3JvbGxlci5zY3JvbGxUb3A9YyksbnVsbCE9aS5zZWxlY3Rpb25TdGFydCkpeyghYXx8YSYmczw5KSYmdigpO3ZhciB0PTAsbz1mdW5jdGlvbigpe3Iuc2VsRm9yQ29udGV4dE1lbnU9PW4uZG9jLnNlbCYmMD09aS5zZWxlY3Rpb25TdGFydCYmaS5zZWxlY3Rpb25FbmQ+MCYmXCLigItcIj09ZS5wcmV2SW5wdXQ/WHIobixpbykobik6dCsrPDEwP3IuZGV0ZWN0aW5nU2VsZWN0QWxsPXNldFRpbWVvdXQobyw1MDApOihyLnNlbEZvckNvbnRleHRNZW51PW51bGwsci5pbnB1dC5yZXNldCgpKX07ci5kZXRlY3RpbmdTZWxlY3RBbGw9c2V0VGltZW91dChvLDIwMCl9fX0sV2EucHJvdG90eXBlLnJlYWRPbmx5Q2hhbmdlZD1mdW5jdGlvbih0KXt0fHx0aGlzLnJlc2V0KCksdGhpcy50ZXh0YXJlYS5kaXNhYmxlZD1cIm5vY3Vyc29yXCI9PXR9LFdhLnByb3RvdHlwZS5zZXRVbmVkaXRhYmxlPWZ1bmN0aW9uKCl7fSxXYS5wcm90b3R5cGUubmVlZHNDb250ZW50QXR0cmlidXRlPSExLGZ1bmN0aW9uKHQpe3ZhciBlPXQub3B0aW9uSGFuZGxlcnM7ZnVuY3Rpb24gbihuLHIsaSxvKXt0LmRlZmF1bHRzW25dPXIsaSYmKGVbbl09bz9mdW5jdGlvbih0LGUsbil7biE9YmEmJmkodCxlLG4pfTppKX10LmRlZmluZU9wdGlvbj1uLHQuSW5pdD1iYSxuKFwidmFsdWVcIixcIlwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuc2V0VmFsdWUoZSl9LCEwKSxuKFwibW9kZVwiLG51bGwsZnVuY3Rpb24odCxlKXt0LmRvYy5tb2RlT3B0aW9uPWUsVGkodCl9LCEwKSxuKFwiaW5kZW50VW5pdFwiLDIsVGksITApLG4oXCJpbmRlbnRXaXRoVGFic1wiLCExKSxuKFwic21hcnRJbmRlbnRcIiwhMCksbihcInRhYlNpemVcIiw0LGZ1bmN0aW9uKHQpe09pKHQpLEJuKHQpLGNyKHQpfSwhMCksbihcImxpbmVTZXBhcmF0b3JcIixudWxsLGZ1bmN0aW9uKHQsZSl7aWYodC5kb2MubGluZVNlcD1lLGUpe3ZhciBuPVtdLHI9dC5kb2MuZmlyc3Q7dC5kb2MuaXRlcihmdW5jdGlvbih0KXtmb3IodmFyIGk9MDs7KXt2YXIgbz10LnRleHQuaW5kZXhPZihlLGkpO2lmKC0xPT1vKWJyZWFrO2k9bytlLmxlbmd0aCxuLnB1c2godGUocixvKSl9cisrfSk7Zm9yKHZhciBpPW4ubGVuZ3RoLTE7aT49MDtpLS0pZm8odC5kb2MsZSxuW2ldLHRlKG5baV0ubGluZSxuW2ldLmNoK2UubGVuZ3RoKSl9fSksbihcInNwZWNpYWxDaGFyc1wiLC9bXFx1MDAwMC1cXHUwMDFmXFx1MDA3Zi1cXHUwMDlmXFx1MDBhZFxcdTA2MWNcXHUyMDBiLVxcdTIwMGZcXHUyMDI4XFx1MjAyOVxcdWZlZmZcXHVmZmY5LVxcdWZmZmNdL2csZnVuY3Rpb24odCxlLG4pe3Quc3RhdGUuc3BlY2lhbENoYXJzPW5ldyBSZWdFeHAoZS5zb3VyY2UrKGUudGVzdChcIlxcdFwiKT9cIlwiOlwifFxcdFwiKSxcImdcIiksbiE9YmEmJnQucmVmcmVzaCgpfSksbihcInNwZWNpYWxDaGFyUGxhY2Vob2xkZXJcIixaZSxmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWZyZXNoKCl9LCEwKSxuKFwiZWxlY3RyaWNDaGFyc1wiLCEwKSxuKFwiaW5wdXRTdHlsZVwiLHY/XCJjb250ZW50ZWRpdGFibGVcIjpcInRleHRhcmVhXCIsZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJpbnB1dFN0eWxlIGNhbiBub3QgKHlldCkgYmUgY2hhbmdlZCBpbiBhIHJ1bm5pbmcgZWRpdG9yXCIpfSwhMCksbihcInNwZWxsY2hlY2tcIiwhMSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldElucHV0RmllbGQoKS5zcGVsbGNoZWNrPWV9LCEwKSxuKFwiYXV0b2NvcnJlY3RcIiwhMSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldElucHV0RmllbGQoKS5hdXRvY29ycmVjdD1lfSwhMCksbihcImF1dG9jYXBpdGFsaXplXCIsITEsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRJbnB1dEZpZWxkKCkuYXV0b2NhcGl0YWxpemU9ZX0sITApLG4oXCJydGxNb3ZlVmlzdWFsbHlcIiwheCksbihcIndob2xlTGluZVVwZGF0ZUJlZm9yZVwiLCEwKSxuKFwidGhlbWVcIixcImRlZmF1bHRcIixmdW5jdGlvbih0KXt5YSh0KSxkaSh0KX0sITApLG4oXCJrZXlNYXBcIixcImRlZmF1bHRcIixmdW5jdGlvbih0LGUsbil7dmFyIHI9JG8oZSksaT1uIT1iYSYmJG8obik7aSYmaS5kZXRhY2gmJmkuZGV0YWNoKHQsciksci5hdHRhY2gmJnIuYXR0YWNoKHQsaXx8bnVsbCl9KSxuKFwiZXh0cmFLZXlzXCIsbnVsbCksbihcImNvbmZpZ3VyZU1vdXNlXCIsbnVsbCksbihcImxpbmVXcmFwcGluZ1wiLCExLGthLCEwKSxuKFwiZ3V0dGVyc1wiLFtdLGZ1bmN0aW9uKHQsZSl7dC5kaXNwbGF5Lmd1dHRlclNwZWNzPXVpKGUsdC5vcHRpb25zLmxpbmVOdW1iZXJzKSxkaSh0KX0sITApLG4oXCJmaXhlZEd1dHRlclwiLCEwLGZ1bmN0aW9uKHQsZSl7dC5kaXNwbGF5Lmd1dHRlcnMuc3R5bGUubGVmdD1lP2lyKHQuZGlzcGxheSkrXCJweFwiOlwiMFwiLHQucmVmcmVzaCgpfSwhMCksbihcImNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyXCIsITEsZnVuY3Rpb24odCl7cmV0dXJuIFJyKHQpfSwhMCksbihcInNjcm9sbGJhclN0eWxlXCIsXCJuYXRpdmVcIixmdW5jdGlvbih0KXtXcih0KSxScih0KSx0LmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AodC5kb2Muc2Nyb2xsVG9wKSx0LmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KHQuZG9jLnNjcm9sbExlZnQpfSwhMCksbihcImxpbmVOdW1iZXJzXCIsITEsZnVuY3Rpb24odCxlKXt0LmRpc3BsYXkuZ3V0dGVyU3BlY3M9dWkodC5vcHRpb25zLmd1dHRlcnMsZSksZGkodCl9LCEwKSxuKFwiZmlyc3RMaW5lTnVtYmVyXCIsMSxkaSwhMCksbihcImxpbmVOdW1iZXJGb3JtYXR0ZXJcIixmdW5jdGlvbih0KXtyZXR1cm4gdH0sZGksITApLG4oXCJzaG93Q3Vyc29yV2hlblNlbGVjdGluZ1wiLCExLHByLCEwKSxuKFwicmVzZXRTZWxlY3Rpb25PbkNvbnRleHRNZW51XCIsITApLG4oXCJsaW5lV2lzZUNvcHlDdXRcIiwhMCksbihcInBhc3RlTGluZXNQZXJTZWxlY3Rpb25cIiwhMCksbihcInNlbGVjdGlvbnNNYXlUb3VjaFwiLCExKSxuKFwicmVhZE9ubHlcIiwhMSxmdW5jdGlvbih0LGUpe1wibm9jdXJzb3JcIj09ZSYmKGtyKHQpLHQuZGlzcGxheS5pbnB1dC5ibHVyKCkpLHQuZGlzcGxheS5pbnB1dC5yZWFkT25seUNoYW5nZWQoZSl9KSxuKFwiZGlzYWJsZUlucHV0XCIsITEsZnVuY3Rpb24odCxlKXtlfHx0LmRpc3BsYXkuaW5wdXQucmVzZXQoKX0sITApLG4oXCJkcmFnRHJvcFwiLCEwLENhKSxuKFwiYWxsb3dEcm9wRmlsZVR5cGVzXCIsbnVsbCksbihcImN1cnNvckJsaW5rUmF0ZVwiLDUzMCksbihcImN1cnNvclNjcm9sbE1hcmdpblwiLDApLG4oXCJjdXJzb3JIZWlnaHRcIiwxLHByLCEwKSxuKFwic2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZVwiLCEwLHByLCEwKSxuKFwid29ya1RpbWVcIiwxMDApLG4oXCJ3b3JrRGVsYXlcIiwxMDApLG4oXCJmbGF0dGVuU3BhbnNcIiwhMCxPaSwhMCksbihcImFkZE1vZGVDbGFzc1wiLCExLE9pLCEwKSxuKFwicG9sbEludGVydmFsXCIsMTAwKSxuKFwidW5kb0RlcHRoXCIsMjAwLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZG9jLmhpc3RvcnkudW5kb0RlcHRoPWV9KSxuKFwiaGlzdG9yeUV2ZW50RGVsYXlcIiwxMjUwKSxuKFwidmlld3BvcnRNYXJnaW5cIiwxMCxmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWZyZXNoKCl9LCEwKSxuKFwibWF4SGlnaGxpZ2h0TGVuZ3RoXCIsMWU0LE9pLCEwKSxuKFwibW92ZUlucHV0V2l0aEN1cnNvclwiLCEwLGZ1bmN0aW9uKHQsZSl7ZXx8dC5kaXNwbGF5LmlucHV0LnJlc2V0UG9zaXRpb24oKX0pLG4oXCJ0YWJpbmRleFwiLG51bGwsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkudGFiSW5kZXg9ZXx8XCJcIn0pLG4oXCJhdXRvZm9jdXNcIixudWxsKSxuKFwiZGlyZWN0aW9uXCIsXCJsdHJcIixmdW5jdGlvbih0LGUpe3JldHVybiB0LmRvYy5zZXREaXJlY3Rpb24oZSl9LCEwKSxuKFwicGhyYXNlc1wiLG51bGwpfShfYSksZnVuY3Rpb24odCl7dmFyIGU9dC5vcHRpb25IYW5kbGVycyxuPXQuaGVscGVycz17fTt0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dCxmb2N1czpmdW5jdGlvbigpe3dpbmRvdy5mb2N1cygpLHRoaXMuZGlzcGxheS5pbnB1dC5mb2N1cygpfSxzZXRPcHRpb246ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLm9wdGlvbnMsaT1yW3RdO3JbdF09PW4mJlwibW9kZVwiIT10fHwoclt0XT1uLGUuaGFzT3duUHJvcGVydHkodCkmJlhyKHRoaXMsZVt0XSkodGhpcyxuLGkpLG10KHRoaXMsXCJvcHRpb25DaGFuZ2VcIix0aGlzLHQpKX0sZ2V0T3B0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnNbdF19LGdldERvYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY30sYWRkS2V5TWFwOmZ1bmN0aW9uKHQsZSl7dGhpcy5zdGF0ZS5rZXlNYXBzW2U/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKCRvKHQpKX0scmVtb3ZlS2V5TWFwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnN0YXRlLmtleU1hcHMsbj0wO248ZS5sZW5ndGg7KytuKWlmKGVbbl09PXR8fGVbbl0ubmFtZT09dClyZXR1cm4gZS5zcGxpY2UobiwxKSwhMH0sYWRkT3ZlcmxheTpacihmdW5jdGlvbihlLG4pe3ZhciByPWUudG9rZW4/ZTp0LmdldE1vZGUodGhpcy5vcHRpb25zLGUpO2lmKHIuc3RhcnRTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGF5cyBtYXkgbm90IGJlIHN0YXRlZnVsLlwiKTshZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wLGk9bihlKTtyPHQubGVuZ3RoJiZuKHRbcl0pPD1pOylyKys7dC5zcGxpY2UociwwLGUpfSh0aGlzLnN0YXRlLm92ZXJsYXlzLHttb2RlOnIsbW9kZVNwZWM6ZSxvcGFxdWU6biYmbi5vcGFxdWUscHJpb3JpdHk6biYmbi5wcmlvcml0eXx8MH0sZnVuY3Rpb24odCl7cmV0dXJuIHQucHJpb3JpdHl9KSx0aGlzLnN0YXRlLm1vZGVHZW4rKyxjcih0aGlzKX0pLHJlbW92ZU92ZXJsYXk6WnIoZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuc3RhdGUub3ZlcmxheXMsbj0wO248ZS5sZW5ndGg7KytuKXt2YXIgcj1lW25dLm1vZGVTcGVjO2lmKHI9PXR8fFwic3RyaW5nXCI9PXR5cGVvZiB0JiZyLm5hbWU9PXQpcmV0dXJuIGUuc3BsaWNlKG4sMSksdGhpcy5zdGF0ZS5tb2RlR2VuKyssdm9pZCBjcih0aGlzKX19KSxpbmRlbnRMaW5lOlpyKGZ1bmN0aW9uKHQsZSxuKXtcInN0cmluZ1wiIT10eXBlb2YgZSYmXCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPW51bGw9PWU/dGhpcy5vcHRpb25zLnNtYXJ0SW5kZW50P1wic21hcnRcIjpcInByZXZcIjplP1wiYWRkXCI6XCJzdWJ0cmFjdFwiKSxadCh0aGlzLmRvYyx0KSYmRWEodGhpcyx0LGUsbil9KSxpbmRlbnRTZWxlY3Rpb246WnIoZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZG9jLnNlbC5yYW5nZXMsbj0tMSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl07aWYoaS5lbXB0eSgpKWkuaGVhZC5saW5lPm4mJihFYSh0aGlzLGkuaGVhZC5saW5lLHQsITApLG49aS5oZWFkLmxpbmUscj09dGhpcy5kb2Muc2VsLnByaW1JbmRleCYmTXIodGhpcykpO2Vsc2V7dmFyIG89aS5mcm9tKCksYT1pLnRvKCkscz1NYXRoLm1heChuLG8ubGluZSk7bj1NYXRoLm1pbih0aGlzLmxhc3RMaW5lKCksYS5saW5lLShhLmNoPzA6MSkpKzE7Zm9yKHZhciBsPXM7bDxuOysrbClFYSh0aGlzLGwsdCk7dmFyIGM9dGhpcy5kb2Muc2VsLnJhbmdlczswPT1vLmNoJiZlLmxlbmd0aD09Yy5sZW5ndGgmJmNbcl0uZnJvbSgpLmNoPjAmJiRpKHRoaXMuZG9jLHIsbmV3IHhpKG8sY1tyXS50bygpKSxVKX19fSksZ2V0VG9rZW5BdDpmdW5jdGlvbih0LGUpe3JldHVybiB5ZSh0aGlzLHQsZSl9LGdldExpbmVUb2tlbnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4geWUodGhpcyx0ZSh0KSxlLCEwKX0sZ2V0VG9rZW5UeXBlQXQ6ZnVuY3Rpb24odCl7dD1zZSh0aGlzLmRvYyx0KTt2YXIgZSxuPWRlKHRoaXMsS3QodGhpcy5kb2MsdC5saW5lKSkscj0wLGk9KG4ubGVuZ3RoLTEpLzIsbz10LmNoO2lmKDA9PW8pZT1uWzJdO2Vsc2UgZm9yKDs7KXt2YXIgYT1yK2k+PjE7aWYoKGE/blsyKmEtMV06MCk+PW8paT1hO2Vsc2V7aWYoIShuWzIqYSsxXTxvKSl7ZT1uWzIqYSsyXTticmVha31yPWErMX19dmFyIHM9ZT9lLmluZGV4T2YoXCJvdmVybGF5IFwiKTotMTtyZXR1cm4gczwwP2U6MD09cz9udWxsOmUuc2xpY2UoMCxzLTEpfSxnZXRNb2RlQXQ6ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5kb2MubW9kZTtyZXR1cm4gbi5pbm5lck1vZGU/dC5pbm5lck1vZGUobix0aGlzLmdldFRva2VuQXQoZSkuc3RhdGUpLm1vZGU6bn0sZ2V0SGVscGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0SGVscGVycyh0LGUpWzBdfSxnZXRIZWxwZXJzOmZ1bmN0aW9uKHQsZSl7dmFyIHI9W107aWYoIW4uaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIHI7dmFyIGk9bltlXSxvPXRoaXMuZ2V0TW9kZUF0KHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvW2VdKWlbb1tlXV0mJnIucHVzaChpW29bZV1dKTtlbHNlIGlmKG9bZV0pZm9yKHZhciBhPTA7YTxvW2VdLmxlbmd0aDthKyspe3ZhciBzPWlbb1tlXVthXV07cyYmci5wdXNoKHMpfWVsc2Ugby5oZWxwZXJUeXBlJiZpW28uaGVscGVyVHlwZV0/ci5wdXNoKGlbby5oZWxwZXJUeXBlXSk6aVtvLm5hbWVdJiZyLnB1c2goaVtvLm5hbWVdKTtmb3IodmFyIGw9MDtsPGkuX2dsb2JhbC5sZW5ndGg7bCsrKXt2YXIgYz1pLl9nbG9iYWxbbF07Yy5wcmVkKG8sdGhpcykmJi0xPT1CKHIsYy52YWwpJiZyLnB1c2goYy52YWwpfXJldHVybiByfSxnZXRTdGF0ZUFmdGVyOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kb2M7cmV0dXJuIGhlKHRoaXMsKHQ9YWUobixudWxsPT10P24uZmlyc3Qrbi5zaXplLTE6dCkpKzEsZSkuc3RhdGV9LGN1cnNvckNvb3JkczpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZG9jLnNlbC5wcmltYXJ5KCk7cmV0dXJuICRuKHRoaXMsbnVsbD09dD9uLmhlYWQ6XCJvYmplY3RcIj09dHlwZW9mIHQ/c2UodGhpcy5kb2MsdCk6dD9uLmZyb20oKTpuLnRvKCksZXx8XCJwYWdlXCIpfSxjaGFyQ29vcmRzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEtuKHRoaXMsc2UodGhpcy5kb2MsdCksZXx8XCJwYWdlXCIpfSxjb29yZHNDaGFyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEpuKHRoaXMsKHQ9R24odGhpcyx0LGV8fFwicGFnZVwiKSkubGVmdCx0LnRvcCl9LGxpbmVBdEhlaWdodDpmdW5jdGlvbih0LGUpe3JldHVybiB0PUduKHRoaXMse3RvcDp0LGxlZnQ6MH0sZXx8XCJwYWdlXCIpLnRvcCxYdCh0aGlzLmRvYyx0K3RoaXMuZGlzcGxheS52aWV3T2Zmc2V0KX0saGVpZ2h0QXRMaW5lOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPSExO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXt2YXIgbz10aGlzLmRvYy5maXJzdCt0aGlzLmRvYy5zaXplLTE7dDx0aGlzLmRvYy5maXJzdD90PXRoaXMuZG9jLmZpcnN0OnQ+byYmKHQ9byxpPSEwKSxyPUt0KHRoaXMuZG9jLHQpfWVsc2Ugcj10O3JldHVybiBWbih0aGlzLHIse3RvcDowLGxlZnQ6MH0sZXx8XCJwYWdlXCIsbnx8aSkudG9wKyhpP3RoaXMuZG9jLmhlaWdodC1VZShyKTowKX0sZGVmYXVsdFRleHRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZXIodGhpcy5kaXNwbGF5KX0sZGVmYXVsdENoYXJXaWR0aDpmdW5jdGlvbigpe3JldHVybiBucih0aGlzLmRpc3BsYXkpfSxnZXRWaWV3cG9ydDpmdW5jdGlvbigpe3JldHVybntmcm9tOnRoaXMuZGlzcGxheS52aWV3RnJvbSx0bzp0aGlzLmRpc3BsYXkudmlld1RvfX0sYWRkV2lkZ2V0OmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8sYSxzLGw9dGhpcy5kaXNwbGF5LGM9KHQ9JG4odGhpcyxzZSh0aGlzLmRvYyx0KSkpLmJvdHRvbSx1PXQubGVmdDtpZihlLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLnNldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIixcInRydWVcIiksdGhpcy5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUoZSksbC5zaXplci5hcHBlbmRDaGlsZChlKSxcIm92ZXJcIj09ciljPXQudG9wO2Vsc2UgaWYoXCJhYm92ZVwiPT1yfHxcIm5lYXJcIj09cil7dmFyIGY9TWF0aC5tYXgobC53cmFwcGVyLmNsaWVudEhlaWdodCx0aGlzLmRvYy5oZWlnaHQpLGQ9TWF0aC5tYXgobC5zaXplci5jbGllbnRXaWR0aCxsLmxpbmVTcGFjZS5jbGllbnRXaWR0aCk7KFwiYWJvdmVcIj09cnx8dC5ib3R0b20rZS5vZmZzZXRIZWlnaHQ+ZikmJnQudG9wPmUub2Zmc2V0SGVpZ2h0P2M9dC50b3AtZS5vZmZzZXRIZWlnaHQ6dC5ib3R0b20rZS5vZmZzZXRIZWlnaHQ8PWYmJihjPXQuYm90dG9tKSx1K2Uub2Zmc2V0V2lkdGg+ZCYmKHU9ZC1lLm9mZnNldFdpZHRoKX1lLnN0eWxlLnRvcD1jK1wicHhcIixlLnN0eWxlLmxlZnQ9ZS5zdHlsZS5yaWdodD1cIlwiLFwicmlnaHRcIj09aT8odT1sLnNpemVyLmNsaWVudFdpZHRoLWUub2Zmc2V0V2lkdGgsZS5zdHlsZS5yaWdodD1cIjBweFwiKTooXCJsZWZ0XCI9PWk/dT0wOlwibWlkZGxlXCI9PWkmJih1PShsLnNpemVyLmNsaWVudFdpZHRoLWUub2Zmc2V0V2lkdGgpLzIpLGUuc3R5bGUubGVmdD11K1wicHhcIiksbiYmKG89dGhpcyxhPXtsZWZ0OnUsdG9wOmMscmlnaHQ6dStlLm9mZnNldFdpZHRoLGJvdHRvbTpjK2Uub2Zmc2V0SGVpZ2h0fSxudWxsIT0ocz1UcihvLGEpKS5zY3JvbGxUb3AmJlByKG8scy5zY3JvbGxUb3ApLG51bGwhPXMuc2Nyb2xsTGVmdCYmSXIobyxzLnNjcm9sbExlZnQpKX0sdHJpZ2dlck9uS2V5RG93bjpacihzYSksdHJpZ2dlck9uS2V5UHJlc3M6WnIoY2EpLHRyaWdnZXJPbktleVVwOmxhLHRyaWdnZXJPbk1vdXNlRG93bjpacihoYSksZXhlY0NvbW1hbmQ6ZnVuY3Rpb24odCl7aWYoWm8uaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIFpvW3RdLmNhbGwobnVsbCx0aGlzKX0sdHJpZ2dlckVsZWN0cmljOlpyKGZ1bmN0aW9uKHQpe0FhKHRoaXMsdCl9KSxmaW5kUG9zSDpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT0xO2U8MCYmKGk9LTEsZT0tZSk7Zm9yKHZhciBvPXNlKHRoaXMuZG9jLHQpLGE9MDthPGUmJiEobz1JYSh0aGlzLmRvYyxvLGksbixyKSkuaGl0U2lkZTsrK2EpO3JldHVybiBvfSxtb3ZlSDpacihmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24ocil7cmV0dXJuIG4uZGlzcGxheS5zaGlmdHx8bi5kb2MuZXh0ZW5kfHxyLmVtcHR5KCk/SWEobi5kb2Msci5oZWFkLHQsZSxuLm9wdGlvbnMucnRsTW92ZVZpc3VhbGx5KTp0PDA/ci5mcm9tKCk6ci50bygpfSxHKX0pLGRlbGV0ZUg6WnIoZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRvYy5zZWwscj10aGlzLmRvYztuLnNvbWV0aGluZ1NlbGVjdGVkKCk/ci5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsbnVsbCxcIitkZWxldGVcIik6cW8odGhpcyxmdW5jdGlvbihuKXt2YXIgaT1JYShyLG4uaGVhZCx0LGUsITEpO3JldHVybiB0PDA/e2Zyb206aSx0bzpuLmhlYWR9Ontmcm9tOm4uaGVhZCx0bzppfX0pfSksZmluZFBvc1Y6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9MSxvPXI7ZTwwJiYoaT0tMSxlPS1lKTtmb3IodmFyIGE9c2UodGhpcy5kb2MsdCkscz0wO3M8ZTsrK3Mpe3ZhciBsPSRuKHRoaXMsYSxcImRpdlwiKTtpZihudWxsPT1vP289bC5sZWZ0OmwubGVmdD1vLChhPWphKHRoaXMsbCxpLG4pKS5oaXRTaWRlKWJyZWFrfXJldHVybiBhfSxtb3ZlVjpacihmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj10aGlzLmRvYyxpPVtdLG89IXRoaXMuZGlzcGxheS5zaGlmdCYmIXIuZXh0ZW5kJiZyLnNlbC5zb21ldGhpbmdTZWxlY3RlZCgpO2lmKHIuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKGEpe2lmKG8pcmV0dXJuIHQ8MD9hLmZyb20oKTphLnRvKCk7dmFyIHM9JG4obixhLmhlYWQsXCJkaXZcIik7bnVsbCE9YS5nb2FsQ29sdW1uJiYocy5sZWZ0PWEuZ29hbENvbHVtbiksaS5wdXNoKHMubGVmdCk7dmFyIGw9amEobixzLHQsZSk7cmV0dXJuXCJwYWdlXCI9PWUmJmE9PXIuc2VsLnByaW1hcnkoKSYmT3IobixLbihuLGwsXCJkaXZcIikudG9wLXMudG9wKSxsfSxHKSxpLmxlbmd0aClmb3IodmFyIGE9MDthPHIuc2VsLnJhbmdlcy5sZW5ndGg7YSsrKXIuc2VsLnJhbmdlc1thXS5nb2FsQ29sdW1uPWlbYV19KSxmaW5kV29yZEF0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9jLG49S3QoZSx0LmxpbmUpLnRleHQscj10LmNoLGk9dC5jaDtpZihuKXt2YXIgbz10aGlzLmdldEhlbHBlcih0LFwid29yZENoYXJzXCIpO1wiYmVmb3JlXCIhPXQuc3RpY2t5JiZpIT1uLmxlbmd0aHx8IXI/KytpOi0tcjtmb3IodmFyIGE9bi5jaGFyQXQocikscz1ldChhLG8pP2Z1bmN0aW9uKHQpe3JldHVybiBldCh0LG8pfTovXFxzLy50ZXN0KGEpP2Z1bmN0aW9uKHQpe3JldHVybi9cXHMvLnRlc3QodCl9OmZ1bmN0aW9uKHQpe3JldHVybiEvXFxzLy50ZXN0KHQpJiYhZXQodCl9O3I+MCYmcyhuLmNoYXJBdChyLTEpKTspLS1yO2Zvcig7aTxuLmxlbmd0aCYmcyhuLmNoYXJBdChpKSk7KSsraX1yZXR1cm4gbmV3IHhpKHRlKHQubGluZSxyKSx0ZSh0LmxpbmUsaSkpfSx0b2dnbGVPdmVyd3JpdGU6ZnVuY3Rpb24odCl7bnVsbCE9dCYmdD09dGhpcy5zdGF0ZS5vdmVyd3JpdGV8fCgodGhpcy5zdGF0ZS5vdmVyd3JpdGU9IXRoaXMuc3RhdGUub3ZlcndyaXRlKT9QKHRoaXMuZGlzcGxheS5jdXJzb3JEaXYsXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKTpFKHRoaXMuZGlzcGxheS5jdXJzb3JEaXYsXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKSxtdCh0aGlzLFwib3ZlcndyaXRlVG9nZ2xlXCIsdGhpcyx0aGlzLnN0YXRlLm92ZXJ3cml0ZSkpfSxoYXNGb2N1czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKT09TigpfSxpc1JlYWRPbmx5OmZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5vcHRpb25zLnJlYWRPbmx5JiYhdGhpcy5kb2MuY2FudEVkaXQpfSxzY3JvbGxUbzpacihmdW5jdGlvbih0LGUpe0xyKHRoaXMsdCxlKX0pLGdldFNjcm9sbEluZm86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRpc3BsYXkuc2Nyb2xsZXI7cmV0dXJue2xlZnQ6dC5zY3JvbGxMZWZ0LHRvcDp0LnNjcm9sbFRvcCxoZWlnaHQ6dC5zY3JvbGxIZWlnaHQtRW4odGhpcyktdGhpcy5kaXNwbGF5LmJhckhlaWdodCx3aWR0aDp0LnNjcm9sbFdpZHRoLUVuKHRoaXMpLXRoaXMuZGlzcGxheS5iYXJXaWR0aCxjbGllbnRIZWlnaHQ6T24odGhpcyksY2xpZW50V2lkdGg6VG4odGhpcyl9fSxzY3JvbGxJbnRvVmlldzpacihmdW5jdGlvbih0LGUpe251bGw9PXQ/KHQ9e2Zyb206dGhpcy5kb2Muc2VsLnByaW1hcnkoKS5oZWFkLHRvOm51bGx9LG51bGw9PWUmJihlPXRoaXMub3B0aW9ucy5jdXJzb3JTY3JvbGxNYXJnaW4pKTpcIm51bWJlclwiPT10eXBlb2YgdD90PXtmcm9tOnRlKHQsMCksdG86bnVsbH06bnVsbD09dC5mcm9tJiYodD17ZnJvbTp0LHRvOm51bGx9KSx0LnRvfHwodC50bz10LmZyb20pLHQubWFyZ2luPWV8fDAsbnVsbCE9dC5mcm9tLmxpbmU/ZnVuY3Rpb24odCxlKXtBcih0KSx0LmN1ck9wLnNjcm9sbFRvUG9zPWV9KHRoaXMsdCk6TnIodGhpcyx0LmZyb20sdC50byx0Lm1hcmdpbil9KSxzZXRTaXplOlpyKGZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fHwvXlxcZCskLy50ZXN0KFN0cmluZyh0KSk/dCtcInB4XCI6dH07bnVsbCE9dCYmKHRoaXMuZGlzcGxheS53cmFwcGVyLnN0eWxlLndpZHRoPXIodCkpLG51bGwhPWUmJih0aGlzLmRpc3BsYXkud3JhcHBlci5zdHlsZS5oZWlnaHQ9cihlKSksdGhpcy5vcHRpb25zLmxpbmVXcmFwcGluZyYmUm4odGhpcyk7dmFyIGk9dGhpcy5kaXNwbGF5LnZpZXdGcm9tO3RoaXMuZG9jLml0ZXIoaSx0aGlzLmRpc3BsYXkudmlld1RvLGZ1bmN0aW9uKHQpe2lmKHQud2lkZ2V0cylmb3IodmFyIGU9MDtlPHQud2lkZ2V0cy5sZW5ndGg7ZSsrKWlmKHQud2lkZ2V0c1tlXS5ub0hTY3JvbGwpe3VyKG4saSxcIndpZGdldFwiKTticmVha30rK2l9KSx0aGlzLmN1ck9wLmZvcmNlVXBkYXRlPSEwLG10KHRoaXMsXCJyZWZyZXNoXCIsdGhpcyl9KSxvcGVyYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIEpyKHRoaXMsdCl9LHN0YXJ0T3BlcmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIFZyKHRoaXMpfSxlbmRPcGVyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gR3IodGhpcyl9LHJlZnJlc2g6WnIoZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodDtjcih0aGlzKSx0aGlzLmN1ck9wLmZvcmNlVXBkYXRlPSEwLEJuKHRoaXMpLExyKHRoaXMsdGhpcy5kb2Muc2Nyb2xsTGVmdCx0aGlzLmRvYy5zY3JvbGxUb3ApLGFpKHRoaXMuZGlzcGxheSksKG51bGw9PXR8fE1hdGguYWJzKHQtZXIodGhpcy5kaXNwbGF5KSk+LjUpJiZhcih0aGlzKSxtdCh0aGlzLFwicmVmcmVzaFwiLHRoaXMpfSksc3dhcERvYzpacihmdW5jdGlvbih0KXt2YXIgZT10aGlzLmRvYztyZXR1cm4gZS5jbT1udWxsLHRoaXMuc3RhdGUuc2VsZWN0aW5nVGV4dCYmdGhpcy5zdGF0ZS5zZWxlY3RpbmdUZXh0KCksTmkodGhpcyx0KSxCbih0aGlzKSx0aGlzLmRpc3BsYXkuaW5wdXQucmVzZXQoKSxMcih0aGlzLHQuc2Nyb2xsTGVmdCx0LnNjcm9sbFRvcCksdGhpcy5jdXJPcC5mb3JjZVNjcm9sbD0hMCxsbih0aGlzLFwic3dhcERvY1wiLHRoaXMsZSksZX0pLHBocmFzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMucGhyYXNlcztyZXR1cm4gZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCk/ZVt0XTp0fSxnZXRJbnB1dEZpZWxkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpfSxnZXRXcmFwcGVyRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkud3JhcHBlcn0sZ2V0U2Nyb2xsZXJFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5zY3JvbGxlcn0sZ2V0R3V0dGVyRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuZ3V0dGVyc319LGJ0KHQpLHQucmVnaXN0ZXJIZWxwZXI9ZnVuY3Rpb24oZSxyLGkpe24uaGFzT3duUHJvcGVydHkoZSl8fChuW2VdPXRbZV09e19nbG9iYWw6W119KSxuW2VdW3JdPWl9LHQucmVnaXN0ZXJHbG9iYWxIZWxwZXI9ZnVuY3Rpb24oZSxyLGksbyl7dC5yZWdpc3RlckhlbHBlcihlLHIsbyksbltlXS5fZ2xvYmFsLnB1c2goe3ByZWQ6aSx2YWw6b30pfX0oX2EpO3ZhciBVYT1cIml0ZXIgaW5zZXJ0IHJlbW92ZSBjb3B5IGdldEVkaXRvciBjb25zdHJ1Y3RvclwiLnNwbGl0KFwiIFwiKTtmb3IodmFyIFZhIGluIE9vLnByb3RvdHlwZSlPby5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoVmEpJiZCKFVhLFZhKTwwJiYoX2EucHJvdG90eXBlW1ZhXT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLmRvYyxhcmd1bWVudHMpfX0oT28ucHJvdG90eXBlW1ZhXSkpO3JldHVybiBidChPbyksX2EuaW5wdXRTdHlsZXM9e3RleHRhcmVhOldhLGNvbnRlbnRlZGl0YWJsZTpEYX0sX2EuZGVmaW5lTW9kZT1mdW5jdGlvbih0KXtfYS5kZWZhdWx0cy5tb2RlfHxcIm51bGxcIj09dHx8KF9hLmRlZmF1bHRzLm1vZGU9dCksZnVuY3Rpb24odCxlKXthcmd1bWVudHMubGVuZ3RoPjImJihlLmRlcGVuZGVuY2llcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpLGp0W3RdPWV9LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX2EuZGVmaW5lTUlNRT1mdW5jdGlvbih0LGUpe0R0W3RdPWV9LF9hLmRlZmluZU1vZGUoXCJudWxsXCIsZnVuY3Rpb24oKXtyZXR1cm57dG9rZW46ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2tpcFRvRW5kKCl9fX0pLF9hLmRlZmluZU1JTUUoXCJ0ZXh0L3BsYWluXCIsXCJudWxsXCIpLF9hLmRlZmluZUV4dGVuc2lvbj1mdW5jdGlvbih0LGUpe19hLnByb3RvdHlwZVt0XT1lfSxfYS5kZWZpbmVEb2NFeHRlbnNpb249ZnVuY3Rpb24odCxlKXtPby5wcm90b3R5cGVbdF09ZX0sX2EuZnJvbVRleHRBcmVhPWZ1bmN0aW9uKHQsZSl7aWYoKGU9ZT9EKGUpOnt9KS52YWx1ZT10LnZhbHVlLCFlLnRhYmluZGV4JiZ0LnRhYkluZGV4JiYoZS50YWJpbmRleD10LnRhYkluZGV4KSwhZS5wbGFjZWhvbGRlciYmdC5wbGFjZWhvbGRlciYmKGUucGxhY2Vob2xkZXI9dC5wbGFjZWhvbGRlciksbnVsbD09ZS5hdXRvZm9jdXMpe3ZhciBuPU4oKTtlLmF1dG9mb2N1cz1uPT10fHxudWxsIT10LmdldEF0dHJpYnV0ZShcImF1dG9mb2N1c1wiKSYmbj09ZG9jdW1lbnQuYm9keX1mdW5jdGlvbiByKCl7dC52YWx1ZT1zLmdldFZhbHVlKCl9dmFyIGk7aWYodC5mb3JtJiYoZHQodC5mb3JtLFwic3VibWl0XCIsciksIWUubGVhdmVTdWJtaXRNZXRob2RBbG9uZSkpe3ZhciBvPXQuZm9ybTtpPW8uc3VibWl0O3RyeXt2YXIgYT1vLnN1Ym1pdD1mdW5jdGlvbigpe3IoKSxvLnN1Ym1pdD1pLG8uc3VibWl0KCksby5zdWJtaXQ9YX19Y2F0Y2godCl7fX1lLmZpbmlzaEluaXQ9ZnVuY3Rpb24obil7bi5zYXZlPXIsbi5nZXRUZXh0QXJlYT1mdW5jdGlvbigpe3JldHVybiB0fSxuLnRvVGV4dEFyZWE9ZnVuY3Rpb24oKXtuLnRvVGV4dEFyZWE9aXNOYU4scigpLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuLmdldFdyYXBwZXJFbGVtZW50KCkpLHQuc3R5bGUuZGlzcGxheT1cIlwiLHQuZm9ybSYmKHB0KHQuZm9ybSxcInN1Ym1pdFwiLHIpLGUubGVhdmVTdWJtaXRNZXRob2RBbG9uZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5mb3JtLnN1Ym1pdHx8KHQuZm9ybS5zdWJtaXQ9aSkpfX0sdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciBzPV9hKGZ1bmN0aW9uKGUpe3JldHVybiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdC5uZXh0U2libGluZyl9LGUpO3JldHVybiBzfSxmdW5jdGlvbih0KXt0Lm9mZj1wdCx0Lm9uPWR0LHQud2hlZWxFdmVudFBpeGVscz12aSx0LkRvYz1Pbyx0LnNwbGl0TGluZXM9TnQsdC5jb3VudENvbHVtbj16LHQuZmluZENvbHVtbj1LLHQuaXNXb3JkQ2hhcj10dCx0LlBhc3M9Vyx0LnNpZ25hbD1tdCx0LkxpbmU9S2UsdC5jaGFuZ2VFbmQ9a2ksdC5zY3JvbGxiYXJNb2RlbD1Icix0LlBvcz10ZSx0LmNtcFBvcz1lZSx0Lm1vZGVzPWp0LHQubWltZU1vZGVzPUR0LHQucmVzb2x2ZU1vZGU9enQsdC5nZXRNb2RlPVJ0LHQubW9kZUV4dGVuc2lvbnM9QnQsdC5leHRlbmRNb2RlPUh0LHQuY29weVN0YXRlPVd0LHQuc3RhcnRTdGF0ZT1WdCx0LmlubmVyTW9kZT1VdCx0LmNvbW1hbmRzPVpvLHQua2V5TWFwPUJvLHQua2V5TmFtZT1Lbyx0LmlzTW9kaWZpZXJLZXk9Vm8sdC5sb29rdXBLZXk9VW8sdC5ub3JtYWxpemVLZXlNYXA9V28sdC5TdHJpbmdTdHJlYW09R3QsdC5TaGFyZWRUZXh0TWFya2VyPV9vLHQuVGV4dE1hcmtlcj1Dbyx0LkxpbmVXaWRnZXQ9Ym8sdC5lX3ByZXZlbnREZWZhdWx0PXh0LHQuZV9zdG9wUHJvcGFnYXRpb249d3QsdC5lX3N0b3A9a3QsdC5hZGRDbGFzcz1QLHQuY29udGFpbnM9QSx0LnJtQ2xhc3M9RSx0LmtleU5hbWVzPWpvfShfYSksX2EudmVyc2lvbj1cIjUuNDkuMFwiLF9hfSgpfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjpcIjIuNi45XCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9bil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLGk9bigxKSxvPW4oMjYpLGE9bigyMSkscz1uKDE1KSxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgYyx1LGYsZD10JmwuRixoPXQmbC5HLHA9dCZsLlMsbT10JmwuUCxnPXQmbC5CLHY9dCZsLlcseT1oP2k6aVtlXXx8KGlbZV09e30pLGI9eS5wcm90b3R5cGUseD1oP3I6cD9yW2VdOihyW2VdfHx7fSkucHJvdG90eXBlO2ZvcihjIGluIGgmJihuPWUpLG4pKHU9IWQmJngmJnZvaWQgMCE9PXhbY10pJiZzKHksYyl8fChmPXU/eFtjXTpuW2NdLHlbY109aCYmXCJmdW5jdGlvblwiIT10eXBlb2YgeFtjXT9uW2NdOmcmJnU/byhmLHIpOnYmJnhbY109PWY/ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSxuLHIpe2lmKHRoaXMgaW5zdGFuY2VvZiB0KXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGUpO2Nhc2UgMjpyZXR1cm4gbmV3IHQoZSxuKX1yZXR1cm4gbmV3IHQoZSxuLHIpfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGUucHJvdG90eXBlPXQucHJvdG90eXBlLGV9KGYpOm0mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGY/byhGdW5jdGlvbi5jYWxsLGYpOmYsbSYmKCh5LnZpcnR1YWx8fCh5LnZpcnR1YWw9e30pKVtjXT1mLHQmbC5SJiZiJiYhYltjXSYmYShiLGMsZikpKX07bC5GPTEsbC5HPTIsbC5TPTQsbC5QPTgsbC5CPTE2LGwuVz0zMixsLlU9NjQsbC5SPTEyOCx0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNjgpKFwid2tzXCIpLGk9big0OCksbz1uKDMpLlN5bWJvbCxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIG87KHQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09YSYmb1t0XXx8KGE/bzppKShcIlN5bWJvbC5cIit0KSl9KS5zdG9yZT1yfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTQpO2Z1bmN0aW9uIGkodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCkscih0LGkua2V5LGkpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlJiZpKHQucHJvdG90eXBlLGUpLG4mJmkodCxuKSx0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYW4gb2JqZWN0IVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMjApKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4MSkoXCJ3a3NcIiksaT1uKDgzKSxvPW4oMjMpLlN5bWJvbCxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIG87KHQuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09YSYmb1t0XXx8KGE/bzppKShcIlN5bWJvbC5cIit0KSl9KS5zdG9yZT1yfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPW4oMTA2KSxvPW4oNjcpLGE9T2JqZWN0LmRlZmluZVByb3BlcnR5O2UuZj1uKDgpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPW8oZSwhMCkscihuKSxpKXRyeXtyZXR1cm4gYSh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDI0KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSBudWxsIG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNhbGwodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwOSksaT1uKDUwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIoaSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhbiBvYmplY3QhXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1uKDI3MikoKT9TeW1ib2w6bigyNzMpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMDUpLGk9bigxNDcpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIHQuZXhwb3J0cz1vPWk/cjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fHIodCl9LG8oZSl9dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksaT1uKDM4KTt0LmV4cG9ydHM9big4KT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P251bGwhPT10OlwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcIm51bWJlclwiPT10eXBlb2YgX19nJiYoX19nPW4pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuISF0KCl9Y2F0Y2godCl7cmV0dXJuITB9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOTgpLGk9bigxNDEpLG89bigyNjgpLGE9big5OSk7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLG8scyxsLGM7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mnx8XCJzdHJpbmdcIiE9dHlwZW9mIHQ/KGw9ZSxlPXQsdD1udWxsKTpsPWFyZ3VtZW50c1syXSxudWxsPT10PyhuPXM9ITAsbz0hMSk6KG49YS5jYWxsKHQsXCJjXCIpLG89YS5jYWxsKHQsXCJlXCIpLHM9YS5jYWxsKHQsXCJ3XCIpKSxjPXt2YWx1ZTplLGNvbmZpZ3VyYWJsZTpuLGVudW1lcmFibGU6byx3cml0YWJsZTpzfSxsP3IoaShsKSxjKTpjfSkuZ3M9ZnVuY3Rpb24odCxlLG4pe3ZhciBzLGwsYyx1O3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiB0PyhjPW4sbj1lLGU9dCx0PW51bGwpOmM9YXJndW1lbnRzWzNdLG51bGw9PWU/ZT12b2lkIDA6byhlKT9udWxsPT1uP249dm9pZCAwOm8obil8fChjPW4sbj12b2lkIDApOihjPWUsZT1uPXZvaWQgMCksbnVsbD09dD8ocz0hMCxsPSExKToocz1hLmNhbGwodCxcImNcIiksbD1hLmNhbGwodCxcImVcIikpLHU9e2dldDplLHNldDpuLGNvbmZpZ3VyYWJsZTpzLGVudW1lcmFibGU6bH0sYz9yKGkoYyksdSk6dX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQ3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIHQuY2FsbChlLG4scixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwOCksaT1uKDc0KTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MiksaT1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MD9pKHIodCksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiK3QpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjMpLGk9big4Miksbz1uKDU1KSxhPW4oNDMpLHM9big4NyksbD1mdW5jdGlvbih0LGUsbil7dmFyIGMsdSxmLGQsaD10JmwuRixwPXQmbC5HLG09dCZsLlMsZz10JmwuUCx2PXQmbC5CLHk9cD9yOm0/cltlXXx8KHJbZV09e30pOihyW2VdfHx7fSkucHJvdG90eXBlLGI9cD9pOmlbZV18fChpW2VdPXt9KSx4PWIucHJvdG90eXBlfHwoYi5wcm90b3R5cGU9e30pO2ZvcihjIGluIHAmJihuPWUpLG4pZj0oKHU9IWgmJnkmJnZvaWQgMCE9PXlbY10pP3k6bilbY10sZD12JiZ1P3MoZixyKTpnJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBmP3MoRnVuY3Rpb24uY2FsbCxmKTpmLHkmJmEoeSxjLGYsdCZsLlUpLGJbY10hPWYmJm8oYixjLGQpLGcmJnhbY10hPWYmJih4W2NdPWYpfTtyLmNvcmU9aSxsLkY9MSxsLkc9MixsLlM9NCxsLlA9OCxsLkI9MTYsbC5XPTMyLGwuVT02NCxsLlI9MTI4LHQuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz17fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTM3KSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PXImJm51bGwhPT10fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRbMV18fFwiXCIscj10WzNdO2lmKCFyKXJldHVybiBuO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciBpPShhPXIsXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYSkpKSkrXCIgKi9cIiksbz1yLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIityLnNvdXJjZVJvb3QrdCtcIiAqL1wifSk7cmV0dXJuW25dLmNvbmNhdChvKS5jb25jYXQoW2ldKS5qb2luKFwiXFxuXCIpfXZhciBhO3JldHVybltuXS5qb2luKFwiXFxuXCIpfShlLHQpO3JldHVybiBlWzJdP1wiQG1lZGlhIFwiK2VbMl0rXCJ7XCIrbitcIn1cIjpufSkuam9pbihcIlwiKX0sZS5pPWZ1bmN0aW9uKHQsbil7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LFwiXCJdXSk7Zm9yKHZhciByPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIG89dGhpc1tpXVswXTtudWxsIT1vJiYocltvXT0hMCl9Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIGE9dFtpXTtudWxsIT1hWzBdJiZyW2FbMF1dfHwobiYmIWFbMl0/YVsyXT1uOm4mJihhWzJdPVwiKFwiK2FbMl0rXCIpIGFuZCAoXCIrbitcIilcIiksZS5wdXNoKGEpKX19LGV9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTcxKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4hIXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fSh0KSYmIWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09ZXx8XCJbb2JqZWN0IERhdGVdXCI9PT1lfHxmdW5jdGlvbih0KXtyZXR1cm4gdC4kJHR5cGVvZj09PWl9KHQpfSh0KX07dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzO2Z1bmN0aW9uIG8odCxlKXt2YXIgbjtyZXR1cm4gZSYmITA9PT1lLmNsb25lJiZyKHQpP3MoKG49dCxBcnJheS5pc0FycmF5KG4pP1tdOnt9KSx0LGUpOnR9ZnVuY3Rpb24gYSh0LGUsbil7dmFyIGk9dC5zbGljZSgpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxhKXt2b2lkIDA9PT1pW2FdP2lbYV09byhlLG4pOnIoZSk/aVthXT1zKHRbYV0sZSxuKTotMT09PXQuaW5kZXhPZihlKSYmaS5wdXNoKG8oZSxuKSl9KSxpfWZ1bmN0aW9uIHModCxlLG4pe3ZhciBpPUFycmF5LmlzQXJyYXkoZSk7cmV0dXJuIGk9PT1BcnJheS5pc0FycmF5KHQpP2k/KChufHx7YXJyYXlNZXJnZTphfSkuYXJyYXlNZXJnZXx8YSkodCxlLG4pOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT17fTtyZXR1cm4gcih0KSYmT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtpW2VdPW8odFtlXSxuKX0pLE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oYSl7cihlW2FdKSYmdFthXT9pW2FdPXModFthXSxlW2FdLG4pOmlbYV09byhlW2FdLG4pfSksaX0odCxlLG4pOm8oZSxuKX1zLmFsbD1mdW5jdGlvbih0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpfHx0Lmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcihcImZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IHR3byBlbGVtZW50c1wiKTtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gcyh0LG4sZSl9KX07dmFyIGw9czt0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDE5NSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ITB9LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTcpLGk9bigxMTYpLG89bigxMTcpLGE9T2JqZWN0LmRlZmluZVByb3BlcnR5O2UuZj1uKDEyKT9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksZT1vKGUsITApLHIobiksaSl0cnl7cmV0dXJuIGEodCxlLG4pfWNhdGNoKHQpe31pZihcImdldFwiaW4gbnx8XCJzZXRcImluIG4pdGhyb3cgVHlwZUVycm9yKFwiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhXCIpO3JldHVyblwidmFsdWVcImluIG4mJih0W2VdPW4udmFsdWUpLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMyksaT1uKDU1KSxvPW4oODYpLGE9big4MykoXCJzcmNcIikscz1uKDE4MiksbD0oXCJcIitzKS5zcGxpdChcInRvU3RyaW5nXCIpO24oODIpLmluc3BlY3RTb3VyY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHMuY2FsbCh0KX0sKHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixzKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuO2MmJihvKG4sXCJuYW1lXCIpfHxpKG4sXCJuYW1lXCIsZSkpLHRbZV0hPT1uJiYoYyYmKG8obixhKXx8aShuLGEsdFtlXT9cIlwiK3RbZV06bC5qb2luKFN0cmluZyhlKSkpKSx0PT09cj90W2VdPW46cz90W2VdP3RbZV09bjppKHQsZSxuKTooZGVsZXRlIHRbZV0saSh0LGUsbikpKX0pKEZ1bmN0aW9uLnByb3RvdHlwZSxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzJiZ0aGlzW2FdfHxzLmNhbGwodGhpcyl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTk2KSghMCk7bigxMjcpKFN0cmluZyxcIlN0cmluZ1wiLGZ1bmN0aW9uKHQpe3RoaXMuX3Q9U3RyaW5nKHQpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuX3Qsbj10aGlzLl9pO3JldHVybiBuPj1lLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9Oih0PXIoZSxuKSx0aGlzLl9pKz10Lmxlbmd0aCx7dmFsdWU6dCxkb25lOiExfSl9KX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbihlKXtmdW5jdGlvbiBuKCl7dGhpcy5wYXJlbnQ9bnVsbCx0aGlzLm5lc3RlZD1bXSx0aGlzLm5vZGVzPVtdLHRoaXMuZmlsdGVycz1udWxsLHRoaXMuZGlyZWN0aXZlcz1udWxsLHRoaXMuY29udGV4dD1udWxsLHRoaXMudW5iaW5kPW51bGwsdGhpcy5vblJlbmRlcj1udWxsLHRoaXMub25VcGRhdGU9bnVsbCx0aGlzLm9uUmVtb3ZlPW51bGwsdGhpcy5ub0NhY2hlPSExfWZ1bmN0aW9uIHIoKXt0aGlzLml0ZW1zPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5sZW5ndGg9MCx0aGlzLm5leHQ9MH1mdW5jdGlvbiBpKHQsZSxuLHIpe2lmKHIpe3ZhciBpPXtfX2luZGV4X186bn07cmV0dXJuIGlbci52YWx1ZV09dFtuXSxyLmtleSYmKGlbci5rZXldPW4pLGl9cmV0dXJuIHRbbl19ZnVuY3Rpb24gbyh0LGUsbixyKXtpZihyKXt2YXIgaT17X19pbmRleF9fOm59O3JldHVybiBpW3IudmFsdWVdPXRbZVtuXV0sci5rZXkmJihpW3Iua2V5XT1lW25dKSxpfXJldHVybiB0W2Vbbl1dfW4ucmVuZGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtyZXR1cm4gcj1uJiZuLm5vQ2FjaGU/bmV3IHQ6dC5wb29sLnBvcCgpfHxuZXcgdCw4PT1lLm5vZGVUeXBlP3IuaW5zZXJ0QmVmb3JlKGUpOnIuYXBwZW5kVG8oZSksbiYmKG4ucGFyZW50JiYoci5wYXJlbnQ9bi5wYXJlbnQpLG4uY29udGV4dCYmKHIuY29udGV4dD1uLmNvbnRleHQpLG4uZmlsdGVycyYmKHIuZmlsdGVycz1uLmZpbHRlcnMpLG4uZGlyZWN0aXZlcyYmKHIuZGlyZWN0aXZlcz1uLmRpcmVjdGl2ZXMpLG4ubm9DYWNoZSYmKHIubm9DYWNoZT1uLm5vQ2FjaGUpKSxyLm9uUmVuZGVyJiZyLm9uUmVuZGVyKCkscn0sbi5wcmVyZW5kZXI9ZnVuY3Rpb24odCxlKXtmb3IoO2UtLTspdC5wb29sLnB1c2gobmV3IHQpfSxuLmxvb3A9ZnVuY3Rpb24odCxlLHIsYSxzLGwpe3ZhciBjLHUsZixkLGgscCxtPXIubGVuZ3RoO2ZvcihjIGluIEFycmF5LmlzQXJyYXkocyk/KGg9aSxwPXMubGVuZ3RoKTooaD1vLHA9KGQ9T2JqZWN0LmtleXMocykpLmxlbmd0aCksZj1tLXAsci5pdGVtcyl7aWYoIShmLS0gPjApKWJyZWFrO3IuaXRlbXNbY10ucmVtb3ZlKCl9Zm9yKGMgaW4gdT0wLHIuaXRlbXMpci5pdGVtc1tjXS5fX3N0YXRlX189aChzLGQsdSxsKSx1Kys7Zm9yKHU9bSxmPXA7dTxmO3UrKyl7dmFyIGc9bi5yZW5kZXIoYSxlLHtwYXJlbnQ6dCxjb250ZXh0OnQuY29udGV4dCxmaWx0ZXJzOnQuZmlsdGVycyxkaXJlY3RpdmVzOnQuZGlyZWN0aXZlcyxub0NhY2hlOnQubm9DYWNoZX0pO3QubmVzdGVkLnB1c2goZyksYz1yLnB1c2goZyksZy51bmJpbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7ci5yZW1vdmUodCl9fShjKSxnLl9fc3RhdGVfXz1oKHMsZCx1LGwpfX0sbi5jb25kPWZ1bmN0aW9uKHQsZSxyLGksbyl7aWYoci5yZWYpb3x8ci5yZWYucmVtb3ZlKCk7ZWxzZSBpZihvKXt2YXIgYT1uLnJlbmRlcihpLGUse3BhcmVudDp0LGNvbnRleHQ6dC5jb250ZXh0LGZpbHRlcnM6dC5maWx0ZXJzLGRpcmVjdGl2ZXM6dC5kaXJlY3RpdmVzLG5vQ2FjaGU6dC5ub0NhY2hlfSk7dC5uZXN0ZWQucHVzaChhKSxyLnJlZj1hLGEudW5iaW5kPWZ1bmN0aW9uKCl7ci5yZWY9bnVsbH19cmV0dXJuIG99LG4uaW5zZXJ0PWZ1bmN0aW9uKHQsZSxyLGksbyl7aWYoci5yZWYpci5yZWYudXBkYXRlKG8pO2Vsc2V7dmFyIGE9bi5yZW5kZXIoaSxlLHtwYXJlbnQ6dCxjb250ZXh0OnQuY29udGV4dCxmaWx0ZXJzOnQuZmlsdGVycyxkaXJlY3RpdmVzOnQuZGlyZWN0aXZlcyxub0NhY2hlOnQubm9DYWNoZX0pO3QubmVzdGVkLnB1c2goYSksci5yZWY9YSxhLnVuYmluZD1mdW5jdGlvbigpe3IucmVmPW51bGx9LGEudXBkYXRlKG8pfX0sbi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubm9kZXMubGVuZ3RoO3QtLTspdGhpcy5ub2Rlc1t0XS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubm9kZXNbdF0pO2Zvcih0aGlzLnVuYmluZCYmdGhpcy51bmJpbmQoKSx0PXRoaXMubmVzdGVkLmxlbmd0aDt0LS07KXRoaXMubmVzdGVkW3RdLnJlbW92ZSgpO3RoaXMucGFyZW50JiYodD10aGlzLnBhcmVudC5uZXN0ZWQuaW5kZXhPZih0aGlzKSx0aGlzLnBhcmVudC5uZXN0ZWQuc3BsaWNlKHQsMSksdGhpcy5wYXJlbnQ9bnVsbCksdGhpcy5vblJlbW92ZSYmdGhpcy5vblJlbW92ZSgpLHRoaXMubm9DYWNoZXx8dGhpcy5jb25zdHJ1Y3Rvci5wb29sLnB1c2godGhpcyl9LG4ucHJvdG90eXBlLmFwcGVuZFRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5ub2Rlcy5sZW5ndGg7ZTxuO2UrKyl0LmFwcGVuZENoaWxkKHRoaXMubm9kZXNbZV0pfSxuLnByb3RvdHlwZS5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24odCl7aWYoIXQucGFyZW50Tm9kZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IGluc2VydCBjaGlsZCB2aWV3IGludG8gcGFyZW50IG5vZGUuIFlvdSBuZWVkIGFwcGVuZCB5b3VyIHZpZXcgZmlyc3QgYW5kIHRoZW4gdXBkYXRlLlwiKTtmb3IodmFyIGU9MCxuPXRoaXMubm9kZXMubGVuZ3RoO2U8bjtlKyspdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm5vZGVzW2VdLHQpfSxuLnByb3RvdHlwZS5jcmVhdGVEb2N1bWVudD1mdW5jdGlvbigpe2lmKDE9PXRoaXMubm9kZXMubGVuZ3RoKXJldHVybiB0aGlzLm5vZGVzWzBdO2Zvcih2YXIgdD1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuPTAscj10aGlzLm5vZGVzLmxlbmd0aDtuPHI7bisrKXQuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlc1tuXSk7cmV0dXJuIHR9LG4ucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLm5vZGVzLmxlbmd0aDtlKyspe2lmKHRoaXMubm9kZXNbZV0ubWF0Y2hlcyYmdGhpcy5ub2Rlc1tlXS5tYXRjaGVzKHQpKXJldHVybiB0aGlzLm5vZGVzW2VdO2lmKDg9PT10aGlzLm5vZGVzW2VdLm5vZGVUeXBlKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgdXNlIHF1ZXJ5U2VsZWN0b3Igd2l0aCBub24tZWxlbWVudCBub2RlcyBvbiBmaXJzdCBsZXZlbC5cIik7aWYodGhpcy5ub2Rlc1tlXS5xdWVyeVNlbGVjdG9yKXt2YXIgbj10aGlzLm5vZGVzW2VdLnF1ZXJ5U2VsZWN0b3IodCk7aWYobilyZXR1cm4gbn19cmV0dXJuIG51bGx9LHIucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXRlbXNbdGhpcy5uZXh0XT10LHRoaXMubGVuZ3RoKz0xLHRoaXMubmV4dCs9MSx0aGlzLm5leHQtMX0sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2lmKCEodCBpbiB0aGlzLml0ZW1zKSl0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhcmUgdHJ5aW5nIHRvIGRlbGV0ZSBub3QgZXhpc3RpbmcgZWxlbWVudCBcIicrdCsnXCIgZm9ybSBtYXAuJyk7ZGVsZXRlIHRoaXMuaXRlbXNbdF0sdGhpcy5sZW5ndGgtPTF9LHIucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHRoaXMuaXRlbXMpdCh0aGlzLml0ZW1zW2VdKX0sbi5NYXA9cix0LmV4cG9ydHM9bn0od2luZG93LmRvY3VtZW50KX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSxuKXt2YXIgcixpLG8sYSxzO2Z1bmN0aW9uIGwoKXt2YXIgYz1EYXRlLm5vdygpLWE7YzxlJiZjPj0wP3I9c2V0VGltZW91dChsLGUtYyk6KHI9bnVsbCxufHwocz10LmFwcGx5KG8saSksbz1pPW51bGwpKX1udWxsPT1lJiYoZT0xMDApO3ZhciBjPWZ1bmN0aW9uKCl7bz10aGlzLGk9YXJndW1lbnRzLGE9RGF0ZS5ub3coKTt2YXIgYz1uJiYhcjtyZXR1cm4gcnx8KHI9c2V0VGltZW91dChsLGUpKSxjJiYocz10LmFwcGx5KG8saSksbz1pPW51bGwpLHN9O3JldHVybiBjLmNsZWFyPWZ1bmN0aW9uKCl7ciYmKGNsZWFyVGltZW91dChyKSxyPW51bGwpfSxjLmZsdXNoPWZ1bmN0aW9uKCl7ciYmKHM9dC5hcHBseShvLGkpLG89aT1udWxsLGNsZWFyVGltZW91dChyKSxyPW51bGwpfSxjfW4uZGVib3VuY2U9bix0LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBmdW5jdGlvbiFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cIlN5bWJvbChcIi5jb25jYXQodm9pZCAwPT09dD9cIlwiOnQsXCIpX1wiLCgrK24rcikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKS5mLGk9bigxNSksbz1uKDQpKFwidG9TdHJpbmdUYWdcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt0JiYhaSh0PW4/dDp0LnByb3RvdHlwZSxvKSYmcih0LG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTplfSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihudWxsPT10KXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIit0KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQxKSxpPW4oMzgpLG89bigxNiksYT1uKDY3KSxzPW4oMTUpLGw9bigxMDYpLGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtlLmY9big4KT9jOmZ1bmN0aW9uKHQsZSl7aWYodD1vKHQpLGU9YShlLCEwKSxsKXRyeXtyZXR1cm4gYyh0LGUpfWNhdGNoKHQpe31pZihzKHQsZSkpcmV0dXJuIGkoIXIuZi5jYWxsKHQsZSksdFtlXSl9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBuLmNhbGwodCkuc2xpY2UoOCwtMSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9cih0aGlzKSxlPVwiXCI7cmV0dXJuIHQuZ2xvYmFsJiYoZSs9XCJnXCIpLHQuaWdub3JlQ2FzZSYmKGUrPVwiaVwiKSx0Lm11bHRpbGluZSYmKGUrPVwibVwiKSx0LnVuaWNvZGUmJihlKz1cInVcIiksdC5zdGlja3kmJihlKz1cInlcIiksZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQyKSxpPW4oMTE4KTt0LmV4cG9ydHM9bigxMik/ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLmYodCxlLGkoMSxuKSl9OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5MCksaT1uKDE3KSxvPW4oMTk0KSxhPW4oNzkpLHM9bigyOSksbD1uKDgwKSxjPW4oODUpLHU9bigyNCksZj1NYXRoLm1pbixkPVtdLnB1c2gsaD0hdShmdW5jdGlvbigpe1JlZ0V4cCg0Mjk0OTY3Mjk1LFwieVwiKX0pO24oODQpKFwic3BsaXRcIiwyLGZ1bmN0aW9uKHQsZSxuLHUpe3ZhciBwO3JldHVybiBwPVwiY1wiPT1cImFiYmNcIi5zcGxpdCgvKGIpKi8pWzFdfHw0IT1cInRlc3RcIi5zcGxpdCgvKD86KS8sLTEpLmxlbmd0aHx8MiE9XCJhYlwiLnNwbGl0KC8oPzphYikqLykubGVuZ3RofHw0IT1cIi5cIi5zcGxpdCgvKC4/KSguPykvKS5sZW5ndGh8fFwiLlwiLnNwbGl0KC8oKSgpLykubGVuZ3RoPjF8fFwiXCIuc3BsaXQoLy4/LykubGVuZ3RoP2Z1bmN0aW9uKHQsZSl7dmFyIGk9U3RyaW5nKHRoaXMpO2lmKHZvaWQgMD09PXQmJjA9PT1lKXJldHVybltdO2lmKCFyKHQpKXJldHVybiBuLmNhbGwoaSx0LGUpO2Zvcih2YXIgbyxhLHMsbD1bXSx1PSh0Lmlnbm9yZUNhc2U/XCJpXCI6XCJcIikrKHQubXVsdGlsaW5lP1wibVwiOlwiXCIpKyh0LnVuaWNvZGU/XCJ1XCI6XCJcIikrKHQuc3RpY2t5P1wieVwiOlwiXCIpLGY9MCxoPXZvaWQgMD09PWU/NDI5NDk2NzI5NTplPj4+MCxwPW5ldyBSZWdFeHAodC5zb3VyY2UsdStcImdcIik7KG89Yy5jYWxsKHAsaSkpJiYhKChhPXAubGFzdEluZGV4KT5mJiYobC5wdXNoKGkuc2xpY2UoZixvLmluZGV4KSksby5sZW5ndGg+MSYmby5pbmRleDxpLmxlbmd0aCYmZC5hcHBseShsLG8uc2xpY2UoMSkpLHM9b1swXS5sZW5ndGgsZj1hLGwubGVuZ3RoPj1oKSk7KXAubGFzdEluZGV4PT09by5pbmRleCYmcC5sYXN0SW5kZXgrKztyZXR1cm4gZj09PWkubGVuZ3RoPyFzJiZwLnRlc3QoXCJcIil8fGwucHVzaChcIlwiKTpsLnB1c2goaS5zbGljZShmKSksbC5sZW5ndGg+aD9sLnNsaWNlKDAsaCk6bH06XCIwXCIuc3BsaXQodm9pZCAwLDApLmxlbmd0aD9mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYwPT09ZT9bXTpuLmNhbGwodGhpcyx0LGUpfTpuLFtmdW5jdGlvbihuLHIpe3ZhciBpPXQodGhpcyksbz1udWxsPT1uP3ZvaWQgMDpuW2VdO3JldHVybiB2b2lkIDAhPT1vP28uY2FsbChuLGkscik6cC5jYWxsKFN0cmluZyhpKSxuLHIpfSxmdW5jdGlvbih0LGUpe3ZhciByPXUocCx0LHRoaXMsZSxwIT09bik7aWYoci5kb25lKXJldHVybiByLnZhbHVlO3ZhciBjPWkodCksZD1TdHJpbmcodGhpcyksbT1vKGMsUmVnRXhwKSxnPWMudW5pY29kZSx2PShjLmlnbm9yZUNhc2U/XCJpXCI6XCJcIikrKGMubXVsdGlsaW5lP1wibVwiOlwiXCIpKyhjLnVuaWNvZGU/XCJ1XCI6XCJcIikrKGg/XCJ5XCI6XCJnXCIpLHk9bmV3IG0oaD9jOlwiXig/OlwiK2Muc291cmNlK1wiKVwiLHYpLGI9dm9pZCAwPT09ZT80Mjk0OTY3Mjk1OmU+Pj4wO2lmKDA9PT1iKXJldHVybltdO2lmKDA9PT1kLmxlbmd0aClyZXR1cm4gbnVsbD09PWwoeSxkKT9bZF06W107Zm9yKHZhciB4PTAsdz0wLEM9W107dzxkLmxlbmd0aDspe3kubGFzdEluZGV4PWg/dzowO3ZhciBrLF89bCh5LGg/ZDpkLnNsaWNlKHcpKTtpZihudWxsPT09X3x8KGs9ZihzKHkubGFzdEluZGV4KyhoPzA6dykpLGQubGVuZ3RoKSk9PT14KXc9YShkLHcsZyk7ZWxzZXtpZihDLnB1c2goZC5zbGljZSh4LHcpKSxDLmxlbmd0aD09PWIpcmV0dXJuIEM7Zm9yKHZhciBTPTE7Uzw9Xy5sZW5ndGgtMTtTKyspaWYoQy5wdXNoKF9bU10pLEMubGVuZ3RoPT09YilyZXR1cm4gQzt3PXg9a319cmV0dXJuIEMucHVzaChkLnNsaWNlKHgpKSxDfV19KX0sZnVuY3Rpb24odCxlLG4pe24oMTk4KTtmb3IodmFyIHI9bigzKSxpPW4oMjEpLG89bigzMiksYT1uKDQpKFwidG9TdHJpbmdUYWdcIikscz1cIkNTU1J1bGVMaXN0LENTU1N0eWxlRGVjbGFyYXRpb24sQ1NTVmFsdWVMaXN0LENsaWVudFJlY3RMaXN0LERPTVJlY3RMaXN0LERPTVN0cmluZ0xpc3QsRE9NVG9rZW5MaXN0LERhdGFUcmFuc2Zlckl0ZW1MaXN0LEZpbGVMaXN0LEhUTUxBbGxDb2xsZWN0aW9uLEhUTUxDb2xsZWN0aW9uLEhUTUxGb3JtRWxlbWVudCxIVE1MU2VsZWN0RWxlbWVudCxNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LFNWR1BhdGhTZWdMaXN0LFNWR1BvaW50TGlzdCxTVkdTdHJpbmdMaXN0LFNWR1RyYW5zZm9ybUxpc3QsU291cmNlQnVmZmVyTGlzdCxTdHlsZVNoZWV0TGlzdCxUZXh0VHJhY2tDdWVMaXN0LFRleHRUcmFja0xpc3QsVG91Y2hMaXN0XCIuc3BsaXQoXCIsXCIpLGw9MDtsPHMubGVuZ3RoO2wrKyl7dmFyIGM9c1tsXSx1PXJbY10sZj11JiZ1LnByb3RvdHlwZTtmJiYhZlthXSYmaShmLGEsYyksb1tjXT1vLkFycmF5fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1uKDEzOSkoKT9PYmplY3Quc2V0UHJvdG90eXBlT2Y6bigxNDApfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxpPXIuY2FsbChmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gci5jYWxsKHQpPT09aX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGk9ci5jYWxsKFwiXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdHx8dCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJih0IGluc3RhbmNlb2YgU3RyaW5nfHxyLmNhbGwodCk9PT1pKXx8ITF9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjMwKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTAxKSxpPW4oMzA0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hZXx8XCJvYmplY3RcIiE9PXIoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/aSh0KTplfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEzKSxpPW4oMzExKSxvPShuKDE5KSxuKDMxNCkpO2Z1bmN0aW9uIGEoZSxuLHMpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZpP3QuZXhwb3J0cz1hPWk6dC5leHBvcnRzPWE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW8odCxlKTtpZihpKXt2YXIgYT1yKGksZSk7cmV0dXJuIGEuZ2V0P2EuZ2V0LmNhbGwobik6YS52YWx1ZX19LGEoZSxuLHN8fGUpfXQuZXhwb3J0cz1hfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMTUpLGk9bigzMTgpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTt0LnByb3RvdHlwZT1yKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmaSh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDIzMyl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxpPW4oMykuZG9jdW1lbnQsbz1yKGkpJiZyKGkuY3JlYXRlRWxlbWVudCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBvP2kuY3JlYXRlRWxlbWVudCh0KTp7fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighcih0KSlyZXR1cm4gdDt2YXIgbixpO2lmKGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudmFsdWVPZikmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTtpZighZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEpLGk9bigzKSxvPWlbXCJfX2NvcmUtanNfc2hhcmVkX19cIl18fChpW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdPXt9KTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG9bdF18fChvW3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246ci52ZXJzaW9uLG1vZGU6bigzOSk/XCJwdXJlXCI6XCJnbG9iYWxcIixjb3B5cmlnaHQ6XCLCqSAyMDE5IERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCJ9KX0sZnVuY3Rpb24odCxlLG4pe2UuZj1uKDQpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKSxpPW4oMSksbz1uKDM5KSxhPW4oNjkpLHM9bigxMCkuZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9aS5TeW1ib2x8fChpLlN5bWJvbD1vP3t9OnIuU3ltYm9sfHx7fSk7XCJfXCI9PXQuY2hhckF0KDApfHx0IGluIGV8fHMoZSx0LHt2YWx1ZTphLmYodCl9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcyKSxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2kocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odD0rdCk/MDoodD4wP3I6bikodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2OCkoXCJrZXlzXCIpLGk9big0OCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1pKHQpKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mXCIuc3BsaXQoXCIsXCIpfSxmdW5jdGlvbih0LGUpe2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPW4oMTY4KSxvPW4oNzQpLGE9big3MykoXCJJRV9QUk9UT1wiKSxzPWZ1bmN0aW9uKCl7fSxsPWZ1bmN0aW9uKCl7dmFyIHQsZT1uKDY2KShcImlmcmFtZVwiKSxyPW8ubGVuZ3RoO2ZvcihlLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsbigxMTEpLmFwcGVuZENoaWxkKGUpLGUuc3JjPVwiamF2YXNjcmlwdDpcIiwodD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSx0LndyaXRlKFwiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDxcXC9zY3JpcHQ+XCIpLHQuY2xvc2UoKSxsPXQuRjtyLS07KWRlbGV0ZSBsLnByb3RvdHlwZVtvW3JdXTtyZXR1cm4gbCgpfTt0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gbnVsbCE9PXQ/KHMucHJvdG90eXBlPXIodCksbj1uZXcgcyxzLnByb3RvdHlwZT1udWxsLG5bYV09dCk6bj1sKCksdm9pZCAwPT09ZT9uOmkobixlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpLGk9bigxKSxvPW4oMjApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPShpLk9iamVjdHx8e30pW3RdfHxPYmplY3RbdF0sYT17fTthW3RdPWUobikscihyLlMrci5GKm8oZnVuY3Rpb24oKXtuKDEpfSksXCJPYmplY3RcIixhKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE3KSxpPW4oMjkpLG89big3OSksYT1uKDgwKTtuKDg0KShcIm1hdGNoXCIsMSxmdW5jdGlvbih0LGUsbixzKXtyZXR1cm5bZnVuY3Rpb24obil7dmFyIHI9dCh0aGlzKSxpPW51bGw9PW4/dm9pZCAwOm5bZV07cmV0dXJuIHZvaWQgMCE9PWk/aS5jYWxsKG4scik6bmV3IFJlZ0V4cChuKVtlXShTdHJpbmcocikpfSxmdW5jdGlvbih0KXt2YXIgZT1zKG4sdCx0aGlzKTtpZihlLmRvbmUpcmV0dXJuIGUudmFsdWU7dmFyIGw9cih0KSxjPVN0cmluZyh0aGlzKTtpZighbC5nbG9iYWwpcmV0dXJuIGEobCxjKTt2YXIgdT1sLnVuaWNvZGU7bC5sYXN0SW5kZXg9MDtmb3IodmFyIGYsZD1bXSxoPTA7bnVsbCE9PShmPWEobCxjKSk7KXt2YXIgcD1TdHJpbmcoZlswXSk7ZFtoXT1wLFwiXCI9PT1wJiYobC5sYXN0SW5kZXg9byhjLGkobC5sYXN0SW5kZXgpLHUpKSxoKyt9cmV0dXJuIDA9PT1oP251bGw6ZH1dfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE3OCkoITApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUrKG4/cih0LGUpLmxlbmd0aDoxKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDExNSksaT1SZWdFeHAucHJvdG90eXBlLmV4ZWM7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leGVjO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe3ZhciBvPW4uY2FsbCh0LGUpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJSZWdFeHAgZXhlYyBtZXRob2QgcmV0dXJuZWQgc29tZXRoaW5nIG90aGVyIHRoYW4gYW4gT2JqZWN0IG9yIG51bGxcIik7cmV0dXJuIG99aWYoXCJSZWdFeHBcIiE9PXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlZ0V4cCNleGVjIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXJcIik7cmV0dXJuIGkuY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oODIpLGk9bigyMyksbz1pW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdfHwoaVtcIl9fY29yZS1qc19zaGFyZWRfX1wiXT17fSk7KHQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBvW3RdfHwob1t0XT12b2lkIDAhPT1lP2U6e30pfSkoXCJ2ZXJzaW9uc1wiLFtdKS5wdXNoKHt2ZXJzaW9uOnIudmVyc2lvbixtb2RlOm4oMTc5KT9cInB1cmVcIjpcImdsb2JhbFwiLGNvcHlyaWdodDpcIsKpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIn0pfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz17dmVyc2lvbjpcIjIuNi45XCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9bil9LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrbityKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oMTgwKTt2YXIgcj1uKDQzKSxpPW4oNTUpLG89bigyNCksYT1uKDMwKSxzPW4oOSksbD1uKDg1KSxjPXMoXCJzcGVjaWVzXCIpLHU9IW8oZnVuY3Rpb24oKXt2YXIgdD0vLi87cmV0dXJuIHQuZXhlYz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0Lmdyb3Vwcz17YTpcIjdcIn0sdH0sXCI3XCIhPT1cIlwiLnJlcGxhY2UodCxcIiQ8YT5cIil9KSxmPWZ1bmN0aW9uKCl7dmFyIHQ9Lyg/OikvLGU9dC5leGVjO3QuZXhlYz1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIG49XCJhYlwiLnNwbGl0KHQpO3JldHVybiAyPT09bi5sZW5ndGgmJlwiYVwiPT09blswXSYmXCJiXCI9PT1uWzFdfSgpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGQ9cyh0KSxoPSFvKGZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbZF09ZnVuY3Rpb24oKXtyZXR1cm4gN30sNyE9XCJcIlt0XShlKX0pLHA9aD8hbyhmdW5jdGlvbigpe3ZhciBlPSExLG49L2EvO3JldHVybiBuLmV4ZWM9ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxudWxsfSxcInNwbGl0XCI9PT10JiYobi5jb25zdHJ1Y3Rvcj17fSxuLmNvbnN0cnVjdG9yW2NdPWZ1bmN0aW9uKCl7cmV0dXJuIG59KSxuW2RdKFwiXCIpLCFlfSk6dm9pZCAwO2lmKCFofHwhcHx8XCJyZXBsYWNlXCI9PT10JiYhdXx8XCJzcGxpdFwiPT09dCYmIWYpe3ZhciBtPS8uL1tkXSxnPW4oYSxkLFwiXCJbdF0sZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gZS5leGVjPT09bD9oJiYhaT97ZG9uZTohMCx2YWx1ZTptLmNhbGwoZSxuLHIpfTp7ZG9uZTohMCx2YWx1ZTp0LmNhbGwobixlLHIpfTp7ZG9uZTohMX19KSx2PWdbMF0seT1nWzFdO3IoU3RyaW5nLnByb3RvdHlwZSx0LHYpLGkoUmVnRXhwLnByb3RvdHlwZSxkLDI9PWU/ZnVuY3Rpb24odCxlKXtyZXR1cm4geS5jYWxsKHQsdGhpcyxlKX06ZnVuY3Rpb24odCl7cmV0dXJuIHkuY2FsbCh0LHRoaXMpfSl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbz1uKDU0KSxhPVJlZ0V4cC5wcm90b3R5cGUuZXhlYyxzPVN0cmluZy5wcm90b3R5cGUucmVwbGFjZSxsPWEsYz0ocj0vYS8saT0vYiovZyxhLmNhbGwocixcImFcIiksYS5jYWxsKGksXCJhXCIpLDAhPT1yLmxhc3RJbmRleHx8MCE9PWkubGFzdEluZGV4KSx1PXZvaWQgMCE9PS8oKT8/Ly5leGVjKFwiXCIpWzFdOyhjfHx1KSYmKGw9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbD10aGlzO3JldHVybiB1JiYobj1uZXcgUmVnRXhwKFwiXlwiK2wuc291cmNlK1wiJCg/IVxcXFxzKVwiLG8uY2FsbChsKSkpLGMmJihlPWwubGFzdEluZGV4KSxyPWEuY2FsbChsLHQpLGMmJnImJihsLmxhc3RJbmRleD1sLmdsb2JhbD9yLmluZGV4K3JbMF0ubGVuZ3RoOmUpLHUmJnImJnIubGVuZ3RoPjEmJnMuY2FsbChyWzBdLG4sZnVuY3Rpb24oKXtmb3IoaT0xO2k8YXJndW1lbnRzLmxlbmd0aC0yO2krKyl2b2lkIDA9PT1hcmd1bWVudHNbaV0mJihyW2ldPXZvaWQgMCl9KSxyfSksdC5leHBvcnRzPWx9LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTE5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIodCksdm9pZCAwPT09ZSlyZXR1cm4gdDtzd2l0Y2gobil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5jYWxsKGUsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5jYWxsKGUsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIHQuY2FsbChlLG4scixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIzKSxpPW4oMTgzKSxvPW4oNDIpLmYsYT1uKDE4NykuZixzPW4oOTApLGw9big1NCksYz1yLlJlZ0V4cCx1PWMsZj1jLnByb3RvdHlwZSxkPS9hL2csaD0vYS9nLHA9bmV3IGMoZCkhPT1kO2lmKG4oMTIpJiYoIXB8fG4oMjQpKGZ1bmN0aW9uKCl7cmV0dXJuIGhbbig5KShcIm1hdGNoXCIpXT0hMSxjKGQpIT1kfHxjKGgpPT1ofHxcIi9hL2lcIiE9YyhkLFwiaVwiKX0pKSl7Yz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMgaW5zdGFuY2VvZiBjLHI9cyh0KSxvPXZvaWQgMD09PWU7cmV0dXJuIW4mJnImJnQuY29uc3RydWN0b3I9PT1jJiZvP3Q6aShwP25ldyB1KHImJiFvP3Quc291cmNlOnQsZSk6dSgocj10IGluc3RhbmNlb2YgYyk/dC5zb3VyY2U6dCxyJiZvP2wuY2FsbCh0KTplKSxuP3RoaXM6ZixjKX07Zm9yKHZhciBtPWZ1bmN0aW9uKHQpe3QgaW4gY3x8byhjLHQse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdVt0XX0sc2V0OmZ1bmN0aW9uKGUpe3VbdF09ZX19KX0sZz1hKHUpLHY9MDtnLmxlbmd0aD52OyltKGdbdisrXSk7Zi5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlPWYsbig0MykocixcIlJlZ0V4cFwiLGMpfW4oMTkyKShcIlJlZ0V4cFwiKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTIwKSxpPW4oMzApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihpKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyKSxpPW4oNTMpLG89big5KShcIm1hdGNoXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gcih0KSYmKHZvaWQgMCE9PShlPXRbb10pPyEhZTpcIlJlZ0V4cFwiPT1pKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE3KSxpPW4oMTIyKSxvPW4oMjkpLGE9big1Mikscz1uKDc5KSxsPW4oODApLGM9TWF0aC5tYXgsdT1NYXRoLm1pbixmPU1hdGguZmxvb3IsZD0vXFwkKFskJmAnXXxcXGRcXGQ/fDxbXj5dKj4pL2csaD0vXFwkKFskJmAnXXxcXGRcXGQ/KS9nO24oODQpKFwicmVwbGFjZVwiLDIsZnVuY3Rpb24odCxlLG4scCl7cmV0dXJuW2Z1bmN0aW9uKHIsaSl7dmFyIG89dCh0aGlzKSxhPW51bGw9PXI/dm9pZCAwOnJbZV07cmV0dXJuIHZvaWQgMCE9PWE/YS5jYWxsKHIsbyxpKTpuLmNhbGwoU3RyaW5nKG8pLHIsaSl9LGZ1bmN0aW9uKHQsZSl7dmFyIGk9cChuLHQsdGhpcyxlKTtpZihpLmRvbmUpcmV0dXJuIGkudmFsdWU7dmFyIGY9cih0KSxkPVN0cmluZyh0aGlzKSxoPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU7aHx8KGU9U3RyaW5nKGUpKTt2YXIgZz1mLmdsb2JhbDtpZihnKXt2YXIgdj1mLnVuaWNvZGU7Zi5sYXN0SW5kZXg9MH1mb3IodmFyIHk9W107Oyl7dmFyIGI9bChmLGQpO2lmKG51bGw9PT1iKWJyZWFrO2lmKHkucHVzaChiKSwhZylicmVhaztcIlwiPT09U3RyaW5nKGJbMF0pJiYoZi5sYXN0SW5kZXg9cyhkLG8oZi5sYXN0SW5kZXgpLHYpKX1mb3IodmFyIHgsdz1cIlwiLEM9MCxrPTA7azx5Lmxlbmd0aDtrKyspe2I9eVtrXTtmb3IodmFyIF89U3RyaW5nKGJbMF0pLFM9Yyh1KGEoYi5pbmRleCksZC5sZW5ndGgpLDApLEU9W10sVD0xO1Q8Yi5sZW5ndGg7VCsrKUUucHVzaCh2b2lkIDA9PT0oeD1iW1RdKT94OlN0cmluZyh4KSk7dmFyIE89Yi5ncm91cHM7aWYoaCl7dmFyIE09W19dLmNvbmNhdChFLFMsZCk7dm9pZCAwIT09TyYmTS5wdXNoKE8pO3ZhciBMPVN0cmluZyhlLmFwcGx5KHZvaWQgMCxNKSl9ZWxzZSBMPW0oXyxkLFMsRSxPLGUpO1M+PUMmJih3Kz1kLnNsaWNlKEMsUykrTCxDPVMrXy5sZW5ndGgpfXJldHVybiB3K2Quc2xpY2UoQyl9XTtmdW5jdGlvbiBtKHQsZSxyLG8sYSxzKXt2YXIgbD1yK3QubGVuZ3RoLGM9by5sZW5ndGgsdT1oO3JldHVybiB2b2lkIDAhPT1hJiYoYT1pKGEpLHU9ZCksbi5jYWxsKHMsdSxmdW5jdGlvbihuLGkpe3ZhciBzO3N3aXRjaChpLmNoYXJBdCgwKSl7Y2FzZVwiJFwiOnJldHVyblwiJFwiO2Nhc2VcIiZcIjpyZXR1cm4gdDtjYXNlXCJgXCI6cmV0dXJuIGUuc2xpY2UoMCxyKTtjYXNlXCInXCI6cmV0dXJuIGUuc2xpY2UobCk7Y2FzZVwiPFwiOnM9YVtpLnNsaWNlKDEsLTEpXTticmVhaztkZWZhdWx0OnZhciB1PStpO2lmKDA9PT11KXJldHVybiBuO2lmKHU+Yyl7dmFyIGQ9Zih1LzEwKTtyZXR1cm4gMD09PWQ/bjpkPD1jP3ZvaWQgMD09PW9bZC0xXT9pLmNoYXJBdCgxKTpvW2QtMV0raS5jaGFyQXQoMSk6bn1zPW9bdS0xXX1yZXR1cm4gdm9pZCAwPT09cz9cIlwiOnN9KX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLGk9bigxMjEpKCEwKTtyKHIuUCxcIkFycmF5XCIse2luY2x1ZGVzOmZ1bmN0aW9uKHQpe3JldHVybiBpKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbigxMjMpKFwiaW5jbHVkZXNcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMxKSxpPW4oMTI0KTtyKHIuUCtyLkYqbigxMjUpKFwiaW5jbHVkZXNcIiksXCJTdHJpbmdcIix7aW5jbHVkZXM6ZnVuY3Rpb24odCl7cmV0dXJuISF+aSh0aGlzLHQsXCJpbmNsdWRlc1wiKS5pbmRleE9mKHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNSksaT1uKDI4KSxvPW4oNzMpKFwiSUVfUFJPVE9cIiksYT1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQpe3JldHVybiB0PWkodCkscih0LG8pP3Rbb106XCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb25zdHJ1Y3RvciYmdCBpbnN0YW5jZW9mIHQuY29uc3RydWN0b3I/dC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6dCBpbnN0YW5jZW9mIE9iamVjdD9hOm51bGx9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MCksaT1uKDQpKFwidG9TdHJpbmdUYWdcIiksbz1cIkFyZ3VtZW50c1wiPT1yKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sYTtyZXR1cm4gdm9pZCAwPT09dD9cIlVuZGVmaW5lZFwiOm51bGw9PT10P1wiTnVsbFwiOlwic3RyaW5nXCI9PXR5cGVvZihuPWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiB0W2VdfWNhdGNoKHQpe319KGU9T2JqZWN0KHQpLGkpKT9uOm8/cihlKTpcIk9iamVjdFwiPT0oYT1yKGUpKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jYWxsZWU/XCJBcmd1bWVudHNcIjphfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTUpLGk9big0KShcIml0ZXJhdG9yXCIpLG89bigzMik7dC5leHBvcnRzPW4oMSkuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24odCl7aWYobnVsbCE9dClyZXR1cm4gdFtpXXx8dFtcIkBAaXRlcmF0b3JcIl18fG9bcih0KV19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big0Nyk7ZnVuY3Rpb24gaSh0KXt2YXIgZSxuO3RoaXMucHJvbWlzZT1uZXcgdChmdW5jdGlvbih0LHIpe2lmKHZvaWQgMCE9PWV8fHZvaWQgMCE9PW4pdGhyb3cgVHlwZUVycm9yKFwiQmFkIFByb21pc2UgY29uc3RydWN0b3JcIik7ZT10LG49cn0pLHRoaXMucmVzb2x2ZT1yKGUpLHRoaXMucmVqZWN0PXIobil9dC5leHBvcnRzLmY9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpKHQpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1uKDI2MykoKT9PYmplY3QuYXNzaWduOm4oMjY0KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1uKDI2OSkoKT9TdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zOm4oMjcwKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9bigxMzYpLG89big5OCksYT1uKDE0KSxzPW4oMTMpLGw9bigyNSksYz1uKDI4MCksdT1uKDE4KSxmPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxkPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO3QuZXhwb3J0cz1yPWZ1bmN0aW9uKHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgcikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnN0cnVjdG9yIHJlcXVpcmVzICduZXcnXCIpO2QodGhpcyx7X19saXN0X186bChcIndcIixzKHQpKSxfX2NvbnRleHRfXzpsKFwid1wiLGUpLF9fbmV4dEluZGV4X186bChcIndcIiwwKX0pLGUmJihhKGUub24pLGUub24oXCJfYWRkXCIsdGhpcy5fb25BZGQpLGUub24oXCJfZGVsZXRlXCIsdGhpcy5fb25EZWxldGUpLGUub24oXCJfY2xlYXJcIix0aGlzLl9vbkNsZWFyKSl9LGRlbGV0ZSByLnByb3RvdHlwZS5jb25zdHJ1Y3RvcixkKHIucHJvdG90eXBlLG8oe19uZXh0OmwoZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLl9fbGlzdF9fKXJldHVybiB0aGlzLl9fcmVkb19fJiZ2b2lkIDAhPT0odD10aGlzLl9fcmVkb19fLnNoaWZ0KCkpP3Q6dGhpcy5fX25leHRJbmRleF9fPHRoaXMuX19saXN0X18ubGVuZ3RoP3RoaXMuX19uZXh0SW5kZXhfXysrOnZvaWQgdGhpcy5fdW5CaW5kKCl9KSxuZXh0OmwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3JlYXRlUmVzdWx0KHRoaXMuX25leHQoKSl9KSxfY3JlYXRlUmVzdWx0OmwoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/e2RvbmU6ITAsdmFsdWU6dm9pZCAwfTp7ZG9uZTohMSx2YWx1ZTp0aGlzLl9yZXNvbHZlKHQpfX0pLF9yZXNvbHZlOmwoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19saXN0X19bdF19KSxfdW5CaW5kOmwoZnVuY3Rpb24oKXt0aGlzLl9fbGlzdF9fPW51bGwsZGVsZXRlIHRoaXMuX19yZWRvX18sdGhpcy5fX2NvbnRleHRfXyYmKHRoaXMuX19jb250ZXh0X18ub2ZmKFwiX2FkZFwiLHRoaXMuX29uQWRkKSx0aGlzLl9fY29udGV4dF9fLm9mZihcIl9kZWxldGVcIix0aGlzLl9vbkRlbGV0ZSksdGhpcy5fX2NvbnRleHRfXy5vZmYoXCJfY2xlYXJcIix0aGlzLl9vbkNsZWFyKSx0aGlzLl9fY29udGV4dF9fPW51bGwpfSksdG9TdHJpbmc6bChmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBcIisodGhpc1t1LnRvU3RyaW5nVGFnXXx8XCJPYmplY3RcIikrXCJdXCJ9KX0sYyh7X29uQWRkOmwoZnVuY3Rpb24odCl7dD49dGhpcy5fX25leHRJbmRleF9ffHwoKyt0aGlzLl9fbmV4dEluZGV4X18sdGhpcy5fX3JlZG9fXz8odGhpcy5fX3JlZG9fXy5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7ZT49dCYmKHRoaXMuX19yZWRvX19bbl09KytlKX0sdGhpcyksdGhpcy5fX3JlZG9fXy5wdXNoKHQpKTpmKHRoaXMsXCJfX3JlZG9fX1wiLGwoXCJjXCIsW3RdKSkpfSksX29uRGVsZXRlOmwoZnVuY3Rpb24odCl7dmFyIGU7dD49dGhpcy5fX25leHRJbmRleF9ffHwoLS10aGlzLl9fbmV4dEluZGV4X18sdGhpcy5fX3JlZG9fXyYmKC0xIT09KGU9dGhpcy5fX3JlZG9fXy5pbmRleE9mKHQpKSYmdGhpcy5fX3JlZG9fXy5zcGxpY2UoZSwxKSx0aGlzLl9fcmVkb19fLmZvckVhY2goZnVuY3Rpb24oZSxuKXtlPnQmJih0aGlzLl9fcmVkb19fW25dPS0tZSl9LHRoaXMpKSl9KSxfb25DbGVhcjpsKGZ1bmN0aW9uKCl7dGhpcy5fX3JlZG9fXyYmaS5jYWxsKHRoaXMuX19yZWRvX18pLHRoaXMuX19uZXh0SW5kZXhfXz0wfSl9KSkpLGYoci5wcm90b3R5cGUsdS5pdGVyYXRvcixsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxMSksaT1uKDIxMyk7ZnVuY3Rpb24gbyh0KXtyZXR1cm4obz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZcInN5bWJvbFwiPT10eXBlb2Ygcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZ0LmNvbnN0cnVjdG9yPT09aSYmdCE9PWkucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9KSh0KX1mdW5jdGlvbiBhKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJlwic3ltYm9sXCI9PT1vKHIpP3QuZXhwb3J0cz1hPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQpfTp0LmV4cG9ydHM9YT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmdC5jb25zdHJ1Y3Rvcj09PWkmJnQhPT1pLnByb3RvdHlwZT9cInN5bWJvbFwiOm8odCl9LGEoZSl9dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyOTQpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybihlPVwibnVtYmVyXCI9PXR5cGVvZiBlP2U6MS8wKT9mdW5jdGlvbiB0KG4scil7cmV0dXJuIG4ucmVkdWNlKGZ1bmN0aW9uKG4saSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoaSkmJnI8ZT9uLmNvbmNhdCh0KGkscisxKSk6bi5jb25jYXQoaSl9LFtdKX0odCwxKTpBcnJheS5pc0FycmF5KHQpP3QubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0fSk6dH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxNjMpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzKSxpPW4oMTUpLG89big4KSxhPW4oMikscz1uKDEwNyksbD1uKDE2NCkuS0VZLGM9bigyMCksdT1uKDY4KSxmPW4oNDkpLGQ9big0OCksaD1uKDQpLHA9big2OSksbT1uKDcwKSxnPW4oMTY1KSx2PW4oMTEwKSx5PW4oNyksYj1uKDExKSx4PW4oMjgpLHc9bigxNiksQz1uKDY3KSxrPW4oMzgpLF89big3NiksUz1uKDE2OSksRT1uKDUxKSxUPW4oNzUpLE89bigxMCksTT1uKDI3KSxMPUUuZixBPU8uZixOPVMuZixQPXIuU3ltYm9sLEY9ci5KU09OLEk9RiYmRi5zdHJpbmdpZnksaj1oKFwiX2hpZGRlblwiKSxEPWgoXCJ0b1ByaW1pdGl2ZVwiKSx6PXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLFI9dShcInN5bWJvbC1yZWdpc3RyeVwiKSxCPXUoXCJzeW1ib2xzXCIpLEg9dShcIm9wLXN5bWJvbHNcIiksVz1PYmplY3QucHJvdG90eXBlLFU9XCJmdW5jdGlvblwiPT10eXBlb2YgUCYmISFULmYsVj1yLlFPYmplY3QsRz0hVnx8IVYucHJvdG90eXBlfHwhVi5wcm90b3R5cGUuZmluZENoaWxkLEs9byYmYyhmdW5jdGlvbigpe3JldHVybiA3IT1fKEEoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBBKHRoaXMsXCJhXCIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24odCxlLG4pe3ZhciByPUwoVyxlKTtyJiZkZWxldGUgV1tlXSxBKHQsZSxuKSxyJiZ0IT09VyYmQShXLGUscil9OkEsJD1mdW5jdGlvbih0KXt2YXIgZT1CW3RdPV8oUC5wcm90b3R5cGUpO3JldHVybiBlLl9rPXQsZX0scT1VJiZcInN5bWJvbFwiPT10eXBlb2YgUC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBQfSxZPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdD09PVcmJlkoSCxlLG4pLHkodCksZT1DKGUsITApLHkobiksaShCLGUpPyhuLmVudW1lcmFibGU/KGkodCxqKSYmdFtqXVtlXSYmKHRbal1bZV09ITEpLG49XyhuLHtlbnVtZXJhYmxlOmsoMCwhMSl9KSk6KGkodCxqKXx8QSh0LGosaygxLHt9KSksdFtqXVtlXT0hMCksSyh0LGUsbikpOkEodCxlLG4pfSxKPWZ1bmN0aW9uKHQsZSl7eSh0KTtmb3IodmFyIG4scj1nKGU9dyhlKSksaT0wLG89ci5sZW5ndGg7bz5pOylZKHQsbj1yW2krK10sZVtuXSk7cmV0dXJuIHR9LFg9ZnVuY3Rpb24odCl7dmFyIGU9ei5jYWxsKHRoaXMsdD1DKHQsITApKTtyZXR1cm4hKHRoaXM9PT1XJiZpKEIsdCkmJiFpKEgsdCkpJiYoIShlfHwhaSh0aGlzLHQpfHwhaShCLHQpfHxpKHRoaXMsaikmJnRoaXNbal1bdF0pfHxlKX0sWj1mdW5jdGlvbih0LGUpe2lmKHQ9dyh0KSxlPUMoZSwhMCksdCE9PVd8fCFpKEIsZSl8fGkoSCxlKSl7dmFyIG49TCh0LGUpO3JldHVybiFufHwhaShCLGUpfHxpKHQsaikmJnRbal1bZV18fChuLmVudW1lcmFibGU9ITApLG59fSxRPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPU4odyh0KSkscj1bXSxvPTA7bi5sZW5ndGg+bzspaShCLGU9bltvKytdKXx8ZT09anx8ZT09bHx8ci5wdXNoKGUpO3JldHVybiByfSx0dD1mdW5jdGlvbih0KXtmb3IodmFyIGUsbj10PT09VyxyPU4obj9IOncodCkpLG89W10sYT0wO3IubGVuZ3RoPmE7KSFpKEIsZT1yW2ErK10pfHxuJiYhaShXLGUpfHxvLnB1c2goQltlXSk7cmV0dXJuIG99O1V8fChzKChQPWZ1bmN0aW9uKCl7aWYodGhpcyBpbnN0YW5jZW9mIFApdGhyb3cgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yIVwiKTt2YXIgdD1kKGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKSxlPWZ1bmN0aW9uKG4pe3RoaXM9PT1XJiZlLmNhbGwoSCxuKSxpKHRoaXMsaikmJmkodGhpc1tqXSx0KSYmKHRoaXNbal1bdF09ITEpLEsodGhpcyx0LGsoMSxuKSl9O3JldHVybiBvJiZHJiZLKFcsdCx7Y29uZmlndXJhYmxlOiEwLHNldDplfSksJCh0KX0pLnByb3RvdHlwZSxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLEUuZj1aLE8uZj1ZLG4oMTEyKS5mPVMuZj1RLG4oNDEpLmY9WCxULmY9dHQsbyYmIW4oMzkpJiZzKFcsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFgsITApLHAuZj1mdW5jdGlvbih0KXtyZXR1cm4gJChoKHQpKX0pLGEoYS5HK2EuVythLkYqIVUse1N5bWJvbDpQfSk7Zm9yKHZhciBldD1cImhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzXCIuc3BsaXQoXCIsXCIpLG50PTA7ZXQubGVuZ3RoPm50OyloKGV0W250KytdKTtmb3IodmFyIHJ0PU0oaC5zdG9yZSksaXQ9MDtydC5sZW5ndGg+aXQ7KW0ocnRbaXQrK10pO2EoYS5TK2EuRiohVSxcIlN5bWJvbFwiLHtmb3I6ZnVuY3Rpb24odCl7cmV0dXJuIGkoUix0Kz1cIlwiKT9SW3RdOlJbdF09UCh0KX0sa2V5Rm9yOmZ1bmN0aW9uKHQpe2lmKCFxKHQpKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIHN5bWJvbCFcIik7Zm9yKHZhciBlIGluIFIpaWYoUltlXT09PXQpcmV0dXJuIGV9LHVzZVNldHRlcjpmdW5jdGlvbigpe0c9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0c9ITF9fSksYShhLlMrYS5GKiFVLFwiT2JqZWN0XCIse2NyZWF0ZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lP18odCk6SihfKHQpLGUpfSxkZWZpbmVQcm9wZXJ0eTpZLGRlZmluZVByb3BlcnRpZXM6SixnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6WixnZXRPd25Qcm9wZXJ0eU5hbWVzOlEsZ2V0T3duUHJvcGVydHlTeW1ib2xzOnR0fSk7dmFyIG90PWMoZnVuY3Rpb24oKXtULmYoMSl9KTthKGEuUythLkYqb3QsXCJPYmplY3RcIix7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKHQpe3JldHVybiBULmYoeCh0KSl9fSksRiYmYShhLlMrYS5GKighVXx8YyhmdW5jdGlvbigpe3ZhciB0PVAoKTtyZXR1cm5cIltudWxsXVwiIT1JKFt0XSl8fFwie31cIiE9SSh7YTp0fSl8fFwie31cIiE9SShPYmplY3QodCkpfSkpLFwiSlNPTlwiLHtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scj1bdF0saT0xO2FyZ3VtZW50cy5sZW5ndGg+aTspci5wdXNoKGFyZ3VtZW50c1tpKytdKTtpZihuPWU9clsxXSwoYihlKXx8dm9pZCAwIT09dCkmJiFxKHQpKXJldHVybiB2KGUpfHwoZT1mdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihlPW4uY2FsbCh0aGlzLHQsZSkpLCFxKGUpKXJldHVybiBlfSksclsxXT1lLEkuYXBwbHkoRixyKX19KSxQLnByb3RvdHlwZVtEXXx8bigyMSkoUC5wcm90b3R5cGUsRCxQLnByb3RvdHlwZS52YWx1ZU9mKSxmKFAsXCJTeW1ib2xcIiksZihNYXRoLFwiTWF0aFwiLCEwKSxmKHIuSlNPTixcIkpTT05cIiwhMCl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oOCkmJiFuKDIwKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobig2NikoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDIxKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTUpLGk9bigxNiksbz1uKDE2NikoITEpLGE9big3MykoXCJJRV9QUk9UT1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixzPWkodCksbD0wLGM9W107Zm9yKG4gaW4gcyluIT1hJiZyKHMsbikmJmMucHVzaChuKTtmb3IoO2UubGVuZ3RoPmw7KXIocyxuPWVbbCsrXSkmJih+byhjLG4pfHxjLnB1c2gobikpO3JldHVybiBjfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDApO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDApO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIkFycmF5XCI9PXIodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKS5kb2N1bWVudDt0LmV4cG9ydHM9ciYmci5kb2N1bWVudEVsZW1lbnR9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwOCksaT1uKDc0KS5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKTtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTczKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDE3Nil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUzKSxpPW4oOSkoXCJ0b1N0cmluZ1RhZ1wiKSxvPVwiQXJndW1lbnRzXCI9PXIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixhO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2godCl7fX0oZT1PYmplY3QodCksaSkpP246bz9yKGUpOlwiT2JqZWN0XCI9PShhPXIoZSkpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbGxlZT9cIkFyZ3VtZW50c1wiOmF9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPSFuKDEyKSYmIW4oMjQpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuKDE4MSkoXCJkaXZcIiksXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLGk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUzKTt0LmV4cG9ydHM9T2JqZWN0KFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuXCJTdHJpbmdcIj09cih0KT90LnNwbGl0KFwiXCIpOk9iamVjdCh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDg5KSxpPW4oMjkpLG89bigxODkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGEpe3ZhciBzLGw9cihlKSxjPWkobC5sZW5ndGgpLHU9byhhLGMpO2lmKHQmJm4hPW4pe2Zvcig7Yz51OylpZigocz1sW3UrK10pIT1zKXJldHVybiEwfWVsc2UgZm9yKDtjPnU7dSsrKWlmKCh0fHx1IGluIGwpJiZsW3VdPT09bilyZXR1cm4gdHx8dXx8MDtyZXR1cm4hdCYmLTF9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KHIodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOSkoXCJ1bnNjb3BhYmxlc1wiKSxpPUFycmF5LnByb3RvdHlwZTtudWxsPT1pW3JdJiZuKDU1KShpLHIse30pLHQuZXhwb3J0cz1mdW5jdGlvbih0KXtpW3JdW3RdPSEwfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOTApLGk9bigzMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcihcIlN0cmluZyNcIituK1wiIGRvZXNuJ3QgYWNjZXB0IHJlZ2V4IVwiKTtyZXR1cm4gU3RyaW5nKGkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOSkoXCJtYXRjaFwiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9Ly4vO3RyeXtcIi8uL1wiW3RdKGUpfWNhdGNoKG4pe3RyeXtyZXR1cm4gZVtyXT0hMSwhXCIvLi9cIlt0XShlKX1jYXRjaCh0KXt9fXJldHVybiEwfX0sZnVuY3Rpb24odCxlKXt9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDM5KSxpPW4oMiksbz1uKDEwNyksYT1uKDIxKSxzPW4oMzIpLGw9bigxOTcpLGM9big0OSksdT1uKDk0KSxmPW4oNCkoXCJpdGVyYXRvclwiKSxkPSEoW10ua2V5cyYmXCJuZXh0XCJpbltdLmtleXMoKSksaD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scCxtLGcsdil7bChuLGUscCk7dmFyIHksYix4LHc9ZnVuY3Rpb24odCl7aWYoIWQmJnQgaW4gUylyZXR1cm4gU1t0XTtzd2l0Y2godCl7Y2FzZVwia2V5c1wiOmNhc2VcInZhbHVlc1wiOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyx0KX19LEM9ZStcIiBJdGVyYXRvclwiLGs9XCJ2YWx1ZXNcIj09bSxfPSExLFM9dC5wcm90b3R5cGUsRT1TW2ZdfHxTW1wiQEBpdGVyYXRvclwiXXx8bSYmU1ttXSxUPUV8fHcobSksTz1tP2s/dyhcImVudHJpZXNcIik6VDp2b2lkIDAsTT1cIkFycmF5XCI9PWUmJlMuZW50cmllc3x8RTtpZihNJiYoeD11KE0uY2FsbChuZXcgdCkpKSE9PU9iamVjdC5wcm90b3R5cGUmJngubmV4dCYmKGMoeCxDLCEwKSxyfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB4W2ZdfHxhKHgsZixoKSksayYmRSYmXCJ2YWx1ZXNcIiE9PUUubmFtZSYmKF89ITAsVD1mdW5jdGlvbigpe3JldHVybiBFLmNhbGwodGhpcyl9KSxyJiYhdnx8IWQmJiFfJiZTW2ZdfHxhKFMsZixUKSxzW2VdPVQsc1tDXT1oLG0paWYoeT17dmFsdWVzOms/VDp3KFwidmFsdWVzXCIpLGtleXM6Zz9UOncoXCJrZXlzXCIpLGVudHJpZXM6T30sdilmb3IoYiBpbiB5KWIgaW4gU3x8byhTLGIseVtiXSk7ZWxzZSBpKGkuUCtpLkYqKGR8fF8pLGUseSk7cmV0dXJuIHl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4saSl7dHJ5e3JldHVybiBpP2UocihuKVswXSxuWzFdKTplKG4pfWNhdGNoKGUpe3ZhciBvPXQucmV0dXJuO3Rocm93IHZvaWQgMCE9PW8mJnIoby5jYWxsKHQpKSxlfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMyKSxpPW4oNCkoXCJpdGVyYXRvclwiKSxvPUFycmF5LnByb3RvdHlwZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihyLkFycmF5PT09dHx8b1tpXT09PXQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1uKDQ3KSxvPW4oNCkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGE9cih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/ZTppKG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGksbyxhPW4oMjYpLHM9bigyMDQpLGw9bigxMTEpLGM9big2NiksdT1uKDMpLGY9dS5wcm9jZXNzLGQ9dS5zZXRJbW1lZGlhdGUsaD11LmNsZWFySW1tZWRpYXRlLHA9dS5NZXNzYWdlQ2hhbm5lbCxtPXUuRGlzcGF0Y2gsZz0wLHY9e30seT1mdW5jdGlvbigpe3ZhciB0PSt0aGlzO2lmKHYuaGFzT3duUHJvcGVydHkodCkpe3ZhciBlPXZbdF07ZGVsZXRlIHZbdF0sZSgpfX0sYj1mdW5jdGlvbih0KXt5LmNhbGwodC5kYXRhKX07ZCYmaHx8KGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MTthcmd1bWVudHMubGVuZ3RoPm47KWUucHVzaChhcmd1bWVudHNbbisrXSk7cmV0dXJuIHZbKytnXT1mdW5jdGlvbigpe3MoXCJmdW5jdGlvblwiPT10eXBlb2YgdD90OkZ1bmN0aW9uKHQpLGUpfSxyKGcpLGd9LGg9ZnVuY3Rpb24odCl7ZGVsZXRlIHZbdF19LFwicHJvY2Vzc1wiPT1uKDQwKShmKT9yPWZ1bmN0aW9uKHQpe2YubmV4dFRpY2soYSh5LHQsMSkpfTptJiZtLm5vdz9yPWZ1bmN0aW9uKHQpe20ubm93KGEoeSx0LDEpKX06cD8obz0oaT1uZXcgcCkucG9ydDIsaS5wb3J0MS5vbm1lc3NhZ2U9YixyPWEoby5wb3N0TWVzc2FnZSxvLDEpKTp1LmFkZEV2ZW50TGlzdGVuZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHBvc3RNZXNzYWdlJiYhdS5pbXBvcnRTY3JpcHRzPyhyPWZ1bmN0aW9uKHQpe3UucG9zdE1lc3NhZ2UodCtcIlwiLFwiKlwiKX0sdS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGIsITEpKTpyPVwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBjKFwic2NyaXB0XCIpP2Z1bmN0aW9uKHQpe2wuYXBwZW5kQ2hpbGQoYyhcInNjcmlwdFwiKSkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7bC5yZW1vdmVDaGlsZCh0aGlzKSx5LmNhbGwodCl9fTpmdW5jdGlvbih0KXtzZXRUaW1lb3V0KGEoeSx0LDEpLDApfSksdC5leHBvcnRzPXtzZXQ6ZCxjbGVhcjpofX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybntlOiExLHY6dCgpfX1jYXRjaCh0KXtyZXR1cm57ZTohMCx2OnR9fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9bigxMSksbz1uKDk3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihyKHQpLGkoZSkmJmUuY29uc3RydWN0b3I9PT10KXJldHVybiBlO3ZhciBuPW8uZih0KTtyZXR1cm4oMCxuLnJlc29sdmUpKGUpLG4ucHJvbWlzZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQpKFwiaXRlcmF0b3JcIiksaT0hMTt0cnl7dmFyIG89WzddW3JdKCk7by5yZXR1cm49ZnVuY3Rpb24oKXtpPSEwfSxBcnJheS5mcm9tKG8sZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2godCl7fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFlJiYhaSlyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIG89WzddLGE9b1tyXSgpO2EubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fSxvW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGF9LHQobyl9Y2F0Y2godCl7fXJldHVybiBufX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXHRcXG5cXHZcXGZcXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVxcdWZlZmZcIn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTMpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiByKHRoaXMpLmxlbmd0aD0wLHRoaXN9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjU3KSxpPU1hdGgubWF4O3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaSgwLHIodCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPU9iamVjdC5jcmVhdGUsaT1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysbz17fTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3Quc2V0UHJvdG90eXBlT2YsZT1hcmd1bWVudHNbMF18fHI7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmaSh0KGUobnVsbCksbykpPT09b319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpLG8sYSxzPW4oMjYxKSxsPW4oMTMpLGM9T2JqZWN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mLHU9T2JqZWN0LmRlZmluZVByb3BlcnR5LGY9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH07cj1mdW5jdGlvbih0LGUpe2lmKGwodCksbnVsbD09PWV8fHMoZSkpcmV0dXJuIHQ7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3RvdHlwZSBtdXN0IGJlIG51bGwgb3IgYW4gb2JqZWN0XCIpfSx0LmV4cG9ydHM9KGk9ZnVuY3Rpb24oKXt2YXIgdCxlPU9iamVjdC5jcmVhdGUobnVsbCksbj17fSxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSxcIl9fcHJvdG9fX1wiKTtpZihyKXt0cnl7KHQ9ci5zZXQpLmNhbGwoZSxuKX1jYXRjaCh0KXt9aWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bilyZXR1cm57c2V0OnQsbGV2ZWw6Mn19cmV0dXJuIGUuX19wcm90b19fPW4sT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09bj97bGV2ZWw6Mn06KChlPXt9KS5fX3Byb3RvX189bixPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1uJiZ7bGV2ZWw6MX0pfSgpKT8oMj09PWkubGV2ZWw/aS5zZXQ/KGE9aS5zZXQsbz1mdW5jdGlvbih0LGUpe3JldHVybiBhLmNhbGwocih0LGUpLGUpLHR9KTpvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIodCxlKS5fX3Byb3RvX189ZSx0fTpvPWZ1bmN0aW9uIHQoZSxuKXt2YXIgaTtyZXR1cm4gcihlLG4pLChpPWMuY2FsbCh0Lm51bGxQb2x5ZmlsbCxlKSkmJmRlbGV0ZSB0Lm51bGxQb2x5ZmlsbC5fX3Byb3RvX18sbnVsbD09PW4mJihuPXQubnVsbFBvbHlmaWxsKSxlLl9fcHJvdG9fXz1uLGkmJnUodC5udWxsUG9seWZpbGwsXCJfX3Byb3RvX19cIixmKSxlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImxldmVsXCIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiExLHZhbHVlOmkubGV2ZWx9KSk6bnVsbCxuKDI2Mil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMzKSxpPUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLG89T2JqZWN0LmNyZWF0ZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9byhudWxsKTtyZXR1cm4gaS5jYWxsKGFyZ3VtZW50cyxmdW5jdGlvbih0KXtyKHQpJiZmdW5jdGlvbih0LGUpe3ZhciBuO2ZvcihuIGluIHQpZVtuXT10W25dfShPYmplY3QodCksZSl9KSxlfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjc2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBpdGVyYWJsZVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuKDI5Mik7dmFyIHI9bigxNyksaT1uKDU0KSxvPW4oMTIpLGE9Ly4vLnRvU3RyaW5nLHM9ZnVuY3Rpb24odCl7big0MykoUmVnRXhwLnByb3RvdHlwZSxcInRvU3RyaW5nXCIsdCwhMCl9O24oMjQpKGZ1bmN0aW9uKCl7cmV0dXJuXCIvYS9iXCIhPWEuY2FsbCh7c291cmNlOlwiYVwiLGZsYWdzOlwiYlwifSl9KT9zKGZ1bmN0aW9uKCl7dmFyIHQ9cih0aGlzKTtyZXR1cm5cIi9cIi5jb25jYXQodC5zb3VyY2UsXCIvXCIsXCJmbGFnc1wiaW4gdD90LmZsYWdzOiFvJiZ0IGluc3RhbmNlb2YgUmVnRXhwP2kuY2FsbCh0KTp2b2lkIDApfSk6XCJ0b1N0cmluZ1wiIT1hLm5hbWUmJnMoZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMpfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDExNSksaT17fTtpW24oOSkoXCJ0b1N0cmluZ1RhZ1wiKV09XCJ6XCIsaStcIlwiIT1cIltvYmplY3Qgel1cIiYmbig0MykoT2JqZWN0LnByb3RvdHlwZSxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgXCIrcih0aGlzKStcIl1cIn0sITApfSxmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMxKSxpPW4oMjkpLG89bigxMjQpLGE9XCJcIi5lbmRzV2l0aDtyKHIuUCtyLkYqbigxMjUpKFwiZW5kc1dpdGhcIiksXCJTdHJpbmdcIix7ZW5kc1dpdGg6ZnVuY3Rpb24odCl7dmFyIGU9byh0aGlzLHQsXCJlbmRzV2l0aFwiKSxuPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLHI9aShlLmxlbmd0aCkscz12b2lkIDA9PT1uP3I6TWF0aC5taW4oaShuKSxyKSxsPVN0cmluZyh0KTtyZXR1cm4gYT9hLmNhbGwoZSxsLHMpOmUuc2xpY2Uocy1sLmxlbmd0aCxzKT09PWx9fSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigzMDgpfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvPXt9LGE9KHI9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2J9LGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWkmJihpPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxpfSkscz1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24odCxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXJldHVybiB0KCk7aWYodm9pZCAwPT09ZVt0XSl7dmFyIHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9lLnF1ZXJ5U2VsZWN0b3IodCk6ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KX0uY2FsbCh0aGlzLHQsbik7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZyIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtyPXIuY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2godCl7cj1udWxsfWVbdF09cn1yZXR1cm4gZVt0XX19KCksbD1udWxsLGM9MCx1PVtdLGY9bigzMzApO2Z1bmN0aW9uIGQodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXSxpPW9bci5pZF07aWYoaSl7aS5yZWZzKys7Zm9yKHZhciBhPTA7YTxpLnBhcnRzLmxlbmd0aDthKyspaS5wYXJ0c1thXShyLnBhcnRzW2FdKTtmb3IoO2E8ci5wYXJ0cy5sZW5ndGg7YSsrKWkucGFydHMucHVzaCh5KHIucGFydHNbYV0sZSkpfWVsc2V7dmFyIHM9W107Zm9yKGE9MDthPHIucGFydHMubGVuZ3RoO2ErKylzLnB1c2goeShyLnBhcnRzW2FdLGUpKTtvW3IuaWRdPXtpZDpyLmlkLHJlZnM6MSxwYXJ0czpzfX19fWZ1bmN0aW9uIGgodCxlKXtmb3IodmFyIG49W10scj17fSxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBvPXRbaV0sYT1lLmJhc2U/b1swXStlLmJhc2U6b1swXSxzPXtjc3M6b1sxXSxtZWRpYTpvWzJdLHNvdXJjZU1hcDpvWzNdfTtyW2FdP3JbYV0ucGFydHMucHVzaChzKTpuLnB1c2goclthXT17aWQ6YSxwYXJ0czpbc119KX1yZXR1cm4gbn1mdW5jdGlvbiBwKHQsZSl7dmFyIG49cyh0Lmluc2VydEludG8pO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO3ZhciByPXVbdS5sZW5ndGgtMV07aWYoXCJ0b3BcIj09PXQuaW5zZXJ0QXQpcj9yLm5leHRTaWJsaW5nP24uaW5zZXJ0QmVmb3JlKGUsci5uZXh0U2libGluZyk6bi5hcHBlbmRDaGlsZChlKTpuLmluc2VydEJlZm9yZShlLG4uZmlyc3RDaGlsZCksdS5wdXNoKGUpO2Vsc2UgaWYoXCJib3R0b21cIj09PXQuaW5zZXJ0QXQpbi5hcHBlbmRDaGlsZChlKTtlbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0Lmluc2VydEF0fHwhdC5pbnNlcnRBdC5iZWZvcmUpdGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7dmFyIGk9cyh0Lmluc2VydEF0LmJlZm9yZSxuKTtuLmluc2VydEJlZm9yZShlLGkpfX1mdW5jdGlvbiBtKHQpe2lmKG51bGw9PT10LnBhcmVudE5vZGUpcmV0dXJuITE7dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpO3ZhciBlPXUuaW5kZXhPZih0KTtlPj0wJiZ1LnNwbGljZShlLDEpfWZ1bmN0aW9uIGcodCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2lmKHZvaWQgMD09PXQuYXR0cnMudHlwZSYmKHQuYXR0cnMudHlwZT1cInRleHQvY3NzXCIpLHZvaWQgMD09PXQuYXR0cnMubm9uY2Upe3ZhciByPWZ1bmN0aW9uKCl7MDtyZXR1cm4gbi5uY30oKTtyJiYodC5hdHRycy5ub25jZT1yKX1yZXR1cm4gdihlLHQuYXR0cnMpLHAodCxlKSxlfWZ1bmN0aW9uIHYodCxlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3Quc2V0QXR0cmlidXRlKG4sZVtuXSl9KX1mdW5jdGlvbiB5KHQsZSl7dmFyIG4scixpLG87aWYoZS50cmFuc2Zvcm0mJnQuY3NzKXtpZighKG89XCJmdW5jdGlvblwiPT10eXBlb2YgZS50cmFuc2Zvcm0/ZS50cmFuc2Zvcm0odC5jc3MpOmUudHJhbnNmb3JtLmRlZmF1bHQodC5jc3MpKSlyZXR1cm4gZnVuY3Rpb24oKXt9O3QuY3NzPW99aWYoZS5zaW5nbGV0b24pe3ZhciBhPWMrKztuPWx8fChsPWcoZSkpLHI9dy5iaW5kKG51bGwsbixhLCExKSxpPXcuYmluZChudWxsLG4sYSwhMCl9ZWxzZSB0LnNvdXJjZU1hcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBCbG9iJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hPyhuPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO3JldHVybiB2b2lkIDA9PT10LmF0dHJzLnR5cGUmJih0LmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiKSx0LmF0dHJzLnJlbD1cInN0eWxlc2hlZXRcIix2KGUsdC5hdHRycykscCh0LGUpLGV9KGUpLHI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4uY3NzLGk9bi5zb3VyY2VNYXAsbz12b2lkIDA9PT1lLmNvbnZlcnRUb0Fic29sdXRlVXJscyYmaTsoZS5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fG8pJiYocj1mKHIpKTtpJiYocis9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSkpK1wiICovXCIpO3ZhciBhPW5ldyBCbG9iKFtyXSx7dHlwZTpcInRleHQvY3NzXCJ9KSxzPXQuaHJlZjt0LmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzJiZVUkwucmV2b2tlT2JqZWN0VVJMKHMpfS5iaW5kKG51bGwsbixlKSxpPWZ1bmN0aW9uKCl7bShuKSxuLmhyZWYmJlVSTC5yZXZva2VPYmplY3RVUkwobi5ocmVmKX0pOihuPWcoZSkscj1mdW5jdGlvbih0LGUpe3ZhciBuPWUuY3NzLHI9ZS5tZWRpYTtyJiZ0LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIscik7aWYodC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PW47ZWxzZXtmb3IoO3QuZmlyc3RDaGlsZDspdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO3QuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfX0uYmluZChudWxsLG4pLGk9ZnVuY3Rpb24oKXttKG4pfSk7cmV0dXJuIHIodCksZnVuY3Rpb24oZSl7aWYoZSl7aWYoZS5jc3M9PT10LmNzcyYmZS5tZWRpYT09PXQubWVkaWEmJmUuc291cmNlTWFwPT09dC5zb3VyY2VNYXApcmV0dXJuO3IodD1lKX1lbHNlIGkoKX19dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERFQlVHJiZERUJVRyYmXCJvYmplY3RcIiE9dHlwZW9mIGRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTsoZT1lfHx7fSkuYXR0cnM9XCJvYmplY3RcIj09dHlwZW9mIGUuYXR0cnM/ZS5hdHRyczp7fSxlLnNpbmdsZXRvbnx8XCJib29sZWFuXCI9PXR5cGVvZiBlLnNpbmdsZXRvbnx8KGUuc2luZ2xldG9uPWEoKSksZS5pbnNlcnRJbnRvfHwoZS5pbnNlcnRJbnRvPVwiaGVhZFwiKSxlLmluc2VydEF0fHwoZS5pbnNlcnRBdD1cImJvdHRvbVwiKTt2YXIgbj1oKHQsZSk7cmV0dXJuIGQobixlKSxmdW5jdGlvbih0KXtmb3IodmFyIHI9W10saT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgYT1uW2ldOyhzPW9bYS5pZF0pLnJlZnMtLSxyLnB1c2gocyl9dCYmZChoKHQsZSksZSk7Zm9yKGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIHM7aWYoMD09PShzPXJbaV0pLnJlZnMpe2Zvcih2YXIgbD0wO2w8cy5wYXJ0cy5sZW5ndGg7bCsrKXMucGFydHNbbF0oKTtkZWxldGUgb1tzLmlkXX19fX07dmFyIGIseD0oYj1bXSxmdW5jdGlvbih0LGUpe3JldHVybiBiW3RdPWUsYi5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX0pO2Z1bmN0aW9uIHcodCxlLG4scil7dmFyIGk9bj9cIlwiOnIuY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD14KGUsaSk7ZWxzZXt2YXIgbz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpKSxhPXQuY2hpbGROb2RlczthW2VdJiZ0LnJlbW92ZUNoaWxkKGFbZV0pLGEubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKG8sYVtlXSk6dC5hcHBlbmRDaGlsZChvKX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDQpLGk9bigxNzApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIG4sbyxhPWkodCxlKTtpZihyKXt2YXIgcz1yKHQpO2ZvcihvPTA7bzxzLmxlbmd0aDtvKyspbj1zW29dLGUuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHQsbikmJihhW25dPXRbbl0pfXJldHVybiBhfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEzKSxpPW4oMTA0KSxvPW4oMzUpLGE9bigxNzUpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9LHM9byhuKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYocz1zLmNvbmNhdChpKG4pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gcihuLHQpLmVudW1lcmFibGV9KSkpLHMuZm9yRWFjaChmdW5jdGlvbihlKXthKHQsZSxuW2VdKX0pfXJldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjE3KSxpPW4oMjIxKSxvPW4oMjI5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCl8fGkodCl8fG8oKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpLG8sYT1uKDEzNikscz1uKDI1MyksbD1uKDU4KSxjPW4oMTQpLHU9bigyNSksZj1uKDI3MSksZD1uKDE4KSxoPW4oMTQyKSxwPW4oMjc3KSxtPW4oMjkwKSxnPW4oMjkxKSx2PUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLHk9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9T2JqZWN0LmdldFByb3RvdHlwZU9mO2cmJihvPVNldCksdC5leHBvcnRzPXI9ZnVuY3Rpb24oKXt2YXIgdCxlPWFyZ3VtZW50c1swXTtpZighKHRoaXMgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgcmVxdWlyZXMgJ25ldydcIik7cmV0dXJuIHQ9ZyYmbD9sKG5ldyBvLGIodGhpcykpOnRoaXMsbnVsbCE9ZSYmaChlKSx5KHQsXCJfX3NldERhdGFfX1wiLHUoXCJjXCIsW10pKSxlPyhwKGUsZnVuY3Rpb24odCl7LTE9PT1zLmNhbGwodGhpcyx0KSYmdGhpcy5wdXNoKHQpfSx0Ll9fc2V0RGF0YV9fKSx0KTp0fSxnJiYobCYmbChyLG8pLHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnUocil9KSksZihPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyLnByb3RvdHlwZSx7YWRkOnUoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXM6KHRoaXMuZW1pdChcIl9hZGRcIix0aGlzLl9fc2V0RGF0YV9fLnB1c2godCktMSx0KSx0aGlzKX0pLGNsZWFyOnUoZnVuY3Rpb24oKXt0aGlzLl9fc2V0RGF0YV9fLmxlbmd0aCYmKGEuY2FsbCh0aGlzLl9fc2V0RGF0YV9fKSx0aGlzLmVtaXQoXCJfY2xlYXJcIikpfSksZGVsZXRlOnUoZnVuY3Rpb24odCl7dmFyIGU9cy5jYWxsKHRoaXMuX19zZXREYXRhX18sdCk7cmV0dXJuLTEhPT1lJiYodGhpcy5fX3NldERhdGFfXy5zcGxpY2UoZSwxKSx0aGlzLmVtaXQoXCJfZGVsZXRlXCIsZSx0KSwhMCl9KSxlbnRyaWVzOnUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG0odGhpcyxcImtleSt2YWx1ZVwiKX0pLGZvckVhY2g6dShmdW5jdGlvbih0KXt2YXIgZSxuLHIsaT1hcmd1bWVudHNbMV07Zm9yKGModCksbj0oZT10aGlzLnZhbHVlcygpKS5fbmV4dCgpO3ZvaWQgMCE9PW47KXI9ZS5fcmVzb2x2ZShuKSx2LmNhbGwodCxpLHIscix0aGlzKSxuPWUuX25leHQoKX0pLGhhczp1KGZ1bmN0aW9uKHQpe3JldHVybi0xIT09cy5jYWxsKHRoaXMuX19zZXREYXRhX18sdCl9KSxrZXlzOnUoaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcygpfSksc2l6ZTp1LmdzKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19zZXREYXRhX18ubGVuZ3RofSksdmFsdWVzOnUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG0odGhpcyl9KSx0b1N0cmluZzp1KGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFNldF1cIn0pfSkpLHkoci5wcm90b3R5cGUsZC5pdGVyYXRvcix1KGkpKSx5KHIucHJvdG90eXBlLGQudG9TdHJpbmdUYWcsdShcImNcIixcIlNldFwiKSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyOTMpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe1xuLyohXG5Db3B5cmlnaHQgKEMpIDIwMTUtMjAxNyBBbmRyZWEgR2lhbW1hcmNoaSAtIEBXZWJSZWZsZWN0aW9uXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cbmZ1bmN0aW9uIG4odCl7dmFyIGUsbixpLG8sYSxzLGw9T2JqZWN0LmNyZWF0ZShudWxsKTtpZih0aGlzW2NdPWwsdClpZihcInN0cmluZ1wiPT10eXBlb2YgdClmb3IoXCI/XCI9PT10LmNoYXJBdCgwKSYmKHQ9dC5zbGljZSgxKSksYT0wLHM9KG89dC5zcGxpdChcIiZcIikpLmxlbmd0aDthPHM7YSsrKS0xPChlPShpPW9bYV0pLmluZGV4T2YoXCI9XCIpKT9mKGwsZChpLnNsaWNlKDAsZSkpLGQoaS5zbGljZShlKzEpKSk6aS5sZW5ndGgmJmYobCxkKGkpLFwiXCIpO2Vsc2UgaWYocih0KSlmb3IoYT0wLHM9dC5sZW5ndGg7YTxzO2ErKylmKGwsKGk9dFthXSlbMF0saVsxXSk7ZWxzZSBpZih0LmZvckVhY2gpdC5mb3JFYWNoKHUsbCk7ZWxzZSBmb3IobiBpbiB0KWYobCxuLHRbbl0pfXZhciByPUFycmF5LmlzQXJyYXksaT1uLnByb3RvdHlwZSxvPS9bISdcXChcXCl+XXwlMjB8JTAwL2csYT0vXFwrL2cscz17XCIhXCI6XCIlMjFcIixcIidcIjpcIiUyN1wiLFwiKFwiOlwiJTI4XCIsXCIpXCI6XCIlMjlcIixcIn5cIjpcIiU3RVwiLFwiJTIwXCI6XCIrXCIsXCIlMDBcIjpcIlxcMFwifSxsPWZ1bmN0aW9uKHQpe3JldHVybiBzW3RdfSxjPVwiX19VUkxTZWFyY2hQYXJhbXNfXzpcIitNYXRoLnJhbmRvbSgpO2Z1bmN0aW9uIHUodCxlKXtmKHRoaXMsZSx0KX1mdW5jdGlvbiBmKHQsZSxuKXt2YXIgaT1yKG4pP24uam9pbihcIixcIik6bjtlIGluIHQ/dFtlXS5wdXNoKGkpOnRbZV09W2ldfWZ1bmN0aW9uIGQodCl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0LnJlcGxhY2UoYSxcIiBcIikpfWZ1bmN0aW9uIGgodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKG8sbCl9aS5hcHBlbmQ9ZnVuY3Rpb24odCxlKXtmKHRoaXNbY10sdCxlKX0saS5kZWxldGU9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXNbY11bdF19LGkuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbY107cmV0dXJuIHQgaW4gZT9lW3RdWzBdOm51bGx9LGkuZ2V0QWxsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXNbY107cmV0dXJuIHQgaW4gZT9lW3RdLnNsaWNlKDApOltdfSxpLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbiB0aGlzW2NdfSxpLnNldD1mdW5jdGlvbih0LGUpe3RoaXNbY11bdF09W1wiXCIrZV19LGkuZm9yRWFjaD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXNbY107T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikuZm9yRWFjaChmdW5jdGlvbihyKXtuW3JdLmZvckVhY2goZnVuY3Rpb24obil7dC5jYWxsKGUsbixyLHRoaXMpfSx0aGlzKX0sdGhpcyl9LGkudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue319LGkudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdCxlLG4scixpPXRoaXNbY10sbz1bXTtmb3IoZSBpbiBpKWZvcihuPWgoZSksdD0wLHI9aVtlXTt0PHIubGVuZ3RoO3QrKylvLnB1c2gobitcIj1cIitoKHJbdF0pKTtyZXR1cm4gby5qb2luKFwiJlwiKX0sZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuISFTeW1ib2wuaXRlcmF0b3J9Y2F0Y2godCl7cmV0dXJuITF9fSgpO1wiZm9yRWFjaFwiaW4gdHx8KHQuZm9yRWFjaD1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy50b1N0cmluZygpLnJlcGxhY2UoLz1bXFxzXFxTXSo/KD86JnwkKS9nLFwiPVwiKS5zcGxpdChcIj1cIikuZm9yRWFjaChmdW5jdGlvbihyKXshci5sZW5ndGh8fHIgaW4gbnx8KG5bcl09dGhpcy5nZXRBbGwocikpLmZvckVhY2goZnVuY3Rpb24obil7dC5jYWxsKGUsbixyLHRoaXMpfSx0aGlzKX0sdGhpcyl9KSxcImtleXNcImluIHR8fCh0LmtleXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTt0aGlzLmZvckVhY2goZnVuY3Rpb24oZSxuKXt0LnB1c2gobil9KTt2YXIgbj17bmV4dDpmdW5jdGlvbigpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT1lLHZhbHVlOmV9fX07cmV0dXJuIGUmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gbn0pLG59KSxcInZhbHVlc1wiaW4gdHx8KHQudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pO3ZhciBuPXtuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dC5zaGlmdCgpO3JldHVybntkb25lOnZvaWQgMD09PWUsdmFsdWU6ZX19fTtyZXR1cm4gZSYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBufSksbn0pLFwiZW50cmllc1wiaW4gdHx8KHQuZW50cmllcz1mdW5jdGlvbigpe3ZhciB0PVtdO3RoaXMuZm9yRWFjaChmdW5jdGlvbihlLG4pe3QucHVzaChbbixlXSl9KTt2YXIgbj17bmV4dDpmdW5jdGlvbigpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT1lLHZhbHVlOmV9fX07cmV0dXJuIGUmJihuW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gbn0pLG59KSwhZXx8U3ltYm9sLml0ZXJhdG9yIGluIHR8fCh0W1N5bWJvbC5pdGVyYXRvcl09dC5lbnRyaWVzKSxcInNvcnRcImluIHR8fCh0LnNvcnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxuLHI9dGhpcy5lbnRyaWVzKCksaT1yLm5leHQoKSxvPWkuZG9uZSxhPVtdLHM9T2JqZWN0LmNyZWF0ZShudWxsKTshbzspZT0obj1pLnZhbHVlKVswXSxhLnB1c2goZSksZSBpbiBzfHwoc1tlXT1bXSksc1tlXS5wdXNoKG5bMV0pLG89KGk9ci5uZXh0KCkpLmRvbmU7Zm9yKGEuc29ydCgpLHQ9MDt0PGEubGVuZ3RoO3QrKyl0aGlzLmRlbGV0ZShhW3RdKTtmb3IodD0wO3Q8YS5sZW5ndGg7dCsrKWU9YVt0XSx0aGlzLmFwcGVuZChlLHNbZV0uc2hpZnQoKSl9KX0oKG49dC5leHBvcnRzPWUuVVJMU2VhcmNoUGFyYW1zfHxuKS5wcm90b3R5cGUpfSkuY2FsbCh0aGlzLG4oMTQ1KSl9LGZ1bmN0aW9uKHQsZSl7dmFyIG49QXJyYXkuaXNBcnJheTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8XCJvYmplY3RcIiE9dHlwZW9mIHR8fG4odCl8fE9iamVjdC5rZXlzKHQpLmxlbmd0aCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7XG4vKiFcbiAqIGVzY2FwZS1odG1sXG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDEzIFRKIEhvbG93YXljaHVrXG4gKiBDb3B5cmlnaHQoYykgMjAxNSBBbmRyZWFzIEx1YmJlXG4gKiBDb3B5cmlnaHQoYykgMjAxNSBUaWFuY2hlbmcgXCJUaW1vdGh5XCIgR3VcbiAqIE1JVCBMaWNlbnNlZFxuICovdmFyIHI9L1tcIicmPD5dLzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbj1cIlwiK3QsaT1yLmV4ZWMobik7aWYoIWkpcmV0dXJuIG47dmFyIG89XCJcIixhPTAscz0wO2ZvcihhPWkuaW5kZXg7YTxuLmxlbmd0aDthKyspe3N3aXRjaChuLmNoYXJDb2RlQXQoYSkpe2Nhc2UgMzQ6ZT1cIiZxdW90O1wiO2JyZWFrO2Nhc2UgMzg6ZT1cIiZhbXA7XCI7YnJlYWs7Y2FzZSAzOTplPVwiJiMzOTtcIjticmVhaztjYXNlIDYwOmU9XCImbHQ7XCI7YnJlYWs7Y2FzZSA2MjplPVwiJmd0O1wiO2JyZWFrO2RlZmF1bHQ6Y29udGludWV9cyE9PWEmJihvKz1uLnN1YnN0cmluZyhzLGEpKSxzPWErMSxvKz1lfXJldHVybiBzIT09YT9vK24uc3Vic3RyaW5nKHMsYSk6b319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcixpPW4oMzE5KSxvPW4oMzIwKSxhPW4oMzIxKSxzPShyPWEpJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfTtmdW5jdGlvbiBsKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBjKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gdSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWUuZGVmYXVsdD17c2hvdzppLlNob3csaGlkZTppLkhpZGUsZmFkZUluOm8uRmFkZUluLG9uY2xpY2s6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJjbGlja1wiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25jb250ZXh0bWVudTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImNvbnRleHRtZW51XCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmRibGNsaWNrOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiZGJsY2xpY2tcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ubW91c2Vkb3duOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwibW91c2Vkb3duXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbm1vdXNlZW50ZXI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJtb3VzZWVudGVyXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbm1vdXNlbGVhdmU6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJtb3VzZWxlYXZlXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbm1vdXNlbW92ZTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcIm1vdXNlbW92ZVwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25tb3VzZW92ZXI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJtb3VzZW92ZXJcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ubW91c2VvdXQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJtb3VzZW91dFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25tb3VzZXVwOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwibW91c2V1cFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25rZXlkb3duOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwia2V5ZG93blwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25rZXlwcmVzczpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImtleXByZXNzXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmtleXVwOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwia2V5dXBcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ubG9hZDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImxvYWRcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ucmVzaXplOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwicmVzaXplXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbnNjcm9sbDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcInNjcm9sbFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25ibHVyOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiYmx1clwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25jaGFuZ2U6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJjaGFuZ2VcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uZm9jdXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJmb2N1c1wiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25mb2N1c2luOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiZm9jdXNpblwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25mb2N1c291dDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImZvY3Vzb3V0XCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmlucHV0OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiaW5wdXRcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ucmVzZXQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJyZXNldFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25zZWxlY3Q6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJzZWxlY3RcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uc3VibWl0OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwic3VibWl0XCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmRyYWc6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJkcmFnXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmRyYWdlbmQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJkcmFnZW5kXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmRyYWdlbnRlcjpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImRyYWdlbnRlclwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25kcmFnbGVhdmU6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJkcmFnbGVhdmVcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uZHJhZ292ZXI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJkcmFnb3ZlclwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25kcmFnc3RhcnQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJkcmFnc3RhcnRcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uZHJvcDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImRyb3BcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLGFuaW1hdGlvbmVuZDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImFuaW1hdGlvbmVuZFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksYW5pbWF0aW9uaXRlcmF0aW9uOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiYW5pbWF0aW9uaXRlcmF0aW9uXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxhbmltYXRpb25zdGFydDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImFuaW1hdGlvbnN0YXJ0XCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSx0cmFuc2l0aW9uZW5kOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwid2Via2l0VHJhbnNpdGlvbkVuZFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25tZXNzYWdlOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwibWVzc2FnZVwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25vcGVuOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwib3BlblwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb253aGVlbDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcIndoZWVsXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPW4oNDUpLG89KHI9bigzMjUpKSYmci5fX2VzTW9kdWxlP3IuZGVmYXVsdDpyO3ZhciBhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPWUubGVuZ3RoLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtmb3Ioby5pbm5lckhUTUw9bjtpLS0gPjA7KWVbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLnBvcCgpKTtmb3IoaT1yPW8uY2hpbGROb2Rlcy5sZW5ndGgtMTtyPj0wO3ItLSllLnB1c2goby5jaGlsZE5vZGVzW3JdKTtpZigrK2ksOD09dC5ub2RlVHlwZSl7aWYoIXQucGFyZW50Tm9kZSl0aHJvd1wiQ2FuIG5vdCBpbnNlcnQgY2hpbGQgdmlldyBpbnRvIHBhcmVudCBub2RlLiBZb3UgbmVlZCBhcHBlbmQgeW91ciB2aWV3IGZpcnN0IGFuZCB0aGVuIHVwZGF0ZS5cIjtmb3IoO2ktLSA+MDspdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlW2ldLHQpfWVsc2UgZm9yKDtpLS0gPjA7KXQuYXBwZW5kQ2hpbGQoZVtpXSl9O2Z1bmN0aW9uIHMoKXtpLmNhbGwodGhpcyk7dmFyIHQ9dGhpcyxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHI9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlmXCIpLG89e30sYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHM9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlmXCIpLGg9e30scD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHY9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlmXCIpLHk9e30sYj1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIikseD17fSx3PXt9LEM9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlmXCIpLGs9e307YS5hcHBlbmRDaGlsZChzKSxhLmFwcGVuZENoaWxkKHApLGEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImNvZGUtYXJlYSBcIiksZy5hcHBlbmRDaGlsZCh2KSxnLmFwcGVuZENoaWxkKGIpLGcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImpzLWNvZGUtb3V0cHV0LWV4ZWN1dG9yIFwiKSxuLmFwcGVuZENoaWxkKHIpLG4uYXBwZW5kQ2hpbGQoYSksbi5hcHBlbmRDaGlsZChnKSxuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJleGVjdXRhYmxlLWZyYWdtZW50IFwiKSxlLmFwcGVuZENoaWxkKG4pLGUuYXBwZW5kQ2hpbGQoQyksZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZXhlY3V0YWJsZS1mcmFnbWVudC13cmFwcGVyXCIpLHRoaXMuX191cGRhdGVfXz17aGlnaGxpZ2h0T25seTpmdW5jdGlvbihlKXtpLmNvbmQodCxyLG8sbCwhZSksaS5jb25kKHQsQyxrLG0sIWUpfSxpc1Nob3VsZEJlRm9sZGVkOmZ1bmN0aW9uKGUpe2kuY29uZCh0LHMsaCxjLGUpfSxmb2xkZWQ6ZnVuY3Rpb24odCl7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiY29kZS1hcmVhIFwiKyh0P1wiX2ZvbGRlZFwiOlwiX3VuZm9sZGVkXCIpKX0sb3BlbkNvbnNvbGU6ZnVuY3Rpb24oZSl7aS5jb25kKHQsdix5LHUsZSl9LHdhaXRpbmdGb3JPdXRwdXQ6ZnVuY3Rpb24oZSl7dmFyIG47bj1pLmNvbmQodCxiLHgsZixlKSxpLmNvbmQodCxiLHcsZCwhbil9LHRoZW1lOmZ1bmN0aW9uKHQpe2cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImpzLWNvZGUtb3V0cHV0LWV4ZWN1dG9yIFwiK3QpLG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImV4ZWN1dGFibGUtZnJhZ21lbnQgXCIrdCl9fSx0aGlzLm9uVXBkYXRlPWZ1bmN0aW9uKHQpe28ucmVmJiZvLnJlZi51cGRhdGUodCksaC5yZWYmJmgucmVmLnVwZGF0ZSh0KSx5LnJlZiYmeS5yZWYudXBkYXRlKHQpLHgucmVmJiZ4LnJlZi51cGRhdGUodCksdy5yZWYmJncucmVmLnVwZGF0ZSh0KSxrLnJlZiYmay5yZWYudXBkYXRlKHQpfSx0aGlzLm5vZGVzPVtlXX1mdW5jdGlvbiBsKCl7aS5jYWxsKHRoaXMpO3ZhciB0LGU9dGhpcyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicnVuLWJ1dHRvbiBcIiksdGhpcy5fX3VwZGF0ZV9fPXt3YWl0aW5nRm9yT3V0cHV0OmZ1bmN0aW9uKHQpe24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInJ1bi1idXR0b24gXCIrKHQ/XCJfZGlzYWJsZWRcIjpcIlwiKSl9fSx0aGlzLm9uUmVuZGVyPWZ1bmN0aW9uKCl7dm9pZCAwPT09dCYmKHQ9bmV3IGUuZGlyZWN0aXZlcy5vbmNsaWNrKSx0LmJpbmQobiksdC51cGRhdGUoZS5wYXJlbnQuZXhlY3V0ZS5iaW5kKGUucGFyZW50KSl9LHRoaXMub25SZW1vdmU9ZnVuY3Rpb24oZSl7dC51bmJpbmQobil9LHRoaXMubm9kZXM9W25dfWZ1bmN0aW9uIGMoKXtpLmNhbGwodGhpcyksdGhpcy5fX2NhY2hlX189e307dmFyIHQsZSxuPXRoaXMscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImZvbGQtYnV0dG9uICBcIiksdGhpcy5fX3VwZGF0ZV9fPXtmb2xkQnV0dG9uSG92ZXJfdGhlbWU6ZnVuY3Rpb24odCxlKXtyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJmb2xkLWJ1dHRvbiBcIisodD9cIl9ob3ZlclwiOlwiXCIpK1wiIFwiK2UpfX0sdGhpcy5vblJlbmRlcj1mdW5jdGlvbigpe3ZvaWQgMD09PXQmJih0PW5ldyBuLmRpcmVjdGl2ZXMub25tb3VzZWVudGVyKSx0LmJpbmQociksdC51cGRhdGUobi5wYXJlbnQub25Gb2xkQnV0dG9uTW91c2VFbnRlci5iaW5kKG4ucGFyZW50KSksdm9pZCAwPT09ZSYmKGU9bmV3IG4uZGlyZWN0aXZlcy5vbm1vdXNlbGVhdmUpLGUuYmluZChyKSxlLnVwZGF0ZShuLnBhcmVudC5vbkZvbGRCdXR0b25Nb3VzZUxlYXZlLmJpbmQobi5wYXJlbnQpKX0sdGhpcy5vblJlbW92ZT1mdW5jdGlvbihuKXt0LnVuYmluZChyKSxlLnVuYmluZChyKX0sdGhpcy5ub2Rlcz1bcl19ZnVuY3Rpb24gdSgpe2kuY2FsbCh0aGlzKTt2YXIgdCxlPXRoaXMsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImNvbnNvbGUtY2xvc2UgXCIpLHRoaXMuX191cGRhdGVfXz17dGhlbWU6ZnVuY3Rpb24odCl7bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiY29uc29sZS1jbG9zZSBcIit0KX19LHRoaXMub25SZW5kZXI9ZnVuY3Rpb24oKXt2b2lkIDA9PT10JiYodD1uZXcgZS5kaXJlY3RpdmVzLm9uY2xpY2spLHQuYmluZChuKSx0LnVwZGF0ZShlLnBhcmVudC5vbkNvbnNvbGVDbG9zZUJ1dHRvbkVudGVyLmJpbmQoZS5wYXJlbnQpKX0sdGhpcy5vblJlbW92ZT1mdW5jdGlvbihlKXt0LnVuYmluZChuKX0sdGhpcy5ub2Rlcz1bbl19ZnVuY3Rpb24gZigpe2kuY2FsbCh0aGlzKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJsb2FkZXIgXCIpLHQuYXBwZW5kQ2hpbGQoZSksdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwib3V0cHV0LXdyYXBwZXIgXCIpLHRoaXMuX191cGRhdGVfXz17dGhlbWU6ZnVuY3Rpb24obil7ZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwibG9hZGVyIFwiK24pLHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcIm91dHB1dC13cmFwcGVyIFwiK24pfX0sdGhpcy5ub2Rlcz1bdF19ZnVuY3Rpb24gZCgpe2kuY2FsbCh0aGlzKSx0aGlzLl9fY2FjaGVfXz17fTt2YXIgdD10aGlzLGU9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlmXCIpLG49e307dGhpcy5fX3VwZGF0ZV9fPXtleGNlcHRpb25fb3V0cHV0OmZ1bmN0aW9uKHIsbyl7aS5jb25kKHQsZSxuLGgsbyYmXCJcIiE9b3x8cil9fSx0aGlzLm9uVXBkYXRlPWZ1bmN0aW9uKHQpe24ucmVmJiZuLnJlZi51cGRhdGUodCl9LHRoaXMubm9kZXM9W2VdfWZ1bmN0aW9uIGgoKXtpLmNhbGwodGhpcyk7dmFyIHQ9dGhpcyxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHI9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcInVuc2FmZVwiKSxvPVtdLHM9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlmXCIpLGw9e307bi5hcHBlbmRDaGlsZChyKSxuLmFwcGVuZENoaWxkKHMpLG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImNvZGUtb3V0cHV0XCIpLGUuYXBwZW5kQ2hpbGQobiksZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwib3V0cHV0LXdyYXBwZXIgXCIpLHRoaXMuX191cGRhdGVfXz17b3V0cHV0OmZ1bmN0aW9uKHQpe2EocixvLHQpfSxleGNlcHRpb246ZnVuY3Rpb24oZSl7aS5jb25kKHQscyxsLHAsZSl9LHRoZW1lOmZ1bmN0aW9uKHQpe2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcIm91dHB1dC13cmFwcGVyIFwiK3QpfX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbih0KXtsLnJlZiYmbC5yZWYudXBkYXRlKHQpfSx0aGlzLm5vZGVzPVtlXX1mdW5jdGlvbiBwKCl7aS5jYWxsKHRoaXMpO3ZhciB0PXRoaXMsZT1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiRXhjZXB0aW9uXCIpLG49e307dGhpcy5fX3VwZGF0ZV9fPXtleGNlcHRpb246ZnVuY3Rpb24ocil7aS5pbnNlcnQodCxlLG4sbyxyKX19LHRoaXMub25SZW5kZXI9ZnVuY3Rpb24oKXtpLmluc2VydCh0LGUsbixvLHtvcmlnaW5hbEV4Y2VwdGlvbjohMCxvbkV4Y2VwdGlvbkNsaWNrOnQucGFyZW50LnBhcmVudC5wYXJlbnQub25FeGNlcHRpb25DbGljay5iaW5kKHQucGFyZW50LnBhcmVudC5wYXJlbnQpfSl9LHRoaXMubm9kZXM9W2VdfWZ1bmN0aW9uIG0oKXtpLmNhbGwodGhpcyk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLG49ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJUYXJnZXQgcGxhdGZvcm06IFwiKSksZS5hcHBlbmRDaGlsZChuKSxyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiUnVubmluZyBvbiBrb3RsaW4gdi4gXCIpKSxyLmFwcGVuZENoaWxkKG8pLHQuYXBwZW5kQ2hpbGQoZSksdC5hcHBlbmRDaGlsZChyKSx0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJjb21waWxlci1pbmZvXCIpLHRoaXMuX191cGRhdGVfXz17dGFyZ2V0UGxhdGZvcm06ZnVuY3Rpb24odCl7bi50ZXh0Q29udGVudD10LnByaW50YWJsZU5hbWV9LGNvbXBpbGVyVmVyc2lvbjpmdW5jdGlvbih0KXtvLnRleHRDb250ZW50PXR9fSx0aGlzLm5vZGVzPVt0XX1zLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1zLHMucG9vbD1bXSxzLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5oaWdobGlnaHRPbmx5JiZ0aGlzLl9fdXBkYXRlX18uaGlnaGxpZ2h0T25seSh0LmhpZ2hsaWdodE9ubHkpLHZvaWQgMCE9PXQuaXNTaG91bGRCZUZvbGRlZCYmdGhpcy5fX3VwZGF0ZV9fLmlzU2hvdWxkQmVGb2xkZWQodC5pc1Nob3VsZEJlRm9sZGVkKSx2b2lkIDAhPT10LmZvbGRlZCYmdGhpcy5fX3VwZGF0ZV9fLmZvbGRlZCh0LmZvbGRlZCksdm9pZCAwIT09dC5vcGVuQ29uc29sZSYmdGhpcy5fX3VwZGF0ZV9fLm9wZW5Db25zb2xlKHQub3BlbkNvbnNvbGUpLHZvaWQgMCE9PXQud2FpdGluZ0Zvck91dHB1dCYmdGhpcy5fX3VwZGF0ZV9fLndhaXRpbmdGb3JPdXRwdXQodC53YWl0aW5nRm9yT3V0cHV0KSx2b2lkIDAhPT10LnRoZW1lJiZ0aGlzLl9fdXBkYXRlX18udGhlbWUodC50aGVtZSksdGhpcy5vblVwZGF0ZSh0KX0sbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksbC5wcm90b3R5cGUuY29uc3RydWN0b3I9bCxsLnBvb2w9W10sbC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQud2FpdGluZ0Zvck91dHB1dCYmdGhpcy5fX3VwZGF0ZV9fLndhaXRpbmdGb3JPdXRwdXQodC53YWl0aW5nRm9yT3V0cHV0KX0sYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksYy5wcm90b3R5cGUuY29uc3RydWN0b3I9YyxjLnBvb2w9W10sYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuZm9sZEJ1dHRvbkhvdmVyJiYodGhpcy5fX2NhY2hlX18uZm9sZEJ1dHRvbkhvdmVyPXQuZm9sZEJ1dHRvbkhvdmVyKSx2b2lkIDAhPT10LnRoZW1lJiYodGhpcy5fX2NhY2hlX18udGhlbWU9dC50aGVtZSksdm9pZCAwIT09dGhpcy5fX2NhY2hlX18uZm9sZEJ1dHRvbkhvdmVyJiZ2b2lkIDAhPT10aGlzLl9fY2FjaGVfXy50aGVtZSYmdGhpcy5fX3VwZGF0ZV9fLmZvbGRCdXR0b25Ib3Zlcl90aGVtZSh0aGlzLl9fY2FjaGVfXy5mb2xkQnV0dG9uSG92ZXIsdGhpcy5fX2NhY2hlX18udGhlbWUpfSx1LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSx1LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj11LHUucG9vbD1bXSx1LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC50aGVtZSYmdGhpcy5fX3VwZGF0ZV9fLnRoZW1lKHQudGhlbWUpfSxmLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxmLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1mLGYucG9vbD1bXSxmLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC50aGVtZSYmdGhpcy5fX3VwZGF0ZV9fLnRoZW1lKHQudGhlbWUpfSxkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1kLGQucG9vbD1bXSxkLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5leGNlcHRpb24mJih0aGlzLl9fY2FjaGVfXy5leGNlcHRpb249dC5leGNlcHRpb24pLHZvaWQgMCE9PXQub3V0cHV0JiYodGhpcy5fX2NhY2hlX18ub3V0cHV0PXQub3V0cHV0KSx2b2lkIDAhPT10aGlzLl9fY2FjaGVfXy5leGNlcHRpb24mJnZvaWQgMCE9PXRoaXMuX19jYWNoZV9fLm91dHB1dCYmdGhpcy5fX3VwZGF0ZV9fLmV4Y2VwdGlvbl9vdXRwdXQodGhpcy5fX2NhY2hlX18uZXhjZXB0aW9uLHRoaXMuX19jYWNoZV9fLm91dHB1dCksdGhpcy5vblVwZGF0ZSh0KX0saC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aCxoLnBvb2w9W10saC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQub3V0cHV0JiZ0aGlzLl9fdXBkYXRlX18ub3V0cHV0KHQub3V0cHV0KSx2b2lkIDAhPT10LmV4Y2VwdGlvbiYmdGhpcy5fX3VwZGF0ZV9fLmV4Y2VwdGlvbih0LmV4Y2VwdGlvbiksdm9pZCAwIT09dC50aGVtZSYmdGhpcy5fX3VwZGF0ZV9fLnRoZW1lKHQudGhlbWUpLHRoaXMub25VcGRhdGUodCl9LHAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHAucHJvdG90eXBlLmNvbnN0cnVjdG9yPXAscC5wb29sPVtdLHAucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LmV4Y2VwdGlvbiYmdGhpcy5fX3VwZGF0ZV9fLmV4Y2VwdGlvbih0LmV4Y2VwdGlvbil9LG0ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLG0ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW0sbS5wb29sPVtdLG0ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LnRhcmdldFBsYXRmb3JtJiZ0aGlzLl9fdXBkYXRlX18udGFyZ2V0UGxhdGZvcm0odC50YXJnZXRQbGF0Zm9ybSksdm9pZCAwIT09dC5jb21waWxlclZlcnNpb24mJnRoaXMuX191cGRhdGVfXy5jb21waWxlclZlcnNpb24odC5jb21waWxlclZlcnNpb24pfSx0LmV4cG9ydHM9c30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDUpO2Z1bmN0aW9uIGkoKXtyLmNhbGwodGhpcyk7dmFyIHQ9dGhpcyxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLG49ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksaT1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIiksbD17fSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSx1PWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJmb3JcIiksZj1uZXcgci5NYXAsZD1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiZm9yXCIpLGg9bmV3IHIuTWFwO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ0V4Y2VwdGlvbiBpbiB0aHJlYWQgXCJtYWluXCIgJykpLGUuYXBwZW5kQ2hpbGQobiksZS5hcHBlbmRDaGlsZChpKSxlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJlcnJvci1vdXRwdXRcIiksdGhpcy5fX3VwZGF0ZV9fPXtmdWxsTmFtZTpmdW5jdGlvbih0KXtuLnRleHRDb250ZW50PXR9LG1lc3NhZ2U6ZnVuY3Rpb24oZSl7ci5jb25kKHQsaSxsLG8sZSl9LHN0YWNrVHJhY2U6ZnVuY3Rpb24oZSl7ci5sb29wKHQsdSxmLGEsZSx7dmFsdWU6XCJzdGFja3RyYWNlRWxlbWVudFwifSl9LGNhdXNlczpmdW5jdGlvbihlKXtyLmxvb3AodCxkLGgscyxlLHt2YWx1ZTpcImNhdXNlXCJ9KX19LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24odCl7bC5yZWYmJmwucmVmLnVwZGF0ZSh0KSxmLmZvckVhY2goZnVuY3Rpb24oZSl7ZS51cGRhdGUoZS5fX3N0YXRlX18pLGUudXBkYXRlKHQpLGUudXBkYXRlKGUuX19zdGF0ZV9fKX0pLGguZm9yRWFjaChmdW5jdGlvbihlKXtlLnVwZGF0ZShlLl9fc3RhdGVfXyksZS51cGRhdGUodCksZS51cGRhdGUoZS5fX3N0YXRlX18pfSl9LHRoaXMubm9kZXM9W2UsYyx1LGRdfWZ1bmN0aW9uIG8oKXtyLmNhbGwodGhpcyk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7dGhpcy5fX3VwZGF0ZV9fPXttZXNzYWdlOmZ1bmN0aW9uKGUpe3QudGV4dENvbnRlbnQ9ZX19LHRoaXMubm9kZXM9W2RvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiOiBcIiksdF19ZnVuY3Rpb24gYSgpe3IuY2FsbCh0aGlzKSx0aGlzLl9fc3RhdGVfXz17fTt2YXIgdCxlPXRoaXMsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLG89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxzPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLGw9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIik7YS5hcHBlbmRDaGlsZChzKSxhLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiOlwiKSksYS5hcHBlbmRDaGlsZChsKSxhLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJzdGFja3RyYWNlLWxpbmtcIiksbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiBhdCBcIikpLG4uYXBwZW5kQ2hpbGQoaSksbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5cIikpLG4uYXBwZW5kQ2hpbGQobyksbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIiAoXCIpKSxuLmFwcGVuZENoaWxkKGEpLG4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIpIFwiKSksbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwic3RhY2t0cmFjZS1lbGVtZW50IGVycm9yLW91dHB1dFwiKSx0aGlzLl9fdXBkYXRlX189e3N0YWNrdHJhY2VFbGVtZW50OmZ1bmN0aW9uKG4pe2kudGV4dENvbnRlbnQ9bi5jbGFzc05hbWUsby50ZXh0Q29udGVudD1uLm1ldGhvZE5hbWUscy50ZXh0Q29udGVudD1uLmZpbGVOYW1lLGwudGV4dENvbnRlbnQ9bi5saW5lTnVtYmVyLHQudXBkYXRlKGUucGFyZW50Lm9uU3RhY2tUcmFjZUNsaWNrLmJpbmQoZS5wYXJlbnQsbi5maWxlTmFtZSxuLmxpbmVOdW1iZXIpKX19LHRoaXMub25SZW5kZXI9ZnVuY3Rpb24oKXt2b2lkIDA9PT10JiYodD1uZXcgZS5kaXJlY3RpdmVzLm9uY2xpY2spLHQuYmluZChhKX0sdGhpcy5vblJlbW92ZT1mdW5jdGlvbihlKXt0LnVuYmluZChhKX0sdGhpcy5ub2Rlcz1bbixjXX1mdW5jdGlvbiBzKCl7ci5jYWxsKHRoaXMpLHRoaXMuX19zdGF0ZV9fPXt9O3ZhciB0PXRoaXMsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxuPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLGk9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlmXCIpLG89e30sYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikscz1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiZm9yXCIpLHU9bmV3IHIuTWFwO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJDYXVzZWQgYnk6IFwiKSksZS5hcHBlbmRDaGlsZChuKSxlLmFwcGVuZENoaWxkKGkpLGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImVycm9yLW91dHB1dFwiKSx0aGlzLl9fdXBkYXRlX189e2Z1bGxOYW1lOmZ1bmN0aW9uKHQpe24udGV4dENvbnRlbnQ9dH0sbWVzc2FnZTpmdW5jdGlvbihlKXtyLmNvbmQodCxpLG8sbCxlKX0sc3RhY2tUcmFjZTpmdW5jdGlvbihlKXtyLmxvb3AodCxzLHUsYyxlLHt2YWx1ZTpcInN0YWNrdHJhY2VFbGVtZW50XCJ9KX19LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24odCl7by5yZWYmJm8ucmVmLnVwZGF0ZSh0KSx1LmZvckVhY2goZnVuY3Rpb24oZSl7ZS51cGRhdGUoZS5fX3N0YXRlX18pLGUudXBkYXRlKHQpLGUudXBkYXRlKGUuX19zdGF0ZV9fKX0pfSx0aGlzLm5vZGVzPVtlLGEsc119ZnVuY3Rpb24gbCgpe3IuY2FsbCh0aGlzKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTt0aGlzLl9fdXBkYXRlX189e21lc3NhZ2U6ZnVuY3Rpb24oZSl7dC50ZXh0Q29udGVudD1lfX0sdGhpcy5ub2Rlcz1bZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCI6IFwiKSx0XX1mdW5jdGlvbiBjKCl7ci5jYWxsKHRoaXMpLHRoaXMuX19zdGF0ZV9fPXt9O3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLGU9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksbj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxpPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLG89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIik7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcImF0IFwiKSksdC5hcHBlbmRDaGlsZChlKSx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIC5cIikpLHQuYXBwZW5kQ2hpbGQobiksdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIihcIikpLHQuYXBwZW5kQ2hpbGQoaSksdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIjpcIikpLHQuYXBwZW5kQ2hpbGQobyksdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIilcIikpLHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInN0YWNrdHJhY2UtZWxlbWVudCBlcnJvci1vdXRwdXRcIiksdGhpcy5fX3VwZGF0ZV9fPXtzdGFja3RyYWNlRWxlbWVudDpmdW5jdGlvbih0KXtlLnRleHRDb250ZW50PXQuY2xhc3NOYW1lLG4udGV4dENvbnRlbnQ9dC5tZXRob2ROYW1lLGkudGV4dENvbnRlbnQ9dC5maWxlTmFtZSxvLnRleHRDb250ZW50PXQubGluZU51bWJlcn19LHRoaXMubm9kZXM9W3QsYV19aS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLnBvb2w9W10saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuZnVsbE5hbWUmJnRoaXMuX191cGRhdGVfXy5mdWxsTmFtZSh0LmZ1bGxOYW1lKSx2b2lkIDAhPT10Lm1lc3NhZ2UmJnRoaXMuX191cGRhdGVfXy5tZXNzYWdlKHQubWVzc2FnZSksdm9pZCAwIT09dC5zdGFja1RyYWNlJiZ0aGlzLl9fdXBkYXRlX18uc3RhY2tUcmFjZSh0LnN0YWNrVHJhY2UpLHZvaWQgMCE9PXQuY2F1c2VzJiZ0aGlzLl9fdXBkYXRlX18uY2F1c2VzKHQuY2F1c2VzKSx0aGlzLm9uVXBkYXRlKHQpfSxvLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxvLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1vLG8ucG9vbD1bXSxvLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5tZXNzYWdlJiZ0aGlzLl9fdXBkYXRlX18ubWVzc2FnZSh0Lm1lc3NhZ2UpfSxhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hLGEucG9vbD1bXSxhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5zdGFja3RyYWNlRWxlbWVudCYmdm9pZCAwIT09dC5fX2luZGV4X18mJnRoaXMuX191cGRhdGVfXy5zdGFja3RyYWNlRWxlbWVudCh0LnN0YWNrdHJhY2VFbGVtZW50KX0scy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkscy5wcm90b3R5cGUuY29uc3RydWN0b3I9cyxzLnBvb2w9W10scy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuZnVsbE5hbWUmJnRoaXMuX191cGRhdGVfXy5mdWxsTmFtZSh0LmZ1bGxOYW1lKSx2b2lkIDAhPT10Lm1lc3NhZ2UmJnRoaXMuX191cGRhdGVfXy5tZXNzYWdlKHQubWVzc2FnZSksdm9pZCAwIT09dC5zdGFja1RyYWNlJiZ0aGlzLl9fdXBkYXRlX18uc3RhY2tUcmFjZSh0LnN0YWNrVHJhY2UpLHZvaWQgMCE9PXQuY2F1c2UmJnQuX19pbmRleF9fLHRoaXMub25VcGRhdGUodCl9LGwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGwucHJvdG90eXBlLmNvbnN0cnVjdG9yPWwsbC5wb29sPVtdLGwucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10Lm1lc3NhZ2UmJnRoaXMuX191cGRhdGVfXy5tZXNzYWdlKHQubWVzc2FnZSl9LGMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGMucHJvdG90eXBlLmNvbnN0cnVjdG9yPWMsYy5wb29sPVtdLGMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LnN0YWNrdHJhY2VFbGVtZW50JiZ2b2lkIDAhPT10Ll9faW5kZXhfXyYmdGhpcy5fX3VwZGF0ZV9fLnN0YWNrdHJhY2VFbGVtZW50KHQuc3RhY2t0cmFjZUVsZW1lbnQpfSx0LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDMyNil9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSxuKXtcbi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi42Kzk4NjlhNGJjXG4gKi92YXIgcjtyPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fXZhciByPUFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheTpmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LGk9MCxvPXZvaWQgMCxhPXZvaWQgMCxzPWZ1bmN0aW9uKHQsZSl7cFtpXT10LHBbaSsxXT1lLDI9PT0oaSs9MikmJihhP2EobSk6eCgpKX0sbD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAsYz1sfHx7fSx1PWMuTXV0YXRpb25PYnNlcnZlcnx8Yy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGY9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGYmJnZvaWQgMCE9PWUmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbChlKSxkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGltcG9ydFNjcmlwdHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbDtmdW5jdGlvbiBoKCl7dmFyIHQ9c2V0VGltZW91dDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdChtLDEpfX12YXIgcD1uZXcgQXJyYXkoMWUzKTtmdW5jdGlvbiBtKCl7Zm9yKHZhciB0PTA7dDxpO3QrPTIpeygwLHBbdF0pKHBbdCsxXSkscFt0XT12b2lkIDAscFt0KzFdPXZvaWQgMH1pPTB9dmFyIGcsdix5LGIseD12b2lkIDA7ZnVuY3Rpb24gdyh0LGUpe3ZhciBuPXRoaXMscj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihfKTt2b2lkIDA9PT1yW2tdJiZSKHIpO3ZhciBpPW4uX3N0YXRlO2lmKGkpe3ZhciBvPWFyZ3VtZW50c1tpLTFdO3MoZnVuY3Rpb24oKXtyZXR1cm4gRChpLHIsbyxuLl9yZXN1bHQpfSl9ZWxzZSBJKG4scix0LGUpO3JldHVybiByfWZ1bmN0aW9uIEModCl7aWYodCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I9PT10aGlzKXJldHVybiB0O3ZhciBlPW5ldyB0aGlzKF8pO3JldHVybiBBKGUsdCksZX1mP3g9ZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0VGljayhtKX06dT8odj0wLHk9bmV3IHUobSksYj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSx5Lm9ic2VydmUoYix7Y2hhcmFjdGVyRGF0YTohMH0pLHg9ZnVuY3Rpb24oKXtiLmRhdGE9dj0rK3YlMn0pOmQ/KChnPW5ldyBNZXNzYWdlQ2hhbm5lbCkucG9ydDEub25tZXNzYWdlPW0seD1mdW5jdGlvbigpe3JldHVybiBnLnBvcnQyLnBvc3RNZXNzYWdlKDApfSk6eD12b2lkIDA9PT1sP2Z1bmN0aW9uKCl7dHJ5e3ZhciB0PUZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKS5yZXF1aXJlKFwidmVydHhcIik7cmV0dXJuIHZvaWQgMCE9PShvPXQucnVuT25Mb29wfHx0LnJ1bk9uQ29udGV4dCk/ZnVuY3Rpb24oKXtvKG0pfTpoKCl9Y2F0Y2godCl7cmV0dXJuIGgoKX19KCk6aCgpO3ZhciBrPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtmdW5jdGlvbiBfKCl7fXZhciBTPXZvaWQgMCxFPTEsVD0yLE89e2Vycm9yOm51bGx9O2Z1bmN0aW9uIE0odCl7dHJ5e3JldHVybiB0LnRoZW59Y2F0Y2godCl7cmV0dXJuIE8uZXJyb3I9dCxPfX1mdW5jdGlvbiBMKGUsbixyKXtuLmNvbnN0cnVjdG9yPT09ZS5jb25zdHJ1Y3RvciYmcj09PXcmJm4uY29uc3RydWN0b3IucmVzb2x2ZT09PUM/ZnVuY3Rpb24odCxlKXtlLl9zdGF0ZT09PUU/UCh0LGUuX3Jlc3VsdCk6ZS5fc3RhdGU9PT1UP0YodCxlLl9yZXN1bHQpOkkoZSx2b2lkIDAsZnVuY3Rpb24oZSl7cmV0dXJuIEEodCxlKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEYodCxlKX0pfShlLG4pOnI9PT1PPyhGKGUsTy5lcnJvciksTy5lcnJvcj1udWxsKTp2b2lkIDA9PT1yP1AoZSxuKTp0KHIpP2Z1bmN0aW9uKHQsZSxuKXtzKGZ1bmN0aW9uKHQpe3ZhciByPSExLGk9ZnVuY3Rpb24odCxlLG4scil7dHJ5e3QuY2FsbChlLG4scil9Y2F0Y2godCl7cmV0dXJuIHR9fShuLGUsZnVuY3Rpb24obil7cnx8KHI9ITAsZSE9PW4/QSh0LG4pOlAodCxuKSl9LGZ1bmN0aW9uKGUpe3J8fChyPSEwLEYodCxlKSl9LHQuX2xhYmVsKTshciYmaSYmKHI9ITAsRih0LGkpKX0sdCl9KGUsbixyKTpQKGUsbil9ZnVuY3Rpb24gQSh0LGUpe3ZhciBuLHI7dD09PWU/Rih0LG5ldyBUeXBlRXJyb3IoXCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmXCIpKToocj10eXBlb2Yobj1lKSxudWxsPT09bnx8XCJvYmplY3RcIiE9PXImJlwiZnVuY3Rpb25cIiE9PXI/UCh0LGUpOkwodCxlLE0oZSkpKX1mdW5jdGlvbiBOKHQpe3QuX29uZXJyb3ImJnQuX29uZXJyb3IodC5fcmVzdWx0KSxqKHQpfWZ1bmN0aW9uIFAodCxlKXt0Ll9zdGF0ZT09PVMmJih0Ll9yZXN1bHQ9ZSx0Ll9zdGF0ZT1FLDAhPT10Ll9zdWJzY3JpYmVycy5sZW5ndGgmJnMoaix0KSl9ZnVuY3Rpb24gRih0LGUpe3QuX3N0YXRlPT09UyYmKHQuX3N0YXRlPVQsdC5fcmVzdWx0PWUscyhOLHQpKX1mdW5jdGlvbiBJKHQsZSxuLHIpe3ZhciBpPXQuX3N1YnNjcmliZXJzLG89aS5sZW5ndGg7dC5fb25lcnJvcj1udWxsLGlbb109ZSxpW28rRV09bixpW28rVF09ciwwPT09byYmdC5fc3RhdGUmJnMoaix0KX1mdW5jdGlvbiBqKHQpe3ZhciBlPXQuX3N1YnNjcmliZXJzLG49dC5fc3RhdGU7aWYoMCE9PWUubGVuZ3RoKXtmb3IodmFyIHI9dm9pZCAwLGk9dm9pZCAwLG89dC5fcmVzdWx0LGE9MDthPGUubGVuZ3RoO2ErPTMpcj1lW2FdLGk9ZVthK25dLHI/RChuLHIsaSxvKTppKG8pO3QuX3N1YnNjcmliZXJzLmxlbmd0aD0wfX1mdW5jdGlvbiBEKGUsbixyLGkpe3ZhciBvPXQociksYT12b2lkIDAscz12b2lkIDAsbD12b2lkIDAsYz12b2lkIDA7aWYobyl7aWYoKGE9ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHQoZSl9Y2F0Y2godCl7cmV0dXJuIE8uZXJyb3I9dCxPfX0ocixpKSk9PT1PPyhjPSEwLHM9YS5lcnJvcixhLmVycm9yPW51bGwpOmw9ITAsbj09PWEpcmV0dXJuIHZvaWQgRihuLG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuXCIpKX1lbHNlIGE9aSxsPSEwO24uX3N0YXRlIT09U3x8KG8mJmw/QShuLGEpOmM/RihuLHMpOmU9PT1FP1AobixhKTplPT09VCYmRihuLGEpKX12YXIgej0wO2Z1bmN0aW9uIFIodCl7dFtrXT16KyssdC5fc3RhdGU9dm9pZCAwLHQuX3Jlc3VsdD12b2lkIDAsdC5fc3Vic2NyaWJlcnM9W119dmFyIEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5faW5zdGFuY2VDb25zdHJ1Y3Rvcj10LHRoaXMucHJvbWlzZT1uZXcgdChfKSx0aGlzLnByb21pc2Vba118fFIodGhpcy5wcm9taXNlKSxyKGUpPyh0aGlzLmxlbmd0aD1lLmxlbmd0aCx0aGlzLl9yZW1haW5pbmc9ZS5sZW5ndGgsdGhpcy5fcmVzdWx0PW5ldyBBcnJheSh0aGlzLmxlbmd0aCksMD09PXRoaXMubGVuZ3RoP1AodGhpcy5wcm9taXNlLHRoaXMuX3Jlc3VsdCk6KHRoaXMubGVuZ3RoPXRoaXMubGVuZ3RofHwwLHRoaXMuX2VudW1lcmF0ZShlKSwwPT09dGhpcy5fcmVtYWluaW5nJiZQKHRoaXMucHJvbWlzZSx0aGlzLl9yZXN1bHQpKSk6Rih0aGlzLnByb21pc2UsbmV3IEVycm9yKFwiQXJyYXkgTWV0aG9kcyBtdXN0IGJlIHByb3ZpZGVkIGFuIEFycmF5XCIpKX1yZXR1cm4gdC5wcm90b3R5cGUuX2VudW1lcmF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDt0aGlzLl9zdGF0ZT09PVMmJmU8dC5sZW5ndGg7ZSsrKXRoaXMuX2VhY2hFbnRyeSh0W2VdLGUpfSx0LnByb3RvdHlwZS5fZWFjaEVudHJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcixyPW4ucmVzb2x2ZTtpZihyPT09Qyl7dmFyIGk9TSh0KTtpZihpPT09dyYmdC5fc3RhdGUhPT1TKXRoaXMuX3NldHRsZWRBdCh0Ll9zdGF0ZSxlLHQuX3Jlc3VsdCk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXRoaXMuX3JlbWFpbmluZy0tLHRoaXMuX3Jlc3VsdFtlXT10O2Vsc2UgaWYobj09PUgpe3ZhciBvPW5ldyBuKF8pO0wobyx0LGkpLHRoaXMuX3dpbGxTZXR0bGVBdChvLGUpfWVsc2UgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBuKGZ1bmN0aW9uKGUpe3JldHVybiBlKHQpfSksZSl9ZWxzZSB0aGlzLl93aWxsU2V0dGxlQXQocih0KSxlKX0sdC5wcm90b3R5cGUuX3NldHRsZWRBdD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5wcm9taXNlO3IuX3N0YXRlPT09UyYmKHRoaXMuX3JlbWFpbmluZy0tLHQ9PT1UP0YocixuKTp0aGlzLl9yZXN1bHRbZV09biksMD09PXRoaXMuX3JlbWFpbmluZyYmUChyLHRoaXMuX3Jlc3VsdCl9LHQucHJvdG90eXBlLl93aWxsU2V0dGxlQXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO0kodCx2b2lkIDAsZnVuY3Rpb24odCl7cmV0dXJuIG4uX3NldHRsZWRBdChFLGUsdCl9LGZ1bmN0aW9uKHQpe3JldHVybiBuLl9zZXR0bGVkQXQoVCxlLHQpfSl9LHR9KCksSD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpc1trXT16KyssdGhpcy5fcmVzdWx0PXRoaXMuX3N0YXRlPXZvaWQgMCx0aGlzLl9zdWJzY3JpYmVycz1bXSxfIT09dCYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJmZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3JcIil9KCksdGhpcyBpbnN0YW5jZW9mIGU/ZnVuY3Rpb24odCxlKXt0cnl7ZShmdW5jdGlvbihlKXtBKHQsZSl9LGZ1bmN0aW9uKGUpe0YodCxlKX0pfWNhdGNoKGUpe0YodCxlKX19KHRoaXMsdCk6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpfSgpKX1yZXR1cm4gZS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihudWxsLHQpfSxlLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHQoZSk/dGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuLnJlc29sdmUoZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0sZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVzb2x2ZShlKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyB0fSl9KTp0aGlzLnRoZW4oZSxlKX0sZX0oKTtyZXR1cm4gSC5wcm90b3R5cGUudGhlbj13LEguYWxsPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQih0aGlzLHQpLnByb21pc2V9LEgucmFjZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiByKHQpP25ldyBlKGZ1bmN0aW9uKG4scil7Zm9yKHZhciBpPXQubGVuZ3RoLG89MDtvPGk7bysrKWUucmVzb2x2ZSh0W29dKS50aGVuKG4scil9KTpuZXcgZShmdW5jdGlvbih0LGUpe3JldHVybiBlKG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuXCIpKX0pfSxILnJlc29sdmU9QyxILnJlamVjdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdGhpcyhfKTtyZXR1cm4gRihlLHQpLGV9LEguX3NldFNjaGVkdWxlcj1mdW5jdGlvbih0KXthPXR9LEguX3NldEFzYXA9ZnVuY3Rpb24odCl7cz10fSxILl9hc2FwPXMsSC5wb2x5ZmlsbD1mdW5jdGlvbigpe3ZhciB0PXZvaWQgMDtpZih2b2lkIDAhPT1uKXQ9bjtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmKXQ9c2VsZjtlbHNlIHRyeXt0PUZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnRcIil9dmFyIGU9dC5Qcm9taXNlO2lmKGUpe3ZhciByPW51bGw7dHJ5e3I9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUucmVzb2x2ZSgpKX1jYXRjaCh0KXt9aWYoXCJbb2JqZWN0IFByb21pc2VdXCI9PT1yJiYhZS5jYXN0KXJldHVybn10LlByb21pc2U9SH0sSC5Qcm9taXNlPUgsSH0sdC5leHBvcnRzPXIoKX0pLmNhbGwodGhpcyxuKDM1MSksbigxNDUpKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDM1NSl9LGZ1bmN0aW9uKHQsZSxuKXtuKDEwNSksdC5leHBvcnRzPW4oMSkuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDgpKFwibWV0YVwiKSxpPW4oMTEpLG89bigxNSksYT1uKDEwKS5mLHM9MCxsPU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGM9IW4oMjApKGZ1bmN0aW9uKCl7cmV0dXJuIGwoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSx1PWZ1bmN0aW9uKHQpe2EodCxyLHt2YWx1ZTp7aTpcIk9cIisgKytzLHc6e319fSl9LGY9dC5leHBvcnRzPXtLRVk6cixORUVEOiExLGZhc3RLZXk6ZnVuY3Rpb24odCxlKXtpZighaSh0KSlyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdD90OihcInN0cmluZ1wiPT10eXBlb2YgdD9cIlNcIjpcIlBcIikrdDtpZighbyh0LHIpKXtpZighbCh0KSlyZXR1cm5cIkZcIjtpZighZSlyZXR1cm5cIkVcIjt1KHQpfXJldHVybiB0W3JdLml9LGdldFdlYWs6ZnVuY3Rpb24odCxlKXtpZighbyh0LHIpKXtpZighbCh0KSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTt1KHQpfXJldHVybiB0W3JdLnd9LG9uRnJlZXplOmZ1bmN0aW9uKHQpe3JldHVybiBjJiZmLk5FRUQmJmwodCkmJiFvKHQscikmJnUodCksdH19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNyksaT1uKDc1KSxvPW4oNDEpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yKHQpLG49aS5mO2lmKG4pZm9yKHZhciBhLHM9bih0KSxsPW8uZixjPTA7cy5sZW5ndGg+YzspbC5jYWxsKHQsYT1zW2MrK10pJiZlLnB1c2goYSk7cmV0dXJuIGV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNiksaT1uKDcxKSxvPW4oMTY3KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbixhKXt2YXIgcyxsPXIoZSksYz1pKGwubGVuZ3RoKSx1PW8oYSxjKTtpZih0JiZuIT1uKXtmb3IoO2M+dTspaWYoKHM9bFt1KytdKSE9cylyZXR1cm4hMH1lbHNlIGZvcig7Yz51O3UrKylpZigodHx8dSBpbiBsKSYmbFt1XT09PW4pcmV0dXJuIHR8fHV8fDA7cmV0dXJuIXQmJi0xfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcyKSxpPU1hdGgubWF4LG89TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQ9cih0KSk8MD9pKHQrZSwwKTpvKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMCksaT1uKDcpLG89bigyNyk7dC5leHBvcnRzPW4oOCk/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtpKHQpO2Zvcih2YXIgbixhPW8oZSkscz1hLmxlbmd0aCxsPTA7cz5sOylyLmYodCxuPWFbbCsrXSxlW25dKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxpPW4oMTEyKS5mLG89e30udG9TdHJpbmcsYT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W107dC5leHBvcnRzLmY9ZnVuY3Rpb24odCl7cmV0dXJuIGEmJlwiW29iamVjdCBXaW5kb3ddXCI9PW8uY2FsbCh0KT9mdW5jdGlvbih0KXt0cnl7cmV0dXJuIGkodCl9Y2F0Y2godCl7cmV0dXJuIGEuc2xpY2UoKX19KHQpOmkocih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzNSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgbixpLG89e30sYT1yKHQpO2ZvcihpPTA7aTxhLmxlbmd0aDtpKyspbj1hW2ldLGUuaW5kZXhPZihuKT49MHx8KG9bbl09dFtuXSk7cmV0dXJuIG99fSxmdW5jdGlvbih0LGUsbil7bigxNzIpLHQuZXhwb3J0cz1uKDEpLk9iamVjdC5rZXlzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOCksaT1uKDI3KTtuKDc3KShcImtleXNcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaShyKHQpKX19KX0sZnVuY3Rpb24odCxlLG4pe24oMTc0KTt2YXIgcj1uKDEpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxpPW4oNTEpLmY7big3NykoXCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JcIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiBpKHIodCksZSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSBpbiB0P3IodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9fSxmdW5jdGlvbih0LGUsbil7bigxNzcpO3ZhciByPW4oMSkuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZGVmaW5lUHJvcGVydHkodCxlLG4pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMik7cihyLlMrci5GKiFuKDgpLFwiT2JqZWN0XCIse2RlZmluZVByb3BlcnR5Om4oMTApLmZ9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTIpLGk9bigzMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBvLGEscz1TdHJpbmcoaShlKSksbD1yKG4pLGM9cy5sZW5ndGg7cmV0dXJuIGw8MHx8bD49Yz90P1wiXCI6dm9pZCAwOihvPXMuY2hhckNvZGVBdChsKSk8NTUyOTZ8fG8+NTYzMTl8fGwrMT09PWN8fChhPXMuY2hhckNvZGVBdChsKzEpKTw1NjMyMHx8YT41NzM0Mz90P3MuY2hhckF0KGwpOm86dD9zLnNsaWNlKGwsbCsyKTphLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ITF9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDg1KTtuKDMxKSh7dGFyZ2V0OlwiUmVnRXhwXCIscHJvdG86ITAsZm9yY2VkOnIhPT0vLi8uZXhlY30se2V4ZWM6cn0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMiksaT1uKDIzKS5kb2N1bWVudCxvPXIoaSkmJnIoaS5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8/aS5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDgxKShcIm5hdGl2ZS1mdW5jdGlvbi10by1zdHJpbmdcIixGdW5jdGlvbi50b1N0cmluZyl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyKSxpPW4oMTg0KS5zZXQ7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbyxhPWUuY29uc3RydWN0b3I7cmV0dXJuIGEhPT1uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYobz1hLnByb3RvdHlwZSkhPT1uLnByb3RvdHlwZSYmcihvKSYmaSYmaSh0LG8pLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMiksaT1uKDE3KSxvPWZ1bmN0aW9uKHQsZSl7aWYoaSh0KSwhcihlKSYmbnVsbCE9PWUpdGhyb3cgVHlwZUVycm9yKGUrXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fChcIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbih0LGUscil7dHJ5eyhyPW4oODcpKEZ1bmN0aW9uLmNhbGwsbigxODUpLmYoT2JqZWN0LnByb3RvdHlwZSxcIl9fcHJvdG9fX1wiKS5zZXQsMikpKHQsW10pLGU9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKHQpe2U9ITB9cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIG8odCxuKSxlP3QuX19wcm90b19fPW46cih0LG4pLHR9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpvfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTg2KSxpPW4oMTE4KSxvPW4oODkpLGE9bigxMTcpLHM9big4NiksbD1uKDExNiksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2UuZj1uKDEyKT9jOmZ1bmN0aW9uKHQsZSl7aWYodD1vKHQpLGU9YShlLCEwKSxsKXRyeXtyZXR1cm4gYyh0LGUpfWNhdGNoKHQpe31pZihzKHQsZSkpcmV0dXJuIGkoIXIuZi5jYWxsKHQsZSksdFtlXSl9fSxmdW5jdGlvbih0LGUpe2UuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTg4KSxpPW4oMTkxKS5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKTtlLmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKHQpe3JldHVybiByKHQsaSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4NiksaT1uKDg5KSxvPW4oMTIxKSghMSksYT1uKDE5MCkoXCJJRV9QUk9UT1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixzPWkodCksbD0wLGM9W107Zm9yKG4gaW4gcyluIT1hJiZyKHMsbikmJmMucHVzaChuKTtmb3IoO2UubGVuZ3RoPmw7KXIocyxuPWVbbCsrXSkmJih+byhjLG4pfHxjLnB1c2gobikpO3JldHVybiBjfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTIpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4odD1yKHQpKTwwP2kodCtlLDApOm8odCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgxKShcImtleXNcIiksaT1uKDgzKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPWkodCkpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2ZcIi5zcGxpdChcIixcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDIzKSxpPW4oNDIpLG89bigxMiksYT1uKDkpKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9clt0XTtvJiZlJiYhZVthXSYmaS5mKGUsYSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDIpLmYsaT1GdW5jdGlvbi5wcm90b3R5cGUsbz0vXlxccypmdW5jdGlvbiAoW14gKF0qKS87XCJuYW1lXCJpbiBpfHxuKDEyKSYmcihpLFwibmFtZVwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybihcIlwiK3RoaXMpLm1hdGNoKG8pWzFdfWNhdGNoKHQpe3JldHVyblwiXCJ9fX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNyksaT1uKDExOSksbz1uKDkpKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhPXIodCkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PShuPXIoYSlbb10pP2U6aShuKX19LGZ1bmN0aW9uKHQsZSxuKXtuKDEyNiksbig0NCksbig1NyksbigyMDEpLG4oMjA5KSxuKDIxMCksdC5leHBvcnRzPW4oMSkuUHJvbWlzZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzIpLGk9big1MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4pe3ZhciBvLGEscz1TdHJpbmcoaShlKSksbD1yKG4pLGM9cy5sZW5ndGg7cmV0dXJuIGw8MHx8bD49Yz90P1wiXCI6dm9pZCAwOihvPXMuY2hhckNvZGVBdChsKSk8NTUyOTZ8fG8+NTYzMTl8fGwrMT09PWN8fChhPXMuY2hhckNvZGVBdChsKzEpKTw1NjMyMHx8YT41NzM0Mz90P3MuY2hhckF0KGwpOm86dD9zLnNsaWNlKGwsbCsyKTphLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNzYpLGk9bigzOCksbz1uKDQ5KSxhPXt9O24oMjEpKGEsbig0KShcIml0ZXJhdG9yXCIpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QucHJvdG90eXBlPXIoYSx7bmV4dDppKDEsbil9KSxvKHQsZStcIiBJdGVyYXRvclwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE5OSksaT1uKDIwMCksbz1uKDMyKSxhPW4oMTYpO3QuZXhwb3J0cz1uKDEyNykoQXJyYXksXCJBcnJheVwiLGZ1bmN0aW9uKHQsZSl7dGhpcy5fdD1hKHQpLHRoaXMuX2k9MCx0aGlzLl9rPWV9LGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdCxlPXRoaXMuX2ssbj10aGlzLl9pKys7cmV0dXJuIXR8fG4+PXQubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxpKDEpKTppKDAsXCJrZXlzXCI9PWU/bjpcInZhbHVlc1wiPT1lP3Rbbl06W24sdFtuXV0pfSxcInZhbHVlc1wiKSxvLkFyZ3VtZW50cz1vLkFycmF5LHIoXCJrZXlzXCIpLHIoXCJ2YWx1ZXNcIikscihcImVudHJpZXNcIil9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEhdH19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvLGEscz1uKDM5KSxsPW4oMyksYz1uKDI2KSx1PW4oOTUpLGY9bigyKSxkPW4oMTEpLGg9big0NykscD1uKDIwMiksbT1uKDIwMyksZz1uKDEzMCksdj1uKDEzMSkuc2V0LHk9bigyMDUpKCksYj1uKDk3KSx4PW4oMTMyKSx3PW4oMjA2KSxDPW4oMTMzKSxrPWwuVHlwZUVycm9yLF89bC5wcm9jZXNzLFM9XyYmXy52ZXJzaW9ucyxFPVMmJlMudjh8fFwiXCIsVD1sLlByb21pc2UsTz1cInByb2Nlc3NcIj09dShfKSxNPWZ1bmN0aW9uKCl7fSxMPWk9Yi5mLEE9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1ULnJlc29sdmUoMSksZT0odC5jb25zdHJ1Y3Rvcj17fSlbbig0KShcInNwZWNpZXNcIildPWZ1bmN0aW9uKHQpe3QoTSxNKX07cmV0dXJuKE98fFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihNKWluc3RhbmNlb2YgZSYmMCE9PUUuaW5kZXhPZihcIjYuNlwiKSYmLTE9PT13LmluZGV4T2YoXCJDaHJvbWUvNjZcIil9Y2F0Y2godCl7fX0oKSxOPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiEoIWQodCl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mKGU9dC50aGVuKSkmJmV9LFA9ZnVuY3Rpb24odCxlKXtpZighdC5fbil7dC5fbj0hMDt2YXIgbj10Ll9jO3koZnVuY3Rpb24oKXtmb3IodmFyIHI9dC5fdixpPTE9PXQuX3Msbz0wLGE9ZnVuY3Rpb24oZSl7dmFyIG4sbyxhLHM9aT9lLm9rOmUuZmFpbCxsPWUucmVzb2x2ZSxjPWUucmVqZWN0LHU9ZS5kb21haW47dHJ5e3M/KGl8fCgyPT10Ll9oJiZqKHQpLHQuX2g9MSksITA9PT1zP249cjoodSYmdS5lbnRlcigpLG49cyhyKSx1JiYodS5leGl0KCksYT0hMCkpLG49PT1lLnByb21pc2U/YyhrKFwiUHJvbWlzZS1jaGFpbiBjeWNsZVwiKSk6KG89TihuKSk/by5jYWxsKG4sbCxjKTpsKG4pKTpjKHIpfWNhdGNoKHQpe3UmJiFhJiZ1LmV4aXQoKSxjKHQpfX07bi5sZW5ndGg+bzspYShuW28rK10pO3QuX2M9W10sdC5fbj0hMSxlJiYhdC5faCYmRih0KX0pfX0sRj1mdW5jdGlvbih0KXt2LmNhbGwobCxmdW5jdGlvbigpe3ZhciBlLG4scixpPXQuX3Ysbz1JKHQpO2lmKG8mJihlPXgoZnVuY3Rpb24oKXtPP18uZW1pdChcInVuaGFuZGxlZFJlamVjdGlvblwiLGksdCk6KG49bC5vbnVuaGFuZGxlZHJlamVjdGlvbik/bih7cHJvbWlzZTp0LHJlYXNvbjppfSk6KHI9bC5jb25zb2xlKSYmci5lcnJvciYmci5lcnJvcihcIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvblwiLGkpfSksdC5faD1PfHxJKHQpPzI6MSksdC5fYT12b2lkIDAsbyYmZS5lKXRocm93IGUudn0pfSxJPWZ1bmN0aW9uKHQpe3JldHVybiAxIT09dC5faCYmMD09PSh0Ll9hfHx0Ll9jKS5sZW5ndGh9LGo9ZnVuY3Rpb24odCl7di5jYWxsKGwsZnVuY3Rpb24oKXt2YXIgZTtPP18uZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIix0KTooZT1sLm9ucmVqZWN0aW9uaGFuZGxlZCkmJmUoe3Byb21pc2U6dCxyZWFzb246dC5fdn0pfSl9LEQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztlLl9kfHwoZS5fZD0hMCwoZT1lLl93fHxlKS5fdj10LGUuX3M9MixlLl9hfHwoZS5fYT1lLl9jLnNsaWNlKCkpLFAoZSwhMCkpfSx6PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcztpZighbi5fZCl7bi5fZD0hMCxuPW4uX3d8fG47dHJ5e2lmKG49PT10KXRocm93IGsoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTsoZT1OKHQpKT95KGZ1bmN0aW9uKCl7dmFyIHI9e193Om4sX2Q6ITF9O3RyeXtlLmNhbGwodCxjKHosciwxKSxjKEQsciwxKSl9Y2F0Y2godCl7RC5jYWxsKHIsdCl9fSk6KG4uX3Y9dCxuLl9zPTEsUChuLCExKSl9Y2F0Y2godCl7RC5jYWxsKHtfdzpuLF9kOiExfSx0KX19fTtBfHwoVD1mdW5jdGlvbih0KXtwKHRoaXMsVCxcIlByb21pc2VcIixcIl9oXCIpLGgodCksci5jYWxsKHRoaXMpO3RyeXt0KGMoeix0aGlzLDEpLGMoRCx0aGlzLDEpKX1jYXRjaCh0KXtELmNhbGwodGhpcyx0KX19LChyPWZ1bmN0aW9uKHQpe3RoaXMuX2M9W10sdGhpcy5fYT12b2lkIDAsdGhpcy5fcz0wLHRoaXMuX2Q9ITEsdGhpcy5fdj12b2lkIDAsdGhpcy5faD0wLHRoaXMuX249ITF9KS5wcm90b3R5cGU9bigyMDcpKFQucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKHQsZSl7dmFyIG49TChnKHRoaXMsVCkpO3JldHVybiBuLm9rPVwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fHQsbi5mYWlsPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUsbi5kb21haW49Tz9fLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKG4pLHRoaXMuX2EmJnRoaXMuX2EucHVzaChuKSx0aGlzLl9zJiZQKHRoaXMsITEpLG4ucHJvbWlzZX0sY2F0Y2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdCl9fSksbz1mdW5jdGlvbigpe3ZhciB0PW5ldyByO3RoaXMucHJvbWlzZT10LHRoaXMucmVzb2x2ZT1jKHosdCwxKSx0aGlzLnJlamVjdD1jKEQsdCwxKX0sYi5mPUw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1UfHx0PT09YT9uZXcgbyh0KTppKHQpfSksZihmLkcrZi5XK2YuRiohQSx7UHJvbWlzZTpUfSksbig0OSkoVCxcIlByb21pc2VcIiksbigyMDgpKFwiUHJvbWlzZVwiKSxhPW4oMSkuUHJvbWlzZSxmKGYuUytmLkYqIUEsXCJQcm9taXNlXCIse3JlamVjdDpmdW5jdGlvbih0KXt2YXIgZT1MKHRoaXMpO3JldHVybigwLGUucmVqZWN0KSh0KSxlLnByb21pc2V9fSksZihmLlMrZi5GKihzfHwhQSksXCJQcm9taXNlXCIse3Jlc29sdmU6ZnVuY3Rpb24odCl7cmV0dXJuIEMocyYmdGhpcz09PWE/VDp0aGlzLHQpfX0pLGYoZi5TK2YuRiohKEEmJm4oMTM0KShmdW5jdGlvbih0KXtULmFsbCh0KS5jYXRjaChNKX0pKSxcIlByb21pc2VcIix7YWxsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1MKGUpLHI9bi5yZXNvbHZlLGk9bi5yZWplY3Qsbz14KGZ1bmN0aW9uKCl7dmFyIG49W10sbz0wLGE9MTttKHQsITEsZnVuY3Rpb24odCl7dmFyIHM9bysrLGw9ITE7bi5wdXNoKHZvaWQgMCksYSsrLGUucmVzb2x2ZSh0KS50aGVuKGZ1bmN0aW9uKHQpe2x8fChsPSEwLG5bc109dCwtLWF8fHIobikpfSxpKX0pLC0tYXx8cihuKX0pO3JldHVybiBvLmUmJmkoby52KSxuLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPUwoZSkscj1uLnJlamVjdCxpPXgoZnVuY3Rpb24oKXttKHQsITEsZnVuY3Rpb24odCl7ZS5yZXNvbHZlKHQpLnRoZW4obi5yZXNvbHZlLHIpfSl9KTtyZXR1cm4gaS5lJiZyKGkudiksbi5wcm9taXNlfX0pfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixyKXtpZighKHQgaW5zdGFuY2VvZiBlKXx8dm9pZCAwIT09ciYmciBpbiB0KXRocm93IFR5cGVFcnJvcihuK1wiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyNiksaT1uKDEyOCksbz1uKDEyOSksYT1uKDcpLHM9big3MSksbD1uKDk2KSxjPXt9LHU9e307KGU9dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGYsZCl7dmFyIGgscCxtLGcsdj1kP2Z1bmN0aW9uKCl7cmV0dXJuIHR9OmwodCkseT1yKG4sZixlPzI6MSksYj0wO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHYpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGl0ZXJhYmxlIVwiKTtpZihvKHYpKXtmb3IoaD1zKHQubGVuZ3RoKTtoPmI7YisrKWlmKChnPWU/eShhKHA9dFtiXSlbMF0scFsxXSk6eSh0W2JdKSk9PT1jfHxnPT09dSlyZXR1cm4gZ31lbHNlIGZvcihtPXYuY2FsbCh0KTshKHA9bS5uZXh0KCkpLmRvbmU7KWlmKChnPWkobSx5LHAudmFsdWUsZSkpPT09Y3x8Zz09PXUpcmV0dXJuIGd9KS5CUkVBSz1jLGUuUkVUVVJOPXV9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj12b2lkIDA9PT1uO3N3aXRjaChlLmxlbmd0aCl7Y2FzZSAwOnJldHVybiByP3QoKTp0LmNhbGwobik7Y2FzZSAxOnJldHVybiByP3QoZVswXSk6dC5jYWxsKG4sZVswXSk7Y2FzZSAyOnJldHVybiByP3QoZVswXSxlWzFdKTp0LmNhbGwobixlWzBdLGVbMV0pO2Nhc2UgMzpyZXR1cm4gcj90KGVbMF0sZVsxXSxlWzJdKTp0LmNhbGwobixlWzBdLGVbMV0sZVsyXSk7Y2FzZSA0OnJldHVybiByP3QoZVswXSxlWzFdLGVbMl0sZVszXSk6dC5jYWxsKG4sZVswXSxlWzFdLGVbMl0sZVszXSl9cmV0dXJuIHQuYXBwbHkobixlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLGk9bigxMzEpLnNldCxvPXIuTXV0YXRpb25PYnNlcnZlcnx8ci5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLGE9ci5wcm9jZXNzLHM9ci5Qcm9taXNlLGw9XCJwcm9jZXNzXCI9PW4oNDApKGEpO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUsbixjPWZ1bmN0aW9uKCl7dmFyIHIsaTtmb3IobCYmKHI9YS5kb21haW4pJiZyLmV4aXQoKTt0Oyl7aT10LmZuLHQ9dC5uZXh0O3RyeXtpKCl9Y2F0Y2gocil7dGhyb3cgdD9uKCk6ZT12b2lkIDAscn19ZT12b2lkIDAsciYmci5lbnRlcigpfTtpZihsKW49ZnVuY3Rpb24oKXthLm5leHRUaWNrKGMpfTtlbHNlIGlmKCFvfHxyLm5hdmlnYXRvciYmci5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSlpZihzJiZzLnJlc29sdmUpe3ZhciB1PXMucmVzb2x2ZSh2b2lkIDApO249ZnVuY3Rpb24oKXt1LnRoZW4oYyl9fWVsc2Ugbj1mdW5jdGlvbigpe2kuY2FsbChyLGMpfTtlbHNle3ZhciBmPSEwLGQ9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7bmV3IG8oYykub2JzZXJ2ZShkLHtjaGFyYWN0ZXJEYXRhOiEwfSksbj1mdW5jdGlvbigpe2QuZGF0YT1mPSFmfX1yZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9e2ZuOnIsbmV4dDp2b2lkIDB9O2UmJihlLm5leHQ9aSksdHx8KHQ9aSxuKCkpLGU9aX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKS5uYXZpZ2F0b3I7dC5leHBvcnRzPXImJnIudXNlckFnZW50fHxcIlwifSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGkgaW4gZSluJiZ0W2ldP3RbaV09ZVtpXTpyKHQsaSxlW2ldKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMpLGk9bigxKSxvPW4oMTApLGE9big4KSxzPW4oNCkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpW3RdP2lbdF06clt0XTthJiZlJiYhZVtzXSYmby5mKGUscyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDEpLG89bigzKSxhPW4oMTMwKSxzPW4oMTMzKTtyKHIuUCtyLlIsXCJQcm9taXNlXCIse2ZpbmFsbHk6ZnVuY3Rpb24odCl7dmFyIGU9YSh0aGlzLGkuUHJvbWlzZXx8by5Qcm9taXNlKSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ7cmV0dXJuIHRoaXMudGhlbihuP2Z1bmN0aW9uKG4pe3JldHVybiBzKGUsdCgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG59KX06dCxuP2Z1bmN0aW9uKG4pe3JldHVybiBzKGUsdCgpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgbn0pfTp0KX19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMiksaT1uKDk3KSxvPW4oMTMyKTtyKHIuUyxcIlByb21pc2VcIix7dHJ5OmZ1bmN0aW9uKHQpe3ZhciBlPWkuZih0aGlzKSxuPW8odCk7cmV0dXJuKG4uZT9lLnJlamVjdDplLnJlc29sdmUpKG4udiksZS5wcm9taXNlfX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjEyKX0sZnVuY3Rpb24odCxlLG4pe24oNDQpLG4oNTcpLHQuZXhwb3J0cz1uKDY5KS5mKFwiaXRlcmF0b3JcIil9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyMTQpfSxmdW5jdGlvbih0LGUsbil7bigxMDUpLG4oMTI2KSxuKDIxNSksbigyMTYpLHQuZXhwb3J0cz1uKDEpLlN5bWJvbH0sZnVuY3Rpb24odCxlLG4pe24oNzApKFwiYXN5bmNJdGVyYXRvclwiKX0sZnVuY3Rpb24odCxlLG4pe24oNzApKFwib2JzZXJ2YWJsZVwiKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjE4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYocih0KSl7Zm9yKHZhciBlPTAsbj1uZXcgQXJyYXkodC5sZW5ndGgpO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXTtyZXR1cm4gbn19fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjE5KX0sZnVuY3Rpb24odCxlLG4pe24oMjIwKSx0LmV4cG9ydHM9bigxKS5BcnJheS5pc0FycmF5fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKTtyKHIuUyxcIkFycmF5XCIse2lzQXJyYXk6bigxMTApfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyMiksaT1uKDIyNik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKGkoT2JqZWN0KHQpKXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gcih0KX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyMjMpfSxmdW5jdGlvbih0LGUsbil7big0NCksbigyMjQpLHQuZXhwb3J0cz1uKDEpLkFycmF5LmZyb219LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDI2KSxpPW4oMiksbz1uKDI4KSxhPW4oMTI4KSxzPW4oMTI5KSxsPW4oNzEpLGM9bigyMjUpLHU9big5Nik7aShpLlMraS5GKiFuKDEzNCkoZnVuY3Rpb24odCl7QXJyYXkuZnJvbSh0KX0pLFwiQXJyYXlcIix7ZnJvbTpmdW5jdGlvbih0KXt2YXIgZSxuLGksZixkPW8odCksaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzP3RoaXM6QXJyYXkscD1hcmd1bWVudHMubGVuZ3RoLG09cD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsZz12b2lkIDAhPT1tLHY9MCx5PXUoZCk7aWYoZyYmKG09cihtLHA+Mj9hcmd1bWVudHNbMl06dm9pZCAwLDIpKSxudWxsPT15fHxoPT1BcnJheSYmcyh5KSlmb3Iobj1uZXcgaChlPWwoZC5sZW5ndGgpKTtlPnY7disrKWMobix2LGc/bShkW3ZdLHYpOmRbdl0pO2Vsc2UgZm9yKGY9eS5jYWxsKGQpLG49bmV3IGg7IShpPWYubmV4dCgpKS5kb25lO3YrKyljKG4sdixnP2EoZixtLFtpLnZhbHVlLHZdLCEwKTppLnZhbHVlKTtyZXR1cm4gbi5sZW5ndGg9dixufX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMCksaT1uKDM4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2UgaW4gdD9yLmYodCxlLGkoMCxuKSk6dFtlXT1ufX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDIyNyl9LGZ1bmN0aW9uKHQsZSxuKXtuKDU3KSxuKDQ0KSx0LmV4cG9ydHM9bigyMjgpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NSksaT1uKDQpKFwiaXRlcmF0b3JcIiksbz1uKDMyKTt0LmV4cG9ydHM9bigxKS5pc0l0ZXJhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdCh0KTtyZXR1cm4gdm9pZCAwIT09ZVtpXXx8XCJAQGl0ZXJhdG9yXCJpbiBlfHxvLmhhc093blByb3BlcnR5KHIoZSkpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIil9fSxmdW5jdGlvbih0LGUsbil7bigyMzEpLHQuZXhwb3J0cz1uKDEpLk9iamVjdC5hc3NpZ259LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpO3Ioci5TK3IuRixcIk9iamVjdFwiLHthc3NpZ246bigyMzIpfSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDgpLGk9bigyNyksbz1uKDc1KSxhPW4oNDEpLHM9bigyOCksbD1uKDEwOSksYz1PYmplY3QuYXNzaWduO3QuZXhwb3J0cz0hY3x8bigyMCkoZnVuY3Rpb24oKXt2YXIgdD17fSxlPXt9LG49U3ltYm9sKCkscj1cImFiY2RlZmdoaWprbG1ub3BxcnN0XCI7cmV0dXJuIHRbbl09NyxyLnNwbGl0KFwiXCIpLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT10fSksNyE9Yyh7fSx0KVtuXXx8T2JqZWN0LmtleXMoYyh7fSxlKSkuam9pbihcIlwiKSE9cn0pP2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXModCksYz1hcmd1bWVudHMubGVuZ3RoLHU9MSxmPW8uZixkPWEuZjtjPnU7KWZvcih2YXIgaCxwPWwoYXJndW1lbnRzW3UrK10pLG09Zj9pKHApLmNvbmNhdChmKHApKTppKHApLGc9bS5sZW5ndGgsdj0wO2c+djspaD1tW3YrK10sciYmIWQuY2FsbChwLGgpfHwobltoXT1wW2hdKTtyZXR1cm4gbn06Y30sZnVuY3Rpb24odCxlLG4pe24oMjM0KSx0LmV4cG9ydHM9bigxKS5wYXJzZUludH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksaT1uKDIzNSk7cihyLkcrci5GKihwYXJzZUludCE9aSkse3BhcnNlSW50Oml9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMykucGFyc2VJbnQsaT1uKDIzNikudHJpbSxvPW4oMTM1KSxhPS9eWy0rXT8wW3hYXS87dC5leHBvcnRzPTghPT1yKG8rXCIwOFwiKXx8MjIhPT1yKG8rXCIweDE2XCIpP2Z1bmN0aW9uKHQsZSl7dmFyIG49aShTdHJpbmcodCksMyk7cmV0dXJuIHIobixlPj4+MHx8KGEudGVzdChuKT8xNjoxMCkpfTpyfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oNTApLG89bigyMCksYT1uKDEzNSkscz1cIltcIithK1wiXVwiLGw9UmVnRXhwKFwiXlwiK3MrcytcIipcIiksYz1SZWdFeHAocytzK1wiKiRcIiksdT1mdW5jdGlvbih0LGUsbil7dmFyIGk9e30scz1vKGZ1bmN0aW9uKCl7cmV0dXJuISFhW3RdKCl8fFwi4oCLwoVcIiE9XCLigIvChVwiW3RdKCl9KSxsPWlbdF09cz9lKGYpOmFbdF07biYmKGlbbl09bCkscihyLlArci5GKnMsXCJTdHJpbmdcIixpKX0sZj11LnRyaW09ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1TdHJpbmcoaSh0KSksMSZlJiYodD10LnJlcGxhY2UobCxcIlwiKSksMiZlJiYodD10LnJlcGxhY2UoYyxcIlwiKSksdH07dC5leHBvcnRzPXV9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9XCJDb2RlTWlycm9yLWhpbnRcIixuPVwiQ29kZU1pcnJvci1oaW50LWFjdGl2ZVwiO2Z1bmN0aW9uIHIodCxlKXt0aGlzLmNtPXQsdGhpcy5vcHRpb25zPWUsdGhpcy53aWRnZXQ9bnVsbCx0aGlzLmRlYm91bmNlPTAsdGhpcy50aWNrPTAsdGhpcy5zdGFydFBvcz10aGlzLmNtLmdldEN1cnNvcihcInN0YXJ0XCIpLHRoaXMuc3RhcnRMZW49dGhpcy5jbS5nZXRMaW5lKHRoaXMuc3RhcnRQb3MubGluZSkubGVuZ3RoLXRoaXMuY20uZ2V0U2VsZWN0aW9uKCkubGVuZ3RoO3ZhciBuPXRoaXM7dC5vbihcImN1cnNvckFjdGl2aXR5XCIsdGhpcy5hY3Rpdml0eUZ1bmM9ZnVuY3Rpb24oKXtuLmN1cnNvckFjdGl2aXR5KCl9KX10LnNob3dIaW50PWZ1bmN0aW9uKHQsZSxuKXtpZighZSlyZXR1cm4gdC5zaG93SGludChuKTtuJiZuLmFzeW5jJiYoZS5hc3luYz0hMCk7dmFyIHI9e2hpbnQ6ZX07aWYobilmb3IodmFyIGkgaW4gbilyW2ldPW5baV07cmV0dXJuIHQuc2hvd0hpbnQocil9LHQuZGVmaW5lRXh0ZW5zaW9uKFwic2hvd0hpbnRcIixmdW5jdGlvbihlKXtlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10Lm9wdGlvbnMuaGludE9wdGlvbnMsaT17fTtmb3IodmFyIG8gaW4gdSlpW29dPXVbb107aWYocilmb3IodmFyIG8gaW4gcil2b2lkIDAhPT1yW29dJiYoaVtvXT1yW29dKTtpZihuKWZvcih2YXIgbyBpbiBuKXZvaWQgMCE9PW5bb10mJihpW29dPW5bb10pO3JldHVybiBpLmhpbnQucmVzb2x2ZSYmKGkuaGludD1pLmhpbnQucmVzb2x2ZSh0LGUpKSxpfSh0aGlzLHRoaXMuZ2V0Q3Vyc29yKFwic3RhcnRcIiksZSk7dmFyIG49dGhpcy5saXN0U2VsZWN0aW9ucygpO2lmKCEobi5sZW5ndGg+MSkpe2lmKHRoaXMuc29tZXRoaW5nU2VsZWN0ZWQoKSl7aWYoIWUuaGludC5zdXBwb3J0c1NlbGVjdGlvbilyZXR1cm47Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspaWYobltpXS5oZWFkLmxpbmUhPW5baV0uYW5jaG9yLmxpbmUpcmV0dXJufXRoaXMuc3RhdGUuY29tcGxldGlvbkFjdGl2ZSYmdGhpcy5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlLmNsb3NlKCk7dmFyIG89dGhpcy5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlPW5ldyByKHRoaXMsZSk7by5vcHRpb25zLmhpbnQmJih0LnNpZ25hbCh0aGlzLFwic3RhcnRDb21wbGV0aW9uXCIsdGhpcyksby51cGRhdGUoITApKX19KSx0LmRlZmluZUV4dGVuc2lvbihcImNsb3NlSGludFwiLGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlJiZ0aGlzLnN0YXRlLmNvbXBsZXRpb25BY3RpdmUuY2xvc2UoKX0pO3ZhciBpPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KHQsMWUzLzYwKX0sbz13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fGNsZWFyVGltZW91dDtmdW5jdGlvbiBhKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC50ZXh0fWZ1bmN0aW9uIHModCxlKXtmb3IoO2UmJmUhPXQ7KXtpZihcIkxJXCI9PT1lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkmJmUucGFyZW50Tm9kZT09dClyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX19ZnVuY3Rpb24gbChyLGkpe3RoaXMuY29tcGxldGlvbj1yLHRoaXMuZGF0YT1pLHRoaXMucGlja2VkPSExO3ZhciBvPXRoaXMsbD1yLmNtLGM9bC5nZXRJbnB1dEZpZWxkKCkub3duZXJEb2N1bWVudCx1PWMuZGVmYXVsdFZpZXd8fGMucGFyZW50V2luZG93LGY9dGhpcy5oaW50cz1jLmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKSxkPXIuY20ub3B0aW9ucy50aGVtZTtmLmNsYXNzTmFtZT1cIkNvZGVNaXJyb3ItaGludHMgXCIrZCx0aGlzLnNlbGVjdGVkSGludD1pLnNlbGVjdGVkSGludHx8MDtmb3IodmFyIGg9aS5saXN0LHA9MDtwPGgubGVuZ3RoOysrcCl7dmFyIG09Zi5hcHBlbmRDaGlsZChjLmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSksZz1oW3BdLHY9ZSsocCE9dGhpcy5zZWxlY3RlZEhpbnQ/XCJcIjpcIiBcIituKTtudWxsIT1nLmNsYXNzTmFtZSYmKHY9Zy5jbGFzc05hbWUrXCIgXCIrdiksbS5jbGFzc05hbWU9dixnLnJlbmRlcj9nLnJlbmRlcihtLGksZyk6bS5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGcuZGlzcGxheVRleHR8fGEoZykpKSxtLmhpbnRJZD1wfXZhciB5PXIub3B0aW9ucy5jb250YWluZXJ8fGMuYm9keSxiPWwuY3Vyc29yQ29vcmRzKHIub3B0aW9ucy5hbGlnbldpdGhXb3JkP2kuZnJvbTpudWxsKSx4PWIubGVmdCx3PWIuYm90dG9tLEM9ITAsaz0wLF89MDtpZih5IT09Yy5ib2R5KXt2YXIgUz0tMSE9PVtcImFic29sdXRlXCIsXCJyZWxhdGl2ZVwiLFwiZml4ZWRcIl0uaW5kZXhPZih1LmdldENvbXB1dGVkU3R5bGUoeSkucG9zaXRpb24pLEU9Uz95Onkub2Zmc2V0UGFyZW50LFQ9RS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxPPWMuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtrPVQubGVmdC1PLmxlZnQtRS5zY3JvbGxMZWZ0LF89VC50b3AtTy50b3AtRS5zY3JvbGxUb3B9Zi5zdHlsZS5sZWZ0PXgtaytcInB4XCIsZi5zdHlsZS50b3A9dy1fK1wicHhcIjt2YXIgTT11LmlubmVyV2lkdGh8fE1hdGgubWF4KGMuYm9keS5vZmZzZXRXaWR0aCxjLmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCksTD11LmlubmVySGVpZ2h0fHxNYXRoLm1heChjLmJvZHkub2Zmc2V0SGVpZ2h0LGMuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCk7eS5hcHBlbmRDaGlsZChmKTt2YXIgQT1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLE49QS5ib3R0b20tTCxQPWYuc2Nyb2xsSGVpZ2h0PmYuY2xpZW50SGVpZ2h0KzEsRj1sLmdldFNjcm9sbEluZm8oKTtpZihOPjApe3ZhciBJPUEuYm90dG9tLUEudG9wLGo9Yi50b3AtKGIuYm90dG9tLUEudG9wKTtpZihqLUk+MClmLnN0eWxlLnRvcD0odz1iLnRvcC1JLV8pK1wicHhcIixDPSExO2Vsc2UgaWYoST5MKXtmLnN0eWxlLmhlaWdodD1MLTUrXCJweFwiLGYuc3R5bGUudG9wPSh3PWIuYm90dG9tLUEudG9wLV8pK1wicHhcIjt2YXIgRD1sLmdldEN1cnNvcigpO2kuZnJvbS5jaCE9RC5jaCYmKGI9bC5jdXJzb3JDb29yZHMoRCksZi5zdHlsZS5sZWZ0PSh4PWIubGVmdC1rKStcInB4XCIsQT1mLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX19dmFyIHosUj1BLnJpZ2h0LU07aWYoUj4wJiYoQS5yaWdodC1BLmxlZnQ+TSYmKGYuc3R5bGUud2lkdGg9TS01K1wicHhcIixSLT1BLnJpZ2h0LUEubGVmdC1NKSxmLnN0eWxlLmxlZnQ9KHg9Yi5sZWZ0LVItaykrXCJweFwiKSxQKWZvcih2YXIgQj1mLmZpcnN0Q2hpbGQ7QjtCPUIubmV4dFNpYmxpbmcpQi5zdHlsZS5wYWRkaW5nUmlnaHQ9bC5kaXNwbGF5Lm5hdGl2ZUJhcldpZHRoK1wicHhcIjtyZXR1cm4gbC5hZGRLZXlNYXAodGhpcy5rZXlNYXA9ZnVuY3Rpb24odCxlKXt2YXIgbj17VXA6ZnVuY3Rpb24oKXtlLm1vdmVGb2N1cygtMSl9LERvd246ZnVuY3Rpb24oKXtlLm1vdmVGb2N1cygxKX0sUGFnZVVwOmZ1bmN0aW9uKCl7ZS5tb3ZlRm9jdXMoMS1lLm1lbnVTaXplKCksITApfSxQYWdlRG93bjpmdW5jdGlvbigpe2UubW92ZUZvY3VzKGUubWVudVNpemUoKS0xLCEwKX0sSG9tZTpmdW5jdGlvbigpe2Uuc2V0Rm9jdXMoMCl9LEVuZDpmdW5jdGlvbigpe2Uuc2V0Rm9jdXMoZS5sZW5ndGgtMSl9LEVudGVyOmUucGljayxUYWI6ZS5waWNrLEVzYzplLmNsb3NlfTsvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJihuW1wiQ3RybC1QXCJdPWZ1bmN0aW9uKCl7ZS5tb3ZlRm9jdXMoLTEpfSxuW1wiQ3RybC1OXCJdPWZ1bmN0aW9uKCl7ZS5tb3ZlRm9jdXMoMSl9KTt2YXIgcj10Lm9wdGlvbnMuY3VzdG9tS2V5cyxpPXI/e306bjtmdW5jdGlvbiBvKHQscil7dmFyIG87bz1cInN0cmluZ1wiIT10eXBlb2Ygcj9mdW5jdGlvbih0KXtyZXR1cm4gcih0LGUpfTpuLmhhc093blByb3BlcnR5KHIpP25bcl06cixpW3RdPW99aWYocilmb3IodmFyIGEgaW4gcilyLmhhc093blByb3BlcnR5KGEpJiZvKGEsclthXSk7dmFyIHM9dC5vcHRpb25zLmV4dHJhS2V5cztpZihzKWZvcih2YXIgYSBpbiBzKXMuaGFzT3duUHJvcGVydHkoYSkmJm8oYSxzW2FdKTtyZXR1cm4gaX0ocix7bW92ZUZvY3VzOmZ1bmN0aW9uKHQsZSl7by5jaGFuZ2VBY3RpdmUoby5zZWxlY3RlZEhpbnQrdCxlKX0sc2V0Rm9jdXM6ZnVuY3Rpb24odCl7by5jaGFuZ2VBY3RpdmUodCl9LG1lbnVTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG8uc2NyZWVuQW1vdW50KCl9LGxlbmd0aDpoLmxlbmd0aCxjbG9zZTpmdW5jdGlvbigpe3IuY2xvc2UoKX0scGljazpmdW5jdGlvbigpe28ucGljaygpfSxkYXRhOml9KSksci5vcHRpb25zLmNsb3NlT25VbmZvY3VzJiYobC5vbihcImJsdXJcIix0aGlzLm9uQmx1cj1mdW5jdGlvbigpe3o9c2V0VGltZW91dChmdW5jdGlvbigpe3IuY2xvc2UoKX0sMTAwKX0pLGwub24oXCJmb2N1c1wiLHRoaXMub25Gb2N1cz1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh6KX0pKSxsLm9uKFwic2Nyb2xsXCIsdGhpcy5vblNjcm9sbD1mdW5jdGlvbigpe3ZhciB0PWwuZ2V0U2Nyb2xsSW5mbygpLGU9bC5nZXRXcmFwcGVyRWxlbWVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49dytGLnRvcC10LnRvcCxpPW4tKHUucGFnZVlPZmZzZXR8fChjLmRvY3VtZW50RWxlbWVudHx8Yy5ib2R5KS5zY3JvbGxUb3ApO2lmKEN8fChpKz1mLm9mZnNldEhlaWdodCksaTw9ZS50b3B8fGk+PWUuYm90dG9tKXJldHVybiByLmNsb3NlKCk7Zi5zdHlsZS50b3A9bitcInB4XCIsZi5zdHlsZS5sZWZ0PXgrRi5sZWZ0LXQubGVmdCtcInB4XCJ9KSx0Lm9uKGYsXCJkYmxjbGlja1wiLGZ1bmN0aW9uKHQpe3ZhciBlPXMoZix0LnRhcmdldHx8dC5zcmNFbGVtZW50KTtlJiZudWxsIT1lLmhpbnRJZCYmKG8uY2hhbmdlQWN0aXZlKGUuaGludElkKSxvLnBpY2soKSl9KSx0Lm9uKGYsXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3ZhciBlPXMoZix0LnRhcmdldHx8dC5zcmNFbGVtZW50KTtlJiZudWxsIT1lLmhpbnRJZCYmKG8uY2hhbmdlQWN0aXZlKGUuaGludElkKSxyLm9wdGlvbnMuY29tcGxldGVPblNpbmdsZUNsaWNrJiZvLnBpY2soKSl9KSx0Lm9uKGYsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtsLmZvY3VzKCl9LDIwKX0pLHQuc2lnbmFsKGksXCJzZWxlY3RcIixoW3RoaXMuc2VsZWN0ZWRIaW50XSxmLmNoaWxkTm9kZXNbdGhpcy5zZWxlY3RlZEhpbnRdKSwhMH1mdW5jdGlvbiBjKHQsZSxuLHIpe2lmKHQuYXN5bmMpdChlLHIsbik7ZWxzZXt2YXIgaT10KGUsbik7aSYmaS50aGVuP2kudGhlbihyKTpyKGkpfX1yLnByb3RvdHlwZT17Y2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSgpJiYodGhpcy5jbS5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlPW51bGwsdGhpcy50aWNrPW51bGwsdGhpcy5jbS5vZmYoXCJjdXJzb3JBY3Rpdml0eVwiLHRoaXMuYWN0aXZpdHlGdW5jKSx0aGlzLndpZGdldCYmdGhpcy5kYXRhJiZ0LnNpZ25hbCh0aGlzLmRhdGEsXCJjbG9zZVwiKSx0aGlzLndpZGdldCYmdGhpcy53aWRnZXQuY2xvc2UoKSx0LnNpZ25hbCh0aGlzLmNtLFwiZW5kQ29tcGxldGlvblwiLHRoaXMuY20pKX0sYWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY20uc3RhdGUuY29tcGxldGlvbkFjdGl2ZT09dGhpc30scGljazpmdW5jdGlvbihlLG4pe3ZhciByPWUubGlzdFtuXTtyLmhpbnQ/ci5oaW50KHRoaXMuY20sZSxyKTp0aGlzLmNtLnJlcGxhY2VSYW5nZShhKHIpLHIuZnJvbXx8ZS5mcm9tLHIudG98fGUudG8sXCJjb21wbGV0ZVwiKSx0LnNpZ25hbChlLFwicGlja1wiLHIpLHRoaXMuY2xvc2UoKX0sY3Vyc29yQWN0aXZpdHk6ZnVuY3Rpb24oKXt0aGlzLmRlYm91bmNlJiYobyh0aGlzLmRlYm91bmNlKSx0aGlzLmRlYm91bmNlPTApO3ZhciB0PXRoaXMuY20uZ2V0Q3Vyc29yKCksZT10aGlzLmNtLmdldExpbmUodC5saW5lKTtpZih0LmxpbmUhPXRoaXMuc3RhcnRQb3MubGluZXx8ZS5sZW5ndGgtdC5jaCE9dGhpcy5zdGFydExlbi10aGlzLnN0YXJ0UG9zLmNofHx0LmNoPHRoaXMuc3RhcnRQb3MuY2h8fHRoaXMuY20uc29tZXRoaW5nU2VsZWN0ZWQoKXx8IXQuY2h8fHRoaXMub3B0aW9ucy5jbG9zZUNoYXJhY3RlcnMudGVzdChlLmNoYXJBdCh0LmNoLTEpKSl0aGlzLmNsb3NlKCk7ZWxzZXt2YXIgbj10aGlzO3RoaXMuZGVib3VuY2U9aShmdW5jdGlvbigpe24udXBkYXRlKCl9KSx0aGlzLndpZGdldCYmdGhpcy53aWRnZXQuZGlzYWJsZSgpfX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKG51bGwhPXRoaXMudGljayl7dmFyIGU9dGhpcyxuPSsrdGhpcy50aWNrO2ModGhpcy5vcHRpb25zLmhpbnQsdGhpcy5jbSx0aGlzLm9wdGlvbnMsZnVuY3Rpb24ocil7ZS50aWNrPT1uJiZlLmZpbmlzaFVwZGF0ZShyLHQpfSl9fSxmaW5pc2hVcGRhdGU6ZnVuY3Rpb24oZSxuKXt0aGlzLmRhdGEmJnQuc2lnbmFsKHRoaXMuZGF0YSxcInVwZGF0ZVwiKTt2YXIgcj10aGlzLndpZGdldCYmdGhpcy53aWRnZXQucGlja2VkfHxuJiZ0aGlzLm9wdGlvbnMuY29tcGxldGVTaW5nbGU7dGhpcy53aWRnZXQmJnRoaXMud2lkZ2V0LmNsb3NlKCksdGhpcy5kYXRhPWUsZSYmZS5saXN0Lmxlbmd0aCYmKHImJjE9PWUubGlzdC5sZW5ndGg/dGhpcy5waWNrKGUsMCk6KHRoaXMud2lkZ2V0PW5ldyBsKHRoaXMsZSksdC5zaWduYWwoZSxcInNob3duXCIpKSl9fSxsLnByb3RvdHlwZT17Y2xvc2U6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbXBsZXRpb24ud2lkZ2V0PT10aGlzKXt0aGlzLmNvbXBsZXRpb24ud2lkZ2V0PW51bGwsdGhpcy5oaW50cy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuaGludHMpLHRoaXMuY29tcGxldGlvbi5jbS5yZW1vdmVLZXlNYXAodGhpcy5rZXlNYXApO3ZhciB0PXRoaXMuY29tcGxldGlvbi5jbTt0aGlzLmNvbXBsZXRpb24ub3B0aW9ucy5jbG9zZU9uVW5mb2N1cyYmKHQub2ZmKFwiYmx1clwiLHRoaXMub25CbHVyKSx0Lm9mZihcImZvY3VzXCIsdGhpcy5vbkZvY3VzKSksdC5vZmYoXCJzY3JvbGxcIix0aGlzLm9uU2Nyb2xsKX19LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmNvbXBsZXRpb24uY20ucmVtb3ZlS2V5TWFwKHRoaXMua2V5TWFwKTt2YXIgdD10aGlzO3RoaXMua2V5TWFwPXtFbnRlcjpmdW5jdGlvbigpe3QucGlja2VkPSEwfX0sdGhpcy5jb21wbGV0aW9uLmNtLmFkZEtleU1hcCh0aGlzLmtleU1hcCl9LHBpY2s6ZnVuY3Rpb24oKXt0aGlzLmNvbXBsZXRpb24ucGljayh0aGlzLmRhdGEsdGhpcy5zZWxlY3RlZEhpbnQpfSxjaGFuZ2VBY3RpdmU6ZnVuY3Rpb24oZSxyKXtpZihlPj10aGlzLmRhdGEubGlzdC5sZW5ndGg/ZT1yP3RoaXMuZGF0YS5saXN0Lmxlbmd0aC0xOjA6ZTwwJiYoZT1yPzA6dGhpcy5kYXRhLmxpc3QubGVuZ3RoLTEpLHRoaXMuc2VsZWN0ZWRIaW50IT1lKXt2YXIgaT10aGlzLmhpbnRzLmNoaWxkTm9kZXNbdGhpcy5zZWxlY3RlZEhpbnRdO2kmJihpLmNsYXNzTmFtZT1pLmNsYXNzTmFtZS5yZXBsYWNlKFwiIFwiK24sXCJcIikpLChpPXRoaXMuaGludHMuY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSGludD1lXSkuY2xhc3NOYW1lKz1cIiBcIituLGkub2Zmc2V0VG9wPHRoaXMuaGludHMuc2Nyb2xsVG9wP3RoaXMuaGludHMuc2Nyb2xsVG9wPWkub2Zmc2V0VG9wLTM6aS5vZmZzZXRUb3AraS5vZmZzZXRIZWlnaHQ+dGhpcy5oaW50cy5zY3JvbGxUb3ArdGhpcy5oaW50cy5jbGllbnRIZWlnaHQmJih0aGlzLmhpbnRzLnNjcm9sbFRvcD1pLm9mZnNldFRvcCtpLm9mZnNldEhlaWdodC10aGlzLmhpbnRzLmNsaWVudEhlaWdodCszKSx0LnNpZ25hbCh0aGlzLmRhdGEsXCJzZWxlY3RcIix0aGlzLmRhdGEubGlzdFt0aGlzLnNlbGVjdGVkSGludF0saSl9fSxzY3JlZW5BbW91bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLmhpbnRzLmNsaWVudEhlaWdodC90aGlzLmhpbnRzLmZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0KXx8MX19LHQucmVnaXN0ZXJIZWxwZXIoXCJoaW50XCIsXCJhdXRvXCIse3Jlc29sdmU6ZnVuY3Rpb24oZSxuKXt2YXIgcixpPWUuZ2V0SGVscGVycyhuLFwiaGludFwiKTtpZihpLmxlbmd0aCl7dmFyIG89ZnVuY3Rpb24odCxlLG4pe3ZhciByPWZ1bmN0aW9uKHQsZSl7aWYoIXQuc29tZXRoaW5nU2VsZWN0ZWQoKSlyZXR1cm4gZTtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKWVbcl0uc3VwcG9ydHNTZWxlY3Rpb24mJm4ucHVzaChlW3JdKTtyZXR1cm4gbn0odCxpKTshZnVuY3Rpb24gaShvKXtpZihvPT1yLmxlbmd0aClyZXR1cm4gZShudWxsKTtjKHJbb10sdCxuLGZ1bmN0aW9uKHQpe3QmJnQubGlzdC5sZW5ndGg+MD9lKHQpOmkobysxKX0pfSgwKX07cmV0dXJuIG8uYXN5bmM9ITAsby5zdXBwb3J0c1NlbGVjdGlvbj0hMCxvfXJldHVybihyPWUuZ2V0SGVscGVyKGUuZ2V0Q3Vyc29yKCksXCJoaW50V29yZHNcIikpP2Z1bmN0aW9uKGUpe3JldHVybiB0LmhpbnQuZnJvbUxpc3QoZSx7d29yZHM6cn0pfTp0LmhpbnQuYW55d29yZD9mdW5jdGlvbihlLG4pe3JldHVybiB0LmhpbnQuYW55d29yZChlLG4pfTpmdW5jdGlvbigpe319fSksdC5yZWdpc3RlckhlbHBlcihcImhpbnRcIixcImZyb21MaXN0XCIsZnVuY3Rpb24oZSxuKXt2YXIgcixpPWUuZ2V0Q3Vyc29yKCksbz1lLmdldFRva2VuQXQoaSksYT10LlBvcyhpLmxpbmUsby5zdGFydCkscz1pO28uc3RhcnQ8aS5jaCYmL1xcdy8udGVzdChvLnN0cmluZy5jaGFyQXQoaS5jaC1vLnN0YXJ0LTEpKT9yPW8uc3RyaW5nLnN1YnN0cigwLGkuY2gtby5zdGFydCk6KHI9XCJcIixhPWkpO2Zvcih2YXIgbD1bXSxjPTA7YzxuLndvcmRzLmxlbmd0aDtjKyspe3ZhciB1PW4ud29yZHNbY107dS5zbGljZSgwLHIubGVuZ3RoKT09ciYmbC5wdXNoKHUpfWlmKGwubGVuZ3RoKXJldHVybntsaXN0OmwsZnJvbTphLHRvOnN9fSksdC5jb21tYW5kcy5hdXRvY29tcGxldGU9dC5zaG93SGludDt2YXIgdT17aGludDp0LmhpbnQuYXV0byxjb21wbGV0ZVNpbmdsZTohMCxhbGlnbldpdGhXb3JkOiEwLGNsb3NlQ2hhcmFjdGVyczovW1xccygpXFxbXFxde307Oj4sXS8sY2xvc2VPblVuZm9jdXM6ITAsY29tcGxldGVPblNpbmdsZUNsaWNrOiEwLGNvbnRhaW5lcjpudWxsLGN1c3RvbUtleXM6bnVsbCxleHRyYUtleXM6bnVsbH07dC5kZWZpbmVPcHRpb24oXCJoaW50T3B0aW9uc1wiLG51bGwpfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT0vW1xcdyRdKy87dC5yZWdpc3RlckhlbHBlcihcImhpbnRcIixcImFueXdvcmRcIixmdW5jdGlvbihuLHIpe2Zvcih2YXIgaT1yJiZyLndvcmR8fGUsbz1yJiZyLnJhbmdlfHw1MDAsYT1uLmdldEN1cnNvcigpLHM9bi5nZXRMaW5lKGEubGluZSksbD1hLmNoLGM9bDtjJiZpLnRlc3Qocy5jaGFyQXQoYy0xKSk7KS0tYztmb3IodmFyIHU9YyE9bCYmcy5zbGljZShjLGwpLGY9ciYmci5saXN0fHxbXSxkPXt9LGg9bmV3IFJlZ0V4cChpLnNvdXJjZSxcImdcIikscD0tMTtwPD0xO3ArPTIpZm9yKHZhciBtPWEubGluZSxnPU1hdGgubWluKE1hdGgubWF4KG0rcCpvLG4uZmlyc3RMaW5lKCkpLG4ubGFzdExpbmUoKSkrcDttIT1nO20rPXApZm9yKHZhciB2LHk9bi5nZXRMaW5lKG0pO3Y9aC5leGVjKHkpOyltPT1hLmxpbmUmJnZbMF09PT11fHx1JiYwIT12WzBdLmxhc3RJbmRleE9mKHUsMCl8fE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLHZbMF0pfHwoZFt2WzBdXT0hMCxmLnB1c2godlswXSkpO3JldHVybntsaXN0OmYsZnJvbTp0LlBvcyhhLmxpbmUsYyksdG86dC5Qb3MoYS5saW5lLGwpfX0pfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsbixyKXt0aGlzLm9yaWVudGF0aW9uPW4sdGhpcy5zY3JvbGw9cix0aGlzLnNjcmVlbj10aGlzLnRvdGFsPXRoaXMuc2l6ZT0xLHRoaXMucG9zPTAsdGhpcy5ub2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5ub2RlLmNsYXNzTmFtZT1lK1wiLVwiK24sdGhpcy5pbm5lcj10aGlzLm5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7dmFyIGk9dGhpcztmdW5jdGlvbiBvKGUpe3ZhciBuPXQud2hlZWxFdmVudFBpeGVscyhlKVtcImhvcml6b250YWxcIj09aS5vcmllbnRhdGlvbj9cInhcIjpcInlcIl0scj1pLnBvcztpLm1vdmVUbyhpLnBvcytuKSxpLnBvcyE9ciYmdC5lX3ByZXZlbnREZWZhdWx0KGUpfXQub24odGhpcy5pbm5lcixcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGUpe2lmKDE9PWUud2hpY2gpe3QuZV9wcmV2ZW50RGVmYXVsdChlKTt2YXIgbj1cImhvcml6b250YWxcIj09aS5vcmllbnRhdGlvbj9cInBhZ2VYXCI6XCJwYWdlWVwiLHI9ZVtuXSxvPWkucG9zO3Qub24oZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixzKSx0Lm9uKGRvY3VtZW50LFwibW91c2V1cFwiLGEpfWZ1bmN0aW9uIGEoKXt0Lm9mZihkb2N1bWVudCxcIm1vdXNlbW92ZVwiLHMpLHQub2ZmKGRvY3VtZW50LFwibW91c2V1cFwiLGEpfWZ1bmN0aW9uIHModCl7aWYoMSE9dC53aGljaClyZXR1cm4gYSgpO2kubW92ZVRvKG8rKHRbbl0tcikqKGkudG90YWwvaS5zaXplKSl9fSksdC5vbih0aGlzLm5vZGUsXCJjbGlja1wiLGZ1bmN0aW9uKGUpe3QuZV9wcmV2ZW50RGVmYXVsdChlKTt2YXIgbixyPWkuaW5uZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bj1cImhvcml6b250YWxcIj09aS5vcmllbnRhdGlvbj9lLmNsaWVudFg8ci5sZWZ0Py0xOmUuY2xpZW50WD5yLnJpZ2h0PzE6MDplLmNsaWVudFk8ci50b3A/LTE6ZS5jbGllbnRZPnIuYm90dG9tPzE6MCxpLm1vdmVUbyhpLnBvcytuKmkuc2NyZWVuKX0pLHQub24odGhpcy5ub2RlLFwibW91c2V3aGVlbFwiLG8pLHQub24odGhpcy5ub2RlLFwiRE9NTW91c2VTY3JvbGxcIixvKX1mdW5jdGlvbiBuKHQsbixyKXt0aGlzLmFkZENsYXNzPXQsdGhpcy5ob3Jpej1uZXcgZSh0LFwiaG9yaXpvbnRhbFwiLHIpLG4odGhpcy5ob3Jpei5ub2RlKSx0aGlzLnZlcnQ9bmV3IGUodCxcInZlcnRpY2FsXCIsciksbih0aGlzLnZlcnQubm9kZSksdGhpcy53aWR0aD1udWxsfWUucHJvdG90eXBlLnNldFBvcz1mdW5jdGlvbih0LGUpe3JldHVybiB0PDAmJih0PTApLHQ+dGhpcy50b3RhbC10aGlzLnNjcmVlbiYmKHQ9dGhpcy50b3RhbC10aGlzLnNjcmVlbiksISghZSYmdD09dGhpcy5wb3N8fCh0aGlzLnBvcz10LHRoaXMuaW5uZXIuc3R5bGVbXCJob3Jpem9udGFsXCI9PXRoaXMub3JpZW50YXRpb24/XCJsZWZ0XCI6XCJ0b3BcIl09dCoodGhpcy5zaXplL3RoaXMudG90YWwpK1wicHhcIiwwKSl9LGUucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0KXt0aGlzLnNldFBvcyh0KSYmdGhpcy5zY3JvbGwodCx0aGlzLm9yaWVudGF0aW9uKX0sZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLnNjcmVlbiE9ZXx8dGhpcy50b3RhbCE9dHx8dGhpcy5zaXplIT1uO3ImJih0aGlzLnNjcmVlbj1lLHRoaXMudG90YWw9dCx0aGlzLnNpemU9bik7dmFyIGk9dGhpcy5zY3JlZW4qKHRoaXMuc2l6ZS90aGlzLnRvdGFsKTtpPDEwJiYodGhpcy5zaXplLT0xMC1pLGk9MTApLHRoaXMuaW5uZXIuc3R5bGVbXCJob3Jpem9udGFsXCI9PXRoaXMub3JpZW50YXRpb24/XCJ3aWR0aFwiOlwiaGVpZ2h0XCJdPWkrXCJweFwiLHRoaXMuc2V0UG9zKHRoaXMucG9zLHIpfSxuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy53aWR0aCl7dmFyIGU9d2luZG93LmdldENvbXB1dGVkU3R5bGU/d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5ob3Jpei5ub2RlKTp0aGlzLmhvcml6Lm5vZGUuY3VycmVudFN0eWxlO2UmJih0aGlzLndpZHRoPXBhcnNlSW50KGUuaGVpZ2h0KSl9dmFyIG49dGhpcy53aWR0aHx8MCxyPXQuc2Nyb2xsV2lkdGg+dC5jbGllbnRXaWR0aCsxLGk9dC5zY3JvbGxIZWlnaHQ+dC5jbGllbnRIZWlnaHQrMTtyZXR1cm4gdGhpcy52ZXJ0Lm5vZGUuc3R5bGUuZGlzcGxheT1pP1wiYmxvY2tcIjpcIm5vbmVcIix0aGlzLmhvcml6Lm5vZGUuc3R5bGUuZGlzcGxheT1yP1wiYmxvY2tcIjpcIm5vbmVcIixpJiYodGhpcy52ZXJ0LnVwZGF0ZSh0LnNjcm9sbEhlaWdodCx0LmNsaWVudEhlaWdodCx0LnZpZXdIZWlnaHQtKHI/bjowKSksdGhpcy52ZXJ0Lm5vZGUuc3R5bGUuYm90dG9tPXI/bitcInB4XCI6XCIwXCIpLHImJih0aGlzLmhvcml6LnVwZGF0ZSh0LnNjcm9sbFdpZHRoLHQuY2xpZW50V2lkdGgsdC52aWV3V2lkdGgtKGk/bjowKS10LmJhckxlZnQpLHRoaXMuaG9yaXoubm9kZS5zdHlsZS5yaWdodD1pP24rXCJweFwiOlwiMFwiLHRoaXMuaG9yaXoubm9kZS5zdHlsZS5sZWZ0PXQuYmFyTGVmdCtcInB4XCIpLHtyaWdodDppP246MCxib3R0b206cj9uOjB9fSxuLnByb3RvdHlwZS5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24odCl7dGhpcy52ZXJ0LnNldFBvcyh0KX0sbi5wcm90b3R5cGUuc2V0U2Nyb2xsTGVmdD1mdW5jdGlvbih0KXt0aGlzLmhvcml6LnNldFBvcyh0KX0sbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhvcml6Lm5vZGUucGFyZW50Tm9kZTt0LnJlbW92ZUNoaWxkKHRoaXMuaG9yaXoubm9kZSksdC5yZW1vdmVDaGlsZCh0aGlzLnZlcnQubm9kZSl9LHQuc2Nyb2xsYmFyTW9kZWwuc2ltcGxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuKFwiQ29kZU1pcnJvci1zaW1wbGVzY3JvbGxcIix0LGUpfSx0LnNjcm9sbGJhck1vZGVsLm92ZXJsYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG4oXCJDb2RlTWlycm9yLW92ZXJsYXlzY3JvbGxcIix0LGUpfX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dC5kZWZpbmVNb2RlKFwic21hbGx0YWxrXCIsZnVuY3Rpb24odCl7dmFyIGU9L1srXFwtXFwvXFxcXCp+PD49QCV8Jj8hLiw6O15dLyxuPS90cnVlfGZhbHNlfG5pbHxzZWxmfHN1cGVyfHRoaXNDb250ZXh0LyxyPWZ1bmN0aW9uKHQsZSl7dGhpcy5uZXh0PXQsdGhpcy5wYXJlbnQ9ZX0saT1mdW5jdGlvbih0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5jb250ZXh0PWUsdGhpcy5lb3M9bn0sbz1mdW5jdGlvbigpe3RoaXMuY29udGV4dD1uZXcgcihhLG51bGwpLHRoaXMuZXhwZWN0VmFyaWFibGU9ITAsdGhpcy5pbmRlbnRhdGlvbj0wLHRoaXMudXNlckluZGVudGF0aW9uRGVsdGE9MH07by5wcm90b3R5cGUudXNlckluZGVudD1mdW5jdGlvbihlKXt0aGlzLnVzZXJJbmRlbnRhdGlvbkRlbHRhPWU+MD9lL3QuaW5kZW50VW5pdC10aGlzLmluZGVudGF0aW9uOjB9O3ZhciBhPWZ1bmN0aW9uKHQsbyxhKXt2YXIgZj1uZXcgaShudWxsLG8sITEpLGQ9dC5uZXh0KCk7cmV0dXJuJ1wiJz09PWQ/Zj1zKHQsbmV3IHIocyxvKSk6XCInXCI9PT1kP2Y9bCh0LG5ldyByKGwsbykpOlwiI1wiPT09ZD9cIidcIj09PXQucGVlaygpPyh0Lm5leHQoKSxmPWModCxuZXcgcihjLG8pKSk6dC5lYXRXaGlsZSgvW15cXHMue31cXFtcXF0oKV0vKT9mLm5hbWU9XCJzdHJpbmctMlwiOmYubmFtZT1cIm1ldGFcIjpcIiRcIj09PWQ/KFwiPFwiPT09dC5uZXh0KCkmJih0LmVhdFdoaWxlKC9bXlxccz5dLyksdC5uZXh0KCkpLGYubmFtZT1cInN0cmluZy0yXCIpOlwifFwiPT09ZCYmYS5leHBlY3RWYXJpYWJsZT9mLmNvbnRleHQ9bmV3IHIodSxvKTovW1xcW1xcXXt9KCldLy50ZXN0KGQpPyhmLm5hbWU9XCJicmFja2V0XCIsZi5lb3M9L1tcXFt7KF0vLnRlc3QoZCksXCJbXCI9PT1kP2EuaW5kZW50YXRpb24rKzpcIl1cIj09PWQmJihhLmluZGVudGF0aW9uPU1hdGgubWF4KDAsYS5pbmRlbnRhdGlvbi0xKSkpOmUudGVzdChkKT8odC5lYXRXaGlsZShlKSxmLm5hbWU9XCJvcGVyYXRvclwiLGYuZW9zPVwiO1wiIT09ZCk6L1xcZC8udGVzdChkKT8odC5lYXRXaGlsZSgvW1xcd1xcZF0vKSxmLm5hbWU9XCJudW1iZXJcIik6L1tcXHdfXS8udGVzdChkKT8odC5lYXRXaGlsZSgvW1xcd1xcZF9dLyksZi5uYW1lPWEuZXhwZWN0VmFyaWFibGU/bi50ZXN0KHQuY3VycmVudCgpKT9cImtleXdvcmRcIjpcInZhcmlhYmxlXCI6bnVsbCk6Zi5lb3M9YS5leHBlY3RWYXJpYWJsZSxmfSxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZWF0V2hpbGUoL1teXCJdLyksbmV3IGkoXCJjb21tZW50XCIsdC5lYXQoJ1wiJyk/ZS5wYXJlbnQ6ZSwhMCl9LGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5lYXRXaGlsZSgvW14nXS8pLG5ldyBpKFwic3RyaW5nXCIsdC5lYXQoXCInXCIpP2UucGFyZW50OmUsITEpfSxjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZWF0V2hpbGUoL1teJ10vKSxuZXcgaShcInN0cmluZy0yXCIsdC5lYXQoXCInXCIpP2UucGFyZW50OmUsITEpfSx1PWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IGkobnVsbCxlLCExKSxyPXQubmV4dCgpO3JldHVyblwifFwiPT09cj8obi5jb250ZXh0PWUucGFyZW50LG4uZW9zPSEwKToodC5lYXRXaGlsZSgvW158XS8pLG4ubmFtZT1cInZhcmlhYmxlXCIpLG59O3JldHVybntzdGFydFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvfSx0b2tlbjpmdW5jdGlvbih0LGUpe2lmKGUudXNlckluZGVudCh0LmluZGVudGF0aW9uKCkpLHQuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDt2YXIgbj1lLmNvbnRleHQubmV4dCh0LGUuY29udGV4dCxlKTtyZXR1cm4gZS5jb250ZXh0PW4uY29udGV4dCxlLmV4cGVjdFZhcmlhYmxlPW4uZW9zLG4ubmFtZX0sYmxhbmtMaW5lOmZ1bmN0aW9uKHQpe3QudXNlckluZGVudCgwKX0saW5kZW50OmZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5jb250ZXh0Lm5leHQ9PT1hJiZuJiZcIl1cIj09PW4uY2hhckF0KDApPy0xOmUudXNlckluZGVudGF0aW9uRGVsdGE7cmV0dXJuKGUuaW5kZW50YXRpb24rcikqdC5pbmRlbnRVbml0fSxlbGVjdHJpY0NoYXJzOlwiXVwifX0pLHQuZGVmaW5lTUlNRShcInRleHQveC1zdHNyY1wiLHtuYW1lOlwic21hbGx0YWxrXCJ9KX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9L14ocHxsaXxkaXZ8aFxcXFxkfHByZXxibG9ja3F1b3RlfHRkKSQvO2Z1bmN0aW9uIG4odCxyKXtpZigzPT10Lm5vZGVUeXBlKXJldHVybiByLnB1c2godC5ub2RlVmFsdWUpO2Zvcih2YXIgaT10LmZpcnN0Q2hpbGQ7aTtpPWkubmV4dFNpYmxpbmcpbihpLHIpLGUudGVzdCh0Lm5vZGVUeXBlKSYmci5wdXNoKFwiXFxuXCIpfXQuY29sb3JpemU9ZnVuY3Rpb24oZSxyKXtlfHwoZT1kb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicHJlXCIpKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl7dmFyIG89ZVtpXSxhPW8uZ2V0QXR0cmlidXRlKFwiZGF0YS1sYW5nXCIpfHxyO2lmKGEpe3ZhciBzPVtdO24obyxzKSxvLmlubmVySFRNTD1cIlwiLHQucnVuTW9kZShzLmpvaW4oXCJcIiksYSxvKSxvLmNsYXNzTmFtZSs9XCIgY20tcy1kZWZhdWx0XCJ9fX19KG4oMCksbigyNDIpKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt0LnJ1bk1vZGU9ZnVuY3Rpb24oZSxuLHIsaSl7dmFyIG89dC5nZXRNb2RlKHQuZGVmYXVsdHMsbiksYT0vTVNJRSBcXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkscz1hJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxkb2N1bWVudC5kb2N1bWVudE1vZGU8OSk7aWYoci5hcHBlbmRDaGlsZCl7dmFyIGw9aSYmaS50YWJTaXplfHx0LmRlZmF1bHRzLnRhYlNpemUsYz1yLHU9MDtjLmlubmVySFRNTD1cIlwiLHI9ZnVuY3Rpb24odCxlKXtpZihcIlxcblwiPT10KXJldHVybiBjLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHM/XCJcXHJcIjp0KSksdm9pZCh1PTApO2Zvcih2YXIgbj1cIlwiLHI9MDs7KXt2YXIgaT10LmluZGV4T2YoXCJcXHRcIixyKTtpZigtMT09aSl7bis9dC5zbGljZShyKSx1Kz10Lmxlbmd0aC1yO2JyZWFrfXUrPWktcixuKz10LnNsaWNlKHIsaSk7dmFyIG89bC11JWw7dSs9bztmb3IodmFyIGE9MDthPG87KythKW4rPVwiIFwiO3I9aSsxfWlmKGUpe3ZhciBmPWMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO2YuY2xhc3NOYW1lPVwiY20tXCIrZS5yZXBsYWNlKC8gKy9nLFwiIGNtLVwiKSxmLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX1lbHNlIGMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfX1mb3IodmFyIGY9dC5zcGxpdExpbmVzKGUpLGQ9aSYmaS5zdGF0ZXx8dC5zdGFydFN0YXRlKG8pLGg9MCxwPWYubGVuZ3RoO2g8cDsrK2gpe2gmJnIoXCJcXG5cIik7dmFyIG09bmV3IHQuU3RyaW5nU3RyZWFtKGZbaF0pO2ZvcighbS5zdHJpbmcmJm8uYmxhbmtMaW5lJiZvLmJsYW5rTGluZShkKTshbS5lb2woKTspe3ZhciBnPW8udG9rZW4obSxkKTtyKG0uY3VycmVudCgpLGcsaCxtLnN0YXJ0LGQpLG0uc3RhcnQ9bS5wb3N9fX19KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCxlLG4scixpLG8pe3RoaXMuaW5kZW50ZWQ9dCx0aGlzLmNvbHVtbj1lLHRoaXMudHlwZT1uLHRoaXMuaW5mbz1yLHRoaXMuYWxpZ249aSx0aGlzLnByZXY9b31mdW5jdGlvbiBuKHQsbixyLGkpe3ZhciBvPXQuaW5kZW50ZWQ7cmV0dXJuIHQuY29udGV4dCYmXCJzdGF0ZW1lbnRcIj09dC5jb250ZXh0LnR5cGUmJlwic3RhdGVtZW50XCIhPXImJihvPXQuY29udGV4dC5pbmRlbnRlZCksdC5jb250ZXh0PW5ldyBlKG8sbixyLGksbnVsbCx0LmNvbnRleHQpfWZ1bmN0aW9uIHIodCl7dmFyIGU9dC5jb250ZXh0LnR5cGU7cmV0dXJuXCIpXCIhPWUmJlwiXVwiIT1lJiZcIn1cIiE9ZXx8KHQuaW5kZW50ZWQ9dC5jb250ZXh0LmluZGVudGVkKSx0LmNvbnRleHQ9dC5jb250ZXh0LnByZXZ9ZnVuY3Rpb24gaSh0LGUsbil7cmV0dXJuXCJ2YXJpYWJsZVwiPT1lLnByZXZUb2tlbnx8XCJ0eXBlXCI9PWUucHJldlRva2VufHwhIS9cXFMoPzpbXi0gXT58WypcXF1dKVxccyokfFxcKiQvLnRlc3QodC5zdHJpbmcuc2xpY2UoMCxuKSl8fCEoIWUudHlwZUF0RW5kT2ZMaW5lfHx0LmNvbHVtbigpIT10LmluZGVudGF0aW9uKCkpfHx2b2lkIDB9ZnVuY3Rpb24gbyh0KXtmb3IoOzspe2lmKCF0fHxcInRvcFwiPT10LnR5cGUpcmV0dXJuITA7aWYoXCJ9XCI9PXQudHlwZSYmXCJuYW1lc3BhY2VcIiE9dC5wcmV2LmluZm8pcmV0dXJuITE7dD10LnByZXZ9fWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlPXt9LG49dC5zcGxpdChcIiBcIikscj0wO3I8bi5sZW5ndGg7KytyKWVbbltyXV09ITA7cmV0dXJuIGV9ZnVuY3Rpb24gcyh0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlKTp0LnByb3BlcnR5SXNFbnVtZXJhYmxlKGUpfXQuZGVmaW5lTW9kZShcImNsaWtlXCIsZnVuY3Rpb24oYSxsKXt2YXIgYyx1LGY9YS5pbmRlbnRVbml0LGQ9bC5zdGF0ZW1lbnRJbmRlbnRVbml0fHxmLGg9bC5kb250QWxpZ25DYWxscyxwPWwua2V5d29yZHN8fHt9LG09bC50eXBlc3x8e30sZz1sLmJ1aWx0aW58fHt9LHY9bC5ibG9ja0tleXdvcmRzfHx7fSx5PWwuZGVmS2V5d29yZHN8fHt9LGI9bC5hdG9tc3x8e30seD1sLmhvb2tzfHx7fSx3PWwubXVsdGlMaW5lU3RyaW5ncyxDPSExIT09bC5pbmRlbnRTdGF0ZW1lbnRzLGs9ITEhPT1sLmluZGVudFN3aXRjaCxfPWwubmFtZXNwYWNlU2VwYXJhdG9yLFM9bC5pc1B1bmN0dWF0aW9uQ2hhcnx8L1tcXFtcXF17fVxcKFxcKSw7XFw6XFwuXS8sRT1sLm51bWJlclN0YXJ0fHwvW1xcZFxcLl0vLFQ9bC5udW1iZXJ8fC9eKD86MHhbYS1mXFxkXSt8MGJbMDFdK3woPzpcXGQrXFwuP1xcZCp8XFwuXFxkKykoPzplWy0rXT9cXGQrKT8pKHV8bGw/fGx8Zik/L2ksTz1sLmlzT3BlcmF0b3JDaGFyfHwvWytcXC0qJiU9PD4hP3xcXC9dLyxNPWwuaXNJZGVudGlmaWVyQ2hhcnx8L1tcXHdcXCRfXFx4YTEtXFx1ZmZmZl0vLEw9bC5pc1Jlc2VydmVkSWRlbnRpZmllcnx8ITE7ZnVuY3Rpb24gQSh0LGUpe3ZhciBuLHI9dC5uZXh0KCk7aWYoeFtyXSl7dmFyIGk9eFtyXSh0LGUpO2lmKCExIT09aSlyZXR1cm4gaX1pZignXCInPT1yfHxcIidcIj09cilyZXR1cm4gZS50b2tlbml6ZT0obj1yLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByLGk9ITEsbz0hMTtudWxsIT0ocj10Lm5leHQoKSk7KXtpZihyPT1uJiYhaSl7bz0hMDticmVha31pPSFpJiZcIlxcXFxcIj09cn1yZXR1cm4ob3x8IWkmJiF3KSYmKGUudG9rZW5pemU9bnVsbCksXCJzdHJpbmdcIn0pLGUudG9rZW5pemUodCxlKTtpZihTLnRlc3QocikpcmV0dXJuIGM9cixudWxsO2lmKEUudGVzdChyKSl7aWYodC5iYWNrVXAoMSksdC5tYXRjaChUKSlyZXR1cm5cIm51bWJlclwiO3QubmV4dCgpfWlmKFwiL1wiPT1yKXtpZih0LmVhdChcIipcIikpcmV0dXJuIGUudG9rZW5pemU9TixOKHQsZSk7aWYodC5lYXQoXCIvXCIpKXJldHVybiB0LnNraXBUb0VuZCgpLFwiY29tbWVudFwifWlmKE8udGVzdChyKSl7Zm9yKDshdC5tYXRjaCgvXlxcL1tcXC8qXS8sITEpJiZ0LmVhdChPKTspO3JldHVyblwib3BlcmF0b3JcIn1pZih0LmVhdFdoaWxlKE0pLF8pZm9yKDt0Lm1hdGNoKF8pOyl0LmVhdFdoaWxlKE0pO3ZhciBvPXQuY3VycmVudCgpO3JldHVybiBzKHAsbyk/KHModixvKSYmKGM9XCJuZXdzdGF0ZW1lbnRcIikscyh5LG8pJiYodT0hMCksXCJrZXl3b3JkXCIpOnMobSxvKT9cInR5cGVcIjpzKGcsbyl8fEwmJkwobyk/KHModixvKSYmKGM9XCJuZXdzdGF0ZW1lbnRcIiksXCJidWlsdGluXCIpOnMoYixvKT9cImF0b21cIjpcInZhcmlhYmxlXCJ9ZnVuY3Rpb24gTih0LGUpe2Zvcih2YXIgbixyPSExO249dC5uZXh0KCk7KXtpZihcIi9cIj09biYmcil7ZS50b2tlbml6ZT1udWxsO2JyZWFrfXI9XCIqXCI9PW59cmV0dXJuXCJjb21tZW50XCJ9ZnVuY3Rpb24gUCh0LGUpe2wudHlwZUZpcnN0RGVmaW5pdGlvbnMmJnQuZW9sKCkmJm8oZS5jb250ZXh0KSYmKGUudHlwZUF0RW5kT2ZMaW5lPWkodCxlLHQucG9zKSl9cmV0dXJue3N0YXJ0U3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJue3Rva2VuaXplOm51bGwsY29udGV4dDpuZXcgZSgodHx8MCktZiwwLFwidG9wXCIsbnVsbCwhMSksaW5kZW50ZWQ6MCxzdGFydE9mTGluZTohMCxwcmV2VG9rZW46bnVsbH19LHRva2VuOmZ1bmN0aW9uKHQsZSl7dmFyIGE9ZS5jb250ZXh0O2lmKHQuc29sKCkmJihudWxsPT1hLmFsaWduJiYoYS5hbGlnbj0hMSksZS5pbmRlbnRlZD10LmluZGVudGF0aW9uKCksZS5zdGFydE9mTGluZT0hMCksdC5lYXRTcGFjZSgpKXJldHVybiBQKHQsZSksbnVsbDtjPXU9bnVsbDt2YXIgcz0oZS50b2tlbml6ZXx8QSkodCxlKTtpZihcImNvbW1lbnRcIj09c3x8XCJtZXRhXCI9PXMpcmV0dXJuIHM7aWYobnVsbD09YS5hbGlnbiYmKGEuYWxpZ249ITApLFwiO1wiPT1jfHxcIjpcIj09Y3x8XCIsXCI9PWMmJnQubWF0Y2goL15cXHMqKD86XFwvXFwvLiopPyQvLCExKSlmb3IoO1wic3RhdGVtZW50XCI9PWUuY29udGV4dC50eXBlOylyKGUpO2Vsc2UgaWYoXCJ7XCI9PWMpbihlLHQuY29sdW1uKCksXCJ9XCIpO2Vsc2UgaWYoXCJbXCI9PWMpbihlLHQuY29sdW1uKCksXCJdXCIpO2Vsc2UgaWYoXCIoXCI9PWMpbihlLHQuY29sdW1uKCksXCIpXCIpO2Vsc2UgaWYoXCJ9XCI9PWMpe2Zvcig7XCJzdGF0ZW1lbnRcIj09YS50eXBlOylhPXIoZSk7Zm9yKFwifVwiPT1hLnR5cGUmJihhPXIoZSkpO1wic3RhdGVtZW50XCI9PWEudHlwZTspYT1yKGUpfWVsc2UgYz09YS50eXBlP3IoZSk6QyYmKChcIn1cIj09YS50eXBlfHxcInRvcFwiPT1hLnR5cGUpJiZcIjtcIiE9Y3x8XCJzdGF0ZW1lbnRcIj09YS50eXBlJiZcIm5ld3N0YXRlbWVudFwiPT1jKSYmbihlLHQuY29sdW1uKCksXCJzdGF0ZW1lbnRcIix0LmN1cnJlbnQoKSk7aWYoXCJ2YXJpYWJsZVwiPT1zJiYoXCJkZWZcIj09ZS5wcmV2VG9rZW58fGwudHlwZUZpcnN0RGVmaW5pdGlvbnMmJmkodCxlLHQuc3RhcnQpJiZvKGUuY29udGV4dCkmJnQubWF0Y2goL15cXHMqXFwoLywhMSkpJiYocz1cImRlZlwiKSx4LnRva2VuKXt2YXIgZj14LnRva2VuKHQsZSxzKTt2b2lkIDAhPT1mJiYocz1mKX1yZXR1cm5cImRlZlwiPT1zJiYhMT09PWwuc3R5bGVEZWZzJiYocz1cInZhcmlhYmxlXCIpLGUuc3RhcnRPZkxpbmU9ITEsZS5wcmV2VG9rZW49dT9cImRlZlwiOnN8fGMsUCh0LGUpLHN9LGluZGVudDpmdW5jdGlvbihlLG4pe2lmKGUudG9rZW5pemUhPUEmJm51bGwhPWUudG9rZW5pemV8fGUudHlwZUF0RW5kT2ZMaW5lKXJldHVybiB0LlBhc3M7dmFyIHI9ZS5jb250ZXh0LGk9biYmbi5jaGFyQXQoMCksbz1pPT1yLnR5cGU7aWYoXCJzdGF0ZW1lbnRcIj09ci50eXBlJiZcIn1cIj09aSYmKHI9ci5wcmV2KSxsLmRvbnRJbmRlbnRTdGF0ZW1lbnRzKWZvcig7XCJzdGF0ZW1lbnRcIj09ci50eXBlJiZsLmRvbnRJbmRlbnRTdGF0ZW1lbnRzLnRlc3Qoci5pbmZvKTspcj1yLnByZXY7aWYoeC5pbmRlbnQpe3ZhciBhPXguaW5kZW50KGUscixuLGYpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhKXJldHVybiBhfXZhciBzPXIucHJldiYmXCJzd2l0Y2hcIj09ci5wcmV2LmluZm87aWYobC5hbGxtYW5JbmRlbnRhdGlvbiYmL1t7KF0vLnRlc3QoaSkpe2Zvcig7XCJ0b3BcIiE9ci50eXBlJiZcIn1cIiE9ci50eXBlOylyPXIucHJldjtyZXR1cm4gci5pbmRlbnRlZH1yZXR1cm5cInN0YXRlbWVudFwiPT1yLnR5cGU/ci5pbmRlbnRlZCsoXCJ7XCI9PWk/MDpkKTohci5hbGlnbnx8aCYmXCIpXCI9PXIudHlwZT9cIilcIiE9ci50eXBlfHxvP3IuaW5kZW50ZWQrKG8/MDpmKSsob3x8IXN8fC9eKD86Y2FzZXxkZWZhdWx0KVxcYi8udGVzdChuKT8wOmYpOnIuaW5kZW50ZWQrZDpyLmNvbHVtbisobz8wOjEpfSxlbGVjdHJpY0lucHV0Oms/L15cXHMqKD86Y2FzZSAuKj86fGRlZmF1bHQ6fFxce1xcfT98XFx9KSQvOi9eXFxzKlt7fV0kLyxibG9ja0NvbW1lbnRTdGFydDpcIi8qXCIsYmxvY2tDb21tZW50RW5kOlwiKi9cIixibG9ja0NvbW1lbnRDb250aW51ZTpcIiAqIFwiLGxpbmVDb21tZW50OlwiLy9cIixmb2xkOlwiYnJhY2VcIn19KTt2YXIgbD1cImF1dG8gaWYgYnJlYWsgY2FzZSByZWdpc3RlciBjb250aW51ZSByZXR1cm4gZGVmYXVsdCBkbyBzaXplb2Ygc3RhdGljIGVsc2Ugc3RydWN0IHN3aXRjaCBleHRlcm4gdHlwZWRlZiB1bmlvbiBmb3IgZ290byB3aGlsZSBlbnVtIGNvbnN0IHZvbGF0aWxlIGlubGluZSByZXN0cmljdCBhc20gZm9ydHJhblwiLGM9YShcImludCBsb25nIGNoYXIgc2hvcnQgZG91YmxlIGZsb2F0IHVuc2lnbmVkIHNpZ25lZCB2b2lkIGJvb2xcIiksdT1hKFwiU0VMIGluc3RhbmNldHlwZSBpZCBDbGFzcyBQcm90b2NvbCBCT09MXCIpO2Z1bmN0aW9uIGYodCl7cmV0dXJuIHMoYyx0KXx8Ly4rX3QkLy50ZXN0KHQpfXZhciBkPVwiY2FzZSBkbyBlbHNlIGZvciBpZiBzd2l0Y2ggd2hpbGUgc3RydWN0IGVudW0gdW5pb25cIjtmdW5jdGlvbiBoKHQsZSl7aWYoIWUuc3RhcnRPZkxpbmUpcmV0dXJuITE7Zm9yKHZhciBuLHI9bnVsbDtuPXQucGVlaygpOyl7aWYoXCJcXFxcXCI9PW4mJnQubWF0Y2goL14uJC8pKXtyPWg7YnJlYWt9aWYoXCIvXCI9PW4mJnQubWF0Y2goL15cXC9bXFwvXFwqXS8sITEpKWJyZWFrO3QubmV4dCgpfXJldHVybiBlLnRva2VuaXplPXIsXCJtZXRhXCJ9ZnVuY3Rpb24gcCh0LGUpe3JldHVyblwidHlwZVwiPT1lLnByZXZUb2tlbiYmXCJ0eXBlXCJ9ZnVuY3Rpb24gbSh0KXtyZXR1cm4hKCF0fHx0Lmxlbmd0aDwyfHxcIl9cIiE9dFswXXx8XCJfXCIhPXRbMV0mJnRbMV09PT10WzFdLnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIGcodCl7cmV0dXJuIHQuZWF0V2hpbGUoL1tcXHdcXC4nXS8pLFwibnVtYmVyXCJ9ZnVuY3Rpb24gdih0LGUpe2lmKHQuYmFja1VwKDEpLHQubWF0Y2goLyhSfHU4Unx1UnxVUnxMUikvKSl7dmFyIG49dC5tYXRjaCgvXCIoW15cXHNcXFxcKCldezAsMTZ9KVxcKC8pO3JldHVybiEhbiYmKGUuY3BwMTFSYXdTdHJpbmdEZWxpbT1uWzFdLGUudG9rZW5pemU9YixiKHQsZSkpfXJldHVybiB0Lm1hdGNoKC8odTh8dXxVfEwpLyk/ISF0Lm1hdGNoKC9bXCInXS8sITEpJiZcInN0cmluZ1wiOih0Lm5leHQoKSwhMSl9ZnVuY3Rpb24geSh0LGUpe2Zvcih2YXIgbjtudWxsIT0obj10Lm5leHQoKSk7KWlmKCdcIic9PW4mJiF0LmVhdCgnXCInKSl7ZS50b2tlbml6ZT1udWxsO2JyZWFrfXJldHVyblwic3RyaW5nXCJ9ZnVuY3Rpb24gYih0LGUpe3ZhciBuPWUuY3BwMTFSYXdTdHJpbmdEZWxpbS5yZXBsYWNlKC9bXlxcd1xcc10vZyxcIlxcXFwkJlwiKSxyPXQubWF0Y2gobmV3IFJlZ0V4cChcIi4qP1xcXFwpXCIrbisnXCInKSk7cmV0dXJuIHI/ZS50b2tlbml6ZT1udWxsOnQuc2tpcFRvRW5kKCksXCJzdHJpbmdcIn1mdW5jdGlvbiB4KGUsbil7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVtlXSk7dmFyIHI9W107ZnVuY3Rpb24gaSh0KXtpZih0KWZvcih2YXIgZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJnIucHVzaChlKX1pKG4ua2V5d29yZHMpLGkobi50eXBlcyksaShuLmJ1aWx0aW4pLGkobi5hdG9tcyksci5sZW5ndGgmJihuLmhlbHBlclR5cGU9ZVswXSx0LnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsZVswXSxyKSk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDsrK28pdC5kZWZpbmVNSU1FKGVbb10sbil9ZnVuY3Rpb24gdyh0LGUpe2Zvcih2YXIgbj0hMTshdC5lb2woKTspe2lmKCFuJiZ0Lm1hdGNoKCdcIlwiXCInKSl7ZS50b2tlbml6ZT1udWxsO2JyZWFrfW49XCJcXFxcXCI9PXQubmV4dCgpJiYhbn1yZXR1cm5cInN0cmluZ1wifWZ1bmN0aW9uIEModCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7Zm9yKHZhciByO3I9ZS5uZXh0KCk7KXtpZihcIipcIj09ciYmZS5lYXQoXCIvXCIpKXtpZigxPT10KXtuLnRva2VuaXplPW51bGw7YnJlYWt9cmV0dXJuIG4udG9rZW5pemU9Qyh0LTEpLG4udG9rZW5pemUoZSxuKX1pZihcIi9cIj09ciYmZS5lYXQoXCIqXCIpKXJldHVybiBuLnRva2VuaXplPUModCsxKSxuLnRva2VuaXplKGUsbil9cmV0dXJuXCJjb21tZW50XCJ9fXgoW1widGV4dC94LWNzcmNcIixcInRleHQveC1jXCIsXCJ0ZXh0L3gtY2hkclwiXSx7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShsKSx0eXBlczpmLGJsb2NrS2V5d29yZHM6YShkKSxkZWZLZXl3b3JkczphKFwic3RydWN0IGVudW0gdW5pb25cIiksdHlwZUZpcnN0RGVmaW5pdGlvbnM6ITAsYXRvbXM6YShcIk5VTEwgdHJ1ZSBmYWxzZVwiKSxpc1Jlc2VydmVkSWRlbnRpZmllcjptLGhvb2tzOntcIiNcIjpoLFwiKlwiOnB9LG1vZGVQcm9wczp7Zm9sZDpbXCJicmFjZVwiLFwiaW5jbHVkZVwiXX19KSx4KFtcInRleHQveC1jKytzcmNcIixcInRleHQveC1jKytoZHJcIl0se25hbWU6XCJjbGlrZVwiLGtleXdvcmRzOmEobCtcImFsaWduYXMgYWxpZ25vZiBhbmQgYW5kX2VxIGF1ZGl0IGF4aW9tIGJpdGFuZCBiaXRvciBjYXRjaCBjbGFzcyBjb21wbCBjb25jZXB0IGNvbnN0ZXhwciBjb25zdF9jYXN0IGRlY2x0eXBlIGRlbGV0ZSBkeW5hbWljX2Nhc3QgZXhwbGljaXQgZXhwb3J0IGZpbmFsIGZyaWVuZCBpbXBvcnQgbW9kdWxlIG11dGFibGUgbmFtZXNwYWNlIG5ldyBub2V4Y2VwdCBub3Qgbm90X2VxIG9wZXJhdG9yIG9yIG9yX2VxIG92ZXJyaWRlIHByaXZhdGUgcHJvdGVjdGVkIHB1YmxpYyByZWludGVycHJldF9jYXN0IHJlcXVpcmVzIHN0YXRpY19hc3NlcnQgc3RhdGljX2Nhc3QgdGVtcGxhdGUgdGhpcyB0aHJlYWRfbG9jYWwgdGhyb3cgdHJ5IHR5cGVpZCB0eXBlbmFtZSB1c2luZyB2aXJ0dWFsIHhvciB4b3JfZXFcIiksdHlwZXM6ZixibG9ja0tleXdvcmRzOmEoZCtcIiBjbGFzcyB0cnkgY2F0Y2hcIiksZGVmS2V5d29yZHM6YShcInN0cnVjdCBlbnVtIHVuaW9uIGNsYXNzIG5hbWVzcGFjZVwiKSx0eXBlRmlyc3REZWZpbml0aW9uczohMCxhdG9tczphKFwidHJ1ZSBmYWxzZSBOVUxMIG51bGxwdHJcIiksZG9udEluZGVudFN0YXRlbWVudHM6L150ZW1wbGF0ZSQvLGlzSWRlbnRpZmllckNoYXI6L1tcXHdcXCRfflxceGExLVxcdWZmZmZdLyxpc1Jlc2VydmVkSWRlbnRpZmllcjptLGhvb2tzOntcIiNcIjpoLFwiKlwiOnAsdTp2LFU6dixMOnYsUjp2LDA6ZywxOmcsMjpnLDM6Zyw0OmcsNTpnLDY6Zyw3OmcsODpnLDk6Zyx0b2tlbjpmdW5jdGlvbih0LGUsbil7aWYoXCJ2YXJpYWJsZVwiPT1uJiZcIihcIj09dC5wZWVrKCkmJihcIjtcIj09ZS5wcmV2VG9rZW58fG51bGw9PWUucHJldlRva2VufHxcIn1cIj09ZS5wcmV2VG9rZW4pJiYocj10LmN1cnJlbnQoKSwoaT0vKFxcdyspOjp+PyhcXHcrKSQvLmV4ZWMocikpJiZpWzFdPT1pWzJdKSlyZXR1cm5cImRlZlwiO3ZhciByLGl9fSxuYW1lc3BhY2VTZXBhcmF0b3I6XCI6OlwiLG1vZGVQcm9wczp7Zm9sZDpbXCJicmFjZVwiLFwiaW5jbHVkZVwiXX19KSx4KFwidGV4dC94LWphdmFcIix7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShcImFic3RyYWN0IGFzc2VydCBicmVhayBjYXNlIGNhdGNoIGNsYXNzIGNvbnN0IGNvbnRpbnVlIGRlZmF1bHQgZG8gZWxzZSBlbnVtIGV4dGVuZHMgZmluYWwgZmluYWxseSBmb3IgZ290byBpZiBpbXBsZW1lbnRzIGltcG9ydCBpbnN0YW5jZW9mIGludGVyZmFjZSBuYXRpdmUgbmV3IHBhY2thZ2UgcHJpdmF0ZSBwcm90ZWN0ZWQgcHVibGljIHJldHVybiBzdGF0aWMgc3RyaWN0ZnAgc3VwZXIgc3dpdGNoIHN5bmNocm9uaXplZCB0aGlzIHRocm93IHRocm93cyB0cmFuc2llbnQgdHJ5IHZvbGF0aWxlIHdoaWxlIEBpbnRlcmZhY2VcIiksdHlwZXM6YShcImJ5dGUgc2hvcnQgaW50IGxvbmcgZmxvYXQgZG91YmxlIGJvb2xlYW4gY2hhciB2b2lkIEJvb2xlYW4gQnl0ZSBDaGFyYWN0ZXIgRG91YmxlIEZsb2F0IEludGVnZXIgTG9uZyBOdW1iZXIgT2JqZWN0IFNob3J0IFN0cmluZyBTdHJpbmdCdWZmZXIgU3RyaW5nQnVpbGRlciBWb2lkXCIpLGJsb2NrS2V5d29yZHM6YShcImNhdGNoIGNsYXNzIGRvIGVsc2UgZmluYWxseSBmb3IgaWYgc3dpdGNoIHRyeSB3aGlsZVwiKSxkZWZLZXl3b3JkczphKFwiY2xhc3MgaW50ZXJmYWNlIGVudW0gQGludGVyZmFjZVwiKSx0eXBlRmlyc3REZWZpbml0aW9uczohMCxhdG9tczphKFwidHJ1ZSBmYWxzZSBudWxsXCIpLG51bWJlcjovXig/OjB4W2EtZlxcZF9dK3wwYlswMV9dK3woPzpbXFxkX10rXFwuP1xcZCp8XFwuXFxkKykoPzplWy0rXT9bXFxkX10rKT8pKHV8bGw/fGx8Zik/L2ksaG9va3M6e1wiQFwiOmZ1bmN0aW9uKHQpe3JldHVybiF0Lm1hdGNoKFwiaW50ZXJmYWNlXCIsITEpJiYodC5lYXRXaGlsZSgvW1xcd1xcJF9dLyksXCJtZXRhXCIpfX0sbW9kZVByb3BzOntmb2xkOltcImJyYWNlXCIsXCJpbXBvcnRcIl19fSkseChcInRleHQveC1jc2hhcnBcIix7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShcImFic3RyYWN0IGFzIGFzeW5jIGF3YWl0IGJhc2UgYnJlYWsgY2FzZSBjYXRjaCBjaGVja2VkIGNsYXNzIGNvbnN0IGNvbnRpbnVlIGRlZmF1bHQgZGVsZWdhdGUgZG8gZWxzZSBlbnVtIGV2ZW50IGV4cGxpY2l0IGV4dGVybiBmaW5hbGx5IGZpeGVkIGZvciBmb3JlYWNoIGdvdG8gaWYgaW1wbGljaXQgaW4gaW50ZXJmYWNlIGludGVybmFsIGlzIGxvY2sgbmFtZXNwYWNlIG5ldyBvcGVyYXRvciBvdXQgb3ZlcnJpZGUgcGFyYW1zIHByaXZhdGUgcHJvdGVjdGVkIHB1YmxpYyByZWFkb25seSByZWYgcmV0dXJuIHNlYWxlZCBzaXplb2Ygc3RhY2thbGxvYyBzdGF0aWMgc3RydWN0IHN3aXRjaCB0aGlzIHRocm93IHRyeSB0eXBlb2YgdW5jaGVja2VkIHVuc2FmZSB1c2luZyB2aXJ0dWFsIHZvaWQgdm9sYXRpbGUgd2hpbGUgYWRkIGFsaWFzIGFzY2VuZGluZyBkZXNjZW5kaW5nIGR5bmFtaWMgZnJvbSBnZXQgZ2xvYmFsIGdyb3VwIGludG8gam9pbiBsZXQgb3JkZXJieSBwYXJ0aWFsIHJlbW92ZSBzZWxlY3Qgc2V0IHZhbHVlIHZhciB5aWVsZFwiKSx0eXBlczphKFwiQWN0aW9uIEJvb2xlYW4gQnl0ZSBDaGFyIERhdGVUaW1lIERhdGVUaW1lT2Zmc2V0IERlY2ltYWwgRG91YmxlIEZ1bmMgR3VpZCBJbnQxNiBJbnQzMiBJbnQ2NCBPYmplY3QgU0J5dGUgU2luZ2xlIFN0cmluZyBUYXNrIFRpbWVTcGFuIFVJbnQxNiBVSW50MzIgVUludDY0IGJvb2wgYnl0ZSBjaGFyIGRlY2ltYWwgZG91YmxlIHNob3J0IGludCBsb25nIG9iamVjdCBzYnl0ZSBmbG9hdCBzdHJpbmcgdXNob3J0IHVpbnQgdWxvbmdcIiksYmxvY2tLZXl3b3JkczphKFwiY2F0Y2ggY2xhc3MgZG8gZWxzZSBmaW5hbGx5IGZvciBmb3JlYWNoIGlmIHN0cnVjdCBzd2l0Y2ggdHJ5IHdoaWxlXCIpLGRlZktleXdvcmRzOmEoXCJjbGFzcyBpbnRlcmZhY2UgbmFtZXNwYWNlIHN0cnVjdCB2YXJcIiksdHlwZUZpcnN0RGVmaW5pdGlvbnM6ITAsYXRvbXM6YShcInRydWUgZmFsc2UgbnVsbFwiKSxob29rczp7XCJAXCI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5lYXQoJ1wiJyk/KGUudG9rZW5pemU9eSx5KHQsZSkpOih0LmVhdFdoaWxlKC9bXFx3XFwkX10vKSxcIm1ldGFcIil9fX0pLHgoXCJ0ZXh0L3gtc2NhbGFcIix7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShcImFic3RyYWN0IGNhc2UgY2F0Y2ggY2xhc3MgZGVmIGRvIGVsc2UgZXh0ZW5kcyBmaW5hbCBmaW5hbGx5IGZvciBmb3JTb21lIGlmIGltcGxpY2l0IGltcG9ydCBsYXp5IG1hdGNoIG5ldyBudWxsIG9iamVjdCBvdmVycmlkZSBwYWNrYWdlIHByaXZhdGUgcHJvdGVjdGVkIHJldHVybiBzZWFsZWQgc3VwZXIgdGhpcyB0aHJvdyB0cmFpdCB0cnkgdHlwZSB2YWwgdmFyIHdoaWxlIHdpdGggeWllbGQgXyBhc3NlcnQgYXNzdW1lIHJlcXVpcmUgcHJpbnQgcHJpbnRsbiBwcmludGYgcmVhZExpbmUgcmVhZEJvb2xlYW4gcmVhZEJ5dGUgcmVhZFNob3J0IHJlYWRDaGFyIHJlYWRJbnQgcmVhZExvbmcgcmVhZEZsb2F0IHJlYWREb3VibGVcIiksdHlwZXM6YShcIkFueVZhbCBBcHAgQXBwbGljYXRpb24gQXJyYXkgQnVmZmVyZWRJdGVyYXRvciBCaWdEZWNpbWFsIEJpZ0ludCBDaGFyIENvbnNvbGUgRWl0aGVyIEVudW1lcmF0aW9uIEVxdWl2IEVycm9yIEV4Y2VwdGlvbiBGcmFjdGlvbmFsIEZ1bmN0aW9uIEluZGV4ZWRTZXEgSW50IEludGVncmFsIEl0ZXJhYmxlIEl0ZXJhdG9yIExpc3QgTWFwIE51bWVyaWMgTmlsIE5vdE51bGwgT3B0aW9uIE9yZGVyZWQgT3JkZXJpbmcgUGFydGlhbEZ1bmN0aW9uIFBhcnRpYWxPcmRlcmluZyBQcm9kdWN0IFByb3h5IFJhbmdlIFJlc3BvbmRlciBTZXEgU2VyaWFsaXphYmxlIFNldCBTcGVjaWFsaXphYmxlIFN0cmVhbSBTdHJpbmdCdWlsZGVyIFN0cmluZ0NvbnRleHQgU3ltYm9sIFRocm93YWJsZSBUcmF2ZXJzYWJsZSBUcmF2ZXJzYWJsZU9uY2UgVHVwbGUgVW5pdCBWZWN0b3IgQm9vbGVhbiBCeXRlIENoYXJhY3RlciBDaGFyU2VxdWVuY2UgQ2xhc3MgQ2xhc3NMb2FkZXIgQ2xvbmVhYmxlIENvbXBhcmFibGUgQ29tcGlsZXIgRG91YmxlIEV4Y2VwdGlvbiBGbG9hdCBJbnRlZ2VyIExvbmcgTWF0aCBOdW1iZXIgT2JqZWN0IFBhY2thZ2UgUGFpciBQcm9jZXNzIFJ1bnRpbWUgUnVubmFibGUgU2VjdXJpdHlNYW5hZ2VyIFNob3J0IFN0YWNrVHJhY2VFbGVtZW50IFN0cmljdE1hdGggU3RyaW5nIFN0cmluZ0J1ZmZlciBTeXN0ZW0gVGhyZWFkIFRocmVhZEdyb3VwIFRocmVhZExvY2FsIFRocm93YWJsZSBUcmlwbGUgVm9pZFwiKSxtdWx0aUxpbmVTdHJpbmdzOiEwLGJsb2NrS2V5d29yZHM6YShcImNhdGNoIGNsYXNzIGVudW0gZG8gZWxzZSBmaW5hbGx5IGZvciBmb3JTb21lIGlmIG1hdGNoIHN3aXRjaCB0cnkgd2hpbGVcIiksZGVmS2V5d29yZHM6YShcImNsYXNzIGVudW0gZGVmIG9iamVjdCBwYWNrYWdlIHRyYWl0IHR5cGUgdmFsIHZhclwiKSxhdG9tczphKFwidHJ1ZSBmYWxzZSBudWxsXCIpLGluZGVudFN0YXRlbWVudHM6ITEsaW5kZW50U3dpdGNoOiExLGlzT3BlcmF0b3JDaGFyOi9bK1xcLSomJT08PiE/fFxcLyM6QF0vLGhvb2tzOntcIkBcIjpmdW5jdGlvbih0KXtyZXR1cm4gdC5lYXRXaGlsZSgvW1xcd1xcJF9dLyksXCJtZXRhXCJ9LCdcIic6ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXQubWF0Y2goJ1wiXCInKSYmKGUudG9rZW5pemU9dyxlLnRva2VuaXplKHQsZSkpfSxcIidcIjpmdW5jdGlvbih0KXtyZXR1cm4gdC5lYXRXaGlsZSgvW1xcd1xcJF9cXHhhMS1cXHVmZmZmXS8pLFwiYXRvbVwifSxcIj1cIjpmdW5jdGlvbih0LG4pe3ZhciByPW4uY29udGV4dDtyZXR1cm4hKFwifVwiIT1yLnR5cGV8fCFyLmFsaWdufHwhdC5lYXQoXCI+XCIpKSYmKG4uY29udGV4dD1uZXcgZShyLmluZGVudGVkLHIuY29sdW1uLHIudHlwZSxyLmluZm8sbnVsbCxyLnByZXYpLFwib3BlcmF0b3JcIil9LFwiL1wiOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0LmVhdChcIipcIikmJihlLnRva2VuaXplPUMoMSksZS50b2tlbml6ZSh0LGUpKX19LG1vZGVQcm9wczp7Y2xvc2VCcmFja2V0czp7cGFpcnM6JygpW117fVwiXCInLHRyaXBsZXM6J1wiJ319fSkseChcInRleHQveC1rb3RsaW5cIix7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShcInBhY2thZ2UgYXMgdHlwZWFsaWFzIGNsYXNzIGludGVyZmFjZSB0aGlzIHN1cGVyIHZhbCBvcGVyYXRvciB2YXIgZnVuIGZvciBpcyBpbiBUaGlzIHRocm93IHJldHVybiBhbm5vdGF0aW9uIGJyZWFrIGNvbnRpbnVlIG9iamVjdCBpZiBlbHNlIHdoaWxlIGRvIHRyeSB3aGVuICFpbiAhaXMgYXM/IGZpbGUgaW1wb3J0IHdoZXJlIGJ5IGdldCBzZXQgYWJzdHJhY3QgZW51bSBvcGVuIGlubmVyIG92ZXJyaWRlIHByaXZhdGUgcHVibGljIGludGVybmFsIHByb3RlY3RlZCBjYXRjaCBmaW5hbGx5IG91dCBmaW5hbCB2YXJhcmcgcmVpZmllZCBkeW5hbWljIGNvbXBhbmlvbiBjb25zdHJ1Y3RvciBpbml0IHNlYWxlZCBmaWVsZCBwcm9wZXJ0eSByZWNlaXZlciBwYXJhbSBzcGFyYW0gbGF0ZWluaXQgZGF0YSBpbmxpbmUgbm9pbmxpbmUgdGFpbHJlYyBleHRlcm5hbCBhbm5vdGF0aW9uIGNyb3NzaW5saW5lIGNvbnN0IG9wZXJhdG9yIGluZml4IHN1c3BlbmQgYWN0dWFsIGV4cGVjdCBzZXRwYXJhbVwiKSx0eXBlczphKFwiQm9vbGVhbiBCeXRlIENoYXJhY3RlciBDaGFyU2VxdWVuY2UgQ2xhc3MgQ2xhc3NMb2FkZXIgQ2xvbmVhYmxlIENvbXBhcmFibGUgQ29tcGlsZXIgRG91YmxlIEV4Y2VwdGlvbiBGbG9hdCBJbnRlZ2VyIExvbmcgTWF0aCBOdW1iZXIgT2JqZWN0IFBhY2thZ2UgUGFpciBQcm9jZXNzIFJ1bnRpbWUgUnVubmFibGUgU2VjdXJpdHlNYW5hZ2VyIFNob3J0IFN0YWNrVHJhY2VFbGVtZW50IFN0cmljdE1hdGggU3RyaW5nIFN0cmluZ0J1ZmZlciBTeXN0ZW0gVGhyZWFkIFRocmVhZEdyb3VwIFRocmVhZExvY2FsIFRocm93YWJsZSBUcmlwbGUgVm9pZCBBbm5vdGF0aW9uIEFueSBCb29sZWFuQXJyYXkgQnl0ZUFycmF5IENoYXIgQ2hhckFycmF5IERlcHJlY2F0aW9uTGV2ZWwgRG91YmxlQXJyYXkgRW51bSBGbG9hdEFycmF5IEZ1bmN0aW9uIEludCBJbnRBcnJheSBMYXp5IExhenlUaHJlYWRTYWZldHlNb2RlIExvbmdBcnJheSBOb3RoaW5nIFNob3J0QXJyYXkgVW5pdFwiKSxpbnRlbmRTd2l0Y2g6ITEsaW5kZW50U3RhdGVtZW50czohMSxtdWx0aUxpbmVTdHJpbmdzOiEwLG51bWJlcjovXig/OjB4W2EtZlxcZF9dK3wwYlswMV9dK3woPzpbXFxkX10rKFxcLlxcZCspP3xcXC5cXGQrKSg/OmVbLStdP1tcXGRfXSspPykodXxsbD98bHxmKT8vaSxibG9ja0tleXdvcmRzOmEoXCJjYXRjaCBjbGFzcyBkbyBlbHNlIGZpbmFsbHkgZm9yIGlmIHdoZXJlIHRyeSB3aGlsZSBlbnVtXCIpLGRlZktleXdvcmRzOmEoXCJjbGFzcyB2YWwgdmFyIG9iamVjdCBpbnRlcmZhY2UgZnVuXCIpLGF0b21zOmEoXCJ0cnVlIGZhbHNlIG51bGwgdGhpc1wiKSxob29rczp7XCJAXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZWF0V2hpbGUoL1tcXHdcXCRfXS8pLFwibWV0YVwifSxcIipcIjpmdW5jdGlvbih0LGUpe3JldHVyblwiLlwiPT1lLnByZXZUb2tlbj9cInZhcmlhYmxlXCI6XCJvcGVyYXRvclwifSwnXCInOmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIGUudG9rZW5pemU9KG49dC5tYXRjaCgnXCJcIicpLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByLGk9ITEsbz0hMTshdC5lb2woKTspe2lmKCFuJiYhaSYmdC5tYXRjaCgnXCInKSl7bz0hMDticmVha31pZihuJiZ0Lm1hdGNoKCdcIlwiXCInKSl7bz0hMDticmVha31yPXQubmV4dCgpLCFpJiZcIiRcIj09ciYmdC5tYXRjaChcIntcIikmJnQuc2tpcFRvKFwifVwiKSxpPSFpJiZcIlxcXFxcIj09ciYmIW59cmV0dXJuIW8mJm58fChlLnRva2VuaXplPW51bGwpLFwic3RyaW5nXCJ9KSxlLnRva2VuaXplKHQsZSl9LFwiL1wiOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0LmVhdChcIipcIikmJihlLnRva2VuaXplPUMoMSksZS50b2tlbml6ZSh0LGUpKX0saW5kZW50OmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW4mJm4uY2hhckF0KDApO3JldHVyblwifVwiIT10LnByZXZUb2tlbiYmXCIpXCIhPXQucHJldlRva2VufHxcIlwiIT1uP1wib3BlcmF0b3JcIj09dC5wcmV2VG9rZW4mJlwifVwiIT1uJiZcIn1cIiE9dC5jb250ZXh0LnR5cGV8fFwidmFyaWFibGVcIj09dC5wcmV2VG9rZW4mJlwiLlwiPT1pfHwoXCJ9XCI9PXQucHJldlRva2VufHxcIilcIj09dC5wcmV2VG9rZW4pJiZcIi5cIj09aT8yKnIrZS5pbmRlbnRlZDplLmFsaWduJiZcIn1cIj09ZS50eXBlP2UuaW5kZW50ZWQrKHQuY29udGV4dC50eXBlPT0obnx8XCJcIikuY2hhckF0KDApPzA6cik6dm9pZCAwOnQuaW5kZW50ZWR9fSxtb2RlUHJvcHM6e2Nsb3NlQnJhY2tldHM6e3RyaXBsZXM6J1wiJ319fSkseChbXCJ4LXNoYWRlci94LXZlcnRleFwiLFwieC1zaGFkZXIveC1mcmFnbWVudFwiXSx7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShcInNhbXBsZXIxRCBzYW1wbGVyMkQgc2FtcGxlcjNEIHNhbXBsZXJDdWJlIHNhbXBsZXIxRFNoYWRvdyBzYW1wbGVyMkRTaGFkb3cgY29uc3QgYXR0cmlidXRlIHVuaWZvcm0gdmFyeWluZyBicmVhayBjb250aW51ZSBkaXNjYXJkIHJldHVybiBmb3Igd2hpbGUgZG8gaWYgZWxzZSBzdHJ1Y3QgaW4gb3V0IGlub3V0XCIpLHR5cGVzOmEoXCJmbG9hdCBpbnQgYm9vbCB2b2lkIHZlYzIgdmVjMyB2ZWM0IGl2ZWMyIGl2ZWMzIGl2ZWM0IGJ2ZWMyIGJ2ZWMzIGJ2ZWM0IG1hdDIgbWF0MyBtYXQ0XCIpLGJsb2NrS2V5d29yZHM6YShcImZvciB3aGlsZSBkbyBpZiBlbHNlIHN0cnVjdFwiKSxidWlsdGluOmEoXCJyYWRpYW5zIGRlZ3JlZXMgc2luIGNvcyB0YW4gYXNpbiBhY29zIGF0YW4gcG93IGV4cCBsb2cgZXhwMiBzcXJ0IGludmVyc2VzcXJ0IGFicyBzaWduIGZsb29yIGNlaWwgZnJhY3QgbW9kIG1pbiBtYXggY2xhbXAgbWl4IHN0ZXAgc21vb3Roc3RlcCBsZW5ndGggZGlzdGFuY2UgZG90IGNyb3NzIG5vcm1hbGl6ZSBmdHJhbnNmb3JtIGZhY2Vmb3J3YXJkIHJlZmxlY3QgcmVmcmFjdCBtYXRyaXhDb21wTXVsdCBsZXNzVGhhbiBsZXNzVGhhbkVxdWFsIGdyZWF0ZXJUaGFuIGdyZWF0ZXJUaGFuRXF1YWwgZXF1YWwgbm90RXF1YWwgYW55IGFsbCBub3QgdGV4dHVyZTFEIHRleHR1cmUxRFByb2ogdGV4dHVyZTFETG9kIHRleHR1cmUxRFByb2pMb2QgdGV4dHVyZTJEIHRleHR1cmUyRFByb2ogdGV4dHVyZTJETG9kIHRleHR1cmUyRFByb2pMb2QgdGV4dHVyZTNEIHRleHR1cmUzRFByb2ogdGV4dHVyZTNETG9kIHRleHR1cmUzRFByb2pMb2QgdGV4dHVyZUN1YmUgdGV4dHVyZUN1YmVMb2Qgc2hhZG93MUQgc2hhZG93MkQgc2hhZG93MURQcm9qIHNoYWRvdzJEUHJvaiBzaGFkb3cxRExvZCBzaGFkb3cyRExvZCBzaGFkb3cxRFByb2pMb2Qgc2hhZG93MkRQcm9qTG9kIGRGZHggZEZkeSBmd2lkdGggbm9pc2UxIG5vaXNlMiBub2lzZTMgbm9pc2U0XCIpLGF0b21zOmEoXCJ0cnVlIGZhbHNlIGdsX0ZyYWdDb2xvciBnbF9TZWNvbmRhcnlDb2xvciBnbF9Ob3JtYWwgZ2xfVmVydGV4IGdsX011bHRpVGV4Q29vcmQwIGdsX011bHRpVGV4Q29vcmQxIGdsX011bHRpVGV4Q29vcmQyIGdsX011bHRpVGV4Q29vcmQzIGdsX011bHRpVGV4Q29vcmQ0IGdsX011bHRpVGV4Q29vcmQ1IGdsX011bHRpVGV4Q29vcmQ2IGdsX011bHRpVGV4Q29vcmQ3IGdsX0ZvZ0Nvb3JkIGdsX1BvaW50Q29vcmQgZ2xfUG9zaXRpb24gZ2xfUG9pbnRTaXplIGdsX0NsaXBWZXJ0ZXggZ2xfRnJvbnRDb2xvciBnbF9CYWNrQ29sb3IgZ2xfRnJvbnRTZWNvbmRhcnlDb2xvciBnbF9CYWNrU2Vjb25kYXJ5Q29sb3IgZ2xfVGV4Q29vcmQgZ2xfRm9nRnJhZ0Nvb3JkIGdsX0ZyYWdDb29yZCBnbF9Gcm9udEZhY2luZyBnbF9GcmFnRGF0YSBnbF9GcmFnRGVwdGggZ2xfTW9kZWxWaWV3TWF0cml4IGdsX1Byb2plY3Rpb25NYXRyaXggZ2xfTW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCBnbF9UZXh0dXJlTWF0cml4IGdsX05vcm1hbE1hdHJpeCBnbF9Nb2RlbFZpZXdNYXRyaXhJbnZlcnNlIGdsX1Byb2plY3Rpb25NYXRyaXhJbnZlcnNlIGdsX01vZGVsVmlld1Byb2plY3Rpb25NYXRyaXhJbnZlcnNlIGdsX1RleHVyZU1hdHJpeFRyYW5zcG9zZSBnbF9Nb2RlbFZpZXdNYXRyaXhJbnZlcnNlVHJhbnNwb3NlIGdsX1Byb2plY3Rpb25NYXRyaXhJbnZlcnNlVHJhbnNwb3NlIGdsX01vZGVsVmlld1Byb2plY3Rpb25NYXRyaXhJbnZlcnNlVHJhbnNwb3NlIGdsX1RleHR1cmVNYXRyaXhJbnZlcnNlVHJhbnNwb3NlIGdsX05vcm1hbFNjYWxlIGdsX0RlcHRoUmFuZ2UgZ2xfQ2xpcFBsYW5lIGdsX1BvaW50IGdsX0Zyb250TWF0ZXJpYWwgZ2xfQmFja01hdGVyaWFsIGdsX0xpZ2h0U291cmNlIGdsX0xpZ2h0TW9kZWwgZ2xfRnJvbnRMaWdodE1vZGVsUHJvZHVjdCBnbF9CYWNrTGlnaHRNb2RlbFByb2R1Y3QgZ2xfVGV4dHVyZUNvbG9yIGdsX0V5ZVBsYW5lUyBnbF9FeWVQbGFuZVQgZ2xfRXllUGxhbmVSIGdsX0V5ZVBsYW5lUSBnbF9Gb2dQYXJhbWV0ZXJzIGdsX01heExpZ2h0cyBnbF9NYXhDbGlwUGxhbmVzIGdsX01heFRleHR1cmVVbml0cyBnbF9NYXhUZXh0dXJlQ29vcmRzIGdsX01heFZlcnRleEF0dHJpYnMgZ2xfTWF4VmVydGV4VW5pZm9ybUNvbXBvbmVudHMgZ2xfTWF4VmFyeWluZ0Zsb2F0cyBnbF9NYXhWZXJ0ZXhUZXh0dXJlSW1hZ2VVbml0cyBnbF9NYXhUZXh0dXJlSW1hZ2VVbml0cyBnbF9NYXhGcmFnbWVudFVuaWZvcm1Db21wb25lbnRzIGdsX01heENvbWJpbmVUZXh0dXJlSW1hZ2VVbml0cyBnbF9NYXhEcmF3QnVmZmVyc1wiKSxpbmRlbnRTd2l0Y2g6ITEsaG9va3M6e1wiI1wiOmh9LG1vZGVQcm9wczp7Zm9sZDpbXCJicmFjZVwiLFwiaW5jbHVkZVwiXX19KSx4KFwidGV4dC94LW5lc2NcIix7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShsK1wiIGFzIGF0b21pYyBhc3luYyBjYWxsIGNvbW1hbmQgY29tcG9uZW50IGNvbXBvbmVudHMgY29uZmlndXJhdGlvbiBldmVudCBnZW5lcmljIGltcGxlbWVudGF0aW9uIGluY2x1ZGVzIGludGVyZmFjZSBtb2R1bGUgbmV3IG5vcmFjZSBueF9zdHJ1Y3QgbnhfdW5pb24gcG9zdCBwcm92aWRlcyBzaWduYWwgdGFzayB1c2VzIGFic3RyYWN0IGV4dGVuZHNcIiksdHlwZXM6ZixibG9ja0tleXdvcmRzOmEoZCksYXRvbXM6YShcIm51bGwgdHJ1ZSBmYWxzZVwiKSxob29rczp7XCIjXCI6aH0sbW9kZVByb3BzOntmb2xkOltcImJyYWNlXCIsXCJpbmNsdWRlXCJdfX0pLHgoXCJ0ZXh0L3gtb2JqZWN0aXZlY1wiLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKGwrXCIgYnljb3B5IGJ5cmVmIGluIGlub3V0IG9uZXdheSBvdXQgc2VsZiBzdXBlciBhdG9taWMgbm9uYXRvbWljIHJldGFpbiBjb3B5IHJlYWR3cml0ZSByZWFkb25seSBzdHJvbmcgd2VhayBhc3NpZ24gdHlwZW9mIG51bGxhYmxlIG5vbm51bGwgbnVsbF9yZXNldHRhYmxlIF9jbWQgQGludGVyZmFjZSBAaW1wbGVtZW50YXRpb24gQGVuZCBAcHJvdG9jb2wgQGVuY29kZSBAcHJvcGVydHkgQHN5bnRoZXNpemUgQGR5bmFtaWMgQGNsYXNzIEBwdWJsaWMgQHBhY2thZ2UgQHByaXZhdGUgQHByb3RlY3RlZCBAcmVxdWlyZWQgQG9wdGlvbmFsIEB0cnkgQGNhdGNoIEBmaW5hbGx5IEBpbXBvcnQgQHNlbGVjdG9yIEBlbmNvZGUgQGRlZnMgQHN5bmNocm9uaXplZCBAYXV0b3JlbGVhc2Vwb29sIEBjb21wYXRpYmlsaXR5X2FsaWFzIEBhdmFpbGFibGVcIiksdHlwZXM6ZnVuY3Rpb24odCl7cmV0dXJuIGYodCl8fHModSx0KX0sYnVpbHRpbjphKFwiRk9VTkRBVElPTl9FWFBPUlQgRk9VTkRBVElPTl9FWFRFUk4gTlNfSU5MSU5FIE5TX0ZPUk1BVF9GVU5DVElPTiBOU19SRVRVUk5TX1JFVEFJTkVEIE5TX0VSUk9SX0VOVU0gTlNfUkVUVVJOU19OT1RfUkVUQUlORUQgTlNfUkVUVVJOU19JTk5FUl9QT0lOVEVSIE5TX0RFU0lHTkFURURfSU5JVElBTElaRVIgTlNfRU5VTSBOU19PUFRJT05TIE5TX1JFUVVJUkVTX05JTF9URVJNSU5BVElPTiBOU19BU1NVTUVfTk9OTlVMTF9CRUdJTiBOU19BU1NVTUVfTk9OTlVMTF9FTkQgTlNfU1dJRlRfTkFNRSBOU19SRUZJTkVEX0ZPUl9TV0lGVFwiKSxibG9ja0tleXdvcmRzOmEoZCtcIiBAc3ludGhlc2l6ZSBAdHJ5IEBjYXRjaCBAZmluYWxseSBAYXV0b3JlbGVhc2Vwb29sIEBzeW5jaHJvbml6ZWRcIiksZGVmS2V5d29yZHM6YShcInN0cnVjdCBlbnVtIHVuaW9uIEBpbnRlcmZhY2UgQGltcGxlbWVudGF0aW9uIEBwcm90b2NvbCBAY2xhc3NcIiksZG9udEluZGVudFN0YXRlbWVudHM6L15ALiokLyx0eXBlRmlyc3REZWZpbml0aW9uczohMCxhdG9tczphKFwiWUVTIE5PIE5VTEwgTmlsIG5pbCB0cnVlIGZhbHNlIG51bGxwdHJcIiksaXNSZXNlcnZlZElkZW50aWZpZXI6bSxob29rczp7XCIjXCI6aCxcIipcIjpwfSxtb2RlUHJvcHM6e2ZvbGQ6W1wiYnJhY2VcIixcImluY2x1ZGVcIl19fSkseChcInRleHQveC1zcXVpcnJlbFwiLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKFwiYmFzZSBicmVhayBjbG9uZSBjb250aW51ZSBjb25zdCBkZWZhdWx0IGRlbGV0ZSBlbnVtIGV4dGVuZHMgZnVuY3Rpb24gaW4gY2xhc3MgZm9yZWFjaCBsb2NhbCByZXN1bWUgcmV0dXJuIHRoaXMgdGhyb3cgdHlwZW9mIHlpZWxkIGNvbnN0cnVjdG9yIGluc3RhbmNlb2Ygc3RhdGljXCIpLHR5cGVzOmYsYmxvY2tLZXl3b3JkczphKFwiY2FzZSBjYXRjaCBjbGFzcyBlbHNlIGZvciBmb3JlYWNoIGlmIHN3aXRjaCB0cnkgd2hpbGVcIiksZGVmS2V5d29yZHM6YShcImZ1bmN0aW9uIGxvY2FsIGNsYXNzXCIpLHR5cGVGaXJzdERlZmluaXRpb25zOiEwLGF0b21zOmEoXCJ0cnVlIGZhbHNlIG51bGxcIiksaG9va3M6e1wiI1wiOmh9LG1vZGVQcm9wczp7Zm9sZDpbXCJicmFjZVwiLFwiaW5jbHVkZVwiXX19KTt2YXIgaz1udWxsO3goXCJ0ZXh0L3gtY2V5bG9uXCIse25hbWU6XCJjbGlrZVwiLGtleXdvcmRzOmEoXCJhYnN0cmFjdHMgYWxpYXMgYXNzZW1ibHkgYXNzZXJ0IGFzc2lnbiBicmVhayBjYXNlIGNhdGNoIGNsYXNzIGNvbnRpbnVlIGR5bmFtaWMgZWxzZSBleGlzdHMgZXh0ZW5kcyBmaW5hbGx5IGZvciBmdW5jdGlvbiBnaXZlbiBpZiBpbXBvcnQgaW4gaW50ZXJmYWNlIGlzIGxldCBtb2R1bGUgbmV3IG5vbmVtcHR5IG9iamVjdCBvZiBvdXQgb3V0ZXIgcGFja2FnZSByZXR1cm4gc2F0aXNmaWVzIHN1cGVyIHN3aXRjaCB0aGVuIHRoaXMgdGhyb3cgdHJ5IHZhbHVlIHZvaWQgd2hpbGVcIiksdHlwZXM6ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGFyQXQoMCk7cmV0dXJuIGU9PT1lLnRvVXBwZXJDYXNlKCkmJmUhPT1lLnRvTG93ZXJDYXNlKCl9LGJsb2NrS2V5d29yZHM6YShcImNhc2UgY2F0Y2ggY2xhc3MgZHluYW1pYyBlbHNlIGZpbmFsbHkgZm9yIGZ1bmN0aW9uIGlmIGludGVyZmFjZSBtb2R1bGUgbmV3IG9iamVjdCBzd2l0Y2ggdHJ5IHdoaWxlXCIpLGRlZktleXdvcmRzOmEoXCJjbGFzcyBkeW5hbWljIGZ1bmN0aW9uIGludGVyZmFjZSBtb2R1bGUgb2JqZWN0IHBhY2thZ2UgdmFsdWVcIiksYnVpbHRpbjphKFwiYWJzdHJhY3QgYWN0dWFsIGFsaWFzZWQgYW5ub3RhdGlvbiBieSBkZWZhdWx0IGRlcHJlY2F0ZWQgZG9jIGZpbmFsIGZvcm1hbCBsYXRlIGxpY2Vuc2UgbmF0aXZlIG9wdGlvbmFsIHNlYWxlZCBzZWUgc2VyaWFsaXphYmxlIHNoYXJlZCBzdXBwcmVzc1dhcm5pbmdzIHRhZ2dlZCB0aHJvd3MgdmFyaWFibGVcIiksaXNQdW5jdHVhdGlvbkNoYXI6L1tcXFtcXF17fVxcKFxcKSw7XFw6XFwuYF0vLGlzT3BlcmF0b3JDaGFyOi9bK1xcLSomJT08PiE/fF5+OlxcL10vLG51bWJlclN0YXJ0Oi9bXFxkIyRdLyxudW1iZXI6L14oPzojW1xcZGEtZkEtRl9dK3xcXCRbMDFfXSt8W1xcZF9dK1trTUdUUG11bnBmXT98W1xcZF9dK1xcLltcXGRfXSsoPzpbZUVdWy0rXT9cXGQrfFtrTUdUUG11bnBmXXwpfCkvaSxtdWx0aUxpbmVTdHJpbmdzOiEwLHR5cGVGaXJzdERlZmluaXRpb25zOiEwLGF0b21zOmEoXCJ0cnVlIGZhbHNlIG51bGwgbGFyZ2VyIHNtYWxsZXIgZXF1YWwgZW1wdHkgZmluaXNoZWRcIiksaW5kZW50U3dpdGNoOiExLHN0eWxlRGVmczohMSxob29rczp7XCJAXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZWF0V2hpbGUoL1tcXHdcXCRfXS8pLFwibWV0YVwifSwnXCInOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9rZW5pemU9ZnVuY3Rpb24gdChlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtmb3IodmFyIGksbz0hMSxhPSExOyFuLmVvbCgpOyl7aWYoIW8mJm4ubWF0Y2goJ1wiJykmJihcInNpbmdsZVwiPT1lfHxuLm1hdGNoKCdcIlwiJykpKXthPSEwO2JyZWFrfWlmKCFvJiZuLm1hdGNoKFwiYGBcIikpe2s9dChlKSxhPSEwO2JyZWFrfWk9bi5uZXh0KCksbz1cInNpbmdsZVwiPT1lJiYhbyYmXCJcXFxcXCI9PWl9cmV0dXJuIGEmJihyLnRva2VuaXplPW51bGwpLFwic3RyaW5nXCJ9fSh0Lm1hdGNoKCdcIlwiJyk/XCJ0cmlwbGVcIjpcInNpbmdsZVwiKSxlLnRva2VuaXplKHQsZSl9LFwiYFwiOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISgha3x8IXQubWF0Y2goXCJgXCIpKSYmKGUudG9rZW5pemU9ayxrPW51bGwsZS50b2tlbml6ZSh0LGUpKX0sXCInXCI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZWF0V2hpbGUoL1tcXHdcXCRfXFx4YTEtXFx1ZmZmZl0vKSxcImF0b21cIn0sdG9rZW46ZnVuY3Rpb24odCxlLG4pe2lmKChcInZhcmlhYmxlXCI9PW58fFwidHlwZVwiPT1uKSYmXCIuXCI9PWUucHJldlRva2VuKXJldHVyblwidmFyaWFibGUtMlwifX0sbW9kZVByb3BzOntmb2xkOltcImJyYWNlXCIsXCJpbXBvcnRcIl0sY2xvc2VCcmFja2V0czp7dHJpcGxlczonXCInfX19KX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dC5kZWZpbmVNb2RlKFwiZ3Jvb3Z5XCIsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9e30sbj10LnNwbGl0KFwiIFwiKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtuW3JdXT0hMDtyZXR1cm4gZX12YXIgcixpPW4oXCJhYnN0cmFjdCBhcyBhc3NlcnQgYm9vbGVhbiBicmVhayBieXRlIGNhc2UgY2F0Y2ggY2hhciBjbGFzcyBjb25zdCBjb250aW51ZSBkZWYgZGVmYXVsdCBkbyBkb3VibGUgZWxzZSBlbnVtIGV4dGVuZHMgZmluYWwgZmluYWxseSBmbG9hdCBmb3IgZ290byBpZiBpbXBsZW1lbnRzIGltcG9ydCBpbiBpbnN0YW5jZW9mIGludCBpbnRlcmZhY2UgbG9uZyBuYXRpdmUgbmV3IHBhY2thZ2UgcHJpdmF0ZSBwcm90ZWN0ZWQgcHVibGljIHJldHVybiBzaG9ydCBzdGF0aWMgc3RyaWN0ZnAgc3VwZXIgc3dpdGNoIHN5bmNocm9uaXplZCB0aHJlYWRzYWZlIHRocm93IHRocm93cyB0cmFpdCB0cmFuc2llbnQgdHJ5IHZvaWQgdm9sYXRpbGUgd2hpbGVcIiksbz1uKFwiY2F0Y2ggY2xhc3MgZGVmIGRvIGVsc2UgZW51bSBmaW5hbGx5IGZvciBpZiBpbnRlcmZhY2Ugc3dpdGNoIHRyYWl0IHRyeSB3aGlsZVwiKSxhPW4oXCJyZXR1cm4gYnJlYWsgY29udGludWVcIikscz1uKFwibnVsbCB0cnVlIGZhbHNlIHRoaXNcIik7ZnVuY3Rpb24gbCh0LGUpe3ZhciBuPXQubmV4dCgpO2lmKCdcIic9PW58fFwiJ1wiPT1uKXJldHVybiBjKG4sdCxlKTtpZigvW1xcW1xcXXt9XFwoXFwpLDtcXDpcXC5dLy50ZXN0KG4pKXJldHVybiByPW4sbnVsbDtpZigvXFxkLy50ZXN0KG4pKXJldHVybiB0LmVhdFdoaWxlKC9bXFx3XFwuXS8pLHQuZWF0KC9lRS8pJiYodC5lYXQoL1xcK1xcLS8pLHQuZWF0V2hpbGUoL1xcZC8pKSxcIm51bWJlclwiO2lmKFwiL1wiPT1uKXtpZih0LmVhdChcIipcIikpcmV0dXJuIGUudG9rZW5pemUucHVzaChmKSxmKHQsZSk7aWYodC5lYXQoXCIvXCIpKXJldHVybiB0LnNraXBUb0VuZCgpLFwiY29tbWVudFwiO2lmKGQoZS5sYXN0VG9rZW4sITEpKXJldHVybiBjKG4sdCxlKX1pZihcIi1cIj09biYmdC5lYXQoXCI+XCIpKXJldHVybiByPVwiLT5cIixudWxsO2lmKC9bK1xcLSomJT08PiE/fFxcL35dLy50ZXN0KG4pKXJldHVybiB0LmVhdFdoaWxlKC9bK1xcLSomJT08Pnx+XS8pLFwib3BlcmF0b3JcIjtpZih0LmVhdFdoaWxlKC9bXFx3XFwkX10vKSxcIkBcIj09bilyZXR1cm4gdC5lYXRXaGlsZSgvW1xcd1xcJF9cXC5dLyksXCJtZXRhXCI7aWYoXCIuXCI9PWUubGFzdFRva2VuKXJldHVyblwicHJvcGVydHlcIjtpZih0LmVhdChcIjpcIikpcmV0dXJuIHI9XCJwcm9wbGFiZWxcIixcInByb3BlcnR5XCI7dmFyIGw9dC5jdXJyZW50KCk7cmV0dXJuIHMucHJvcGVydHlJc0VudW1lcmFibGUobCk/XCJhdG9tXCI6aS5wcm9wZXJ0eUlzRW51bWVyYWJsZShsKT8oby5wcm9wZXJ0eUlzRW51bWVyYWJsZShsKT9yPVwibmV3c3RhdGVtZW50XCI6YS5wcm9wZXJ0eUlzRW51bWVyYWJsZShsKSYmKHI9XCJzdGFuZGFsb25lXCIpLFwia2V5d29yZFwiKTpcInZhcmlhYmxlXCJ9ZnVuY3Rpb24gYyh0LGUsbil7dmFyIHI9ITE7aWYoXCIvXCIhPXQmJmUuZWF0KHQpKXtpZighZS5lYXQodCkpcmV0dXJuXCJzdHJpbmdcIjtyPSEwfWZ1bmN0aW9uIGkoZSxuKXtmb3IodmFyIGksbz0hMSxhPSFyO251bGwhPShpPWUubmV4dCgpKTspe2lmKGk9PXQmJiFvKXtpZighcilicmVhaztpZihlLm1hdGNoKHQrdCkpe2E9ITA7YnJlYWt9fWlmKCdcIic9PXQmJlwiJFwiPT1pJiYhbyYmZS5lYXQoXCJ7XCIpKXJldHVybiBuLnRva2VuaXplLnB1c2godSgpKSxcInN0cmluZ1wiO289IW8mJlwiXFxcXFwiPT1pfXJldHVybiBhJiZuLnRva2VuaXplLnBvcCgpLFwic3RyaW5nXCJ9cmV0dXJuIG4udG9rZW5pemUucHVzaChpKSxpKGUsbil9ZnVuY3Rpb24gdSgpe3ZhciB0PTE7ZnVuY3Rpb24gZShlLG4pe2lmKFwifVwiPT1lLnBlZWsoKSl7aWYoMD09LS10KXJldHVybiBuLnRva2VuaXplLnBvcCgpLG4udG9rZW5pemVbbi50b2tlbml6ZS5sZW5ndGgtMV0oZSxuKX1lbHNlXCJ7XCI9PWUucGVlaygpJiZ0Kys7cmV0dXJuIGwoZSxuKX1yZXR1cm4gZS5pc0Jhc2U9ITAsZX1mdW5jdGlvbiBmKHQsZSl7Zm9yKHZhciBuLHI9ITE7bj10Lm5leHQoKTspe2lmKFwiL1wiPT1uJiZyKXtlLnRva2VuaXplLnBvcCgpO2JyZWFrfXI9XCIqXCI9PW59cmV0dXJuXCJjb21tZW50XCJ9ZnVuY3Rpb24gZCh0LGUpe3JldHVybiF0fHxcIm9wZXJhdG9yXCI9PXR8fFwiLT5cIj09dHx8L1tcXC5cXFtcXHtcXCgsOzpdLy50ZXN0KHQpfHxcIm5ld3N0YXRlbWVudFwiPT10fHxcImtleXdvcmRcIj09dHx8XCJwcm9wbGFiZWxcIj09dHx8XCJzdGFuZGFsb25lXCI9PXQmJiFlfWZ1bmN0aW9uIGgodCxlLG4scixpKXt0aGlzLmluZGVudGVkPXQsdGhpcy5jb2x1bW49ZSx0aGlzLnR5cGU9bix0aGlzLmFsaWduPXIsdGhpcy5wcmV2PWl9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuIHQuY29udGV4dD1uZXcgaCh0LmluZGVudGVkLGUsbixudWxsLHQuY29udGV4dCl9ZnVuY3Rpb24gbSh0KXt2YXIgZT10LmNvbnRleHQudHlwZTtyZXR1cm5cIilcIiE9ZSYmXCJdXCIhPWUmJlwifVwiIT1lfHwodC5pbmRlbnRlZD10LmNvbnRleHQuaW5kZW50ZWQpLHQuY29udGV4dD10LmNvbnRleHQucHJldn1yZXR1cm4gbC5pc0Jhc2U9ITAse3N0YXJ0U3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJue3Rva2VuaXplOltsXSxjb250ZXh0Om5ldyBoKCh0fHwwKS1lLmluZGVudFVuaXQsMCxcInRvcFwiLCExKSxpbmRlbnRlZDowLHN0YXJ0T2ZMaW5lOiEwLGxhc3RUb2tlbjpudWxsfX0sdG9rZW46ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmNvbnRleHQ7aWYodC5zb2woKSYmKG51bGw9PW4uYWxpZ24mJihuLmFsaWduPSExKSxlLmluZGVudGVkPXQuaW5kZW50YXRpb24oKSxlLnN0YXJ0T2ZMaW5lPSEwLFwic3RhdGVtZW50XCIhPW4udHlwZXx8ZChlLmxhc3RUb2tlbiwhMCl8fChtKGUpLG49ZS5jb250ZXh0KSksdC5lYXRTcGFjZSgpKXJldHVybiBudWxsO3I9bnVsbDt2YXIgaT1lLnRva2VuaXplW2UudG9rZW5pemUubGVuZ3RoLTFdKHQsZSk7aWYoXCJjb21tZW50XCI9PWkpcmV0dXJuIGk7aWYobnVsbD09bi5hbGlnbiYmKG4uYWxpZ249ITApLFwiO1wiIT1yJiZcIjpcIiE9cnx8XCJzdGF0ZW1lbnRcIiE9bi50eXBlKWlmKFwiLT5cIj09ciYmXCJzdGF0ZW1lbnRcIj09bi50eXBlJiZcIn1cIj09bi5wcmV2LnR5cGUpbShlKSxlLmNvbnRleHQuYWxpZ249ITE7ZWxzZSBpZihcIntcIj09cilwKGUsdC5jb2x1bW4oKSxcIn1cIik7ZWxzZSBpZihcIltcIj09cilwKGUsdC5jb2x1bW4oKSxcIl1cIik7ZWxzZSBpZihcIihcIj09cilwKGUsdC5jb2x1bW4oKSxcIilcIik7ZWxzZSBpZihcIn1cIj09cil7Zm9yKDtcInN0YXRlbWVudFwiPT1uLnR5cGU7KW49bShlKTtmb3IoXCJ9XCI9PW4udHlwZSYmKG49bShlKSk7XCJzdGF0ZW1lbnRcIj09bi50eXBlOyluPW0oZSl9ZWxzZSByPT1uLnR5cGU/bShlKTooXCJ9XCI9PW4udHlwZXx8XCJ0b3BcIj09bi50eXBlfHxcInN0YXRlbWVudFwiPT1uLnR5cGUmJlwibmV3c3RhdGVtZW50XCI9PXIpJiZwKGUsdC5jb2x1bW4oKSxcInN0YXRlbWVudFwiKTtlbHNlIG0oZSk7cmV0dXJuIGUuc3RhcnRPZkxpbmU9ITEsZS5sYXN0VG9rZW49cnx8aSxpfSxpbmRlbnQ6ZnVuY3Rpb24obixyKXtpZighbi50b2tlbml6ZVtuLnRva2VuaXplLmxlbmd0aC0xXS5pc0Jhc2UpcmV0dXJuIHQuUGFzczt2YXIgaT1yJiZyLmNoYXJBdCgwKSxvPW4uY29udGV4dDtcInN0YXRlbWVudFwiIT1vLnR5cGV8fGQobi5sYXN0VG9rZW4sITApfHwobz1vLnByZXYpO3ZhciBhPWk9PW8udHlwZTtyZXR1cm5cInN0YXRlbWVudFwiPT1vLnR5cGU/by5pbmRlbnRlZCsoXCJ7XCI9PWk/MDplLmluZGVudFVuaXQpOm8uYWxpZ24/by5jb2x1bW4rKGE/MDoxKTpvLmluZGVudGVkKyhhPzA6ZS5pbmRlbnRVbml0KX0sZWxlY3RyaWNDaGFyczpcInt9XCIsY2xvc2VCcmFja2V0czp7dHJpcGxlczpcIidcXFwiXCJ9LGZvbGQ6XCJicmFjZVwiLGJsb2NrQ29tbWVudFN0YXJ0OlwiLypcIixibG9ja0NvbW1lbnRFbmQ6XCIqL1wiLGxpbmVDb21tZW50OlwiLy9cIn19KSx0LmRlZmluZU1JTUUoXCJ0ZXh0L3gtZ3Jvb3Z5XCIsXCJncm9vdnlcIil9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPXthdXRvU2VsZkNsb3NlcnM6e2FyZWE6ITAsYmFzZTohMCxicjohMCxjb2w6ITAsY29tbWFuZDohMCxlbWJlZDohMCxmcmFtZTohMCxocjohMCxpbWc6ITAsaW5wdXQ6ITAsa2V5Z2VuOiEwLGxpbms6ITAsbWV0YTohMCxwYXJhbTohMCxzb3VyY2U6ITAsdHJhY2s6ITAsd2JyOiEwLG1lbnVpdGVtOiEwfSxpbXBsaWNpdGx5Q2xvc2VkOntkZDohMCxsaTohMCxvcHRncm91cDohMCxvcHRpb246ITAscDohMCxycDohMCxydDohMCx0Ym9keTohMCx0ZDohMCx0Zm9vdDohMCx0aDohMCx0cjohMH0sY29udGV4dEdyYWJiZXJzOntkZDp7ZGQ6ITAsZHQ6ITB9LGR0OntkZDohMCxkdDohMH0sbGk6e2xpOiEwfSxvcHRpb246e29wdGlvbjohMCxvcHRncm91cDohMH0sb3B0Z3JvdXA6e29wdGdyb3VwOiEwfSxwOnthZGRyZXNzOiEwLGFydGljbGU6ITAsYXNpZGU6ITAsYmxvY2txdW90ZTohMCxkaXI6ITAsZGl2OiEwLGRsOiEwLGZpZWxkc2V0OiEwLGZvb3RlcjohMCxmb3JtOiEwLGgxOiEwLGgyOiEwLGgzOiEwLGg0OiEwLGg1OiEwLGg2OiEwLGhlYWRlcjohMCxoZ3JvdXA6ITAsaHI6ITAsbWVudTohMCxuYXY6ITAsb2w6ITAscDohMCxwcmU6ITAsc2VjdGlvbjohMCx0YWJsZTohMCx1bDohMH0scnA6e3JwOiEwLHJ0OiEwfSxydDp7cnA6ITAscnQ6ITB9LHRib2R5Ont0Ym9keTohMCx0Zm9vdDohMH0sdGQ6e3RkOiEwLHRoOiEwfSx0Zm9vdDp7dGJvZHk6ITB9LHRoOnt0ZDohMCx0aDohMH0sdGhlYWQ6e3Rib2R5OiEwLHRmb290OiEwfSx0cjp7dHI6ITB9fSxkb05vdEluZGVudDp7cHJlOiEwfSxhbGxvd1VucXVvdGVkOiEwLGFsbG93TWlzc2luZzohMCxjYXNlRm9sZDohMH0sbj17YXV0b1NlbGZDbG9zZXJzOnt9LGltcGxpY2l0bHlDbG9zZWQ6e30sY29udGV4dEdyYWJiZXJzOnt9LGRvTm90SW5kZW50Ont9LGFsbG93VW5xdW90ZWQ6ITEsYWxsb3dNaXNzaW5nOiExLGFsbG93TWlzc2luZ1RhZ05hbWU6ITEsY2FzZUZvbGQ6ITF9O3QuZGVmaW5lTW9kZShcInhtbFwiLGZ1bmN0aW9uKHIsaSl7dmFyIG8sYSxzPXIuaW5kZW50VW5pdCxsPXt9LGM9aS5odG1sTW9kZT9lOm47Zm9yKHZhciB1IGluIGMpbFt1XT1jW3VdO2Zvcih2YXIgdSBpbiBpKWxbdV09aVt1XTtmdW5jdGlvbiBmKHQsZSl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gZS50b2tlbml6ZT1uLG4odCxlKX12YXIgcj10Lm5leHQoKTtyZXR1cm5cIjxcIj09cj90LmVhdChcIiFcIik/dC5lYXQoXCJbXCIpP3QubWF0Y2goXCJDREFUQVtcIik/bihoKFwiYXRvbVwiLFwiXV0+XCIpKTpudWxsOnQubWF0Y2goXCItLVwiKT9uKGgoXCJjb21tZW50XCIsXCItLVxceDNlXCIpKTp0Lm1hdGNoKFwiRE9DVFlQRVwiLCEwLCEwKT8odC5lYXRXaGlsZSgvW1xcd1xcLl9cXC1dLyksbihmdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbihuLHIpe2Zvcih2YXIgaTtudWxsIT0oaT1uLm5leHQoKSk7KXtpZihcIjxcIj09aSlyZXR1cm4gci50b2tlbml6ZT10KGUrMSksci50b2tlbml6ZShuLHIpO2lmKFwiPlwiPT1pKXtpZigxPT1lKXtyLnRva2VuaXplPWY7YnJlYWt9cmV0dXJuIHIudG9rZW5pemU9dChlLTEpLHIudG9rZW5pemUobixyKX19cmV0dXJuXCJtZXRhXCJ9fSgxKSkpOm51bGw6dC5lYXQoXCI/XCIpPyh0LmVhdFdoaWxlKC9bXFx3XFwuX1xcLV0vKSxlLnRva2VuaXplPWgoXCJtZXRhXCIsXCI/PlwiKSxcIm1ldGFcIik6KG89dC5lYXQoXCIvXCIpP1wiY2xvc2VUYWdcIjpcIm9wZW5UYWdcIixlLnRva2VuaXplPWQsXCJ0YWcgYnJhY2tldFwiKTpcIiZcIj09cj8odC5lYXQoXCIjXCIpP3QuZWF0KFwieFwiKT90LmVhdFdoaWxlKC9bYS1mQS1GXFxkXS8pJiZ0LmVhdChcIjtcIik6dC5lYXRXaGlsZSgvW1xcZF0vKSYmdC5lYXQoXCI7XCIpOnQuZWF0V2hpbGUoL1tcXHdcXC5cXC06XS8pJiZ0LmVhdChcIjtcIikpP1wiYXRvbVwiOlwiZXJyb3JcIjoodC5lYXRXaGlsZSgvW14mPF0vKSxudWxsKX1mdW5jdGlvbiBkKHQsZSl7dmFyIG4scixpPXQubmV4dCgpO2lmKFwiPlwiPT1pfHxcIi9cIj09aSYmdC5lYXQoXCI+XCIpKXJldHVybiBlLnRva2VuaXplPWYsbz1cIj5cIj09aT9cImVuZFRhZ1wiOlwic2VsZmNsb3NlVGFnXCIsXCJ0YWcgYnJhY2tldFwiO2lmKFwiPVwiPT1pKXJldHVybiBvPVwiZXF1YWxzXCIsbnVsbDtpZihcIjxcIj09aSl7ZS50b2tlbml6ZT1mLGUuc3RhdGU9dixlLnRhZ05hbWU9ZS50YWdTdGFydD1udWxsO3ZhciBhPWUudG9rZW5pemUodCxlKTtyZXR1cm4gYT9hK1wiIHRhZyBlcnJvclwiOlwidGFnIGVycm9yXCJ9cmV0dXJuL1tcXCdcXFwiXS8udGVzdChpKT8oZS50b2tlbml6ZT0obj1pLChyPWZ1bmN0aW9uKHQsZSl7Zm9yKDshdC5lb2woKTspaWYodC5uZXh0KCk9PW4pe2UudG9rZW5pemU9ZDticmVha31yZXR1cm5cInN0cmluZ1wifSkuaXNJbkF0dHJpYnV0ZT0hMCxyKSxlLnN0cmluZ1N0YXJ0Q29sPXQuY29sdW1uKCksZS50b2tlbml6ZSh0LGUpKToodC5tYXRjaCgvXlteXFxzXFx1MDBhMD08PlxcXCJcXCddKlteXFxzXFx1MDBhMD08PlxcXCJcXCdcXC9dLyksXCJ3b3JkXCIpfWZ1bmN0aW9uIGgodCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtmb3IoOyFuLmVvbCgpOyl7aWYobi5tYXRjaChlKSl7ci50b2tlbml6ZT1mO2JyZWFrfW4ubmV4dCgpfXJldHVybiB0fX1mdW5jdGlvbiBwKHQsZSxuKXt0aGlzLnByZXY9dC5jb250ZXh0LHRoaXMudGFnTmFtZT1lLHRoaXMuaW5kZW50PXQuaW5kZW50ZWQsdGhpcy5zdGFydE9mTGluZT1uLChsLmRvTm90SW5kZW50Lmhhc093blByb3BlcnR5KGUpfHx0LmNvbnRleHQmJnQuY29udGV4dC5ub0luZGVudCkmJih0aGlzLm5vSW5kZW50PSEwKX1mdW5jdGlvbiBtKHQpe3QuY29udGV4dCYmKHQuY29udGV4dD10LmNvbnRleHQucHJldil9ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgbjs7KXtpZighdC5jb250ZXh0KXJldHVybjtpZihuPXQuY29udGV4dC50YWdOYW1lLCFsLmNvbnRleHRHcmFiYmVycy5oYXNPd25Qcm9wZXJ0eShuKXx8IWwuY29udGV4dEdyYWJiZXJzW25dLmhhc093blByb3BlcnR5KGUpKXJldHVybjttKHQpfX1mdW5jdGlvbiB2KHQsZSxuKXtyZXR1cm5cIm9wZW5UYWdcIj09dD8obi50YWdTdGFydD1lLmNvbHVtbigpLHkpOlwiY2xvc2VUYWdcIj09dD9iOnZ9ZnVuY3Rpb24geSh0LGUsbil7cmV0dXJuXCJ3b3JkXCI9PXQ/KG4udGFnTmFtZT1lLmN1cnJlbnQoKSxhPVwidGFnXCIsQyk6bC5hbGxvd01pc3NpbmdUYWdOYW1lJiZcImVuZFRhZ1wiPT10PyhhPVwidGFnIGJyYWNrZXRcIixDKHQsMCxuKSk6KGE9XCJlcnJvclwiLHkpfWZ1bmN0aW9uIGIodCxlLG4pe2lmKFwid29yZFwiPT10KXt2YXIgcj1lLmN1cnJlbnQoKTtyZXR1cm4gbi5jb250ZXh0JiZuLmNvbnRleHQudGFnTmFtZSE9ciYmbC5pbXBsaWNpdGx5Q2xvc2VkLmhhc093blByb3BlcnR5KG4uY29udGV4dC50YWdOYW1lKSYmbShuKSxuLmNvbnRleHQmJm4uY29udGV4dC50YWdOYW1lPT1yfHwhMT09PWwubWF0Y2hDbG9zaW5nPyhhPVwidGFnXCIseCk6KGE9XCJ0YWcgZXJyb3JcIix3KX1yZXR1cm4gbC5hbGxvd01pc3NpbmdUYWdOYW1lJiZcImVuZFRhZ1wiPT10PyhhPVwidGFnIGJyYWNrZXRcIix4KHQsMCxuKSk6KGE9XCJlcnJvclwiLHcpfWZ1bmN0aW9uIHgodCxlLG4pe3JldHVyblwiZW5kVGFnXCIhPXQ/KGE9XCJlcnJvclwiLHgpOihtKG4pLHYpfWZ1bmN0aW9uIHcodCxlLG4pe3JldHVybiBhPVwiZXJyb3JcIix4KHQsMCxuKX1mdW5jdGlvbiBDKHQsZSxuKXtpZihcIndvcmRcIj09dClyZXR1cm4gYT1cImF0dHJpYnV0ZVwiLGs7aWYoXCJlbmRUYWdcIj09dHx8XCJzZWxmY2xvc2VUYWdcIj09dCl7dmFyIHI9bi50YWdOYW1lLGk9bi50YWdTdGFydDtyZXR1cm4gbi50YWdOYW1lPW4udGFnU3RhcnQ9bnVsbCxcInNlbGZjbG9zZVRhZ1wiPT10fHxsLmF1dG9TZWxmQ2xvc2Vycy5oYXNPd25Qcm9wZXJ0eShyKT9nKG4scik6KGcobixyKSxuLmNvbnRleHQ9bmV3IHAobixyLGk9PW4uaW5kZW50ZWQpKSx2fXJldHVybiBhPVwiZXJyb3JcIixDfWZ1bmN0aW9uIGsodCxlLG4pe3JldHVyblwiZXF1YWxzXCI9PXQ/XzoobC5hbGxvd01pc3Npbmd8fChhPVwiZXJyb3JcIiksQyh0LDAsbikpfWZ1bmN0aW9uIF8odCxlLG4pe3JldHVyblwic3RyaW5nXCI9PXQ/UzpcIndvcmRcIj09dCYmbC5hbGxvd1VucXVvdGVkPyhhPVwic3RyaW5nXCIsQyk6KGE9XCJlcnJvclwiLEModCwwLG4pKX1mdW5jdGlvbiBTKHQsZSxuKXtyZXR1cm5cInN0cmluZ1wiPT10P1M6Qyh0LDAsbil9cmV0dXJuIGYuaXNJblRleHQ9ITAse3N0YXJ0U3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9e3Rva2VuaXplOmYsc3RhdGU6dixpbmRlbnRlZDp0fHwwLHRhZ05hbWU6bnVsbCx0YWdTdGFydDpudWxsLGNvbnRleHQ6bnVsbH07cmV0dXJuIG51bGwhPXQmJihlLmJhc2VJbmRlbnQ9dCksZX0sdG9rZW46ZnVuY3Rpb24odCxlKXtpZighZS50YWdOYW1lJiZ0LnNvbCgpJiYoZS5pbmRlbnRlZD10LmluZGVudGF0aW9uKCkpLHQuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDtvPW51bGw7dmFyIG49ZS50b2tlbml6ZSh0LGUpO3JldHVybihufHxvKSYmXCJjb21tZW50XCIhPW4mJihhPW51bGwsZS5zdGF0ZT1lLnN0YXRlKG98fG4sdCxlKSxhJiYobj1cImVycm9yXCI9PWE/bitcIiBlcnJvclwiOmEpKSxufSxpbmRlbnQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPWUuY29udGV4dDtpZihlLnRva2VuaXplLmlzSW5BdHRyaWJ1dGUpcmV0dXJuIGUudGFnU3RhcnQ9PWUuaW5kZW50ZWQ/ZS5zdHJpbmdTdGFydENvbCsxOmUuaW5kZW50ZWQrcztpZihpJiZpLm5vSW5kZW50KXJldHVybiB0LlBhc3M7aWYoZS50b2tlbml6ZSE9ZCYmZS50b2tlbml6ZSE9ZilyZXR1cm4gcj9yLm1hdGNoKC9eKFxccyopLylbMF0ubGVuZ3RoOjA7aWYoZS50YWdOYW1lKXJldHVybiExIT09bC5tdWx0aWxpbmVUYWdJbmRlbnRQYXN0VGFnP2UudGFnU3RhcnQrZS50YWdOYW1lLmxlbmd0aCsyOmUudGFnU3RhcnQrcyoobC5tdWx0aWxpbmVUYWdJbmRlbnRGYWN0b3J8fDEpO2lmKGwuYWxpZ25DREFUQSYmLzwhXFxbQ0RBVEFcXFsvLnRlc3QobikpcmV0dXJuIDA7dmFyIG89biYmL148KFxcLyk/KFtcXHdfOlxcLi1dKikvLmV4ZWMobik7aWYobyYmb1sxXSlmb3IoO2k7KXtpZihpLnRhZ05hbWU9PW9bMl0pe2k9aS5wcmV2O2JyZWFrfWlmKCFsLmltcGxpY2l0bHlDbG9zZWQuaGFzT3duUHJvcGVydHkoaS50YWdOYW1lKSlicmVhaztpPWkucHJldn1lbHNlIGlmKG8pZm9yKDtpOyl7dmFyIGE9bC5jb250ZXh0R3JhYmJlcnNbaS50YWdOYW1lXTtpZighYXx8IWEuaGFzT3duUHJvcGVydHkob1syXSkpYnJlYWs7aT1pLnByZXZ9Zm9yKDtpJiZpLnByZXYmJiFpLnN0YXJ0T2ZMaW5lOylpPWkucHJldjtyZXR1cm4gaT9pLmluZGVudCtzOmUuYmFzZUluZGVudHx8MH0sZWxlY3RyaWNJbnB1dDovPFxcL1tcXHNcXHc6XSs+JC8sYmxvY2tDb21tZW50U3RhcnQ6XCJcXHgzYyEtLVwiLGJsb2NrQ29tbWVudEVuZDpcIi0tXFx4M2VcIixjb25maWd1cmF0aW9uOmwuaHRtbE1vZGU/XCJodG1sXCI6XCJ4bWxcIixoZWxwZXJUeXBlOmwuaHRtbE1vZGU/XCJodG1sXCI6XCJ4bWxcIixza2lwQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3Quc3RhdGU9PV8mJih0LnN0YXRlPUMpfSx4bWxDdXJyZW50VGFnOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRhZ05hbWU/e25hbWU6dC50YWdOYW1lLGNsb3NlOlwiY2xvc2VUYWdcIj09dC50eXBlfTpudWxsfSx4bWxDdXJyZW50Q29udGV4dDpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10LmNvbnRleHQ7bjtuPW4ucHJldiluLnRhZ05hbWUmJmUucHVzaChuLnRhZ05hbWUpO3JldHVybiBlLnJldmVyc2UoKX19fSksdC5kZWZpbmVNSU1FKFwidGV4dC94bWxcIixcInhtbFwiKSx0LmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94bWxcIixcInhtbFwiKSx0Lm1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShcInRleHQvaHRtbFwiKXx8dC5kZWZpbmVNSU1FKFwidGV4dC9odG1sXCIse25hbWU6XCJ4bWxcIixodG1sTW9kZTohMH0pfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXt2YXIgZT0vTVNJRSBcXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fGRvY3VtZW50LmRvY3VtZW50TW9kZTw4KSxuPXQuUG9zLHI9e1wiKFwiOlwiKT5cIixcIilcIjpcIig8XCIsXCJbXCI6XCJdPlwiLFwiXVwiOlwiWzxcIixcIntcIjpcIn0+XCIsXCJ9XCI6XCJ7PFwiLFwiPFwiOlwiPj5cIixcIj5cIjpcIjw8XCJ9O2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQmJnQuYnJhY2tldFJlZ2V4fHwvWygpe31bXFxdXS99ZnVuY3Rpb24gbyh0LGUsbyl7dmFyIHM9dC5nZXRMaW5lSGFuZGxlKGUubGluZSksbD1lLmNoLTEsYz1vJiZvLmFmdGVyQ3Vyc29yO251bGw9PWMmJihjPS8oXnwgKWNtLWZhdC1jdXJzb3IoJHwgKS8udGVzdCh0LmdldFdyYXBwZXJFbGVtZW50KCkuY2xhc3NOYW1lKSk7dmFyIHU9aShvKSxmPSFjJiZsPj0wJiZ1LnRlc3Qocy50ZXh0LmNoYXJBdChsKSkmJnJbcy50ZXh0LmNoYXJBdChsKV18fHUudGVzdChzLnRleHQuY2hhckF0KGwrMSkpJiZyW3MudGV4dC5jaGFyQXQoKytsKV07aWYoIWYpcmV0dXJuIG51bGw7dmFyIGQ9XCI+XCI9PWYuY2hhckF0KDEpPzE6LTE7aWYobyYmby5zdHJpY3QmJmQ+MCE9KGw9PWUuY2gpKXJldHVybiBudWxsO3ZhciBoPXQuZ2V0VG9rZW5UeXBlQXQobihlLmxpbmUsbCsxKSkscD1hKHQsbihlLmxpbmUsbCsoZD4wPzE6MCkpLGQsaHx8bnVsbCxvKTtyZXR1cm4gbnVsbD09cD9udWxsOntmcm9tOm4oZS5saW5lLGwpLHRvOnAmJnAucG9zLG1hdGNoOnAmJnAuY2g9PWYuY2hhckF0KDApLGZvcndhcmQ6ZD4wfX1mdW5jdGlvbiBhKHQsZSxvLGEscyl7Zm9yKHZhciBsPXMmJnMubWF4U2NhbkxpbmVMZW5ndGh8fDFlNCxjPXMmJnMubWF4U2NhbkxpbmVzfHwxZTMsdT1bXSxmPWkocyksZD1vPjA/TWF0aC5taW4oZS5saW5lK2MsdC5sYXN0TGluZSgpKzEpOk1hdGgubWF4KHQuZmlyc3RMaW5lKCktMSxlLmxpbmUtYyksaD1lLmxpbmU7aCE9ZDtoKz1vKXt2YXIgcD10LmdldExpbmUoaCk7aWYocCl7dmFyIG09bz4wPzA6cC5sZW5ndGgtMSxnPW8+MD9wLmxlbmd0aDotMTtpZighKHAubGVuZ3RoPmwpKWZvcihoPT1lLmxpbmUmJihtPWUuY2gtKG88MD8xOjApKTttIT1nO20rPW8pe3ZhciB2PXAuY2hhckF0KG0pO2lmKGYudGVzdCh2KSYmKHZvaWQgMD09PWF8fHQuZ2V0VG9rZW5UeXBlQXQobihoLG0rMSkpPT1hKSl7dmFyIHk9clt2XTtpZih5JiZcIj5cIj09eS5jaGFyQXQoMSk9PW8+MCl1LnB1c2godik7ZWxzZXtpZighdS5sZW5ndGgpcmV0dXJue3BvczpuKGgsbSksY2g6dn07dS5wb3AoKX19fX19cmV0dXJuIGgtbyE9KG8+MD90Lmxhc3RMaW5lKCk6dC5maXJzdExpbmUoKSkmJm51bGx9ZnVuY3Rpb24gcyh0LHIsaSl7Zm9yKHZhciBhPXQuc3RhdGUubWF0Y2hCcmFja2V0cy5tYXhIaWdobGlnaHRMaW5lTGVuZ3RofHwxZTMscz1bXSxsPXQubGlzdFNlbGVjdGlvbnMoKSxjPTA7YzxsLmxlbmd0aDtjKyspe3ZhciB1PWxbY10uZW1wdHkoKSYmbyh0LGxbY10uaGVhZCxpKTtpZih1JiZ0LmdldExpbmUodS5mcm9tLmxpbmUpLmxlbmd0aDw9YSl7dmFyIGY9dS5tYXRjaD9cIkNvZGVNaXJyb3ItbWF0Y2hpbmdicmFja2V0XCI6XCJDb2RlTWlycm9yLW5vbm1hdGNoaW5nYnJhY2tldFwiO3MucHVzaCh0Lm1hcmtUZXh0KHUuZnJvbSxuKHUuZnJvbS5saW5lLHUuZnJvbS5jaCsxKSx7Y2xhc3NOYW1lOmZ9KSksdS50byYmdC5nZXRMaW5lKHUudG8ubGluZSkubGVuZ3RoPD1hJiZzLnB1c2godC5tYXJrVGV4dCh1LnRvLG4odS50by5saW5lLHUudG8uY2grMSkse2NsYXNzTmFtZTpmfSkpfX1pZihzLmxlbmd0aCl7ZSYmdC5zdGF0ZS5mb2N1c2VkJiZ0LmZvY3VzKCk7dmFyIGQ9ZnVuY3Rpb24oKXt0Lm9wZXJhdGlvbihmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8cy5sZW5ndGg7dCsrKXNbdF0uY2xlYXIoKX0pfTtpZighcilyZXR1cm4gZDtzZXRUaW1lb3V0KGQsODAwKX19ZnVuY3Rpb24gbCh0KXt0Lm9wZXJhdGlvbihmdW5jdGlvbigpe3Quc3RhdGUubWF0Y2hCcmFja2V0cy5jdXJyZW50bHlIaWdobGlnaHRlZCYmKHQuc3RhdGUubWF0Y2hCcmFja2V0cy5jdXJyZW50bHlIaWdobGlnaHRlZCgpLHQuc3RhdGUubWF0Y2hCcmFja2V0cy5jdXJyZW50bHlIaWdobGlnaHRlZD1udWxsKSx0LnN0YXRlLm1hdGNoQnJhY2tldHMuY3VycmVudGx5SGlnaGxpZ2h0ZWQ9cyh0LCExLHQuc3RhdGUubWF0Y2hCcmFja2V0cyl9KX10LmRlZmluZU9wdGlvbihcIm1hdGNoQnJhY2tldHNcIiwhMSxmdW5jdGlvbihlLG4scil7ciYmciE9dC5Jbml0JiYoZS5vZmYoXCJjdXJzb3JBY3Rpdml0eVwiLGwpLGUuc3RhdGUubWF0Y2hCcmFja2V0cyYmZS5zdGF0ZS5tYXRjaEJyYWNrZXRzLmN1cnJlbnRseUhpZ2hsaWdodGVkJiYoZS5zdGF0ZS5tYXRjaEJyYWNrZXRzLmN1cnJlbnRseUhpZ2hsaWdodGVkKCksZS5zdGF0ZS5tYXRjaEJyYWNrZXRzLmN1cnJlbnRseUhpZ2hsaWdodGVkPW51bGwpKSxuJiYoZS5zdGF0ZS5tYXRjaEJyYWNrZXRzPVwib2JqZWN0XCI9PXR5cGVvZiBuP246e30sZS5vbihcImN1cnNvckFjdGl2aXR5XCIsbCkpfSksdC5kZWZpbmVFeHRlbnNpb24oXCJtYXRjaEJyYWNrZXRzXCIsZnVuY3Rpb24oKXtzKHRoaXMsITApfSksdC5kZWZpbmVFeHRlbnNpb24oXCJmaW5kTWF0Y2hpbmdCcmFja2V0XCIsZnVuY3Rpb24odCxlLG4pe3JldHVybihufHxcImJvb2xlYW5cIj09dHlwZW9mIGUpJiYobj8obi5zdHJpY3Q9ZSxlPW4pOmU9ZT97c3RyaWN0OiEwfTpudWxsKSxvKHRoaXMsdCxlKX0pLHQuZGVmaW5lRXh0ZW5zaW9uKFwic2NhbkZvckJyYWNrZXRcIixmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gYSh0aGlzLHQsZSxuLHIpfSl9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe3ZhciBlPXtwYWlyczpcIigpW117fScnXFxcIlxcXCJcIixjbG9zZUJlZm9yZTpcIildfSdcXFwiOjs+XCIsdHJpcGxlczpcIlwiLGV4cGxvZGU6XCJbXXt9XCJ9LG49dC5Qb3M7ZnVuY3Rpb24gcih0LG4pe3JldHVyblwicGFpcnNcIj09biYmXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9dFtuXT90W25dOmVbbl19dC5kZWZpbmVPcHRpb24oXCJhdXRvQ2xvc2VCcmFja2V0c1wiLCExLGZ1bmN0aW9uKGUsbixhKXthJiZhIT10LkluaXQmJihlLnJlbW92ZUtleU1hcChpKSxlLnN0YXRlLmNsb3NlQnJhY2tldHM9bnVsbCksbiYmKG8ocihuLFwicGFpcnNcIikpLGUuc3RhdGUuY2xvc2VCcmFja2V0cz1uLGUuYWRkS2V5TWFwKGkpKX0pO3ZhciBpPXtCYWNrc3BhY2U6ZnVuY3Rpb24oZSl7dmFyIGk9cyhlKTtpZighaXx8ZS5nZXRPcHRpb24oXCJkaXNhYmxlSW5wdXRcIikpcmV0dXJuIHQuUGFzcztmb3IodmFyIG89cihpLFwicGFpcnNcIiksYT1lLmxpc3RTZWxlY3Rpb25zKCksYz0wO2M8YS5sZW5ndGg7YysrKXtpZighYVtjXS5lbXB0eSgpKXJldHVybiB0LlBhc3M7dmFyIHU9bChlLGFbY10uaGVhZCk7aWYoIXV8fG8uaW5kZXhPZih1KSUyIT0wKXJldHVybiB0LlBhc3N9Zm9yKHZhciBjPWEubGVuZ3RoLTE7Yz49MDtjLS0pe3ZhciBmPWFbY10uaGVhZDtlLnJlcGxhY2VSYW5nZShcIlwiLG4oZi5saW5lLGYuY2gtMSksbihmLmxpbmUsZi5jaCsxKSxcIitkZWxldGVcIil9fSxFbnRlcjpmdW5jdGlvbihlKXt2YXIgbj1zKGUpLGk9biYmcihuLFwiZXhwbG9kZVwiKTtpZighaXx8ZS5nZXRPcHRpb24oXCJkaXNhYmxlSW5wdXRcIikpcmV0dXJuIHQuUGFzcztmb3IodmFyIG89ZS5saXN0U2VsZWN0aW9ucygpLGE9MDthPG8ubGVuZ3RoO2ErKyl7aWYoIW9bYV0uZW1wdHkoKSlyZXR1cm4gdC5QYXNzO3ZhciBjPWwoZSxvW2FdLmhlYWQpO2lmKCFjfHxpLmluZGV4T2YoYyklMiE9MClyZXR1cm4gdC5QYXNzfWUub3BlcmF0aW9uKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5saW5lU2VwYXJhdG9yKCl8fFwiXFxuXCI7ZS5yZXBsYWNlU2VsZWN0aW9uKHQrdCxudWxsKSxlLmV4ZWNDb21tYW5kKFwiZ29DaGFyTGVmdFwiKSxvPWUubGlzdFNlbGVjdGlvbnMoKTtmb3IodmFyIG49MDtuPG8ubGVuZ3RoO24rKyl7dmFyIHI9b1tuXS5oZWFkLmxpbmU7ZS5pbmRlbnRMaW5lKHIsbnVsbCwhMCksZS5pbmRlbnRMaW5lKHIrMSxudWxsLCEwKX19KX19O2Z1bmN0aW9uIG8odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBuPXQuY2hhckF0KGUpLHI9XCInXCIrbitcIidcIjtpW3JdfHwoaVtyXT1hKG4pKX19ZnVuY3Rpb24gYShlKXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKGUsaSl7dmFyIG89cyhlKTtpZighb3x8ZS5nZXRPcHRpb24oXCJkaXNhYmxlSW5wdXRcIikpcmV0dXJuIHQuUGFzczt2YXIgYT1yKG8sXCJwYWlyc1wiKSxsPWEuaW5kZXhPZihpKTtpZigtMT09bClyZXR1cm4gdC5QYXNzO2Zvcih2YXIgdSxmPXIobyxcImNsb3NlQmVmb3JlXCIpLGQ9cihvLFwidHJpcGxlc1wiKSxoPWEuY2hhckF0KGwrMSk9PWkscD1lLmxpc3RTZWxlY3Rpb25zKCksbT1sJTI9PTAsZz0wO2c8cC5sZW5ndGg7ZysrKXt2YXIgdix5PXBbZ10sYj15LmhlYWQseD1lLmdldFJhbmdlKGIsbihiLmxpbmUsYi5jaCsxKSk7aWYobSYmIXkuZW1wdHkoKSl2PVwic3Vycm91bmRcIjtlbHNlIGlmKCFoJiZtfHx4IT1pKWlmKGgmJmIuY2g+MSYmZC5pbmRleE9mKGkpPj0wJiZlLmdldFJhbmdlKG4oYi5saW5lLGIuY2gtMiksYik9PWkraSl7aWYoYi5jaD4yJiYvXFxic3RyaW5nLy50ZXN0KGUuZ2V0VG9rZW5UeXBlQXQobihiLmxpbmUsYi5jaC0yKSkpKXJldHVybiB0LlBhc3M7dj1cImFkZEZvdXJcIn1lbHNlIGlmKGgpe3ZhciB3PTA9PWIuY2g/XCIgXCI6ZS5nZXRSYW5nZShuKGIubGluZSxiLmNoLTEpLGIpO2lmKHQuaXNXb3JkQ2hhcih4KXx8dz09aXx8dC5pc1dvcmRDaGFyKHcpKXJldHVybiB0LlBhc3M7dj1cImJvdGhcIn1lbHNle2lmKCFtfHwhKDA9PT14Lmxlbmd0aHx8L1xccy8udGVzdCh4KXx8Zi5pbmRleE9mKHgpPi0xKSlyZXR1cm4gdC5QYXNzO3Y9XCJib3RoXCJ9ZWxzZSB2PWgmJmMoZSxiKT9cImJvdGhcIjpkLmluZGV4T2YoaSk+PTAmJmUuZ2V0UmFuZ2UoYixuKGIubGluZSxiLmNoKzMpKT09aStpK2k/XCJza2lwVGhyZWVcIjpcInNraXBcIjtpZih1KXtpZih1IT12KXJldHVybiB0LlBhc3N9ZWxzZSB1PXZ9dmFyIEM9bCUyP2EuY2hhckF0KGwtMSk6aSxrPWwlMj9pOmEuY2hhckF0KGwrMSk7ZS5vcGVyYXRpb24oZnVuY3Rpb24oKXtpZihcInNraXBcIj09dSllLmV4ZWNDb21tYW5kKFwiZ29DaGFyUmlnaHRcIik7ZWxzZSBpZihcInNraXBUaHJlZVwiPT11KWZvcih2YXIgcj0wO3I8MztyKyspZS5leGVjQ29tbWFuZChcImdvQ2hhclJpZ2h0XCIpO2Vsc2UgaWYoXCJzdXJyb3VuZFwiPT11KXtmb3IodmFyIGk9ZS5nZXRTZWxlY3Rpb25zKCkscj0wO3I8aS5sZW5ndGg7cisrKWlbcl09QytpW3JdK2s7ZS5yZXBsYWNlU2VsZWN0aW9ucyhpLFwiYXJvdW5kXCIpLGk9ZS5saXN0U2VsZWN0aW9ucygpLnNsaWNlKCk7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspaVtyXT0obz1pW3JdLGE9dm9pZCAwLGE9dC5jbXBQb3Moby5hbmNob3Isby5oZWFkKT4wLHthbmNob3I6bmV3IG4oby5hbmNob3IubGluZSxvLmFuY2hvci5jaCsoYT8tMToxKSksaGVhZDpuZXcgbihvLmhlYWQubGluZSxvLmhlYWQuY2grKGE/MTotMSkpfSk7ZS5zZXRTZWxlY3Rpb25zKGkpfWVsc2VcImJvdGhcIj09dT8oZS5yZXBsYWNlU2VsZWN0aW9uKEMrayxudWxsKSxlLnRyaWdnZXJFbGVjdHJpYyhDK2spLGUuZXhlY0NvbW1hbmQoXCJnb0NoYXJMZWZ0XCIpKTpcImFkZEZvdXJcIj09dSYmKGUucmVwbGFjZVNlbGVjdGlvbihDK0MrQytDLFwiYmVmb3JlXCIpLGUuZXhlY0NvbW1hbmQoXCJnb0NoYXJSaWdodFwiKSk7dmFyIG8sYX0pfShpLGUpfX1mdW5jdGlvbiBzKHQpe3ZhciBlPXQuc3RhdGUuY2xvc2VCcmFja2V0cztpZighZXx8ZS5vdmVycmlkZSlyZXR1cm4gZTt2YXIgbj10LmdldE1vZGVBdCh0LmdldEN1cnNvcigpKTtyZXR1cm4gbi5jbG9zZUJyYWNrZXRzfHxlfWZ1bmN0aW9uIGwodCxlKXt2YXIgcj10LmdldFJhbmdlKG4oZS5saW5lLGUuY2gtMSksbihlLmxpbmUsZS5jaCsxKSk7cmV0dXJuIDI9PXIubGVuZ3RoP3I6bnVsbH1mdW5jdGlvbiBjKHQsZSl7dmFyIHI9dC5nZXRUb2tlbkF0KG4oZS5saW5lLGUuY2grMSkpO3JldHVybi9cXGJzdHJpbmcvLnRlc3Qoci50eXBlKSYmci5zdGFydD09ZS5jaCYmKDA9PWUuY2h8fCEvXFxic3RyaW5nLy50ZXN0KHQuZ2V0VG9rZW5UeXBlQXQoZSkpKX1vKGUucGFpcnMrXCJgXCIpfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT17fSxuPS9bXlxcc1xcdTAwYTBdLyxyPXQuUG9zO2Z1bmN0aW9uIGkodCl7dmFyIGU9dC5zZWFyY2gobik7cmV0dXJuLTE9PWU/MDplfWZ1bmN0aW9uIG8odCxlKXt2YXIgbj10LmdldE1vZGUoKTtyZXR1cm4hMSE9PW4udXNlSW5uZXJDb21tZW50cyYmbi5pbm5lck1vZGU/dC5nZXRNb2RlQXQoZSk6bn10LmNvbW1hbmRzLnRvZ2dsZUNvbW1lbnQ9ZnVuY3Rpb24odCl7dC50b2dnbGVDb21tZW50KCl9LHQuZGVmaW5lRXh0ZW5zaW9uKFwidG9nZ2xlQ29tbWVudFwiLGZ1bmN0aW9uKHQpe3R8fCh0PWUpO2Zvcih2YXIgbj0xLzAsaT10aGlzLmxpc3RTZWxlY3Rpb25zKCksbz1udWxsLGE9aS5sZW5ndGgtMTthPj0wO2EtLSl7dmFyIHM9aVthXS5mcm9tKCksbD1pW2FdLnRvKCk7cy5saW5lPj1ufHwobC5saW5lPj1uJiYobD1yKG4sMCkpLG49cy5saW5lLG51bGw9PW8/dGhpcy51bmNvbW1lbnQocyxsLHQpP289XCJ1blwiOih0aGlzLmxpbmVDb21tZW50KHMsbCx0KSxvPVwibGluZVwiKTpcInVuXCI9PW8/dGhpcy51bmNvbW1lbnQocyxsLHQpOnRoaXMubGluZUNvbW1lbnQocyxsLHQpKX19KSx0LmRlZmluZUV4dGVuc2lvbihcImxpbmVDb21tZW50XCIsZnVuY3Rpb24odCxhLHMpe3N8fChzPWUpO3ZhciBsPXRoaXMsYz1vKGwsdCksdT1sLmdldExpbmUodC5saW5lKTtpZihudWxsIT11JiYoZj10LGQ9dSwhL1xcYnN0cmluZ1xcYi8udGVzdChsLmdldFRva2VuVHlwZUF0KHIoZi5saW5lLDApKSl8fC9eW1xcJ1xcXCJcXGBdLy50ZXN0KGQpKSl7dmFyIGYsZCxoPXMubGluZUNvbW1lbnR8fGMubGluZUNvbW1lbnQ7aWYoaCl7dmFyIHA9TWF0aC5taW4oMCE9YS5jaHx8YS5saW5lPT10LmxpbmU/YS5saW5lKzE6YS5saW5lLGwubGFzdExpbmUoKSsxKSxtPW51bGw9PXMucGFkZGluZz9cIiBcIjpzLnBhZGRpbmcsZz1zLmNvbW1lbnRCbGFua0xpbmVzfHx0LmxpbmU9PWEubGluZTtsLm9wZXJhdGlvbihmdW5jdGlvbigpe2lmKHMuaW5kZW50KXtmb3IodmFyIGU9bnVsbCxvPXQubGluZTtvPHA7KytvKXt2YXIgYT1sLmdldExpbmUobyksYz1hLnNsaWNlKDAsaShhKSk7KG51bGw9PWV8fGUubGVuZ3RoPmMubGVuZ3RoKSYmKGU9Yyl9Zm9yKHZhciBvPXQubGluZTtvPHA7KytvKXt2YXIgYT1sLmdldExpbmUobyksdT1lLmxlbmd0aDsoZ3x8bi50ZXN0KGEpKSYmKGEuc2xpY2UoMCx1KSE9ZSYmKHU9aShhKSksbC5yZXBsYWNlUmFuZ2UoZStoK20scihvLDApLHIobyx1KSkpfX1lbHNlIGZvcih2YXIgbz10LmxpbmU7bzxwOysrbykoZ3x8bi50ZXN0KGwuZ2V0TGluZShvKSkpJiZsLnJlcGxhY2VSYW5nZShoK20scihvLDApKX0pfWVsc2Uocy5ibG9ja0NvbW1lbnRTdGFydHx8Yy5ibG9ja0NvbW1lbnRTdGFydCkmJihzLmZ1bGxMaW5lcz0hMCxsLmJsb2NrQ29tbWVudCh0LGEscykpfX0pLHQuZGVmaW5lRXh0ZW5zaW9uKFwiYmxvY2tDb21tZW50XCIsZnVuY3Rpb24odCxpLGEpe2F8fChhPWUpO3ZhciBzPXRoaXMsbD1vKHMsdCksYz1hLmJsb2NrQ29tbWVudFN0YXJ0fHxsLmJsb2NrQ29tbWVudFN0YXJ0LHU9YS5ibG9ja0NvbW1lbnRFbmR8fGwuYmxvY2tDb21tZW50RW5kO2lmKGMmJnUpe2lmKCEvXFxiY29tbWVudFxcYi8udGVzdChzLmdldFRva2VuVHlwZUF0KHIodC5saW5lLDApKSkpe3ZhciBmPU1hdGgubWluKGkubGluZSxzLmxhc3RMaW5lKCkpO2YhPXQubGluZSYmMD09aS5jaCYmbi50ZXN0KHMuZ2V0TGluZShmKSkmJi0tZjt2YXIgZD1udWxsPT1hLnBhZGRpbmc/XCIgXCI6YS5wYWRkaW5nO3QubGluZT5mfHxzLm9wZXJhdGlvbihmdW5jdGlvbigpe2lmKDAhPWEuZnVsbExpbmVzKXt2YXIgZT1uLnRlc3Qocy5nZXRMaW5lKGYpKTtzLnJlcGxhY2VSYW5nZShkK3UscihmKSkscy5yZXBsYWNlUmFuZ2UoYytkLHIodC5saW5lLDApKTt2YXIgbz1hLmJsb2NrQ29tbWVudExlYWR8fGwuYmxvY2tDb21tZW50TGVhZDtpZihudWxsIT1vKWZvcih2YXIgaD10LmxpbmUrMTtoPD1mOysraCkoaCE9Znx8ZSkmJnMucmVwbGFjZVJhbmdlKG8rZCxyKGgsMCkpfWVsc2Ugcy5yZXBsYWNlUmFuZ2UodSxpKSxzLnJlcGxhY2VSYW5nZShjLHQpfSl9fWVsc2UoYS5saW5lQ29tbWVudHx8bC5saW5lQ29tbWVudCkmJjAhPWEuZnVsbExpbmVzJiZzLmxpbmVDb21tZW50KHQsaSxhKX0pLHQuZGVmaW5lRXh0ZW5zaW9uKFwidW5jb21tZW50XCIsZnVuY3Rpb24odCxpLGEpe2F8fChhPWUpO3ZhciBzLGw9dGhpcyxjPW8obCx0KSx1PU1hdGgubWluKDAhPWkuY2h8fGkubGluZT09dC5saW5lP2kubGluZTppLmxpbmUtMSxsLmxhc3RMaW5lKCkpLGY9TWF0aC5taW4odC5saW5lLHUpLGQ9YS5saW5lQ29tbWVudHx8Yy5saW5lQ29tbWVudCxoPVtdLHA9bnVsbD09YS5wYWRkaW5nP1wiIFwiOmEucGFkZGluZzt0OmlmKGQpe2Zvcih2YXIgbT1mO208PXU7KyttKXt2YXIgZz1sLmdldExpbmUobSksdj1nLmluZGV4T2YoZCk7aWYodj4tMSYmIS9jb21tZW50Ly50ZXN0KGwuZ2V0VG9rZW5UeXBlQXQocihtLHYrMSkpKSYmKHY9LTEpLC0xPT12JiZuLnRlc3QoZykpYnJlYWsgdDtpZih2Pi0xJiZuLnRlc3QoZy5zbGljZSgwLHYpKSlicmVhayB0O2gucHVzaChnKX1pZihsLm9wZXJhdGlvbihmdW5jdGlvbigpe2Zvcih2YXIgdD1mO3Q8PXU7Kyt0KXt2YXIgZT1oW3QtZl0sbj1lLmluZGV4T2YoZCksaT1uK2QubGVuZ3RoO248MHx8KGUuc2xpY2UoaSxpK3AubGVuZ3RoKT09cCYmKGkrPXAubGVuZ3RoKSxzPSEwLGwucmVwbGFjZVJhbmdlKFwiXCIscih0LG4pLHIodCxpKSkpfX0pLHMpcmV0dXJuITB9dmFyIHk9YS5ibG9ja0NvbW1lbnRTdGFydHx8Yy5ibG9ja0NvbW1lbnRTdGFydCxiPWEuYmxvY2tDb21tZW50RW5kfHxjLmJsb2NrQ29tbWVudEVuZDtpZigheXx8IWIpcmV0dXJuITE7dmFyIHg9YS5ibG9ja0NvbW1lbnRMZWFkfHxjLmJsb2NrQ29tbWVudExlYWQsdz1sLmdldExpbmUoZiksQz13LmluZGV4T2YoeSk7aWYoLTE9PUMpcmV0dXJuITE7dmFyIGs9dT09Zj93OmwuZ2V0TGluZSh1KSxfPWsuaW5kZXhPZihiLHU9PWY/Qyt5Lmxlbmd0aDowKSxTPXIoZixDKzEpLEU9cih1LF8rMSk7aWYoLTE9PV98fCEvY29tbWVudC8udGVzdChsLmdldFRva2VuVHlwZUF0KFMpKXx8IS9jb21tZW50Ly50ZXN0KGwuZ2V0VG9rZW5UeXBlQXQoRSkpfHxsLmdldFJhbmdlKFMsRSxcIlxcblwiKS5pbmRleE9mKGIpPi0xKXJldHVybiExO3ZhciBUPXcubGFzdEluZGV4T2YoeSx0LmNoKSxPPS0xPT1UPy0xOncuc2xpY2UoMCx0LmNoKS5pbmRleE9mKGIsVCt5Lmxlbmd0aCk7aWYoLTEhPVQmJi0xIT1PJiZPK2IubGVuZ3RoIT10LmNoKXJldHVybiExO089ay5pbmRleE9mKGIsaS5jaCk7dmFyIE09ay5zbGljZShpLmNoKS5sYXN0SW5kZXhPZih5LE8taS5jaCk7cmV0dXJuIFQ9LTE9PU98fC0xPT1NPy0xOmkuY2grTSwoLTE9PU98fC0xPT1UfHxUPT1pLmNoKSYmKGwub3BlcmF0aW9uKGZ1bmN0aW9uKCl7bC5yZXBsYWNlUmFuZ2UoXCJcIixyKHUsXy0ocCYmay5zbGljZShfLXAubGVuZ3RoLF8pPT1wP3AubGVuZ3RoOjApKSxyKHUsXytiLmxlbmd0aCkpO3ZhciB0PUMreS5sZW5ndGg7aWYocCYmdy5zbGljZSh0LHQrcC5sZW5ndGgpPT1wJiYodCs9cC5sZW5ndGgpLGwucmVwbGFjZVJhbmdlKFwiXCIscihmLEMpLHIoZix0KSkseClmb3IodmFyIGU9ZisxO2U8PXU7KytlKXt2YXIgaT1sLmdldExpbmUoZSksbz1pLmluZGV4T2YoeCk7aWYoLTEhPW8mJiFuLnRlc3QoaS5zbGljZSgwLG8pKSl7dmFyIGE9byt4Lmxlbmd0aDtwJiZpLnNsaWNlKGEsYStwLmxlbmd0aCk9PXAmJihhKz1wLmxlbmd0aCksbC5yZXBsYWNlUmFuZ2UoXCJcIixyKGUsbykscihlLGEpKX19fSksITApfSl9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7aWYoZS5nZXRPcHRpb24oXCJkaXNhYmxlSW5wdXRcIikpcmV0dXJuIHQuUGFzcztmb3IodmFyIHIsaT1lLmxpc3RTZWxlY3Rpb25zKCksbz1bXSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBzPWlbYV0uaGVhZDtpZighL1xcYmNvbW1lbnRcXGIvLnRlc3QoZS5nZXRUb2tlblR5cGVBdChzKSkpcmV0dXJuIHQuUGFzczt2YXIgbD1lLmdldE1vZGVBdChzKTtpZihyKXtpZihyIT1sKXJldHVybiB0LlBhc3N9ZWxzZSByPWw7dmFyIGM9bnVsbDtpZihyLmJsb2NrQ29tbWVudFN0YXJ0JiZyLmJsb2NrQ29tbWVudENvbnRpbnVlKXt2YXIgdT1lLmdldExpbmUocy5saW5lKS5zbGljZSgwLHMuY2gpLGY9dS5sYXN0SW5kZXhPZihyLmJsb2NrQ29tbWVudEVuZCk7aWYoLTEhPWYmJmY9PXMuY2gtci5ibG9ja0NvbW1lbnRFbmQubGVuZ3RoKTtlbHNlIGlmKChoPXUubGFzdEluZGV4T2Yoci5ibG9ja0NvbW1lbnRTdGFydCkpPi0xJiZoPmYpe2lmKGM9dS5zbGljZSgwLGgpLC9cXFMvLnRlc3QoYykpe2M9XCJcIjtmb3IodmFyIGQ9MDtkPGg7KytkKWMrPVwiIFwifX1lbHNlKGg9dS5pbmRleE9mKHIuYmxvY2tDb21tZW50Q29udGludWUpKT4tMSYmIS9cXFMvLnRlc3QodS5zbGljZSgwLGgpKSYmKGM9dS5zbGljZSgwLGgpKTtudWxsIT1jJiYoYys9ci5ibG9ja0NvbW1lbnRDb250aW51ZSl9aWYobnVsbD09YyYmci5saW5lQ29tbWVudCYmbihlKSl7dmFyIHU9ZS5nZXRMaW5lKHMubGluZSksaD11LmluZGV4T2Yoci5saW5lQ29tbWVudCk7aD4tMSYmKGM9dS5zbGljZSgwLGgpLC9cXFMvLnRlc3QoYyk/Yz1udWxsOmMrPXIubGluZUNvbW1lbnQrdS5zbGljZShoK3IubGluZUNvbW1lbnQubGVuZ3RoKS5tYXRjaCgvXlxccyovKVswXSl9aWYobnVsbD09YylyZXR1cm4gdC5QYXNzO29bYV09XCJcXG5cIitjfWUub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWkubGVuZ3RoLTE7dD49MDt0LS0pZS5yZXBsYWNlUmFuZ2Uob1t0XSxpW3RdLmZyb20oKSxpW3RdLnRvKCksXCIraW5zZXJ0XCIpfSl9ZnVuY3Rpb24gbih0KXt2YXIgZT10LmdldE9wdGlvbihcImNvbnRpbnVlQ29tbWVudHNcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhMSE9PWUuY29udGludWVMaW5lQ29tbWVudH10LmRlZmluZU9wdGlvbihcImNvbnRpbnVlQ29tbWVudHNcIixudWxsLGZ1bmN0aW9uKG4scixpKXtpZihpJiZpIT10LkluaXQmJm4ucmVtb3ZlS2V5TWFwKFwiY29udGludWVDb21tZW50XCIpLHIpe3ZhciBvPVwiRW50ZXJcIjtcInN0cmluZ1wiPT10eXBlb2Ygcj9vPXI6XCJvYmplY3RcIj09dHlwZW9mIHImJnIua2V5JiYobz1yLmtleSk7dmFyIGE9e25hbWU6XCJjb250aW51ZUNvbW1lbnRcIn07YVtvXT1lLG4uYWRkS2V5TWFwKGEpfX0pfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt0LmRlZmluZU1vZGUoXCJqYXZhc2NyaXB0XCIsZnVuY3Rpb24oZSxuKXt2YXIgcixpLG89ZS5pbmRlbnRVbml0LGE9bi5zdGF0ZW1lbnRJbmRlbnQscz1uLmpzb25sZCxsPW4uanNvbnx8cyxjPW4udHlwZXNjcmlwdCx1PW4ud29yZENoYXJhY3RlcnN8fC9bXFx3JFxceGExLVxcdWZmZmZdLyxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtyZXR1cm57dHlwZTp0LHN0eWxlOlwia2V5d29yZFwifX12YXIgZT10KFwia2V5d29yZCBhXCIpLG49dChcImtleXdvcmQgYlwiKSxyPXQoXCJrZXl3b3JkIGNcIiksaT10KFwia2V5d29yZCBkXCIpLG89dChcIm9wZXJhdG9yXCIpLGE9e3R5cGU6XCJhdG9tXCIsc3R5bGU6XCJhdG9tXCJ9O3JldHVybntpZjp0KFwiaWZcIiksd2hpbGU6ZSx3aXRoOmUsZWxzZTpuLGRvOm4sdHJ5Om4sZmluYWxseTpuLHJldHVybjppLGJyZWFrOmksY29udGludWU6aSxuZXc6dChcIm5ld1wiKSxkZWxldGU6cix2b2lkOnIsdGhyb3c6cixkZWJ1Z2dlcjp0KFwiZGVidWdnZXJcIiksdmFyOnQoXCJ2YXJcIiksY29uc3Q6dChcInZhclwiKSxsZXQ6dChcInZhclwiKSxmdW5jdGlvbjp0KFwiZnVuY3Rpb25cIiksY2F0Y2g6dChcImNhdGNoXCIpLGZvcjp0KFwiZm9yXCIpLHN3aXRjaDp0KFwic3dpdGNoXCIpLGNhc2U6dChcImNhc2VcIiksZGVmYXVsdDp0KFwiZGVmYXVsdFwiKSxpbjpvLHR5cGVvZjpvLGluc3RhbmNlb2Y6byx0cnVlOmEsZmFsc2U6YSxudWxsOmEsdW5kZWZpbmVkOmEsTmFOOmEsSW5maW5pdHk6YSx0aGlzOnQoXCJ0aGlzXCIpLGNsYXNzOnQoXCJjbGFzc1wiKSxzdXBlcjp0KFwiYXRvbVwiKSx5aWVsZDpyLGV4cG9ydDp0KFwiZXhwb3J0XCIpLGltcG9ydDp0KFwiaW1wb3J0XCIpLGV4dGVuZHM6cixhd2FpdDpyfX0oKSxkPS9bK1xcLSomJT08PiE/fH5eQF0vLGg9L15AKGNvbnRleHR8aWR8dmFsdWV8bGFuZ3VhZ2V8dHlwZXxjb250YWluZXJ8bGlzdHxzZXR8cmV2ZXJzZXxpbmRleHxiYXNlfHZvY2FifGdyYXBoKVwiLztmdW5jdGlvbiBwKHQsZSxuKXtyZXR1cm4gcj10LGk9bixlfWZ1bmN0aW9uIG0odCxlKXt2YXIgbixyPXQubmV4dCgpO2lmKCdcIic9PXJ8fFwiJ1wiPT1yKXJldHVybiBlLnRva2VuaXplPShuPXIsZnVuY3Rpb24odCxlKXt2YXIgcixpPSExO2lmKHMmJlwiQFwiPT10LnBlZWsoKSYmdC5tYXRjaChoKSlyZXR1cm4gZS50b2tlbml6ZT1tLHAoXCJqc29ubGQta2V5d29yZFwiLFwibWV0YVwiKTtmb3IoO251bGwhPShyPXQubmV4dCgpKSYmKHIhPW58fGkpOylpPSFpJiZcIlxcXFxcIj09cjtyZXR1cm4gaXx8KGUudG9rZW5pemU9bSkscChcInN0cmluZ1wiLFwic3RyaW5nXCIpfSksZS50b2tlbml6ZSh0LGUpO2lmKFwiLlwiPT1yJiZ0Lm1hdGNoKC9eXFxkW1xcZF9dKig/OltlRV1bK1xcLV0/W1xcZF9dKyk/LykpcmV0dXJuIHAoXCJudW1iZXJcIixcIm51bWJlclwiKTtpZihcIi5cIj09ciYmdC5tYXRjaChcIi4uXCIpKXJldHVybiBwKFwic3ByZWFkXCIsXCJtZXRhXCIpO2lmKC9bXFxbXFxde31cXChcXCksO1xcOlxcLl0vLnRlc3QocikpcmV0dXJuIHAocik7aWYoXCI9XCI9PXImJnQuZWF0KFwiPlwiKSlyZXR1cm4gcChcIj0+XCIsXCJvcGVyYXRvclwiKTtpZihcIjBcIj09ciYmdC5tYXRjaCgvXig/OnhbXFxkQS1GYS1mX10rfG9bMC03X10rfGJbMDFfXSspbj8vKSlyZXR1cm4gcChcIm51bWJlclwiLFwibnVtYmVyXCIpO2lmKC9cXGQvLnRlc3QocikpcmV0dXJuIHQubWF0Y2goL15bXFxkX10qKD86bnwoPzpcXC5bXFxkX10qKT8oPzpbZUVdWytcXC1dP1tcXGRfXSspPyk/LykscChcIm51bWJlclwiLFwibnVtYmVyXCIpO2lmKFwiL1wiPT1yKXJldHVybiB0LmVhdChcIipcIik/KGUudG9rZW5pemU9ZyxnKHQsZSkpOnQuZWF0KFwiL1wiKT8odC5za2lwVG9FbmQoKSxwKFwiY29tbWVudFwiLFwiY29tbWVudFwiKSk6cXQodCxlLDEpPyhmdW5jdGlvbih0KXtmb3IodmFyIGUsbj0hMSxyPSExO251bGwhPShlPXQubmV4dCgpKTspe2lmKCFuKXtpZihcIi9cIj09ZSYmIXIpcmV0dXJuO1wiW1wiPT1lP3I9ITA6ciYmXCJdXCI9PWUmJihyPSExKX1uPSFuJiZcIlxcXFxcIj09ZX19KHQpLHQubWF0Y2goL15cXGIoKFtnaW15dXNdKSg/IVtnaW15dXNdKlxcMikpK1xcYi8pLHAoXCJyZWdleHBcIixcInN0cmluZy0yXCIpKToodC5lYXQoXCI9XCIpLHAoXCJvcGVyYXRvclwiLFwib3BlcmF0b3JcIix0LmN1cnJlbnQoKSkpO2lmKFwiYFwiPT1yKXJldHVybiBlLnRva2VuaXplPXYsdih0LGUpO2lmKFwiI1wiPT1yKXJldHVybiB0LnNraXBUb0VuZCgpLHAoXCJlcnJvclwiLFwiZXJyb3JcIik7aWYoXCI8XCI9PXImJnQubWF0Y2goXCIhLS1cIil8fFwiLVwiPT1yJiZ0Lm1hdGNoKFwiLT5cIikpcmV0dXJuIHQuc2tpcFRvRW5kKCkscChcImNvbW1lbnRcIixcImNvbW1lbnRcIik7aWYoZC50ZXN0KHIpKXJldHVyblwiPlwiPT1yJiZlLmxleGljYWwmJlwiPlwiPT1lLmxleGljYWwudHlwZXx8KHQuZWF0KFwiPVwiKT9cIiFcIiE9ciYmXCI9XCIhPXJ8fHQuZWF0KFwiPVwiKTovWzw+KitcXC1dLy50ZXN0KHIpJiYodC5lYXQociksXCI+XCI9PXImJnQuZWF0KHIpKSkscChcIm9wZXJhdG9yXCIsXCJvcGVyYXRvclwiLHQuY3VycmVudCgpKTtpZih1LnRlc3Qocikpe3QuZWF0V2hpbGUodSk7dmFyIGk9dC5jdXJyZW50KCk7aWYoXCIuXCIhPWUubGFzdFR5cGUpe2lmKGYucHJvcGVydHlJc0VudW1lcmFibGUoaSkpe3ZhciBvPWZbaV07cmV0dXJuIHAoby50eXBlLG8uc3R5bGUsaSl9aWYoXCJhc3luY1wiPT1pJiZ0Lm1hdGNoKC9eKFxcc3xcXC9cXCouKj9cXCpcXC8pKltcXFtcXChcXHddLywhMSkpcmV0dXJuIHAoXCJhc3luY1wiLFwia2V5d29yZFwiLGkpfXJldHVybiBwKFwidmFyaWFibGVcIixcInZhcmlhYmxlXCIsaSl9fWZ1bmN0aW9uIGcodCxlKXtmb3IodmFyIG4scj0hMTtuPXQubmV4dCgpOyl7aWYoXCIvXCI9PW4mJnIpe2UudG9rZW5pemU9bTticmVha31yPVwiKlwiPT1ufXJldHVybiBwKFwiY29tbWVudFwiLFwiY29tbWVudFwiKX1mdW5jdGlvbiB2KHQsZSl7Zm9yKHZhciBuLHI9ITE7bnVsbCE9KG49dC5uZXh0KCkpOyl7aWYoIXImJihcImBcIj09bnx8XCIkXCI9PW4mJnQuZWF0KFwie1wiKSkpe2UudG9rZW5pemU9bTticmVha31yPSFyJiZcIlxcXFxcIj09bn1yZXR1cm4gcChcInF1YXNpXCIsXCJzdHJpbmctMlwiLHQuY3VycmVudCgpKX12YXIgeT1cIihbe31dKVwiO2Z1bmN0aW9uIGIodCxlKXtlLmZhdEFycm93QXQmJihlLmZhdEFycm93QXQ9bnVsbCk7dmFyIG49dC5zdHJpbmcuaW5kZXhPZihcIj0+XCIsdC5zdGFydCk7aWYoIShuPDApKXtpZihjKXt2YXIgcj0vOlxccyooPzpcXHcrKD86PFtePl0qPnxcXFtcXF0pP3xcXHtbXn1dKlxcfSlcXHMqJC8uZXhlYyh0LnN0cmluZy5zbGljZSh0LnN0YXJ0LG4pKTtyJiYobj1yLmluZGV4KX1mb3IodmFyIGk9MCxvPSExLGE9bi0xO2E+PTA7LS1hKXt2YXIgcz10LnN0cmluZy5jaGFyQXQoYSksbD15LmluZGV4T2Yocyk7aWYobD49MCYmbDwzKXtpZighaSl7KythO2JyZWFrfWlmKDA9PS0taSl7XCIoXCI9PXMmJihvPSEwKTticmVha319ZWxzZSBpZihsPj0zJiZsPDYpKytpO2Vsc2UgaWYodS50ZXN0KHMpKW89ITA7ZWxzZSBpZigvW1wiJ1xcL2BdLy50ZXN0KHMpKWZvcig7Oy0tYSl7aWYoMD09YSlyZXR1cm47dmFyIGY9dC5zdHJpbmcuY2hhckF0KGEtMSk7aWYoZj09cyYmXCJcXFxcXCIhPXQuc3RyaW5nLmNoYXJBdChhLTIpKXthLS07YnJlYWt9fWVsc2UgaWYobyYmIWkpeysrYTticmVha319byYmIWkmJihlLmZhdEFycm93QXQ9YSl9fXZhciB4PXthdG9tOiEwLG51bWJlcjohMCx2YXJpYWJsZTohMCxzdHJpbmc6ITAscmVnZXhwOiEwLHRoaXM6ITAsXCJqc29ubGQta2V5d29yZFwiOiEwfTtmdW5jdGlvbiB3KHQsZSxuLHIsaSxvKXt0aGlzLmluZGVudGVkPXQsdGhpcy5jb2x1bW49ZSx0aGlzLnR5cGU9bix0aGlzLnByZXY9aSx0aGlzLmluZm89byxudWxsIT1yJiYodGhpcy5hbGlnbj1yKX1mdW5jdGlvbiBDKHQsZSl7Zm9yKHZhciBuPXQubG9jYWxWYXJzO247bj1uLm5leHQpaWYobi5uYW1lPT1lKXJldHVybiEwO2Zvcih2YXIgcj10LmNvbnRleHQ7cjtyPXIucHJldilmb3IodmFyIG49ci52YXJzO247bj1uLm5leHQpaWYobi5uYW1lPT1lKXJldHVybiEwfXZhciBrPXtzdGF0ZTpudWxsLGNvbHVtbjpudWxsLG1hcmtlZDpudWxsLGNjOm51bGx9O2Z1bmN0aW9uIF8oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aC0xO3Q+PTA7dC0tKWsuY2MucHVzaChhcmd1bWVudHNbdF0pfWZ1bmN0aW9uIFMoKXtyZXR1cm4gXy5hcHBseShudWxsLGFyZ3VtZW50cyksITB9ZnVuY3Rpb24gRSh0LGUpe2Zvcih2YXIgbj1lO247bj1uLm5leHQpaWYobi5uYW1lPT10KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFQodCl7dmFyIGU9ay5zdGF0ZTtpZihrLm1hcmtlZD1cImRlZlwiLGUuY29udGV4dClpZihcInZhclwiPT1lLmxleGljYWwuaW5mbyYmZS5jb250ZXh0JiZlLmNvbnRleHQuYmxvY2spe3ZhciByPWZ1bmN0aW9uIHQoZSxuKXtpZihuKXtpZihuLmJsb2NrKXt2YXIgcj10KGUsbi5wcmV2KTtyZXR1cm4gcj9yPT1uLnByZXY/bjpuZXcgTShyLG4udmFycywhMCk6bnVsbH1yZXR1cm4gRShlLG4udmFycyk/bjpuZXcgTShuLnByZXYsbmV3IEwoZSxuLnZhcnMpLCExKX1yZXR1cm4gbnVsbH0odCxlLmNvbnRleHQpO2lmKG51bGwhPXIpcmV0dXJuIHZvaWQoZS5jb250ZXh0PXIpfWVsc2UgaWYoIUUodCxlLmxvY2FsVmFycykpcmV0dXJuIHZvaWQoZS5sb2NhbFZhcnM9bmV3IEwodCxlLmxvY2FsVmFycykpO24uZ2xvYmFsVmFycyYmIUUodCxlLmdsb2JhbFZhcnMpJiYoZS5nbG9iYWxWYXJzPW5ldyBMKHQsZS5nbG9iYWxWYXJzKSl9ZnVuY3Rpb24gTyh0KXtyZXR1cm5cInB1YmxpY1wiPT10fHxcInByaXZhdGVcIj09dHx8XCJwcm90ZWN0ZWRcIj09dHx8XCJhYnN0cmFjdFwiPT10fHxcInJlYWRvbmx5XCI9PXR9ZnVuY3Rpb24gTSh0LGUsbil7dGhpcy5wcmV2PXQsdGhpcy52YXJzPWUsdGhpcy5ibG9jaz1ufWZ1bmN0aW9uIEwodCxlKXt0aGlzLm5hbWU9dCx0aGlzLm5leHQ9ZX12YXIgQT1uZXcgTChcInRoaXNcIixuZXcgTChcImFyZ3VtZW50c1wiLG51bGwpKTtmdW5jdGlvbiBOKCl7ay5zdGF0ZS5jb250ZXh0PW5ldyBNKGsuc3RhdGUuY29udGV4dCxrLnN0YXRlLmxvY2FsVmFycywhMSksay5zdGF0ZS5sb2NhbFZhcnM9QX1mdW5jdGlvbiBQKCl7ay5zdGF0ZS5jb250ZXh0PW5ldyBNKGsuc3RhdGUuY29udGV4dCxrLnN0YXRlLmxvY2FsVmFycywhMCksay5zdGF0ZS5sb2NhbFZhcnM9bnVsbH1mdW5jdGlvbiBGKCl7ay5zdGF0ZS5sb2NhbFZhcnM9ay5zdGF0ZS5jb250ZXh0LnZhcnMsay5zdGF0ZS5jb250ZXh0PWsuc3RhdGUuY29udGV4dC5wcmV2fWZ1bmN0aW9uIEkodCxlKXt2YXIgbj1mdW5jdGlvbigpe3ZhciBuPWsuc3RhdGUscj1uLmluZGVudGVkO2lmKFwic3RhdFwiPT1uLmxleGljYWwudHlwZSlyPW4ubGV4aWNhbC5pbmRlbnRlZDtlbHNlIGZvcih2YXIgaT1uLmxleGljYWw7aSYmXCIpXCI9PWkudHlwZSYmaS5hbGlnbjtpPWkucHJldilyPWkuaW5kZW50ZWQ7bi5sZXhpY2FsPW5ldyB3KHIsay5zdHJlYW0uY29sdW1uKCksdCxudWxsLG4ubGV4aWNhbCxlKX07cmV0dXJuIG4ubGV4PSEwLG59ZnVuY3Rpb24gaigpe3ZhciB0PWsuc3RhdGU7dC5sZXhpY2FsLnByZXYmJihcIilcIj09dC5sZXhpY2FsLnR5cGUmJih0LmluZGVudGVkPXQubGV4aWNhbC5pbmRlbnRlZCksdC5sZXhpY2FsPXQubGV4aWNhbC5wcmV2KX1mdW5jdGlvbiBEKHQpe3JldHVybiBmdW5jdGlvbiBlKG4pe3JldHVybiBuPT10P1MoKTpcIjtcIj09dHx8XCJ9XCI9PW58fFwiKVwiPT1ufHxcIl1cIj09bj9fKCk6UyhlKX19ZnVuY3Rpb24geih0LGUpe3JldHVyblwidmFyXCI9PXQ/UyhJKFwidmFyZGVmXCIsZSksYnQsRChcIjtcIiksaik6XCJrZXl3b3JkIGFcIj09dD9TKEkoXCJmb3JtXCIpLFcseixqKTpcImtleXdvcmQgYlwiPT10P1MoSShcImZvcm1cIikseixqKTpcImtleXdvcmQgZFwiPT10P2suc3RyZWFtLm1hdGNoKC9eXFxzKiQvLCExKT9TKCk6UyhJKFwic3RhdFwiKSxWLEQoXCI7XCIpLGopOlwiZGVidWdnZXJcIj09dD9TKEQoXCI7XCIpKTpcIntcIj09dD9TKEkoXCJ9XCIpLFAsYXQsaixGKTpcIjtcIj09dD9TKCk6XCJpZlwiPT10PyhcImVsc2VcIj09ay5zdGF0ZS5sZXhpY2FsLmluZm8mJmsuc3RhdGUuY2Nbay5zdGF0ZS5jYy5sZW5ndGgtMV09PWomJmsuc3RhdGUuY2MucG9wKCkoKSxTKEkoXCJmb3JtXCIpLFcseixqLFN0KSk6XCJmdW5jdGlvblwiPT10P1MoTXQpOlwiZm9yXCI9PXQ/UyhJKFwiZm9ybVwiKSxFdCx6LGopOlwiY2xhc3NcIj09dHx8YyYmXCJpbnRlcmZhY2VcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhJKFwiZm9ybVwiLFwiY2xhc3NcIj09dD90OmUpLEZ0LGopKTpcInZhcmlhYmxlXCI9PXQ/YyYmXCJkZWNsYXJlXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoeikpOmMmJihcIm1vZHVsZVwiPT1lfHxcImVudW1cIj09ZXx8XCJ0eXBlXCI9PWUpJiZrLnN0cmVhbS5tYXRjaCgvXlxccypcXHcvLCExKT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsXCJlbnVtXCI9PWU/UyhLdCk6XCJ0eXBlXCI9PWU/UyhBdCxEKFwib3BlcmF0b3JcIiksZnQsRChcIjtcIikpOlMoSShcImZvcm1cIikseHQsRChcIntcIiksSShcIn1cIiksYXQsaixqKSk6YyYmXCJuYW1lc3BhY2VcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhJKFwiZm9ybVwiKSxCLHosaikpOmMmJlwiYWJzdHJhY3RcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyh6KSk6UyhJKFwic3RhdFwiKSxRKTpcInN3aXRjaFwiPT10P1MoSShcImZvcm1cIiksVyxEKFwie1wiKSxJKFwifVwiLFwic3dpdGNoXCIpLFAsYXQsaixqLEYpOlwiY2FzZVwiPT10P1MoQixEKFwiOlwiKSk6XCJkZWZhdWx0XCI9PXQ/UyhEKFwiOlwiKSk6XCJjYXRjaFwiPT10P1MoSShcImZvcm1cIiksTixSLHosaixGKTpcImV4cG9ydFwiPT10P1MoSShcInN0YXRcIiksenQsaik6XCJpbXBvcnRcIj09dD9TKEkoXCJzdGF0XCIpLEJ0LGopOlwiYXN5bmNcIj09dD9TKHopOlwiQFwiPT1lP1MoQix6KTpfKEkoXCJzdGF0XCIpLEIsRChcIjtcIiksail9ZnVuY3Rpb24gUih0KXtpZihcIihcIj09dClyZXR1cm4gUyhOdCxEKFwiKVwiKSl9ZnVuY3Rpb24gQih0LGUpe3JldHVybiBVKHQsZSwhMSl9ZnVuY3Rpb24gSCh0LGUpe3JldHVybiBVKHQsZSwhMCl9ZnVuY3Rpb24gVyh0KXtyZXR1cm5cIihcIiE9dD9fKCk6UyhJKFwiKVwiKSxCLEQoXCIpXCIpLGopfWZ1bmN0aW9uIFUodCxlLG4pe2lmKGsuc3RhdGUuZmF0QXJyb3dBdD09ay5zdHJlYW0uc3RhcnQpe3ZhciByPW4/SjpZO2lmKFwiKFwiPT10KXJldHVybiBTKE4sSShcIilcIiksaXQoTnQsXCIpXCIpLGosRChcIj0+XCIpLHIsRik7aWYoXCJ2YXJpYWJsZVwiPT10KXJldHVybiBfKE4seHQsRChcIj0+XCIpLHIsRil9dmFyIGk9bj9LOkc7cmV0dXJuIHguaGFzT3duUHJvcGVydHkodCk/UyhpKTpcImZ1bmN0aW9uXCI9PXQ/UyhNdCxpKTpcImNsYXNzXCI9PXR8fGMmJlwiaW50ZXJmYWNlXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoSShcImZvcm1cIiksUHQsaikpOlwia2V5d29yZCBjXCI9PXR8fFwiYXN5bmNcIj09dD9TKG4/SDpCKTpcIihcIj09dD9TKEkoXCIpXCIpLFYsRChcIilcIiksaixpKTpcIm9wZXJhdG9yXCI9PXR8fFwic3ByZWFkXCI9PXQ/UyhuP0g6Qik6XCJbXCI9PXQ/UyhJKFwiXVwiKSxHdCxqLGkpOlwie1wiPT10P290KGV0LFwifVwiLG51bGwsaSk6XCJxdWFzaVwiPT10P18oJCxpKTpcIm5ld1wiPT10P1MoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVyblwiLlwiPT1lP1ModD9aOlgpOlwidmFyaWFibGVcIj09ZSYmYz9TKGd0LHQ/SzpHKTpfKHQ/SDpCKX19KG4pKTpcImltcG9ydFwiPT10P1MoQik6UygpfWZ1bmN0aW9uIFYodCl7cmV0dXJuIHQubWF0Y2goL1s7XFx9XFwpXFxdLF0vKT9fKCk6XyhCKX1mdW5jdGlvbiBHKHQsZSl7cmV0dXJuXCIsXCI9PXQ/UyhCKTpLKHQsZSwhMSl9ZnVuY3Rpb24gSyh0LGUsbil7dmFyIHI9MD09bj9HOkssaT0wPT1uP0I6SDtyZXR1cm5cIj0+XCI9PXQ/UyhOLG4/SjpZLEYpOlwib3BlcmF0b3JcIj09dD8vXFwrXFwrfC0tLy50ZXN0KGUpfHxjJiZcIiFcIj09ZT9TKHIpOmMmJlwiPFwiPT1lJiZrLnN0cmVhbS5tYXRjaCgvXihbXj5dfDwuKj8+KSo+XFxzKlxcKC8sITEpP1MoSShcIj5cIiksaXQoZnQsXCI+XCIpLGoscik6XCI/XCI9PWU/UyhCLEQoXCI6XCIpLGkpOlMoaSk6XCJxdWFzaVwiPT10P18oJCxyKTpcIjtcIiE9dD9cIihcIj09dD9vdChILFwiKVwiLFwiY2FsbFwiLHIpOlwiLlwiPT10P1ModHQscik6XCJbXCI9PXQ/UyhJKFwiXVwiKSxWLEQoXCJdXCIpLGoscik6YyYmXCJhc1wiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKGZ0LHIpKTpcInJlZ2V4cFwiPT10PyhrLnN0YXRlLmxhc3RUeXBlPWsubWFya2VkPVwib3BlcmF0b3JcIixrLnN0cmVhbS5iYWNrVXAoay5zdHJlYW0ucG9zLWsuc3RyZWFtLnN0YXJ0LTEpLFMoaSkpOnZvaWQgMDp2b2lkIDB9ZnVuY3Rpb24gJCh0LGUpe3JldHVyblwicXVhc2lcIiE9dD9fKCk6XCIke1wiIT1lLnNsaWNlKGUubGVuZ3RoLTIpP1MoJCk6UyhCLHEpfWZ1bmN0aW9uIHEodCl7aWYoXCJ9XCI9PXQpcmV0dXJuIGsubWFya2VkPVwic3RyaW5nLTJcIixrLnN0YXRlLnRva2VuaXplPXYsUygkKX1mdW5jdGlvbiBZKHQpe3JldHVybiBiKGsuc3RyZWFtLGsuc3RhdGUpLF8oXCJ7XCI9PXQ/ejpCKX1mdW5jdGlvbiBKKHQpe3JldHVybiBiKGsuc3RyZWFtLGsuc3RhdGUpLF8oXCJ7XCI9PXQ/ejpIKX1mdW5jdGlvbiBYKHQsZSl7aWYoXCJ0YXJnZXRcIj09ZSlyZXR1cm4gay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhHKX1mdW5jdGlvbiBaKHQsZSl7aWYoXCJ0YXJnZXRcIj09ZSlyZXR1cm4gay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhLKX1mdW5jdGlvbiBRKHQpe3JldHVyblwiOlwiPT10P1Moaix6KTpfKEcsRChcIjtcIiksail9ZnVuY3Rpb24gdHQodCl7aWYoXCJ2YXJpYWJsZVwiPT10KXJldHVybiBrLm1hcmtlZD1cInByb3BlcnR5XCIsUygpfWZ1bmN0aW9uIGV0KHQsZSl7cmV0dXJuXCJhc3luY1wiPT10PyhrLm1hcmtlZD1cInByb3BlcnR5XCIsUyhldCkpOlwidmFyaWFibGVcIj09dHx8XCJrZXl3b3JkXCI9PWsuc3R5bGU/KGsubWFya2VkPVwicHJvcGVydHlcIixcImdldFwiPT1lfHxcInNldFwiPT1lP1MobnQpOihjJiZrLnN0YXRlLmZhdEFycm93QXQ9PWsuc3RyZWFtLnN0YXJ0JiYobj1rLnN0cmVhbS5tYXRjaCgvXlxccyo6XFxzKi8sITEpKSYmKGsuc3RhdGUuZmF0QXJyb3dBdD1rLnN0cmVhbS5wb3MrblswXS5sZW5ndGgpLFMocnQpKSk6XCJudW1iZXJcIj09dHx8XCJzdHJpbmdcIj09dD8oay5tYXJrZWQ9cz9cInByb3BlcnR5XCI6ay5zdHlsZStcIiBwcm9wZXJ0eVwiLFMocnQpKTpcImpzb25sZC1rZXl3b3JkXCI9PXQ/UyhydCk6YyYmTyhlKT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhldCkpOlwiW1wiPT10P1MoQixzdCxEKFwiXVwiKSxydCk6XCJzcHJlYWRcIj09dD9TKEgscnQpOlwiKlwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKGV0KSk6XCI6XCI9PXQ/XyhydCk6dm9pZCAwO3ZhciBufWZ1bmN0aW9uIG50KHQpe3JldHVyblwidmFyaWFibGVcIiE9dD9fKHJ0KTooay5tYXJrZWQ9XCJwcm9wZXJ0eVwiLFMoTXQpKX1mdW5jdGlvbiBydCh0KXtyZXR1cm5cIjpcIj09dD9TKEgpOlwiKFwiPT10P18oTXQpOnZvaWQgMH1mdW5jdGlvbiBpdCh0LGUsbil7ZnVuY3Rpb24gcihpLG8pe2lmKG4/bi5pbmRleE9mKGkpPi0xOlwiLFwiPT1pKXt2YXIgYT1rLnN0YXRlLmxleGljYWw7cmV0dXJuXCJjYWxsXCI9PWEuaW5mbyYmKGEucG9zPShhLnBvc3x8MCkrMSksUyhmdW5jdGlvbihuLHIpe3JldHVybiBuPT1lfHxyPT1lP18oKTpfKHQpfSxyKX1yZXR1cm4gaT09ZXx8bz09ZT9TKCk6biYmbi5pbmRleE9mKFwiO1wiKT4tMT9fKHQpOlMoRChlKSl9cmV0dXJuIGZ1bmN0aW9uKG4saSl7cmV0dXJuIG49PWV8fGk9PWU/UygpOl8odCxyKX19ZnVuY3Rpb24gb3QodCxlLG4pe2Zvcih2YXIgcj0zO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspay5jYy5wdXNoKGFyZ3VtZW50c1tyXSk7cmV0dXJuIFMoSShlLG4pLGl0KHQsZSksail9ZnVuY3Rpb24gYXQodCl7cmV0dXJuXCJ9XCI9PXQ/UygpOl8oeixhdCl9ZnVuY3Rpb24gc3QodCxlKXtpZihjKXtpZihcIjpcIj09dClyZXR1cm4gUyhmdCk7aWYoXCI/XCI9PWUpcmV0dXJuIFMoc3QpfX1mdW5jdGlvbiBsdCh0LGUpe2lmKGMmJihcIjpcIj09dHx8XCJpblwiPT1lKSlyZXR1cm4gUyhmdCl9ZnVuY3Rpb24gY3QodCl7aWYoYyYmXCI6XCI9PXQpcmV0dXJuIGsuc3RyZWFtLm1hdGNoKC9eXFxzKlxcdytcXHMraXNcXGIvLCExKT9TKEIsdXQsZnQpOlMoZnQpfWZ1bmN0aW9uIHV0KHQsZSl7aWYoXCJpc1wiPT1lKXJldHVybiBrLm1hcmtlZD1cImtleXdvcmRcIixTKCl9ZnVuY3Rpb24gZnQodCxlKXtyZXR1cm5cImtleW9mXCI9PWV8fFwidHlwZW9mXCI9PWV8fFwiaW5mZXJcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhcInR5cGVvZlwiPT1lP0g6ZnQpKTpcInZhcmlhYmxlXCI9PXR8fFwidm9pZFwiPT1lPyhrLm1hcmtlZD1cInR5cGVcIixTKG10KSk6XCJ8XCI9PWV8fFwiJlwiPT1lP1MoZnQpOlwic3RyaW5nXCI9PXR8fFwibnVtYmVyXCI9PXR8fFwiYXRvbVwiPT10P1MobXQpOlwiW1wiPT10P1MoSShcIl1cIiksaXQoZnQsXCJdXCIsXCIsXCIpLGosbXQpOlwie1wiPT10P1MoSShcIn1cIiksaXQoaHQsXCJ9XCIsXCIsO1wiKSxqLG10KTpcIihcIj09dD9TKGl0KHB0LFwiKVwiKSxkdCxtdCk6XCI8XCI9PXQ/UyhpdChmdCxcIj5cIiksZnQpOnZvaWQgMH1mdW5jdGlvbiBkdCh0KXtpZihcIj0+XCI9PXQpcmV0dXJuIFMoZnQpfWZ1bmN0aW9uIGh0KHQsZSl7cmV0dXJuXCJ2YXJpYWJsZVwiPT10fHxcImtleXdvcmRcIj09ay5zdHlsZT8oay5tYXJrZWQ9XCJwcm9wZXJ0eVwiLFMoaHQpKTpcIj9cIj09ZXx8XCJudW1iZXJcIj09dHx8XCJzdHJpbmdcIj09dD9TKGh0KTpcIjpcIj09dD9TKGZ0KTpcIltcIj09dD9TKEQoXCJ2YXJpYWJsZVwiKSxsdCxEKFwiXVwiKSxodCk6XCIoXCI9PXQ/XyhMdCxodCk6dm9pZCAwfWZ1bmN0aW9uIHB0KHQsZSl7cmV0dXJuXCJ2YXJpYWJsZVwiPT10JiZrLnN0cmVhbS5tYXRjaCgvXlxccypbPzpdLywhMSl8fFwiP1wiPT1lP1MocHQpOlwiOlwiPT10P1MoZnQpOlwic3ByZWFkXCI9PXQ/UyhwdCk6XyhmdCl9ZnVuY3Rpb24gbXQodCxlKXtyZXR1cm5cIjxcIj09ZT9TKEkoXCI+XCIpLGl0KGZ0LFwiPlwiKSxqLG10KTpcInxcIj09ZXx8XCIuXCI9PXR8fFwiJlwiPT1lP1MoZnQpOlwiW1wiPT10P1MoZnQsRChcIl1cIiksbXQpOlwiZXh0ZW5kc1wiPT1lfHxcImltcGxlbWVudHNcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhmdCkpOlwiP1wiPT1lP1MoZnQsRChcIjpcIiksZnQpOnZvaWQgMH1mdW5jdGlvbiBndCh0LGUpe2lmKFwiPFwiPT1lKXJldHVybiBTKEkoXCI+XCIpLGl0KGZ0LFwiPlwiKSxqLG10KX1mdW5jdGlvbiB2dCgpe3JldHVybiBfKGZ0LHl0KX1mdW5jdGlvbiB5dCh0LGUpe2lmKFwiPVwiPT1lKXJldHVybiBTKGZ0KX1mdW5jdGlvbiBidCh0LGUpe3JldHVyblwiZW51bVwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKEt0KSk6Xyh4dCxzdCxrdCxfdCl9ZnVuY3Rpb24geHQodCxlKXtyZXR1cm4gYyYmTyhlKT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyh4dCkpOlwidmFyaWFibGVcIj09dD8oVChlKSxTKCkpOlwic3ByZWFkXCI9PXQ/Uyh4dCk6XCJbXCI9PXQ/b3QoQ3QsXCJdXCIpOlwie1wiPT10P290KHd0LFwifVwiKTp2b2lkIDB9ZnVuY3Rpb24gd3QodCxlKXtyZXR1cm5cInZhcmlhYmxlXCIhPXR8fGsuc3RyZWFtLm1hdGNoKC9eXFxzKjovLCExKT8oXCJ2YXJpYWJsZVwiPT10JiYoay5tYXJrZWQ9XCJwcm9wZXJ0eVwiKSxcInNwcmVhZFwiPT10P1MoeHQpOlwifVwiPT10P18oKTpcIltcIj09dD9TKEIsRChcIl1cIiksRChcIjpcIiksd3QpOlMoRChcIjpcIikseHQsa3QpKTooVChlKSxTKGt0KSl9ZnVuY3Rpb24gQ3QoKXtyZXR1cm4gXyh4dCxrdCl9ZnVuY3Rpb24ga3QodCxlKXtpZihcIj1cIj09ZSlyZXR1cm4gUyhIKX1mdW5jdGlvbiBfdCh0KXtpZihcIixcIj09dClyZXR1cm4gUyhidCl9ZnVuY3Rpb24gU3QodCxlKXtpZihcImtleXdvcmQgYlwiPT10JiZcImVsc2VcIj09ZSlyZXR1cm4gUyhJKFwiZm9ybVwiLFwiZWxzZVwiKSx6LGopfWZ1bmN0aW9uIEV0KHQsZSl7cmV0dXJuXCJhd2FpdFwiPT1lP1MoRXQpOlwiKFwiPT10P1MoSShcIilcIiksVHQsaik6dm9pZCAwfWZ1bmN0aW9uIFR0KHQpe3JldHVyblwidmFyXCI9PXQ/UyhidCxPdCk6XCJ2YXJpYWJsZVwiPT10P1MoT3QpOl8oT3QpfWZ1bmN0aW9uIE90KHQsZSl7cmV0dXJuXCIpXCI9PXQ/UygpOlwiO1wiPT10P1MoT3QpOlwiaW5cIj09ZXx8XCJvZlwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKEIsT3QpKTpfKEIsT3QpfWZ1bmN0aW9uIE10KHQsZSl7cmV0dXJuXCIqXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoTXQpKTpcInZhcmlhYmxlXCI9PXQ/KFQoZSksUyhNdCkpOlwiKFwiPT10P1MoTixJKFwiKVwiKSxpdChOdCxcIilcIiksaixjdCx6LEYpOmMmJlwiPFwiPT1lP1MoSShcIj5cIiksaXQodnQsXCI+XCIpLGosTXQpOnZvaWQgMH1mdW5jdGlvbiBMdCh0LGUpe3JldHVyblwiKlwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKEx0KSk6XCJ2YXJpYWJsZVwiPT10PyhUKGUpLFMoTHQpKTpcIihcIj09dD9TKE4sSShcIilcIiksaXQoTnQsXCIpXCIpLGosY3QsRik6YyYmXCI8XCI9PWU/UyhJKFwiPlwiKSxpdCh2dCxcIj5cIiksaixMdCk6dm9pZCAwfWZ1bmN0aW9uIEF0KHQsZSl7cmV0dXJuXCJrZXl3b3JkXCI9PXR8fFwidmFyaWFibGVcIj09dD8oay5tYXJrZWQ9XCJ0eXBlXCIsUyhBdCkpOlwiPFwiPT1lP1MoSShcIj5cIiksaXQodnQsXCI+XCIpLGopOnZvaWQgMH1mdW5jdGlvbiBOdCh0LGUpe3JldHVyblwiQFwiPT1lJiZTKEIsTnQpLFwic3ByZWFkXCI9PXQ/UyhOdCk6YyYmTyhlKT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhOdCkpOmMmJlwidGhpc1wiPT10P1Moc3Qsa3QpOl8oeHQsc3Qsa3QpfWZ1bmN0aW9uIFB0KHQsZSl7cmV0dXJuXCJ2YXJpYWJsZVwiPT10P0Z0KHQsZSk6SXQodCxlKX1mdW5jdGlvbiBGdCh0LGUpe2lmKFwidmFyaWFibGVcIj09dClyZXR1cm4gVChlKSxTKEl0KX1mdW5jdGlvbiBJdCh0LGUpe3JldHVyblwiPFwiPT1lP1MoSShcIj5cIiksaXQodnQsXCI+XCIpLGosSXQpOlwiZXh0ZW5kc1wiPT1lfHxcImltcGxlbWVudHNcIj09ZXx8YyYmXCIsXCI9PXQ/KFwiaW1wbGVtZW50c1wiPT1lJiYoay5tYXJrZWQ9XCJrZXl3b3JkXCIpLFMoYz9mdDpCLEl0KSk6XCJ7XCI9PXQ/UyhJKFwifVwiKSxqdCxqKTp2b2lkIDB9ZnVuY3Rpb24ganQodCxlKXtyZXR1cm5cImFzeW5jXCI9PXR8fFwidmFyaWFibGVcIj09dCYmKFwic3RhdGljXCI9PWV8fFwiZ2V0XCI9PWV8fFwic2V0XCI9PWV8fGMmJk8oZSkpJiZrLnN0cmVhbS5tYXRjaCgvXlxccytbXFx3JFxceGExLVxcdWZmZmZdLywhMSk/KGsubWFya2VkPVwia2V5d29yZFwiLFMoanQpKTpcInZhcmlhYmxlXCI9PXR8fFwia2V5d29yZFwiPT1rLnN0eWxlPyhrLm1hcmtlZD1cInByb3BlcnR5XCIsUyhjP0R0Ok10LGp0KSk6XCJudW1iZXJcIj09dHx8XCJzdHJpbmdcIj09dD9TKGM/RHQ6TXQsanQpOlwiW1wiPT10P1MoQixzdCxEKFwiXVwiKSxjP0R0Ok10LGp0KTpcIipcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhqdCkpOmMmJlwiKFwiPT10P18oTHQsanQpOlwiO1wiPT10fHxcIixcIj09dD9TKGp0KTpcIn1cIj09dD9TKCk6XCJAXCI9PWU/UyhCLGp0KTp2b2lkIDB9ZnVuY3Rpb24gRHQodCxlKXtpZihcIj9cIj09ZSlyZXR1cm4gUyhEdCk7aWYoXCI6XCI9PXQpcmV0dXJuIFMoZnQsa3QpO2lmKFwiPVwiPT1lKXJldHVybiBTKEgpO3ZhciBuPWsuc3RhdGUubGV4aWNhbC5wcmV2LHI9biYmXCJpbnRlcmZhY2VcIj09bi5pbmZvO3JldHVybiBfKHI/THQ6TXQpfWZ1bmN0aW9uIHp0KHQsZSl7cmV0dXJuXCIqXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoVnQsRChcIjtcIikpKTpcImRlZmF1bHRcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhCLEQoXCI7XCIpKSk6XCJ7XCI9PXQ/UyhpdChSdCxcIn1cIiksVnQsRChcIjtcIikpOl8oeil9ZnVuY3Rpb24gUnQodCxlKXtyZXR1cm5cImFzXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoRChcInZhcmlhYmxlXCIpKSk6XCJ2YXJpYWJsZVwiPT10P18oSCxSdCk6dm9pZCAwfWZ1bmN0aW9uIEJ0KHQpe3JldHVyblwic3RyaW5nXCI9PXQ/UygpOlwiKFwiPT10P18oQik6XyhIdCxXdCxWdCl9ZnVuY3Rpb24gSHQodCxlKXtyZXR1cm5cIntcIj09dD9vdChIdCxcIn1cIik6KFwidmFyaWFibGVcIj09dCYmVChlKSxcIipcIj09ZSYmKGsubWFya2VkPVwia2V5d29yZFwiKSxTKFV0KSl9ZnVuY3Rpb24gV3QodCl7aWYoXCIsXCI9PXQpcmV0dXJuIFMoSHQsV3QpfWZ1bmN0aW9uIFV0KHQsZSl7aWYoXCJhc1wiPT1lKXJldHVybiBrLm1hcmtlZD1cImtleXdvcmRcIixTKEh0KX1mdW5jdGlvbiBWdCh0LGUpe2lmKFwiZnJvbVwiPT1lKXJldHVybiBrLm1hcmtlZD1cImtleXdvcmRcIixTKEIpfWZ1bmN0aW9uIEd0KHQpe3JldHVyblwiXVwiPT10P1MoKTpfKGl0KEgsXCJdXCIpKX1mdW5jdGlvbiBLdCgpe3JldHVybiBfKEkoXCJmb3JtXCIpLHh0LEQoXCJ7XCIpLEkoXCJ9XCIpLGl0KCR0LFwifVwiKSxqLGopfWZ1bmN0aW9uICR0KCl7cmV0dXJuIF8oeHQsa3QpfWZ1bmN0aW9uIHF0KHQsZSxuKXtyZXR1cm4gZS50b2tlbml6ZT09bSYmL14oPzpvcGVyYXRvcnxzb2Z8a2V5d29yZCBbYmNkXXxjYXNlfG5ld3xleHBvcnR8ZGVmYXVsdHxzcHJlYWR8W1xcW3t9XFwoLDs6XXw9PikkLy50ZXN0KGUubGFzdFR5cGUpfHxcInF1YXNpXCI9PWUubGFzdFR5cGUmJi9cXHtcXHMqJC8udGVzdCh0LnN0cmluZy5zbGljZSgwLHQucG9zLShufHwwKSkpfXJldHVybiBGLmxleD0hMCxqLmxleD0hMCx7c3RhcnRTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT17dG9rZW5pemU6bSxsYXN0VHlwZTpcInNvZlwiLGNjOltdLGxleGljYWw6bmV3IHcoKHR8fDApLW8sMCxcImJsb2NrXCIsITEpLGxvY2FsVmFyczpuLmxvY2FsVmFycyxjb250ZXh0Om4ubG9jYWxWYXJzJiZuZXcgTShudWxsLG51bGwsITEpLGluZGVudGVkOnR8fDB9O3JldHVybiBuLmdsb2JhbFZhcnMmJlwib2JqZWN0XCI9PXR5cGVvZiBuLmdsb2JhbFZhcnMmJihlLmdsb2JhbFZhcnM9bi5nbG9iYWxWYXJzKSxlfSx0b2tlbjpmdW5jdGlvbih0LGUpe2lmKHQuc29sKCkmJihlLmxleGljYWwuaGFzT3duUHJvcGVydHkoXCJhbGlnblwiKXx8KGUubGV4aWNhbC5hbGlnbj0hMSksZS5pbmRlbnRlZD10LmluZGVudGF0aW9uKCksYih0LGUpKSxlLnRva2VuaXplIT1nJiZ0LmVhdFNwYWNlKCkpcmV0dXJuIG51bGw7dmFyIG49ZS50b2tlbml6ZSh0LGUpO3JldHVyblwiY29tbWVudFwiPT1yP246KGUubGFzdFR5cGU9XCJvcGVyYXRvclwiIT1yfHxcIisrXCIhPWkmJlwiLS1cIiE9aT9yOlwiaW5jZGVjXCIsZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz10LmNjO2ZvcihrLnN0YXRlPXQsay5zdHJlYW09aSxrLm1hcmtlZD1udWxsLGsuY2M9byxrLnN0eWxlPWUsdC5sZXhpY2FsLmhhc093blByb3BlcnR5KFwiYWxpZ25cIil8fCh0LmxleGljYWwuYWxpZ249ITApOzspe3ZhciBhPW8ubGVuZ3RoP28ucG9wKCk6bD9COno7aWYoYShuLHIpKXtmb3IoO28ubGVuZ3RoJiZvW28ubGVuZ3RoLTFdLmxleDspby5wb3AoKSgpO3JldHVybiBrLm1hcmtlZD9rLm1hcmtlZDpcInZhcmlhYmxlXCI9PW4mJkModCxyKT9cInZhcmlhYmxlLTJcIjplfX19KGUsbixyLGksdCkpfSxpbmRlbnQ6ZnVuY3Rpb24oZSxyKXtpZihlLnRva2VuaXplPT1nKXJldHVybiB0LlBhc3M7aWYoZS50b2tlbml6ZSE9bSlyZXR1cm4gMDt2YXIgaSxzPXImJnIuY2hhckF0KDApLGw9ZS5sZXhpY2FsO2lmKCEvXlxccyplbHNlXFxiLy50ZXN0KHIpKWZvcih2YXIgYz1lLmNjLmxlbmd0aC0xO2M+PTA7LS1jKXt2YXIgdT1lLmNjW2NdO2lmKHU9PWopbD1sLnByZXY7ZWxzZSBpZih1IT1TdClicmVha31mb3IoOyhcInN0YXRcIj09bC50eXBlfHxcImZvcm1cIj09bC50eXBlKSYmKFwifVwiPT1zfHwoaT1lLmNjW2UuY2MubGVuZ3RoLTFdKSYmKGk9PUd8fGk9PUspJiYhL15bLFxcLj0rXFwtKjo/W1xcKF0vLnRlc3QocikpOylsPWwucHJldjthJiZcIilcIj09bC50eXBlJiZcInN0YXRcIj09bC5wcmV2LnR5cGUmJihsPWwucHJldik7dmFyIGY9bC50eXBlLGg9cz09ZjtyZXR1cm5cInZhcmRlZlwiPT1mP2wuaW5kZW50ZWQrKFwib3BlcmF0b3JcIj09ZS5sYXN0VHlwZXx8XCIsXCI9PWUubGFzdFR5cGU/bC5pbmZvLmxlbmd0aCsxOjApOlwiZm9ybVwiPT1mJiZcIntcIj09cz9sLmluZGVudGVkOlwiZm9ybVwiPT1mP2wuaW5kZW50ZWQrbzpcInN0YXRcIj09Zj9sLmluZGVudGVkKyhmdW5jdGlvbih0LGUpe3JldHVyblwib3BlcmF0b3JcIj09dC5sYXN0VHlwZXx8XCIsXCI9PXQubGFzdFR5cGV8fGQudGVzdChlLmNoYXJBdCgwKSl8fC9bLC5dLy50ZXN0KGUuY2hhckF0KDApKX0oZSxyKT9hfHxvOjApOlwic3dpdGNoXCIhPWwuaW5mb3x8aHx8MD09bi5kb3VibGVJbmRlbnRTd2l0Y2g/bC5hbGlnbj9sLmNvbHVtbisoaD8wOjEpOmwuaW5kZW50ZWQrKGg/MDpvKTpsLmluZGVudGVkKygvXig/OmNhc2V8ZGVmYXVsdClcXGIvLnRlc3Qocik/bzoyKm8pfSxlbGVjdHJpY0lucHV0Oi9eXFxzKig/OmNhc2UgLio/OnxkZWZhdWx0OnxcXHt8XFx9KSQvLGJsb2NrQ29tbWVudFN0YXJ0Omw/bnVsbDpcIi8qXCIsYmxvY2tDb21tZW50RW5kOmw/bnVsbDpcIiovXCIsYmxvY2tDb21tZW50Q29udGludWU6bD9udWxsOlwiICogXCIsbGluZUNvbW1lbnQ6bD9udWxsOlwiLy9cIixmb2xkOlwiYnJhY2VcIixjbG9zZUJyYWNrZXRzOlwiKClbXXt9JydcXFwiXFxcImBgXCIsaGVscGVyVHlwZTpsP1wianNvblwiOlwiamF2YXNjcmlwdFwiLGpzb25sZE1vZGU6cyxqc29uTW9kZTpsLGV4cHJlc3Npb25BbGxvd2VkOnF0LHNraXBFeHByZXNzaW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY2NbdC5jYy5sZW5ndGgtMV07ZSE9QiYmZSE9SHx8dC5jYy5wb3AoKX19fSksdC5yZWdpc3RlckhlbHBlcihcIndvcmRDaGFyc1wiLFwiamF2YXNjcmlwdFwiLC9bXFx3JF0vKSx0LmRlZmluZU1JTUUoXCJ0ZXh0L2phdmFzY3JpcHRcIixcImphdmFzY3JpcHRcIiksdC5kZWZpbmVNSU1FKFwidGV4dC9lY21hc2NyaXB0XCIsXCJqYXZhc2NyaXB0XCIpLHQuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIixcImphdmFzY3JpcHRcIiksdC5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24veC1qYXZhc2NyaXB0XCIsXCJqYXZhc2NyaXB0XCIpLHQuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHRcIixcImphdmFzY3JpcHRcIiksdC5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vanNvblwiLHtuYW1lOlwiamF2YXNjcmlwdFwiLGpzb246ITB9KSx0LmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LWpzb25cIix7bmFtZTpcImphdmFzY3JpcHRcIixqc29uOiEwfSksdC5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vbGQranNvblwiLHtuYW1lOlwiamF2YXNjcmlwdFwiLGpzb25sZDohMH0pLHQuZGVmaW5lTUlNRShcInRleHQvdHlwZXNjcmlwdFwiLHtuYW1lOlwiamF2YXNjcmlwdFwiLHR5cGVzY3JpcHQ6ITB9KSx0LmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi90eXBlc2NyaXB0XCIse25hbWU6XCJqYXZhc2NyaXB0XCIsdHlwZXNjcmlwdDohMH0pfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt0LmRlZmluZU1vZGUoXCJzaGVsbFwiLGZ1bmN0aW9uKCl7dmFyIGU9e307ZnVuY3Rpb24gbih0LG4pe2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWVbbltyXV09dH12YXIgcj1bXCJ0cnVlXCIsXCJmYWxzZVwiXSxpPVtcImlmXCIsXCJ0aGVuXCIsXCJkb1wiLFwiZWxzZVwiLFwiZWxpZlwiLFwid2hpbGVcIixcInVudGlsXCIsXCJmb3JcIixcImluXCIsXCJlc2FjXCIsXCJmaVwiLFwiZmluXCIsXCJmaWxcIixcImRvbmVcIixcImV4aXRcIixcInNldFwiLFwidW5zZXRcIixcImV4cG9ydFwiLFwiZnVuY3Rpb25cIl0sbz1bXCJhYlwiLFwiYXdrXCIsXCJiYXNoXCIsXCJiZWVwXCIsXCJjYXRcIixcImNjXCIsXCJjZFwiLFwiY2hvd25cIixcImNobW9kXCIsXCJjaHJvb3RcIixcImNsZWFyXCIsXCJjcFwiLFwiY3VybFwiLFwiY3V0XCIsXCJkaWZmXCIsXCJlY2hvXCIsXCJmaW5kXCIsXCJnYXdrXCIsXCJnY2NcIixcImdldFwiLFwiZ2l0XCIsXCJncmVwXCIsXCJoZ1wiLFwia2lsbFwiLFwia2lsbGFsbFwiLFwibG5cIixcImxzXCIsXCJtYWtlXCIsXCJta2RpclwiLFwib3BlbnNzbFwiLFwibXZcIixcIm5jXCIsXCJubFwiLFwibm9kZVwiLFwibnBtXCIsXCJwaW5nXCIsXCJwc1wiLFwicmVzdGFydFwiLFwicm1cIixcInJtZGlyXCIsXCJzZWRcIixcInNlcnZpY2VcIixcInNoXCIsXCJzaG9wdFwiLFwic2hyZWRcIixcInNvdXJjZVwiLFwic29ydFwiLFwic2xlZXBcIixcInNzaFwiLFwic3RhcnRcIixcInN0b3BcIixcInN1XCIsXCJzdWRvXCIsXCJzdm5cIixcInRlZVwiLFwidGVsbmV0XCIsXCJ0b3BcIixcInRvdWNoXCIsXCJ2aVwiLFwidmltXCIsXCJ3YWxsXCIsXCJ3Y1wiLFwid2dldFwiLFwid2hvXCIsXCJ3cml0ZVwiLFwieWVzXCIsXCJ6c2hcIl07ZnVuY3Rpb24gYSh0LGUpe3ZhciBuPVwiKFwiPT10P1wiKVwiOlwie1wiPT10P1wifVwiOnQ7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7Zm9yKHZhciBvLHU9ITE7bnVsbCE9KG89ci5uZXh0KCkpOyl7aWYobz09PW4mJiF1KXtpLnRva2Vucy5zaGlmdCgpO2JyZWFrfWlmKFwiJFwiPT09byYmIXUmJlwiJ1wiIT09dCYmci5wZWVrKCkhPW4pe3U9ITAsci5iYWNrVXAoMSksaS50b2tlbnMudW5zaGlmdChsKTticmVha31pZighdSYmdCE9PW4mJm89PT10KXJldHVybiBpLnRva2Vucy51bnNoaWZ0KGEodCxlKSksYyhyLGkpO2lmKCF1JiYvWydcIl0vLnRlc3QobykmJiEvWydcIl0vLnRlc3QodCkpe2kudG9rZW5zLnVuc2hpZnQocyhvLFwic3RyaW5nXCIpKSxyLmJhY2tVcCgxKTticmVha311PSF1JiZcIlxcXFxcIj09PW99cmV0dXJuIGV9fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gci50b2tlbnNbMF09YSh0LGUpLG4ubmV4dCgpLGMobixyKX19dC5yZWdpc3RlckhlbHBlcihcImhpbnRXb3Jkc1wiLFwic2hlbGxcIixyLmNvbmNhdChpLG8pKSxuKFwiYXRvbVwiLHIpLG4oXCJrZXl3b3JkXCIsaSksbihcImJ1aWx0aW5cIixvKTt2YXIgbD1mdW5jdGlvbih0LGUpe2UudG9rZW5zLmxlbmd0aD4xJiZ0LmVhdChcIiRcIik7dmFyIG49dC5uZXh0KCk7cmV0dXJuL1snXCIoe10vLnRlc3Qobik/KGUudG9rZW5zWzBdPWEobixcIihcIj09bj9cInF1b3RlXCI6XCJ7XCI9PW4/XCJkZWZcIjpcInN0cmluZ1wiKSxjKHQsZSkpOigvXFxkLy50ZXN0KG4pfHx0LmVhdFdoaWxlKC9cXHcvKSxlLnRva2Vucy5zaGlmdCgpLFwiZGVmXCIpfTtmdW5jdGlvbiBjKHQsbil7cmV0dXJuKG4udG9rZW5zWzBdfHxmdW5jdGlvbih0LG4pe2lmKHQuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDt2YXIgcj10LnNvbCgpLGk9dC5uZXh0KCk7aWYoXCJcXFxcXCI9PT1pKXJldHVybiB0Lm5leHQoKSxudWxsO2lmKFwiJ1wiPT09aXx8J1wiJz09PWl8fFwiYFwiPT09aSlyZXR1cm4gbi50b2tlbnMudW5zaGlmdChhKGksXCJgXCI9PT1pP1wicXVvdGVcIjpcInN0cmluZ1wiKSksYyh0LG4pO2lmKFwiI1wiPT09aSlyZXR1cm4gciYmdC5lYXQoXCIhXCIpPyh0LnNraXBUb0VuZCgpLFwibWV0YVwiKToodC5za2lwVG9FbmQoKSxcImNvbW1lbnRcIik7aWYoXCIkXCI9PT1pKXJldHVybiBuLnRva2Vucy51bnNoaWZ0KGwpLGModCxuKTtpZihcIitcIj09PWl8fFwiPVwiPT09aSlyZXR1cm5cIm9wZXJhdG9yXCI7aWYoXCItXCI9PT1pKXJldHVybiB0LmVhdChcIi1cIiksdC5lYXRXaGlsZSgvXFx3LyksXCJhdHRyaWJ1dGVcIjtpZigvXFxkLy50ZXN0KGkpJiYodC5lYXRXaGlsZSgvXFxkLyksdC5lb2woKXx8IS9cXHcvLnRlc3QodC5wZWVrKCkpKSlyZXR1cm5cIm51bWJlclwiO3QuZWF0V2hpbGUoL1tcXHctXS8pO3ZhciBvPXQuY3VycmVudCgpO3JldHVyblwiPVwiPT09dC5wZWVrKCkmJi9cXHcrLy50ZXN0KG8pP1wiZGVmXCI6ZS5oYXNPd25Qcm9wZXJ0eShvKT9lW29dOm51bGx9KSh0LG4pfXJldHVybntzdGFydFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue3Rva2VuczpbXX19LHRva2VuOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModCxlKX0sY2xvc2VCcmFja2V0czpcIigpW117fScnXFxcIlxcXCJgYFwiLGxpbmVDb21tZW50OlwiI1wiLGZvbGQ6XCJicmFjZVwifX0pLHQuZGVmaW5lTUlNRShcInRleHQveC1zaFwiLFwic2hlbGxcIiksdC5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24veC1zaFwiLFwic2hlbGxcIil9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUodCl7Zm9yKHZhciBlPXt9LG49MDtuPHQubGVuZ3RoO24rKyllW3Rbbl1dPSEwO3JldHVybiBlfXZhciBuPWUoW1wiX1wiLFwidmFyXCIsXCJsZXRcIixcImNsYXNzXCIsXCJlbnVtXCIsXCJleHRlbnNpb25cIixcImltcG9ydFwiLFwicHJvdG9jb2xcIixcInN0cnVjdFwiLFwiZnVuY1wiLFwidHlwZWFsaWFzXCIsXCJhc3NvY2lhdGVkdHlwZVwiLFwib3BlblwiLFwicHVibGljXCIsXCJpbnRlcm5hbFwiLFwiZmlsZXByaXZhdGVcIixcInByaXZhdGVcIixcImRlaW5pdFwiLFwiaW5pdFwiLFwibmV3XCIsXCJvdmVycmlkZVwiLFwic2VsZlwiLFwic3Vic2NyaXB0XCIsXCJzdXBlclwiLFwiY29udmVuaWVuY2VcIixcImR5bmFtaWNcIixcImZpbmFsXCIsXCJpbmRpcmVjdFwiLFwibGF6eVwiLFwicmVxdWlyZWRcIixcInN0YXRpY1wiLFwidW5vd25lZFwiLFwidW5vd25lZChzYWZlKVwiLFwidW5vd25lZCh1bnNhZmUpXCIsXCJ3ZWFrXCIsXCJhc1wiLFwiaXNcIixcImJyZWFrXCIsXCJjYXNlXCIsXCJjb250aW51ZVwiLFwiZGVmYXVsdFwiLFwiZWxzZVwiLFwiZmFsbHRocm91Z2hcIixcImZvclwiLFwiZ3VhcmRcIixcImlmXCIsXCJpblwiLFwicmVwZWF0XCIsXCJzd2l0Y2hcIixcIndoZXJlXCIsXCJ3aGlsZVwiLFwiZGVmZXJcIixcInJldHVyblwiLFwiaW5vdXRcIixcIm11dGF0aW5nXCIsXCJub25tdXRhdGluZ1wiLFwiY2F0Y2hcIixcImRvXCIsXCJyZXRocm93c1wiLFwidGhyb3dcIixcInRocm93c1wiLFwidHJ5XCIsXCJkaWRTZXRcIixcImdldFwiLFwic2V0XCIsXCJ3aWxsU2V0XCIsXCJhc3NpZ25tZW50XCIsXCJhc3NvY2lhdGl2aXR5XCIsXCJpbmZpeFwiLFwibGVmdFwiLFwibm9uZVwiLFwib3BlcmF0b3JcIixcInBvc3RmaXhcIixcInByZWNlZGVuY2VcIixcInByZWNlZGVuY2Vncm91cFwiLFwicHJlZml4XCIsXCJyaWdodFwiLFwiQW55XCIsXCJBbnlPYmplY3RcIixcIlR5cGVcIixcImR5bmFtaWNUeXBlXCIsXCJTZWxmXCIsXCJQcm90b2NvbFwiLFwiX19DT0xVTU5fX1wiLFwiX19GSUxFX19cIixcIl9fRlVOQ1RJT05fX1wiLFwiX19MSU5FX19cIl0pLHI9ZShbXCJ2YXJcIixcImxldFwiLFwiY2xhc3NcIixcImVudW1cIixcImV4dGVuc2lvblwiLFwiaW1wb3J0XCIsXCJwcm90b2NvbFwiLFwic3RydWN0XCIsXCJmdW5jXCIsXCJ0eXBlYWxpYXNcIixcImFzc29jaWF0ZWR0eXBlXCIsXCJmb3JcIl0pLGk9ZShbXCJ0cnVlXCIsXCJmYWxzZVwiLFwibmlsXCIsXCJzZWxmXCIsXCJzdXBlclwiLFwiX1wiXSksbz1lKFtcIkFycmF5XCIsXCJCb29sXCIsXCJDaGFyYWN0ZXJcIixcIkRpY3Rpb25hcnlcIixcIkRvdWJsZVwiLFwiRmxvYXRcIixcIkludFwiLFwiSW50OFwiLFwiSW50MTZcIixcIkludDMyXCIsXCJJbnQ2NFwiLFwiTmV2ZXJcIixcIk9wdGlvbmFsXCIsXCJTZXRcIixcIlN0cmluZ1wiLFwiVUludDhcIixcIlVJbnQxNlwiLFwiVUludDMyXCIsXCJVSW50NjRcIixcIlZvaWRcIl0pLGE9XCIrLS8qJT18Jjw+fl4/IVwiLHM9XCI6OywuKCl7fVtdXCIsbD0vXlxcLT8wYlswMV1bMDFfXSovLGM9L15cXC0/MG9bMC03XVswLTdfXSovLHU9L15cXC0/MHhbXFxkQS1GYS1mXVtcXGRBLUZhLWZfXSooPzooPzpcXC5bXFxkQS1GYS1mXVtcXGRBLUZhLWZfXSopP1tQcF1cXC0/XFxkW1xcZF9dKik/LyxmPS9eXFwtP1xcZFtcXGRfXSooPzpcXC5cXGRbXFxkX10qKT8oPzpbRWVdXFwtP1xcZFtcXGRfXSopPy8sZD0vXlxcJFxcZCt8KGA/KVtfQS1aYS16XVtfQS1aYS16JDAtOV0qXFwxLyxoPS9eXFwuKD86XFwkXFxkK3woYD8pW19BLVphLXpdW19BLVphLXokMC05XSpcXDEpLyxwPS9eXFwjW0EtWmEtel0rLyxtPS9eQCg/OlxcJFxcZCt8KGA/KVtfQS1aYS16XVtfQS1aYS16JDAtOV0qXFwxKS87ZnVuY3Rpb24gZyh0LGUsZyl7aWYodC5zb2woKSYmKGUuaW5kZW50ZWQ9dC5pbmRlbnRhdGlvbigpKSx0LmVhdFNwYWNlKCkpcmV0dXJuIG51bGw7dmFyIGIseD10LnBlZWsoKTtpZihcIi9cIj09eCl7aWYodC5tYXRjaChcIi8vXCIpKXJldHVybiB0LnNraXBUb0VuZCgpLFwiY29tbWVudFwiO2lmKHQubWF0Y2goXCIvKlwiKSlyZXR1cm4gZS50b2tlbml6ZS5wdXNoKHkpLHkodCxlKX1pZih0Lm1hdGNoKHApKXJldHVyblwiYnVpbHRpblwiO2lmKHQubWF0Y2gobSkpcmV0dXJuXCJhdHRyaWJ1dGVcIjtpZih0Lm1hdGNoKGwpKXJldHVyblwibnVtYmVyXCI7aWYodC5tYXRjaChjKSlyZXR1cm5cIm51bWJlclwiO2lmKHQubWF0Y2godSkpcmV0dXJuXCJudW1iZXJcIjtpZih0Lm1hdGNoKGYpKXJldHVyblwibnVtYmVyXCI7aWYodC5tYXRjaChoKSlyZXR1cm5cInByb3BlcnR5XCI7aWYoYS5pbmRleE9mKHgpPi0xKXJldHVybiB0Lm5leHQoKSxcIm9wZXJhdG9yXCI7aWYocy5pbmRleE9mKHgpPi0xKXJldHVybiB0Lm5leHQoKSx0Lm1hdGNoKFwiLi5cIiksXCJwdW5jdHVhdGlvblwiO2lmKGI9dC5tYXRjaCgvKFwiXCJcInxcInwnKS8pKXt2YXIgdz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLGk9MT09dC5sZW5ndGgsbz0hMTtyPWUucGVlaygpOylpZihvKXtpZihlLm5leHQoKSxcIihcIj09cilyZXR1cm4gbi50b2tlbml6ZS5wdXNoKHYoKSksXCJzdHJpbmdcIjtvPSExfWVsc2V7aWYoZS5tYXRjaCh0KSlyZXR1cm4gbi50b2tlbml6ZS5wb3AoKSxcInN0cmluZ1wiO2UubmV4dCgpLG89XCJcXFxcXCI9PXJ9cmV0dXJuIGkmJm4udG9rZW5pemUucG9wKCksXCJzdHJpbmdcIn0uYmluZChudWxsLGJbMF0pO3JldHVybiBlLnRva2VuaXplLnB1c2godyksdyh0LGUpfWlmKHQubWF0Y2goZCkpe3ZhciBDPXQuY3VycmVudCgpO3JldHVybiBvLmhhc093blByb3BlcnR5KEMpP1widmFyaWFibGUtMlwiOmkuaGFzT3duUHJvcGVydHkoQyk/XCJhdG9tXCI6bi5oYXNPd25Qcm9wZXJ0eShDKT8oci5oYXNPd25Qcm9wZXJ0eShDKSYmKGUucHJldj1cImRlZmluZVwiKSxcImtleXdvcmRcIik6XCJkZWZpbmVcIj09Zz9cImRlZlwiOlwidmFyaWFibGVcIn1yZXR1cm4gdC5uZXh0KCksbnVsbH1mdW5jdGlvbiB2KCl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3ZhciBpPWcoZSxuLHIpO2lmKFwicHVuY3R1YXRpb25cIj09aSlpZihcIihcIj09ZS5jdXJyZW50KCkpKyt0O2Vsc2UgaWYoXCIpXCI9PWUuY3VycmVudCgpKXtpZigwPT10KXJldHVybiBlLmJhY2tVcCgxKSxuLnRva2VuaXplLnBvcCgpLG4udG9rZW5pemVbbi50b2tlbml6ZS5sZW5ndGgtMV0oZSxuKTstLXR9cmV0dXJuIGl9fWZ1bmN0aW9uIHkodCxlKXtmb3IodmFyIG47dC5tYXRjaCgvXlteXFwvKl0rLywhMCksbj10Lm5leHQoKTspXCIvXCI9PT1uJiZ0LmVhdChcIipcIik/ZS50b2tlbml6ZS5wdXNoKHkpOlwiKlwiPT09biYmdC5lYXQoXCIvXCIpJiZlLnRva2VuaXplLnBvcCgpO3JldHVyblwiY29tbWVudFwifWZ1bmN0aW9uIGIodCxlLG4pe3RoaXMucHJldj10LHRoaXMuYWxpZ249ZSx0aGlzLmluZGVudGVkPW59dC5kZWZpbmVNb2RlKFwic3dpZnRcIixmdW5jdGlvbih0KXtyZXR1cm57c3RhcnRTdGF0ZTpmdW5jdGlvbigpe3JldHVybntwcmV2Om51bGwsY29udGV4dDpudWxsLGluZGVudGVkOjAsdG9rZW5pemU6W119fSx0b2tlbjpmdW5jdGlvbih0LGUpe3ZhciBuPWUucHJldjtlLnByZXY9bnVsbDt2YXIgcj1lLnRva2VuaXplW2UudG9rZW5pemUubGVuZ3RoLTFdfHxnLGk9cih0LGUsbik7aWYoaSYmXCJjb21tZW50XCIhPWk/ZS5wcmV2fHwoZS5wcmV2PWkpOmUucHJldj1uLFwicHVuY3R1YXRpb25cIj09aSl7dmFyIG89L1tcXChcXFtcXHtdfChbXFxdXFwpXFx9XSkvLmV4ZWModC5jdXJyZW50KCkpO28mJihvWzFdP2Z1bmN0aW9uKHQpe3QuY29udGV4dCYmKHQuaW5kZW50ZWQ9dC5jb250ZXh0LmluZGVudGVkLHQuY29udGV4dD10LmNvbnRleHQucHJldil9OmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5tYXRjaCgvXlxccyooJHxcXC9bXFwvXFwqXSkvLCExKT9udWxsOmUuY29sdW1uKCkrMTt0LmNvbnRleHQ9bmV3IGIodC5jb250ZXh0LG4sdC5pbmRlbnRlZCl9KShlLHQpfXJldHVybiBpfSxpbmRlbnQ6ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmNvbnRleHQ7aWYoIXIpcmV0dXJuIDA7dmFyIGk9L15bXFxdXFx9XFwpXS8udGVzdChuKTtyZXR1cm4gbnVsbCE9ci5hbGlnbj9yLmFsaWduLShpPzE6MCk6ci5pbmRlbnRlZCsoaT8wOnQuaW5kZW50VW5pdCl9LGVsZWN0cmljSW5wdXQ6L15cXHMqW1xcKVxcfVxcXV0kLyxsaW5lQ29tbWVudDpcIi8vXCIsYmxvY2tDb21tZW50U3RhcnQ6XCIvKlwiLGJsb2NrQ29tbWVudEVuZDpcIiovXCIsZm9sZDpcImJyYWNlXCIsY2xvc2VCcmFja2V0czpcIigpW117fScnXFxcIlxcXCJgYFwifX0pLHQuZGVmaW5lTUlNRShcInRleHQveC1zd2lmdFwiLFwic3dpZnRcIil9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyNTQpLGk9bigxMzgpLG89bigxMyksYT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZixzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbD1NYXRoLmFicyxjPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sdSxmO2lmKCFyKHQpKXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtmb3Iobj1pKG8odGhpcykubGVuZ3RoKSx1PWFyZ3VtZW50c1sxXSxlPXU9aXNOYU4odSk/MDp1Pj0wP2ModSk6aSh0aGlzLmxlbmd0aCktYyhsKHUpKTtlPG47KytlKWlmKHMuY2FsbCh0aGlzLGUpJiYoZj10aGlzW2VdLHIoZikpKXJldHVybiBlO3JldHVybi0xfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1uKDI1NSkoKT9OdW1iZXIuaXNOYU46bigyNTYpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ9TnVtYmVyLmlzTmFOO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJighdCh7fSkmJnQoTmFOKSYmIXQoMzQpKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyNTgpLGk9TWF0aC5hYnMsbz1NYXRoLmZsb29yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odCk/MDowIT09KHQ9TnVtYmVyKHQpKSYmaXNGaW5pdGUodCk/cih0KSpvKGkodCkpOnR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjU5KSgpP01hdGguc2lnbjpuKDI2MCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNpZ247cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKDE9PT10KDEwKSYmLTE9PT10KC0yMCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD1OdW1iZXIodCksaXNOYU4odCl8fDA9PT10P3Q6dD4wPzE6LTF9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzMyksaT17ZnVuY3Rpb246ITAsb2JqZWN0OiEwfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCkmJmlbdHlwZW9mIHRdfHwhMX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpLG8sYSxzPU9iamVjdC5jcmVhdGU7bigxMzkpKCl8fChyPW4oMTQwKSksdC5leHBvcnRzPXI/MSE9PXIubGV2ZWw/czooaT17fSxvPXt9LGE9e2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0sT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoT2JqZWN0LnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbih0KXtvW3RdPVwiX19wcm90b19fXCIhPT10P2E6e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLG8pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLFwibnVsbFBvbHlmaWxsXCIse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiExLHZhbHVlOml9KSxmdW5jdGlvbih0LGUpe3JldHVybiBzKG51bGw9PT10P2k6dCxlKX0pOnN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdCxlPU9iamVjdC5hc3NpZ247cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGUodD17Zm9vOlwicmF6XCJ9LHtiYXI6XCJkd2FcIn0se3Ryenk6XCJ0cnp5XCJ9KSx0LmZvbyt0LmJhcit0LnRyenk9PT1cInJhemR3YXRyenlcIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyNjUpLGk9bigxMyksbz1NYXRoLm1heDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbixhLHMsbD1vKGFyZ3VtZW50cy5sZW5ndGgsMik7Zm9yKHQ9T2JqZWN0KGkodCkpLHM9ZnVuY3Rpb24ocil7dHJ5e3Rbcl09ZVtyXX1jYXRjaCh0KXtufHwobj10KX19LGE9MTthPGw7KythKWU9YXJndW1lbnRzW2FdLHIoZSkuZm9yRWFjaChzKTtpZih2b2lkIDAhPT1uKXRocm93IG47cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjY2KSgpP09iamVjdC5rZXlzOm4oMjY3KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0LmtleXMoXCJwcmltaXRpdmVcIiksITB9Y2F0Y2godCl7cmV0dXJuITF9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzMpLGk9T2JqZWN0LmtleXM7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpKHIodCk/T2JqZWN0KHQpOnQpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPVwicmF6ZHdhdHJ6eVwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY29udGFpbnMmJighMD09PXIuY29udGFpbnMoXCJkd2FcIikmJiExPT09ci5jb250YWlucyhcImZvb1wiKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9U3RyaW5nLnByb3RvdHlwZS5pbmRleE9mO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gci5jYWxsKHRoaXMsdCxhcmd1bWVudHNbMV0pPi0xfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbyxhLHMsbCxjLHU9bigyNSksZj1uKDE0KSxkPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxoPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLHA9T2JqZWN0LmNyZWF0ZSxtPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxnPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLHY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx5PXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH07aT1mdW5jdGlvbih0LGUpe3ZhciBuLGk7cmV0dXJuIGYoZSksaT10aGlzLHIuY2FsbCh0aGlzLHQsbj1mdW5jdGlvbigpe28uY2FsbChpLHQsbiksZC5jYWxsKGUsdGhpcyxhcmd1bWVudHMpfSksbi5fX2VlT25jZUxpc3RlbmVyX189ZSx0aGlzfSxzPXtvbjpyPWZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIGYoZSksdi5jYWxsKHRoaXMsXCJfX2VlX19cIik/bj10aGlzLl9fZWVfXzoobj15LnZhbHVlPXAobnVsbCksbSh0aGlzLFwiX19lZV9fXCIseSkseS52YWx1ZT1udWxsKSxuW3RdP1wib2JqZWN0XCI9PXR5cGVvZiBuW3RdP25bdF0ucHVzaChlKTpuW3RdPVtuW3RdLGVdOm5bdF09ZSx0aGlzfSxvbmNlOmksb2ZmOm89ZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbztpZihmKGUpLCF2LmNhbGwodGhpcyxcIl9fZWVfX1wiKSlyZXR1cm4gdGhpcztpZighKG49dGhpcy5fX2VlX18pW3RdKXJldHVybiB0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZihyPW5bdF0pKWZvcihvPTA7aT1yW29dOysrbylpIT09ZSYmaS5fX2VlT25jZUxpc3RlbmVyX18hPT1lfHwoMj09PXIubGVuZ3RoP25bdF09cltvPzA6MV06ci5zcGxpY2UobywxKSk7ZWxzZSByIT09ZSYmci5fX2VlT25jZUxpc3RlbmVyX18hPT1lfHxkZWxldGUgblt0XTtyZXR1cm4gdGhpc30sZW1pdDphPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG87aWYodi5jYWxsKHRoaXMsXCJfX2VlX19cIikmJihpPXRoaXMuX19lZV9fW3RdKSlpZihcIm9iamVjdFwiPT10eXBlb2YgaSl7Zm9yKG49YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShuLTEpLGU9MTtlPG47KytlKW9bZS0xXT1hcmd1bWVudHNbZV07Zm9yKGk9aS5zbGljZSgpLGU9MDtyPWlbZV07KytlKWQuY2FsbChyLHRoaXMsbyl9ZWxzZSBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOmguY2FsbChpLHRoaXMpO2JyZWFrO2Nhc2UgMjpoLmNhbGwoaSx0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOmguY2FsbChpLHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpmb3Iobj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KG4tMSksZT0xO2U8bjsrK2Upb1tlLTFdPWFyZ3VtZW50c1tlXTtkLmNhbGwoaSx0aGlzLG8pfX19LGw9e29uOnUociksb25jZTp1KGkpLG9mZjp1KG8pLGVtaXQ6dShhKX0sYz1nKHt9LGwpLHQuZXhwb3J0cz1lPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P3AoYyk6ZyhPYmplY3QodCksbCl9LGUubWV0aG9kcz1zfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e29iamVjdDohMCxzeW1ib2w6ITB9O3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0O2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIFN5bWJvbClyZXR1cm4hMTt0PVN5bWJvbChcInRlc3Qgc3ltYm9sXCIpO3RyeXtTdHJpbmcodCl9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuISFyW3R5cGVvZiBTeW1ib2wuaXRlcmF0b3JdJiYoISFyW3R5cGVvZiBTeW1ib2wudG9QcmltaXRpdmVdJiYhIXJbdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZ10pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbyxhLHM9bigyNSksbD1uKDI3NCksYz1PYmplY3QuY3JlYXRlLHU9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsZj1PYmplY3QuZGVmaW5lUHJvcGVydHksZD1PYmplY3QucHJvdG90eXBlLGg9YyhudWxsKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wpe3I9U3ltYm9sO3RyeXtTdHJpbmcocigpKSxhPSEwfWNhdGNoKHQpe319dmFyIHAsbT0ocD1jKG51bGwpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuLHI9MDtwW3QrKHJ8fFwiXCIpXTspKytyO3JldHVybiBwW3QrPXJ8fFwiXCJdPSEwLGYoZCxlPVwiQEBcIit0LHMuZ3MobnVsbCxmdW5jdGlvbih0KXtufHwobj0hMCxmKHRoaXMsZSxzKHQpKSxuPSExKX0pKSxlfSk7bz1mdW5jdGlvbih0KXtpZih0aGlzIGluc3RhbmNlb2Ygbyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO3JldHVybiBpKHQpfSx0LmV4cG9ydHM9aT1mdW5jdGlvbiB0KGUpe3ZhciBuO2lmKHRoaXMgaW5zdGFuY2VvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIGE/cihlKToobj1jKG8ucHJvdG90eXBlKSxlPXZvaWQgMD09PWU/XCJcIjpTdHJpbmcoZSksdShuLHtfX2Rlc2NyaXB0aW9uX186cyhcIlwiLGUpLF9fbmFtZV9fOnMoXCJcIixtKGUpKX0pKX0sdShpLHtmb3I6cyhmdW5jdGlvbih0KXtyZXR1cm4gaFt0XT9oW3RdOmhbdF09aShTdHJpbmcodCkpfSksa2V5Rm9yOnMoZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gbCh0KSxoKWlmKGhbZV09PT10KXJldHVybiBlfSksaGFzSW5zdGFuY2U6cyhcIlwiLHImJnIuaGFzSW5zdGFuY2V8fGkoXCJoYXNJbnN0YW5jZVwiKSksaXNDb25jYXRTcHJlYWRhYmxlOnMoXCJcIixyJiZyLmlzQ29uY2F0U3ByZWFkYWJsZXx8aShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSksaXRlcmF0b3I6cyhcIlwiLHImJnIuaXRlcmF0b3J8fGkoXCJpdGVyYXRvclwiKSksbWF0Y2g6cyhcIlwiLHImJnIubWF0Y2h8fGkoXCJtYXRjaFwiKSkscmVwbGFjZTpzKFwiXCIsciYmci5yZXBsYWNlfHxpKFwicmVwbGFjZVwiKSksc2VhcmNoOnMoXCJcIixyJiZyLnNlYXJjaHx8aShcInNlYXJjaFwiKSksc3BlY2llczpzKFwiXCIsciYmci5zcGVjaWVzfHxpKFwic3BlY2llc1wiKSksc3BsaXQ6cyhcIlwiLHImJnIuc3BsaXR8fGkoXCJzcGxpdFwiKSksdG9QcmltaXRpdmU6cyhcIlwiLHImJnIudG9QcmltaXRpdmV8fGkoXCJ0b1ByaW1pdGl2ZVwiKSksdG9TdHJpbmdUYWc6cyhcIlwiLHImJnIudG9TdHJpbmdUYWd8fGkoXCJ0b1N0cmluZ1RhZ1wiKSksdW5zY29wYWJsZXM6cyhcIlwiLHImJnIudW5zY29wYWJsZXN8fGkoXCJ1bnNjb3BhYmxlc1wiKSl9KSx1KG8ucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpzKGkpLHRvU3RyaW5nOnMoXCJcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fbmFtZV9ffSl9KSx1KGkucHJvdG90eXBlLHt0b1N0cmluZzpzKGZ1bmN0aW9uKCl7cmV0dXJuXCJTeW1ib2wgKFwiK2wodGhpcykuX19kZXNjcmlwdGlvbl9fK1wiKVwifSksdmFsdWVPZjpzKGZ1bmN0aW9uKCl7cmV0dXJuIGwodGhpcyl9KX0pLGYoaS5wcm90b3R5cGUsaS50b1ByaW1pdGl2ZSxzKFwiXCIsZnVuY3Rpb24oKXt2YXIgdD1sKHRoaXMpO3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6dC50b1N0cmluZygpfSkpLGYoaS5wcm90b3R5cGUsaS50b1N0cmluZ1RhZyxzKFwiY1wiLFwiU3ltYm9sXCIpKSxmKG8ucHJvdG90eXBlLGkudG9TdHJpbmdUYWcscyhcImNcIixpLnByb3RvdHlwZVtpLnRvU3RyaW5nVGFnXSkpLGYoby5wcm90b3R5cGUsaS50b1ByaW1pdGl2ZSxzKFwiY1wiLGkucHJvdG90eXBlW2kudG9QcmltaXRpdmVdKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDI3NSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBzeW1ib2xcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKFwic3ltYm9sXCI9PXR5cGVvZiB0fHwhIXQuY29uc3RydWN0b3ImJihcIlN5bWJvbFwiPT09dC5jb25zdHJ1Y3Rvci5uYW1lJiZcIlN5bWJvbFwiPT09dFt0LmNvbnN0cnVjdG9yLnRvU3RyaW5nVGFnXSkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNTkpLGk9bigzMyksbz1uKDYwKSxhPW4oMTgpLml0ZXJhdG9yLHM9QXJyYXkuaXNBcnJheTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISFpKHQpJiYoISFzKHQpfHwoISFvKHQpfHwoISFyKHQpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2FdKSkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNTkpLGk9bigxNCksbz1uKDYwKSxhPW4oMjc4KSxzPUFycmF5LmlzQXJyYXksbD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxjPUFycmF5LnByb3RvdHlwZS5zb21lO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHUsZixkLGgscCxtLGcsdj1hcmd1bWVudHNbMl07aWYocyh0KXx8cih0KT9uPVwiYXJyYXlcIjpvKHQpP249XCJzdHJpbmdcIjp0PWEodCksaShlKSxmPWZ1bmN0aW9uKCl7ZD0hMH0sXCJhcnJheVwiIT09bilpZihcInN0cmluZ1wiIT09bilmb3IodT10Lm5leHQoKTshdS5kb25lOyl7aWYobC5jYWxsKGUsdix1LnZhbHVlLGYpLGQpcmV0dXJuO3U9dC5uZXh0KCl9ZWxzZSBmb3IocD10Lmxlbmd0aCxoPTA7aDxwJiYobT10W2hdLGgrMTxwJiYoZz1tLmNoYXJDb2RlQXQoMCkpPj01NTI5NiYmZzw9NTYzMTkmJihtKz10WysraF0pLGwuY2FsbChlLHYsbSxmKSwhZCk7KytoKTtlbHNlIGMuY2FsbCh0LGZ1bmN0aW9uKHQpe3JldHVybiBsLmNhbGwoZSx2LHQsZiksZH0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oNTkpLGk9big2MCksbz1uKDI3OSksYT1uKDI4OSkscz1uKDE0MiksbD1uKDE4KS5pdGVyYXRvcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygcyh0KVtsXT90W2xdKCk6cih0KT9uZXcgbyh0KTppKHQpP25ldyBhKHQpOm5ldyBvKHQpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9big1OCksbz1uKDk5KSxhPW4oMjUpLHM9bigxOCksbD1uKDEwMCksYz1PYmplY3QuZGVmaW5lUHJvcGVydHk7cj10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgcmVxdWlyZXMgJ25ldydcIik7bC5jYWxsKHRoaXMsdCksZT1lP28uY2FsbChlLFwia2V5K3ZhbHVlXCIpP1wia2V5K3ZhbHVlXCI6by5jYWxsKGUsXCJrZXlcIik/XCJrZXlcIjpcInZhbHVlXCI6XCJ2YWx1ZVwiLGModGhpcyxcIl9fa2luZF9fXCIsYShcIlwiLGUpKX0saSYmaShyLGwpLGRlbGV0ZSByLnByb3RvdHlwZS5jb25zdHJ1Y3RvcixyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGwucHJvdG90eXBlLHtfcmVzb2x2ZTphKGZ1bmN0aW9uKHQpe3JldHVyblwidmFsdWVcIj09PXRoaXMuX19raW5kX18/dGhpcy5fX2xpc3RfX1t0XTpcImtleSt2YWx1ZVwiPT09dGhpcy5fX2tpbmRfXz9bdCx0aGlzLl9fbGlzdF9fW3RdXTp0fSl9KSxjKHIucHJvdG90eXBlLHMudG9TdHJpbmdUYWcsYShcImNcIixcIkFycmF5IEl0ZXJhdG9yXCIpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9bigyODEpLG89bigxNDEpLGE9bigxNCkscz1uKDI4NiksbD1uKDE0KSxjPW4oMTMpLHU9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsZj1PYmplY3QuZGVmaW5lUHJvcGVydHksZD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3I9ZnVuY3Rpb24odCxlLG4pe3ZhciByLG89YyhlKSYmbChlLnZhbHVlKTtyZXR1cm4gZGVsZXRlKHI9aShlKSkud3JpdGFibGUsZGVsZXRlIHIudmFsdWUsci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hbi5vdmVyd3JpdGVEZWZpbml0aW9uJiZkLmNhbGwodGhpcyx0KT9vOihlLnZhbHVlPXUuY2FsbChvLG4ucmVzb2x2ZUNvbnRleHQ/bi5yZXNvbHZlQ29udGV4dCh0aGlzKTp0aGlzKSxmKHRoaXMsdCxlKSx0aGlzW3RdKX0scn0sdC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPW8oYXJndW1lbnRzWzFdKTtyZXR1cm4gbnVsbCE9ZS5yZXNvbHZlQ29udGV4dCYmYShlLnJlc29sdmVDb250ZXh0KSxzKHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gcihuLHQsZSl9KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDI4MiksaT1uKDk4KSxvPW4oMTMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3Qobyh0KSksbj1hcmd1bWVudHNbMV0sYT1PYmplY3QoYXJndW1lbnRzWzJdKTtpZihlIT09dCYmIW4pcmV0dXJuIGU7dmFyIHM9e307cmV0dXJuIG4/cihuLGZ1bmN0aW9uKGUpeyhhLmVuc3VyZXx8ZSBpbiB0KSYmKHNbZV09dFtlXSl9KTppKHMsdCksc319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9bigyODMpKCk/QXJyYXkuZnJvbTpuKDI4NCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdCxlLG49QXJyYXkuZnJvbTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYoZT1uKHQ9W1wicmF6XCIsXCJkd2FcIl0pLEJvb2xlYW4oZSYmZSE9PXQmJlwiZHdhXCI9PT1lWzFdKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOCkuaXRlcmF0b3IsaT1uKDU5KSxvPW4oMjg1KSxhPW4oMTM4KSxzPW4oMTQpLGw9bigxMyksYz1uKDMzKSx1PW4oNjApLGY9QXJyYXkuaXNBcnJheSxkPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLGg9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm51bGx9LHA9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLG0sZyx2LHksYix4LHcsQyxrPWFyZ3VtZW50c1sxXSxfPWFyZ3VtZW50c1syXTtpZih0PU9iamVjdChsKHQpKSxjKGspJiZzKGspLHRoaXMmJnRoaXMhPT1BcnJheSYmbyh0aGlzKSllPXRoaXM7ZWxzZXtpZighayl7aWYoaSh0KSlyZXR1cm4gMSE9PSh2PXQubGVuZ3RoKT9BcnJheS5hcHBseShudWxsLHQpOigoZz1uZXcgQXJyYXkoMSkpWzBdPXRbMF0sZyk7aWYoZih0KSl7Zm9yKGc9bmV3IEFycmF5KHY9dC5sZW5ndGgpLG49MDtuPHY7KytuKWdbbl09dFtuXTtyZXR1cm4gZ319Zz1bXX1pZighZih0KSlpZih2b2lkIDAhPT0odz10W3JdKSl7Zm9yKGI9cyh3KS5jYWxsKHQpLGUmJihnPW5ldyBlKSx4PWIubmV4dCgpLG49MDsheC5kb25lOylDPWs/ZC5jYWxsKGssXyx4LnZhbHVlLG4pOngudmFsdWUsZT8oaC52YWx1ZT1DLHAoZyxuLGgpKTpnW25dPUMseD1iLm5leHQoKSwrK247dj1ufWVsc2UgaWYodSh0KSl7Zm9yKHY9dC5sZW5ndGgsZSYmKGc9bmV3IGUpLG49MCxtPTA7bjx2OysrbilDPXRbbl0sbisxPHYmJih5PUMuY2hhckNvZGVBdCgwKSk+PTU1Mjk2JiZ5PD01NjMxOSYmKEMrPXRbKytuXSksQz1rP2QuY2FsbChrLF8sQyxtKTpDLGU/KGgudmFsdWU9QyxwKGcsbSxoKSk6Z1ttXT1DLCsrbTt2PW19aWYodm9pZCAwPT09dilmb3Iodj1hKHQubGVuZ3RoKSxlJiYoZz1uZXcgZSh2KSksbj0wO248djsrK24pQz1rP2QuY2FsbChrLF8sdFtuXSxuKTp0W25dLGU/KGgudmFsdWU9QyxwKGcsbixoKSk6Z1tuXT1DO3JldHVybiBlJiYoaC52YWx1ZT1udWxsLGcubGVuZ3RoPXYpLGd9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxpPXIuY2FsbChuKDEzNykpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZyLmNhbGwodCk9PT1pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTQpLGk9bigyODcpLG89RnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e30sYT1hcmd1bWVudHNbMl07cmV0dXJuIHIoZSksaSh0LGZ1bmN0aW9uKHQscixpLHMpe25bcl09by5jYWxsKGUsYSx0LHIsaSxzKX0pLG59fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjg4KShcImZvckVhY2hcIil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE0KSxpPW4oMTMpLG89RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQsYT1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxzPU9iamVjdC5rZXlzLGw9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obixjKXt2YXIgdSxmPWFyZ3VtZW50c1syXSxkPWFyZ3VtZW50c1szXTtyZXR1cm4gbj1PYmplY3QoaShuKSkscihjKSx1PXMobiksZCYmdS5zb3J0KFwiZnVuY3Rpb25cIj09dHlwZW9mIGQ/by5jYWxsKGQsbik6dm9pZCAwKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiYodD11W3RdKSxhLmNhbGwodCx1LGZ1bmN0aW9uKHQscil7cmV0dXJuIGwuY2FsbChuLHQpP2EuY2FsbChjLGYsblt0XSx0LG4scik6ZX0pfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPW4oNTgpLG89bigyNSksYT1uKDE4KSxzPW4oMTAwKSxsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyPXQuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighKHRoaXMgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgcmVxdWlyZXMgJ25ldydcIik7dD1TdHJpbmcodCkscy5jYWxsKHRoaXMsdCksbCh0aGlzLFwiX19sZW5ndGhfX1wiLG8oXCJcIix0Lmxlbmd0aCkpfSxpJiZpKHIscyksZGVsZXRlIHIucHJvdG90eXBlLmNvbnN0cnVjdG9yLHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocy5wcm90b3R5cGUse19uZXh0Om8oZnVuY3Rpb24oKXtpZih0aGlzLl9fbGlzdF9fKXJldHVybiB0aGlzLl9fbmV4dEluZGV4X188dGhpcy5fX2xlbmd0aF9fP3RoaXMuX19uZXh0SW5kZXhfXysrOnZvaWQgdGhpcy5fdW5CaW5kKCl9KSxfcmVzb2x2ZTpvKGZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5fX2xpc3RfX1t0XTtyZXR1cm4gdGhpcy5fX25leHRJbmRleF9fPT09dGhpcy5fX2xlbmd0aF9fP246KGU9bi5jaGFyQ29kZUF0KDApKT49NTUyOTYmJmU8PTU2MzE5P24rdGhpcy5fX2xpc3RfX1t0aGlzLl9fbmV4dEluZGV4X18rK106bn0pfSksbChyLnByb3RvdHlwZSxhLnRvU3RyaW5nVGFnLG8oXCJjXCIsXCJTdHJpbmcgSXRlcmF0b3JcIikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT1uKDU4KSxvPW4oOTkpLGE9bigyNSkscz1uKDEwMCksbD1uKDE4KS50b1N0cmluZ1RhZyxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyPXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXJldHVybiBuZXcgcih0LGUpO3MuY2FsbCh0aGlzLHQuX19zZXREYXRhX18sdCksZT1lJiZvLmNhbGwoZSxcImtleSt2YWx1ZVwiKT9cImtleSt2YWx1ZVwiOlwidmFsdWVcIixjKHRoaXMsXCJfX2tpbmRfX1wiLGEoXCJcIixlKSl9LGkmJmkocixzKSxyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjphKHIpLF9yZXNvbHZlOmEoZnVuY3Rpb24odCl7cmV0dXJuXCJ2YWx1ZVwiPT09dGhpcy5fX2tpbmRfXz90aGlzLl9fbGlzdF9fW3RdOlt0aGlzLl9fbGlzdF9fW3RdLHRoaXMuX19saXN0X19bdF1dfSksdG9TdHJpbmc6YShmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBTZXQgSXRlcmF0b3JdXCJ9KX0pLGMoci5wcm90b3R5cGUsbCxhKFwiY1wiLFwiU2V0IEl0ZXJhdG9yXCIpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2YgU2V0JiZcIltvYmplY3QgU2V0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFNldC5wcm90b3R5cGUpfSxmdW5jdGlvbih0LGUsbil7bigxMikmJlwiZ1wiIT0vLi9nLmZsYWdzJiZuKDQyKS5mKFJlZ0V4cC5wcm90b3R5cGUsXCJmbGFnc1wiLHtjb25maWd1cmFibGU6ITAsZ2V0Om4oNTQpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEpLGk9ci5KU09OfHwoci5KU09OPXtzdHJpbmdpZnk6SlNPTi5zdHJpbmdpZnl9KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkuc3RyaW5naWZ5LmFwcGx5KGksYXJndW1lbnRzKX19LGZ1bmN0aW9uKHQsZSxuKXtuKDI5NSksdC5leHBvcnRzPW4oMSkuT2JqZWN0LnZhbHVlc30sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksaT1uKDI5NikoITEpO3Ioci5TLFwiT2JqZWN0XCIse3ZhbHVlczpmdW5jdGlvbih0KXtyZXR1cm4gaSh0KX19KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oOCksaT1uKDI3KSxvPW4oMTYpLGE9big0MSkuZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbixzPW8oZSksbD1pKHMpLGM9bC5sZW5ndGgsdT0wLGY9W107Yz51OyluPWxbdSsrXSxyJiYhYS5jYWxsKHMsbil8fGYucHVzaCh0P1tuLHNbbl1dOnNbbl0pO3JldHVybiBmfX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMxKSxpPW4oMjk4KSg1KSxvPSEwO1wiZmluZFwiaW5bXSYmQXJyYXkoMSkuZmluZChmdW5jdGlvbigpe289ITF9KSxyKHIuUCtyLkYqbyxcIkFycmF5XCIse2ZpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxuKDEyMykoXCJmaW5kXCIpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4NyksaT1uKDEyMCksbz1uKDEyMiksYT1uKDI5KSxzPW4oMjk5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj0xPT10LGw9Mj09dCxjPTM9PXQsdT00PT10LGY9Nj09dCxkPTU9PXR8fGYsaD1lfHxzO3JldHVybiBmdW5jdGlvbihlLHMscCl7Zm9yKHZhciBtLGcsdj1vKGUpLHk9aSh2KSxiPXIocyxwLDMpLHg9YSh5Lmxlbmd0aCksdz0wLEM9bj9oKGUseCk6bD9oKGUsMCk6dm9pZCAwO3g+dzt3KyspaWYoKGR8fHcgaW4geSkmJihnPWIobT15W3ddLHcsdiksdCkpaWYobilDW3ddPWc7ZWxzZSBpZihnKXN3aXRjaCh0KXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBtO2Nhc2UgNjpyZXR1cm4gdztjYXNlIDI6Qy5wdXNoKG0pfWVsc2UgaWYodSlyZXR1cm4hMTtyZXR1cm4gZj8tMTpjfHx1P3U6Q319fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMDApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcocih0KSkoZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMiksaT1uKDMwMSksbz1uKDkpKFwic3BlY2llc1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGkodCkmJihcImZ1bmN0aW9uXCIhPXR5cGVvZihlPXQuY29uc3RydWN0b3IpfHxlIT09QXJyYXkmJiFpKGUucHJvdG90eXBlKXx8KGU9dm9pZCAwKSxyKGUpJiZudWxsPT09KGU9ZVtvXSkmJihlPXZvaWQgMCkpLHZvaWQgMD09PWU/QXJyYXk6ZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUzKTt0LmV4cG9ydHM9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJBcnJheVwiPT1yKHQpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oMzAzKShcImFuY2hvclwiLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdCh0aGlzLFwiYVwiLFwibmFtZVwiLGUpfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMSksaT1uKDI0KSxvPW4oMzApLGE9L1wiL2cscz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TdHJpbmcobyh0KSkscz1cIjxcIitlO3JldHVyblwiXCIhPT1uJiYocys9XCIgXCIrbisnPVwiJytTdHJpbmcocikucmVwbGFjZShhLFwiJnF1b3Q7XCIpKydcIicpLHMrXCI+XCIraStcIjwvXCIrZStcIj5cIn07dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49e307blt0XT1lKHMpLHIoci5QK3IuRippKGZ1bmN0aW9uKCl7dmFyIGU9XCJcIlt0XSgnXCInKTtyZXR1cm4gZSE9PWUudG9Mb3dlckNhc2UoKXx8ZS5zcGxpdCgnXCInKS5sZW5ndGg+M30pLFwiU3RyaW5nXCIsbil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigzMDYpfSxmdW5jdGlvbih0LGUsbil7bigzMDcpLHQuZXhwb3J0cz1uKDEpLk9iamVjdC5nZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjgpLGk9big5NCk7big3NykoXCJnZXRQcm90b3R5cGVPZlwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBpKHIodCkpfX0pfSxmdW5jdGlvbih0LGUsbil7bigzMDkpLHQuZXhwb3J0cz1uKDEpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMik7cihyLlMsXCJPYmplY3RcIix7c2V0UHJvdG90eXBlT2Y6bigzMTApLnNldH0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSksaT1uKDcpLG89ZnVuY3Rpb24odCxlKXtpZihpKHQpLCFyKGUpJiZudWxsIT09ZSl0aHJvdyBUeXBlRXJyb3IoZStcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKHQsZSxyKXt0cnl7KHI9bigyNikoRnVuY3Rpb24uY2FsbCxuKDUxKS5mKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIikuc2V0LDIpKSh0LFtdKSxlPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaCh0KXtlPSEwfXJldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBvKHQsbiksZT90Ll9fcHJvdG9fXz1uOnIodCxuKSx0fX0oe30sITEpOnZvaWQgMCksY2hlY2s6b319LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigzMTIpfSxmdW5jdGlvbih0LGUsbil7bigzMTMpLHQuZXhwb3J0cz1uKDEpLlJlZmxlY3QuZ2V0fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MSksaT1uKDk0KSxvPW4oMTUpLGE9bigyKSxzPW4oMTEpLGw9big3KTthKGEuUyxcIlJlZmxlY3RcIix7Z2V0OmZ1bmN0aW9uIHQoZSxuKXt2YXIgYSxjLHU9YXJndW1lbnRzLmxlbmd0aDwzP2U6YXJndW1lbnRzWzJdO3JldHVybiBsKGUpPT09dT9lW25dOihhPXIuZihlLG4pKT9vKGEsXCJ2YWx1ZVwiKT9hLnZhbHVlOnZvaWQgMCE9PWEuZ2V0P2EuZ2V0LmNhbGwodSk6dm9pZCAwOnMoYz1pKGUpKT90KGMsbix1KTp2b2lkIDB9fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE5KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PXIodCkpOyk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMzE2KX0sZnVuY3Rpb24odCxlLG4pe24oMzE3KTt2YXIgcj1uKDEpLk9iamVjdDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gci5jcmVhdGUodCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpO3Ioci5TLFwiT2JqZWN0XCIse2NyZWF0ZTpuKDc2KX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNDcpO2Z1bmN0aW9uIGkoZSxuKXtyZXR1cm4gdC5leHBvcnRzPWk9cnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSxpKGUsbil9dC5leHBvcnRzPWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpO2Z1bmN0aW9uIGkodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWUuU2hvdz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpKHRoaXMsdCksdGhpcy5ub2RlPW51bGx9cmV0dXJuIHIodCxbe2tleTpcImJpbmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm5vZGU9dH19LHtrZXk6XCJ1bmJpbmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm5vZGU9bnVsbH19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm5vZGUuc3R5bGUuZGlzcGxheT10P1wiXCI6XCJub25lXCJ9fV0pLHR9KCksZS5IaWRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLm5vZGU9bnVsbH1yZXR1cm4gcih0LFt7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZT10fX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZT1udWxsfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZS5zdHlsZS5kaXNwbGF5PXQ/XCJub25lXCI6XCJcIn19XSksdH0oKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCk7ZS5GYWRlSW49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLm5vZGU9bnVsbH1yZXR1cm4gcih0LFt7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZT10fX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZT1udWxsfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT8zMDA6YXJndW1lbnRzWzBdO3RoaXMubm9kZS5zdHlsZS5vcGFjaXR5PTAsdGhpcy5ub2RlLnN0eWxlLnRyYW5zaXRpb249XCJvcGFjaXR5IFwiK2UrXCJtc1wiLHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtyZXR1cm4gdC5ub2RlLnN0eWxlLm9wYWNpdHk9MX0pfX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7IWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyx0KSx0aGlzLnR5cGU9ZSx0aGlzLmhhbmRsZXI9bnVsbCx0aGlzLmNhbGxiYWNrPXRoaXMuY2FsbGJhY2suYmluZCh0aGlzKX1yZXR1cm4gcih0LFt7a2V5OlwiY2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmhhbmRsZXIodCl9fSx7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5jYWxsYmFjayl9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudHlwZSx0aGlzLmNhbGxiYWNrKX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmhhbmRsZXI9dH19XSksdH0oKTtlLmRlZmF1bHQ9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9big0NSksbz0ocj1pKSYmci5fX2VzTW9kdWxlP3I6e2RlZmF1bHQ6cn0sYT1uKDMyMyk7by5kZWZhdWx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcyxpPWFyZ3VtZW50cy5sZW5ndGg8PTN8fHZvaWQgMD09PWFyZ3VtZW50c1szXT92b2lkIDA6YXJndW1lbnRzWzNdO3RoaXMuZGVsZWdhdGVzfHwodGhpcy5kZWxlZ2F0ZXM9W10sdGhpcy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7aWYoOD09PXQubm9kZVR5cGUpdGhyb3dcIkNhbiBub3QgdXNlIGV2ZW50IGRlbGVnYXRpbmcgd2l0aCBub24tZWxlbWVudCBub2RlcyBvbiBmaXJzdCBsZXZlbC5cIjtyLmRlbGVnYXRlc1tlXT1uZXcgYS5EZWxlZ2F0ZSh0KX0pKSx0aGlzLmRlbGVnYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3JldHVybiByLm9uKHQsZSxuLGkpfSl9LG8uZGVmYXVsdC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP3ZvaWQgMDphcmd1bWVudHNbMF0sZT1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dm9pZCAwOmFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50cy5sZW5ndGg8PTJ8fHZvaWQgMD09PWFyZ3VtZW50c1syXT92b2lkIDA6YXJndW1lbnRzWzJdLHI9YXJndW1lbnRzLmxlbmd0aDw9M3x8dm9pZCAwPT09YXJndW1lbnRzWzNdP3ZvaWQgMDphcmd1bWVudHNbM107dGhpcy5kZWxlZ2F0ZXMuZm9yRWFjaChmdW5jdGlvbihpKXtyZXR1cm4gaS5vZmYodCxlLG4scil9KX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQHByZXNlcnZlIENyZWF0ZSBhbmQgbWFuYWdlIGEgRE9NIGV2ZW50IGRlbGVnYXRvci5cbiAqXG4gKiBAY29kaW5nc3RhbmRhcmQgZnRsYWJzLWpzdjJcbiAqIEBjb3B5cmlnaHQgVGhlIEZpbmFuY2lhbCBUaW1lcyBMaW1pdGVkIFtBbGwgUmlnaHRzIFJlc2VydmVkXVxuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UgKHNlZSBMSUNFTlNFLnR4dClcbiAqL3ZhciByPW4oMzI0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyByKHQpfSx0LmV4cG9ydHMuRGVsZWdhdGU9cn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dGhpcy5saXN0ZW5lck1hcD1be30se31dLHQmJnRoaXMucm9vdCh0KSx0aGlzLmhhbmRsZT1yLnByb3RvdHlwZS5oYW5kbGUuYmluZCh0aGlzKX10LmV4cG9ydHM9cixyLnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcy5saXN0ZW5lck1hcDtpZih0aGlzLnJvb3RFbGVtZW50KXtmb3IoZSBpbiBuWzFdKW5bMV0uaGFzT3duUHJvcGVydHkoZSkmJnRoaXMucm9vdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlLCEwKTtmb3IoZSBpbiBuWzBdKW5bMF0uaGFzT3duUHJvcGVydHkoZSkmJnRoaXMucm9vdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlLCExKX1pZighdHx8IXQuYWRkRXZlbnRMaXN0ZW5lcilyZXR1cm4gdGhpcy5yb290RWxlbWVudCYmZGVsZXRlIHRoaXMucm9vdEVsZW1lbnQsdGhpcztmb3IoZSBpbiB0aGlzLnJvb3RFbGVtZW50PXQsblsxXSluWzFdLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnJvb3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZSx0aGlzLmhhbmRsZSwhMCk7Zm9yKGUgaW4gblswXSluWzBdLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnJvb3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZSx0aGlzLmhhbmRsZSwhMSk7cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmNhcHR1cmVGb3JUeXBlPWZ1bmN0aW9uKHQpe3JldHVybi0xIT09W1wiYmx1clwiLFwiZXJyb3JcIixcImZvY3VzXCIsXCJsb2FkXCIsXCJyZXNpemVcIixcInNjcm9sbFwiXS5pbmRleE9mKHQpfSxyLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgcyxsLGMsdTtpZighdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlOiBcIit0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYocj1uLG49ZSxlPW51bGwpLHZvaWQgMD09PXImJihyPXRoaXMuY2FwdHVyZUZvclR5cGUodCkpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkhhbmRsZXIgbXVzdCBiZSBhIHR5cGUgb2YgRnVuY3Rpb25cIik7cmV0dXJuIHM9dGhpcy5yb290RWxlbWVudCwobD10aGlzLmxpc3RlbmVyTWFwW3I/MTowXSlbdF18fChzJiZzLmFkZEV2ZW50TGlzdGVuZXIodCx0aGlzLmhhbmRsZSxyKSxsW3RdPVtdKSxlPy9eW2Etel0rJC9pLnRlc3QoZSk/KHU9ZSxjPW8pOi9eI1thLXowLTlcXC1fXSskL2kudGVzdChlKT8odT1lLnNsaWNlKDEpLGM9YSk6KHU9ZSxjPWkpOih1PW51bGwsYz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJvb3RFbGVtZW50PT09d2luZG93P2U9PT1kb2N1bWVudDp0aGlzLnJvb3RFbGVtZW50PT09ZX0uYmluZCh0aGlzKSksbFt0XS5wdXNoKHtzZWxlY3RvcjplLGhhbmRsZXI6bixtYXRjaGVyOmMsbWF0Y2hlclBhcmFtOnV9KSx0aGlzfSxyLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbyxhLHMsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYocj1uLG49ZSxlPW51bGwpLHZvaWQgMD09PXIpcmV0dXJuIHRoaXMub2ZmKHQsZSxuLCEwKSx0aGlzLm9mZih0LGUsbiwhMSksdGhpcztpZihhPXRoaXMubGlzdGVuZXJNYXBbcj8xOjBdLCF0KXtmb3IobCBpbiBhKWEuaGFzT3duUHJvcGVydHkobCkmJnRoaXMub2ZmKGwsZSxuKTtyZXR1cm4gdGhpc31pZighKHM9YVt0XSl8fCFzLmxlbmd0aClyZXR1cm4gdGhpcztmb3IoaT1zLmxlbmd0aC0xO2k+PTA7aS0tKW89c1tpXSxlJiZlIT09by5zZWxlY3Rvcnx8biYmbiE9PW8uaGFuZGxlcnx8cy5zcGxpY2UoaSwxKTtyZXR1cm4gcy5sZW5ndGh8fChkZWxldGUgYVt0XSx0aGlzLnJvb3RFbGVtZW50JiZ0aGlzLnJvb3RFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodCx0aGlzLmhhbmRsZSxyKSksdGhpc30sci5wcm90b3R5cGUuaGFuZGxlPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYSxzPXQudHlwZSxsPVtdO2lmKCEwIT09dC5mdExhYnNEZWxlZ2F0ZUlnbm9yZSl7c3dpdGNoKDM9PT0oYT10LnRhcmdldCkubm9kZVR5cGUmJihhPWEucGFyZW50Tm9kZSkscj10aGlzLnJvb3RFbGVtZW50LHQuZXZlbnRQaGFzZXx8KHQudGFyZ2V0IT09dC5jdXJyZW50VGFyZ2V0PzM6Mikpe2Nhc2UgMTpsPXRoaXMubGlzdGVuZXJNYXBbMV1bc107YnJlYWs7Y2FzZSAyOnRoaXMubGlzdGVuZXJNYXBbMF0mJnRoaXMubGlzdGVuZXJNYXBbMF1bc10mJihsPWwuY29uY2F0KHRoaXMubGlzdGVuZXJNYXBbMF1bc10pKSx0aGlzLmxpc3RlbmVyTWFwWzFdJiZ0aGlzLmxpc3RlbmVyTWFwWzFdW3NdJiYobD1sLmNvbmNhdCh0aGlzLmxpc3RlbmVyTWFwWzFdW3NdKSk7YnJlYWs7Y2FzZSAzOmw9dGhpcy5saXN0ZW5lck1hcFswXVtzXX1mb3Iobj1sLmxlbmd0aDthJiZuOyl7Zm9yKGU9MDtlPG4mJihpPWxbZV0pO2UrKylpZihpLm1hdGNoZXIuY2FsbChhLGkubWF0Y2hlclBhcmFtLGEpJiYobz10aGlzLmZpcmUodCxhLGkpKSwhMT09PW8pcmV0dXJuIHQuZnRMYWJzRGVsZWdhdGVJZ25vcmU9ITAsdm9pZCB0LnByZXZlbnREZWZhdWx0KCk7aWYoYT09PXIpYnJlYWs7bj1sLmxlbmd0aCxhPWEucGFyZW50RWxlbWVudH19fSxyLnByb3RvdHlwZS5maXJlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5oYW5kbGVyLmNhbGwoZSx0LGUpfTt2YXIgaT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5tYXRjaGVzfHxlLm1hdGNoZXNTZWxlY3Rvcnx8ZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGUubW96TWF0Y2hlc1NlbGVjdG9yfHxlLm1zTWF0Y2hlc1NlbGVjdG9yfHxlLm9NYXRjaGVzU2VsZWN0b3J9fShFbGVtZW50KTtmdW5jdGlvbiBvKHQsZSl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKT09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdD09PWUuaWR9ci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMub2ZmKCksdGhpcy5yb290KCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiZGVmYXVsdFwiLGZ1bmN0aW9uKCl7cmV0dXJuIHl9KTt2YXIgcj1uKDYxKSxpPW4ubihyKSxvPW4oNSksYT1uLm4obykscz1uKDYpLGw9bi5uKHMpLGM9big2MiksdT1uLm4oYyksZj1uKDE5KSxkPW4ubihmKSxoPW4oNjMpLHA9bi5uKGgpLG09big2NCksZz1uLm4obSksdj1uKDE1OSkseT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHQ7cmV0dXJuIGEoKSh0aGlzLGUpLCh0PXUoKSh0aGlzLGQoKShlKS5jYWxsKHRoaXMpKSkuc3RhdGU9e29uRXhjZXB0aW9uQ2xpY2s6bnVsbH0sdH1yZXR1cm4gZygpKGUsdCksbCgpKGUsW3trZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtpKCkodGhpcy5zdGF0ZSx0KSxwKCkoZCgpKGUucHJvdG90eXBlKSxcInVwZGF0ZVwiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtrZXk6XCJvblN0YWNrVHJhY2VDbGlja1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5zdGF0ZS5vbkV4Y2VwdGlvbkNsaWNrKHQsZSl9fV0pLGV9KG4ubih2KS5hKX0sZnVuY3Rpb24odCxlLG4pe24oNTcpLG4oNDQpLHQuZXhwb3J0cz1uKDMyNyl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9big5Nik7dC5leHBvcnRzPW4oMSkuZ2V0SXRlcmF0b3I9ZnVuY3Rpb24odCl7dmFyIGU9aSh0KTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBpdGVyYWJsZSFcIik7cmV0dXJuIHIoZS5jYWxsKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMyOSk7XCJzdHJpbmdcIj09dHlwZW9mIHImJihyPVtbdC5pLHIsXCJcIl1dKTt2YXIgaT17aG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMTQ4KShyLGkpO3IubG9jYWxzJiYodC5leHBvcnRzPXIubG9jYWxzKX0sZnVuY3Rpb24odCxlLG4peyh0LmV4cG9ydHM9bigzNCkoITEpKS5wdXNoKFt0LmksXCIuazJqcy1pZnJhbWV7ZGlzcGxheTpub25lfWlmcmFtZXtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOndoaXRlO3dpZHRoOjEwMCU7ei1pbmRleDoxMH1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbjtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtpZighdHx8XCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHQ7dmFyIG49ZS5wcm90b2NvbCtcIi8vXCIrZS5ob3N0LHI9bitlLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLyxcIi9cIik7cmV0dXJuIHQucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksZnVuY3Rpb24odCxlKXt2YXIgaSxvPWUudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KS5yZXBsYWNlKC9eJyguKiknJC8sZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0pO3JldHVybi9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3Qobyk/dDooaT0wPT09by5pbmRleE9mKFwiLy9cIik/bzowPT09by5pbmRleE9mKFwiL1wiKT9uK286citvLnJlcGxhY2UoL15cXC5cXC8vLFwiXCIpLFwidXJsKFwiK0pTT04uc3RyaW5naWZ5KGkpK1wiKVwiKX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzMyKTtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9W1t0LmkscixcIlwiXV0pO3ZhciBpPXtobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxNDgpKHIsaSk7ci5sb2NhbHMmJih0LmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbih0LGUsbil7KGU9dC5leHBvcnRzPW4oMzQpKCExKSkuaShuKDMzMyksXCJcIiksZS5pKG4oMzM0KSxcIlwiKSxlLmkobigzMzUpLFwiXCIpLGUuaShuKDMzNiksXCJcIik7dmFyIHI9bigzMzcpLGk9cihuKDMzOCkpLG89cihuKDMzOSkpLGE9cihuKDM0MCkpLHM9cihuKDM0MSkpLGw9cihuKDM0MikpLGM9cihuKDM0MykpLHU9cihuKDM0NCkpLGY9cihuKDM0NSkpLGQ9cihuKDM0NikpLGg9cihuKDM0NykpLHA9cihuKDM0OCkpLG09cihuKDM0OSkpLGc9cihuKDM1MCkpO2UucHVzaChbdC5pLFwiLmV4ZWN1dGFibGUtZnJhZ21lbnQtd3JhcHBlcnttYXJnaW4tYm90dG9tOjIwcHg7cG9zaXRpb246cmVsYXRpdmV9LmV4ZWN1dGFibGUtZnJhZ21lbnR7Ym9yZGVyOjFweCBzb2xpZCAjZWFlYWVjO2JvcmRlci1ib3R0b20td2lkdGg6MH0uZXhlY3V0YWJsZS1mcmFnbWVudC5kYXJjdWxhe2JvcmRlcjoxcHggc29saWQgZ3JheTtib3JkZXItYm90dG9tLXdpZHRoOjA7YmFja2dyb3VuZC1jb2xvcjojMzEzMzM2fS5oaWRkZW4tZGVwZW5kZW5jeXtkaXNwbGF5Om5vbmV9LkNvZGVNaXJyb3J7aGVpZ2h0OmF1dG87Zm9udC1zaXplOjEycHh9LkNvZGVNaXJyb3IgcHJle2xpbmUtaGVpZ2h0OjE2LjhweDttYXJnaW4tYm90dG9tOjAgIWltcG9ydGFudH0uQ29kZU1pcnJvciAuQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLWhvcml6b250YWwgZGl2LC5Db2RlTWlycm9yIC5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtdmVydGljYWwgZGl2e2Rpc3BsYXk6bm9uZX0uQ29kZU1pcnJvcjpob3ZlciAuQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLWhvcml6b250YWwgZGl2LC5Db2RlTWlycm9yOmhvdmVyIC5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtdmVydGljYWwgZGl2e2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZDojYWZiMWIzfS5Db2RlTWlycm9yLWxpbmVze3BhZGRpbmc6MDttYXJnaW46MTJweCAwfS5Db2RlTWlycm9yLWd1dHRlcntoZWlnaHQ6YXV0b30uQ29kZU1pcnJvcntsaW5lLWhlaWdodDoxLjQ7Zm9udC1mYW1pbHk6bWVubG8sIGNvbnNvbGFzLCBtb25vc3BhY2U7Zm9udC1zaXplOjEycHh9LkNvZGVNaXJyb3ItbGluZW51bWJlcnttaW4td2lkdGg6MDt0ZXh0LWFsaWduOmNlbnRlcn0uQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZC51bm1vZGlmaWFibGUtbGluZXtiYWNrZ3JvdW5kLWNvbG9yOiNlYWVhZWN9LkNvZGVNaXJyb3ItbGluZWJhY2tncm91bmQudW5tb2RpZmlhYmxlLWxpbmUtZGFya3tiYWNrZ3JvdW5kLWNvbG9yOiMzYzNmNDN9Lm1hcmtQbGFjZWhvbGRlcntib3JkZXItdG9wOjFweCBzb2xpZCAjMTY3ZGZmO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMxNjdkZmZ9Lm1hcmtQbGFjZWhvbGRlci1zdGFydHtib3JkZXItbGVmdDoxcHggc29saWQgIzE2N2RmZn0ubWFya1BsYWNlaG9sZGVyLWVuZHtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMxNjdkZmZ9LnJ1bi1idXR0b257cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDtyaWdodDo1cHg7dG9wOjVweDtoZWlnaHQ6MjBweDt3aWR0aDoxNnB4O2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtc2l6ZTpjb3ZlcjtiYWNrZ3JvdW5kOnVybChcIitpKycpIG5vLXJlcGVhdH0ucnVuLWJ1dHRvbi5fZGlzYWJsZWR7Y3Vyc29yOmRlZmF1bHQ7b3BhY2l0eTowLjV9LmxvYWRlcntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O21hcmdpbjowIGF1dG87Ym9yZGVyLXJhZGl1czo1MCU7dGV4dC1pbmRlbnQ6LTk5OTllbTtjb2xvcjojMTYxNjE2O2ZvbnQtc2l6ZTo4cHg7b3BhY2l0eTouNzthbmltYXRpb246bG9hZGVyIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0O2FuaW1hdGlvbi1kZWxheTowLjE2c30ubG9hZGVyLmRhcmN1bGF7b3BhY2l0eToxO2NvbG9yOiM2OTY5Njl9LmxvYWRlcjo6YmVmb3Jle2xlZnQ6LTMuNWVtO2FuaW1hdGlvbi1kZWxheTowcztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxNXB4O2JvcmRlci1yYWRpdXM6NTAlO2hlaWdodDoxNXB4O2NvbnRlbnQ6XFwnXFwnO2FuaW1hdGlvbjpsb2FkZXIgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXR9LmxvYWRlcjo6YWZ0ZXJ7bGVmdDozLjVlbTthbmltYXRpb24tZGVsYXk6MC4zMnM7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDtjb250ZW50OlxcJ1xcJzthbmltYXRpb246bG9hZGVyIDFzIGluZmluaXRlIGVhc2UtaW4tb3V0fUBrZXlmcmFtZXMgbG9hZGVyezEwMCV7Ym94LXNoYWRvdzowIDIuNWVtIDAgLTEuM2VtfTgwJXtib3gtc2hhZG93OjAgMi41ZW0gMCAtMS4zZW19MCV7Ym94LXNoYWRvdzowIDIuNWVtIDAgLTEuM2VtfTQwJXtib3gtc2hhZG93OjAgMi41ZW0gMCAwfX0uY21fX0VSUk9Se2NvbG9yOiNlYzU0MjQgIWltcG9ydGFudH0uZXJyb3JzLWFuZC13YXJuaW5ncy1ndXR0ZXJ7d2lkdGg6MTZweH0uRVJST1JndXR0ZXJ7aGVpZ2h0OjEzcHg7d2lkdGg6MTNweDttYXJnaW4tdG9wOjJweDttYXJnaW4tbGVmdDoycHg7YmFja2dyb3VuZDp1cmwoXCJodHRwczovL3RyeS5rb3RsaW5sYW5nLm9yZy9zdGF0aWMvaW1hZ2VzL2ljb25zX2FsbF9zcHJpdGUuc3ZnXCIpIG5vLXJlcGVhdCAtMTUwcHggLTUwMHB4fS5XQVJOSU5HZ3V0dGVye2hlaWdodDoxM3B4O3dpZHRoOjEzcHg7bWFyZ2luLXRvcDoycHg7bWFyZ2luLWxlZnQ6MnB4O2JhY2tncm91bmQ6dXJsKFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmcvc3RhdGljL2ltYWdlcy9pY29uc19hbGxfc3ByaXRlLnN2Z1wiKSBuby1yZXBlYXQgLTE1MHB4IC02MDBweH0uY21fX3JlZF93YXZ5X2xpbmV7YmFja2dyb3VuZDp1cmwoXCJodHRwczovL3RyeS5rb3RsaW5sYW5nLm9yZy9zdGF0aWMvaW1hZ2VzL3dhdnlsaW5lLXJlZC5naWZcIikgcmVwZWF0LXggMTAwJSAxMDAlO3BhZGRpbmctYm90dG9tOjJweH0uY21fX2dyZWVuX3dhdnlfbGluZXtiYWNrZ3JvdW5kOnVybChcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnL3N0YXRpYy9pbWFnZXMvd2F2eWxpbmUtZ3JlZW4uZ2lmXCIpIHJlcGVhdC14IDEwMCUgMTAwJTtwYWRkaW5nLWJvdHRvbToycHh9LmpzLWNvZGUtb3V0cHV0LWV4ZWN1dG9ye2JvcmRlci10b3A6MXB4IHNvbGlkICNlYWVhZWM7cG9zaXRpb246cmVsYXRpdmV9LmpzLWNvZGUtb3V0cHV0LWV4ZWN1dG9yLmRhcmN1bGF7Ym9yZGVyLXRvcDoxcHggc29saWQgZ3JleX0ub3V0cHV0LXdyYXBwZXJ7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2Rpc3BsYXk6ZmxleDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZWFlYWVjO21pbi1oZWlnaHQ6NjBweDtmb250LXNpemU6MTRweDtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlfS5vdXRwdXQtd3JhcHBlci5kYXJjdWxhe2JhY2tncm91bmQtY29sb3I6IzMxMzMzNjtjb2xvcjojYWZiMWIzfS5jb2RlLW91dHB1dHtmbGV4LWdyb3c6MTtmb250LWZhbWlseTpcIkxpYmVyYXRpb24gTW9ub1wiLENvbnNvbGFzLE1lbmxvLENvdXJpZXIsbW9ub3NwYWNlO292ZXJmbG93OmF1dG87cGFkZGluZy1sZWZ0OjEwcHg7cGFkZGluZy10b3A6MTVweH0uc3RhbmRhcmQtb3V0cHV0LmRhcmN1bGF7Y29sb3I6I2FmYjFiM30uZXJyb3Itb3V0cHV0e3doaXRlLXNwYWNlOnByZS13cmFwO2NvbG9yOiNlYzU0MjQ7bWluLWhlaWdodDoxLjRlbTttYXJnaW46MDt2ZXJ0aWNhbC1hbGlnbjp0b3B9LmVycm9yLW91dHB1dC5kYXJjdWxhe2NvbG9yOiNlYzU0MjR9LnN0YW5kYXJkLW91dHB1dHt3aGl0ZS1zcGFjZTpwcmU7Y29sb3I6IzAwMDttaW4taGVpZ2h0OjEuNGVtO21hcmdpbjowO3ZlcnRpY2FsLWFsaWduOnRvcH0udGVzdC1wYXNzZWR7d2hpdGUtc3BhY2U6cHJlO2NvbG9yOiM0ZGJiNWY7bWluLWhlaWdodDoxLjRlbTt2ZXJ0aWNhbC1hbGlnbjp0b3B9LmNvbnNvbGUtY2xvc2V7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt3aWR0aDoxNnB4O2hlaWdodDoxNnB4O2JhY2tncm91bmQ6I2FmYjFiMyB1cmwoJytvK1wiKSBuby1yZXBlYXR9LmNvbnNvbGUtY2xvc2UuZGFyY3VsYXtiYWNrZ3JvdW5kOnVybChcIitvK1wiKX0uY29uc29sZS1jbG9zZTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOmRpbWdyYXl9LmNvbnNvbGUtY2xvc2UuZGFyY3VsYTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlYzU0MjR9LnRlc3QtZmFpbCwudGVzdC1lcnJvcntjb2xvcjojZWM1NDI0O21pbi1oZWlnaHQ6MS40ZW07dmVydGljYWwtYWxpZ246dG9wfS5jb25zb2xlLWJsb2Nre2Rpc3BsYXk6ZmxleH0uY29uc29sZS1pY29ue21hcmdpbi10b3A6MnB4O3BhZGRpbmctcmlnaHQ6MjBweDt3aWR0aDoxNXB4O2hlaWdodDoxNXB4fS5jb25zb2xlLWljb24uYXR0ZW50aW9ue2JhY2tncm91bmQ6dXJsKFwiK2ErXCIpIG5vLXJlcGVhdH0uY29uc29sZS1pY29uLnBhc3NlZHtiYWNrZ3JvdW5kOnVybChcIitzK1wiKSBuby1yZXBlYXR9LmNvbnNvbGUtaWNvbi5mYWlse2JhY2tncm91bmQ6dXJsKFwiK2wrXCIpIG5vLXJlcGVhdH0uY29uc29sZS1pY29uLmVycm9ye2JhY2tncm91bmQ6dXJsKFwiK2wrXCIpIG5vLXJlcGVhdH0udGVzdC10aW1le2Zsb2F0OnJpZ2h0O2ZvbnQtc2l6ZToxMHB4O2NvbG9yOiNhZmIxYjM7bWFyZ2luLXJpZ2h0OjIwcHg7bWFyZ2luLXRvcDotMTRweH0uc3RhY2t0cmFjZS1lbGVtZW50e21hcmdpbi1sZWZ0OjIwcHh9LnN0YWNrdHJhY2UtZWxlbWVudCAuc3RhY2t0cmFjZS1saW5re2NvbG9yOiMxNjdkZmY7Y3Vyc29yOnBvaW50ZXJ9LnN0YWNrdHJhY2UtZWxlbWVudCAuc3RhY2t0cmFjZS1saW5rOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LkNvZGVNaXJyb3ItZm9sZGd1dHRlcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlfS5Db2RlTWlycm9yLWZvbGRndXR0ZXItZm9sZGVke3dpZHRoOjEwMCU7YmFja2dyb3VuZDp3aGl0ZX0uZm9sZC1idXR0b257cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjE5cHg7d2lkdGg6MzFweDt0b3A6MDtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsIC01MCUpO3otaW5kZXg6MTA7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDp0cmFuc3BhcmVudCB1cmwoXCIrYytcIikgbm8tcmVwZWF0fS5mb2xkLWJ1dHRvbi5faG92ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCIrdStcIil9LmZvbGQtYnV0dG9uLmRhcmN1bGF7YmFja2dyb3VuZDp1cmwoXCIrZitcIikgbm8tcmVwZWF0fS5mb2xkLWJ1dHRvbi5kYXJjdWxhLl9ob3ZlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcIitkK1wiKX0uX3VuZm9sZGVkIC5mb2xkLWJ1dHRvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcIitoK1wiKX0uX3VuZm9sZGVkIC5mb2xkLWJ1dHRvbi5faG92ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCIrcCtcIil9Ll91bmZvbGRlZCAuZm9sZC1idXR0b24uZGFyY3VsYXtiYWNrZ3JvdW5kOnVybChcIittK1wiKSBuby1yZXBlYXR9Ll91bmZvbGRlZCAuZm9sZC1idXR0b24uZGFyY3VsYS5faG92ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCIrZysnKX0uY29kZS1hcmVhe3Bvc2l0aW9uOnJlbGF0aXZlfS5jb21waWxlci1pbmZve3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7Zm9udC1zaXplOjEwcHg7Y29sb3I6I2FmYjFiM30uY29tcGlsZXItaW5mbyBzcGFue21hcmdpbi1sZWZ0OjE1cHh9LkNvZGVNaXJyb3ItaGludHN7cGFkZGluZy1sZWZ0OjAgIWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkICNhZmIxYjM7Ym9yZGVyLXJhZGl1czo0cHg7bGlzdC1zdHlsZTpub25lO3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6I2Y3ZjdmNztvdmVyZmxvdy15OmhpZGRlbjt6LWluZGV4OjEwO21heC1oZWlnaHQ6MjBlbTtib3gtc2hhZG93OjJweCAzcHggNXB4IHJnYmEoMCwwLDAsMC4yKX0uQ29kZU1pcnJvci1oaW50e2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZy1yaWdodDo1cHg7cGFkZGluZy1sZWZ0OjVweH1saS5Db2RlTWlycm9yLWhpbnQtYWN0aXZle2JhY2tncm91bmQtY29sb3I6I2Q4ZDhkODtjb2xvcjojMDAwMDAwfS5Db2RlTWlycm9yLWhpbnQgLm5hbWV7bWFyZ2luLXJpZ2h0OjIwcHh9LkNvZGVNaXJyb3ItaGludCAudGFpbHttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDo1cHh9LkNvZGVNaXJyb3ItaGludCAuaWNvbntoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O21hcmdpbi1yaWdodDo1cHh9Lmljb257YmFja2dyb3VuZDp1cmwoXCJodHRwczovL3RyeS5rb3RsaW5sYW5nLm9yZy9zdGF0aWMvaW1hZ2VzL2ljb25zX2FsbF9zcHJpdGUuc3ZnXCIpfS5pY29uLmNsYXNze2JhY2tncm91bmQ6dXJsKFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmcvc3RhdGljL2ltYWdlcy9jb21wbGV0aW9uX2NsYXNzLnN2Z1wiKX0uaWNvbi5wYWNrYWdle2JhY2tncm91bmQ6dXJsKFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmcvc3RhdGljL2ltYWdlcy9jb21wbGV0aW9uX3BhY2thZ2Uuc3ZnXCIpfS5pY29uLm1ldGhvZHtiYWNrZ3JvdW5kOnVybChcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnL3N0YXRpYy9pbWFnZXMvY29tcGxldGlvbl9tZXRob2Quc3ZnXCIpfS5pY29uLmdlbmVyaWNWYWx1ZXtiYWNrZ3JvdW5kOnVybChcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnL3N0YXRpYy9pbWFnZXMvY29tcGxldGlvbl9nZW5lcmljLnN2Z1wiKX0uaWNvbi5wcm9wZXJ0eXtiYWNrZ3JvdW5kOnVybChcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnL3N0YXRpYy9pbWFnZXMvY29tcGxldGlvbl9wcm9wZXJ0eS5zdmdcIil9ZGl2W2xhYmVsXTpob3ZlcjphZnRlcntjb250ZW50OmF0dHIobGFiZWwpO3BhZGRpbmc6MC4yNXJlbSAwLjVyZW07d2hpdGUtc3BhY2U6cHJlO21hcmdpbi10b3A6LTFyZW07ZGlzcGxheTppbmxpbmUtZmxleDtiYWNrZ3JvdW5kOiNmZWZmZGU7Ym9yZGVyLXJhZGl1czozcHg7bWFyZ2luLWxlZnQ6MXJlbTtjb2xvcjpibGFjaztib3JkZXI6MXB4IHNvbGlkICMzYzNmNDN9XFxuJyxcIlwiXSl9LGZ1bmN0aW9uKHQsZSxuKXsodC5leHBvcnRzPW4oMzQpKCExKSkucHVzaChbdC5pLFwiLyogQkFTSUNTICovXFxuXFxuLkNvZGVNaXJyb3Ige1xcbiAgLyogU2V0IGhlaWdodCwgd2lkdGgsIGJvcmRlcnMsIGFuZCBnbG9iYWwgZm9udCBwcm9wZXJ0aWVzIGhlcmUgKi9cXG4gIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XFxuICBoZWlnaHQ6IDMwMHB4O1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgZGlyZWN0aW9uOiBsdHI7XFxufVxcblxcbi8qIFBBRERJTkcgKi9cXG5cXG4uQ29kZU1pcnJvci1saW5lcyB7XFxuICBwYWRkaW5nOiA0cHggMDsgLyogVmVydGljYWwgcGFkZGluZyBhcm91bmQgY29udGVudCAqL1xcbn1cXG4uQ29kZU1pcnJvciBwcmUuQ29kZU1pcnJvci1saW5lLFxcbi5Db2RlTWlycm9yIHByZS5Db2RlTWlycm9yLWxpbmUtbGlrZSB7XFxuICBwYWRkaW5nOiAwIDRweDsgLyogSG9yaXpvbnRhbCBwYWRkaW5nIG9mIGNvbnRlbnQgKi9cXG59XFxuXFxuLkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlciwgLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgLyogVGhlIGxpdHRsZSBzcXVhcmUgYmV0d2VlbiBIIGFuZCBWIHNjcm9sbGJhcnMgKi9cXG59XFxuXFxuLyogR1VUVEVSICovXFxuXFxuLkNvZGVNaXJyb3ItZ3V0dGVycyB7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjdmNztcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbi5Db2RlTWlycm9yLWxpbmVudW1iZXJzIHt9XFxuLkNvZGVNaXJyb3ItbGluZW51bWJlciB7XFxuICBwYWRkaW5nOiAwIDNweCAwIDVweDtcXG4gIG1pbi13aWR0aDogMjBweDtcXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xcbiAgY29sb3I6ICM5OTk7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIgeyBjb2xvcjogYmxhY2s7IH1cXG4uQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXItc3VidGxlIHsgY29sb3I6ICM5OTk7IH1cXG5cXG4vKiBDVVJTT1IgKi9cXG5cXG4uQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBibGFjaztcXG4gIGJvcmRlci1yaWdodDogbm9uZTtcXG4gIHdpZHRoOiAwO1xcbn1cXG4vKiBTaG93biB3aGVuIG1vdmluZyBpbiBiaS1kaXJlY3Rpb25hbCB0ZXh0ICovXFxuLkNvZGVNaXJyb3IgZGl2LkNvZGVNaXJyb3Itc2Vjb25kYXJ5Y3Vyc29yIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgc2lsdmVyO1xcbn1cXG4uY20tZmF0LWN1cnNvciAuQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgd2lkdGg6IGF1dG87XFxuICBib3JkZXI6IDAgIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQ6ICM3ZTc7XFxufVxcbi5jbS1mYXQtY3Vyc29yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgei1pbmRleDogMTtcXG59XFxuLmNtLWZhdC1jdXJzb3ItbWFyayB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIwLCAyNTUsIDIwLCAwLjUpO1xcbiAgLXdlYmtpdC1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbiAgLW1vei1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbiAgYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTtcXG59XFxuLmNtLWFuaW1hdGUtZmF0LWN1cnNvciB7XFxuICB3aWR0aDogYXV0bztcXG4gIGJvcmRlcjogMDtcXG4gIC13ZWJraXQtYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTtcXG4gIC1tb3otYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTtcXG4gIGFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2U3O1xcbn1cXG5ALW1vei1rZXlmcmFtZXMgYmxpbmsge1xcbiAgMCUge31cXG4gIDUwJSB7IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9XFxuICAxMDAlIHt9XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBibGluayB7XFxuICAwJSB7fVxcbiAgNTAlIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1cXG4gIDEwMCUge31cXG59XFxuQGtleWZyYW1lcyBibGluayB7XFxuICAwJSB7fVxcbiAgNTAlIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1cXG4gIDEwMCUge31cXG59XFxuXFxuLyogQ2FuIHN0eWxlIGN1cnNvciBkaWZmZXJlbnQgaW4gb3ZlcndyaXRlIChub24taW5zZXJ0KSBtb2RlICovXFxuLkNvZGVNaXJyb3Itb3ZlcndyaXRlIC5Db2RlTWlycm9yLWN1cnNvciB7fVxcblxcbi5jbS10YWIgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDsgfVxcblxcbi5Db2RlTWlycm9yLXJ1bGVycyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwOyByaWdodDogMDsgdG9wOiAtNTBweDsgYm90dG9tOiAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLkNvZGVNaXJyb3ItcnVsZXIge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjY2NjO1xcbiAgdG9wOiAwOyBib3R0b206IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcblxcbi8qIERFRkFVTFQgVEhFTUUgKi9cXG5cXG4uY20tcy1kZWZhdWx0IC5jbS1oZWFkZXIge2NvbG9yOiBibHVlO31cXG4uY20tcy1kZWZhdWx0IC5jbS1xdW90ZSB7Y29sb3I6ICMwOTA7fVxcbi5jbS1uZWdhdGl2ZSB7Y29sb3I6ICNkNDQ7fVxcbi5jbS1wb3NpdGl2ZSB7Y29sb3I6ICMyOTI7fVxcbi5jbS1oZWFkZXIsIC5jbS1zdHJvbmcge2ZvbnQtd2VpZ2h0OiBib2xkO31cXG4uY20tZW0ge2ZvbnQtc3R5bGU6IGl0YWxpYzt9XFxuLmNtLWxpbmsge3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO31cXG4uY20tc3RyaWtldGhyb3VnaCB7dGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7fVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWtleXdvcmQge2NvbG9yOiAjNzA4O31cXG4uY20tcy1kZWZhdWx0IC5jbS1hdG9tIHtjb2xvcjogIzIxOTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tbnVtYmVyIHtjb2xvcjogIzE2NDt9XFxuLmNtLXMtZGVmYXVsdCAuY20tZGVmIHtjb2xvcjogIzAwZjt9XFxuLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUsXFxuLmNtLXMtZGVmYXVsdCAuY20tcHVuY3R1YXRpb24sXFxuLmNtLXMtZGVmYXVsdCAuY20tcHJvcGVydHksXFxuLmNtLXMtZGVmYXVsdCAuY20tb3BlcmF0b3Ige31cXG4uY20tcy1kZWZhdWx0IC5jbS12YXJpYWJsZS0yIHtjb2xvcjogIzA1YTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tdmFyaWFibGUtMywgLmNtLXMtZGVmYXVsdCAuY20tdHlwZSB7Y29sb3I6ICMwODU7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWNvbW1lbnQge2NvbG9yOiAjYTUwO31cXG4uY20tcy1kZWZhdWx0IC5jbS1zdHJpbmcge2NvbG9yOiAjYTExO31cXG4uY20tcy1kZWZhdWx0IC5jbS1zdHJpbmctMiB7Y29sb3I6ICNmNTA7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLW1ldGEge2NvbG9yOiAjNTU1O31cXG4uY20tcy1kZWZhdWx0IC5jbS1xdWFsaWZpZXIge2NvbG9yOiAjNTU1O31cXG4uY20tcy1kZWZhdWx0IC5jbS1idWlsdGluIHtjb2xvcjogIzMwYTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tYnJhY2tldCB7Y29sb3I6ICM5OTc7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXRhZyB7Y29sb3I6ICMxNzA7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWF0dHJpYnV0ZSB7Y29sb3I6ICMwMGM7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWhyIHtjb2xvcjogIzk5OTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tbGluayB7Y29sb3I6ICMwMGM7fVxcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWVycm9yIHtjb2xvcjogI2YwMDt9XFxuLmNtLWludmFsaWRjaGFyIHtjb2xvcjogI2YwMDt9XFxuXFxuLkNvZGVNaXJyb3ItY29tcG9zaW5nIHsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkOyB9XFxuXFxuLyogRGVmYXVsdCBzdHlsZXMgZm9yIGNvbW1vbiBhZGRvbnMgKi9cXG5cXG5kaXYuQ29kZU1pcnJvciBzcGFuLkNvZGVNaXJyb3ItbWF0Y2hpbmdicmFja2V0IHtjb2xvcjogIzBiMDt9XFxuZGl2LkNvZGVNaXJyb3Igc3Bhbi5Db2RlTWlycm9yLW5vbm1hdGNoaW5nYnJhY2tldCB7Y29sb3I6ICNhMjI7fVxcbi5Db2RlTWlycm9yLW1hdGNoaW5ndGFnIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE1MCwgMCwgLjMpOyB9XFxuLkNvZGVNaXJyb3ItYWN0aXZlbGluZS1iYWNrZ3JvdW5kIHtiYWNrZ3JvdW5kOiAjZThmMmZmO31cXG5cXG4vKiBTVE9QICovXFxuXFxuLyogVGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGNvbnRhaW5zIHN0eWxlcyByZWxhdGVkIHRvIHRoZSBtZWNoYW5pY3Mgb2ZcXG4gICB0aGUgZWRpdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IHRvdWNoIHRoZW0uICovXFxuXFxuLkNvZGVNaXJyb3Ige1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zY3JvbGwge1xcbiAgb3ZlcmZsb3c6IHNjcm9sbCAhaW1wb3J0YW50OyAvKiBUaGluZ3Mgd2lsbCBicmVhayBpZiB0aGlzIGlzIG92ZXJyaWRkZW4gKi9cXG4gIC8qIDMwcHggaXMgdGhlIG1hZ2ljIG1hcmdpbiB1c2VkIHRvIGhpZGUgdGhlIGVsZW1lbnQncyByZWFsIHNjcm9sbGJhcnMgKi9cXG4gIC8qIFNlZSBvdmVyZmxvdzogaGlkZGVuIGluIC5Db2RlTWlycm9yICovXFxuICBtYXJnaW4tYm90dG9tOiAtMzBweDsgbWFyZ2luLXJpZ2h0OiAtMzBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAzMHB4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3V0bGluZTogbm9uZTsgLyogUHJldmVudCBkcmFnZ2luZyBmcm9tIGhpZ2hsaWdodGluZyB0aGUgZWxlbWVudCAqL1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uQ29kZU1pcnJvci1zaXplciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3JkZXItcmlnaHQ6IDMwcHggc29saWQgdHJhbnNwYXJlbnQ7XFxufVxcblxcbi8qIFRoZSBmYWtlLCB2aXNpYmxlIHNjcm9sbGJhcnMuIFVzZWQgdG8gZm9yY2UgcmVkcmF3IGR1cmluZyBzY3JvbGxpbmdcXG4gICBiZWZvcmUgYWN0dWFsIHNjcm9sbGluZyBoYXBwZW5zLCB0aHVzIHByZXZlbnRpbmcgc2hha2luZyBhbmRcXG4gICBmbGlja2VyaW5nIGFydGlmYWN0cy4gKi9cXG4uQ29kZU1pcnJvci12c2Nyb2xsYmFyLCAuQ29kZU1pcnJvci1oc2Nyb2xsYmFyLCAuQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyLCAuQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDY7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4uQ29kZU1pcnJvci12c2Nyb2xsYmFyIHtcXG4gIHJpZ2h0OiAwOyB0b3A6IDA7XFxuICBvdmVyZmxvdy14OiBoaWRkZW47XFxuICBvdmVyZmxvdy15OiBzY3JvbGw7XFxufVxcbi5Db2RlTWlycm9yLWhzY3JvbGxiYXIge1xcbiAgYm90dG9tOiAwOyBsZWZ0OiAwO1xcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xcbiAgb3ZlcmZsb3cteDogc2Nyb2xsO1xcbn1cXG4uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyIHtcXG4gIHJpZ2h0OiAwOyBib3R0b206IDA7XFxufVxcbi5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIge1xcbiAgbGVmdDogMDsgYm90dG9tOiAwO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgdG9wOiAwO1xcbiAgbWluLWhlaWdodDogMTAwJTtcXG4gIHotaW5kZXg6IDM7XFxufVxcbi5Db2RlTWlycm9yLWd1dHRlciB7XFxuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcXG4gIG1hcmdpbi1ib3R0b206IC0zMHB4O1xcbn1cXG4uQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiA0O1xcbiAgYmFja2dyb3VuZDogbm9uZSAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XFxufVxcbi5Db2RlTWlycm9yLWd1dHRlci1iYWNrZ3JvdW5kIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDsgYm90dG9tOiAwO1xcbiAgei1pbmRleDogNDtcXG59XFxuLkNvZGVNaXJyb3ItZ3V0dGVyLWVsdCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICB6LWluZGV4OiA0O1xcbn1cXG4uQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciA6OnNlbGVjdGlvbiB7IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50IH1cXG4uQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlciA6Oi1tb3otc2VsZWN0aW9uIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgfVxcblxcbi5Db2RlTWlycm9yLWxpbmVzIHtcXG4gIGN1cnNvcjogdGV4dDtcXG4gIG1pbi1oZWlnaHQ6IDFweDsgLyogcHJldmVudHMgY29sbGFwc2luZyBiZWZvcmUgZmlyc3QgZHJhdyAqL1xcbn1cXG4uQ29kZU1pcnJvciBwcmUuQ29kZU1pcnJvci1saW5lLFxcbi5Db2RlTWlycm9yIHByZS5Db2RlTWlycm9yLWxpbmUtbGlrZSB7XFxuICAvKiBSZXNldCBzb21lIHN0eWxlcyB0aGF0IHRoZSByZXN0IG9mIHRoZSBwYWdlIG1pZ2h0IGhhdmUgc2V0ICovXFxuICAtbW96LWJvcmRlci1yYWRpdXM6IDA7IC13ZWJraXQtYm9yZGVyLXJhZGl1czogMDsgYm9yZGVyLXJhZGl1czogMDtcXG4gIGJvcmRlci13aWR0aDogMDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICBtYXJnaW46IDA7XFxuICB3aGl0ZS1zcGFjZTogcHJlO1xcbiAgd29yZC13cmFwOiBub3JtYWw7XFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgei1pbmRleDogMjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG92ZXJmbG93OiB2aXNpYmxlO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtZm9udC12YXJpYW50LWxpZ2F0dXJlczogY29udGV4dHVhbDtcXG4gIGZvbnQtdmFyaWFudC1saWdhdHVyZXM6IGNvbnRleHR1YWw7XFxufVxcbi5Db2RlTWlycm9yLXdyYXAgcHJlLkNvZGVNaXJyb3ItbGluZSxcXG4uQ29kZU1pcnJvci13cmFwIHByZS5Db2RlTWlycm9yLWxpbmUtbGlrZSB7XFxuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XFxuICB3b3JkLWJyZWFrOiBub3JtYWw7XFxufVxcblxcbi5Db2RlTWlycm9yLWxpbmViYWNrZ3JvdW5kIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7IHJpZ2h0OiAwOyB0b3A6IDA7IGJvdHRvbTogMDtcXG4gIHotaW5kZXg6IDA7XFxufVxcblxcbi5Db2RlTWlycm9yLWxpbmV3aWRnZXQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMjtcXG4gIHBhZGRpbmc6IDAuMXB4OyAvKiBGb3JjZSB3aWRnZXQgbWFyZ2lucyB0byBzdGF5IGluc2lkZSBvZiB0aGUgY29udGFpbmVyICovXFxufVxcblxcbi5Db2RlTWlycm9yLXdpZGdldCB7fVxcblxcbi5Db2RlTWlycm9yLXJ0bCBwcmUgeyBkaXJlY3Rpb246IHJ0bDsgfVxcblxcbi5Db2RlTWlycm9yLWNvZGUge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuLyogRm9yY2UgY29udGVudC1ib3ggc2l6aW5nIGZvciB0aGUgZWxlbWVudHMgd2hlcmUgd2UgZXhwZWN0IGl0ICovXFxuLkNvZGVNaXJyb3Itc2Nyb2xsLFxcbi5Db2RlTWlycm9yLXNpemVyLFxcbi5Db2RlTWlycm9yLWd1dHRlcixcXG4uQ29kZU1pcnJvci1ndXR0ZXJzLFxcbi5Db2RlTWlycm9yLWxpbmVudW1iZXIge1xcbiAgLW1vei1ib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1tZWFzdXJlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG59XFxuXFxuLkNvZGVNaXJyb3ItY3Vyc29yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG4uQ29kZU1pcnJvci1tZWFzdXJlIHByZSB7IHBvc2l0aW9uOiBzdGF0aWM7IH1cXG5cXG5kaXYuQ29kZU1pcnJvci1jdXJzb3JzIHtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6IDM7XFxufVxcbmRpdi5Db2RlTWlycm9yLWRyYWdjdXJzb3JzIHtcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxufVxcblxcbi5Db2RlTWlycm9yLWZvY3VzZWQgZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zZWxlY3RlZCB7IGJhY2tncm91bmQ6ICNkOWQ5ZDk7IH1cXG4uQ29kZU1pcnJvci1mb2N1c2VkIC5Db2RlTWlycm9yLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcbi5Db2RlTWlycm9yLWNyb3NzaGFpciB7IGN1cnNvcjogY3Jvc3NoYWlyOyB9XFxuLkNvZGVNaXJyb3ItbGluZTo6c2VsZWN0aW9uLCAuQ29kZU1pcnJvci1saW5lID4gc3Bhbjo6c2VsZWN0aW9uLCAuQ29kZU1pcnJvci1saW5lID4gc3BhbiA+IHNwYW46OnNlbGVjdGlvbiB7IGJhY2tncm91bmQ6ICNkN2Q0ZjA7IH1cXG4uQ29kZU1pcnJvci1saW5lOjotbW96LXNlbGVjdGlvbiwgLkNvZGVNaXJyb3ItbGluZSA+IHNwYW46Oi1tb3otc2VsZWN0aW9uLCAuQ29kZU1pcnJvci1saW5lID4gc3BhbiA+IHNwYW46Oi1tb3otc2VsZWN0aW9uIHsgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcblxcbi5jbS1zZWFyY2hpbmcge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDAsIC40KTtcXG59XFxuXFxuLyogVXNlZCB0byBmb3JjZSBhIGJvcmRlciBtb2RlbCBmb3IgYSBub2RlICovXFxuLmNtLWZvcmNlLWJvcmRlciB7IHBhZGRpbmctcmlnaHQ6IC4xcHg7IH1cXG5cXG5AbWVkaWEgcHJpbnQge1xcbiAgLyogSGlkZSB0aGUgY3Vyc29yIHdoZW4gcHJpbnRpbmcgKi9cXG4gIC5Db2RlTWlycm9yIGRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICB9XFxufVxcblxcbi8qIFNlZSBpc3N1ZSAjMjkwMSAqL1xcbi5jbS10YWItd3JhcC1oYWNrOmFmdGVyIHsgY29udGVudDogJyc7IH1cXG5cXG4vKiBIZWxwIHVzZXJzIHVzZSBtYXJrc2VsZWN0aW9uIHRvIHNhZmVseSBzdHlsZSB0ZXh0IGJhY2tncm91bmQgKi9cXG5zcGFuLkNvZGVNaXJyb3Itc2VsZWN0ZWR0ZXh0IHsgYmFja2dyb3VuZDogbm9uZTsgfVxcblwiLFwiXCJdKX0sZnVuY3Rpb24odCxlLG4peyh0LmV4cG9ydHM9bigzNCkoITEpKS5wdXNoKFt0LmksXCIvKipcXG4gICAgTmFtZTogICAgICAgSURFQSBkZWZhdWx0IHRoZW1lXFxuICAgIEZyb20gSW50ZWxsaUogSURFQSBieSBKZXRCcmFpbnNcXG4gKi9cXG5cXG4uY20tcy1pZGVhIHNwYW4uY20tbWV0YSB7IGNvbG9yOiAjODA4MDAwOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLW51bWJlciB7IGNvbG9yOiAjMDAwMEZGOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLWtleXdvcmQgeyBsaW5lLWhlaWdodDogMWVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMwMDAwODA7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tYXRvbSB7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzAwMDA4MDsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1kZWYgeyBjb2xvcjogIzAwMDAwMDsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS12YXJpYWJsZSB7IGNvbG9yOiBibGFjazsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS12YXJpYWJsZS0yIHsgY29sb3I6IGJsYWNrOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLXZhcmlhYmxlLTMsIC5jbS1zLWlkZWEgc3Bhbi5jbS10eXBlIHsgY29sb3I6IGJsYWNrOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLXByb3BlcnR5IHsgY29sb3I6IGJsYWNrOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLW9wZXJhdG9yIHsgY29sb3I6IGJsYWNrOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLWNvbW1lbnQgeyBjb2xvcjogIzgwODA4MDsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1zdHJpbmcgeyBjb2xvcjogIzAwODAwMDsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1zdHJpbmctMiB7IGNvbG9yOiAjMDA4MDAwOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLXF1YWxpZmllciB7IGNvbG9yOiAjNTU1OyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLWVycm9yIHsgY29sb3I6ICNGRjAwMDA7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tYXR0cmlidXRlIHsgY29sb3I6ICMwMDAwRkY7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tdGFnIHsgY29sb3I6ICMwMDAwODA7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tbGluayB7IGNvbG9yOiAjMDAwMEZGOyB9XFxuLmNtLXMtaWRlYSAuQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmQgeyBiYWNrZ3JvdW5kOiAjRkZGQUUzOyB9XFxuXFxuLmNtLXMtaWRlYSBzcGFuLmNtLWJ1aWx0aW4geyBjb2xvcjogIzMwYTsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1icmFja2V0IHsgY29sb3I6ICNjYzc7IH1cXG4uY20tcy1pZGVhICB7IGZvbnQtZmFtaWx5OiBDb25zb2xhcywgTWVubG8sIE1vbmFjbywgTHVjaWRhIENvbnNvbGUsIExpYmVyYXRpb24gTW9ubywgRGVqYVZ1IFNhbnMgTW9ubywgQml0c3RyZWFtIFZlcmEgU2FucyBNb25vLCBDb3VyaWVyIE5ldywgbW9ub3NwYWNlLCBzZXJpZjt9XFxuXFxuXFxuLmNtLXMtaWRlYSAuQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXQgeyBvdXRsaW5lOjFweCBzb2xpZCBncmV5OyBjb2xvcjpibGFjayAhaW1wb3J0YW50OyB9XFxuXFxuLkNvZGVNaXJyb3ItaGludHMuaWRlYSB7XFxuICBmb250LWZhbWlseTogTWVubG8sIE1vbmFjbywgQ29uc29sYXMsICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTtcXG4gIGNvbG9yOiAjNjE2NTY5O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ViZjNmZCAhaW1wb3J0YW50O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1oaW50cy5pZGVhIC5Db2RlTWlycm9yLWhpbnQtYWN0aXZlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNhMmI4YzkgIWltcG9ydGFudDtcXG4gIGNvbG9yOiAjNWM2MDY1ICFpbXBvcnRhbnQ7XFxufVwiLFwiXCJdKX0sZnVuY3Rpb24odCxlLG4peyh0LmV4cG9ydHM9bigzNCkoITEpKS5wdXNoKFt0LmksXCIvKipcXG4gICAgTmFtZTogSW50ZWxsaUogSURFQSBkYXJjdWxhIHRoZW1lXFxuICAgIEZyb20gSW50ZWxsaUogSURFQSBieSBKZXRCcmFpbnNcXG4gKi9cXG5cXG4uY20tcy1kYXJjdWxhICB7IGZvbnQtZmFtaWx5OiBDb25zb2xhcywgTWVubG8sIE1vbmFjbywgJ0x1Y2lkYSBDb25zb2xlJywgJ0xpYmVyYXRpb24gTW9ubycsICdEZWphVnUgU2FucyBNb25vJywgJ0JpdHN0cmVhbSBWZXJhIFNhbnMgTW9ubycsICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZSwgc2VyaWY7fVxcbi5jbS1zLWRhcmN1bGEuQ29kZU1pcnJvciB7IGJhY2tncm91bmQ6ICMyQjJCMkI7IGNvbG9yOiAjQTlCN0M2OyB9IFxcblxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1tZXRhIHsgY29sb3I6ICNCQkI1Mjk7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tbnVtYmVyIHsgY29sb3I6ICM2ODk3QkI7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20ta2V5d29yZCB7IGNvbG9yOiAjQ0M3ODMyOyBsaW5lLWhlaWdodDogMWVtOyBmb250LXdlaWdodDogYm9sZDsgfSAgXFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLWRlZiB7IGNvbG9yOiAjQTlCN0M2OyBmb250LXN0eWxlOiBpdGFsaWM7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tdmFyaWFibGUgeyBjb2xvcjogI0E5QjdDNjsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS12YXJpYWJsZS0yIHsgY29sb3I6ICNBOUI3QzY7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tdmFyaWFibGUtMyB7IGNvbG9yOiAjOTg3NkFBOyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLXR5cGUgeyBjb2xvcjogI0FBQkJDQzsgZm9udC13ZWlnaHQ6IGJvbGQ7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tcHJvcGVydHkgeyBjb2xvcjogI0ZGQzY2RDsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1vcGVyYXRvciB7IGNvbG9yOiAjQTlCN0M2OyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLXN0cmluZyB7IGNvbG9yOiAjNkE4NzU5OyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLXN0cmluZy0yIHsgY29sb3I6ICM2QTg3NTk7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tY29tbWVudCB7IGNvbG9yOiAjNjFBMTUxOyBmb250LXN0eWxlOiBpdGFsaWM7IH0gXFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLWxpbmsgeyBjb2xvcjogI0NDNzgzMjsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1hdG9tIHsgY29sb3I6ICNDQzc4MzI7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tZXJyb3IgeyBjb2xvcjogI0JDM0YzQzsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS10YWcgeyBjb2xvcjogIzYyOTc1NTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc3R5bGU6IGl0YWxpYzsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tYXR0cmlidXRlIHsgY29sb3I6ICM2ODk3YmI7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tcXVhbGlmaWVyIHsgY29sb3I6ICM2QTg3NTk7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tYnJhY2tldCB7IGNvbG9yOiAjQTlCN0M2OyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLWJ1aWx0aW4geyBjb2xvcjogI0ZGOUU1OTsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1zcGVjaWFsIHsgY29sb3I6ICNGRjlFNTk7IH1cXG5cXG4uY20tcy1kYXJjdWxhIC5Db2RlTWlycm9yLWN1cnNvciB7IGJvcmRlci1sZWZ0OiAxcHggc29saWQgI0E5QjdDNjsgfSAgXFxuLmNtLXMtZGFyY3VsYSAuQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmQgeyBiYWNrZ3JvdW5kOiAjMzIzMjMyOyB9IFxcbi5jbS1zLWRhcmN1bGEgLkNvZGVNaXJyb3ItZ3V0dGVycyB7IGJhY2tncm91bmQ6ICMzMTMzMzU7IGJvcmRlci1yaWdodDogMXB4IHNvbGlkICMzMTMzMzU7IH0gXFxuLmNtLXMtZGFyY3VsYSAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXIgeyBjb2xvcjogI0ZGRUU4MDsgfSAgXFxuLmNtLXMtZGFyY3VsYSAuQ29kZU1pcnJvci1ndXR0ZXJtYXJrZXItc3VidGxlIHsgY29sb3I6ICNEMEQwRDA7IH0gIFxcbi5jbS1zLWRhcmN1bGEgLkNvZGVNaXJyaXItbGluZW51bWJlciB7IGNvbG9yOiAjNjA2MzY2OyB9IFxcbi5jbS1zLWRhcmN1bGEgLkNvZGVNaXJyb3ItbWF0Y2hpbmdicmFja2V0IHsgYmFja2dyb3VuZC1jb2xvcjogIzNCNTE0RDsgY29sb3I6ICNGRkVGMjggIWltcG9ydGFudDsgZm9udC13ZWlnaHQ6IGJvbGQ7IH0gXFxuXFxuLmNtLXMtZGFyY3VsYSBkaXYuQ29kZU1pcnJvci1zZWxlY3RlZCB7IGJhY2tncm91bmQ6ICMyMTQyODM7IH0gIFxcblxcbi5Db2RlTWlycm9yLWhpbnRzLmRhcmN1bGEge1xcbiAgZm9udC1mYW1pbHk6IE1lbmxvLCBNb25hY28sIENvbnNvbGFzLCAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7XFxuICBjb2xvcjogIzlDOUU5RTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzQjNFM0YgIWltcG9ydGFudDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItaGludHMuZGFyY3VsYSAuQ29kZU1pcnJvci1oaW50LWFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDk0RDRFICFpbXBvcnRhbnQ7XFxuICBjb2xvcjogIzlDOUU5RSAhaW1wb3J0YW50O1xcbn1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKHQsZSxuKXsodC5leHBvcnRzPW4oMzQpKCExKSkucHVzaChbdC5pLFwiLkNvZGVNaXJyb3Itc2ltcGxlc2Nyb2xsLWhvcml6b250YWwgZGl2LCAuQ29kZU1pcnJvci1zaW1wbGVzY3JvbGwtdmVydGljYWwgZGl2IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQ6ICNjY2M7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2JiYjtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG59XFxuXFxuLkNvZGVNaXJyb3Itc2ltcGxlc2Nyb2xsLWhvcml6b250YWwsIC5Db2RlTWlycm9yLXNpbXBsZXNjcm9sbC12ZXJ0aWNhbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiA2O1xcbiAgYmFja2dyb3VuZDogI2VlZTtcXG59XFxuXFxuLkNvZGVNaXJyb3Itc2ltcGxlc2Nyb2xsLWhvcml6b250YWwge1xcbiAgYm90dG9tOiAwOyBsZWZ0OiAwO1xcbiAgaGVpZ2h0OiA4cHg7XFxufVxcbi5Db2RlTWlycm9yLXNpbXBsZXNjcm9sbC1ob3Jpem9udGFsIGRpdiB7XFxuICBib3R0b206IDA7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcblxcbi5Db2RlTWlycm9yLXNpbXBsZXNjcm9sbC12ZXJ0aWNhbCB7XFxuICByaWdodDogMDsgdG9wOiAwO1xcbiAgd2lkdGg6IDhweDtcXG59XFxuLkNvZGVNaXJyb3Itc2ltcGxlc2Nyb2xsLXZlcnRpY2FsIGRpdiB7XFxuICByaWdodDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG5cXG4uQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsIC5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIsIC5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwgLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLWhvcml6b250YWwgZGl2LCAuQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLXZlcnRpY2FsIGRpdiB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kOiAjYmNkO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLWhvcml6b250YWwsIC5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtdmVydGljYWwge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogNjtcXG59XFxuXFxuLkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbC1ob3Jpem9udGFsIHtcXG4gIGJvdHRvbTogMDsgbGVmdDogMDtcXG4gIGhlaWdodDogNnB4O1xcbn1cXG4uQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLWhvcml6b250YWwgZGl2IHtcXG4gIGJvdHRvbTogMDtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbC12ZXJ0aWNhbCB7XFxuICByaWdodDogMDsgdG9wOiAwO1xcbiAgd2lkdGg6IDZweDtcXG59XFxuLkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbC12ZXJ0aWNhbCBkaXYge1xcbiAgcmlnaHQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXCIsXCJcIl0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHQ/dDooL15bJ1wiXS4qWydcIl0kLy50ZXN0KHQpJiYodD10LnNsaWNlKDEsLTEpKSwvW1wiJygpIFxcdFxcbl0vLnRlc3QodCl8fGU/J1wiJyt0LnJlcGxhY2UoL1wiL2csJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLFwiXFxcXG5cIikrJ1wiJzp0KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0M/eG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J3V0Zi04Jz8lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAxNi45OTYgMjAuOTk5JyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAxNi45OTYgMjAuOTk5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0Nwb2x5Z29uIGZpbGw9JyUyMzM4QjA1OCcgcG9pbnRzPScxNi45OTYsMTAuNDk5IDAsMjAuOTk5IDAsMCAnLyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2JyBoZWlnaHQ9JzE2JyB2aWV3Qm94PScwIDAgMTYgMTYnJTNFICUzQ3RpdGxlJTNFaWNvbnNfYWxsX3Nwcml0ZSUzQy90aXRsZSUzRSAlM0NnIGlkPSdMYXllcl80JyBkYXRhLW5hbWU9J0xheWVyIDQnJTNFICUzQ3BvbHlnb24gcG9pbnRzPScxMy41IDEyLjEyNSA5LjM3NSA4IDEzLjUgMy44NzUgMTIuMTI1IDIuNSA4IDYuNjI1IDMuODc1IDIuNSAyLjUgMy44NzUgNi42MjUgOCAyLjUgMTIuMTI1IDMuODc1IDEzLjUgOCA5LjM3NSAxMi4xMjUgMTMuNSAxMy41IDEyLjEyNScgZmlsbD0nJTIzZmZmZmZmJyBvcGFjaXR5PScwLjknLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2JyBoZWlnaHQ9JzE2JyB2aWV3Qm94PScwIDAgMTYgMTYnJTNFICUzQ3RpdGxlJTNFaWNvbnNfYWxsX3Nwcml0ZSUzQy90aXRsZSUzRSAlM0NnIGlkPSdMYXllcl80JyBkYXRhLW5hbWU9J0xheWVyIDQnJTNFICUzQ2clM0UgJTNDY2lyY2xlIGN4PSc4JyBjeT0nOCcgcj0nNicgZmlsbD0nJTIzZTA1MjE5JyBvcGFjaXR5PScwLjknIHN0eWxlPSdpc29sYXRpb246IGlzb2xhdGUnLyUzRSAlM0NwYXRoIGQ9J004Ljk5NjA5LDQuOTg4MjhWNi40ODE5M2EuNDkwNS40OTA1LDAsMCwxLS4wMDk3Ni4wOTYxOUw4LjI4MTc0LDlINy43MTA0NUw3LjAwNTg2LDYuNTc4MTJBLjQ0MjMzLjQ0MjMzLDAsMCwxLDcsNi41MjFWNWMwLS4yNjQ2NSwwLS45OTAyMy40NzU1OS0uOTkwMjNoMS4wNDFDOSw0LjAwOTc3LDguOTk2MDksNC43MjM2Myw4Ljk5NjA5LDQuOTg4MjhabS0uMTA1NDcsNS45MzI5TDguNDI2MjcsMTAuMzFhLjQ3MDU2LjQ3MDU2LDAsMCwwLS4zNzM1NC0uMTg5NDNINy45NDA5MmEuNDcwNzguNDcwNzgsMCwwLDAtLjM3NC4xODk0M2wtLjQ2NDM1LjYxMTE3QS41MjU1Ny41MjU1NywwLDAsMCw3LDExLjIyODgydi4yODE4NEEuNDkwODguNDkwODgsMCwwLDAsNy40NzYwNywxMmgxLjA0MWEuNDkzMTIuNDkzMTIsMCwwLDAsLjQ3OS0uNTA2MzhsLjAwMDQ5LS4yNTQ0N0EuNTIzMzMuNTIzMzMsMCwwLDAsOC44OTA2MiwxMC45MjExOFonIGZpbGw9JyUyM2ZmZicvJTNFICUzQy9nJTNFICUzQy9nJTNFICUzQy9zdmclM0VcXFwiXCJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYnIGhlaWdodD0nMTYnIHZpZXdCb3g9JzAgMCAxNiAxNiclM0UgJTNDdGl0bGUlM0VpY29uc19hbGxfc3ByaXRlJTNDL3RpdGxlJTNFICUzQ2cgaWQ9J0xheWVyXzQnIGRhdGEtbmFtZT0nTGF5ZXIgNCclM0UgJTNDY2lyY2xlIGN4PSc4JyBjeT0nOCcgcj0nNycgZmlsbD0nJTIzNGNhMDFmJyBvcGFjaXR5PScwLjknIHN0eWxlPSdpc29sYXRpb246IGlzb2xhdGUnLyUzRSAlM0Nwb2x5Z29uIHBvaW50cz0nMTIuODA4IDYuMjA1IDExLjUgNS4wMjUgNy40ODYgOS42MjUgNC4zNDYgNi4wNzcgMy4xMjUgNy4xODIgNy41IDEyIDEyLjgwOCA2LjIwNScgZmlsbD0nJTIzZmZmJy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgdmlld0JveD0nMCAwIDE2IDE2JyUzRSAlM0N0aXRsZSUzRWljb25zX2FsbF9zcHJpdGUlM0MvdGl0bGUlM0UgJTNDZyBpZD0nTGF5ZXJfNCcgZGF0YS1uYW1lPSdMYXllciA0JyUzRSAlM0NnIHN0eWxlPSdpc29sYXRpb246IGlzb2xhdGUnJTNFICUzQ2NpcmNsZSBjeD0nNy41JyBjeT0nNy41JyByPSc2LjUnIGZpbGw9JyUyM2UwNTIxOScvJTNFICUzQy9nJTNFICUzQ3BvbHlnb24gcG9pbnRzPScxMC4zMjggOS42MjEgOC4yMDcgNy41IDEwLjMyOCA1LjM3OSA5LjYyMSA0LjY3MiA3LjUgNi43OTMgNS4zNzkgNC42NzIgNC42NzIgNS4zNzkgNi43OTMgNy41IDQuNjcyIDkuNjIxIDUuMzc5IDEwLjMyOCA3LjUgOC4yMDcgOS42MjEgMTAuMzI4IDEwLjMyOCA5LjYyMScgZmlsbD0nJTIzZmZmJy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMzEgMTknIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDMxIDE5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0NnJTNFICUzQ3BhdGggZmlsbD0nJTIzRkZGRkZGJyBkPSdNMjEuNSwxOWgtMTJDNC4yNTMsMTksMCwxNC43NDcsMCw5LjV2MEMwLDQuMjUzLDQuMjUzLDAsOS41LDBoMTJDMjYuNzQ3LDAsMzEsNC4yNTMsMzEsOS41djAgQzMxLDE0Ljc0NywyNi43NDcsMTksMjEuNSwxOXonIC8lM0UgJTNDcGF0aCBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNkNGQ0ZDQnIGQ9J00yMS41LDFDMjYuMTg3LDEsMzAsNC44MTMsMzAsOS41YzAsNC42ODctMy44MTMsOC41LTguNSw4LjVoLTEyQzQuODEzLDE4LDEsMTQuMTg3LDEsOS41IEMxLDQuODEzLDQuODEzLDEsOS41LDFIMjEuNSBNMjEuNSwwaC0xMkM0LjI1MywwLDAsNC4yNTMsMCw5LjV2MEMwLDE0Ljc0Nyw0LjI1MywxOSw5LjUsMTloMTJjNS4yNDcsMCw5LjUtNC4yNTMsOS41LTkuNXYwIEMzMSw0LjI1MywyNi43NDcsMCwyMS41LDBMMjEuNSwweicgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgZmlsbD0nJTIzRkZGRkZGJyB3aWR0aD0nMTEnIGhlaWdodD0nMScgLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Q0ZDRkNCcgcG9pbnRzPScyMSw5IDEwLDkgMTAsMTAgMjEsMTAgMjEsOSAnIC8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgtMS44MzY5NzBlLTE2IDEgLTEgLTEuODM2OTcwZS0xNiAyNSAtNiknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNkNGQ0ZDQnIHBvaW50cz0nMTYsNCAxNSw0IDE1LDE1IDE2LDE1IDE2LDQgJyAvJTNFICUzQy9nJTNFICUzQy9nJTNFICUzQy9zdmclM0VcXFwiXCJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApIC0tJTNFICUzQ3N2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDMxIDE5JyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAzMSAxOScgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyUzRSAlM0NwYXRoIGZpbGw9JyUyM0ZGRkZGRicgZD0nTTIxLjUsMTloLTEyQzQuMjUzLDE5LDAsMTQuNzQ3LDAsOS41djBDMCw0LjI1Myw0LjI1MywwLDkuNSwwaDEyQzI2Ljc0NywwLDMxLDQuMjUzLDMxLDkuNXYwIEMzMSwxNC43NDcsMjYuNzQ3LDE5LDIxLjUsMTl6JyAvJTNFICUzQ3BhdGggY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBkPSdNMjEuNSwxQzI2LjE4NywxLDMwLDQuODEzLDMwLDkuNWMwLDQuNjg3LTMuODEzLDguNS04LjUsOC41aC0xMkM0LjgxMywxOCwxLDE0LjE4NywxLDkuNSBDMSw0LjgxMyw0LjgxMywxLDkuNSwxSDIxLjUgTTIxLjUsMGgtMTJDNC4yNTMsMCwwLDQuMjUzLDAsOS41djBDMCwxNC43NDcsNC4yNTMsMTksOS41LDE5aDEyYzUuMjQ3LDAsOS41LTQuMjUzLDkuNS05LjV2MCBDMzEsNC4yNTMsMjYuNzQ3LDAsMjEuNSwwTDIxLjUsMHonIC8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIHBvaW50cz0nMjEsOSAxMCw5IDEwLDEwIDIxLDEwIDIxLDkgJyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoLTEuODM2OTcwZS0xNiAxIC0xIC0xLjgzNjk3MGUtMTYgMjUgLTYpJyBmaWxsPSclMjNGRkZGRkYnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBwb2ludHM9JzE2LDQgMTUsNCAxNSwxNSAxNiwxNSAxNiw0ICcgLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDP3htbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSd1dGYtOCc/JTNFICUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAzMSAxOScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMzEgMTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2clM0UgJTNDcGF0aCBmaWxsPSclMjMyQjJCMkInIGQ9J00yMS41LDE5aC0xMkM0LjI1MywxOSwwLDE0Ljc0NywwLDkuNXYwQzAsNC4yNTMsNC4yNTMsMCw5LjUsMGgxMkMyNi43NDcsMCwzMSw0LjI1MywzMSw5LjV2MCBDMzEsMTQuNzQ3LDI2Ljc0NywxOSwyMS41LDE5eicvJTNFICUzQ3BhdGggY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZmZmZmZmJyBkPSdNMjEuNSwxQzI2LjE4NywxLDMwLDQuODEzLDMwLDkuNWMwLDQuNjg3LTMuODEzLDguNS04LjUsOC41aC0xMkM0LjgxMywxOCwxLDE0LjE4NywxLDkuNSBDMSw0LjgxMyw0LjgxMywxLDkuNSwxSDIxLjUgTTIxLjUsMGgtMTJDNC4yNTMsMCwwLDQuMjUzLDAsOS41djBDMCwxNC43NDcsNC4yNTMsMTksOS41LDE5aDEyYzUuMjQ3LDAsOS41LTQuMjUzLDkuNS05LjV2MCBDMzEsNC4yNTMsMjYuNzQ3LDAsMjEuNSwwTDIxLjUsMHonLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgZmlsbD0nJTIzRUFFQUVDJyB3aWR0aD0nMTEnIGhlaWdodD0nMScvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzRUFFQUVDJyBwb2ludHM9JzIxLDkgMTAsOSAxMCwxMCAyMSwxMCAyMSw5ICcvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoLTEuODM2OTcwZS0xNiAxIC0xIC0xLjgzNjk3MGUtMTYgMjUgLTYpJyBmaWxsPSclMjNFQUVBRUMnIHdpZHRoPScxMScgaGVpZ2h0PScxJy8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNFQUVBRUMnIHBvaW50cz0nMTYsNCAxNSw0IDE1LDE1IDE2LDE1IDE2LDQgJy8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAzMSAxOScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMzEgMTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2clM0UgJTNDcGF0aCBmaWxsPSclMjMyQjJCMkInIGQ9J00yMS41LDE5aC0xMkM0LjI1MywxOSwwLDE0Ljc0NywwLDkuNXYwQzAsNC4yNTMsNC4yNTMsMCw5LjUsMGgxMkMyNi43NDcsMCwzMSw0LjI1MywzMSw5LjV2MCBDMzEsMTQuNzQ3LDI2Ljc0NywxOSwyMS41LDE5eicgLyUzRSAlM0NwYXRoIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Y2ODMyMicgZD0nTTIxLjUsMUMyNi4xODcsMSwzMCw0LjgxMywzMCw5LjVjMCw0LjY4Ny0zLjgxMyw4LjUtOC41LDguNWgtMTJDNC44MTMsMTgsMSwxNC4xODcsMSw5LjUgQzEsNC44MTMsNC44MTMsMSw5LjUsMUgyMS41IE0yMS41LDBoLTEyQzQuMjUzLDAsMCw0LjI1MywwLDkuNXYwQzAsMTQuNzQ3LDQuMjUzLDE5LDkuNSwxOWgxMmM1LjI0NywwLDkuNS00LjI1Myw5LjUtOS41djAgQzMxLDQuMjUzLDI2Ljc0NywwLDIxLjUsMEwyMS41LDB6JyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyBmaWxsPSclMjNFQUVBRUMnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBwb2ludHM9JzIxLDkgMTAsOSAxMCwxMCAyMSwxMCAyMSw5ICcgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KC0xLjgzNjk3MGUtMTYgMSAtMSAtMS44MzY5NzBlLTE2IDI1IC02KScgZmlsbD0nJTIzRUFFQUVDJyB3aWR0aD0nMTEnIGhlaWdodD0nMScgLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Y2ODMyMicgcG9pbnRzPScxNiw0IDE1LDQgMTUsMTUgMTYsMTUgMTYsNCAnIC8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMzEgMTknIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDMxIDE5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0NnJTNFICUzQ3BhdGggZmlsbD0nJTIzRkZGRkZGJyBkPSdNMjEuNSwxOWgtMTJDNC4yNTMsMTksMCwxNC43NDcsMCw5LjV2MEMwLDQuMjUzLDQuMjUzLDAsOS41LDBoMTJDMjYuNzQ3LDAsMzEsNC4yNTMsMzEsOS41djAgQzMxLDE0Ljc0NywyNi43NDcsMTksMjEuNSwxOXonIC8lM0UgJTNDcGF0aCBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNkNGQ0ZDQnIGQ9J00yMS41LDFDMjYuMTg3LDEsMzAsNC44MTMsMzAsOS41YzAsNC42ODctMy44MTMsOC41LTguNSw4LjVoLTEyQzQuODEzLDE4LDEsMTQuMTg3LDEsOS41IEMxLDQuODEzLDQuODEzLDEsOS41LDFIMjEuNSBNMjEuNSwwaC0xMkM0LjI1MywwLDAsNC4yNTMsMCw5LjV2MEMwLDE0Ljc0Nyw0LjI1MywxOSw5LjUsMTloMTJjNS4yNDcsMCw5LjUtNC4yNTMsOS41LTkuNXYwIEMzMSw0LjI1MywyNi43NDcsMCwyMS41LDBMMjEuNSwweicgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoMC43MDcxIDAuNzA3MSAtMC43MDcxIDAuNzA3MSAxMS4yNTc0IC04LjE3NzcpJyBmaWxsPSclMjNGRkZGRkYnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZDRkNGQ0JyBwb2ludHM9JzExLjk2NCw1LjI1NyAxMS4yNTcsNS45NjQgMTkuMDM2LDEzLjc0MyAxOS43NDMsMTMuMDM2IDExLjk2NCw1LjI1NyAnIC8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgtMC43MDcxIDAuNzA3MSAtMC43MDcxIC0wLjcwNzEgMzMuMTc3NyA1LjI1NzQpJyBmaWxsPSclMjNGRkZGRkYnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZDRkNGQ0JyBwb2ludHM9JzE5LjAzNiw1LjI1NyAxMS4yNTcsMTMuMDM2IDExLjk2NCwxMy43NDMgMTkuNzQzLDUuOTY0IDE5LjAzNiw1LjI1NyAnIC8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMzEgMTknIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDMxIDE5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0NnJTNFICUzQ3BhdGggZmlsbD0nJTIzRkZGRkZGJyBkPSdNMjEuNSwxOWgtMTJDNC4yNTMsMTksMCwxNC43NDcsMCw5LjV2MEMwLDQuMjUzLDQuMjUzLDAsOS41LDBoMTJDMjYuNzQ3LDAsMzEsNC4yNTMsMzEsOS41djAgQzMxLDE0Ljc0NywyNi43NDcsMTksMjEuNSwxOXonIC8lM0UgJTNDcGF0aCBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIGQ9J00yMS41LDFDMjYuMTg3LDEsMzAsNC44MTMsMzAsOS41YzAsNC42ODctMy44MTMsOC41LTguNSw4LjVoLTEyQzQuODEzLDE4LDEsMTQuMTg3LDEsOS41IEMxLDQuODEzLDQuODEzLDEsOS41LDFIMjEuNSBNMjEuNSwwaC0xMkM0LjI1MywwLDAsNC4yNTMsMCw5LjV2MEMwLDE0Ljc0Nyw0LjI1MywxOSw5LjUsMTloMTJjNS4yNDcsMCw5LjUtNC4yNTMsOS41LTkuNXYwIEMzMSw0LjI1MywyNi43NDcsMCwyMS41LDBMMjEuNSwweicgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoMC43MDcxIDAuNzA3MSAtMC43MDcxIDAuNzA3MSAxMS4yNTc0IC04LjE3NzcpJyBmaWxsPSclMjNGRkZGRkYnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBwb2ludHM9JzExLjk2NCw1LjI1NyAxMS4yNTcsNS45NjQgMTkuMDM2LDEzLjc0MyAxOS43NDMsMTMuMDM2IDExLjk2NCw1LjI1NyAnIC8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgtMC43MDcxIDAuNzA3MSAtMC43MDcxIC0wLjcwNzEgMzMuMTc3NyA1LjI1NzQpJyBmaWxsPSclMjNGRkZGRkYnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBwb2ludHM9JzE5LjAzNiw1LjI1NyAxMS4yNTcsMTMuMDM2IDExLjk2NCwxMy43NDMgMTkuNzQzLDUuOTY0IDE5LjAzNiw1LjI1NyAnIC8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQz94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0ndXRmLTgnPyUzRSAlM0MhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApIC0tJTNFICUzQ3N2ZyB2ZXJzaW9uPScxLjEnIGlkPSdMYXllcl8xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMzEgMTknIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDMxIDE5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0NnJTNFICUzQ3BhdGggZmlsbD0nJTIzMkIyQjJCJyBkPSdNMjEuNSwxOWgtMTJDNC4yNTMsMTksMCwxNC43NDcsMCw5LjV2MEMwLDQuMjUzLDQuMjUzLDAsOS41LDBoMTJDMjYuNzQ3LDAsMzEsNC4yNTMsMzEsOS41djAgQzMxLDE0Ljc0NywyNi43NDcsMTksMjEuNSwxOXonLyUzRSAlM0NwYXRoIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM0VBRUFFQycgZD0nTTIxLjUsMUMyNi4xODcsMSwzMCw0LjgxMywzMCw5LjVjMCw0LjY4Ny0zLjgxMyw4LjUtOC41LDguNWgtMTJDNC44MTMsMTgsMSwxNC4xODcsMSw5LjUgQzEsNC44MTMsNC44MTMsMSw5LjUsMUgyMS41IE0yMS41LDBoLTEyQzQuMjUzLDAsMCw0LjI1MywwLDkuNXYwQzAsMTQuNzQ3LDQuMjUzLDE5LDkuNSwxOWgxMmM1LjI0NywwLDkuNS00LjI1Myw5LjUtOS41djAgQzMxLDQuMjUzLDI2Ljc0NywwLDIxLjUsMEwyMS41LDB6Jy8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KDAuNzA3MSAwLjcwNzEgLTAuNzA3MSAwLjcwNzEgMTEuMjU3NCAtOC4xNzc3KScgZmlsbD0nJTIzRkZGRkZGJyB3aWR0aD0nMTEnIGhlaWdodD0nMScvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzRUFFQUVDJyBwb2ludHM9JzExLjk2NCw1LjI1NyAxMS4yNTcsNS45NjQgMTkuMDM2LDEzLjc0MyAxOS43NDMsMTMuMDM2IDExLjk2NCw1LjI1NyAnLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KC0wLjcwNzEgMC43MDcxIC0wLjcwNzEgLTAuNzA3MSAzMy4xNzc3IDUuMjU3NCknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM0VBRUFFQycgcG9pbnRzPScxOS4wMzYsNS4yNTcgMTEuMjU3LDEzLjAzNiAxMS45NjQsMTMuNzQzIDE5Ljc0Myw1Ljk2NCAxOS4wMzYsNS4yNTcgJy8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAzMSAxOScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMzEgMTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2clM0UgJTNDcGF0aCBmaWxsPSclMjMyQjJCMkInIGQ9J00yMS41LDE5aC0xMkM0LjI1MywxOSwwLDE0Ljc0NywwLDkuNXYwQzAsNC4yNTMsNC4yNTMsMCw5LjUsMGgxMkMyNi43NDcsMCwzMSw0LjI1MywzMSw5LjV2MCBDMzEsMTQuNzQ3LDI2Ljc0NywxOSwyMS41LDE5eicgLyUzRSAlM0NwYXRoIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Y2ODMyMicgZD0nTTIxLjUsMUMyNi4xODcsMSwzMCw0LjgxMywzMCw5LjVjMCw0LjY4Ny0zLjgxMyw4LjUtOC41LDguNWgtMTJDNC44MTMsMTgsMSwxNC4xODcsMSw5LjUgQzEsNC44MTMsNC44MTMsMSw5LjUsMUgyMS41IE0yMS41LDBoLTEyQzQuMjUzLDAsMCw0LjI1MywwLDkuNXYwQzAsMTQuNzQ3LDQuMjUzLDE5LDkuNSwxOWgxMmM1LjI0NywwLDkuNS00LjI1Myw5LjUtOS41djAgQzMxLDQuMjUzLDI2Ljc0NywwLDIxLjUsMEwyMS41LDB6JyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgwLjcwNzEgMC43MDcxIC0wLjcwNzEgMC43MDcxIDExLjI1NzQgLTguMTc3NyknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIHBvaW50cz0nMTEuOTY0LDUuMjU3IDExLjI1Nyw1Ljk2NCAxOS4wMzYsMTMuNzQzIDE5Ljc0MywxMy4wMzYgMTEuOTY0LDUuMjU3ICcgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KC0wLjcwNzEgMC43MDcxIC0wLjcwNzEgLTAuNzA3MSAzMy4xNzc3IDUuMjU3NCknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIHBvaW50cz0nMTkuMDM2LDUuMjU3IDExLjI1NywxMy4wMzYgMTEuOTY0LDEzLjc0MyAxOS43NDMsNS45NjQgMTkuMDM2LDUuMjU3ICcgLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3ZhciBuLHIsaT10LmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKHQpe2lmKG49PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKG49PT1vfHwhbikmJnNldFRpbWVvdXQpcmV0dXJuIG49c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiBuKHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiBuLmNhbGwodGhpcyx0LDApfX19IWZ1bmN0aW9uKCl7dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om99Y2F0Y2godCl7bj1vfXRyeXtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6YX1jYXRjaCh0KXtyPWF9fSgpO3ZhciBsLGM9W10sdT0hMSxmPS0xO2Z1bmN0aW9uIGQoKXt1JiZsJiYodT0hMSxsLmxlbmd0aD9jPWwuY29uY2F0KGMpOmY9LTEsYy5sZW5ndGgmJmgoKSl9ZnVuY3Rpb24gaCgpe2lmKCF1KXt2YXIgdD1zKGQpO3U9ITA7Zm9yKHZhciBlPWMubGVuZ3RoO2U7KXtmb3IobD1jLGM9W107KytmPGU7KWwmJmxbZl0ucnVuKCk7Zj0tMSxlPWMubGVuZ3RofWw9bnVsbCx1PSExLGZ1bmN0aW9uKHQpe2lmKHI9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigocj09PWF8fCFyKSYmY2xlYXJUaW1lb3V0KXJldHVybiByPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3IodCl9Y2F0Y2goZSl7dHJ5e3JldHVybiByLmNhbGwobnVsbCx0KX1jYXRjaChlKXtyZXR1cm4gci5jYWxsKHRoaXMsdCl9fX0odCl9fWZ1bmN0aW9uIHAodCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBtKCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtjLnB1c2gobmV3IHAodCxlKSksMSE9PWMubGVuZ3RofHx1fHxzKGgpfSxwLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPVwiYnJvd3NlclwiLGkuYnJvd3Nlcj0hMCxpLmVudj17fSxpLmFyZ3Y9W10saS52ZXJzaW9uPVwiXCIsaS52ZXJzaW9ucz17fSxpLm9uPW0saS5hZGRMaXN0ZW5lcj1tLGkub25jZT1tLGkub2ZmPW0saS5yZW1vdmVMaXN0ZW5lcj1tLGkucmVtb3ZlQWxsTGlzdGVuZXJzPW0saS5lbWl0PW0saS5wcmVwZW5kTGlzdGVuZXI9bSxpLnByZXBlbmRPbmNlTGlzdGVuZXI9bSxpLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0saS5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxpLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0saS51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sLCwsZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKTt2YXIgcj1uKDE0OSksaT1uLm4ociksbz1uKDE1MCksYT1uLm4obykscz0obig3OCksbig4OCksbigzNSkpLGw9bi5uKHMpLGM9KG4oOTEpLG4oMTkzKSxuKDU2KSxuKDM2KSksdT1uLm4oYyksZj1cImRhcmN1bGFcIixkPVwiaWRlYVwiLGg9XCJkZWZhdWx0XCIscD1cIm5vY3Vyc29yXCI7ZnVuY3Rpb24gbSh0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwKX1mdW5jdGlvbiBnKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYoIXR8fCF0LmF0dHJpYnV0ZXMpcmV0dXJue307dmFyIG49bSh0LmF0dHJpYnV0ZXMpLnJlZHVjZShmdW5jdGlvbih0LGUpe3ZhciBuPWUubmFtZSxyPWUudmFsdWU7cmV0dXJuLTE9PT1uLmluZGV4T2YoXCJkYXRhLVwiKT90Oih0W24ucmVwbGFjZShcImRhdGEtXCIsXCJcIikuc3BsaXQoXCItXCIpLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiBlP2Z1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiB0P1wiXCI6dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpfSh0KTp0fSkuam9pbihcIlwiKV09cix0KX0se30pO3JldHVybiBlP3UuYS5hbGwoW1Msbnx8e31dKTpufWZ1bmN0aW9uIHYodCl7cmV0dXJuIHQucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFxcW1xcXVxcL1xcXFxdKS9nLFwiXFxcXCQxXCIpfWZ1bmN0aW9uIHkodCl7dmFyIGU9e1wiJmx0O1wiOlwiPFwiLFwiJmd0O1wiOlwiPlwifSxuPXQ7cmV0dXJuIGwoKShlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe249bi5yZXBsYWNlKG5ldyBSZWdFeHAoZVt0XSxcImdcIiksdCl9KSxufWZ1bmN0aW9uIGIodCl7cmV0dXJuKHQubWF0Y2goL1xcbi9nKXx8W10pLmxlbmd0aH1mdW5jdGlvbiB4KHQpe3JldHVybiB0LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9dmFyIHcsQz0odz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSlbdy5sZW5ndGgtMV18fG51bGwsaz1hKCkoe30sZyhDKSksXz17c2VydmVyOmsuc2VydmVyfHxcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnXCIsZ2V0IENPTVBJTEUoKXtyZXR1cm5cIlwiLmNvbmNhdCh0aGlzLnNlcnZlcixcIi9rb3RsaW5TZXJ2ZXI/dHlwZT1ydW4mcnVuQ29uZj1cIil9LGdldCBISUdITElHSFQoKXtyZXR1cm5cIlwiLmNvbmNhdCh0aGlzLnNlcnZlcixcIi9rb3RsaW5TZXJ2ZXI/dHlwZT1oaWdobGlnaHQmcnVuQ29uZj1cIil9LGdldCBDT01QTEVURSgpe3JldHVyblwiXCIuY29uY2F0KHRoaXMuc2VydmVyLFwiL2tvdGxpblNlcnZlcj90eXBlPWNvbXBsZXRlJnJ1bkNvbmY9XCIpfSxnZXQgVkVSU0lPTlMoKXtyZXR1cm5cIlwiLmNvbmNhdCh0aGlzLnNlcnZlcixcIi9rb3RsaW5TZXJ2ZXI/dHlwZT1nZXRLb3RsaW5WZXJzaW9uc1wiKX0sZ2V0IEpRVUVSWSgpe3JldHVyblwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9qcXVlcnlAMS9kaXN0L2pxdWVyeS5taW4uanNcIn0sZ2V0IEtPVExJTl9KUygpe3JldHVyblwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9rb3RsaW5AXCJ9fSxTPXtzZWxlY3RvcjpcImNvZGVcIixjb21waWxlclZlcnNpb246dm9pZCAwfSxFPShuKDkyKSxuKDkzKSxuKDM3KSksVD1uLm4oRSksTz1uKDEwMSksTT1uLm4oTyksTD1uKDE1MSksQT1uLm4oTCksTj1uKDYxKSxQPW4ubihOKSxGPW4oNjUpLEk9bi5uKEYpLGo9big1KSxEPW4ubihqKSx6PW4oNiksUj1uLm4oeiksQj1uKDApLEg9bi5uKEIpLFc9KG4oMjM3KSxuKDIzOCksbigyMzkpLG4oMjQwKSxuKDI0MSksbigyNDMpLG4oMjQ0KSxuKDI0NSksbigyNDYpLG4oMjQ3KSxuKDI0OCksbigyNDkpLG4oMjUwKSxuKDI1MSksbigyNTIpLG4oMTUyKSksVT1uLm4oVyksVj0obigxNDMpLG4oMTQ0KSxuKDE1MykpLEc9bi5uKFYpLEs9bigxMDIpLCQ9bi5uKEspLHE9e3NlYXJjaFBhcmFtczpcIlVSTFNlYXJjaFBhcmFtc1wiaW4gc2VsZixpdGVyYWJsZTpcIlN5bWJvbFwiaW4gc2VsZiYmXCJpdGVyYXRvclwiaW4gU3ltYm9sLGJsb2I6XCJGaWxlUmVhZGVyXCJpbiBzZWxmJiZcIkJsb2JcImluIHNlbGYmJmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgQmxvYiwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCksZm9ybURhdGE6XCJGb3JtRGF0YVwiaW4gc2VsZixhcnJheUJ1ZmZlcjpcIkFycmF5QnVmZmVyXCJpbiBzZWxmfTtpZihxLmFycmF5QnVmZmVyKXZhciBZPVtcIltvYmplY3QgSW50OEFycmF5XVwiLFwiW29iamVjdCBVaW50OEFycmF5XVwiLFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIixcIltvYmplY3QgSW50MTZBcnJheV1cIixcIltvYmplY3QgVWludDE2QXJyYXldXCIsXCJbb2JqZWN0IEludDMyQXJyYXldXCIsXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiLFwiW29iamVjdCBGbG9hdDMyQXJyYXldXCIsXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl0sSj1BcnJheUJ1ZmZlci5pc1ZpZXd8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZZLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKT4tMX07ZnVuY3Rpb24gWCh0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9U3RyaW5nKHQpKSwvW15hLXowLTlcXC0jJCUmJyorLl5fYHx+XS9pLnRlc3QodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lXCIpO3JldHVybiB0LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gWih0KXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdCYmKHQ9U3RyaW5nKHQpKSx0fWZ1bmN0aW9uIFEodCl7dmFyIGU9e25leHQ6ZnVuY3Rpb24oKXt2YXIgZT10LnNoaWZ0KCk7cmV0dXJue2RvbmU6dm9pZCAwPT09ZSx2YWx1ZTplfX19O3JldHVybiBxLml0ZXJhYmxlJiYoZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIGV9KSxlfWZ1bmN0aW9uIHR0KHQpe3RoaXMubWFwPXt9LHQgaW5zdGFuY2VvZiB0dD90LmZvckVhY2goZnVuY3Rpb24odCxlKXt0aGlzLmFwcGVuZChlLHQpfSx0aGlzKTpBcnJheS5pc0FycmF5KHQpP3QuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLmFwcGVuZCh0WzBdLHRbMV0pfSx0aGlzKTp0JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuYXBwZW5kKGUsdFtlXSl9LHRoaXMpfWZ1bmN0aW9uIGV0KHQpe2lmKHQuYm9keVVzZWQpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJBbHJlYWR5IHJlYWRcIikpO3QuYm9keVVzZWQ9ITB9ZnVuY3Rpb24gbnQodCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsbil7dC5vbmxvYWQ9ZnVuY3Rpb24oKXtlKHQucmVzdWx0KX0sdC5vbmVycm9yPWZ1bmN0aW9uKCl7bih0LmVycm9yKX19KX1mdW5jdGlvbiBydCh0KXt2YXIgZT1uZXcgRmlsZVJlYWRlcixuPW50KGUpO3JldHVybiBlLnJlYWRBc0FycmF5QnVmZmVyKHQpLG59ZnVuY3Rpb24gaXQodCl7aWYodC5zbGljZSlyZXR1cm4gdC5zbGljZSgwKTt2YXIgZT1uZXcgVWludDhBcnJheSh0LmJ5dGVMZW5ndGgpO3JldHVybiBlLnNldChuZXcgVWludDhBcnJheSh0KSksZS5idWZmZXJ9ZnVuY3Rpb24gb3QoKXtyZXR1cm4gdGhpcy5ib2R5VXNlZD0hMSx0aGlzLl9pbml0Qm9keT1mdW5jdGlvbih0KXt2YXIgZTt0aGlzLl9ib2R5SW5pdD10LHQ/XCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy5fYm9keVRleHQ9dDpxLmJsb2ImJkJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCk/dGhpcy5fYm9keUJsb2I9dDpxLmZvcm1EYXRhJiZGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KT90aGlzLl9ib2R5Rm9ybURhdGE9dDpxLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpP3RoaXMuX2JvZHlUZXh0PXQudG9TdHJpbmcoKTpxLmFycmF5QnVmZmVyJiZxLmJsb2ImJigoZT10KSYmRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSkpPyh0aGlzLl9ib2R5QXJyYXlCdWZmZXI9aXQodC5idWZmZXIpLHRoaXMuX2JvZHlJbml0PW5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk6cS5hcnJheUJ1ZmZlciYmKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpfHxKKHQpKT90aGlzLl9ib2R5QXJyYXlCdWZmZXI9aXQodCk6dGhpcy5fYm9keVRleHQ9dD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk6dGhpcy5fYm9keVRleHQ9XCJcIix0aGlzLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpfHwoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy5oZWFkZXJzLnNldChcImNvbnRlbnQtdHlwZVwiLFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpOnRoaXMuX2JvZHlCbG9iJiZ0aGlzLl9ib2R5QmxvYi50eXBlP3RoaXMuaGVhZGVycy5zZXQoXCJjb250ZW50LXR5cGVcIix0aGlzLl9ib2R5QmxvYi50eXBlKTpxLnNlYXJjaFBhcmFtcyYmVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpJiZ0aGlzLmhlYWRlcnMuc2V0KFwiY29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOFwiKSl9LHEuYmxvYiYmKHRoaXMuYmxvYj1mdW5jdGlvbigpe3ZhciB0PWV0KHRoaXMpO2lmKHQpcmV0dXJuIHQ7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYik7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKFwiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iXCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpfSx0aGlzLmFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj9ldCh0aGlzKXx8UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcik6dGhpcy5ibG9iKCkudGhlbihydCl9KSx0aGlzLnRleHQ9ZnVuY3Rpb24oKXt2YXIgdD1ldCh0aGlzKTtpZih0KXJldHVybiB0O2lmKHRoaXMuX2JvZHlCbG9iKXJldHVybiBmdW5jdGlvbih0KXt2YXIgZT1uZXcgRmlsZVJlYWRlcixuPW50KGUpO3JldHVybiBlLnJlYWRBc1RleHQodCksbn0odGhpcy5fYm9keUJsb2IpO2lmKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgVWludDhBcnJheSh0KSxuPW5ldyBBcnJheShlLmxlbmd0aCkscj0wO3I8ZS5sZW5ndGg7cisrKW5bcl09U3RyaW5nLmZyb21DaGFyQ29kZShlW3JdKTtyZXR1cm4gbi5qb2luKFwiXCIpfSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKTtpZih0aGlzLl9ib2R5Rm9ybURhdGEpdGhyb3cgbmV3IEVycm9yKFwiY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0XCIpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpfSxxLmZvcm1EYXRhJiYodGhpcy5mb3JtRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQoKS50aGVuKGx0KX0pLHRoaXMuanNvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpfSx0aGlzfXR0LnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCxlKXt0PVgodCksZT1aKGUpO3ZhciBuPXRoaXMubWFwW3RdO3RoaXMubWFwW3RdPW4/bitcIiwgXCIrZTplfSx0dC5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLm1hcFtYKHQpXX0sdHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdD1YKHQpLHRoaXMuaGFzKHQpP3RoaXMubWFwW3RdOm51bGx9LHR0LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KFgodCkpfSx0dC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5tYXBbWCh0KV09WihlKX0sdHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gdGhpcy5tYXApdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobikmJnQuY2FsbChlLHRoaXMubWFwW25dLG4sdGhpcyl9LHR0LnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlLG4pe3QucHVzaChuKX0pLFEodCl9LHR0LnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaChlKX0pLFEodCl9LHR0LnByb3RvdHlwZS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihlLG4pe3QucHVzaChbbixlXSl9KSxRKHQpfSxxLml0ZXJhYmxlJiYodHQucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09dHQucHJvdG90eXBlLmVudHJpZXMpO3ZhciBhdD1bXCJERUxFVEVcIixcIkdFVFwiLFwiSEVBRFwiLFwiT1BUSU9OU1wiLFwiUE9TVFwiLFwiUFVUXCJdO2Z1bmN0aW9uIHN0KHQsZSl7dmFyIG4scixpPShlPWV8fHt9KS5ib2R5O2lmKHQgaW5zdGFuY2VvZiBzdCl7aWYodC5ib2R5VXNlZCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQWxyZWFkeSByZWFkXCIpO3RoaXMudXJsPXQudXJsLHRoaXMuY3JlZGVudGlhbHM9dC5jcmVkZW50aWFscyxlLmhlYWRlcnN8fCh0aGlzLmhlYWRlcnM9bmV3IHR0KHQuaGVhZGVycykpLHRoaXMubWV0aG9kPXQubWV0aG9kLHRoaXMubW9kZT10Lm1vZGUsdGhpcy5zaWduYWw9dC5zaWduYWwsaXx8bnVsbD09dC5fYm9keUluaXR8fChpPXQuX2JvZHlJbml0LHQuYm9keVVzZWQ9ITApfWVsc2UgdGhpcy51cmw9U3RyaW5nKHQpO2lmKHRoaXMuY3JlZGVudGlhbHM9ZS5jcmVkZW50aWFsc3x8dGhpcy5jcmVkZW50aWFsc3x8XCJzYW1lLW9yaWdpblwiLCFlLmhlYWRlcnMmJnRoaXMuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgdHQoZS5oZWFkZXJzKSksdGhpcy5tZXRob2Q9KG49ZS5tZXRob2R8fHRoaXMubWV0aG9kfHxcIkdFVFwiLHI9bi50b1VwcGVyQ2FzZSgpLGF0LmluZGV4T2Yocik+LTE/cjpuKSx0aGlzLm1vZGU9ZS5tb2RlfHx0aGlzLm1vZGV8fG51bGwsdGhpcy5zaWduYWw9ZS5zaWduYWx8fHRoaXMuc2lnbmFsLHRoaXMucmVmZXJyZXI9bnVsbCwoXCJHRVRcIj09PXRoaXMubWV0aG9kfHxcIkhFQURcIj09PXRoaXMubWV0aG9kKSYmaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHNcIik7dGhpcy5faW5pdEJvZHkoaSl9ZnVuY3Rpb24gbHQodCl7dmFyIGU9bmV3IEZvcm1EYXRhO3JldHVybiB0LnRyaW0oKS5zcGxpdChcIiZcIikuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0KXt2YXIgbj10LnNwbGl0KFwiPVwiKSxyPW4uc2hpZnQoKS5yZXBsYWNlKC9cXCsvZyxcIiBcIiksaT1uLmpvaW4oXCI9XCIpLnJlcGxhY2UoL1xcKy9nLFwiIFwiKTtlLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQociksZGVjb2RlVVJJQ29tcG9uZW50KGkpKX19KSxlfWZ1bmN0aW9uIGN0KHQsZSl7ZXx8KGU9e30pLHRoaXMudHlwZT1cImRlZmF1bHRcIix0aGlzLnN0YXR1cz12b2lkIDA9PT1lLnN0YXR1cz8yMDA6ZS5zdGF0dXMsdGhpcy5vaz10aGlzLnN0YXR1cz49MjAwJiZ0aGlzLnN0YXR1czwzMDAsdGhpcy5zdGF0dXNUZXh0PVwic3RhdHVzVGV4dFwiaW4gZT9lLnN0YXR1c1RleHQ6XCJPS1wiLHRoaXMuaGVhZGVycz1uZXcgdHQoZS5oZWFkZXJzKSx0aGlzLnVybD1lLnVybHx8XCJcIix0aGlzLl9pbml0Qm9keSh0KX1zdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHN0KHRoaXMse2JvZHk6dGhpcy5fYm9keUluaXR9KX0sb3QuY2FsbChzdC5wcm90b3R5cGUpLG90LmNhbGwoY3QucHJvdG90eXBlKSxjdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGN0KHRoaXMuX2JvZHlJbml0LHtzdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDp0aGlzLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgdHQodGhpcy5oZWFkZXJzKSx1cmw6dGhpcy51cmx9KX0sY3QuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgY3QobnVsbCx7c3RhdHVzOjAsc3RhdHVzVGV4dDpcIlwifSk7cmV0dXJuIHQudHlwZT1cImVycm9yXCIsdH07dmFyIHV0PVszMDEsMzAyLDMwMywzMDcsMzA4XTtjdC5yZWRpcmVjdD1mdW5jdGlvbih0LGUpe2lmKC0xPT09dXQuaW5kZXhPZihlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgc3RhdHVzIGNvZGVcIik7cmV0dXJuIG5ldyBjdChudWxsLHtzdGF0dXM6ZSxoZWFkZXJzOntsb2NhdGlvbjp0fX0pfTt2YXIgZnQ9c2VsZi5ET01FeGNlcHRpb247dHJ5e25ldyBmdH1jYXRjaCh0KXsoZnQ9ZnVuY3Rpb24odCxlKXt0aGlzLm1lc3NhZ2U9dCx0aGlzLm5hbWU9ZTt2YXIgbj1FcnJvcih0KTt0aGlzLnN0YWNrPW4uc3RhY2t9KS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpLGZ0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1mdH1mdW5jdGlvbiBkdCh0LGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLHIpe3ZhciBpPW5ldyBzdCh0LGUpO2lmKGkuc2lnbmFsJiZpLnNpZ25hbC5hYm9ydGVkKXJldHVybiByKG5ldyBmdChcIkFib3J0ZWRcIixcIkFib3J0RXJyb3JcIikpO3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtmdW5jdGlvbiBhKCl7by5hYm9ydCgpfW8ub25sb2FkPWZ1bmN0aW9uKCl7dmFyIHQsZSxyPXtzdGF0dXM6by5zdGF0dXMsc3RhdHVzVGV4dDpvLnN0YXR1c1RleHQsaGVhZGVyczoodD1vLmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHxcIlwiLGU9bmV3IHR0LHQucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZyxcIiBcIikuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuc3BsaXQoXCI6XCIpLHI9bi5zaGlmdCgpLnRyaW0oKTtpZihyKXt2YXIgaT1uLmpvaW4oXCI6XCIpLnRyaW0oKTtlLmFwcGVuZChyLGkpfX0pLGUpfTtyLnVybD1cInJlc3BvbnNlVVJMXCJpbiBvP28ucmVzcG9uc2VVUkw6ci5oZWFkZXJzLmdldChcIlgtUmVxdWVzdC1VUkxcIik7dmFyIGk9XCJyZXNwb25zZVwiaW4gbz9vLnJlc3BvbnNlOm8ucmVzcG9uc2VUZXh0O24obmV3IGN0KGkscikpfSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXtyKG5ldyBUeXBlRXJyb3IoXCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkXCIpKX0sby5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtyKG5ldyBUeXBlRXJyb3IoXCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkXCIpKX0sby5vbmFib3J0PWZ1bmN0aW9uKCl7cihuZXcgZnQoXCJBYm9ydGVkXCIsXCJBYm9ydEVycm9yXCIpKX0sby5vcGVuKGkubWV0aG9kLGkudXJsLCEwKSxcImluY2x1ZGVcIj09PWkuY3JlZGVudGlhbHM/by53aXRoQ3JlZGVudGlhbHM9ITA6XCJvbWl0XCI9PT1pLmNyZWRlbnRpYWxzJiYoby53aXRoQ3JlZGVudGlhbHM9ITEpLFwicmVzcG9uc2VUeXBlXCJpbiBvJiZxLmJsb2ImJihvLnJlc3BvbnNlVHlwZT1cImJsb2JcIiksaS5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odCxlKXtvLnNldFJlcXVlc3RIZWFkZXIoZSx0KX0pLGkuc2lnbmFsJiYoaS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsYSksby5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09by5yZWFkeVN0YXRlJiZpLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKX0pLG8uc2VuZCh2b2lkIDA9PT1pLl9ib2R5SW5pdD9udWxsOmkuX2JvZHlJbml0KX0pfWR0LnBvbHlmaWxsPSEwLHNlbGYuZmV0Y2h8fChzZWxmLmZldGNoPWR0LHNlbGYuSGVhZGVycz10dCxzZWxmLlJlcXVlc3Q9c3Qsc2VsZi5SZXNwb25zZT1jdCk7dmFyIGh0PW4oMTU0KSxwdD1uLm4oaHQpLG10PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe0QoKSh0aGlzLHQpLHRoaXMuaWQ9ZSx0aGlzLnByaW50YWJsZU5hbWU9bn1yZXR1cm4gUigpKHQsbnVsbCxbe2tleTpcImdldEJ5SWRcIix2YWx1ZTpmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwianNcIjpyZXR1cm4gdC5KUztjYXNlXCJqdW5pdFwiOnJldHVybiB0LkpVTklUO2Nhc2VcImNhbnZhc1wiOnJldHVybiB0LkNBTlZBUztkZWZhdWx0OnJldHVybiB0LkpBVkF9fX1dKSx0fSgpO210LkpTPW5ldyBtdChcImpzXCIsXCJKYXZhU2NyaXB0XCIpLG10LkpBVkE9bmV3IG10KFwiamF2YVwiLFwiSlZNXCIpLG10LkpVTklUPW5ldyBtdChcImp1bml0XCIsXCJKVW5pdFwiKSxtdC5DQU5WQVM9bmV3IG10KFwiY2FudmFzXCIsXCJKYXZhU2NyaXB0KGNhbnZhcylcIik7dmFyIGd0PW10LHZ0PW4oMTAzKSx5dD1uLm4odnQpLGJ0PW4oMTU1KSx4dD1uLm4oYnQpLHd0PW4oMTU2KSxDdD1uLm4od3QpLGt0PVwiamF2YS5zZWN1cml0eS5BY2Nlc3NDb250cm9sRXhjZXB0aW9uXCIsX3Q9XCJBY2Nlc3MgY29udHJvbCBleGNlcHRpb24gZHVlIHRvIHNlY3VyaXR5IHJlYXNvbnMgaW4gd2ViIHBsYXlncm91bmRcIixTdD1cIlVuaGFuZGxlZCBKYXZhU2NyaXB0IGV4Y2VwdGlvblwiLEV0PVwiTm8gdGVzdHMgbWV0aG9kcyBhcmUgZm91bmRcIixUdD1cIiZsdDtcIixPdD1cIiZndDtcIixNdD17RkFJTDp7dmFsdWU6XCJGQUlMXCIsdGV4dDpcIkZhaWxcIn0sRVJST1I6e3ZhbHVlOlwiRVJST1JcIix0ZXh0OlwiRXJyb3JcIn0sUEFTU0VEOnt2YWx1ZTpcIk9LXCIsdGV4dDpcIlBhc3NlZFwifX0sTHQ9XCJcIi5jb25jYXQoVHQsXCJlcnJTdHJlYW1cIikuY29uY2F0KE90LFwiQlVHXCIpLmNvbmNhdChUdCxcIi9lcnJTdHJlYW1cIikuY29uY2F0KE90KSxBdD1cIlwiLmNvbmNhdChUdCxcImVyclN0cmVhbVwiKS5jb25jYXQoT3QsXCJIZXkhIEl0IHNlZW1zIHlvdSBqdXN0IGZvdW5kIGEgYnVnISDwn5CeXFxuXCIpK1wiUGxlYXNlIGNsaWNrIDxhIGhyZWY9aHR0cDovL2tvdGwuaW4vaXNzdWUgdGFyZ2V0PV9ibGFuaz5oZXJlPGE+IHRvIHN1Ym1pdCBpdCB0byB0aGUgaXNzdWUgdHJhY2tlciBhbmQgb25lIGRheSB3ZSBmaXggaXQsIGhvcGVmdWxseSDwn5iJXFxuXCIrXCLinIUgRG9uJ3QgZm9yZ2V0IHRvIGF0dGFjaCBjb2RlIHRvIHRoZSBpc3N1ZVwiLmNvbmNhdChUdCxcIi9lcnJTdHJlYW1cIikuY29uY2F0KE90LFwiXFxuXCIpO2Z1bmN0aW9uIE50KHQsZSl7cmV0dXJuIHkodCkuc3BsaXQoTHQpLmpvaW4oQXQpLnNwbGl0KFwiXCIuY29uY2F0KFR0LFwib3V0U3RyZWFtXCIpLmNvbmNhdChPdCkpLmpvaW4oJzxzcGFuIGNsYXNzPVwic3RhbmRhcmQtb3V0cHV0ICcuY29uY2F0KGUsJ1wiPicpKS5zcGxpdChcIlwiLmNvbmNhdChUdCxcIi9vdXRTdHJlYW1cIikuY29uY2F0KE90KSkuam9pbihcIjwvc3Bhbj5cIikuc3BsaXQoXCJcIi5jb25jYXQoVHQsXCJlcnJTdHJlYW1cIikuY29uY2F0KE90KSkuam9pbignPHNwYW4gY2xhc3M9XCJlcnJvci1vdXRwdXQgJy5jb25jYXQoZSwnXCI+JykpLnNwbGl0KFwiXCIuY29uY2F0KFR0LFwiL2VyclN0cmVhbVwiKS5jb25jYXQoT3QpKS5qb2luKFwiPC9zcGFuPlwiKX1mdW5jdGlvbiBQdCh0LGUsbil7cmV0dXJuJ1xcbiAgPGRpdiBjbGFzcz1cImNvbnNvbGUtYmxvY2tcIj5cXG4gICAgPHNwYW4gY2xhc3M9XCJjb25zb2xlLWljb24gJy5jb25jYXQodC50b0xvY2FsZUxvd2VyQ2FzZSgpLCdcIj48L3NwYW4+XFxuICAgIDxkaXYgY2xhc3M9XCJ0ZXN0LScpLmNvbmNhdCh0LnRvTG9jYWxlTG93ZXJDYXNlKCksJ1wiPicpLmNvbmNhdCh0LFwiOiBcIikuY29uY2F0KGUpLmNvbmNhdChuP1wiOiBcIisocj17XCImbHQ7XCI6XCImYW1wO2x0O1wiLFwiJmd0O1wiOlwiJmFtcDtndDtcIn0saT1uLGwoKShyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2k9aS5yZXBsYWNlKG5ldyBSZWdFeHAoclt0XSxcImdcIiksdCl9KSxpKTpcIlwiLFwiPC9kaXY+XFxuICA8L2Rpdj5cXG4gIFwiKTt2YXIgcixpfWZ1bmN0aW9uIEZ0KHQsZSl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQrJzxkaXYgY2xhc3M9XCJjb25zb2xlLWJsb2NrXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb25zb2xlLWljb24gYXR0ZW50aW9uXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXN0LWZhaWwgJy5jb25jYXQoZSwnXCI+JykuY29uY2F0KEN0KCkobi5tZXNzYWdlKSxcIjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cIil9LFwiXCIpfWZ1bmN0aW9uIEl0KHQpe3JldHVybiBudWxsIT10LnN0YWNrVHJhY2UmJihudWxsIT10Lm1lc3NhZ2U/dC5tZXNzYWdlPVwiXCIuY29uY2F0KF90LFwiOiBcXG4gXCIpK3QubWVzc2FnZTp0Lm1lc3NhZ2U9X3QsdC5zdGFja1RyYWNlPXQuc3RhY2tUcmFjZS5zbGljZSh0LnN0YWNrVHJhY2UubGVuZ3RoLTEpKSx0fXZhciBqdD17fSxEdD1cIkZpbGUua3RcIix6dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtEKCkodGhpcyx0KX1yZXR1cm4gUigpKHQsbnVsbCxbe2tleTpcImdldENvbXBpbGVyVmVyc2lvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwiY29tcGlsZXJWZXJzaW9uc1wiaW4ganQ/VC5hLnJlc29sdmUoanQuY29tcGlsZXJWZXJzaW9ucyk6ZHQoXy5WRVJTSU9OUykudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBqdC5jb21waWxlclZlcnNpb25zPXQsdH0pLmNhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KX19LHtrZXk6XCJ0cmFuc2xhdGVLb3RsaW5Ub0pzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpKXtyZXR1cm4gUnQoXy5DT01QSUxFLHQsZSxuLHIsaSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm57b3V0cHV0OlwiXCIsZXJyb3JzOnl0KCkoJCgpKHQuZXJyb3JzKSksanNDb2RlOnQuanNDb2RlfX0pfX0se2tleTpcImV4ZWN1dGVLb3RsaW5Db2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLG8sYSxzKXtyZXR1cm4gUnQoXy5DT01QSUxFLHQsZSxuLHIsbykudGhlbihmdW5jdGlvbih0KXt2YXIgZT1cIlwiLHI9eXQoKSgkKCkodC5lcnJvcnMpKSxvPXIuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwiRVJST1JcIj09PXQuc2V2ZXJpdHl9KTtpZihvLmxlbmd0aD4wKWU9RnQobyxpKTtlbHNlIHN3aXRjaChuKXtjYXNlIGd0LkpBVkE6dC50ZXh0JiYoZT1OdCh0LnRleHQsaSkpO2JyZWFrO2Nhc2UgZ3QuSlVOSVQ6ZT10LnRlc3RSZXN1bHRzP2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj1cIlwiLGk9MCxvPSEwO2lmKHh0KCkodCkpcmV0dXJuIEV0O2Zvcih2YXIgYSBpbiB0KXIrPW0odFthXSkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7c3dpdGNoKGkrPWUuZXhlY3V0aW9uVGltZS8xZTMsZS5zdGF0dXMhPT1NdC5FUlJPUi52YWx1ZSYmZS5zdGF0dXMhPT1NdC5GQUlMLnZhbHVlfHwobz0hMSksZS5zdGF0dXMpe2Nhc2UgTXQuRkFJTC52YWx1ZTpyZXR1cm4gdCtQdChNdC5GQUlMLnRleHQsZS5tZXRob2ROYW1lLGUuY29tcGFyaXNvbkZhaWx1cmUubWVzc2FnZSk7Y2FzZSBNdC5FUlJPUi52YWx1ZTpyZXR1cm4gdCtQdChNdC5FUlJPUi50ZXh0LGUubWV0aG9kTmFtZSxlLmV4Y2VwdGlvbi5tZXNzYWdlKTtjYXNlIE10LlBBU1NFRC52YWx1ZTpyZXR1cm4gdCtQdChNdC5QQVNTRUQudGV4dCxlLm1ldGhvZE5hbWUsXCJcIil9fSxcIlwiKTtyZXR1cm4gbyYmZSYmZSgpLCFvJiZuJiZuKCksJzxkaXYgY2xhc3M9XCJ0ZXN0LXRpbWVcIj5Ub3RhbCB0ZXN0IHRpbWU6ICcuY29uY2F0KGksXCJzPC9kaXY+XCIpK3J9KHQudGVzdFJlc3VsdHMsYSxzKTpOdCh0LnRleHQsaSl9dmFyIGw9bnVsbDtyZXR1cm4gbnVsbCE9dC5leGNlcHRpb24mJigobD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dDtudWxsIT1lOyl7aWYoZS5mdWxsTmFtZT09PWt0KXJldHVybiBJdChlKTtlPWUuY2F1c2V9cmV0dXJuIHR9KHQuZXhjZXB0aW9uKSkuY2F1c2VzPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIHZvaWQgMCE9PWUuY2F1c2UmJm51bGwhPWUuY2F1c2U/W2UuY2F1c2VdLmNvbmNhdCh0KGUuY2F1c2UpKTpbXX0obCksbC5jYXVzZT12b2lkIDApLHtlcnJvcnM6cixvdXRwdXQ6ZSxleGNlcHRpb246bH19KX19LHtrZXk6XCJnZXRBdXRvQ29tcGxldGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtSdChfLkNPTVBMRVRFLHQsbixyLFwiXCIsaSxlKS50aGVuKGZ1bmN0aW9uKHQpe28odCl9KX19LHtrZXk6XCJnZXRIaWdobGlnaHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gUnQoXy5ISUdITElHSFQsdCxlLG4sXCJcIixyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0W0R0XX0pfX1dKSx0fSgpO2Z1bmN0aW9uIFJ0KHQsZSxuLHIsaSxvLGEpe3ZhciBzPVtCdChlLER0KV0uY29uY2F0KG8ubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIEJ0KHQsXCJoaWRkZW5EZXBlbmRlbmN5XCIuY29uY2F0KGUsXCIua3RcIikpfSkpLGw9RygpKHtpZDpcIlwiLG5hbWU6XCJcIixhcmdzOmksY29tcGlsZXJWZXJzaW9uOm4sY29uZlR5cGU6ci5pZCxvcmlnaW5Vcmw6bnVsbCxmaWxlczpzLHJlYWRPbmx5RmlsZU5hbWVzOltdfSksYz1uZXcgcHQuYTtpZihjLnNldChcImZpbGVuYW1lXCIsRHQpLGMuc2V0KFwicHJvamVjdFwiLGwpLHZvaWQgMCE9PWEpZm9yKHZhciB1IGluIGEpYy5zZXQodSxhW3VdKTtyZXR1cm4gZHQodCtyLmlkLHttZXRob2Q6XCJQT1NUXCIsYm9keTpjLnRvU3RyaW5nKCksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04XCJ9fSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5qc29uKCl9KX1mdW5jdGlvbiBCdCh0LGUpe3JldHVybntuYW1lOmUsdGV4dDp0LHB1YmxpY0lkOlwiXCJ9fW4oMjk3KSxuKDMwMiksbigxNDYpO3ZhciBIdD1uKDYyKSxXdD1uLm4oSHQpLFV0PW4oMTkpLFZ0PW4ubihVdCksR3Q9big2MyksS3Q9bi5uKEd0KSwkdD1uKDY0KSxxdD1uLm4oJHQpLFl0PW4oNDUpLEp0PW4ubihZdCksWHQ9bigxNTcpLFp0PW4ubihYdCksUXQ9KG4oMzIyKSxuKDE1OCkpLHRlPW4ubihRdCksZWU9bigxNjApLG5lPW4ubihlZSkscmU9KG4oMzI4KSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7RCgpKHRoaXMsdCksdGhpcy5rb3RsaW5WZXJzaW9uPWV9cmV0dXJuIFIoKSh0LFt7a2V5OlwiZXhlY3V0ZUpzQ29kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYSxzKXtyZXR1cm4gbj09PWd0LkNBTlZBUyYmKHRoaXMuaWZyYW1lLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHImJih0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQ9XCJcIi5jb25jYXQocixcInB4XCIpKSksUHJvbWlzZS5yZXNvbHZlKHRoaXMuZXhlY3V0ZSh0LGUsaSxvKSkudGhlbihhLHMpfS5iaW5kKHRoaXMpKX19LHtrZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGksbyl7dmFyIGEscztpZigodGhpcy5pZnJhbWUuY29udGVudERvY3VtZW50fHx0aGlzLmlmcmFtZS5kb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikubGVuZ3RoPT09ZS5zaXplKzIpdHJ5e3JldHVybiBhPXRoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cuZXZhbCh0KSxpKGE/JzxzcGFuIGNsYXNzPVwic3RhbmRhcmQtb3V0cHV0ICcuY29uY2F0KG4sJ1wiPicpLmNvbmNhdCh5KGEpLFwiPC9zcGFuPlwiKTpcIlwiKX1jYXRjaCh0KXtyZXR1cm4gciYmcigpLHM9ZnVuY3Rpb24odCl7aWYoY29uc29sZSYmY29uc29sZS5lcnJvcih0KSxudWxsIT10LnN0YWNrKXt2YXIgZT10LnN0YWNrLnRvU3RyaW5nKCkuc3Vic3RyKDAsdC5zdGFjay50b1N0cmluZygpLmluZGV4T2YoXCJhdCBldmFsICg8YW5vbnltb3VzPilcIikpO3JldHVyblwiXCIuY29uY2F0KFN0LFwiOiBcIikuY29uY2F0KHQubWVzc2FnZSxcIiBcXG4gXCIpLmNvbmNhdChlKX1yZXR1cm4gU3R9KHQpLGkoJzxzcGFuIGNsYXNzPVwiZXJyb3Itb3V0cHV0XCI+Jy5jb25jYXQocyxcIjwvc3Bhbj5cIikpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50aW1lb3V0KDQwMCkpLnRoZW4oZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5leGVjdXRlKHQsZSxuLHIpKS50aGVuKGksbyl9Y2F0Y2godCl7cmV0dXJuIG8odCl9fS5iaW5kKHRoaXMpLG8pfS5iaW5kKHRoaXMpKX19LHtrZXk6XCJ0aW1lb3V0XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBULmEoZnVuY3Rpb24oZSl7cmV0dXJuIHNldFRpbWVvdXQoZSx0KX0pfX0se2tleTpcInJlbG9hZElmcmFtZVNjcmlwdHNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PXRoaXMuaWZyYW1lJiZlLnJlbW92ZUNoaWxkKHRoaXMuaWZyYW1lKSx0aGlzLmlmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHRoaXMuaWZyYW1lLmNsYXNzTmFtZT1cImsyanMtaWZyYW1lXCIsZS5hcHBlbmRDaGlsZCh0aGlzLmlmcmFtZSk7dmFyIG49dGhpcy5pZnJhbWUuY29udGVudERvY3VtZW50fHx0aGlzLmlmcmFtZS5kb2N1bWVudDtuLm9wZW4oKTt2YXIgcixpLG89Xy5LT1RMSU5fSlMrXCJcIi5jb25jYXQoKHI9dGhpcy5rb3RsaW5WZXJzaW9uLChpPXIubWF0Y2goLy1NXFxkKyQvKSkmJnIuc3Vic3RyaW5nKDAsaS5pbmRleCkubWF0Y2goL15cXGQrXFwuXFxkKyQvKT9yLnN1YnN0cmluZygwLGkuaW5kZXgpK1wiLjBcIitpWzBdOnIpLFwiL2tvdGxpbi5qc1wiKTtuLndyaXRlKFwiPHNjcmlwdCBzcmM9J1wiK28rXCInPjxcXC9zY3JpcHQ+XCIpO3ZhciBhPSEwLHM9ITEsbD12b2lkIDA7dHJ5e2Zvcih2YXIgYyx1PW5lKCkodCk7IShhPShjPXUubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgZj1jLnZhbHVlO24ud3JpdGUoXCI8c2NyaXB0IHNyYz0nXCIrZitcIic+PFxcL3NjcmlwdD5cIil9fWNhdGNoKHQpe3M9ITAsbD10fWZpbmFsbHl7dHJ5e2F8fG51bGw9PXUucmV0dXJufHx1LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBsfX1uLndyaXRlKFwiPHNjcmlwdD5cIi5jb25jYXQoXCJpZihrb3RsaW4uQnVmZmVyZWRPdXRwdXQhPT11bmRlZmluZWQpe2tvdGxpbi5vdXQgPSBuZXcga290bGluLkJ1ZmZlcmVkT3V0cHV0KCl9ZWxzZXtrb3RsaW4ua290bGluLmlvLm91dHB1dCA9IG5ldyBrb3RsaW4ua290bGluLmlvLkJ1ZmZlcmVkT3V0cHV0KCl9XCIsXCI8XFwvc2NyaXB0PlwiKSksbi53cml0ZSgnPGJvZHkgc3R5bGU9XCJtYXJnaW46IDA7IG92ZXJmbG93OiBoaWRkZW47XCI+PC9ib2R5PicpLG4uY2xvc2UoKX19XSksdH0oKSksaWU9big0Niksb2U9bi5uKGllKSxhZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7RCgpKHRoaXMsdCksdGhpcy5jb21wbGV0aW9uPWV9cmV0dXJuIFIoKSh0LFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJpY29uIFwiK3RoaXMuY29tcGxldGlvbi5pY29uKSxpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJuYW1lXCIpLG8uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInRhaWxcIiksaS50ZXh0Q29udGVudD10aGlzLmNvbXBsZXRpb24uZGlzcGxheVRleHQsby50ZXh0Q29udGVudD10aGlzLmNvbXBsZXRpb24udGFpbCx0LmFwcGVuZENoaWxkKHIpLHQuYXBwZW5kQ2hpbGQoaSksdC5hcHBlbmRDaGlsZChvKX19LHtrZXk6XCJoaW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuZ2V0Q3Vyc29yKCksaT10LmdldFRva2VuQXQociksbz17bGluZTpyLmxpbmUsY2g6aS5zdGFydH0sYT17bGluZTpyLmxpbmUsY2g6aS5lbmR9LHM9aS5zdHJpbmcudHJpbSgpO2lmKFtcIi5cIixcIlwiLFwiKFwiLFwiOlwiXS5pbmNsdWRlcyhzKSl0LnJlcGxhY2VSYW5nZSh0aGlzLmNvbXBsZXRpb24udGV4dCxhKTtlbHNle3ZhciBsPXIuY2gtaS5zdGFydCxjPXMuc3Vic3RyaW5nKDAsbCkubGFzdEluZGV4T2YoXCIkXCIpLHU9cy5zdWJzdHJpbmcoMCxjKzEpK3RoaXMuY29tcGxldGlvbi50ZXh0K3Muc3Vic3RyaW5nKGwsaS5zdHJpbmcubGVuZ3RoKTt0LnJlcGxhY2VSYW5nZSh1LG8sYSksdC5zZXRDdXJzb3Ioci5saW5lLGkuc3RhcnQrYyt0aGlzLmNvbXBsZXRpb24udGV4dC5sZW5ndGgrMSksdS5lbmRzV2l0aChcIihcIikmJih0LnJlcGxhY2VSYW5nZShcIilcIix7bGluZTpyLmxpbmUsY2g6aS5zdGFydCt0aGlzLmNvbXBsZXRpb24udGV4dC5sZW5ndGh9KSx0LmV4ZWNDb21tYW5kKFwiZ29DaGFyTGVmdFwiKSl9fX1dKSx0fSgpLHNlPTgyLGxlPTEyMCxjZT1cIi5qcy1jb2RlLW91dHB1dC1leGVjdXRvclwiLHVlPVwiLmZvbGQtYnV0dG9uXCIsZmU9XCJ1bm1vZGlmaWFibGUtbGluZS1kYXJrXCIsZGU9XCJ1bm1vZGlmaWFibGUtbGluZVwiLGhlPVwibWFya1BsYWNlaG9sZGVyXCIscGU9XCJtYXJrUGxhY2Vob2xkZXItc3RhcnRcIixtZT1cIm1hcmtQbGFjZWhvbGRlci1lbmRcIixnZT1cImd1dHRlclwiLHZlPVwiQ29kZU1pcnJvci1mb2xkZ3V0dGVyXCIseWU9XCJFUlJPUmd1dHRlclwiLGJlPVwiZXJyb3JzLWFuZC13YXJuaW5ncy1ndXR0ZXJcIix4ZT1cImJhY2tncm91bmRcIix3ZT1cImxhYmVsXCIsQ2U9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBEKCkodGhpcyxlKSxXdCgpKHRoaXMsVnQoKShlKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBxdCgpKGUsdCksUigpKGUsW3trZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbixyPXRoaXMsaT0hMSxvPXQudGFyZ2V0UGxhdGZvcm07aWYoIXQuY29tcGlsZXJWZXJzaW9ufHxvIT09Z3QuSlMmJm8hPT1ndC5DQU5WQVN8fCh0aGlzLmpzRXhlY3V0b3I9bmV3IHJlKHQuY29tcGlsZXJWZXJzaW9uKSksdC5jb2RlKXt2YXIgYT10LmNvZGU7aWYodC5mcm9tJiZ0LnRvJiZ0LnRvPj10LmZyb20mJnQuZnJvbT4wJiZ0LnRvPjApe3ZhciBzPWEuc3BsaXQoXCJcXG5cIik7cy5zcGxpY2UodC5mcm9tLTEsMCxcIi8vc2FtcGxlU3RhcnRcIikscy5zcGxpY2UodC50bysxLDAsXCIvL3NhbXBsZUVuZFwiKSxhPXMuam9pbihcIlxcblwiKX12YXIgbD1hLmluZGV4T2YoXCIvL3NhbXBsZVN0YXJ0XCIpLGM9YS5pbmRleE9mKFwiLy9zYW1wbGVFbmRcIik7aT0hdC5ub25lTWFya2VycyYmbD4tMSYmYz4tMSx0aGlzLnByZWZpeD1cIlwiLHRoaXMuc3VmZml4PVwiXCIsbj1hLGkmJih0aGlzLnByZWZpeD1hLnN1YnN0cmluZygwLGwpLHRoaXMuc3VmZml4PWEuc3Vic3RyaW5nKGMrXCIvL3NhbXBsZUVuZFwiLmxlbmd0aCksbj1hLnN1YnN0cmluZyhsK1wiLy9zYW1wbGVTdGFydFwiLmxlbmd0aCsxLGMtMSkpLHRoaXMuc3VmZml4LmVuZHNXaXRoKFwiXFxuXCIpJiYodGhpcy5zdWZmaXg9dGhpcy5zdWZmaXguc3Vic3RyKDAsdGhpcy5zdWZmaXgubGVuZ3RoLTEpKX1lbHNlIGlmKHRoaXMuc3RhdGUuZm9sZGVkKW49dGhpcy5jb2RlbWlycm9yLmdldFZhbHVlKCk7ZWxzZXt2YXIgZD10aGlzLmNvZGVtaXJyb3IuZ2V0VmFsdWUoKTtuPWQuc3Vic3RyaW5nKHRoaXMucHJlZml4Lmxlbmd0aCxkLmxlbmd0aC10aGlzLnN1ZmZpeC5sZW5ndGgpfWlmKHRoaXMuc3RhdGU9dS5hLmFsbChbdGhpcy5zdGF0ZSx0LHtpc1Nob3VsZEJlRm9sZGVkOnRoaXMuaXNTaG91bGRCZUZvbGRlZCYmdC5pc0ZvbGRlZEJ1dHRvbn1dKSxLdCgpKFZ0KCkoZS5wcm90b3R5cGUpLFwidXBkYXRlXCIsdGhpcykuY2FsbCh0aGlzLHRoaXMuc3RhdGUpLHRoaXMuaW5pdGlhbGl6ZWQpe2lmKHRoaXMuc2hvd0RpYWdub3N0aWNzKHQuZXJyb3JzKSx2b2lkIDA9PT10LmZvbGRlZClyZXR1cm59ZWxzZSB0aGlzLmluaXRpYWxpemVDb2RlTWlycm9yKHQpLHRoaXMuaW5pdGlhbGl6ZWQ9ITA7aWYodGhpcy5zdGF0ZS5mb2xkZWQpdGhpcy5jb2RlbWlycm9yLnNldE9wdGlvbihcImxpbmVOdW1iZXJzXCIsdC5saW5lcyYmIWkpLHRoaXMuY29kZW1pcnJvci5zZXRWYWx1ZShuKSx0aGlzLm1hcmtQbGFjZUhvbGRlcnMoKTtlbHNle3RoaXMuY29kZW1pcnJvci5zZXRPcHRpb24oXCJsaW5lTnVtYmVyc1wiLCEwKSx0aGlzLmNvZGVtaXJyb3Iuc2V0VmFsdWUodGhpcy5wcmVmaXgrbit0aGlzLnN1ZmZpeCksdGhpcy5jb2RlbWlycm9yLm1hcmtUZXh0KHtsaW5lOjAsY2g6MH0se2xpbmU6Yih0aGlzLnByZWZpeCksY2g6MH0se3JlYWRPbmx5OiEwLGluY2x1c2l2ZUxlZnQ6ITAsaW5jbHVzaXZlUmlnaHQ6ITF9KSx0aGlzLmNvZGVtaXJyb3IubWFya1RleHQoe2xpbmU6dGhpcy5jb2RlbWlycm9yLmxpbmVDb3VudCgpLWIodGhpcy5zdWZmaXgpLTEsY2g6bnVsbH0se2xpbmU6dGhpcy5jb2RlbWlycm9yLmxpbmVDb3VudCgpLTEsY2g6bnVsbH0se3JlYWRPbmx5OiEwLGluY2x1c2l2ZUxlZnQ6ITEsaW5jbHVzaXZlUmlnaHQ6ITB9KTt2YXIgaD10aGlzLnN0YXRlLnRoZW1lPT09Zj9mZTpkZTt0aGlzLmNvZGVtaXJyb3Iub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxiKHIucHJlZml4KTt0Kyspci5jb2RlbWlycm9yLmFkZExpbmVDbGFzcyh0LHhlLGgpO2Zvcih2YXIgZT1yLmNvZGVtaXJyb3IubGluZUNvdW50KCktYihyLnN1ZmZpeCk7ZTxyLmNvZGVtaXJyb3IubGluZUNvdW50KCk7ZSsrKXIuY29kZW1pcnJvci5hZGRMaW5lQ2xhc3MoZSx4ZSxoKX0pfWlmKHRoaXMuc3RhdGUuYXV0b0luZGVudHx8dGhpcy5wcmVmaXgmJnRoaXMuc3VmZml4KWZvcih2YXIgcD0wO3A8dGhpcy5jb2RlbWlycm9yLmxpbmVDb3VudCgpO3ArKyl0aGlzLmNvZGVtaXJyb3IuaW5kZW50TGluZShwKX19LHtrZXk6XCJtYXJrUGxhY2VIb2xkZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5nZXRUYXNrUmFuZ2VzKCk7dGhpcy5jb2RlbWlycm9yLnNldFZhbHVlKHRoaXMuY29kZW1pcnJvci5nZXRWYWx1ZSgpLnJlcGxhY2UobmV3IFJlZ0V4cCh2KFwiW21hcmtdXCIpLFwiZ1wiKSxcIlwiKS5yZXBsYWNlKG5ldyBSZWdFeHAodihcIlsvbWFya11cIiksXCJnXCIpLFwiXCIpKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5jb2RlbWlycm9yLm1hcmtUZXh0KHtsaW5lOmUubGluZSxjaDplLmNofSx7bGluZTplLmxpbmUsY2g6ZS5jaCtlLmxlbmd0aH0se2NsYXNzTmFtZTpoZSxzdGFydFN0eWxlOnBlLGVuZFN0eWxlOm1lLGhhbmRsZU1vdXNlRXZlbnRzOiEwfSl9KX19LHtrZXk6XCJnZXRUYXNrUmFuZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT10aGlzLmNvZGVtaXJyb3IuZ2V0VmFsdWUoKS5zcGxpdChcIlxcblwiKSxuPTA7bjxlLmxlbmd0aDtuKyspZm9yKHZhciByPWVbbl07ci5pbmNsdWRlcyhcIlttYXJrXVwiKTspe3ZhciBpPXIuaW5kZXhPZihcIlttYXJrXVwiKSxvPShyPXIucmVwbGFjZShcIlttYXJrXVwiLFwiXCIpKS5pbmRleE9mKFwiWy9tYXJrXVwiKTtyPXIucmVwbGFjZShcIlsvbWFya11cIixcIlwiKSx0LnB1c2goe2xpbmU6bixjaDppLGxlbmd0aDpvLWl9KX1yZXR1cm4gdH19LHtrZXk6XCJvbkZvbGRCdXR0b25Nb3VzZUVudGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlLmZvbGRCdXR0b25Ib3Zlcnx8dGhpcy51cGRhdGUoe2ZvbGRCdXR0b25Ib3ZlcjohMH0pfX0se2tleTpcIm9uRm9sZEJ1dHRvbk1vdXNlTGVhdmVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGUuZm9sZEJ1dHRvbkhvdmVyJiZ0aGlzLnVwZGF0ZSh7Zm9sZEJ1dHRvbkhvdmVyOiExfSl9fSx7a2V5Olwib25Db25zb2xlQ2xvc2VCdXR0b25FbnRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGF0ZSxlPXQuanNMaWJzLG49dC5vbkNsb3NlQ29uc29sZSxyPXQudGFyZ2V0UGxhdGZvcm07ciE9PWd0LkNBTlZBUyYmciE9PWd0LkpTfHx0aGlzLmpzRXhlY3V0b3IucmVsb2FkSWZyYW1lU2NyaXB0cyhlLHRoaXMuZ2V0Tm9kZUZvck1vdW50SWZyYW1lKCkpLHRoaXMudXBkYXRlKHtvdXRwdXQ6XCJcIixvcGVuQ29uc29sZTohMSxleGNlcHRpb246bnVsbH0pLG4mJm4oKX19LHtrZXk6XCJvbkV4Y2VwdGlvbkNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmNvZGVtaXJyb3Iuc2V0Q3Vyc29yKGUtMSwwKSx0aGlzLmNvZGVtaXJyb3IuZm9jdXMoKX19LHtrZXk6XCJleGVjdXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5zdGF0ZSxuPWUub25PcGVuQ29uc29sZSxyPWUudGFyZ2V0UGxhdGZvcm0saT1lLndhaXRpbmdGb3JPdXRwdXQsbz1lLmNvbXBpbGVyVmVyc2lvbixhPWUub25SdW4scz1lLm9uRXJyb3IsbD1lLmFyZ3MsYz1lLnRoZW1lLHU9ZS5oaWRkZW5EZXBlbmRlbmNpZXMsZj1lLm9uVGVzdFBhc3NlZCxkPWUub25UZXN0RmFpbGVkLGg9ZS5vbkNsb3NlQ29uc29sZSxwPWUuanNMaWJzLG09ZS5vdXRwdXRIZWlnaHQsZz1lLmdldEpzQ29kZTtpfHwodGhpcy51cGRhdGUoe3dhaXRpbmdGb3JPdXRwdXQ6ITAsb3BlbkNvbnNvbGU6ITF9KSxuJiZuKCksYSYmYSgpLHI9PT1ndC5KQVZBfHxyPT09Z3QuSlVOSVQ/enQuZXhlY3V0ZUtvdGxpbkNvZGUodGhpcy5nZXRDb2RlKCksbyxyLGwsYyx1LGYsZCkudGhlbihmdW5jdGlvbihlKXtlLndhaXRpbmdGb3JPdXRwdXQ9ITEsZS5vdXRwdXR8fGUuZXhjZXB0aW9uP2Uub3BlbkNvbnNvbGU9ITA6aCYmaCgpLChlLmVycm9ycy5sZW5ndGg+MHx8ZS5leGNlcHRpb24pJiZzJiZzKCksdC51cGRhdGUoZSl9LGZ1bmN0aW9uKCl7cmV0dXJuIHQudXBkYXRlKHt3YWl0aW5nRm9yT3V0cHV0OiExfSl9KToodGhpcy5qc0V4ZWN1dG9yLnJlbG9hZElmcmFtZVNjcmlwdHMocCx0aGlzLmdldE5vZGVGb3JNb3VudElmcmFtZSgpKSx6dC50cmFuc2xhdGVLb3RsaW5Ub0pzKHRoaXMuZ2V0Q29kZSgpLG8scixsLHUpLnRoZW4oZnVuY3Rpb24oZSl7ZS53YWl0aW5nRm9yT3V0cHV0PSExO3ZhciBpPWUuanNDb2RlO2RlbGV0ZSBlLmpzQ29kZSxnJiZnKGkpO3ZhciBvPWUuZXJyb3JzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cIkVSUk9SXCI9PT10LnNldmVyaXR5fSk7by5sZW5ndGg+MD8ocyYmcygpLGUub3V0cHV0PUZ0KG8pLGUub3BlbkNvbnNvbGU9ITAsZS5leGNlcHRpb249bnVsbCx0LnVwZGF0ZShlKSk6dC5qc0V4ZWN1dG9yLmV4ZWN1dGVKc0NvZGUoaSxwLHIsbSxjLHMpLnRoZW4oZnVuY3Rpb24oaSl7aT8oZS5vcGVuQ29uc29sZT0hMCxlLm91dHB1dD1pKTooZS5vdXRwdXQ9XCJcIixoJiZoKCkpLHI9PT1ndC5DQU5WQVMmJihuJiZuKCksZS5vcGVuQ29uc29sZT0hMCksZS5leGNlcHRpb249bnVsbCx0LnVwZGF0ZShlKX0pfSxmdW5jdGlvbigpe3JldHVybiB0LnVwZGF0ZSh7d2FpdGluZ0Zvck91dHB1dDohMX0pfSkpKX19LHtrZXk6XCJnZXROb2RlRm9yTW91bnRJZnJhbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVzWzBdLnF1ZXJ5U2VsZWN0b3IoY2UpfX0se2tleTpcImdldENvZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmZvbGRlZD90aGlzLnByZWZpeCt0aGlzLmNvZGVtaXJyb3IuZ2V0VmFsdWUoKSt0aGlzLnN1ZmZpeDp0aGlzLmNvZGVtaXJyb3IuZ2V0VmFsdWUoKX19LHtrZXk6XCJyZWNhbGN1bGF0ZVBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e2xpbmU6dC5saW5lLGNoOnQuY2h9O2lmKCF0aGlzLnN0YXRlLmZvbGRlZClyZXR1cm4gZTt2YXIgbj0odGhpcy5wcmVmaXgubWF0Y2goL1xcbi9nKXx8W10pLmxlbmd0aDtyZXR1cm4gZS5saW5lPXQubGluZS1uLGUubGluZTwwPyhlLmxpbmU9MCxlLmNoPTApOmUubGluZT49dGhpcy5jb2RlbWlycm9yLmxpbmVDb3VudCgpJiYoZS5saW5lPXRoaXMuY29kZW1pcnJvci5saW5lQ291bnQoKS0xLGUuY2g9bnVsbCksZX19LHtrZXk6XCJzaG93RGlhZ25vc3RpY3NcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMucmVtb3ZlU3R5bGVzKCksdm9pZCAwIT09dCYmdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXQuaW50ZXJ2YWw7bi5zdGFydD1lLnJlY2FsY3VsYXRlUG9zaXRpb24obi5zdGFydCksbi5lbmQ9ZS5yZWNhbGN1bGF0ZVBvc2l0aW9uKG4uZW5kKTt2YXIgcixpLG8sYT0ocj10Lm1lc3NhZ2UsaT17XCI8XCI6XCImYW1wO2x0O1wiLFwiPlwiOlwiJmFtcDtndDtcIixcIiZcIjpcIiZhbXA7XCIsXCIgXCI6XCIlMjBcIn0sbz1yLGwoKShpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe289by5yZXBsYWNlKG5ldyBSZWdFeHAoaVt0XSxcImdcIiksdCl9KSxvKSxzPXQuc2V2ZXJpdHk7aWYoZS5hcnJheUNsYXNzZXMucHVzaChlLmNvZGVtaXJyb3IubWFya1RleHQobi5zdGFydCxuLmVuZCx7Y2xhc3NOYW1lOlwiY21fX1wiK3QuY2xhc3NOYW1lLHRpdGxlOmF9KSksbnVsbCE9ZS5jb2RlbWlycm9yLmxpbmVJbmZvKG4uc3RhcnQubGluZSkmJm51bGw9PWUuY29kZW1pcnJvci5saW5lSW5mbyhuLnN0YXJ0LmxpbmUpLmd1dHRlck1hcmtlcnMpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5jbGFzc05hbWU9cytnZSxjLnNldEF0dHJpYnV0ZSh3ZSxhKSxlLmNvZGVtaXJyb3Iuc2V0R3V0dGVyTWFya2VyKG4uc3RhcnQubGluZSxiZSxjKX1lbHNle3ZhciB1PWUuY29kZW1pcnJvci5saW5lSW5mbyhuLnN0YXJ0LmxpbmUpLmd1dHRlck1hcmtlcnNbYmVdO3Uuc2V0QXR0cmlidXRlKHdlLHUuZ2V0QXR0cmlidXRlKHdlKStcIlxcblwiLmNvbmNhdChhKSksLTE9PT11LmNsYXNzTmFtZS5pbmRleE9mKHllKSYmKHUuY2xhc3NOYW1lPXMrZ2UpfX0pfX0se2tleTpcInJlbW92ZVN0eWxlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheUNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGVhcigpfSksdGhpcy5jb2RlbWlycm9yLmNsZWFyR3V0dGVyKGJlKX19LHtrZXk6XCJpbml0aWFsaXplQ29kZU1pcnJvclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPXRoaXMubm9kZXNbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKVswXSxyPWUuaGlnaGxpZ2h0T25seSxpPXtyZWFkT25seTpyLGxpbmVOdW1iZXJzOiExLG1vZGU6ZS5tb2RlLHRoZW1lOmUudGhlbWUsbWF0Y2hCcmFja2V0czplLm1hdGNoQnJhY2tldHMsc2Nyb2xsYmFyU3R5bGU6XCJvdmVybGF5XCIsY29udGludWVDb21tZW50czohMCxhdXRvQ2xvc2VCcmFja2V0czohMCxpbmRlbnRVbml0OmUuaW5kZW50LHZpZXdwb3J0TWFyZ2luOjEvMCxmb2xkR3V0dGVyOiEwLGd1dHRlcnM6W2JlLHZlXX07ciYmKGkuY3Vyc29yQmxpbmtSYXRlPS0xKSx0aGlzLmNvZGVtaXJyb3I9SC5hLmZyb21UZXh0QXJlYShuLGkpLHJ8fChILmEucmVnaXN0ZXJIZWxwZXIoXCJoaW50XCIsXCJrb3RsaW5cIixmdW5jdGlvbihlLG4pe3ZhciByPWUuZ2V0Q3Vyc29yKCksaT1lLmdldFRva2VuQXQociksbz10LnN0YXRlLmZvbGRlZD90LnByZWZpeCtlLmdldFZhbHVlKCkrdC5zdWZmaXg6ZS5nZXRWYWx1ZSgpLGE9dC5zdGF0ZS5mb2xkZWQ/e2xpbmU6ci5saW5lK3QucHJlZml4LnNwbGl0KFwiXFxuXCIpLmxlbmd0aC0xLGNoOnIuY2h9OnI7enQuZ2V0QXV0b0NvbXBsZXRpb24obyxhLHQuc3RhdGUuY29tcGlsZXJWZXJzaW9uLHQuc3RhdGUudGFyZ2V0UGxhdGZvcm0sdC5zdGF0ZS5oaWRkZW5EZXBlbmRlbmNpZXMsZnVuY3Rpb24odCl7dmFyIG89ZS5maW5kV29yZEF0KHtsaW5lOnIubGluZSxjaDpyLmNofSkuYW5jaG9yLmNoLGE9ZS5maW5kV29yZEF0KHtsaW5lOnIubGluZSxjaDpyLmNofSkuaGVhZC5jaCxzPWUuZ2V0UmFuZ2Uoe2xpbmU6ci5saW5lLGNoOm99LHtsaW5lOnIubGluZSxjaDphfSk7MD09PXQubGVuZ3RoJiYvXlthLXpBLVpdKyQvLnRlc3Qocyk/SC5hLnNob3dIaW50KGUsSC5hLmhpbnQuZGVmYXVsdCx7Y29tcGxldGVTaW5nbGU6ITF9KTpuKHtsaXN0OnQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYWUodCl9KSxmcm9tOntsaW5lOnIubGluZSxjaDppLnN0YXJ0fSx0bzp7bGluZTpyLmxpbmUsY2g6aS5lbmR9fSl9KX0pLEguYS5oaW50LmtvdGxpbi5hc3luYz0hMCxILmEuY29tbWFuZHMuYXV0b2NvbXBsZXRlPWZ1bmN0aW9uKHQpe0guYS5zaG93SGludCh0LEguYS5oaW50LmtvdGxpbil9LC0xIT09d2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJNYWNcIik/dGhpcy5jb2RlbWlycm9yLnNldE9wdGlvbihcImV4dHJhS2V5c1wiLHtcIkNtZC1BbHQtTFwiOlwiaW5kZW50QXV0b1wiLFwiU2hpZnQtVGFiXCI6XCJpbmRlbnRMZXNzXCIsXCJDdHJsLS9cIjpcInRvZ2dsZUNvbW1lbnRcIixcIkNtZC1bXCI6ITEsXCJDbWQtXVwiOiExLFwiQ3RybC1TcGFjZVwiOlwiYXV0b2NvbXBsZXRlXCJ9KTp0aGlzLmNvZGVtaXJyb3Iuc2V0T3B0aW9uKFwiZXh0cmFLZXlzXCIse1wiQ3RybC1BbHQtTFwiOlwiaW5kZW50QXV0b1wiLFwiU2hpZnQtVGFiXCI6XCJpbmRlbnRMZXNzXCIsXCJDdHJsLS9cIjpcInRvZ2dsZUNvbW1lbnRcIixcIkN0cmwtW1wiOiExLFwiQ3RybC1dXCI6ITEsXCJDdHJsLVNwYWNlXCI6XCJhdXRvY29tcGxldGVcIn0pLHRoaXMuY29kZW1pcnJvci5vbihcImNoYW5nZVwiLG9lKCkoZnVuY3Rpb24oZSl7dmFyIG49dC5zdGF0ZSxyPW4ub25DaGFuZ2UsaT1uLm9uRmx5SGlnaExpZ2h0LG89bi5jb21waWxlclZlcnNpb24sYT1uLnRhcmdldFBsYXRmb3JtLHM9bi5oaWRkZW5EZXBlbmRlbmNpZXM7ciYmcihlLmdldFZhbHVlKCkpLHQucmVtb3ZlU3R5bGVzKCksaSYmenQuZ2V0SGlnaGxpZ2h0KHQuZ2V0Q29kZSgpLG8sYSxzKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNob3dEaWFnbm9zdGljcyhlKX0pfSw1MDApKSx0aGlzLmNvZGVtaXJyb3Iub24oXCJrZXlwcmVzc1wiLG9lKCkoZnVuY3Rpb24oZSxuKXtuLmtleUNvZGU9PT1zZXx8bi5jdHJsS2V5fHx0LnN0YXRlLmF1dG9Db21wbGV0ZSYmIWUuc3RhdGUuY29tcGxldGlvbkFjdGl2ZSYmSC5hLnNob3dIaW50KGUsSC5hLmhpbnQua290bGluLHtjb21wbGV0ZVNpbmdsZTohMX0pfSw1MDApKSx0aGlzLmNvZGVtaXJyb3Iub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbih0LGUpe3ZhciBuPXQuY29vcmRzQ2hhcih7bGVmdDplLnBhZ2VYLHRvcDplLnBhZ2VZfSk7aWYoMCE9PW4ubGluZXx8MCE9PW4uY2gpe3ZhciByPXQuZmluZE1hcmtzQXQobikuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGFzc05hbWU9PT1oZX0pO2lmKG51bGwhPXIpe3ZhciBpPXIuZmluZCgpO3Quc2V0U2VsZWN0aW9uKGkuZnJvbSxpLnRvKSx0LmZvY3VzKCksZS5wcmV2ZW50RGVmYXVsdCgpfX19KSl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5hcnJheUNsYXNzZXM9bnVsbCx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuanNFeGVjdXRvcj0hMSx0aGlzLnN0YXRlPW51bGwsdGhpcy5jb2RlbWlycm9yLnRvVGV4dEFyZWEoKSx0aGlzLm9mZigpLHRoaXMucmVtb3ZlKCl9fSx7a2V5OlwiaXNTaG91bGRCZUZvbGRlZFwiLGdldDpmdW5jdGlvbigpe3JldHVyblwiXCIhPT10aGlzLnByZWZpeC50cmltKCl8fFwiXCIhPT10aGlzLnN1ZmZpeC50cmltKCl9fV0sW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1KdC5hLnJlbmRlcihlLHQse2RpcmVjdGl2ZXM6WnQuYX0pO3IuYXJyYXlDbGFzc2VzPVtdLHIuaW5pdGlhbGl6ZWQ9ITEsci5zdGF0ZT17dGhlbWU6XCJcIixjb2RlOlwiXCIsZm9sZEJ1dHRvbkhvdmVyOiExLGZvbGRlZDohMCxvdXRwdXQ6bnVsbH0sci5jb2RlbWlycm9yPW5ldyBILmEsci5vbihcImNsaWNrXCIsdWUsZnVuY3Rpb24oKXtyLnVwZGF0ZSh7Zm9sZGVkOiFyLnN0YXRlLmZvbGRlZH0pfSksci5vbihcImtleXVwXCIsZnVuY3Rpb24odCl7LTEhPT13aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1hY1wiKT90LmtleUNvZGU9PT1zZSYmdC5jdHJsS2V5JiZyLmV4ZWN1dGUoKTp0LmtleUNvZGU9PT1sZSYmdC5jdHJsS2V5JiZyLmV4ZWN1dGUoKX0pO3ZhciBpPW4uZXZlbnRGdW5jdGlvbnM7cmV0dXJuIGkmJmkuZ2V0SW5zdGFuY2UmJmkuZ2V0SW5zdGFuY2Uocikscn19XSksZX0odGUuYSksa2U9KG4oMzMxKSxcImRhdGEta290bGluLXBsYXlncm91bmQtaW5pdGlhbGl6ZWRcIiksX2U9NCxTZT17SElEREVOX0RFUEVOREVOQ1k6XCJoaWRkZW4tZGVwZW5kZW5jeVwiLElOREVOVDpcImluZGVudFwiLEhJR0hMSUdIVF9PTkxZOlwiZGF0YS1oaWdobGlnaHQtb25seVwiLFNUWUxFOlwic3R5bGVcIixGUk9NOlwiZnJvbVwiLFRPOlwidG9cIixOT05FX01BUktFUlM6XCJub25lLW1hcmtlcnNcIixUSEVNRTpcInRoZW1lXCIsTU9ERTpcIm1vZGVcIixNQVRDSF9CUkFDS0VUUzpcIm1hdGNoLWJyYWNrZXRzXCIsT1VUUFVUX0hFSUdIVDpcImRhdGEtb3V0cHV0LWhlaWdodFwiLENPTVBMRVRFOlwiZGF0YS1hdXRvY29tcGxldGVcIixPTl9GTFlfSElHSExJR0hUOlwiaGlnaGxpZ2h0LW9uLWZseVwiLFBMQVRGT1JNOlwiZGF0YS10YXJnZXQtcGxhdGZvcm1cIixKU19MSUJTOlwiZGF0YS1qcy1saWJzXCIsRk9MREVEX0JVVFRPTjpcImZvbGRlZC1idXR0b25cIixBUkdVTUVOVFM6XCJhcmdzXCIsTElORVM6XCJsaW5lc1wiLEFVVE9fSU5ERU5UOlwiYXV0by1pbmRlbnRcIn0sRWU9e0pBVkE6XCJ0ZXh0L3gtamF2YVwiLEtPVExJTjpcInRleHQveC1rb3RsaW5cIixKUzpcInRleHQvamF2YXNjcmlwdFwiLEdST09WWTpcInRleHQveC1ncm9vdnlcIixYTUw6XCJ0ZXh0L2h0bWxcIixDOlwidGV4dC94LWNcIixPQkpfQzpcInRleHQveC1vYmplY3RpdmVjXCIsU1dJRlQ6XCJ0ZXh0L3gtc3dpZnRcIixTSEVMTDpcInRleHQveC1zaFwifSxUZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7RCgpKHRoaXMsdCk7dmFyIGk9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTplLG89ISFuLmhpZ2hsaWdodE9ubHl8fChpLmdldEF0dHJpYnV0ZShTZS5ISUdITElHSFRfT05MWSk9PT1wP2kuZ2V0QXR0cmlidXRlKFNlLkhJR0hMSUdIVF9PTkxZKTppLmhhc0F0dHJpYnV0ZShTZS5ISUdITElHSFRfT05MWSkpLGE9aS5oYXNBdHRyaWJ1dGUoU2UuTk9ORV9NQVJLRVJTKSxzPWkuaGFzQXR0cmlidXRlKFNlLklOREVOVCk/SSgpKGkuZ2V0QXR0cmlidXRlKFNlLklOREVOVCkpOl9lLGw9aS5oYXNBdHRyaWJ1dGUoU2UuRlJPTSk/SSgpKGkuZ2V0QXR0cmlidXRlKFNlLkZST00pKTpudWxsLGM9aS5oYXNBdHRyaWJ1dGUoU2UuVE8pP0koKShpLmdldEF0dHJpYnV0ZShTZS5UTykpOm51bGwsZj10aGlzLmdldFRoZW1lKGkpLGQ9aS5oYXNBdHRyaWJ1dGUoU2UuQVJHVU1FTlRTKT9pLmdldEF0dHJpYnV0ZShTZS5BUkdVTUVOVFMpOlwiXCIsaD10aGlzLmdldEhpZGRlbkRlcGVuZGVuY2llcyhpKSxtPWkuZ2V0QXR0cmlidXRlKFNlLk9VVFBVVF9IRUlHSFQpfHxudWxsLGc9Z3QuZ2V0QnlJZChpLmdldEF0dHJpYnV0ZShTZS5QTEFURk9STSkpLHY9aS5nZXRBdHRyaWJ1dGUoU2UuU1RZTEUpLHk9dGhpcy5nZXRKc0xpYnJhcmllcyhpLGcpLGI9XCJmYWxzZVwiIT09aS5nZXRBdHRyaWJ1dGUoU2UuRk9MREVEX0JVVFRPTiksdz1cInRydWVcIj09PWkuZ2V0QXR0cmlidXRlKFNlLkxJTkVTKSxDPVwidHJ1ZVwiPT09aS5nZXRBdHRyaWJ1dGUoU2UuT05fRkxZX0hJR0hMSUdIVCksaz1cInRydWVcIj09PWkuZ2V0QXR0cmlidXRlKFNlLkNPTVBMRVRFKSxfPVwidHJ1ZVwiPT09aS5nZXRBdHRyaWJ1dGUoU2UuTUFUQ0hfQlJBQ0tFVFMpLEU9XCJ0cnVlXCI9PT1pLmdldEF0dHJpYnV0ZShTZS5BVVRPX0lOREVOVCksVD10aGlzLmdldE1vZGUoaSksTz14KGkudGV4dENvbnRlbnQpLE09dSgpKFMsbik7VCE9PUVlLktPVExJTiYmbyE9PXAmJihvPSEwKSxpLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsaS5zZXRBdHRyaWJ1dGUoa2UsXCJ0cnVlXCIpO3ZhciBMLEEsTj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO0w9TiwoQT1pKS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShMLEEubmV4dFNpYmxpbmcpO3ZhciBGPUNlLnJlbmRlcihOLHtldmVudEZ1bmN0aW9uczpyfSk7Ri51cGRhdGUoUCgpKHtjb2RlOk8sbGluZXM6dyx0aGVtZTpmLGluZGVudDpzLGFyZ3M6ZCxtb2RlOlQsbWF0Y2hCcmFja2V0czpfLGZyb206bCx0bzpjLGF1dG9Db21wbGV0ZTprLGhpZGRlbkRlcGVuZGVuY2llczpoLGNvbXBpbGVyVmVyc2lvbjpNLmNvbXBpbGVyVmVyc2lvbixub25lTWFya2VyczphLG9uRmx5SGlnaExpZ2h0OkMsYXV0b0luZGVudDpFLGhpZ2hsaWdodE9ubHk6byx0YXJnZXRQbGF0Zm9ybTpnLGpzTGliczp5LGlzRm9sZGVkQnV0dG9uOmIsb3V0cHV0SGVpZ2h0Om19LHIpKSx0aGlzLmNvbmZpZz1NLHRoaXMubm9kZT1OLHRoaXMudGFyZ2V0Tm9kZT1pLHRoaXMudGFyZ2V0Tm9kZVN0eWxlPXYsdGhpcy52aWV3PUYsaS5Lb3RsaW5QbGF5Z3JvdW5kPXRoaXMsciYmci5jYWxsYmFjayYmci5jYWxsYmFjayhpLE4pfXJldHVybiBSKCkodCxbe2tleTpcImdldEhpZGRlbkRlcGVuZGVuY2llc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBtKHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShTZS5ISURERU5fREVQRU5ERU5DWSkpLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksW10uY29uY2F0KEEoKSh0KSxbeChlLnRleHRDb250ZW50KV0pfSxbXSl9fSx7a2V5OlwiZ2V0SnNMaWJyYXJpZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKGU9PT1ndC5KU3x8ZT09PWd0LkNBTlZBUyl7dmFyIG49dC5nZXRBdHRyaWJ1dGUoU2UuSlNfTElCUykscj1uZXcgVS5hKF8uSlFVRVJZLnNwbGl0KCkpO2lmKG4pe3ZhciBpPW5ldyBSZWdFeHAoXCJodHRwcz86Ly8uKyRcIik7bi5yZXBsYWNlKFwiIFwiLFwiXCIpLnNwbGl0KFwiLFwiKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGkudGVzdCh0KX0pLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHIuYWRkKHQpfSl9cmV0dXJuIHJ9fX0se2tleTpcImdldFRoZW1lXCIsdmFsdWU6ZnVuY3Rpb24odCl7c3dpdGNoKHQuZ2V0QXR0cmlidXRlKFNlLlRIRU1FKSl7Y2FzZSBmOnJldHVybiBmO2Nhc2UgZDpyZXR1cm4gZDtkZWZhdWx0OnJldHVybiBofX19LHtrZXk6XCJnZXRNb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7c3dpdGNoKHQuZ2V0QXR0cmlidXRlKFNlLk1PREUpKXtjYXNlXCJqYXZhXCI6cmV0dXJuIEVlLkpBVkE7Y2FzZVwiY1wiOnJldHVybiBFZS5DO2Nhc2VcImpzXCI6cmV0dXJuIEVlLkpTO2Nhc2VcImdyb292eVwiOnJldHVybiBFZS5HUk9PVlk7Y2FzZVwieG1sXCI6cmV0dXJuIEVlLlhNTDtjYXNlXCJzaGVsbFwiOnJldHVybiBFZS5TSEVMTDtjYXNlXCJvYmotY1wiOnJldHVybiBFZS5PQkpfQztjYXNlXCJzd2lmdFwiOnJldHVybiBFZS5TV0lGVDtkZWZhdWx0OnJldHVybiBFZS5LT1RMSU59fX0se2tleTpcImRlc3Ryb3lcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29uZmlnPW51bGwsdGhpcy5ub2RlPW51bGwsdGhpcy52aWV3LmRlc3Ryb3koKTt2YXIgdD10aGlzLnRhcmdldE5vZGU7bnVsbCE9PXRoaXMudGFyZ2V0Tm9kZVN0eWxlP3Quc3R5bGU9dGhpcy50YXJnZXROb2RlU3R5bGU6dC5zdHlsZT1cIlwiLHQucmVtb3ZlQXR0cmlidXRlKGtlKSxkZWxldGUgdC5Lb3RsaW5QbGF5Z3JvdW5kfX0se2tleTpcImlzSW5pdGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRhcmdldE5vZGUsZT10JiZ0LmdldEF0dHJpYnV0ZShrZSk7cmV0dXJuIGUmJlwidHJ1ZVwiPT09ZX19XSxbe2tleTpcImNyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcj1tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZSkpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIE5vZGUpcj1bZV07ZWxzZSBpZihlIGluc3RhbmNlb2YgTm9kZUxpc3Q9PSExKXRocm93IG5ldyBFcnJvcihcIid0YXJnZXQnIHR5cGUgc2hvdWxkIGJlIHN0cmluZ3xOb2RlfE5vZGVMaXN0LCBcIi5jb25jYXQoTSgpKGUpLFwiIGdpdmVuXCIpKTtyZXR1cm4gMD09PXIubGVuZ3RoP1QuYS5yZXNvbHZlKFtdKTp6dC5nZXRDb21waWxlclZlcnNpb25zKCkudGhlbihmdW5jdGlvbihlKXt2YXIgaT1bXTtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPWcociwhMCksYT1vLm1pbkNvbXBpbGVyVmVyc2lvbixzPW51bGwsbD1udWxsO2lmKFwiXCIhPT1yLnRleHRDb250ZW50LnRyaW0oKSYmXCJ0cnVlXCIhPT1yLmdldEF0dHJpYnV0ZShrZSkpaWYoZSl7dmFyIGM9ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmVyc2lvbn0pO2MuaW5jbHVkZXMoby52ZXJzaW9uKT9sPW8udmVyc2lvbjpjLmluY2x1ZGVzKG4udmVyc2lvbik/bD1uLnZlcnNpb246KGUuZm9yRWFjaChmdW5jdGlvbih0KXt0LmxhdGVzdFN0YWJsZSYmKHM9dC52ZXJzaW9uKX0pLGw9cyksYSYmKGw9YT5zP2VbZS5sZW5ndGgtMV0udmVyc2lvbjpzKSxpLnB1c2gobmV3IHQocix7Y29tcGlsZXJWZXJzaW9uOmx9LG4pKX1lbHNlIGNvbnNvbGUuZXJyb3IoXCJDYW5uJ3QgZ2V0IGtvdGxpbiB2ZXJzaW9uIGZyb20gc2VydmVyXCIpLGkucHVzaChuZXcgdChyLHtoaWdobGlnaHRPbmx5OiEwfSkpfSksaX0pfX1dKSx0fSgpLE9lPVwiLmQtZWRpdG9yLXByZXZpZXdcIixNZT1cIi5kLWVkaXRvci1pbnB1dC5lbWJlci10ZXh0LWFyZWFcIixMZT1cIi5sYW5nLXJ1bi1rb3RsaW5cIixBZT1mdW5jdGlvbigpe3ZhciB0PXdpbmRvdy5Lb3RsaW5QbGF5Z3JvdW5kLGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihNZSksbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKE9lKTtlJiZuJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsb2UoKShmdW5jdGlvbigpe20obi5xdWVyeVNlbGVjdG9yQWxsKExlKSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lLktvdGxpblBsYXlncm91bmQ7biYmbi5kZXN0cm95KCksdChlKX0pfSwzMDApKX0sTmU9bigxNjEpO2Z1bmN0aW9uIFBlKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gXy5zZXJ2ZXI9ZS5zZXJ2ZXJ8fF8uc2VydmVyLFRlLmNyZWF0ZSh0LGUpfW4uZChlLFwiZGVmYXVsdFwiLGZ1bmN0aW9uKCl7cmV0dXJuIFBlfSksT2JqZWN0KE5lLnBvbHlmaWxsKSgpLFBlLmRlZmF1bHQ9UGUsUGUuZGlzY291cnNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEFlKCksUGUodCxlKX07dmFyIEZlPWsuc2VsZWN0b3IsSWU9ay5kaXNjb3Vyc2VTZWxlY3RvcixqZT1pKCkoayxbXCJzZWxlY3RvclwiLFwiZGlzY291cnNlU2VsZWN0b3JcIl0pOyhGZXx8SWUpJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGZ1bmN0aW9uKCl7dmFyIHQsZSxuO0llPyhQZS5kaXNjb3Vyc2UoSWUsamUpLHQ9T2UsZT1mdW5jdGlvbigpe3JldHVybiBBZSgpfSxuPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIHI9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTtyJiYoY2xlYXJJbnRlcnZhbChuKSxlKHIpKX0sMTAwKSk6UGUoRmUsamUpfSl9XSkuZGVmYXVsdH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGxheWdyb3VuZC5taW4uanMubWFwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=