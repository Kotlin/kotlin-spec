<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Kotlin language specification</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="./resources/css/main.css">
  <script src="./resources/js/katex/katex.min.js"></script><script src="./resources/js/katex/contrib/auto-render.min.js"></script><script>document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body);
  });</script><link rel="stylesheet" href="./resources/js/katex/katex.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script data-main="resources/js/main" src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
  <script>
      requirejs.config({
          waitSeconds: 10000
      });
  </script>
</head>
<body>
<header>
<h1 class="title">Kotlin language specification</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#glossary">Glossary</a></li>
<li><a href="#kotlincore">Kotlin/Core</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#grammar">Grammar</a><ul>
<li><a href="#lexical-grammar">Lexical grammar</a><ul>
<li><a href="#whitespace-and-comments">Whitespace and comments</a></li>
<li><a href="#keywords-and-operators">Keywords and operators</a></li>
<li><a href="#literals">Literals</a></li>
<li><a href="#identifiers">Identifiers</a></li>
<li><a href="#string-mode-grammar">String mode grammar</a></li>
<li><a href="#tokens">Tokens</a></li>
</ul></li>
<li><a href="#syntax-grammar">Syntax grammar</a></li>
<li><a href="#documentation-comments">Documentation comments</a></li>
</ul></li>
</ul></li>
<li><a href="#type-system">Type system</a><ul>
<li><a href="#glossary-1">Glossary</a></li>
<li><a href="#introduction-1">Introduction</a></li>
<li><a href="#type-kinds">Type kinds</a><ul>
<li><a href="#built-in-types">Built-in types</a><ul>
<li><a href="#kotlin.any"><code>kotlin.Any</code></a></li>
<li><a href="#kotlin.nothing"><code>kotlin.Nothing</code></a></li>
<li><a href="#kotlin.function"><code>kotlin.Function</code></a></li>
<li><a href="#built-in-integer-types">Built-in integer types</a></li>
<li><a href="#array-types">Array types</a></li>
</ul></li>
<li><a href="#classifier-types">Classifier types</a><ul>
<li><a href="#simple-classifier-types">Simple classifier types</a></li>
<li><a href="#parameterized-classifier-types">Parameterized classifier types</a></li>
</ul></li>
<li><a href="#type-parameters">Type parameters</a><ul>
<li><a href="#function-type-parameters">Function type parameters</a></li>
<li><a href="#mixed-site-variance">Mixed-site variance</a></li>
<li><a href="#declaration-site-variance">Declaration-site variance</a></li>
<li><a href="#use-site-variance">Use-site variance</a></li>
</ul></li>
<li><a href="#type-capturing">Type capturing</a></li>
<li><a href="#type-containment">Type containment</a></li>
<li><a href="#function-types">Function types</a><ul>
<li><a href="#suspending-function-types">Suspending function types</a></li>
</ul></li>
<li><a href="#flexible-types">Flexible types</a><ul>
<li><a href="#dynamic-type">Dynamic type</a></li>
<li><a href="#platform-types">Platform types</a></li>
</ul></li>
<li><a href="#nullable-types">Nullable types</a><ul>
<li><a href="#nullability-lozenge">Nullability lozenge</a></li>
</ul></li>
<li><a href="#intersection-types">Intersection types</a></li>
<li><a href="#integer-literal-types">Integer literal types</a></li>
<li><a href="#union-types">Union types</a></li>
</ul></li>
<li><a href="#type-contexts-and-scopes">Type contexts and scopes</a><ul>
<li><a href="#inner-and-nested-type-contexts">Inner and nested type contexts</a></li>
</ul></li>
<li><a href="#subtyping">Subtyping</a><ul>
<li><a href="#subtyping-rules">Subtyping rules</a></li>
<li><a href="#subtyping-for-flexible-types">Subtyping for flexible types</a></li>
<li><a href="#subtyping-for-intersection-types">Subtyping for intersection types</a></li>
<li><a href="#subtyping-for-integer-literal-types">Subtyping for integer literal types</a></li>
<li><a href="#subtyping-for-nullable-types">Subtyping for nullable types</a></li>
</ul></li>
<li><a href="#upper-and-lower-bounds">Upper and lower bounds</a><ul>
<li><a href="#least-upper-bound">Least upper bound</a></li>
<li><a href="#greatest-lower-bound">Greatest lower bound</a></li>
</ul></li>
<li><a href="#type-approximation">Type approximation</a></li>
<li><a href="#type-decaying">Type decaying</a></li>
<li><a href="#references">References</a></li>
</ul></li>
<li><a href="#built-in-types-and-their-semantics">Built-in types and their semantics</a><ul>
<li><a href="#kotlin.any-1"><code>kotlin.Any</code></a></li>
<li><a href="#kotlin.nothing-1"><code>kotlin.Nothing</code></a></li>
<li><a href="#kotlin.unit"><code>kotlin.Unit</code></a></li>
<li><a href="#kotlin.boolean"><code>kotlin.Boolean</code></a></li>
<li><a href="#built-in-integer-types-1">Built-in integer types</a><ul>
<li><a href="#integer-type-widening">Integer type widening</a></li>
</ul></li>
<li><a href="#built-in-floating-point-arithmetic-types">Built-in floating point arithmetic types</a></li>
<li><a href="#kotlin.char"><code>kotlin.Char</code></a></li>
<li><a href="#kotlin.string"><code>kotlin.String</code></a></li>
<li><a href="#kotlin.enum"><code>kotlin.Enum</code></a></li>
<li><a href="#built-in-array-types">Built-in array types</a><ul>
<li><a href="#specialized-array-types">Specialized array types</a></li>
</ul></li>
<li><a href="#iterator-types">Iterator types</a><ul>
<li><a href="#specialized-iterator-types">Specialized iterator types</a></li>
</ul></li>
<li><a href="#kotlin.throwable"><code>kotlin.Throwable</code></a></li>
<li><a href="#kotlin.comparable"><code>kotlin.Comparable</code></a></li>
<li><a href="#kotlin.function-1"><code>kotlin.Function</code></a></li>
<li><a href="#built-in-annotation-types">Built-in annotation types</a></li>
<li><a href="#reflection-support-builtin-types">Reflection support builtin types</a><ul>
<li><a href="#kotlin.reflect.kclass"><code>kotlin.reflect.KClass</code></a></li>
<li><a href="#kotlin.reflect.kcallable"><code>kotlin.reflect.KCallable</code></a></li>
<li><a href="#kotlin.reflect.kproperty"><code>kotlin.reflect.KProperty</code></a></li>
<li><a href="#kotlin.reflect.kfunction"><code>kotlin.reflect.KFunction</code></a></li>
</ul></li>
</ul></li>
<li><a href="#declarations">Declarations</a><ul>
<li><a href="#glossary-2">Glossary</a></li>
<li><a href="#introduction-2">Introduction</a></li>
<li><a href="#classifier-declaration">Classifier declaration</a><ul>
<li><a href="#class-declaration">Class declaration</a><ul>
<li><a href="#constructor-declaration">Constructor declaration</a></li>
<li><a href="#nested-and-inner-classifiers">Nested and inner classifiers</a></li>
<li><a href="#inheritance-delegation">Inheritance delegation</a></li>
<li><a href="#abstract-classes">Abstract classes</a></li>
</ul></li>
<li><a href="#data-class-declaration">Data class declaration</a></li>
<li><a href="#enum-class-declaration">Enum class declaration</a></li>
<li><a href="#annotation-class-declaration">Annotation class declaration</a></li>
<li><a href="#interface-declaration">Interface declaration</a><ul>
<li><a href="#functional-interface-declaration">Functional interface declaration</a></li>
</ul></li>
<li><a href="#object-declaration">Object declaration</a></li>
<li><a href="#classifier-initialization">Classifier initialization</a></li>
</ul></li>
<li><a href="#function-declaration">Function declaration</a><ul>
<li><a href="#function-signature">Function signature</a></li>
<li><a href="#named-positional-and-default-parameters">Named, positional and default parameters</a></li>
<li><a href="#variable-length-parameters">Variable length parameters</a></li>
<li><a href="#extension-function-declaration">Extension function declaration</a></li>
<li><a href="#inlining">Inlining</a></li>
<li><a href="#tail-recursion-optimization">Tail recursion optimization</a></li>
</ul></li>
<li><a href="#property-declaration">Property declaration</a><ul>
<li><a href="#read-only-property-declaration">Read-only property declaration</a></li>
<li><a href="#mutable-property-declaration">Mutable property declaration</a></li>
<li><a href="#local-property-declaration">Local property declaration</a></li>
<li><a href="#getters-and-setters">Getters and setters</a></li>
<li><a href="#delegated-property-declaration">Delegated property declaration</a></li>
<li><a href="#extension-property-declaration">Extension property declaration</a></li>
<li><a href="#property-initialization">Property initialization</a></li>
<li><a href="#constant-properties">Constant properties</a></li>
<li><a href="#late-initialized-properties">Late-initialized properties</a></li>
</ul></li>
<li><a href="#type-alias">Type alias</a></li>
<li><a href="#declarations-with-type-parameters">Declarations with type parameters</a><ul>
<li><a href="#type-parameter-variance">Type parameter variance</a></li>
<li><a href="#reified-type-parameters">Reified type parameters</a></li>
</ul></li>
<li><a href="#declaration-visibility">Declaration visibility</a></li>
</ul></li>
<li><a href="#inheritance">Inheritance</a><ul>
<li><a href="#classifier-type-inheritance">Classifier type inheritance</a><ul>
<li><a href="#abstract-classes-1">Abstract classes</a></li>
<li><a href="#sealed-classes">Sealed classes</a></li>
<li><a href="#inheritance-from-built-in-types">Inheritance from built-in types</a></li>
</ul></li>
<li><a href="#overriding">Overriding</a></li>
</ul></li>
<li><a href="#scopes-and-identifiers">Scopes and identifiers</a><ul>
<li><a href="#linked-scopes">Linked scopes</a></li>
<li><a href="#identifiers-and-paths">Identifiers and paths</a></li>
<li><a href="#labels">Labels</a></li>
</ul></li>
<li><a href="#statements">Statements</a><ul>
<li><a href="#assignments">Assignments</a><ul>
<li><a href="#simple-assignments">Simple assignments</a></li>
<li><a href="#operator-assignments">Operator assignments</a></li>
<li><a href="#safe-assignments">Safe assignments</a></li>
</ul></li>
<li><a href="#loop-statements">Loop statements</a><ul>
<li><a href="#while-loop-statement">While-loop statement</a></li>
<li><a href="#do-while-loop-statement">Do-while-loop statement</a></li>
<li><a href="#for-loop-statement">For-loop statement</a></li>
</ul></li>
<li><a href="#code-blocks">Code blocks</a><ul>
<li><a href="#coercion-to-kotlin.unit">Coercion to <code>kotlin.Unit</code></a></li>
</ul></li>
</ul></li>
<li><a href="#expressions">Expressions</a><ul>
<li><a href="#glossary-3">Glossary</a></li>
<li><a href="#introduction-3">Introduction</a></li>
<li><a href="#constant-literals">Constant literals</a><ul>
<li><a href="#boolean-literals">Boolean literals</a></li>
<li><a href="#integer-literals">Integer literals</a><ul>
<li><a href="#decimal-integer-literals">Decimal integer literals</a></li>
<li><a href="#hexadecimal-integer-literals">Hexadecimal integer literals</a></li>
<li><a href="#binary-integer-literals">Binary integer literals</a></li>
</ul></li>
<li><a href="#the-types-for-integer-literals">The types for integer literals</a></li>
<li><a href="#real-literals">Real literals</a></li>
<li><a href="#character-literals">Character literals</a><ul>
<li><a href="#escaped-characters">Escaped characters</a></li>
</ul></li>
<li><a href="#string-literals">String literals</a></li>
<li><a href="#null-literal">Null literal</a></li>
</ul></li>
<li><a href="#string-interpolation-expressions">String interpolation expressions</a></li>
<li><a href="#try-expression">Try-expression</a></li>
<li><a href="#conditional-expression">Conditional expression</a></li>
<li><a href="#when-expression">When expression</a><ul>
<li><a href="#exhaustive-when-expressions">Exhaustive when expressions</a></li>
</ul></li>
<li><a href="#logical-disjunction-expression">Logical disjunction expression</a></li>
<li><a href="#logical-conjunction-expression">Logical conjunction expression</a></li>
<li><a href="#equality-expressions">Equality expressions</a><ul>
<li><a href="#reference-equality-expressions">Reference equality expressions</a></li>
<li><a href="#value-equality-expressions">Value equality expressions</a></li>
</ul></li>
<li><a href="#comparison-expressions">Comparison expressions</a></li>
<li><a href="#type-checking-and-containment-checking-expressions">Type-checking and containment-checking expressions</a><ul>
<li><a href="#type-checking-expression">Type-checking expression</a></li>
<li><a href="#containment-checking-expression">Containment-checking expression</a></li>
</ul></li>
<li><a href="#elvis-operator-expression">Elvis operator expression</a></li>
<li><a href="#range-expression">Range expression</a></li>
<li><a href="#additive-expression">Additive expression</a></li>
<li><a href="#multiplicative-expression">Multiplicative expression</a></li>
<li><a href="#cast-expression">Cast expression</a></li>
<li><a href="#prefix-expressions">Prefix expressions</a><ul>
<li><a href="#annotated-expression">Annotated expression</a></li>
<li><a href="#prefix-increment-expression">Prefix increment expression</a></li>
<li><a href="#prefix-decrement-expression">Prefix decrement expression</a></li>
<li><a href="#unary-minus-expression">Unary minus expression</a></li>
<li><a href="#unary-plus-expression">Unary plus expression</a></li>
<li><a href="#logical-not-expression">Logical not expression</a></li>
</ul></li>
<li><a href="#postfix-operator-expressions">Postfix operator expressions</a><ul>
<li><a href="#postfix-increment-expression">Postfix increment expression</a></li>
<li><a href="#postfix-decrement-expression">Postfix decrement expression</a></li>
</ul></li>
<li><a href="#not-null-assertion-expression">Not-null assertion expression</a></li>
<li><a href="#indexing-expressions">Indexing expressions</a></li>
<li><a href="#call-and-property-access-expressions">Call and property access expressions</a><ul>
<li><a href="#navigation-operators">Navigation operators</a></li>
<li><a href="#callable-references">Callable references</a></li>
<li><a href="#class-literals">Class literals</a></li>
<li><a href="#function-calls-and-property-access">Function calls and property access</a></li>
<li><a href="#spread-operator-expressions">Spread operator expressions</a></li>
</ul></li>
<li><a href="#function-literals">Function literals</a><ul>
<li><a href="#anonymous-function-declarations">Anonymous function declarations</a></li>
<li><a href="#lambda-literals">Lambda literals</a></li>
</ul></li>
<li><a href="#object-literals">Object literals</a><ul>
<li><a href="#functional-interface-lambda-literals">Functional interface lambda literals</a></li>
</ul></li>
<li><a href="#this-expressions">This-expressions</a></li>
<li><a href="#super-forms">Super-forms</a></li>
<li><a href="#jump-expressions">Jump expressions</a><ul>
<li><a href="#throw-expressions">Throw expressions</a></li>
<li><a href="#return-expressions">Return expressions</a></li>
<li><a href="#continue-expression">Continue expression</a></li>
<li><a href="#break-expression">Break expression</a></li>
</ul></li>
</ul></li>
<li><a href="#operator-overloading">Operator overloading</a><ul>
<li><a href="#destructuring-declarations">Destructuring declarations</a></li>
</ul></li>
<li><a href="#packages-and-imports">Packages and imports</a><ul>
<li><a href="#importing">Importing</a></li>
<li><a href="#modules">Modules</a></li>
</ul></li>
<li><a href="#overload-resolution">Overload resolution</a><ul>
<li><a href="#glossary-4">Glossary</a></li>
<li><a href="#intro">Intro</a></li>
<li><a href="#receivers">Receivers</a></li>
<li><a href="#the-forms-of-call-expression">The forms of call-expression</a></li>
<li><a href="#callables-and-invoke-convention">Callables and <code>invoke</code> convention</a></li>
<li><a href="#c-level-partition">c-level partition</a></li>
<li><a href="#building-the-overload-candidate-set-ocs">Building the overload candidate set (OCS)</a><ul>
<li><a href="#fully-qualified-call">Fully-qualified call</a></li>
<li><a href="#call-with-an-explicit-receiver">Call with an explicit receiver</a><ul>
<li><a href="#call-with-an-explicit-type-receiver">Call with an explicit type receiver</a></li>
</ul></li>
<li><a href="#infix-function-call">Infix function call</a></li>
<li><a href="#operator-call">Operator call</a></li>
<li><a href="#call-without-an-explicit-receiver">Call without an explicit receiver</a></li>
<li><a href="#call-with-named-parameters">Call with named parameters</a></li>
<li><a href="#call-with-trailing-lambda-expressions">Call with trailing lambda expressions</a></li>
<li><a href="#call-with-specified-type-parameters">Call with specified type parameters</a></li>
</ul></li>
<li><a href="#determining-function-applicability-for-a-specific-call">Determining function applicability for a specific call</a><ul>
<li><a href="#rationale">Rationale</a></li>
<li><a href="#description">Description</a></li>
</ul></li>
<li><a href="#choosing-the-most-specific-candidate-from-the-overload-candidate-set">Choosing the most specific candidate from the overload candidate set</a><ul>
<li><a href="#rationale-1">Rationale</a></li>
<li><a href="#algorithm-of-msc-selection">Algorithm of MSC selection</a></li>
</ul></li>
<li><a href="#resolving-callable-references">Resolving callable references</a><ul>
<li><a href="#resolving-callable-references-not-used-as-arguments-to-a-call">Resolving callable references not used as arguments to a call</a></li>
<li><a href="#bidirectional-resolution-for-callable-calls">Bidirectional resolution for callable calls</a></li>
</ul></li>
<li><a href="#type-inference-and-overload-resolution">Type inference and overload resolution</a></li>
<li><a href="#conflicting-overloads">Conflicting overloads</a></li>
</ul></li>
<li><a href="#control--and-data-flow-analysis">Control- and data-flow analysis</a><ul>
<li><a href="#control-flow-graph">Control flow graph</a><ul>
<li><a href="#expressions-1">Expressions</a><ul>
<li><a href="#function-calls-and-operators">Function calls and operators</a></li>
<li><a href="#conditional-expressions">Conditional expressions</a></li>
<li><a href="#boolean-operators">Boolean operators</a></li>
<li><a href="#other-expressions">Other expressions</a></li>
</ul></li>
<li><a href="#statements-1">Statements</a></li>
<li><a href="#declarations-1">Declarations</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#kotlin.nothing-and-its-influence-on-the-cfg"><code>kotlin.Nothing</code> and its influence on the CFG</a></li>
</ul></li>
<li><a href="#performing-analyses-on-the-control-flow-graph">Performing analyses on the control-flow graph</a><ul>
<li><a href="#preliminary-analysis-and-operatornamemathitkilldataflow-instruction">Preliminary analysis and <span class="math inline">\(\operatorname{\mathit{killDataFlow}}\)</span> instruction</a></li>
<li><a href="#variable-initialization-analysis">Variable initialization analysis</a></li>
<li><a href="#smart-casting-analysis">Smart casting analysis</a></li>
</ul></li>
<li><a href="#references-1">References</a></li>
</ul></li>
<li><a href="#kotlin-type-constraints">Kotlin type constraints</a><ul>
<li><a href="#type-constraint-definition">Type constraint definition</a></li>
<li><a href="#type-constraint-solving">Type constraint solving</a><ul>
<li><a href="#checking-constraint-system-soundness">Checking constraint system soundness</a><ul>
<li><a href="#a-sample-bound-inference-algorithm">A sample bound inference algorithm</a></li>
</ul></li>
<li><a href="#finding-optimal-constraint-system-solution">Finding optimal constraint system solution</a></li>
<li><a href="#the-relations-on-types-as-constraints">The relations on types as constraints</a></li>
</ul></li>
</ul></li>
<li><a href="#type-inference">Type inference</a><ul>
<li><a href="#smart-casts">Smart casts</a><ul>
<li><a href="#data-flow-framework">Data-flow framework</a><ul>
<li><a href="#smart-cast-lattices">Smart cast lattices</a></li>
<li><a href="#smart-cast-transfer-functions">Smart cast transfer functions</a></li>
</ul></li>
<li><a href="#smart-cast-types">Smart cast types</a></li>
<li><a href="#smart-cast-sink-stability">Smart cast sink stability</a><ul>
<li><a href="#effectively-immutable-smart-cast-sinks">Effectively immutable smart cast sinks</a></li>
</ul></li>
<li><a href="#loop-handling">Loop handling</a></li>
<li><a href="#bound-smart-casts">Bound smart casts</a></li>
</ul></li>
<li><a href="#local-type-inference">Local type inference</a></li>
<li><a href="#function-signature-type-inference">Function signature type inference</a><ul>
<li><a href="#named-and-anonymous-function-declarations">Named and anonymous function declarations</a></li>
<li><a href="#statements-with-lambda-literals">Statements with lambda literals</a></li>
</ul></li>
</ul></li>
<li><a href="#runtime-type-information">Runtime type information</a><ul>
<li><a href="#runtime-available-types">Runtime-available types</a></li>
<li><a href="#reflection">Reflection</a></li>
</ul></li>
<li><a href="#exceptions">Exceptions</a><ul>
<li><a href="#catching-exceptions">Catching exceptions</a></li>
<li><a href="#throwing-exceptions">Throwing exceptions</a></li>
</ul></li>
<li><a href="#annotations">Annotations</a><ul>
<li><a href="#annotation-values">Annotation values</a></li>
<li><a href="#annotation-retention">Annotation retention</a></li>
<li><a href="#annotation-targets">Annotation targets</a></li>
<li><a href="#annotation-declarations">Annotation declarations</a></li>
<li><a href="#built-in-annotations">Built-in annotations</a></li>
</ul></li>
<li><a href="#coroutines">Coroutines</a><ul>
<li><a href="#suspending-functions">Suspending functions</a></li>
<li><a href="#coroutines-1">Coroutines</a></li>
</ul></li>
<li><a href="#concurrency">Concurrency</a></li>
</ul></li>
</ul>
</nav>



























<h1 id="glossary">Glossary</h1>
<div class="paragraph">
<p><span class="sentence">w.r.t.:: with respect to</span></p>
</div>
<h1 id="kotlincore">Kotlin/Core</h1>
<h2 id="introduction">Introduction</h2>
<div class="paragraph">
<p><span class="sentence">Here be dragonsâ€¦</span></p>
</div>
<h2 id="syntax">Syntax</h2>
<h3 id="grammar">Grammar</h3>
<h4 id="lexical-grammar">Lexical grammar</h4>
<h5 id="whitespace-and-comments">Whitespace and comments</h5>
<div id="grammar-rule-LF" class="grammar-rule">
<dl>
<dt><strong><em>LF</em>:</strong></dt>
<dd><span class="sentence"><em>&lt;unicode character Line Feed U+000A&gt;</em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CR" class="grammar-rule">
<dl>
<dt><strong><em>CR</em>:</strong></dt>
<dd><span class="sentence"><em>&lt;unicode character Carriage Return U+000D&gt;</em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ShebangLine" class="grammar-rule">
<dl>
<dt><strong><em>ShebangLine</em>:</strong></dt>
<dd><span class="sentence"><code>'#!'</code> {<em>&lt;any character excluding CR and LF &gt;</em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-DelimitedComment" class="grammar-rule">
<dl>
<dt><strong><em>DelimitedComment</em>:</strong></dt>
<dd><span class="sentence"><code>'/*'</code> { <em><a href="#grammar-rule-DelimitedComment">DelimitedComment</a></em> | <em>&lt;any character&gt;</em> } <code>'*/'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LineComment" class="grammar-rule">
<dl>
<dt><strong><em>LineComment</em>:</strong></dt>
<dd><span class="sentence"><code>'//'</code> {<em>&lt;any character excluding CR and LF &gt;</em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-WS" class="grammar-rule">
<dl>
<dt><strong><em>WS</em>:</strong></dt>
<dd><span class="sentence"><em>&lt;one of the following characters: SPACE U+0020, TAB U+0009, Form Feed U+000C&gt;</em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-NL" class="grammar-rule">
<dl>
<dt><strong><em>NL</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-LF">LF</a></em> | (<em><a href="#grammar-rule-CR">CR</a></em> [<em><a href="#grammar-rule-LF">LF</a></em>])</span>
</dd>
</dl>
</div>
<div id="grammar-rule-Hidden" class="grammar-rule">
<dl>
<dt><strong><em>Hidden</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-DelimitedComment">DelimitedComment</a></em> | <em><a href="#grammar-rule-LineComment">LineComment</a></em> | <em><a href="#grammar-rule-WS">WS</a></em></span>
</dd>
</dl>
</div>
<h5 id="keywords-and-operators">Keywords and operators</h5>
<div id="grammar-rule-RESERVED" class="grammar-rule">
<dl>
<dt><strong><em>RESERVED</em>:</strong></dt>
<dd><span class="sentence"><code>'...'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DOT" class="grammar-rule">
<dl>
<dt><strong><em>DOT</em>:</strong></dt>
<dd><span class="sentence"><code>'.'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-COMMA" class="grammar-rule">
<dl>
<dt><strong><em>COMMA</em>:</strong></dt>
<dd><span class="sentence"><code>','</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LPAREN" class="grammar-rule">
<dl>
<dt><strong><em>LPAREN</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RPAREN" class="grammar-rule">
<dl>
<dt><strong><em>RPAREN</em>:</strong></dt>
<dd><span class="sentence"><code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LSQUARE" class="grammar-rule">
<dl>
<dt><strong><em>LSQUARE</em>:</strong></dt>
<dd><span class="sentence"><code>'['</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RSQUARE" class="grammar-rule">
<dl>
<dt><strong><em>RSQUARE</em>:</strong></dt>
<dd><span class="sentence"><code>']'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LCURL" class="grammar-rule">
<dl>
<dt><strong><em>LCURL</em>:</strong></dt>
<dd><span class="sentence"><code>'{'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RCURL" class="grammar-rule">
<dl>
<dt><strong><em>RCURL</em>:</strong></dt>
<dd><span class="sentence"><code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-MULT" class="grammar-rule">
<dl>
<dt><strong><em>MULT</em>:</strong></dt>
<dd><span class="sentence"><code>'*'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-MOD" class="grammar-rule">
<dl>
<dt><strong><em>MOD</em>:</strong></dt>
<dd><span class="sentence"><code>'%'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DIV" class="grammar-rule">
<dl>
<dt><strong><em>DIV</em>:</strong></dt>
<dd><span class="sentence"><code>'/'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ADD" class="grammar-rule">
<dl>
<dt><strong><em>ADD</em>:</strong></dt>
<dd><span class="sentence"><code>'+'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SUB" class="grammar-rule">
<dl>
<dt><strong><em>SUB</em>:</strong></dt>
<dd><span class="sentence"><code>'-'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-INCR" class="grammar-rule">
<dl>
<dt><strong><em>INCR</em>:</strong></dt>
<dd><span class="sentence"><code>'++'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DECR" class="grammar-rule">
<dl>
<dt><strong><em>DECR</em>:</strong></dt>
<dd><span class="sentence"><code>'--'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CONJ" class="grammar-rule">
<dl>
<dt><strong><em>CONJ</em>:</strong></dt>
<dd><span class="sentence"><code>'&amp;&amp;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DISJ" class="grammar-rule">
<dl>
<dt><strong><em>DISJ</em>:</strong></dt>
<dd><span class="sentence"><code>'||'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EXCL_WS" class="grammar-rule">
<dl>
<dt><strong><em>EXCL_WS</em>:</strong></dt>
<dd><span class="sentence"><code>'!'</code> <a href="#grammar-rule-Hidden"><em>Hidden</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EXCL_NO_WS" class="grammar-rule">
<dl>
<dt><strong><em>EXCL_NO_WS</em>:</strong></dt>
<dd><span class="sentence"><code>'!'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-COLON" class="grammar-rule">
<dl>
<dt><strong><em>COLON</em>:</strong></dt>
<dd><span class="sentence"><code>':'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SEMICOLON" class="grammar-rule">
<dl>
<dt><strong><em>SEMICOLON</em>:</strong></dt>
<dd><span class="sentence"><code>';'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ASSIGNMENT" class="grammar-rule">
<dl>
<dt><strong><em>ASSIGNMENT</em>:</strong></dt>
<dd><span class="sentence"><code>'='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ADD_ASSIGNMENT" class="grammar-rule">
<dl>
<dt><strong><em>ADD_ASSIGNMENT</em>:</strong></dt>
<dd><span class="sentence"><code>'+='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SUB_ASSIGNMENT" class="grammar-rule">
<dl>
<dt><strong><em>SUB_ASSIGNMENT</em>:</strong></dt>
<dd><span class="sentence"><code>'-='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-MULT_ASSIGNMENT" class="grammar-rule">
<dl>
<dt><strong><em>MULT_ASSIGNMENT</em>:</strong></dt>
<dd><span class="sentence"><code>'*='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DIV_ASSIGNMENT" class="grammar-rule">
<dl>
<dt><strong><em>DIV_ASSIGNMENT</em>:</strong></dt>
<dd><span class="sentence"><code>'/='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-MOD_ASSIGNMENT" class="grammar-rule">
<dl>
<dt><strong><em>MOD_ASSIGNMENT</em>:</strong></dt>
<dd><span class="sentence"><code>'%='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ARROW" class="grammar-rule">
<dl>
<dt><strong><em>ARROW</em>:</strong></dt>
<dd><span class="sentence"><code>'-&gt;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DOUBLE_ARROW" class="grammar-rule">
<dl>
<dt><strong><em>DOUBLE_ARROW</em>:</strong></dt>
<dd><span class="sentence"><code>'=&gt;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RANGE" class="grammar-rule">
<dl>
<dt><strong><em>RANGE</em>:</strong></dt>
<dd><span class="sentence"><code>'..'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-COLONCOLON" class="grammar-rule">
<dl>
<dt><strong><em>COLONCOLON</em>:</strong></dt>
<dd><span class="sentence"><code>'::'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DOUBLE_SEMICOLON" class="grammar-rule">
<dl>
<dt><strong><em>DOUBLE_SEMICOLON</em>:</strong></dt>
<dd><span class="sentence"><code>';;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-HASH" class="grammar-rule">
<dl>
<dt><strong><em>HASH</em>:</strong></dt>
<dd><span class="sentence"><code>'#'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-AT_NO_WS" class="grammar-rule">
<dl>
<dt><strong><em>AT_NO_WS</em>:</strong></dt>
<dd><span class="sentence"><code>'@'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-AT_POST_WS" class="grammar-rule">
<dl>
<dt><strong><em>AT_POST_WS</em>:</strong></dt>
<dd><span class="sentence"><code>'@'</code> (<a href="#grammar-rule-Hidden"><em>Hidden</em></a> | <a href="#grammar-rule-NL"><em>NL</em></a>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-AT_PRE_WS" class="grammar-rule">
<dl>
<dt><strong><em>AT_PRE_WS</em>:</strong></dt>
<dd><span class="sentence">(<a href="#grammar-rule-Hidden"><em>Hidden</em></a> | <a href="#grammar-rule-NL"><em>NL</em></a>) <code>'@'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-AT_BOTH_WS" class="grammar-rule">
<dl>
<dt><strong><em>AT_BOTH_WS</em>:</strong></dt>
<dd><span class="sentence">(<a href="#grammar-rule-Hidden"><em>Hidden</em></a> | <a href="#grammar-rule-NL"><em>NL</em></a>) <code>'@'</code> (<a href="#grammar-rule-Hidden"><em>Hidden</em></a> | <a href="#grammar-rule-NL"><em>NL</em></a>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-QUEST_WS" class="grammar-rule">
<dl>
<dt><strong><em>QUEST_WS</em>:</strong></dt>
<dd><span class="sentence"><code>'?'</code> <a href="#grammar-rule-Hidden"><em>Hidden</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-QUEST_NO_WS" class="grammar-rule">
<dl>
<dt><strong><em>QUEST_NO_WS</em>:</strong></dt>
<dd><span class="sentence"><code>'?'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LANGLE" class="grammar-rule">
<dl>
<dt><strong><em>LANGLE</em>:</strong></dt>
<dd><span class="sentence"><code>'&lt;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RANGLE" class="grammar-rule">
<dl>
<dt><strong><em>RANGLE</em>:</strong></dt>
<dd><span class="sentence"><code>'&gt;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LE" class="grammar-rule">
<dl>
<dt><strong><em>LE</em>:</strong></dt>
<dd><span class="sentence"><code>'&lt;='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-GE" class="grammar-rule">
<dl>
<dt><strong><em>GE</em>:</strong></dt>
<dd><span class="sentence"><code>'&gt;='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EXCL_EQ" class="grammar-rule">
<dl>
<dt><strong><em>EXCL_EQ</em>:</strong></dt>
<dd><span class="sentence"><code>'!='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EXCL_EQEQ" class="grammar-rule">
<dl>
<dt><strong><em>EXCL_EQEQ</em>:</strong></dt>
<dd><span class="sentence"><code>'!=='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-AS_SAFE" class="grammar-rule">
<dl>
<dt><strong><em>AS_SAFE</em>:</strong></dt>
<dd><span class="sentence"><code>'as?'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EQEQ" class="grammar-rule">
<dl>
<dt><strong><em>EQEQ</em>:</strong></dt>
<dd><span class="sentence"><code>'=='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EQEQEQ" class="grammar-rule">
<dl>
<dt><strong><em>EQEQEQ</em>:</strong></dt>
<dd><span class="sentence"><code>'==='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SINGLE_QUOTE" class="grammar-rule">
<dl>
<dt><strong><em>SINGLE_QUOTE</em>:</strong></dt>
<dd><span class="sentence"><code>'\''</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RETURN_AT" class="grammar-rule">
<dl>
<dt><strong><em>RETURN_AT</em>:</strong></dt>
<dd><span class="sentence"><code>'return@'</code> <a href="#grammar-rule-Identifier"><em>Identifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CONTINUE_AT" class="grammar-rule">
<dl>
<dt><strong><em>CONTINUE_AT</em>:</strong></dt>
<dd><span class="sentence"><code>'continue@'</code> <a href="#grammar-rule-Identifier"><em>Identifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BREAK_AT" class="grammar-rule">
<dl>
<dt><strong><em>BREAK_AT</em>:</strong></dt>
<dd><span class="sentence"><code>'break@'</code> <a href="#grammar-rule-Identifier"><em>Identifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-THIS_AT" class="grammar-rule">
<dl>
<dt><strong><em>THIS_AT</em>:</strong></dt>
<dd><span class="sentence"><code>'this@'</code> <a href="#grammar-rule-Identifier"><em>Identifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SUPER_AT" class="grammar-rule">
<dl>
<dt><strong><em>SUPER_AT</em>:</strong></dt>
<dd><span class="sentence"><code>'super@'</code> <a href="#grammar-rule-Identifier"><em>Identifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FILE" class="grammar-rule">
<dl>
<dt><strong><em>FILE</em>:</strong></dt>
<dd><span class="sentence"><code>'file'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FIELD" class="grammar-rule">
<dl>
<dt><strong><em>FIELD</em>:</strong></dt>
<dd><span class="sentence"><code>'field'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-PROPERTY" class="grammar-rule">
<dl>
<dt><strong><em>PROPERTY</em>:</strong></dt>
<dd><span class="sentence"><code>'property'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-GET" class="grammar-rule">
<dl>
<dt><strong><em>GET</em>:</strong></dt>
<dd><span class="sentence"><code>'get'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SET" class="grammar-rule">
<dl>
<dt><strong><em>SET</em>:</strong></dt>
<dd><span class="sentence"><code>'set'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RECEIVER" class="grammar-rule">
<dl>
<dt><strong><em>RECEIVER</em>:</strong></dt>
<dd><span class="sentence"><code>'receiver'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-PARAM" class="grammar-rule">
<dl>
<dt><strong><em>PARAM</em>:</strong></dt>
<dd><span class="sentence"><code>'param'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SETPARAM" class="grammar-rule">
<dl>
<dt><strong><em>SETPARAM</em>:</strong></dt>
<dd><span class="sentence"><code>'setparam'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DELEGATE" class="grammar-rule">
<dl>
<dt><strong><em>DELEGATE</em>:</strong></dt>
<dd><span class="sentence"><code>'delegate'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-PACKAGE" class="grammar-rule">
<dl>
<dt><strong><em>PACKAGE</em>:</strong></dt>
<dd><span class="sentence"><code>'package'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-IMPORT" class="grammar-rule">
<dl>
<dt><strong><em>IMPORT</em>:</strong></dt>
<dd><span class="sentence"><code>'import'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CLASS" class="grammar-rule">
<dl>
<dt><strong><em>CLASS</em>:</strong></dt>
<dd><span class="sentence"><code>'class'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-INTERFACE" class="grammar-rule">
<dl>
<dt><strong><em>INTERFACE</em>:</strong></dt>
<dd><span class="sentence"><code>'interface'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FUN" class="grammar-rule">
<dl>
<dt><strong><em>FUN</em>:</strong></dt>
<dd><span class="sentence"><code>'fun'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-OBJECT" class="grammar-rule">
<dl>
<dt><strong><em>OBJECT</em>:</strong></dt>
<dd><span class="sentence"><code>'object'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-VAL" class="grammar-rule">
<dl>
<dt><strong><em>VAL</em>:</strong></dt>
<dd><span class="sentence"><code>'val'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-VAR" class="grammar-rule">
<dl>
<dt><strong><em>VAR</em>:</strong></dt>
<dd><span class="sentence"><code>'var'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-TYPE_ALIAS" class="grammar-rule">
<dl>
<dt><strong><em>TYPE_ALIAS</em>:</strong></dt>
<dd><span class="sentence"><code>'typealias'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CONSTRUCTOR" class="grammar-rule">
<dl>
<dt><strong><em>CONSTRUCTOR</em>:</strong></dt>
<dd><span class="sentence"><code>'constructor'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BY" class="grammar-rule">
<dl>
<dt><strong><em>BY</em>:</strong></dt>
<dd><span class="sentence"><code>'by'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-COMPANION" class="grammar-rule">
<dl>
<dt><strong><em>COMPANION</em>:</strong></dt>
<dd><span class="sentence"><code>'companion'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-INIT" class="grammar-rule">
<dl>
<dt><strong><em>INIT</em>:</strong></dt>
<dd><span class="sentence"><code>'init'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-THIS" class="grammar-rule">
<dl>
<dt><strong><em>THIS</em>:</strong></dt>
<dd><span class="sentence"><code>'this'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SUPER" class="grammar-rule">
<dl>
<dt><strong><em>SUPER</em>:</strong></dt>
<dd><span class="sentence"><code>'super'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-TYPEOF" class="grammar-rule">
<dl>
<dt><strong><em>TYPEOF</em>:</strong></dt>
<dd><span class="sentence"><code>'typeof'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-WHERE" class="grammar-rule">
<dl>
<dt><strong><em>WHERE</em>:</strong></dt>
<dd><span class="sentence"><code>'where'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-IF" class="grammar-rule">
<dl>
<dt><strong><em>IF</em>:</strong></dt>
<dd><span class="sentence"><code>'if'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ELSE" class="grammar-rule">
<dl>
<dt><strong><em>ELSE</em>:</strong></dt>
<dd><span class="sentence"><code>'else'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-WHEN" class="grammar-rule">
<dl>
<dt><strong><em>WHEN</em>:</strong></dt>
<dd><span class="sentence"><code>'when'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-TRY" class="grammar-rule">
<dl>
<dt><strong><em>TRY</em>:</strong></dt>
<dd><span class="sentence"><code>'try'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CATCH" class="grammar-rule">
<dl>
<dt><strong><em>CATCH</em>:</strong></dt>
<dd><span class="sentence"><code>'catch'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FINALLY" class="grammar-rule">
<dl>
<dt><strong><em>FINALLY</em>:</strong></dt>
<dd><span class="sentence"><code>'finally'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FOR" class="grammar-rule">
<dl>
<dt><strong><em>FOR</em>:</strong></dt>
<dd><span class="sentence"><code>'for'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DO" class="grammar-rule">
<dl>
<dt><strong><em>DO</em>:</strong></dt>
<dd><span class="sentence"><code>'do'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-WHILE" class="grammar-rule">
<dl>
<dt><strong><em>WHILE</em>:</strong></dt>
<dd><span class="sentence"><code>'while'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-THROW" class="grammar-rule">
<dl>
<dt><strong><em>THROW</em>:</strong></dt>
<dd><span class="sentence"><code>'throw'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RETURN" class="grammar-rule">
<dl>
<dt><strong><em>RETURN</em>:</strong></dt>
<dd><span class="sentence"><code>'return'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CONTINUE" class="grammar-rule">
<dl>
<dt><strong><em>CONTINUE</em>:</strong></dt>
<dd><span class="sentence"><code>'continue'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BREAK" class="grammar-rule">
<dl>
<dt><strong><em>BREAK</em>:</strong></dt>
<dd><span class="sentence"><code>'break'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-AS" class="grammar-rule">
<dl>
<dt><strong><em>AS</em>:</strong></dt>
<dd><span class="sentence"><code>'as'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-IS" class="grammar-rule">
<dl>
<dt><strong><em>IS</em>:</strong></dt>
<dd><span class="sentence"><code>'is'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-IN" class="grammar-rule">
<dl>
<dt><strong><em>IN</em>:</strong></dt>
<dd><span class="sentence"><code>'in'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-NOT_IS" class="grammar-rule">
<dl>
<dt><strong><em>NOT_IS</em>:</strong></dt>
<dd><span class="sentence"><code>'!is'</code> (<a href="#grammar-rule-Hidden"><em>Hidden</em></a> | <a href="#grammar-rule-NL"><em>NL</em></a>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-NOT_IN" class="grammar-rule">
<dl>
<dt><strong><em>NOT_IN</em>:</strong></dt>
<dd><span class="sentence"><code>'!in'</code> (<a href="#grammar-rule-Hidden"><em>Hidden</em></a> | <a href="#grammar-rule-NL"><em>NL</em></a>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-OUT" class="grammar-rule">
<dl>
<dt><strong><em>OUT</em>:</strong></dt>
<dd><span class="sentence"><code>'out'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DYNAMIC" class="grammar-rule">
<dl>
<dt><strong><em>DYNAMIC</em>:</strong></dt>
<dd><span class="sentence"><code>'dynamic'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-PUBLIC" class="grammar-rule">
<dl>
<dt><strong><em>PUBLIC</em>:</strong></dt>
<dd><span class="sentence"><code>'public'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-PRIVATE" class="grammar-rule">
<dl>
<dt><strong><em>PRIVATE</em>:</strong></dt>
<dd><span class="sentence"><code>'private'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-PROTECTED" class="grammar-rule">
<dl>
<dt><strong><em>PROTECTED</em>:</strong></dt>
<dd><span class="sentence"><code>'protected'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-INTERNAL" class="grammar-rule">
<dl>
<dt><strong><em>INTERNAL</em>:</strong></dt>
<dd><span class="sentence"><code>'internal'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ENUM" class="grammar-rule">
<dl>
<dt><strong><em>ENUM</em>:</strong></dt>
<dd><span class="sentence"><code>'enum'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SEALED" class="grammar-rule">
<dl>
<dt><strong><em>SEALED</em>:</strong></dt>
<dd><span class="sentence"><code>'sealed'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ANNOTATION" class="grammar-rule">
<dl>
<dt><strong><em>ANNOTATION</em>:</strong></dt>
<dd><span class="sentence"><code>'annotation'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DATA" class="grammar-rule">
<dl>
<dt><strong><em>DATA</em>:</strong></dt>
<dd><span class="sentence"><code>'data'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-INNER" class="grammar-rule">
<dl>
<dt><strong><em>INNER</em>:</strong></dt>
<dd><span class="sentence"><code>'inner'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-TAILREC" class="grammar-rule">
<dl>
<dt><strong><em>TAILREC</em>:</strong></dt>
<dd><span class="sentence"><code>'tailrec'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-OPERATOR" class="grammar-rule">
<dl>
<dt><strong><em>OPERATOR</em>:</strong></dt>
<dd><span class="sentence"><code>'operator'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-INLINE" class="grammar-rule">
<dl>
<dt><strong><em>INLINE</em>:</strong></dt>
<dd><span class="sentence"><code>'inline'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-INFIX" class="grammar-rule">
<dl>
<dt><strong><em>INFIX</em>:</strong></dt>
<dd><span class="sentence"><code>'infix'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EXTERNAL" class="grammar-rule">
<dl>
<dt><strong><em>EXTERNAL</em>:</strong></dt>
<dd><span class="sentence"><code>'external'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-SUSPEND" class="grammar-rule">
<dl>
<dt><strong><em>SUSPEND</em>:</strong></dt>
<dd><span class="sentence"><code>'suspend'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-OVERRIDE" class="grammar-rule">
<dl>
<dt><strong><em>OVERRIDE</em>:</strong></dt>
<dd><span class="sentence"><code>'override'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ABSTRACT" class="grammar-rule">
<dl>
<dt><strong><em>ABSTRACT</em>:</strong></dt>
<dd><span class="sentence"><code>'abstract'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FINAL" class="grammar-rule">
<dl>
<dt><strong><em>FINAL</em>:</strong></dt>
<dd><span class="sentence"><code>'final'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-OPEN" class="grammar-rule">
<dl>
<dt><strong><em>OPEN</em>:</strong></dt>
<dd><span class="sentence"><code>'open'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CONST" class="grammar-rule">
<dl>
<dt><strong><em>CONST</em>:</strong></dt>
<dd><span class="sentence"><code>'const'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LATEINIT" class="grammar-rule">
<dl>
<dt><strong><em>LATEINIT</em>:</strong></dt>
<dd><span class="sentence"><code>'lateinit'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-VARARG" class="grammar-rule">
<dl>
<dt><strong><em>VARARG</em>:</strong></dt>
<dd><span class="sentence"><code>'vararg'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-NOINLINE" class="grammar-rule">
<dl>
<dt><strong><em>NOINLINE</em>:</strong></dt>
<dd><span class="sentence"><code>'noinline'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CROSSINLINE" class="grammar-rule">
<dl>
<dt><strong><em>CROSSINLINE</em>:</strong></dt>
<dd><span class="sentence"><code>'crossinline'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-REIFIED" class="grammar-rule">
<dl>
<dt><strong><em>REIFIED</em>:</strong></dt>
<dd><span class="sentence"><code>'reified'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EXPECT" class="grammar-rule">
<dl>
<dt><strong><em>EXPECT</em>:</strong></dt>
<dd><span class="sentence"><code>'expect'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ACTUAL" class="grammar-rule">
<dl>
<dt><strong><em>ACTUAL</em>:</strong></dt>
<dd><span class="sentence"><code>'actual'</code></span>
</dd>
</dl>
</div>
<h5 id="literals">Literals</h5>
<div id="grammar-rule-DecDigitNoZero" class="grammar-rule">
<dl>
<dt><strong><em>DecDigitNoZero</em>:</strong></dt>
<dd><span class="sentence"><code>'1'</code> | <code>'2'</code> | <code>'3'</code> | <code>'4'</code> | <code>'5'</code> | <code>'6'</code> | <code>'7'</code> | <code>'8'</code> | <code>'9'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DecDigit" class="grammar-rule">
<dl>
<dt><strong><em>DecDigit</em>:</strong></dt>
<dd><span class="sentence"><code>'0'</code> | <code>'1'</code> | <code>'2'</code> | <code>'3'</code> | <code>'4'</code> | <code>'5'</code> | <code>'6'</code> | <code>'7'</code> | <code>'8'</code> | <code>'9'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DecDigitOrSeparator" class="grammar-rule">
<dl>
<dt><strong><em>DecDigitOrSeparator</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DecDigit"><em>DecDigit</em></a> | <code>'_'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DecDigits" class="grammar-rule">
<dl>
<dt><strong><em>DecDigits</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DecDigit"><em>DecDigit</em></a> {<a href="#grammar-rule-DecDigitOrSeparator"><em>DecDigitOrSeparator</em></a>} <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a><br />
| <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DoubleExponent" class="grammar-rule">
<dl>
<dt><strong><em>DoubleExponent</em>:</strong></dt>
<dd><span class="sentence">(<code>'e'</code> | <code>'E'</code>) [(<code>'+'</code> | <code>'-'</code>)] <a href="#grammar-rule-DecDigits"><em>DecDigits</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-RealLiteral" class="grammar-rule">
<dl>
<dt><strong><em>RealLiteral</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-FloatLiteral"><em>FloatLiteral</em></a> | <a href="#grammar-rule-DoubleLiteral"><em>DoubleLiteral</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FloatLiteral" class="grammar-rule">
<dl>
<dt><strong><em>FloatLiteral</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DoubleLiteral"><em>DoubleLiteral</em></a> (<code>'f'</code> | <code>'F'</code>)<br />
| <a href="#grammar-rule-DecDigits"><em>DecDigits</em></a> (<code>'f'</code> | <code>'F'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-DoubleLiteral" class="grammar-rule">
<dl>
<dt><strong><em>DoubleLiteral</em>:</strong></dt>
<dd><span class="sentence">[<a href="#grammar-rule-DecDigits"><em>DecDigits</em></a>] <code>'.'</code> <a href="#grammar-rule-DecDigits"><em>DecDigits</em></a> [<a href="#grammar-rule-DoubleExponent"><em>DoubleExponent</em></a>]<br />
| [<a href="#grammar-rule-DecDigits"><em>DecDigits</em></a>] [<a href="#grammar-rule-DoubleExponent"><em>DoubleExponent</em></a>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-IntegerLiteral" class="grammar-rule">
<dl>
<dt><strong><em>IntegerLiteral</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DecDigitNoZero"><em>DecDigitNoZero</em></a> {<a href="#grammar-rule-DecDigitOrSeparator"><em>DecDigitOrSeparator</em></a>} <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a><br />
| <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-HexDigit" class="grammar-rule">
<dl>
<dt><strong><em>HexDigit</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DecDigit"><em>DecDigit</em></a><br />
| <code>'A'</code> | <code>'B'</code> | <code>'C'</code> | <code>'D'</code> | <code>'E'</code> | <code>'F'</code><br />
| <code>'a'</code> | <code>'b'</code> | <code>'c'</code> | <code>'d'</code> | <code>'e'</code> | <code>'f'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-HexDigitOrSeparator" class="grammar-rule">
<dl>
<dt><strong><em>HexDigitOrSeparator</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> | <code>'_'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-HexLiteral" class="grammar-rule">
<dl>
<dt><strong><em>HexLiteral</em></strong></dt>
<dd><span class="sentence"><code>'0'</code> (<code>'x'</code> | <code>'X'</code>) <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> {<a href="#grammar-rule-HexDigitOrSeparator"><em>HexDigitOrSeparator</em></a>} <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a><br />
| <code>'0'</code> (<code>'x'</code> | <code>'X'</code>) <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BinDigit" class="grammar-rule">
<dl>
<dt><strong><em>BinDigit</em></strong></dt>
<dd><span class="sentence"><code>'0'</code> | <code>'1'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BinDigitOrSeparator" class="grammar-rule">
<dl>
<dt><strong><em>BinDigitOrSeparator</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-BinDigit"><em>BinDigit</em></a> | <code>'_'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BinLiteral" class="grammar-rule">
<dl>
<dt><strong><em>BinLiteral</em></strong></dt>
<dd><span class="sentence"><code>'0'</code> (<code>'b'</code> | <code>'B'</code>) <a href="#grammar-rule-BinDigit"><em>BinDigit</em></a> {<a href="#grammar-rule-BinDigitOrSeparator"><em>BinDigitOrSeparator</em></a>} <a href="#grammar-rule-BinDigit"><em>BinDigit</em></a><br />
| <code>'0'</code> (<code>'b'</code> | <code>'B'</code>) <a href="#grammar-rule-BinDigit"><em>BinDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LongLiteral" class="grammar-rule">
<dl>
<dt><strong><em>LongLiteral</em></strong></dt>
<dd><span class="sentence">(<a href="#grammar-rule-IntegerLiteral"><em>IntegerLiteral</em></a> | <a href="#grammar-rule-HexLiteral"><em>HexLiteral</em></a> | <a href="#grammar-rule-BinLiteral"><em>BinLiteral</em></a>) <code>'L'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BooleanLiteral" class="grammar-rule">
<dl>
<dt><strong><em>BooleanLiteral</em></strong></dt>
<dd><span class="sentence"><code>'true'</code> | <code>'false'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-NullLiteral" class="grammar-rule">
<dl>
<dt><strong><em>NullLiteral</em></strong></dt>
<dd><span class="sentence"><code>'null'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-CharacterLiteral" class="grammar-rule">
<dl>
<dt><strong><em>CharacterLiteral</em></strong></dt>
<dd><span class="sentence"><code>'''</code> (<a href="#grammar-rule-EscapeSeq"><em>EscapeSeq</em></a> | &lt;any character excluding CR, LF, <code>'''</code> or <code>'\'</code>&gt;) <code>'''</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-UniCharacterLiteral" class="grammar-rule">
<dl>
<dt><strong><em>UniCharacterLiteral</em></strong></dt>
<dd><span class="sentence"><code>'\'</code> <code>'u'</code> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EscapedIdentifier" class="grammar-rule">
<dl>
<dt><strong><em>EscapedIdentifier</em></strong></dt>
<dd><span class="sentence"><code>'\'</code> (<code>'t'</code> | <code>'b'</code> | <code>'r'</code> | <code>'n'</code> | <code>'''</code> | <code>'&quot;'</code> | <code>'\'</code> | <code>'$'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-EscapeSeq" class="grammar-rule">
<dl>
<dt><strong><em>EscapeSeq</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-UniCharacterLiteral"><em>UniCharacterLiteral</em></a> | <a href="#grammar-rule-EscapedIdentifier"><em>EscapedIdentifier</em></a></span>
</dd>
</dl>
</div>
<h5 id="identifiers">Identifiers</h5>
<div id="grammar-rule-Letter" class="grammar-rule">
<dl>
<dt><strong><em>Letter</em></strong></dt>
<dd><span class="sentence">&lt;any unicode character of classes LL, LM, LO, LT, LU or NL&gt;</span>
</dd>
</dl>
</div>
<div id="grammar-rule-QuotedSymbol" class="grammar-rule">
<dl>
<dt><strong><em>QuotedSymbol</em></strong></dt>
<dd><span class="sentence">&lt;any character excluding CR, LF and <code>'`'</code>&gt;</span>
</dd>
</dl>
</div>
<div id="grammar-rule-UnicodeDigit" class="grammar-rule">
<dl>
<dt><strong><em>UnicodeDigit</em></strong></dt>
<dd><span class="sentence">&lt;any unicode character of class ND&gt;</span>
</dd>
</dl>
</div>
<div id="grammar-rule-Identifier" class="grammar-rule">
<dl>
<dt><strong><em>Identifier</em></strong></dt>
<dd><span class="sentence">(<a href="#grammar-rule-Letter"><em>Letter</em></a> | <code>'_'</code>) {<a href="#grammar-rule-Letter"><em>Letter</em></a> | <code>'_'</code> | <a href="#grammar-rule-UnicodeDigit"><em>UnicodeDigit</em></a>}<br />
| <code>'`'</code> <a href="#grammar-rule-QuotedSymbol"><em>QuotedSymbol</em></a> {<a href="#grammar-rule-QuotedSymbol"><em>QuotedSymbol</em></a>} <code>'`'</code></span>
</dd>
</dl>
</div>
<div id="escaped-identifiers">
<div class="paragraph">
<p><span class="sentence">Kotlin supports <em>escaping</em> identifiers by enclosing any sequence of characters into backtick (<code>`</code>) characters, allowing to use any name as an identifier. </span><span class="sentence">This allows not only using non-alphanumeric characters (like <code>@</code> or <code>#</code>) in names, but also using keywords like <code>if</code> or <code>when</code> as identifiers. </span><span class="sentence">Actual set of characters that is allowed to be escaped may, however, be a subject to platform restrictions. </span><span class="sentence">Consult particular platform sections for details.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for example, the following characters are not allowed in identifiers used as declaration names on the JVM platform even when escaped due to JVM restrictions: <code>(</code>, <code>)</code>, <code>{</code>, <code>}</code>, <code>[</code>, <code>]</code>, <code>.</code></span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Escaped identifiers are treated the same as corresponding non-escaped identifier if it is allowed. </span><span class="sentence">For example, an escaped identifier <code>`foo`</code> and non-escaped identifier <code>foo</code> may be used interchangeably and refer to the same program entity.</span></p>
</div>
</div>
<div id="grammar-rule-IdentifierOrSoftKey" class="grammar-rule">
<dl>
<dt><strong><em>IdentifierOrSoftKey</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-Identifier"><em>Identifier</em></a><br />
| <a href="#grammar-rule-ABSTRACT"><em>ABSTRACT</em></a><br />
| <a href="#grammar-rule-ANNOTATION"><em>ANNOTATION</em></a><br />
| <a href="#grammar-rule-BY"><em>BY</em></a><br />
| <a href="#grammar-rule-CATCH"><em>CATCH</em></a><br />
| <a href="#grammar-rule-COMPANION"><em>COMPANION</em></a><br />
| <a href="#grammar-rule-CONSTRUCTOR"><em>CONSTRUCTOR</em></a><br />
| <a href="#grammar-rule-CROSSINLINE"><em>CROSSINLINE</em></a><br />
| <a href="#grammar-rule-DATA"><em>DATA</em></a><br />
| <a href="#grammar-rule-DYNAMIC"><em>DYNAMIC</em></a><br />
| <a href="#grammar-rule-ENUM"><em>ENUM</em></a><br />
| <a href="#grammar-rule-EXTERNAL"><em>EXTERNAL</em></a><br />
| <a href="#grammar-rule-FINAL"><em>FINAL</em></a><br />
| <a href="#grammar-rule-FINALLY"><em>FINALLY</em></a><br />
| <a href="#grammar-rule-IMPORT"><em>IMPORT</em></a><br />
| <a href="#grammar-rule-INFIX"><em>INFIX</em></a><br />
| <a href="#grammar-rule-INIT"><em>INIT</em></a><br />
| <a href="#grammar-rule-INLINE"><em>INLINE</em></a><br />
| <a href="#grammar-rule-INNER"><em>INNER</em></a><br />
| <a href="#grammar-rule-INTERNAL"><em>INTERNAL</em></a><br />
| <a href="#grammar-rule-LATEINIT"><em>LATEINIT</em></a><br />
| <a href="#grammar-rule-NOINLINE"><em>NOINLINE</em></a><br />
| <a href="#grammar-rule-OPEN"><em>OPEN</em></a><br />
| <a href="#grammar-rule-OPERATOR"><em>OPERATOR</em></a><br />
| <a href="#grammar-rule-OUT"><em>OUT</em></a><br />
| <a href="#grammar-rule-OVERRIDE"><em>OVERRIDE</em></a><br />
| <a href="#grammar-rule-PRIVATE"><em>PRIVATE</em></a><br />
| <a href="#grammar-rule-PROTECTED"><em>PROTECTED</em></a><br />
| <a href="#grammar-rule-PUBLIC"><em>PUBLIC</em></a><br />
| <a href="#grammar-rule-REIFIED"><em>REIFIED</em></a><br />
| <a href="#grammar-rule-SEALED"><em>SEALED</em></a><br />
| <a href="#grammar-rule-TAILREC"><em>TAILREC</em></a><br />
| <a href="#grammar-rule-VARARG"><em>VARARG</em></a><br />
| <a href="#grammar-rule-WHERE"><em>WHERE</em></a><br />
| <a href="#grammar-rule-GET"><em>GET</em></a><br />
| <a href="#grammar-rule-SET"><em>SET</em></a><br />
| <a href="#grammar-rule-FIELD"><em>FIELD</em></a><br />
| <a href="#grammar-rule-PROPERTY"><em>PROPERTY</em></a><br />
| <a href="#grammar-rule-RECEIVER"><em>RECEIVER</em></a><br />
| <a href="#grammar-rule-PARAM"><em>PARAM</em></a><br />
| <a href="#grammar-rule-SETPARAM"><em>SETPARAM</em></a><br />
| <a href="#grammar-rule-DELEGATE"><em>DELEGATE</em></a><br />
| <a href="#grammar-rule-FILE"><em>FILE</em></a><br />
| <a href="#grammar-rule-EXPECT"><em>EXPECT</em></a><br />
| <a href="#grammar-rule-ACTUAL"><em>ACTUAL</em></a><br />
| <a href="#grammar-rule-CONST"><em>CONST</em></a><br />
| <a href="#grammar-rule-SUSPEND"><em>SUSPEND</em></a></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Some of the keywords used in Kotlin are allowed to be used as identifiers even when not escaped. </span><span class="sentence">Such keywords are called <em>soft keywords</em>. </span><span class="sentence">You can see the complete list of soft keyword in the rule above. </span><span class="sentence">All other keywords are considered <em>hard keywords</em> and may only be used as identifiers if escaped.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for example, this is a valid property declaration in Kotlin:</span></p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">val</span> <span class="va">field</span> <span class="op">=</span> <span class="dv">2</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">even though <code>field</code> is a keyword</span></p>
</div>
</blockquote>
<h5 id="string-mode-grammar">String mode grammar</h5>
<div id="grammar-rule-QUOTE_OPEN" class="grammar-rule">
<dl>
<dt><strong><em>QUOTE_OPEN</em></strong></dt>
<dd><span class="sentence"><code>'&quot;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-TRIPLE_QUOTE_OPEN" class="grammar-rule">
<dl>
<dt><strong><em>TRIPLE_QUOTE_OPEN</em></strong></dt>
<dd><span class="sentence"><code>'&quot;&quot;&quot;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FieldIdentifier" class="grammar-rule">
<dl>
<dt><strong><em>FieldIdentifier</em></strong></dt>
<dd><span class="sentence"><code>'$'</code> <a href="#grammar-rule-IdentifierOrSoftKey"><em>IdentifierOrSoftKey</em></a></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Opening a double quote (QUOTE_OPEN) rule puts the lexical grammar into the special â€œline stringâ€ mode with the following rules. </span><span class="sentence">Closing double quote (QUOTE_CLOSE) rule exits this mode.</span></p>
</div>
<div id="grammar-rule-QUOTE_CLOSE" class="grammar-rule">
<dl>
<dt><strong><em>QUOTE_CLOSE</em></strong></dt>
<dd><span class="sentence"><code>'&quot;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LineStrRef" class="grammar-rule">
<dl>
<dt><strong><em>LineStrRef</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-FieldIdentifier"><em>FieldIdentifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LineStrText" class="grammar-rule">
<dl>
<dt><strong><em>LineStrText</em></strong></dt>
<dd><span class="sentence">{&lt;any character except <code>'\'</code>, <code>'&quot;'</code> or <code>'$'</code>&gt;} | <code>'$'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LineStrEscapedChar" class="grammar-rule">
<dl>
<dt><strong><em>LineStrEscapedChar</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-EscapedIdentifier"><em>EscapedIdentifier</em></a> | <a href="#grammar-rule-UniCharacterLiteral"><em>UniCharacterLiteral</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-LineStrExprStart" class="grammar-rule">
<dl>
<dt><strong><em>LineStrExprStart</em></strong></dt>
<dd><span class="sentence"><code>'${'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Opening a triple double quote (TRIPLE_QUOTE_OPEN) rule puts the lexical grammar into the special â€œmultiline stringâ€ mode with the following rules. </span><span class="sentence">Closing triple double quote (TRIPLE_QUOTE_CLOSE) rule exits this mode.</span></p>
</div>
<div id="grammar-rule-TRIPLE_QUOTE_CLOSE" class="grammar-rule">
<dl>
<dt><strong><em>TRIPLE_QUOTE_CLOSE</em></strong></dt>
<dd><span class="sentence">[<a href="#grammar-rule-MultilineStringQuote"><em>MultilineStringQuote</em></a>] <code>'&quot;&quot;&quot;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-MultilineStringQuote" class="grammar-rule">
<dl>
<dt><strong><em>MultilineStringQuote</em></strong></dt>
<dd><span class="sentence"><code>'&quot;&quot;&quot;'</code> {<code>'&quot;'</code>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-MultiLineStrRef" class="grammar-rule">
<dl>
<dt><strong><em>MultiLineStrRef</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-FieldIdentifier"><em>FieldIdentifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-MultiLineStrText" class="grammar-rule">
<dl>
<dt><strong><em>MultiLineStrText</em></strong></dt>
<dd><span class="sentence">{&lt;any character except <code>'&quot;'</code> or <code>'$'</code>&gt;} | <code>'$'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-MultiLineStrExprStart" class="grammar-rule">
<dl>
<dt><strong><em>MultiLineStrExprStart</em></strong></dt>
<dd><span class="sentence"><code>'${'</code></span>
</dd>
</dl>
</div>
<h5 id="tokens">Tokens</h5>
<div class="paragraph">
<p><span class="sentence">These are all the valid tokens in one rule. </span><span class="sentence">Note that syntax grammar ignores tokens <a href="#grammar-rule-DelimitedComment"><em>DelimitedComment</em></a>, <a href="#grammar-rule-LineComment"><em>LineComment</em></a> and <a href="#grammar-rule-WS"><em>WS</em></a>.</span></p>
</div>
<div id="grammar-rule-KotlinToken" class="grammar-rule">
<dl>
<dt><strong><em>KotlinToken</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-ShebangLine"><em>ShebangLine</em></a><br />
| <a href="#grammar-rule-DelimitedComment"><em>DelimitedComment</em></a><br />
| <a href="#grammar-rule-LineComment"><em>LineComment</em></a><br />
| <a href="#grammar-rule-WS"><em>WS</em></a><br />
| <a href="#grammar-rule-NL"><em>NL</em></a><br />
| <a href="#grammar-rule-RESERVED"><em>RESERVED</em></a><br />
| <a href="#grammar-rule-DOT"><em>DOT</em></a><br />
| <a href="#grammar-rule-COMMA"><em>COMMA</em></a><br />
| <a href="#grammar-rule-LPAREN"><em>LPAREN</em></a><br />
| <a href="#grammar-rule-RPAREN"><em>RPAREN</em></a><br />
| <a href="#grammar-rule-LSQUARE"><em>LSQUARE</em></a><br />
| <a href="#grammar-rule-RSQUARE"><em>RSQUARE</em></a><br />
| <a href="#grammar-rule-LCURL"><em>LCURL</em></a><br />
| <a href="#grammar-rule-RCURL"><em>RCURL</em></a><br />
| <a href="#grammar-rule-MULT"><em>MULT</em></a><br />
| <a href="#grammar-rule-MOD"><em>MOD</em></a><br />
| <a href="#grammar-rule-DIV"><em>DIV</em></a><br />
| <a href="#grammar-rule-ADD"><em>ADD</em></a><br />
| <a href="#grammar-rule-SUB"><em>SUB</em></a><br />
| <a href="#grammar-rule-INCR"><em>INCR</em></a><br />
| <a href="#grammar-rule-DECR"><em>DECR</em></a><br />
| <a href="#grammar-rule-CONJ"><em>CONJ</em></a><br />
| <a href="#grammar-rule-DISJ"><em>DISJ</em></a><br />
| <a href="#grammar-rule-EXCL_WS"><em>EXCL_WS</em></a><br />
| <a href="#grammar-rule-EXCL_NO_WS"><em>EXCL_NO_WS</em></a><br />
| <a href="#grammar-rule-COLON"><em>COLON</em></a><br />
| <a href="#grammar-rule-SEMICOLON"><em>SEMICOLON</em></a><br />
| <a href="#grammar-rule-ASSIGNMENT"><em>ASSIGNMENT</em></a><br />
| <a href="#grammar-rule-ADD_ASSIGNMENT"><em>ADD_ASSIGNMENT</em></a><br />
| <a href="#grammar-rule-SUB_ASSIGNMENT"><em>SUB_ASSIGNMENT</em></a><br />
| <a href="#grammar-rule-MULT_ASSIGNMENT"><em>MULT_ASSIGNMENT</em></a><br />
| <a href="#grammar-rule-DIV_ASSIGNMENT"><em>DIV_ASSIGNMENT</em></a><br />
| <a href="#grammar-rule-MOD_ASSIGNMENT"><em>MOD_ASSIGNMENT</em></a><br />
| <a href="#grammar-rule-ARROW"><em>ARROW</em></a><br />
| <a href="#grammar-rule-DOUBLE_ARROW"><em>DOUBLE_ARROW</em></a><br />
| <a href="#grammar-rule-RANGE"><em>RANGE</em></a><br />
| <a href="#grammar-rule-COLONCOLON"><em>COLONCOLON</em></a><br />
| <a href="#grammar-rule-DOUBLE_SEMICOLON"><em>DOUBLE_SEMICOLON</em></a><br />
| <a href="#grammar-rule-HASH"><em>HASH</em></a><br />
| <a href="#grammar-rule-AT_NO_WS"><em>AT_NO_WS</em></a><br />
| <a href="#grammar-rule-AT_POST_WS"><em>AT_POST_WS</em></a><br />
| <a href="#grammar-rule-AT_PRE_WS"><em>AT_PRE_WS</em></a><br />
| <a href="#grammar-rule-AT_BOTH_WS"><em>AT_BOTH_WS</em></a><br />
| <a href="#grammar-rule-QUEST_WS"><em>QUEST_WS</em></a><br />
| <a href="#grammar-rule-QUEST_NO_WS"><em>QUEST_NO_WS</em></a><br />
| <a href="#grammar-rule-LANGLE"><em>LANGLE</em></a><br />
| <a href="#grammar-rule-RANGLE"><em>RANGLE</em></a><br />
| <a href="#grammar-rule-LE"><em>LE</em></a><br />
| <a href="#grammar-rule-GE"><em>GE</em></a><br />
| <a href="#grammar-rule-EXCL_EQ"><em>EXCL_EQ</em></a><br />
| <a href="#grammar-rule-EXCL_EQEQ"><em>EXCL_EQEQ</em></a><br />
| <a href="#grammar-rule-AS_SAFE"><em>AS_SAFE</em></a><br />
| <a href="#grammar-rule-EQEQ"><em>EQEQ</em></a><br />
| <a href="#grammar-rule-EQEQEQ"><em>EQEQEQ</em></a><br />
| <a href="#grammar-rule-SINGLE_QUOTE"><em>SINGLE_QUOTE</em></a><br />
| <a href="#grammar-rule-RETURN_AT"><em>RETURN_AT</em></a><br />
| <a href="#grammar-rule-CONTINUE_AT"><em>CONTINUE_AT</em></a><br />
| <a href="#grammar-rule-BREAK_AT"><em>BREAK_AT</em></a><br />
| <a href="#grammar-rule-THIS_AT"><em>THIS_AT</em></a><br />
| <a href="#grammar-rule-SUPER_AT"><em>SUPER_AT</em></a><br />
| <a href="#grammar-rule-FILE"><em>FILE</em></a><br />
| <a href="#grammar-rule-FIELD"><em>FIELD</em></a><br />
| <a href="#grammar-rule-PROPERTY"><em>PROPERTY</em></a><br />
| <a href="#grammar-rule-GET"><em>GET</em></a><br />
| <a href="#grammar-rule-SET"><em>SET</em></a><br />
| <a href="#grammar-rule-RECEIVER"><em>RECEIVER</em></a><br />
| <a href="#grammar-rule-PARAM"><em>PARAM</em></a><br />
| <a href="#grammar-rule-SETPARAM"><em>SETPARAM</em></a><br />
| <a href="#grammar-rule-DELEGATE"><em>DELEGATE</em></a><br />
| <a href="#grammar-rule-PACKAGE"><em>PACKAGE</em></a><br />
| <a href="#grammar-rule-IMPORT"><em>IMPORT</em></a><br />
| <a href="#grammar-rule-CLASS"><em>CLASS</em></a><br />
| <a href="#grammar-rule-INTERFACE"><em>INTERFACE</em></a><br />
| <a href="#grammar-rule-FUN"><em>FUN</em></a><br />
| <a href="#grammar-rule-OBJECT"><em>OBJECT</em></a><br />
| <a href="#grammar-rule-VAL"><em>VAL</em></a><br />
| <a href="#grammar-rule-VAR"><em>VAR</em></a><br />
| <a href="#grammar-rule-TYPE_ALIAS"><em>TYPE_ALIAS</em></a><br />
| <a href="#grammar-rule-CONSTRUCTOR"><em>CONSTRUCTOR</em></a><br />
| <a href="#grammar-rule-BY"><em>BY</em></a><br />
| <a href="#grammar-rule-COMPANION"><em>COMPANION</em></a><br />
| <a href="#grammar-rule-INIT"><em>INIT</em></a><br />
| <a href="#grammar-rule-THIS"><em>THIS</em></a><br />
| <a href="#grammar-rule-SUPER"><em>SUPER</em></a><br />
| <a href="#grammar-rule-TYPEOF"><em>TYPEOF</em></a><br />
| <a href="#grammar-rule-WHERE"><em>WHERE</em></a><br />
| <a href="#grammar-rule-IF"><em>IF</em></a><br />
| <a href="#grammar-rule-ELSE"><em>ELSE</em></a><br />
| <a href="#grammar-rule-WHEN"><em>WHEN</em></a><br />
| <a href="#grammar-rule-TRY"><em>TRY</em></a><br />
| <a href="#grammar-rule-CATCH"><em>CATCH</em></a><br />
| <a href="#grammar-rule-FINALLY"><em>FINALLY</em></a><br />
| <a href="#grammar-rule-FOR"><em>FOR</em></a><br />
| <a href="#grammar-rule-DO"><em>DO</em></a><br />
| <a href="#grammar-rule-WHILE"><em>WHILE</em></a><br />
| <a href="#grammar-rule-THROW"><em>THROW</em></a><br />
| <a href="#grammar-rule-RETURN"><em>RETURN</em></a><br />
| <a href="#grammar-rule-CONTINUE"><em>CONTINUE</em></a><br />
| <a href="#grammar-rule-BREAK"><em>BREAK</em></a><br />
| <a href="#grammar-rule-AS"><em>AS</em></a><br />
| <a href="#grammar-rule-IS"><em>IS</em></a><br />
| <a href="#grammar-rule-IN"><em>IN</em></a><br />
| <a href="#grammar-rule-NOT_IS"><em>NOT_IS</em></a><br />
| <a href="#grammar-rule-NOT_IN"><em>NOT_IN</em></a><br />
| <a href="#grammar-rule-OUT"><em>OUT</em></a><br />
| <a href="#grammar-rule-DYNAMIC"><em>DYNAMIC</em></a><br />
| <a href="#grammar-rule-PUBLIC"><em>PUBLIC</em></a><br />
| <a href="#grammar-rule-PRIVATE"><em>PRIVATE</em></a><br />
| <a href="#grammar-rule-PROTECTED"><em>PROTECTED</em></a><br />
| <a href="#grammar-rule-INTERNAL"><em>INTERNAL</em></a><br />
| <a href="#grammar-rule-ENUM"><em>ENUM</em></a><br />
| <a href="#grammar-rule-SEALED"><em>SEALED</em></a><br />
| <a href="#grammar-rule-ANNOTATION"><em>ANNOTATION</em></a><br />
| <a href="#grammar-rule-DATA"><em>DATA</em></a><br />
| <a href="#grammar-rule-INNER"><em>INNER</em></a><br />
| <a href="#grammar-rule-TAILREC"><em>TAILREC</em></a><br />
| <a href="#grammar-rule-OPERATOR"><em>OPERATOR</em></a><br />
| <a href="#grammar-rule-INLINE"><em>INLINE</em></a><br />
| <a href="#grammar-rule-INFIX"><em>INFIX</em></a><br />
| <a href="#grammar-rule-EXTERNAL"><em>EXTERNAL</em></a><br />
| <a href="#grammar-rule-SUSPEND"><em>SUSPEND</em></a><br />
| <a href="#grammar-rule-OVERRIDE"><em>OVERRIDE</em></a><br />
| <a href="#grammar-rule-ABSTRACT"><em>ABSTRACT</em></a><br />
| <a href="#grammar-rule-FINAL"><em>FINAL</em></a><br />
| <a href="#grammar-rule-OPEN"><em>OPEN</em></a><br />
| <a href="#grammar-rule-CONST"><em>CONST</em></a><br />
| <a href="#grammar-rule-LATEINIT"><em>LATEINIT</em></a><br />
| <a href="#grammar-rule-VARARG"><em>VARARG</em></a><br />
| <a href="#grammar-rule-NOINLINE"><em>NOINLINE</em></a><br />
| <a href="#grammar-rule-CROSSINLINE"><em>CROSSINLINE</em></a><br />
| <a href="#grammar-rule-REIFIED"><em>REIFIED</em></a><br />
| <a href="#grammar-rule-EXPECT"><em>EXPECT</em></a><br />
| <a href="#grammar-rule-ACTUAL"><em>ACTUAL</em></a><br />
| <a href="#grammar-rule-Identifier"><em>Identifier</em></a><br />
| <a href="#grammar-rule-RealLiteral"><em>RealLiteral</em></a><br />
| <a href="#grammar-rule-IntegerLiteral"><em>IntegerLiteral</em></a><br />
| <a href="#grammar-rule-HexLiteral"><em>HexLiteral</em></a><br />
| <a href="#grammar-rule-BinLiteral"><em>BinLiteral</em></a><br />
| <a href="#grammar-rule-LongLiteral"><em>LongLiteral</em></a><br />
| <a href="#grammar-rule-BooleanLiteral"><em>BooleanLiteral</em></a><br />
| <a href="#grammar-rule-NullLiteral"><em>NullLiteral</em></a><br />
| <a href="#grammar-rule-CharacterLiteral"><em>CharacterLiteral</em></a><br />
| <a href="#grammar-rule-QUOTE_OPEN"><em>QUOTE_OPEN</em></a><br />
| <a href="#grammar-rule-QUOTE_CLOSE"><em>QUOTE_CLOSE</em></a><br />
| <a href="#grammar-rule-TRIPLE_QUOTE_OPEN"><em>TRIPLE_QUOTE_OPEN</em></a><br />
| <a href="#grammar-rule-TRIPLE_QUOTE_CLOSE"><em>TRIPLE_QUOTE_CLOSE</em></a><br />
| <a href="#grammar-rule-LineStrRef"><em>LineStrRef</em></a><br />
| <a href="#grammar-rule-LineStrText"><em>LineStrText</em></a><br />
| <a href="#grammar-rule-LineStrEscapedChar"><em>LineStrEscapedChar</em></a><br />
| <a href="#grammar-rule-LineStrExprStart"><em>LineStrExprStart</em></a><br />
| <a href="#grammar-rule-MultilineStringQuote"><em>MultilineStringQuote</em></a><br />
| <a href="#grammar-rule-MultiLineStrRef"><em>MultiLineStrRef</em></a><br />
| <a href="#grammar-rule-MultiLineStrText"><em>MultiLineStrText</em></a><br />
| <a href="#grammar-rule-MultiLineStrExprStart"><em>MultiLineStrExprStart</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EOF" class="grammar-rule">
<dl>
<dt><strong><em>EOF</em></strong></dt>
<dd><span class="sentence">&lt;end of input&gt;</span>
</dd>
</dl>
</div>
<h4 id="syntax-grammar">Syntax grammar</h4>
<div class="paragraph">
<p><span class="sentence">The grammar below replaces some lexical grammar rules with explicit literals (where such replacement in trivial and always correct, for example, for keywords) for better readability.</span></p>
</div>
<div id="grammar-rule-kotlinFile" class="grammar-rule">
<dl>
<dt><strong><em>kotlinFile</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-shebangLine">shebangLine</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
{<em><a href="#grammar-rule-fileAnnotation">fileAnnotation</a></em>}<br />
<em><a href="#grammar-rule-packageHeader">packageHeader</a></em><br />
<em><a href="#grammar-rule-importList">importList</a></em><br />
{<em><a href="#grammar-rule-topLevelObject">topLevelObject</a></em>}<br />
<em><a href="#grammar-rule-EOF">EOF</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-script" class="grammar-rule">
<dl>
<dt><strong><em>script</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-shebangLine">shebangLine</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
{<em><a href="#grammar-rule-fileAnnotation">fileAnnotation</a></em>}<br />
<em><a href="#grammar-rule-packageHeader">packageHeader</a></em><br />
<em><a href="#grammar-rule-importList">importList</a></em><br />
{<em><a href="#grammar-rule-statement">statement</a></em> <em><a href="#grammar-rule-semi">semi</a></em>}<br />
<em><a href="#grammar-rule-EOF">EOF</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-shebangLine" class="grammar-rule">
<dl>
<dt><strong><em>shebangLine</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-ShebangLine">ShebangLine</a></em> (<em><a href="#grammar-rule-NL">NL</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>})</span>
</dd>
</dl>
</div>
<div id="grammar-rule-fileAnnotation" class="grammar-rule">
<dl>
<dt><strong><em>fileAnnotation</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-AT_NO_WS">AT_NO_WS</a></em> | <em><a href="#grammar-rule-AT_PRE_WS">AT_PRE_WS</a></em>)<br />
<code>'file'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>':'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
((<code>'['</code> (<em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em> {<em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em>}) <code>']'</code>) | <em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em>)<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-packageHeader" class="grammar-rule">
<dl>
<dt><strong><em>packageHeader</em>:</strong></dt>
<dd><span class="sentence">[<code>'package'</code> <em><a href="#grammar-rule-identifier">identifier</a></em> [<em><a href="#grammar-rule-semi">semi</a></em>]]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-importList" class="grammar-rule">
<dl>
<dt><strong><em>importList</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-importHeader">importHeader</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-importHeader" class="grammar-rule">
<dl>
<dt><strong><em>importHeader</em>:</strong></dt>
<dd><span class="sentence"><code>'import'</code> <em><a href="#grammar-rule-identifier">identifier</a></em> [(<code>'.'</code> <code>'*'</code>) | <em><a href="#grammar-rule-importAlias">importAlias</a></em>] [<em><a href="#grammar-rule-semi">semi</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-importAlias" class="grammar-rule">
<dl>
<dt><strong><em>importAlias</em>:</strong></dt>
<dd><span class="sentence"><code>'as'</code> <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-topLevelObject" class="grammar-rule">
<dl>
<dt><strong><em>topLevelObject</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-declaration">declaration</a></em> [<em><a href="#grammar-rule-semis">semis</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeAlias" class="grammar-rule">
<dl>
<dt><strong><em>typeAlias</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'typealias'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'='</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-type">type</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-declaration" class="grammar-rule">
<dl>
<dt><strong><em>declaration</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-classDeclaration">classDeclaration</a></em><br />
| <em><a href="#grammar-rule-objectDeclaration">objectDeclaration</a></em><br />
| <em><a href="#grammar-rule-functionDeclaration">functionDeclaration</a></em><br />
| <em><a href="#grammar-rule-propertyDeclaration">propertyDeclaration</a></em><br />
| <em><a href="#grammar-rule-typeAlias">typeAlias</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-classDeclaration" class="grammar-rule">
<dl>
<dt><strong><em>classDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
(<code>'class'</code> | <code>'interface'</code>)<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-primaryConstructor">primaryConstructor</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifiers">delegationSpecifiers</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>) | ({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-enumClassBody">enumClassBody</a></em>)]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-primaryConstructor" class="grammar-rule">
<dl>
<dt><strong><em>primaryConstructor</em>:</strong></dt>
<dd><span class="sentence">[[<em><a href="#grammar-rule-modifiers">modifiers</a></em>] <code>'constructor'</code> {<em><a href="#grammar-rule-NL">NL</a></em>}] <em><a href="#grammar-rule-classParameters">classParameters</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-classBody" class="grammar-rule">
<dl>
<dt><strong><em>classBody</em>:</strong></dt>
<dd><span class="sentence"><code>'{'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-classMemberDeclarations">classMemberDeclarations</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-classParameters" class="grammar-rule">
<dl>
<dt><strong><em>classParameters</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-classParameter">classParameter</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classParameter">classParameter</a></em>}]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-classParameter" class="grammar-rule">
<dl>
<dt><strong><em>classParameter</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
[<code>'val'</code> | <code>'var'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
<code>':'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-type">type</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-delegationSpecifiers" class="grammar-rule">
<dl>
<dt><strong><em>delegationSpecifiers</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-annotatedDelegationSpecifier">annotatedDelegationSpecifier</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-annotatedDelegationSpecifier">annotatedDelegationSpecifier</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-delegationSpecifier" class="grammar-rule">
<dl>
<dt><strong><em>delegationSpecifier</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-constructorInvocation">constructorInvocation</a></em><br />
| <em><a href="#grammar-rule-explicitDelegation">explicitDelegation</a></em><br />
| <em><a href="#grammar-rule-userType">userType</a></em><br />
| <em><a href="#grammar-rule-functionType">functionType</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-constructorInvocation" class="grammar-rule">
<dl>
<dt><strong><em>constructorInvocation</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-userType">userType</a></em> <em><a href="#grammar-rule-valueArguments">valueArguments</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-annotatedDelegationSpecifier" class="grammar-rule">
<dl>
<dt><strong><em>annotatedDelegationSpecifier</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-annotation">annotation</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifier">delegationSpecifier</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-explicitDelegation" class="grammar-rule">
<dl>
<dt><strong><em>explicitDelegation</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-userType">userType</a></em> | <em><a href="#grammar-rule-functionType">functionType</a></em>)<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'by'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-expression">expression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeParameters" class="grammar-rule">
<dl>
<dt><strong><em>typeParameters</em>:</strong></dt>
<dd><span class="sentence"><code>'&lt;'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-typeParameter">typeParameter</a></em><br />
{{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameter">typeParameter</a></em>}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'&gt;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeParameter" class="grammar-rule">
<dl>
<dt><strong><em>typeParameter</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-typeParameterModifiers">typeParameterModifiers</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeConstraints" class="grammar-rule">
<dl>
<dt><strong><em>typeConstraints</em>:</strong></dt>
<dd><span class="sentence"><code>'where'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraint">typeConstraint</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraint">typeConstraint</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeConstraint" class="grammar-rule">
<dl>
<dt><strong><em>typeConstraint</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-annotation">annotation</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>':'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-type">type</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-classMemberDeclarations" class="grammar-rule">
<dl>
<dt><strong><em>classMemberDeclarations</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-classMemberDeclaration">classMemberDeclaration</a></em> [<em><a href="#grammar-rule-semis">semis</a></em>]}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-classMemberDeclaration" class="grammar-rule">
<dl>
<dt><strong><em>classMemberDeclaration</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-declaration">declaration</a></em><br />
| <em><a href="#grammar-rule-companionObject">companionObject</a></em><br />
| <em><a href="#grammar-rule-anonymousInitializer">anonymousInitializer</a></em><br />
| <em><a href="#grammar-rule-secondaryConstructor">secondaryConstructor</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-anonymousInitializer" class="grammar-rule">
<dl>
<dt><strong><em>anonymousInitializer</em>:</strong></dt>
<dd><span class="sentence"><code>'init'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-block">block</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-companionObject" class="grammar-rule">
<dl>
<dt><strong><em>companionObject</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'companion'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'object'</code><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifiers">delegationSpecifiers</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionValueParameters" class="grammar-rule">
<dl>
<dt><strong><em>functionValueParameters</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-functionValueParameter">functionValueParameter</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-functionValueParameter">functionValueParameter</a></em>}]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionValueParameter" class="grammar-rule">
<dl>
<dt><strong><em>functionValueParameter</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-parameterModifiers">parameterModifiers</a></em>] <em><a href="#grammar-rule-parameter">parameter</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionDeclaration" class="grammar-rule">
<dl>
<dt><strong><em>functionDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'fun'</code><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-receiverType">receiverType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-functionValueParameters">functionValueParameters</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-functionBody">functionBody</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionBody" class="grammar-rule">
<dl>
<dt><strong><em>functionBody</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-block">block</a></em><br />
| (<code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-variableDeclaration" class="grammar-rule">
<dl>
<dt><strong><em>variableDeclaration</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-annotation">annotation</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiVariableDeclaration" class="grammar-rule">
<dl>
<dt><strong><em>multiVariableDeclaration</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em><br />
{{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em>}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-propertyDeclaration" class="grammar-rule">
<dl>
<dt><strong><em>propertyDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
(<code>'val'</code> | <code>'var'</code>)<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-receiverType">receiverType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code>]<br />
({<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-multiVariableDeclaration">multiVariableDeclaration</a></em> | <em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em>))<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} ((<code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>) | <em><a href="#grammar-rule-propertyDelegate">propertyDelegate</a></em>)]<br />
[(<em><a href="#grammar-rule-NL">NL</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>}) <code>';'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
(([<em><a href="#grammar-rule-getter">getter</a></em>] [{<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-semi">semi</a></em>] <em><a href="#grammar-rule-setter">setter</a></em>]) | ([<em><a href="#grammar-rule-setter">setter</a></em>] [{<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-semi">semi</a></em>] <em><a href="#grammar-rule-getter">getter</a></em>]))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-propertyDelegate" class="grammar-rule">
<dl>
<dt><strong><em>propertyDelegate</em>:</strong></dt>
<dd><span class="sentence"><code>'by'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-getter" class="grammar-rule">
<dl>
<dt><strong><em>getter</em>:</strong></dt>
<dd><span class="sentence">([<em><a href="#grammar-rule-modifiers">modifiers</a></em>] <code>'get'</code>)<br />
| ([<em><a href="#grammar-rule-modifiers">modifiers</a></em>] <code>'get'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code> [{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-functionBody">functionBody</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-setter" class="grammar-rule">
<dl>
<dt><strong><em>setter</em>:</strong></dt>
<dd><span class="sentence">([<em><a href="#grammar-rule-modifiers">modifiers</a></em>] <code>'set'</code>)<br />
| ([<em><a href="#grammar-rule-modifiers">modifiers</a></em>] <code>'set'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-parameterWithOptionalType">parameterWithOptionalType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code> [{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-functionBody">functionBody</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-parametersWithOptionalType" class="grammar-rule">
<dl>
<dt><strong><em>parametersWithOptionalType</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-parameterWithOptionalType">parameterWithOptionalType</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-parameterWithOptionalType">parameterWithOptionalType</a></em>}]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-parameterWithOptionalType" class="grammar-rule">
<dl>
<dt><strong><em>parameterWithOptionalType</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-parameterModifiers">parameterModifiers</a></em>] <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} [<code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-parameter" class="grammar-rule">
<dl>
<dt><strong><em>parameter</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>':'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-type">type</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-objectDeclaration" class="grammar-rule">
<dl>
<dt><strong><em>objectDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'object'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifiers">delegationSpecifiers</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-secondaryConstructor" class="grammar-rule">
<dl>
<dt><strong><em>secondaryConstructor</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'constructor'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-functionValueParameters">functionValueParameters</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-constructorDelegationCall">constructorDelegationCall</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-block">block</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-constructorDelegationCall" class="grammar-rule">
<dl>
<dt><strong><em>constructorDelegationCall</em>:</strong></dt>
<dd><span class="sentence">(<code>'this'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-valueArguments">valueArguments</a></em>)<br />
| (<code>'super'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-valueArguments">valueArguments</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-enumClassBody" class="grammar-rule">
<dl>
<dt><strong><em>enumClassBody</em>:</strong></dt>
<dd><span class="sentence"><code>'{'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-enumEntries">enumEntries</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>';'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classMemberDeclarations">classMemberDeclarations</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-enumEntries" class="grammar-rule">
<dl>
<dt><strong><em>enumEntries</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-enumEntry">enumEntry</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-enumEntry">enumEntry</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} [<code>','</code>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-enumEntry" class="grammar-rule">
<dl>
<dt><strong><em>enumEntry</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>}] <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-valueArguments">valueArguments</a></em>] [{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-type" class="grammar-rule">
<dl>
<dt><strong><em>type</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-typeModifiers">typeModifiers</a></em>] (<em><a href="#grammar-rule-parenthesizedType">parenthesizedType</a></em> | <em><a href="#grammar-rule-nullableType">nullableType</a></em> | <em><a href="#grammar-rule-typeReference">typeReference</a></em> | <em><a href="#grammar-rule-functionType">functionType</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeReference" class="grammar-rule">
<dl>
<dt><strong><em>typeReference</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-userType">userType</a></em><br />
| <code>'dynamic'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-nullableType" class="grammar-rule">
<dl>
<dt><strong><em>nullableType</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-typeReference">typeReference</a></em> | <em><a href="#grammar-rule-parenthesizedType">parenthesizedType</a></em>) {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-quest">quest</a></em> {<em><a href="#grammar-rule-quest">quest</a></em>})</span>
</dd>
</dl>
</div>
<div id="grammar-rule-quest" class="grammar-rule">
<dl>
<dt><strong><em>quest</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-QUEST_NO_WS">QUEST_NO_WS</a></em><br />
| <em><a href="#grammar-rule-QUEST_WS">QUEST_WS</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-userType" class="grammar-rule">
<dl>
<dt><strong><em>userType</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-simpleUserType">simpleUserType</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-simpleUserType">simpleUserType</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-simpleUserType" class="grammar-rule">
<dl>
<dt><strong><em>simpleUserType</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeArguments">typeArguments</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeProjection" class="grammar-rule">
<dl>
<dt><strong><em>typeProjection</em>:</strong></dt>
<dd><span class="sentence">([<em><a href="#grammar-rule-typeProjectionModifiers">typeProjectionModifiers</a></em>] <em><a href="#grammar-rule-type">type</a></em>)<br />
| <code>'*'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeProjectionModifiers" class="grammar-rule">
<dl>
<dt><strong><em>typeProjectionModifiers</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-typeProjectionModifier">typeProjectionModifier</a></em> {<em><a href="#grammar-rule-typeProjectionModifier">typeProjectionModifier</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeProjectionModifier" class="grammar-rule">
<dl>
<dt><strong><em>typeProjectionModifier</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-varianceModifier">varianceModifier</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>})<br />
| <em><a href="#grammar-rule-annotation">annotation</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionType" class="grammar-rule">
<dl>
<dt><strong><em>functionType</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-receiverType">receiverType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code> {<em><a href="#grammar-rule-NL">NL</a></em>}]<br />
<em><a href="#grammar-rule-functionTypeParameters">functionTypeParameters</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'-&gt;'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-type">type</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionTypeParameters" class="grammar-rule">
<dl>
<dt><strong><em>functionTypeParameters</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-parameter">parameter</a></em> | <em><a href="#grammar-rule-type">type</a></em>]<br />
{{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-parameter">parameter</a></em> | <em><a href="#grammar-rule-type">type</a></em>)}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-parenthesizedType" class="grammar-rule">
<dl>
<dt><strong><em>parenthesizedType</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-type">type</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-receiverType" class="grammar-rule">
<dl>
<dt><strong><em>receiverType</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-typeModifiers">typeModifiers</a></em>] (<em><a href="#grammar-rule-parenthesizedType">parenthesizedType</a></em> | <em><a href="#grammar-rule-nullableType">nullableType</a></em> | <em><a href="#grammar-rule-typeReference">typeReference</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-parenthesizedUserType" class="grammar-rule">
<dl>
<dt><strong><em>parenthesizedUserType</em>:</strong></dt>
<dd><span class="sentence">(<code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-userType">userType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code>)<br />
| (<code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-parenthesizedUserType">parenthesizedUserType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-statements" class="grammar-rule">
<dl>
<dt><strong><em>statements</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-statement">statement</a></em> {<em><a href="#grammar-rule-semis">semis</a></em> <em><a href="#grammar-rule-statement">statement</a></em>} [<em><a href="#grammar-rule-semis">semis</a></em>]]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-statement" class="grammar-rule">
<dl>
<dt><strong><em>statement</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-label">label</a></em> | <em><a href="#grammar-rule-annotation">annotation</a></em>} (<em><a href="#grammar-rule-declaration">declaration</a></em> | <em><a href="#grammar-rule-assignment">assignment</a></em> | <em><a href="#grammar-rule-loopStatement">loopStatement</a></em> | <em><a href="#grammar-rule-expression">expression</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-label" class="grammar-rule">
<dl>
<dt><strong><em>label</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> (<em><a href="#grammar-rule-AT_NO_WS">AT_NO_WS</a></em> | <em><a href="#grammar-rule-AT_POST_WS">AT_POST_WS</a></em>) {<em><a href="#grammar-rule-NL">NL</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-controlStructureBody" class="grammar-rule">
<dl>
<dt><strong><em>controlStructureBody</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-block">block</a></em><br />
| <em><a href="#grammar-rule-statement">statement</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-block" class="grammar-rule">
<dl>
<dt><strong><em>block</em>:</strong></dt>
<dd><span class="sentence"><code>'{'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-statements">statements</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-loopStatement" class="grammar-rule">
<dl>
<dt><strong><em>loopStatement</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-forStatement">forStatement</a></em><br />
| <em><a href="#grammar-rule-whileStatement">whileStatement</a></em><br />
| <em><a href="#grammar-rule-doWhileStatement">doWhileStatement</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-forStatement" class="grammar-rule">
<dl>
<dt><strong><em>forStatement</em>:</strong></dt>
<dd><span class="sentence"><code>'for'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'('</code><br />
{<em><a href="#grammar-rule-annotation">annotation</a></em>}<br />
(<em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em> | <em><a href="#grammar-rule-multiVariableDeclaration">multiVariableDeclaration</a></em>)<br />
<em><a href="#grammar-rule-IN">IN</a></em><br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
<code>')'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-whileStatement" class="grammar-rule">
<dl>
<dt><strong><em>whileStatement</em>:</strong></dt>
<dd><span class="sentence">(<code>'while'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> <em><a href="#grammar-rule-expression">expression</a></em> <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>)<br />
| (<code>'while'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> <em><a href="#grammar-rule-expression">expression</a></em> <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>';'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-doWhileStatement" class="grammar-rule">
<dl>
<dt><strong><em>doWhileStatement</em>:</strong></dt>
<dd><span class="sentence"><code>'do'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'while'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'('</code><br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-assignment" class="grammar-rule">
<dl>
<dt><strong><em>assignment</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-directlyAssignableExpression">directlyAssignableExpression</a></em> <code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)<br />
| (<em><a href="#grammar-rule-assignableExpression">assignableExpression</a></em> <em><a href="#grammar-rule-assignmentAndOperator">assignmentAndOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-semi" class="grammar-rule">
<dl>
<dt><strong><em>semi</em>:</strong></dt>
<dd><span class="sentence">((<code>';'</code> | <em><a href="#grammar-rule-NL">NL</a></em>) {<em><a href="#grammar-rule-NL">NL</a></em>})<br />
| <em><a href="#grammar-rule-EOF">EOF</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-semis" class="grammar-rule">
<dl>
<dt><strong><em>semis</em>:</strong></dt>
<dd><span class="sentence">(<code>';'</code> | <em><a href="#grammar-rule-NL">NL</a></em> {<code>';'</code> | <em><a href="#grammar-rule-NL">NL</a></em>})<br />
| <em><a href="#grammar-rule-EOF">EOF</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-expression" class="grammar-rule">
<dl>
<dt><strong><em>expression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-disjunction">disjunction</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-disjunction" class="grammar-rule">
<dl>
<dt><strong><em>disjunction</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-conjunction">conjunction</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'||'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-conjunction">conjunction</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-conjunction" class="grammar-rule">
<dl>
<dt><strong><em>conjunction</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-equality">equality</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'&amp;&amp;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-equality">equality</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-equality" class="grammar-rule">
<dl>
<dt><strong><em>equality</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-comparison">comparison</a></em> {<em><a href="#grammar-rule-equalityOperator">equalityOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-comparison">comparison</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-comparison" class="grammar-rule">
<dl>
<dt><strong><em>comparison</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-infixOperation">infixOperation</a></em> [<em><a href="#grammar-rule-comparisonOperator">comparisonOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-infixOperation">infixOperation</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-infixOperation" class="grammar-rule">
<dl>
<dt><strong><em>infixOperation</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-elvisExpression">elvisExpression</a></em> {(<em><a href="#grammar-rule-inOperator">inOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-elvisExpression">elvisExpression</a></em>) | (<em><a href="#grammar-rule-isOperator">isOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>)}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-elvisExpression" class="grammar-rule">
<dl>
<dt><strong><em>elvisExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-infixFunctionCall">infixFunctionCall</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-elvis">elvis</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-infixFunctionCall">infixFunctionCall</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-elvis" class="grammar-rule">
<dl>
<dt><strong><em>elvis</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-QUEST_NO_WS">QUEST_NO_WS</a></em> <code>':'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-infixFunctionCall" class="grammar-rule">
<dl>
<dt><strong><em>infixFunctionCall</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-rangeExpression">rangeExpression</a></em> {<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-rangeExpression">rangeExpression</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-rangeExpression" class="grammar-rule">
<dl>
<dt><strong><em>rangeExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-additiveExpression">additiveExpression</a></em> {<code>'..'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-additiveExpression">additiveExpression</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-additiveExpression" class="grammar-rule">
<dl>
<dt><strong><em>additiveExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-multiplicativeExpression">multiplicativeExpression</a></em> {<em><a href="#grammar-rule-additiveOperator">additiveOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-multiplicativeExpression">multiplicativeExpression</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiplicativeExpression" class="grammar-rule">
<dl>
<dt><strong><em>multiplicativeExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-asExpression">asExpression</a></em> {<em><a href="#grammar-rule-multiplicativeOperator">multiplicativeOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-asExpression">asExpression</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-asExpression" class="grammar-rule">
<dl>
<dt><strong><em>asExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-prefixUnaryExpression">prefixUnaryExpression</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-asOperator">asOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-prefixUnaryExpression" class="grammar-rule">
<dl>
<dt><strong><em>prefixUnaryExpression</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-unaryPrefix">unaryPrefix</a></em>} <em><a href="#grammar-rule-postfixUnaryExpression">postfixUnaryExpression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-unaryPrefix" class="grammar-rule">
<dl>
<dt><strong><em>unaryPrefix</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-annotation">annotation</a></em><br />
| <em><a href="#grammar-rule-label">label</a></em><br />
| (<em><a href="#grammar-rule-prefixUnaryOperator">prefixUnaryOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>})</span>
</dd>
</dl>
</div>
<div id="grammar-rule-postfixUnaryExpression" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnaryExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em><br />
| (<em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em> (<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em> {<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em>}))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-postfixUnarySuffix" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnarySuffix</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-postfixUnaryOperator">postfixUnaryOperator</a></em><br />
| <em><a href="#grammar-rule-typeArguments">typeArguments</a></em><br />
| <em><a href="#grammar-rule-callSuffix">callSuffix</a></em><br />
| <em><a href="#grammar-rule-indexingSuffix">indexingSuffix</a></em><br />
| <em><a href="#grammar-rule-navigationSuffix">navigationSuffix</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-directlyAssignableExpression" class="grammar-rule">
<dl>
<dt><strong><em>directlyAssignableExpression</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-postfixUnaryExpression">postfixUnaryExpression</a></em> <em><a href="#grammar-rule-assignableSuffix">assignableSuffix</a></em>)<br />
| <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
| <em><a href="#grammar-rule-parenthesizedDirectlyAssignableExpression">parenthesizedDirectlyAssignableExpression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-parenthesizedDirectlyAssignableExpression" class="grammar-rule">
<dl>
<dt><strong><em>parenthesizedDirectlyAssignableExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-directlyAssignableExpression">directlyAssignableExpression</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-assignableExpression" class="grammar-rule">
<dl>
<dt><strong><em>assignableExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-prefixUnaryExpression">prefixUnaryExpression</a></em><br />
| <em><a href="#grammar-rule-parenthesizedAssignableExpression">parenthesizedAssignableExpression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-parenthesizedAssignableExpression" class="grammar-rule">
<dl>
<dt><strong><em>parenthesizedAssignableExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-assignableExpression">assignableExpression</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-assignableSuffix" class="grammar-rule">
<dl>
<dt><strong><em>assignableSuffix</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-typeArguments">typeArguments</a></em><br />
| <em><a href="#grammar-rule-indexingSuffix">indexingSuffix</a></em><br />
| <em><a href="#grammar-rule-navigationSuffix">navigationSuffix</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-indexingSuffix" class="grammar-rule">
<dl>
<dt><strong><em>indexingSuffix</em>:</strong></dt>
<dd><span class="sentence"><code>'['</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
{{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>']'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-navigationSuffix" class="grammar-rule">
<dl>
<dt><strong><em>navigationSuffix</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-memberAccessOperator">memberAccessOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> | <em><a href="#grammar-rule-parenthesizedExpression">parenthesizedExpression</a></em> | <code>'class'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-callSuffix" class="grammar-rule">
<dl>
<dt><strong><em>callSuffix</em>:</strong></dt>
<dd><span class="sentence">([<em><a href="#grammar-rule-typeArguments">typeArguments</a></em>] [<em><a href="#grammar-rule-valueArguments">valueArguments</a></em>] <em><a href="#grammar-rule-annotatedLambda">annotatedLambda</a></em>)<br />
| ([<em><a href="#grammar-rule-typeArguments">typeArguments</a></em>] <em><a href="#grammar-rule-valueArguments">valueArguments</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-annotatedLambda" class="grammar-rule">
<dl>
<dt><strong><em>annotatedLambda</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-annotation">annotation</a></em>} [<em><a href="#grammar-rule-label">label</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-lambdaLiteral">lambdaLiteral</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeArguments" class="grammar-rule">
<dl>
<dt><strong><em>typeArguments</em>:</strong></dt>
<dd><span class="sentence"><code>'&lt;'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-typeProjection">typeProjection</a></em><br />
{{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeProjection">typeProjection</a></em>}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'&gt;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-valueArguments" class="grammar-rule">
<dl>
<dt><strong><em>valueArguments</em>:</strong></dt>
<dd><span class="sentence">(<code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code>)<br />
| (<code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-valueArgument">valueArgument</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-valueArgument">valueArgument</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-valueArgument" class="grammar-rule">
<dl>
<dt><strong><em>valueArgument</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-annotation">annotation</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>}]<br />
[<code>'*'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-expression">expression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-primaryExpression" class="grammar-rule">
<dl>
<dt><strong><em>primaryExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-parenthesizedExpression">parenthesizedExpression</a></em><br />
| <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
| <em><a href="#grammar-rule-literalConstant">literalConstant</a></em><br />
| <em><a href="#grammar-rule-stringLiteral">stringLiteral</a></em><br />
| <em><a href="#grammar-rule-callableReference">callableReference</a></em><br />
| <em><a href="#grammar-rule-functionLiteral">functionLiteral</a></em><br />
| <em><a href="#grammar-rule-objectLiteral">objectLiteral</a></em><br />
| <em><a href="#grammar-rule-collectionLiteral">collectionLiteral</a></em><br />
| <em><a href="#grammar-rule-thisExpression">thisExpression</a></em><br />
| <em><a href="#grammar-rule-superExpression">superExpression</a></em><br />
| <em><a href="#grammar-rule-ifExpression">ifExpression</a></em><br />
| <em><a href="#grammar-rule-whenExpression">whenExpression</a></em><br />
| <em><a href="#grammar-rule-tryExpression">tryExpression</a></em><br />
| <em><a href="#grammar-rule-jumpExpression">jumpExpression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-parenthesizedExpression" class="grammar-rule">
<dl>
<dt><strong><em>parenthesizedExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'('</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-collectionLiteral" class="grammar-rule">
<dl>
<dt><strong><em>collectionLiteral</em>:</strong></dt>
<dd><span class="sentence">(<code>'['</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} <code>']'</code>)<br />
| (<code>'['</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>']'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-literalConstant" class="grammar-rule">
<dl>
<dt><strong><em>literalConstant</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-BooleanLiteral">BooleanLiteral</a></em><br />
| <em><a href="#grammar-rule-IntegerLiteral">IntegerLiteral</a></em><br />
| <em><a href="#grammar-rule-HexLiteral">HexLiteral</a></em><br />
| <em><a href="#grammar-rule-BinLiteral">BinLiteral</a></em><br />
| <em><a href="#grammar-rule-CharacterLiteral">CharacterLiteral</a></em><br />
| <em><a href="#grammar-rule-RealLiteral">RealLiteral</a></em><br />
| <em><a href="#grammar-rule-NullLiteral">NullLiteral</a></em><br />
| <em><a href="#grammar-rule-LongLiteral">LongLiteral</a></em><br />
| <em><a href="#grammar-rule-UnsignedLiteral">UnsignedLiteral</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-stringLiteral" class="grammar-rule">
<dl>
<dt><strong><em>stringLiteral</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-lineStringLiteral">lineStringLiteral</a></em><br />
| <em><a href="#grammar-rule-multiLineStringLiteral">multiLineStringLiteral</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-lineStringLiteral" class="grammar-rule">
<dl>
<dt><strong><em>lineStringLiteral</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-QUOTE_OPEN">QUOTE_OPEN</a></em> {<em><a href="#grammar-rule-lineStringContent">lineStringContent</a></em> | <em><a href="#grammar-rule-lineStringExpression">lineStringExpression</a></em>} <em><a href="#grammar-rule-QUOTE_CLOSE">QUOTE_CLOSE</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiLineStringLiteral" class="grammar-rule">
<dl>
<dt><strong><em>multiLineStringLiteral</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-TRIPLE_QUOTE_OPEN">TRIPLE_QUOTE_OPEN</a></em> {<em><a href="#grammar-rule-multiLineStringContent">multiLineStringContent</a></em> | <em><a href="#grammar-rule-multiLineStringExpression">multiLineStringExpression</a></em> | <em><a href="#grammar-rule-MultiLineStringQuote">MultiLineStringQuote</a></em>} <em><a href="#grammar-rule-TRIPLE_QUOTE_CLOSE">TRIPLE_QUOTE_CLOSE</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-lineStringContent" class="grammar-rule">
<dl>
<dt><strong><em>lineStringContent</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-LineStrText">LineStrText</a></em><br />
| <em><a href="#grammar-rule-LineStrEscapedChar">LineStrEscapedChar</a></em><br />
| <em><a href="#grammar-rule-LineStrRef">LineStrRef</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-lineStringExpression" class="grammar-rule">
<dl>
<dt><strong><em>lineStringExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-LineStrExprStart">LineStrExprStart</a></em> <em><a href="#grammar-rule-expression">expression</a></em> <code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiLineStringContent" class="grammar-rule">
<dl>
<dt><strong><em>multiLineStringContent</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-MultiLineStrText">MultiLineStrText</a></em><br />
| <em><a href="#grammar-rule-MultiLineStringQuote">MultiLineStringQuote</a></em><br />
| <em><a href="#grammar-rule-MultiLineStrRef">MultiLineStrRef</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiLineStringExpression" class="grammar-rule">
<dl>
<dt><strong><em>multiLineStringExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-MultiLineStrExprStart">MultiLineStrExprStart</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-lambdaLiteral" class="grammar-rule">
<dl>
<dt><strong><em>lambdaLiteral</em>:</strong></dt>
<dd><span class="sentence">(<code>'{'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-statements">statements</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'}'</code>)<br />
| (<code>'{'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-lambdaParameters">lambdaParameters</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'-&gt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-statements">statements</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'}'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-lambdaParameters" class="grammar-rule">
<dl>
<dt><strong><em>lambdaParameters</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-lambdaParameter">lambdaParameter</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-lambdaParameter">lambdaParameter</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-lambdaParameter" class="grammar-rule">
<dl>
<dt><strong><em>lambdaParameter</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em><br />
| (<em><a href="#grammar-rule-multiVariableDeclaration">multiVariableDeclaration</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>])</span>
</dd>
</dl>
</div>
<div id="grammar-rule-anonymousFunction" class="grammar-rule">
<dl>
<dt><strong><em>anonymousFunction</em>:</strong></dt>
<dd><span class="sentence"><code>'fun'</code><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-parametersWithOptionalType">parametersWithOptionalType</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-functionBody">functionBody</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionLiteral" class="grammar-rule">
<dl>
<dt><strong><em>functionLiteral</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-lambdaLiteral">lambdaLiteral</a></em><br />
| <em><a href="#grammar-rule-anonymousFunction">anonymousFunction</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-objectLiteral" class="grammar-rule">
<dl>
<dt><strong><em>objectLiteral</em>:</strong></dt>
<dd><span class="sentence">(<code>'object'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifiers">delegationSpecifiers</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>)<br />
| (<code>'object'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-thisExpression" class="grammar-rule">
<dl>
<dt><strong><em>thisExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'this'</code><br />
| <em><a href="#grammar-rule-THIS_AT">THIS_AT</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-superExpression" class="grammar-rule">
<dl>
<dt><strong><em>superExpression</em>:</strong></dt>
<dd><span class="sentence">(<code>'super'</code> [<code>'&lt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'&gt;'</code>] [<em><a href="#grammar-rule-AT_NO_WS">AT_NO_WS</a></em> <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em>])<br />
| <em><a href="#grammar-rule-SUPER_AT">SUPER_AT</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-ifExpression" class="grammar-rule">
<dl>
<dt><strong><em>ifExpression</em>:</strong></dt>
<dd><span class="sentence">(<code>'if'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> | <code>';'</code>))<br />
| (<code>'if'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} [<code>';'</code>] {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'else'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> | <code>';'</code>))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-whenExpression" class="grammar-rule">
<dl>
<dt><strong><em>whenExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'when'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<code>'('</code> <em><a href="#grammar-rule-expression">expression</a></em> <code>')'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'{'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
{<em><a href="#grammar-rule-whenEntry">whenEntry</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>}}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-whenEntry" class="grammar-rule">
<dl>
<dt><strong><em>whenEntry</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-whenCondition">whenCondition</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-whenCondition">whenCondition</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'-&gt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> [<em><a href="#grammar-rule-semi">semi</a></em>])<br />
| (<code>'else'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'-&gt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> [<em><a href="#grammar-rule-semi">semi</a></em>])</span>
</dd>
</dl>
</div>
<div id="grammar-rule-whenCondition" class="grammar-rule">
<dl>
<dt><strong><em>whenCondition</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-expression">expression</a></em><br />
| <em><a href="#grammar-rule-rangeTest">rangeTest</a></em><br />
| <em><a href="#grammar-rule-typeTest">typeTest</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-rangeTest" class="grammar-rule">
<dl>
<dt><strong><em>rangeTest</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-inOperator">inOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeTest" class="grammar-rule">
<dl>
<dt><strong><em>typeTest</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-isOperator">isOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-tryExpression" class="grammar-rule">
<dl>
<dt><strong><em>tryExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'try'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-block">block</a></em> ((({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-catchBlock">catchBlock</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-catchBlock">catchBlock</a></em>}) [{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-finallyBlock">finallyBlock</a></em>]) | ({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-finallyBlock">finallyBlock</a></em>))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-catchBlock" class="grammar-rule">
<dl>
<dt><strong><em>catchBlock</em>:</strong></dt>
<dd><span class="sentence"><code>'catch'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'('</code><br />
{<em><a href="#grammar-rule-annotation">annotation</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
<code>':'</code><br />
<em><a href="#grammar-rule-type">type</a></em><br />
<code>')'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-block">block</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-finallyBlock" class="grammar-rule">
<dl>
<dt><strong><em>finallyBlock</em>:</strong></dt>
<dd><span class="sentence"><code>'finally'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-block">block</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-jumpExpression" class="grammar-rule">
<dl>
<dt><strong><em>jumpExpression</em>:</strong></dt>
<dd><span class="sentence">(<code>'throw'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)<br />
| ((<code>'return'</code> | <em><a href="#grammar-rule-RETURN_AT">RETURN_AT</a></em>) [<em><a href="#grammar-rule-expression">expression</a></em>])<br />
| <code>'continue'</code><br />
| <em><a href="#grammar-rule-CONTINUE_AT">CONTINUE_AT</a></em><br />
| <code>'break'</code><br />
| <em><a href="#grammar-rule-BREAK_AT">BREAK_AT</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-callableReference" class="grammar-rule">
<dl>
<dt><strong><em>callableReference</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-receiverType">receiverType</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'::'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
(<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> | <code>'class'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-assignmentAndOperator" class="grammar-rule">
<dl>
<dt><strong><em>assignmentAndOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'+='</code><br />
| <code>'-='</code><br />
| <code>'*='</code><br />
| <code>'/='</code><br />
| <code>'%='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-equalityOperator" class="grammar-rule">
<dl>
<dt><strong><em>equalityOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'!='</code><br />
| <code>'!=='</code><br />
| <code>'=='</code><br />
| <code>'==='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-comparisonOperator" class="grammar-rule">
<dl>
<dt><strong><em>comparisonOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'&lt;'</code><br />
| <code>'&gt;'</code><br />
| <code>'&lt;='</code><br />
| <code>'&gt;='</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-inOperator" class="grammar-rule">
<dl>
<dt><strong><em>inOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'in'</code><br />
| <em><a href="#grammar-rule-NOT_IN">NOT_IN</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-isOperator" class="grammar-rule">
<dl>
<dt><strong><em>isOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'is'</code><br />
| <em><a href="#grammar-rule-NOT_IS">NOT_IS</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-additiveOperator" class="grammar-rule">
<dl>
<dt><strong><em>additiveOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'+'</code><br />
| <code>'-'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiplicativeOperator" class="grammar-rule">
<dl>
<dt><strong><em>multiplicativeOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'*'</code><br />
| <code>'/'</code><br />
| <code>'%'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-asOperator" class="grammar-rule">
<dl>
<dt><strong><em>asOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'as'</code><br />
| <code>'as?'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-prefixUnaryOperator" class="grammar-rule">
<dl>
<dt><strong><em>prefixUnaryOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'++'</code><br />
| <code>'--'</code><br />
| <code>'-'</code><br />
| <code>'+'</code><br />
| <em><a href="#grammar-rule-excl">excl</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-postfixUnaryOperator" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnaryOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'++'</code><br />
| <code>'--'</code><br />
| (<em><a href="#grammar-rule-EXCL_NO_WS">EXCL_NO_WS</a></em> <em><a href="#grammar-rule-excl">excl</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-excl" class="grammar-rule">
<dl>
<dt><strong><em>excl</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-EXCL_NO_WS">EXCL_NO_WS</a></em><br />
| <em><a href="#grammar-rule-EXCL_WS">EXCL_WS</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-memberAccessOperator" class="grammar-rule">
<dl>
<dt><strong><em>memberAccessOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'.'</code><br />
| <em><a href="#grammar-rule-safeNav">safeNav</a></em><br />
| <code>'::'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-safeNav" class="grammar-rule">
<dl>
<dt><strong><em>safeNav</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-QUEST_NO_WS">QUEST_NO_WS</a></em> <code>'.'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-modifiers" class="grammar-rule">
<dl>
<dt><strong><em>modifiers</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-annotation">annotation</a></em> | <em><a href="#grammar-rule-modifier">modifier</a></em> {<em><a href="#grammar-rule-annotation">annotation</a></em> | <em><a href="#grammar-rule-modifier">modifier</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-parameterModifiers" class="grammar-rule">
<dl>
<dt><strong><em>parameterModifiers</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-annotation">annotation</a></em> | <em><a href="#grammar-rule-parameterModifier">parameterModifier</a></em> {<em><a href="#grammar-rule-annotation">annotation</a></em> | <em><a href="#grammar-rule-parameterModifier">parameterModifier</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-modifier" class="grammar-rule">
<dl>
<dt><strong><em>modifier</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-classModifier">classModifier</a></em> | <em><a href="#grammar-rule-memberModifier">memberModifier</a></em> | <em><a href="#grammar-rule-visibilityModifier">visibilityModifier</a></em> | <em><a href="#grammar-rule-functionModifier">functionModifier</a></em> | <em><a href="#grammar-rule-propertyModifier">propertyModifier</a></em> | <em><a href="#grammar-rule-inheritanceModifier">inheritanceModifier</a></em> | <em><a href="#grammar-rule-parameterModifier">parameterModifier</a></em> | <em><a href="#grammar-rule-platformModifier">platformModifier</a></em>) {<em><a href="#grammar-rule-NL">NL</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeModifiers" class="grammar-rule">
<dl>
<dt><strong><em>typeModifiers</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-typeModifier">typeModifier</a></em> {<em><a href="#grammar-rule-typeModifier">typeModifier</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeModifier" class="grammar-rule">
<dl>
<dt><strong><em>typeModifier</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-annotation">annotation</a></em><br />
| (<code>'suspend'</code> {<em><a href="#grammar-rule-NL">NL</a></em>})</span>
</dd>
</dl>
</div>
<div id="grammar-rule-classModifier" class="grammar-rule">
<dl>
<dt><strong><em>classModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'enum'</code><br />
| <code>'sealed'</code><br />
| <code>'annotation'</code><br />
| <code>'data'</code><br />
| <code>'inner'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-memberModifier" class="grammar-rule">
<dl>
<dt><strong><em>memberModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'override'</code><br />
| <code>'lateinit'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-visibilityModifier" class="grammar-rule">
<dl>
<dt><strong><em>visibilityModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'public'</code><br />
| <code>'private'</code><br />
| <code>'internal'</code><br />
| <code>'protected'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-varianceModifier" class="grammar-rule">
<dl>
<dt><strong><em>varianceModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'in'</code><br />
| <code>'out'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeParameterModifiers" class="grammar-rule">
<dl>
<dt><strong><em>typeParameterModifiers</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-typeParameterModifier">typeParameterModifier</a></em> {<em><a href="#grammar-rule-typeParameterModifier">typeParameterModifier</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeParameterModifier" class="grammar-rule">
<dl>
<dt><strong><em>typeParameterModifier</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-reificationModifier">reificationModifier</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>})<br />
| (<em><a href="#grammar-rule-varianceModifier">varianceModifier</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>})<br />
| <em><a href="#grammar-rule-annotation">annotation</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionModifier" class="grammar-rule">
<dl>
<dt><strong><em>functionModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'tailrec'</code><br />
| <code>'operator'</code><br />
| <code>'infix'</code><br />
| <code>'inline'</code><br />
| <code>'external'</code><br />
| <code>'suspend'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-propertyModifier" class="grammar-rule">
<dl>
<dt><strong><em>propertyModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'const'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-inheritanceModifier" class="grammar-rule">
<dl>
<dt><strong><em>inheritanceModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'abstract'</code><br />
| <code>'final'</code><br />
| <code>'open'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-parameterModifier" class="grammar-rule">
<dl>
<dt><strong><em>parameterModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'vararg'</code><br />
| <code>'noinline'</code><br />
| <code>'crossinline'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-reificationModifier" class="grammar-rule">
<dl>
<dt><strong><em>reificationModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'reified'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-platformModifier" class="grammar-rule">
<dl>
<dt><strong><em>platformModifier</em>:</strong></dt>
<dd><span class="sentence"><code>'expect'</code><br />
| <code>'actual'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-annotation" class="grammar-rule">
<dl>
<dt><strong><em>annotation</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-singleAnnotation">singleAnnotation</a></em> | <em><a href="#grammar-rule-multiAnnotation">multiAnnotation</a></em>) {<em><a href="#grammar-rule-NL">NL</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-singleAnnotation" class="grammar-rule">
<dl>
<dt><strong><em>singleAnnotation</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-annotationUseSiteTarget">annotationUseSiteTarget</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em>)<br />
| ((<em><a href="#grammar-rule-AT_NO_WS">AT_NO_WS</a></em> | <em><a href="#grammar-rule-AT_PRE_WS">AT_PRE_WS</a></em>) <em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiAnnotation" class="grammar-rule">
<dl>
<dt><strong><em>multiAnnotation</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-annotationUseSiteTarget">annotationUseSiteTarget</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'['</code> (<em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em> {<em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em>}) <code>']'</code>)<br />
| ((<em><a href="#grammar-rule-AT_NO_WS">AT_NO_WS</a></em> | <em><a href="#grammar-rule-AT_PRE_WS">AT_PRE_WS</a></em>) <code>'['</code> (<em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em> {<em><a href="#grammar-rule-unescapedAnnotation">unescapedAnnotation</a></em>}) <code>']'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-annotationUseSiteTarget" class="grammar-rule">
<dl>
<dt><strong><em>annotationUseSiteTarget</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-AT_NO_WS">AT_NO_WS</a></em> | <em><a href="#grammar-rule-AT_PRE_WS">AT_PRE_WS</a></em>) (<code>'field'</code> | <code>'property'</code> | <code>'get'</code> | <code>'set'</code> | <code>'receiver'</code> | <code>'param'</code> | <code>'setparam'</code> | <code>'delegate'</code>) {<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-unescapedAnnotation" class="grammar-rule">
<dl>
<dt><strong><em>unescapedAnnotation</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-constructorInvocation">constructorInvocation</a></em><br />
| <em><a href="#grammar-rule-userType">userType</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-simpleIdentifier" class="grammar-rule">
<dl>
<dt><strong><em>simpleIdentifier</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-Identifier">Identifier</a></em><br />
| <code>'abstract'</code><br />
| <code>'annotation'</code><br />
| <code>'by'</code><br />
| <code>'catch'</code><br />
| <code>'companion'</code><br />
| <code>'constructor'</code><br />
| <code>'crossinline'</code><br />
| <code>'data'</code><br />
| <code>'dynamic'</code><br />
| <code>'enum'</code><br />
| <code>'external'</code><br />
| <code>'final'</code><br />
| <code>'finally'</code><br />
| <code>'get'</code><br />
| <code>'import'</code><br />
| <code>'infix'</code><br />
| <code>'init'</code><br />
| <code>'inline'</code><br />
| <code>'inner'</code><br />
| <code>'internal'</code><br />
| <code>'lateinit'</code><br />
| <code>'noinline'</code><br />
| <code>'open'</code><br />
| <code>'operator'</code><br />
| <code>'out'</code><br />
| <code>'override'</code><br />
| <code>'private'</code><br />
| <code>'protected'</code><br />
| <code>'public'</code><br />
| <code>'reified'</code><br />
| <code>'sealed'</code><br />
| <code>'tailrec'</code><br />
| <code>'set'</code><br />
| <code>'vararg'</code><br />
| <code>'where'</code><br />
| <code>'field'</code><br />
| <code>'property'</code><br />
| <code>'receiver'</code><br />
| <code>'param'</code><br />
| <code>'setparam'</code><br />
| <code>'delegate'</code><br />
| <code>'file'</code><br />
| <code>'expect'</code><br />
| <code>'actual'</code><br />
| <code>'const'</code><br />
| <code>'suspend'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-identifier" class="grammar-rule">
<dl>
<dt><strong><em>identifier</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code> <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em>}</span>
</dd>
</dl>
</div>
<h4 id="documentation-comments">Documentation comments</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin supports special comment syntax for code documentation purposes, called KDoc. </span><span class="sentence">The syntax is based on <a href="https://tools.ietf.org/html/rfc7763">Markdown</a> and <a href="https://www.oracle.com/java/technologies/javase/javadoc-tool.html">Javadoc</a>. </span><span class="sentence">Documentation comments start with <code>/**</code> and end with <code>*/</code> and allows external tools to generate documentation based on the comment contents.</span></p>
</div>
<h2 id="type-system">Type system</h2>
<h3 id="glossary-1">Glossary</h3>
<dl>
<dt><span class="math inline">\(T\)</span></dt>
<dd><span class="sentence">Type (with unknown nullability)</span>
</dd>
<dt><span class="math inline">\(T!!\)</span></dt>
<dd><span class="sentence"><a href="#nullable-types">Non-nullable type</a></span>
</dd>
<dt><span class="math inline">\(T?\)</span></dt>
<dd><span class="sentence"><a href="#nullable-types">Nullable type</a></span>
</dd>
<dt><span class="math inline">\(\{T\}\)</span></dt>
<dd><span class="sentence">Universe of all possible types</span>
</dd>
<dt><span class="math inline">\(\{T!!\}\)</span></dt>
<dd><span class="sentence">Universe of non-nullable types</span>
</dd>
<dt><span class="math inline">\(\{T?\}\)</span></dt>
<dd><span class="sentence">Universe of nullable types</span>
</dd>
<dt>Well-formed type</dt>
<dd><span class="sentence">A properly constructed type w.r.t. Kotlin type system</span>
</dd>
<dt><span class="math inline">\(\Gamma\)</span></dt>
<dd><span class="sentence">Type context</span>
</dd>
<dt><span class="math inline">\(A &lt;: B\)</span></dt>
<dd><span class="sentence">A is a subtype of B</span>
</dd>
<dt><span class="math inline">\(A \mathrel{\operatorname{\cancel{&lt;:&gt;}}}B\)</span></dt>
<dd><span class="sentence">A and B are not related w.r.t. subtyping</span>
</dd>
<dt>Type constructor</dt>
<dd><span class="sentence">An abstract type with one or more type parameters, which must be instantiated before use</span>
</dd>
<dt>Parameterized type</dt>
<dd><span class="sentence">A concrete type, which is the result of type constructor instantiation</span>
</dd>
<dt>Type parameter</dt>
<dd><span class="sentence">Formal type argument of a type constructor</span>
</dd>
<dt>Type argument</dt>
<dd><span class="sentence">Actual type argument in a parameterized type</span>
</dd>
<dt><span class="math inline">\(T\lbrack A_1, \ldots, A_n\rbrack\)</span></dt>
<dd><span class="sentence">The result of type constructor <span class="math inline">\(T\)</span> instantiation with type arguments <span class="math inline">\(A_i\)</span></span>
</dd>
<dt><span class="math inline">\(T\lbrack\sigma\rbrack\)</span></dt>
<dd><span class="sentence">The result of type constructor <span class="math inline">\(T(F_1, \ldots, F_n)\)</span> instantiation with the assumed substitution <span class="math inline">\(\sigma : F_1 = A_1, \ldots, F_n = A_n\)</span></span>
</dd>
<dt><span class="math inline">\(\sigma T\)</span></dt>
<dd><span class="sentence">The result of type substitution in type <span class="math inline">\(T\)</span> w.r.t. substitution <span class="math inline">\(\sigma\)</span></span>
</dd>
<dt><span class="math inline">\(K_T(F, A)\)</span></dt>
<dd><span class="sentence">Captured type from the <a href="#type-capturing">type capturing</a> of type parameter <span class="math inline">\(F\)</span> and type argument <span class="math inline">\(A\)</span> in parameterized type <span class="math inline">\(T\)</span></span>
</dd>
<dt><span class="math inline">\(T\langle K_1, \ldots, K_n\rangle\)</span></dt>
<dd><span class="sentence">The result of type capturing for parameterized type <span class="math inline">\(T\)</span> with <em>captured</em> types <span class="math inline">\(K_i\)</span></span>
</dd>
<dt><span class="math inline">\(T\langle \tau \rangle\)</span></dt>
<dd><span class="sentence">The result of type capturing for parameterized type <span class="math inline">\(T(F_1, \ldots, F_n)\)</span> with <em>captured</em> substitution <span class="math inline">\(\tau : F_1 = K_1, \ldots, F_n = K_n\)</span></span>
</dd>
<dt><span class="math inline">\(A \mathbin{\operatorname{\&amp;}}B\)</span></dt>
<dd><span class="sentence">Intersection type of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span></span>
</dd>
<dt><span class="math inline">\(A \mathbin{\operatorname{|}}B\)</span></dt>
<dd><span class="sentence">Union type of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span></span>
</dd>
<dt><span class="math inline">\(\operatorname{\text{GLB}}\)</span></dt>
<dd><span class="sentence">Greatest lower bound</span>
</dd>
<dt><span class="math inline">\(\operatorname{\text{LUB}}\)</span></dt>
<dd><span class="sentence">Least upper bound</span>
</dd>
</dl>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Not everything is in the glossary, make some criteria of what goes where)</span></p>
</div>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Cleanup glossary)</span></p>
</div>
</div>
<h3 id="introduction-1">Introduction</h3>
<div class="paragraph">
<p><span class="sentence">Similarly to most other programming languages, Kotlin operates on data in the form of <em>values</em> or <em>objects</em>, which have <em>types</em> â€” descriptions of what is the expected behaviour and possible values for their datum. </span><span class="sentence">An empty value is represented by a special <code>null</code> object; most operations with it result in runtime <a href="#exceptions">errors or exceptions</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin has a type system with the following main properties.</span></p>
</div>
<ul>
<li><span class="sentence">Hybrid static, gradual and flow type checking;</span></li>
<li><span class="sentence">Null safety;</span></li>
<li><span class="sentence">No unsafe implicit conversions;</span></li>
<li><span class="sentence">Unified top and bottom types;</span></li>
<li><span class="sentence">Nominal subtyping with bounded parametric polymorphism and mixed-site variance.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Type safety (consistency between compile and runtime types) is verified <em>statically</em>, at compile time, for the majority of Kotlin types. </span><span class="sentence">However, for better interoperability with platform-dependent code Kotlin also support a variant of <em>gradual types</em> in the form of <a href="#flexible-types">flexible types</a>. </span><span class="sentence">Even more so, in some cases the compile-time type of a value may <em>change</em> depending on the control- and data-flow of the program; a feature usually known as <em>flow typing</em>, represented in Kotlin as <a href="#smart-casts">smart casts</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Null safety is enforced by having two type universes: <em>nullable</em> (with nullable types <span class="math inline">\(T?\)</span>) and <em>non-nullable</em> (with non-nullable types <span class="math inline">\(T!!\)</span>). </span><span class="sentence">A value of any non-nullable type cannot contain <code>null</code>, meaning all operations within the non-nullable type universe are safe w.r.t. empty values, i.e., should never result in a runtime error caused by <code>null</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Implicit conversions between types in Kotlin are limited to safe upcasts w.r.t. subtyping, meaning all other (unsafe) conversions must be explicit, done via either a conversion function or an <a href="#cast-expression">explicit cast</a>. </span><span class="sentence">However, Kotlin also supports smart casts â€” a special kind of implicit conversions which are safe w.r.t. program control- and data-flow, which are covered in more detail <a href="#smart-casts">here</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The unified supertype type for all types in Kotlin is <span class="math inline">\(\operatorname{\texttt{kotlin.Any?}}\)</span>, a <a href="#nullable-types">nullable</a> version of <a href="#kotlin.any-1"><span class="math inline">\(\operatorname{\texttt{kotlin.Any}}\)</span></a>. </span><span class="sentence">The unified subtype type for all types in Kotlin is <a href="#kotlin.nothing-1"><span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span></a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin uses nominal subtyping, meaning subtyping relation is defined when a type is declared, with bounded parametric polymorphism, implemented as generics via <a href="#parameterized-classifier-types">parameterized types</a>. </span><span class="sentence">Subtyping between these parameterized types is defined through <a href="#mixed-site-variance">mixed-site variance</a>.</span></p>
</div>
<h3 id="type-kinds">Type kinds</h3>
<div class="paragraph">
<p><span class="sentence">For the purposes of this section, we establish the following type kinds â€” different flavours of types which exist in the Kotlin type system.</span></p>
</div>
<ul>
<li><span class="sentence"><a href="#built-in-types">Built-in types</a></span></li>
<li><span class="sentence"><a href="#classifier-types">Classifier types</a></span></li>
<li><span class="sentence"><a href="#type-parameters">Type parameters</a></span></li>
<li><span class="sentence"><a href="#function-types">Function types</a></span></li>
<li><span class="sentence"><a href="#array-types">Array types</a></span></li>
<li><span class="sentence"><a href="#flexible-types">Flexible types</a></span></li>
<li><span class="sentence"><a href="#nullable-types">Nullable types</a></span></li>
<li><span class="sentence"><a href="#intersection-types">Intersection types</a></span></li>
<li><span class="sentence"><a href="#union-types">Union types</a></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">We distinguish between <em>concrete</em> and <em>abstract</em> types. </span><span class="sentence">Concrete types are types which are assignable to values. </span><span class="sentence">Abstract types need to be instantiated as concrete types before they can be used as types for values.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for brevity, we omit specifying that a type is concrete. </span><span class="sentence">All types not described as abstract are implicitly concrete.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">We further distinguish <em>concrete</em> types between <em>class</em> and <em>interface</em> types; as Kotlin is a language with single inheritance, sometimes it is important to discriminate between these kinds of types. </span><span class="sentence">Any given concrete type may be either a class or an interface type, but never both.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">We also distinguish between <em>denotable</em> and <em>non-denotable</em> types. </span><span class="sentence">The former are types which are expressible in Kotlin and can be written by the end-user. </span><span class="sentence">The latter are special types which are <em>not</em> expressible in Kotlin and are used by the compiler in <a href="#type-inference">type inference</a>, <a href="#smart-casts">smart casts</a>, etc.</span></p>
</div>
<h4 id="built-in-types">Built-in types</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin type system uses the following built-in types, which have special semantics and representation (or lack thereof).</span></p>
</div>
<h5 id="kotlin.any"><code>kotlin.Any</code></h5>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\texttt{kotlin.Any}}\)</span> is the unified <a href="#subtyping">supertype</a> (<span class="math inline">\(\top\)</span>) for <span class="math inline">\(\{T!!\}\)</span>, i.e., all non-nullable types are subtypes of <span class="math inline">\(\operatorname{\texttt{kotlin.Any}}\)</span>, either explicitly, implicitly, or by <a href="#subtyping">subtyping relation</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: additional details about <span class="math inline">\(\operatorname{\texttt{kotlin.Any}}\)</span> are available <a href="#kotlin.any-1">here</a>.</span></p>
</div>
</blockquote>
<h5 id="kotlin.nothing"><code>kotlin.Nothing</code></h5>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> is the unified <a href="#subtyping">subtype</a> (<span class="math inline">\(\bot\)</span>) for <span class="math inline">\(\{T\}\)</span>, i.e., <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> is a subtype of all well-formed Kotlin types, including user-defined ones. </span><span class="sentence">This makes it an uninhabited type (as it is impossible for anything to be, for example, a function and an integer at the same time), meaning instances of this type can never exist at runtime; subsequently, there is no way to create an instance of <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> in Kotlin.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: additional details about <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> are available <a href="#kotlin.nothing-1">here</a>.</span></p>
</div>
</blockquote>
<h5 id="kotlin.function"><code>kotlin.Function</code></h5>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\texttt{kotlin.Function}}(R)\)</span> is the unified supertype of all <a href="#function-types">function types</a>. </span><span class="sentence">It is parameterized over function return type <code>R</code>.</span></p>
</div>
<h5 id="built-in-integer-types">Built-in integer types</h5>
<div class="paragraph">
<p><span class="sentence">Kotlin supports the following signed integer types.</span></p>
</div>
<ul>
<li><span class="sentence"><code>kotlin.Int</code></span></li>
<li><span class="sentence"><code>kotlin.Short</code></span></li>
<li><span class="sentence"><code>kotlin.Byte</code></span></li>
<li><span class="sentence"><code>kotlin.Long</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Besides their use as types, integer types are important w.r.t. <a href="#integer-literal-types">integer literal types</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: additional details about built-in integer types are available <a href="#built-in-integer-types-1">here</a>.</span></p>
</div>
</blockquote>
<h5 id="array-types">Array types</h5>
<div class="paragraph">
<p><span class="sentence">Kotlin arrays are represented as a <a href="#parameterized-classifier-types">parameterized type</a> <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(T)\)</span>, where <span class="math inline">\(T\)</span> is the type of the stored elements, which supports <code>get</code>/<code>set</code> operations. </span><span class="sentence">The <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(T)\)</span> type follows the rules of regular type constructors and parameterized types w.r.t. subtyping.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: unlike Java, arrays in Kotlin are declared as invariant. </span><span class="sentence">To use them in a co- or contravariant way, one should use <a href="#use-site-variance">use-site variance</a>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">In addition to the general <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(T)\)</span> type, Kotlin also has the following specialized array types:</span></p>
</div>
<ul>
<li><span class="sentence"><code>DoubleArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Double}})\)</span>)</span></li>
<li><span class="sentence"><code>FloatArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Float}})\)</span>)</span></li>
<li><span class="sentence"><code>LongArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Long}})\)</span>)</span></li>
<li><span class="sentence"><code>IntArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Int}})\)</span>)</span></li>
<li><span class="sentence"><code>ShortArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Short}})\)</span>)</span></li>
<li><span class="sentence"><code>ByteArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Byte}})\)</span>)</span></li>
<li><span class="sentence"><code>CharArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Char}})\)</span>)</span></li>
<li><span class="sentence"><code>BooleanArray</code> (for <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Boolean}})\)</span>)</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">These array types structurally match the corresponding <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(T)\)</span> type; i.e., <code>IntArray</code> has the same methods and properties as <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Int}})\)</span>. </span><span class="sentence">However, they are <strong>not</strong> related by subtyping; meaning one cannot pass a <code>BooleanArray</code> argument to a function expecting an <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{kotlin.Boolean}})\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the presence of such specialized types allows the compiler to perform additional array-related optimizations.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: specialized and non-specialized array types match modulo their iterator types, which are also specialized; <code>Iterator&lt;Int&gt;</code> is specialized to <code>IntIterator</code>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><em>Array type specialization</em> <span class="math inline">\(\operatorname{\text{ATS}}(A)\)</span> is a transformation of a generic <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(T)\)</span> type to a corresponding specialized version, which works as follows.</span></p>
</div>
<ul>
<li><span class="sentence">if <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(T)\)</span> has a specialized version <code>TArray</code>, <span class="math inline">\(\operatorname{\text{ATS}}(\operatorname{\texttt{kotlin.Array}}(T)) = \texttt{TArray}\)</span></span></li>
<li><span class="sentence">if <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(T)\)</span> does not have a specialized version, <span class="math inline">\(\operatorname{\text{ATS}}(\operatorname{\texttt{kotlin.Array}}(T)) = \operatorname{\texttt{kotlin.Array}}(T)\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\text{ATS}}\)</span> takes an important part in how <a href="#variable-length-parameters">variable length parameters</a> are handled.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: additional details about built-in array types are available <a href="#built-in-array-types-1">here</a>.</span></p>
</div>
</blockquote>
<h4 id="classifier-types">Classifier types</h4>
<div class="paragraph">
<p><span class="sentence">Classifier types represent regular types which are declared as <a href="#class-declaration">classes</a>, <a href="#interface-declaration">interfaces</a> or <a href="#object-declaration">objects</a>. </span><span class="sentence">As Kotlin supports parametric polymorphism, there are two variants of classifier types: simple and parameterized.</span></p>
</div>
<h5 id="simple-classifier-types">Simple classifier types</h5>
<div class="paragraph">
<p><span class="sentence">A simple classifier type</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[T : S_1, \ldots, S_m\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">consists of</span></p>
</div>
<ul>
<li><span class="sentence">type name <span class="math inline">\(T\)</span></span></li>
<li><span class="sentence">(optional) list of supertypes <span class="math inline">\(S_1, \ldots, S_m\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">To represent a well-formed simple classifier type, <span class="math inline">\(T : S_1, \ldots, S_m\)</span> should satisfy the following conditions.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(T\)</span> is a valid type name</span></li>
<li><span class="sentence"><span class="math inline">\(\forall i \in [1,m]: S_i\)</span> must be concrete, <a href="#nullable-types">non-nullable</a>, well-formed type</span></li>
<li><span class="sentence">the transitive closure <span class="math inline">\(\mathbb{S}^*(T)\)</span> of the set of type supertypes <span class="math inline">\(\mathbb{S}(T : S_1, \ldots, S_m) = \{S_1, \ldots, S_m\} \cup \mathbb{S}(S_1) \cup \ldots \cup \mathbb{S}(S_m)\)</span> is <em>consistent</em>, i.e., does not contain two <a href="#parameterized-classifier-types">parameterized types</a> with different type arguments.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// A well-formed type with no supertypes</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">interface</span> <span class="dt">Base</span></a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">// A well-formed type with a single supertype Base</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">interface</span> <span class="dt">Derived</span> <span class="op">:</span> <span class="dt">Base</span></a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">// An ill-formed type,</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">// as nullable type cannot be a supertype</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="kw">interface</span> <span class="dt">Invalid</span> <span class="op">:</span> <span class="dt">Base</span>?</a></code></pre></div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for the purpose of different type system examples, we assume the presence of the following well-formed concrete types:</span></p>
</div>
<ul>
<li><span class="sentence">class <code>String</code></span></li>
<li><span class="sentence">interface <code>Number</code></span></li>
<li><span class="sentence">class <code>Int</code> <span class="math inline">\(&lt;:\)</span> <code>Number</code></span></li>
<li><span class="sentence">class <code>Double</code> <span class="math inline">\(&lt;:\)</span> <code>Number</code></span></li>
</ul>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: <code>Number</code> is actually a built-in abstract class; we use it as an interface for illustrative purposes.</span></p>
</div>
</blockquote>
<h5 id="parameterized-classifier-types">Parameterized classifier types</h5>
<div class="paragraph">
<p><span class="sentence">A classifier type constructor</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[T(F_1, \ldots, F_n) : S_1, \ldots, S_m\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">describes an abstract type and consists of</span></p>
</div>
<ul>
<li><span class="sentence">type name <span class="math inline">\(T\)</span></span></li>
<li><span class="sentence">type parameters <span class="math inline">\(F_1, \ldots, F_n\)</span></span></li>
<li><span class="sentence">(optional) list of supertypes <span class="math inline">\(S_1, \ldots, S_m\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">To represent a well-formed type constructor, <span class="math inline">\(T(F_1, \ldots, F_n) : S_1, \ldots, S_m\)</span> should satisfy the following conditions.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(T\)</span> is a valid type name</span></li>
<li><span class="sentence"><span class="math inline">\(\forall i \in [1,n]: F_i\)</span> must be well-formed <a href="#type-parameters">type parameter</a></span></li>
<li><span class="sentence"><span class="math inline">\(\forall j \in [1,m]: S_j\)</span> must be concrete, <a href="#nullable-types">non-nullable</a>, well-formed type</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">To instantiate a type constructor, one provides it with type arguments, creating a concrete parameterized classifier type</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[T[A_1, \ldots, A_n]\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">which consists of</span></p>
</div>
<ul>
<li><span class="sentence">type constructor <span class="math inline">\(T\)</span></span></li>
<li><span class="sentence">type arguments <span class="math inline">\(A_1, \ldots, A_n\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">To represent a well-formed parameterized type, <span class="math inline">\(T[A_1, \ldots, A_n]\)</span> should satisfy the following conditions.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(T\)</span> is a well-formed type constructor with <span class="math inline">\(n\)</span> type parameters</span></li>
<li><span class="sentence"><span class="math inline">\(\forall i \in [1,n]: A_i\)</span> must be well-formed concrete type</span></li>
<li><span class="sentence"><span class="math inline">\(\forall i \in [1,n]:\)</span> variance of <span class="math inline">\(A_i\)</span> does not <a href="#use-site-variance">contradict</a> variance of <span class="math inline">\(F_i\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\forall i \in [1,n]: A_i &lt;: \tau U_i\)</span>, where <span class="math inline">\(U_i\)</span> is the upper bound for <span class="math inline">\(F_i\)</span> and captured substitution <span class="math inline">\(\tau : F_1 = K_1, \ldots, F_n = K_n\)</span> manipulates <a href="#type-capturing">captured types</a>.</span></li>
<li><span class="sentence">the transitive closure <span class="math inline">\(\mathbb{S}^*(T)\)</span> of the set of type supertypes <span class="math inline">\(\mathbb{S}(T\langle \tau \rangle : \tau S_1, \ldots, \tau S_m) = \{\tau S_1, \ldots, \tau S_m\} \cup \mathbb{S}(\tau S_1) \cup \ldots \cup \mathbb{S}(\tau S_m)\)</span> is <em>consistent</em>, i.e., does not contain two <a href="#parameterized-classifier-types">parameterized types</a> with different type arguments.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// A well-formed type constructor with no supertypes</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">// A and B are unbounded type parameters</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">interface</span> <span class="dt">Generic</span><span class="op">&lt;</span><span class="dt">A</span>, <span class="dt">B</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">// A well-formed type constructor</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">//   with a single parameterized supertype</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">// Int and String are well-formed concrete types</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="kw">interface</span> <span class="dt">ConcreteDerived</span><span class="op">&lt;</span><span class="dt">P</span>, <span class="dt">Q</span><span class="op">&gt;</span> <span class="op">:</span> <span class="dt">Generic</span><span class="op">&lt;</span><span class="dt">Int</span>, <span class="dt">String</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">// A well-formed type constructor</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">//   with a single parameterized supertype</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">// P and Q are type parameters of GenericDerived,</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">//   used as type arguments of Generic</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="kw">interface</span> <span class="dt">GenericDerived</span><span class="op">&lt;</span><span class="dt">P</span>, <span class="dt">Q</span><span class="op">&gt;</span> <span class="op">:</span> <span class="dt">Generic</span><span class="op">&lt;</span><span class="dt">P</span>, <span class="dt">Q</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">// An ill-formed type constructor,</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">//   as abstract type Generic</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">//   cannot be used as a supertype</span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="kw">interface</span> <span class="dt">Invalid</span><span class="op">&lt;</span><span class="dt">P</span><span class="op">&gt;</span> <span class="op">:</span> <span class="dt">Generic</span></a>
<a class="sourceLine" id="cb3-20" title="20"></a>
<a class="sourceLine" id="cb3-21" title="21"></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="co">// A well-formed type constructor with no supertypes</span></a>
<a class="sourceLine" id="cb3-23" title="23"><span class="co">// out A is a projected type parameter</span></a>
<a class="sourceLine" id="cb3-24" title="24"><span class="kw">interface</span> <span class="dt">Out</span><span class="op">&lt;</span><span class="kw">out</span> <span class="dt">A</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-25" title="25"></a>
<a class="sourceLine" id="cb3-26" title="26"></a>
<a class="sourceLine" id="cb3-27" title="27"><span class="co">// A well-formed type constructor with no supertypes</span></a>
<a class="sourceLine" id="cb3-28" title="28"><span class="co">// S : Number is a bounded type parameter</span></a>
<a class="sourceLine" id="cb3-29" title="29"><span class="co">// (S &lt;: Number)</span></a>
<a class="sourceLine" id="cb3-30" title="30"><span class="kw">interface</span> <span class="dt">NumberWrapper</span><span class="op">&lt;</span><span class="dt">S</span> <span class="op">:</span> <span class="dt">Number</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-31" title="31"></a>
<a class="sourceLine" id="cb3-32" title="32"><span class="co">// A well-formed type constructor</span></a>
<a class="sourceLine" id="cb3-33" title="33"><span class="co">//   with a single parameterized supertype</span></a>
<a class="sourceLine" id="cb3-34" title="34"><span class="co">// NumberWrapper&lt;Int&gt; is well-formed,</span></a>
<a class="sourceLine" id="cb3-35" title="35"><span class="co">//   as Int &lt;: Number</span></a>
<a class="sourceLine" id="cb3-36" title="36"><span class="kw">interface</span> <span class="dt">IntWrapper</span> <span class="op">:</span> <span class="dt">NumberWrapper</span><span class="op">&lt;</span><span class="dt">Int</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-37" title="37"></a>
<a class="sourceLine" id="cb3-38" title="38"><span class="co">// An ill-formed type constructor,</span></a>
<a class="sourceLine" id="cb3-39" title="39"><span class="co">//   as NumberWrapper&lt;String&gt; is an ill-formed parameterized type</span></a>
<a class="sourceLine" id="cb3-40" title="40"><span class="co">//   (String not(&lt;:&gt;) Number)</span></a>
<a class="sourceLine" id="cb3-41" title="41"><span class="kw">interface</span> <span class="dt">InvalidWrapper</span> <span class="op">:</span> <span class="dt">NumberWrapper</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;</span></a></code></pre></div>
</blockquote>
<h4 id="type-parameters">Type parameters</h4>
<div class="paragraph">
<p><span class="sentence">Type parameters are a special kind of types, which are introduced by type constructors. </span><span class="sentence">They are considered well-formed concrete types only in the type context of their declaring type constructor.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">When creating a parameterized type from a type constructor, its type parameters with their respective type arguments go through <a href="#type-capturing">capturing</a> and create <em>captured</em> types, which follow special rules described in more detail below.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Type parameters may be either unbounded or bounded. </span><span class="sentence">By default, a type parameter <span class="math inline">\(F\)</span> is unbounded, which is the same as saying it is a bounded type parameter of the form <span class="math inline">\(F &lt;: \operatorname{\texttt{kotlin.Any?}}\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A bounded type parameter additionally specifies upper type bounds for the type parameter and is defined as <span class="math inline">\(F &lt;: B_1, \ldots, B_n\)</span>, where <span class="math inline">\(B_i\)</span> is an i-th upper bound on type parameter <span class="math inline">\(F\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">To represent a well-formed bounded type parameter of type constructor <span class="math inline">\(T\)</span>, <span class="math inline">\(F &lt;: B_1, \ldots, B_n\)</span> should satisfy either of the following sets of conditions.</span></p>
</div>
<ul>
<li><span class="sentence">Bounded type parameter with regular bounds:</span>
<ul>
<li><span class="sentence"><span class="math inline">\(F\)</span> is a type parameter of type constructor <span class="math inline">\(T\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\forall i \in [1,n]: B_i\)</span> must be concrete, non-type-parameter, well-formed type</span></li>
<li><span class="sentence">No more than one of <span class="math inline">\(B_i\)</span> may be a class type</span></li>
</ul></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the last condition is a nod to the single inheritance nature of Kotlin: any type may be a subtype of no more than one class type. </span><span class="sentence">For any two class types, either these types are in a subtyping relation (and you should use the more specific type in the bounded type parameter), or they are unrelated (and the bounded type parameter is empty).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Actual support for multiple class type bounds would be needed only in very rare cases, such as the following example.</span></p>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">interface</span> <span class="dt">Foo</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">interface</span> <span class="dt">Bar</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">A</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="kw">class</span> <span class="dt">B</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="op">:</span> <span class="dt">A</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-6" title="6"></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="kw">class</span> <span class="dt">C</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="kw">where</span> T : A&lt;<span class="kw">out</span> Foo&gt;, T : B&lt;<span class="kw">out</span> Bar&gt;</a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">// A convoluted way of saying T &lt;: B&lt;out Foo &amp; Bar&gt;,</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">// which contains a non-denotable intersection type</span></a></code></pre></div>
</blockquote>
<ul>
<li><span class="sentence">Bounded type parameter with type parameter bound:</span>
<ul>
<li><span class="sentence"><span class="math inline">\(F\)</span> is a type parameter of type constructor <span class="math inline">\(T\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(i = 1\)</span> (i.e., there is a single upper bound)</span></li>
<li><span class="sentence"><span class="math inline">\(B_1\)</span> must be well-formed <a href="#type-parameters">type parameter</a></span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">From the definition, it follows <span class="math inline">\(F &lt;: B_1, \ldots, B_n\)</span> can be represented as <span class="math inline">\(F &lt;: U\)</span> where <span class="math inline">\(U = B_1 \mathbin{\operatorname{\&amp;}}\ldots \mathbin{\operatorname{\&amp;}}B_n\)</span> (aka <a href="#intersection-types">intersection type</a>).</span></p>
</div>
<h5 id="function-type-parameters">Function type parameters</h5>
<div class="paragraph">
<p><span class="sentence">Function type parameters are a flavor of type parameters, which are used in <a href="#function-declaration">function declarations</a> to create parameterized functions. </span><span class="sentence">They are considered well-formed concrete types only in the type context of their declaring function.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: one may view such parameterized functions as a kind of function type constructors.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Function type parameters work similarly to regular type parameters, however, they have the following limitations.</span></p>
</div>
<ul>
<li><span class="sentence">Function type parameters does not support specifying <a href="#mixed-site-variance">mixed-site variance</a>.</span></li>
<li><div class="TODO">
<span class="sentence">TODO(Anything else?)</span>
</div></li>
</ul>
<h5 id="mixed-site-variance">Mixed-site variance</h5>
<div class="paragraph">
<p><span class="sentence">To implement subtyping between parameterized types, Kotlin uses <em>mixed-site variance</em> â€” a combination of declaration- and use-site variance, which is easier to understand and reason about, compared to wildcards from Java. </span><span class="sentence">Mixed-site variance means you can specify, whether you want your parameterized type to be co-, contra- or invariant on some type parameter, both in type parameter (declaration-site) and type argument (use-site).</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Info: <em>variance</em> is a way of describing how <a href="#subtyping">subtyping</a> works for <em>variant</em> parameterized types. </span><span class="sentence">With declaration-site variance, for two <a href="#subtyping">non-equivalent</a> types <span class="math inline">\(A &lt;: B\)</span>, subtyping between <code>T&lt;A&gt;</code> and <code>T&lt;B&gt;</code> depends on the variance of type parameter <span class="math inline">\(F\)</span> for some type constructor <span class="math inline">\(T\)</span>.</span></p>
</div>
<ul>
<li><span class="sentence">if <span class="math inline">\(F\)</span> is covariant (<span class="math inline">\(\operatorname{\texttt{out\,}}F\)</span>), <code>T&lt;A&gt;</code> <span class="math inline">\(&lt;:\)</span> <code>T&lt;B&gt;</code></span></li>
<li><span class="sentence">if <span class="math inline">\(F\)</span> is contravariant(<span class="math inline">\(\operatorname{\texttt{in\,}}F\)</span>), <code>T&lt;A&gt;</code> <span class="math inline">\(:&gt;\)</span> <code>T&lt;B&gt;</code></span></li>
<li><span class="sentence">if <span class="math inline">\(F\)</span> is invariant (default), <code>T&lt;A&gt;</code> <span class="math inline">\(\mathrel{\operatorname{\cancel{&lt;:&gt;}}}\)</span> <code>T&lt;B&gt;</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Use-site variance allows the user to change the type variance of an <em>invariant</em> type parameter by specifying it on the corresponding type argument. </span><span class="sentence"><span class="math inline">\(\operatorname{\texttt{out\,}}A\)</span> means covariant type argument, <span class="math inline">\(\operatorname{\texttt{in\,}}A\)</span> means contravariant type argument; for two <a href="#subtyping">non-equivalent</a> types <span class="math inline">\(A &lt;: B\)</span> and an invariant type parameter <span class="math inline">\(F\)</span> of some type constructor <span class="math inline">\(T\)</span>, subtyping for use-site variance has the following rules.</span></p>
</div>
<ul>
<li><span class="sentence"><code>T&lt;out A&gt;</code> <span class="math inline">\(&lt;:\)</span> <code>T&lt;out B&gt;</code></span></li>
<li><span class="sentence"><code>T&lt;in A&gt;</code> <span class="math inline">\(:&gt;\)</span> <code>T&lt;in B&gt;</code></span></li>
<li><span class="sentence"><code>T&lt;A&gt;</code> <span class="math inline">\(&lt;:\)</span> <code>T&lt;out A&gt;</code></span></li>
<li><span class="sentence"><code>T&lt;A&gt;</code> <span class="math inline">\(&lt;:\)</span> <code>T&lt;in A&gt;</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Important: by the transitivity of the subtyping operator these rules imply that the following also holds:</span></p>
</div>
<ul>
<li><span class="sentence"><code>T&lt;A&gt;</code> <span class="math inline">\(&lt;:\)</span> <code>T&lt;out B&gt;</code></span></li>
<li><span class="sentence"><code>T&lt;in A&gt;</code> <span class="math inline">\(:&gt;\)</span> <code>T&lt;B&gt;</code></span></li>
</ul>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin does not support specifying both co- and contravariance at the same time, i.e., it is impossible to have <code>T&lt;out A in B&gt;</code> neither on declaration- nor on use-site.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: informally, covariant type parameter <span class="math inline">\(\operatorname{\texttt{out\,}}A\)</span> of type constructor <span class="math inline">\(T\)</span> means â€œ<span class="math inline">\(T\)</span> is a producer of <span class="math inline">\(A\)</span>s and gets them outâ€; contravariant type parameter <span class="math inline">\(\operatorname{\texttt{in\,}}A\)</span> of type constructor <span class="math inline">\(T\)</span> means â€œ<span class="math inline">\(T\)</span> is a consumer of <span class="math inline">\(A\)</span>s and takes them inâ€.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">For further discussion about mixed-site variance and its practical applications, we readdress you to <a href="#subtyping">subtyping</a>.</span></p>
</div>
<h5 id="declaration-site-variance">Declaration-site variance</h5>
<div class="paragraph">
<p><span class="sentence">A type parameter <span class="math inline">\(F\)</span> may be invariant, covariant or contravariant.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">By default, all type parameters are invariant.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">To specify a covariant type parameter, it is marked as <span class="math inline">\(\operatorname{\texttt{out\,}}F\)</span>. </span><span class="sentence">To specify a contravariant type parameter, it is marked as <span class="math inline">\(\operatorname{\texttt{in\,}}F\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The variance information is used by <a href="#subtyping">subtyping</a> and for checking allowed operations on values of co- and contravariant type parameters.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: declaration-site variance can be used only when declaring types, e.g., <a href="#function-type-parameters">function type parameters</a> cannot be variant.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb5-1" title="1"><span class="co">// A type constructor with an invariant type parameter</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">interface</span> <span class="dt">Invariant</span><span class="op">&lt;</span><span class="dt">A</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">// A type constructor with a covariant type parameter</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw">interface</span> <span class="dt">Out</span><span class="op">&lt;</span><span class="kw">out</span> <span class="dt">A</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">// A type constructor with a contravariant type parameter</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="kw">interface</span> <span class="dt">In</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">A</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb5-7" title="7"></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="kw">fun</span> <span class="fu">testInvariant</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-9" title="9">    <span class="kw">var</span> <span class="va">invInt</span><span class="op">:</span> <span class="dt">Invariant</span><span class="op">&lt;</span><span class="dt">Int</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb5-10" title="10">    <span class="kw">var</span> <span class="va">invNumber</span><span class="op">:</span> <span class="dt">Invariant</span><span class="op">&lt;</span><span class="dt">Number</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb5-11" title="11">    </a>
<a class="sourceLine" id="cb5-12" title="12">    <span class="cf">if</span> (random) invInt = invNumber <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb5-13" title="13">    <span class="cf">else</span> invNumber = invInt <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb5-14" title="14">    </a>
<a class="sourceLine" id="cb5-15" title="15">    <span class="co">// Invariant type parameters do not create subtyping</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-17" title="17"></a>
<a class="sourceLine" id="cb5-18" title="18"><span class="kw">fun</span> <span class="fu">testOut</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-19" title="19">    <span class="kw">var</span> <span class="va">outInt</span><span class="op">:</span> <span class="dt">Out</span><span class="op">&lt;</span><span class="dt">Int</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb5-20" title="20">    <span class="kw">var</span> <span class="va">outNumber</span><span class="op">:</span> <span class="dt">Out</span><span class="op">&lt;</span><span class="dt">Number</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb5-21" title="21">    </a>
<a class="sourceLine" id="cb5-22" title="22">    <span class="cf">if</span> (random) outInt = outNumber <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb5-23" title="23">    <span class="cf">else</span> outNumber = outInt <span class="co">// OK</span></a>
<a class="sourceLine" id="cb5-24" title="24">    </a>
<a class="sourceLine" id="cb5-25" title="25">    <span class="co">// Covariant type parameters create &quot;same-way&quot; subtyping</span></a>
<a class="sourceLine" id="cb5-26" title="26">    <span class="co">//   Int &lt;: Number =&gt; Out&lt;Int&gt; &lt;: Out&lt;Number&gt;</span></a>
<a class="sourceLine" id="cb5-27" title="27">    <span class="co">// (more specific type Out&lt;Int&gt; can be assigned</span></a>
<a class="sourceLine" id="cb5-28" title="28">    <span class="co">//  to a less specific type Out&lt;Number&gt;)</span></a>
<a class="sourceLine" id="cb5-29" title="29"><span class="op">}</span></a>
<a class="sourceLine" id="cb5-30" title="30"></a>
<a class="sourceLine" id="cb5-31" title="31"><span class="kw">fun</span> <span class="fu">testIn</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-32" title="32">    <span class="kw">var</span> <span class="va">inInt</span><span class="op">:</span> <span class="dt">In</span><span class="op">&lt;</span><span class="dt">Int</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb5-33" title="33">    <span class="kw">var</span> <span class="va">inNumber</span><span class="op">:</span> <span class="dt">In</span><span class="op">&lt;</span><span class="dt">Number</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb5-34" title="34">    </a>
<a class="sourceLine" id="cb5-35" title="35">    <span class="cf">if</span> (random) inInt = inNumber <span class="co">// OK</span></a>
<a class="sourceLine" id="cb5-36" title="36">    <span class="cf">else</span> inNumber = inInt <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb5-37" title="37">    </a>
<a class="sourceLine" id="cb5-38" title="38">    <span class="co">// Contravariant type parameters create &quot;opposite-way&quot; subtyping</span></a>
<a class="sourceLine" id="cb5-39" title="39">    <span class="co">//   Int &lt;: Number =&gt; In&lt;Int&gt; :&gt; In&lt;Number&gt;</span></a>
<a class="sourceLine" id="cb5-40" title="40">    <span class="co">// (more specific type In&lt;Number&gt; can be assigned</span></a>
<a class="sourceLine" id="cb5-41" title="41">    <span class="co">//  to a less specific type In&lt;Int&gt;)</span></a>
<a class="sourceLine" id="cb5-42" title="42"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h5 id="use-site-variance">Use-site variance</h5>
<div class="paragraph">
<p><span class="sentence">Kotlin also supports use-site variance, by specifying the variance for type arguments. </span><span class="sentence">Similarly to type parameters, one can have type arguments being co-, contra- or invariant.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: use-site variance cannot be used when declaring a supertype top-level type argument.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">By default, all type arguments are invariant.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">To specify a covariant type argument, it is marked as <span class="math inline">\(\operatorname{\texttt{out\,}}A\)</span>. </span><span class="sentence">To specify a contravariant type argument, it is marked as <span class="math inline">\(\operatorname{\texttt{in\,}}A\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin prohibits contradictory combinations of declaration- and use-site variance as follows.</span></p>
</div>
<ul>
<li><span class="sentence">It is a compile-time error to use a covariant type argument in a contravariant type parameter</span></li>
<li><span class="sentence">It is a compile-time error to use a contravariant type argument in a covariant type parameter</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In case one cannot specify any well-formed type argument, but still needs to use a parameterized type in a type-safe way, they may use <em>bivariant</em> type argument <span class="math inline">\(\star\)</span>, which is roughly equivalent to a combination of <span class="math inline">\(\operatorname{\texttt{out\,}}\operatorname{\texttt{kotlin.Any?}}\)</span> and <span class="math inline">\(\operatorname{\texttt{in\,}}\operatorname{\texttt{kotlin.Nothing}}\)</span> (for further details, see <a href="#subtyping">subtyping</a>).</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: informally, <span class="math inline">\(T[\star]\)</span> means â€œI can give out something very generic (<span class="math inline">\(\operatorname{\texttt{kotlin.Any?}}\)</span>) and cannot take in anythingâ€.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// A type constructor with an invariant type parameter</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">interface</span> <span class="dt">Inv</span><span class="op">&lt;</span><span class="dt">A</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb6-3" title="3"></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="kw">fun</span> <span class="fu">test</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="kw">var</span> <span class="va">invInt</span><span class="op">:</span> <span class="dt">Inv</span><span class="op">&lt;</span><span class="dt">Int</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb6-6" title="6">    <span class="kw">var</span> <span class="va">invNumber</span><span class="op">:</span> <span class="dt">Inv</span><span class="op">&lt;</span><span class="dt">Number</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="kw">var</span> <span class="va">outInt</span><span class="op">:</span> <span class="dt">Inv</span><span class="op">&lt;</span><span class="kw">out</span> <span class="dt">Int</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="kw">var</span> <span class="va">outNumber</span><span class="op">:</span> <span class="dt">Inv</span><span class="op">&lt;</span><span class="kw">out</span> <span class="dt">Number</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb6-9" title="9">    <span class="kw">var</span> <span class="va">inInt</span><span class="op">:</span> <span class="dt">Inv</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">Int</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb6-10" title="10">    <span class="kw">var</span> <span class="va">inNumber</span><span class="op">:</span> <span class="dt">Inv</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">Number</span><span class="op">&gt;</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb6-11" title="11">    </a>
<a class="sourceLine" id="cb6-12" title="12">    <span class="cf">when</span> (random) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-13" title="13">        <span class="dv">1</span> -&gt; <span class="op">{</span></a>
<a class="sourceLine" id="cb6-14" title="14">            inInt = invInt    <span class="co">// OK</span></a>
<a class="sourceLine" id="cb6-15" title="15">            <span class="co">// T&lt;in Int&gt; :&gt; T&lt;Int&gt;</span></a>
<a class="sourceLine" id="cb6-16" title="16">            </a>
<a class="sourceLine" id="cb6-17" title="17">            inInt = invNumber <span class="co">// OK</span></a>
<a class="sourceLine" id="cb6-18" title="18">            <span class="co">// T&lt;in Int&gt; :&gt; T&lt;in Number&gt; :&gt; T&lt;Number&gt;</span></a>
<a class="sourceLine" id="cb6-19" title="19">        <span class="op">}</span></a>
<a class="sourceLine" id="cb6-20" title="20">        <span class="dv">2</span> -&gt; <span class="op">{</span></a>
<a class="sourceLine" id="cb6-21" title="21">            outNumber = invInt    <span class="co">// OK</span></a>
<a class="sourceLine" id="cb6-22" title="22">            <span class="co">// T&lt;out Number&gt; :&gt; T&lt;out Int&gt; :&gt; T&lt;Int&gt;</span></a>
<a class="sourceLine" id="cb6-23" title="23">            </a>
<a class="sourceLine" id="cb6-24" title="24">            outNumber = invNumber <span class="co">// OK</span></a>
<a class="sourceLine" id="cb6-25" title="25">            <span class="co">// T&lt;out Number&gt; :&gt; T&lt;Number&gt;</span></a>
<a class="sourceLine" id="cb6-26" title="26">        <span class="op">}</span></a>
<a class="sourceLine" id="cb6-27" title="27">        <span class="dv">3</span> -&gt; <span class="op">{</span></a>
<a class="sourceLine" id="cb6-28" title="28">            invInt = inInt  <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb6-29" title="29">            invInt = outInt <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb6-30" title="30">            <span class="co">// It is invalid to assign less specific type</span></a>
<a class="sourceLine" id="cb6-31" title="31">            <span class="co">// to a more specific one</span></a>
<a class="sourceLine" id="cb6-32" title="32">            <span class="co">//   T&lt;Int&gt; &lt;: T&lt;in Int&gt;</span></a>
<a class="sourceLine" id="cb6-33" title="33">            <span class="co">//   T&lt;Int&gt; &lt;: T&lt;out Int&gt;</span></a>
<a class="sourceLine" id="cb6-34" title="34">        <span class="op">}</span></a>
<a class="sourceLine" id="cb6-35" title="35">        <span class="dv">4</span> -&gt; <span class="op">{</span></a>
<a class="sourceLine" id="cb6-36" title="36">            inInt = outInt    <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb6-37" title="37">            inInt = outNumber <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb6-38" title="38">            <span class="co">// types with co- and contravariant type parameters</span></a>
<a class="sourceLine" id="cb6-39" title="39">            <span class="co">// are not connected by subtyping</span></a>
<a class="sourceLine" id="cb6-40" title="40">            <span class="co">//   T&lt;in Int&gt; not(&lt;:&gt;) T&lt;out Int&gt;</span></a>
<a class="sourceLine" id="cb6-41" title="41">        <span class="op">}</span></a>
<a class="sourceLine" id="cb6-42" title="42">    <span class="op">}</span></a>
<a class="sourceLine" id="cb6-43" title="43"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="type-capturing">Type capturing</h4>
<div class="paragraph">
<p><span class="sentence">Type capturing (similarly to Java capture conversion) is used when instantiating type constructors; it creates <em>abstract captured</em> types based on the type information of both type parameters and arguments, which present a unified view on the resulting types and simplifies further reasoning.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The reasoning behind type capturing is closely related to variant parameterized types being a form of <em>bounded existential types</em>; e.g., <code>A&lt;out T&gt;</code> may be loosely considered as the following existential type: <span class="math inline">\(\exists X : X &lt;: T . A\langle X\rangle\)</span>. </span><span class="sentence">Informally, a bounded existential type describes a <em>set</em> of possible types, which satisfy its bound constraints. </span><span class="sentence">Before such a type can be used, it needs to be <em>opened</em> (or <em>unpacked</em>): existentially quantified type variables are lifted to fresh type variables with corresponding bounds. </span><span class="sentence">We call these type variables <em>captured</em> types.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For a given type constructor <span class="math inline">\(T(F_1, \ldots, F_n) : S_1, \ldots, S_m\)</span>, its instance <span class="math inline">\(T[\sigma] = T\langle \tau \rangle\)</span> uses the following rules to create captured type <span class="math inline">\(K_i\)</span> from the type parameter <span class="math inline">\(F_i\)</span> and type argument <span class="math inline">\(A_i\)</span>, at least one of which should have specified variance to create a captured type. </span><span class="sentence">In case both type parameter and type argument are invariant, their captured type is <em>equivalent</em> to <span class="math inline">\(A_i\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: type capturing is <strong>not</strong> recursive.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: <strong>All</strong> applicable rules are used to create the resulting constraint set.</span></p>
</div>
</blockquote>
<ul>
<li><span class="sentence">For a covariant type parameter <span class="math inline">\(\operatorname{\texttt{out\,}}F_i\)</span>, if <span class="math inline">\(A_i\)</span> is an ill-formed type or a contravariant type argument, <span class="math inline">\(K_i\)</span> is an ill-formed type. </span><span class="sentence">Otherwise, <span class="math inline">\(K_i &lt;: A_i\)</span>.</span></li>
<li><span class="sentence">For a contravariant type parameter <span class="math inline">\(\operatorname{\texttt{in\,}}F_i\)</span>, if <span class="math inline">\(A_i\)</span> is an ill-formed type or a covariant type argument, <span class="math inline">\(K_i\)</span> is an ill-formed type. </span><span class="sentence">Otherwise, <span class="math inline">\(K_i :&gt; A_i\)</span>.</span></li>
<li><div class="paragraph">
<p><span class="sentence">For a bounded type parameter <span class="math inline">\(F_i &lt;: U_i \equiv B_1 \mathbin{\operatorname{\&amp;}}\ldots \mathbin{\operatorname{\&amp;}}B_m\)</span>, if <span class="math inline">\(\neg (A_i &lt;: \tau U_i)\)</span>, <span class="math inline">\(K_i\)</span> is an ill-formed type. </span><span class="sentence">Otherwise, <span class="math inline">\(K_i &lt;: \tau U_i\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: captured substitution <span class="math inline">\(\tau : F_1 = K_1, \ldots, F_n = K_n\)</span> manipulates captured types.</span></p>
</div>
</blockquote></li>
<li><span class="sentence">For a covariant type argument <span class="math inline">\(\operatorname{\texttt{out\,}}A_i\)</span>, if <span class="math inline">\(F_i\)</span> is a contravariant type parameter, <span class="math inline">\(K_i\)</span> is an ill-formed type. </span><span class="sentence">Otherwise, <span class="math inline">\(K_i &lt;: A_i\)</span>.</span></li>
<li><div class="paragraph">
<p><span class="sentence">For a contravariant type argument <span class="math inline">\(\operatorname{\texttt{in\,}}A_i\)</span>, if <span class="math inline">\(F_i\)</span> is a covariant type parameter, <span class="math inline">\(K_i\)</span> is an ill-formed type. </span><span class="sentence">Otherwise, <span class="math inline">\(K_i :&gt; A_i\)</span>.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">For a bivariant type argument <span class="math inline">\(\star\)</span>, <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}&lt;: K_i &lt;: \operatorname{\texttt{kotlin.Any?}}\)</span>.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">Otherwise, <span class="math inline">\(K_i \equiv A_i\)</span>.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence">By construction, every captured type <span class="math inline">\(K\)</span> has the following form:</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[\{L_1 &lt;: K, \ldots, L_p &lt;: K, K &lt;: U_1, \ldots, K &lt;: U_q\}\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">which can be represented as</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[L &lt;: K &lt;: U\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">where <span class="math inline">\(L = L_1 \mathbin{\operatorname{|}}\ldots \mathbin{\operatorname{|}}L_p\)</span> and <span class="math inline">\(U = U_1 \mathbin{\operatorname{\&amp;}}\ldots \mathbin{\operatorname{\&amp;}}U_q\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for implementation reasons the compiler may <a href="#type-approximation">approximate</a> <span class="math inline">\(L\)</span> and/or <span class="math inline">\(U\)</span>; for example, in the current implementation <span class="math inline">\(L\)</span> is always approximated to be a single type.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: as every captured type corresponds to a fresh type variable, two different captured types <span class="math inline">\(K_i\)</span> and <span class="math inline">\(K_j\)</span> which describe the same set of possible types (i.e., their constraint sets are equal) are <em>not</em> considered equal. </span><span class="sentence">However, in some cases <a href="#type-inference">type inference</a> may <a href="#type-approximation">approximate</a> a captured type <span class="math inline">\(K\)</span> to a concrete type <span class="math inline">\(K^{\approx}\)</span>; in our case, it would be that <span class="math inline">\(K_i^{\approx} \equiv K_j^{\approx}\)</span>.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Need to think more about this part)</span></p>
</div>
</div>
<h4 id="type-containment">Type containment</h4>
<div class="paragraph">
<p><span class="sentence">Type containment operator <span class="math inline">\(\preceq\)</span> is used to decide, whether a type <span class="math inline">\(A\)</span> is contained in another type <span class="math inline">\(B\)</span> denoted <span class="math inline">\(A \preceq B\)</span>, for the purposes of establishing type argument <a href="#subtyping">subtyping</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Let <span class="math inline">\(A, B\)</span> be concrete, well-defined non-type-parameter types, <span class="math inline">\(K_A, K_B\)</span> be captured types.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: type parameters <span class="math inline">\(F_i &lt;: U_i\)</span> are handled as if they have been converted to well-formed captured types <span class="math inline">\(K_i : \operatorname{\texttt{kotlin.Nothing}}&lt;: K_i &lt;: U_i\)</span>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\preceq\)</span> is defined as follows.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(A \preceq B\)</span> if <span class="math inline">\(A \equiv B\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A \preceq \operatorname{\texttt{out\,}}B\)</span> if <span class="math inline">\(A &lt;: B\)</span></span></li>
<li><div class="paragraph">
<p><span class="sentence"><span class="math inline">\(A \preceq \operatorname{\texttt{in\,}}B\)</span> if <span class="math inline">\(A :&gt; B\)</span></span></p>
</div></li>
<li><span class="sentence"><span class="math inline">\(\operatorname{\texttt{out\,}}A \preceq \operatorname{\texttt{out\,}}B\)</span> if <span class="math inline">\(A &lt;: B\)</span></span></li>
<li><div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\texttt{in\,}}A \preceq \operatorname{\texttt{in\,}}B\)</span> if <span class="math inline">\(A :&gt; B\)</span></span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Rules for captured types follow the same structure.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(K_A \preceq K_B\)</span> if <span class="math inline">\(K_A \equiv K_B\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(K_A \preceq \operatorname{\texttt{out\,}}K_B\)</span> if <span class="math inline">\(K_A &lt;: K_B\)</span></span></li>
<li><div class="paragraph">
<p><span class="sentence"><span class="math inline">\(K_A \preceq \operatorname{\texttt{in\,}}K_B\)</span> if <span class="math inline">\(K_A :&gt; K_B\)</span></span></p>
</div></li>
<li><span class="sentence"><span class="math inline">\(\operatorname{\texttt{out\,}}K_A \preceq \operatorname{\texttt{out\,}}K_B\)</span> if <span class="math inline">\(K_A &lt;: K_B\)</span></span></li>
<li><div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\texttt{in\,}}K_A \preceq \operatorname{\texttt{in\,}}K_B\)</span> if <span class="math inline">\(K_A :&gt; K_B\)</span></span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In case we need to establish type containment between regular type <span class="math inline">\(A\)</span> and captured type <span class="math inline">\(K_B\)</span>, <span class="math inline">\(A\)</span> is converted to captured type <span class="math inline">\(K_A : A &lt;: K_A &lt;: A\)</span>.</span></p>
</div>
<h4 id="function-types">Function types</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin has first-order functions; e.g., it supports function types, which describe the argument and return types of its corresponding function.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A function type <span class="math inline">\(\operatorname{\text{FT}}\)</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[\operatorname{\text{FT}}(A_1, \ldots, A_n) \rightarrow R\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">consists of</span></p>
</div>
<ul>
<li><span class="sentence">argument types <span class="math inline">\(A_i\)</span></span></li>
<li><span class="sentence">return type <span class="math inline">\(R\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">and may be considered the following instantiation of a special type constructor <span class="math inline">\(\operatorname{\text{FunctionN}}(\operatorname{\texttt{in\,}}P_1, \ldots, \operatorname{\texttt{in\,}}P_n, \operatorname{\texttt{out\,}}R)\)</span> (please note the variance of type parameters)</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[\operatorname{\text{FT}}(A_1, \ldots, A_n) \rightarrow R \equiv \operatorname{\text{FunctionN}}[A_1, \ldots, A_n, R]\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">These <span class="math inline">\(\operatorname{\text{FunctionN}}\)</span> types follow the rules of regular type constructors and parameterized types w.r.t. subtyping.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A function type with receiver <span class="math inline">\(\operatorname{\text{FTR}}\)</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[\operatorname{\text{FTR}}(\operatorname{\text{RT}}, A_1, \ldots, A_n) \rightarrow R\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">consists of</span></p>
</div>
<ul>
<li><span class="sentence">receiver type <span class="math inline">\(\operatorname{\text{RT}}\)</span></span></li>
<li><span class="sentence">argument types <span class="math inline">\(A_i\)</span></span></li>
<li><span class="sentence">return type <span class="math inline">\(R\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">From the type systemâ€™s point of view, it is equivalent to the following function type</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[\operatorname{\text{FTR}}(\operatorname{\text{RT}}, A_1, \ldots, A_n) \rightarrow R \equiv \operatorname{\text{FT}}(\operatorname{\text{RT}}, A_1, \ldots, A_n) \rightarrow R\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">i.e., receiver is considered as yet another argument of its function type.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means that, for example, these two types are equivalent w.r.t. type system</span></p>
</div>
<ul>
<li><span class="sentence"><code>Int.(Int) -&gt; String</code></span></li>
<li><span class="sentence"><code>(Int, Int) -&gt; String</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">However, these two types are <strong>not</strong> equivalent w.r.t. <a href="#overload-resolution">overload resolution</a>, as it distinguishes between functions with and without receiver.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Specify other cases when these two types are <strong>not</strong> equivalent)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">Furthermore, all function types <span class="math inline">\(\operatorname{\text{FunctionN}}\)</span> are subtypes of a general argument-agnostic type <a href="#kotlin.function-1"><span class="math inline">\(\operatorname{\texttt{kotlin.Function}}\)</span></a> for the purpose of unification; this subtyping relation is also used in <a href="#determining-function-applicability-for-a-specific-call">overload resolution</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: a compiler implementation may consider a function type <span class="math inline">\(\operatorname{\text{FunctionN}}\)</span> to have additional supertypes, if it is necessary.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// A function of type Function1&lt;Number, Number&gt;</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co">//   or (Number) -&gt; Number</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">i</span><span class="op">:</span> <span class="dt">Number</span><span class="op">):</span> <span class="dt">Number</span> = ...</a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">// A valid assignment w.r.t. function type variance</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">// Function1&lt;in Int, out Any&gt; :&gt; Function1&lt;in Number, out Number&gt;</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="kw">val</span> <span class="va">fooRef</span><span class="op">:</span> <span class="op">(</span><span class="dt">Int</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Any</span> <span class="op">=</span> ::foo</a>
<a class="sourceLine" id="cb7-8" title="8"></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co">// A function with receiver of type Function1&lt;Number, Number&gt;</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">//   or Number.() -&gt; Number</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="kw">fun</span> <span class="fu">Number</span><span class="op">.</span><span class="fu">bar</span><span class="op">():</span> <span class="dt">Number</span> = ...</a>
<a class="sourceLine" id="cb7-12" title="12"></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="co">// A valid assignment w.r.t. function type variance</span></a>
<a class="sourceLine" id="cb7-14" title="14"><span class="co">// Receiver is just yet another function argument</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="co">// Function1&lt;in Int, out Any&gt; :&gt; Function1&lt;in Number, out Number&gt;</span></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="kw">val</span> <span class="va">barRef</span><span class="op">:</span> <span class="op">(</span><span class="dt">Int</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Any</span> <span class="op">=</span> Number::bar</a></code></pre></div>
</blockquote>
<h5 id="suspending-function-types">Suspending function types</h5>
<div class="paragraph">
<p><span class="sentence">Kotlin supports structured concurrency in the form of <a href="#coroutines-1">coroutines</a> via <a href="#suspending-functions">suspending functions</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For the purposes of type system, a suspending function has a <em>suspending</em> function type <span class="math inline">\(\operatorname{\texttt{suspend}}\operatorname{\text{FT}}(A_1, \ldots, A_n) \rightarrow R\)</span>, which is <strong>unrelated by subtyping</strong> to any non-suspending function type. </span><span class="sentence">This is important for <a href="#overload-resolution">overload resolution</a> and <a href="#type-inference">type inference</a>, as it directly influences the types of function values and the applicability of different functions w.r.t. overloading.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Most function values have either non-suspending or suspending function type based on their declarations. </span><span class="sentence">However, as <a href="#lambda-literals">lambda literals</a> do not have any explicitely declared function type, they are considered as possibly being both non-suspending and suspending function type, with the final selection done during <a href="#type-inference">type inference</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">i</span><span class="op">:</span> <span class="dt">Int</span><span class="op">):</span> <span class="dt">String</span> = <span class="al">TODO()</span></a>
<a class="sourceLine" id="cb8-2" title="2"></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="kw">fun</span> <span class="fu">bar</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="kw">val</span> <span class="va">fooRef</span><span class="op">:</span> <span class="op">(</span><span class="dt">Int</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> ::foo</a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="kw">val</span> <span class="va">fooLambda</span><span class="op">:</span> <span class="op">(</span><span class="dt">Int</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> <span class="op">{</span> it.toString() <span class="op">}</span></a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="kw">val</span> <span class="va">suspendFooLambda</span><span class="op">:</span> <span class="kw">suspend</span> <span class="op">(</span><span class="dt">Int</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> <span class="op">{</span> it.toString() <span class="op">}</span></a>
<a class="sourceLine" id="cb8-7" title="7"></a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="co">// Error: as suspending and non-suspending</span></a>
<a class="sourceLine" id="cb8-9" title="9">    <span class="co">//   function types are unrelated</span></a>
<a class="sourceLine" id="cb8-10" title="10">    <span class="co">// val error: suspend (Int) -&gt; String = ::foo</span></a>
<a class="sourceLine" id="cb8-11" title="11">    <span class="co">// val error: suspend (Int) -&gt; String = fooLambda</span></a>
<a class="sourceLine" id="cb8-12" title="12">    <span class="co">// val error: (Int) -&gt; String = suspendFooLambda</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="flexible-types">Flexible types</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin, being a multi-platform language, needs to support transparent interoperability with platform-dependent code. </span><span class="sentence">However, this presents a problem in that some platforms may not support null safety the way Kotlin does. </span><span class="sentence">To deal with this, Kotlin supports <em>gradual typing</em> in the form of flexible types.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A flexible type represents a range of possible types between type <span class="math inline">\(L\)</span> (lower bound) and type <span class="math inline">\(U\)</span> (upper bound), written as <span class="math inline">\((L..U)\)</span>. </span><span class="sentence">One should note flexible types are <em>non-denotable</em>, i.e., one cannot explicitly declare a variable with flexible type, these types are created by the type system when needed.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">To represent a well-formed flexible type, <span class="math inline">\((L..U)\)</span> should satisfy the following conditions.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(L\)</span> and <span class="math inline">\(U\)</span> are well-formed concrete types</span></li>
<li><span class="sentence"><span class="math inline">\(L &lt;: U\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(L\)</span> and <span class="math inline">\(U\)</span> are <strong>not</strong> flexible types (but may contain other flexible types as some of their type arguments)</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">As the name suggests, flexible types are flexible â€” a value of type <span class="math inline">\((L..U)\)</span> can be used in any context, where one of the possible types between <span class="math inline">\(L\)</span> and <span class="math inline">\(U\)</span> is needed (for more details, see <a href="#subtyping-for-flexible-types">subtyping rules for flexible types</a>). </span><span class="sentence">However, the actual runtime type <span class="math inline">\(T\)</span> will be a specific type satisfying <span class="math inline">\(\exists S : T &lt;: S \land L &lt;: S &lt;: U\)</span>, thus making the substitution possibly unsafe, which is why Kotlin generates dynamic assertions, when it is impossible to prove statically the safety of flexible type use.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO([Kotlin.*] Details of assertion generation?)</span></p>
</div>
</div>
<h5 id="dynamic-type">Dynamic type</h5>
<div class="paragraph">
<p><span class="sentence">Kotlin includes a special <code>dynamic</code> type, which in many contexts can be viewed as a flexible type <span class="math inline">\((\operatorname{\texttt{kotlin.Nothing}}..\operatorname{\texttt{kotlin.Any?}})\)</span>. </span><span class="sentence">By definition, this type represents <em>any</em> possible Kotlin type, and may be used to support interoperability with dynamically typed libraries, platforms or languages.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">However, as a platform may assign special meaning to the values of <code>dynamic</code> type, it may be handled differently from the regular flexible type. </span><span class="sentence">These differences are to be explained in the corresponding platform-dependent sections of this specification.</span></p>
</div>
<h5 id="platform-types">Platform types</h5>
<div class="paragraph">
<p><span class="sentence">The main use cases for flexible types are <em>platform types</em> â€” types which the Kotlin compiler uses, when interoperating with code written for another platform (e.g., Java). </span><span class="sentence">In this case all types on the interoperability boundary are subject to <em>flexibilization</em> â€” the process of converting a platform-specific type to a Kotlin-compatible flexible type.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For further details on how <em>flexibilization</em> is done, see:</span></p>
</div>
<ul>
<li><span class="sentence">[Platform types for Java][TODO(need a way to have same section names in different parts of the spec)]</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: platform types should not be confused with <em>multi-platform projects</em> â€” another Kotlin feature targeted at supporting platform interop.</span></p>
</div>
</blockquote>
<h4 id="nullable-types">Nullable types</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin supports null safety by having two type universes â€” nullable and non-nullable. </span><span class="sentence">All classifier type declarations, built-in or user-defined, create non-nullable types, i.e., types which cannot hold <code>null</code> value at runtime.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">To specify a nullable version of type <span class="math inline">\(T\)</span>, one needs to use <span class="math inline">\(T?\)</span> as a type. </span><span class="sentence">Redundant nullability specifiers are ignored â€” <span class="math inline">\(T?? \equiv T?\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: informally, question mark means â€œ<span class="math inline">\(T?\)</span> may hold values of type <span class="math inline">\(T\)</span> or value <code>null</code>â€</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">To represent a well-formed nullable type, <span class="math inline">\(T?\)</span> should satisfy the following conditions.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(T\)</span> is a well-formed concrete type</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: if an operation is safe regardless of absence or presence of <code>null</code>, e.g., assignment of one nullable value to another, it can be used as-is for nullable types. </span><span class="sentence">For operations on <span class="math inline">\(T?\)</span> which may violate null safety, e.g., access to a property, one has the following null-safe options:</span></p>
</div>
<ol type="1">
<li><span class="sentence">Use safe operations</span>
<ul>
<li><span class="sentence"><a href="#navigation-operators">safe call</a></span></li>
</ul></li>
<li><span class="sentence">Downcast from <span class="math inline">\(T?\)</span> to <span class="math inline">\(T!!\)</span></span>
<ul>
<li><span class="sentence"><a href="#cast-expression">unsafe cast</a></span></li>
<li><span class="sentence"><a href="#type-checking-expression">type check</a> combined with <a href="#smart-casts">smart casts</a></span></li>
<li><span class="sentence">null check combined with <a href="#smart-casts">smart casts</a></span></li>
<li><span class="sentence"><a href="#not-null-assertion-expression">not-null assertion operator</a></span></li>
</ul></li>
<li><span class="sentence">Supply a default value to use if <code>null</code> is present</span>
<ul>
<li><span class="sentence"><a href="#elvis-operator-expression">elvis operator</a></span></li>
</ul></li>
</ol>
</blockquote>
<h5 id="nullability-lozenge">Nullability lozenge</h5>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="145" height="97" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="7.5" x2="127.5" y2="7.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="7.5" x2="397.5" y2="7.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="135" y1="52.5" x2="277.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 127.5 52.5 L 142.5 47.5 L 142.5 57.5 Z "/></g><line x1="7.5" y1="97.5" x2="127.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="97.5" x2="397.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="127.5" x2="292.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="112.5" y1="142.5" x2="202.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="172.5" x2="52.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="172.5" x2="97.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="172.5" x2="322.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="172.5" x2="397.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="135" y1="217.5" x2="277.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 127.5 217.5 L 142.5 212.5 L 142.5 222.5 Z "/></g><line x1="7.5" y1="262.5" x2="127.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="262.5" x2="397.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="7.5" x2="7.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="7.5" x2="127.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="7.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="7.5" x2="397.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="67.5" x2="127.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="67.5" y1="97.5" x2="67.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 67.5 172.5 L 62.5 157.5 L 72.5 157.5 Z "/></g><line x1="292.5" y1="97.5" x2="292.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="97.5" x2="337.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 337.5 172.5 L 332.5 157.5 L 342.5 157.5 Z "/></g><line x1="202.5" y1="127.5" x2="202.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="112.5" y1="142.5" x2="112.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 112.5 172.5 L 107.5 157.5 L 117.5 157.5 Z "/></g><line x1="7.5" y1="172.5" x2="7.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="172.5" x2="127.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="172.5" x2="277.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="172.5" x2="397.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="232.5" x2="127.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="54.5" y="60.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >A?</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="324.5" y="60.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >B?</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="47.5" y="225.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >A!!</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="317.5" y="225.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >B!!</text></g></svg>
' />
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Explain this thingâ€¦)</span></p>
</div>
</div>
<h4 id="intersection-types">Intersection types</h4>
<div class="paragraph">
<p><span class="sentence">Intersection types are special <em>non-denotable</em> types used to express the fact that a value belongs to <em>all</em> of <em>several</em> types at the same time.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Intersection type of two types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> is denoted <span class="math inline">\(A \mathbin{\operatorname{\&amp;}}B\)</span> and is equivalent to the <a href="#greatest-lower-bound">greatest lower bound</a> of its components <span class="math inline">\(\operatorname{\text{GLB}}(A, B)\)</span>. </span><span class="sentence">Thus, the normalization procedure for <span class="math inline">\(\operatorname{\text{GLB}}\)</span> may be used to <em>normalize</em> an intersection type.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means intersection types are commutative and associative (following the GLB properties); e.g., <span class="math inline">\(A \mathbin{\operatorname{\&amp;}}B\)</span> is the same type as <span class="math inline">\(B \mathbin{\operatorname{\&amp;}}A\)</span>, and <span class="math inline">\(A \mathbin{\operatorname{\&amp;}}(B \mathbin{\operatorname{\&amp;}}C)\)</span> is the same type as <span class="math inline">\(A \mathbin{\operatorname{\&amp;}}B \mathbin{\operatorname{\&amp;}}C\)</span>.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for presentation purposes, we will henceforth order intersection type operands lexicographically based on their notation.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">When needed, the compiler may <em>approximate</em> an intersection type to a <em>denotable concrete</em> type using <a href="#type-approximation">type approximation</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">One of the main uses of intersection types are <a href="#smart-casts">smart casts</a>.</span></p>
</div>
<h4 id="integer-literal-types">Integer literal types</h4>
<div class="paragraph">
<p><span class="sentence">An integer literal type containing types <span class="math inline">\(T_1, \ldots, T_N\)</span>, denoted <span class="math inline">\(\operatorname{\text{LTS}}(T_1, \ldots, T_N)\)</span> is a special <em>non-denotable</em> type designed for integer literals. </span><span class="sentence">Each type <span class="math inline">\(T_1, \ldots, T_N\)</span> must be one of the <a href="#built-in-integer-types-1">built-in integer types</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Integer literal types are the types of <a href="#integer-literals">integer literals</a> and have special handling w.r.t. <a href="#subtyping-for-integer-literal-types">subtyping</a>.</span></p>
</div>
<h4 id="union-types">Union types</h4>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: Kotlin does <strong>not</strong> have union types in its type system. </span><span class="sentence">However, they make reasoning about several type system features easier. </span><span class="sentence">Therefore, we decided to include a brief intro to the union types here.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Union types are special <em>non-denotable</em> types used to express the fact that a value belongs to <em>one</em> of <em>several</em> possible types.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Union type of two types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> is denoted <span class="math inline">\(A \mathbin{\operatorname{|}}B\)</span> and is equivalent to the <a href="#least-upper-bound">least upper bound</a> of its components <span class="math inline">\(\operatorname{\text{LUB}}(A, B)\)</span>. </span><span class="sentence">Thus, the normalization procedure for <span class="math inline">\(\operatorname{\text{LUB}}\)</span> may be used to <em>normalize</em> a union type.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Moreover, as union types are <em>not</em> used in Kotlin, the compiler always <em>decays</em> a union type to a <em>non-union</em> type using <a href="#type-decaying">type decaying</a>.</span></p>
</div>
<h3 id="type-contexts-and-scopes">Type contexts and scopes</h3>
<div class="paragraph">
<p><span class="sentence">The way types and <a href="#scopes-and-identifiers">scopes</a> interoperate is very similar to how values and scopes work; this includes <a href="#declaration-visibility">visibility</a>, accessing types via qualified names or <a href="#importing">imports</a>. </span><span class="sentence">This means, in many cases, type contexts are equivalent to the corresponding scopes. </span><span class="sentence">However, there are several important differences, which we outline below.</span></p>
</div>
<h4 id="inner-and-nested-type-contexts">Inner and nested type contexts</h4>
<div class="paragraph">
<p><span class="sentence"><a href="#type-parameters">Type parameters</a> are well-formed types in the type context (scope) of their declaring type constructor, including inner type declarations. </span><span class="sentence">However, type context for a <a href="#nested-and-inner-classifiers"><em>nested</em> type declaration</a> <span class="math inline">\(\operatorname{\text{ND}}\)</span> of a parent type declaration <span class="math inline">\(\operatorname{\text{PD}}\)</span> does <strong>not</strong> include the type parameters of <span class="math inline">\(\operatorname{\text{PD}}\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: nested type declarations cannot capture parent type parameters, as they simply create a regular type available under a nested path.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">class</span> <span class="dt">Parent</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">    <span class="kw">class</span> <span class="dt">Nested</span><span class="op">(</span><span class="kw">val</span> <span class="va">i</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span></a>
<a class="sourceLine" id="cb9-3" title="3"></a>
<a class="sourceLine" id="cb9-4" title="4">    <span class="co">// Can use type parameter T as a type</span></a>
<a class="sourceLine" id="cb9-5" title="5">    <span class="co">// in an inner class</span></a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="kw">inner</span> <span class="kw">class</span> <span class="dt">Inner</span><span class="op">(</span><span class="kw">val</span> <span class="va">t</span><span class="op">:</span> <span class="dt">T</span><span class="op">)</span></a>
<a class="sourceLine" id="cb9-7" title="7"></a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="co">// Cannot use type parameter T as a type</span></a>
<a class="sourceLine" id="cb9-9" title="9">    <span class="co">// in a nested class</span></a>
<a class="sourceLine" id="cb9-10" title="10">    <span class="kw">class</span> <span class="dt">Error</span><span class="op">(</span><span class="kw">val</span> <span class="va">t</span><span class="op">:</span> <span class="dt">T</span><span class="op">)</span></a>
<a class="sourceLine" id="cb9-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb9-12" title="12"></a>
<a class="sourceLine" id="cb9-13" title="13"><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-14" title="14">    <span class="kw">val</span> <span class="va">nested</span> <span class="op">=</span> Parent.Nested(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb9-15" title="15"></a>
<a class="sourceLine" id="cb9-16" title="16">    <span class="kw">val</span> <span class="va">inner</span> <span class="op">=</span> Parent&lt;<span class="kw">String</span>&gt;().Inner(<span class="st">&quot;42&quot;</span>)</a>
<a class="sourceLine" id="cb9-17" title="17"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h3 id="subtyping">Subtyping</h3>
<div class="paragraph">
<p><span class="sentence">Kotlin uses the classic notion of <em>subtyping</em> as <em>substitutability</em> â€” if <span class="math inline">\(S\)</span> is a subtype of <span class="math inline">\(T\)</span> (denoted as <span class="math inline">\(S &lt;: T\)</span>), values of type <span class="math inline">\(S\)</span> can be safely used where values of type <span class="math inline">\(T\)</span> are expected. </span><span class="sentence">The subtyping relation <span class="math inline">\(&lt;:\)</span> is:</span></p>
</div>
<ul>
<li><span class="sentence">reflexive (<span class="math inline">\(A &lt;: A\)</span>)</span></li>
<li><span class="sentence"><em>rigidly</em> transitive (<span class="math inline">\(A &lt;: B \land B &lt;: C \Rightarrow A &lt;: C\)</span> for non-flexible types <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span> and <span class="math inline">\(C\)</span>)</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Two types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are <em>equivalent</em> (<span class="math inline">\(A \equiv B\)</span>), iff <span class="math inline">\(A &lt;: B \land B &lt;: A\)</span>. </span><span class="sentence">Due to the presence of flexible types, this relation is also only <em>rigidly</em> transitive, e.g., holds only for non-flexible types (see <a href="#subtyping-for-flexible-types">here</a> for more details).</span></p>
</div>
<h4 id="subtyping-rules">Subtyping rules</h4>
<div class="paragraph">
<p><span class="sentence">Subtyping for non-nullable, concrete types uses the following rules.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(\forall T : \operatorname{\texttt{kotlin.Nothing}}&lt;: T &lt;: \operatorname{\texttt{kotlin.Any}}\)</span></span></li>
<li><span class="sentence">For any simple classifier type <span class="math inline">\(T : S_1, \ldots, S_m\)</span> it is true that <span class="math inline">\(\forall i \in [1,m]: T &lt;: S_i\)</span></span></li>
<li><span class="sentence">For any parameterized type <span class="math inline">\(\widehat{T} = T\langle \tau \rangle: S_1, \ldots, S_m\)</span> it is true that <span class="math inline">\(\forall i \in [1,m]: \widehat{T} &lt;: \tau S_i\)</span></span></li>
<li><span class="sentence">For any two parameterized types <span class="math inline">\(\widehat{T} = T\langle \tau \rangle\)</span> and <span class="math inline">\(\widehat{T^\prime} = T\langle \tau^\prime \rangle\)</span> with captured type arguments <span class="math inline">\(K_i\)</span> and <span class="math inline">\(K_i^\prime\)</span> it is true that <span class="math inline">\(\widehat{T} &lt;: \widehat{T^\prime}\)</span> if <span class="math inline">\(\forall i \in [1,n]: K_i \preceq K_i^\prime\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Subtyping for captured types uses the following rules.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(\forall K : \operatorname{\texttt{kotlin.Nothing}}&lt;: K &lt;: \operatorname{\texttt{kotlin.Any?}}\)</span></span></li>
<li><span class="sentence">For any two captured types <span class="math inline">\(L &lt;: K &lt;: U\)</span> and <span class="math inline">\(L^\prime &lt;: K^\prime &lt;: U^\prime\)</span>, it is true that <span class="math inline">\(K &lt;: K^\prime\)</span> if <span class="math inline">\(U &lt;: L^\prime\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Subtyping for nullable types is checked separately and uses a special set of rules which are described <a href="#subtyping-for-nullable-types">here</a>.</span></p>
</div>
<h4 id="subtyping-for-flexible-types">Subtyping for flexible types</h4>
<div class="paragraph">
<p><span class="sentence">Flexible types (being flexible) follow a simple subtyping relation with other rigid (i.e., non-flexible) types. </span><span class="sentence">Let <span class="math inline">\(T, A, B, L, U\)</span> be rigid types.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(L &lt;: T \Rightarrow (L..U) &lt;: T\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(T &lt;: U \Rightarrow T &lt;: (L..U)\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">This captures the notion of flexible type <span class="math inline">\((L..U)\)</span> as something which may be used in place of any type in between <span class="math inline">\(L\)</span> and <span class="math inline">\(U\)</span>. </span><span class="sentence">If we are to extend this idea to subtyping between <em>two</em> flexible types, we get the following definition.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(L &lt;: B \Rightarrow (L..U) &lt;: (A..B)\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">This is the most extensive definition possible, which, unfortunately, makes the type equivalence relation non-transitive. </span><span class="sentence">Let <span class="math inline">\(A, B\)</span> be two <em>different</em> types, for which <span class="math inline">\(A &lt;: B\)</span>. </span><span class="sentence">The following relations hold:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(A &lt;: (A..B) \land (A..B) &lt;: A \Rightarrow A \equiv (A..B)\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(B &lt;: (A..B) \land (A..B) &lt;: B \Rightarrow B \equiv (A..B)\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">However, <span class="math inline">\(A \not \equiv B\)</span>.</span></p>
</div>
<h4 id="subtyping-for-intersection-types">Subtyping for intersection types</h4>
<div class="paragraph">
<p><span class="sentence">Intersection types introduce several new rules for subtyping. </span><span class="sentence">Let <span class="math inline">\(A, B, C, D\)</span> be non-nullable types.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(A \mathbin{\operatorname{\&amp;}}B &lt;: A\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A \mathbin{\operatorname{\&amp;}}B &lt;: B\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A &lt;: C \land B &lt;: D \Rightarrow A \mathbin{\operatorname{\&amp;}}B &lt;: C \mathbin{\operatorname{\&amp;}}D\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Moreover, any type <span class="math inline">\(T\)</span> with supertypes <span class="math inline">\(S_1, \ldots, S_N\)</span> is also a subtype of <span class="math inline">\(S_1 \mathbin{\operatorname{\&amp;}}\ldots \mathbin{\operatorname{\&amp;}}S_N\)</span>.</span></p>
</div>
<h4 id="subtyping-for-integer-literal-types">Subtyping for integer literal types</h4>
<div class="paragraph">
<p><span class="sentence">All integer literal type are equivalent w.r.t. subtyping, meaning that for any sets <span class="math inline">\(T_1, \ldots, T_K\)</span> and <span class="math inline">\(U_1, \ldots, U_N\)</span> of built-in integer types:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(\operatorname{\text{LTS}}(T_1, \ldots, T_K) &lt;: \operatorname{\text{LTS}}(U_1, \ldots, U_N)\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\operatorname{\text{LTS}}(U_1, \ldots, U_N) &lt;: \operatorname{\text{LTS}}(T_1, \ldots, T_K)\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\forall T_i \in \{T_1, \ldots, T_K\} : \operatorname{\text{LTS}}(T_1, \ldots, T_K) &lt;: T_i\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\forall T_i \in \{T_1, \ldots, T_K\} : T_i &lt;: \operatorname{\text{LTS}}(T_1, \ldots, T_K)\)</span></span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the last two rules mean <span class="math inline">\(\operatorname{\text{LTS}}(T_1, \ldots, T_K)\)</span> can be considered as an intersection type <span class="math inline">\(T_1 \mathbin{\operatorname{\&amp;}}\ldots \mathbin{\operatorname{\&amp;}}T_K\)</span> or as a union type <span class="math inline">\(T_1 \mathbin{\operatorname{|}}\ldots \mathbin{\operatorname{|}}T_K\)</span>, depending on the context. </span><span class="sentence">Viewing <span class="math inline">\(\operatorname{\text{LTS}}\)</span> as intersection type allows us to use integer literals where built-in integer types are expected. </span><span class="sentence">Making <span class="math inline">\(\operatorname{\text{LTS}}\)</span> behave as union type is needed to support cases when they appear in contravariant position.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb10"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">interface</span> <span class="dt">In</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">T</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb10-2" title="2"></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="fu">T</span><span class="op">.</span><span class="fu">asIn</span><span class="op">():</span> <span class="dt">In</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> = ...</a>
<a class="sourceLine" id="cb10-4" title="4"></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">S</span><span class="op">&gt;</span> <span class="fu">select</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">S</span>, <span class="va">b</span><span class="op">:</span> <span class="dt">In</span><span class="op">&lt;</span><span class="dt">S</span><span class="op">&gt;):</span> <span class="dt">S</span> = ...</a>
<a class="sourceLine" id="cb10-6" title="6"></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="kw">fun</span> <span class="fu">ltsAsIntersection</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-8" title="8">    <span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">42</span> <span class="co">// LTS(Byte, Short, Int, Long) &lt;: Int</span></a>
<a class="sourceLine" id="cb10-9" title="9">    </a>
<a class="sourceLine" id="cb10-10" title="10">    <span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">Short</span><span class="op">)</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb10-11" title="11">    </a>
<a class="sourceLine" id="cb10-12" title="12">    foo(<span class="dv">1377</span>) <span class="co">// LTS(Short, Int, Long) &lt;: Short</span></a>
<a class="sourceLine" id="cb10-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb10-14" title="14"></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="kw">fun</span> <span class="fu">ltsAsUnion</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-16" title="16">    <span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Short</span> <span class="op">=</span> <span class="dv">42</span></a>
<a class="sourceLine" id="cb10-17" title="17">    </a>
<a class="sourceLine" id="cb10-18" title="18">    select(a, <span class="fl">1337.</span>asIn())</a>
<a class="sourceLine" id="cb10-19" title="19">        <span class="co">// For argument a:</span></a>
<a class="sourceLine" id="cb10-20" title="20">        <span class="co">//   Short &lt;: S</span></a>
<a class="sourceLine" id="cb10-21" title="21">        <span class="co">// For argument b:</span></a>
<a class="sourceLine" id="cb10-22" title="22">        <span class="co">//   In&lt;LTS(Short, Int, Long)&gt; &lt;: In&lt;S&gt; =&gt;</span></a>
<a class="sourceLine" id="cb10-23" title="23">        <span class="co">//     S &lt;: LTS(Short, Int, Long)</span></a>
<a class="sourceLine" id="cb10-24" title="24">        <span class="co">// Solution: S =:= Short</span></a>
<a class="sourceLine" id="cb10-25" title="25"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="subtyping-for-nullable-types">Subtyping for nullable types</h4>
<div class="paragraph">
<p><span class="sentence">Subtyping for two possibly nullable types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> is defined via <em>two</em> relations, both of which must hold.</span></p>
</div>
<ol type="1">
<li><span class="sentence">Regular subtyping <span class="math inline">\(&lt;:\)</span> for types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> using the <a href="#nullability-lozenge">nullability lozenge</a></span></li>
<li><span class="sentence">Subtyping by nullability <span class="math inline">\(\mathrel{\operatorname{\stackrel{null}{&lt;:}}}\)</span></span></li>
</ol>
<div class="paragraph">
<p><span class="sentence">Subtyping by nullability <span class="math inline">\(\mathrel{\operatorname{\stackrel{null}{&lt;:}}}\)</span> for two possibly nullable types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> uses the following rules.</span></p>
</div>
<ol type="1">
<li><span class="sentence"><span class="math inline">\(A!! \mathrel{\operatorname{\stackrel{null}{&lt;:}}}B\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A \mathrel{\operatorname{\stackrel{null}{&lt;:}}}B\)</span> if <span class="math inline">\(\exists T!! : A &lt;: T!!\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A \mathrel{\operatorname{\stackrel{null}{&lt;:}}}B?\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A \mathrel{\operatorname{\stackrel{null}{&lt;:}}}B\)</span> if <span class="math inline">\(\nexists T!! : B &lt;: T!!\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A? \not \mathrel{\operatorname{\stackrel{null}{&lt;:}}}B\)</span></span></li>
</ol>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: these rules represent the following idea derived from the nullability lozenge.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(A \not \mathrel{\operatorname{\stackrel{null}{&lt;:}}}B\)</span> if <span class="math inline">\(B\)</span> is definitely non-nullable and <span class="math inline">\(A\)</span> may be nullable or <span class="math inline">\(B\)</span> may be non-nullable and <span class="math inline">\(A\)</span> is definitely nullable.</span></p>
</div>
</blockquote>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: these rules follow the structure of the nullability lozenge and check the absence of nullability violation <span class="math inline">\(A? \mathrel{\operatorname{\stackrel{null}{&lt;:}}}B!!\)</span> via underapproximating it using the <em>supertype</em> relation (as we cannot enumerate the <em>subtype</em> relation for <span class="math inline">\(B\)</span>).</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb11"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">class</span> <span class="dt">Foo</span><span class="op">&lt;</span><span class="dt">A</span>, <span class="dt">B</span> <span class="op">:</span> <span class="dt">A?</span><span class="op">&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">    <span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="dt">B</span> <span class="op">=</span> mk()</a>
<a class="sourceLine" id="cb11-3" title="3">    <span class="kw">val</span> <span class="va">bQ</span><span class="op">:</span> <span class="dt">B?</span> <span class="op">=</span> mk()</a>
<a class="sourceLine" id="cb11-4" title="4">    </a>
<a class="sourceLine" id="cb11-5" title="5">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-6" title="6">    <span class="co">//   B must be a subtype of A</span></a>
<a class="sourceLine" id="cb11-7" title="7">    <span class="co">// Subtyping by nullability holds per rule 4</span></a>
<a class="sourceLine" id="cb11-8" title="8">    <span class="co">// Regular subtyping does not hold,</span></a>
<a class="sourceLine" id="cb11-9" title="9">    <span class="co">//   as B &lt;: A? is not enough to show B &lt;: A</span></a>
<a class="sourceLine" id="cb11-10" title="10">    <span class="co">//   (we are missing B!! &lt;: A!!)</span></a>
<a class="sourceLine" id="cb11-11" title="11">    <span class="kw">val</span> <span class="va">ab</span><span class="op">:</span> <span class="dt">A</span> <span class="op">=</span> b <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb11-12" title="12"></a>
<a class="sourceLine" id="cb11-13" title="13">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-14" title="14">    <span class="co">//   B? must be a subtype of A</span></a>
<a class="sourceLine" id="cb11-15" title="15">    <span class="co">// Subtyping by nullability does not hold per rule 5</span></a>
<a class="sourceLine" id="cb11-16" title="16">    <span class="kw">val</span> <span class="va">abQ</span><span class="op">:</span> <span class="dt">A</span> <span class="op">=</span> bQ <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb11-17" title="17">    </a>
<a class="sourceLine" id="cb11-18" title="18">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-19" title="19">    <span class="co">//   B must be a subtype of A?</span></a>
<a class="sourceLine" id="cb11-20" title="20">    <span class="co">// Subtyping by nullability holds per rule 3</span></a>
<a class="sourceLine" id="cb11-21" title="21">    <span class="co">// Regular subtyping does hold,</span></a>
<a class="sourceLine" id="cb11-22" title="22">    <span class="co">//   as B &lt;: A? is enough to show B &lt;: A?</span></a>
<a class="sourceLine" id="cb11-23" title="23">    <span class="kw">val</span> <span class="va">aQb</span><span class="op">:</span> <span class="dt">A?</span> <span class="op">=</span> b <span class="co">// OK</span></a>
<a class="sourceLine" id="cb11-24" title="24">    </a>
<a class="sourceLine" id="cb11-25" title="25">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-26" title="26">    <span class="co">//   B? must be a subtype of A?</span></a>
<a class="sourceLine" id="cb11-27" title="27">    <span class="co">// Subtyping by nullability holds per rule 3</span></a>
<a class="sourceLine" id="cb11-28" title="28">    <span class="co">// Regular subtyping does hold,</span></a>
<a class="sourceLine" id="cb11-29" title="29">    <span class="co">//   as B &lt;: A? is enough to show B? &lt;: A?</span></a>
<a class="sourceLine" id="cb11-30" title="30">    <span class="co">//   (taking the upper edge of the nullability lozenge)</span></a>
<a class="sourceLine" id="cb11-31" title="31">    <span class="kw">val</span> <span class="va">aQbQ</span><span class="op">:</span> <span class="dt">A?</span> <span class="op">=</span> bQ <span class="co">// OK</span></a>
<a class="sourceLine" id="cb11-32" title="32"><span class="op">}</span></a>
<a class="sourceLine" id="cb11-33" title="33"></a>
<a class="sourceLine" id="cb11-34" title="34"><span class="kw">class</span> <span class="dt">Bar</span><span class="op">&lt;</span><span class="dt">A</span>, <span class="dt">B</span> <span class="op">:</span> <span class="dt">A</span><span class="op">&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-35" title="35">    <span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="dt">B</span> <span class="op">=</span> mk()</a>
<a class="sourceLine" id="cb11-36" title="36">    <span class="kw">val</span> <span class="va">bQ</span><span class="op">:</span> <span class="dt">B?</span> <span class="op">=</span> mk()</a>
<a class="sourceLine" id="cb11-37" title="37">    </a>
<a class="sourceLine" id="cb11-38" title="38">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-39" title="39">    <span class="co">//   B must be a subtype of A</span></a>
<a class="sourceLine" id="cb11-40" title="40">    <span class="co">// Subtyping by nullability holds per rule 4</span></a>
<a class="sourceLine" id="cb11-41" title="41">    <span class="co">// Regular subtyping does hold,</span></a>
<a class="sourceLine" id="cb11-42" title="42">    <span class="co">//   as B &lt;: A is enough to show B &lt;: A</span></a>
<a class="sourceLine" id="cb11-43" title="43">    <span class="kw">val</span> <span class="va">ab</span><span class="op">:</span> <span class="dt">A</span> <span class="op">=</span> b <span class="co">// OK</span></a>
<a class="sourceLine" id="cb11-44" title="44"></a>
<a class="sourceLine" id="cb11-45" title="45">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-46" title="46">    <span class="co">//   B? must be a subtype of A</span></a>
<a class="sourceLine" id="cb11-47" title="47">    <span class="co">// Subtyping by nullability does not hold per rule 5</span></a>
<a class="sourceLine" id="cb11-48" title="48">    <span class="kw">val</span> <span class="va">abQ</span><span class="op">:</span> <span class="dt">A</span> <span class="op">=</span> bQ <span class="co">// ERROR</span></a>
<a class="sourceLine" id="cb11-49" title="49">    </a>
<a class="sourceLine" id="cb11-50" title="50">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-51" title="51">    <span class="co">//   B must be a subtype of A?</span></a>
<a class="sourceLine" id="cb11-52" title="52">    <span class="co">// Subtyping by nullability holds per rule 3</span></a>
<a class="sourceLine" id="cb11-53" title="53">    <span class="co">// Regular subtyping does hold,</span></a>
<a class="sourceLine" id="cb11-54" title="54">    <span class="co">//   as B &lt;: A is enough to show B &lt;: A?</span></a>
<a class="sourceLine" id="cb11-55" title="55">    <span class="co">//   (taking the upper triangle of the nullability lozenge)</span></a>
<a class="sourceLine" id="cb11-56" title="56">    <span class="kw">val</span> <span class="va">aQb</span><span class="op">:</span> <span class="dt">A?</span> <span class="op">=</span> b <span class="co">// OK</span></a>
<a class="sourceLine" id="cb11-57" title="57">    </a>
<a class="sourceLine" id="cb11-58" title="58">    <span class="co">// For this assignment to be well-formed,</span></a>
<a class="sourceLine" id="cb11-59" title="59">    <span class="co">//   B? must be a subtype of A?</span></a>
<a class="sourceLine" id="cb11-60" title="60">    <span class="co">// Subtyping by nullability holds per rule 3</span></a>
<a class="sourceLine" id="cb11-61" title="61">    <span class="co">// Regular subtyping does hold,</span></a>
<a class="sourceLine" id="cb11-62" title="62">    <span class="co">//   as B &lt;: A is enough to show B? &lt;: A?</span></a>
<a class="sourceLine" id="cb11-63" title="63">    <span class="co">//   (taking the upper edge of the nullability lozenge)</span></a>
<a class="sourceLine" id="cb11-64" title="64">    <span class="kw">val</span> <span class="va">aQbQ</span><span class="op">:</span> <span class="dt">A?</span> <span class="op">=</span> bQ <span class="co">// OK</span></a>
<a class="sourceLine" id="cb11-65" title="65"><span class="op">}</span></a></code></pre></div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="150" height="40" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="142.5" y1="52.5" x2="232.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="52.5" x2="330" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 337.5 52.5 L 322.5 57.5 L 322.5 47.5 Z "/></g><line x1="67.5" y1="37.5" x2="67.5" y2="75" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 67.5 82.5 L 62.5 67.5 L 72.5 67.5 Z "/></g><line x1="142.5" y1="37.5" x2="142.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="37.5" x2="232.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="37.5" x2="412.5" y2="75" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 412.5 82.5 L 407.5 67.5 L 417.5 67.5 Z "/></g><line x1="187.5" y1="52.5" x2="187.5" y2="75" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 187.5 82.5 L 182.5 67.5 L 192.5 67.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="60.5" y="30.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >A</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="129.5" y="30.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >B?</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="212.5" y="30.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >C!!</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="405.5" y="30.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >A</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="60.5" y="105.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >B</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="180.5" y="105.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >T</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="405.5" y="105.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >T</text></g></svg>
' />
</div>
<div class="paragraph">
<p><span class="sentence">This example shows a situation, when the subtyping by nullability relation from <span class="math inline">\(T &lt;: C!!\)</span> is used to prove <span class="math inline">\(T &lt;: A\)</span>.</span></p>
</div>
</blockquote>
<h3 id="upper-and-lower-bounds">Upper and lower bounds</h3>
<div class="paragraph">
<p><span class="sentence">A type <span class="math inline">\(U\)</span> is an <em>upper bound</em> of types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> if <span class="math inline">\(A &lt;: U\)</span> and <span class="math inline">\(B &lt;: U\)</span>. </span><span class="sentence">A type <span class="math inline">\(L\)</span> is a <em>lower bound</em> of types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> if <span class="math inline">\(L &lt;: A\)</span> and <span class="math inline">\(L &lt;: B\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: as the type system of Kotlin is bounded by definition (the upper bound of all types is <span class="math inline">\(\operatorname{\texttt{kotlin.Any?}}\)</span>, and the lower bound of all types is <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span>), any two types have at least one lower bound and at least one upper bound.</span></p>
</div>
</blockquote>
<h4 id="least-upper-bound">Least upper bound</h4>
<div class="paragraph">
<p><span class="sentence">The <em>least upper bound</em> <span class="math inline">\(\operatorname{\text{LUB}}(A, B)\)</span> of types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> is an upper bound <span class="math inline">\(U\)</span> of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> such that there is no other upper bound of these types which is less by subtyping relation than <span class="math inline">\(U\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: <span class="math inline">\(\operatorname{\text{LUB}}\)</span> is commutative, i.e., <span class="math inline">\(\operatorname{\text{LUB}}(A, B) = \operatorname{\text{LUB}}(B, A)\)</span>. </span><span class="sentence">This property is used in the subsequent description, e.g., other properties of <span class="math inline">\(\operatorname{\text{LUB}}\)</span> are defined only for a specific order of the arguments. </span><span class="sentence">Definitions following from commutativity of <span class="math inline">\(\operatorname{\text{LUB}}\)</span> are implied.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\text{LUB}}(A, B)\)</span> has the following properties, which may be used to <em>normalize</em> it. </span><span class="sentence">This normalization procedure, if finite, creates a <em>canonical</em> representation of LUB.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are considered to be non-flexible, unless specified otherwise.</span></p>
</div>
</blockquote>
<ul>
<li><div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\text{LUB}}(A, A) = A\)</span></span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">if <span class="math inline">\(A &lt;: B\)</span>, <span class="math inline">\(\operatorname{\text{LUB}}(A, B) = B\)</span></span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">if <span class="math inline">\(A\)</span> is nullable, <span class="math inline">\(\operatorname{\text{LUB}}(A, B) = \operatorname{\text{LUB}}(A!!, B!!)?\)</span></span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">if <span class="math inline">\(A = T\langle K_{A,1}, \ldots, K_{A,n}\rangle\)</span> and <span class="math inline">\(B = T\langle K_{B,1}, \ldots, K_{B,n}\rangle\)</span>, <span class="math inline">\(\operatorname{\text{LUB}}(A, B) = T\langle \phi(\eta(K_{A,1}), \eta(K_{B,1})), \ldots, \phi(\eta(K_{A,n}), \eta(K_{B,n}))\rangle\)</span>, where <span class="math inline">\(\eta(T)\)</span> and <span class="math inline">\(\phi(X, Y)\)</span> are defined as follows:</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
  \eta(K : L &lt;: K &lt;: U) = \{\operatorname{\texttt{out\,}}U, \operatorname{\texttt{in\,}}L\}
  \]</span></span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: in many cases, one may view <span class="math inline">\(\eta(T)\)</span> as follows. </span><span class="sentence"><span class="math display">\[
\begin{aligned}
    \eta(\operatorname{\texttt{inv\,}}X) &amp;= \{\operatorname{\texttt{out\,}}X, \operatorname{\texttt{in\,}}X\} \\
    \eta(\operatorname{\texttt{out\,}}X) &amp;= \{\operatorname{\texttt{out\,}}X, \operatorname{\texttt{in\,}}\operatorname{\texttt{kotlin.Nothing}}\} \\
    \eta(\operatorname{\texttt{in\,}}X)  &amp;= \{\operatorname{\texttt{out\,}}\operatorname{\texttt{kotlin.Any?}}, \operatorname{\texttt{in\,}}X\} \\
    \eta(\star)   &amp;= \{\operatorname{\texttt{out\,}}\operatorname{\texttt{kotlin.Any?}}, \operatorname{\texttt{in\,}}\operatorname{\texttt{kotlin.Nothing}}\} 
\end{aligned}
\]</span></span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
  \begin{aligned}
      &amp;\phi(\{\operatorname{\texttt{out\,}}X_{out}, \operatorname{\texttt{in\,}}X_{in}\}, \{\operatorname{\texttt{out\,}}Y_{out}, \operatorname{\texttt{in\,}}Y_{in}\}) = \\
      &amp; \qquad \eta^{-1} (\{\operatorname{\texttt{out\,}}\operatorname{\text{LUB}}(X_{out}, Y_{out}), \operatorname{\texttt{in\,}}\operatorname{\text{GLB}}(X_{in}, Y_{in})\})
  \end{aligned}
  \]</span></span></p>
</div></li>
<li><span class="sentence">if <span class="math inline">\(A = (L_A..U_A)\)</span> and <span class="math inline">\(B = (L_B..U_B)\)</span>, <span class="math inline">\(\operatorname{\text{LUB}}(A, B) = (\operatorname{\text{LUB}}(L_A, L_B)..\operatorname{\text{LUB}}(U_A, U_B))\)</span></span></li>
<li><div class="paragraph">
<p><span class="sentence">if <span class="math inline">\(A = (L_A..U_A)\)</span> and <span class="math inline">\(B\)</span> is not flexible, <span class="math inline">\(\operatorname{\text{LUB}}(A, B) = (\operatorname{\text{LUB}}(L_A, B)..\operatorname{\text{LUB}}(U_A, B))\)</span></span></p>
</div></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: in some cases, the least upper bound is handled as described <a href="#the-relations-on-types-as-constraints">here</a>, from the point of view of type constraint system.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">In the presence of recursively defined parameterized types, the algorithm given above is not guaranteed to terminate as there may not exist a finite representation of <span class="math inline">\(\operatorname{\text{LUB}}\)</span> for particular two types. </span><span class="sentence">The detection and handling of such situations (compile-time error or leaving the type in some kind of denormalized state) is implementation-defined.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In some situations, it is needed to construct the least upper bound for more than two types, in which case the least upper bound operator <span class="math inline">\(\operatorname{\text{LUB}}(T_1, T_2, \ldots, T_N)\)</span> is defined as <span class="math inline">\(\operatorname{\text{LUB}}(T_1, \operatorname{\text{LUB}}(T_2, \ldots, T_N))\)</span>.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(It is probably order-dependent or needs to be proven otherwise)</span></p>
</div>
</div>
<h4 id="greatest-lower-bound">Greatest lower bound</h4>
<div class="paragraph">
<p><span class="sentence">The <em>greatest lower bound</em> <span class="math inline">\(\operatorname{\text{GLB}}(A, B)\)</span> of types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> is a lower bound <span class="math inline">\(L\)</span> of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> such that there is no other lower bound of these types which is greater by subtyping relation than <span class="math inline">\(L\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: <span class="math inline">\(\operatorname{\text{GLB}}\)</span> is commutative, i.e., <span class="math inline">\(\operatorname{\text{GLB}}(A, B) = \operatorname{\text{GLB}}(B, A)\)</span>. </span><span class="sentence">This property is used in the subsequent description, e.g., other properties of <span class="math inline">\(\operatorname{\text{GLB}}\)</span> are defined only for a specific order of the arguments. </span><span class="sentence">Definitions following from commutativity of <span class="math inline">\(\operatorname{\text{GLB}}\)</span> are implied.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\text{GLB}}(A, B)\)</span> has the following properties, which may be used to <em>normalize</em> it. </span><span class="sentence">This normalization procedure, if finite, creates a <em>canonical</em> representation of GLB.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are considered to be non-flexible, unless specified otherwise.</span></p>
</div>
</blockquote>
<ul>
<li><div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\text{GLB}}(A, A) = A\)</span></span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">if <span class="math inline">\(A &lt;: B\)</span>, <span class="math inline">\(\operatorname{\text{GLB}}(A, B) = A\)</span></span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">if <span class="math inline">\(A\)</span> is non-nullable, <span class="math inline">\(\operatorname{\text{GLB}}(A, B) = \operatorname{\text{GLB}}(A!!, B!!)\)</span></span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">if <span class="math inline">\(A = T\langle K_{A,1}, \ldots, K_{A,n}\rangle\)</span> and <span class="math inline">\(B = T\langle K_{B,1}, \ldots, K_{B,n}\rangle\)</span>, <span class="math inline">\(\operatorname{\text{GLB}}(A, B) = T\langle \phi(\eta(K_{A,1}), \eta(K_{B,1})), \ldots, \phi(\eta(K_{A,n}), \eta(K_{B,n}))\rangle\)</span>, where <span class="math inline">\(\eta(T)\)</span> and <span class="math inline">\(\phi(X, Y)\)</span> are defined as follows:</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
  \eta(K : L &lt;: K &lt;: U) = \{\operatorname{\texttt{out\,}}U, \operatorname{\texttt{in\,}}L\}
  \]</span></span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: in many cases, one may view <span class="math inline">\(\eta(T)\)</span> as follows. </span><span class="sentence"><span class="math display">\[
\begin{aligned}
    \eta(\operatorname{\texttt{inv\,}}X) &amp;= \{\operatorname{\texttt{out\,}}X, \operatorname{\texttt{in\,}}X\} \\
    \eta(\operatorname{\texttt{out\,}}X) &amp;= \{\operatorname{\texttt{out\,}}X, \operatorname{\texttt{in\,}}\operatorname{\texttt{kotlin.Nothing}}\} \\
    \eta(\operatorname{\texttt{in\,}}X)  &amp;= \{\operatorname{\texttt{out\,}}\operatorname{\texttt{kotlin.Any?}}, \operatorname{\texttt{in\,}}X\} \\
    \eta(\star)   &amp;= \{\operatorname{\texttt{out\,}}\operatorname{\texttt{kotlin.Any?}}, \operatorname{\texttt{in\,}}\operatorname{\texttt{kotlin.Nothing}}\} 
\end{aligned}
\]</span></span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
  \begin{aligned}
     &amp; {\phi(\{\operatorname{\texttt{out\,}}X_{out}, \operatorname{\texttt{in\,}}X_{in}\}, \{\operatorname{\texttt{out\,}}Y_{out}, \operatorname{\texttt{in\,}}Y_{in}\}) = } \\
     &amp; \qquad {(\eta^{-1} \circ \Omega)} (\{\operatorname{\texttt{out\,}}\operatorname{\text{GLB}}(X_{out}, Y_{out}), \operatorname{\texttt{in\,}}\operatorname{\text{LUB}}(X_{in}, Y_{in})\}) \\
     &amp; {\Omega(\{\operatorname{\texttt{out\,}}A, \operatorname{\texttt{in\,}}B\}) = } \\
     &amp; \qquad
       \begin{cases}
          \{\operatorname{\texttt{out\,}}A, \operatorname{\texttt{in\,}}B\}        &amp; \text{if } A :&gt; B \\
          \{\operatorname{\texttt{out\,}}A, \operatorname{\texttt{in\,}}\operatorname{\texttt{kotlin.Nothing}}\} &amp; \text{if } A &lt;: B \land A \not \equiv B
       \end{cases}
  \end{aligned}
  \]</span></span></p>
</div></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the <span class="math inline">\(\Omega\)</span> function preserves type system consistency; <span class="math inline">\(\forall A, B : A &lt;: B \land A \not\equiv B\)</span>, type <span class="math inline">\(T\langle \{\operatorname{\texttt{out\,}}A, \operatorname{\texttt{in\,}}B\}\rangle\)</span> is the evidence of type <span class="math inline">\(T\langle X\rangle : X &lt;: A &lt;: B &lt;: X\)</span>, which makes the type system inconsistent. </span><span class="sentence">To avoid this situation, we overapproximate <span class="math inline">\(\operatorname{\texttt{in\,}}B\)</span> with <span class="math inline">\(\operatorname{\texttt{in\,}}\operatorname{\texttt{kotlin.Nothing}}\)</span> when needed. </span><span class="sentence">Further details are available in the <a href="#references-1">â€œMixed-site varianceâ€ paper</a>.</span></p>
</div>
</blockquote>
<ul>
<li><span class="sentence">if <span class="math inline">\(A = (L_A..U_A)\)</span> and <span class="math inline">\(B = (L_B..U_B)\)</span>, <span class="math inline">\(\operatorname{\text{GLB}}(A, B) = (\operatorname{\text{GLB}}(L_A, L_B)..\operatorname{\text{GLB}}(U_A, U_B))\)</span></span></li>
<li><span class="sentence">if <span class="math inline">\(A = (L_A..U_A)\)</span> and <span class="math inline">\(B\)</span> is not flexible, <span class="math inline">\(\operatorname{\text{GLB}}(A, B) = (\operatorname{\text{GLB}}(L_A, B)..\operatorname{\text{GLB}}(U_A, B))\)</span></span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: in some cases, the greatest lower bound is handled as described <a href="#the-relations-on-types-as-constraints">here</a>, from the point of view of type constraint system.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">In the presence of recursively defined parameterized types, the algorithm given above is not guaranteed to terminate as there may not exist a finite representation of <span class="math inline">\(\operatorname{\text{GLB}}\)</span> for particular two types. </span><span class="sentence">The detection and handling of such situations (compile-time error or leaving the type in some kind of denormalized state) is implementation-defined.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In some situations, it is needed to construct the least upper bound for more than two types, in which case the least upper bound operator <span class="math inline">\(\operatorname{\text{GLB}}(T_1, T_2, \ldots, T_N)\)</span> is defined as <span class="math inline">\(\operatorname{\text{GLB}}(T_1, \operatorname{\text{GLB}}(T_2, \ldots, T_N))\)</span>.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(It is probably order-dependent or needs to be proven otherwise)</span></p>
</div>
</div>
<h3 id="type-approximation">Type approximation</h3>
<div class="paragraph">
<p><span class="sentence">As we mentioned <a href="#type-kinds">before</a>, Kotlin type system has denotable and non-denotable types. </span><span class="sentence">In many cases, we need to <em>approximate</em> a non-denotable type, which appeared, for example, during type inference, into a denotable type, so that it can be used in the program. </span><span class="sentence">This is achieved via <em>type approximation</em>, which we describe below.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: at the moment, type approximation is applied only to <a href="#intersection-types">intersection</a> and <a href="#union-types">union</a> types.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Type approximation function <span class="math inline">\(\alpha\)</span> is defined as follows.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(\alpha(A\langle \tau_A \rangle \mathbin{\operatorname{\&amp;}}B\langle \tau_B \rangle) = (\alpha {\downarrow} \circ \operatorname{\text{GLB}})(S\langle \tau_{A \rightarrow S} \rangle, S\langle \tau_{B \rightarrow S} \rangle)\)</span>, where type <span class="math inline">\(S\)</span> is the least common supertype of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, substitution <span class="math inline">\(\tau_{P \rightarrow Q}\)</span> is the result of chain applying substitutions from type <span class="math inline">\(P\)</span> to type <span class="math inline">\(Q :&gt; P\)</span>, <span class="math inline">\(\alpha {\downarrow}\)</span> is a function which applies type approximation function to the type arguments if needed;</span></li>
<li><span class="sentence"><span class="math inline">\(\alpha(A\langle \tau_A \rangle \mathbin{\operatorname{|}}B\langle \tau_B \rangle) = \alpha(\delta(A\langle \tau_A \rangle \mathbin{\operatorname{|}}B\langle \tau_B \rangle))\)</span>, where <span class="math inline">\(\delta\)</span> is the <a href="#type-decaying">type decaying</a> function.</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Type approximation for captured types)</span></p>
</div>
</div>
<h3 id="type-decaying">Type decaying</h3>
<div class="paragraph">
<p><span class="sentence">All <a href="#union-types">union types</a> are subject to <em>type decaying</em>, when they are converted to a specific <a href="#intersection-types">intersection type</a>, representable within Kotlin type system.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: at the moment, type decaying is applied only to <a href="#union-types">union</a> types. </span><span class="sentence">Note: type decaying is comparable to how <em>least upper bound</em> computation works in Java.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Type decaying function <span class="math inline">\(\delta\)</span> is defined as follows.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(\delta(A\langle \tau_A \rangle \mathbin{\operatorname{|}}B\langle \tau_B \rangle) = \mathbin{\operatorname{\&amp;}}_{S \in \mathbb{S}(A, B)} (\delta {\downarrow} \circ \operatorname{\text{GLB}})(S\langle \tau_{A \rightarrow S} \rangle, S\langle \tau_{B \rightarrow S} \rangle)\)</span>, where substitution <span class="math inline">\(\tau_{P \rightarrow Q}\)</span> is the result of chain applying substitutions from type <span class="math inline">\(P\)</span> to type <span class="math inline">\(Q :&gt; P\)</span>, <span class="math inline">\(\delta {\downarrow}\)</span> is a function which applies type decaying function to the type arguments if needed, <span class="math inline">\(\mathbb{S}(A, B)\)</span> is a set of most specific common supertypes of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: a set of most specific common supertypes <span class="math inline">\(\mathbb{S}(A, B)\)</span> is a reduction of a set of all common supertypes <span class="math inline">\(\mathbb{U}(A, B)\)</span>, which excludes all types <span class="math inline">\(T \in \mathbb{U}\)</span> such that <span class="math inline">\(\exists V \in \mathbb{U} : V \neq T \land V &lt;: T\)</span>.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Specify when we drop type arguments when doing type approximation / decaying business)</span></p>
</div>
</div>
<h3 id="references">References</h3>
<ol type="1">
<li><span class="sentence">Ross Tate. </span><span class="sentence">â€œMixed-site variance.â€ FOOL, 2013.</span></li>
<li><span class="sentence">Ross Tate, Alan Leung, and Sorin Lerner. </span><span class="sentence">â€œTaming wildcards in Javaâ€™s type system.â€ PLDI, 2011.</span></li>
</ol>
<h2 id="built-in-types-and-their-semantics">Built-in types and their semantics</h2>
<div class="paragraph">
<p><span class="sentence">Kotlin has several built-in classifier types, which are important for the rest of this document. </span><span class="sentence">Some information about these types is given in the <a href="#built-in-types">type system section</a>, here we extend it with additional non-type-system-relevant details.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: these types may have regular declarations in the standard library, but they also introduce semantics not representable via Kotlin source code.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">In this section we describe these types and their semantics.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this section is not meant to be a detailed description of all types available in the standard library, for that please refer to the standard library documentation.</span></p>
</div>
</blockquote>
<h3 id="kotlin.any-1"><code>kotlin.Any</code></h3>
<div class="paragraph">
<p><span class="sentence">Besides being the <a href="#kotlin.any">unified supertype</a> of all non-nullable types, <span class="math inline">\(\operatorname{\texttt{kotlin.Any}}\)</span> must also provide the following methods.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb12"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">public</span> <span class="kw">open</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">equals</span><span class="op">(</span><span class="va">other</span><span class="op">:</span> <span class="dt">Any?</span><span class="op">):</span> <span class="dt">Boolean</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns <code>true</code> iff a value is equal to some other value. </span><span class="sentence">Implementations of <code>equals</code> must satisfy the properties of reflexivity (<code>x.equals(x)</code> is always true), symmetry (<code>x.equals(y) == y.equals(x)</code>), transitivity (if <code>x.equals(y)</code> is true and <code>y.equals(z)</code> is true, <code>x.equals(z)</code> is also true) and consistency (<code>x.equals(y)</code> should not change its result between multiple invocations). </span><span class="sentence">A non-null value also must never be considered equal to <code>null</code>, i.e., <code>x.equals(null)</code> must be <code>false</code>.</span></p>
</div></li>
<li><div class="sourceCode" id="cb13"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">public</span> <span class="kw">open</span> <span class="kw">fun</span> <span class="fu">hashCode</span><span class="op">():</span> <span class="dt">Int</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns the hash code for a value. </span><span class="sentence">Implementations of <code>hashCode</code> must satisfy the following property: if two values are equals w.r.t. <code>equals</code>, <code>hashCode</code> must consistently produce the same result.</span></p>
</div></li>
<li><div class="sourceCode" id="cb14"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">public</span> <span class="kw">open</span> <span class="kw">fun</span> <span class="fu">toString</span><span class="op">():</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns a string representation of a value.</span></p>
</div></li>
</ul>
<h3 id="kotlin.nothing-1"><code>kotlin.Nothing</code></h3>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> is an <a href="#kotlin.nothing">uninhabited type</a>, which means the evaluation of an expression with <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> type can never complete normally. </span><span class="sentence">Therefore, it is used to mark special situations, such as</span></p>
</div>
<ul>
<li><span class="sentence">non-terminating expressions</span></li>
<li><span class="sentence">exceptional control flow</span></li>
<li><span class="sentence">control flow transfer</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Further details about how <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> should be handled are available <a href="#control--and-data-flow-analysis">here</a> and <a href="#type-inference">here</a>.</span></p>
</div>
<h3 id="kotlin.unit"><code>kotlin.Unit</code></h3>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\texttt{kotlin.Unit}}\)</span> is a unit type, i.e., a type with only one value <span class="math inline">\(\operatorname{\texttt{kotlin.Unit}}\)</span>; all values of type <span class="math inline">\(\operatorname{\texttt{kotlin.Unit}}\)</span> should reference the same underlying <span class="math inline">\(\operatorname{\texttt{kotlin.Unit}}\)</span> object. </span><span class="sentence">It is somewhat similar in purpose to <code>void</code> return type in other programming languages, but has several minor differences, which fall outside the scope of this specification.</span></p>
</div>
<h3 id="kotlin.boolean"><code>kotlin.Boolean</code></h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Boolean</code> is the boolean logic type of Kotlin, representing a value which may be either <code>true</code> or <code>false</code>. </span><span class="sentence">It is the type of <a href="#boolean-literals">boolean literals</a> as well as the type returned or expected by some built-in Kotlin operators.</span></p>
</div>
<h3 id="built-in-integer-types-1">Built-in integer types</h3>
<div class="paragraph">
<p><span class="sentence">Kotlin has several built-in classifier types, which represent signed integer numbers of different bit size. </span><span class="sentence">These types are important w.r.t. <a href="#built-in-integer-types">type system</a> and <a href="#integer-literals">integer literals</a>. </span><span class="sentence">Every built-in integer type <code>I</code> is a subtype of <a href="#kotlin.comparable"><code>kotlin.Comparable&lt;I&gt;</code></a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The signed integer types are the following.</span></p>
</div>
<ul>
<li><span class="sentence"><code>kotlin.Int</code></span></li>
<li><span class="sentence"><code>kotlin.Short</code></span></li>
<li><span class="sentence"><code>kotlin.Byte</code></span></li>
<li><span class="sentence"><code>kotlin.Long</code></span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin does not have a built-in arbitrary-precision integer type.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin does not have any built-in unsigned integer types.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO([Kotlin 1.3+, Experimental] Add unsigned types)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">These types may or may not have different runtime representations, depending on the used platform and/or implementation. </span><span class="sentence">Consult the specific platform reference for further details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Int</code> is the type of integer numbers that is required to be able to hold the values at least in the range from <span class="math inline">\(-2^{31}\)</span> to <span class="math inline">\(2^{31} - 1\)</span>. </span><span class="sentence">If an arithmetic operation on <code>kotlin.Int</code> results in arithmetic overflow, the result is unspecified.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Short</code> is the type of integer numbers that is required to be able to hold the values at least in the range from <span class="math inline">\(-2^{15}\)</span> to <span class="math inline">\(2^{15} - 1\)</span>. </span><span class="sentence">If an arithmetic operation on <code>kotlin.Short</code> results in arithmetic overflow, the result is unspecified.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Byte</code> is the type of integer numbers that is required to be able to hold the values at least in the range from <span class="math inline">\(-2^{7}\)</span> to <span class="math inline">\(2^{7} - 1\)</span>. </span><span class="sentence">If an arithmetic operation on <code>kotlin.Byte</code> results in arithmetic overflow, the result is unspecified.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Long</code> is the type of integer numbers that is required to be able to hold the values at least in the range from <span class="math inline">\(-2^{63}\)</span> to <span class="math inline">\(2^{63} - 1\)</span>. </span><span class="sentence">If an arithmetic operation on <code>kotlin.Long</code> results in arithmetic overflow, the result is unspecified.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: by â€œarithmetic overflowâ€ we assume both positive and negative integer overflows.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: a platform implementation may specify behaviour for an arithmetic overflow.</span></p>
</div>
</blockquote>
<h4 id="integer-type-widening">Integer type widening</h4>
<div class="paragraph">
<p><span class="sentence">In <a href="#overload-resolution">overload resolution</a>, we actually have a priority between built-in integer types which is very similar to a <a href="#subtyping">subtyping</a> relation between these types; however, this priority is important only w.r.t. overload resolution and does not entail any actual subtyping between built-in integer types.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In order to introduce this priority we describe a type transformation called <em>widening</em> of integer types. </span><span class="sentence"><span class="math inline">\(\operatorname{\text{Widen}}(T)\)</span> for a built-in integer type <span class="math inline">\(T\)</span> is defined as follows:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(\operatorname{\text{Widen}}(\operatorname{\texttt{kotlin.Int}}) = \operatorname{\texttt{kotlin.Int}}\mathbin{\operatorname{\&amp;}}\operatorname{\texttt{kotlin.Short}}\mathbin{\operatorname{\&amp;}}\operatorname{\texttt{kotlin.Byte}}\mathbin{\operatorname{\&amp;}}\operatorname{\texttt{kotlin.Long}}\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\operatorname{\text{Widen}}(\operatorname{\texttt{kotlin.Short}}) = \operatorname{\texttt{kotlin.Short}}\mathbin{\operatorname{\&amp;}}\operatorname{\texttt{kotlin.Byte}}\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\operatorname{\text{Widen}}(T) = T\)</span> for any other <span class="math inline">\(T\)</span></span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: <span class="math inline">\(\operatorname{\text{Widen}}\)</span> means, for the purposes of overload resolution, <span class="math inline">\(\operatorname{\texttt{kotlin.Int}}\)</span> is preferred over any other built-in integer type and <span class="math inline">\(\operatorname{\texttt{kotlin.Short}}\)</span> is preferred to <span class="math inline">\(\operatorname{\texttt{kotlin.Byte}}\)</span>. </span><span class="sentence">Using <span class="math inline">\(\operatorname{\text{Widen}}\)</span>, we can reduce this priority to subtyping: <span class="math inline">\(T\)</span> is more preferred than <span class="math inline">\(U\)</span> if <span class="math inline">\(\operatorname{\text{Widen}}(T) &lt;: \operatorname{\text{Widen}}(U)\)</span>; this scheme allows to handle built-in integer types transparently when selecting the <a href="#algorithm-of-msc-selection">most specific overload candidate</a>.</span></p>
</div>
</blockquote>
<h3 id="built-in-floating-point-arithmetic-types">Built-in floating point arithmetic types</h3>
<div class="paragraph">
<p><span class="sentence">There are two built-in classifier types which represent floating-point numbers: <code>kotlin.Float</code> and <code>kotlin.Double</code>. </span><span class="sentence">These types may or may not have different runtime representations, depending on the used platform and/or implementation. </span><span class="sentence">Consult the specific platform reference for further details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Float</code> is the type of floating-point number that is able to contain all the numbers as a <a href="https://ieeexplore.ieee.org/document/8766229">IEEE 754</a> single-precision binary floating number with the same precision. </span><span class="sentence"><code>kotlin.Float</code> is a subtype of <a href="#kotlin.comparable"><code>kotlin.Comparable&lt;kotlin.Float&gt;</code></a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Double</code> is the type of floating-point number that is able to contain all the numbers as a <a href="https://ieeexplore.ieee.org/document/8766229">IEEE 754</a> double-precision binary floating number with the same precision. </span><span class="sentence"><code>kotlin.Double</code> is a subtype of <a href="#kotlin.comparable"><code>kotlin.Comparable&lt;kotlin.Double&gt;</code></a>.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO([Kotlin.JVM] Specify IEEE 754 quirks w.r.t. smart casts, cc <span class="citation" data-cites="dmitry.petrov">@dmitry.petrov</span>)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">Platform implementations may give additional information on how these types are represented on a particular platform.</span></p>
</div>
<h3 id="kotlin.char"><code>kotlin.Char</code></h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Char</code> is the built-in classifier type which represents a single Unicode symbol in <a href="https://standards.iso.org/ittf/PubliclyAvailableStandards/c069119_ISO_IEC_10646_2017.zip">UCS-2</a> character encoding. </span><span class="sentence">It is the type of <a href="#character-literals">character literals</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: a platform implementation may <em>extend</em> the supported character encodings, e.g., to UTF-16.</span></p>
</div>
</blockquote>
<h3 id="kotlin.string"><code>kotlin.String</code></h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.String</code> is the built-in classifier type which represents a sequence of Unicode symbol in <a href="https://standards.iso.org/ittf/PubliclyAvailableStandards/c069119_ISO_IEC_10646_2017.zip">UCS-2</a> character encoding. </span><span class="sentence">It is the type of the result of <a href="#string-interpolation-expressions">string interpolation</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: a platform implementation may <em>extend</em> the supported character encodings, e.g., to UTF-16.</span></p>
</div>
</blockquote>
<h3 id="kotlin.enum"><code>kotlin.Enum</code></h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Enum&lt;T&gt;</code> is the built-in parameterized classifier type which is used as a superclass for all <a href="#enum-class-declaration">enum classes</a>: every enum class <code>E</code> is implicitly a subtype of <code>kotlin.Enum&lt;E&gt;</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Enum&lt;T&gt;</code> has the following characteristics.</span></p>
</div>
<ul>
<li><span class="sentence"><code>kotlin.Enum&lt;T&gt;</code> is a subtype of <a href="#kotlin.comparable"><code>kotlin.Comparable&lt;T&gt;</code></a></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Enum&lt;T&gt;</code> provides the following properties.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb15"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">public</span> <span class="kw">final</span> <span class="kw">val</span> <span class="va">name</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Contains the name of this enumeration constant, exactly as declared in its declaration.</span></p>
</div></li>
<li><div class="sourceCode" id="cb16"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">public</span> <span class="kw">final</span> <span class="kw">val</span> <span class="va">ordinal</span><span class="op">:</span> <span class="dt">Int</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Contains the ordinal of this enumeration constant, i.e., its position in the declaration, starting from zero.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Enum&lt;T&gt;</code> provides the following methods.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb17"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">public</span> <span class="kw">override</span> <span class="kw">final</span> <span class="kw">fun</span> <span class="fu">compareTo</span><span class="op">(</span><span class="va">other</span><span class="op">:</span> <span class="dt">T</span><span class="op">):</span> <span class="dt">Int</span></a></code></pre></div></li>
<li><div class="sourceCode" id="cb18"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">public</span> <span class="kw">override</span> <span class="kw">final</span> <span class="kw">fun</span> <span class="fu">equals</span><span class="op">(</span><span class="va">other</span><span class="op">:</span> <span class="dt">Any?</span><span class="op">):</span> <span class="dt">Boolean</span></a></code></pre></div></li>
<li><div class="sourceCode" id="cb19"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">public</span> <span class="kw">override</span> <span class="kw">final</span> <span class="kw">fun</span> <span class="fu">hashCode</span><span class="op">():</span> <span class="dt">Int</span></a></code></pre></div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the presence of these final methods ensures the semantics of equality and comparison for the enumeration objects, as they cannot be overridden by the user.</span></p>
</div>
</blockquote></li>
<li><div class="sourceCode" id="cb20"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">protected</span> <span class="kw">final</span> <span class="kw">fun</span> <span class="fu">clone</span><span class="op">():</span> <span class="dt">Any</span></a></code></pre></div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the <code>clone()</code> implementation throws an exception, as enumeration objects cannot be copied.</span></p>
</div>
</blockquote></li>
</ul>
<h3 id="built-in-array-types">Built-in array types</h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Array&lt;T&gt;</code> is the built-in parameterized classifier type which is used to represent an indexed fixed-size collection of elements of type <code>T</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">It is final (i.e., cannot be inherited from) and has the following public constructor.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb21"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">public</span> <span class="kw">inline</span> <span class="kw">constructor</span>(size: <span class="kw">Int</span>, init: (<span class="kw">Int</span>) -&gt; T)</a></code></pre></div>
<span class="sentence">Creates a new array with the specified size, where each element is calculated by calling the specified <code>init</code> function with the corresponding elementâ€™s index. </span><span class="sentence">The function <code>init</code> is called for each array element sequentially starting from the first one.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Array&lt;T&gt;</code> provides the following methods and properties.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb22"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="kw">get</span>(index: <span class="kw">Int</span>): T</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns the array element at the specified index. </span><span class="sentence">If the [index] is out of bounds of this array, throws an <code>IndexOutOfBoundsException</code>.</span></p>
</div></li>
<li><div class="sourceCode" id="cb23"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="kw">set</span>(index: <span class="kw">Int</span>, value: T): <span class="kw">Unit</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Sets the array element at the specified index to the specified value. </span><span class="sentence">If the [index] is out of bounds of this array, throws an <code>IndexOutOfBoundsException</code>.</span></p>
</div></li>
<li><div class="sourceCode" id="cb24"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">public</span> <span class="kw">val</span> <span class="va">size</span><span class="op">:</span> <span class="dt">Int</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns the array size.</span></p>
</div></li>
<li><div class="sourceCode" id="cb25"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">iterator</span><span class="op">():</span> <span class="dt">Iterator</span><span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Creates an <a href="#iterator-types">iterator</a> for iterating over the elements of the array.</span></p>
</div></li>
</ul>
<h4 id="specialized-array-types">Specialized array types</h4>
<div class="paragraph">
<p><span class="sentence">In addition to the general <code>kotlin.Array&lt;T&gt;</code> type, Kotlin also has the following specialized array types:</span></p>
</div>
<ul>
<li><span class="sentence"><code>kotlin.DoubleArray</code> (for <code>kotlin.Array&lt;kotlin.Double&gt;</code>)</span></li>
<li><span class="sentence"><code>kotlin.FloatArray</code> (for <code>kotlin.Array&lt;kotlin.Float&gt;</code>)</span></li>
<li><span class="sentence"><code>kotlin.LongArray</code> (for <code>kotlin.Array&lt;kotlin.Long&gt;</code>)</span></li>
<li><span class="sentence"><code>kotlin.IntArray</code> (for <code>kotlin.Array&lt;kotlin.Int&gt;</code>)</span></li>
<li><span class="sentence"><code>kotlin.ShortArray</code> (for <code>kotlin.Array&lt;kotlin.Short&gt;</code>)</span></li>
<li><span class="sentence"><code>kotlin.ByteArray</code> (for <code>kotlin.Array&lt;kotlin.Byte&gt;</code>)</span></li>
<li><span class="sentence"><code>kotlin.CharArray</code> (for <code>kotlin.Array&lt;kotlin.Char&gt;</code>)</span></li>
<li><span class="sentence"><code>kotlin.BooleanArray</code> (for <code>kotlin.Array&lt;kotlin.Boolean&gt;</code>)</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">These array types are similar to the corresponding <code>kotlin.Array&lt;T&gt;</code> type; i.e., <code>kotlin.IntArray</code> has the same methods and properties as <code>kotlin.Array&lt;Int&gt;</code>, with the following changes.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb26"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">public</span> <span class="kw">constructor</span>(size: <span class="kw">Int</span>)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Creates a new array with the specified size, where each element is set to the corresponding built-in type default value.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: default values are platform-specific.</span></p>
</div>
</blockquote></li>
<li><div class="sourceCode" id="cb27"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">iterator</span><span class="op">():</span> {<span class="dt">TYPE</span>}<span class="fu">Iterator</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Creates a <a href="#specialized-iterator-types">specialized iterator</a> for iterating over the elements of the array.</span></p>
</div></li>
</ul>
<h3 id="iterator-types">Iterator types</h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Iterator&lt;out T&gt;</code> is the built-in parameterized classifier type which is used to represent a sequence of elements of type <code>T</code>, allowing for sequential access to these elements.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">It provides the following methods.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb28"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">next</span><span class="op">():</span> <span class="dt">T</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns the next element in the sequence.</span></p>
</div></li>
<li><div class="sourceCode" id="cb29"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">hasNext</span><span class="op">():</span> <span class="dt">Boolean</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns <code>true</code> if the sequence has more elements.</span></p>
</div></li>
</ul>
<h4 id="specialized-iterator-types">Specialized iterator types</h4>
<div class="paragraph">
<p><span class="sentence">Specialized iterator types are iterator types used for <a href="#specialized-array-types">specialized array types</a>. </span><span class="sentence">They inherit <code>kotlin.Iterator&lt;out T&gt;</code> for their type (i.e., <code>kotlin.CharIterator</code> inherits <code>kotlin.Iterator&lt;Char&gt;</code>) and provide the following methods.</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb30"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">next</span><span class="op">{</span>TYPE<span class="op">}</span>(): <span class="op">{</span>TYPE<span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Returns the next element in the sequence as a specific type.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this additional method allows the compiler and/or developer to avoid unneeded platform-specific boxing/unboxing conversions.</span></p>
</div>
</blockquote></li>
</ul>
<h3 id="kotlin.throwable"><code>kotlin.Throwable</code></h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Throwable</code> is the built-in classifier type that is the base type of all <a href="#exceptions">exception types</a>. </span><span class="sentence">Any value that is used in a <a href="#throw-expressions"><code>throw</code> expression</a> must have a static type that is a subtype of <code>kotlin.Throwable</code>. </span><span class="sentence">Any type that is used in a <code>catch</code> part of the <a href="#try-expression"><code>try</code> expression</a> must be a subtype of (or equal to) <code>kotlin.Throwable</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">It provides at least the following properties:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb31"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">public</span> <span class="kw">val</span> <span class="va">message</span><span class="op">:</span> <span class="dt">String?</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">An optional message depicting the cause of the throw.</span></p>
</div></li>
<li><div class="sourceCode" id="cb32"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">public</span> <span class="kw">val</span> <span class="va">cause</span><span class="op">:</span> <span class="dt">Throwable?</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">An optional other value of type <code>kotlin.Throwable</code> allowing for nested throwables to be constructed.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Other members may exist, please refer to the standard library documentation for details. </span><span class="sentence">No subtype of <code>kotlin.Throwable</code> is allowed to have type parameters. </span><span class="sentence">Declaring such a type is a compile-time error.</span></p>
</div>
<h3 id="kotlin.comparable"><code>kotlin.Comparable</code></h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Comparable&lt;in T&gt;</code> is a built-in parameterized type which represents values that may be compared for total ordering. </span><span class="sentence">It provides the following member function:</span></p>
</div>
<div class="sourceCode" id="cb33"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">public</span> <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">compareTo</span><span class="op">(</span><span class="va">other</span><span class="op">:</span> <span class="dt">T</span><span class="op">):</span> <span class="dt">Int</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">This function is used to implement <a href="#comparison-expressions">comparison operators</a> through <a href="#operator-overloading">overloadable operator convention</a> for standard library classes.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: a type is not required to be a subtype of <code>kotlin.Comparable</code> in order to implement total ordering operations</span></p>
</div>
</blockquote>
<h3 id="kotlin.function-1"><code>kotlin.Function</code></h3>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Function&lt;out R&gt;</code> is the base classifier type of all <a href="#function-types">function types</a>. </span><span class="sentence">See the relevant section for details.</span></p>
</div>
<h3 id="built-in-annotation-types">Built-in annotation types</h3>
<div class="paragraph">
<p><span class="sentence">Kotlin has a number of built-in <a href="#annotations">annotation types</a>, which are covered in more detail <a href="#built-in-annotations">here</a>.</span></p>
</div>
<h3 id="reflection-support-builtin-types">Reflection support builtin types</h3>
<h4 id="kotlin.reflect.kclass"><code>kotlin.reflect.KClass</code></h4>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.reflect.KClass&lt;T: Any&gt;</code> is the class used to represent runtime type information for <a href="#runtime-available-types">runtime-available classifier types</a>. </span><span class="sentence">It is also used in platform-specific reflection facilities.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This is the type of <a href="#class-literals">class literals</a>. </span><span class="sentence">This type is required to introduce <code>equals</code> and <code>hashCode</code> member function implementations (see <a href="#kotlin.any-1"><code>kotlin.Any</code></a>) that allow for comparison and hashing of runtime type information, e.g., that class literals are equal if they represent the same runtime type and not equal otherwise. </span><span class="sentence">Platform definitions, as well as particular implementations, may introduce additional members for this type.</span></p>
</div>
<h4 id="kotlin.reflect.kcallable"><code>kotlin.reflect.KCallable</code></h4>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.reflect.KCallable&lt;out R&gt;</code> is the class used to represent runtime information for callables (i.e.Â properties and functions). </span><span class="sentence">It is mainly used as base type for other types described in this section. </span><span class="sentence">It provides at least the following property:</span></p>
</div>
<div class="sourceCode" id="cb34"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">public</span> <span class="kw">val</span> <span class="va">name</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">This property contains the name of the callable. </span><span class="sentence">Other members or base types for this class may be provided by platform and/or implementation.</span></p>
</div>
<h4 id="kotlin.reflect.kproperty"><code>kotlin.reflect.KProperty</code></h4>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.reflect.KProperty&lt;out R&gt;</code> is the class used to represent runtime information for <a href="#property-declaration">properties</a>. </span><span class="sentence">It is the base type of <a href="#callable-references">property references</a>. </span><span class="sentence">This type is used in <a href="#delegated-property-declaration">property delegation</a>. </span><span class="sentence"><code>kotlin.reflect.KProperty&lt;R&gt;</code> is a subtype of <code>kotlin.reflect.KCallable&lt;R&gt;</code>. </span><span class="sentence">Other members or base types for this class may be provided by platform and/or implementation.</span></p>
</div>
<h4 id="kotlin.reflect.kfunction"><code>kotlin.reflect.KFunction</code></h4>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.reflect.KFunction&lt;out R&gt;</code> is the class used to represent runtime information for <a href="#function-declaration">functions</a>. </span><span class="sentence">It is the base type of <a href="#callable-references">function references</a>. </span><span class="sentence"><code>kotlin.reflect.KFunction&lt;R&gt;</code> is a subtype of <code>kotlin.reflect.KCallable&lt;R&gt;</code> and <code>kotlin.Function&lt;R&gt;</code>. </span><span class="sentence">Other members or base types for this class may be provided by platform and/or implementation.</span></p>
</div>
<h2 id="declarations">Declarations</h2>
<h3 id="glossary-2">Glossary</h3>
<dl>
<dt>Entity</dt>
<dd><span class="sentence">Distinguishable part of a program</span>
</dd>
<dt>Identifier</dt>
<dd><span class="sentence">Name of a program entity</span>
</dd>
<dt>Path</dt>
<dd><span class="sentence">Sequence of identifiers which references a program entity in a given <a href="#scopes-and-identifiers">scope</a></span>
</dd>
</dl>
<h3 id="introduction-2">Introduction</h3>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Examples)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">Declarations in Kotlin are used to introduce entities (values, types, etc.); most declarations are <em>named</em>, i.e.Â they also assign an identifier to their own entity, however, some declarations may be <em>anonymous</em>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Every declaration is accessible in a particular <em>scope</em>, which is dependent both on where the declaration is located and on the declaration itself.</span></p>
</div>
<h3 id="classifier-declaration">Classifier declaration</h3>
<div id="grammar-rule-classDeclaration-pasted-0" class="grammar-rule">
<dl>
<dt><strong><em>classDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
(<code>'class'</code> | <code>'interface'</code>)<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-primaryConstructor">primaryConstructor</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifiers">delegationSpecifiers</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>) | ({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-enumClassBody">enumClassBody</a></em>)]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-objectDeclaration-pasted-1" class="grammar-rule">
<dl>
<dt><strong><em>objectDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'object'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifiers">delegationSpecifiers</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>]</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Classifier declarations introduce new types to the program, of the forms described <a href="#classifier-types">here</a>. </span><span class="sentence">There are three kinds of classifier declarations:</span></p>
</div>
<ul>
<li><span class="sentence">class declarations;</span></li>
<li><span class="sentence">interface declarations;</span></li>
<li><span class="sentence">object declarations.</span></li>
</ul>
<h4 id="class-declaration">Class declaration</h4>
<div class="paragraph">
<p><span class="sentence">A simple class declaration consists of the following parts.</span></p>
</div>
<ul>
<li><span class="sentence">Name <span class="math inline">\(c\)</span>;</span></li>
<li><span class="sentence">Optional primary <a href="#constructor-declaration">constructor declaration</a> <span class="math inline">\(\operatorname{\mathit{ptor}}\)</span>;</span></li>
<li><span class="sentence">Optional supertype specifiers <span class="math inline">\(S_1, \ldots, S_s\)</span>;</span></li>
<li><span class="sentence">Optional body <span class="math inline">\(b\)</span>, which may include the following:</span>
<ul>
<li><span class="sentence">secondary <a href="#constructor-declaration">constructor declarations</a> <span class="math inline">\(\operatorname{\mathit{stor}}_1, \ldots, \operatorname{\mathit{stor}}_c\)</span>;</span></li>
<li><span class="sentence">instance initialization blocks <span class="math inline">\(\operatorname{\mathit{init}}_1, \ldots, \operatorname{\mathit{init}}_i\)</span>;</span></li>
<li><span class="sentence">property declarations <span class="math inline">\(\operatorname{\mathit{prop}}_1, \ldots, \operatorname{\mathit{prop}}_p\)</span>;</span></li>
<li><span class="sentence">function declarations <span class="math inline">\(\operatorname{\mathit{md}}_1, \ldots, \operatorname{\mathit{md}}_m\)</span>;</span></li>
<li><span class="sentence">companion object declaration <span class="math inline">\(\operatorname{\mathit{companionObj}}\)</span>;</span></li>
<li><span class="sentence">nested classifier declarations <span class="math inline">\(\operatorname{\mathit{nested}}\)</span>.</span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">and creates a simple classifier type <span class="math inline">\(c : S_1, \ldots, S_s\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Supertype specifiers are used to create inheritance relation between the declared type and the specified supertype. </span><span class="sentence">You can use classes and interfaces as supertypes, but not objects.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: if supertype specifiers are absent, the declared type is considered to be implicitly derived from <code>kotlin.Any</code>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">It is allowed to inherit from a single class only, i.e., multiple class inheritance is not supported. </span><span class="sentence">Multiple interface inheritance is allowed.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Instance initialization block describes a block of code which should be executed during <a href="#classifier-initialization">object creation</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Property and function declarations in the class body introduce their respective entities in this classâ€™ scope, meaning they are available only on an entity of the corresponding class.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Companion object declaration <code>companion object CO { ... }</code> for class <code>C</code> introduces an object, which is available under this classâ€™ name or under the path <code>C.CO</code>. </span><span class="sentence">Companion object name may be omitted, in which case it is considered to be equal to <code>Companion</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Nested classifier declarations introduce new classifiers, available under this classâ€™ name. </span><span class="sentence">Further details are available <a href="#nested-and-inner-classifiers">here</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A parameterized class declaration, in addition to what constitutes a simple class declaration, also has a type parameter list <span class="math inline">\(T_1, \ldots, T_m\)</span> and extends the rules for a simple class declaration w.r.t. this type parameter list. </span><span class="sentence">Further details are described <a href="#declarations-with-type-parameters">here</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb35"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb35-1" title="1"><span class="co">// An open class with no supertypes</span></a>
<a class="sourceLine" id="cb35-2" title="2"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-3" title="3"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">Base</span></a>
<a class="sourceLine" id="cb35-4" title="4"></a>
<a class="sourceLine" id="cb35-5" title="5"><span class="co">// A class inherited from `Base`</span></a>
<a class="sourceLine" id="cb35-6" title="6"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-7" title="7"><span class="co">// Has a single read-only property `i`</span></a>
<a class="sourceLine" id="cb35-8" title="8"><span class="co">//   declared in its primary constructor</span></a>
<a class="sourceLine" id="cb35-9" title="9"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-10" title="10"><span class="kw">class</span> <span class="dt">B</span><span class="op">(</span><span class="kw">val</span> <span class="va">i</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">()</span></a>
<a class="sourceLine" id="cb35-11" title="11"></a>
<a class="sourceLine" id="cb35-12" title="12"><span class="co">// An open class with no superclasses</span></a>
<a class="sourceLine" id="cb35-13" title="13"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-14" title="14"><span class="co">// Has a single read-only property `i`</span></a>
<a class="sourceLine" id="cb35-15" title="15"><span class="co">//   declared in its body</span></a>
<a class="sourceLine" id="cb35-16" title="16"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-17" title="17"><span class="co">// Initial value for the property is calculated</span></a>
<a class="sourceLine" id="cb35-18" title="18"><span class="co">//   in the init block</span></a>
<a class="sourceLine" id="cb35-19" title="19"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-20" title="20"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">C</span><span class="op">(</span><span class="va">arg</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb35-21" title="21">    <span class="kw">val</span> <span class="va">i</span><span class="op">:</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb35-22" title="22">    </a>
<a class="sourceLine" id="cb35-23" title="23">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb35-24" title="24">        i = arg * arg</a>
<a class="sourceLine" id="cb35-25" title="25">    <span class="op">}</span></a>
<a class="sourceLine" id="cb35-26" title="26"><span class="op">}</span></a>
<a class="sourceLine" id="cb35-27" title="27"></a>
<a class="sourceLine" id="cb35-28" title="28"><span class="co">// A class inherited from `C`</span></a>
<a class="sourceLine" id="cb35-29" title="29"><span class="co">//   Does not have a primary constructor,</span></a>
<a class="sourceLine" id="cb35-30" title="30"><span class="co">//   thus does not need to invoke the supertype constructor</span></a>
<a class="sourceLine" id="cb35-31" title="31"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-32" title="32"><span class="co">// The secondary constructor delegates to the supertype constructor</span></a>
<a class="sourceLine" id="cb35-33" title="33"><span class="kw">class</span> <span class="dt">D</span> <span class="op">:</span> <span class="dt">C</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb35-34" title="34">    <span class="kw">constructor</span>(s: <span class="kw">String</span>) : <span class="kw">super</span>(s.toInt())</a>
<a class="sourceLine" id="cb35-35" title="35"><span class="op">}</span></a>
<a class="sourceLine" id="cb35-36" title="36"></a>
<a class="sourceLine" id="cb35-37" title="37"><span class="co">// An open class inherited from `Base`</span></a>
<a class="sourceLine" id="cb35-38" title="38"><span class="co">//</span></a>
<a class="sourceLine" id="cb35-39" title="39"><span class="co">// Has a companion object with a mutable property `name`</span></a>
<a class="sourceLine" id="cb35-40" title="40"><span class="kw">class</span> <span class="dt">E</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb35-41" title="41">    <span class="kw">companion</span> <span class="kw">object</span> <span class="co">/* Companion */</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb35-42" title="42">        <span class="kw">var</span> <span class="va">name</span> <span class="op">=</span> <span class="st">&quot;I am a companion object of E!&quot;</span></a>
<a class="sourceLine" id="cb35-43" title="43">    <span class="op">}</span></a>
<a class="sourceLine" id="cb35-44" title="44"><span class="op">}</span></a></code></pre></div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb36"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb36-1" title="1"><span class="kw">class</span> <span class="dt">Pair</span><span class="op">(</span><span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Int</span>, <span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Comparable</span><span class="op">&lt;</span><span class="dt">Pair</span><span class="op">&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb36-2" title="2"></a>
<a class="sourceLine" id="cb36-3" title="3">    <span class="kw">fun</span> <span class="fu">swap</span><span class="op">():</span> <span class="dt">Pair</span> = Pair(b, a)</a>
<a class="sourceLine" id="cb36-4" title="4"></a>
<a class="sourceLine" id="cb36-5" title="5">    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">compareTo</span><span class="op">(</span><span class="va">other</span><span class="op">:</span> <span class="dt">Pair</span><span class="op">):</span> <span class="dt">Int</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb36-6" title="6">        <span class="kw">val</span> <span class="va">f</span> <span class="op">=</span> a.compareTo(other.a)</a>
<a class="sourceLine" id="cb36-7" title="7">        <span class="cf">if</span> (f != <span class="dv">0</span>) <span class="kw">return</span> f</a>
<a class="sourceLine" id="cb36-8" title="8">        <span class="kw">return</span> b.compareTo(other.b)</a>
<a class="sourceLine" id="cb36-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb36-10" title="10"></a>
<a class="sourceLine" id="cb36-11" title="11">    <span class="kw">companion</span> <span class="kw">object</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb36-12" title="12">        <span class="kw">fun</span> <span class="fu">duplet</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> = Pair(a, a)</a>
<a class="sourceLine" id="cb36-13" title="13">    <span class="op">}</span></a>
<a class="sourceLine" id="cb36-14" title="14"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h5 id="constructor-declaration">Constructor declaration</h5>
<div class="paragraph">
<p><span class="sentence">There are two types of class constructors in Kotlin: primary and secondary.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A primary constructor is a concise way of describing class properties together with constructor parameters, and has the following form</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[\operatorname{\mathit{ptor}}: (p_1, \ldots, p_n)\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">where each of <span class="math inline">\(p_i\)</span> may be one of the following:</span></p>
</div>
<ul>
<li><span class="sentence">regular constructor parameter <span class="math inline">\(\operatorname{\mathit{name}}: \operatorname{\mathit{type}}\)</span>;</span></li>
<li><span class="sentence">read-only property constructor parameter <span class="math inline">\(\texttt{val}\ \operatorname{\mathit{name}}: \operatorname{\mathit{type}}\)</span>;</span></li>
<li><span class="sentence">mutable property constructor parameter <span class="math inline">\(\texttt{var}\ \operatorname{\mathit{name}}: \operatorname{\mathit{type}}\)</span>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Property constructor parameters, together with being regular constructor parameters, also declare class properties of the same name and type.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: if a property constructor parameter with type <span class="math inline">\(T\)</span> is specified as <code>vararg</code>, its corresponding class property type is the result of <a href="#array-types"><em>array type specialization</em></a> of type <code>Array&lt;</code><span class="math inline">\(\operatorname{\texttt{out\,}}T\)</span><code>&gt;</code>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">One can consider primary constructor parameters to have the following syntactic expansion.</span></p>
</div>
<div class="sourceCode" id="cb37"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">class</span> <span class="dt">Foo</span><span class="op">(</span><span class="va">i</span><span class="op">:</span> <span class="dt">Int</span>, <span class="kw">vararg</span> <span class="kw">val</span> <span class="va">d</span><span class="op">:</span> <span class="dt">Double</span>, <span class="kw">var</span> <span class="va">s</span><span class="op">:</span> <span class="dt">String</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Super</span><span class="op">(</span><span class="va">i</span>, <span class="va">d</span>, <span class="va">s</span><span class="op">)</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb37-2" title="2"></a>
<a class="sourceLine" id="cb37-3" title="3"><span class="kw">class</span> <span class="dt">Foo</span><span class="op">(</span><span class="va">i</span><span class="op">:</span> <span class="dt">Int</span>, <span class="kw">vararg</span> <span class="va">d_</span><span class="op">:</span> <span class="dt">Double</span>, <span class="va">s_</span><span class="op">:</span> <span class="dt">String</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Super</span><span class="op">(</span><span class="va">i</span>, <span class="va">d_</span>, <span class="va">s_</span><span class="op">)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb37-4" title="4">  <span class="kw">val</span> <span class="va">d</span> <span class="op">=</span> d_</a>
<a class="sourceLine" id="cb37-5" title="5">  <span class="kw">var</span> <span class="va">s</span> <span class="op">=</span> s_</a>
<a class="sourceLine" id="cb37-6" title="6"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">When accessing property constructor parameters inside the class body, one works with their corresponding properties; however, when accessing them in the supertype specifier list (e.g., as an argument to a superclass constructor invocation), we see them as actual parameters, which cannot be changed.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a class declaration has a primary constructor and also includes a class supertype specifier, that specifier must represent a valid invocation of the supertype constructor.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A secondary constructor describes an alternative way of creating a class instance and has only regular constructor parameters.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a class has a primary constructor, any secondary constructor must delegate to either the primary constructor or to another secondary constructor via <code>this(...)</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a class does not have a primary constructor, its secondary constructors must delegate to either the superclass constructor via <code>super(...)</code> (if the superclass is present in the supertype specifier list) or to another secondary constructor via <code>this(...)</code>. </span><span class="sentence">If the only superclass is <code>kotlin.Any</code>, delegation is optional.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In all cases, it is forbidden if two or more secondary constructors form a delegation loop.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Class constructors (both primary and secondary) may have variable-argument parameters and default parameter values, just as regular functions. </span><span class="sentence">Please refer to the <a href="#function-declaration">function declaration reference</a> for details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a class does not have neither primary, nor secondary constructors, it is assumed to implicitly have a default parameterless primary constructor. </span><span class="sentence">This also means that, if a class declaration includes a class supertype specifier, that specifier must represent a valid invocation of the supertype constructor.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb38"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb38-1" title="1"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">Base</span></a>
<a class="sourceLine" id="cb38-2" title="2"></a>
<a class="sourceLine" id="cb38-3" title="3"><span class="kw">class</span> <span class="dt">POKO</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">()</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb38-4" title="4"></a>
<a class="sourceLine" id="cb38-5" title="5"><span class="kw">class</span> <span class="dt">NotQuitePOKO</span> <span class="op">:</span> <span class="dt">Base</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb38-6" title="6">    <span class="kw">constructor</span>() : <span class="kw">super</span>() <span class="op">{}</span></a>
<a class="sourceLine" id="cb38-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb38-8" title="8"></a>
<a class="sourceLine" id="cb38-9" title="9"><span class="kw">class</span> <span class="dt">Primary</span><span class="op">(</span><span class="kw">val</span> <span class="va">s</span><span class="op">:</span> <span class="dt">String</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb38-10" title="10">    <span class="kw">constructor</span>(i: <span class="kw">Int</span>) : <span class="kw">this</span>(i.toString()) <span class="op">{}</span></a>
<a class="sourceLine" id="cb38-11" title="11"></a>
<a class="sourceLine" id="cb38-12" title="12">    <span class="kw">constructor</span>(d: <span class="kw">Double</span>) : <span class="kw">this</span>(d.toInt()) <span class="op">{}</span></a>
<a class="sourceLine" id="cb38-13" title="13"></a>
<a class="sourceLine" id="cb38-14" title="14">    <span class="co">// Error, has primary ctor,</span></a>
<a class="sourceLine" id="cb38-15" title="15">    <span class="co">//   needs to delegate to primary or secondary ctor</span></a>
<a class="sourceLine" id="cb38-16" title="16">    <span class="co">// constructor() : super() {}</span></a>
<a class="sourceLine" id="cb38-17" title="17"><span class="op">}</span></a>
<a class="sourceLine" id="cb38-18" title="18"></a>
<a class="sourceLine" id="cb38-19" title="19"><span class="kw">class</span> <span class="dt">Secondary</span> <span class="op">:</span> <span class="dt">Base</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb38-20" title="20">    <span class="kw">constructor</span>(i: <span class="kw">Int</span>) : <span class="kw">super</span>() <span class="op">{}</span></a>
<a class="sourceLine" id="cb38-21" title="21"></a>
<a class="sourceLine" id="cb38-22" title="22">    <span class="kw">constructor</span>(s: <span class="kw">String</span>) : <span class="kw">this</span>(s.toInt()) <span class="op">{}</span></a>
<a class="sourceLine" id="cb38-23" title="23"></a>
<a class="sourceLine" id="cb38-24" title="24">    <span class="co">// Ok, no primary ctor,</span></a>
<a class="sourceLine" id="cb38-25" title="25">    <span class="co">//   can delegate to `super(...)`</span></a>
<a class="sourceLine" id="cb38-26" title="26">    <span class="kw">constructor</span>() : <span class="kw">super</span>() <span class="op">{}</span></a>
<a class="sourceLine" id="cb38-27" title="27"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h5 id="nested-and-inner-classifiers">Nested and inner classifiers</h5>
<div class="paragraph">
<p><span class="sentence">If a classifier declaration <span class="math inline">\(\operatorname{\text{ND}}\)</span> is <em>nested</em> in another classifier declaration <span class="math inline">\(\operatorname{\text{PD}}\)</span>, it creates a nested classifier type â€” a classifier type available under the path <span class="math inline">\(\operatorname{\text{PD}}.\operatorname{\text{ND}}\)</span>. </span><span class="sentence">In all other aspects, nested classifiers are equivalent to regular ones.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><em>Inner</em> classes are a special kind of nested classifiers, which introduce types of objects associated (linked) with other (parent) objects. </span><span class="sentence">An inner class declaration <span class="math inline">\(\operatorname{\text{ID}}\)</span> nested in another classifier declaration <span class="math inline">\(\operatorname{\text{PD}}\)</span> may reference an <em>object</em> of type <span class="math inline">\(\operatorname{\text{ID}}\)</span> associated with it.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This association happens when instantiating an object of type <span class="math inline">\(\operatorname{\text{ID}}\)</span>, as its constructor may be invoked only when a receiver of type <span class="math inline">\(\operatorname{\text{PD}}\)</span> is available, and this receiver becomes associated with the new instantiated object of type <span class="math inline">\(\operatorname{\text{ID}}\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For information on how type parameters of parent and nested / inner classifiers interoperate, we delegate you to the <a href="#inner-and-nested-type-contexts">type system</a> section of the specification.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: inner classes cannot be declared in <a href="#classifier-declaration">objects</a>.</span></p>
</div>
</blockquote>
<h5 id="inheritance-delegation">Inheritance delegation</h5>
<div class="paragraph">
<p><span class="sentence">In a classifier (an object or a class) declaration <span class="math inline">\(C\)</span>, any supertype <span class="math inline">\(I\)</span> inheritance may be <em>delegated to</em> an arbitrary value <span class="math inline">\(v\)</span> if:</span></p>
</div>
<ul>
<li><span class="sentence">The supertype <span class="math inline">\(I\)</span> is an interface type;</span></li>
<li><span class="sentence"><span class="math inline">\(v\)</span> has type <span class="math inline">\(T\)</span> such that <span class="math inline">\(T &lt;: I\)</span>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The inheritance delegation uses a syntax similar to <a href="#delegated-property-declaration">property delegation</a> using the <code>by</code> keyword, but is specified in the classifier declaration header and is a very different concept. </span><span class="sentence">If inherited using delegation, each method <span class="math inline">\(M\)</span> of <span class="math inline">\(I\)</span> (whether they have a default implementation or not) is delegated to the corresponding method of <span class="math inline">\(v\)</span> as if it was overridden in <span class="math inline">\(C\)</span> with all the parameter values directly passed to the corresponding method in <span class="math inline">\(v\)</span>, unless the body of <span class="math inline">\(C\)</span> itself has a suitable override of <span class="math inline">\(M\)</span> (see the <a href="#overriding">method overriding</a> section).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The particular means on how <span class="math inline">\(v\)</span> is stored inside the classifier object is platform-defined.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Due to the <a href="#classifier-initialization">initialization order of a classifier object</a>, the expression used to construct <span class="math inline">\(v\)</span> can not access any of the classifier object properties or methods excluding the parameters of the primary constructor.</span></p>
</div>
<h5 id="abstract-classes">Abstract classes</h5>
<div class="paragraph">
<p><span class="sentence">A <a href="#class-declaration">class declaration</a> can be marked <code>abstract</code>. </span><span class="sentence">Such classes <em>cannot</em> be instantiated directly; they are used as superclasses for other classes or objects.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Abstract classes may contain one or more abstract members: members without implementation, which should be implemented in a subtype of this abstract class.</span></p>
</div>
<h4 id="data-class-declaration">Data class declaration</h4>
<div class="paragraph">
<p><span class="sentence">A data class <span class="math inline">\(\operatorname{\mathit{dataClass}}\)</span> is a special kind of class, which represents a product type constructed from a number of data properties <span class="math inline">\((\operatorname{\mathit{dp}}_1, \ldots, \operatorname{\mathit{dp}}_m)\)</span>, described in its primary constructor. </span><span class="sentence">Non-property constructor parameters are not allowed in the primary constructor of a data class. </span><span class="sentence">As such, data classes allow Kotlin to reduce the boilerplate and generate a number of additional data-relevant functions.</span></p>
</div>
<ul>
<li><span class="sentence"><code>equals() / hashCode() / toString()</code> functions compliant with <a href="#kotlin.any-1">their contracts</a>:</span>
<ul>
<li><span class="sentence"><code>equals(that)</code> returns true iff:</span>
<ul>
<li><span class="sentence"><code>that</code> has the same runtime type as <code>this</code>;</span></li>
<li><span class="sentence"><code>this.prop == that.prop</code> returns <code>true</code> for every data property <code>prop</code>;</span></li>
</ul></li>
<li><span class="sentence"><code>hashCode()</code> returns the same numbers for objects <code>A</code> and <code>B</code> if they are equal w.r.t. the generated <code>equals</code>;</span></li>
<li><span class="sentence"><code>toString</code> returns a string representations which is guaranteed to include the class name along with all the data propertiesâ€™ string representations.</span></li>
</ul></li>
<li><span class="sentence">A <code>copy()</code> function for shallow object copying with the following properties:</span>
<ul>
<li><span class="sentence">It has the same number of parameters as the primary constructor with the same names and types;</span></li>
<li><span class="sentence">It calls the primary constructor with the corresponding parameters at the corresponding positions;</span></li>
<li><span class="sentence">It has defaults for all the parameters defaulting to the value of the corresponding property in <code>this</code> object.</span></li>
</ul></li>
<li><span class="sentence">A number of <code>componentN()</code> functions for <a href="#local-property-declaration">destructuring declaration</a>:</span>
<ul>
<li><span class="sentence">For the data property at position <span class="math inline">\(N\)</span> (<strong>starting from 1</strong>), the generated <code>component</code><span class="math inline">\(N\)</span> function has the same type as this property and returns the value of this property;</span></li>
<li><span class="sentence">It has an <code>operator</code> modifier, allowing it to be used in <a href="#local-property-declaration">destructuring declarations</a>;</span></li>
<li><span class="sentence">The number of these functions is the same as the number of data properties.</span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">All these functions consider only data properties <span class="math inline">\(\{\operatorname{\mathit{dp}}_i\}\)</span>; e.g., your data class may include regular property declarations in its body, however, they will <em>not</em> be considered in the <code>equals()</code> implementation or have a <code>componentN()</code> generated for them.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are several rules as to how these generated functions may be explicified or inherited.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: a generated function is explicified, if its implementation is provided explicitly in the body of the data class. </span><span class="sentence">A generated function is inherited, if its implementation is taken from a supertype of the data class.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The declarations of <code>equals</code>, <code>hashCode</code> and <code>toString</code> may be explicified similarly to how overriding works in normal classes. </span><span class="sentence">If a correct explicit implementation is available, no function is generated. </span><span class="sentence">Other functions (<code>copy</code>, <code>componentN</code>) <strong>cannot</strong> be explicified.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The declarations of <code>equals</code>, <code>hashCode</code> and <code>toString</code> may be inherited from the base class, if it provides a <code>final</code> version with a <a href="#function-signature">matching signature</a>. </span><span class="sentence">If a correct inherited implementation is available, no function is generated. </span><span class="sentence">Other functions (<code>copy</code>, <code>componentN</code>) <strong>cannot</strong> be inherited.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In addition, for every generated function, if any of the base types provide an open function with a <a href="#function-signature">matching signature</a>, it is automatically overridden by the generated function as if it was generated with an <code>override</code> modifier.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: base classes may also have functions that have a conflicting signature with the same function name. </span><span class="sentence">As expected, these cases result in override or overload conflicts the same way they would with a normal class declaration.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Data classes have the following restrictions:</span></p>
</div>
<ul>
<li><span class="sentence">Data classes are closed and cannot be <a href="#inheritance">inherited</a> from;</span></li>
<li><span class="sentence">Data classes must have a primary constructor with property constructor parameters only, which become data properties for the data class;</span></li>
<li><span class="sentence">There must be at least one data property in the primary constructor;</span></li>
<li><span class="sentence">Data properties cannot be specified as <code>vararg</code> constructor arguments.</span></li>
</ul>
<h4 id="enum-class-declaration">Enum class declaration</h4>
<div class="paragraph">
<p><span class="sentence">Enum class <span class="math inline">\(E\)</span> is a special kind of class with the following properties:</span></p>
</div>
<ul>
<li><span class="sentence">It has a number of predefined values that are declared in the class itself (<em>enum entries</em>);</span></li>
<li><span class="sentence">No other values of this class can be constructed;</span></li>
<li><span class="sentence">It implicitly inherits the built-in class <a href="#kotlin.enum"><code>kotlin.Enum&lt;E&gt;</code></a> (and cannot have any other base classes);</span></li>
<li><span class="sentence">It it implicitly final and cannot be inherited from;</span></li>
<li><span class="sentence">It has special syntax to accommodate for the properties described above.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Enum class body uses special kind of syntax (see grammar) to declare enum entries in addition to all other declarations inside the class body. </span><span class="sentence">Enum entries have their own bodies that may contain their own declarations, similar to <a href="#classifier-declaration">object declarations</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: an enum class can have zero enum entries. </span><span class="sentence">This makes objects of this class impossible to construct.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Every enum entry of class <code>E</code> implicitly overrides members of <code>kotlin.Enum&lt;E&gt;</code> in the following way:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb39"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb39-1" title="1"><span class="kw">public</span> <span class="kw">final</span> <span class="kw">val</span> <span class="va">name</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">defined to be the same as the name of the entry as declared in code;</span></p>
</div></li>
<li><div class="sourceCode" id="cb40"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">public</span> <span class="kw">final</span> <span class="kw">val</span> <span class="va">ordinal</span><span class="op">:</span> <span class="dt">Int</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">defined to be the ordinal of the entry, e.g.Â the position of this entry in the list of entries, starting with 0;</span></p>
</div></li>
<li><div class="sourceCode" id="cb41"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">public</span> <span class="kw">override</span> <span class="kw">final</span> <span class="kw">fun</span> <span class="fu">compareTo</span><span class="op">(</span><span class="va">other</span><span class="op">:</span> <span class="dt">E</span><span class="op">):</span> <span class="dt">Int</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">(a member of <code>kotlin.Comparable&lt;E&gt;</code>) defined by default to compare entries by their ordinals, but may be overridden to have different behaviour both in the enum class declaration and in entry declarations;</span></p>
</div></li>
<li><div class="sourceCode" id="cb42"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">public</span> <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">toString</span><span class="op">():</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">(a member of <code>kotlin.Any</code>) defined by default to return the entry name, but may be overridden to have different behaviour both in the enum class declaration and in entry declarations.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In addition to these, every enum class type <code>E</code> has the following <strong>static</strong> member functions declared implicitly:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb43"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb43-1" title="1"><span class="kw">public</span> <span class="kw">final</span> static <span class="kw">fun</span> <span class="fu">valueOf</span><span class="op">(</span><span class="va">value</span><span class="op">:</span> <span class="dt">String</span><span class="op">):</span> <span class="dt">E</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">returning an object corresponding to the entry with the name equal to <code>value</code> parameter of the call;</span></p>
</div></li>
<li><div class="sourceCode" id="cb44"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb44-1" title="1"><span class="kw">public</span> <span class="kw">final</span> static <span class="kw">fun</span> <span class="fu">values</span><span class="op">():</span> <span class="dt">kotlin</span><span class="op">.</span><span class="fu">Array</span><span class="op">&lt;</span><span class="dt">E</span><span class="op">&gt;</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">returning an <a href="#array-types">array</a> of all possible enum values. </span><span class="sentence">Every invocation of this function returns a new array to disallow changing its contents.</span></p>
</div></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: <code>static</code> is not a valid Kotlin keyword and is only used here for clarity</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: these static member functions are handled differently by the <a href="#overload-resolution">overload resolution</a>.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin standard library introduces another function to access all enum values for a specific enum class called <code>kotlin.enumValues&lt;T&gt;</code>. </span><span class="sentence">Please refer to the standard library documentation for details.</span></p>
</div>
</blockquote>
<h4 id="annotation-class-declaration">Annotation class declaration</h4>
<div class="paragraph">
<p><span class="sentence">Annotations class is a special kind of class that is used to declare <a href="#annotations">annotations</a>. </span><span class="sentence">Annotation classes have the following properties:</span></p>
</div>
<ul>
<li><span class="sentence">They cannot have any secondary constructors;</span></li>
<li><span class="sentence">All the primary constructor parameters must use the property syntax;</span></li>
<li><span class="sentence">They implicitly inherit <code>kotlin.Annotation</code> class (and cannot have any other base classes);</span></li>
<li><span class="sentence">They cannot implement interfaces;</span></li>
<li><span class="sentence">They are implicitly closed and cannot be inherited from;</span></li>
<li><span class="sentence">They may not have any member functions, properties not declared in the primary constructor or any overriding declarations;</span></li>
<li><span class="sentence">They cannot have companion objects;</span></li>
<li><span class="sentence">They cannot have nested classes;</span></li>
<li><span class="sentence">They cannot have type parameters;</span></li>
<li><span class="sentence">The types of primary constructor parameters are limited to:</span>
<ul>
<li><span class="sentence"><code>kotlin.String</code>;</span></li>
<li><span class="sentence"><code>kotlin.KClass</code>;</span></li>
<li><span class="sentence"><a href="#built-in-types">Built-in number types</a>;</span></li>
<li><span class="sentence">Other annotation types;</span></li>
<li><span class="sentence">Arrays of any other allowed type.</span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Annotation classes cannot be constructed directly, but their primary constructors are used when specifying <a href="#annotations">code annotations</a> for other entities.</span></p>
</div>
<h4 id="interface-declaration">Interface declaration</h4>
<div class="paragraph">
<p><span class="sentence">Interfaces differ from classes in that they cannot be directly instantiated in the program, they are meant as a way of describing a contract which should be satisfied by the interfaceâ€™s subtypes. </span><span class="sentence">In other aspects they are similar to classes, therefore we shall specify their declarations by specifying their differences from class declarations.</span></p>
</div>
<ul>
<li><span class="sentence">An interface cannot have a class as its supertype;</span></li>
<li><span class="sentence">An interface cannot have a constructor;</span></li>
<li><span class="sentence">Interface properties cannot have initializers or backing fields;</span></li>
<li><span class="sentence">Interface properties cannot be delegated;</span></li>
<li><span class="sentence">An interface cannot have inner classes (but can have nested classes and companion objects);</span></li>
<li><span class="sentence">An interface and all its members are implicitly open;</span></li>
<li><span class="sentence">All interface member properties and functions are implicitly public;</span>
<ul>
<li><span class="sentence">Trying to declare a non-public member property or function in an interface is an compile-time error.</span></li>
</ul></li>
</ul>
<h5 id="functional-interface-declaration">Functional interface declaration</h5>
<div class="paragraph">
<p><span class="sentence">A <em>functional interface</em> is an interface with a <strong>single</strong> abstract function and no other abstract properties or functions.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A function interface declaration is marked as <code>fun interface</code>. </span><span class="sentence">It has the following additional restrictions compared to regular <a href="#interface-declaration">interface declarations</a>.</span></p>
</div>
<ul>
<li><span class="sentence">A functional interface can have only one abstract member function, which must be non-parameterized;</span></li>
<li><span class="sentence">A functional interface cannot have any abstract member properties;</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">A functional interface has an associated <a href="#function-types">function type</a>, which is the same as the function type of its single abstract member function.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: the associated function type of a functional interface is different from the type of said functional interface.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If one needs an object of a functional interface type, they can use the regular ways of implementing an interface, either via an <a href="#object-literals">anonymous object declaration</a> or as a complete <a href="#classifier-declaration">class</a>. </span><span class="sentence">However, as functional interface essentially represents a single function, Kotlin supports the following additional ways of providing a functional interface implementation from function values (expressions with function type).</span></p>
</div>
<ul>
<li><span class="sentence">If a lambda literal <code>L</code> is preceded with a functional interface name <code>T</code>, and the type of <code>L</code> is a subtype of the associated function type of <code>T</code>, this expression creates an instance of <code>T</code> with lambda literal <code>L</code> used as its abstract member function implementation.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb45"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">fun</span> <span class="kw">interface</span> FI <span class="op">{</span></a>
<a class="sourceLine" id="cb45-2" title="2">     <span class="kw">fun</span> <span class="fu">bar</span><span class="op">(</span><span class="va">s</span><span class="op">:</span> <span class="dt">Int</span><span class="op">):</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb45-3" title="3">}</a>
<a class="sourceLine" id="cb45-4" title="4"></a>
<a class="sourceLine" id="cb45-5" title="5"><span class="kw">fun</span> foo() <span class="op">{</span></a>
<a class="sourceLine" id="cb45-6" title="6">    <span class="kw">val</span> <span class="va">fi</span> <span class="op">=</span> FI <span class="op">{</span> it <span class="op">}</span></a>
<a class="sourceLine" id="cb45-7" title="7">    <span class="kw">val</span> <span class="va">fi2</span> <span class="op">=</span> FI <span class="op">{</span> s: <span class="kw">Int</span> -&gt; s + <span class="dv">42</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb45-8" title="8">    <span class="kw">val</span> <span class="va">fi3</span> <span class="op">=</span> FI <span class="op">{</span> s: Number -&gt; s.toInt() <span class="op">}</span></a>
<a class="sourceLine" id="cb45-9" title="9"><span class="op">}</span></a></code></pre></div>
</blockquote>
<ul>
<li><span class="sentence">If an expression <code>L</code> is used as an argument of functional type <code>T</code> in a <a href="#function-calls-and-property-access">function call</a>, and the type of <code>L</code> is a subtype of the associated function type of <code>T</code>, this argument is considered as an instance of <code>T</code> with expression <code>L</code> used as its abstract member function implementation.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb46"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb46-1" title="1"><span class="kw">fun</span> <span class="kw">interface</span> FI <span class="op">{</span></a>
<a class="sourceLine" id="cb46-2" title="2">    <span class="kw">fun</span> <span class="fu">bar</span><span class="op">(</span><span class="va">s</span><span class="op">:</span> <span class="dt">Int</span><span class="op">):</span> <span class="dt">Int</span></a>
<a class="sourceLine" id="cb46-3" title="3">}</a>
<a class="sourceLine" id="cb46-4" title="4"></a>
<a class="sourceLine" id="cb46-5" title="5"><span class="kw">fun</span> doIt(fi: FI) <span class="op">{}</span></a>
<a class="sourceLine" id="cb46-6" title="6"></a>
<a class="sourceLine" id="cb46-7" title="7"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb46-8" title="8">    doIt <span class="op">{</span> it <span class="op">}</span></a>
<a class="sourceLine" id="cb46-9" title="9">    doIt <span class="op">{</span> s: <span class="kw">Int</span> -&gt; s + <span class="dv">42</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb46-10" title="10">    doIt <span class="op">{</span> s: Number -&gt; s.toInt() <span class="op">}</span></a>
<a class="sourceLine" id="cb46-11" title="11"></a>
<a class="sourceLine" id="cb46-12" title="12">    doIt(<span class="kw">fun</span><span class="op">(</span><span class="va">s</span><span class="op">):</span> <span class="dt">Int</span> <span class="op">{</span> <span class="kw">return</span> s; <span class="op">}</span>)</a>
<a class="sourceLine" id="cb46-13" title="13"></a>
<a class="sourceLine" id="cb46-14" title="14">    <span class="kw">val</span> <span class="va">l</span> <span class="op">=</span> <span class="op">{</span> s: Number -&gt; s.toInt() <span class="op">}</span></a>
<a class="sourceLine" id="cb46-15" title="15"></a>
<a class="sourceLine" id="cb46-16" title="16">    doIt(l)</a>
<a class="sourceLine" id="cb46-17" title="17"><span class="op">}</span></a></code></pre></div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: this feature is known as â€œSingle Abstract Methodâ€ (SAM) conversion.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in Kotlin version 1.3 and earlier, SAM conversion was not available for Kotlin functional interfaces. </span><span class="sentence">It was, however, available on Kotlin/JVM for Java functional interfaces.</span></p>
</div>
</blockquote>
<h4 id="object-declaration">Object declaration</h4>
<div class="paragraph">
<p><span class="sentence">Object declarations are similar to class declaration in that they introduce a new classifier type, but, unlike class or interface declarations, they also introduce a value of this type in the same declaration. </span><span class="sentence">No other values of this type may be declared, making object a single existing value of its type.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: This is similar to <em>singleton pattern</em> common to object-oriented programming in introducing a type which includes a single global value.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Similarly to interfaces, we shall specify object declarations by highlighting their differences from class declarations.</span></p>
</div>
<ul>
<li><span class="sentence">An object can only be declared in a declaration scope;</span></li>
<li><span class="sentence">An object type cannot be used as a supertype for other types;</span></li>
<li><span class="sentence">An object cannot have an explicit primary or secondary constructor;</span></li>
<li><span class="sentence">An object cannot have a companion object;</span></li>
<li><span class="sentence">An object may not have inner classes;</span></li>
<li><span class="sentence">An object cannot be parameterized, i.e., cannot have type parameters.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: an object is assumed to implicitly have a default parameterless primary constructor.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this section is about declaration of <em>named</em> objects. </span><span class="sentence">Kotlin also has a concept of <em>anonymous</em> objects, or object literals, which are similar to their named counterparts, but are expressions rather than declarations and, as such, are described in the <a href="#object-literals">corresponding section</a>.</span></p>
</div>
</blockquote>
<h4 id="classifier-initialization">Classifier initialization</h4>
<div class="paragraph">
<p><span class="sentence">When creating a class or object instance via one of its constructors <span class="math inline">\(ctor\)</span>, it is initialized in a particular order, which we describe here.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A primary <span class="math inline">\(pctor\)</span> or secondary constructor <span class="math inline">\(ctor\)</span> has a corresponding superclass constructor <span class="math inline">\(sctor\)</span> defined as follows.</span></p>
</div>
<ul>
<li><span class="sentence">For primary constructor <span class="math inline">\(pctor\)</span>, a corresponding superclass constructor <span class="math inline">\(sctor\)</span> is the one from the supertype specifier list;</span></li>
<li><span class="sentence">For secondary constructor <span class="math inline">\(ctor\)</span>, a corresponding supertype constructor <span class="math inline">\(sctor\)</span> is the one ending the constructor delegation chain of <span class="math inline">\(ctor\)</span>;</span></li>
<li><span class="sentence">If an explicit superclass constructor is not available, <code>Any()</code> is implicitly used.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">When a classifier type is initialized using a particular secondary constructor <span class="math inline">\(ctor\)</span> delegated to primary constructor <span class="math inline">\(pctor\)</span> which, in turn, is delegated to the corresponding superclass constructor <span class="math inline">\(sctor\)</span>, the following happens, in this <em>initialization order</em>:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(pctor\)</span> is invoked using the specified parameters, initializing all the properties declared by its property parameters <em>in the order of appearance in the constructor declaration</em>;</span></li>
<li><span class="sentence">The superclass object is initialized as if created by invoking <span class="math inline">\(sctor\)</span> with the specified parameters;</span></li>
<li><span class="sentence">Interface delegation expressions are invoked and the result of each is stored in the object to allow for interface delegation, <em>in the order of appearance of delegation declarations in the supertype specifier list</em>;</span></li>
<li><span class="sentence">Each property initialization code as well as the initialization blocks in the class body are invoked <em>in the order of appearance in the class body</em>;</span></li>
<li><span class="sentence"><span class="math inline">\(ctor\)</span> body is invoked using the specified parameters.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means that if an <code>init</code>-block appears between two property declarations in the class body, its body is invoked between the initialization code of these two properties.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The initialization order stays the same if any of the entities involved are omitted, in which case the corresponding step is also omitted (e.g., if the object is created using the primary constructor, the body of the secondary one is not invoked).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If any step in the initialization order creates a loop, it is considered to be undefined behavior.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If any of the properties are accessed before they are initialized w.r.t initialization order (e.g., if a method called in an initialization block accesses a property declared <em>after</em> the initialization block), the value of the property is undefined.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this can also happen if a property is captured in a lambda expression used in some way during subsequent initialization steps.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb47"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb47-1" title="1"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">Base</span><span class="op">(</span><span class="kw">val</span> <span class="va">v</span><span class="op">:</span> <span class="dt">Any?</span><span class="op">)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-2" title="2">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb47-3" title="3">        println(<span class="st">&quot;2: $this&quot;</span>)</a>
<a class="sourceLine" id="cb47-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb47-6" title="6"></a>
<a class="sourceLine" id="cb47-7" title="7"><span class="kw">class</span> <span class="dt">Init</span><span class="op">(</span><span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Number</span> <span class="co">/* (1) */</span><span class="op">)</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">(</span><span class="va">0xC0FFEE</span><span class="op">)</span> <span class="co">/* (2) */</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-8" title="8"></a>
<a class="sourceLine" id="cb47-9" title="9">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb47-10" title="10">        println(<span class="st">&quot;3: $this&quot;</span>) <span class="co">/* (3) */</span></a>
<a class="sourceLine" id="cb47-11" title="11">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-12" title="12"></a>
<a class="sourceLine" id="cb47-13" title="13">    <span class="kw">constructor</span>(v: <span class="kw">Int</span>) : <span class="kw">this</span>(v <span class="kw">as</span> Number) <span class="op">{</span></a>
<a class="sourceLine" id="cb47-14" title="14">        println(<span class="st">&quot;10: $this&quot;</span>) <span class="co">/* (10) */</span></a>
<a class="sourceLine" id="cb47-15" title="15">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-16" title="16"></a>
<a class="sourceLine" id="cb47-17" title="17">    <span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="dt">String</span> <span class="op">=</span> a.toString() <span class="co">/* (4) */</span></a>
<a class="sourceLine" id="cb47-18" title="18"></a>
<a class="sourceLine" id="cb47-19" title="19">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb47-20" title="20">        println(<span class="st">&quot;5: $this&quot;</span>) <span class="co">/* (5) */</span></a>
<a class="sourceLine" id="cb47-21" title="21">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-22" title="22"></a>
<a class="sourceLine" id="cb47-23" title="23">    <span class="kw">var</span> <span class="va">c</span><span class="op">:</span> <span class="dt">Any?</span> <span class="op">=</span> <span class="st">&quot;b is $b&quot;</span> <span class="co">/* (6) */</span></a>
<a class="sourceLine" id="cb47-24" title="24"></a>
<a class="sourceLine" id="cb47-25" title="25">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb47-26" title="26">        println(<span class="st">&quot;7: $this&quot;</span>) <span class="co">/* (7) */</span></a>
<a class="sourceLine" id="cb47-27" title="27">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-28" title="28"></a>
<a class="sourceLine" id="cb47-29" title="29">    <span class="kw">val</span> <span class="va">d</span><span class="op">:</span> <span class="dt">Double</span> <span class="op">=</span> <span class="fl">42.0</span> <span class="co">/* (8) */</span></a>
<a class="sourceLine" id="cb47-30" title="30"></a>
<a class="sourceLine" id="cb47-31" title="31">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb47-32" title="32">        println(<span class="st">&quot;9: $this&quot;</span>) <span class="co">/* (9) */</span></a>
<a class="sourceLine" id="cb47-33" title="33">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-34" title="34"></a>
<a class="sourceLine" id="cb47-35" title="35">    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">toString</span><span class="op">():</span> <span class="dt">String</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-36" title="36">        <span class="kw">return</span> <span class="st">&quot;Init(a=$a, b=&#39;$b&#39;, c=$c, d=$d)&quot;</span></a>
<a class="sourceLine" id="cb47-37" title="37">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-38" title="38"><span class="op">}</span></a>
<a class="sourceLine" id="cb47-39" title="39"></a>
<a class="sourceLine" id="cb47-40" title="40"><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-41" title="41">    Init(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb47-42" title="42">    <span class="co">// 2: Init(a=null, b=&#39;null&#39;, c=null, d=0.0)</span></a>
<a class="sourceLine" id="cb47-43" title="43">    <span class="co">// 3: Init(a=5, b=&#39;null&#39;, c=null, d=0.0)</span></a>
<a class="sourceLine" id="cb47-44" title="44">    <span class="co">// 5: Init(a=5, b=&#39;5&#39;, c=null, d=0.0)</span></a>
<a class="sourceLine" id="cb47-45" title="45">    <span class="co">// 7: Init(a=5, b=&#39;5&#39;, c=b is 5, d=0.0)</span></a>
<a class="sourceLine" id="cb47-46" title="46">    <span class="co">// 9: Init(a=5, b=&#39;5&#39;, c=b is 5, d=42.0)</span></a>
<a class="sourceLine" id="cb47-47" title="47">    <span class="co">// 10: Init(a=5, b=&#39;5&#39;, c=b is 5, d=42.0)</span></a>
<a class="sourceLine" id="cb47-48" title="48">    </a>
<a class="sourceLine" id="cb47-49" title="49">    <span class="co">// Here we can see how the undefined values for</span></a>
<a class="sourceLine" id="cb47-50" title="50">    <span class="co">//   uninitialized properties may leak outside</span></a>
<a class="sourceLine" id="cb47-51" title="51"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h3 id="function-declaration">Function declaration</h3>
<div id="grammar-rule-functionDeclaration-pasted-2" class="grammar-rule">
<dl>
<dt><strong><em>functionDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'fun'</code><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-receiverType">receiverType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-functionValueParameters">functionValueParameters</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-functionBody">functionBody</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-functionBody-pasted-3" class="grammar-rule">
<dl>
<dt><strong><em>functionBody</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-block">block</a></em><br />
| (<code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Function declarations assign names to functions â€” blocks of code which may be called by passing them a number of arguments. </span><span class="sentence">Functions have special <em>function types</em> which are covered in more detail <a href="#function-types">here</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A simple function declaration consists of four main parts:</span></p>
</div>
<ul>
<li><span class="sentence">Name <span class="math inline">\(f\)</span>;</span></li>
<li><span class="sentence">Parameter list <span class="math inline">\((p_1: P_1 [= v_1], \ldots, p_n: P_n [= v_n])\)</span>;</span></li>
<li><span class="sentence">Return type <span class="math inline">\(R\)</span>;</span></li>
<li><span class="sentence">Body <span class="math inline">\(b\)</span>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">and has a function type <span class="math inline">\(f : (p_1: P_1, \ldots, p_n: P_n) \rightarrow R\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Parameter list <span class="math inline">\((p_1: P_1 [= v_1], \ldots, p_n: P_n [= v_n])\)</span> describes function parameters â€” inputs needed to execute the declared function. </span><span class="sentence">Each parameter <span class="math inline">\(p_i: P_i = v_i\)</span> introduces <span class="math inline">\(p_i\)</span> as a name of value with type <span class="math inline">\(P_i\)</span> available inside function body <span class="math inline">\(b\)</span>; therefore, parameters are final and cannot be changed inside the function. </span><span class="sentence">A function may have zero or more parameters.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A parameter may include a default value <span class="math inline">\(v_i\)</span>, which is used if the corresponding argument is not specified in function invocation; <span class="math inline">\(v_i\)</span> must be an expression which evaluates to type <span class="math inline">\(V &lt;: P_i\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Return type <span class="math inline">\(R\)</span>, if omitted, is calculated as follows.</span></p>
</div>
<ul>
<li><span class="sentence">If function body <span class="math inline">\(b\)</span> is present in the expression form and it may be inferred to have a valid type <span class="math inline">\(B : B \not \equiv \operatorname{\texttt{kotlin.Nothing}}\)</span>, <span class="math inline">\(R \equiv B\)</span>.</span></li>
<li><span class="sentence">If function body <span class="math inline">\(b\)</span> is present in the block form, <span class="math inline">\(R \equiv \operatorname{\texttt{kotlin.Unit}}\)</span>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In other cases return type <span class="math inline">\(R\)</span> cannot be omitted and must be specified explicitly.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">As type <code>kotlin.Nothing</code> has a <a href="#kotlin.nothing-1">special meaning</a> in Kotlin type system, it must be specified explicitly, to avoid spurious <code>kotlin.Nothing</code> function return types.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Function body <span class="math inline">\(b\)</span> is optional; if it is omitted, a function declaration creates an <em>abstract</em> function, which does not have an implementation. </span><span class="sentence">This is allowed only inside an <a href="#abstract-classes-1">abstract class</a>. </span><span class="sentence">If a function body <span class="math inline">\(b\)</span> is present, it should evaluate to type <span class="math inline">\(B\)</span> which should satisfy <span class="math inline">\(B &lt;: R\)</span>.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO([Kotlin 1.3+, Experimental] <code>expect</code> and <code>external</code> functions also do not have implementations)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">A parameterized function declaration consists of five main parts.</span></p>
</div>
<ul>
<li><span class="sentence">Name <span class="math inline">\(f\)</span>;</span></li>
<li><span class="sentence">Type parameter list <span class="math inline">\(T_1, \ldots, T_m\)</span>;</span></li>
<li><span class="sentence">Parameter list <span class="math inline">\((p_1: P_1 = v_1, \ldots, p_n: P_n = v_n)\)</span>;</span></li>
<li><span class="sentence">Return type <span class="math inline">\(R\)</span>;</span></li>
<li><span class="sentence">Body <span class="math inline">\(b\)</span>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">and extends the rules for a simple function declaration w.r.t. type parameter list. </span><span class="sentence">Further details are described <a href="#declarations-with-type-parameters">here</a>.</span></p>
</div>
<h4 id="function-signature">Function signature</h4>
<div class="paragraph">
<p><span class="sentence">In some cases we need to establish whether one function declaration <em>matches</em> another, e.g., for checking <a href="#overriding">overridability</a>. </span><span class="sentence">To do that, we compare <em>function signatures</em>, which consist of the following.</span></p>
</div>
<ul>
<li><span class="sentence">Name <span class="math inline">\(f\)</span>;</span></li>
<li><span class="sentence">Type parameter list <span class="math inline">\(T_1, \ldots, T_m\)</span> (if present);</span></li>
<li><span class="sentence">Parameter list <span class="math inline">\(P_1, \ldots, P_n\)</span>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Two function signatures <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are considered <em>matching</em>, if the following is true.</span></p>
</div>
<ul>
<li><span class="sentence">Name of <span class="math inline">\(A\)</span> is the same as the name of <span class="math inline">\(B\)</span>;</span></li>
<li><span class="sentence">Formal parameter types of <span class="math inline">\(A\)</span> are pairwise equal to the formal parameter types of <span class="math inline">\(B\)</span> w.r.t. possible type parameter substitutions;</span></li>
<li><span class="sentence">If the number of type parameters is the same, type parameters of <span class="math inline">\(A\)</span> must be pairwise <a href="#subtyping">equivalent</a> to the type parameters of <span class="math inline">\(B\)</span>.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: a platform implementation may change which function signatures are considered matching, depending on the platformâ€™s specifics.</span></p>
</div>
</blockquote>
<h4 id="named-positional-and-default-parameters">Named, positional and default parameters</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin supports <em>named</em> parameters out-of-the-box, meaning one can bind an argument to a parameter in function invocation not by its position, but by its name, which is equal to the argument name.</span></p>
</div>
<div class="sourceCode" id="cb48"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb48-1" title="1"><span class="kw">fun</span> <span class="fu">bar</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">Int</span>, <span class="va">b</span><span class="op">:</span> <span class="dt">Double</span>, <span class="va">s</span><span class="op">:</span> <span class="dt">String</span><span class="op">):</span> <span class="dt">Double</span> = a + b + s.toDouble()</a>
<a class="sourceLine" id="cb48-2" title="2"></a>
<a class="sourceLine" id="cb48-3" title="3"><span class="kw">fun</span> <span class="fu">main</span><span class="op">(</span><span class="va">args</span><span class="op">:</span> <span class="dt">Array</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb48-4" title="4">    println(bar(b = <span class="fl">42.0</span>, a = <span class="dv">5</span>, s = <span class="st">&quot;13&quot;</span>))</a>
<a class="sourceLine" id="cb48-5" title="5"><span class="op">}</span></a></code></pre></div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: it is prohibited to bind the same named parameter to an argument several times, such invocations should result in a compile-time error.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">All the names of named parameters are resolved at compile-time, meaning that performing a call with a parameter name not used at declaration-site is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If one wants to mix named and positional arguments, the argument list must conform to the following form: <span class="math inline">\(PoN_1, \ldots, PoN_M, N_1, \ldots, N_Q\)</span>, where <span class="math inline">\(PoN_i\)</span> is an i-th argument in either positional or named form, <span class="math inline">\(N_j\)</span> is a named argument irregardless of its position.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in Kotlin version 1.3 and earlier, <span class="math inline">\(PoN_i\)</span> were restricted to positional arguments only.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If one needs to provide a named argument to a <a href="#variable-length-parameters">variable length parameter</a>, it can be achieved via either regular named argument <code>arg = arr</code> or a spread operator expression form <code>arg = *arr</code>. </span><span class="sentence">In both cases type of <code>arr</code> must be a subtype of <a href="#array-types"><span class="math inline">\(\operatorname{\text{ATS}}(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{out\,}}T))\)</span></a> for a variable length parameter of type <span class="math inline">\(T\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in Kotlin version 1.3 and earlier, only the spread operator expression form for named variable length arguments was supported.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Kotlin also supports <em>default</em> parameters â€” parameters which have a default value used in function invocation, if the corresponding argument is missing. </span><span class="sentence">Note that default parameters cannot be used to provide a value for positional argument <em>in the middle</em> of the positional argument list; allowing this would create an ambiguity of which argument for position <span class="math inline">\(i\)</span> is the correct one: explicit one provided by the developer or implicit one from the default value.</span></p>
</div>
<div class="sourceCode" id="cb49"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb49-1" title="1"><span class="kw">fun</span> <span class="fu">bar</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> 1<span class="op">,</span> <span class="va">b</span><span class="op">:</span> <span class="dt">Double</span> <span class="op">=</span> 42.0<span class="op">,</span> <span class="va">s</span><span class="op">:</span> <span class="dt">String</span> <span class="op">=</span> <span class="st">&quot;Hello&quot;</span><span class="op">):</span> <span class="dt">Double</span> =</a>
<a class="sourceLine" id="cb49-2" title="2">    a + b + s.toDouble()</a>
<a class="sourceLine" id="cb49-3" title="3"></a>
<a class="sourceLine" id="cb49-4" title="4"><span class="kw">fun</span> <span class="fu">main</span><span class="op">(</span><span class="va">args</span><span class="op">:</span> <span class="dt">Array</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-5" title="5">    <span class="co">// Valid call, all default parameters used</span></a>
<a class="sourceLine" id="cb49-6" title="6">    println(bar())</a>
<a class="sourceLine" id="cb49-7" title="7">    <span class="co">// Valid call, defaults for `b` and `s` used</span></a>
<a class="sourceLine" id="cb49-8" title="8">    println(bar(<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb49-9" title="9">    <span class="co">// Valid call, default for `b` used</span></a>
<a class="sourceLine" id="cb49-10" title="10">    println(bar(<span class="dv">2</span>, s = <span class="st">&quot;Me&quot;</span>))</a>
<a class="sourceLine" id="cb49-11" title="11"></a>
<a class="sourceLine" id="cb49-12" title="12">    <span class="co">// Invalid call, default for `b` cannot be used</span></a>
<a class="sourceLine" id="cb49-13" title="13">    println(bar(<span class="dv">2</span>, <span class="st">&quot;Me&quot;</span>))</a>
<a class="sourceLine" id="cb49-14" title="14"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">In summary, argument list should have the following form:</span></p>
</div>
<ul>
<li><span class="sentence">Zero or more arguments in either positional or named form;</span></li>
<li><span class="sentence">Zero or more named arguments.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Missing arguments are bound to their default values, if they exist.</span></p>
</div>
<h4 id="variable-length-parameters">Variable length parameters</h4>
<div class="paragraph">
<p><span class="sentence">One of the parameters may be designated as being variable length (aka <em>vararg</em>). </span><span class="sentence">A parameter list <span class="math inline">\((p_1, \ldots, \text{vararg }p_i: P_i = v_i, \ldots, p_n)\)</span> means a function may be called with any number of arguments in the i-th position. </span><span class="sentence">These arguments are represented inside function body <span class="math inline">\(b\)</span> as a value <span class="math inline">\(p_i\)</span> of type, which is the result of <a href="#array-types"><em>array type specialization</em></a> of type <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{out\,}}P_i)\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: we also consider variable length parameters to have such types for the purposes of type inference and calls with named parameters.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If a variable length parameter is not last in the parameter list, all subsequent arguments in the function invocation should be specified as named arguments.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a variable length parameter has a default value, it should be an expression which evaluates to a value of type, which is the result of <a href="#array-types"><em>array type specialization</em></a> of type <span class="math inline">\(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{out\,}}P_i)\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A value of type <span class="math inline">\(Q &lt;: \operatorname{\text{ATS}}(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{out\,}}P_i))\)</span> may be <em>unpacked</em> to a variable length parameter in function invocation using <a href="#spread-operator-expressions">spread operator</a>; in this case array elements are considered to be separate arguments in the variable length parameter position.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means that, for variable length parameters corresponding to specialized array types, unpacking is possible only for these specialized versions; for a variable length parameter of type <code>Int</code>, for example, unpacking is valid only for <code>IntArray</code>, and not for <code>Array&lt;Int&gt;</code>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">A function invocation may include several spread operator expressions corresponding to the vararg parameter.</span></p>
</div>
<h4 id="extension-function-declaration">Extension function declaration</h4>
<div class="paragraph">
<p><span class="sentence">An <em>extension function declaration</em> is similar to a standard function declaration, but introduces an additional special function parameter, the <em>receiver parameter</em>. </span><span class="sentence">This parameter is designated by specifying the receiver type (the type before <code>.</code> in function name), which becomes the type of this receiver parameter. </span><span class="sentence">This parameter is not named and must always be supplied (either explicitly or implicitly), e.g.Â it cannot be a variable-argument parameter, have a default value, etc.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Calling such a function is special because the receiver parameter is not supplied as an argument of the call, but as the <a href="#receivers"><em>receiver</em></a> of the call, be it implicit or explicit. </span><span class="sentence">This parameter is available inside the scope of the function as the implicit receiver or <code>this</code>-expression, while nested scopes may introduce additional receivers that take precedence over this one. </span><span class="sentence">See <a href="#receivers">the receiver section</a> for details. </span><span class="sentence">This receiver is also available (as usual) in nested scope using labeled <code>this</code> syntax using the name of the declared function as the label.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For more information on how a particular receiver for each call is chosen, please refer to the <a href="#overload-resolution">overloading section</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: when declaring extension functions inside classifier declarations, this receiver takes precedence over the classifier object, which is usually the current receiver inside nested functions</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">For all other purposes, extension functions are not different from non-extension functions.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb50"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb50-1" title="1"><span class="kw">fun</span> <span class="fu">Int</span><span class="op">.</span><span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> println(<span class="kw">this</span> + <span class="dv">1</span>) <span class="op">}</span> <span class="co">// this has type Int</span></a>
<a class="sourceLine" id="cb50-2" title="2"></a>
<a class="sourceLine" id="cb50-3" title="3"><span class="kw">fun</span> <span class="fu">main</span><span class="op">(</span><span class="va">args</span><span class="op">:</span> <span class="dt">Array</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb50-4" title="4">    <span class="fl">2.f</span>oo() <span class="co">// prints &quot;3&quot;</span></a>
<a class="sourceLine" id="cb50-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb50-6" title="6"></a>
<a class="sourceLine" id="cb50-7" title="7"><span class="kw">class</span> <span class="dt">Bar</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb50-8" title="8">    <span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> println(<span class="kw">this</span>) <span class="op">}</span> <span class="co">// this has type Bar</span></a>
<a class="sourceLine" id="cb50-9" title="9">    <span class="kw">fun</span> <span class="fu">Int</span><span class="op">.</span><span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> println(<span class="kw">this</span>) <span class="op">}</span> <span class="co">// this has type Int</span></a>
<a class="sourceLine" id="cb50-10" title="10"><span class="op">}</span></a></code></pre></div>
<h4 id="inlining">Inlining</h4>
<div class="paragraph">
<p><span class="sentence">A function may be declared <code>inline</code> using a special <code>inline</code> modifier. </span><span class="sentence">This allows the compiler to inline the function at call-site, replacing the call with the body of the function with arguments mapped to corresponding parameters. </span><span class="sentence">It is unspecified whether inlining will actually be performed, however.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Declaring a function <code>inline</code> has two additional effects:</span></p>
</div>
<ul>
<li><span class="sentence">It allows type parameters of the function to be declared <code>reified</code>, making them <a href="#runtime-available-types">runtime-available</a> and allowing usage of specific expressions involving these parameters, such as <a href="#type-checking-expression">type checks</a> and <a href="#class-literals">class literals</a>. </span><span class="sentence">Calling such a function is only allowed in a context where a particular type argument provided for this type parameter is also a runtime-available type.</span></li>
<li><span class="sentence">Any parameter of this function of a <a href="#function-types">function type</a> is treated as <em>inlined</em> parameter unless it has one of two special modifiers: <code>crossinline</code> or <code>noinline</code>. </span><span class="sentence">If a particular argument corresponding to inline parameter is a <a href="#lambda-literals">lambda literal</a>, this lambda literal is considered <em>inlined</em> and, in particular, affects the way the <a href="#return-expressions">return expressions</a> are handled in its body. </span><span class="sentence">See the corresponding section for details.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Inlined parameters are not allowed to escape the scope of the function body, meaning that they cannot be stored in variables, returned from the function or captured by other values. </span><span class="sentence">They may only be called inside the function body.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Crossinline parameters may not be stored or returned from the function, but may be captured (for example, by <a href="#object-literals">object literals</a> or other non-inlined lambda literals).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Noinline parameters may be treated as any other values.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Particular platforms may introduce additional restrictions or guarantees for the inlining mechanism.</span></p>
</div>
<h4 id="tail-recursion-optimization">Tail recursion optimization</h4>
<div class="paragraph">
<p><span class="sentence">A function may be declared <em>tail-recursive</em> by using a special <code>tailrec</code> modifier. </span><span class="sentence">A tail-recursive function that contains a recursive call to itself may be optimized to a non-recursive form by a particular platform in order to avoid problems of recursion such as a possibility of stack overflows possible on some platforms.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In order to be applicable for such an optimization, the function must adhere to tail recursive form: for all paths containing recursive calls the result of the recursive call must also be the result of the function. </span><span class="sentence">If a function declaration is marked with the <code>tailrec</code> modifier, but is not actually applicable for the optimization, it must produce a compile-time warning.</span></p>
</div>
<h3 id="property-declaration">Property declaration</h3>
<div id="grammar-rule-propertyDeclaration-pasted-4" class="grammar-rule">
<dl>
<dt><strong><em>propertyDeclaration</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
(<code>'val'</code> | <code>'var'</code>)<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-receiverType">receiverType</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code>]<br />
({<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-multiVariableDeclaration">multiVariableDeclaration</a></em> | <em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em>))<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} ((<code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>) | <em><a href="#grammar-rule-propertyDelegate">propertyDelegate</a></em>)]<br />
[(<em><a href="#grammar-rule-NL">NL</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>}) <code>';'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
(([<em><a href="#grammar-rule-getter">getter</a></em>] [{<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-semi">semi</a></em>] <em><a href="#grammar-rule-setter">setter</a></em>]) | ([<em><a href="#grammar-rule-setter">setter</a></em>] [{<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-semi">semi</a></em>] <em><a href="#grammar-rule-getter">getter</a></em>]))</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin uses <em>properties</em> to represent object-like entities, such as local variables, class fields or top-level values.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Property declarations may create read-only (<code>val</code>) or mutable (<code>var</code>) entities in their respective scope.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Properties may also have custom getter or setter â€” special functions which are used to read or write the property value. </span><span class="sentence">Getters and setters cannot be called directly, but rather define how the corresponding properties are evaluated when accessed.</span></p>
</div>
<h4 id="read-only-property-declaration">Read-only property declaration</h4>
<div class="paragraph">
<p><span class="sentence">A read-only property declaration <code>val x: T = e</code> introduces <code>x</code> as a name of the result of <code>e</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A read-only property declaration may include a custom <a href="#getters-and-setters">getter</a> in the form of</span></p>
</div>
<div class="sourceCode" id="cb51"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb51-1" title="1"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="op">=</span> e</a>
<a class="sourceLine" id="cb51-2" title="2">    <span class="kw">get</span><span class="op">():</span> <span class="dt">T</span> <span class="op">{</span> ... <span class="op">}</span> <span class="co">// (1)</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">or</span></p>
</div>
<div class="sourceCode" id="cb52"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="op">=</span> e</a>
<a class="sourceLine" id="cb52-2" title="2">    <span class="kw">get</span><span class="op">():</span> <span class="dt">T</span> = ... <span class="co">// (2)</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">in which case <code>x</code> is used as a synonym to the getter invocation. </span><span class="sentence">All of the right-hand value <code>e</code>, the type <code>T</code> in both positions, and the getter are optional, however, at least one of them must be specified. </span><span class="sentence">More so, if we cannot infer the resulting property type from the type of <code>e</code> or from the type of getter in expression form (2), the type <code>T</code> must be specified explicitly either as the property type, or as the getter return type. </span><span class="sentence">In case both <code>e</code> and <code>T</code> are specified, the type of <code>e</code> must be a subtype of <code>T</code> (see <a href="#subtyping">subtyping</a> for more details).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The initializer expression <code>e</code>, if given, serves as the starting value for the property backing field (see <a href="#getters-and-setters">getters and setters section</a> for details) and is evaluated when the property is created. </span><span class="sentence">Properties that are not allowed to have backing fields (see <a href="#getters-and-setters">getters and setters section</a> for details) are also not allowed to have initializer expressions.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: although a property with an initializer expression looks similar to an <a href="#assignments">assignment</a>, it is different in several key ways: first, a read-only property cannot be assigned, but may have an initializer expression; second, the initializer expression never invokes the property setter, but assigns the property backing field value directly.</span></p>
</div>
</blockquote>
<h4 id="mutable-property-declaration">Mutable property declaration</h4>
<div class="paragraph">
<p><span class="sentence">A mutable property declaration <code>var x: T = e</code> introduces <code>x</code> as a name of a mutable variable with type <code>T</code> and initial value equals to the result of <code>e</code>. </span><span class="sentence">The rules regarding the right-hand value <code>e</code> and the type <code>T</code> match those of a read-only property declaration.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A mutable property declaration may include a custom <a href="#getters-and-setters">getter</a> and/or custom <a href="#getters-and-setters">setter</a> in the form of</span></p>
</div>
<div class="sourceCode" id="cb53"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb53-1" title="1"><span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="op">=</span> e</a>
<a class="sourceLine" id="cb53-2" title="2">    <span class="kw">get</span><span class="op">():</span> <span class="dt">TG</span> <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb53-3" title="3">    <span class="kw">set</span><span class="op">(</span><span class="va">value</span><span class="op">:</span> <span class="dt">TS</span><span class="op">)</span> <span class="op">{</span> ... <span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">in which case <code>x</code> is used as a synonym to the getter invocation when read from and to the setter invocation when written to.</span></p>
</div>
<h4 id="local-property-declaration">Local property declaration</h4>
<div class="paragraph">
<p><span class="sentence">If a property declaration is local, it creates a local entity which follows most of the same rules as the ones for regular property declarations. </span><span class="sentence">However, local property declarations cannot have custom getters or setters.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Local property declarations also support <a href="#destructuring-declarations"><em>destructuring</em> declaration</a> in the form of</span></p>
</div>
<div class="sourceCode" id="cb54"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb54-1" title="1"><span class="kw">val</span> <span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">T</span><span class="op">,</span> <span class="va">b</span><span class="op">:</span> <span class="dt">U</span><span class="op">,</span> <span class="va">c</span><span class="op">:</span> <span class="dt">V</span><span class="op">,</span> ...) = <span class="va">e</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">which is a syntactic sugar for the following expansion</span></p>
</div>
<div class="sourceCode" id="cb55"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">T</span> <span class="op">=</span> e.component1()</a>
<a class="sourceLine" id="cb55-2" title="2"><span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="dt">U</span> <span class="op">=</span> e.component2()</a>
<a class="sourceLine" id="cb55-3" title="3"><span class="kw">val</span> <span class="va">c</span><span class="op">:</span> <span class="dt">V</span> <span class="op">=</span> e.component3()</a>
<a class="sourceLine" id="cb55-4" title="4">...</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where <code>componentN()</code> should be a valid operator function available on the result of <code>e</code>. </span><span class="sentence">Some of the entries in the destructuring declaration may be replaced with an <em>ignore marker</em> <code>_</code>, which signifies that no variable is declared and no <code>componentN()</code> function is called.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As with regular property declaration, type specification is optional, in which case the type is inferred from the corresponding <code>componentN()</code> function. </span><span class="sentence">Destructuring declarations cannot use getters, setters or delegates and must be initialized in-place.</span></p>
</div>
<h4 id="getters-and-setters">Getters and setters</h4>
<div class="paragraph">
<p><span class="sentence">As mentioned before, a property declaration may include a custom getter and/or custom setter (together called <em>accessors</em>) in the form of</span></p>
</div>
<div class="sourceCode" id="cb56"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb56-1" title="1"><span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="op">=</span> e</a>
<a class="sourceLine" id="cb56-2" title="2">    <span class="kw">get</span><span class="op">():</span> <span class="dt">TG</span> <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb56-3" title="3">    <span class="kw">set</span><span class="op">(</span><span class="va">anyValidArgumentName</span><span class="op">:</span> <span class="dt">TS</span><span class="op">):</span> <span class="dt">RT</span> <span class="op">{</span> ... <span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">These functions have the following requirements</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(TG \equiv T\)</span>;</span></li>
<li><span class="sentence"><span class="math inline">\(TS \equiv T\)</span>;</span></li>
<li><span class="sentence"><span class="math inline">\(RT \equiv \mathtt{kotlin.Unit}\)</span>;</span></li>
<li><div class="paragraph">
<p><span class="sentence">Types <span class="math inline">\(TG\)</span>, <span class="math inline">\(TS\)</span> and <span class="math inline">\(RT\)</span> are optional and may be omitted from the declaration;</span></p>
</div></li>
<li><span class="sentence">Read-only properties may have a custom getter, but not a custom setter;</span></li>
<li><div class="paragraph">
<p><span class="sentence">Mutable properties may have any combination of a custom getter and a custom setter</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">Setter argument may have any valid identifier as argument name.</span></p>
</div></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Regular coding convention recommends <code>value</code> as the name for the setter argument</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">One can also omit the accessor body, in which case a <em>default</em> implementation is used (also known as default accessor).</span></p>
</div>
<div class="sourceCode" id="cb57"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb57-1" title="1"><span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="op">=</span> e</a>
<a class="sourceLine" id="cb57-2" title="2">    <span class="kw">get</span></a>
<a class="sourceLine" id="cb57-3" title="3">    <span class="kw">set</span></a></code></pre></div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">This notation is usually used if you need to change some aspects of an accessor (i.e., its visibility) without changing the default implementation.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Getters and setters allow one to customize how the property is accessed, and may need access to the propertyâ€™s <em>backing field</em>, which is responsible for actually storing the property data. </span><span class="sentence">It is accessed via the special <code>field</code> property available inside accessor body, which follows these conventions</span></p>
</div>
<ul>
<li><span class="sentence">For a property declaration of type <code>T</code>, <code>field</code> has the same type <code>T</code></span></li>
<li><span class="sentence"><code>field</code> is read-only inside getter body</span></li>
<li><span class="sentence"><code>field</code> is mutable inside setter body</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">However, the backing field is created for a property only in the following cases</span></p>
</div>
<ul>
<li><span class="sentence">A property has no custom accessors;</span></li>
<li><span class="sentence">A property has a default accessor;</span></li>
<li><span class="sentence">A property has a custom accessor, and it uses <code>field</code> property;</span></li>
<li><span class="sentence">A mutable property has a custom getter or setter, but not both.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In all other cases a property has no backing field. </span><span class="sentence">Properties without backing fields are not allowed to have initializer expressions.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Read/write access to the property is replaced with getter/setter invocation respectively. </span><span class="sentence">Getters and setters allow for some modifiers available for function declarations (for example, they may be declared <code>inline</code>, see grammar for details). </span><span class="sentence">Properties themselves may also be declared <code>inline</code>, meaning that both getter and setter of said property are <code>inline</code>.</span></p>
</div>
<h4 id="delegated-property-declaration">Delegated property declaration</h4>
<div class="paragraph">
<p><span class="sentence">A delegated read-only property declaration <code>val x: T by e</code> introduces <code>x</code> as a name for the <em>delegation</em> result of property <code>x</code> to the entity <code>e</code> or to the delegatee of <code>e</code> provided by <a href="#provide-delegate"><code>provideDelegate</code></a>. </span><span class="sentence">For the former, one may consider these properties as regular properties with a special <em>delegating</em> <a href="#getters-and-setters">getters</a>:</span></p>
</div>
<div class="sourceCode" id="cb58"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb58-1" title="1"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="kw">by</span> e</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is the same as</span></p>
</div>
<div class="sourceCode" id="cb59"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb59-1" title="1"><span class="kw">val</span> <span class="va">x</span>$delegate = e</a>
<a class="sourceLine" id="cb59-2" title="2"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span></a>
<a class="sourceLine" id="cb59-3" title="3">    <span class="kw">get</span><span class="op">():</span> <span class="dt">T</span> = x$delegate.getValue(thisRef, ::x)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Here every access to such property (<code>x</code> in this case) becomes an <a href="#operator-overloading">overloadable</a> form which is expanded into the following:</span></p>
</div>
<div class="sourceCode" id="cb60"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb60-1" title="1">e.getValue(thisRef, property)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where</span></p>
</div>
<ul>
<li><span class="sentence"><code>e</code> is the delegating entity; the compiler needs to make sure that this is accessible in any place <code>x</code> is accessible;</span></li>
<li><span class="sentence"><code>getValue</code> is a suitable operator function available on <code>e</code>;</span></li>
<li><span class="sentence"><code>thisRef</code> is the <a href="#receivers">receiver</a> object for the property. </span><span class="sentence">This argument is <code>null</code> for local properties;</span></li>
<li><span class="sentence"><code>property</code> is an object of the type <code>kotlin.KProperty&lt;*&gt;</code> that contains information relevant to <code>x</code> (for example, its name, see standard library documentation for details).</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">A delegated mutable property declaration <code>var x: T by e</code> introduces <code>x</code> as a name of a mutable entity with type <code>T</code>, access to which is <em>delegated</em> to the entity <code>e</code> or to the delegatee of <code>e</code> provided by <a href="#provide-delegate"><code>provideDelegate</code></a>. </span><span class="sentence">As before, one may view these properties as regular properties with special <em>delegating</em> <a href="#getters-and-setters">getters and setters</a>:</span></p>
</div>
<div class="sourceCode" id="cb61"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb61-1" title="1"><span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="kw">by</span> e</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is the same as</span></p>
</div>
<div class="sourceCode" id="cb62"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb62-1" title="1"><span class="kw">val</span> <span class="va">x</span>$delegate = e</a>
<a class="sourceLine" id="cb62-2" title="2"><span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span></a>
<a class="sourceLine" id="cb62-3" title="3">    <span class="kw">get</span><span class="op">():</span> <span class="dt">T</span> = x$delegate.getValue(thisRef, ::x)</a>
<a class="sourceLine" id="cb62-4" title="4">    <span class="kw">set</span><span class="op">(</span><span class="va">value</span><span class="op">:</span> <span class="dt">T</span><span class="op">)</span> <span class="op">{</span> x$delegate.setValue(thisRef, ::x, value) <span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Read access is handled the same way as for a delegated read-only property. </span><span class="sentence">Any write access to <code>x</code> (using, for example, an assignment operator <code>x = y</code>) becomes an overloadable form with the following expansion:</span></p>
</div>
<div class="sourceCode" id="cb63"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb63-1" title="1">e.setValue(thisRef, property, y)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where</span></p>
</div>
<ul>
<li><span class="sentence"><code>e</code> is the delegating entity; the compiler needs to make sure that this is accessible in any place <code>x</code> is accessible;</span></li>
<li><span class="sentence"><code>getValue</code> is a suitable operator function available on <code>e</code>;</span></li>
<li><span class="sentence"><code>thisRef</code> is the <a href="#receivers">receiver</a> object for the property. </span><span class="sentence">This argument is <code>null</code> for local properties;</span></li>
<li><span class="sentence"><code>property</code> is an object of the type <code>kotlin.KProperty&lt;*&gt;</code> that contains information relevant to <code>x</code> (for example, its name, see standard library documentation for details);</span></li>
<li><span class="sentence"><code>y</code> is the value <code>x</code> is assigned to. </span><span class="sentence">In case of complex assignments (see the <a href="#assignments">assignment</a> section), as they are all overloadable forms, first the assignment expansion is performed, and after that, the expansion of the delegated property using normal assignment.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The type of a delegated property may be omitted at the declaration site, meaning that it may be <a href="#type-inference">inferred</a> from the delegating function itself, as it is with regular getters and setters. </span><span class="sentence">If this type is omitted, it is inferred as if it was assigned the value of its expansion. </span><span class="sentence">If this inference fails, it is a compile-time error.</span></p>
</div>
<div id="provide-delegate">
<div class="paragraph">
<p><span class="sentence">If the delegate expression has a suitable operator function called <code>provideDelegate</code>, a <em>provided</em> delegate is used instead. </span><span class="sentence">The provided delegate is accessed using the following expansion:</span></p>
</div>
<div class="sourceCode" id="cb64"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb64-1" title="1"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="kw">by</span> e</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is the same as</span></p>
</div>
<div class="sourceCode" id="cb65"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb65-1" title="1"><span class="kw">val</span> <span class="va">x</span>$delegate = e.provideDelegate(thisRef, ::x)</a>
<a class="sourceLine" id="cb65-2" title="2"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span></a>
<a class="sourceLine" id="cb65-3" title="3">    <span class="kw">get</span><span class="op">():</span> <span class="dt">T</span> = x$delegate.getValue(thisRef, ::x)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">and</span></p>
</div>
<div class="sourceCode" id="cb66"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb66-1" title="1"><span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span> <span class="kw">by</span> e</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is the same as</span></p>
</div>
<div class="sourceCode" id="cb67"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb67-1" title="1"><span class="kw">val</span> <span class="va">x</span>$delegate = e.provideDelegate(thisRef, ::x)</a>
<a class="sourceLine" id="cb67-2" title="2"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">T</span></a>
<a class="sourceLine" id="cb67-3" title="3">    <span class="kw">get</span><span class="op">():</span> <span class="dt">T</span> = x$delegate.getValue(thisRef, ::x)</a>
<a class="sourceLine" id="cb67-4" title="4">    <span class="kw">set</span><span class="op">(</span><span class="va">value</span><span class="op">)</span> <span class="op">{</span> x$delegate.setValue(thisRef, ::x, value) <span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where <code>provideDelegate</code> is a suitable operator function available using the receiver <code>e</code>, while <code>getValue</code> and <code>setValue</code> work the same way they do with normal property delegation. </span><span class="sentence">As is the case with<code>setValue</code> and <code>getValue</code>, <code>thisRef</code> is a reference to the receiver of the property or <code>null</code> for local properties, but there is also a special case: for extension properties <code>thisRef</code> supplied to <code>provideDelegate</code> is <code>null</code>, while <code>thisRef</code> provided to <code>getValue</code> and <code>setValue</code> is the actual receiver. </span><span class="sentence">This is due to the fact that, during the creation of the property, no receiver is available.</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">For both provided and standard delegates, the generated delegate value is placed in the same context as its corresponding property. </span><span class="sentence">This means that for a class member property it will be a synthetic member, for a local property it is a local value in the same scope as the property and for top-level (both extension and non-extension) properties it will be a top-level value. </span><span class="sentence">This affects this valueâ€™s lifetime in the same way normal value lifetime works.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb68"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb68-1" title="1"><span class="kw">operator</span> <span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">V</span>, <span class="dt">R</span> <span class="op">:</span> <span class="dt">V</span><span class="op">&gt;</span> <span class="fu">Map</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">String</span>, <span class="dt">V</span><span class="op">&gt;.</span><span class="fu">getValue</span><span class="op">(</span></a>
<a class="sourceLine" id="cb68-2" title="2">        <span class="va">thisRef</span><span class="op">:</span> <span class="dt">Any?</span>, <span class="va">property</span><span class="op">:</span> <span class="dt">KProperty</span><span class="op">&lt;*&gt;):</span> <span class="dt">R</span> =</a>
<a class="sourceLine" id="cb68-3" title="3">    getOrElse(property.name) <span class="op">{</span></a>
<a class="sourceLine" id="cb68-4" title="4">        <span class="kw">throw</span> NoSuchElementException()</a>
<a class="sourceLine" id="cb68-5" title="5">    <span class="op">}</span> <span class="kw">as</span> R</a>
<a class="sourceLine" id="cb68-6" title="6"></a>
<a class="sourceLine" id="cb68-7" title="7"><span class="kw">operator</span> <span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">V</span><span class="op">&gt;</span> <span class="fu">MutableMap</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">String</span>, <span class="dt">V</span><span class="op">&gt;.</span><span class="fu">setValue</span><span class="op">(</span></a>
<a class="sourceLine" id="cb68-8" title="8">        <span class="va">thisRef</span><span class="op">:</span> <span class="dt">Any?</span>, <span class="va">property</span><span class="op">:</span> <span class="dt">KProperty</span><span class="op">&lt;*&gt;</span>, <span class="va">newValue</span><span class="op">:</span> <span class="dt">V</span><span class="op">)</span> =</a>
<a class="sourceLine" id="cb68-9" title="9">    <span class="kw">set</span><span class="op">(</span><span class="va">property</span>.<span class="va">name</span>, <span class="va">newValue</span><span class="op">)</span></a>
<a class="sourceLine" id="cb68-10" title="10"></a>
<a class="sourceLine" id="cb68-11" title="11"><span class="kw">fun</span> handleConfig(config: MutableMap&lt;<span class="kw">String</span>, <span class="kw">Any</span>?&gt;) <span class="op">{</span></a>
<a class="sourceLine" id="cb68-12" title="12">    <span class="kw">val</span> <span class="va">parent</span> <span class="kw">by</span> config       <span class="co">// Any?</span></a>
<a class="sourceLine" id="cb68-13" title="13">    <span class="kw">val</span> <span class="va">host</span><span class="op">:</span> <span class="dt">String</span> <span class="kw">by</span> config <span class="co">// String</span></a>
<a class="sourceLine" id="cb68-14" title="14">    <span class="kw">var</span> <span class="va">port</span><span class="op">:</span> <span class="dt">Int</span> <span class="kw">by</span> config    <span class="co">// Int</span></a>
<a class="sourceLine" id="cb68-15" title="15"></a>
<a class="sourceLine" id="cb68-16" title="16">    <span class="co">// Delegating property accesses to Map.getValue</span></a>
<a class="sourceLine" id="cb68-17" title="17">    <span class="co">// Throwing NSEE as there is no &quot;port&quot; key in the map</span></a>
<a class="sourceLine" id="cb68-18" title="18">    <span class="co">// println(&quot;$parent: going to $host:$port&quot;)</span></a>
<a class="sourceLine" id="cb68-19" title="19"></a>
<a class="sourceLine" id="cb68-20" title="20">    <span class="co">// Delegating property access to Map.setValue</span></a>
<a class="sourceLine" id="cb68-21" title="21">    port = <span class="dv">443</span></a>
<a class="sourceLine" id="cb68-22" title="22">    <span class="co">// Map now contains &quot;port&quot; key</span></a>
<a class="sourceLine" id="cb68-23" title="23"></a>
<a class="sourceLine" id="cb68-24" title="24">    <span class="co">// Delegating property accesses to Map.getValue</span></a>
<a class="sourceLine" id="cb68-25" title="25">    <span class="co">// Not throwing NSEE as there is &quot;port&quot; key in the map</span></a>
<a class="sourceLine" id="cb68-26" title="26">    println(<span class="st">&quot;$parent: going to $host:$port&quot;</span>)</a>
<a class="sourceLine" id="cb68-27" title="27"><span class="op">}</span></a>
<a class="sourceLine" id="cb68-28" title="28"></a>
<a class="sourceLine" id="cb68-29" title="29"><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb68-30" title="30">    handleConfig(mutableMapOf(</a>
<a class="sourceLine" id="cb68-31" title="31">        <span class="st">&quot;parent&quot;</span> to <span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb68-32" title="32">        <span class="st">&quot;host&quot;</span> to <span class="st">&quot;https://kotlinlang.org/&quot;</span></a>
<a class="sourceLine" id="cb68-33" title="33">    ))</a>
<a class="sourceLine" id="cb68-34" title="34"><span class="op">}</span></a></code></pre></div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example with <code>provideDelegate</code>:</span></p>
</div>
<div class="sourceCode" id="cb69"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb69-1" title="1"><span class="kw">operator</span> <span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">V</span><span class="op">&gt;</span> <span class="fu">MutableMap</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">String</span>, <span class="dt">V</span><span class="op">&gt;.</span><span class="fu">provideDelegate</span><span class="op">(</span></a>
<a class="sourceLine" id="cb69-2" title="2">        <span class="va">thisRef</span><span class="op">:</span> <span class="dt">Any?</span>,</a>
<a class="sourceLine" id="cb69-3" title="3">        <span class="va">property</span><span class="op">:</span> <span class="dt">KProperty</span><span class="op">&lt;*&gt;):</span> <span class="dt">MutableMap</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">String</span>, <span class="dt">V</span><span class="op">&gt;</span> =</a>
<a class="sourceLine" id="cb69-4" title="4">    <span class="cf">if</span> (containsKey(property.name)) <span class="kw">this</span></a>
<a class="sourceLine" id="cb69-5" title="5">    <span class="cf">else</span> <span class="kw">throw</span> NoSuchElementException()</a>
<a class="sourceLine" id="cb69-6" title="6"></a>
<a class="sourceLine" id="cb69-7" title="7"><span class="kw">operator</span> <span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">V</span>, <span class="dt">R</span> <span class="op">:</span> <span class="dt">V</span><span class="op">&gt;</span> <span class="fu">Map</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">String</span>, <span class="dt">V</span><span class="op">&gt;.</span><span class="fu">getValue</span><span class="op">(</span></a>
<a class="sourceLine" id="cb69-8" title="8">        <span class="va">thisRef</span><span class="op">:</span> <span class="dt">Any?</span>, <span class="va">property</span><span class="op">:</span> <span class="dt">KProperty</span><span class="op">&lt;*&gt;):</span> <span class="dt">R</span> = ...</a>
<a class="sourceLine" id="cb69-9" title="9"></a>
<a class="sourceLine" id="cb69-10" title="10"><span class="kw">operator</span> <span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">V</span><span class="op">&gt;</span> <span class="fu">MutableMap</span><span class="op">&lt;</span><span class="kw">in</span> <span class="dt">String</span>, <span class="dt">V</span><span class="op">&gt;.</span><span class="fu">setValue</span><span class="op">(</span></a>
<a class="sourceLine" id="cb69-11" title="11">        <span class="va">thisRef</span><span class="op">:</span> <span class="dt">Any?</span>, <span class="va">property</span><span class="op">:</span> <span class="dt">KProperty</span><span class="op">&lt;*&gt;</span>, <span class="va">newValue</span><span class="op">:</span> <span class="dt">V</span><span class="op">)</span> = ...</a>
<a class="sourceLine" id="cb69-12" title="12"></a>
<a class="sourceLine" id="cb69-13" title="13"><span class="kw">fun</span> <span class="fu">handleConfig</span><span class="op">(</span><span class="va">config</span><span class="op">:</span> <span class="dt">MutableMap</span><span class="op">&lt;</span><span class="dt">String</span>, <span class="dt">Any?</span><span class="op">&gt;)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-14" title="14">    <span class="kw">val</span> <span class="va">parent</span> <span class="kw">by</span> config       <span class="co">// Any?</span></a>
<a class="sourceLine" id="cb69-15" title="15">    <span class="kw">val</span> <span class="va">host</span><span class="op">:</span> <span class="dt">String</span> <span class="kw">by</span> config <span class="co">// String</span></a>
<a class="sourceLine" id="cb69-16" title="16">    <span class="kw">var</span> <span class="va">port</span><span class="op">:</span> <span class="dt">Int</span> <span class="kw">by</span> config    <span class="co">// Int</span></a>
<a class="sourceLine" id="cb69-17" title="17">    <span class="co">// Throwing NSEE here as `provideDelegate`</span></a>
<a class="sourceLine" id="cb69-18" title="18">    <span class="co">//   checks for &quot;port&quot; key in the map</span></a>
<a class="sourceLine" id="cb69-19" title="19"></a>
<a class="sourceLine" id="cb69-20" title="20">    ...</a>
<a class="sourceLine" id="cb69-21" title="21"><span class="op">}</span></a>
<a class="sourceLine" id="cb69-22" title="22"></a>
<a class="sourceLine" id="cb69-23" title="23"><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-24" title="24">    handleConfig(mutableMapOf(</a>
<a class="sourceLine" id="cb69-25" title="25">        <span class="st">&quot;parent&quot;</span> to <span class="st">&quot;&quot;</span>,</a>
<a class="sourceLine" id="cb69-26" title="26">        <span class="st">&quot;host&quot;</span> to <span class="st">&quot;https://kotlinlang.org/&quot;</span></a>
<a class="sourceLine" id="cb69-27" title="27">    ))</a>
<a class="sourceLine" id="cb69-28" title="28"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="extension-property-declaration">Extension property declaration</h4>
<div class="paragraph">
<p><span class="sentence">An <em>extension property declaration</em> is similar to a standard property declaration, but, very much alike an <a href="#extension-function-declaration">extension function</a>, introduces an additional parameter to the property called <em>the receiver parameter</em>. </span><span class="sentence">This is different from usual property declarations, that do not have any parameters. </span><span class="sentence">There are other differences from standard property declarations:</span></p>
</div>
<ul>
<li><span class="sentence">Extension properties cannot have initializers;</span></li>
<li><span class="sentence">Extension properties cannot have backing fields;</span></li>
<li><span class="sentence">Extension properties cannot have default accessors.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: informally, on can say that extension properties have no state of their own. </span><span class="sentence">Only properties that use other objectsâ€™ storage facilities and/or uses constant data can be extension properties.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Aside from these differences, extension properties are similar to regular properties, but, when accessing such a property one always need to supply a <a href="#receivers"><em>receiver</em></a>, implicit or explicit. </span><span class="sentence">Like for regular properties, the type of the receiver must be a subtype of the receiver parameter, and the value that is supplied as the receiver is bound to the receiver parameter. </span><span class="sentence">For more information on how a particular receiver for each access is chosen, please refer to the <a href="#overload-resolution">overloading section</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The receiver parameter can be accessed inside getter and setter scopes of the property as the implicit receiver or <code>this</code>. </span><span class="sentence">It may also be accessed inside nested scopes using <a href="#this-expressions">labeled <code>this</code> syntax</a> using the name of the property declared as the label. </span><span class="sentence">For delegated properties, the value passed into the operator functions <code>getValue</code> and <code>setValue</code> as the receiver is the value of the receiver parameter, rather than the value of the outer classifier. </span><span class="sentence">This is also true for local extension properties: while regular local properties are passed <code>null</code> as the first argument of these operator functions, local extension properties are passed the value of the receiver argument instead.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: when declaring extension properties inside classifier declarations, this receiver takes precedence over the classifier object, which is usually the current receiver inside nested properties</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">For all other purposes, extension properties are not different from non-extension properties.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb70"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb70-1" title="1"><span class="kw">val</span> <span class="va">Int.foo</span><span class="op">:</span> <span class="dt">Int</span> <span class="kw">get</span><span class="op">()</span> = <span class="kw">this</span> + <span class="dv">1</span></a>
<a class="sourceLine" id="cb70-2" title="2"></a>
<a class="sourceLine" id="cb70-3" title="3"><span class="kw">fun</span> <span class="fu">main</span><span class="op">(</span><span class="va">args</span><span class="op">:</span> <span class="dt">Array</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb70-4" title="4">    println(<span class="fl">2.f</span>oo.foo) <span class="co">// prints &quot;4&quot;</span></a>
<a class="sourceLine" id="cb70-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb70-6" title="6"></a>
<a class="sourceLine" id="cb70-7" title="7"><span class="kw">class</span> <span class="dt">Bar</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb70-8" title="8">    <span class="kw">val</span> <span class="va">foo</span> <span class="kw">get</span><span class="op">()</span> = <span class="kw">this</span> <span class="co">// returns type Bar</span></a>
<a class="sourceLine" id="cb70-9" title="9">    <span class="kw">val</span> <span class="va">Int.foo</span> <span class="kw">get</span><span class="op">()</span> = <span class="kw">this</span> <span class="co">// returns type Int</span></a>
<a class="sourceLine" id="cb70-10" title="10"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="property-initialization">Property initialization</h4>
<div class="paragraph">
<p><span class="sentence">All non-abstract properties must be definitely initialized before their first use. </span><span class="sentence">To guarantee this, Kotlin compiler uses a number of analyses which are described in more detail <a href="#control--and-data-flow-analysis">here</a>.</span></p>
</div>
<h4 id="constant-properties">Constant properties</h4>
<div class="paragraph">
<p><span class="sentence">A property may be declared <strong>constant</strong>, meaning that its value is known during compilation, by using the special <code>const</code> modifier. </span><span class="sentence">In order to be declared <code>const</code>, a property must meet the following requirements:</span></p>
</div>
<ul>
<li><span class="sentence">Its type is one of the following:</span>
<ul>
<li><span class="sentence">One of the <a href="#built-in-integer-types-1">the built-in integral types</a>;</span></li>
<li><span class="sentence">One of the <a href="#built-in-floating-point-arithmetic-types">the built-in floating types</a>;</span></li>
<li><span class="sentence"><code>kotlin.Boolean</code>;</span></li>
<li><span class="sentence"><code>kotlin.Char</code>;</span></li>
<li><span class="sentence"><code>kotlin.String</code>;</span></li>
</ul></li>
<li><span class="sentence">It is declared in the top-level scope or inside <a href="#classifier-declaration">an object declaration</a>;</span></li>
<li><span class="sentence">It has an initializer expression and this initializer expression can be evaluated at compile-time. </span><span class="sentence">Integer literals and string interpolation expressions without evaluated expressions, as well as built-in arithmetic/comparison operations and string concatenation operations on those are such expressions, as well as other constant properties, but it is implementation-defined which other expressions qualify for this;</span></li>
<li><span class="sentence">It does not have getters, setters or delegation specifiers.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb71"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb71-1" title="1"><span class="co">// Correct constant properties</span></a>
<a class="sourceLine" id="cb71-2" title="2"><span class="kw">const</span> <span class="kw">val</span> <span class="va">answer</span> <span class="op">=</span> <span class="dv">2</span> * <span class="dv">21</span></a>
<a class="sourceLine" id="cb71-3" title="3"><span class="kw">const</span> <span class="kw">val</span> <span class="va">msg</span> <span class="op">=</span> <span class="st">&quot;Hello World!&quot;</span></a>
<a class="sourceLine" id="cb71-4" title="4"><span class="kw">const</span> <span class="kw">val</span> <span class="va">calculated</span> <span class="op">=</span> answer + <span class="dv">45</span></a>
<a class="sourceLine" id="cb71-5" title="5"></a>
<a class="sourceLine" id="cb71-6" title="6"><span class="co">// Incorrect constant property</span></a>
<a class="sourceLine" id="cb71-7" title="7"><span class="kw">const</span> <span class="kw">val</span> <span class="va">emptyStringHashCode</span> <span class="op">=</span> <span class="st">&quot;&quot;</span>.hashCode()</a></code></pre></div>
</blockquote>
<h4 id="late-initialized-properties">Late-initialized properties</h4>
<div class="paragraph">
<p><span class="sentence">A mutable member property can be declared with a special <code>lateinit</code> modifier, effectively turning off the <a href="#property-initialization">property initialization checks</a> for it. </span><span class="sentence">Such a property is called late-initialized and may be used for values that are supposed to be initialized not during object construction, but during some other time (for example, a special initialization function). </span><span class="sentence">This means, among other things, that it is the responsibility of the programmer to guarantee that the property is initialized before its usage.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A property may be declared late-initialized if:</span></p>
</div>
<ul>
<li><span class="sentence">It has no custom getters, setters or delegation;</span></li>
<li><span class="sentence">It is a member or a top-level property;</span></li>
<li><span class="sentence">It is mutable;</span></li>
<li><span class="sentence">It has declared non-nullable type which is also not one of the following types:</span>
<ul>
<li><span class="sentence">One of the <a href="#built-in-integer-types-1">built-in integer types</a>;</span></li>
<li><span class="sentence">One of the <a href="#built-in-floating-point-arithmetic-types">built-in floating types</a>;</span></li>
<li><span class="sentence"><a href="#kotlin.boolean"><code>kotlin.Boolean</code></a>;</span></li>
<li><span class="sentence"><a href="#kotlin.char"><code>kotlin.Char</code></a>.</span></li>
</ul></li>
</ul>
<h3 id="type-alias">Type alias</h3>
<div id="grammar-rule-typeAlias-pasted-5" class="grammar-rule">
<dl>
<dt><strong><em>typeAlias</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-modifiers">modifiers</a></em>]<br />
<code>'typealias'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeParameters">typeParameters</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'='</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-type">type</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Type alias introduces an alternative name for the specified type and supports both simple and parameterized types. </span><span class="sentence">If type alias is parameterized, its type parameters must be <a href="#type-parameters">unbounded</a>. </span><span class="sentence">Another restriction is that recursive type aliases are forbidden â€” the type alias name cannot be used in its own right-hand side.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">At the moment, Kotlin supports only top-level type aliases. </span><span class="sentence">The scope where it is accessible is defined by its <a href="#declaration-visibility"><em>visibility modifiers</em></a>.</span></p>
</div>
<h3 id="declarations-with-type-parameters">Declarations with type parameters</h3>
<div class="paragraph">
<p><span class="sentence">Most declarations may be introduced as <em>generic</em>, introducing type parameters that must be explicitly specified or <a href="#type-inference">inferred</a> when the corresponding declaration is used. </span><span class="sentence">For declarations that introduce new types this mechanism provides the means of introducing a <a href="#parameterized-classifier-types">parameterized type</a>. </span><span class="sentence">Please refer to the corresponding section for details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Type parameters may be used as types inside the scope introduced by the declaration. </span><span class="sentence">When such a declaration is used, the parameters are substituted by types available inside the scope the declaration is used in.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The following declarations are not allowed to have type parameters:</span></p>
</div>
<ul>
<li><span class="sentence">Non-extension property declarations;</span></li>
<li><span class="sentence">Object declarations (including companion object declarations);</span></li>
<li><span class="sentence">Constructor declarations;</span></li>
<li><span class="sentence">Getters and setters of property declarations;</span></li>
<li><span class="sentence">Enum class declarations;</span></li>
<li><span class="sentence">Annotation class declarations;</span></li>
<li><span class="sentence">Classifier declarations inheriting from <code>kotlin.Throwable</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Type parameters are allowed to specify <em>subtyping restrictions</em> on them in the form <code>T : U</code>, meaning <span class="math inline">\(T &lt;: U\)</span> where <span class="math inline">\(T\)</span> is a type parameter and <span class="math inline">\(U\)</span> is some other type available in the scope the declaration is declared in. </span><span class="sentence">These either are written directly at the parameter placement syntax or using a special <code>where</code> syntax. </span><span class="sentence">Any number of restrictions is allowed on a single type, however, for a given type parameter <code>T</code>, only one restriction <code>T : U</code> can have <code>U</code> to be another type parameter.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">These restrictions are turned into corresponding <a href="#kotlin-type-constraints">type constraints</a> when the type parameters are substituted with types and are employed during <a href="#type-inference">type inference</a> and <a href="#overload-resolution">overload resolution</a> of any usage of the corresponding declaration. </span><span class="sentence">See the corresponding sections for details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Type parameters do not introduce <a href="#runtime-available-types">runtime-available types</a> unless declared <code>reified</code>. </span><span class="sentence">Only type parameters of <a href="#inlining">inline functions</a> can be declared <code>reified</code>.</span></p>
</div>
<h4 id="type-parameter-variance">Type parameter variance</h4>
<div class="paragraph">
<p><span class="sentence">The <a href="#mixed-site-variance">declaration-site variance</a> of a particular type parameter for a classifier declaration is specified using special keywords <code>in</code> (for covariant parameters) and <code>out</code> (for contravariant parameters). </span><span class="sentence">If the variance is not specified, the parameter is implicitly declared invariant. </span><span class="sentence">See <a href="#mixed-site-variance">the type system section</a> for details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A type parameter is <strong>used in covariant position</strong> in the following cases:</span></p>
</div>
<ul>
<li><span class="sentence">It is used as an argument in another generic type and the corresponding parameter in that type is covariant;</span></li>
<li><span class="sentence">It is the return type of a function;</span></li>
<li><span class="sentence">It is a type of a property.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">A type parameter is <strong>used in contravariant position</strong> in the following cases:</span></p>
</div>
<ul>
<li><span class="sentence">It is used as an argument in another generic type and the corresponding parameter in that type is contravariant;</span></li>
<li><span class="sentence">It is a type of an parameter of a function;</span></li>
<li><span class="sentence">It is a type of a mutable property.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">A type parameter is used in an invariant position if it is used as an argument in another generic type and the corresponding parameter in that type is invariant.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A usage of a contravariant type parameter in a covariant or invariant position, as well as usage of a covariant type parameter in a contravariant or invariant position, results in <strong>variance conflict</strong> and a compiler error, unless the containing declaration is private to the type parameter owner (in which case its visibility is restricted, see the <a href="#declaration-visibility">visibility</a> section for details).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This restrictions may be lifted in particular cases by <a href="#annotations">annotating</a> the corresponding type parameter usage with a special built-in annotation <code>kotlin.UnsafeVariance</code>. </span><span class="sentence">By supplying this annotation the author of the code explicitly declares that safety features that variance checks provide are not needed in this particular declarations.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: examples</span></p>
</div>
</div>
<h4 id="reified-type-parameters">Reified type parameters</h4>
<div class="paragraph">
<p><span class="sentence">Type parameters of inline function declarations (and only those) can be declared <code>reified</code> using the corresponding keyword. </span><span class="sentence">A reified type parameter is a <a href="#runtime-available-types">runtime-available</a> type inside the function scope, see the corresponding section for details. </span><span class="sentence">Reified type parameters can only be substituted by other <a href="#runtime-available-types">runtime-available types</a> when using such functions.</span></p>
</div>
<h3 id="declaration-visibility">Declaration visibility</h3>
<div class="paragraph">
<p><span class="sentence">Each declaration has a visibility property relative to the scope it is declared in. </span><span class="sentence">By default, all the declarations are <code>public</code>, meaning that they can be accessed from any other scope their outer scope can be accessed from. </span><span class="sentence">The only exception to this rule are <a href="#overriding">overriding declarations</a> that by default inherit the visibility from the declaration they override. </span><span class="sentence">Declarations may be also marked <code>public</code> explicitly.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Declarations marked as <code>private</code> can only be accessed from the same scope they are declared in. </span><span class="sentence">For example, all <code>private</code> top-level declarations in a file may only be accessed by code from the same file.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Some <code>private</code> declarations are special in that they have an even more restricted visibility, called â€œ<code>private</code> to <code>this</code>â€. </span><span class="sentence">These include declarations that are allowed to lift certain <a href="#mixed-site-variance">variance</a> rules in their types as long as they are never accessed outside <code>this</code> object, meaning that they can be accessed using <code>this</code> as the receiver, but are not visible on other instances of the same class even in the methods of this class. </span><span class="sentence">For example, for a class declaration <span class="math inline">\(C\)</span> with type parameter <span class="math inline">\(T\)</span> it is not allowed to introduce declarations involving <span class="math inline">\(T\)</span> with conflicting variance, unless they are declared <code>private</code>. </span><span class="sentence">That is, if <span class="math inline">\(T\)</span> is declared as covariant, any declarations with a type using <span class="math inline">\(T\)</span> in a contravariant position (including properties with type <span class="math inline">\(T\)</span> itself if they are mutable) and if <span class="math inline">\(T\)</span> is declared as contravariant, any declarations with a type using <span class="math inline">\(T\)</span> in a covariant position (including properties with type <span class="math inline">\(T\)</span> itself) are forbidden, unless they are declared using <code>private</code> visibility, in which case they are instead treated as â€œ<code>private</code> to <code>this</code>â€.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the above does not account for <code>@UnsafeVariance</code> annotation that lifts any variance restrictions on type parameters</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: examples</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">Declarations marked as <code>internal</code> may only be accessed from the same <a href="#modules">module</a>, treated as <code>public</code> from inside the module and as <code>private</code> from outside the module.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Declarations in classifier declaration scope can also be declared <code>protected</code>, meaning that they can only be accessed from the same classifier type as well as any types <a href="#inheritance">inheriting</a> from this type regardless of the scope they are declared in.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There is a partial order of <em>weakness</em> between different visibility modifiers:</span></p>
</div>
<ul>
<li><span class="sentence"><code>protected</code> and <code>internal</code> are weaker than <code>private</code>;</span></li>
<li><span class="sentence"><code>public</code> is weaker than <code>protected</code> and <code>internal</code>.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: there is a certain restriction regarding <code>inline</code> functions that have a different visibility from entities they access. </span><span class="sentence">In particular, an <code>inline</code> function cannot access entities with a stronger visibility (i.e. </span><span class="sentence"><code>public inline</code> function accessing a <code>private</code> property). </span><span class="sentence">There is one exception to this: a <code>public inline</code> function can access <code>internal</code> entities which are marked with a special builtin <a href="#annotations">annotation</a> <code>@PublishedApi</code>.</span></p>
</div>
</blockquote>
<h2 id="inheritance">Inheritance</h2>
<div class="paragraph">
<p><span class="sentence">Kotlin is an object-oriented language with its object model based on <strong>inheritance</strong>.</span></p>
</div>
<h3 id="classifier-type-inheritance">Classifier type inheritance</h3>
<div class="paragraph">
<p><span class="sentence">Classifier types may be inherited from each other: the type inherited <em>from</em> is called the <em>base type</em>, while the type which inherits the base type is called the <em>derived type</em>. </span><span class="sentence">The following limitations are imposed on the possible inheritance structure.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A class or object type is allowed to inherit from only one class type (called its <strong>direct superclass</strong>) and multiple interface types. </span><span class="sentence">As specified in the <a href="#class-declaration">declaration section</a>, if the superclass of a class or object type is not specified, it is assumed to be <a href="#kotlin.any-1"><code>kotlin.Any</code></a>. </span><span class="sentence">This means, among other things, that every class or object type always has a direct superclass.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A class is called <strong>closed</strong> and cannot be inherited from if it is not explicitly declared as either <code>open</code> or <code>abstract</code>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: classes are neither <code>open</code> nor <code>abstract</code> by default.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">A <a href="#data-class-declaration"><code>data class</code></a>, <a href="#enum-class-declaration"><code>enum class</code></a> or <a href="#annotation-class-declaration"><code>annotation class</code></a> cannot be declared <code>open</code> or <code>abstract</code>, i.e., are always closed and cannot be inherited from. </span><span class="sentence">Declaring a class <code>sealed</code> also implicitly declares it <code>abstract</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">An interface type may be inherited from any number of other interface types (and only interface types), if the resulting type is <a href="#parameterized-classifier-types">well-formed</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Object types cannot be inherited from.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Inheritance is the primary mechanism of introducing <a href="#subtyping">subtyping relations</a> between user-defined types in Kotlin. </span><span class="sentence">When a classifier type <span class="math inline">\(A\)</span> is declared with base types <span class="math inline">\(B_1, \dots, B_m\)</span>, it introduces subtyping relations <span class="math inline">\(A &lt;: B_1, \ldots, A &lt;: B_m\)</span>, which are then used in <a href="#overload-resolution">overload resolution</a> and <a href="#type-inference">type inference</a> mechanisms.</span></p>
</div>
<h4 id="abstract-classes-1">Abstract classes</h4>
<div class="paragraph">
<p><span class="sentence">A class declared <code>abstract</code> cannot be instantiated, i.e., an object of this class cannot be created directly. </span><span class="sentence">Abstract classes are implicitly <code>open</code> and their primary purpose is to be inherited from. </span><span class="sentence">Only abstract classes allow for <code>abstract</code> <a href="#property-declaration">property</a> and <a href="#function-declaration">function</a> declarations in their scope.</span></p>
</div>
<h4 id="sealed-classes">Sealed classes</h4>
<div class="paragraph">
<p><span class="sentence">A class may be declared <code>sealed</code>, making it special from the inheritance point-of-view.</span></p>
</div>
<ul>
<li><span class="sentence">A <code>sealed</code> class is implicitly <code>abstract</code> (and these two modifiers are exclusive);</span></li>
<li><span class="sentence">It can only be inherited from by class and object types declared in the same file (including class and object types declared as nested classes for this class, but not nested classes in other classes);</span></li>
<li><span class="sentence">It allows for exhaustiveness checking of <a href="#when-expression">when expressions</a> for values of this type.</span></li>
</ul>
<h4 id="inheritance-from-built-in-types">Inheritance from built-in types</h4>
<div class="paragraph">
<p><span class="sentence"><a href="#built-in-types">Built-in types</a> follow the same rules as user-defined types do. </span><span class="sentence">Most of them are closed class types and cannot be inherited from. </span><span class="sentence"><a href="#function-types">Function types</a> are treated as interfaces and can be inherited from as such.</span></p>
</div>
<h3 id="overriding">Overriding</h3>
<div class="paragraph">
<p><span class="sentence">A callable declaration (that is, a <a href="#property-declaration">property</a> or <a href="#function-declaration">member function</a> declaration) inside a classifier declaration is said to be <em>overridable</em> if:</span></p>
</div>
<ul>
<li><span class="sentence">Its visibility (and the visibility of its getter and setter, if present) is not <code>private</code>;</span></li>
<li><span class="sentence">It is declared as <code>open</code>, <code>abstract</code> or <code>override</code> (interface methods and properties are implicitly <code>abstract</code> if they donâ€™t have a body or <code>open</code> if they do).</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">It is illegal for a declaration to be both <code>private</code> and either <code>open</code>, <code>abstract</code> or <code>override</code>, such declarations should result in a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A callable declaration <span class="math inline">\(D\)</span> inside a classifier declaration <em>subsumes</em> a corresponding declaration <span class="math inline">\(B\)</span> of the base classifier type if the <a href="#function-signature">function signature</a> of <span class="math inline">\(D\)</span> (if any) matches the function signature of <span class="math inline">\(B\)</span> (if any).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If the declaration <span class="math inline">\(B\)</span> of the base classifier type is overridable, the declaration <span class="math inline">\(D\)</span> of the derived classifier type subsumes it, and <span class="math inline">\(D\)</span> has an <code>override</code> modifier, <span class="math inline">\(D\)</span> is <em>overriding</em> the base declaration <span class="math inline">\(B\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A declaration <span class="math inline">\(D\)</span> which overrides declaration <span class="math inline">\(B\)</span> should satisfy the following conditions.</span></p>
</div>
<ul>
<li><span class="sentence">Return type of <span class="math inline">\(D\)</span> is a subtype of return type of <span class="math inline">\(B\)</span>;</span></li>
<li><span class="sentence"><a href="#coroutines-1">Suspendability</a> of <span class="math inline">\(D\)</span> and <span class="math inline">\(B\)</span> must be the same.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Otherwise, it is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If the base declaration is not overridable and/or the overriding declaration does not have an <code>override</code> modifier, it is not permitted and should result in a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If the overriding declaration <em>does not</em> have its visibility specified, its visibility is implicitly set to be the same as the visibility of the overridden declaration.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If the overriding declaration <em>does</em> have its visibility specified, it must not be stronger than the visibility of the overridden declaration.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb72"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb72-1" title="1"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">B</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-2" title="2">    <span class="kw">protected</span> <span class="kw">open</span> <span class="kw">fun</span> <span class="fu">f</span><span class="op">()</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb72-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb72-4" title="4"><span class="kw">class</span> <span class="dt">C</span> <span class="op">:</span> <span class="dt">B</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-5" title="5">    <span class="kw">open</span> <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">f</span><span class="op">()</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb72-6" title="6">    <span class="co">// `f` is protected, as its visibility is</span></a>
<a class="sourceLine" id="cb72-7" title="7">    <span class="co">//   inherited from the base declaration</span></a>
<a class="sourceLine" id="cb72-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb72-9" title="9"><span class="kw">class</span> <span class="dt">D</span> <span class="op">:</span> <span class="dt">B</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-10" title="10">    <span class="kw">public</span> <span class="kw">open</span> <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">f</span><span class="op">()</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb72-11" title="11">    <span class="co">// this is correct, as public visibility is</span></a>
<a class="sourceLine" id="cb72-12" title="12">    <span class="co">//   weaker that protected visibility</span></a>
<a class="sourceLine" id="cb72-13" title="13">    <span class="co">//   from the base declaration</span></a>
<a class="sourceLine" id="cb72-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb72-15" title="15"></a>
<a class="sourceLine" id="cb72-16" title="16"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">P</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-17" title="17">    <span class="kw">open</span> <span class="kw">fun</span> <span class="fu">g</span><span class="op">()</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb72-18" title="18"><span class="op">}</span></a>
<a class="sourceLine" id="cb72-19" title="19"></a>
<a class="sourceLine" id="cb72-20" title="20"><span class="kw">class</span> <span class="dt">Q</span> <span class="op">:</span> <span class="dt">P</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-21" title="21">    <span class="kw">protected</span> <span class="kw">open</span> <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">g</span><span class="op">()</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb72-22" title="22">    <span class="co">// this is an error, as protected visibility is</span></a>
<a class="sourceLine" id="cb72-23" title="23">    <span class="co">//   stronger that public visibility</span></a>
<a class="sourceLine" id="cb72-24" title="24">    <span class="co">//   from the base declaration</span></a>
<a class="sourceLine" id="cb72-25" title="25"><span class="op">}</span></a></code></pre></div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: platforms may introduce additional cases of both <em>overridability</em> and <em>subsumption</em> of declarations, as well as limit the overriding mechanism due to implementation limitations.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin does not have a concept of full hiding (or shadowing) of declarations.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: if a declaration binds a new function to the same name as was introduced in the base class, but which does not subsume it, it is neither a compile-time error nor an overriding declaration. </span><span class="sentence">In this case these two declarations follow the normal rules of <a href="#overload-resolution">overloading</a>. </span><span class="sentence">However, these declarations may still result in a compile-time error as a result of <a href="#conflicting-overloads">conflicting overload</a> detection.</span></p>
</div>
</blockquote>
<h2 id="scopes-and-identifiers">Scopes and identifiers</h2>
<div class="paragraph">
<p><span class="sentence">Kotlin program is logically divided into <em>scopes</em>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A scope is a syntactically-delimited region of code which constitutes a context in which entities and their names can be introduced. </span><span class="sentence">Scopes can be nested, with entities introduced in outer scopes possibly available in the inner scopes if <a href="#linked-scopes">linked</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The top level of a Kotlin file is also a scope, containing all the scopes within a file.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">All the scopes are divided into two kinds: declaration scopes and statement scopes. </span><span class="sentence">These two kinds of scopes differ in how the identifiers may refer to the entities defined in the scopes.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Declaration scopes include:</span></p>
</div>
<ul>
<li><span class="sentence">The project <a href="#modules">modules</a>;</span></li>
<li><span class="sentence">The project <a href="#packages-and-imports">packages</a>;</span></li>
<li><span class="sentence">The top level scopes of non-script Kotlin files;</span></li>
<li><span class="sentence">The bodies of <a href="#classifier-declaration">classifier declarations</a>;</span></li>
<li><span class="sentence">The bodies of <a href="#object-literals">object literals</a>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Statement scopes include:</span></p>
</div>
<ul>
<li><span class="sentence">The top level scopes of script Kotlin files;</span></li>
<li><span class="sentence">Scopes produced by control structure bodies of different <a href="#expressions-1">expressions</a>;</span></li>
<li><span class="sentence">The bodies of <a href="#function-declaration">function declarations</a>;</span></li>
<li><span class="sentence">The bodies of <a href="#function-literals">function literals</a>;</span></li>
<li><span class="sentence">The bodies of getters and setters of <a href="#property-declaration">properties</a>;</span></li>
<li><span class="sentence">The bodies of <a href="#constructor-declaration">constructors</a>;</span></li>
<li><span class="sentence">The bodies of instance initialization blocks in <a href="#classifier-declaration">classifier declarations</a>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">All declarations in a particular scope introduce new <em>bindings</em> of identifiers in this scope to their respective entities in the program. </span><span class="sentence">These entities may be types or values, where values refer to objects, functions or properties (which may also be delegated). </span><span class="sentence">Top-level scopes additionally allow to introduce new bindings using <a href="#packages-and-imports"><code>import</code> directives</a> from other top-level scopes.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In most situations, it is not allowed to bind several values to the same identifier in the same scope, but it is allowed to bind a value to an identifier already available in the scope through linked scopes or imports.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">An exception to this rule are <a href="#function-declaration">function declarations</a>, which are matched by <a href="#function-signature">signatures</a> and allow defining several functions with the same name in the same scope. </span><span class="sentence">When <a href="#call-and-property-access-expressions">calling functions</a>, a process called <a href="#overload-resolution">overload resolution</a> allows for differentiating between such functions. </span><span class="sentence">Overload resolution also applies to properties if they are used as functions through <code>invoke</code>-convention, but it does not allow defining several properties with the same name in the same scope.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: platforms may introduce additional restrictions on which identifiers may be declared together in the same or linked scopes.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The main difference between declaration scopes and statement scopes is that names in the statement scope are bound in the order of appearance. </span><span class="sentence">It is not allowed to access a value through an identifier in code which (syntactically) precedes the binding itself. </span><span class="sentence">On the contrary, in declaration scopes it is fully allowed, although initialization cycles may occur leading to possibly undefined behaviour.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin compiler may attempt to detect and report such initialization cycles as compile-time warnings or errors.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">It also means that statement scopes nested inside declaration scopes may access values declared afterwards in parent declaration scopes, but any values declared inside a statement scope can be accessed only after their declaration point.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<ul>
<li><div class="paragraph">
<p><span class="sentence">In declaration scope:</span></p>
</div>
<div class="sourceCode" id="cb73"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb73-1" title="1"><span class="co">// x refers to the property defined below </span></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="co">//   even if there is another property</span></a>
<a class="sourceLine" id="cb73-3" title="3"><span class="co">//   called x in outer scope or imported</span></a>
<a class="sourceLine" id="cb73-4" title="4"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> = x + <span class="dv">2</span></a>
<a class="sourceLine" id="cb73-5" title="5"><span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> <span class="dv">3</span></a></code></pre></div></li>
<li><div class="paragraph">
<p><span class="sentence">In statement scope:</span></p>
</div>
<div class="sourceCode" id="cb74"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb74-1" title="1"><span class="co">// x refers to another property </span></a>
<a class="sourceLine" id="cb74-2" title="2"><span class="co">//   defined in outer scope or imported</span></a>
<a class="sourceLine" id="cb74-3" title="3"><span class="co">//   or is a compile-time error</span></a>
<a class="sourceLine" id="cb74-4" title="4"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> = x + <span class="dv">2</span></a>
<a class="sourceLine" id="cb74-5" title="5"><span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> <span class="dv">3</span></a></code></pre></div></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(identifier lifetime &amp; such)</span></p>
</div>
</div>
<h3 id="linked-scopes">Linked scopes</h3>
<div class="paragraph">
<p><span class="sentence">Scopes <code>A</code> and <code>B</code> in a Kotlin program may be <em>downwards-linked</em> (<code>A ~&gt; B</code>), meaning identifiers from <code>A</code> can be used in <code>B</code> without the need for additional qualification. </span><span class="sentence">If scopes <code>A</code> and <code>B</code> are downwards-linked, scopes <code>B</code> and <code>A</code> are considered <em>upwards-linked</em> (<code>B &lt;~ A</code>).</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: link relation is transitive, unless specified otherwise.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Scopes are downwards-linked (DLD) or upwards-linked (ULD) as follows:</span></p>
</div>
<ul>
<li><span class="sentence">A statement scope is DLD to any directly nested scope;</span></li>
<li><span class="sentence">An <a href="#classifier-declaration">object declaration</a> scope is DLD to any nested scopes;</span></li>
<li><span class="sentence">An <a href="#classifier-declaration">object declaration</a> scope is non-transitively ULD to the companion object scopes of its superclasses;</span></li>
<li><span class="sentence">An <a href="#classifier-declaration">object declaration</a> scope is non-transitively ULD to the companion object scopes of its parent classifier superclasses;</span></li>
<li><span class="sentence">An <a href="#classifier-declaration">object declaration</a> scope is ULD to the companion object declaration scope of its parent classifier;</span></li>
<li><span class="sentence">A <a href="#classifier-declaration">companion object declaration</a> scope is DLD to any nested scopes;</span></li>
<li><span class="sentence">A <a href="#classifier-declaration">companion object declaration</a> scope is non-transitively ULD to the companion object scopes of its superclasses;</span></li>
<li><span class="sentence">A <a href="#classifier-declaration">companion object declaration</a> scope is non-transitively ULD to the companion object scopes of its parent classifier superclasses;</span></li>
<li><span class="sentence">A <a href="#classifier-declaration">companion object declaration</a> scope is ULD to the companion object declaration scope of the <em>parent</em> of its parent classifier;</span></li>
<li><span class="sentence">A <a href="#classifier-declaration">classifier or nested class declaration</a> scope is DLD to any nested statement scopes;</span></li>
<li><span class="sentence">A <a href="#classifier-declaration">classifier or nested class declaration</a> scope is ULD to its companion object declaration scope;</span></li>
<li><span class="sentence">An <a href="#nested-and-inner-classifiers">inner class declaration</a> scope is DLD to any nested statement scopes;</span></li>
<li><span class="sentence">An <a href="#nested-and-inner-classifiers">inner class declaration</a> scope is ULD to the classifier declaration scope of its parent classifier.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: linked scopes <strong>do not</strong> cover cases when identifiers from supertypes are used in subtypes, as this is covered by the <a href="#inheritance">inheritance</a> rules.</span></p>
</div>
</blockquote>
<h3 id="identifiers-and-paths">Identifiers and paths</h3>
<div class="paragraph">
<p><span class="sentence">Kotlin program operates with different <em>entities</em>, such as classes, interfaces, values, etc. An entity can be referenced using its <em>path</em>: a sequence of identifiers which references this entity in a given <a href="#scopes-and-identifiers">scope</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin supports two kinds of paths.</span></p>
</div>
<ul>
<li><span class="sentence">Simple paths <code>P</code>, which consist of a single identifier</span></li>
<li><span class="sentence">Qualified paths <code>P.m</code>, which consist of a path <code>P</code> and a member identifier <code>m</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Besides identifiers which are introduced by the developer (e.g., via declaring classes or introducing variables), there are several predefined identifiers with special semantics.</span></p>
</div>
<ul>
<li><span class="sentence"><code>this</code> â€“ an identifier which references the default receiver available in the current scope, further details are available <a href="#this-expressions">here</a></span></li>
<li><span class="sentence"><code>this@label</code> â€“ an identifier which references the default receiver available in the selected scope, further details are available <a href="#this-expressions">here</a></span></li>
<li><span class="sentence"><code>super&lt;Klazz&gt;</code> â€“ an identifier which references the supertype <code>Klazz</code> available in the current scope, further details are available <a href="#super-forms">here</a></span></li>
<li><span class="sentence"><code>super&lt;Klazz&gt;@label</code> â€“ an identifier which references the supertype <code>Klazz</code> available in the selected scope, further details are available <a href="#super-forms">here</a></span></li>
</ul>
<h3 id="labels">Labels</h3>
<div class="paragraph">
<p><span class="sentence">Labels are special syntactic marks which allow one to reference certain code fragments or elements. </span><span class="sentence"><a href="#lambda-literals">Lambda expressions</a>) and <a href="#loop-statements">loop statements</a> are allowed to be labeled, with label identifier associated with the corresponding entity.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in Kotlin version 1.3 and earlier, labels were allowed to be placed on any expression or statement.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Labels can be <em>redeclared</em>, meaning that the same label identifier may be reused with different parts of code (or even on the same expression/loop) several times. </span><span class="sentence">Labels are *scoped, meaning that they are only available in the scope they were declared in.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Labels are used by certain expressions, such as <a href="#break-expression"><code>break</code></a>, <a href="#continue-expression"><code>continue</code></a> and <a href="#return-expressions"><code>return</code></a>, to specify exactly what entity the expression corresponds to. </span><span class="sentence">Please refer to the corresponding sections for details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">When resolving labels (determining which label an expression refers to), the <em>closest</em> label with the matching identifier is chosen, i.e., a label in an innermost scope syntactically closest to the point of its use.</span></p>
</div>
<h2 id="statements">Statements</h2>
<div id="grammar-rule-statements-pasted-6" class="grammar-rule">
<dl>
<dt><strong><em>statements</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-statement">statement</a></em> {<em><a href="#grammar-rule-semis">semis</a></em> <em><a href="#grammar-rule-statement">statement</a></em>} [<em><a href="#grammar-rule-semis">semis</a></em>]]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-statement-pasted-7" class="grammar-rule">
<dl>
<dt><strong><em>statement</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-label">label</a></em> | <em><a href="#grammar-rule-annotation">annotation</a></em>} (<em><a href="#grammar-rule-declaration">declaration</a></em> | <em><a href="#grammar-rule-assignment">assignment</a></em> | <em><a href="#grammar-rule-loopStatement">loopStatement</a></em> | <em><a href="#grammar-rule-expression">expression</a></em>)</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin does not explicitly distinguish between statements, expressions and declarations, i.e., expressions and declarations can be used in statement positions. </span><span class="sentence">This section focuses only on those statements that are <em>not</em> expressions or declarations. </span><span class="sentence">For information on those parts of Kotlin, please refer to the <a href="#expressions-1">Expressions</a> and <a href="#declarations-1">Declarations</a> sections of the specification.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: Kotlin supports using <a href="#conditional-expression">conditionals</a> both as expressions and as statements. </span><span class="sentence">As their use as expressions is more general, detailed information about conditionals is available in the <a href="#expressions-1">Expressions</a> section of the specification.</span></p>
</div>
</blockquote>
<h3 id="assignments">Assignments</h3>
<div id="grammar-rule-assignment-pasted-8" class="grammar-rule">
<dl>
<dt><strong><em>assignment</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-directlyAssignableExpression">directlyAssignableExpression</a></em> <code>'='</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)<br />
| (<em><a href="#grammar-rule-assignableExpression">assignableExpression</a></em> <em><a href="#grammar-rule-assignmentAndOperator">assignmentAndOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-assignmentAndOperator-pasted-9" class="grammar-rule">
<dl>
<dt><strong><em>assignmentAndOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'+='</code><br />
| <code>'-='</code><br />
| <code>'*='</code><br />
| <code>'/='</code><br />
| <code>'%='</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">An <em>assignment</em> is a statement that writes a new value to some program entity, denoted by its left-hand side. </span><span class="sentence">Both left-hand and right-hand sides of an assignment must be expressions, more so, there are several restrictions for the expression on the left-hand side.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For an expression to be <em>assignable</em>, i.e.Â be allowed to occur on the left-hand side of an assignment, it <strong>must</strong> be one of the following:</span></p>
</div>
<ul>
<li><span class="sentence">An identifier referring to a mutable property;</span></li>
<li><span class="sentence">A <a href="#navigation-operators">navigation expression</a> referring to a mutable property. </span><span class="sentence">If this navigation operator is the safe navigation operator, this introduces a special case of <em>safe assignment</em>;</span></li>
<li><span class="sentence">An indexing expression.</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(switch to navigation paths when we have them?)</span></p>
</div>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin assignments <strong>are not</strong> expressions and cannot be used as such.</span></p>
</div>
</blockquote>
<h4 id="simple-assignments">Simple assignments</h4>
<div class="paragraph">
<p><span class="sentence">A <em>simple assignment</em> is an assignment which uses the assign operator <code>=</code>. </span><span class="sentence">If the left-hand side of an assignment refers to a mutable property, a value of that property is changed when an assignment is evaluated, using the following rules (applied in order).</span></p>
</div>
<ul>
<li><span class="sentence">If a property has a <a href="#getters-and-setters">setter</a> (including <a href="#delegated-property-declaration">delegated properties</a>), it is called using the right-hand side expression as its argument;</span></li>
<li><span class="sentence">Otherwise, if a property is a <a href="#mutable-property-declaration">mutable property</a>, its value is changed to the evaluation result of the right-hand side expression.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">If the left-hand side of an assignment is an indexing expression, the whole statement is treated as an <a href="#operator-overloading">overloaded operator</a> with the following expansion:</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(A[B_1,B_2,B_3,\ldots,B_N] = C\)</span> is the same as calling <span class="math inline">\(A\texttt{.set}(B_1,B_2,B_3,\ldots,B_N,C)\)</span> where <code>set</code> is a suitable operator function.</span></p>
</div>
<h4 id="operator-assignments">Operator assignments</h4>
<div class="paragraph">
<p><span class="sentence">An <em>operator assignment</em> is a combined-form assignment which involves one of the following operators: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>. </span><span class="sentence">All of these operators are overloadable operator functions with the following expansions (applied in order):</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{+=}\ B\)</span> is exactly the same as one of the following:</span>
<ul>
<li><span class="sentence"><span class="math inline">\(A\texttt{.plusAssign(}B\texttt{)}\)</span> if a suitable <code>plusAssign</code> operator function exists and is available;</span></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{=}\ A\texttt{.plus(}B\texttt{)}\)</span> if a suitable <code>plus</code> operator function exists and is available.</span></li>
</ul></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{-=}\ B\)</span> is exactly the same as one of the following:</span>
<ul>
<li><span class="sentence"><span class="math inline">\(A\texttt{.minusAssign(}B\texttt{)}\)</span> if a suitable <code>minusAssign</code> operator function exists and is available;</span></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{=}\ A\texttt{.minus(}B\texttt{)}\)</span> if a suitable <code>minus</code> operator function exists and is available.</span></li>
</ul></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{*=}\ B\)</span> is exactly the same as one of the following:</span>
<ul>
<li><span class="sentence"><span class="math inline">\(A\texttt{.timesAssign(}B\texttt{)}\)</span> if a suitable <code>timesAssign</code> operator function exists and is available;</span></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{=}\ A\texttt{.times(}B\texttt{)}\)</span> if a suitable <code>times</code> operator function exists and is available.</span></li>
</ul></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{/=}\ B\)</span> is exactly the same as one of the following:</span>
<ul>
<li><span class="sentence"><span class="math inline">\(A\texttt{.divAssign(}B\texttt{)}\)</span> if a suitable <code>divAssign</code> operator function exists and is available;</span></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{=}\ A\texttt{.div(}B\texttt{)}\)</span> if a suitable <code>div</code> operator function exists and is available;</span></li>
</ul></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{\%=}\ B\)</span> is exactly the same as one of the following:</span>
<ul>
<li><span class="sentence"><span class="math inline">\(A\texttt{.remAssign(}B\texttt{)}\)</span> if a suitable <code>remAssign</code> operator function exists and is available;</span></li>
<li><span class="sentence"><span class="math inline">\(A\ \texttt{=}\ A\texttt{.rem(}B\texttt{)}\)</span> if a suitable <code>rem</code> operator function exists and is available.</span></li>
</ul></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: second expansions of the form <span class="math inline">\(A\ \texttt{=}\ \ldots\)</span> are applicable only if <span class="math inline">\(A\)</span> is a mutable property.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: as of Kotlin version 1.2.31, there are additional overloadable functions for <code>%</code> called <code>mod</code>/<code>modAssign</code>, which are deprecated.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">After the expansion, the resulting <a href="#function-calls-and-property-access">function call expression</a> or <a href="#simple-assignments">simple assignment</a> is processed according to their corresponding rules.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: although for most real-world use cases operators <code>++</code> and <code>--</code> are similar to operator assignments, in Kotlin they are expressions and are described in the <a href="#expressions-1">corresponding section</a> of this specification.</span></p>
</div>
</blockquote>
<h4 id="safe-assignments">Safe assignments</h4>
<div class="paragraph">
<p><span class="sentence">If the left-hand side of an assignment involves a safe-navigation operator, it is treated as a special case of <em>safe assignment</em>. </span><span class="sentence">Safe assignments are expanded similar to <a href="#navigation-operators">safe navigation operator expressions</a>:</span></p>
</div>
<ul>
<li><div class="paragraph">
<p><span class="sentence"><code>a?.c</code> is exactly the same as</span></p>
</div>
<div class="sourceCode" id="cb75"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb75-1" title="1"><span class="cf">when</span>(<span class="kw">val</span> $<span class="va">tmp</span> <span class="op">=</span> a) <span class="op">{</span></a>
<a class="sourceLine" id="cb75-2" title="2">    <span class="kw">null</span> -&gt; <span class="kw">null</span></a>
<a class="sourceLine" id="cb75-3" title="3">    <span class="cf">else</span> -&gt; <span class="op">{</span> $tmp.c <span class="op">}</span></a>
<a class="sourceLine" id="cb75-4" title="4"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">For any right-hand combinations of operators present in <code>c</code>, which are expanded further, <a href="#operator-overloading">as usual</a>.</span></p>
</div></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: The assignment</span></p>
</div>
<div class="sourceCode" id="cb76"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb76-1" title="1">x?.y[<span class="dv">0</span>] = z</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is expanded to</span></p>
</div>
<div class="sourceCode" id="cb77"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb77-1" title="1"><span class="cf">when</span>(<span class="kw">val</span> $<span class="va">tmp</span> <span class="op">=</span> x) <span class="op">{</span></a>
<a class="sourceLine" id="cb77-2" title="2">    <span class="kw">null</span> -&gt; <span class="kw">null</span></a>
<a class="sourceLine" id="cb77-3" title="3">    <span class="cf">else</span> -&gt; <span class="op">{</span> $tmp.y[<span class="dv">0</span>] = z <span class="op">}</span></a>
<a class="sourceLine" id="cb77-4" title="4"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">which, according to expansion rules for indexing assignments is, in turn, expanded to</span></p>
</div>
<div class="sourceCode" id="cb78"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb78-1" title="1"><span class="cf">when</span>(<span class="kw">val</span> $<span class="va">tmp</span> <span class="op">=</span> x) <span class="op">{</span></a>
<a class="sourceLine" id="cb78-2" title="2">    <span class="kw">null</span> -&gt; <span class="kw">null</span></a>
<a class="sourceLine" id="cb78-3" title="3">    <span class="cf">else</span> -&gt; <span class="op">{</span> $tmp.y.<span class="kw">set</span><span class="op">(</span><span class="va">0</span>, <span class="va">z</span><span class="op">)</span> }</a>
<a class="sourceLine" id="cb78-4" title="4">}</a></code></pre></div>
</blockquote>
<h3 id="loop-statements">Loop statements</h3>
<div class="paragraph">
<p><span class="sentence">Loop statements describe an evaluation of a certain number of statements repeatedly until a <em>loop exit condition</em> applies.</span></p>
</div>
<div id="grammar-rule-loopStatement-pasted-10" class="grammar-rule">
<dl>
<dt><strong><em>loopStatement</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-forStatement">forStatement</a></em><br />
| <em><a href="#grammar-rule-whileStatement">whileStatement</a></em><br />
| <em><a href="#grammar-rule-doWhileStatement">doWhileStatement</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Loops are closely related to the semantics of <a href="#jump-expressions">jump expressions</a>, as these expressions, namely <a href="#break-expression"><code>break</code></a> and <a href="#continue-expression"><code>continue</code></a>, are only allowed in a body of a loop. </span><span class="sentence">Please refer to the corresponding sections for details.</span></p>
</div>
<h4 id="while-loop-statement">While-loop statement</h4>
<div id="grammar-rule-whileStatement-pasted-11" class="grammar-rule">
<dl>
<dt><strong><em>whileStatement</em>:</strong></dt>
<dd><span class="sentence">(<code>'while'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> <em><a href="#grammar-rule-expression">expression</a></em> <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>)<br />
| (<code>'while'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> <em><a href="#grammar-rule-expression">expression</a></em> <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>';'</code>)</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>while-loop statement</em> is similar to an <a href="#conditional-expression"><code>if</code> expression</a> in that it also has a condition expression and a body consisting of zero or more statements. </span><span class="sentence">While-loop statement evaluating its body repeatedly for as long as its condition expression evaluates to true or a <a href="#jump-expressions">jump expression</a> is evaluated to finish the loop.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this also means that the condition expression is evaluated before every evaluation of the body, including the first one.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The while-loop condition expression <strong>must be a subtype</strong> of <code>kotlin.Boolean</code>.</span></p>
</div>
<h4 id="do-while-loop-statement">Do-while-loop statement</h4>
<div id="grammar-rule-doWhileStatement-pasted-12" class="grammar-rule">
<dl>
<dt><strong><em>doWhileStatement</em>:</strong></dt>
<dd><span class="sentence"><code>'do'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'while'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'('</code><br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
<code>')'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>do-while-loop statement</em>, similarly to a while-loop statement, also describes a loop, with the following differences. </span><span class="sentence">First, it has a different syntax. </span><span class="sentence">Second, it evaluates the loop condition expression <strong>after</strong> evaluating the loop body.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this also means that the body is always evaluated at least once.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The do-while-loop condition expression <strong>must be a subtype</strong> of <code>kotlin.Boolean</code>.</span></p>
</div>
<h4 id="for-loop-statement">For-loop statement</h4>
<div id="grammar-rule-forStatement-pasted-13" class="grammar-rule">
<dl>
<dt><strong><em>forStatement</em>:</strong></dt>
<dd><span class="sentence"><code>'for'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'('</code><br />
{<em><a href="#grammar-rule-annotation">annotation</a></em>}<br />
(<em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em> | <em><a href="#grammar-rule-multiVariableDeclaration">multiVariableDeclaration</a></em>)<br />
<em><a href="#grammar-rule-IN">IN</a></em><br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
<code>')'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>]</span>
</dd>
</dl>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: unlike most other languages, Kotlin does not have a free-form condition-based for loops. </span><span class="sentence">The only form of a for-loop available in Kotlin is the â€œforeachâ€ loop, which iterates over lists, arrays and other data structures.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">A <em>for-loop statement</em> is a special kind of loop statement used to iterate over some data structure viewed as an iterable collection of elements. </span><span class="sentence">A for-loop statement consists of a loop body, a <strong>container expression</strong> and an <strong>iteration variable declaration</strong>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The for-loop is actually an <a href="#operator-overloading">overloadable</a> syntax form with the following expansion:</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>for(VarDecl in C) Body</code> is the same as</span></p>
</div>
<div class="sourceCode" id="cb79"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb79-1" title="1"><span class="cf">when</span>(<span class="kw">val</span> $<span class="va">iterator</span> <span class="op">=</span> C.iterator()) <span class="op">{</span></a>
<a class="sourceLine" id="cb79-2" title="2">    <span class="cf">else</span> -&gt; <span class="cf">while</span> ($iterator.hasNext()) <span class="op">{</span></a>
<a class="sourceLine" id="cb79-3" title="3">                <span class="kw">val</span> <span class="va">VarDecl</span> <span class="op">=</span> __iterator.next()</a>
<a class="sourceLine" id="cb79-4" title="4">                &lt;... all the statements from Body&gt;</a>
<a class="sourceLine" id="cb79-5" title="5">            <span class="op">}</span></a>
<a class="sourceLine" id="cb79-6" title="6"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where <code>iterator</code>, <code>hasNext</code>, <code>next</code> are all suitable operator functions available in the current scope. </span><span class="sentence"><code>VarDecl</code> here may be a variable name or a set of variable names as per <a href="#destructuring-declarations">destructuring variable declarations</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the expansion is hygienic, i.e., the generated iterator variable never clashes with any other variable in the program and cannot be accessed outside the expansion.</span></p>
</div>
</blockquote>
<h3 id="code-blocks">Code blocks</h3>
<div id="grammar-rule-block-pasted-14" class="grammar-rule">
<dl>
<dt><strong><em>block</em>:</strong></dt>
<dd><span class="sentence"><code>'{'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-statements">statements</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-statements-pasted-15" class="grammar-rule">
<dl>
<dt><strong><em>statements</em>:</strong></dt>
<dd><span class="sentence">[<em><a href="#grammar-rule-statement">statement</a></em> {<em><a href="#grammar-rule-semis">semis</a></em> <em><a href="#grammar-rule-statement">statement</a></em>} [<em><a href="#grammar-rule-semis">semis</a></em>]]</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>code block</em> is a sequence of zero or more statements between curly braces separated by newlines or/and semicolons. </span><span class="sentence">Evaluating a code block means evaluating all its statements in the order they appear inside of it.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin does <strong>not</strong> support code blocks as statements; a curly-braces code block in a statement position is a <a href="#lambda-literals">lambda literal</a>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">A <em>last expression</em> of a code block is the last statement in it (if any) if and only if this statement is also an expression. </span><span class="sentence">A code block is said to contain no last expression if it does not contain any statements or its last statement is not an expression (e.g., it is an assignment, a loop or a declaration).</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: you may consider the case of a missing last expression as if a synthetic last expression with no runtime semantics and type <code>kotlin.Unit</code> is introduced in its place.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">A <em>control structure body</em> is either a single statement or a code block. </span><span class="sentence">A <em>last expression</em> of a control structure body <span class="math inline">\(\operatorname{\text{CSB}}\)</span> is either the last expression of a code block (if <span class="math inline">\(\operatorname{\text{CSB}}\)</span> is a code block) or the single expression itself (if <span class="math inline">\(\operatorname{\text{CSB}}\)</span> is an expression). </span><span class="sentence">If a control structure body is not a code block or an expression, it has no last expression.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this is equivalent to wrapping the single expression in a new synthetic code block.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">In some contexts, a control structure body is expected to have a value and/or a type. </span><span class="sentence">The value of a control structure body is:</span></p>
</div>
<ul>
<li><span class="sentence">the value of its last expression if it exists;</span></li>
<li><span class="sentence">the singleton <code>kotlin.Unit</code> object otherwise.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The type of a control structure body is the type of its value.</span></p>
</div>
<h4 id="coercion-to-kotlin.unit">Coercion to <code>kotlin.Unit</code></h4>
<div class="paragraph">
<p><span class="sentence">When we expect the type of a control structure body to be <code>kotlin.Unit</code>, we relax the type checking requirements for its type by <em>coercing</em> it to <code>kotlin.Unit</code>. </span><span class="sentence">Specifically, we <em>ignore</em> the type mismatch between <code>kotlin.Unit</code> and the control structure body type.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb80"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb80-1" title="1"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-2" title="2">    <span class="kw">val</span> <span class="va">a</span> <span class="co">/* : () -&gt; Unit */</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-3" title="3">        <span class="cf">if</span> (<span class="kw">true</span>) <span class="dv">42</span></a>
<a class="sourceLine" id="cb80-4" title="4">        <span class="co">// CSB with no last expression</span></a>
<a class="sourceLine" id="cb80-5" title="5">        <span class="co">// Type is defined to be `kotlin.Unit`</span></a>
<a class="sourceLine" id="cb80-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb80-7" title="7"></a>
<a class="sourceLine" id="cb80-8" title="8">    <span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="dt">Unit</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-9" title="9">        <span class="cf">if</span> (<span class="kw">true</span>) <span class="dv">42</span> <span class="cf">else</span> <span class="dv">-42</span></a>
<a class="sourceLine" id="cb80-10" title="10">        <span class="co">// CSB with last expression of type `kotlin.Int`</span></a>
<a class="sourceLine" id="cb80-11" title="11">        <span class="co">// Type is expected to be `kotlin.Unit`</span></a>
<a class="sourceLine" id="cb80-12" title="12">        <span class="co">// Coercion to kotlin.Unit applied</span></a>
<a class="sourceLine" id="cb80-13" title="13">    <span class="op">}</span></a>
<a class="sourceLine" id="cb80-14" title="14"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h2 id="expressions">Expressions</h2>
<h3 id="glossary-3">Glossary</h3>
<dl>
<dt>CSB</dt>
<dd><span class="sentence"><a href="#code-blocks">Control structure body</a></span>
</dd>
</dl>
<h3 id="introduction-3">Introduction</h3>
<div class="paragraph">
<p><span class="sentence">Expressions (together with <a href="#statements-1">statements</a>) are one of the main building blocks of any program, as they represent ways to <em>compute</em> program values or <em>control</em> the program execution flow.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In Kotlin, an expression may be <em>used as a statement</em> or <em>used as an expression</em> depending on the context. </span><span class="sentence">As all expressions are valid <a href="#statements-1">statements</a>, standalone expressions may be used as single statements or inside code blocks.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">An expression is used as an expression, if it is encountered in any position where a statement is not allowed, for example, as an operand to an operator or as an immediate argument for a function call. </span><span class="sentence">An expression is used as a statement if it is encountered in any position where a statement is allowed.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Some expressions are allowed to be used as statements, only if certain restrictions are met; this may affect the semantics, the compile-time type information or/and the safety of these expressions.</span></p>
</div>
<h3 id="constant-literals">Constant literals</h3>
<div class="paragraph">
<p><span class="sentence">Constant literals are expressions which describe constant values. </span><span class="sentence">Every constant literal is defined to have a single standard library type, whichever it is defined to be on current platform. </span><span class="sentence">All constant literals are evaluated immediately.</span></p>
</div>
<h4 id="boolean-literals">Boolean literals</h4>
<div id="grammar-rule-BooleanLiteral-pasted-16" class="grammar-rule">
<dl>
<dt><strong><em>BooleanLiteral</em></strong></dt>
<dd><span class="sentence"><code>'true'</code> | <code>'false'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Keywords <code>true</code> and <code>false</code> denote boolean literals of the same values. </span><span class="sentence">These are strong keywords which cannot be used as identifiers unless <a href="#escaped-identifiers">escaped</a>. </span><span class="sentence">Values <code>true</code> and <code>false</code> always have the type <code>kotlin.Boolean</code>.</span></p>
</div>
<h4 id="integer-literals">Integer literals</h4>
<div id="grammar-rule-IntegerLiteral-pasted-17" class="grammar-rule">
<dl>
<dt><strong><em>IntegerLiteral</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DecDigitNoZero"><em>DecDigitNoZero</em></a> {<a href="#grammar-rule-DecDigitOrSeparator"><em>DecDigitOrSeparator</em></a>} <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a><br />
| <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-HexLiteral-pasted-18" class="grammar-rule">
<dl>
<dt><strong><em>HexLiteral</em></strong></dt>
<dd><span class="sentence"><code>'0'</code> (<code>'x'</code> | <code>'X'</code>) <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> {<a href="#grammar-rule-HexDigitOrSeparator"><em>HexDigitOrSeparator</em></a>} <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a><br />
| <code>'0'</code> (<code>'x'</code> | <code>'X'</code>) <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BinLiteral-pasted-19" class="grammar-rule">
<dl>
<dt><strong><em>BinLiteral</em></strong></dt>
<dd><span class="sentence"><code>'0'</code> (<code>'b'</code> | <code>'B'</code>) <a href="#grammar-rule-BinDigit"><em>BinDigit</em></a> {<a href="#grammar-rule-BinDigitOrSeparator"><em>BinDigitOrSeparator</em></a>} <a href="#grammar-rule-BinDigit"><em>BinDigit</em></a><br />
| <code>'0'</code> (<code>'b'</code> | <code>'B'</code>) <a href="#grammar-rule-BinDigit"><em>BinDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DecDigitNoZero-pasted-20" class="grammar-rule">
<dl>
<dt><strong><em>DecDigitNoZero</em>:</strong></dt>
<dd><span class="sentence"><code>'1'</code> | <code>'2'</code> | <code>'3'</code> | <code>'4'</code> | <code>'5'</code> | <code>'6'</code> | <code>'7'</code> | <code>'8'</code> | <code>'9'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DecDigitOrSeparator-pasted-21" class="grammar-rule">
<dl>
<dt><strong><em>DecDigitOrSeparator</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DecDigit"><em>DecDigit</em></a> | <code>'_'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-HexDigitOrSeparator-pasted-22" class="grammar-rule">
<dl>
<dt><strong><em>HexDigitOrSeparator</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> | <code>'_'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-BinDigitOrSeparator-pasted-23" class="grammar-rule">
<dl>
<dt><strong><em>BinDigitOrSeparator</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-BinDigit"><em>BinDigit</em></a> | <code>'_'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-DecDigits-pasted-24" class="grammar-rule">
<dl>
<dt><strong><em>DecDigits</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DecDigit"><em>DecDigit</em></a> {<a href="#grammar-rule-DecDigitOrSeparator"><em>DecDigitOrSeparator</em></a>} <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a><br />
| <a href="#grammar-rule-DecDigit"><em>DecDigit</em></a></span>
</dd>
</dl>
</div>
<h5 id="decimal-integer-literals">Decimal integer literals</h5>
<div class="paragraph">
<p><span class="sentence">A sequence of decimal digit symbols (<code>0</code> though <code>9</code>) is a decimal integer literal. </span><span class="sentence">Digits may be separated by an underscore symbol, but no underscore can be placed before the first digit or after the last one.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: unlike other languages, Kotlin does not support octal literals. </span><span class="sentence">Even more so, any decimal literal starting with digit <code>0</code> and containing more than 1 digit is not a valid decimal literal.</span></p>
</div>
</blockquote>
<h5 id="hexadecimal-integer-literals">Hexadecimal integer literals</h5>
<div class="paragraph">
<p><span class="sentence">A sequence of hexadecimal digit symbols (<code>0</code> through <code>9</code>, <code>a</code> through <code>f</code>, <code>A</code> through <code>F</code>) prefixed by <code>0x</code> or <code>0X</code> is a hexadecimal integer literal. </span><span class="sentence">Digits may be separated by an underscore symbol, but no underscore can be placed before the first digit or after the last one.</span></p>
</div>
<h5 id="binary-integer-literals">Binary integer literals</h5>
<div class="paragraph">
<p><span class="sentence">A sequence of binary digit symbols (<code>0</code> or <code>1</code>) prefixed by <code>0b</code> or <code>0B</code> is a binary integer literal. </span><span class="sentence">Digits may be separated by an underscore symbol, but no underscore can be placed before the first digit or after the last one.</span></p>
</div>
<h4 id="the-types-for-integer-literals">The types for integer literals</h4>
<div class="paragraph">
<p><span class="sentence">Any of the decimal, hexadecimal or binary literals may be suffixed by the long literal mark (symbol <code>L</code>). </span><span class="sentence">An integer literal with the long literal mark has type <code>kotlin.Long</code>. </span><span class="sentence">A literal without the mark has a special <a href="#integer-literal-types">integer literal type</a> dependent on the value of the literal:</span></p>
</div>
<ul>
<li><span class="sentence">If the value is greater than maximum <code>kotlin.Long</code> value (see <a href="#built-in-integer-types-1">built-in integer types</a>), it is an illegal integer literal and should be a compile-time error;</span></li>
<li><span class="sentence">Otherwise, if the value is greater than maximum <code>kotlin.Int</code> value (see <a href="#built-in-integer-types-1">built-in integer types</a>), it has type <code>kotlin.Long</code>;</span></li>
<li><span class="sentence">Otherwise, it has an integer literal type containing all the built-in integer types guaranteed to be able to represent this value.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: integer literal <code>0x01</code> has value <span class="math inline">\(1\)</span> and therefore has type <span class="math inline">\(\operatorname{\text{LTS}}(\operatorname{\texttt{kotlin.Byte}}, \operatorname{\texttt{kotlin.Short}}, \operatorname{\texttt{kotlin.Int}}, \operatorname{\texttt{kotlin.Long}})\)</span>. </span><span class="sentence">Integer literal <code>70000</code> has value <span class="math inline">\(70000\)</span>, which is not representable using types <code>kotlin.Byte</code> and <code>kotlin.Short</code> and therefore has type <span class="math inline">\(\operatorname{\text{LTS}}(\operatorname{\texttt{kotlin.Int}}, \operatorname{\texttt{kotlin.Long}})\)</span>.</span></p>
</div>
</blockquote>
<h4 id="real-literals">Real literals</h4>
<div id="grammar-rule-RealLiteral-pasted-25" class="grammar-rule">
<dl>
<dt><strong><em>RealLiteral</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-FloatLiteral"><em>FloatLiteral</em></a> | <a href="#grammar-rule-DoubleLiteral"><em>DoubleLiteral</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-FloatLiteral-pasted-26" class="grammar-rule">
<dl>
<dt><strong><em>FloatLiteral</em>:</strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-DoubleLiteral"><em>DoubleLiteral</em></a> (<code>'f'</code> | <code>'F'</code>)<br />
| <a href="#grammar-rule-DecDigits"><em>DecDigits</em></a> (<code>'f'</code> | <code>'F'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-DoubleLiteral-pasted-27" class="grammar-rule">
<dl>
<dt><strong><em>DoubleLiteral</em>:</strong></dt>
<dd><span class="sentence">[<a href="#grammar-rule-DecDigits"><em>DecDigits</em></a>] <code>'.'</code> <a href="#grammar-rule-DecDigits"><em>DecDigits</em></a> [<a href="#grammar-rule-DoubleExponent"><em>DoubleExponent</em></a>]<br />
| [<a href="#grammar-rule-DecDigits"><em>DecDigits</em></a>] [<a href="#grammar-rule-DoubleExponent"><em>DoubleExponent</em></a>]</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>real literal</em> consists of the following parts: the whole-number part, the decimal point (ASCII period character <code>.</code>), the fraction part and the exponent. </span><span class="sentence">Unlike other languages, Kotlin real literals may only be expressed in decimal numbers. </span><span class="sentence">A real literal may also be followed by a type suffix (<code>f</code> or <code>F</code>).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The exponent is an exponent mark (<code>e</code> or <code>E</code>) followed by an optionally signed decimal integer (a sequence of decimal digits).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The whole-number part and the exponent part may be omitted. </span><span class="sentence">The fraction part may be omitted only together with the decimal point, if the whole-number part and either the exponent part or the type suffix are present. </span><span class="sentence">Unlike other languages, Kotlin does not support omitting the fraction part, but leaving the decimal point in.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The digits of the whole-number part or the fraction part or the exponent may be optionally separated by underscores, but an underscore may not be placed between, before, or after these parts. </span><span class="sentence">It also may not be placed before or after the exponent mark symbol.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A real literal without the type suffix has type <code>kotlin.Double</code>, a real literal with the type suffix has type <code>kotlin.Float</code>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means there is no special suffix associated with type <code>kotlin.Double</code>.</span></p>
</div>
</blockquote>
<h4 id="character-literals">Character literals</h4>
<div id="grammar-rule-CharacterLiteral-pasted-28" class="grammar-rule">
<dl>
<dt><strong><em>CharacterLiteral</em></strong></dt>
<dd><span class="sentence"><code>'''</code> (<a href="#grammar-rule-EscapeSeq"><em>EscapeSeq</em></a> | &lt;any character excluding CR, LF, <code>'''</code> or <code>'\'</code>&gt;) <code>'''</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EscapeSeq-pasted-29" class="grammar-rule">
<dl>
<dt><strong><em>EscapeSeq</em></strong></dt>
<dd><span class="sentence"><a href="#grammar-rule-UniCharacterLiteral"><em>UniCharacterLiteral</em></a> | <a href="#grammar-rule-EscapedIdentifier"><em>EscapedIdentifier</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-UniCharacterLiteral-pasted-30" class="grammar-rule">
<dl>
<dt><strong><em>UniCharacterLiteral</em></strong></dt>
<dd><span class="sentence"><code>'\'</code> <code>'u'</code> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a> <a href="#grammar-rule-HexDigit"><em>HexDigit</em></a></span>
</dd>
</dl>
</div>
<div id="grammar-rule-EscapedIdentifier-pasted-31" class="grammar-rule">
<dl>
<dt><strong><em>EscapedIdentifier</em></strong></dt>
<dd><span class="sentence"><code>'\'</code> (<code>'t'</code> | <code>'b'</code> | <code>'r'</code> | <code>'n'</code> | <code>'''</code> | <code>'&quot;'</code> | <code>'\'</code> | <code>'$'</code>)</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>character literal</em> defines a constant holding a Unicode character value. </span><span class="sentence">A simply-formed character literal is any symbol between two single quotation marks (ASCII single quotation character <code>'</code>), excluding newline symbols (<em>CR</em> and <em>LF</em>), the single quotation mark itself and the escaping mark (ASCII backslash character <code>\</code>).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">All character literals have type <code>kotlin.Char</code>.</span></p>
</div>
<h5 id="escaped-characters">Escaped characters</h5>
<div class="paragraph">
<p><span class="sentence">A character literal may also contain an escaped symbol of two kinds: a simple escaped symbol or a Unicode codepoint. </span><span class="sentence">Simple escaped symbols include:</span></p>
</div>
<ul>
<li><span class="sentence"><code>\t</code> â€” the Unicode TAB symbol (U+0009);</span></li>
<li><span class="sentence"><code>\b</code> â€” the Unicode BACKSPACE symbol (U+0008);</span></li>
<li><span class="sentence"><code>\r</code> â€” <em>CR</em>;</span></li>
<li><span class="sentence"><code>\n</code> â€” <em>LF</em>;</span></li>
<li><span class="sentence"><code>\'</code> â€” the Unicode apostrophe symbol (U+0027);</span></li>
<li><span class="sentence"><code>\&quot;</code> â€” the Unicode double quotation symbol (U+0028);</span></li>
<li><span class="sentence"><code>\\</code> â€” the Unicode backslash symbol (U+005C);</span></li>
<li><span class="sentence"><code>\$</code> â€” the Unicode DOLLAR sign (U+0024).</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">A Unicode codepoint escaped symbol is the symbol <code>\u</code> followed by exactly four hexadecimal digits. </span><span class="sentence">It represents the Unicode symbol with the codepoint equal to the number represented by these four digits.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means Unicode codepoint escaped symbols support only Unicode symbols in range from U+0000 to U+FFFF.</span></p>
</div>
</blockquote>
<h4 id="string-literals">String literals</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin supports <a href="#string-interpolation-expressions">string interpolation</a> which supersedes traditional string literals. </span><span class="sentence">For further details, please refer to the corresponding section.</span></p>
</div>
<h4 id="null-literal">Null literal</h4>
<div class="paragraph">
<p><span class="sentence">The keyword <code>null</code> denotes the <strong>null reference</strong>, which represents an absence of a value and is a valid value only for <a href="#nullable-types">nullable types</a>. </span><span class="sentence">Null reference has type <a href="#kotlin.nothing-1"><code>kotlin.Nothing?</code></a> and is, by definition, the only value of this type.</span></p>
</div>
<h3 id="string-interpolation-expressions">String interpolation expressions</h3>
<div id="grammar-rule-stringLiteral-pasted-32" class="grammar-rule">
<dl>
<dt><strong><em>stringLiteral</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-lineStringLiteral">lineStringLiteral</a></em><br />
| <em><a href="#grammar-rule-multiLineStringLiteral">multiLineStringLiteral</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-lineStringLiteral-pasted-33" class="grammar-rule">
<dl>
<dt><strong><em>lineStringLiteral</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-QUOTE_OPEN">QUOTE_OPEN</a></em> {<em><a href="#grammar-rule-lineStringContent">lineStringContent</a></em> | <em><a href="#grammar-rule-lineStringExpression">lineStringExpression</a></em>} <em><a href="#grammar-rule-QUOTE_CLOSE">QUOTE_CLOSE</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiLineStringLiteral-pasted-34" class="grammar-rule">
<dl>
<dt><strong><em>multiLineStringLiteral</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-TRIPLE_QUOTE_OPEN">TRIPLE_QUOTE_OPEN</a></em> {<em><a href="#grammar-rule-multiLineStringContent">multiLineStringContent</a></em> | <em><a href="#grammar-rule-multiLineStringExpression">multiLineStringExpression</a></em> | <em><a href="#grammar-rule-MultiLineStringQuote">MultiLineStringQuote</a></em>} <em><a href="#grammar-rule-TRIPLE_QUOTE_CLOSE">TRIPLE_QUOTE_CLOSE</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-lineStringContent-pasted-35" class="grammar-rule">
<dl>
<dt><strong><em>lineStringContent</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-LineStrText">LineStrText</a></em><br />
| <em><a href="#grammar-rule-LineStrEscapedChar">LineStrEscapedChar</a></em><br />
| <em><a href="#grammar-rule-LineStrRef">LineStrRef</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-lineStringExpression-pasted-36" class="grammar-rule">
<dl>
<dt><strong><em>lineStringExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-LineStrExprStart">LineStrExprStart</a></em> <em><a href="#grammar-rule-expression">expression</a></em> <code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiLineStringContent-pasted-37" class="grammar-rule">
<dl>
<dt><strong><em>multiLineStringContent</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-MultiLineStrText">MultiLineStrText</a></em><br />
| <em><a href="#grammar-rule-MultiLineStringQuote">MultiLineStringQuote</a></em><br />
| <em><a href="#grammar-rule-MultiLineStrRef">MultiLineStrRef</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiLineStringExpression-pasted-38" class="grammar-rule">
<dl>
<dt><strong><em>multiLineStringExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-MultiLineStrExprStart">MultiLineStrExprStart</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence"><em>String interpolation expressions</em> replace the traditional string literals and supersede them. </span><span class="sentence">A string interpolation expression consists of one or more fragments of two different kinds: string content fragments (raw pieces of string content inside the quoted literal) and <em>interpolated expression fragments</em>, specified by a special syntax using the <code>$</code> symbol.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Interpolated expressions support two different forms.</span></p>
</div>
<ul>
<li><span class="sentence"><code>$id</code>, where <code>id</code> is a <a href="#identifiers-and-paths">simple path</a> available in the current scope;</span></li>
<li><span class="sentence"><code>${e}</code>, where <code>e</code> is a valid Kotlin expression.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the first form requires <code>id</code> to be a simple path; if you want to reference a qualified path (e.g., <code>foo.bar</code>), you should use the second form as <code>${foo.bar}</code>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">In either case, the interpolated value is evaluated and converted into <code>kotlin.String</code> by a process defined below. </span><span class="sentence">The resulting value of a string interpolation expression is the concatenation of all fragments in the expression.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">An interpolated value <span class="math inline">\(v\)</span> is converted to <code>kotlin.String</code> according to the following convention:</span></p>
</div>
<ul>
<li><span class="sentence">If it is equal to the <a href="#null-literal">null reference</a>, the result is <code>&quot;null&quot;</code>;</span></li>
<li><span class="sentence">Otherwise, the result is <span class="math inline">\(v\)</span><code>.toString()</code> where <code>toString</code> is the <a href="#kotlin.any-1"><code>kotlin.Any</code></a> member function (no overloading resolution is performed to choose this function in this context).</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">There are two kinds of string interpolation expressions: line interpolation expressions and multiline (or raw) interpolation expressions. </span><span class="sentence">The difference is that some symbols (namely, newline symbols) are not allowed to be used inside line interpolation expressions and they need to be <a href="#escaped-characters">escaped</a> in the same way they are escaped in character literals. </span><span class="sentence">On the other hand, multiline interpolation expressions allow such symbols inside them, but do not allow single character escaping of any kind.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: among other things, this means that escaping of the <code>$</code> symbol is impossible in multiline strings. </span><span class="sentence">If you need an escaped <code>$</code> symbol, use an interpolated expression <code>&quot;${'$'}&quot;</code> instead.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">String interpolation expression always has type <code>kotlin.String</code>.</span></p>
</div>
<h3 id="try-expression">Try-expression</h3>
<div id="grammar-rule-tryExpression-pasted-39" class="grammar-rule">
<dl>
<dt><strong><em>tryExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'try'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-block">block</a></em> ((({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-catchBlock">catchBlock</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-catchBlock">catchBlock</a></em>}) [{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-finallyBlock">finallyBlock</a></em>]) | ({<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-finallyBlock">finallyBlock</a></em>))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-catchBlock-pasted-40" class="grammar-rule">
<dl>
<dt><strong><em>catchBlock</em>:</strong></dt>
<dd><span class="sentence"><code>'catch'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'('</code><br />
{<em><a href="#grammar-rule-annotation">annotation</a></em>}<br />
<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em><br />
<code>':'</code><br />
<em><a href="#grammar-rule-type">type</a></em><br />
<code>')'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-block">block</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-finallyBlock-pasted-41" class="grammar-rule">
<dl>
<dt><strong><em>finallyBlock</em>:</strong></dt>
<dd><span class="sentence"><code>'finally'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-block">block</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>try-expression</em> is an expression starting with the keyword <code>try</code>. </span><span class="sentence">It consists of a <a href="#code-blocks">code block</a> (<em>try body</em>) and one or more of the following kinds of blocks: zero or more <em>catch blocks</em> and an optional <em>finally block</em>. </span><span class="sentence">A <em>catch block</em> starts with the soft keyword <code>catch</code> with a single <em>exception parameter</em>, which is followed by a <a href="#code-blocks">code block</a>. </span><span class="sentence">A <em>finally block</em> starts with the soft keyword <code>finally</code>, which is followed by a <a href="#code-blocks">code block</a>. </span><span class="sentence">A valid try-expression must have at least one catch or finally block.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The try-expression evaluation evaluates its body; if any statement in the try body throws an exception (of type <span class="math inline">\(E\)</span>), this exception, rather than being immediately propagated up the call stack, is checked for a matching catch block. </span><span class="sentence">If a catch block of this try-expression has an exception parameter of type <span class="math inline">\(T :&gt; E\)</span>, this catch block is evaluated immediately after the exception is thrown and the exception itself is passed inside the catch block as the corresponding parameter. </span><span class="sentence">If there are several catch blocks which match the exception type, the first one is picked.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For an in-detail explanation on how exceptions and catch-blocks work, please refer to the <a href="#exceptions">Exceptions</a> section. </span><span class="sentence">For a low-level explanation, please refer to the platform-specific parts of this document.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If there is a finally block, it is evaluated after the evaluation of all previous try-expression blocks, meaning:</span></p>
</div>
<ul>
<li><span class="sentence">If no exception is thrown during the evaluation of the try body, no catch blocks are executed, the finally block is evaluated after the try body, and the program execution continues as normal.</span></li>
<li><span class="sentence">If an exception was thrown, and one of the catch blocks matched its type, the finally block is evaluated after the evaluation of the matching catch block.</span></li>
<li><span class="sentence">If an exception was thrown, but no catch block matched its type, the finally block is evaluated before <a href="#exceptions">propagating the exception</a> up the call stack.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The value of the try-expression is the same as the value of the <a href="#code-blocks">last expression</a> of the try body (if no exception was thrown) or the value of the last expression of the matching catch block (if an exception was thrown and matched). </span><span class="sentence">All other situations mean that an exception is going to be propagated up the call stack, and the value of the try-expression is undefined.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: as described, the finally block (if present) is always executed, but has no effect on the value of the try-expression.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The type of the try-expression is the <a href="#least-upper-bound">least upper bound</a> of the types of the last expressions of the try body and the last expressions of all the catch blocks.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: these rules mean the try-expression always may be used as an expression, as it always has a corresponding result value.</span></p>
</div>
</blockquote>
<h3 id="conditional-expression">Conditional expression</h3>
<div id="grammar-rule-ifExpression-pasted-42" class="grammar-rule">
<dl>
<dt><strong><em>ifExpression</em>:</strong></dt>
<dd><span class="sentence">(<code>'if'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> | <code>';'</code>))<br />
| (<code>'if'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} [<code>';'</code>] {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'else'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> | <code>';'</code>))</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence"><em>Conditional expressions</em> use a boolean value of one expression (<em>condition</em>) to decide which of the two <a href="#code-blocks">control structure bodies</a> (<em>branches</em>) should be evaluated. </span><span class="sentence">If the condition evaluates to <code>true</code>, the first branch (the <em>true branch</em>) is evaluated if it is present, otherwise the second branch (the <em>false branch</em>) is evaluated if it is present.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means the following branchless conditional expression, despite being of almost no practical use, is valid in Kotlin</span></p>
</div>
<div class="sourceCode" id="cb81"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb81-1" title="1"><span class="cf">if</span> (condition) <span class="cf">else</span>;</a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The value of the resulting expression is the same as the value of the chosen branch.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The type of the resulting expression is the <a href="#least-upper-bound">least upper bound</a> of the types of two branches, if both branches are present. </span><span class="sentence">If either of the branches are omitted, the resulting conditional expression has type <a href="#kotlin.unit"><code>kotlin.Unit</code></a> and may be used only as a statement.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb82"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb82-1" title="1"><span class="co">// x has type kotlin.Int and value 1</span></a>
<a class="sourceLine" id="cb82-2" title="2"><span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> <span class="cf">if</span> (<span class="kw">true</span>) <span class="dv">1</span> <span class="cf">else</span> <span class="dv">2</span> </a>
<a class="sourceLine" id="cb82-3" title="3"><span class="co">// illegal, as if expression without false branch</span></a>
<a class="sourceLine" id="cb82-4" title="4"><span class="co">//   cannot be used as an expression</span></a>
<a class="sourceLine" id="cb82-5" title="5"><span class="kw">val</span> <span class="va">y</span> <span class="op">=</span> <span class="cf">if</span> (<span class="kw">true</span>) <span class="dv">1</span> </a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The type of the condition expression must be a subtype of <code>kotlin.Boolean</code>, otherwise it is a compile-time error.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: when used as expressions, conditional expressions are special w.r.t. operator precedence: they have the highest priority (the same as for all primary expressions) when placed on the right side of any binary expression, but when placed on the left side, they have the lowest priority. </span><span class="sentence">For details, see Kotlin <a href="#syntax-grammar">grammar</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb83"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb83-1" title="1">x = <span class="cf">if</span> (<span class="kw">true</span>) <span class="dv">1</span> <span class="cf">else</span> <span class="dv">2</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is the same as</span></p>
</div>
<div class="sourceCode" id="cb84"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb84-1" title="1">x = (<span class="cf">if</span> (<span class="kw">true</span>) <span class="dv">1</span> <span class="cf">else</span> <span class="dv">2</span>)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">At the same time</span></p>
</div>
<div class="sourceCode" id="cb85"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb85-1" title="1"><span class="cf">if</span> (<span class="kw">true</span>) x = <span class="dv">1</span> <span class="cf">else</span> x = <span class="dv">2</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is the same as</span></p>
</div>
<div class="sourceCode" id="cb86"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb86-1" title="1"><span class="cf">if</span> (<span class="kw">true</span>) (x = <span class="dv">1</span>) <span class="cf">else</span> (x = <span class="dv">2</span>)</a></code></pre></div>
</blockquote>
<h3 id="when-expression">When expression</h3>
<div id="grammar-rule-whenExpression-pasted-43" class="grammar-rule">
<dl>
<dt><strong><em>whenExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'when'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
[<code>'('</code> <em><a href="#grammar-rule-expression">expression</a></em> <code>')'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'{'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
{<em><a href="#grammar-rule-whenEntry">whenEntry</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>}}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'}'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-whenEntry-pasted-44" class="grammar-rule">
<dl>
<dt><strong><em>whenEntry</em>:</strong></dt>
<dd><span class="sentence">(<em><a href="#grammar-rule-whenCondition">whenCondition</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-whenCondition">whenCondition</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'-&gt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> [<em><a href="#grammar-rule-semi">semi</a></em>])<br />
| (<code>'else'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'-&gt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-controlStructureBody">controlStructureBody</a></em> [<em><a href="#grammar-rule-semi">semi</a></em>])</span>
</dd>
</dl>
</div>
<div id="grammar-rule-whenCondition-pasted-45" class="grammar-rule">
<dl>
<dt><strong><em>whenCondition</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-expression">expression</a></em><br />
| <em><a href="#grammar-rule-rangeTest">rangeTest</a></em><br />
| <em><a href="#grammar-rule-typeTest">typeTest</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-rangeTest-pasted-46" class="grammar-rule">
<dl>
<dt><strong><em>rangeTest</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-inOperator">inOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeTest-pasted-47" class="grammar-rule">
<dl>
<dt><strong><em>typeTest</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-isOperator">isOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence"><em>When expression</em> is similar to a <a href="#conditional-expression">conditional expression</a> in that it allows one of several different <a href="#code-blocks">control structure bodies</a> (<em>cases</em>) to be evaluated, depending on some boolean conditions. </span><span class="sentence">The key difference is that a when expressions may include <em>several</em> different conditions with their corresponding control structure bodies. </span><span class="sentence">When expression has two different forms: with bound value and without it.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><strong>When expression without bound value</strong> (the form where the expression enclosed in parentheses after the <code>when</code> keyword is absent) evaluates one of the different CSBs based on its condition from the <em>when entry</em>. </span><span class="sentence">Each when entry consists of a boolean <em>condition</em> (or a special <code>else</code> condition) and its corresponding CSB. </span><span class="sentence">When entries are checked and evaluated in their order of appearance. </span><span class="sentence">If the condition evaluates to <code>true</code>, the corresponding CSB is evaluated and the value of when expression is the same as the value of the CSB. </span><span class="sentence">All remaining conditions and expressions are not evaluated.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The <code>else</code> condition is a special condition which evaluates to <code>true</code> if none of the branches above it evaluated to <code>true</code>. </span><span class="sentence">The <code>else</code> condition <strong>must</strong> also be in the last when entry of when expression, otherwise it is a compile-time error.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: informally, you can always replace the <code>else</code> condition with an always-<code>true</code> condition (e.g., boolean literal <code>true</code>) with no changes to the result of when expression.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><strong>When expression with bound value</strong> (the form where the expression enclosed in parentheses after the <code>when</code> keyword is present) is similar to the form without bound value, but uses a different syntax and semantics for conditions. </span><span class="sentence">In fact, it supports four different condition forms:</span></p>
</div>
<ul>
<li><span class="sentence"><em>Type test condition</em>: <a href="#type-checking-expression">type checking operator</a> followed by a type (<code>is T</code> or <code>!is T</code>). </span><span class="sentence">The resulting condition is a <a href="#type-checking-expression">type check expression</a> of the form <code>boundValue is T</code> or <code>boundValue !is T</code>.</span></li>
<li><span class="sentence"><em>Contains test condition</em>: <a href="#containment-checking-expression">containment operator</a> followed by an expression (<code>in Expr</code> or <code>!in Expr</code>). </span><span class="sentence">The resulting condition is a <a href="#containment-checking-expression">containment check expression</a> of the form <code>boundValue in Expr</code> or <code>boundValue !in Expr</code>.</span></li>
<li><span class="sentence"><em>Any other applicable expression</em> (<code>Expr</code>) The resulting condition is an <a href="#equality-expressions">equality check</a> of the form <code>boundValue == Expr</code>.</span></li>
<li><span class="sentence">The <code>else</code> condition, which is a special condition which evaluates to <code>true</code> if none of the branches above it evaluated to <code>true</code>. </span><span class="sentence">The <code>else</code> condition <strong>must</strong> also be in the last when entry of when expression, otherwise it is a compile-time error.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the rule for â€œany other expressionâ€ means that if a when expression with bound value contains a boolean condition, this condition is <strong>checked for equality</strong> with the bound value, instead of being used directly for when entry selection.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in Kotlin version 1.3 and earlier, simple (unlabeled) <code>break</code> and <code>continue</code> expressions were disallowed in when expressions.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The type of the resulting when expression is the <a href="#least-upper-bound">least upper bound</a> of the types of all its entries. </span><span class="sentence">If when expression is not <a href="#exhaustive-when-expressions">exhaustive</a>, it has type <a href="#kotlin.unit"><code>kotlin.Unit</code></a> and may be used only as a statement.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb87"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb87-1" title="1"><span class="kw">val</span> <span class="va">a</span> <span class="op">=</span> <span class="dv">42</span></a>
<a class="sourceLine" id="cb87-2" title="2"><span class="kw">val</span> <span class="va">b</span> <span class="op">=</span> <span class="dv">-1</span></a>
<a class="sourceLine" id="cb87-3" title="3"></a>
<a class="sourceLine" id="cb87-4" title="4"><span class="cf">when</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb87-5" title="5">  a == b -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-6" title="6">  a != b -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb87-8" title="8"></a>
<a class="sourceLine" id="cb87-9" title="9"><span class="co">// Error, as it is a non-exhaustive when expression</span></a>
<a class="sourceLine" id="cb87-10" title="10"><span class="kw">val</span> <span class="va">c</span> <span class="op">=</span> <span class="cf">when</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb87-11" title="11">  a == b -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-12" title="12">  a != b -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb87-14" title="14"></a>
<a class="sourceLine" id="cb87-15" title="15"><span class="kw">val</span> <span class="va">d</span> <span class="op">=</span> <span class="cf">when</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb87-16" title="16">  a == b -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-17" title="17">  a != b -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-18" title="18">  <span class="cf">else</span> -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-19" title="19"><span class="op">}</span></a>
<a class="sourceLine" id="cb87-20" title="20"></a>
<a class="sourceLine" id="cb87-21" title="21"><span class="cf">when</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb87-22" title="22">  a == b || a != b -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-23" title="23">  <span class="dv">42</span> &gt; <span class="dv">0</span> -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb87-24" title="24"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb88"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb88-1" title="1"><span class="kw">val</span> <span class="va">a</span> <span class="op">=</span> <span class="dv">42</span></a>
<a class="sourceLine" id="cb88-2" title="2"><span class="kw">val</span> <span class="va">b</span> <span class="op">=</span> <span class="dv">-1</span></a>
<a class="sourceLine" id="cb88-3" title="3"></a>
<a class="sourceLine" id="cb88-4" title="4"><span class="kw">val</span> <span class="va">l</span> <span class="op">=</span> (<span class="dv">1</span>..<span class="dv">10</span>).toList()</a>
<a class="sourceLine" id="cb88-5" title="5"></a>
<a class="sourceLine" id="cb88-6" title="6"><span class="cf">when</span> (a) <span class="op">{</span></a>
<a class="sourceLine" id="cb88-7" title="7">  <span class="kw">is</span> <span class="kw">Int</span>, !<span class="kw">is</span> <span class="kw">Int</span> -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb88-8" title="8">  <span class="kw">in</span> l, !<span class="kw">in</span> l -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb88-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb88-10" title="10"></a>
<a class="sourceLine" id="cb88-11" title="11"><span class="co">// Error, as it is a non-exhaustive when expression</span></a>
<a class="sourceLine" id="cb88-12" title="12"><span class="kw">val</span> <span class="va">c</span> <span class="op">=</span> <span class="cf">when</span> (a) <span class="op">{</span></a>
<a class="sourceLine" id="cb88-13" title="13">  <span class="kw">is</span> <span class="kw">Int</span>, !<span class="kw">is</span> <span class="kw">Int</span> -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb88-14" title="14">  <span class="kw">in</span> l, !<span class="kw">in</span> l -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb88-15" title="15"><span class="op">}</span></a>
<a class="sourceLine" id="cb88-16" title="16"></a>
<a class="sourceLine" id="cb88-17" title="17"><span class="kw">val</span> <span class="va">d</span> <span class="op">=</span> <span class="cf">when</span> (a) <span class="op">{</span></a>
<a class="sourceLine" id="cb88-18" title="18">  <span class="kw">is</span> <span class="kw">Int</span>, !<span class="kw">is</span> <span class="kw">Int</span> -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb88-19" title="19">  <span class="kw">in</span> l, !<span class="kw">in</span> l -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb88-20" title="20">  <span class="cf">else</span> -&gt; <span class="op">{}</span></a>
<a class="sourceLine" id="cb88-21" title="21"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="exhaustive-when-expressions">Exhaustive when expressions</h4>
<div class="paragraph">
<p><span class="sentence">A when expression is called <strong><em>exhaustive</em></strong> if at least one of the following is true:</span></p>
</div>
<ul>
<li><span class="sentence">It has an <code>else</code> entry;</span></li>
<li><span class="sentence">It has a bound value and at least one of the following is true:</span>
<ul>
<li><span class="sentence">The bound expression is of type <code>kotlin.Boolean</code> and the conditions contain both:</span>
<ul>
<li><div class="paragraph">
<p><span class="sentence">A constant expression evaluating to <code>true</code>;</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">A constant expression evaluating to <code>false</code>;</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: here the term â€œconstant expressionâ€ refers to any expression constructed of <a href="#constant-literals">constant literals</a>, <a href="#string-interpolation-expressions">string interpolation</a> over constant expressions and an implementation-defined set of functions that may always be evaluated at compile-time</span></p>
</div>
</blockquote></li>
</ul></li>
<li><span class="sentence">The bound expression is of a <a href="#sealed-classes"><code>sealed class</code></a> type and all of its subtypes are covered using type test conditions in this expression. </span><span class="sentence">This should include checks for all direct subtypes of this sealed class. </span><span class="sentence">If any of the direct subtypes is also a sealed class, there should either be a check for this subtype or all its subtypes should be covered;</span></li>
<li><span class="sentence">The bound expression is of an <a href="#enum-class-declaration"><code>enum class</code></a> type and all its enumerated values are checked for equality using constant expression;</span></li>
<li><span class="sentence">The bound expression is of a <a href="#nullable-types">nullable type</a> <span class="math inline">\(T?\)</span> and one of the cases above is met for its non-nullable counterpart <span class="math inline">\(T\)</span> together with another condition which checks the bound value for equality with <code>null</code>.</span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">For object types, the type test condition may be replaced with equality check with the object value.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: if one were to override <code>equals</code> for an object type incorrectly (i.e., so that an object is not equal to itself), it would break the exhaustiveness check. </span><span class="sentence">Such situations are considered to have undefined behaviour.</span></p>
</div>
</blockquote>
<div class="sourceCode" id="cb89"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb89-1" title="1"><span class="kw">sealed</span> <span class="kw">class</span> <span class="dt">Base</span></a>
<a class="sourceLine" id="cb89-2" title="2"><span class="kw">class</span> <span class="dt">Derived1</span><span class="op">:</span> <span class="dt">Base</span><span class="op">()</span></a>
<a class="sourceLine" id="cb89-3" title="3"><span class="kw">object</span> <span class="dt">Derived2</span><span class="op">:</span> <span class="dt">Base</span><span class="op">()</span></a>
<a class="sourceLine" id="cb89-4" title="4"></a>
<a class="sourceLine" id="cb89-5" title="5"><span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="dt">Base</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb89-6" title="6"></a>
<a class="sourceLine" id="cb89-7" title="7"><span class="kw">val</span> <span class="va">c</span> <span class="op">=</span> <span class="cf">when</span>(b) <span class="op">{</span></a>
<a class="sourceLine" id="cb89-8" title="8">    <span class="kw">is</span> Derived1 -&gt; ...</a>
<a class="sourceLine" id="cb89-9" title="9">    Derived2 -&gt; ...</a>
<a class="sourceLine" id="cb89-10" title="10">    <span class="co">// no else needed here</span></a>
<a class="sourceLine" id="cb89-11" title="11"><span class="op">}</span></a></code></pre></div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: an exhaustive when expression is guaranteed to evaluate one of its CSBs regardless of the specific when conditions.</span></p>
</div>
</blockquote>
<h3 id="logical-disjunction-expression">Logical disjunction expression</h3>
<div id="grammar-rule-disjunction-pasted-48" class="grammar-rule">
<dl>
<dt><strong><em>disjunction</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-conjunction">conjunction</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'||'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-conjunction">conjunction</a></em>}</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Operator symbol <code>||</code> performs logical disjunction over two values of type <code>kotlin.Boolean</code>. </span><span class="sentence">This operator is <strong>lazy</strong>, meaning that it does not evaluate the right hand side argument unless the left hand side argument evaluated to <code>false</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Both operands of a logical disjunction expression must have a type which is a subtype of <code>kotlin.Boolean</code>, otherwise it is a compile-time error. </span><span class="sentence">The type of logical disjunction expression is <code>kotlin.Boolean</code>.</span></p>
</div>
<h3 id="logical-conjunction-expression">Logical conjunction expression</h3>
<div id="grammar-rule-conjunction-pasted-49" class="grammar-rule">
<dl>
<dt><strong><em>conjunction</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-equality">equality</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>'&amp;&amp;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-equality">equality</a></em>}</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Operator symbol <code>&amp;&amp;</code> performs logical conjunction over two values of type <code>kotlin.Boolean</code>. </span><span class="sentence">This operator is <strong>lazy</strong>, meaning that it does not evaluate the right hand side argument unless the left hand side argument evaluated to <code>true</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Both operands of a logical conjunction expression must have a type which is a subtype of <code>kotlin.Boolean</code>, otherwise it is a compile-time error. </span><span class="sentence">The type of logical disjunction expression is <code>kotlin.Boolean</code>.</span></p>
</div>
<h3 id="equality-expressions">Equality expressions</h3>
<div id="grammar-rule-equality-pasted-50" class="grammar-rule">
<dl>
<dt><strong><em>equality</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-comparison">comparison</a></em> {<em><a href="#grammar-rule-equalityOperator">equalityOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-comparison">comparison</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-equalityOperator-pasted-51" class="grammar-rule">
<dl>
<dt><strong><em>equalityOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'!='</code><br />
| <code>'!=='</code><br />
| <code>'=='</code><br />
| <code>'==='</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Equality expressions are binary expressions involving equality operators. </span><span class="sentence">There are two kinds of equality operators: <em>reference equality operators</em> and <em>value equality operators</em>.</span></p>
</div>
<h4 id="reference-equality-expressions">Reference equality expressions</h4>
<div class="paragraph">
<p><span class="sentence"><em>Reference equality expressions</em> are binary expressions which use reference equality operators: <code>===</code> and <code>!==</code>. </span><span class="sentence">These expressions check if two values are equal (<code>===</code>) or non-equal (<code>!==</code>) <em>by reference</em>: two values are equal by reference if and only if they represent the same runtime value. </span><span class="sentence">In particular, this means that two values acquired by the same constructor call are equal by reference, while two values created by two different constructor calls are not equal by reference. </span><span class="sentence">A value created by any constructor call is never equal by reference to a null reference.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For special values created without explicit constructor calls, notably, constant literals and constant expressions composed of those literals, the following holds:</span></p>
</div>
<ul>
<li><span class="sentence">If these values are <a href="#value-equality-expressions">non-equal by value</a>, they are also non-equal by reference;</span></li>
<li><span class="sentence">Any instance of the null reference <code>null</code> is equal by reference to any other instance of the null reference;</span></li>
<li><span class="sentence">Otherwise, equality by reference is implementation-defined and should not be used as a means of comparing such values.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Reference equality expressions always have type <code>kotlin.Boolean</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin checks the applicability of reference equality operators at compile-time and may reject certain combinations of types for <code>A</code> and <code>B</code>. </span><span class="sentence">Specifically, it uses the following basic principle.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">If type of <code>A</code> and type of <code>B</code> are definitely distinct and not related by subtyping, <code>A === B</code> is an invalid expression and should result in a compile-time error.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: this principle means â€œno two objects of different types can be equal by referenceâ€.</span></p>
</div>
</blockquote>
<h4 id="value-equality-expressions">Value equality expressions</h4>
<div class="paragraph">
<p><span class="sentence"><em>Value equality expressions</em> are binary expressions which use value equality operators: <code>==</code> and <code>!=</code>. </span><span class="sentence">These operators are overloadable, but are different from <a href="#operator-overloading">other overloadable operators</a> and have the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A == B</code> is exactly the same as <code>(A as? Any)?.equals(B) ?: (B === null)</code> where <code>equals</code> is the method of <code>kotlin.Any</code>;</span></li>
<li><span class="sentence"><code>A != B</code> is exactly the same as <code>!((A as? Any)?.equals(B) ?: (B === null))</code> where <code>equals</code> is the method of <code>kotlin.Any</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Value equality expressions always have type <code>kotlin.Boolean</code> as does the <code>equals</code> method in <code>kotlin.Any</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin checks the applicability of value equality operators at compile-time and may reject certain combinations of types for <code>A</code> and <code>B</code>. </span><span class="sentence">Specifically, it uses the following basic principle.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">If type of <code>A</code> and type of <code>B</code> are definitely distinct and not related by subtyping, <code>A == B</code> is an invalid expression and should result in a compile-time error.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: this principle means â€œno two objects unrelated by subtyping can ever be considered equal by <code>==</code>â€.</span></p>
</div>
</blockquote>
<h3 id="comparison-expressions">Comparison expressions</h3>
<div id="grammar-rule-comparison-pasted-52" class="grammar-rule">
<dl>
<dt><strong><em>comparison</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-infixOperation">infixOperation</a></em> [<em><a href="#grammar-rule-comparisonOperator">comparisonOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-infixOperation">infixOperation</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-comparisonOperator-pasted-53" class="grammar-rule">
<dl>
<dt><strong><em>comparisonOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'&lt;'</code><br />
| <code>'&gt;'</code><br />
| <code>'&lt;='</code><br />
| <code>'&gt;='</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence"><em>Comparison expressions</em> are binary expressions which use the comparison operators: <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code> and <code>&gt;=</code>. </span><span class="sentence">These operators are <a href="#operator-overloading">overloadable</a> with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A &lt; B</code> is exactly the same as <code>integerLess(A.compareTo(B), 0)</code></span></li>
<li><span class="sentence"><code>A &gt; B</code> is exactly the same as <code>integerLess(0, A.compareTo(B))</code></span></li>
<li><span class="sentence"><code>A &lt;= B</code> is exactly the same as <code>!integerLess(0, A.compareTo(B))</code></span></li>
<li><span class="sentence"><code>A &gt;= B</code> is exactly the same as <code>!integerLess(A.compareTo(B), 0)</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">where <code>compareTo</code> is a valid operator function available in the current scope and <code>integerLess</code> is a special intrinsic function unavailable in user-side Kotlin which performs integer â€œless-thanâ€ comparison of two integer numbers.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The <code>compareTo</code> operator function must have return type <code>kotlin.Int</code>, otherwise such declaration is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">All comparison expressions always have type <code>kotlin.Boolean</code>.</span></p>
</div>
<h3 id="type-checking-and-containment-checking-expressions">Type-checking and containment-checking expressions</h3>
<div id="grammar-rule-infixOperation-pasted-54" class="grammar-rule">
<dl>
<dt><strong><em>infixOperation</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-elvisExpression">elvisExpression</a></em> {(<em><a href="#grammar-rule-inOperator">inOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-elvisExpression">elvisExpression</a></em>) | (<em><a href="#grammar-rule-isOperator">isOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>)}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-inOperator-pasted-55" class="grammar-rule">
<dl>
<dt><strong><em>inOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'in'</code><br />
| <em><a href="#grammar-rule-NOT_IN">NOT_IN</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-isOperator-pasted-56" class="grammar-rule">
<dl>
<dt><strong><em>isOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'is'</code><br />
| <em><a href="#grammar-rule-NOT_IS">NOT_IS</a></em></span>
</dd>
</dl>
</div>
<h4 id="type-checking-expression">Type-checking expression</h4>
<div class="paragraph">
<p><span class="sentence">A type-checking expression uses a type-checking operator <code>is</code> or <code>!is</code> and has an expression <span class="math inline">\(E\)</span> as a left-hand side operand and a type name <span class="math inline">\(T\)</span> as a right-hand side operand. </span><span class="sentence">A type-checking expression checks whether the runtime type of <span class="math inline">\(E\)</span> is a subtype of <span class="math inline">\(T\)</span> for <code>is</code> operator, or not a subtype of <span class="math inline">\(T\)</span> for <code>!is</code> operator.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The type <span class="math inline">\(T\)</span> must be <a href="#runtime-available-types">runtime-available</a>, otherwise it is a compile-time error.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in cases when the compile-time type of <span class="math inline">\(E\)</span> and type <span class="math inline">\(T\)</span> are statically known to be related by subtyping (e.g., <span class="math inline">\(E\)</span> has type <code>List&lt;String&gt;</code> and <span class="math inline">\(T\)</span> is <code>MutableList&lt;String&gt;</code>), we allow the type <span class="math inline">\(T\)</span> to include non-runtime-available components.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Type-checking expression always has type <code>kotlin.Boolean</code>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the expression <code>null is T?</code> for any type <code>T</code> always evaluates to <code>true</code>, as the type of the left-hand side (<code>null</code>) is <code>kotlin.Nothing?</code>, which is a subtype of any nullable type <code>T?</code>.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: type-checking expressions may create <a href="#smart-casts">smart casts</a>, for further details, refer to the corresponding section.</span></p>
</div>
</blockquote>
<h4 id="containment-checking-expression">Containment-checking expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>containment-checking expression</em> is a binary expression which uses a containment operator <code>in</code> or <code>!in</code>. </span><span class="sentence">These operators are <a href="#operator-overloading">overloadable</a> with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A in B</code> is exactly the same as <code>B.contains(A)</code>;</span></li>
<li><span class="sentence"><code>A !in B</code> is exactly the same as <code>!(B.contains(A))</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">where <code>contains</code> is a valid operator function available in the current scope.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means that, contrary to the order of appearance in the code, the right-hand side expression of a containment-checking expression is evaluated before its left-hand side expression</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The <code>contains</code> function must have a return type <code>kotlin.Boolean</code>, otherwise it is a compile-time error. </span><span class="sentence">Containment-checking expressions always have type <code>kotlin.Boolean</code>.</span></p>
</div>
<h3 id="elvis-operator-expression">Elvis operator expression</h3>
<div id="grammar-rule-elvisExpression-pasted-57" class="grammar-rule">
<dl>
<dt><strong><em>elvisExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-infixFunctionCall">infixFunctionCall</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-elvis">elvis</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-infixFunctionCall">infixFunctionCall</a></em>}</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">An <em>elvis operator expression</em> is a binary expression which uses an elvis operator (<code>?:</code>). </span><span class="sentence">It checks whether the left-hand side expression is reference equal to <code>null</code>, and, if it is, evaluates and return the right-hand side expression.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This operator is <strong>lazy</strong>, meaning that if the left-hand side expression is not reference equal to <code>null</code>, the right-hand side expression is not evaluated.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The type of elvis operator expression is the <a href="#least-upper-bound">least upper bound</a> of the non-nullable variant of the type of the left-hand side expression and the type of the right-hand side expression.</span></p>
</div>
<h3 id="range-expression">Range expression</h3>
<div id="grammar-rule-rangeExpression-pasted-58" class="grammar-rule">
<dl>
<dt><strong><em>rangeExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-additiveExpression">additiveExpression</a></em> {<code>'..'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-additiveExpression">additiveExpression</a></em>}</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>range expression</em> is a binary expression which uses a range operator <code>..</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A..B</code> is exactly the same as <code>A.rangeTo(B)</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">where <code>rangeTo</code> is a valid operator function available in the current scope.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The return type of this function is not restricted. </span><span class="sentence">A range expression has the same type as the return type of the corresponding <code>rangeTo</code> overload variant.</span></p>
</div>
<h3 id="additive-expression">Additive expression</h3>
<div id="grammar-rule-additiveExpression-pasted-59" class="grammar-rule">
<dl>
<dt><strong><em>additiveExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-multiplicativeExpression">multiplicativeExpression</a></em> {<em><a href="#grammar-rule-additiveOperator">additiveOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-multiplicativeExpression">multiplicativeExpression</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-additiveOperator-pasted-60" class="grammar-rule">
<dl>
<dt><strong><em>additiveOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'+'</code><br />
| <code>'-'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">An <em>additive expression</em> is a binary expression which uses an addition (<code>+</code>) or subtraction (<code>-</code>) operators. </span><span class="sentence">These are <a href="#operator-overloading">overloadable</a> operators with the following expansions:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A + B</code> is exactly the same as <code>A.plus(B)</code></span></li>
<li><span class="sentence"><code>A - B</code> is exactly the same as <code>A.minus(B)</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">where <code>plus</code> or <code>minus</code> is a valid operator function available in the current scope.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The return type of these functions is not restricted. </span><span class="sentence">An additive expression has the same type as the return type of the corresponding operator function overload variant.</span></p>
</div>
<h3 id="multiplicative-expression">Multiplicative expression</h3>
<div id="grammar-rule-multiplicativeExpression-pasted-61" class="grammar-rule">
<dl>
<dt><strong><em>multiplicativeExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-asExpression">asExpression</a></em> {<em><a href="#grammar-rule-multiplicativeOperator">multiplicativeOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-asExpression">asExpression</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-multiplicativeOperator-pasted-62" class="grammar-rule">
<dl>
<dt><strong><em>multiplicativeOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'*'</code><br />
| <code>'/'</code><br />
| <code>'%'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>multiplicative expression</em> is a binary expression which uses a multiplication (<code>*</code>), division (<code>/</code>) or remainder (<code>%</code>) operators. </span><span class="sentence">These are <a href="#operator-overloading">overloadable</a> operators with the following expansions:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A * B</code> is exactly the same as <code>A.times(B)</code></span></li>
<li><span class="sentence"><code>A / B</code> is exactly the same as <code>A.div(B)</code></span></li>
<li><span class="sentence"><code>A % B</code> is exactly the same as <code>A.rem(B)</code></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">where <code>times</code>, <code>div</code>, <code>rem</code> is a valid operator function available in the current scope.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in Kotlin version 1.3 and earlier, there was an additional overloadable operator for <code>%</code> called <code>mod</code>, which has been removed in Kotlin 1.4.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The return type of these functions is not restricted. </span><span class="sentence">A multiplicative expression has the same type as the return type of the corresponding operator function overload variant.</span></p>
</div>
<h3 id="cast-expression">Cast expression</h3>
<div id="grammar-rule-asExpression-pasted-63" class="grammar-rule">
<dl>
<dt><strong><em>asExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-prefixUnaryExpression">prefixUnaryExpression</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-asOperator">asOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-asOperator-pasted-64" class="grammar-rule">
<dl>
<dt><strong><em>asOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'as'</code><br />
| <code>'as?'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>cast expression</em> is a binary expression which uses cast operators <code>as</code> or <code>as?</code> and has the form <code>E as/as? T</code>, where <span class="math inline">\(E\)</span> is an expression and <span class="math inline">\(T\)</span> is a type name.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">An <strong><code>as</code> cast expression</strong> <code>E as T</code> is called <em>an unchecked cast</em> expression. </span><span class="sentence">This expression perform a runtime check whether the runtime type of <span class="math inline">\(E\)</span> is a <a href="#subtyping">subtype</a> of <span class="math inline">\(T\)</span> and throws an exception otherwise. </span><span class="sentence">If type <span class="math inline">\(T\)</span> is a <a href="#runtime-available-types">runtime-available</a> type without generic parameters, then this exception is thrown immediately when evaluating the cast expression, otherwise it is platform-dependent whether an exception is thrown at this point.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">An unchecked cast expression result always has the same type as the type <span class="math inline">\(T\)</span> specified in the expression.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">An <strong><code>as?</code> cast expression</strong> <code>E as? T</code> is called <em>a checked cast</em> expression. </span><span class="sentence">This expression is similar to the unchecked cast expression in that it also does a runtime type check, but does not throw an exception if the types do not match, it returns <code>null</code> instead. </span><span class="sentence">If type <span class="math inline">\(T\)</span> is not a <a href="#runtime-available-types">runtime-available</a> type, then the check is not performed and <code>null</code> is never returned, leading to potential runtime errors later in the program execution. </span><span class="sentence">This situation should be reported as a compile-time warning.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If type <span class="math inline">\(T\)</span> is a <a href="#runtime-available-types">runtime-available</a> type <strong>with</strong> generic parameters, type parameters are <strong>not</strong> checked w.r.t. subtyping. </span><span class="sentence">This is another potentially erroneous situation, which should be reported as a compile-time warning.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The checked cast expression result has the type which is the <a href="#nullable-types">nullable</a> variant of the type <span class="math inline">\(T\)</span> specified in the expression.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: cast expressions may create <a href="#smart-casts">smart casts</a>, for further details, refer to the corresponding section.</span></p>
</div>
</blockquote>
<h3 id="prefix-expressions">Prefix expressions</h3>
<div id="grammar-rule-prefixUnaryExpression-pasted-65" class="grammar-rule">
<dl>
<dt><strong><em>prefixUnaryExpression</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-unaryPrefix">unaryPrefix</a></em>} <em><a href="#grammar-rule-postfixUnaryExpression">postfixUnaryExpression</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-unaryPrefix-pasted-66" class="grammar-rule">
<dl>
<dt><strong><em>unaryPrefix</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-annotation">annotation</a></em><br />
| <em><a href="#grammar-rule-label">label</a></em><br />
| (<em><a href="#grammar-rule-prefixUnaryOperator">prefixUnaryOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>})</span>
</dd>
</dl>
</div>
<div id="grammar-rule-prefixUnaryOperator-pasted-67" class="grammar-rule">
<dl>
<dt><strong><em>prefixUnaryOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'++'</code><br />
| <code>'--'</code><br />
| <code>'-'</code><br />
| <code>'+'</code><br />
| <em><a href="#grammar-rule-excl">excl</a></em></span>
</dd>
</dl>
</div>
<h4 id="annotated-expression">Annotated expression</h4>
<div class="paragraph">
<p><span class="sentence">Any expression in Kotlin may be prefixed with any number of <a href="#annotations">annotations</a>. </span><span class="sentence">These do not change the value of the expression and can be used by external tools and for implementing platform-dependent features.</span></p>
</div>
<h4 id="prefix-increment-expression">Prefix increment expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>prefix increment</em> expression is an expression which uses the prefix form of operator <code>++</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>++A</code> is exactly the same as <code>when(val $tmp = A.inc()) { else -&gt; A = $tmp; $tmp }</code> where <code>inc</code> is a valid operator function available in the current scope.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: <code>++A</code> assigns the result of <code>A.inc()</code> to <code>A</code> and also returns it as the result.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">For a prefix increment expression <code>++A</code> expression <code>A</code> must be <a href="#assignments">an assignable expression</a>. </span><span class="sentence">Otherwise, it is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As the result of <code>inc</code> is assigned to <code>A</code>, the return type of <code>inc</code> must be a subtype of <code>A</code>. </span><span class="sentence">Otherwise, such declaration is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A prefix increment expression has the same type as the return type of the corresponding <code>inc</code> overload variant.</span></p>
</div>
<h4 id="prefix-decrement-expression">Prefix decrement expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>prefix decrement</em> expression is an expression which uses the prefix form of operator <code>--</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>--A</code> is exactly the same as <code>when(val $tmp = A.dec()) { else -&gt; A = $tmp; $tmp }</code> where <code>dec</code> is a valid operator function available in the current scope.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: <code>--A</code> assigns the result of <code>A.dec()</code> to <code>A</code> and also returns it as the result.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">For a prefix decrement expression <code>--A</code> expression <code>A</code> must be <a href="#assignments">an assignable expression</a>. </span><span class="sentence">Otherwise, it is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As the result of <code>dec</code> is assigned to <code>A</code>, the return type of <code>dec</code> must be a subtype of <code>A</code>. </span><span class="sentence">Otherwise, such declaration is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A prefix decrement expression has the same type as the return type of the corresponding <code>dec</code> overload variant.</span></p>
</div>
<h4 id="unary-minus-expression">Unary minus expression</h4>
<div class="paragraph">
<p><span class="sentence">An <em>unary minus</em> expression is an expression which uses the prefix form of operator <code>-</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>-A</code> is exactly the same as <code>A.unaryMinus()</code> where <code>unaryMinus</code> is a valid operator function available in the current scope.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">No additional restrictions apply.</span></p>
</div>
<h4 id="unary-plus-expression">Unary plus expression</h4>
<div class="paragraph">
<p><span class="sentence">An <em>unary plus</em> expression is an expression which uses the prefix form of operator <code>+</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>+A</code> is exactly the same as <code>A.unaryPlus()</code> where <code>unaryPlus</code> is a valid operator function available in the current scope.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">No additional restrictions apply.</span></p>
</div>
<h4 id="logical-not-expression">Logical not expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>logical not</em> expression is an expression which uses the prefix operator <code>!</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>!A</code> is exactly the same as <code>A.not()</code> where <code>not</code> is a valid operator function available in the current scope.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">No additional restrictions apply.</span></p>
</div>
<h3 id="postfix-operator-expressions">Postfix operator expressions</h3>
<div id="grammar-rule-postfixUnaryExpression-pasted-68" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnaryExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em><br />
| (<em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em> (<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em> {<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em>}))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-postfixUnarySuffix-pasted-69" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnarySuffix</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-postfixUnaryOperator">postfixUnaryOperator</a></em><br />
| <em><a href="#grammar-rule-typeArguments">typeArguments</a></em><br />
| <em><a href="#grammar-rule-callSuffix">callSuffix</a></em><br />
| <em><a href="#grammar-rule-indexingSuffix">indexingSuffix</a></em><br />
| <em><a href="#grammar-rule-navigationSuffix">navigationSuffix</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-postfixUnaryOperator-pasted-70" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnaryOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'++'</code><br />
| <code>'--'</code><br />
| (<em><a href="#grammar-rule-EXCL_NO_WS">EXCL_NO_WS</a></em> <em><a href="#grammar-rule-excl">excl</a></em>)</span>
</dd>
</dl>
</div>
<h4 id="postfix-increment-expression">Postfix increment expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>postfix increment</em> expression is an expression which uses the postfix form of operator <code>++</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A++</code> is exactly the same as <code>when(val $tmp = A) { else -&gt; A = $tmp.inc(); $tmp }</code> where <code>inc</code> is a valid operator function available in the current scope.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: <code>A++</code> stores the value of A to a temporary variable, assigns the result of <code>A.inc()</code> to <code>A</code> and then returns the temporary variable as the result.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">For a postfix increment expression <code>A++</code> expression <code>A</code> must be <a href="#assignments">assignable expressions</a>. </span><span class="sentence">Otherwise, it is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As the result of <code>inc</code> is assigned to <code>A</code>, the return type of <code>inc</code> must be a subtype of <code>A</code>. </span><span class="sentence">Otherwise, such declaration is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A postfix increment expression has the same type as its operand expression (for our examples, the type of <code>A</code>).</span></p>
</div>
<h4 id="postfix-decrement-expression">Postfix decrement expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>postfix decrement</em> expression is an expression which uses the postfix form of operator <code>--</code>. </span><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A--</code> is exactly the same as <code>when(val $tmp = A) { else -&gt; A = $tmp.dec(); $tmp }</code> where <code>dec</code> is a valid operator function available in the current scope.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: <code>A--</code> stores the value of A to a temporary variable, assigns the result of <code>A.dec()</code> to <code>A</code> and then returns the temporary variable as the result.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">For a postfix decrement expression <code>A--</code> expression <code>A</code> must be <a href="#assignments">assignable expressions</a>. </span><span class="sentence">Otherwise, it is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As the result of <code>dec</code> is assigned to <code>A</code>, the return type of <code>dec</code> must be a subtype of <code>A</code>. </span><span class="sentence">Otherwise, such declaration is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A postfix decrement expression has the same type as its operand expression (for our examples, the type of <code>A</code>).</span></p>
</div>
<h3 id="not-null-assertion-expression">Not-null assertion expression</h3>
<div class="paragraph">
<p><span class="sentence">A <em>not-null assertion expression</em> is a postfix expression which uses an operator <code>!!</code>. </span><span class="sentence">For an expression <code>e!!</code>, if the type of <code>e</code> is nullable, a not-null assertion expression checks whether the evaluation result of <code>e</code> is equal to <code>null</code> and, if it is, throws a runtime exception. </span><span class="sentence">If the evaluation result of <code>e</code> is not equal to <code>null</code>, the result of <code>e!!</code> is the evaluation result of <code>e</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If the type of <code>e</code> is non-nullable, not-null assertion expression <code>e!!</code> has no effect.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The type of non-null assertion expression is the <a href="#nullable-types">non-nullable</a> variant of the type of <code>e</code>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this type may be non-denotable in Kotlin and, as such, may be <a href="#type-approximation">approximated</a> in some situations with the help of <a href="#type-inference">type inference</a>.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Examples)</span></p>
</div>
</div>
<h3 id="indexing-expressions">Indexing expressions</h3>
<div id="grammar-rule-postfixUnaryExpression-pasted-71" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnaryExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em><br />
| (<em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em> (<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em> {<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em>}))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-postfixUnarySuffix-pasted-72" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnarySuffix</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-postfixUnaryOperator">postfixUnaryOperator</a></em><br />
| <em><a href="#grammar-rule-typeArguments">typeArguments</a></em><br />
| <em><a href="#grammar-rule-callSuffix">callSuffix</a></em><br />
| <em><a href="#grammar-rule-indexingSuffix">indexingSuffix</a></em><br />
| <em><a href="#grammar-rule-navigationSuffix">navigationSuffix</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-indexingSuffix-pasted-73" class="grammar-rule">
<dl>
<dt><strong><em>indexingSuffix</em>:</strong></dt>
<dd><span class="sentence"><code>'['</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-expression">expression</a></em><br />
{{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>']'</code></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">An <em>indexing expression</em> is a suffix expression which uses one or more subexpressions as <em>indices</em> between square brackets (<code>[</code> and <code>]</code>).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">It is an <a href="#operator-overloading">overloadable</a> operator with the following expansion:</span></p>
</div>
<ul>
<li><span class="sentence"><code>A[I_0,I_1,...,I_N]</code> is exactly the same as <code>A.get(I_0,I_1,...,I_N)</code>, where <code>get</code> is a valid operator function available in the current scope.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">An indexing expression has the same type as the corresponding <code>get</code> expression.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Indexing expressions are assignable, for a corresponding assignment form, see <a href="#simple-assignments">here</a>.</span></p>
</div>
<h3 id="call-and-property-access-expressions">Call and property access expressions</h3>
<div id="grammar-rule-postfixUnaryExpression-pasted-74" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnaryExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em><br />
| (<em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em> (<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em> {<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em>}))</span>
</dd>
</dl>
</div>
<div id="grammar-rule-postfixUnarySuffix-pasted-75" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnarySuffix</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-postfixUnaryOperator">postfixUnaryOperator</a></em><br />
| <em><a href="#grammar-rule-typeArguments">typeArguments</a></em><br />
| <em><a href="#grammar-rule-callSuffix">callSuffix</a></em><br />
| <em><a href="#grammar-rule-indexingSuffix">indexingSuffix</a></em><br />
| <em><a href="#grammar-rule-navigationSuffix">navigationSuffix</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-navigationSuffix-pasted-76" class="grammar-rule">
<dl>
<dt><strong><em>navigationSuffix</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-memberAccessOperator">memberAccessOperator</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} (<em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em> | <em><a href="#grammar-rule-parenthesizedExpression">parenthesizedExpression</a></em> | <code>'class'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-callSuffix-pasted-77" class="grammar-rule">
<dl>
<dt><strong><em>callSuffix</em>:</strong></dt>
<dd><span class="sentence">([<em><a href="#grammar-rule-typeArguments">typeArguments</a></em>] [<em><a href="#grammar-rule-valueArguments">valueArguments</a></em>] <em><a href="#grammar-rule-annotatedLambda">annotatedLambda</a></em>)<br />
| ([<em><a href="#grammar-rule-typeArguments">typeArguments</a></em>] <em><a href="#grammar-rule-valueArguments">valueArguments</a></em>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-annotatedLambda-pasted-78" class="grammar-rule">
<dl>
<dt><strong><em>annotatedLambda</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-annotation">annotation</a></em>} [<em><a href="#grammar-rule-label">label</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-lambdaLiteral">lambdaLiteral</a></em></span>
</dd>
</dl>
</div>
<div id="grammar-rule-valueArguments-pasted-79" class="grammar-rule">
<dl>
<dt><strong><em>valueArguments</em>:</strong></dt>
<dd><span class="sentence">(<code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code>)<br />
| (<code>'('</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-valueArgument">valueArgument</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-valueArgument">valueArgument</a></em>} {<em><a href="#grammar-rule-NL">NL</a></em>} <code>')'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeArguments-pasted-80" class="grammar-rule">
<dl>
<dt><strong><em>typeArguments</em>:</strong></dt>
<dd><span class="sentence"><code>'&lt;'</code><br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-typeProjection">typeProjection</a></em><br />
{{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeProjection">typeProjection</a></em>}<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<code>'&gt;'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeProjection-pasted-81" class="grammar-rule">
<dl>
<dt><strong><em>typeProjection</em>:</strong></dt>
<dd><span class="sentence">([<em><a href="#grammar-rule-typeProjectionModifiers">typeProjectionModifiers</a></em>] <em><a href="#grammar-rule-type">type</a></em>)<br />
| <code>'*'</code></span>
</dd>
</dl>
</div>
<div id="grammar-rule-typeProjectionModifiers-pasted-82" class="grammar-rule">
<dl>
<dt><strong><em>typeProjectionModifiers</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-typeProjectionModifier">typeProjectionModifier</a></em> {<em><a href="#grammar-rule-typeProjectionModifier">typeProjectionModifier</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-memberAccessOperator-pasted-83" class="grammar-rule">
<dl>
<dt><strong><em>memberAccessOperator</em>:</strong></dt>
<dd><span class="sentence"><code>'.'</code><br />
| <em><a href="#grammar-rule-safeNav">safeNav</a></em><br />
| <code>'::'</code></span>
</dd>
</dl>
</div>
<h4 id="navigation-operators">Navigation operators</h4>
<div class="paragraph">
<p><span class="sentence">Expressions which use the navigation binary operators (<code>.</code>, <code>?.</code> or <code>::</code>) are syntactically similar, but, in fact, may have very different semantics.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>a.c</code> may have one of the following semantics when used as an expression:</span></p>
</div>
<ul>
<li><div class="paragraph">
<p><span class="sentence">A fully-qualified type, property or object name. </span><span class="sentence">The left side of <code>.</code> must be a value available in the current scope, while the right side corresponds to a declaration in the scope of that value.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: qualification uses operator <code>.</code> only.</span></p>
</div>
</blockquote></li>
<li><div class="paragraph">
<p><span class="sentence">A property access. </span><span class="sentence">Here <code>a</code> is a value available in the current scope and <code>c</code> is a property name.</span></p>
</div></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the navigation operator <code>.</code> is closely related to the concept of <a href="#identifiers-and-paths">paths</a>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If followed by the call suffix (arguments in parentheses), <code>a.c()</code> may have one of the following semantics when used as an expression:</span></p>
</div>
<ul>
<li><span class="sentence">A function call; here <code>a</code> is a value available in the current scope and <code>c</code> is a function name;</span></li>
<li><div class="paragraph">
<p><span class="sentence">A property access with <code>invoke</code>-convention; here <code>a</code> is a value available in the current scope and <code>c</code> is a property name.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">These expressions follow the <a href="#overload-resolution">overloading</a> rules.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>a::c</code> may have one of the following semantics when used as an expression:</span></p>
</div>
<ul>
<li><span class="sentence">A <a href="#class-literals">class literal expression</a> if, instead of an identifier, <code>c</code> is the keyword <code>class</code>;</span></li>
<li><span class="sentence">A <a href="#callable-references">property reference</a>. </span><span class="sentence">Here <code>a</code> may be either a value available in the current scope or a type name, and <code>c</code> is a property name.</span></li>
<li><span class="sentence">A <a href="#callable-references">function reference</a>. </span><span class="sentence">Here <code>a</code> may be either a value available in the current scope or a type name, and <code>c</code> is a function name.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>a?.c</code> is a <em>safe navigation</em> operator, which has the following expansion:</span></p>
</div>
<ul>
<li><div class="paragraph">
<p><span class="sentence"><code>a?.c</code> is exactly the same as</span></p>
</div>
<div class="sourceCode" id="cb90"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb90-1" title="1"><span class="cf">when</span> (<span class="kw">val</span> $<span class="va">tmp</span> <span class="op">=</span> a) <span class="op">{</span></a>
<a class="sourceLine" id="cb90-2" title="2">    <span class="kw">null</span> -&gt; <span class="kw">null</span></a>
<a class="sourceLine" id="cb90-3" title="3">    <span class="cf">else</span> -&gt; <span class="op">{</span> $tmp.c <span class="op">}</span></a>
<a class="sourceLine" id="cb90-4" title="4"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">for any right-hand combinations of operators present in <code>c</code>, which are expanded further, <a href="#operator-overloading">as usual</a>.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The type of <code>a?.c</code> is the <a href="#nullable-types">nullable</a> variant of the type of <code>a.c</code>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: safe navigation expression may also include the call suffix as <code>a?.c()</code>and is expanded in a similar fashion.</span></p>
</div>
</blockquote>
<h4 id="callable-references">Callable references</h4>
<div class="paragraph">
<p><span class="sentence">Callable references are a special kind of expressions used to refer to callables (properties and functions) without actually calling/accessing them. </span><span class="sentence">They are not to be confused with <a href="#class-literals">class literals</a> which use similar syntax, but with the keyword <code>class</code> instead of an identifier.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A callable reference <code>A::c</code> where <code>A</code> is a type name and <code>c</code> is a name of a callable available for type <code>A</code> is a <em>callable reference</em> for type <code>A</code>. </span><span class="sentence">A callable reference <code>e::c</code> where <code>e</code> is an expression of type <code>E</code> and <code>c</code> is a name of a callable available for type <code>E</code> is a <em>callable reference</em> for expression <code>e</code>. </span><span class="sentence">The exact callable selected when using this syntax is based on <a href="#overload-resolution">overload resolution</a> much like when accessing the value of a property using the <code>.</code> navigation operator. </span><span class="sentence">However, in some cases there are important differences which we cover in the corresponding paragraphs.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Depending on the meaning of the left-hand and right-hand sides of a callable reference <code>lhs::rhs</code>, the value of the whole expression is defined as follows.</span></p>
</div>
<ul>
<li><span class="sentence">If <code>lhs</code> is a type, but not a value (an example of a type which can also be used as a value is an object type), while <code>rhs</code> is resolved to refer to a property of <code>lhs</code>, <code>lhs::rhs</code> is a <em>type-property</em> reference;</span></li>
<li><span class="sentence">If <code>lhs</code> is a type, but not a value (an example of a type which can also be used as a value is an object type), while <code>rhs</code> is resolved to refer to a function available on <code>rhs</code>, <code>lhs::rhs</code> is a <em>type-function</em> reference;</span></li>
<li><span class="sentence">If <code>lhs</code> is a value, while <code>rhs</code> is resolved to refer to a property of <code>lhs</code>, <code>lhs::rhs</code> is a <em>value-property</em> reference;</span></li>
<li><span class="sentence">If <code>lhs</code> is a value, while <code>rhs</code> is resolved to refer to a function available on <code>rhs</code>, <code>lhs::rhs</code> is a <em>value-function</em> reference.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb91"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb91-1" title="1"><span class="kw">class</span> <span class="dt">A</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb91-2" title="2">    <span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">42</span></a>
<a class="sourceLine" id="cb91-3" title="3"></a>
<a class="sourceLine" id="cb91-4" title="4">    <span class="kw">fun</span> <span class="fu">a</span><span class="op">():</span> <span class="dt">String</span> = <span class="st">&quot;TODO()&quot;</span></a>
<a class="sourceLine" id="cb91-5" title="5"></a>
<a class="sourceLine" id="cb91-6" title="6">    <span class="kw">companion</span> <span class="kw">object</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb91-7" title="7">        <span class="kw">val</span> <span class="va">bProp</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">42</span></a>
<a class="sourceLine" id="cb91-8" title="8"></a>
<a class="sourceLine" id="cb91-9" title="9">        <span class="kw">fun</span> <span class="fu">bFun</span><span class="op">():</span> <span class="dt">String</span> = <span class="st">&quot;TODO()&quot;</span></a>
<a class="sourceLine" id="cb91-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb91-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb91-12" title="12"></a>
<a class="sourceLine" id="cb91-13" title="13"><span class="kw">object</span> <span class="dt">O</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb91-14" title="14">    <span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">42</span></a>
<a class="sourceLine" id="cb91-15" title="15"></a>
<a class="sourceLine" id="cb91-16" title="16">    <span class="kw">fun</span> <span class="fu">a</span><span class="op">():</span> <span class="dt">String</span> = <span class="st">&quot;TODO()&quot;</span></a>
<a class="sourceLine" id="cb91-17" title="17"><span class="op">}</span></a>
<a class="sourceLine" id="cb91-18" title="18"></a>
<a class="sourceLine" id="cb91-19" title="19"><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb91-20" title="20">    <span class="co">// Error: ambiguity between two possible callables</span></a>
<a class="sourceLine" id="cb91-21" title="21">    <span class="co">// val errorAmbiguity = A::a</span></a>
<a class="sourceLine" id="cb91-22" title="22"></a>
<a class="sourceLine" id="cb91-23" title="23">    <span class="co">// Error: cannot reference companion object implicitly</span></a>
<a class="sourceLine" id="cb91-24" title="24">    <span class="co">// val errorCompanion = A::bFun</span></a>
<a class="sourceLine" id="cb91-25" title="25"></a>
<a class="sourceLine" id="cb91-26" title="26">    <span class="kw">val</span> <span class="va">aTypePropRef</span><span class="op">:</span> <span class="op">(</span><span class="dt">A</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Int</span> <span class="op">=</span> A::a</a>
<a class="sourceLine" id="cb91-27" title="27"></a>
<a class="sourceLine" id="cb91-28" title="28">    <span class="kw">val</span> <span class="va">aTypeFunRef</span><span class="op">:</span> <span class="op">(</span><span class="dt">A</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> A::a</a>
<a class="sourceLine" id="cb91-29" title="29"></a>
<a class="sourceLine" id="cb91-30" title="30">    <span class="kw">val</span> <span class="va">aValPropRef</span><span class="op">:</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="dt">Int</span> <span class="op">=</span> A()::a</a>
<a class="sourceLine" id="cb91-31" title="31"></a>
<a class="sourceLine" id="cb91-32" title="32">    <span class="kw">val</span> <span class="va">aValFunRef</span><span class="op">:</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> A()::a</a>
<a class="sourceLine" id="cb91-33" title="33"></a>
<a class="sourceLine" id="cb91-34" title="34">    <span class="co">// Error: object type behave as values</span></a>
<a class="sourceLine" id="cb91-35" title="35">    <span class="co">// val oTypePropRef: (O) -&gt; Int = O::a</span></a>
<a class="sourceLine" id="cb91-36" title="36"></a>
<a class="sourceLine" id="cb91-37" title="37">    <span class="co">// Error: object types behave as values</span></a>
<a class="sourceLine" id="cb91-38" title="38">    <span class="co">// val oTypeFunRef: (O) -&gt; String = O::a</span></a>
<a class="sourceLine" id="cb91-39" title="39"></a>
<a class="sourceLine" id="cb91-40" title="40">    <span class="kw">val</span> <span class="va">oValPropRef</span><span class="op">:</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="dt">Int</span> <span class="op">=</span> O::a</a>
<a class="sourceLine" id="cb91-41" title="41"></a>
<a class="sourceLine" id="cb91-42" title="42">    <span class="kw">val</span> <span class="va">oValFunRef</span><span class="op">:</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> O::a</a>
<a class="sourceLine" id="cb91-43" title="43"><span class="op">}</span></a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The types of these expressions are implementation-defined, but the following constraints must hold:</span></p>
</div>
<ul>
<li><span class="sentence">The type of any property reference is a subtype of <code>kotlin.reflect.KProperty&lt;T&gt;</code>, where the type parameter <code>T</code> is fixed to the type of the property;</span></li>
<li><span class="sentence">The type of any function reference is a subtype of <code>kotlin.reflect.KFunction&lt;T&gt;</code>, where the type parameter <code>T</code> is fixed to the return type of the function;</span></li>
<li><span class="sentence">The type of any callable reference is a subtype of <a href="#function-types">function type</a> which allows the corresponding callable to be accessed/called accordingly.</span>
<ul>
<li><span class="sentence">For a type-callable reference <code>lhs::rhs</code>, it is a function type <code>(O, Arg0 ... ArgN) -&gt; R</code>, where <code>O</code> is a receiver type (type of <code>lhs</code>), <code>Arg0, ... , ArgN</code> are either empty (for a property reference) or the types of function formal parameters (for a function reference), and <code>R</code> is the result type of the callable;</span></li>
<li><span class="sentence">For a value-callable reference <code>lhs::rhs</code>, it is a function type <code>(Arg0 ... ArgN) -&gt; R</code>, where <code>Arg0, ... , ArgN</code> are either empty (for a property reference) or the types of function formal parameters (for a function reference), and <code>R</code> is the result type of the callable. </span><span class="sentence">The receiver of such callable reference is bound to <code>lhs</code>.</span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Being of a function type also means callable references are valid callables themselves, with an appropriate operator <code>invoke</code> overload, which allows using call syntax to evaluate such callable with the suitable arguments.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: one may say that any callable reference is essentially the same as a lambda literal with the corresponding number of arguments, delegating to the callable being referenced.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Please note that the above holds for <em>resolved</em> callable references, where it is known what entity a particular reference references. </span><span class="sentence">In the general case, however, it is unknown as the <a href="#overload-resolution">overload resolution</a> must be performed first. </span><span class="sentence">Please refer to the <a href="#resolving-callable-references">corresponding section</a> for details.</span></p>
</div>
<h4 id="class-literals">Class literals</h4>
<div class="paragraph">
<p><span class="sentence">A class literal is similar in syntax to a <a href="#callable-references">callable reference</a>, with the difference being that it uses the keyword <code>class</code>. </span><span class="sentence">Similar to callable references, there are two forms of class literals: type and value class literals.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: class literals are one of the few cases where a parameterized type may (and actually <strong>must</strong>) be used without its type parameters.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">All class literals <code>lhs::class</code> are of type <code>kotlin.KClass&lt;T&gt;</code> and produce a platform-defined object associated with type <code>T</code>, which, in turn, is either the <code>lhs</code> type or the <a href="#runtime-type-information">runtime type</a> of the <code>lhs</code> value. </span><span class="sentence">In both cases, <code>T</code> must be a <a href="#runtime-type-information">runtime-available non-nullable type</a>. </span><span class="sentence">As the runtime type of any expression cannot be known at compile time, the compile-time type of a class literal is <code>kotlin.KClass&lt;U&gt;</code> where <span class="math inline">\(T &lt;: U\)</span> and <code>U</code> is the compile-time type of <code>lhs</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A class literal can be used to access platform-specific capabilities of the runtime type information available on the current platform, either directly or through reflection facilities.</span></p>
</div>
<h4 id="function-calls-and-property-access">Function calls and property access</h4>
<div class="paragraph">
<p><span class="sentence">Function call expression is an expression used to invoke functions. </span><span class="sentence">Property access expression is an expression used to access properties.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are two kinds of both: with and without explicit receiver (the left-hand side of the <code>.</code> operator). </span><span class="sentence">For details on how a particular candidate and receiver for a particular call / property access is chosen, please refer to the <a href="#overload-resolution">Overload resolution</a> section.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: in some cases function calls are syntactically indistinguishable from property accesses with <code>invoke</code>-convention call suffix.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">From this point on in this section we well refer to both as function calls. </span><span class="sentence">As described in <a href="#function-declaration">the function declaration section</a>, function calls receive arguments of several different kinds:</span></p>
</div>
<ul>
<li><span class="sentence">Explicit receiver argument, used in calls with explicit receivers;</span></li>
<li><span class="sentence">Normal arguments, provided directly inside the parentheses part of the call;</span></li>
<li><span class="sentence"><a href="#named-positional-and-default-parameters">Named arguments</a> in the form <code>identifier = value</code>, where <code>identifier</code> is a parameter name used at declaration-site of the function;</span></li>
<li><span class="sentence"><a href="#variable-length-parameters">Variable length arguments</a>, provided the same way as normal arguments;</span></li>
<li><span class="sentence">A trailing lambda literal argument, specified outside the parentheses (see <a href="#lambda-literals">lambda literal section</a> for details).</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In addition to these, a function declaration may specify a number of <a href="#named-positional-and-default-parameters">default parameters</a>, which allow one to omit specifying them at call-site, in which case their default value is used during the evaluation.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The evaluation of a function call begins with the evaluation of its explicit receiver, if it is present. </span><span class="sentence">Function arguments are then evaluated <strong>in the order of their appearance in the function call</strong> left-to-right, with no consideration on how the parameters of the function were specified during function declaration. </span><span class="sentence">This means that, even if the order at declaration-site was different, arguments at call-site are evaluated in the order they are given. </span><span class="sentence">Default arguments not specified in the call are all evaluated <strong>after</strong> all provided arguments, in the order of their appearance in function declaration. </span><span class="sentence">Afterwards, the function itself is invoked.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples: we use a notation similar to the <a href="#control--and-data-flow-analysis">control-flow section</a> to illustrate the evaluation order.</span></p>
</div>
<div class="sourceCode" id="cb92"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb92-1" title="1"><span class="kw">fun</span> <span class="fu">f</span><span class="op">(</span><span class="va">x</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> h<span class="op">(),</span> <span class="va">y</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> g<span class="op">())</span></a>
<a class="sourceLine" id="cb92-2" title="2"><span class="op">...</span></a>
<a class="sourceLine" id="cb92-3" title="3"><span class="fu">f</span><span class="op">()</span> <span class="co">// $1 = h(); $2 = g(); $result = f($1, $2)</span></a>
<a class="sourceLine" id="cb92-4" title="4"><span class="fu">f</span><span class="op">(</span><span class="va">m</span>(<span class="op">)</span>, <span class="fu">n</span><span class="op">()</span>) <span class="co">// $1 = m(); $2 = n(); $result = f($1, $2)</span></a>
<a class="sourceLine" id="cb92-5" title="5"><span class="fu">f</span><span class="op">(</span><span class="va">y</span> <span class="op">=</span> n<span class="op">(),</span> <span class="va">x</span> <span class="op">=</span> m<span class="op">())</span> <span class="co">// $1 = n(); $2 = m(); $result = f($2, $1)</span></a>
<a class="sourceLine" id="cb92-6" title="6"><span class="fu">f</span><span class="op">(</span><span class="va">y</span> <span class="op">=</span> n<span class="op">())</span> <span class="co">// $1 = n(); $2 = h(); $result = f($2, $1)</span></a></code></pre></div>
<div class="sourceCode" id="cb93"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb93-1" title="1"><span class="kw">fun</span> <span class="fu">f</span><span class="op">(</span><span class="va">x</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> h<span class="op">(),</span> <span class="va">y</span><span class="op">:</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="dt">Int</span><span class="op">)</span></a>
<a class="sourceLine" id="cb93-2" title="2"><span class="op">...</span></a>
<a class="sourceLine" id="cb93-3" title="3"><span class="fu">f</span><span class="op">(</span><span class="va">y</span> <span class="op">=</span> <span class="op">{</span>2<span class="op">})</span> <span class="co">// $1 = {2}; $2 = h(); $result = f($2, $1)</span></a>
<a class="sourceLine" id="cb93-4" title="4"><span class="fu">f</span> <span class="op">{</span> <span class="dv">2</span> <span class="op">}</span> <span class="co">// $1 = {2}; $2 = h(); $result = f($2, $1)</span></a>
<a class="sourceLine" id="cb93-5" title="5">f(m()) <span class="op">{</span> <span class="dv">2</span> <span class="op">}</span> <span class="co">// $1 = m(); $2 = {2}; $result = f($1, $2)</span></a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><a href="#operator-overloading">Operator calls</a> work in a similar way: every operator evaluates in the same order as its expansion does, unless specified otherwise.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this means that the <a href="#containment-checking-expression">containment-checking operators</a> are effectively evaluated right-to-left w.r.t. their expansion.</span></p>
</div>
</blockquote>
<h4 id="spread-operator-expressions">Spread operator expressions</h4>
<div id="grammar-rule-postfixUnaryExpression-pasted-84" class="grammar-rule">
<dl>
<dt><strong><em>postfixUnaryExpression</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em><br />
| (<em><a href="#grammar-rule-primaryExpression">primaryExpression</a></em> (<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em> {<em><a href="#grammar-rule-postfixUnarySuffix">postfixUnarySuffix</a></em>}))</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence"><em>Spread operator expression</em> is a special kind of expression which is only applicable in the context of calling a function with <a href="#variable-length-parameters">variable length parameters</a>. </span><span class="sentence">For a spread operator expression <code>*E</code> it is required that <code>E</code> is of an <a href="#array-types">array type</a> and the expression itself is used as a value argument to a <a href="#function-calls-and-property-access">function call</a>. </span><span class="sentence">This allows passing an array as a <em>spread</em> value argument, providing the elements of an array as the variable length argument of a callable. </span><span class="sentence">It is allowed to mix spread arguments with regular arguments, all fitting into the same variable length argument slot, with elements of all spread arguments supplied in sequence.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb94"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb94-1" title="1"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="kw">vararg</span> <span class="va">c</span><span class="op">:</span> <span class="dt">String</span><span class="op">)</span> <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb94-2" title="2">...</a>
<a class="sourceLine" id="cb94-3" title="3"><span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">String</span> <span class="op">=</span> <span class="st">&quot;a&quot;</span></a>
<a class="sourceLine" id="cb94-4" title="4"><span class="kw">val</span> <span class="va">b</span><span class="op">:</span> <span class="dt">Array</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;</span> <span class="op">=</span> arrayOf(<span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>)</a>
<a class="sourceLine" id="cb94-5" title="5"><span class="kw">val</span> <span class="va">c</span><span class="op">:</span> <span class="dt">String</span> <span class="op">=</span> <span class="st">&quot;e&quot;</span></a>
<a class="sourceLine" id="cb94-6" title="6"><span class="kw">val</span> <span class="va">d</span><span class="op">:</span> <span class="dt">Array</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;</span> <span class="op">=</span> arrayOf()</a>
<a class="sourceLine" id="cb94-7" title="7"><span class="kw">val</span> <span class="va">e</span><span class="op">:</span> <span class="dt">Array</span><span class="op">&lt;</span><span class="dt">String</span><span class="op">&gt;</span> <span class="op">=</span> arrayOf(<span class="st">&quot;f&quot;</span>, <span class="st">&quot;g&quot;</span>)</a>
<a class="sourceLine" id="cb94-8" title="8">...</a>
<a class="sourceLine" id="cb94-9" title="9">foo(a, *b, c, *d, *e) </a>
<a class="sourceLine" id="cb94-10" title="10"><span class="co">// is equivalent to</span></a>
<a class="sourceLine" id="cb94-11" title="11">foo(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;f&quot;</span>, <span class="st">&quot;g&quot;</span>)</a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Spread operator expressions are not allowed in any other context. </span><span class="sentence">See <a href="#variable-length-parameters">Variable length parameter</a> section for details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The type of a spread argument must be a subtype of <a href="#array-types"><span class="math inline">\(\operatorname{\text{ATS}}(\operatorname{\texttt{kotlin.Array}}(\operatorname{\texttt{out\,}}T))\)</span></a> for a variable length parameter of type <span class="math inline">\(T\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: for parameter <code>vararg a: Int</code> the type of a corresponding spread argument must be a subtype of <code>IntArray</code>, for parameter <code>vararg b: T</code> where <code>T</code> is a classifier type the type of a corresponding spread argument must be a subtype of <code>Array&lt;out T&gt;</code>.</span></p>
</div>
</blockquote>
<h3 id="function-literals">Function literals</h3>
<div class="paragraph">
<p><span class="sentence">Kotlin supports using functions as values. </span><span class="sentence">This includes, among other things, being able to use named functions (via <a href="#callable-references">function references</a>) as parts of expressions. </span><span class="sentence">However, sometimes it does not make much sense to provide a separate <a href="#function-declaration">function declaration</a>, when one would rather define a function in-place. </span><span class="sentence">This is implemented using <em>function literals</em>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are two types of function literals in Kotlin: <a href="#lambda-literals"><em>lambda literals</em></a> and <a href="#anonymous-function-declarations"><em>anonymous function declarations</em></a>. </span><span class="sentence">Both of these provide a way of defining a function in-place, but have a number of differences which we discuss in their respective sections.</span></p>
</div>
<h4 id="anonymous-function-declarations">Anonymous function declarations</h4>
<div id="grammar-rule-anonymousFunction-pasted-85" class="grammar-rule">
<dl>
<dt><strong><em>anonymousFunction</em>:</strong></dt>
<dd><span class="sentence"><code>'fun'</code><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'.'</code>]<br />
{<em><a href="#grammar-rule-NL">NL</a></em>}<br />
<em><a href="#grammar-rule-parametersWithOptionalType">parametersWithOptionalType</a></em><br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-typeConstraints">typeConstraints</a></em>]<br />
[{<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-functionBody">functionBody</a></em>]</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence"><em>Anonymous function declarations</em>, despite their name, are not declarations per se, but rather expressions which resemble <a href="#function-declaration">function declarations</a>. </span><span class="sentence">They have a syntax very similar to function declarations, with the following key differences:</span></p>
</div>
<ul>
<li><span class="sentence">Anonymous functions do not have a name;</span></li>
<li><span class="sentence">Anonymous functions cannot have type parameters;</span></li>
<li><span class="sentence">Anonymous functions cannot have default parameters;</span></li>
<li><span class="sentence">Anonymous functions may have variable length parameters, but they are automatically decayed to non-variable length parameters of the corresponding <a href="#array-types">array type</a> via array type specialization;</span></li>
<li><span class="sentence">Anonymous functions may omit formal parameter types and return type, if they can be <a href="#type-inference">inferred</a> from the context.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Anonymous function declaration can declare an anonymous extension function by following the <a href="#extension-function-declaration">extension function declaration</a> convention.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: as anonymous functions may not have type parameters, you cannot declare an anonymous extension function on a parameterized receiver type.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The type of an anonymous function declaration is the function type constructed similarly to a <a href="#function-declaration">named function declaration</a>.</span></p>
</div>
<h4 id="lambda-literals">Lambda literals</h4>
<div id="grammar-rule-lambdaLiteral-pasted-86" class="grammar-rule">
<dl>
<dt><strong><em>lambdaLiteral</em>:</strong></dt>
<dd><span class="sentence">(<code>'{'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-statements">statements</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'}'</code>)<br />
| (<code>'{'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} [<em><a href="#grammar-rule-lambdaParameters">lambdaParameters</a></em>] {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'-&gt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-statements">statements</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'}'</code>)</span>
</dd>
</dl>
</div>
<div id="grammar-rule-lambdaParameters-pasted-87" class="grammar-rule">
<dl>
<dt><strong><em>lambdaParameters</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-lambdaParameter">lambdaParameter</a></em> {{<em><a href="#grammar-rule-NL">NL</a></em>} <code>','</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-lambdaParameter">lambdaParameter</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-lambdaParameter-pasted-88" class="grammar-rule">
<dl>
<dt><strong><em>lambdaParameter</em>:</strong></dt>
<dd><span class="sentence"><em><a href="#grammar-rule-variableDeclaration">variableDeclaration</a></em><br />
| (<em><a href="#grammar-rule-multiVariableDeclaration">multiVariableDeclaration</a></em> [{<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em>])</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Lambda literals are similar to <a href="#anonymous-function-declarations">anonymous function declarations</a> in that they define a function with no name. </span><span class="sentence">Unlike them, however, lambdas use very different syntax, similar to <a href="#code-blocks">control structure bodies</a> of other expressions.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Every lambda literal consists of an optional lambda parameter list, specified before the arrow (<code>-&gt;</code>) operator, and a body, which is everything after the arrow operator.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Lambda body introduces a new <a href="#scopes-and-identifiers">statement scope</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Lambda literals have the same restrictions as anonymous function declarations, but additionally cannot have <code>vararg</code> parameters.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Lambda literals can introduce <a href="#destructuring-declarations">destructuring parameters</a>. </span><span class="sentence">Lambda parameter of the form <code>(a, b, ..., n)</code> (note the parenthesis) declares a destructuring formal parameter, which references the actual argument and its <code>componentN()</code> functions as follows (see the <a href="#destructuring-declarations">operator overloading section</a> for details).</span></p>
</div>
<div class="sourceCode" id="cb95"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb95-1" title="1"><span class="kw">val</span> <span class="va">plus</span><span class="op">:</span> <span class="op">(</span><span class="dt">Pair</span>&lt;<span class="dt">Int</span><span class="op">,</span> <span class="dt">Double</span>&gt;<span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> <span class="op">{</span> (i, d) -&gt;</a>
<a class="sourceLine" id="cb95-2" title="2">    <span class="st">&quot;$i + $d = ${i + d}&quot;</span></a>
<a class="sourceLine" id="cb95-3" title="3"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb96-1" title="1"><span class="kw">val</span> <span class="va">plus</span><span class="op">:</span> <span class="op">(</span><span class="dt">Pair</span>&lt;<span class="dt">Int</span><span class="op">,</span> <span class="dt">Double</span>&gt;<span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">String</span> <span class="op">=</span> <span class="op">{</span> p -&gt;</a>
<a class="sourceLine" id="cb96-2" title="2">    <span class="kw">val</span> <span class="va">i</span> <span class="op">=</span> p.component1()</a>
<a class="sourceLine" id="cb96-3" title="3">    <span class="kw">val</span> <span class="va">d</span> <span class="op">=</span> p.component2()</a>
<a class="sourceLine" id="cb96-4" title="4">    <span class="st">&quot;$i + $d = ${i + d}&quot;</span></a>
<a class="sourceLine" id="cb96-5" title="5"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">If a lambda expression has no parameter list, it can be defining a function with either zero or one parameter, the exact case dependent on the use context of this lambda. </span><span class="sentence">The selection of number of parameters in this case is performed during <a href="#type-inference">type inference</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a lambda expression has no explicit parameter list, but does have one parameter, this parameter can be accessed inside the lambda body using a special property called <code>it</code>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: having no explicit parameter list (no arrow operator) in a lambda is different from having zero parameters (nothing preceding the arrow operator).</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Any lambda may define either a normal function or an extension function, the exact case dependent on the use context of the lambda. </span><span class="sentence">If a lambda expression defines an extension function, its extension receiver may be accessed using the standard <code>this</code> syntax inside the lambda body.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Lambda literals are different from other forms of function declarations in that non-labeled <code>return</code> expressions inside lambda body refer to the outer non-lambda function the expression is used in rather than the lambda expression itself. </span><span class="sentence">Such non-labeled returns are only allowed if the lambda and all its parent lambdas (if present) are guaranteed to be <a href="#inlining">inlined</a>, otherwise it is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a lambda expression is labeled, it can be returned from using a <a href="#return-expressions">labeled return expression</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a <strong>non-labeled</strong> lambda expression is used as a parameter to a function call, the name of the function called may be used as a label.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If a labeled <code>return</code> expression is used when there are several matching labels available (e.g., inside several nested function calls with the same name), this is resolved as <code>return</code> to the nearest matching label.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb97"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb97-1" title="1"><span class="co">// kotlin.run is a standard library inline function</span></a>
<a class="sourceLine" id="cb97-2" title="2"><span class="co">//   receiving a lambda parameter</span></a>
<a class="sourceLine" id="cb97-3" title="3"></a>
<a class="sourceLine" id="cb97-4" title="4"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb97-5" title="5">    run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (2)</span></a>
<a class="sourceLine" id="cb97-6" title="6">        run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (3)</span></a>
<a class="sourceLine" id="cb97-7" title="7">            <span class="kw">return</span>; <span class="co">// returns from (1)</span></a>
<a class="sourceLine" id="cb97-8" title="8">        <span class="op">}</span></a>
<a class="sourceLine" id="cb97-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb97-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb97-11" title="11"></a>
<a class="sourceLine" id="cb97-12" title="12"><span class="kw">fun</span> <span class="fu">bar</span><span class="op">()</span> <span class="op">{</span> <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb97-13" title="13">    run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (2)</span></a>
<a class="sourceLine" id="cb97-14" title="14">        run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (3)</span></a>
<a class="sourceLine" id="cb97-15" title="15">            <span class="kw">return@b</span>; <span class="co">// returns from (3)</span></a>
<a class="sourceLine" id="cb97-16" title="16">        <span class="op">}</span></a>
<a class="sourceLine" id="cb97-17" title="17">    <span class="op">}</span></a>
<a class="sourceLine" id="cb97-18" title="18"><span class="op">}</span></a>
<a class="sourceLine" id="cb97-19" title="19"></a>
<a class="sourceLine" id="cb97-20" title="20"><span class="kw">fun</span> <span class="fu">baz</span><span class="op">()</span> <span class="op">{</span> <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb97-21" title="21">    run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (2)</span></a>
<a class="sourceLine" id="cb97-22" title="22">        run <span class="at">c@</span> <span class="op">{</span> <span class="co">// (3)</span></a>
<a class="sourceLine" id="cb97-23" title="23">            <span class="kw">return@b</span>; <span class="co">// returns from (2)</span></a>
<a class="sourceLine" id="cb97-24" title="24">        <span class="op">}</span></a>
<a class="sourceLine" id="cb97-25" title="25">    <span class="op">}</span></a>
<a class="sourceLine" id="cb97-26" title="26"><span class="op">}</span></a>
<a class="sourceLine" id="cb97-27" title="27"></a>
<a class="sourceLine" id="cb97-28" title="28"><span class="kw">fun</span> <span class="fu">qux</span><span class="op">()</span> <span class="op">{</span> <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb97-29" title="29">    run <span class="op">{</span> <span class="co">// (2)</span></a>
<a class="sourceLine" id="cb97-30" title="30">        run <span class="op">{</span> <span class="co">// (3)</span></a>
<a class="sourceLine" id="cb97-31" title="31">            <span class="kw">return@run</span>; <span class="co">// returns from (3)</span></a>
<a class="sourceLine" id="cb97-32" title="32">        <span class="op">}</span></a>
<a class="sourceLine" id="cb97-33" title="33">    <span class="op">}</span></a>
<a class="sourceLine" id="cb97-34" title="34"><span class="op">}</span></a>
<a class="sourceLine" id="cb97-35" title="35"></a>
<a class="sourceLine" id="cb97-36" title="36"><span class="kw">fun</span> <span class="fu">quux</span><span class="op">()</span> <span class="op">{</span> <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb97-37" title="37">    run <span class="op">{</span> <span class="co">// (2)</span></a>
<a class="sourceLine" id="cb97-38" title="38">        run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (3)</span></a>
<a class="sourceLine" id="cb97-39" title="39">            <span class="kw">return@run</span>; <span class="co">// returns from (2)</span></a>
<a class="sourceLine" id="cb97-40" title="40">        <span class="op">}</span></a>
<a class="sourceLine" id="cb97-41" title="41">    <span class="op">}</span></a>
<a class="sourceLine" id="cb97-42" title="42"><span class="op">}</span></a>
<a class="sourceLine" id="cb97-43" title="43"></a>
<a class="sourceLine" id="cb97-44" title="44"><span class="kw">fun</span> <span class="fu">quz</span><span class="op">()</span> <span class="op">{</span> <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb97-45" title="45">    run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (2)</span></a>
<a class="sourceLine" id="cb97-46" title="46">        run <span class="at">b@</span> <span class="op">{</span> <span class="co">// (3)</span></a>
<a class="sourceLine" id="cb97-47" title="47">            <span class="kw">return@run</span>; <span class="co">// illegal: both run invocations are labeled</span></a>
<a class="sourceLine" id="cb97-48" title="48">        <span class="op">}</span></a>
<a class="sourceLine" id="cb97-49" title="49">    <span class="op">}</span></a>
<a class="sourceLine" id="cb97-50" title="50"><span class="op">}</span></a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Any properties used inside the lambda body are <strong>captured</strong> by the lambda expression and, depending on whether it is inlined or not, affect how these properties are processed by other mechanisms, e.g. <a href="#smart-casts">smart casts</a>. </span><span class="sentence">See corresponding sections for details.</span></p>
</div>
<h3 id="object-literals">Object literals</h3>
<div id="grammar-rule-objectLiteral-pasted-89" class="grammar-rule">
<dl>
<dt><strong><em>objectLiteral</em>:</strong></dt>
<dd><span class="sentence">(<code>'object'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>':'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-delegationSpecifiers">delegationSpecifiers</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>)<br />
| (<code>'object'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-classBody">classBody</a></em>)</span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Object literals are used to define anonymous objects in Kotlin. </span><span class="sentence">Anonymous objects are similar to regular objects, but they (obviously) have no name and thus can be used only as expressions. </span><span class="sentence">Anonymous objects, just like <a href="#classifier-declaration">regular object declarations</a>, can have at most one base class and zero or more base interfaces declared in its supertype specifiers.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The main difference between a regular object declaration and an anonymous object is its type. </span><span class="sentence">The type of an anonymous object is a special kind of type which is usable (and visible) only in the scope where it is declared. </span><span class="sentence">It is similar to a type of a regular object declaration, but, as it cannot be used outside the declaring scope, has some interesting effects.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">When a value of an anonymous object type escapes current scope:</span></p>
</div>
<ul>
<li><span class="sentence">If the type has only one declared supertype, it is implicitly downcasted to this declared supertype;</span></li>
<li><span class="sentence">If the type has several declared supertypes, there must be an implicit or explicit cast to any suitable type visible outside the scope, otherwise it is a compile-time error.</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Explain how escaping actually works for locals and stuffâ€¦)</span></p>
</div>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: an implicit cast may arise, for example, from the results of <a href="#type-inference">type inference</a>.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in this context â€œescaping current scopeâ€ is performed immediately if the corresponding value is declared as a <strong>non-private</strong> global- or classifier-scope property, as those are parts of an externally accessible interface.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb98"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb98-1" title="1"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">Base</span></a>
<a class="sourceLine" id="cb98-2" title="2"><span class="kw">interface</span> <span class="dt">I</span></a>
<a class="sourceLine" id="cb98-3" title="3"></a>
<a class="sourceLine" id="cb98-4" title="4"><span class="kw">class</span> <span class="dt">M</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb98-5" title="5">    <span class="kw">fun</span> <span class="fu">bar</span><span class="op">()</span> = <span class="kw">object</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">(),</span> <span class="dt">I</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb98-6" title="6">    <span class="co">// Error, as public return type of `bar`</span></a>
<a class="sourceLine" id="cb98-7" title="7">    <span class="co">//   cannot be anonymous</span></a>
<a class="sourceLine" id="cb98-8" title="8"></a>
<a class="sourceLine" id="cb98-9" title="9">    <span class="kw">fun</span> <span class="fu">baz</span><span class="op">():</span> <span class="dt">Base</span> = <span class="kw">object</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">(),</span> <span class="dt">I</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb98-10" title="10">    <span class="co">// OK, as an anonymous type is implicitly</span></a>
<a class="sourceLine" id="cb98-11" title="11">    <span class="co">//   cast to Base</span></a>
<a class="sourceLine" id="cb98-12" title="12"></a>
<a class="sourceLine" id="cb98-13" title="13">    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">qux</span><span class="op">()</span> = <span class="kw">object</span> <span class="op">:</span> <span class="dt">Base</span><span class="op">(),</span> <span class="dt">I</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb98-14" title="14">    <span class="co">// OK, as an anonymous type does not escape</span></a>
<a class="sourceLine" id="cb98-15" title="15">    <span class="co">//   via private functions</span></a>
<a class="sourceLine" id="cb98-16" title="16"></a>
<a class="sourceLine" id="cb98-17" title="17">    <span class="kw">private</span> <span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> = <span class="kw">object</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb98-18" title="18">        <span class="kw">fun</span> <span class="fu">bar</span><span class="op">()</span> <span class="op">{</span> println(<span class="st">&quot;foo.bar&quot;</span>) <span class="op">}</span></a>
<a class="sourceLine" id="cb98-19" title="19">    <span class="op">}</span></a>
<a class="sourceLine" id="cb98-20" title="20"></a>
<a class="sourceLine" id="cb98-21" title="21">    <span class="kw">fun</span> <span class="fu">test1</span><span class="op">()</span> = foo().bar()</a>
<a class="sourceLine" id="cb98-22" title="22"></a>
<a class="sourceLine" id="cb98-23" title="23">    <span class="kw">fun</span> <span class="fu">test2</span><span class="op">()</span> = foo()</a>
<a class="sourceLine" id="cb98-24" title="24">    <span class="co">// OK, as an anonymous type is implicitly</span></a>
<a class="sourceLine" id="cb98-25" title="25">    <span class="co">//   cast to Any</span></a>
<a class="sourceLine" id="cb98-26" title="26"><span class="op">}</span></a>
<a class="sourceLine" id="cb98-27" title="27"></a>
<a class="sourceLine" id="cb98-28" title="28"><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb98-29" title="29">    M().test1() <span class="co">// OK</span></a>
<a class="sourceLine" id="cb98-30" title="30">    M().test2().bar() <span class="co">// Error: Unresolved reference: bar</span></a>
<a class="sourceLine" id="cb98-31" title="31"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="functional-interface-lambda-literals">Functional interface lambda literals</h4>
<div class="paragraph">
<p><span class="sentence">If a <a href="#lambda-literals">lambda literal</a> is preceded with a <a href="#functional-interface-declaration">functional interface</a> name, this expression defines an anonymous object, implementing the specified functional interface via the provided lambda literal (which becomes the implementation of its single abstract method).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">To be a well-formed functional interface lambda literal, the type of lambda literal must be a subtype of the associated function type of the specified functional interface.</span></p>
</div>
<h3 id="this-expressions">This-expressions</h3>
<div id="grammar-rule-thisExpression-pasted-90" class="grammar-rule">
<dl>
<dt><strong><em>thisExpression</em>:</strong></dt>
<dd><span class="sentence"><code>'this'</code><br />
| <em><a href="#grammar-rule-THIS_AT">THIS_AT</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">This-expressions are special kind of expressions used to access <a href="#receivers">receivers</a> available in the current <a href="#scopes-and-identifiers">scope</a>. </span><span class="sentence">The basic form of this expression, denoted by a non-labeled <code>this</code> keyword, is used to access the default implicit receiver according to the receiver priority. </span><span class="sentence">In order to access other implicit receivers, labeled <code>this</code> expressions are used. </span><span class="sentence">These may be any of the following:</span></p>
</div>
<ul>
<li><span class="sentence"><code>this@type</code>, where <code>type</code> is a name of any classifier currently being declared (that is, this-expression is located in the <a href="#scopes-and-identifiers">inner scope</a> of the classifier declaration), refers to the implicit object of the type being declared;</span></li>
<li><span class="sentence"><code>this@function</code>, where <code>function</code> is a name of any extension function currently being declared (that is, this-expression is located in the <a href="#extension-function-declaration">function body</a>), refers to the implicit receiver object of the extension function;</span></li>
<li><span class="sentence"><code>this@lambda</code>, where <code>lambda</code> is a <a href="#labels">label</a> provided for a <a href="#lambda-literals">lambda literal</a> currently being declared (that is, this-expression is located in the lambda expression body), refers to the implicit receiver object of the lambda expression;</span></li>
<li><div class="paragraph">
<p><span class="sentence"><code>this@outerFunction</code>, where <code>outerFunction</code> is the name of a function which takes <a href="#lambda-literals">lambda literal</a> currently being declared as an immediate argument (that is, this-expression is located in the lambda expression body), refers to the implicit receiver object of the lambda expression.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: <code>this@outerFunction</code> notation is mutually exclusive with <code>this@lambda</code> notation, meaning if a lambda literal is labeled <code>this@outerFunction</code> cannot be used.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: <code>this@outerFunction</code> and <code>this@label</code> notations can be used only in lambda literals which have an extension function type, i.e., have an implicit receiver.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: any other forms of this-expression are illegal and should result in a compile-time error.</span></p>
</div>
</blockquote></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In case there are several entities with the same label, labeled <code>this</code> refers to the <a href="#labels">closest label</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb99"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb99-1" title="1"><span class="kw">interface</span> <span class="dt">B</span></a>
<a class="sourceLine" id="cb99-2" title="2"><span class="kw">object</span> <span class="dt">C</span></a>
<a class="sourceLine" id="cb99-3" title="3"></a>
<a class="sourceLine" id="cb99-4" title="4"><span class="kw">class</span> <span class="dt">A</span><span class="co">/* receiver (1) */</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb99-5" title="5">    <span class="kw">fun</span> <span class="fu">B</span><span class="co">/* receiver (2) */</span><span class="op">.</span><span class="fu">foo</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb99-6" title="6">        <span class="co">// `run` is a standard library function</span></a>
<a class="sourceLine" id="cb99-7" title="7">        <span class="co">//   with an extension lambda parameter</span></a>
<a class="sourceLine" id="cb99-8" title="8">        C<span class="co">/* receiver (3) */</span>.run <span class="op">{</span></a>
<a class="sourceLine" id="cb99-9" title="9">            <span class="kw">this</span> <span class="co">// refers to receiver (3) of type C</span></a>
<a class="sourceLine" id="cb99-10" title="10">            <span class="kw">this@A</span> <span class="co">// refers to receiver (1) of type A</span></a>
<a class="sourceLine" id="cb99-11" title="11">            <span class="co">// this@B // illegal: B is not being declared</span></a>
<a class="sourceLine" id="cb99-12" title="12">            <span class="kw">this@foo</span> <span class="co">// refers to receiver (2) of type B</span></a>
<a class="sourceLine" id="cb99-13" title="13">            <span class="kw">this@run</span> <span class="co">// refers to receiver (3) of type C</span></a>
<a class="sourceLine" id="cb99-14" title="14">        <span class="op">}</span></a>
<a class="sourceLine" id="cb99-15" title="15">        C<span class="co">/* receiver (4) */</span>.run <span class="at">label@</span><span class="op">{</span></a>
<a class="sourceLine" id="cb99-16" title="16">            <span class="kw">this</span> <span class="co">// refers to receiver (4) of type C</span></a>
<a class="sourceLine" id="cb99-17" title="17">            <span class="kw">this@A</span> <span class="co">// refers to receiver (1) of type A</span></a>
<a class="sourceLine" id="cb99-18" title="18">            <span class="co">// this@B // illegal: B is not being declared</span></a>
<a class="sourceLine" id="cb99-19" title="19">            <span class="kw">this@foo</span> <span class="co">// refers to receiver (2) of type B</span></a>
<a class="sourceLine" id="cb99-20" title="20">            <span class="kw">this@label</span> <span class="co">// refers to receiver (4) of type C</span></a>
<a class="sourceLine" id="cb99-21" title="21">            <span class="co">// this@run // illegal: lambda literal is labeled</span></a>
<a class="sourceLine" id="cb99-22" title="22">        <span class="op">}</span></a>
<a class="sourceLine" id="cb99-23" title="23">    <span class="op">}</span></a>
<a class="sourceLine" id="cb99-24" title="24"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h3 id="super-forms">Super-forms</h3>
<div id="grammar-rule-superExpression-pasted-91" class="grammar-rule">
<dl>
<dt><strong><em>superExpression</em>:</strong></dt>
<dd><span class="sentence">(<code>'super'</code> [<code>'&lt;'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-type">type</a></em> {<em><a href="#grammar-rule-NL">NL</a></em>} <code>'&gt;'</code>] [<em><a href="#grammar-rule-AT_NO_WS">AT_NO_WS</a></em> <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em>])<br />
| <em><a href="#grammar-rule-SUPER_AT">SUPER_AT</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">Super-forms are special kind of expression which can only be used as receivers in a <a href="#call-and-property-access-expressions">call or property access expression</a>. </span><span class="sentence">Any use of super-form expression in any other context is a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Super-forms are used in classifier declarations to access implementations from the immediate supertypes without invoking overriding behaviour. </span><span class="sentence">If an implementation is not available (e.g., one attempts to access an abstract method of a supertype in this fashion), this is a compile-time error. </span><span class="sentence">If there are several candidates available for the immediate supertype and <a href="#overload-resolution">overload resolution</a> is performed, abstract declarations are not considered valid candidates for this process.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The basic form of this expression, denoted by <code>super</code> keyword, is used to access the <strong>single</strong> immediate supertype of the currently declared classifier. </span><span class="sentence">In order to access other supertype implementations, extended <code>super</code> expressions are used. </span><span class="sentence">These may be any of the following:</span></p>
</div>
<ul>
<li><span class="sentence"><code>super&lt;Klazz&gt;</code>, where <code>Klazz</code> is a name of one of the immediate supertypes of the currently declared classifier, refers to that supertype and its implementations;</span></li>
<li><div class="paragraph">
<p><span class="sentence"><code>super&lt;Klazz&gt;@type</code>, where <code>type</code> is a name of any currently declared classifier and <code>Klazz</code> is a name of one of the immediate supertypes of the <code>type</code> classifier, refers to that supertype and its implementations.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: <code>super&lt;Klazz&gt;@type</code> notation can be used only in <a href="#nested-and-inner-classifiers">inner classes</a>, as only inner classes can have access to supertypes of other classes, i.e., supertypes of their parent class.</span></p>
</div>
</blockquote></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb100"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb100-1" title="1"><span class="kw">interface</span> <span class="dt">A</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb100-2" title="2">    <span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> println(<span class="st">&quot;A&quot;</span>) <span class="op">}</span></a>
<a class="sourceLine" id="cb100-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb100-4" title="4"><span class="kw">interface</span> <span class="dt">B</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb100-5" title="5">    <span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> println(<span class="st">&quot;B&quot;</span>) <span class="op">}</span></a>
<a class="sourceLine" id="cb100-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb100-7" title="7"></a>
<a class="sourceLine" id="cb100-8" title="8"><span class="kw">open</span> <span class="kw">class</span> <span class="dt">C</span> <span class="op">:</span> <span class="dt">A</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb100-9" title="9">    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> println(<span class="st">&quot;C&quot;</span>) <span class="op">}</span></a>
<a class="sourceLine" id="cb100-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb100-11" title="11"></a>
<a class="sourceLine" id="cb100-12" title="12"><span class="kw">class</span> <span class="dt">E</span> <span class="op">:</span> <span class="dt">C</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb100-13" title="13">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb100-14" title="14">        <span class="kw">super</span>.foo() <span class="co">// &quot;C&quot;</span></a>
<a class="sourceLine" id="cb100-15" title="15">        <span class="kw">super</span>&lt;C&gt;.foo() <span class="co">// &quot;C&quot;</span></a>
<a class="sourceLine" id="cb100-16" title="16">    <span class="op">}</span></a>
<a class="sourceLine" id="cb100-17" title="17"><span class="op">}</span></a>
<a class="sourceLine" id="cb100-18" title="18"></a>
<a class="sourceLine" id="cb100-19" title="19"><span class="kw">class</span> <span class="dt">D</span> <span class="op">:</span> <span class="dt">C</span><span class="op">(),</span> <span class="dt">A</span><span class="op">,</span> <span class="dt">B</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb100-20" title="20">    init <span class="op">{</span></a>
<a class="sourceLine" id="cb100-21" title="21">        <span class="co">// Error: ambiguity as several immediate supertypes</span></a>
<a class="sourceLine" id="cb100-22" title="22">        <span class="co">//   are available here</span></a>
<a class="sourceLine" id="cb100-23" title="23">        <span class="co">// super.foo()</span></a>
<a class="sourceLine" id="cb100-24" title="24">        <span class="kw">super</span>&lt;C&gt;.foo() <span class="co">// &quot;C&quot;</span></a>
<a class="sourceLine" id="cb100-25" title="25">        <span class="kw">super</span>&lt;B&gt;.foo() <span class="co">// &quot;B&quot;</span></a>
<a class="sourceLine" id="cb100-26" title="26">        <span class="co">// Error: A is *not* an immediate supertype,</span></a>
<a class="sourceLine" id="cb100-27" title="27">        <span class="co">//   as C inherits from A and is considered</span></a>
<a class="sourceLine" id="cb100-28" title="28">        <span class="co">//   to be &quot;more immediate&quot;</span></a>
<a class="sourceLine" id="cb100-29" title="29">        <span class="co">// super&lt;A&gt;.foo()</span></a>
<a class="sourceLine" id="cb100-30" title="30">    <span class="op">}</span></a>
<a class="sourceLine" id="cb100-31" title="31"></a>
<a class="sourceLine" id="cb100-32" title="32">    <span class="kw">inner</span> <span class="kw">class</span> <span class="dt">Inner</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb100-33" title="33">        init <span class="op">{</span></a>
<a class="sourceLine" id="cb100-34" title="34">            <span class="co">// Error: C is not available</span></a>
<a class="sourceLine" id="cb100-35" title="35">            <span class="co">// super&lt;C&gt;.foo()</span></a>
<a class="sourceLine" id="cb100-36" title="36">            <span class="kw">super</span>&lt;C&gt;<span class="at">@D</span>.foo() <span class="co">// &quot;C&quot;</span></a>
<a class="sourceLine" id="cb100-37" title="37">            <span class="kw">super</span>&lt;B&gt;<span class="at">@D</span>.foo() <span class="co">// &quot;B&quot;</span></a>
<a class="sourceLine" id="cb100-38" title="38">        <span class="op">}</span></a>
<a class="sourceLine" id="cb100-39" title="39">    <span class="op">}</span></a>
<a class="sourceLine" id="cb100-40" title="40"></a>
<a class="sourceLine" id="cb100-41" title="41">    <span class="kw">override</span> <span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> <span class="op">{</span> println(<span class="st">&quot;D&quot;</span>) <span class="op">}</span></a>
<a class="sourceLine" id="cb100-42" title="42"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h3 id="jump-expressions">Jump expressions</h3>
<div id="grammar-rule-jumpExpression-pasted-92" class="grammar-rule">
<dl>
<dt><strong><em>jumpExpression</em>:</strong></dt>
<dd><span class="sentence">(<code>'throw'</code> {<em><a href="#grammar-rule-NL">NL</a></em>} <em><a href="#grammar-rule-expression">expression</a></em>)<br />
| ((<code>'return'</code> | <em><a href="#grammar-rule-RETURN_AT">RETURN_AT</a></em>) [<em><a href="#grammar-rule-expression">expression</a></em>])<br />
| <code>'continue'</code><br />
| <em><a href="#grammar-rule-CONTINUE_AT">CONTINUE_AT</a></em><br />
| <code>'break'</code><br />
| <em><a href="#grammar-rule-BREAK_AT">BREAK_AT</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence"><em>Jump expressions</em> are expressions which redirect the evaluation of the program to a different program point. </span><span class="sentence">All these expressions have several things in common:</span></p>
</div>
<ul>
<li><span class="sentence">They all have type <a href="#kotlin.nothing-1"><code>kotlin.Nothing</code></a>, meaning that they never produce any runtime value;</span></li>
<li><span class="sentence">Any code which follows such expressions is never evaluated.</span></li>
</ul>
<h4 id="throw-expressions">Throw expressions</h4>
<div class="paragraph">
<p><span class="sentence">Throw expression <code>throw e</code> allows throwing <a href="#exceptions">exception objects</a>. </span><span class="sentence">A valid throw expression <code>throw e</code> requires that:</span></p>
</div>
<ul>
<li><span class="sentence"><code>e</code> is a value of a <a href="#runtime-available-types">runtime-available type</a>;</span></li>
<li><span class="sentence"><code>e</code> is a value of an <a href="#exceptions">exception type</a>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Throwing an exception results in <a href="#catching-exceptions">checking active <code>try</code>-blocks</a>. </span><span class="sentence">See the <a href="#exceptions">Exceptions</a> section for details.</span></p>
</div>
<h4 id="return-expressions">Return expressions</h4>
<div class="paragraph">
<p><span class="sentence">A <em>return expression</em>, when used inside a function body, immediately stops evaluating the current function and returns to its caller, effectively making the function call expression evaluate to the value specified in this return expression (if any). </span><span class="sentence">A return expression with no value implicitly returns the <code>kotlin.Unit</code> object.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are two forms of return expression: a simple return expression, specified using the non-labeled <code>return</code> keyword, which returns from the innermost <a href="#function-declaration">function declaration</a> (or <a href="#anonymous-function-declarations">anonymous function declaration</a>), and a labeled return expression of the form <code>return@Context</code> which works as follows.</span></p>
</div>
<ul>
<li><span class="sentence">If <code>return@Context</code> is used inside a named function declaration, the name of the declared function may be used as <code>Context</code> to refer to that function. </span><span class="sentence">If several declarations match the same name, the <code>return@Context</code> is considered to be from the nearest matching function;</span></li>
<li><span class="sentence">If <code>return@Context</code> is used inside a non-labeled lambda literal, the name of the function <strong>using</strong> this lambda expression as its argument may be used as <code>Context</code> to refer to the lambda literal;</span></li>
<li><span class="sentence">If <code>return@Context</code> is used inside a labeled lambda literal, the label may be used as <code>Context</code> to refer to the lambda literal.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">If a return expression is used in the context of a lambda literal which is <em>not</em> <a href="#inlining"><em>inlined</em></a> in the current context and refers to any function scope declared outside this lambda literal, it is disallowed and should result in a compile-time error.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: these rules mean a simple return expression inside a lambda expression returns <strong>from the innermost function</strong> in which this lambda expression is defined. </span><span class="sentence">They also mean such return expression is allowed only inside <strong>inlined</strong> lambda expressions.</span></p>
</div>
</blockquote>
<h4 id="continue-expression">Continue expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>continue expression</em> is a jump expression allowed only within loop bodies. </span><span class="sentence">When evaluated, this expression passes the control to the start of the next loop iteration (aka â€œcontinue-jumpsâ€).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are two forms of continue expressions:</span></p>
</div>
<ul>
<li><span class="sentence">A simple continue expression, specified using the <code>continue</code> keyword, which continue-jumps to the innermost loop statement in the current scope;</span></li>
<li><span class="sentence">A labeled continue expression, denoted <code>continue@Loop</code>, where <code>Loop</code> is a label of a labeled loop statement <code>L</code>, which continue-jumps to the loop <code>L</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">If a continue expression is used in the context of a lambda literal which refers to any loop scope outside this lambda literal, it is disallowed and should result in a compile-time error.</span></p>
</div>
<h4 id="break-expression">Break expression</h4>
<div class="paragraph">
<p><span class="sentence">A <em>break expression</em> is a jump expression allowed only within loop bodies. </span><span class="sentence">When evaluated, this expression passes the control to the next program point immediately after the loop (aka â€œbreak-jumpsâ€).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are two forms of break expressions:</span></p>
</div>
<ul>
<li><span class="sentence">A simple break expression, specified using the <code>break</code> keyword, which break-jumps to the innermost loop statement in the current scope;</span></li>
<li><span class="sentence">A labeled break expression, denoted <code>break@Loop</code>, where <code>Loop</code> is a label of a labeled loop statement <code>L</code>, which break-jumps to the loop <code>L</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">If a break expression is used in the context of a lambda literal which refers to any loop scope outside this lambda literal, it is disallowed and should result in a compile-time error.</span></p>
</div>
<h2 id="operator-overloading">Operator overloading</h2>
<div class="paragraph">
<p><span class="sentence">Some syntax forms in Kotlin are <em>defined by convention</em>, meaning that their semantics are defined through syntactic expansion of one syntax form into another syntax form.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Particular cases of definition by convention include:</span></p>
</div>
<ul>
<li><span class="sentence">Arithmetic and comparison operators;</span></li>
<li><span class="sentence"><code>invoke</code> convention;</span></li>
<li><span class="sentence">Operator-form <a href="#assignments">assignments</a>;</span></li>
<li><span class="sentence"><a href="#for-loop-statement">For-loop statements</a>;</span></li>
<li><span class="sentence"><a href="#delegated-property-declaration">Delegated properties</a>;</span></li>
<li><span class="sentence"><a href="#destructuring-declarations">Destructuring declarations</a>.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: another case of definition by convention is <a href="#navigation-operators">safe navigation</a>, which is covered in more detail in its respective section.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">There are several points shared among all the syntax forms defined using definition by convention:</span></p>
</div>
<ul>
<li><span class="sentence">The expansions are hygienic: if they introduce new identifiers that were not present in original syntax, all such identifiers are not accessible outside the expansion and cannot clash with any other declarations in the program;</span></li>
<li><span class="sentence">The expressions captured by an expansion are using <em>call-by-need</em> evaluation strategy, meaning that they are evaluated only once during first usage specified in the expansion even if the expansion itself has more than one usage of such an expression;</span></li>
<li><span class="sentence">An expansion may lead to another expansion, following the same rules;</span></li>
<li><span class="sentence">All call expressions that are produced by expansion are only allowed to use operator functions.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">This expansion of a particular syntax form to a different piece of code is usually defined in the terms of <em>operator</em> functions.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Operator functions are function which are <a href="#function-declaration">declared</a> with a special keyword <code>operator</code> and are not different from regular functions when called via <a href="#function-calls-and-property-access">function calls</a>. </span><span class="sentence">However, operator functions can also be used in definition by convention.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: different platforms may add additional criteria on whether a function may be considered a suitable candidate for operator convention.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The details of individual expansions are available in the sections of their respective operators, here we would like to describe how they <em>interoperate</em>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For example, take the following declarations:</span></p>
</div>
<div class="sourceCode" id="cb101"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb101-1" title="1"><span class="kw">class</span> <span class="dt">A</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb101-2" title="2">    <span class="kw">operator</span> <span class="kw">fun</span> <span class="fu">inc</span><span class="op">():</span> <span class="dt">A</span> <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb101-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb101-4" title="4"></a>
<a class="sourceLine" id="cb101-5" title="5"><span class="kw">object</span> <span class="dt">B</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb101-6" title="6">    <span class="kw">operator</span> <span class="kw">fun</span> <span class="kw">get</span>(i: <span class="kw">Int</span>): A <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb101-7" title="7">    <span class="kw">operator</span> <span class="kw">fun</span> <span class="kw">set</span>(i: <span class="kw">Int</span>, value: A) <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb101-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb101-9" title="9"></a>
<a class="sourceLine" id="cb101-10" title="10"><span class="kw">object</span> <span class="dt">C</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb101-11" title="11">    <span class="kw">operator</span> <span class="kw">fun</span> <span class="kw">get</span>(i: <span class="kw">Int</span>): B <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb101-12" title="12"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">The expression <code>C[0][0]++</code> is expanded (see the <a href="#expressions-1">Expressions</a> section for details) using the following rules:</span></p>
</div>
<ul>
<li><div class="paragraph">
<p><span class="sentence">The operations are expanded in order of their priority <span><span class="TODO">(TODO(Where and how to specify this priority?))</span><span class="TODO-marker">*</span></span>.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence">First, the <a href="#postfix-increment-expression">increment operator</a> is expanded, resulting in:</span></p>
</div>
<div class="sourceCode" id="cb102"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb102-1" title="1">C[<span class="dv">0</span>][<span class="dv">0</span>] = C[<span class="dv">0</span>][<span class="dv">0</span>].inc()</a></code></pre></div></li>
<li><div class="paragraph">
<p><span class="sentence">Second, the <a href="#assignments">assignment</a> to an indexing expression (produced by the previous expansion) is expanded, resulting in:</span></p>
</div>
<div class="sourceCode" id="cb103"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb103-1" title="1">C[<span class="dv">0</span>].<span class="kw">set</span><span class="op">(</span><span class="va">C</span>[<span class="va">0</span>][<span class="va">0</span>].<span class="va">inc</span>(<span class="op">)</span>)</a></code></pre></div></li>
<li><div class="paragraph">
<p><span class="sentence">Third, the <a href="#indexing-expressions">indexing expressions</a> are expanded, resulting in:</span></p>
</div>
<div class="sourceCode" id="cb104"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb104-1" title="1">C.<span class="kw">get</span><span class="op">(</span><span class="va">0</span><span class="op">).</span><span class="kw">set</span>(C.<span class="kw">get</span><span class="op">(</span><span class="va">0</span><span class="op">).</span><span class="kw">get</span>(<span class="dv">0</span>).inc())</a></code></pre></div></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Specify when we run the overload resolution to know what weâ€™re expanding to)</span></p>
</div>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: although the resulting expression contains several instances of the subexpression <code>C.get(0)</code>, as all these instances were created from the same original syntax form, the subexpression is evaluated only once, making this code roughly equivalent to:</span></p>
</div>
<div class="sourceCode" id="cb105"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb105-1" title="1"><span class="kw">val</span> $<span class="va">tmp</span> <span class="op">=</span> C.<span class="kw">get</span><span class="op">(</span><span class="va">0</span><span class="op">)</span></a>
<a class="sourceLine" id="cb105-2" title="2">$<span class="fu">tmp</span><span class="op">.</span><span class="kw">set</span>($tmp.<span class="kw">get</span><span class="op">(</span><span class="va">0</span><span class="op">).</span><span class="fu">inc</span><span class="op">()</span>)</a></code></pre></div>
</blockquote>
<h3 id="destructuring-declarations">Destructuring declarations</h3>
<div class="paragraph">
<p><span class="sentence">A special case of definition by convention is the destructuring declaration of properties, which is available for <a href="#local-property-declaration">local properties</a>, parameters of <a href="#lambda-literals">lambda literals</a> and the iteration variable of <a href="#for-loop-statement">for-loops</a>. </span><span class="sentence">See the corresponding sections for particular syntax.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This convention allows to introduce a number (one or more) of properties in the place of one by immediately <em>destructuring</em> the property during construction. </span><span class="sentence">The immediate value (that is, the initializing expression of the local property, the value acquired from the operator convention of a for-loop statement, or an argument passed into a lambda body) is assigned to a number of placeholders <span class="math inline">\(p_0, \ldots, p_N\)</span> where each placeholder is either an identifier or a special ignoring placeholder <code>_</code> (note that <code>_</code> is not a valid identifier in Kotlin). </span><span class="sentence">For each identifier the corresponding operator function <code>componentK</code> with <span class="math inline">\(K\)</span> being equal to the position of the placeholder in the declaration (<strong>starting from 1</strong>) is called without arguments and the result is assigned to a fresh value referred to as the identifier used. </span><span class="sentence">For each ignoring placeholder, no calls are performed and nothing is assigned. </span><span class="sentence">Each placeholder may be provided with an optional type signature <span class="math inline">\(T_M\)</span> which is used in <a href="#type-inference">type inference</a> as any property type would. </span><span class="sentence">Note that an ignoring placeholder may also be provided with a type signature, in which case although the call to corresponding <code>componentM</code> function is not performed, it still must be checked for function applicability during type inference.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb106"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb106-1" title="1"><span class="kw">val</span> <span class="op">(</span><span class="va">x</span><span class="op">:</span> <span class="dt">A</span><span class="op">,</span> <span class="va">_</span><span class="op">,</span> <span class="va">z</span><span class="op">)</span> <span class="op">=</span> f()</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is expanded to</span></p>
</div>
<div class="sourceCode" id="cb107"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb107-1" title="1"><span class="kw">val</span> $<span class="va">tmp</span> <span class="op">=</span> f()</a>
<a class="sourceLine" id="cb107-2" title="2"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">A</span> <span class="op">=</span> $tmp.component1()</a>
<a class="sourceLine" id="cb107-3" title="3"><span class="kw">val</span> <span class="va">z</span> <span class="op">=</span> $tmp.component3()</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where <code>component1</code> and <code>component3</code> are suitable operator functions available on the value returned by <code>f()</code></span></p>
</div>
<div class="sourceCode" id="cb108"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb108-1" title="1"><span class="cf">for</span>((x: A, _, z) <span class="kw">in</span> f()) <span class="op">{</span> ... <span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is expanded to (as per for-loop expansion)</span></p>
</div>
<div class="sourceCode" id="cb109"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb109-1" title="1"><span class="cf">when</span>(<span class="kw">val</span> $<span class="va">iterator</span> <span class="op">=</span> f().iterator()) <span class="op">{</span></a>
<a class="sourceLine" id="cb109-2" title="2">    <span class="cf">else</span> -&gt; <span class="cf">while</span> ($iterator.hasNext()) <span class="op">{</span></a>
<a class="sourceLine" id="cb109-3" title="3">                <span class="kw">val</span> $<span class="va">tmp</span> <span class="op">=</span> $iterator.next()</a>
<a class="sourceLine" id="cb109-4" title="4">                <span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">A</span> <span class="op">=</span> $tmp.component1()</a>
<a class="sourceLine" id="cb109-5" title="5">                <span class="kw">val</span> <span class="va">z</span> <span class="op">=</span> $tmp.component3()</a>
<a class="sourceLine" id="cb109-6" title="6">                ...</a>
<a class="sourceLine" id="cb109-7" title="7">            <span class="op">}</span></a>
<a class="sourceLine" id="cb109-8" title="8"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where <code>iterator()</code>, <code>next()</code>, <code>hasNext()</code>, <code>component1()</code> and <code>component3</code> are all suitable operator functions available on their respective receivers.</span></p>
</div>
<div class="sourceCode" id="cb110"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb110-1" title="1">foo <span class="op">{</span> (x: A, _, z) -&gt; ... <span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is expanded to</span></p>
</div>
<div class="sourceCode" id="cb111"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb111-1" title="1">foo <span class="op">{</span> $tmp -&gt;</a>
<a class="sourceLine" id="cb111-2" title="2">    <span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">A</span> <span class="op">=</span> $tmp.component1()</a>
<a class="sourceLine" id="cb111-3" title="3">    <span class="kw">val</span> <span class="va">z</span> <span class="op">=</span> $tmp.component3()</a>
<a class="sourceLine" id="cb111-4" title="4">    ...</a>
<a class="sourceLine" id="cb111-5" title="5"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where <code>component1()</code> and <code>component3</code> are all suitable operator functions available on the value of lambda argument.</span></p>
</div>
</blockquote>
<h2 id="packages-and-imports">Packages and imports</h2>
<div class="paragraph">
<p><span class="sentence">A Kotlin project is structured into <strong>packages</strong>. </span><span class="sentence">A package contains one or more Kotlin files, with files linked to a package using a <em>package header</em>. </span><span class="sentence">A file may contain exactly one or zero package headers, meaning each file belongs to exactly one package.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: an absence of a package header in a file means it belongs to the special <em>root package</em>.</span></p>
</div>
</blockquote>
<div id="grammar-rule-packageHeader-pasted-93" class="grammar-rule">
<dl>
<dt><strong><em>packageHeader</em>:</strong></dt>
<dd><span class="sentence">[<code>'package'</code> <em><a href="#grammar-rule-identifier">identifier</a></em> [<em><a href="#grammar-rule-semi">semi</a></em>]]</span>
</dd>
</dl>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Packages are orthogonal from <a href="#modules">modules</a>. </span><span class="sentence">A module may contain many packages, and a single package can be spread across several modules.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The name of a package is <a href="#identifiers-and-paths">a simple or a qualified path</a>, which creates a package hierarchy.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: unlike many other languages, Kotlin packages <em>do not</em> require files to have any specific locations w.r.t. itself; the connection between a file and its package is established only via a package header. </span><span class="sentence">It is strongly recommended, however, that the folder structure of a project does correspond to the package hierarchy.</span></p>
</div>
</blockquote>
<h3 id="importing">Importing</h3>
<div class="paragraph">
<p><span class="sentence">Program entities declared in one package may be freely used in any file in the same package with the only two restrictions being <a href="#modules">module</a> boundaries and <a href="#declaration-visibility">visibility</a> constraints. </span><span class="sentence">In order to use an entity from a file belonging to a different package, the programmer must use <em>import directives</em>.</span></p>
</div>
<div id="grammar-rule-importList-pasted-94" class="grammar-rule">
<dl>
<dt><strong><em>importList</em>:</strong></dt>
<dd><span class="sentence">{<em><a href="#grammar-rule-importHeader">importHeader</a></em>}</span>
</dd>
</dl>
</div>
<div id="grammar-rule-importHeader-pasted-95" class="grammar-rule">
<dl>
<dt><strong><em>importHeader</em>:</strong></dt>
<dd><span class="sentence"><code>'import'</code> <em><a href="#grammar-rule-identifier">identifier</a></em> [(<code>'.'</code> <code>'*'</code>) | <em><a href="#grammar-rule-importAlias">importAlias</a></em>] [<em><a href="#grammar-rule-semi">semi</a></em>]</span>
</dd>
</dl>
</div>
<div id="grammar-rule-importAlias-pasted-96" class="grammar-rule">
<dl>
<dt><strong><em>importAlias</em>:</strong></dt>
<dd><span class="sentence"><code>'as'</code> <em><a href="#grammar-rule-simpleIdentifier">simpleIdentifier</a></em></span>
</dd>
</dl>
</div>
<div class="paragraph">
<p><span class="sentence">An import directive contains <a href="#identifiers-and-paths">a simple or a qualified path</a>, with the name of an imported entity as its last component. </span><span class="sentence">A path may include not only a package, but also an <a href="#classifier-declaration">object</a> or a type, in which case it refers to the <a href="#class-declaration">companion object</a> of that type. </span><span class="sentence">The last component may reference any named declaration within that scope (that is, top-level scope of all files in the package or an object declaration scope) may be imported using their names.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are two special kinds of imports: star-imports ending in an asterisk (<code>*</code>) and renaming imports employing the <code>as</code> operator. </span><span class="sentence">Star-imports import all named entities inside the corresponding scope, but have weaker priority during <a href="#overload-resolution">overload resolution</a> of functions and properties. </span><span class="sentence">Renaming imports work just like regular imports, but introduce the entity into the current file with the specified name.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Imports from objects have certain limitations: only object members may be imported and star-imports are not allowed.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(statics)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">Imports are local to their files, meaning if an entity is introduced into file A.kt from package <code>foo.bar</code>, it does not introduce that entity to any other file from package <code>foo.bar</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are some packages which have all their entities <em>implicitly imported</em> into any Kotlin file, meaning one can access such entity without explicitly using import directives.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: one may, however, import these entities explicitly if they choose to do so.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The following packages of the standard library are implicitly imported:</span></p>
</div>
<ul>
<li><span class="sentence"><code>kotlin</code></span></li>
<li><span class="sentence"><code>kotlin.annotation</code></span></li>
<li><span class="sentence"><code>kotlin.collections</code></span></li>
<li><span class="sentence"><code>kotlin.comparisons</code></span></li>
<li><span class="sentence"><code>kotlin.io</code></span></li>
<li><span class="sentence"><code>kotlin.ranges</code></span></li>
<li><span class="sentence"><code>kotlin.sequences</code></span></li>
<li><span class="sentence"><code>kotlin.text</code></span></li>
<li><span class="sentence"><code>kotlin.math</code></span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: platform implementations may introduce additional implicitly imported packages, for example, to extend Kotlin code with the platform-specific functionality. </span><span class="sentence">An example of this would be <code>java.lang</code> package implicitly imported on the JVM platform.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Importing certain entities may be disallowed by their <a href="#declaration-visibility">visibility modifiers</a>.</span></p>
</div>
<ul>
<li><span class="sentence"><code>public</code> entities can be imported anywhere</span></li>
<li><span class="sentence"><code>internal</code> entities can be imported only within the same <a href="#modules">module</a></span></li>
<li><span class="sentence"><code>protected</code> entities cannot be imported</span></li>
<li><span class="sentence">top-level <code>private</code> entities can be imported within their declaring file</span></li>
<li><span class="sentence">other <code>private</code> entities cannot be imported</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Availability declaration from current package)</span></p>
</div>
</div>
<h3 id="modules">Modules</h3>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(This is a stub)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">A module is a concept on the boundary between the code itself and the resulting application, thus it depends on and influences both of them. </span><span class="sentence">A Kotlin module is a set of Kotlin files which are considered to be interdependent and must be handled together during compilation.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In a simple case, a module is a set of files compiled at the same time in a given project.</span></p>
</div>
<ul>
<li><span class="sentence">A set of files being compiled with a single Kotlin compiler invocation</span></li>
<li><span class="sentence">A Maven module</span></li>
<li><span class="sentence">A Gradle project</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">In a more complicated case involving multi-platform projects, a module may be distributed across several compilations, projects and/or platforms.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For the purposes of Kotlin/Core, modules are important for <a href="#declaration-visibility"><code>internal</code> visibility</a>. </span><span class="sentence">How modules influence particular platforms is described in their respective sections of this specification.</span></p>
</div>
<h2 id="overload-resolution">Overload resolution</h2>
<h3 id="glossary-4">Glossary</h3>
<dl>
<dt><code>type(e)</code></dt>
<dd><span class="sentence"><a href="#type-system">Type</a> of expression <code>e</code></span>
</dd>
</dl>
<h3 id="intro">Intro</h3>
<div class="paragraph">
<p><span class="sentence">Kotlin supports <em>callable overloading</em>, that is, the ability for several callables (functions or function-like properties) with the same name to coexist in the same scope, with the compiler picking the most suitable one when such a callable is called. </span><span class="sentence">This section describes <em>overload resolution process</em> in detail.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Unlike other object-oriented languages, Kotlin does not have only regular class methods, but also top-level functions, local functions, extension functions and function-like values, which complicate the overload resolution process quite a bit. </span><span class="sentence">Additionally, Kotlin has infix functions, operator and property overloading, which add their own specifics to this process.</span></p>
</div>
<h3 id="receivers">Receivers</h3>
<div class="paragraph">
<p><span class="sentence">Every function or property that is defined as a method or an extension has one or more special parameters called <em>receiver</em> parameters. </span><span class="sentence">When calling such a callable using <a href="#navigation-operators">navigation operators</a> (<code>.</code> or <code>?.</code>) the left hand side value is called an <em>explicit receiver</em> of this particular call. </span><span class="sentence">In addition to the explicit receiver, each call may indirectly access zero or more <em>implicit receivers</em>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Implicit receivers are available in a syntactic scope according to the following rules:</span></p>
</div>
<ul>
<li><span class="sentence">Any receiver available in a scope is available in its <a href="#linked-scopes">downwards-linked scopes</a>;</span></li>
<li><span class="sentence">In a <a href="#classifier-declaration">classifier declaration</a> scope (including object and companion object declarations), the declared object is available as implicit <code>this</code>;</span></li>
<li><span class="sentence">In a <a href="#classifier-declaration">classifier declaration</a> scope (including object and companion object declarations), the static callables of the declared object are available on a phantom static implicit <code>this</code>;</span></li>
<li><span class="sentence">If a function or a property is an extension, <code>this</code> parameter of the extension is also available inside the extension declaration;</span></li>
<li><span class="sentence">If a lambda expression has an extension function type, <code>this</code> argument of the lambda expression is also available inside the lambda expression declaration.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: a phantom static implicit <code>this</code> is a special receiver, which is included in the receiver chain for the purposes of handling static functions from <a href="#enum-class-declaration">enum classes</a>. </span><span class="sentence">It may also be used on platforms to handle their static-like entities, e.g., static methods on JVM platform.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The available receivers are prioritized in the following way:</span></p>
</div>
<ul>
<li><span class="sentence">Receivers provided in the most inner scope have higher priority as ordered w.r.t. <a href="#linked-scopes">link relation</a>;</span></li>
<li><span class="sentence">The implicit <code>this</code> receiver has higher priority than phantom static implicit <code>this</code>;</span></li>
<li><span class="sentence">The phantom static implicit <code>this</code> receiver has higher priority than the current class companion object receiver;</span></li>
<li><span class="sentence">Current class companion object receiver has higher priority than any of the superclass companion objects;</span></li>
<li><span class="sentence">Superclass companion object receivers are prioritized according to the inheritance order.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: these rules mean implicit receivers are always totally ordered w.r.t. their priority, as no two implicit receivers can have the same priority.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: DSL-specific annotations (marked with <a href="#built-in-annotations"><code>kotlin.DslMarker</code></a> annotation) change the availability of implicit receivers in the following way: for all types marked with a particular DSL-specific annotation, only the highest priority implicit receiver is available in a given scope.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The implicit receiver having the highest priority is also called the <em>default implicit receiver</em>. </span><span class="sentence">The default implicit receiver is available in a scope as <code>this</code>. </span><span class="sentence">Other available receivers may be accessed using <a href="#this-expressions">labeled this-expressions</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If an implicit receiver is available in a given scope, it may be used to call callables implicitly in that scope without using the navigation operator.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For <a href="#callables-and-invoke-convention">extension callables</a>, the receiver used as the extension receiver parameter is called <em>extension receiver</em>, while the implicit receiver associated with the declaration scope the extension is declared in is called <em>dispatch receiver</em>. </span><span class="sentence">For a particular callable invocation, any or both receivers may be involved, but, if an extension receiver is involved, the dispatch receiver must be implicit.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: by definition, local extension callables do not have a dispatch receiver, as they are declared in a statement scope.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: there may be situations in which <em>the same implicit receiver</em> is used as both the dispatch receiver and the extension receiver for a particular callable invocation, for example:</span></p>
</div>
<div class="sourceCode" id="cb112"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb112-1" title="1"><span class="kw">interface</span> <span class="dt">Y</span></a>
<a class="sourceLine" id="cb112-2" title="2"></a>
<a class="sourceLine" id="cb112-3" title="3"><span class="kw">class</span> <span class="dt">X</span> <span class="op">:</span> <span class="dt">Y</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb112-4" title="4">    <span class="kw">fun</span> <span class="fu">Y</span><span class="op">.</span><span class="fu">foo</span><span class="op">()</span> <span class="op">{}</span> <span class="co">// `foo` is an extension for Y,</span></a>
<a class="sourceLine" id="cb112-5" title="5">                   <span class="co">//   needs extension receiver to be called</span></a>
<a class="sourceLine" id="cb112-6" title="6"></a>
<a class="sourceLine" id="cb112-7" title="7">    <span class="kw">fun</span> <span class="fu">bar</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb112-8" title="8">        foo() <span class="co">// `this` reference is both</span></a>
<a class="sourceLine" id="cb112-9" title="9">              <span class="co">//   the extension and the dispatch receiver</span></a>
<a class="sourceLine" id="cb112-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb112-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb112-12" title="12"></a>
<a class="sourceLine" id="cb112-13" title="13"><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="fu">mk</span><span class="op">():</span> <span class="dt">T</span> = <span class="al">TODO()</span></a>
<a class="sourceLine" id="cb112-14" title="14"></a>
<a class="sourceLine" id="cb112-15" title="15"><span class="kw">fun</span> <span class="fu">main</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb112-16" title="16">    <span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">X</span> <span class="op">=</span> mk()</a>
<a class="sourceLine" id="cb112-17" title="17">    <span class="kw">val</span> <span class="va">y</span><span class="op">:</span> <span class="dt">Y</span> <span class="op">=</span> mk()</a>
<a class="sourceLine" id="cb112-18" title="18"></a>
<a class="sourceLine" id="cb112-19" title="19">    <span class="co">// y.foo()</span></a>
<a class="sourceLine" id="cb112-20" title="20">    <span class="co">// Error, as there is no implicit receiver</span></a>
<a class="sourceLine" id="cb112-21" title="21">    <span class="co">//   of type X available</span></a>
<a class="sourceLine" id="cb112-22" title="22"></a>
<a class="sourceLine" id="cb112-23" title="23">    with (x) <span class="op">{</span></a>
<a class="sourceLine" id="cb112-24" title="24">        y.foo() <span class="co">// OK!</span></a>
<a class="sourceLine" id="cb112-25" title="25">    <span class="op">}</span></a>
<a class="sourceLine" id="cb112-26" title="26"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h3 id="the-forms-of-call-expression">The forms of call-expression</h3>
<div class="paragraph">
<p><span class="sentence">Any function in Kotlin may be called in several different ways:</span></p>
</div>
<ul>
<li><span class="sentence">A fully-qualified call without receiver: <code>package.foo()</code>;</span></li>
<li><span class="sentence">A call with an explicit receiver: <code>a.foo()</code>;</span></li>
<li><span class="sentence">An infix function call: <code>a foo b</code>;</span></li>
<li><span class="sentence">An overloaded operator call: <code>a + b</code>;</span></li>
<li><span class="sentence">A call without an explicit receiver: <code>foo()</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Although syntactically similar, there is a difference between the first two kinds of calls: in the first case, <code>package</code> is a name of a <a href="#packages-and-imports">Kotlin package</a>, while in the second case <code>a</code> is a value or a type.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For each of these cases, a compiler should first pick a number of <em>overload candidates</em>, which form a set of possibly intended callables (<em>overload candidate set</em>, OCS), and then <em>choose the most specific function</em> to call based on the types of the function and the call arguments.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: the overload candidates are picked <strong>before</strong> the most specific function is chosen.</span></p>
</div>
</blockquote>
<h3 id="callables-and-invoke-convention">Callables and <code>invoke</code> convention</h3>
<div class="paragraph">
<p><span class="sentence">A <em>callable</em> <span class="math inline">\(X\)</span> for the purpose of this section is one of the following:</span></p>
</div>
<ul>
<li><span class="sentence">Function-like callables:</span>
<ul>
<li><span class="sentence">A function named <span class="math inline">\(X\)</span> at its declaration site;</span></li>
<li><span class="sentence">A constructor of a type named <span class="math inline">\(X\)</span> at its declaration site;</span></li>
<li><span class="sentence">Any of the above named <span class="math inline">\(Y\)</span> at its declaration site, but imported into the current scope using <a href="#importing">a renaming import</a> as <span class="math inline">\(X\)</span>.</span></li>
</ul></li>
<li><span class="sentence">Property-like callables with an operator function <code>invoke</code> available as a member or an extension in the current scope:</span>
<ul>
<li><span class="sentence">A property named <span class="math inline">\(X\)</span> at its declaration site;</span></li>
<li><span class="sentence">An <a href="#object-declaration">object</a> or a <a href="#class-declaration">companion object</a> named <span class="math inline">\(X\)</span> at its declaration site;</span></li>
<li><span class="sentence">A <a href="#class-declaration">companion object</a> of a <a href="#classifier-declaration">classifier type</a> named <span class="math inline">\(X\)</span> at its declaration site;</span></li>
<li><span class="sentence">An <a href="#enum-class-declaration">enum entry</a> named <span class="math inline">\(X\)</span> at its declaration site;</span></li>
<li><span class="sentence">Any of the above named <span class="math inline">\(Y\)</span> at its declaration site, but imported into the current scope using <a href="#importing">a renaming import</a> as <span class="math inline">\(X\)</span>.</span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">For property-like callables, a call <span class="math inline">\(X(Y_0, \ldots, Y_N)\)</span> is an <a href="#operator-overloading">overloadable operator</a> which is expanded to <span class="math inline">\(X\text{.invoke}(Y_0, \ldots, Y_N)\)</span>. </span><span class="sentence">The call may contain type parameters, named parameters, <a href="#spread-operator-expressions">variable argument parameter expansion</a> and trailing lambda parameters, all of which are forwarded as-is to the corresponding <code>invoke</code> function.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The set of implicit receivers itself (denoted by <a href="#this-expressions"><code>this</code></a> expression) may also be used as a property-like callable using <code>this</code> as the left-hand side of the call expression. </span><span class="sentence">As with normal property-like callables, <span class="math inline">\(\texttt{this@A}(Y_0, \ldots, Y_N)\)</span> is an overloadable operator which is expanded to <span class="math inline">\(\texttt{this@A.invoke}(Y_0, \ldots, Y_N)\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A <em>member callable</em> is one of the following:</span></p>
</div>
<ul>
<li><span class="sentence">a member function-like callable (including constructors);</span></li>
<li><span class="sentence">a member property-like callable with a member operator <code>invoke</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">An <em>extension callable</em> is one of the following:</span></p>
</div>
<ul>
<li><span class="sentence">an extension function-like callable;</span></li>
<li><span class="sentence">a member property-like callable with an extension operator <code>invoke</code>;</span></li>
<li><span class="sentence">an extension property-like callable with a member operator <code>invoke</code>;</span></li>
<li><span class="sentence">an extension property-like callable with an extension operator <code>invoke</code>.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: the mnemonic rule to remember this order is â€œfunctions before properties, members before extensionsâ€.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">A <em>local callable</em> is any callable which is declared in a <a href="#scopes-and-identifiers">statement scope</a>.</span></p>
</div>
<h3 id="c-level-partition">c-level partition</h3>
<div class="paragraph">
<p><span class="sentence">When calculating overload candidate sets, member callables produce the following sets, considered separately, ordered by higher priority first:</span></p>
</div>
<ul>
<li><span class="sentence">Member function-like callables;</span></li>
<li><span class="sentence">Member property-like callables.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Extension callables produce the following sets, considered separately, ordered by higher priority first:</span></p>
</div>
<ul>
<li><span class="sentence">Extension function-like callables;</span></li>
<li><span class="sentence">Member property-like callables with extension <code>invoke</code>;</span></li>
<li><span class="sentence">Extension property-like callables with member <code>invoke</code>;</span></li>
<li><span class="sentence">Extension property-like callables with extension <code>invoke</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Let us define this partition of callables to overload candidate sets as <em>c-level partition</em> (callable-level partition). </span><span class="sentence">As this partition is the most fine-grained of all other steps of partitioning resolution candidates into sets, it is always performed <strong>last</strong>, after all other applicable steps.</span></p>
</div>
<h3 id="building-the-overload-candidate-set-ocs">Building the overload candidate set (OCS)</h3>
<h4 id="fully-qualified-call">Fully-qualified call</h4>
<div class="paragraph">
<p><span class="sentence">If a call is fully-qualified (that is, it contains a complete <a href="#identifiers-and-paths">package path</a>), then the overload candidate set <span class="math inline">\(S\)</span> simply contains all the top-level callables with the specified name in the specified package. </span><span class="sentence">As a package name can never clash with any other declared entity, after performing <a href="#c-level-partition">c-level partition</a> on <span class="math inline">\(S\)</span>, the resulting sets are the only ones available for further processing.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb113"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb113-1" title="1"><span class="kw">package</span> <span class="im">a.b.c</span></a>
<a class="sourceLine" id="cb113-2" title="2"></a>
<a class="sourceLine" id="cb113-3" title="3"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb113-4" title="4"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">Double</span><span class="op">)</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb113-5" title="5"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">List</span><span class="op">&lt;</span><span class="dt">Char</span><span class="op">&gt;)</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb113-6" title="6"><span class="kw">val</span> <span class="va">foo</span> <span class="op">=</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb113-7" title="7">. . .</a>
<a class="sourceLine" id="cb113-8" title="8">a.b.c.foo()</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Here the resulting overload candidate set contains all the callables named <code>foo</code> from the package <code>a.b.c</code>.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: a fully-qualified callable name has the form <code>P.n()</code>, where <code>n</code> is a simple callable name and <code>P</code> is a complete <a href="#identifiers-and-paths">package path</a> referencing an existing <a href="#packages-and-imports">package</a>.</span></p>
</div>
</blockquote>
<h4 id="call-with-an-explicit-receiver">Call with an explicit receiver</h4>
<div class="paragraph">
<p><span class="sentence">If a call is done via a <a href="#navigation-operators">navigation operator</a> (<code>.</code> or <code>?.</code>), but is not a <a href="#fully-qualified-call">fully-qualified call</a>, then the left hand side value of the call is the explicit receiver of this call.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A call of callable <code>f</code> with an explicit receiver <code>e</code> is correct if at least one of the following holds:</span></p>
</div>
<ol type="1">
<li><span class="sentence"><code>f</code> is an accessible member callable of the classifier type <code>type(e)</code> or any of its supertypes;</span></li>
<li><span class="sentence"><code>f</code> is an accessible extension callable of the classifier type <code>type(e)</code> or any of its supertypes, including top-level, local and imported extensions.</span></li>
<li><span class="sentence"><code>f</code> is an accessible static member callable of the classifier type <code>e</code>.</span></li>
</ol>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: callables for case 2 include not only regular extension callables, but also extension callables from any of the available implicit receivers. </span><span class="sentence">For example, if class <code>P</code> contains a member extension function <code>f</code> for another class <code>T</code> and an object of class <code>P</code> is available as an implicit receiver, extension function <code>f</code> may be used for such call if <code>T</code> conforms to the type <code>type(e)</code>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If a call is correct, for a callable <code>f</code> with an explicit receiver <code>e</code> of type <code>T</code> the following sets are analyzed (<strong>in the given order</strong>):</span></p>
</div>
<ol type="1">
<li><span class="sentence">Non-extension member callables named <code>f</code> of type <code>T</code>;</span></li>
<li><span class="sentence">Local extension callables named <code>f</code>, whose receiver type conforms to type <code>T</code>, in the current scope and its <a href="#linked-scopes">upwards-linked scopes</a>, ordered by the size of the scope (smallest first), excluding the package scope;</span></li>
<li><span class="sentence">Explicitly imported extension callables named <code>f</code>, whose receiver type conforms to type <code>T</code>;</span></li>
<li><span class="sentence">Extension callables named <code>f</code>, whose receiver type conforms to type <code>T</code>, declared in the package scope;</span></li>
<li><span class="sentence">Star-imported extension callables named <code>f</code>, whose receiver type conforms to type <code>T</code>;</span></li>
<li><span class="sentence">Implicitly imported extension callables named <code>f</code> (either from the Kotlin standard library or platform-specific ones), whose receiver type conforms to type <code>T</code>.</span></li>
</ol>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: here type <code>U</code> conforms to type <code>T</code>, if <span class="math inline">\(T &lt;: U\)</span>.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: a call to an extension callable with an explicit extension receiver, as noted above, may involve an implicit dispatch receiver. </span><span class="sentence">In this case, the case with <strong>no implicit receiver</strong> is considered first; then, for each implicit receiver available, a separate number of sets is constructed according to <a href="#call-without-an-explicit-receiver">the rules for implicit receivers</a>. </span><span class="sentence">These sets are considered in the order of the implicit <a href="#receivers">receiver priority</a>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">There is a important special case here, however, as a callable may be a <a href="#callables-and-invoke-convention">property-like callable with an operator function <code>invoke</code></a>, and these may belong to different sets (e.g., the property itself may be star-imported, while the <code>invoke</code> operator on it is a local extension). </span><span class="sentence">In this situation, such callable belongs to the <strong>lowest priority</strong> set of its parts (e.g., for the above case, priority 5 set).</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: when trying to resolve between an explicitly imported extension property (priority 3) with a member <code>invoke</code> (priority 1) and a local property (priority 2) with a star-imported extension <code>invoke</code> (priority 5), the first one wins (<code>max(3, 1) &lt; max(2, 5)</code>).</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">When analyzing these sets, the <strong>first</strong> set which contains <strong>any</strong> <a href="#determining-function-applicability-for-a-specific-call">applicable callable</a> is picked for <a href="#c-level-partition">c-level partition</a>, which gives us the resulting overload candidate set.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: this means, among other things, that if the set constructed on step <span class="math inline">\(Y\)</span> contains the overall most suitable candidate function, but the set constructed on step <span class="math inline">\(X &lt; Y\)</span> is not empty, the callables from set <span class="math inline">\(X\)</span> will be picked despite them being less suitable overload candidates.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">After we have fixed the overload candidate set, we search this set for the <a href="#choosing-the-most-specific-candidate-from-the-overload-candidate-set">most specific callable</a>.</span></p>
</div>
<h5 id="call-with-an-explicit-type-receiver">Call with an explicit type receiver</h5>
<div class="paragraph">
<p><span class="sentence">A call with an explicit receiver may be performed not only on a value receiver, but also on a <em>type</em> receiver.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: type receivers can appear when working with <a href="#enum-class-declaration">enum classes</a> or interoperating with platform-dependent code.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">They mostly follow the same rules as <a href="#call-with-an-explicit-receiver">calls with an explicit value receiver</a>. </span><span class="sentence">However, for a callable <code>f</code> with an explicit type receiver <code>T</code> the following sets are analyzed (<strong>in the given order</strong>):</span></p>
</div>
<ol type="1">
<li><span class="sentence">Static member callables named <code>f</code> of type <code>T</code>;</span></li>
<li><span class="sentence">The overload candidate sets for call <code>T.f()</code>, where <code>T</code> is a companion object of type <code>T</code>.</span></li>
</ol>
<h4 id="infix-function-call">Infix function call</h4>
<div class="paragraph">
<p><span class="sentence">Infix function calls are a special case of function <a href="#call-with-an-explicit-receiver">calls with explicit receiver</a> in the left hand side position, i.e., <code>a foo b</code> may be an infix form of <code>a.foo(b)</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">However, there is an important difference: during the overload candidate set construction the only callables considered for inclusion are the ones with the <code>infix</code> modifier. </span><span class="sentence">This means we consider only function-like callables with <code>infix</code> modifier and property-like callables with an <code>infix</code> operator function <code>invoke</code>. </span><span class="sentence">All other callables are not considered for inclusion. </span><span class="sentence">Aside from this difference, candidates are selected using the same rules as for normal calls with explicit receiver.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: this filtering is done <strong>before</strong> we perform selection of the overload candidate set w.r.t. rules for calls with explicit receiver.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Different platform implementations may extend the set of functions considered as infix functions for the overload candidate set.</span></p>
</div>
<h4 id="operator-call">Operator call</h4>
<div class="paragraph">
<p><span class="sentence">According to <a href="#operator-overloading">the operator overloading section</a>, some operator expressions in Kotlin can be overloaded using definition-by-convention via specifically-named functions. </span><span class="sentence">This makes operator expressions semantically equivalent to function <a href="#call-with-an-explicit-receiver">calls with explicit receiver</a>, where the receiver expression is selected based on the operator used.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">However, there is an important difference: during the overload candidate set construction the only functions considered for inclusion are the ones with the <code>operator</code> modifier. </span><span class="sentence">All other functions (and any properties) are not considered for inclusion. </span><span class="sentence">Aside from this difference, candidates are selected using the same rules as for normal calls with explicit receiver.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: this filtering is done <strong>before</strong> we perform selection of the overload candidate set w.r.t. rules for calls with explicit receiver.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this also means that all the properties available through the <code>invoke</code> convention are non-eligible for operator calls, as there is no way of specifying the <code>operator</code> modifier for them; even though the <code>invoke</code> callable is required to always have such modifier. </span><span class="sentence">As <code>invoke</code> convention itself is an operator call, it is impossible to use more than one <code>invoke</code> convention in a single call.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Different platform implementations may extend the set of functions considered as operator functions for the overload candidate set.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: these rules are valid not only for dedicated operator expressions, but also for other operator-based defined-by-convention calls, e.g., <a href="#for-loop-statement"><code>for</code>-loop</a> iteration conventions, operator-form <a href="#assignments">assignments</a> or <a href="#delegated-property-declaration">property delegation</a>.</span></p>
</div>
</blockquote>
<h4 id="call-without-an-explicit-receiver">Call without an explicit receiver</h4>
<div class="paragraph">
<p><span class="sentence">A call which is performed with a <a href="#identifiers-and-paths">simple path</a> is a call <strong>without</strong> an explicit receiver. </span><span class="sentence">As such, it may either have one or more implicit receivers or reference a top-level function.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this case does not include calls using the <code>invoke</code> operator function where the left-land side of the call is not an identifier, but some other kind of expression (as this is not a simple path). </span><span class="sentence">These cases are handled the same way as <a href="#operator-call">operator calls</a> and need no further special treatment.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb114"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb114-1" title="1"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">Foo</span>, <span class="va">b</span><span class="op">:</span> <span class="dt">Bar</span><span class="op">)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb114-2" title="2">    (a + b)(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb114-3" title="3">    <span class="co">// Such a call is handled as if it is</span></a>
<a class="sourceLine" id="cb114-4" title="4">    <span class="co">//   (a + b).invoke(42)</span></a>
<a class="sourceLine" id="cb114-5" title="5"><span class="op">}</span></a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">As with <a href="#call-with-an-explicit-receiver">calls with explicit receiver</a>, we first pick an overload candidate set and then search this set for the most specific function to match the call.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For an identifier named <code>f</code> the following sets are analyzed (<strong>in the given order</strong>):</span></p>
</div>
<ol type="1">
<li><span class="sentence">Local non-extension callables named <code>f</code> in the current scope and its <a href="#linked-scopes">upwards-linked scopes</a>, ordered by the size of the scope (smallest first), excluding the package scope;</span></li>
<li><span class="sentence">The overload candidate sets for each pair of implicit receivers <code>e</code> and <code>d</code> available in the current scope, calculated as if <code>e</code> is the <a href="#call-with-an-explicit-receiver">explicit receiver</a>, in order of the <a href="#receivers">receiver priority</a>;</span></li>
<li><span class="sentence">Top-level non-extension functions named <code>f</code>, in the order of:</span>
<ol type="a">
<li><span class="sentence">Callables explicitly imported into the current file;</span></li>
<li><span class="sentence">Callables declared in the same package;</span></li>
<li><span class="sentence">Callables star-imported into the current file;</span></li>
<li><span class="sentence">Implicitly imported callables (either from the Kotlin standard library or platform-specific ones).</span></li>
</ol></li>
</ol>
<div class="paragraph">
<p><span class="sentence">Similarly to how it works for <a href="#call-with-an-explicit-receiver">calls with explicit receiver</a>, a property-like callable with an <code>invoke function</code> belongs to the <strong>lowest priority</strong> set of its parts.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">When analyzing these sets, the <strong>first</strong> set which contains <strong>any</strong> callable with the corresponding name and conforming types is picked for <a href="#c-level-partition">c-level partition</a>, which gives us the resulting overload candidate set.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">After we have fixed the overload candidate set, we search this set for the <a href="#choosing-the-most-specific-candidate-from-the-overload-candidate-set">most specific callable</a>.</span></p>
</div>
<h4 id="call-with-named-parameters">Call with named parameters</h4>
<div class="paragraph">
<p><span class="sentence">Calls in Kotlin may use named parameters in call expressions, e.g., <code>f(a = 2)</code>, where <code>a</code> is a parameter specified in the declaration of <code>f</code>. </span><span class="sentence">Such calls are treated the same way as normal calls, but the overload resolution sets are filtered to only contain callables which have matching formal parameter names for all named parameters from the call.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: this filtering is done <strong>before</strong> we perform selection of the overload candidate set w.r.t. rules for the respective type of call.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for properties called via <code>invoke</code> convention, the named parameters must be present in the declaration of the <code>invoke</code> operator function.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Unlike positional arguments, named arguments are matched by name directly to their respective formal parameters; this matching is performed separately for each function candidate.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">While the <em>number of defaults</em> does affect <a href="#choosing-the-most-specific-candidate-from-the-overload-candidate-set">resolution process</a>, the fact that some argument was or was not mapped as a named argument does not affect this process in any way.</span></p>
</div>
<h4 id="call-with-trailing-lambda-expressions">Call with trailing lambda expressions</h4>
<div class="paragraph">
<p><span class="sentence">A call expression may have a single lambda expression placed outside of the argument list or even completely replacing it (see <a href="#function-calls-and-property-access">this section</a> for further details). </span><span class="sentence">This has no effect on the overload resolution process, aside from the argument reordering which may happen because of variable length parameters or parameters with defaults.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: this means that calls <code>f(1, 2) { g() }</code> and <code>f(1, 2, body = { g() })</code> are completely equivalent w.r.t. the overload resolution, assuming <code>body</code> is the name of the last formal parameter of <code>f</code>.</span></p>
</div>
</blockquote>
<h4 id="call-with-specified-type-parameters">Call with specified type parameters</h4>
<div class="paragraph">
<p><span class="sentence">A call expression may have a type argument list explicitly specified before the argument list (see <a href="#function-calls-and-property-access">this section</a> for further details). </span><span class="sentence">Such calls are treated the same way as normal calls, but the overload resolution sets are filtered to only contain callables which contain exactly the same number of formal type parameters at declaration site. </span><span class="sentence">In case of a property-like callable with <code>invoke</code>, type parameters must be present at the <code>invoke</code> operator function declaration instead.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: this filtering is done <strong>before</strong> we perform selection of the overload candidate set w.r.t. rules for the respective type of call.</span></p>
</div>
</blockquote>
<h3 id="determining-function-applicability-for-a-specific-call">Determining function applicability for a specific call</h3>
<h4 id="rationale">Rationale</h4>
<div class="paragraph">
<p><span class="sentence">A function is <em>applicable</em> for a specific call if and only if the function parameters may be assigned the arguments values specified at the call site and all type constraints of the function type parameters hold w.r.t. supplied or <a href="#type-inference">inferred</a> type arguments.</span></p>
</div>
<h4 id="description">Description</h4>
<div class="paragraph">
<p><span class="sentence">Determining function applicability for a specific call is a <a href="#kotlin-type-constraints">type constraint</a> problem.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">First, for every non-lambda argument of the function called, type inference is performed. </span><span class="sentence">Lambda arguments are excluded, as their type inference needs the results of overload resolution to finish.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Second, the following constraint system is built:</span></p>
</div>
<ul>
<li><span class="sentence">For every non-lambda argument inferred to have type <span class="math inline">\(T_i\)</span>, corresponding to the function parameter of type <span class="math inline">\(U_j\)</span>, a constraint <span class="math inline">\(T_i &lt;: U_j\)</span> is constructed;</span></li>
<li><span class="sentence">All declaration-site type constraints for the function are also added to the constraint system;</span></li>
<li><span class="sentence">For every lambda argument with the number of lambda arguments known to be <span class="math inline">\(K\)</span>, corresponding to the function parameter of type <span class="math inline">\(U_m\)</span>, a special constraint of the form <a href="#function-types"><span class="math inline">\(\left(\operatorname{\text{FT}}(L_1, \ldots, L_K) \rightarrow R \mathbin{\operatorname{\&amp;}}\operatorname{\text{FTR}}(\operatorname{\text{RT}}, L_1, \ldots, L_n) \rightarrow R\right) &lt;: U_m\)</span></a> is added to the constraint system, where <span class="math inline">\(R, \operatorname{\text{RT}}, L_1, \ldots, L_K\)</span> are fresh type variables;</span></li>
<li><span class="sentence">For each lambda argument with an unknown number of lambda arguments (that is, being equal to 0 or 1), corresponding to the function parameter of type <span class="math inline">\(U_n\)</span>, a special constraint of the form <a href="#function-types"><span class="math inline">\(\left(\operatorname{\text{FT}}() \rightarrow R \mathbin{\operatorname{\&amp;}}\operatorname{\text{FT}}(L) \rightarrow R \mathbin{\operatorname{\&amp;}}\operatorname{\text{FTR}}(\operatorname{\text{RT}}) \rightarrow R \mathbin{\operatorname{\&amp;}}\operatorname{\text{FTR}}(\operatorname{\text{RT}}, L) \rightarrow R\right) &lt;: U_m\)</span></a> is added to the constraint system, where <span class="math inline">\(R, \operatorname{\text{RT}}, L\)</span> are fresh type variables;</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: in fact, it is an intersection of both non-suspend and suspend variants</span></p>
</div>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: taking into account the fact that <span class="math inline">\(\operatorname{\text{FT}}(L) -&gt; R &lt;: \operatorname{\text{FTR}}(L) -&gt; R &lt;: \operatorname{\text{FT}}(L) -&gt; R\)</span>, this is not entirely correct. </span><span class="sentence">Itâ€™s not that important for applicability though.</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">If this constraint system is sound, the function is applicable for the call. </span><span class="sentence">Only applicable functions are considered for the next step: <a href="#choosing-the-most-specific-candidate-from-the-overload-candidate-set">choosing the most specific candidate from the overload candidate set</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Receiver parameters are handled in the same way as other parameters in this mechanism, with one important exception: any receiver of type <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> is deemed not applicable for any member callables, regardless of other parameters. </span><span class="sentence">This is due to the fact that, as <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> is the subtype of any other type in Kotlin type system, it would have allowed <strong>all</strong> member callables of <strong>all</strong> available types to participate in the overload resolution, which is theoretically possible, but very resource-consuming and does not make much sense from the practical point of view. </span><span class="sentence">Extension callables are still available, because they are limited to the declarations available or imported in the current scope.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: although it is impossible to create a value of type <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}\)</span> directly, there may be situations where performing overload resolution on such value is necessary; for example, it may occur when doing safe navigation on values of type <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing?}}\)</span>.</span></p>
</div>
</blockquote>
<h3 id="choosing-the-most-specific-candidate-from-the-overload-candidate-set">Choosing the most specific candidate from the overload candidate set</h3>
<h4 id="rationale-1">Rationale</h4>
<div class="paragraph">
<p><span class="sentence">The main rationale for choosing the most specific candidate from the overload candidate set is the following:</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">The most specific callable can forward itself to any other callable from the overload candidate set, while the opposite is not true.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If there are several functions with this property, none of them are the most specific and an overload resolution ambiguity error should be reported by the compiler.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Consider the following example.</span></p>
</div>
<div class="sourceCode" id="cb115"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb115-1" title="1"><span class="kw">fun</span> <span class="fu">f</span><span class="op">(</span><span class="va">arg</span><span class="op">:</span> <span class="dt">Int</span>, <span class="va">arg2</span><span class="op">:</span> <span class="dt">String</span><span class="op">)</span> <span class="op">{}</span>        <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb115-2" title="2"><span class="kw">fun</span> <span class="fu">f</span><span class="op">(</span><span class="va">arg</span><span class="op">:</span> <span class="dt">Any?</span>, <span class="va">arg2</span><span class="op">:</span> <span class="dt">CharSequence</span><span class="op">)</span> <span class="op">{}</span> <span class="co">// (2)</span></a>
<a class="sourceLine" id="cb115-3" title="3">...</a>
<a class="sourceLine" id="cb115-4" title="4">f(<span class="dv">2</span>, <span class="st">&quot;Hello&quot;</span>)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Both functions (1) and (2) are applicable for the call, but function (1) could easily call function (2) by forwarding both arguments into it, and the reverse is impossible. </span><span class="sentence">As a result, function (1) is more specific of the two.</span></p>
</div>
<div class="sourceCode" id="cb116"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb116-1" title="1"><span class="kw">fun</span> <span class="fu">f1</span><span class="op">(</span><span class="va">arg</span><span class="op">:</span> <span class="dt">Int</span>, <span class="va">arg2</span><span class="op">:</span> <span class="dt">String</span><span class="op">)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb116-2" title="2">    f2(arg, arg2) <span class="co">// VALID: can forward both arguments</span></a>
<a class="sourceLine" id="cb116-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb116-4" title="4"><span class="kw">fun</span> <span class="fu">f2</span><span class="op">(</span><span class="va">arg</span><span class="op">:</span> <span class="dt">Any?</span>, <span class="va">arg2</span><span class="op">:</span> <span class="dt">CharSequence</span><span class="op">)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb116-5" title="5">    f1(arg, arg2) <span class="co">// INVALID: function f1 is not applicable</span></a>
<a class="sourceLine" id="cb116-6" title="6"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">The rest of this section will describe how the Kotlin compiler checks for this property in more detail.</span></p>
</div>
<h4 id="algorithm-of-msc-selection">Algorithm of MSC selection</h4>
<div class="paragraph">
<p><span class="sentence">When an overload resolution set <span class="math inline">\(S\)</span> is selected and it contains more than one callable, we need to choose the most specific candidate from these callables. </span><span class="sentence">The selection process uses the <a href="#kotlin-type-constraints">type constraint</a> facilities of Kotlin, in a way similar to the process of <a href="#determining-function-applicability-for-a-specific-call">determining function applicability</a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For every two distinct members of the candidate set <span class="math inline">\(F_1\)</span> and <span class="math inline">\(F_2\)</span>, the following constraint system is constructed and solved:</span></p>
</div>
<ul>
<li><span class="sentence">For every non-default argument of the call and their corresponding declaration-site parameter types <span class="math inline">\(X_1, \ldots, X_N\)</span> of <span class="math inline">\(F_1\)</span> and <span class="math inline">\(Y_1, \ldots, Y_N\)</span> of <span class="math inline">\(F_2\)</span>, a type constraint <span class="math inline">\(X_K &lt;: Y_K\)</span> is built <strong>unless both <span class="math inline">\(X_K\)</span> and <span class="math inline">\(Y_K\)</span> are <a href="#built-in-integer-types-1">built-in integer types</a>.</strong> If both <span class="math inline">\(X_K\)</span> and <span class="math inline">\(Y_K\)</span> are built-in integer types, a type constraint <span class="math inline">\(\operatorname{\text{Widen}}(X_K) &lt;: \operatorname{\text{Widen}}(Y_K)\)</span> is built instead, where <span class="math inline">\(\operatorname{\text{Widen}}\)</span> is the <a href="#integer-type-widening">integer type widening</a> operator. </span><span class="sentence">During construction of these constraints, all declaration-site type parameters <span class="math inline">\(T_1, \ldots, T_M\)</span> of <span class="math inline">\(F_1\)</span> are considered bound to fresh type variables <span class="math inline">\(T^{\sim}_1, \ldots, T^{\sim}_M\)</span>, and all type parameters of <span class="math inline">\(F_2\)</span> are considered free;</span></li>
<li><span class="sentence">If <span class="math inline">\(F_1\)</span> and <span class="math inline">\(F_2\)</span> are extension callables, their extension receivers are also considered non-default arguments of the call, even if implicit, and the corresponding constraints are added to the constraint system as stated above. </span><span class="sentence">For non-extension callables, only declaration-site parameters are considered;</span></li>
<li><span class="sentence">All declaration-site type constraints of <span class="math inline">\(X_1, \ldots, X_N\)</span> and <span class="math inline">\(Y_1, \ldots, Y_N\)</span> are also added to the constraint system.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this constraint system checks whether <span class="math inline">\(F_1\)</span> can forward itself to <span class="math inline">\(F_2\)</span>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If the resulting constraint system is sound, it means that <span class="math inline">\(F_1\)</span> is equally or more applicable than <span class="math inline">\(F_2\)</span> as an overload candidate (aka applicability criteria). </span><span class="sentence">The check is then repeated with <span class="math inline">\(F_1\)</span> and <span class="math inline">\(F_2\)</span> swapped.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This check may result in one of the following outcomes:</span></p>
</div>
<ol type="1">
<li><span class="sentence">Only one of the two candidates is more applicable than the other;</span></li>
<li><span class="sentence">Neither of the two candidates is more applicable than the other;</span></li>
<li><span class="sentence">Both <span class="math inline">\(F_1\)</span> and <span class="math inline">\(F_2\)</span> are more applicable than the other.</span></li>
</ol>
<div class="paragraph">
<p><span class="sentence">In case 1, the more applicable candidate of the two is found and no additional steps are needed.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In case 2, an additional step is taken: a non-parameterized callable is a more specific candidate than any parameterized callable. </span><span class="sentence">If this step does not allow for deciding the more specific candidate, this is an <strong>overload ambiguity</strong> which must be reported as a compile-time error.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In case 3, several additional steps are performed in order.</span></p>
</div>
<ul>
<li><span class="sentence">Any non-parameterized callable is a more specific candidate than any parameterized callable (same as case 2). </span><span class="sentence">If there are several non-parameterized candidates, further steps are limited to those candidates;</span></li>
<li><span class="sentence">For each candidate we count the number of default parameters <em>not</em> specified in the call (i.e., the number of parameters for which we use the default value). </span><span class="sentence">The candidate with the least number of non-specified default parameters is a more specific candidate;</span></li>
<li><span class="sentence">For all candidates, the candidate having any variable-argument parameters is less specific than any candidate without them.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: it may seem strange to process built-in integer types in a way different from other types, but it is needed for cases when the call argument is an integer literal with an <a href="#integer-literal-types">integer literal type</a>. </span><span class="sentence">In this particular case, several functions with different built-in integer types for the corresponding parameter may be applicable, and the <code>kotlin.Int</code> overload is selected to be the most specific.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: compiler implementations may extend these steps with additional checks, if they deem neccessary to do so.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If after these additional steps there are still several candidates which are equally applicable for the call, this is an <strong>overload ambiguity</strong> which must be reported as a compile-time error.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: unlike the applicability test, the candidate comparison constraint system is <strong>not</strong> based on the actual call, meaning that, when comparing two candidates, only constraints visible at <em>declaration site</em> apply.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If the callables in check are properties with available <code>invoke</code>, the same process is applied in two steps:</span></p>
</div>
<ul>
<li><span class="sentence">First, the properties are compared for applicability and the most applicable property is chosen as described above. </span><span class="sentence">If several properties are equally applicable, this is an overload ambiguity as usual;</span></li>
<li><span class="sentence">Second, for the property selected at first step, the most applicable operator <code>invoke</code> overload is chosen.</span></li>
</ul>
<h3 id="resolving-callable-references">Resolving callable references</h3>
<div class="paragraph">
<p><span class="sentence"><a href="#callable-references">Callable references</a> introduce a special case of overload resolution which is somewhat similar to how regular calls are resolved, but different in several important aspects.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">First, property and function references are treated equally, as both kinds of references have a type which is a subtype of a <a href="#function-types">function type</a>. </span><span class="sentence">Second, the type information needed to perform the resolution steps is acquired from <em>expected type</em> of the reference itself, rather than the types of arguments and/or result. </span><span class="sentence">The <code>invoke</code> operator convention <strong>does not</strong> apply to callable reference candidates. </span><span class="sentence">Third, and most important, is that, in the case of a call with a callable reference as a parameter, the resolution is <strong>bidirectional</strong>, meaning that both the callable being called and the callable being referenced are to be resolved <em>simultaneously</em>.</span></p>
</div>
<h4 id="resolving-callable-references-not-used-as-arguments-to-a-call">Resolving callable references not used as arguments to a call</h4>
<div class="paragraph">
<p><span class="sentence">In a simple case when the callable reference is not used as an argument to an overloaded call, its resolution is performed as follows:</span></p>
</div>
<ul>
<li><span class="sentence">For each callable reference candidate, we perform the following steps:</span>
<ul>
<li><span class="sentence">We build its type constraints and add them to the constraint system of the expression the callable reference is used in;</span></li>
<li><span class="sentence">A callable reference is deemed applicable if the constraint system is sound;</span></li>
</ul></li>
<li><span class="sentence">For all applicable candidates, the resolution sets are built according to the same rules <a href="#building-the-overload-candidate-set-ocs">as building OCS for regular calls</a>;</span></li>
<li><span class="sentence">If the highest priority set contains more than one callable, this is an overload ambiguity and should be reported as a compile-time error.</span></li>
<li><span class="sentence">Otherwise, the single callable in the set is chosen as the result of the resolution process.</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: more examples</span></p>
</div>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this is different from the overload resolution for regular calls in that no most specific candidate selection process is performed inside the sets</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: when building the OCS for a callable reference, <code>invoke</code> operator convention does not apply, and all property references are treated equally as function references, being placed in the same sets. </span><span class="sentence">For example, consider the following code:</span></p>
</div>
<div class="sourceCode" id="cb117"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb117-1" title="1"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">()</span> = <span class="dv">1</span></a>
<a class="sourceLine" id="cb117-2" title="2"><span class="kw">val</span> <span class="va">foo</span> <span class="op">=</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb117-3" title="3">...</a>
<a class="sourceLine" id="cb117-4" title="4"><span class="kw">val</span> <span class="va">y</span> <span class="op">=</span> ::foo</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">Here both function <code>foo</code> and property <code>foo</code> are valid candidates for the callable reference and are placed <em>in the same candidate set</em>, thus producing an overload ambiguity. </span><span class="sentence">It is not important whether there is a suitable <code>invoke</code> operator available for the type of property <code>foo</code>.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: consider the following two functions:</span></p>
</div>
<div class="sourceCode" id="cb118"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb118-1" title="1"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">i</span><span class="op">:</span> <span class="dt">Int</span><span class="op">):</span> <span class="dt">Int</span> = <span class="dv">2</span>         <span class="co">// (1)</span></a>
<a class="sourceLine" id="cb118-2" title="2"><span class="kw">fun</span> <span class="fu">foo</span><span class="op">(</span><span class="va">d</span><span class="op">:</span> <span class="dt">Double</span><span class="op">):</span> <span class="dt">Double</span> = <span class="fl">2.0</span> <span class="co">// (2)</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">In the following case:</span></p>
</div>
<div class="sourceCode" id="cb119"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb119-1" title="1"><span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="op">(</span><span class="dt">Int</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Int</span> <span class="op">=</span> ::foo</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">candidate (1) is picked, because (assuming <span class="math inline">\(\operatorname{CRT}\)</span> is the type of the callable reference) the constraint <span class="math inline">\(\operatorname{CRT} &lt;: \operatorname{\text{FT}}(\operatorname{\texttt{kotlin.Int}}) \rightarrow \operatorname{\texttt{kotlin.Int}}\)</span> is built and only candidate (1) is applicable w.r.t. this constraint.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In another case:</span></p>
</div>
<div class="sourceCode" id="cb120"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb120-1" title="1"><span class="kw">fun</span> <span class="fu">bar</span><span class="op">(</span><span class="va">f</span><span class="op">:</span> <span class="op">(</span><span class="dt">Double</span><span class="op">)</span> <span class="op">-&gt;</span> <span class="dt">Double</span><span class="op">)</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb120-2" title="2"></a>
<a class="sourceLine" id="cb120-3" title="3">bar(::foo)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">candidate (2) is picked, because (assuming <span class="math inline">\(\operatorname{CRT}\)</span> is the type of the callable reference) the constraint <span class="math inline">\(\operatorname{CRT} &lt;: \operatorname{\text{FT}}(\operatorname{\texttt{kotlin.Double}}) \rightarrow \operatorname{\texttt{kotlin.Double}}\)</span> is built and only candidate (2) is applicable w.r.t. this constraint.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Please note that no bidirectional resolution is performed here as there is only one candidate for <code>bar</code>. </span><span class="sentence">If there were more than one candidate, the <a href="#bidirectional-resolution-for-callable-calls">bidirectional resolution process</a> would apply, possibly resulting in an overload resolution failure.</span></p>
</div>
</blockquote>
<h4 id="bidirectional-resolution-for-callable-calls">Bidirectional resolution for callable calls</h4>
<div class="paragraph">
<p><span class="sentence">If a callable reference (or several callable references) is itself an argument to an overloaded function call, the resolution process is performed for both callables <em>simultaneously</em>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Assume we have a call <code>f(::g, b, c)</code>.</span></p>
</div>
<ol type="1">
<li><span class="sentence">For each overload candidate <code>f</code>, a separate overload resolution process is completed as described in other parts of this section, up to the point of picking the most specific candidate. </span><span class="sentence">During this process, the only constraint for the callable reference <code>::g</code> is that it is an argument of a <a href="#function-types">function type</a>;</span></li>
<li><span class="sentence">For the most specific candidate <code>f</code> found during the previous step, the overload resolution process for <code>::g</code> is performed as described <a href="#resolving-callable-references-not-used-as-arguments-to-a-call">here</a> and the most specific candidate for <code>::g</code> is selected.</span></li>
</ol>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this may result in selecting the most specific candidate for <code>f</code> which has no available candidates for <code>::g</code>, meaning the bidirectional resolution process fails when resolving <code>::g</code>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">When performing bidirectional resolution for calls with multiple callable reference arguments, the algorithm is exactly the same, with each callable reference resolved separately in step 2. </span><span class="sentence">This ensures the overload resolution process for every callable being called is performed only once.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Examples)</span></p>
</div>
</div>
<h3 id="type-inference-and-overload-resolution">Type inference and overload resolution</h3>
<div class="paragraph">
<p><span class="sentence"><a href="#type-inference">Type inference</a> in Kotlin is a very complicated process, and it is performed <em>after</em> overload resolution is done; meaning type inference may not affect the way overload resolution candidate is picked in any way.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: if we had allowed interdependence between type inference and overload resolution, we would have been able to create an infinitely oscillating behavior, leading to an infinite compilation.</span></p>
</div>
</blockquote>
<h3 id="conflicting-overloads">Conflicting overloads</h3>
<div class="paragraph">
<p><span class="sentence">In cases when it is known two callables are definitely interlinked in overload resolution (e.g., two member function-like callables declared in the same classifier), meaning they will always be considered together for overload resolution, Kotlin compiler performs <em>conflicting overload</em> detection for such callables.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Two callables <code>f</code> and <code>g</code> are <em>definitely interlinked</em> in overload resolution, if the following are true.</span></p>
</div>
<ul>
<li><span class="sentence"><code>f</code> is not <a href="#overriding">overriding</a> <code>g</code> (and vice versa);</span></li>
<li><span class="sentence"><code>f</code> and <code>g</code> belong to the same level of <a href="#c-level-partition">c-level partition</a>;</span></li>
<li><span class="sentence"><code>f</code> and <code>g</code> are declared in the same <a href="#scopes-and-identifiers">scope</a>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Different platform implementations may extend which callables are considered as definitely interlinked.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Two definitely interlinked callables <code>f</code> and <code>g</code> may create a <em>overload conflict</em>, if they could result in an overload ambiguity on most regular call sites.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Add justification for what is â€œmostâ€ and what is â€œregularâ€)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">To check whether such situation is possible, we compare <code>f</code> and <code>g</code> w.r.t. their <a href="#algorithm-of-msc-selection">applicability</a> for a phantom call site with a fully specified argument list (i.e., with no used default arguments). </span><span class="sentence">If both <code>f</code> and <code>g</code> are equally or more specific to each other and neither of them is selected by the <a href="#algorithm-of-msc-selection">additional steps</a> of MSC selection, we have an overload conflict.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Different platform implementations may extend which callables are considered as conflicting overloads.</span></p>
</div>
<h2 id="control--and-data-flow-analysis">Control- and data-flow analysis</h2>
<div class="paragraph">
<p><span class="sentence">Several Kotlin features such as <a href="#variable-initialization-analysis">variable initialization analysis</a> and <a href="#smart-casting-analysis">smart casting analysis</a> require performing control- and data-flow analyses. </span><span class="sentence">This section describes them and their applications.</span></p>
</div>
<h3 id="control-flow-graph">Control flow graph</h3>
<div class="paragraph">
<p><span class="sentence">We define all control-flow analyses for Kotlin on a classic model called a control-flow graph (CFG). </span><span class="sentence">A CFG of a program is a graph which loosely defines all feasible paths the flow of a particular program can take during execution. </span><span class="sentence">All CFGs given in this section are <em>intraprocedural</em>, meaning that they describe the flow inside a <em>single</em> function, not taking function calls into account. </span><span class="sentence">CFG may, however, include multiple function bodies if said functions are <em>declared</em> inside each other (as is the case for <a href="#lambda-literals">lambdas</a>).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The following sections describe CFG <em>fragments</em> associated with a particular Kotlin code construct. </span><span class="sentence">These fragments are introduced using visual notation rather than relational notation to simplify the understanding of the graph structure. </span><span class="sentence">To represent intermediate values created during computation, we use <em>implicit registers</em>, denoted <code>$1</code>, <code>$2</code>, <code>$3</code>, etc. These are considered to be unique in each CFG fragment (assigning the same register twice in the same CFG may only occur in unrelated program paths) and in the complete CFG, too. </span><span class="sentence">The numbers given are only notational.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">We introduce special <code>eval</code> nodes, represented in <em>dashed lines</em>, to connect CFG fragments into bigger fragments. </span><span class="sentence"><code>eval x</code> here means that this node must be replaced with the whole CFG fragment associated with <code>x</code>. </span><span class="sentence">When this replacement is performed, the value produced by <code>eval</code> is the same value that the meta-register <code>$result</code> holds in the corresponding fragment. </span><span class="sentence">All incoming edges of a fragment are connected to the incoming edges of the <code>eval</code> node, while all outgoing edges of a fragment are connected to the outgoing edges of the <code>eval</code> node. </span><span class="sentence">It is important, however, that, if such edges are absent either in the fragment or in the <code>eval</code> node, they (edges) are removed from the CFG.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">We also use the <code>eval b</code> notation where <code>b</code> is not a single statement, but rather a <a href="#code-blocks">control structure body</a>. </span><span class="sentence">The fragment for a control structure body is the sequence of fragments for its statements, connected in the program order.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Some of the fragments have two kinds of outgoing edges, labeled <code>t</code> and <code>f</code> on the pictures. </span><span class="sentence">In a similar fashion, some <code>eval</code> nodes have two outgoing edges with the same labels. </span><span class="sentence">If such a fragment is inserted into such a node, only edges with matching labels are merged into each other. </span><span class="sentence">If either the fragment or the node have only unlabeled outgoing edges, the process is performed same as above.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For some types of analyses, it is important which boolean conditions hold on a control flow path. </span><span class="sentence">We use special <code>assume</code> nodes to introduce these conditions. </span><span class="sentence"><code>assume x</code> means that boolean condition <code>x</code> is always <code>true</code> when program flow passes through this particular node.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Some nodes are <em>labeled</em>, similarly to how statements may be labeled in Kotlin. </span><span class="sentence">Labeled nodes are considered CFG-unique and are handled as follows: if a fragment mentions a particular labeled node, this node is the same as any other node with this label in the complete CFG (i.e., a singular actual node is shared between all its labeled references). </span><span class="sentence">This is important when building graphs representing loops.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">There are two other special kinds of nodes: <code>unreachable</code> nodes, signifying unreachable code, and <code>backedge</code> nodes, important for some kinds of analyses.</span></p>
</div>
<h4 id="expressions-1">Expressions</h4>
<div class="paragraph">
<p><span class="sentence">Simple expressions, like literals and references, do not affect the control-flow of the program in any way and are irrelevant w.r.t. CFG.</span></p>
</div>
<h5 id="function-calls-and-operators">Function calls and operators</h5>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: we do not consider <a href="#operator-overloading">operator calls</a> as being different from function calls, as they are just special types of function calls. </span><span class="sentence">Henceforth, they are not treated separately.</span></p>
</div>
</blockquote>
<div class="sourceCode" id="cb121"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb121-1" title="1">x.f(arg1,..., argN)</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="176" height="176" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="97.5" y1="37.5" x2="367.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="97.5" y1="97.5" x2="367.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="142.5" x2="397.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="202.5" x2="397.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="292.5" x2="397.5" y2="292.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="352.5" x2="397.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="397.5" x2="487.5" y2="397.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="457.5" x2="487.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="7.5" x2="232.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 37.5 L 227.5 22.5 L 237.5 22.5 Z "/></g><line x1="97.5" y1="37.5" x2="97.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="37.5" x2="367.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="97.5" x2="232.5" y2="135" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 142.5 L 227.5 127.5 L 237.5 127.5 Z "/></g><line x1="82.5" y1="142.5" x2="82.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="142.5" x2="397.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="202.5" x2="232.5" y2="225" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 232.5 L 227.5 217.5 L 237.5 217.5 Z "/></g><line x1="232.5" y1="262.5" x2="232.5" y2="285" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 292.5 L 227.5 277.5 L 237.5 277.5 Z "/></g><line x1="82.5" y1="292.5" x2="82.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="292.5" x2="397.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="352.5" x2="232.5" y2="390" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 397.5 L 227.5 382.5 L 237.5 382.5 Z "/></g><line x1="7.5" y1="397.5" x2="7.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="397.5" x2="487.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="457.5" x2="232.5" y2="480" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 487.5 L 227.5 472.5 L 237.5 472.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="158.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval x</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="137.5" y="180.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval arg1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="212.5" y="255.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >...</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="137.5" y="330.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$N = eval argN</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="78.5" y="435.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $2.f($1,...,$N)</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb122"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb122-1" title="1">f(arg1,..., argN)</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="160" height="139" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="67.5" y1="37.5" x2="382.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="67.5" y1="97.5" x2="382.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="67.5" y1="187.5" x2="382.5" y2="187.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="67.5" y1="247.5" x2="382.5" y2="247.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="292.5" x2="442.5" y2="292.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="352.5" x2="442.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="7.5" x2="217.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 37.5 L 212.5 22.5 L 222.5 22.5 Z "/></g><line x1="67.5" y1="37.5" x2="67.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="37.5" x2="382.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="97.5" x2="217.5" y2="120" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 127.5 L 212.5 112.5 L 222.5 112.5 Z "/></g><line x1="217.5" y1="157.5" x2="217.5" y2="180" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 187.5 L 212.5 172.5 L 222.5 172.5 Z "/></g><line x1="67.5" y1="187.5" x2="67.5" y2="247.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="187.5" x2="382.5" y2="247.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="247.5" x2="217.5" y2="285" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 292.5 L 212.5 277.5 L 222.5 277.5 Z "/></g><line x1="7.5" y1="292.5" x2="7.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="292.5" x2="442.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="352.5" x2="217.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 382.5 L 212.5 367.5 L 222.5 367.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="122.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval arg1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="197.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >...</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="122.5" y="225.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$N = eval argN</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="68.5" y="330.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = f($1,...,$N)</text></g></svg>
' />
</div>
<h5 id="conditional-expressions">Conditional expressions</h5>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: to simplify the notation, we consider only <code>if</code>-expressions with both branches present. </span><span class="sentence">Any <code>if</code>-statement in Kotlin may be trivially turned into such an expression by replacing the missing <code>else</code> branch with a <code>kotlin.Unit</code> object expression.</span></p>
</div>
</blockquote>
<div class="sourceCode" id="cb123"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb123-1" title="1"><span class="cf">if</span>(c) tt <span class="cf">else</span> ff</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="213" height="171" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="157.5" y1="37.5" x2="427.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="97.5" x2="427.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="127.5" x2="247.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="127.5" x2="457.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="22.5" y1="157.5" x2="262.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="157.5" x2="592.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="22.5" y1="217.5" x2="262.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="217.5" x2="592.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="262.5" x2="277.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="262.5" x2="592.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="322.5" x2="277.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="322.5" x2="592.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="352.5" x2="262.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="352.5" x2="457.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="382.5" x2="442.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="442.5" x2="442.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="292.5" y1="7.5" x2="292.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 292.5 37.5 L 287.5 22.5 L 297.5 22.5 Z "/></g><line x1="157.5" y1="37.5" x2="157.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="37.5" x2="427.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="97.5" x2="247.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="97.5" x2="337.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="127.5" x2="142.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 157.5 L 137.5 142.5 L 147.5 142.5 Z "/></g><line x1="457.5" y1="127.5" x2="457.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 157.5 L 452.5 142.5 L 462.5 142.5 Z "/></g><line x1="22.5" y1="157.5" x2="22.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="157.5" x2="262.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="157.5" x2="337.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="157.5" x2="592.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="217.5" x2="142.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 262.5 L 137.5 247.5 L 147.5 247.5 Z "/></g><line x1="457.5" y1="217.5" x2="457.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 262.5 L 452.5 247.5 L 462.5 247.5 Z "/></g><line x1="7.5" y1="262.5" x2="7.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="262.5" x2="277.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="262.5" x2="322.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="262.5" x2="592.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="322.5" x2="142.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="322.5" x2="457.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="352.5" x2="262.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 262.5 382.5 L 257.5 367.5 L 267.5 367.5 Z "/></g><line x1="337.5" y1="352.5" x2="337.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 337.5 382.5 L 332.5 367.5 L 342.5 367.5 Z "/></g><line x1="157.5" y1="382.5" x2="157.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="382.5" x2="442.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="442.5" x2="307.5" y2="465" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 307.5 472.5 L 302.5 457.5 L 312.5 457.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="218.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval c</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="195.5" y="120.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="375.5" y="120.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="81.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="390.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="61.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval tt</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="376.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval ff</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="211.5" y="420.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $2</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb124"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb124-1" title="1"><span class="cf">when</span> <span class="op">{</span> </a>
<a class="sourceLine" id="cb124-2" title="2">    c1 -&gt; b1</a>
<a class="sourceLine" id="cb124-3" title="3">    <span class="cf">else</span> -&gt; bE</a>
<a class="sourceLine" id="cb124-4" title="4"><span class="op">}</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="223" height="171" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="157.5" y1="37.5" x2="442.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="97.5" x2="442.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="127.5" x2="262.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="127.5" x2="472.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="22.5" y1="157.5" x2="262.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="157.5" x2="607.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="22.5" y1="217.5" x2="262.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="217.5" x2="607.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="262.5" x2="292.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="262.5" x2="622.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="322.5" x2="292.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="322.5" x2="622.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="352.5" x2="262.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="352.5" x2="457.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="382.5" x2="457.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="442.5" x2="457.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="7.5" x2="307.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 307.5 37.5 L 302.5 22.5 L 312.5 22.5 Z "/></g><line x1="157.5" y1="37.5" x2="157.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="37.5" x2="442.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="97.5" x2="262.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="97.5" x2="352.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="127.5" x2="142.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 157.5 L 137.5 142.5 L 147.5 142.5 Z "/></g><line x1="472.5" y1="127.5" x2="472.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 472.5 157.5 L 467.5 142.5 L 477.5 142.5 Z "/></g><line x1="22.5" y1="157.5" x2="22.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="157.5" x2="262.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="157.5" x2="352.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="607.5" y1="157.5" x2="607.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="217.5" x2="142.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 262.5 L 137.5 247.5 L 147.5 247.5 Z "/></g><line x1="472.5" y1="217.5" x2="472.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 472.5 262.5 L 467.5 247.5 L 477.5 247.5 Z "/></g><line x1="7.5" y1="262.5" x2="7.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="292.5" y1="262.5" x2="292.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="262.5" x2="337.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="622.5" y1="262.5" x2="622.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="322.5" x2="142.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="322.5" x2="457.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="352.5" x2="262.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 262.5 382.5 L 257.5 367.5 L 267.5 367.5 Z "/></g><line x1="352.5" y1="352.5" x2="352.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 352.5 382.5 L 347.5 367.5 L 357.5 367.5 Z "/></g><line x1="172.5" y1="382.5" x2="172.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="382.5" x2="457.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="442.5" x2="307.5" y2="465" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 307.5 472.5 L 302.5 457.5 L 312.5 457.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="211.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval c1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="210.5" y="120.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="390.5" y="120.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="81.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="405.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="61.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval b1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="391.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval bE</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="226.5" y="420.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $2</text></g></svg>
' />
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: we only consider <code>when</code> expressions having exactly two branches for simplicity. </span><span class="sentence">A <code>when</code> expression with more than two branches may be trivially desugared into a series of nested when expression as follows:</span></p>
</div>
<div class="sourceCode" id="cb125"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb125-1" title="1"><span class="cf">when</span> <span class="op">{</span> </a>
<a class="sourceLine" id="cb125-2" title="2">    &lt;entry1&gt;</a>
<a class="sourceLine" id="cb125-3" title="3">    &lt;entries...&gt;</a>
<a class="sourceLine" id="cb125-4" title="4">    <span class="cf">else</span> -&gt; bE</a>
<a class="sourceLine" id="cb125-5" title="5"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">is the same as</span></p>
</div>
<div class="sourceCode" id="cb126"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb126-1" title="1"><span class="cf">when</span> <span class="op">{</span> </a>
<a class="sourceLine" id="cb126-2" title="2">    &lt;entry1&gt;</a>
<a class="sourceLine" id="cb126-3" title="3">    <span class="cf">else</span> -&gt; <span class="op">{</span></a>
<a class="sourceLine" id="cb126-4" title="4">        <span class="cf">when</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb126-5" title="5">            &lt;entries...&gt;</a>
<a class="sourceLine" id="cb126-6" title="6">            <span class="cf">else</span> -&gt; bE</a>
<a class="sourceLine" id="cb126-7" title="7">        <span class="op">}</span></a>
<a class="sourceLine" id="cb126-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb126-9" title="9"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h5 id="boolean-operators">Boolean operators</h5>
<div class="sourceCode" id="cb127"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb127-1" title="1">!x</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="265" height="134" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="232.5" y1="37.5" x2="502.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="97.5" x2="502.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="127.5" x2="322.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="127.5" x2="592.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="52.5" y1="172.5" x2="292.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="172.5" x2="712.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="52.5" y1="232.5" x2="292.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="232.5" x2="712.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="277.5" x2="337.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="277.5" x2="742.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="337.5" x2="337.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="337.5" x2="742.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="7.5" x2="367.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 367.5 37.5 L 362.5 22.5 L 372.5 22.5 Z "/></g><line x1="232.5" y1="37.5" x2="232.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="37.5" x2="502.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="97.5" x2="322.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="97.5" x2="412.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="127.5" x2="172.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 172.5 172.5 L 167.5 157.5 L 177.5 157.5 Z "/></g><line x1="592.5" y1="127.5" x2="592.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 592.5 172.5 L 587.5 157.5 L 597.5 157.5 Z "/></g><line x1="52.5" y1="172.5" x2="52.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="292.5" y1="172.5" x2="292.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="172.5" x2="457.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="712.5" y1="172.5" x2="712.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="232.5" x2="172.5" y2="270" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 172.5 277.5 L 167.5 262.5 L 177.5 262.5 Z "/></g><line x1="592.5" y1="232.5" x2="592.5" y2="270" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 592.5 277.5 L 587.5 262.5 L 597.5 262.5 Z "/></g><line x1="7.5" y1="277.5" x2="7.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="277.5" x2="337.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="277.5" x2="427.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="277.5" x2="742.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="337.5" x2="172.5" y2="360" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 172.5 367.5 L 167.5 352.5 L 177.5 352.5 Z "/></g><line x1="592.5" y1="337.5" x2="592.5" y2="360" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 592.5 367.5 L 587.5 352.5 L 597.5 352.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="293.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval x</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="120.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="630.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="111.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="510.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="71.5" y="315.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = false</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="482.5" y="315.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = true</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="120.5" y="360.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="630.5" y="360.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb128"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb128-1" title="1">x || y</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="307" height="223" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="232.5" y1="37.5" x2="502.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="97.5" x2="502.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="127.5" x2="322.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="127.5" x2="532.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="37.5" y1="172.5" x2="277.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="172.5" x2="652.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="37.5" y1="232.5" x2="277.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="232.5" x2="652.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="277.5" x2="667.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="337.5" x2="667.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="367.5" x2="487.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="367.5" x2="697.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="412.5" x2="502.5" y2="412.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="562.5" y1="412.5" x2="817.5" y2="412.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="472.5" x2="502.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="562.5" y1="472.5" x2="817.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="502.5" x2="382.5" y2="502.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="532.5" x2="322.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="532.5" x2="862.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="592.5" x2="322.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="592.5" x2="862.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="7.5" x2="367.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 367.5 37.5 L 362.5 22.5 L 372.5 22.5 Z "/></g><line x1="232.5" y1="37.5" x2="232.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="37.5" x2="502.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="97.5" x2="322.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="97.5" x2="412.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="127.5" x2="157.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 157.5 172.5 L 152.5 157.5 L 162.5 157.5 Z "/></g><line x1="532.5" y1="127.5" x2="532.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 172.5 L 527.5 157.5 L 537.5 157.5 Z "/></g><line x1="37.5" y1="172.5" x2="37.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="172.5" x2="277.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="172.5" x2="397.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="652.5" y1="172.5" x2="652.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="232.5" x2="157.5" y2="525" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 157.5 532.5 L 152.5 517.5 L 162.5 517.5 Z "/></g><line x1="532.5" y1="232.5" x2="532.5" y2="270" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 277.5 L 527.5 262.5 L 537.5 262.5 Z "/></g><line x1="397.5" y1="277.5" x2="397.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="667.5" y1="277.5" x2="667.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="337.5" x2="487.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="337.5" x2="577.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="367.5" x2="382.5" y2="405" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 382.5 412.5 L 377.5 397.5 L 387.5 397.5 Z "/></g><line x1="697.5" y1="367.5" x2="697.5" y2="405" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 697.5 412.5 L 692.5 397.5 L 702.5 397.5 Z "/></g><line x1="262.5" y1="412.5" x2="262.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="412.5" x2="502.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="562.5" y1="412.5" x2="562.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="817.5" y1="412.5" x2="817.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="472.5" x2="382.5" y2="502.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="697.5" y1="472.5" x2="697.5" y2="525" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 697.5 532.5 L 692.5 517.5 L 702.5 517.5 Z "/></g><line x1="217.5" y1="502.5" x2="217.5" y2="525" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 532.5 L 212.5 517.5 L 222.5 517.5 Z "/></g><line x1="7.5" y1="532.5" x2="7.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="532.5" x2="322.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="532.5" x2="532.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="862.5" y1="532.5" x2="862.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="592.5" x2="157.5" y2="615" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 157.5 622.5 L 152.5 607.5 L 162.5 607.5 Z "/></g><line x1="697.5" y1="592.5" x2="697.5" y2="615" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 697.5 622.5 L 692.5 607.5 L 702.5 607.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="293.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval x</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="105.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="570.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="96.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="450.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="458.5" y="315.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval y</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="330.5" y="390.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="735.5" y="390.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="321.5" y="450.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="615.5" y="450.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="62.5" y="570.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = true</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="596.5" y="570.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = false</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="105.5" y="615.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="735.5" y="615.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb129"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb129-1" title="1">x &amp;&amp; y</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="276" height="223" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="337.5" y1="37.5" x2="607.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="97.5" x2="607.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="127.5" x2="427.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="127.5" x2="652.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="172.5" x2="442.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="172.5" x2="772.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="232.5" x2="442.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="232.5" x2="772.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="277.5" x2="457.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="337.5" x2="457.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="367.5" x2="277.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="367.5" x2="472.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="52.5" y1="412.5" x2="292.5" y2="412.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="412.5" x2="592.5" y2="412.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="52.5" y1="472.5" x2="292.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="472.5" x2="592.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="532.5" x2="322.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="532.5" x2="727.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="592.5" x2="322.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="592.5" x2="727.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="7.5" x2="472.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 472.5 37.5 L 467.5 22.5 L 477.5 22.5 Z "/></g><line x1="337.5" y1="37.5" x2="337.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="607.5" y1="37.5" x2="607.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="97.5" x2="427.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="97.5" x2="517.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="127.5" x2="322.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 322.5 172.5 L 317.5 157.5 L 327.5 157.5 Z "/></g><line x1="652.5" y1="127.5" x2="652.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 652.5 172.5 L 647.5 157.5 L 657.5 157.5 Z "/></g><line x1="202.5" y1="172.5" x2="202.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="172.5" x2="442.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="172.5" x2="517.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="772.5" y1="172.5" x2="772.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="232.5" x2="322.5" y2="270" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 322.5 277.5 L 317.5 262.5 L 327.5 262.5 Z "/></g><line x1="652.5" y1="232.5" x2="652.5" y2="525" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 652.5 532.5 L 647.5 517.5 L 657.5 517.5 Z "/></g><line x1="187.5" y1="277.5" x2="187.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="277.5" x2="457.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="337.5" x2="277.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="337.5" x2="367.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="367.5" x2="172.5" y2="405" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 172.5 412.5 L 167.5 397.5 L 177.5 397.5 Z "/></g><line x1="472.5" y1="367.5" x2="472.5" y2="405" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 472.5 412.5 L 467.5 397.5 L 477.5 397.5 Z "/></g><line x1="52.5" y1="412.5" x2="52.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="292.5" y1="412.5" x2="292.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="412.5" x2="352.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="412.5" x2="592.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="472.5" x2="172.5" y2="525" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 172.5 532.5 L 167.5 517.5 L 177.5 517.5 Z "/></g><line x1="472.5" y1="472.5" x2="472.5" y2="525" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 472.5 532.5 L 467.5 517.5 L 477.5 517.5 Z "/></g><line x1="7.5" y1="532.5" x2="7.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="532.5" x2="322.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="532.5" x2="397.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="727.5" y1="532.5" x2="727.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="592.5" x2="172.5" y2="615" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 172.5 622.5 L 167.5 607.5 L 177.5 607.5 Z "/></g><line x1="562.5" y1="592.5" x2="562.5" y2="615" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 562.5 622.5 L 557.5 607.5 L 567.5 607.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="398.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval x</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="270.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="690.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="261.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="570.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="248.5" y="315.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval y</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="120.5" y="390.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="510.5" y="390.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="111.5" y="450.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="405.5" y="450.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="62.5" y="570.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = true</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="461.5" y="570.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = false</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="120.5" y="615.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="600.5" y="615.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g></svg>
' />
</div>
<h5 id="other-expressions">Other expressions</h5>
<div class="sourceCode" id="cb130"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb130-1" title="1">x ?: y</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="313" height="208" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="307.5" y1="37.5" x2="577.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="97.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="127.5" x2="682.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="157.5" x2="412.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="877.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="217.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="217.5" x2="877.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="262.5" x2="352.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="262.5" x2="787.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="322.5" x2="352.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="322.5" x2="787.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="112.5" y1="367.5" x2="322.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="112.5" y1="427.5" x2="322.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="457.5" x2="682.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="487.5" x2="412.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="547.5" x2="412.5" y2="547.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="7.5" x2="442.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 442.5 37.5 L 437.5 22.5 L 447.5 22.5 Z "/></g><line x1="307.5" y1="37.5" x2="307.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="37.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="97.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="97.5" x2="487.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="217.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 157.5 L 212.5 142.5 L 222.5 142.5 Z "/></g><line x1="682.5" y1="127.5" x2="682.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 682.5 157.5 L 677.5 142.5 L 687.5 142.5 Z "/></g><line x1="7.5" y1="157.5" x2="7.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="157.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="472.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="877.5" y1="157.5" x2="877.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="217.5" x2="217.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 262.5 L 212.5 247.5 L 222.5 247.5 Z "/></g><line x1="682.5" y1="217.5" x2="682.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 682.5 262.5 L 677.5 247.5 L 687.5 247.5 Z "/></g><line x1="82.5" y1="262.5" x2="82.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="262.5" x2="352.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="262.5" x2="577.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="262.5" x2="787.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="322.5" x2="217.5" y2="360" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 367.5 L 212.5 352.5 L 222.5 352.5 Z "/></g><line x1="682.5" y1="322.5" x2="682.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="112.5" y1="367.5" x2="112.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="367.5" x2="322.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="427.5" x2="217.5" y2="480" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 487.5 L 212.5 472.5 L 222.5 472.5 Z "/></g><line x1="322.5" y1="457.5" x2="322.5" y2="480" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 322.5 487.5 L 317.5 472.5 L 327.5 472.5 Z "/></g><line x1="127.5" y1="487.5" x2="127.5" y2="547.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="487.5" x2="412.5" y2="547.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="547.5" x2="262.5" y2="570" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 262.5 577.5 L 257.5 562.5 L 267.5 562.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="368.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval x</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="67.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 === null)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="532.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 !== null)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="143.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = eval y</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="635.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$3 = $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="170.5" y="405.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$3 = $2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="181.5" y="525.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $3</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb131"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb131-1" title="1">x?.y</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="313" height="171" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="307.5" y1="37.5" x2="577.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="97.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="127.5" x2="682.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="157.5" x2="412.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="877.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="217.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="217.5" x2="877.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="112.5" y1="262.5" x2="322.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="562.5" y1="262.5" x2="802.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="112.5" y1="322.5" x2="322.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="562.5" y1="322.5" x2="802.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="352.5" x2="682.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="382.5" x2="412.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="442.5" x2="412.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="7.5" x2="442.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 442.5 37.5 L 437.5 22.5 L 447.5 22.5 Z "/></g><line x1="307.5" y1="37.5" x2="307.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="37.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="97.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="97.5" x2="487.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="217.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 157.5 L 212.5 142.5 L 222.5 142.5 Z "/></g><line x1="682.5" y1="127.5" x2="682.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 682.5 157.5 L 677.5 142.5 L 687.5 142.5 Z "/></g><line x1="7.5" y1="157.5" x2="7.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="157.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="472.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="877.5" y1="157.5" x2="877.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="217.5" x2="217.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 262.5 L 212.5 247.5 L 222.5 247.5 Z "/></g><line x1="682.5" y1="217.5" x2="682.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 682.5 262.5 L 677.5 247.5 L 687.5 247.5 Z "/></g><line x1="112.5" y1="262.5" x2="112.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="262.5" x2="322.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="562.5" y1="262.5" x2="562.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="802.5" y1="262.5" x2="802.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="307.5" x2="322.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="322.5" x2="217.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 382.5 L 212.5 367.5 L 222.5 367.5 Z "/></g><line x1="682.5" y1="322.5" x2="682.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="352.5" x2="322.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 322.5 382.5 L 317.5 367.5 L 327.5 367.5 Z "/></g><line x1="127.5" y1="382.5" x2="127.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="382.5" x2="412.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="442.5" x2="262.5" y2="465" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 262.5 472.5 L 257.5 457.5 L 267.5 457.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="368.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval x</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="67.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 === null)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="532.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 !== null)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="173.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$3 = null |</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="621.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$3 = $1.y</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="181.5" y="420.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $3</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb132"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb132-1" title="1"><span class="cf">try</span> <span class="op">{</span> a... <span class="op">}</span></a>
<a class="sourceLine" id="cb132-2" title="2"><span class="cf">catch</span> (e1: T1) <span class="op">{</span> b1... <span class="op">}</span></a>
<a class="sourceLine" id="cb132-3" title="3">...</a>
<a class="sourceLine" id="cb132-4" title="4"><span class="cf">catch</span> (eN: TN) <span class="op">{</span> bN... <span class="op">}</span></a>
<a class="sourceLine" id="cb132-5" title="5"><span class="cf">finally</span> <span class="op">{</span> c... <span class="op">}</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="444" height="129" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="37.5" x2="277.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="37.5" x2="637.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="37.5" x2="1072.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="97.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="97.5" x2="637.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="97.5" x2="1072.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="127.5" x2="412.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="127.5" x2="922.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="157.5" x2="637.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="217.5" x2="637.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="262.5" x2="607.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1027.5" y1="262.5" x2="1252.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="322.5" x2="607.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1027.5" y1="322.5" x2="1252.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="7.5" x2="142.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 37.5 L 137.5 22.5 L 147.5 22.5 Z "/></g><line x1="502.5" y1="7.5" x2="502.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 502.5 37.5 L 497.5 22.5 L 507.5 22.5 Z "/></g><line x1="922.5" y1="7.5" x2="922.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 922.5 37.5 L 917.5 22.5 L 927.5 22.5 Z "/></g><line x1="1147.5" y1="7.5" x2="1147.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 1147.5 262.5 L 1142.5 247.5 L 1152.5 247.5 Z "/></g><line x1="7.5" y1="37.5" x2="7.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="37.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="37.5" x2="352.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="37.5" x2="637.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="37.5" x2="787.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1072.5" y1="37.5" x2="1072.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="97.5" x2="142.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="97.5" x2="502.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 502.5 157.5 L 497.5 142.5 L 507.5 142.5 Z "/></g><line x1="922.5" y1="97.5" x2="922.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="127.5" x2="412.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 412.5 157.5 L 407.5 142.5 L 417.5 142.5 Z "/></g><line x1="577.5" y1="127.5" x2="577.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 577.5 157.5 L 572.5 142.5 L 582.5 142.5 Z "/></g><line x1="352.5" y1="157.5" x2="352.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="157.5" x2="637.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="217.5" x2="502.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 502.5 262.5 L 497.5 247.5 L 507.5 247.5 Z "/></g><line x1="382.5" y1="262.5" x2="382.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1027.5" y1="262.5" x2="1027.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="607.5" y1="292.5" x2="607.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1252.5" y1="292.5" x2="1252.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="322.5" x2="502.5" y2="345" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 502.5 352.5 L 497.5 337.5 L 507.5 337.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="68.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval a</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="406.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval b1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="692.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >...</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="841.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval bN</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="406.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="543.5" y="285.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >(2) :</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="1188.5" y="285.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >(1) :</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="432.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval c</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="1077.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval c</text></g></svg>
' />
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: in this diagram we consider <code>finally</code> block <em>twice</em>. </span><span class="sentence">The (1) block is used when handling the <code>finally</code> block and its body. </span><span class="sentence">The (2) block is used when considering the <code>finally</code> block w.r.t. rest of the CFG.</span></p>
</div>
</blockquote>
<div class="sourceCode" id="cb133"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb133-1" title="1">a!!</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="265" height="129" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="307.5" y1="37.5" x2="577.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="97.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="127.5" x2="607.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="157.5" x2="412.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="742.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="217.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="217.5" x2="742.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="262.5" x2="367.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="322.5" x2="367.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="7.5" x2="442.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 442.5 37.5 L 437.5 22.5 L 447.5 22.5 Z "/></g><line x1="307.5" y1="37.5" x2="307.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="37.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="97.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="97.5" x2="487.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="217.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 157.5 L 212.5 142.5 L 222.5 142.5 Z "/></g><line x1="607.5" y1="127.5" x2="607.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 607.5 157.5 L 602.5 142.5 L 612.5 142.5 Z "/></g><line x1="7.5" y1="157.5" x2="7.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="157.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="472.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="157.5" x2="742.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="217.5" x2="217.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 262.5 L 212.5 247.5 L 222.5 247.5 Z "/></g><line x1="82.5" y1="262.5" x2="82.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="262.5" x2="367.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="322.5" x2="217.5" y2="345" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 352.5 L 212.5 337.5 L 222.5 337.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="368.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval a</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="67.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 !== null)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="533.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >unreachable</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="136.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $1</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb134"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb134-1" title="1">a <span class="kw">as</span> T</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="265" height="129" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="307.5" y1="37.5" x2="577.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="97.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="127.5" x2="607.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="157.5" x2="412.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="742.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="217.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="217.5" x2="742.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="262.5" x2="367.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="322.5" x2="367.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="7.5" x2="442.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 442.5 37.5 L 437.5 22.5 L 447.5 22.5 Z "/></g><line x1="307.5" y1="37.5" x2="307.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="37.5" x2="577.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="97.5" x2="397.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="97.5" x2="487.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="127.5" x2="217.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 157.5 L 212.5 142.5 L 222.5 142.5 Z "/></g><line x1="607.5" y1="127.5" x2="607.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 607.5 157.5 L 602.5 142.5 L 612.5 142.5 Z "/></g><line x1="7.5" y1="157.5" x2="7.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="157.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="157.5" x2="472.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="157.5" x2="742.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="217.5" x2="217.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 262.5 L 212.5 247.5 L 222.5 247.5 Z "/></g><line x1="82.5" y1="262.5" x2="82.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="262.5" x2="367.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="322.5" x2="217.5" y2="345" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 217.5 352.5 L 212.5 337.5 L 222.5 337.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="368.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval a</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="94.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 is T)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="533.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >unreachable</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="136.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $1</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb135"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb135-1" title="1">a <span class="kw">as</span>? T</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="276" height="171" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="247.5" y1="37.5" x2="517.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="97.5" x2="517.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="127.5" x2="337.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="127.5" x2="592.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="157.5" x2="352.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="157.5" x2="772.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="217.5" x2="352.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="217.5" x2="772.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="262.5" x2="292.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="262.5" x2="712.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="322.5" x2="292.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="322.5" x2="712.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="352.5" x2="337.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="352.5" x2="592.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="382.5" x2="532.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="442.5" x2="532.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="7.5" x2="382.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 382.5 37.5 L 377.5 22.5 L 387.5 22.5 Z "/></g><line x1="247.5" y1="37.5" x2="247.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="37.5" x2="517.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="97.5" x2="337.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="97.5" x2="427.5" y2="127.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="127.5" x2="187.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 187.5 157.5 L 182.5 142.5 L 192.5 142.5 Z "/></g><line x1="592.5" y1="127.5" x2="592.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 592.5 157.5 L 587.5 142.5 L 597.5 142.5 Z "/></g><line x1="7.5" y1="157.5" x2="7.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="157.5" x2="352.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="157.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="772.5" y1="157.5" x2="772.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="217.5" x2="187.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 187.5 262.5 L 182.5 247.5 L 192.5 247.5 Z "/></g><line x1="592.5" y1="217.5" x2="592.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 592.5 262.5 L 587.5 247.5 L 597.5 247.5 Z "/></g><line x1="82.5" y1="262.5" x2="82.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="292.5" y1="262.5" x2="292.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="262.5" x2="472.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="712.5" y1="262.5" x2="712.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="322.5" x2="187.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="322.5" x2="592.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="352.5" x2="337.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 337.5 382.5 L 332.5 367.5 L 342.5 367.5 Z "/></g><line x1="442.5" y1="352.5" x2="442.5" y2="375" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 442.5 382.5 L 437.5 367.5 L 447.5 367.5 Z "/></g><line x1="247.5" y1="382.5" x2="247.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="382.5" x2="532.5" y2="442.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="442.5" x2="397.5" y2="465" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 397.5 472.5 L 392.5 457.5 L 402.5 457.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="308.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval a</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="64.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 is T)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="477.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume ($1 !is T)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="140.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="531.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = null</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="301.5" y="420.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $2</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb136"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb136-1" title="1"><span class="op">{</span> a: T ... -&gt; body... <span class="op">}</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="244" height="50" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="37.5" x2="382.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="37.5" x2="682.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="97.5" x2="382.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="97.5" x2="682.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="7.5" x2="202.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 37.5 L 197.5 22.5 L 207.5 22.5 Z "/></g><line x1="562.5" y1="7.5" x2="562.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 562.5 37.5 L 557.5 22.5 L 567.5 22.5 Z "/></g><line x1="7.5" y1="37.5" x2="7.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="37.5" x2="382.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="37.5" x2="442.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="37.5" x2="682.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="97.5" x2="202.5" y2="120" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 127.5 L 197.5 112.5 L 207.5 112.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="65.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $literal</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="501.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval body</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb137"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb137-1" title="1"><span class="kw">return</span></a>
<a class="sourceLine" id="cb137-2" title="2"><span class="kw">return@label</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="103" height="40" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="37.5" x2="277.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="97.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="7.5" x2="142.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 37.5 L 137.5 22.5 L 147.5 22.5 Z "/></g><line x1="7.5" y1="37.5" x2="7.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="37.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="68.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >unreachable</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb138"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb138-1" title="1"><span class="kw">return</span> a</a>
<a class="sourceLine" id="cb138-2" title="2"><span class="kw">return@label</span> a</a>
<a class="sourceLine" id="cb138-3" title="3"><span class="kw">throw</span> a</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="118" height="76" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="82.5" y1="37.5" x2="277.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="97.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="52.5" y1="142.5" x2="322.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="52.5" y1="202.5" x2="322.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="7.5" x2="187.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 187.5 37.5 L 182.5 22.5 L 192.5 22.5 Z "/></g><line x1="82.5" y1="37.5" x2="82.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="37.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="97.5" x2="187.5" y2="135" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 187.5 142.5 L 182.5 127.5 L 192.5 127.5 Z "/></g><line x1="52.5" y1="142.5" x2="52.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="142.5" x2="322.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="132.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval a</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="113.5" y="180.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >unreachable</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb139"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb139-1" title="1"><span class="at">break@</span>loop</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="97" height="40" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="37.5" x2="262.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="97.5" x2="262.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="7.5" x2="127.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 127.5 37.5 L 122.5 22.5 L 132.5 22.5 Z "/></g><line x1="7.5" y1="37.5" x2="7.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="37.5" x2="262.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="60.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop:exit</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb140"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb140-1" title="1"><span class="at">continue@</span>loop</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="103" height="76" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="37.5" x2="277.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="97.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="142.5" x2="277.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="202.5" x2="277.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="7.5" x2="142.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 37.5 L 137.5 22.5 L 147.5 22.5 Z "/></g><line x1="7.5" y1="37.5" x2="7.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="37.5" x2="277.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="112.5" x2="142.5" y2="135" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 142.5 L 137.5 127.5 L 147.5 127.5 Z "/></g><line x1="7.5" y1="142.5" x2="7.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="142.5" x2="277.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="73.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >backedge</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="68.5" y="180.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop:entry</text></g></svg>
' />
</div>
<h4 id="statements-1">Statements</h4>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: to simplify the notation, we consider only labeled loops, as unlabeled loops may be trivially turned into labeled ones by assigning them a unique label.</span></p>
</div>
</blockquote>
<div class="sourceCode" id="cb141"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb141-1" title="1"><span class="at">loop@</span> <span class="cf">while</span>(c) <span class="op">{</span> b... <span class="op">}</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="276" height="181" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="322.5" y1="52.5" x2="592.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="112.5" x2="592.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="142.5" x2="397.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="172.5" x2="232.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="172.5" x2="592.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="232.5" x2="232.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="232.5" x2="592.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="262.5" x2="412.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="262.5" x2="637.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="292.5" x2="427.5" y2="292.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="292.5" x2="757.5" y2="292.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="352.5" x2="427.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="352.5" x2="757.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="397.5" x2="412.5" y2="397.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="397.5" x2="772.5" y2="397.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="457.5" x2="412.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="457.5" x2="772.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="487.5" x2="307.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="7.5" x2="457.5" y2="45" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 52.5 L 452.5 37.5 L 462.5 37.5 Z "/></g><line x1="322.5" y1="52.5" x2="322.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="52.5" x2="592.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="112.5" x2="457.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 172.5 L 452.5 157.5 L 462.5 157.5 Z "/></g><line x1="127.5" y1="142.5" x2="127.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="142.5" x2="397.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 397.5 172.5 L 392.5 157.5 L 402.5 157.5 Z "/></g><line x1="7.5" y1="172.5" x2="7.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="172.5" x2="232.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="172.5" x2="322.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="172.5" x2="592.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="240" x2="127.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 127.5 232.5 L 132.5 247.5 L 122.5 247.5 Z "/></g><line x1="412.5" y1="232.5" x2="412.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="232.5" x2="502.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="262.5" x2="307.5" y2="285" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 307.5 292.5 L 302.5 277.5 L 312.5 277.5 Z "/></g><line x1="637.5" y1="262.5" x2="637.5" y2="285" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 292.5 L 632.5 277.5 L 642.5 277.5 Z "/></g><line x1="187.5" y1="292.5" x2="187.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="292.5" x2="427.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="292.5" x2="502.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="757.5" y1="292.5" x2="757.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="352.5" x2="307.5" y2="390" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 307.5 397.5 L 302.5 382.5 L 312.5 382.5 Z "/></g><line x1="637.5" y1="352.5" x2="637.5" y2="390" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 397.5 L 632.5 382.5 L 642.5 382.5 Z "/></g><line x1="217.5" y1="397.5" x2="217.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="397.5" x2="412.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="397.5" x2="502.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="772.5" y1="397.5" x2="772.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="457.5" x2="307.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="457.5" x2="637.5" y2="495" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 502.5 L 632.5 487.5 L 642.5 487.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="383.5" y="90.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop.entry</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="58.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >backedge</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="383.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval c</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="360.5" y="255.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="540.5" y="255.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="246.5" y="330.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="555.5" y="330.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="267.5" y="435.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval b</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="555.5" y="435.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop.exit</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb142"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb142-1" title="1"><span class="at">loop@</span> <span class="cf">do</span> <span class="op">{</span> b... <span class="op">}</span> <span class="cf">while</span>(c)</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="276" height="218" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="322.5" y1="52.5" x2="592.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="112.5" x2="592.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="142.5" x2="397.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="172.5" x2="232.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="172.5" x2="547.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="232.5" x2="232.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="232.5" x2="547.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="277.5" x2="592.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="337.5" x2="592.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="367.5" x2="412.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="367.5" x2="637.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="397.5" x2="427.5" y2="397.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="397.5" x2="757.5" y2="397.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="457.5" x2="427.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="457.5" x2="757.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="487.5" x2="307.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="502.5" x2="772.5" y2="502.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="562.5" x2="772.5" y2="562.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="7.5" x2="457.5" y2="45" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 52.5 L 452.5 37.5 L 462.5 37.5 Z "/></g><line x1="322.5" y1="52.5" x2="322.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="52.5" x2="592.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="112.5" x2="457.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 172.5 L 452.5 157.5 L 462.5 157.5 Z "/></g><line x1="127.5" y1="142.5" x2="127.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="142.5" x2="397.5" y2="165" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 397.5 172.5 L 392.5 157.5 L 402.5 157.5 Z "/></g><line x1="7.5" y1="172.5" x2="7.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="172.5" x2="232.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="172.5" x2="352.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="172.5" x2="547.5" y2="232.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="127.5" y1="240" x2="127.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 127.5 232.5 L 132.5 247.5 L 122.5 247.5 Z "/></g><line x1="457.5" y1="232.5" x2="457.5" y2="270" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 277.5 L 452.5 262.5 L 462.5 262.5 Z "/></g><line x1="322.5" y1="277.5" x2="322.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="277.5" x2="592.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="337.5" x2="412.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="337.5" x2="502.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="367.5" x2="307.5" y2="390" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 307.5 397.5 L 302.5 382.5 L 312.5 382.5 Z "/></g><line x1="637.5" y1="367.5" x2="637.5" y2="390" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 397.5 L 632.5 382.5 L 642.5 382.5 Z "/></g><line x1="187.5" y1="397.5" x2="187.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="397.5" x2="427.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="397.5" x2="502.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="757.5" y1="397.5" x2="757.5" y2="457.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="457.5" x2="307.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="457.5" x2="637.5" y2="495" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 502.5 L 632.5 487.5 L 642.5 487.5 Z "/></g><line x1="502.5" y1="502.5" x2="502.5" y2="562.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="772.5" y1="502.5" x2="772.5" y2="562.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="562.5" x2="637.5" y2="600" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 607.5 L 632.5 592.5 L 642.5 592.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="383.5" y="90.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop.entry</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="58.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >backedge</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="402.5" y="210.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval b</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="383.5" y="315.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval c</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="360.5" y="360.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >t</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="540.5" y="360.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >f</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="246.5" y="435.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="555.5" y="435.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="555.5" y="540.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop.exit</text></g></svg>
' />
</div>
<h4 id="declarations-1">Declarations</h4>
<div class="sourceCode" id="cb143"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb143-1" title="1"><span class="kw">var</span> <span class="va">a</span> <span class="op">=</span> b</a>
<a class="sourceLine" id="cb143-2" title="2"><span class="kw">var</span> <span class="va">a</span> <span class="kw">by</span> b</a>
<a class="sourceLine" id="cb143-3" title="3"><span class="kw">val</span> <span class="va">a</span> <span class="op">=</span> b</a>
<a class="sourceLine" id="cb143-4" title="4"><span class="kw">val</span> <span class="va">a</span> <span class="kw">by</span> b</a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="103" height="92" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="52.5" x2="277.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="112.5" x2="277.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="37.5" y1="157.5" x2="262.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="37.5" y1="217.5" x2="262.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="7.5" x2="142.5" y2="45" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 52.5 L 137.5 37.5 L 147.5 37.5 Z "/></g><line x1="7.5" y1="52.5" x2="7.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="52.5" x2="277.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="112.5" x2="142.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 157.5 L 137.5 142.5 L 147.5 142.5 Z "/></g><line x1="37.5" y1="157.5" x2="37.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="157.5" x2="262.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="142.5" y1="217.5" x2="142.5" y2="240" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 142.5 247.5 L 137.5 232.5 L 147.5 232.5 Z "/></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="68.5" y="90.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval b</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="102.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >a = $1</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb144"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb144-1" title="1"><span class="kw">fun</span> <span class="fu">f</span><span class="op">()</span> <span class="op">{</span> body... <span class="op">}</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="118" height="45" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="52.5" x2="322.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="112.5" x2="322.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="157.5" y1="7.5" x2="157.5" y2="45" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 157.5 52.5 L 152.5 37.5 L 162.5 37.5 Z "/></g><line x1="7.5" y1="52.5" x2="7.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="52.5" x2="322.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="62.5" y="90.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = eval body</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb145"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb145-1" title="1"><span class="kw">class</span> <span class="dt">A</span> <span class="op">(</span>...<span class="op">)</span> <span class="op">{</span> </a>
<a class="sourceLine" id="cb145-2" title="2">    <span class="ch">&#39;declaration 1&#39;</span></a>
<a class="sourceLine" id="cb145-3" title="3">    <span class="ch">&#39;declaration 2&#39;</span></a>
<a class="sourceLine" id="cb145-4" title="4">    <span class="ch">&#39;init-block 1&#39;</span></a>
<a class="sourceLine" id="cb145-5" title="5">    <span class="ch">&#39;declaration 3&#39;</span></a>
<a class="sourceLine" id="cb145-6" title="6">    <span class="ch">&#39;init-block 2&#39;</span></a>
<a class="sourceLine" id="cb145-7" title="7">    ...</a>
<a class="sourceLine" id="cb145-8" title="8"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">For every declaration and init block in a class body, the control flow is propagated through every element in the order of their appearance. </span><span class="sentence">Here we give a simplified example.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: in fact, init analysis does work like this, while smart casting does not</span></p>
</div>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: function decls are order-agnostic???</span></p>
</div>
</div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="213" height="265" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="7.5" y1="52.5" x2="412.5" y2="52.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="112.5" x2="412.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="157.5" x2="412.5" y2="157.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="217.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="262.5" x2="412.5" y2="262.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="322.5" x2="412.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="367.5" x2="412.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="427.5" x2="412.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="472.5" x2="412.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="532.5" x2="412.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="577.5" x2="412.5" y2="577.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="637.5" x2="412.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="682.5" x2="412.5" y2="682.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="742.5" x2="412.5" y2="742.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="7.5" x2="202.5" y2="45" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 52.5 L 197.5 37.5 L 207.5 37.5 Z "/></g><line x1="7.5" y1="52.5" x2="7.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="52.5" x2="412.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="112.5" x2="202.5" y2="150" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 157.5 L 197.5 142.5 L 207.5 142.5 Z "/></g><line x1="7.5" y1="157.5" x2="7.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="157.5" x2="412.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="217.5" x2="202.5" y2="255" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 262.5 L 197.5 247.5 L 207.5 247.5 Z "/></g><line x1="7.5" y1="262.5" x2="7.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="262.5" x2="412.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="322.5" x2="202.5" y2="360" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 367.5 L 197.5 352.5 L 207.5 352.5 Z "/></g><line x1="7.5" y1="367.5" x2="7.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="367.5" x2="412.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="427.5" x2="202.5" y2="465" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 472.5 L 197.5 457.5 L 207.5 457.5 Z "/></g><line x1="7.5" y1="472.5" x2="7.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="472.5" x2="412.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="532.5" x2="202.5" y2="570" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 577.5 L 197.5 562.5 L 207.5 562.5 Z "/></g><line x1="7.5" y1="577.5" x2="7.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="577.5" x2="412.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="652.5" x2="202.5" y2="675" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 682.5 L 197.5 667.5 L 207.5 667.5 Z "/></g><line x1="7.5" y1="682.5" x2="7.5" y2="742.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="682.5" x2="412.5" y2="742.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="67.5" y="90.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval &apos;declaration 1&apos;</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="67.5" y="195.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval &apos;declaration 2&apos;</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="74.5" y="300.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval &apos;init-block 1&apos;</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="67.5" y="405.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval &apos;declaration 3&apos;</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="74.5" y="510.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval &apos;init-block 2&apos;</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="182.5" y="615.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >...</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="67.5" y="720.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >eval &apos;declaration n&apos;</text></g></svg>
' />
</div>
<h4 id="examples">Examples</h4>
<div class="sourceCode" id="cb146"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb146-1" title="1"><span class="kw">fun</span> <span class="fu">f</span><span class="op">()</span> = listOf(<span class="dv">1</span>, <span class="dv">2</span>).map <span class="op">{</span> it + <span class="dv">2</span> <span class="op">}</span>.filter <span class="op">{</span> it &gt; <span class="dv">0</span> <span class="op">}</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="397" height="307" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="547.5" y1="37.5" x2="742.5" y2="37.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="97.5" x2="742.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="142.5" x2="742.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="202.5" x2="742.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="247.5" x2="847.5" y2="247.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="307.5" x2="847.5" y2="307.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="337.5" x2="547.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="772.5" y1="337.5" x2="967.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="367.5" x2="607.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="862.5" y1="367.5" x2="1072.5" y2="367.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="427.5" x2="607.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="862.5" y1="427.5" x2="1072.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="472.5" x2="607.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="877.5" y1="472.5" x2="1072.5" y2="472.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="532.5" x2="607.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="877.5" y1="532.5" x2="1072.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="562.5" x2="382.5" y2="562.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="562.5" x2="637.5" y2="562.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="577.5" x2="1117.5" y2="577.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="67.5" y1="592.5" x2="397.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="592.5" x2="757.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="637.5" x2="1117.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="67.5" y1="652.5" x2="397.5" y2="652.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="652.5" x2="757.5" y2="652.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="697.5" x2="457.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="697.5" x2="757.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="757.5" x2="457.5" y2="757.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="757.5" x2="757.5" y2="757.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="802.5" x2="802.5" y2="802.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="862.5" x2="802.5" y2="862.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="7.5" x2="637.5" y2="30" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 37.5 L 632.5 22.5 L 642.5 22.5 Z "/></g><line x1="547.5" y1="37.5" x2="547.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="37.5" x2="742.5" y2="97.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="97.5" x2="637.5" y2="135" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 142.5 L 632.5 127.5 L 642.5 127.5 Z "/></g><line x1="547.5" y1="142.5" x2="547.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="142.5" x2="742.5" y2="202.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="202.5" x2="637.5" y2="240" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 247.5 L 632.5 232.5 L 642.5 232.5 Z "/></g><line x1="457.5" y1="247.5" x2="457.5" y2="307.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="847.5" y1="247.5" x2="847.5" y2="307.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="307.5" x2="547.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="772.5" y1="307.5" x2="772.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="337.5" x2="442.5" y2="360" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 442.5 367.5 L 437.5 352.5 L 447.5 352.5 Z "/></g><line x1="967.5" y1="337.5" x2="967.5" y2="360" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 967.5 367.5 L 962.5 352.5 L 972.5 352.5 Z "/></g><line x1="277.5" y1="367.5" x2="277.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="607.5" y1="367.5" x2="607.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="862.5" y1="367.5" x2="862.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1072.5" y1="367.5" x2="1072.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="427.5" x2="442.5" y2="465" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 442.5 472.5 L 437.5 457.5 L 447.5 457.5 Z "/></g><line x1="967.5" y1="427.5" x2="967.5" y2="465" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 967.5 472.5 L 962.5 457.5 L 972.5 457.5 Z "/></g><line x1="277.5" y1="472.5" x2="277.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="607.5" y1="472.5" x2="607.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="877.5" y1="472.5" x2="877.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1072.5" y1="472.5" x2="1072.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="532.5" x2="382.5" y2="562.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="532.5" x2="502.5" y2="562.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="967.5" y1="532.5" x2="967.5" y2="570" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 967.5 577.5 L 962.5 562.5 L 972.5 562.5 Z "/></g><line x1="232.5" y1="562.5" x2="232.5" y2="585" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 592.5 L 227.5 577.5 L 237.5 577.5 Z "/></g><line x1="637.5" y1="562.5" x2="637.5" y2="585" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 592.5 L 632.5 577.5 L 642.5 577.5 Z "/></g><line x1="832.5" y1="577.5" x2="832.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1117.5" y1="577.5" x2="1117.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="67.5" y1="592.5" x2="67.5" y2="652.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="592.5" x2="397.5" y2="652.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="592.5" x2="532.5" y2="652.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="757.5" y1="592.5" x2="757.5" y2="652.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="652.5" x2="232.5" y2="690" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 697.5 L 227.5 682.5 L 237.5 682.5 Z "/></g><line x1="637.5" y1="652.5" x2="637.5" y2="690" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 697.5 L 632.5 682.5 L 642.5 682.5 Z "/></g><line x1="7.5" y1="697.5" x2="7.5" y2="757.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="697.5" x2="457.5" y2="757.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="697.5" x2="547.5" y2="757.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="757.5" y1="697.5" x2="757.5" y2="757.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="757.5" x2="232.5" y2="855" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 232.5 862.5 L 227.5 847.5 L 237.5 847.5 Z "/></g><line x1="637.5" y1="757.5" x2="637.5" y2="795" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 802.5 L 632.5 787.5 L 642.5 787.5 Z "/></g><line x1="472.5" y1="802.5" x2="472.5" y2="862.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="802.5" y1="802.5" x2="802.5" y2="862.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="597.5" y="75.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = 1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="597.5" y="180.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = 2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="524.5" y="285.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$3 = listOf($1, $2)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="341.5" y="405.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$4 = { it + 2 }</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="920.5" y="405.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$5 = it</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="341.5" y="510.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$8 = $3.map($4)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="927.5" y="510.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$6 = 2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="886.5" y="615.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$7 = $5 + $2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="131.5" y="630.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$9 = { it &gt; 0 }</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="583.5" y="630.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$10 = it</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="76.5" y="735.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$result = $8.filter($9)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="605.5" y="735.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$11 = 0</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="536.5" y="840.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$12 = $10 &gt; $11</text></g></svg>
' />
</div>
<div class="sourceCode" id="cb147"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb147-1" title="1"><span class="kw">fun</span> <span class="fu">f</span><span class="op">(</span><span class="va">x</span><span class="op">:</span> <span class="dt">Int</span><span class="op">)</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb147-2" title="2">    <span class="kw">var</span> <span class="va">y</span> <span class="op">=</span> x</a>
<a class="sourceLine" id="cb147-3" title="3">    <span class="at">loop@</span> <span class="cf">while</span>(y != <span class="dv">500</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb147-4" title="4">        y++</a>
<a class="sourceLine" id="cb147-5" title="5">        <span class="cf">if</span>(y % <span class="dv">20</span> == <span class="dv">3</span>) <span class="at">break@</span>loop</a>
<a class="sourceLine" id="cb147-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb147-7" title="7"><span class="op">}</span></a></code></pre></div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="370" height="664" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="247.5" y1="7.5" x2="442.5" y2="7.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="67.5" x2="442.5" y2="67.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="112.5" x2="442.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="172.5" x2="442.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="217.5" x2="487.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="495" y1="247.5" x2="937.5" y2="247.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 487.5 247.5 L 502.5 242.5 L 502.5 252.5 Z "/></g><line x1="217.5" y1="277.5" x2="487.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="817.5" y1="277.5" x2="1042.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="322.5" x2="457.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="817.5" y1="337.5" x2="1042.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="382.5" x2="457.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="427.5" x2="472.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="487.5" x2="472.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="532.5" x2="547.5" y2="532.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="172.5" y1="592.5" x2="547.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="637.5" x2="322.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="637.5" x2="652.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="697.5" x2="322.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="697.5" x2="652.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="742.5" x2="322.5" y2="742.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="742.5" x2="652.5" y2="742.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="802.5" x2="322.5" y2="802.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="802.5" x2="652.5" y2="802.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="847.5" x2="337.5" y2="847.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="847.5" x2="652.5" y2="847.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="907.5" x2="337.5" y2="907.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="907.5" x2="652.5" y2="907.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="82.5" y1="952.5" x2="337.5" y2="952.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="952.5" x2="637.5" y2="952.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="982.5" x2="75" y2="982.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 82.5 982.5 L 67.5 987.5 L 67.5 977.5 Z "/></g><line x1="82.5" y1="1012.5" x2="337.5" y2="1012.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="1012.5" x2="637.5" y2="1012.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="1057.5" x2="682.5" y2="1057.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="382.5" y1="1117.5" x2="682.5" y2="1117.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="1162.5" x2="637.5" y2="1162.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="1222.5" x2="637.5" y2="1222.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="1267.5" x2="637.5" y2="1267.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="1327.5" x2="637.5" y2="1327.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="1372.5" x2="637.5" y2="1372.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="1432.5" x2="637.5" y2="1432.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="1477.5" x2="712.5" y2="1477.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="1537.5" x2="712.5" y2="1537.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="1582.5" x2="637.5" y2="1582.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="427.5" y1="1642.5" x2="637.5" y2="1642.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="1687.5" x2="742.5" y2="1687.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="1747.5" x2="742.5" y2="1747.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="1792.5" x2="472.5" y2="1792.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="1792.5" x2="847.5" y2="1792.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="217.5" y1="1852.5" x2="472.5" y2="1852.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="1852.5" x2="847.5" y2="1852.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="1882.5" x2="337.5" y2="1882.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="712.5" y1="1882.5" x2="937.5" y2="1882.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="7.5" x2="247.5" y2="67.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="7.5" x2="442.5" y2="67.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="67.5" x2="352.5" y2="105" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 352.5 112.5 L 347.5 97.5 L 357.5 97.5 Z "/></g><line x1="247.5" y1="112.5" x2="247.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="112.5" x2="442.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="172.5" x2="352.5" y2="210" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 352.5 217.5 L 347.5 202.5 L 357.5 202.5 Z "/></g><line x1="217.5" y1="217.5" x2="217.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="217.5" x2="487.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="937.5" y1="247.5" x2="937.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="277.5" x2="352.5" y2="315" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 352.5 322.5 L 347.5 307.5 L 357.5 307.5 Z "/></g><line x1="817.5" y1="277.5" x2="817.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1042.5" y1="277.5" x2="1042.5" y2="337.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="262.5" y1="322.5" x2="262.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="322.5" x2="457.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="937.5" y1="345" x2="937.5" y2="1882.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 937.5 337.5 L 942.5 352.5 L 932.5 352.5 Z "/></g><line x1="352.5" y1="382.5" x2="352.5" y2="420" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 352.5 427.5 L 347.5 412.5 L 357.5 412.5 Z "/></g><line x1="247.5" y1="427.5" x2="247.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="427.5" x2="472.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="352.5" y1="487.5" x2="352.5" y2="525" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 352.5 532.5 L 347.5 517.5 L 357.5 517.5 Z "/></g><line x1="172.5" y1="532.5" x2="172.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="532.5" x2="547.5" y2="592.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="247.5" y1="592.5" x2="247.5" y2="630" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 247.5 637.5 L 242.5 622.5 L 252.5 622.5 Z "/></g><line x1="472.5" y1="592.5" x2="472.5" y2="630" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 472.5 637.5 L 467.5 622.5 L 477.5 622.5 Z "/></g><line x1="82.5" y1="637.5" x2="82.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="637.5" x2="322.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="637.5" x2="397.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="652.5" y1="637.5" x2="652.5" y2="697.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="697.5" x2="202.5" y2="735" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 742.5 L 197.5 727.5 L 207.5 727.5 Z "/></g><line x1="532.5" y1="697.5" x2="532.5" y2="735" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 742.5 L 527.5 727.5 L 537.5 727.5 Z "/></g><line x1="82.5" y1="742.5" x2="82.5" y2="802.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="322.5" y1="742.5" x2="322.5" y2="802.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="742.5" x2="412.5" y2="802.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="652.5" y1="742.5" x2="652.5" y2="802.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="802.5" x2="202.5" y2="840" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 847.5 L 197.5 832.5 L 207.5 832.5 Z "/></g><line x1="532.5" y1="802.5" x2="532.5" y2="840" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 847.5 L 527.5 832.5 L 537.5 832.5 Z "/></g><line x1="82.5" y1="847.5" x2="82.5" y2="907.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="847.5" x2="337.5" y2="907.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="847.5" x2="412.5" y2="907.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="652.5" y1="847.5" x2="652.5" y2="907.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="907.5" x2="202.5" y2="945" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 952.5 L 197.5 937.5 L 207.5 937.5 Z "/></g><line x1="532.5" y1="907.5" x2="532.5" y2="945" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 952.5 L 527.5 937.5 L 537.5 937.5 Z "/></g><line x1="82.5" y1="952.5" x2="82.5" y2="1012.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="952.5" x2="337.5" y2="1012.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="442.5" y1="952.5" x2="442.5" y2="1012.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="952.5" x2="637.5" y2="1012.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="982.5" x2="7.5" y2="1882.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="202.5" y1="1012.5" x2="202.5" y2="1035" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 202.5 1042.5 L 197.5 1027.5 L 207.5 1027.5 Z "/></g><line x1="532.5" y1="1012.5" x2="532.5" y2="1050" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 1057.5 L 527.5 1042.5 L 537.5 1042.5 Z "/></g><line x1="382.5" y1="1057.5" x2="382.5" y2="1117.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="1057.5" x2="682.5" y2="1117.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1117.5" x2="532.5" y2="1155" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 1162.5 L 527.5 1147.5 L 537.5 1147.5 Z "/></g><line x1="442.5" y1="1162.5" x2="442.5" y2="1222.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="1162.5" x2="637.5" y2="1222.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1222.5" x2="532.5" y2="1260" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 1267.5 L 527.5 1252.5 L 537.5 1252.5 Z "/></g><line x1="442.5" y1="1267.5" x2="442.5" y2="1327.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="1267.5" x2="637.5" y2="1327.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1327.5" x2="532.5" y2="1365" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 1372.5 L 527.5 1357.5 L 537.5 1357.5 Z "/></g><line x1="427.5" y1="1372.5" x2="427.5" y2="1432.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="1372.5" x2="637.5" y2="1432.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1432.5" x2="532.5" y2="1470" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 1477.5 L 527.5 1462.5 L 537.5 1462.5 Z "/></g><line x1="367.5" y1="1477.5" x2="367.5" y2="1537.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="712.5" y1="1477.5" x2="712.5" y2="1537.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1537.5" x2="532.5" y2="1575" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 1582.5 L 527.5 1567.5 L 537.5 1567.5 Z "/></g><line x1="427.5" y1="1582.5" x2="427.5" y2="1642.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="1582.5" x2="637.5" y2="1642.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1642.5" x2="532.5" y2="1680" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 532.5 1687.5 L 527.5 1672.5 L 537.5 1672.5 Z "/></g><line x1="322.5" y1="1687.5" x2="322.5" y2="1747.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="1687.5" x2="742.5" y2="1747.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="397.5" y1="1747.5" x2="397.5" y2="1785" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 397.5 1792.5 L 392.5 1777.5 L 402.5 1777.5 Z "/></g><line x1="652.5" y1="1747.5" x2="652.5" y2="1785" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 652.5 1792.5 L 647.5 1777.5 L 657.5 1777.5 Z "/></g><line x1="217.5" y1="1792.5" x2="217.5" y2="1852.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="472.5" y1="1792.5" x2="472.5" y2="1852.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="1792.5" x2="577.5" y2="1852.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="847.5" y1="1792.5" x2="847.5" y2="1852.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="1852.5" x2="337.5" y2="1882.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="712.5" y1="1852.5" x2="712.5" y2="1882.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="297.5" y="45.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = x</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="297.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >y = $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="278.5" y="255.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop.entry</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="868.5" y="315.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >backedge</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="312.5" y="360.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = y</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="298.5" y="465.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$3 = 500</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="230.5" y="570.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$4 = $2.equals($3)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="141.5" y="675.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $4</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="450.5" y="675.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$4</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="135.5" y="780.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$5 = false</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="471.5" y="780.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$5 = true</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="135.5" y="885.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$5</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="471.5" y="885.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $5</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="135.5" y="990.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop.exit</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="492.5" y="990.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$6 = y</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="444.5" y="1095.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$7 = $6.inc()</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="492.5" y="1200.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >y = $7</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="492.5" y="1305.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$8 = y</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="485.5" y="1410.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$9 = 20</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="424.5" y="1515.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$10 = $8.rem($9)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="485.5" y="1620.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$11 = 3</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="390.5" y="1725.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$12 = $10.equals($11)</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="270.5" y="1830.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $12</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="638.5" y="1830.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$12</text></g></svg>
' />
</div>
<h4 id="kotlin.nothing-and-its-influence-on-the-cfg"><code>kotlin.Nothing</code> and its influence on the CFG</h4>
<div class="paragraph">
<p><span class="sentence">As discussed in the <a href="#kotlin.nothing-1">type system</a> section of this specification, <code>kotlin.Nothing</code> is an uninhabited type, meaning an instance of this type can never exist at runtime. </span><span class="sentence">For the purposes of control-flow graph (and related analyses) this means, as soon as an expression is known statically to have <code>kotlin.Nothing</code> type, all subsequent code is <strong>unreachable</strong>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: each specific analysis may decide to either use this information or ignore it for a given program. </span><span class="sentence">If unreachability from <code>kotlin.Nothing</code> is used, it can be represented in different ways, e.g., by changing the CFG structure or via <a href="#preliminary-analysis-and-operatornamemathitkilldataflow-instruction"><span class="math inline">\(\operatorname{\mathit{killDataFlow}}\)</span></a> instructions.</span></p>
</div>
</blockquote>
<h3 id="performing-analyses-on-the-control-flow-graph">Performing analyses on the control-flow graph</h3>
<div class="paragraph">
<p><span class="sentence">The analyses defined in this document follow the pattern of analyses based on monotone frameworks, which work by modeling abstract program states as elements of lattices and joining these states using standard lattice operations. </span><span class="sentence">Such analyses may achieve limited path sensitivity via the analysis of conditions used in the <code>assume</code> nodes.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In short, an analysis is defined on the CFG by introducing:</span></p>
</div>
<ul>
<li><span class="sentence">A lattice <span class="math inline">\(\mathbf{S}\)</span> (a partially ordered set that has both a greatest lower bound and a least upper bound defined for every pair of its elements) of values, called <em>abstract states</em>;</span></li>
<li><span class="sentence">A <em>transfer function</em> for mapping CFG nodes to the elements of <span class="math inline">\(\mathbf{S}\)</span>, essentially a set of rules on how to calculate an abstract state for each node of the CFG either directly or by using abstract states of other nodes.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The result of an analysis is a <em>fixed point</em> of the transfer function for each node of the given CFG, i.e., an abstract state for each node such that the transfer function maps the state to itself. </span><span class="sentence">For the particular shapes of the transfer function used in program analyses, given a finite <span class="math inline">\(\mathbf{S}\)</span>, the fixed point always exists, although the details of how this works go out of scope of this document.</span></p>
</div>
<h4 id="preliminary-analysis-and-operatornamemathitkilldataflow-instruction">Preliminary analysis and <span class="math inline">\(\operatorname{\mathit{killDataFlow}}\)</span> instruction</h4>
<div class="paragraph">
<p><span class="sentence">Some analyses described further in this document are based on special instruction called <span class="math inline">\(\operatorname{\mathit{killDataFlow}}(\upsilon)\)</span> where <span class="math inline">\(\upsilon\)</span> is a program variable. </span><span class="sentence">These are not present in the graph representation described above and need to be inferred before such analyses may actually take place.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math inline">\(\operatorname{\mathit{killDataFlow}}\)</span> inference is based on a standard control-flow analysis with the lattice of natural numbers over â€œminâ€ and â€œmaxâ€ operations. </span><span class="sentence">That is, for every assignable property <span class="math inline">\(x\)</span> an element of this lattice is a natural number <span class="math inline">\(N\)</span>, with the least upper bound of two numbers defined as maximum function and the greatest lower bound as minimum function.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: such lattice has 0 as its bottom element and does not have a top element.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">We assume the following transfer functions for our analysis.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
\begin{alignedat}{2}
&amp;\left[\!\left[\texttt{x = y} \right]\!\right](s)
&amp;&amp;= s[x \rightarrow s(x) + 1]
\\
\\
&amp;\left[\!\left[\operatorname{\texttt{backedge}}\right]\!\right](s)
&amp;&amp;= \{\star \rightarrow 0 \}
\\
\\
&amp;\left[\!\left[l \right]\!\right](s)
&amp;&amp;= \bigsqcup_{p \in predecessor(l)} \left[\!\left[p \right]\!\right](s)
\end{alignedat}
\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">After running this analysis, for every backedge <span class="math inline">\(b\)</span> and every variable <span class="math inline">\(x\)</span> present in <span class="math inline">\(s\)</span>, if <span class="math inline">\(\exists b_p, b_s: b_p \in predecessors(b) \land b_s \in successors(b) \land \left[\!\left[b_p \right]\!\right](x) &gt; \left[\!\left[b_s \right]\!\right](x)\)</span>, a <span class="math inline">\(\operatorname{\mathit{killDataFlow}}(x)\)</span> instruction must be inserted after <span class="math inline">\(b\)</span>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Informally: this somewhat complicated condition matches variables which have been assigned to in the loop body w.r.t. this loopâ€™s backedge.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this analysis does involve a possibly <strong>infinite</strong> lattice (a lattice of natural numbers) and may seem to diverge on some graphs. </span><span class="sentence">However, if we assume that every backedge in an arbitrary CFG is marked with a <code>backedge</code> instruction, it is trivial to prove that no number in the lattice will ever exceed the number of assignments (which is <strong>finite</strong>) in the analyzed program as any loop in the graph will contain at least one backedge.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">As an example, consider the following Kotlin code:</span></p>
</div>
<div class="sourceCode" id="cb148"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb148-1" title="1"><span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb148-2" title="2"><span class="kw">var</span> <span class="va">y</span><span class="op">:</span> <span class="dt">Int</span> <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb148-3" title="3"><span class="cf">while</span> (b1) <span class="op">{</span></a>
<a class="sourceLine" id="cb148-4" title="4">    y = f()</a>
<a class="sourceLine" id="cb148-5" title="5">    <span class="cf">do</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb148-6" title="6">        x = g()</a>
<a class="sourceLine" id="cb148-7" title="7">    <span class="op">}</span> <span class="cf">while</span> (b2)</a>
<a class="sourceLine" id="cb148-8" title="8"><span class="op">}</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">which results in the following CFG diagram (annotated with the analysis results where it is important):</span></p>
</div>
<div>
<img src='data:image/svg+xml;utf8,<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:jfreesvg="http://www.jfree.org/jfreesvg/svg" width="454" height="580" text-rendering="auto" shape-rendering="auto">
<defs></defs>
<line x1="697.5" y1="7.5" x2="892.5" y2="7.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="697.5" y1="67.5" x2="892.5" y2="67.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="697.5" y1="112.5" x2="892.5" y2="112.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="900" y1="142.5" x2="952.5" y2="142.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 892.5 142.5 L 907.5 137.5 L 907.5 147.5 Z "/></g><line x1="697.5" y1="172.5" x2="892.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="697.5" y1="217.5" x2="892.5" y2="217.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="697.5" y1="277.5" x2="892.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="697.5" y1="322.5" x2="892.5" y2="322.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="900" y1="352.5" x2="952.5" y2="352.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 892.5 352.5 L 907.5 347.5 L 907.5 357.5 Z "/></g><line x1="697.5" y1="382.5" x2="892.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="652.5" y1="427.5" x2="937.5" y2="427.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="652.5" y1="487.5" x2="937.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="517.5" x2="727.5" y2="517.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="337.5" y1="547.5" x2="562.5" y2="547.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="547.5" x2="892.5" y2="547.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="277.5" y1="577.5" x2="330" y2="577.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 337.5 577.5 L 322.5 582.5 L 322.5 572.5 Z "/></g><line x1="900" y1="577.5" x2="952.5" y2="577.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 892.5 577.5 L 907.5 572.5 L 907.5 582.5 Z "/></g><line x1="337.5" y1="607.5" x2="562.5" y2="607.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="607.5" x2="892.5" y2="607.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="637.5" x2="742.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="637.5" x2="967.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="667.5" x2="757.5" y2="667.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="667.5" x2="1087.5" y2="667.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="517.5" y1="727.5" x2="757.5" y2="727.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="727.5" x2="1087.5" y2="727.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="772.5" x2="457.5" y2="772.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="772.5" x2="757.5" y2="772.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="772.5" x2="1102.5" y2="772.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="832.5" x2="757.5" y2="832.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="832.5" x2="1102.5" y2="832.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="877.5" x2="742.5" y2="877.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="907.5" x2="540" y2="907.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 547.5 907.5 L 532.5 912.5 L 532.5 902.5 Z "/></g><line x1="547.5" y1="937.5" x2="742.5" y2="937.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="982.5" x2="787.5" y2="982.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="502.5" y1="1042.5" x2="787.5" y2="1042.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="232.5" y1="1057.5" x2="262.5" y2="1057.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="1072.5" x2="577.5" y2="1072.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="187.5" y1="1102.5" x2="412.5" y2="1102.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1102.5" x2="757.5" y2="1102.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="765" y1="1132.5" x2="817.5" y2="1132.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 757.5 1132.5 L 772.5 1127.5 L 772.5 1137.5 Z "/></g><line x1="187.5" y1="1162.5" x2="412.5" y2="1162.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1162.5" x2="757.5" y2="1162.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="547.5" y1="1207.5" x2="742.5" y2="1207.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="750" y1="1237.5" x2="802.5" y2="1237.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 742.5 1237.5 L 757.5 1232.5 L 757.5 1242.5 Z "/></g><line x1="547.5" y1="1267.5" x2="742.5" y2="1267.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1312.5" x2="742.5" y2="1312.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1372.5" x2="742.5" y2="1372.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="1402.5" x2="592.5" y2="1402.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="1402.5" x2="817.5" y2="1402.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="1432.5" x2="607.5" y2="1432.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="1432.5" x2="937.5" y2="1432.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="367.5" y1="1492.5" x2="607.5" y2="1492.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="1492.5" x2="937.5" y2="1492.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="1522.5" x2="487.5" y2="1522.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="1537.5" x2="952.5" y2="1537.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="960" y1="1567.5" x2="1012.5" y2="1567.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 952.5 1567.5 L 967.5 1562.5 L 967.5 1572.5 Z "/></g><line x1="682.5" y1="1597.5" x2="952.5" y2="1597.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="7.5" y1="1642.5" x2="817.5" y2="1642.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="697.5" y1="7.5" x2="697.5" y2="67.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="892.5" y1="7.5" x2="892.5" y2="67.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="67.5" x2="787.5" y2="105" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 787.5 112.5 L 782.5 97.5 L 792.5 97.5 Z "/></g><line x1="697.5" y1="112.5" x2="697.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="892.5" y1="112.5" x2="892.5" y2="172.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="172.5" x2="787.5" y2="210" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 787.5 217.5 L 782.5 202.5 L 792.5 202.5 Z "/></g><line x1="697.5" y1="217.5" x2="697.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="892.5" y1="217.5" x2="892.5" y2="277.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="277.5" x2="787.5" y2="315" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 787.5 322.5 L 782.5 307.5 L 792.5 307.5 Z "/></g><line x1="697.5" y1="322.5" x2="697.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="892.5" y1="322.5" x2="892.5" y2="382.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="382.5" x2="787.5" y2="420" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 787.5 427.5 L 782.5 412.5 L 792.5 412.5 Z "/></g><line x1="652.5" y1="427.5" x2="652.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="937.5" y1="427.5" x2="937.5" y2="487.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="487.5" x2="787.5" y2="540" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 787.5 547.5 L 782.5 532.5 L 792.5 532.5 Z "/></g><line x1="457.5" y1="517.5" x2="457.5" y2="547.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="727.5" y1="517.5" x2="727.5" y2="540" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 727.5 547.5 L 722.5 532.5 L 732.5 532.5 Z "/></g><line x1="337.5" y1="547.5" x2="337.5" y2="607.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="562.5" y1="547.5" x2="562.5" y2="607.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="547.5" x2="682.5" y2="607.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="892.5" y1="547.5" x2="892.5" y2="607.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="457.5" y1="615" x2="457.5" y2="772.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 457.5 607.5 L 462.5 622.5 L 452.5 622.5 Z "/></g><line x1="742.5" y1="607.5" x2="742.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="607.5" x2="832.5" y2="637.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="637.5" x2="637.5" y2="660" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 667.5 L 632.5 652.5 L 642.5 652.5 Z "/></g><line x1="967.5" y1="637.5" x2="967.5" y2="660" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 967.5 667.5 L 962.5 652.5 L 972.5 652.5 Z "/></g><line x1="517.5" y1="667.5" x2="517.5" y2="727.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="757.5" y1="667.5" x2="757.5" y2="727.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="667.5" x2="832.5" y2="727.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1087.5" y1="667.5" x2="1087.5" y2="727.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="727.5" x2="637.5" y2="765" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 772.5 L 632.5 757.5 L 642.5 757.5 Z "/></g><line x1="967.5" y1="727.5" x2="967.5" y2="765" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 967.5 772.5 L 962.5 757.5 L 972.5 757.5 Z "/></g><line x1="172.5" y1="742.5" x2="172.5" y2="765" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 172.5 772.5 L 167.5 757.5 L 177.5 757.5 Z "/></g><line x1="7.5" y1="772.5" x2="7.5" y2="1642.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="772.5" x2="532.5" y2="832.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="757.5" y1="772.5" x2="757.5" y2="832.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="832.5" y1="772.5" x2="832.5" y2="832.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="1102.5" y1="772.5" x2="1102.5" y2="832.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="832.5" x2="637.5" y2="870" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 877.5 L 632.5 862.5 L 642.5 862.5 Z "/></g><line x1="967.5" y1="832.5" x2="967.5" y2="870" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 967.5 877.5 L 962.5 862.5 L 972.5 862.5 Z "/></g><line x1="547.5" y1="877.5" x2="547.5" y2="937.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="877.5" x2="742.5" y2="937.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="937.5" x2="637.5" y2="975" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 982.5 L 632.5 967.5 L 642.5 967.5 Z "/></g><line x1="502.5" y1="982.5" x2="502.5" y2="1042.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="787.5" y1="982.5" x2="787.5" y2="1042.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="1042.5" x2="637.5" y2="1095" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 1102.5 L 632.5 1087.5 L 642.5 1087.5 Z "/></g><line x1="262.5" y1="1057.5" x2="262.5" y2="1095" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 262.5 1102.5 L 257.5 1087.5 L 267.5 1087.5 Z "/></g><line x1="307.5" y1="1072.5" x2="307.5" y2="1102.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="577.5" y1="1072.5" x2="577.5" y2="1095" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 577.5 1102.5 L 572.5 1087.5 L 582.5 1087.5 Z "/></g><line x1="187.5" y1="1102.5" x2="187.5" y2="1162.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="412.5" y1="1102.5" x2="412.5" y2="1162.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="532.5" y1="1102.5" x2="532.5" y2="1162.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="757.5" y1="1102.5" x2="757.5" y2="1162.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="307.5" y1="1170" x2="307.5" y2="1522.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 307.5 1162.5 L 312.5 1177.5 L 302.5 1177.5 Z "/></g><line x1="637.5" y1="1162.5" x2="637.5" y2="1200" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 1207.5 L 632.5 1192.5 L 642.5 1192.5 Z "/></g><line x1="547.5" y1="1207.5" x2="547.5" y2="1267.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="1207.5" x2="742.5" y2="1267.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="637.5" y1="1267.5" x2="637.5" y2="1305" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 637.5 1312.5 L 632.5 1297.5 L 642.5 1297.5 Z "/></g><line x1="532.5" y1="1312.5" x2="532.5" y2="1372.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="742.5" y1="1312.5" x2="742.5" y2="1372.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="592.5" y1="1372.5" x2="592.5" y2="1402.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="1372.5" x2="682.5" y2="1402.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="1402.5" x2="487.5" y2="1425" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 487.5 1432.5 L 482.5 1417.5 L 492.5 1417.5 Z "/></g><line x1="817.5" y1="1402.5" x2="817.5" y2="1425" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 817.5 1432.5 L 812.5 1417.5 L 822.5 1417.5 Z "/></g><line x1="367.5" y1="1432.5" x2="367.5" y2="1492.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="607.5" y1="1432.5" x2="607.5" y2="1492.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="682.5" y1="1432.5" x2="682.5" y2="1492.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="937.5" y1="1432.5" x2="937.5" y2="1492.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="487.5" y1="1492.5" x2="487.5" y2="1522.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="817.5" y1="1492.5" x2="817.5" y2="1530" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 817.5 1537.5 L 812.5 1522.5 L 822.5 1522.5 Z "/></g><line x1="352.5" y1="1530" x2="352.5" y2="1552.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-dasharray: 9.0;" transform="matrix(0.35,0,0,0.35,0,0)" /><g style="fill: rgb(0,0,0); fill-opacity: 1.0; stroke: none" transform="matrix(0.35,0,0,0.35,0,0)" ><path d="M 352.5 1522.5 L 357.5 1537.5 L 347.5 1537.5 Z "/></g><line x1="682.5" y1="1537.5" x2="682.5" y2="1597.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="952.5" y1="1537.5" x2="952.5" y2="1597.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><line x1="817.5" y1="1597.5" x2="817.5" y2="1642.5" style="stroke-width: 1.5;stroke: rgb(0,0,0);stroke-opacity: 1.0;stroke-linecap: square;" transform="matrix(0.35,0,0,0.35,0,0)" /><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="747.5" y="45.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$1 = 0</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="747.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >x = $1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="994.5" y="150.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 1, y -&gt; 0}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="747.5" y="255.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$2 = 0</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="747.5" y="360.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >y = $2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="994.5" y="360.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 1, y -&gt; 1}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="706.5" y="465.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop1:entry</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="118.5" y="585.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{* -&gt; 0}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="388.5" y="585.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >backedge</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="740.5" y="585.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$3 = b1</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="994.5" y="585.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 1, y -&gt; 1}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="576.5" y="705.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $3</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="885.5" y="705.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$3</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="64.5" y="735.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 2, y -&gt; 2}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="583.5" y="810.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$4 = f()</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="893.5" y="810.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop1:exit</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="214.5" y="915.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 1, y -&gt; 2}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="597.5" y="915.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >y = $4</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="556.5" y="1020.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop2.entry</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="73.5" y="1065.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{* -&gt; 0}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="238.5" y="1140.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >backedge</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="583.5" y="1140.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$6 = g()</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="859.5" y="1140.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 1, y -&gt; 2}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="597.5" y="1245.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >x = $6</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="844.5" y="1245.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 2, y -&gt; 2}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="590.5" y="1350.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >$5 = b2</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="426.5" y="1470.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume $5</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="735.5" y="1470.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >assume !$5</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="743.5" y="1575.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >@loop2.exit</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="1054.5" y="1575.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 2, y -&gt; 2}</text></g><g transform="matrix(0.35,0,0,0.35,0,0)"><text x="259.5" y="1590.5" style="fill: rgb(0,0,0); fill-opacity: 1.0; font-family: monospace; font-size: 23px;" >{x -&gt; 2, y -&gt; 2}</text></g></svg>
' />
</div>
<div class="paragraph">
<p><span class="sentence">There are two backedges: one for the inner loop (the inner backedge) and one for the outer loop (the outer backedge). </span><span class="sentence">The inner backedge has one predecessor with state <span class="math inline">\(\{ \texttt{x} \rightarrow 2, \texttt{y} \rightarrow 2 \}\)</span> and one successor with state <span class="math inline">\(\{ \texttt{x} \rightarrow 1, \texttt{y} \rightarrow 2 \}\)</span> with the value for <code>x</code> being less in the successor, meaning that we need to insert <span class="math inline">\(\operatorname{\mathit{killDataFlow}}(\texttt{x})\)</span> after the backedge. </span><span class="sentence">The outer backedge has one predecessor with state <span class="math inline">\(\{ \texttt{x} \rightarrow 2, \texttt{y} \rightarrow 2 \}\)</span> and one successor with state <span class="math inline">\(\{ \texttt{x} \rightarrow 1, \texttt{y} \rightarrow 1 \}\)</span> with values for both variables being less in the successor, meaning we need to insert <span class="math inline">\(\operatorname{\mathit{killDataFlow}}(\texttt{x})\)</span> and <span class="math inline">\(\operatorname{\mathit{killDataFlow}}(\texttt{y})\)</span> after the backedge.</span></p>
</div>
<h4 id="variable-initialization-analysis">Variable initialization analysis</h4>
<div class="paragraph">
<p><span class="sentence">Kotlin allows <a href="#property-declaration">non-delegated properties</a> to not have initializers in their declaration as long as the property is <em>definitely assigned</em> before its first usage. </span><span class="sentence">This property is checked by the variable initialization analysis (VIA). </span><span class="sentence">VIA operates on abstract values from a flat <em>assignedness</em> lattice of two values <span class="math inline">\(\{\operatorname{\mathit{Assigned}}, \operatorname{\mathit{Unassigned}}\}\)</span>. </span><span class="sentence">The analysis itself uses abstract values from a map lattice of all property declarations to their abstract states based on the assignedness lattice. </span><span class="sentence">The abstract states are propagated in a forward manner using the standard join operation to merge states from different paths.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The CFG nodes relevant to VIA include only property declarations and direct property assignments. </span><span class="sentence">Every property declaration adds itself to the domain by setting the <span class="math inline">\(\operatorname{\mathit{Unassigned}}\)</span> value to itself. </span><span class="sentence">Every direct property assignment changes the value for this property to <span class="math inline">\(\operatorname{\mathit{Assigned}}\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The results of the analysis are interpreted as follows. </span><span class="sentence">For every property, any usage of the said property in any statement is a compile-time error unless the abstract state of this property at this statement is <span class="math inline">\(\operatorname{\mathit{Assigned}}\)</span>. </span><span class="sentence">For every read-only property (declared using <code>val</code> keyword), any assignment to this property is a compile-time error unless the abstract state of this property is <span class="math inline">\(\operatorname{\mathit{Unassigned}}\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As an example, consider the following Kotlin code:</span></p>
</div>
<code class="sourceCode kotlin"><span class="co">/*  1 */</span> <span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Unassigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/*  2 */</span> <span class="kw">var</span> <span class="va">y</span><span class="op">:</span> <span class="dt">Int</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Unassigned}, \mathtt{y} \rightarrow \mathit{Unassigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/*  3 */</span> <span class="cf">if</span> (c) <span class="op">{</span>       <span class="co">//</span></code><br />
<code class="sourceCode kotlin"><span class="co">/*  4 */</span>     x = <span class="dv">40</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Assigned}, \mathtt{y} \rightarrow \mathit{Unassigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/*  5 */</span>     y = <span class="dv">4</span>     <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Assigned}, \mathtt{y} \rightarrow \mathit{Assigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/*  6 */</span> <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span>      <span class="co">//</span></code><br />
<code class="sourceCode kotlin"><span class="co">/*  7 */</span>     x = <span class="dv">20</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Assigned}, \mathtt{y} \rightarrow \mathit{Unassigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/*  8 */</span> <span class="op">}</span>             <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Assigned}, \mathtt{y} \rightarrow \top, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/*  9 */</span> y = <span class="dv">5</span>         <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Assigned}, \mathtt{y} \rightarrow \mathit{Assigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/* 10 */</span> <span class="kw">val</span> <span class="va">z</span> <span class="op">=</span> x + y <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Assigned}, \mathtt{y} \rightarrow \mathit{Assigned}, \mathtt{z} \rightarrow \mathit{Assigned}\}\)</span><code class="sourceCode kotlin"></code><br />

<div class="paragraph">
<p><span class="sentence">There are no incorrect operations in this example, so the code does not produce any compile-time errors.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Let us consider another example:</span></p>
</div>
<code class="sourceCode kotlin"><span class="co">/* 1 */</span> <span class="kw">val</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Unassigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/* 2 */</span> <span class="kw">var</span> <span class="va">y</span><span class="op">:</span> <span class="dt">Int</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \mathit{Unassigned}, \mathtt{y} \rightarrow \mathit{Unassigned}, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/* 3 */</span> <span class="cf">while</span> (c) <span class="op">{</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \top, \mathtt{y} \rightarrow \top, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"> Error!</code><br />
<code class="sourceCode kotlin"><span class="co">/* 4 */</span>     x = <span class="dv">40</span>    <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \top, \mathtt{y} \rightarrow \top, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/* 5 */</span>     y = <span class="dv">4</span>     <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \top, \mathtt{y} \rightarrow \top, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"></code><br />
<code class="sourceCode kotlin"><span class="co">/* 6 */</span> <span class="op">}</span>             <span class="co">//</span></code><br />
<code class="sourceCode kotlin"><span class="co">/* 7 */</span> <span class="kw">val</span> <span class="va">z</span> <span class="op">=</span> x + y <span class="co">//</span></code><span class="math inline">\(\{ \mathtt{x} \rightarrow \top, \mathtt{y} \rightarrow \top, \star \rightarrow \bot \}\)</span><code class="sourceCode kotlin"> More errors!  </code><br />

<div class="paragraph">
<p><span class="sentence">In this example, the state of both properties at line 3 is <span class="math inline">\(\top\)</span>, as it is the least upper bound of the states from lines 5 and 2 (from the <code>while</code> loop), which is derived to be <span class="math inline">\(\top\)</span>. </span><span class="sentence">This leads to a compile-time error at line 4 for <code>x</code>, because one cannot reassign a read-only property.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">At line 7 there is another compile-time error when both properties are used, as there are paths in the CFG which reach line 7 when the properties have not been assigned (i.e., the case when the <code>while</code> loop body was skipped).</span></p>
</div>
<h4 id="smart-casting-analysis">Smart casting analysis</h4>
<div class="paragraph">
<p><span class="sentence">See the <a href="#smart-casts">corresponding section</a> for details.</span></p>
</div>
<h3 id="references-1">References</h3>
<ol type="1">
<li><span class="sentence">Frances E. </span><span class="sentence">Allen. </span><span class="sentence">â€œControl flow analysis.â€ ACM SIGPLAN Notices, 1970.</span></li>
<li><span class="sentence">Flemming Nielson, Hanne R. </span><span class="sentence">Nielson, and Chris Hankin. </span><span class="sentence">â€œPrinciples of program analysis.â€ Springer, 2015.</span></li>
<li><span class="sentence">Kam, John B., and Jeffrey D. </span><span class="sentence">Ullman. </span><span class="sentence">â€œMonotone data flow analysis frameworks.â€ Acta informatica 7.3 (1977): 305-317.</span></li>
</ol>
<h2 id="kotlin-type-constraints">Kotlin type constraints</h2>
<div class="paragraph">
<p><span class="sentence">Some complex tasks that need to be solved when compiling Kotlin code are formulated best using <em>constraint systems</em> over Kotlin types. </span><span class="sentence">These are solved using constraint solvers.</span></p>
</div>
<h3 id="type-constraint-definition">Type constraint definition</h3>
<div class="paragraph">
<p><span class="sentence">A <em>type constraint</em> in general is an inequation of the following form: <span class="math inline">\(T &lt;: U\)</span> where <span class="math inline">\(T\)</span> and <span class="math inline">\(U\)</span> are <a href="#type-system">concrete Kotlin types</a>. </span><span class="sentence">As Kotlin has <a href="#parameterized-classifier-types">parameterized types</a>, <span class="math inline">\(T\)</span> and <span class="math inline">\(U\)</span> may be <em>free type variables</em>: unknown types which may be substituted by any other type in Kotlin.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Please note that, in general, not all type parameters are considered as free type variables in a constraint system. </span><span class="sentence">Some type variables may be <em>fixed</em> in a constraint system; for example, type parameters of a parameterized class <em>inside</em> its body are not concrete types, but are not free type variables either. </span><span class="sentence">A fixed type variable describes an unknown, but fixed type which is not to be substituted.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">We will use the notation <span class="math inline">\(T_i\)</span> for a type variable and <span class="math inline">\(\tilde{T_i}\)</span> for a fixed type variable. </span><span class="sentence">The main difference between fixed type variables and concrete types is that different concrete types may not be equal, but a fixed type variable may be equal to another fixed type variable or a concrete type.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples of valid type constraints:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(\texttt{List&lt;}\widetilde{X}\texttt{&gt;} &lt;: Y\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\texttt{List&lt;}\widetilde{X}\texttt&gt; &lt;: \texttt{List&lt;}\texttt{List&lt;}\texttt{Int}\texttt&gt;\texttt&gt;\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\widetilde{X} &lt;: Y\)</span></span></li>
</ul>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Every constraint system has general implicit constraints <span class="math inline">\(T_j &lt;: \operatorname{\texttt{kotlin.Any?}}\)</span> and <span class="math inline">\(\operatorname{\texttt{kotlin.Nothing}}&lt;: T_j\)</span> for every type <span class="math inline">\(T_j\)</span> mentioned in the system, including type variables.</span></p>
</div>
<h3 id="type-constraint-solving">Type constraint solving</h3>
<div class="paragraph">
<p><span class="sentence">There are two tasks which a type constraint solver may perform: <a href="#checking-constraint-system-soundness">checking constraint system for soundness</a>, i.e., if a solution exists, and <a href="#finding-optimal-constraint-system-solution">solving constraint system</a>, i.e., inferring a satisfying substitution of concrete types for all free type variables.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Checking a constraint system for soundness can be viewed as a much simpler case of solving that constraint system: if there is a solution, the system is sound, meaning there are only two possible outcomes. </span><span class="sentence">Solving a constraint system, on the other hand, may have multiple possible outcomes, as there may be multiple valid solutions.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example: constraint systems which are sound yet no relevant solutions exist.</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(X &lt;: Y\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\texttt{List&lt;}X\texttt&gt; &lt;: \texttt{Collection}\texttt&lt;X\texttt&gt;\)</span></span></li>
</ul>
</blockquote>
<h4 id="checking-constraint-system-soundness">Checking constraint system soundness</h4>
<div class="paragraph">
<p><span class="sentence">Checking constraint system soundness is a satisfiability problem. </span><span class="sentence">That is, given a number of constraints in the form <span class="math inline">\(S &lt;: T\)</span> containing zero or more <em>free type variables</em> (also called inference type variables), it needs to determine if these constraints are non-contradictory, i.e.Â there exists a possible instantiation of these free variables that makes all given constraints valid.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This boils down to finding a set of lower and upper bounds for each of these variables and determining if these bounds are non-contradictory. </span><span class="sentence">The algorithm of finding this bounds is implementation-defined and is not guaranteed to prove the satisfiability of given constraints in all possible cases.</span></p>
</div>
<h5 id="a-sample-bound-inference-algorithm">A sample bound inference algorithm</h5>
<div class="paragraph">
<p><span class="sentence">The algorithm given in this section is just an example of a family of algorithms that may be applied to the problem given above. </span><span class="sentence">A particular implementation is not guaranteed to follow this algorithm, but one may use it as a reference on how this problem may be approached.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The algorithm works in two phases: <em>reduction</em> and <em>incorporation</em> that are applied to the constraint system and current solution in turns until a fixpoint or an error is reached. </span><span class="sentence">The reduction phase is used to produce bounds for inference variables based on constraints and eliminating the constraints no longer needed. </span><span class="sentence">The incorporation phase is used to introduce new bounds and constraints from existing bounds. </span><span class="sentence">A bound is similar to constraint in that it has the form <span class="math inline">\(S &lt;: T\)</span>, but either <span class="math inline">\(S\)</span> or <span class="math inline">\(T\)</span> (or both) is an inference variable. </span><span class="sentence">Thus, the current (and final) solution is a set of upper and lower bounds for each inference variable.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><strong>Reduction phase</strong>: for each constraint <span class="math inline">\(S &lt;: T\)</span> in the constraint system the following rules are applied:</span></p>
</div>
<ul>
<li><span class="sentence">If <span class="math inline">\(S\)</span> and <span class="math inline">\(T\)</span> are proper types <span><span class="TODO">(TODO: do we have such a term?)</span><span class="TODO-marker">*</span></span> and:</span>
<ul>
<li><span class="sentence">if <span class="math inline">\(S &lt;: T\)</span>, this constraint is eliminated;</span></li>
<li><span class="sentence">otherwise this is an inference error;</span></li>
</ul></li>
<li><span class="sentence">Otherwise, if <span class="math inline">\(S\)</span> is an inference variable <span class="math inline">\(\alpha\)</span>, a new bound <span class="math inline">\(\alpha &lt;: T\)</span> is added to current solution;</span></li>
<li><span class="sentence">Otherwise, if <span class="math inline">\(T\)</span> is an inference variable <span class="math inline">\(\beta\)</span>, a new bound <span class="math inline">\(S &lt;: \beta\)</span> is added to current solution;</span></li>
<li><span class="sentence">Otherwise, if <span class="math inline">\(S\)</span> is a nullable type of form <span class="math inline">\(A?\)</span> and:</span>
<ul>
<li><span class="sentence">If <span class="math inline">\(T\)</span> is a known non-nullable type (a classifier type, a nullability-asserted type <span class="math inline">\(B!!\)</span>, a type variable with a known non-nullable lower bound, or an intersection type containing a known non-nullable type), this is an inference error;</span></li>
<li><span class="sentence">Otherwise, if <span class="math inline">\(T\)</span> is also a nullable type of form <span class="math inline">\(B?\)</span>, the constraint is reduced to <span class="math inline">\(A &lt;: B\)</span>;</span></li>
<li><span class="sentence">Otherwise, the constraint is reduced to <span class="math inline">\(A &lt;: T\)</span>;</span></li>
</ul></li>
<li><span class="sentence">Otherwise, based on the form of <span class="math inline">\(T\)</span>:</span>
<ul>
<li><span class="sentence">If <span class="math inline">\(T\)</span> is a parameterized type <span class="math inline">\(G[A_1, \ldots, A_N]\)</span>, all the supertypes of <span class="math inline">\(S\)</span> the one of the form <span class="math inline">\(G[B_1, \ldots, B_N]\)</span> is chosen. </span><span class="sentence">If no such supertype exists, this is an inference error. </span><span class="sentence">Otherwise, for each <span class="math inline">\(M \in [1,N]\)</span>, a type argument constraint for containment <span class="math inline">\(A_M \preceq B_M\)</span> is introduced (see below);</span></li>
<li><span class="sentence">Otherwise, if <span class="math inline">\(T\)</span> is any other classifier type, then if <span class="math inline">\(T\)</span> is among supertypes for <span class="math inline">\(S\)</span>, the constraint is eliminated, and if it is not, this is an inference error;</span></li>
<li><span class="sentence">If <span class="math inline">\(T\)</span> is a type variable:</span>
<ul>
<li><span class="sentence">If <span class="math inline">\(S\)</span> is an intersection type containing <span class="math inline">\(T\)</span>, this constraint is eliminated;</span></li>
<li><span class="sentence">Otherwise, if <span class="math inline">\(T\)</span> has a lower bound <span class="math inline">\(B\)</span>, the constraint is reduced to <span class="math inline">\(S &lt;: B\)</span>;</span></li>
<li><span class="sentence">Otherwise, this is an inference error;</span></li>
</ul></li>
<li><span class="sentence">If <span class="math inline">\(T\)</span> is an intersection type <span class="math inline">\(A_1 \mathbin{\operatorname{\&amp;}}\ldots \mathbin{\operatorname{\&amp;}}A_N\)</span>, the constraint is reduced to <span class="math inline">\(N\)</span> constraints <span class="math inline">\(S &lt;: A_M\)</span> for each <span class="math inline">\(M \in [1, N]\)</span>;</span></li>
<li><span class="sentence">If <span class="math inline">\(T\)</span> is a nullable type of the form <span class="math inline">\(B?\)</span> and:</span>
<ul>
<li><span class="sentence">If <span class="math inline">\(S\)</span> is a known non-nullable type (a classifier type, a nullability-asserted type <span class="math inline">\(A!!\)</span>, a type variable with a known non-nullable lower bound, or an intersection type containing a known non-nullable type), the constraint is reduced to <span class="math inline">\(S &lt;: B\)</span></span></li>
<li><span class="sentence">Otherwise, this is an inference error <span><span class="TODO">(TODO: should never happen)</span><span class="TODO-marker">*</span></span>.</span></li>
</ul></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Type argument constraints for a containment relation <span class="math inline">\(Q \preceq F\)</span> are constructed as follows:</span></p>
</div>
<ul>
<li><span class="sentence">If either <span class="math inline">\(S\)</span> or <span class="math inline">\(F\)</span> is the special argument <span class="math inline">\(\star\)</span>, no constraints are produced;</span></li>
<li><span class="sentence">If <span class="math inline">\(F\)</span> is invariant with type <span class="math inline">\(F&#39;\)</span>:</span>
<ul>
<li><span class="sentence">If <span class="math inline">\(Q\)</span> is also invariant with type <span class="math inline">\(Q&#39;\)</span>, two constraints are produced: <span class="math inline">\(F&#39; &lt;: Q&#39;\)</span> and <span class="math inline">\(Q&#39; &lt;: F&#39;\)</span>;</span></li>
<li><span class="sentence">If <span class="math inline">\(Q\)</span> has any other variance, this is an inference error;</span></li>
</ul></li>
<li><span class="sentence">If <span class="math inline">\(F\)</span> has form <span class="math inline">\(\operatorname{\texttt{out\,}}F&#39;\)</span>:</span>
<ul>
<li><span class="sentence">If <span class="math inline">\(Q\)</span> has form <span class="math inline">\(\operatorname{\texttt{out\,}}Q&#39;\)</span> or <span class="math inline">\(Q&#39;\)</span>, the following constraint is produced: <span class="math inline">\(Q&#39; &lt;: F&#39;\)</span>;</span></li>
<li><span class="sentence">If <span class="math inline">\(Q\)</span> has form <span class="math inline">\(\operatorname{\texttt{in\,}}Q&#39;\)</span>, the following constraint is produced: <span class="math inline">\(\operatorname{\texttt{kotlin.Any?}}&lt;: F&#39;\)</span>;</span></li>
</ul></li>
<li><span class="sentence">If <span class="math inline">\(F\)</span> has form <span class="math inline">\(\operatorname{\texttt{inv\,}}F&#39;\)</span>:</span>
<ul>
<li><span class="sentence">If <span class="math inline">\(Q\)</span> has form <span class="math inline">\(\operatorname{\texttt{in\,}}Q&#39;\)</span> or <span class="math inline">\(Q&#39;\)</span>, the following constraint is produced: <span class="math inline">\(F&#39; &lt;: Q&#39;\)</span>;</span></li>
<li><span class="sentence">If <span class="math inline">\(Q\)</span> has form <span class="math inline">\(\operatorname{\texttt{out\,}}Q&#39;\)</span>, this is an inference error.</span></li>
</ul></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><strong>Incorporation phase</strong>: for each bound (and some bound combination) in the current solution, new constraints are produced as follows (it is safe to assume that each constraint is introduced into the system only once, so if this step produces constraints that have already been reduced, they are not introduced into the system):</span></p>
</div>
<ul>
<li><span class="sentence">For each inference variable <span class="math inline">\(\alpha\)</span>, for each pair of bounds <span class="math inline">\(S &lt;: \alpha\)</span> and <span class="math inline">\(\alpha &lt;: T\)</span>, a new constraint is produced: <span class="math inline">\(S &lt;: T\)</span>;</span></li>
<li><span class="sentence">For each inference variable <span class="math inline">\(\alpha\)</span> if there is a pair of bounds <span class="math inline">\(S &lt;: \alpha\)</span> and <span class="math inline">\(\alpha &lt;: S\)</span> (that is, <span class="math inline">\(\alpha\)</span> is equivalent to <span class="math inline">\(S\)</span>), and for each bound <span class="math inline">\(Q &lt;: P\)</span> where <span class="math inline">\(Q\)</span> or <span class="math inline">\(P\)</span> contains <span class="math inline">\(\alpha\)</span>, a new constraint is produced: <span class="math inline">\(Q[\alpha := S] &lt;: P[\alpha := S]\)</span>;</span></li>
<li><span class="sentence">For each inference variable <span class="math inline">\(\alpha\)</span>, for each pair of bounds <span class="math inline">\(\alpha &lt;: S\)</span> and <span class="math inline">\(\alpha &lt;: T\)</span> where both <span class="math inline">\(S\)</span> has a supertype of the form <span class="math inline">\(G[A_1,\ldots,A_N]\)</span> and <span class="math inline">\(T\)</span> has a supertype of the form <span class="math inline">\(G[B_1,\ldots,B_N]\)</span>, then for each <span class="math inline">\(M \in [1,N]\)</span> if both <span class="math inline">\(A_M\)</span> and <span class="math inline">\(B_M\)</span> are invariant with types <span class="math inline">\(A&#39;_M\)</span> and <span class="math inline">\(B&#39;_M\)</span> respectively, the following new constraints are produced: <span class="math inline">\(A&#39;_M &lt;: B&#39;_M\)</span> and <span class="math inline">\(B&#39;_M &lt;: A&#39;_M\)</span>.</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(captured types)</span></p>
</div>
</div>
<h4 id="finding-optimal-constraint-system-solution">Finding optimal constraint system solution</h4>
<div class="paragraph">
<p><span class="sentence">As any constraint system may have multiple valid solutions, finding one which is â€œoptimalâ€ in some sense is not possible in general, because the notion of the best solution for a task depends on the said task. </span><span class="sentence">To deal with this, a constraint system allows two additional types of constraints:</span></p>
</div>
<ul>
<li><span class="sentence">A <em>pull-up</em> constraint for type variable <span class="math inline">\(T\)</span>, denoted <span class="math inline">\(\uparrow T\)</span>, signifying that when finding a substitution for this variable, the optimal solution is the largest one according to <a href="#subtyping">subtyping relation</a>;</span></li>
<li><span class="sentence">A <em>push-down</em> constraint for type variable <span class="math inline">\(T\)</span>, denoted <span class="math inline">\(\downarrow T\)</span>, signifying that when finding a substitution for this variable, the optimal solution is the smallest one according to <a href="#subtyping">subtyping relation</a>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">If a variable has no constraints of these kinds associated with it, it is assumed to have a pull-up implicit constraint. </span><span class="sentence">The process of instantiating the free variables of a constraint system starts by finding the bounds for each free variable (as mentioned in the previous section) and then, given these bounds, continues to pick the right type from them. </span><span class="sentence">Excluding other free variables, this boils down to:</span></p>
</div>
<ul>
<li><span class="sentence">For a variable with a push-down constraint, the solution is the <a href="#greatest-lower-bound">greatest lower bound</a> of all upper bounds for this variable, excluding other free variables;</span></li>
<li><span class="sentence">For a variable with a pull-up constraint, the solution is the <a href="#least-upper-bound">least upper bound</a> of all lower bounds for this variable, excluding other free variables;</span></li>
<li><span class="sentence">For a variable with both or none, the solution is also the <a href="#least-upper-bound">least upper bound</a> of all lower bounds for this variable, excluding other free variables.</span></li>
</ul>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO: variable dependence and order of solving</span></p>
</div>
</div>
<h4 id="the-relations-on-types-as-constraints">The relations on types as constraints</h4>
<div class="paragraph">
<p><span class="sentence">In other sections (for example, <a href="#expressions-1">Expressions</a> and <a href="#statements-1">Statements</a>) the relations between types may be expressed using the type operations found in the <a href="#type-system">type system section</a> of this document.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The <a href="#greatest-lower-bound">greatest lower bound</a> of two types is converted directly as-is, as the greatest lower bound is always an intersection type.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The <a href="#least-upper-bound">least upper bound</a> of two types is converted as follows. </span><span class="sentence">If type <span class="math inline">\(T\)</span> is defined to be the least upper bound of <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, the following constraints are produced:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(A &lt;: T\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(B &lt;: T\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\downarrow T\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\uparrow A\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\uparrow B\)</span></span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: the results of finding GLB or LUB via a constraint system may be different from the results of finding them via a normalization procedure (i.e., imprecise); however, they are sound w.r.t. bound, meaning a constraint system GLB is still a lower bound and a constraint system LUB is still an upper bound.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Letâ€™s assume we have the following code:</span></p>
</div>
<div class="sourceCode" id="cb149"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb149-1" title="1"><span class="kw">val</span> <span class="va">e</span> <span class="op">=</span> <span class="cf">if</span> (c) a <span class="cf">else</span> b</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">where <code>a</code>, <code>b</code>, <code>c</code> are some expressions with unknown types (having no other type constraints besides the implicit ones).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Assume the type variables generated for them are <span class="math inline">\(A\)</span>, <span class="math inline">\(B\)</span> and <span class="math inline">\(C\)</span> respectively, the type variable for <code>e</code> is <span class="math inline">\(E\)</span>. </span><span class="sentence">According to <a href="#conditional-expression">the conditional expression rules</a>, this produces the following relations:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(C &lt;: \texttt{kotlin.Boolean}\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(E = \operatorname{\text{LUB}}(A, B)\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">These, in turn, produce the following explicit constraints:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(C &lt;: \texttt{kotlin.Boolean}\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A &lt;: E\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(B &lt;: E\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\downarrow E\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\uparrow A\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(\uparrow B\)</span></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">which, w.r.t. general and pull-up implicit constraints, produce the following solution:</span></p>
</div>
<ul>
<li><span class="sentence"><span class="math inline">\(C \rightarrow \texttt{kotlin.Boolean}\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(A \rightarrow \operatorname{\texttt{kotlin.Any?}}\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(B \rightarrow \operatorname{\texttt{kotlin.Any?}}\)</span></span></li>
<li><span class="sentence"><span class="math inline">\(E \rightarrow \operatorname{\texttt{kotlin.Any?}}\)</span></span></li>
</ul>
</blockquote>
<h2 id="type-inference">Type inference</h2>
<div class="paragraph">
<p><span class="sentence">Kotlin has a concept of <em>type inference</em> for compile-time type information, meaning some type information in the code may be omitted, to be inferred by the compiler. </span><span class="sentence">There are two kinds of type inference supported by Kotlin.</span></p>
</div>
<ul>
<li><span class="sentence"><a href="#local-type-inference">Local type inference</a>, for inferring types of expressions locally, in statement/expression scope;</span></li>
<li><span class="sentence"><a href="#function-signature-type-inference">Function signature type inference</a>, for inferring types of function return values and/or parameters.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Type inference is a <a href="#kotlin-type-constraints">type constraint</a> problem, and is usually solved by a type constraint solver. </span><span class="sentence">For this reason, type inference is applicable in situations when the type context contains enough information for the type constraint solver to create an <a href="#finding-optimal-constraint-system-solution">optimal constraint system solution</a> w.r.t. type inference problem.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for the purposes of type inference, an optimal solution is the one which does not contain any free type variables with no explicit constraints on them.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Is this true?)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">Kotlin also supports flow-sensitive types in the form of <a href="#smart-casts">smart casts</a>, which have direct effect on type inference. </span><span class="sentence">Therefore, we will discuss them first, before talking about type inference itself.</span></p>
</div>
<h3 id="smart-casts">Smart casts</h3>
<div class="paragraph">
<p><span class="sentence">Kotlin introduces a limited form of flow-sensitive typing called <em>smart casts</em>. </span><span class="sentence">Flow-sensitive typing means some expressions in the program may introduce changes to the compile-time types of variables. </span><span class="sentence">This allows one to avoid unneeded explicit casting of values in cases when their runtime types are guaranteed to conform to the expected compile-time types.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Flow-sensitive typing may be considered a specific instance of traditional data-flow analysis. </span><span class="sentence">Therefore, before we discuss it further, we need to establish the data-flow framework, which we will use for smart casts.</span></p>
</div>
<h4 id="data-flow-framework">Data-flow framework</h4>
<h5 id="smart-cast-lattices">Smart cast lattices</h5>
<div class="paragraph">
<p><span class="sentence">We assume our data-flow analysis is run on a classic control-flow graph (CFG) structure, where most non-trivial expressions and statements are simplified and/or desugared.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Explain how this simplification is done?)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">Our data-flow domain is a map lattice <span class="math inline">\(\operatorname{\text{SmartCastData}}= \operatorname{\text{Expression}}\rightarrow \operatorname{\text{SmartCastType}}\)</span>, where <span class="math inline">\(\operatorname{\text{Expression}}\)</span> is any Kotlin expression and <span class="math inline">\(\operatorname{\text{SmartCastType}}= \operatorname{\text{Type}}\times \operatorname{\text{Type}}\)</span> sublattice is a product lattice of smart cast data-flow facts of the following kind.</span></p>
</div>
<ul>
<li><span class="sentence">First component describes the type, which an expression definitely <strong>has</strong></span></li>
<li><span class="sentence">Second component describes the type, which an expression definitely <strong>does not have</strong></span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The sublattice order, join and meet are defined as follows.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
P_1 \times N_1 \sqsubseteq
P_2 \times N_2
  \Leftrightarrow P_1 &lt;: P_2 \land N_1 :&gt; N_2
\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
\begin{aligned}
P_1 \times N_1 \sqcup
P_2 \times N_2
  &amp;= \operatorname{\text{LUB}}(P_1, P_2) \times \operatorname{\text{GLB}}(N_1, N_2) \\
P_1 \times N_1 \sqcap
P_2 \times N_2
  &amp;= \operatorname{\text{GLB}}(P_1, P_2) \times \operatorname{\text{LUB}}(N_1, N_2)
\end{aligned}
\]</span></span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: a well-informed reader may notice the second component is behaving very similarly to a <em>negation</em> type. </span><span class="sentence"><span class="math display">\[
\begin{aligned}
(P_1 \mathbin{\operatorname{\&amp;}}\neg N_1) \mathbin{\operatorname{|}}(P_2 \mathbin{\operatorname{\&amp;}}\neg N_2)
  &amp;\sqsubseteq (P_1 \mathbin{\operatorname{|}}P_2) \mathbin{\operatorname{\&amp;}}(\neg N_1 \mathbin{\operatorname{|}}\neg N_2) \\
  &amp;= (P_1 \mathbin{\operatorname{|}}P_2) \mathbin{\operatorname{\&amp;}}\neg (N_1 \mathbin{\operatorname{\&amp;}}N_2) \\
(P_1 \mathbin{\operatorname{\&amp;}}\neg N_1) \mathbin{\operatorname{\&amp;}}(P_2 \mathbin{\operatorname{\&amp;}}\neg N_2)
  &amp;= (P_1 \mathbin{\operatorname{\&amp;}}P_2) \mathbin{\operatorname{\&amp;}}(\neg N_1 \mathbin{\operatorname{\&amp;}}\neg N_2) \\ 
  &amp;= (P_1 \mathbin{\operatorname{\&amp;}}P_2) \mathbin{\operatorname{\&amp;}}\neg (N_1 \mathbin{\operatorname{|}}N_2)
\end{aligned}
\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">This is as intended, as â€œtype which an expression definitely does not haveâ€ is exactly a negation type. </span><span class="sentence">In smart casts, as Kotlin <a href="#type-system">type system</a> does not have negation types, we overapproximate them when needed.</span></p>
</div>
</blockquote>
<h5 id="smart-cast-transfer-functions">Smart cast transfer functions</h5>
<div class="paragraph">
<p><span class="sentence">The data-flow information uses the following transfer functions.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
\begin{alignedat}{3}
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{is}}T) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(T \times \top)]
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{!is}}T) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(\top \times T)]
\\
\\
&amp;\left[\!\left[x \operatorname{\texttt{as}}T \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(T \times \top)]
\\
&amp;\left[\!\left[x \operatorname{\texttt{!as}}T) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(\top \times T)]
\\
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{==}}null) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(\operatorname{\texttt{kotlin.Nothing?}}\times \top)]
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{!\!\!=}}null) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(\top \times \operatorname{\texttt{kotlin.Nothing?}})]
\\
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{===}}null) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(\operatorname{\texttt{kotlin.Nothing?}}\times \top)]
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{!\!\!==}}null) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap(\top \times \operatorname{\texttt{kotlin.Nothing?}})]
\\
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{==}}y) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap s(y), \\
&amp;  &amp;&amp; &amp;&amp;y \rightarrow s(x) \sqcap s(y)]
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{!\!\!=}}y) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap\operatorname{\mathit{swap}}(\operatorname{\mathit{isNullable}}(s(y))), \\
&amp;  &amp;&amp; &amp;&amp;y \rightarrow s(y) \sqcap\operatorname{\mathit{swap}}(\operatorname{\mathit{isNullable}}(s(x)))]
\\
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{===}}y) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap s(y), \\
&amp;  &amp;&amp; &amp;&amp;y \rightarrow s(x) \sqcap s(y)]
\\
&amp;\left[\!\left[\operatorname{\mathit{assume}}(x \operatorname{\texttt{!\!\!==}}y) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(x) \sqcap\operatorname{\mathit{swap}}(\operatorname{\mathit{isNullable}}(s(y))), \\
&amp;  &amp;&amp; &amp;&amp;y \rightarrow s(y) \sqcap\operatorname{\mathit{swap}}(\operatorname{\mathit{isNullable}}(s(x)))]
\\
\\
&amp;\left[\!\left[x = y \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow s(y)]
\\
\\
&amp;\left[\!\left[\operatorname{\mathit{killDataFlow}}(x) \right]\!\right](s)
&amp;&amp;= s[&amp;&amp;x \rightarrow (\top \times \top)]
\\
\\
&amp;\left[\!\left[l \right]\!\right](s)
&amp;&amp;= &amp;&amp;\bigsqcup_{p \in predecessor(l)} \left[\!\left[p \right]\!\right](s)
\end{alignedat}
\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">where</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
\begin{alignedat}{1}
\operatorname{\mathit{swap}}(P \times N) &amp;= N \times P
\\
\operatorname{\mathit{isNullable}}(s) &amp;=
\left.
  \begin{cases}
    (\operatorname{\texttt{kotlin.Nothing?}}\times \top) &amp; \text{if } s \sqsubseteq (\operatorname{\texttt{kotlin.Nothing?}}\times \top) \\
    (\top \times \top)      &amp; \text{otherwise}
  \end{cases}
\right.
\end{alignedat}
\]</span></span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: transfer functions for <code>==</code> and <code>!=</code> are used only if the corresponding <a href="#value-equality-expressions"><code>equals</code> implementation</a> is known to be equivalent to <a href="#reference-equality-expressions">reference equality check</a>. </span><span class="sentence">For example, generated <code>equals</code> implementation for <a href="#data-class-declaration">data classes</a> is considered to be equivalent to reference equality check.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(A complete list of when <code>equals</code> is OK?)</span></p>
</div>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in some cases, after the CFG simplification a program location <span class="math inline">\(l\)</span> may be duplicated and associated with several locations <span class="math inline">\(l_1, \ldots, l_N\)</span> in the resulting CFG. </span><span class="sentence">If so, the data-flow information for <span class="math inline">\(l\)</span> is calculated as</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[\left[\!\left[l \right]\!\right]= \bigsqcup_{i=1}^N \left[\!\left[l_i \right]\!\right]\]</span></span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: a <span class="math inline">\(\operatorname{\mathit{killDataFlow}}\)</span> instruction is used to reset the data-flow information in cases, when a compiler deems necessary to stop its propagation. </span><span class="sentence">For example, it may be used in loops to speed up data-flow analysis convergence. </span><span class="sentence">This is the current behaviour of the Kotlin compiler.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">After the data-flow analysis is done, for a program location <span class="math inline">\(l\)</span> we have its data-flow information <span class="math inline">\(\left[\!\left[l \right]\!\right]\)</span>, which contains data-flow facts <span class="math inline">\(\left[\!\left[l \right]\!\right][e] = (P \times N)\)</span> for an expression <span class="math inline">\(e\)</span>.</span></p>
</div>
<h4 id="smart-cast-types">Smart cast types</h4>
<div class="paragraph">
<p><span class="sentence">The data-flow information is used to produce the smart cast type as follows.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">First, smart casts may influence the compile-time type of an expression <span class="math inline">\(e\)</span> (called <em>smart cast sink</em>) only if the sink is <a href="#smart-cast-sink-stability"><em>stable</em></a>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Second, for a stable smart cast sink <span class="math inline">\(e\)</span> we calculate the overapproximation of its possible type.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
\left[\!\left[l \right]\!\right][e] = (P \times N)
  \Rightarrow
  \operatorname{\mathit{smartCastTypeOf}}(e) = \operatorname{\mathit{typeOf}}(e) \mathbin{\operatorname{\&amp;}}P \mathbin{\operatorname{\&amp;}}\operatorname{\mathit{approxNegationType}}(N)
\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><span class="math display">\[
\operatorname{\mathit{approxNegationType}}(N) =
\left.
  \begin{cases}
    \operatorname{\texttt{kotlin.Any}}&amp; \text{if } \operatorname{\texttt{kotlin.Nothing?}}&lt;: N \\
    \operatorname{\texttt{kotlin.Any?}}&amp; \text{otherwise}
  \end{cases}
\right.
\]</span></span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As a result, <span class="math inline">\(\operatorname{\mathit{smartCastTypeOf}}(e)\)</span> is used as a compile-time type of <span class="math inline">\(e\)</span> for most purposes (including, but not limited to, function overloading and type inference of other values).</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the most important exception to when smart casts are used in type inference is direct property declaration.</span></p>
</div>
<div class="sourceCode" id="cb150"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb150-1" title="1"><span class="kw">fun</span> <span class="fu">noSmartCastInInference</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb150-2" title="2">    <span class="kw">var</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Any?</span> <span class="op">=</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb150-3" title="3"></a>
<a class="sourceLine" id="cb150-4" title="4">    <span class="cf">if</span> (a == <span class="kw">null</span>) <span class="kw">return</span></a>
<a class="sourceLine" id="cb150-5" title="5"></a>
<a class="sourceLine" id="cb150-6" title="6">    <span class="kw">var</span> <span class="va">c</span> <span class="op">=</span> a <span class="co">// Direct property declaration</span></a>
<a class="sourceLine" id="cb150-7" title="7"></a>
<a class="sourceLine" id="cb150-8" title="8">    c <span class="co">// Declared type of `c` is Any?</span></a>
<a class="sourceLine" id="cb150-9" title="9">      <span class="co">// However, here it&#39;s smart casted to Any</span></a>
<a class="sourceLine" id="cb150-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb150-11" title="11"></a>
<a class="sourceLine" id="cb150-12" title="12"><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="fu">id</span><span class="op">(</span><span class="va">a</span><span class="op">:</span> <span class="dt">T</span><span class="op">):</span> <span class="dt">T</span> = a</a>
<a class="sourceLine" id="cb150-13" title="13"></a>
<a class="sourceLine" id="cb150-14" title="14"><span class="kw">fun</span> <span class="fu">smartCastInInference</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb150-15" title="15">    <span class="kw">var</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Any?</span> <span class="op">=</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb150-16" title="16"></a>
<a class="sourceLine" id="cb150-17" title="17">    <span class="cf">if</span> (a == <span class="kw">null</span>) <span class="kw">return</span></a>
<a class="sourceLine" id="cb150-18" title="18"></a>
<a class="sourceLine" id="cb150-19" title="19">    <span class="kw">var</span> <span class="va">c</span> <span class="op">=</span> id(a)</a>
<a class="sourceLine" id="cb150-20" title="20"></a>
<a class="sourceLine" id="cb150-21" title="21">    c <span class="co">// Declared type of `c` is Any</span></a>
<a class="sourceLine" id="cb150-22" title="22"><span class="op">}</span></a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Smart casts are introduced by the following Kotlin constructions.</span></p>
</div>
<ul>
<li><span class="sentence"><a href="#conditional-expression">Conditional expressions</a> (<code>if</code>)</span></li>
<li><span class="sentence"><a href="#when-expression">When expressions</a> (<code>when</code>);</span></li>
<li><span class="sentence"><a href="#elvis-operator-expression">Elvis operator</a> (operator <code>?:</code>);</span></li>
<li><span class="sentence"><a href="#navigation-operators">Safe navigation operator</a> (operator <code>?.</code>);</span></li>
<li><span class="sentence"><a href="#logical-conjunction-expression">Logical conjunction expressions</a> (operator <code>&amp;&amp;</code>);</span></li>
<li><span class="sentence"><a href="#logical-disjunction-expression">Logical disjunction expressions</a> (operator <code>||</code>);</span></li>
<li><span class="sentence"><a href="#not-null-assertion-expression">Not-null assertion expressions</a> (operator <code>!!</code>);</span></li>
<li><span class="sentence"><a href="#cast-expression">Cast expressions</a> (operator <code>as</code>);</span></li>
<li><span class="sentence"><a href="#type-checking-expression">Type-checking expressions</a> (operator <code>is</code>);</span></li>
<li><span class="sentence"><a href="#assignments">Direct assignments</a>;</span></li>
<li><span class="sentence">Platform-specific cases: different platforms may add other kinds of expressions which introduce additional smart cast sources.</span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: property declarations are not listed here, as their types are derived from initializers.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for the purposes of smart casts, most of these constructions are simplified and/or desugared, when we are building the program CFG for the data-flow analysis. </span><span class="sentence">We informally call such constructions <em>smart cast sources</em>, as they are responsible for creating smart cast specific instructions.</span></p>
</div>
</blockquote>
<h4 id="smart-cast-sink-stability">Smart cast sink stability</h4>
<div class="paragraph">
<p><span class="sentence">A smart cast sink is <em>stable</em> for smart casting if its value cannot be changed via means external to the CFG; this guarantees the smart cast conditions calculated by the data-flow analysis still hold at the sink. </span><span class="sentence">This is one of the necessary conditions for smart cast to be applicable to an expression.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Smart cast sink stability breaks in the presence of the following aspects.</span></p>
</div>
<ul>
<li><span class="sentence">concurrent writes;</span></li>
<li><span class="sentence">mutable value capturing;</span></li>
<li><span class="sentence">separate module compilation;</span></li>
<li><span class="sentence">custom getters;</span></li>
<li><span class="sentence">delegation.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">The following smart cast sinks are considered stable.</span></p>
</div>
<ol type="1">
<li><span class="sentence">Immutable local or classifier-scope properties without delegation or custom getters;</span></li>
<li><span class="sentence">Mutable local properties without delegation or custom getters, if the compiler can prove that they are <a href="#effectively-immutable-smart-cast-sinks">effectively immutable</a>, i.e., cannot be changed by external means;</span></li>
<li><span class="sentence">Immutable properties of immutable stable properties without delegation or custom getters, if they are declared in the current <a href="#modules">module</a>.</span></li>
</ol>
<h5 id="effectively-immutable-smart-cast-sinks">Effectively immutable smart cast sinks</h5>
<div class="paragraph">
<p><span class="sentence">We will call redefinition of <span class="math inline">\(e\)</span> <strong><em>direct</em></strong> redefinition, if it happens in the same declaration scope as the definition of <span class="math inline">\(e\)</span>. </span><span class="sentence">If <span class="math inline">\(e\)</span> is redefined in a nested declaration scope (w.r.t. </span><span class="sentence">its definition), this is a <strong><em>nested</em></strong> redefinition.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: informally, a nested redefinition means the property has been captured in another scope and may be changed from that scope in a concurrent fashion.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">We define <strong><em>direct</em></strong> and <strong><em>nested</em></strong> smart cast sinks in a similar way.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb151"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb151-1" title="1"><span class="kw">fun</span> <span class="fu">example</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb151-2" title="2">    <span class="co">// definition</span></a>
<a class="sourceLine" id="cb151-3" title="3">    <span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int?</span> <span class="op">=</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb151-4" title="4"></a>
<a class="sourceLine" id="cb151-5" title="5">    <span class="cf">if</span> (x != <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb151-6" title="6">        run <span class="op">{</span></a>
<a class="sourceLine" id="cb151-7" title="7">            <span class="co">// nested smart cast sink</span></a>
<a class="sourceLine" id="cb151-8" title="8">            x.inc()</a>
<a class="sourceLine" id="cb151-9" title="9"></a>
<a class="sourceLine" id="cb151-10" title="10">            <span class="co">// nested redefinition</span></a>
<a class="sourceLine" id="cb151-11" title="11">            x = ...</a>
<a class="sourceLine" id="cb151-12" title="12">        <span class="op">}</span></a>
<a class="sourceLine" id="cb151-13" title="13">        <span class="co">// direct smart cast sink</span></a>
<a class="sourceLine" id="cb151-14" title="14">        x.inc()</a>
<a class="sourceLine" id="cb151-15" title="15">    <span class="op">}</span></a>
<a class="sourceLine" id="cb151-16" title="16"></a>
<a class="sourceLine" id="cb151-17" title="17">    <span class="co">// direct redefinition</span></a>
<a class="sourceLine" id="cb151-18" title="18">    x = ...</a>
<a class="sourceLine" id="cb151-19" title="19"><span class="op">}</span></a></code></pre></div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">A mutable local property <span class="math inline">\(P\)</span> defined at <span class="math inline">\(D\)</span> is considered effectively immutable at a direct sink <span class="math inline">\(S\)</span>, if there are no nested redefinitions on any CFG path between <span class="math inline">\(D\)</span> and <span class="math inline">\(S\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A mutable local property <span class="math inline">\(P\)</span> defined at <span class="math inline">\(D\)</span> is considered effectively immutable at a nested sink <span class="math inline">\(S\)</span>, if there are no nested redefinitions of <span class="math inline">\(P\)</span> and all direct redefinitions of <span class="math inline">\(P\)</span> precede <span class="math inline">\(S\)</span> in the CFG.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb152"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb152-1" title="1"><span class="kw">fun</span> <span class="fu">directSinkOk</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb152-2" title="2">    <span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int?</span> <span class="op">=</span> <span class="dv">42</span> <span class="co">// definition</span></a>
<a class="sourceLine" id="cb152-3" title="3">    <span class="cf">if</span> (x != <span class="kw">null</span>)   <span class="co">// smart cast source</span></a>
<a class="sourceLine" id="cb152-4" title="4">        x.inc()      <span class="co">// direct sink</span></a>
<a class="sourceLine" id="cb152-5" title="5">    run <span class="op">{</span></a>
<a class="sourceLine" id="cb152-6" title="6">        x = <span class="kw">null</span>     <span class="co">// nested redefinition</span></a>
<a class="sourceLine" id="cb152-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb152-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb152-9" title="9"></a>
<a class="sourceLine" id="cb152-10" title="10"><span class="kw">fun</span> <span class="fu">directSinkBad</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb152-11" title="11">    <span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int?</span> <span class="op">=</span> <span class="dv">42</span> <span class="co">// definition</span></a>
<a class="sourceLine" id="cb152-12" title="12">    run <span class="op">{</span></a>
<a class="sourceLine" id="cb152-13" title="13">        x = <span class="kw">null</span>     <span class="co">// nested redefinition</span></a>
<a class="sourceLine" id="cb152-14" title="14">                     <span class="co">//   between a definition</span></a>
<a class="sourceLine" id="cb152-15" title="15">                     <span class="co">//   and a sink</span></a>
<a class="sourceLine" id="cb152-16" title="16">    <span class="op">}</span></a>
<a class="sourceLine" id="cb152-17" title="17">    <span class="cf">if</span> (x != <span class="kw">null</span>)   <span class="co">// smart cast source</span></a>
<a class="sourceLine" id="cb152-18" title="18">        x.inc()      <span class="co">// direct sink</span></a>
<a class="sourceLine" id="cb152-19" title="19"><span class="op">}</span></a>
<a class="sourceLine" id="cb152-20" title="20"></a>
<a class="sourceLine" id="cb152-21" title="21"><span class="kw">fun</span> <span class="fu">nestedSinkOk</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb152-22" title="22">    <span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int?</span> <span class="op">=</span> <span class="dv">42</span>     <span class="co">// definition</span></a>
<a class="sourceLine" id="cb152-23" title="23">    x = getNullableInt() <span class="co">// direct redefinition</span></a>
<a class="sourceLine" id="cb152-24" title="24">    run <span class="op">{</span></a>
<a class="sourceLine" id="cb152-25" title="25">        <span class="cf">if</span> (x != <span class="kw">null</span>)   <span class="co">// smart cast source</span></a>
<a class="sourceLine" id="cb152-26" title="26">            x.inc()      <span class="co">// nested sink</span></a>
<a class="sourceLine" id="cb152-27" title="27">    <span class="op">}</span></a>
<a class="sourceLine" id="cb152-28" title="28"><span class="op">}</span></a>
<a class="sourceLine" id="cb152-29" title="29"></a>
<a class="sourceLine" id="cb152-30" title="30"><span class="kw">fun</span> <span class="fu">nestedSinkBad01</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb152-31" title="31">    <span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int?</span> <span class="op">=</span> <span class="dv">42</span>     <span class="co">// definition</span></a>
<a class="sourceLine" id="cb152-32" title="32">    run <span class="op">{</span></a>
<a class="sourceLine" id="cb152-33" title="33">        <span class="cf">if</span> (x != <span class="kw">null</span>)   <span class="co">// smart cast source</span></a>
<a class="sourceLine" id="cb152-34" title="34">            x.inc()      <span class="co">// nested sink</span></a>
<a class="sourceLine" id="cb152-35" title="35">    <span class="op">}</span></a>
<a class="sourceLine" id="cb152-36" title="36">    x = getNullableInt() <span class="co">// direct redefinition</span></a>
<a class="sourceLine" id="cb152-37" title="37">                         <span class="co">//   after the nested sink</span></a>
<a class="sourceLine" id="cb152-38" title="38"><span class="op">}</span></a>
<a class="sourceLine" id="cb152-39" title="39"></a>
<a class="sourceLine" id="cb152-40" title="40"><span class="kw">fun</span> <span class="fu">nestedSinkBad02</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb152-41" title="41">    <span class="kw">var</span> <span class="va">x</span><span class="op">:</span> <span class="dt">Int?</span> <span class="op">=</span> <span class="dv">42</span>     <span class="co">// definition</span></a>
<a class="sourceLine" id="cb152-42" title="42">    run <span class="op">{</span></a>
<a class="sourceLine" id="cb152-43" title="43">        x = <span class="kw">null</span>         <span class="co">// nested redefinition</span></a>
<a class="sourceLine" id="cb152-44" title="44">    <span class="op">}</span></a>
<a class="sourceLine" id="cb152-45" title="45">    run <span class="op">{</span></a>
<a class="sourceLine" id="cb152-46" title="46">        <span class="cf">if</span> (x != <span class="kw">null</span>)   <span class="co">// smart cast source</span></a>
<a class="sourceLine" id="cb152-47" title="47">            x.inc()      <span class="co">// nested sink</span></a>
<a class="sourceLine" id="cb152-48" title="48">    <span class="op">}</span></a>
<a class="sourceLine" id="cb152-49" title="49"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="loop-handling">Loop handling</h4>
<div class="paragraph">
<p><span class="sentence">As mentioned before, a compiler may use <span class="math inline">\(\operatorname{\mathit{killDataFlow}}\)</span> instructions in loops to avoid slow data-flow analysis convergence. </span><span class="sentence">In the general case, a loop body may be evaluated zero or more times, which, combined with <span class="math inline">\(\operatorname{\mathit{killDataFlow}}\)</span> instructions, causes the smart cast sources from the loop body to <em>not</em> propagate to the containing scope. </span><span class="sentence">However, some loops, for which we can have static guarantees about how their body is evaluated, may be handled differently. </span><span class="sentence">For the following loop configurations, we consider their bodies to be definitely evaluated <em>one or more</em> times.</span></p>
</div>
<ul>
<li><span class="sentence"><code>while (true) { ... }</code></span></li>
<li><span class="sentence"><code>do { ... } while (condition)</code></span></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: in the current implementation, only the exact <code>while (true)</code> form is handled as described; e.g., <code>while (true == true)</code> does not work.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: one may extend the number of loop configurations, which are handled by smart casts, if the compiler implementation deems it necessary.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb153"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb153-1" title="1"><span class="kw">fun</span> <span class="fu">breakFromInfiniteLoop</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb153-2" title="2">    <span class="kw">var</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Any?</span> <span class="op">=</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb153-3" title="3"></a>
<a class="sourceLine" id="cb153-4" title="4">    <span class="cf">while</span> (<span class="kw">true</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb153-5" title="5">        <span class="cf">if</span> (a == <span class="kw">null</span>) <span class="kw">return</span></a>
<a class="sourceLine" id="cb153-6" title="6"></a>
<a class="sourceLine" id="cb153-7" title="7">        <span class="cf">if</span> (randomBoolean()) <span class="cf">break</span></a>
<a class="sourceLine" id="cb153-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb153-9" title="9"></a>
<a class="sourceLine" id="cb153-10" title="10">    a <span class="co">// Smart cast to Any</span></a>
<a class="sourceLine" id="cb153-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb153-12" title="12"></a>
<a class="sourceLine" id="cb153-13" title="13"><span class="kw">fun</span> <span class="fu">doWhileAndSmartCasts</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb153-14" title="14">    <span class="kw">var</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Any?</span> <span class="op">=</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb153-15" title="15"></a>
<a class="sourceLine" id="cb153-16" title="16">    <span class="cf">do</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb153-17" title="17">        <span class="cf">if</span> (a == <span class="kw">null</span>) <span class="kw">return</span></a>
<a class="sourceLine" id="cb153-18" title="18">    <span class="op">}</span> <span class="cf">while</span> (randomBoolean())</a>
<a class="sourceLine" id="cb153-19" title="19">    </a>
<a class="sourceLine" id="cb153-20" title="20">    a <span class="co">// Smart cast to Any</span></a>
<a class="sourceLine" id="cb153-21" title="21"><span class="op">}</span></a>
<a class="sourceLine" id="cb153-22" title="22"></a>
<a class="sourceLine" id="cb153-23" title="23"><span class="kw">fun</span> <span class="fu">doWhileAndSmartCasts2</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb153-24" title="24">    <span class="kw">var</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Any?</span> <span class="op">=</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb153-25" title="25"></a>
<a class="sourceLine" id="cb153-26" title="26">    <span class="cf">do</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb153-27" title="27">        println(a)</a>
<a class="sourceLine" id="cb153-28" title="28">    <span class="op">}</span> <span class="cf">while</span> (a == <span class="kw">null</span>)</a>
<a class="sourceLine" id="cb153-29" title="29"></a>
<a class="sourceLine" id="cb153-30" title="30">    a <span class="co">// Smart cast to Any</span></a>
<a class="sourceLine" id="cb153-31" title="31"><span class="op">}</span></a></code></pre></div>
</blockquote>
<h4 id="bound-smart-casts">Bound smart casts</h4>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(this is a stub)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">In some cases, it is possible to introduce smart casting <em>between properties</em> if it is known at compile-time that these properties are <em>bound</em> to each other. </span><span class="sentence">For instance, if a variable <code>a</code> is initialized as a copy of variable <code>b</code> and both are <a href="#smart-cast-sink-stability">stable</a>, they are guaranteed to reference the same runtime value and any assumption about <code>a</code> may be also applied to <code>b</code> and vice versa.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb154"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb154-1" title="1"><span class="kw">val</span> <span class="va">a</span><span class="op">:</span> <span class="dt">Any?</span> <span class="op">=</span> ...</a>
<a class="sourceLine" id="cb154-2" title="2"><span class="kw">val</span> <span class="va">b</span> <span class="op">=</span> a</a>
<a class="sourceLine" id="cb154-3" title="3"></a>
<a class="sourceLine" id="cb154-4" title="4"><span class="cf">if</span> (b <span class="kw">is</span> <span class="kw">Int</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb154-5" title="5">    <span class="co">// as a and b point to the same value,</span></a>
<a class="sourceLine" id="cb154-6" title="6">    <span class="co">// a also is Int</span></a>
<a class="sourceLine" id="cb154-7" title="7">    a.inc()</a>
<a class="sourceLine" id="cb154-8" title="8"><span class="op">}</span></a></code></pre></div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(as a matter of fact, the example above does not work)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">In more complex cases, however, it may not be trivial to deduce that two (or more) properties point to the same runtime object. </span><span class="sentence">This relation is known as <em>must-alias</em> relation between program references and it is implementation-defined in which cases a particular Kotlin compiler may safely assume this relation holds between two particular properties at a particular program point. </span><span class="sentence">However, it must guarantee that if two properties are considered bound, it is impossible for these properties to reference two different values at runtime.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">One way of implementing bound smart casts would be to divide the space of stable program properties into disjoint <em>alias sets</em> of properties, and the <a href="#data-flow-framework">analysis described above</a> links the smart cast data flow information to sets of properties instead of single properties.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Such view could be further refined by considering special <em>alias sets</em> separately; e.g., an alias set of definitely non-null properties, which would allow the compiler to infer that <code>a?.b !== null</code> implies <code>a !== null</code> (for non-nullable <code>b</code>).</span></p>
</div>
<h3 id="local-type-inference">Local type inference</h3>
<div class="paragraph">
<p><span class="sentence">Local type inference in Kotlin is the process of deducing the compile-time types of expressions, lambda expression parameters and properties. </span><span class="sentence">As previously mentioned, type inference is a <a href="#kotlin-type-constraints">type constraint</a> problem, and is usually solved by a type constraint solver.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In addition to the types of intermediate expressions, local type inference also performs deduction and substitution for generic type parameters of functions and types involved in every expression. </span><span class="sentence">You can use the <a href="#expressions-1">Expressions</a> part of this specification as a reference point on how the types for different expressions are constructed.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: additional effects of <a href="#smart-casts">smart casts</a> are considered in local type inference, if applicable.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Type inference in Kotlin is bidirectional; meaning the types of expressions may be derived not only from their arguments, but from their usage as well. </span><span class="sentence">Note that, albeit bidirectional, this process is still local, meaning it processes one statement at a time, strictly in the order of their appearance in a scope; e.g., the type of property in statement <span class="math inline">\(S_1\)</span> that goes before statement <span class="math inline">\(S_2\)</span> cannot be inferred based on how <span class="math inline">\(S_1\)</span> is used in <span class="math inline">\(S_2\)</span>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">As solving a type constraint system is not a definite process (there may be more than one valid solution for a given <a href="#type-constraint-solving">constraint system</a>), type inference may create several valid solutions. </span><span class="sentence">In particular, one may always derive a constraint <span class="math inline">\(A &lt;: T &lt;: B\)</span> for every free type variable <span class="math inline">\(T\)</span>, where types <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are both valid solutions.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this is valid even if <span class="math inline">\(T\)</span> is a free type variable without any explicit constraints, as every type in Kotlin has an implicit constraint <span class="math inline">\(\mathtt{kotlin.Nothing} &lt;: T &lt;: \mathtt{kotlin.Any?}\)</span>.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">In these cases an <a href="#finding-optimal-constraint-system-solution">optimal constraint system solution</a> is picked w.r.t. local type inference.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: for the purposes of local type inference, an optimal solution is the one which does not contain any free type variables with no explicit constraints on them.</span></p>
</div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Is this true?)</span></p>
</div>
</div>
<h3 id="function-signature-type-inference">Function signature type inference</h3>
<div class="paragraph">
<p><span class="sentence">Function signature type inference is a variant of <a href="#local-type-inference">local type inference</a>, which is performed for [function declarations], <a href="#lambda-literals">lambda literals</a> and <a href="#anonymous-function-declarations">anonymous function declarations</a>.</span></p>
</div>
<h4 id="named-and-anonymous-function-declarations">Named and anonymous function declarations</h4>
<div class="paragraph">
<p><span class="sentence">As described <a href="#function-declaration">here</a>, a named function declaration body may come in two forms: an expression body (a single expression) or a <a href="#code-blocks">control structure body</a>. </span><span class="sentence">For the latter case, an expected return type must be provided or is assumed to be <code>kotlin.Unit</code> and no special kind of type inference is needed. </span><span class="sentence">For the former case, an expected return type may be provided or can be inferred using <a href="#local-type-inference">local type inference</a> from the expression body. </span><span class="sentence">If the expected return type is provided, it is used as an expected constraint on the result type of the expression body.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Example:</span></p>
</div>
<div class="sourceCode" id="cb155"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb155-1" title="1"><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="fu">foo</span><span class="op">():</span> <span class="dt">T</span> <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb155-2" title="2"><span class="kw">fun</span> <span class="fu">bar</span><span class="op">():</span> <span class="dt">Int</span> = foo() <span class="co">// an expected constraint T&#39; &lt;: Int allows the result of `foo` to be inferred automatically.</span></a></code></pre></div>
</blockquote>
<h4 id="statements-with-lambda-literals">Statements with lambda literals</h4>
<div class="paragraph">
<p><span class="sentence">Complex statements involving one or more lambda literals introduce an additional level of complexity to type inference and overload resolution mechanisms. </span><span class="sentence">As mentioned in the <a href="#overload-resolution">overload resolution section</a>, the overload resolution of callables involved in such statements is performed regardless of the contents of the lambda expressions and before any processing of their bodies is performed (including local type inference).</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For a complex statement <span class="math inline">\(S\)</span> involving (potentially overloaded) callables <span class="math inline">\(C_1, \ldots, C_N\)</span> and lambda literals <span class="math inline">\(L_1, \ldots, L_M\)</span>, excluding the bodies of these literals, they are processed as follows.</span></p>
</div>
<ol type="1">
<li><span class="sentence">An empty <a href="#kotlin-type-constraints">type constraint system</a> <span class="math inline">\(Q\)</span> is created;</span></li>
<li><span class="sentence">The overload resolution, if possible, picks candidates for <span class="math inline">\(C_1, \ldots, C_N\)</span> according to the <a href="#overload-resolution">overload resolution</a> rules;</span></li>
<li><div class="paragraph">
<p><span class="sentence">For each lambda literal with unspecified number of parameters, we decide whether it has zero or one parameter based on the form of the callables and/or the expected type of the lambda literal. </span><span class="sentence">If there is no way to determine the number of parameters, it is assumed to be zero. </span><span class="sentence">If the number of parameters is determined to be one, the phantom parameter <code>it</code> is proceeded in further steps as if it was a named lambda parameter;</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: the presence or absence of the phantom parameter <code>it</code> in the lambda body does not influence this process in any way.</span></p>
</div>
</blockquote></li>
<li><div class="paragraph">
<p><span class="sentence">For each lambda body <span class="math inline">\(L_1, \ldots, L_N\)</span>, the expected constraints on the lambda arguments and/or lambda result type from the selected overload candidates (if any) are added to <span class="math inline">\(Q\)</span>, and the overload resolution for all statements in these bodies is performed w.r.t. updated type constraint system <span class="math inline">\(Q\)</span>. </span><span class="sentence">This may result in performing steps 1-3 in a recursive <em>top-down</em> fashion for nested lambda literals;</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: in some cases overload resolution may fail to pick a candidate, e.g., because the expected contraints are incomplete, causing the constraint system to be unsound. </span><span class="sentence">If this happens, it is implementation-defined whether the compiler continues the top-down analysis or stops abruptly.</span></p>
</div>
</blockquote></li>
<li><span class="sentence">When the top-down analysis is done and the overload candidates are fixed, local type inference is performed on each lambda body and each statement <em>bottom-up</em>, from the most inner lambda literals to the outermost ones, processing one lambda literal at a time, with the following additions.</span>
<ul>
<li><span class="sentence">When inferring type of the return value (the last expression of a lambda body and/or the subjects for <a href="#jump-expressions">return expressions</a> referring to this lambda literal), the additional constraints introduced on the result type of this lambda literal are added to <span class="math inline">\(Q\)</span>;</span></li>
<li><span class="sentence">If inference with these constraints fails, but the result type is a subtype of <code>kotlin.Unit</code>, the inference is repeated without the additional constraints on the return value;</span></li>
<li><span class="sentence">The type of each lambda literal is considered to be the functional type <span class="math inline">\(\operatorname{\text{FT}}(P_1, \ldots, P_S) \rightarrow R\)</span>, where <span class="math inline">\(P_1, \ldots, P_S\)</span> are the types of its parameters inferred from external constraints or specified in the lambda literal itself and <span class="math inline">\(R\)</span> is the inferred type of its return value in the presence of external constraints.</span></li>
</ul></li>
</ol>
<div class="paragraph">
<p><span class="sentence">The external constraints on lambda parameters, return value and body may come from the following sources:</span></p>
</div>
<ul>
<li><div class="paragraph">
<p><span class="sentence">The (possibly overloaded) callable which uses the lambda literal as an argument;</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: as overload resolution is performed before any lambda literal inference takes place, this candidate is always known before external constraints are needed;</span></p>
</div>
</blockquote></li>
<li><div class="paragraph">
<p><span class="sentence">The expected type of the declaration which uses the lambda literal as its body or initializer.</span></p>
</div></li>
</ul>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Examples:</span></p>
</div>
<div class="sourceCode" id="cb156"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb156-1" title="1"><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">T</span><span class="op">&gt;</span> <span class="fu">foo</span><span class="op">():</span> <span class="dt">T</span> <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb156-2" title="2"><span class="kw">fun</span> <span class="op">&lt;</span><span class="dt">R</span><span class="op">&gt;</span> <span class="fu">run</span><span class="op">(</span><span class="va">body</span><span class="op">:</span> <span class="op">()</span> <span class="op">-&gt;</span> <span class="dt">R</span><span class="op">):</span> <span class="dt">R</span> <span class="op">{</span> ... <span class="op">}</span></a>
<a class="sourceLine" id="cb156-3" title="3"></a>
<a class="sourceLine" id="cb156-4" title="4"><span class="kw">fun</span> <span class="fu">bar</span><span class="op">()</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb156-5" title="5">    <span class="kw">val</span> <span class="va">x</span> <span class="op">=</span> run <span class="op">{</span> </a>
<a class="sourceLine" id="cb156-6" title="6">        run <span class="op">{</span></a>
<a class="sourceLine" id="cb156-7" title="7">            run <span class="op">{</span></a>
<a class="sourceLine" id="cb156-8" title="8">                foo&lt;<span class="kw">Int</span>&gt;() <span class="co">// last expression inferred to be of type Int</span></a>
<a class="sourceLine" id="cb156-9" title="9">            <span class="op">}</span> <span class="co">// this lambda is inferred to be of type () -&gt; Int</span></a>
<a class="sourceLine" id="cb156-10" title="10">        <span class="op">}</span> <span class="co">// this lambda is inferred to be of type () -&gt; Int</span></a>
<a class="sourceLine" id="cb156-11" title="11">    <span class="op">}</span> <span class="co">// this lambda is inferred to be of type () -&gt; Int</span></a>
<a class="sourceLine" id="cb156-12" title="12">    <span class="co">// x is inferred to be of type Int</span></a>
<a class="sourceLine" id="cb156-13" title="13"></a>
<a class="sourceLine" id="cb156-14" title="14">    <span class="kw">val</span> <span class="va">y</span><span class="op">:</span> <span class="dt">Double</span> <span class="op">=</span> run <span class="op">{</span> <span class="co">// this lambda has an external constraint R&#39; &lt;: Double</span></a>
<a class="sourceLine" id="cb156-15" title="15">        run <span class="op">{</span> <span class="co">// this lambda has an external constraint R&#39;&#39; &lt;: Double</span></a>
<a class="sourceLine" id="cb156-16" title="16">            foo() <span class="co">// this call has an external constraint T&#39; &lt;: Double</span></a>
<a class="sourceLine" id="cb156-17" title="17">                  <span class="co">// allowing to infer T to be Double in foo</span></a>
<a class="sourceLine" id="cb156-18" title="18">        <span class="op">}</span></a>
<a class="sourceLine" id="cb156-19" title="19">    <span class="op">}</span></a>
<a class="sourceLine" id="cb156-20" title="20"><span class="op">}</span></a></code></pre></div>
</blockquote>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Type approximation for public API) TODO(Lambda analysis order (and the order of overloading vs type inference in general))</span></p>
</div>
</div>
<h2 id="runtime-type-information">Runtime type information</h2>
<div class="paragraph">
<p><span class="sentence">The <em>runtime type information</em> (RTTI) is the information about Kotlin types of values available from these values at runtime. </span><span class="sentence">RTTI affects the semantics of certain expressions, changing their evaluation depending on the amount of RTTI available for particular values, implementation, and platform:</span></p>
</div>
<ul>
<li><span class="sentence"><a href="#type-checking-expression">The type checking operator</a></span></li>
<li><span class="sentence"><a href="#cast-expression">The cast expression</a>, especially the <code>as?</code> operator</span></li>
<li><span class="sentence"><a href="#class-literals">Class literals</a> and the values they evaluate to</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><em>Runtime types</em> are particular instances of RTTI for a particular value at runtime. </span><span class="sentence">These model a subset of the Kotlin <a href="#type-system">type system</a>. </span><span class="sentence">Namely, the runtime types are limited to <a href="#classifier-types">classifier types</a>, <a href="#function-types">function types</a> and a special case of <code>kotlin.Nothing?</code> which is the type of <a href="#null-literal"><code>null</code> reference</a> and the only nullable runtime type. </span><span class="sentence">This includes the classifier types created by <a href="#object-literals">anonymous object literals</a>. </span><span class="sentence">There is a slight distinction between a Kotlin type system type and its runtime counterpart:</span></p>
</div>
<ul>
<li><span class="sentence">On some platforms, some particular types may have the same runtime type representation. </span><span class="sentence">This means that checking or casting values of these types works the same way as if they were the same type</span></li>
<li><span class="sentence">Generic types with the same classifier are not required to have different runtime representations. </span><span class="sentence">One cannot generally rely on them having the same representation outside of a particular platform. </span><span class="sentence">Platform specifications must clarify whether some or all types on these platforms have this feature.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">RTTI is also the source of information for platform-specific <em>reflection</em> facilities in the standard library.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The types actual values may have are limited to <a href="#classifier-types">class and object types</a> and <a href="#function-types">function types</a> as well as <code>kotlin.Nothing?</code> for the <code>null</code> reference. </span><span class="sentence"><code>kotlin.Nothing</code> (not to be confused with its nullable variant <code>kotlin.Nothing?</code>) is special in the way that this type is never encountered as a runtime type even though it may have a platform-specific representation. </span><span class="sentence">The reason for this is that this type is used to signify non-existent values.</span></p>
</div>
<h3 id="runtime-available-types">Runtime-available types</h3>
<div class="paragraph">
<p><span class="sentence"><em>Runtime-available types</em> are the types that can be guaranteed (during compilation) to have a concrete <em>runtime</em> counterpart. </span><span class="sentence">These include all the runtime types, their nullable variants as well as <a href="#reified-type-parameters"><code>reified</code> type parameters</a>, that are guaranteed to inline to a runtime type during type parameter substitution. </span><span class="sentence">Only runtime-available types may be passed (implicitly or explicitly) as substitutions to reified type parameters, used for type checks and safe casts. </span><span class="sentence">During these operations, the nullability of the type is checked using reference-equality to <code>null</code>, while the rest is performed by accessing the runtime type of a value and comparing it to the supplied runtime-available type.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">For all generic types that are not expected to have RTTI for their generic arguments, only â€œrawâ€ variants of generic types (denoted in code using the star-projected type notation or a special parameter-less notation <span><span class="TODO">(TODO: link?)</span><span class="TODO-marker">*</span></span>) are runtime-available.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: one may say that classifier generics are <em>partially</em> runtime available due to them having information about only the classifier part of the type</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence"><a href="#exceptions">Exception types</a> must be runtime-available to enable type checks that the <code>catch</code> clause of <a href="#try-expression"><code>try</code>-expression</a> performs.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Only non-nullable runtime types may be used in <code>class</code> literal expressions. </span><span class="sentence">These include reified type parameters with non-nullable upper bounds, as well as all classifier and function types.</span></p>
</div>
<h3 id="reflection">Reflection</h3>
<div class="paragraph">
<p><span class="sentence">Particular platforms may provide more complex facilities for runtime type introspection through the means of <em>reflection</em> â€” special platform-provided part of the standard library that allows to access more detailed information about types and declarations at runtime. </span><span class="sentence">It is, however, platform-specific and one must refer to particular platform documentation for details.</span></p>
</div>
<h2 id="exceptions">Exceptions</h2>
<div class="paragraph">
<p><span class="sentence">An <em>exception</em> type declaration is any type declaration that meets the following criteria:</span></p>
</div>
<ul>
<li><span class="sentence">It is a <a href="#classifier-declaration">class or object declaration</a>;</span></li>
<li><span class="sentence">It has <code>kotlin.Throwable</code> as one of its supertype (either explicitly or implicitly);</span></li>
<li><span class="sentence">It has no type parameters.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Any object of an exception type may be <em>thrown</em> or <em>caught</em>.</span></p>
</div>
<h3 id="catching-exceptions">Catching exceptions</h3>
<div class="paragraph">
<p><span class="sentence">A <a href="#try-expression"><code>try</code>-expression</a> becomes <em>active</em> once the execution of the program enters it and stops being active once the execution of the program leaves it. </span><span class="sentence">If there are several active <code>try</code>-expressions, the one that became active last is <em>currently active</em>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If an exception is thrown while a try-expression is currently active and this try-expression has any <code>catch</code>-blocks, those <code>catch</code>-blocks are checked for applicability for this exception. </span><span class="sentence">A <code>catch</code>-block is applicable for an exception object if the runtime type of this expression object is a subtype of the bound exception parameter of the <code>catch</code>-block.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the applicability check is subject to Kotlin <a href="#runtime-type-information">runtime type information</a> limitations and may be dependent on the platform implementation of runtime type information, as well as the implementation of exception classes.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If a <code>catch</code>-block is applicable for the exception thrown, the code inside the block is evaluated and the value of the block is returned as the value of a <code>try</code>-expression. </span><span class="sentence">If the <code>try</code>-expression contains a <code>finally</code>-block, the body of this block is evaluated after the body of the selected <code>catch</code> block. </span><span class="sentence">If these evaluations results in throwing other exceptions (including the one caught by the <code>catch</code>-block), they are propagated as if none of the <code>catch</code>-blocks were applicable.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: the <code>try</code>-expression itself is not considered active inside its own <code>catch</code> and <code>finally</code> blocks.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">If none of the <code>catch</code>-blocks of the currently active <code>try</code>-expression are applicable for the exception, the <code>finally</code> block (if any) is still evaluated, and the exception is propagated, meaning the next active <code>try</code>-expression becomes currently active and is checked for applicability.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">If there are no active <code>try</code>-blocks, the execution of the program finishes, signaling that the exception has reached top level.</span></p>
</div>
<h3 id="throwing-exceptions">Throwing exceptions</h3>
<div class="paragraph">
<p><span class="sentence">Throwing an exception object is done using <a href="#throw-expressions"><code>throw</code>-expression</a>. </span><span class="sentence">A valid throw expression <code>throw e</code> requires that:</span></p>
</div>
<ul>
<li><span class="sentence"><code>e</code> is a value of a <a href="#runtime-available-types">runtime-available type</a>;</span></li>
<li><span class="sentence"><code>e</code> is a value of an <a href="#exceptions">exception type</a>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Throwing an exception results in <a href="#catching-exceptions">checking active <code>try</code>-blocks</a>.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: Kotlin does not specify whether throwing exceptions involves construction of a program stack trace and how the actual exception handling is implemented. </span><span class="sentence">This is a platform-dependent mechanism.</span></p>
</div>
</blockquote>
<h2 id="annotations">Annotations</h2>
<div class="paragraph">
<p><span class="sentence">Annotations are a form of syntactically-defined metadata which may be associated with different entities in a Kotlin program. </span><span class="sentence">Annotations are specified in the source code of the program and may be accessed on a particular platform using platform-specific mechanisms both by the compiler (and source-processing tools) and at runtime (using <a href="#reflection">reflection</a> facilities). </span><span class="sentence">Values of annotation types cannot be created directly, but can be operated on when accessed using platform-specific facilities.</span></p>
</div>
<h3 id="annotation-values">Annotation values</h3>
<div class="paragraph">
<p><span class="sentence">An annotation value is a value of a special <a href="#annotation-declarations">annotation type</a>. </span><span class="sentence">An annotation type is a special kind of class type which is allowed to include read-only properties of the following types:</span></p>
</div>
<ul>
<li><span class="sentence"><a href="#built-in-integer-types-1">Integer types</a>;</span></li>
<li><span class="sentence"><a href="#enum-class-declaration">Enum types</a>;</span></li>
<li><span class="sentence"><a href="#kotlin.string">String type</a>;</span></li>
<li><span class="sentence">Other annotation types;</span></li>
<li><span class="sentence"><a href="#array-types">Arrays</a> of any type listed above.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">Annotation classes are not allowed to have any member functions, constructors or mutable properties. </span><span class="sentence">They are also not allowed to have declared supertypes and are considered to be implicitly derived from <code>kotlin.Annotation</code>.</span></p>
</div>
<h3 id="annotation-retention">Annotation retention</h3>
<div class="paragraph">
<p><span class="sentence">The retention level of an annotation declares which compilation artifacts (for a particular compiler on a particular platform) <em>retain</em> this kind of annotation. </span><span class="sentence">There are the following types of retention available:</span></p>
</div>
<ul>
<li><span class="sentence">Source retention (accessible by source-processing tools);</span></li>
<li><span class="sentence">Binary retention (retained in compilation artifacts);</span></li>
<li><div class="paragraph">
<p><span class="sentence">Runtime retention (accessible at runtime).</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Each subsequent level inherits what is accessible on the previous levels.</span></p>
</div>
</blockquote></li>
</ul>
<div class="paragraph">
<p><span class="sentence">For availability and particular ways of accessing the metadata specified by these annotations please refer to the corresponding platform-specific documentation.</span></p>
</div>
<h3 id="annotation-targets">Annotation targets</h3>
<div class="paragraph">
<p><span class="sentence">The <em>target</em> of a particular type of annotations is the kind of program entity which this annotations may be placed on. </span><span class="sentence">There are the following targets available:</span></p>
</div>
<ul>
<li><span class="sentence">A <a href="#class-declaration">class declaration</a> (including annotation classes);</span></li>
<li><span class="sentence">An <a href="#annotation-class-declaration">annotation class declaration</a>;</span></li>
<li><span class="sentence">A <a href="#type-parameters">type parameter</a>;</span></li>
<li><span class="sentence">A <a href="#property-declaration">property declaration</a>;</span></li>
<li><span class="sentence">A <a href="#getters-and-setters">property backing field</a>;</span></li>
<li><span class="sentence">A <a href="#getters-and-setters">property getter</a>;</span></li>
<li><span class="sentence">A <a href="#getters-and-setters">property setter</a>;</span></li>
<li><span class="sentence">A <a href="#local-property-declaration">local property declaration</a>;</span></li>
<li><span class="sentence">A value parameter in <a href="#function-declaration">function</a> or <a href="#constructor-declaration">constructor</a> declaration;</span></li>
<li><span class="sentence">A <a href="#constructor-declaration">constructor</a>;</span></li>
<li><span class="sentence">A <a href="#function-declaration">function declaration</a>;</span></li>
<li><span class="sentence">A <a href="#type-system">type</a> usage;</span></li>
<li><span class="sentence">An arbitrary <a href="#expressions-1">expression</a>;</span></li>
<li><span class="sentence">A <a href="#scopes-and-identifiers">Kotlin file</a>;</span></li>
<li><span class="sentence">A <a href="#type-alias">type alias declaration</a>.</span></li>
</ul>
<h3 id="annotation-declarations">Annotation declarations</h3>
<div class="paragraph">
<p><span class="sentence">Annotations are declared using <a href="#annotation-class-declaration">annotation class declarations</a>. </span><span class="sentence">See the corresponding section for details.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">Annotations may be declared <em>repeatable</em> (meaning that the same annotation may be applied to the same entity more than once) or <em>non-repeatable</em> (meaning that only one annotation of a particular type may be applied to the same entity).</span></p>
</div>
<h3 id="built-in-annotations">Built-in annotations</h3>
<ul>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.Retention</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.Retention</code> is an annotation which is only used on annotation classes to specify their annotation retention level. </span><span class="sentence">It has the following single field:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb157"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb157-1" title="1"><span class="kw">val</span> <span class="va">value</span><span class="op">:</span> <span class="dt">AnnotationRetention</span> <span class="op">=</span> AnnotationRetention.RUNTIME</a></code></pre></div>
<span class="sentence">The retention level of the annotated annotation.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.AnnotationRetention</code> is an enum class with the following values (see <a href="#annotation-retention">Annotation retention section</a> for details):</span></p>
</div>
<ul>
<li><span class="sentence"><code>SOURCE</code>;</span></li>
<li><span class="sentence"><code>BINARY</code>;</span></li>
<li><span class="sentence"><code>RUNTIME</code>.</span></li>
</ul></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.Target</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.Target</code> is an annotation which is only used on annotation classes to specify targets those annotations are valid for. </span><span class="sentence">It has the following single field:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb158"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb158-1" title="1"><span class="kw">vararg</span> <span class="kw">val</span> <span class="va">allowedTargets</span><span class="op">:</span> <span class="dt">AnnotationTarget</span></a></code></pre></div>
<span class="sentence">The allowed annotation targets of the annotated annotation.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.AnnotationTarget</code> is an enum class with the following values (see <a href="#annotation-targets">Annotation targets section</a> for details):</span></p>
</div>
<ul>
<li><span class="sentence"><code>CLASS</code>;</span></li>
<li><span class="sentence"><code>ANNOTATION_CLASS</code>;</span></li>
<li><span class="sentence"><code>TYPE_PARAMETER</code>;</span></li>
<li><span class="sentence"><code>PROPERTY</code>;</span></li>
<li><span class="sentence"><code>FIELD</code>;</span></li>
<li><span class="sentence"><code>LOCAL_VARIABLE</code>;</span></li>
<li><span class="sentence"><code>VALUE_PARAMETER</code>;</span></li>
<li><span class="sentence"><code>CONSTRUCTOR</code>;</span></li>
<li><span class="sentence"><code>FUNCTION</code>;</span></li>
<li><span class="sentence"><code>PROPERTY_GETTER</code>;</span></li>
<li><span class="sentence"><code>PROPERTY_SETTER</code>;</span></li>
<li><span class="sentence"><code>TYPE</code>;</span></li>
<li><span class="sentence"><code>EXPRESSION</code>;</span></li>
<li><span class="sentence"><code>FILE</code>;</span></li>
<li><span class="sentence"><code>TYPEALIAS</code>.</span></li>
</ul></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.Repeatable</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.annotation.Repeatable</code> is an annotation which is only used on annotation classes to specify whether this particular annotation is repeatable. </span><span class="sentence">Annotations are non-repeatable by default.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.Experimental</code> / <code>kotlin.UseExperimental</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Experimental</code> is an annotation class with a single field:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb159"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb159-1" title="1"><span class="kw">val</span> <span class="va">level</span><span class="op">:</span> <span class="dt">Level</span> <span class="op">=</span> Level.ERROR</a></code></pre></div>
<span class="sentence">The severity level of the experimental status with two possible values: <code>Level.WARNING</code> and <code>Level.ERROR</code>.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">This annotation is used to introduce implementation-defined experimental language or standard library features.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.UseExperimental</code> is an annotation class with a single field:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb160"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb160-1" title="1"><span class="kw">vararg</span> <span class="kw">val</span> <span class="va">markerClass</span><span class="op">:</span> <span class="dt">KClass</span><span class="op">&lt;</span><span class="kw">out</span> <span class="dt">Annotation</span><span class="op">&gt;</span></a></code></pre></div>
<span class="sentence">The classes which this annotation allows to use.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence">This annotation is used to explicitly mark declarations which use experimental features marked by <code>kotlin.Experimental</code>.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">It is implementation-defined how this annotation is processed.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Experimental status is still experimental itself)</span></p>
</div>
</div></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.Deprecated</code> / <code>kotlin.ReplaceWith</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Deprecated</code> is an annotation class with the following fields:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb161"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb161-1" title="1"><span class="kw">val</span> <span class="va">message</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">A message supporting the deprecation.</span></p>
</div></li>
<li><div class="sourceCode" id="cb162"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb162-1" title="1"><span class="kw">val</span> <span class="va">replaceWith</span><span class="op">:</span> <span class="dt">ReplaceWith</span> <span class="op">=</span> ReplaceWith(<span class="st">&quot;&quot;</span>)</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">An optional replacement for the deprecated code.</span></p>
</div></li>
<li><div class="sourceCode" id="cb163"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb163-1" title="1"><span class="kw">val</span> <span class="va">level</span><span class="op">:</span> <span class="dt">DeprecationLevel</span> <span class="op">=</span> DeprecationLevel.WARNING</a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">The deprecation level with three possible values: <code>DeprecationLevel.WARNING</code>, <code>DeprecationLevel.ERROR</code> and <code>DeprecationLevel.HIDDEN</code>.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.ReplaceWith</code> is itself an annotation class containing the information on how to perform the replacement in case it is provided. </span><span class="sentence">It has the following fields:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb164"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb164-1" title="1"><span class="kw">val</span> <span class="va">expression</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">The replacement code.</span></p>
</div></li>
<li><div class="sourceCode" id="cb165"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb165-1" title="1"><span class="kw">vararg</span> <span class="kw">val</span> <span class="va">imports</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<div class="paragraph">
<p><span class="sentence">An array of imports needed for the replacement code to work correctly.</span></p>
</div></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Deprecated</code> is a built-in annotation supporting the deprecation cycle for declarations: marking some declarations as outdated, soon to be replaced with other declarations, or not recommended for use. </span><span class="sentence">It is implementation-defined how this annotation is processed, with the following recommendations:</span></p>
</div>
<ul>
<li><span class="sentence">Attempting to use a declaration with deprecation level of <code>DeprecationLevel.WARNING</code> should produce a compile-time warning;</span></li>
<li><span class="sentence">Attempting to use a declaration with deprecation level of <code>DeprecationLevel.ERROR</code> should produce a compile-time error.</span></li>
</ul></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.Suppress</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Suppress</code> is an annotation class with the following single field:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb166"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb166-1" title="1"><span class="kw">vararg</span> <span class="kw">val</span> <span class="va">names</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<span class="sentence">The names of features this annotation is suppressing.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.Suppress</code> is used to optionally mark any piece of code as suppressing some language feature, such as a compiler warning, an IDE mechanism or a language feature. </span><span class="sentence">The names of features which one can suppress with this annotation are implementation-defined, as is the processing of this annotation itself.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.SinceKotlin</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.SinceKotlin</code> is an annotation class with the following single field:</span></p>
</div>
<ul>
<li><div class="sourceCode" id="cb167"><pre class="sourceCode kotlin"><code class="sourceCode kotlin"><a class="sourceLine" id="cb167-1" title="1"><span class="kw">val</span> <span class="va">version</span><span class="op">:</span> <span class="dt">String</span></a></code></pre></div>
<span class="sentence">The version of Kotlin language.</span></li>
</ul>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.SinceKotlin</code> is used to mark a declaration which is only available since a particular version of the language. </span><span class="sentence">These mostly refer to standard library declarations. </span><span class="sentence">It is implementation-defined how this annotation is processed.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.UnsafeVariance</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.UnsafeVariance</code> is an annotation class with no fields which is only applicable to types. </span><span class="sentence">Any type instance marked by this annotation explicitly states that the <a href="#type-parameter-variance">variance</a> errors arising for this particular type instance are to be ignored by the compiler.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.DslMarker</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.DslMarker</code> is an annotation class with no fields which is applicable only to other annotation classes. </span><span class="sentence">An annotation class annotated with <code>kotlin.DslMarker</code> is marked as a marker of a specific DSL (domain-specific language). </span><span class="sentence">Any type annotated with such a marker is said to belong to that specific DSL. </span><span class="sentence">This affects <a href="#overload-resolution">overload resolution</a> in the following way: no two implicit receivers with types belonging to the same DSL are available in the same scope. </span><span class="sentence">See <a href="#receivers">Overload resolution section</a> for details.</span></p>
</div></li>
<li><div class="paragraph">
<p><span class="sentence"><code>kotlin.PublishedApi</code></span></p>
</div>
<div class="paragraph">
<p><span class="sentence"><code>kotlin.PublishedApi</code> is an annotation class with no fields which is applicable to any declaration. </span><span class="sentence">It may be applied to any declaration with <code>internal</code> visibility to make it available to <code>public</code> <code>inline</code> declarations. </span><span class="sentence">See <a href="#declaration-visibility">Declaration visibility section</a> for details.</span></p>
</div></li>
</ul>
<h2 id="coroutines">Coroutines</h2>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO([Kotlin 1.3+, Experimental] Everything: state machine, context, etc.) TODO([Kotlin 1.3+, Experimental] Update w.r.t. structured concurrency)</span></p>
</div>
</div>
<h3 id="suspending-functions">Suspending functions</h3>
<div class="paragraph">
<p><span class="sentence">Most <a href="#function-declaration">functions</a> in Kotlin may be marked <em>suspending</em> using the special <code>suspend</code> modifier. </span><span class="sentence">There are almost no additional restrictions: regular functions, extension functions, top-level functions, local functions, lambda literals, all these may be suspending functions.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: the following functions and function values cannot be marked as suspending.</span></p>
</div>
<ul>
<li><span class="sentence"><a href="#anonymous-function-declarations">anonymous function declarations</a>;</span></li>
<li><span class="sentence"><a href="#class-declaration">constructors</a>;</span></li>
<li><span class="sentence"><a href="#getters-and-setters">property getter/setters</a>;</span></li>
<li><span class="sentence"><a href="#delegated-property-declaration">delegation-related operator functions</a>.</span></li>
</ul>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: platform-specific implementations may extend the restrictions on which kinds of functions may be suspending.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Suspeding functions have a <a href="#suspending-function-types">suspending function type</a>, also marked using the <code>suspend</code> modifier.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(<code>suspend val</code>?)</span></p>
</div>
</div>
<div class="paragraph">
<p><span class="sentence">A suspending function is different from non-suspending functions by potentially having zero or more <em>suspension points</em> â€” statements in its body which may pause the function execution to be resumed at a later moment in time. </span><span class="sentence">The main source of suspension points are calls to other suspending functions which represent possible suspension points.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: suspension points are important because at these points another function may start in the same flow of execution, leading to potential changes in the shared state.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">Non-suspending functions may not call suspending functions directly, as they do not support suspension points. </span><span class="sentence">Suspending functions may call non-suspending functions without any limitations; such calls do not create suspension points.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Important: an exception to this rule are non-suspending inlined lambda parameters: if the higher-order function invoking such a lambda is called from a suspending function, this lambda is allowed to also have suspension points and call other suspending functions.</span></p>
</div>
</blockquote>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: suspending functions interleaving each other in this manner are not dissimilar to how functions from different threads interact on platforms with multi-threading support. </span><span class="sentence">There are, however, several key differences. </span><span class="sentence">First, suspending functions may pause only at suspension points, i.e., they cannot be paused at an arbitrary execution point. </span><span class="sentence">Second, this interleaving may happen on a single platform thread.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In a multi-threaded environment suspending functions may also be interleaved by the platform-dependent concurrent execution, independent of the interleaving of coroutines.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">The implementation of suspending functions is platform-dependent. </span><span class="sentence">Please refer to the platform documentation for details.</span></p>
</div>
<h3 id="coroutines-1">Coroutines</h3>
<div class="paragraph">
<p><span class="sentence">A <em>coroutine</em> is a concept similar to a thread in traditional concurrent programming, but based on <em>cooperative multitasking</em>, e.g., the switching between different execution contexts is done by the coroutines themselves rather than the operating system or a virtual machine.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">In Kotlin, coroutines are used to implement <a href="#suspending-functions">suspending functions</a> and can switch contexts only at suspension points.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">A call to a suspending function creates and starts a coroutine. </span><span class="sentence">As one can call a suspending function only from another suspending function, we need a way to bootstrap this process from a non-suspending context.</span></p>
</div>
<blockquote>
<div class="paragraph">
<p><span class="sentence">Note: this is required as most platforms are unaware of coroutines or suspending functions, and do not provide a suspending entry point. </span><span class="sentence">However, a Kotlin compiler may elect to provide a suspending entry point on a specific platform.</span></p>
</div>
</blockquote>
<div class="paragraph">
<p><span class="sentence">One of the ways of starting suspending function from a non-suspending context is via a <em>coroutine builder</em>: a non-suspending function which takes a suspending function type argument (e.g., a suspending lambda literal) and handles the coroutine lifecycle.</span></p>
</div>
<div class="paragraph">
<p><span class="sentence">The implementation of coroutines is platform-dependent. </span><span class="sentence">Please refer to the platform documentation for details.</span></p>
</div>
<div class="TODO">
<div class="paragraph">
<p><span class="sentence">TODO(Coroutine support in the standard library?)</span></p>
</div>
</div>
<h2 id="concurrency">Concurrency</h2>
<div class="paragraph">
<p><span class="sentence">Kotlin Core does not specify the semantics of the code running in concurrent environments. </span><span class="sentence">For information on threading APIs, memory model, supported synchronization and other concurrency-related capabilities of Kotlin on your platform, please refer to platform documentation.</span></p>
</div>
</body>
</html>
