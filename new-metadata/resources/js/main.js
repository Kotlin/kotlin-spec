/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./kotlin-js-min/main/front-end.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./kotlin-js-min/main/front-end.js":
/*!*****************************************!*\
  !*** ./kotlin-js-min/main/front-end.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! kotlin */ "./kotlin-js-min/main/kotlin.js"), __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), __webpack_require__(/*! kotlinx-serialization-kotlinx-serialization-runtime */ "./kotlin-js-min/main/kotlinx-serialization-kotlinx-serialization-runtime.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, Kotlin, $module$jquery, $module$kotlinx_serialization_kotlinx_serialization_runtime) {
  'use strict';
  var throwCCE = Kotlin.throwCCE;
  var numberToInt = Kotlin.numberToInt;
  var replace = Kotlin.kotlin.text.replace_680rmw$;
  var Kind_OBJECT = Kotlin.Kind.OBJECT;
  var checkIndexOverflow = Kotlin.kotlin.collections.checkIndexOverflow_za3lpa$;
  var arrayListOf = Kotlin.kotlin.collections.arrayListOf_i5x0yv$;
  var Kind_CLASS = Kotlin.Kind.CLASS;
  var LinkedHashMap_init = Kotlin.kotlin.collections.LinkedHashMap_init_q3lmfv$;
  var JsonConfiguration = $module$kotlinx_serialization_kotlinx_serialization_runtime.kotlinx.serialization.json.JsonConfiguration;
  var Json = $module$kotlinx_serialization_kotlinx_serialization_runtime.kotlinx.serialization.json.Json;
  var Enum = Kotlin.kotlin.Enum;
  var throwISE = Kotlin.throwISE;
  var ensureNotNull = Kotlin.ensureNotNull;
  var toInt = Kotlin.kotlin.text.toInt_pdl1vz$;
  var trimEnd = Kotlin.kotlin.text.trimEnd_gw00vp$;
  var Unit = Kotlin.kotlin.Unit;
  var Regex_init = Kotlin.kotlin.text.Regex_init_61zpoe$;
  var last = Kotlin.kotlin.collections.last_2p1efm$;
  var trimIndent = Kotlin.kotlin.text.trimIndent_pdl1vz$;
  var equals = Kotlin.equals;
  var to = Kotlin.kotlin.to_ujzrz7$;
  var mutableMapOf = Kotlin.kotlin.collections.mutableMapOf_qfcya0$;
  var mapOf = Kotlin.kotlin.collections.mapOf_qfcya0$;
  var ArrayList_init = Kotlin.kotlin.collections.ArrayList_init_287e2$;
  var joinToString = Kotlin.kotlin.collections.joinToString_fmv235$;
  var IntRange = Kotlin.kotlin.ranges.IntRange;
  var slice = Kotlin.kotlin.collections.slice_6bjbi1$;
  var until = Kotlin.kotlin.ranges.until_dqglrj$;
  var println = Kotlin.kotlin.io.println_s8jyv4$;
  var listOf = Kotlin.kotlin.collections.listOf_i5x0yv$;
  var throwUPAE = Kotlin.throwUPAE;
  var mutableListOf = Kotlin.kotlin.collections.mutableListOf_i5x0yv$;
  var toString = Kotlin.toString;
  var LinkedHashSet_init = Kotlin.kotlin.collections.LinkedHashSet_init_287e2$;
  var split = Kotlin.kotlin.text.split_ip8yn$;
  var listOf_0 = Kotlin.kotlin.collections.listOf_mh5how$;
  var RegexOption = Kotlin.kotlin.text.RegexOption;
  var Regex_init_0 = Kotlin.kotlin.text.Regex_init_sb3q2$;
  var StringBuilder_init = Kotlin.kotlin.text.StringBuilder_init;
  var json = Kotlin.kotlin.js.json_pyyo18$;
  var reversed = Kotlin.kotlin.collections.reversed_7wnvza$;
  var toList = Kotlin.kotlin.collections.toList_us0mfu$;
  var copyToArray = Kotlin.kotlin.collections.copyToArray;
  var Map = Kotlin.kotlin.collections.Map;
  var Exception_init_0 = Kotlin.kotlin.Exception_init;
  var Pair = Kotlin.kotlin.Pair;
  var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
  var addAll = Kotlin.kotlin.collections.addAll_ye1y7v$;
  var NotImplementedError_init = Kotlin.kotlin.NotImplementedError;
  var numberToDouble = Kotlin.numberToDouble;
  var round = Kotlin.kotlin.math.round_14dthe$;
  var StringBuilder_init_0 = Kotlin.kotlin.text.StringBuilder_init_za3lpa$;
  TestType.prototype = Object.create(Enum.prototype);
  TestType.prototype.constructor = TestType;
  TestElementKey.prototype = Object.create(Enum.prototype);
  TestElementKey.prototype.constructor = TestElementKey;
  DiagnosticsTestArea.prototype = Object.create(TestArea.prototype);
  DiagnosticsTestArea.prototype.constructor = DiagnosticsTestArea;
  CodegenBoxTestArea.prototype = Object.create(TestArea.prototype);
  CodegenBoxTestArea.prototype.constructor = CodegenBoxTestArea;
  NavigationType.prototype = Object.create(Enum.prototype);
  NavigationType.prototype.constructor = NavigationType;
  GithubTestsLoader$TestFileType.prototype = Object.create(Enum.prototype);
  GithubTestsLoader$TestFileType.prototype.constructor = GithubTestsLoader$TestFileType;
  GithubTestsLoaderType.prototype = Object.create(Enum.prototype);
  GithubTestsLoaderType.prototype.constructor = GithubTestsLoaderType;
  TestAreaEnum.prototype = Object.create(Enum.prototype);
  TestAreaEnum.prototype.constructor = TestAreaEnum;
  function MarkUp() {
    MarkUp_instance = this;
  }
  MarkUp.prototype.showMarkUpForParagraphs_w6g9p7$ = function (paragraphsInfo, sectionsPath) {
    var tmp$, tmp$_0;
    var index = 0;
    tmp$ = paragraphsInfo.iterator();
    while (tmp$.hasNext()) {
      var item = tmp$.next();
      var tmp$_1;
      var paragraphNumber = checkIndexOverflow((tmp$_0 = index, index = tmp$_0 + 1 | 0, tmp$_0)) + 1 | 0;
      var $receiver = $module$jquery(Kotlin.isType(tmp$_1 = item.get_11rb$('paragraphElement'), HTMLElement) ? tmp$_1 : throwCCE());
      $receiver.addClass('with-tests');
      var paragraphEl = $receiver;
      this.showSentencesNumberForParagraph_cuwkv1$(paragraphEl, paragraphNumber, sectionsPath);
    }
  };
  function MarkUp$showSentencesNumberForParagraph$lambda(closure$sentenceCounter, closure$sectionPath, closure$paragraphNumber, this$MarkUp) {
    return function (f, el) {
      var tmp$;
      var sentence = $module$jquery(el);
      var existingNumberInfo = sentence.find('.number-info');
      if (numberToInt(existingNumberInfo.length) > 0) {
        existingNumberInfo.remove();
      }
      this$MarkUp.insertSentenceNumber_bgz0f7$(sentence, closure$sentenceCounter.v, closure$sectionPath, closure$paragraphNumber, closure$sentenceCounter.v);
      return tmp$ = closure$sentenceCounter.v, closure$sentenceCounter.v = tmp$ + 1 | 0, tmp$;
    };
  }
  MarkUp.prototype.showSentencesNumberForParagraph_cuwkv1$ = function (paragraph, paragraphNumber, sectionPath) {
    var sentences = $module$jquery(paragraph).find('.sentence');
    var sentenceCounter = {v: 1};
    this.insertParagraphNumber_qp894f$($module$jquery(paragraph), paragraphNumber, sectionPath, paragraphNumber);
    sentences.each(MarkUp$showSentencesNumberForParagraph$lambda(sentenceCounter, sectionPath, paragraphNumber, this));
  };
  MarkUp.prototype.insertParagraphNumber_qp894f$ = function (element, number, sectionPath, paragraphNumber) {
    element.prepend(format("<span class='paragraph-link' data-link='{1}'>{2}<\/span>", ['paragraph=' + replace(sectionPath, ' ', '') + ',' + paragraphNumber, number]));
  };
  MarkUp.prototype.insertSentenceNumber_bgz0f7$ = function (element, number, sectionPath, paragraphNumber, sentenceNumber) {
    element.prepend(format("<span class='number-info' data-path='{1}' data-link='{2}'>{3}<\/span>", [sectionPath + ' -> paragraph ' + paragraphNumber + ' -> sentence ' + sentenceNumber, 'sentence=' + replace(sectionPath, ' ', '') + ',' + paragraphNumber + ',' + sentenceNumber, number]));
  };
  MarkUp.$metadata$ = {kind: Kind_OBJECT, simpleName: 'MarkUp', interfaces: []};
  var MarkUp_instance = null;
  function MarkUp_getInstance() {
    if (MarkUp_instance === null) {
      new MarkUp();
    }
    return MarkUp_instance;
  }
  function SpecConfig() {
    SpecConfig$Companion_getInstance();
  }
  function SpecConfig$Companion() {
    SpecConfig$Companion_instance = this;
    this.testAreasToLoad = arrayListOf([new CodegenBoxTestArea(), new DiagnosticsTestArea()]);
  }
  SpecConfig$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var SpecConfig$Companion_instance = null;
  function SpecConfig$Companion_getInstance() {
    if (SpecConfig$Companion_instance === null) {
      new SpecConfig$Companion();
    }
    return SpecConfig$Companion_instance;
  }
  function SectionTestSet(loadedTestAreas) {
    this.loadedTestAreas = loadedTestAreas;
    this.testAreaTestsMap = LinkedHashMap_init();
    var tmp$;
    tmp$ = this.loadedTestAreas.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var $receiver = this.testAreaTestsMap;
      var key = element.path;
      var value = element.listOfTests;
      $receiver.put_xwzc9p$(key, value);
    }
  }
  SectionTestSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'SectionTestSet', interfaces: []};
  function Test(testElementInfo, testContainer, testPath) {
    this.testElementInfo = testElementInfo;
    this.testContainer = testContainer;
    this.testPath = testPath;
  }
  Test.$metadata$ = {kind: Kind_CLASS, simpleName: 'Test', interfaces: []};
  function TestMapData(content, contentPath) {
    this.contentPath = contentPath;
    this.testMapJsonElement = null;
    this.testMapJsonElement = (new Json(JsonConfiguration.Companion.Stable)).parseJson_61zpoe$(content);
  }
  TestMapData.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestMapData', interfaces: []};
  function TestPath(paragraph, testType, testSentence) {
    this.paragraph = paragraph;
    this.testType = testType;
    this.testSentence = testSentence;
  }
  TestPath.prototype.toString = function () {
    return 'p-' + this.paragraph + '/' + this.testType + '/' + this.testSentence;
  };
  TestPath.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestPath', interfaces: []};
  function TestType(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function TestType_initFields() {
    TestType_initFields = function () {
    };
    TestType$POSITIVE_instance = new TestType('POSITIVE', 0);
    TestType$NEGATIVE_instance = new TestType('NEGATIVE', 1);
  }
  var TestType$POSITIVE_instance;
  function TestType$POSITIVE_getInstance() {
    TestType_initFields();
    return TestType$POSITIVE_instance;
  }
  var TestType$NEGATIVE_instance;
  function TestType$NEGATIVE_getInstance() {
    TestType_initFields();
    return TestType$NEGATIVE_instance;
  }
  TestType.prototype.toString = function () {
    return this.name.toLowerCase();
  };
  TestType.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestType', interfaces: [Enum]};
  function TestType$values() {
    return [TestType$POSITIVE_getInstance(), TestType$NEGATIVE_getInstance()];
  }
  TestType.values = TestType$values;
  function TestType$valueOf(name) {
    switch (name) {
      case 'POSITIVE':
        return TestType$POSITIVE_getInstance();
      case 'NEGATIVE':
        return TestType$NEGATIVE_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.entities.TestType.' + name);
    }
  }
  TestType.valueOf_61zpoe$ = TestType$valueOf;
  function TestContainer(content, contentPath) {
    if (content === void 0)
      content = '';
    if (contentPath === void 0)
      contentPath = '';
    this.content = content;
    this.contentPath = contentPath;
    this.parsedTest = 'TODO';
  }
  TestContainer.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestContainer', interfaces: []};
  function TestElementKey(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function TestElementKey_initFields() {
    TestElementKey_initFields = function () {
    };
    TestElementKey$specVersion_instance = new TestElementKey('specVersion', 0);
    TestElementKey$casesNumber_instance = new TestElementKey('casesNumber', 1);
    TestElementKey$description_instance = new TestElementKey('description', 2);
    TestElementKey$path_instance = new TestElementKey('path', 3);
    TestElementKey$unexpectedBehaviour_instance = new TestElementKey('unexpectedBehaviour', 4);
  }
  var TestElementKey$specVersion_instance;
  function TestElementKey$specVersion_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$specVersion_instance;
  }
  var TestElementKey$casesNumber_instance;
  function TestElementKey$casesNumber_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$casesNumber_instance;
  }
  var TestElementKey$description_instance;
  function TestElementKey$description_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$description_instance;
  }
  var TestElementKey$path_instance;
  function TestElementKey$path_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$path_instance;
  }
  var TestElementKey$unexpectedBehaviour_instance;
  function TestElementKey$unexpectedBehaviour_getInstance() {
    TestElementKey_initFields();
    return TestElementKey$unexpectedBehaviour_instance;
  }
  TestElementKey.prototype.toString = function () {
    return this.name;
  };
  TestElementKey.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestElementKey', interfaces: [Enum]};
  function TestElementKey$values() {
    return [TestElementKey$specVersion_getInstance(), TestElementKey$casesNumber_getInstance(), TestElementKey$description_getInstance(), TestElementKey$path_getInstance(), TestElementKey$unexpectedBehaviour_getInstance()];
  }
  TestElementKey.values = TestElementKey$values;
  function TestElementKey$valueOf(name) {
    switch (name) {
      case 'specVersion':
        return TestElementKey$specVersion_getInstance();
      case 'casesNumber':
        return TestElementKey$casesNumber_getInstance();
      case 'description':
        return TestElementKey$description_getInstance();
      case 'path':
        return TestElementKey$path_getInstance();
      case 'unexpectedBehaviour':
        return TestElementKey$unexpectedBehaviour_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.entities.testElement.TestElementKey.' + name);
    }
  }
  TestElementKey.valueOf_61zpoe$ = TestElementKey$valueOf;
  function TestElementInfo(jsonObject) {
    TestElementInfo$Companion_getInstance();
    this.specVersion = null;
    this.casesNumber = 0;
    this.description = null;
    this.path = null;
    this.unexpectedBehaviour = false;
    this.valuesMap_0 = null;
    this.valuesMap_0 = TestElementInfo$Companion_getInstance().parseTestMap_0(jsonObject);
    this.specVersion = ensureNotNull(this.valuesMap_0.get_11rb$(TestElementKey$specVersion_getInstance()));
    this.casesNumber = toInt(ensureNotNull(this.valuesMap_0.get_11rb$(TestElementKey$casesNumber_getInstance())));
    this.description = ensureNotNull(this.valuesMap_0.get_11rb$(TestElementKey$description_getInstance()));
    this.path = ensureNotNull(this.valuesMap_0.get_11rb$(TestElementKey$path_getInstance()));
    this.unexpectedBehaviour = ensureNotNull(this.valuesMap_0.get_11rb$(TestElementKey$unexpectedBehaviour_getInstance())).length > 0;
  }
  function TestElementInfo$Companion() {
    TestElementInfo$Companion_instance = this;
  }
  TestElementInfo$Companion.prototype.parseTestMap_0 = function (jsonObject) {
    var map = LinkedHashMap_init();
    var $receiver = TestElementKey$values();
    var tmp$;
    for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
      var element = $receiver[tmp$];
      var tmp$_0, tmp$_1, tmp$_2;
      var value = (tmp$_2 = (tmp$_1 = (tmp$_0 = jsonObject.get_11rb$(element.name)) != null ? tmp$_0.primitive : null) != null ? tmp$_1.content : null) != null ? tmp$_2 : '';
      map.put_xwzc9p$(element, value);
    }
    return map;
  };
  TestElementInfo$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var TestElementInfo$Companion_instance = null;
  function TestElementInfo$Companion_getInstance() {
    if (TestElementInfo$Companion_instance === null) {
      new TestElementInfo$Companion();
    }
    return TestElementInfo$Companion_instance;
  }
  TestElementInfo.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestElementInfo', interfaces: []};
  function SentenceFinder() {
    SentenceFinder_instance = this;
    this.FINDER_BAR_HTML = '<div class="sentence-finder-bar">\n        <div class="spec-location-search">\n            <input type="text" name="spec-sentence-location" />\n            <button class="spec-sentence-find">Find sentence<\/button>\n            <a href="#" class="{1}-markup-link">{2} markup<\/a>\n        <\/div>\n        <div class="spec-location-format">Format: sections-hierarchy{,} -> paragraph {n} -> sentence {m}<\/div>\n        <\/div>';
  }
  SentenceFinder.prototype.findSentence = function () {
    this.findSentence_0($module$jquery('.spec-location-search input[name="spec-sentence-location"]').val().toString());
  };
  SentenceFinder.prototype.findSentence_0 = function (place) {
    var tmp$;
    var specPlaceComponents = SpecPlaceHighlighter_getInstance().getSentenceInfoFromSearchField_61zpoe$(trimEnd(Kotlin.isCharSequence(tmp$ = place) ? tmp$ : throwCCE()).toString());
    if (specPlaceComponents.sentenceNumber != null) {
      SpecPlaceHighlighter_getInstance().highlightSentence_h7k5gl$(specPlaceComponents);
    }
     else {
      SpecPlaceHighlighter_getInstance().highlightParagraph_h7k5gl$(specPlaceComponents);
    }
  };
  SentenceFinder.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SentenceFinder', interfaces: []};
  var SentenceFinder_instance = null;
  function SentenceFinder_getInstance() {
    if (SentenceFinder_instance === null) {
      new SentenceFinder();
    }
    return SentenceFinder_instance;
  }
  function SpecPlaceComponents(sectionId, paragraphNumber, sentenceNumber) {
    if (sentenceNumber === void 0)
      sentenceNumber = null;
    this.sectionId = sectionId;
    this.paragraphNumber = paragraphNumber;
    this.sentenceNumber = sentenceNumber;
  }
  SpecPlaceComponents.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecPlaceComponents', interfaces: []};
  SpecPlaceComponents.prototype.component1 = function () {
    return this.sectionId;
  };
  SpecPlaceComponents.prototype.component2 = function () {
    return this.paragraphNumber;
  };
  SpecPlaceComponents.prototype.component3 = function () {
    return this.sentenceNumber;
  };
  SpecPlaceComponents.prototype.copy_tzuutb$ = function (sectionId, paragraphNumber, sentenceNumber) {
    return new SpecPlaceComponents(sectionId === void 0 ? this.sectionId : sectionId, paragraphNumber === void 0 ? this.paragraphNumber : paragraphNumber, sentenceNumber === void 0 ? this.sentenceNumber : sentenceNumber);
  };
  SpecPlaceComponents.prototype.toString = function () {
    return 'SpecPlaceComponents(sectionId=' + Kotlin.toString(this.sectionId) + (', paragraphNumber=' + Kotlin.toString(this.paragraphNumber)) + (', sentenceNumber=' + Kotlin.toString(this.sentenceNumber)) + ')';
  };
  SpecPlaceComponents.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.sectionId) | 0;
    result = result * 31 + Kotlin.hashCode(this.paragraphNumber) | 0;
    result = result * 31 + Kotlin.hashCode(this.sentenceNumber) | 0;
    return result;
  };
  SpecPlaceComponents.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.sectionId, other.sectionId) && Kotlin.equals(this.paragraphNumber, other.paragraphNumber) && Kotlin.equals(this.sentenceNumber, other.sentenceNumber)))));
  };
  function SpecPlaceHighlighter() {
    SpecPlaceHighlighter_instance = this;
    this.PARAGRAPH_NOT_FOUND_0 = 'Paragraph "{1}" of section "{2}" is not found.';
    this.SENTENCE_NOT_FOUND_0 = 'Sentence "{1}" is not found.';
    this.ESCAPED_SECTION_ID_SEPARATOR_0 = '\\.';
  }
  SpecPlaceHighlighter.prototype.findParagraph_0 = function (sectionId, paragraphNumber) {
    var tmp$, tmp$_0, tmp$_1;
    var sectionElement = $module$jquery('#' + replace(sectionId, '.', this.ESCAPED_SECTION_ID_SEPARATOR_0));
    tmp$ = SpecTestsLoader$Companion_getInstance().getParagraphsInfo_ljiy8z$(sectionElement);
    if (tmp$ == null) {
      return null;
    }
    var paragraphsInfo = tmp$;
    if (paragraphsInfo.size > (paragraphNumber - 1 | 0)) {
      tmp$_1 = $module$jquery(Kotlin.isType(tmp$_0 = paragraphsInfo.get_za3lpa$(paragraphNumber - 1 | 0).get_11rb$('paragraphElement'), HTMLElement) ? tmp$_0 : throwCCE());
    }
     else {
      window.alert(format(this.PARAGRAPH_NOT_FOUND_0, [paragraphNumber, sectionId]));
      tmp$_1 = null;
    }
    return tmp$_1;
  };
  SpecPlaceHighlighter.prototype.findSentence_0 = function (paragraphElement, sentenceNumber) {
    var tmp$;
    var sentences = paragraphElement.find('.sentence');
    if (numberToInt(sentences.length) > (sentenceNumber - 1 | 0)) {
      tmp$ = $module$jquery(ensureNotNull(sentences[sentenceNumber - 1 | 0]));
    }
     else {
      window.alert(format(this.SENTENCE_NOT_FOUND_0, [sentenceNumber]));
      tmp$ = null;
    }
    return tmp$;
  };
  SpecPlaceHighlighter.prototype.highlightParagraph_0 = function (sectionId, paragraphNumber) {
    var tmp$, tmp$_0;
    tmp$ = this.findParagraph_0(sectionId, paragraphNumber);
    if (tmp$ == null) {
      return;
    }
    var paragraph = tmp$;
    paragraph.addClass('highlighted');
    (tmp$_0 = paragraph[0]) != null ? (tmp$_0.scrollIntoView(), Unit) : null;
    $module$jquery(window).scrollTop(numberToInt($module$jquery(window).scrollTop()) - 80 | 0);
  };
  SpecPlaceHighlighter.prototype.highlightParagraph_61zpoe$ = function (paragraphToBeHighlighted) {
    var tmp$;
    this.highlightParagraph_h7k5gl$(this.getParagraphInfo_0(trimEnd(Kotlin.isCharSequence(tmp$ = paragraphToBeHighlighted) ? tmp$ : throwCCE()).toString()));
  };
  SpecPlaceHighlighter.prototype.highlightParagraph_h7k5gl$ = function (sentencePath) {
    this.highlightParagraph_0(sentencePath.sectionId, sentencePath.paragraphNumber);
  };
  SpecPlaceHighlighter.prototype.highlightSentence_0 = function (sectionId, paragraphNumber, sentenceNumber) {
    var tmp$, tmp$_0, tmp$_1;
    tmp$ = this.findParagraph_0(sectionId, paragraphNumber);
    if (tmp$ == null) {
      return;
    }
    var paragraphElement = tmp$;
    tmp$_0 = this.findSentence_0(paragraphElement, sentenceNumber);
    if (tmp$_0 == null) {
      return;
    }
    var sentence = tmp$_0;
    sentence.addClass('highlighted');
    (tmp$_1 = sentence[0]) != null ? (tmp$_1.scrollIntoView(), Unit) : null;
    $module$jquery(window).scrollTop(numberToInt($module$jquery(window).scrollTop()) - 80 | 0);
  };
  SpecPlaceHighlighter.prototype.highlightSentence_61zpoe$ = function (sentenceToBeHighlighted) {
    this.highlightSentence_h7k5gl$(this.getSentenceInfoFromUrl_0(sentenceToBeHighlighted));
  };
  SpecPlaceHighlighter.prototype.highlightSentence_h7k5gl$ = function (sentencePath) {
    var tmp$, tmp$_0, tmp$_1;
    tmp$ = sentencePath.sectionId;
    tmp$_0 = sentencePath.paragraphNumber;
    tmp$_1 = sentencePath.sentenceNumber;
    if (tmp$_1 == null) {
      return;
    }
    this.highlightSentence_0(tmp$, tmp$_0, tmp$_1);
  };
  SpecPlaceHighlighter.prototype.highlightSection_61zpoe$ = function (sectionId) {
    var tmp$;
    var sectionElement = $module$jquery('#' + replace(sectionId, '.', '\\\\.'));
    sectionElement.addClass('highlighted');
    (tmp$ = sectionElement[0]) != null ? (tmp$.scrollIntoView(), Unit) : null;
    $module$jquery(window).scrollTop(numberToInt($module$jquery(window).scrollTop()) - 80 | 0);
  };
  SpecPlaceHighlighter.prototype.getSentenceInfoFromUrl_0 = function (sentenceToBeHighlighted) {
    var splittedSentencePath = Regex_init('\\s*,\\s*').split_905azu$(sentenceToBeHighlighted, 0);
    var splittedSentencePathSize = splittedSentencePath.size;
    return new SpecPlaceComponents(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 3 | 0), toInt(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 2 | 0)), toInt(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 1 | 0)));
  };
  SpecPlaceHighlighter.prototype.getSentenceInfoFromSearchField_61zpoe$ = function (sentenceToBeHighlighted) {
    var splittedSentencePath = Regex_init('\\s*->\\s*').split_905azu$(sentenceToBeHighlighted, 0);
    var $receiver = splittedSentencePath.get_za3lpa$(0);
    var splittedSectionPath = Regex_init('\\s*,\\s*').split_905azu$($receiver, 0);
    return new SpecPlaceComponents(last(splittedSectionPath), toInt(replace(splittedSentencePath.get_za3lpa$(1), 'paragraph ', '')), splittedSentencePath.size === 3 ? toInt(replace(splittedSentencePath.get_za3lpa$(2), 'sentence ', '')) : null);
  };
  SpecPlaceHighlighter.prototype.getParagraphInfo_0 = function (paragraphToBeHighlighted) {
    var splittedSentencePath = Regex_init('\\s*,\\s*').split_905azu$(paragraphToBeHighlighted, 0);
    var splittedSentencePathSize = splittedSentencePath.size;
    return new SpecPlaceComponents(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 2 | 0), toInt(splittedSentencePath.get_za3lpa$(splittedSentencePathSize - 1 | 0)));
  };
  SpecPlaceHighlighter.prototype.getLink_0 = function (searchComponent) {
    var $receiver = window.location;
    return $receiver.protocol + '//' + $receiver.hostname + $receiver.pathname + '?' + searchComponent + $receiver.hash;
  };
  SpecPlaceHighlighter.prototype.getSectionLink_0 = function (sectionId) {
    var $receiver = window.location;
    return $receiver.protocol + '//' + $receiver.hostname + $receiver.pathname + ($receiver.search.length > 0 ? '?' + $receiver.search : '') + '#' + sectionId;
  };
  SpecPlaceHighlighter.prototype.onSentenceGetLinkClick_ljiy8z$ = function (element) {
    (new Popup(new PopupConfig(800, 150, 'Link to this sentence', trimIndent('\n' + '                            <div class=' + '"' + 'sentence-links-popup' + '"' + '>' + '\n' + '                                <div class=' + '"' + 'sentence-links-row' + '"' + '><span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Path for compiler test:<\/span><input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-path-for-compiler-test' + '"' + ' value=' + '"' + element.data('path').toString() + '"' + '><\/div>' + '\n' + '                                <div class=' + '"' + 'sentence-links-row' + '"' + '><span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Link:<\/span><input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-link-field' + '"' + ' value=' + '"' + this.getLink_0(element.data('link').toString()) + '"' + '><\/div>' + '\n' + '                            <\/div>' + '\n' + '                        ')))).open();
    $module$jquery('.sentence-path-for-compiler-test').select().focus();
  };
  SpecPlaceHighlighter.prototype.onParagraphGetLinkClick_ljiy8z$ = function (element) {
    (new Popup(new PopupConfig(800, 100, 'Link to this paragraph', trimIndent('\n' + '                            <div class=' + '"' + 'sentence-links-popup' + '"' + '>' + '\n' + '                                <div class=' + '"' + 'sentence-links-row' + '"' + '><span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Link:<\/span><input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-link-field' + '"' + ' value=' + '"' + this.getLink_0(element.data('link').toString()) + '"' + '><\/div>' + '\n' + '                            <\/div>' + '\n' + '                        ')))).open();
    $module$jquery('.sentence-link-field').select().focus();
  };
  SpecPlaceHighlighter.prototype.onHeaderGetLinkClick_ljiy8z$ = function (element) {
    (new Popup(new PopupConfig(800, 100, 'Link to this section', trimIndent('\n' + '                            <div class=' + '"' + 'sentence-links-popup' + '"' + '>' + '\n' + '                                <div class=' + '"' + 'sentence-links-row' + '"' + '><span class=' + '"' + 'link-sentence-description-link-type' + '"' + '>Link:<\/span><input type=' + '"' + 'text' + '"' + ' class=' + '"' + 'sentence-link-field' + '"' + ' value=' + '"' + this.getSectionLink_0(element.attr('id')) + '"' + '><\/div>' + '\n' + '                            <\/div>' + '\n' + '                        ')))).open();
    $module$jquery('.sentence-link-field').select().focus();
  };
  SpecPlaceHighlighter.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SpecPlaceHighlighter', interfaces: []};
  var SpecPlaceHighlighter_instance = null;
  function SpecPlaceHighlighter_getInstance() {
    if (SpecPlaceHighlighter_instance === null) {
      new SpecPlaceHighlighter();
    }
    return SpecPlaceHighlighter_instance;
  }
  function runAfterDocumentReady$lambda(f, el) {
    SpecTestsLoader$Companion_getInstance().insertLoadIcon_ljiy8z$($module$jquery(el));
    return Unit;
  }
  function runAfterDocumentReady$lambda$lambda(closure$specTestsViewer) {
    return function (e, f) {
      closure$specTestsViewer.showViewer_ljiy8z$($module$jquery(e.currentTarget));
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_0(closure$specTestsViewer) {
    return function (f, f_0) {
      closure$specTestsViewer.onTestAreaChange();
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_1(closure$specTestsViewer) {
    return function (f, f_0) {
      closure$specTestsViewer.onTestTypeChange();
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_2(closure$specTestsViewer) {
    return function (f, f_0) {
      closure$specTestsViewer.onTestNumberChange();
      return Unit;
    };
  }
  function runAfterDocumentReady$lambda$lambda_3(closure$specTestsViewer) {
    return function (e, f) {
      closure$specTestsViewer.navigateTestCase_y58eac$($module$jquery(e.currentTarget), NavigationType$PREV_getInstance());
      return false;
    };
  }
  function runAfterDocumentReady$lambda$lambda_4(closure$specTestsViewer) {
    return function (e, f) {
      closure$specTestsViewer.navigateTestCase_y58eac$($module$jquery(e.currentTarget), NavigationType$NEXT_getInstance());
      return false;
    };
  }
  function runAfterDocumentReady$lambda$lambda_5(closure$specTestsLoader) {
    return function (e, f) {
      closure$specTestsLoader.onTestsLoadingLinkClick_ljiy8z$($module$jquery(e.currentTarget));
      return false;
    };
  }
  function runAfterDocumentReady$lambda$lambda_6(f, f_0) {
    SpecTestsLoader$Companion_getInstance().onSetBranchIconClick();
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_7(e, f) {
    SpecPlaceHighlighter_getInstance().onSentenceGetLinkClick_ljiy8z$($module$jquery(e.currentTarget));
    e.stopPropagation();
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_8(e, f) {
    SpecPlaceHighlighter_getInstance().onParagraphGetLinkClick_ljiy8z$($module$jquery(e.currentTarget));
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_9(f, f_0) {
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_10(f, f_0) {
    SentenceFinder_getInstance().findSentence();
    return Unit;
  }
  function runAfterDocumentReady$lambda$lambda_11(e, f) {
    if (equals(e.keyCode, 13)) {
      SentenceFinder_getInstance().findSentence();
    }
    return Unit;
  }
  function runAfterDocumentReady$lambda$lambda$lambda(closure$keys) {
    return function (e) {
      var $receiver = closure$keys;
      var key = numberToInt(e.keyCode);
      $receiver.put_xwzc9p$(key, true);
      return true;
    };
  }
  function runAfterDocumentReady$lambda$lambda$lambda_0(closure$keys) {
    return function (e) {
      if (closure$keys.get_11rb$(18) === true && closure$keys.get_11rb$(69) === true) {
        $module$jquery('.spec-location-search input[name="spec-sentence-location"]').focus().select();
      }
      var $receiver = closure$keys;
      var key = numberToInt(e.keyCode);
      $receiver.put_xwzc9p$(key, false);
      return true;
    };
  }
  function runAfterDocumentReady$lambda$lambda_12(f, f_0) {
    localStorage.setItem('showMarkup', 'true');
    SpecTestsLoader$Companion_getInstance().showMarkup();
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_13(f, f_0) {
    localStorage.removeItem('showMarkup');
    window.location.reload();
    return false;
  }
  function runAfterDocumentReady$lambda$lambda_14(e, f) {
    SpecPlaceHighlighter_getInstance().onHeaderGetLinkClick_ljiy8z$($module$jquery(e.currentTarget));
    return Unit;
  }
  function runAfterDocumentReady() {
    var tmp$, tmp$_0;
    var specTestsLoader = new SpecTestsLoader(GithubTestsLoaderType$USING_TESTS_MAP_FILE_getInstance());
    var specTestsViewer = new SpecTestsViewer();
    var shouldBeShowedMarkup = localStorage.getItem('showMarkup') != null;
    var sentenceToBeHighlighted = get_searchMap(window.location).get_11rb$('sentence');
    var paragraphToBeHighlighted = get_searchMap(window.location).get_11rb$('paragraph');
    var sectionToBeHighlighted = window.location.hash;
    $module$jquery('h3, h4, h5').each(runAfterDocumentReady$lambda);
    if (shouldBeShowedMarkup) {
      SpecTestsLoader$Companion_getInstance().showMarkup();
    }
    if (sentenceToBeHighlighted != null) {
      SpecPlaceHighlighter_getInstance().highlightSentence_61zpoe$(sentenceToBeHighlighted);
    }
    if (paragraphToBeHighlighted != null) {
      SpecPlaceHighlighter_getInstance().highlightParagraph_61zpoe$(paragraphToBeHighlighted);
    }
    if (sectionToBeHighlighted.length > 0) {
      SpecPlaceHighlighter_getInstance().highlightSection_61zpoe$(sectionToBeHighlighted.substring(1));
    }
    if ((tmp$_0 = (tmp$ = document.body) != null ? $module$jquery(tmp$) : null) != null) {
      tmp$_0.on('click', '.sentence.covered', runAfterDocumentReady$lambda$lambda(specTestsViewer));
      tmp$_0.on('change', ".test-coverage-view select[name='test-area']", runAfterDocumentReady$lambda$lambda_0(specTestsViewer));
      tmp$_0.on('change', ".test-coverage-view select[name='test-type']", runAfterDocumentReady$lambda$lambda_1(specTestsViewer));
      tmp$_0.on('change', ".test-coverage-view select[name='test-number']", runAfterDocumentReady$lambda$lambda_2(specTestsViewer));
      tmp$_0.on('click', '.prev-testcase', runAfterDocumentReady$lambda$lambda_3(specTestsViewer));
      tmp$_0.on('click', '.next-testcase', runAfterDocumentReady$lambda$lambda_4(specTestsViewer));
      tmp$_0.on('click', '.load-tests', runAfterDocumentReady$lambda$lambda_5(specTestsLoader));
      tmp$_0.on('click', '.set-branch', runAfterDocumentReady$lambda$lambda_6);
      tmp$_0.on('click', '.number-info[data-path]', runAfterDocumentReady$lambda$lambda_7);
      tmp$_0.on('click', '.paragraph-link', runAfterDocumentReady$lambda$lambda_8);
      tmp$_0.on('click', '.loaded-tests', runAfterDocumentReady$lambda$lambda_9);
      tmp$_0.prepend(format(SentenceFinder_getInstance().FINDER_BAR_HTML, (shouldBeShowedMarkup ? ['hide', 'Hide'] : ['show', 'Show']).slice()));
      tmp$_0.on('click', '.spec-sentence-find', runAfterDocumentReady$lambda$lambda_10);
      tmp$_0.on('keyup', '.spec-location-search input[name="spec-sentence-location"]', runAfterDocumentReady$lambda$lambda_11);
      var keys = mutableMapOf([to(18, false), to(69, false)]);
      $module$jquery(document).keydown(runAfterDocumentReady$lambda$lambda$lambda(keys)).keyup(runAfterDocumentReady$lambda$lambda$lambda_0(keys));
      tmp$_0.on('click', '.show-markup-link', runAfterDocumentReady$lambda$lambda_12);
      tmp$_0.on('click', '.hide-markup-link', runAfterDocumentReady$lambda$lambda_13);
      tmp$_0.on('click', 'h2, h3, h4, h5', runAfterDocumentReady$lambda$lambda_14);
    }
  }
  function main$lambda(it) {
    runAfterDocumentReady();
    return Unit;
  }
  function main() {
    $module$jquery(document).ready(main$lambda);
  }
  function TestArea(path, content, contentPath, description) {
    this.path = path;
    this.content = content;
    this.contentPath = contentPath;
    this.description = description;
    this.listOfTests = ArrayList_init();
  }
  TestArea.prototype.getTestsByParagraphNumber_61zpoe$ = function (paragraphNumber) {
    var $receiver = this.listOfTests;
    var destination = ArrayList_init();
    var tmp$;
    tmp$ = $receiver.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      if (equals(element.testPath.paragraph, paragraphNumber))
        destination.add_11rb$(element);
    }
    return destination;
  };
  TestArea.prototype.getTestsBySentenceNumber_puj7f4$ = function (paragraphNumber, sentenceNumber) {
    var $receiver = this.listOfTests;
    var destination = ArrayList_init();
    var tmp$;
    tmp$ = $receiver.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      if (equals(element.testPath.paragraph, paragraphNumber) && equals(element.testPath.testSentence, sentenceNumber))
        destination.add_11rb$(element);
    }
    var tests = destination;
    var destination_0 = ArrayList_init();
    var tmp$_0;
    tmp$_0 = tests.iterator();
    while (tmp$_0.hasNext()) {
      var element_0 = tmp$_0.next();
      if (equals(element_0.testPath.testType, 'pos'))
        destination_0.add_11rb$(element_0);
    }
    var positiveTests = destination_0;
    var destination_1 = ArrayList_init();
    var tmp$_1;
    tmp$_1 = tests.iterator();
    while (tmp$_1.hasNext()) {
      var element_1 = tmp$_1.next();
      if (equals(element_1.testPath.testType, 'neg'))
        destination_1.add_11rb$(element_1);
    }
    var negativeTests = destination_1;
    return mapOf([to(TestType$POSITIVE_getInstance(), positiveTests), to(TestType$NEGATIVE_getInstance(), negativeTests)]);
  };
  TestArea.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestArea', interfaces: []};
  function DiagnosticsTestArea() {
    TestArea.call(this, 'diagnostics', 'content1', 'path1', 'Front-end diagnostics tests');
  }
  DiagnosticsTestArea.$metadata$ = {kind: Kind_CLASS, simpleName: 'DiagnosticsTestArea', interfaces: [TestArea]};
  function CodegenBoxTestArea() {
    TestArea.call(this, 'codegen/box', 'content2', 'path2', 'Codegen box tests');
  }
  CodegenBoxTestArea.$metadata$ = {kind: Kind_CLASS, simpleName: 'CodegenBoxTestArea', interfaces: [TestArea]};
  var ImplementationTestParser$Companion_instance = null;
  function SpecTestsLoader(loadType) {
    SpecTestsLoader$Companion_getInstance();
    this.loader_0 = new LoaderByTestsMapFile();
    this.sectionPrevLoaded_tz756v$_0 = this.sectionPrevLoaded_tz756v$_0;
    this.originalSectionName_0 = null;
    this.numberSectionsLoaded_0 = 0;
  }
  function SpecTestsLoader$Companion() {
    SpecTestsLoader$Companion_instance = this;
    this.EXCEPTED_SELECTORS_0 = '.grammar-rule';
    this.paragraphSelector_0 = joinToString(listOf(['.paragraph', 'DL', 'UL', 'OL']), ',');
    this.sectionTagNames_0 = listOf(['H1', 'H2', 'H3', 'H4', 'H5']);
    this.LOADING_ICON_PATH_0 = './resources/images/loading.gif';
    this.LOADING_ICON_HTML_0 = '<img src="./resources/images/loading.gif" />';
    this.SET_BRANCH_ICON_0 = './resources/images/set-branch.png';
    this.LOAD_TESTS_TEXT_0 = 'Load tests';
    this.notLoadedTestsText_0 = 'Tests for ' + '"' + '{1}' + '"' + ' in ' + '"' + GithubTestsLoader$Companion_getInstance().getBranch() + '"' + " branch aren't yet written.";
    this.SECTION_PATH_SEPARATOR = ', ';
  }
  SpecTestsLoader$Companion.prototype.insertLoadIcon_ljiy8z$ = function (headerElement) {
    headerElement.append('\n' + '                <a href=' + '"' + '#' + '"' + ' class=' + '"' + 'set-branch' + '"' + ' title=' + '"' + 'The compiler repo branch from which the tests will be taken' + '"' + '><img src=' + '"' + this.SET_BRANCH_ICON_0 + '"' + ' /><\/a><\/span>' + '\n' + '                <a href=' + '"' + '#' + '"' + ' data-id=' + '"' + headerElement.attr('id') + '"' + ' data-type=' + '"' + headerElement.prop('tagName').toString().toLowerCase() + '"' + ' class=' + '"' + 'load-tests' + '"' + ' title=' + '"' + 'Show tests coverage' + '"' + '>Load tests<\/a>' + '\n' + '            ');
  };
  SpecTestsLoader$Companion.prototype.getParagraphsInfo_ljiy8z$ = function (sectionElement) {
    var $receiver = sectionElement.get();
    if ($receiver.length === 0)
      return null;
    var nextSibling = $receiver[0].nextElementSibling;
    var sectionName = sectionElement.attr('id');
    var paragraphsMap = ArrayList_init();
    var paragraphCounter = 1;
    if (sectionName.length === 0)
      return null;
    while (nextSibling != null && this.sectionTagNames_0.indexOf_11rb$(nextSibling.tagName) === -1) {
      var isParagraph = nextSibling.matches(this.paragraphSelector_0);
      var childParagraph = nextSibling.querySelector('.paragraph');
      if ((isParagraph || childParagraph != null) && !$module$jquery(nextSibling).is(this.EXCEPTED_SELECTORS_0)) {
        var nextParagraph = childParagraph != null ? childParagraph : nextSibling;
        paragraphsMap.add_11rb$(mapOf([to('paragraphElement', nextParagraph), to('sentenceCount', $module$jquery(nextParagraph).find('.sentence').length.toString())]));
        paragraphCounter = paragraphCounter + 1 | 0;
      }
      nextSibling = nextSibling.nextElementSibling;
    }
    return paragraphsMap;
  };
  function SpecTestsLoader$Companion$showMarkup$lambda(this$SpecTestsLoader$) {
    return function (f, section) {
      var tmp$;
      var sectionTagName = section.tagName.toLowerCase();
      var sectionElement = $module$jquery(section);
      tmp$ = this$SpecTestsLoader$.getParagraphsInfo_ljiy8z$(sectionElement);
      if (tmp$ == null) {
        return null;
      }
      var paragraphsInfo = tmp$;
      var $receiver = LinkedHashSet_init();
      var this$SpecTestsLoader$_0 = this$SpecTestsLoader$;
      if (equals(sectionTagName, 'h3') || equals(sectionTagName, 'h4') || equals(sectionTagName, 'h5')) {
        $receiver.add_11rb$(this$SpecTestsLoader$_0.getParentSectionName_ekmmr9$(sectionElement, 'h2'));
      }
      if (equals(sectionTagName, 'h4') || equals(sectionTagName, 'h5')) {
        $receiver.add_11rb$(this$SpecTestsLoader$_0.getParentSectionName_ekmmr9$(sectionElement, 'h3'));
      }
      if (equals(sectionTagName, 'h5')) {
        $receiver.add_11rb$(this$SpecTestsLoader$_0.getParentSectionName_ekmmr9$(sectionElement, 'h4'));
      }
      $receiver.add_11rb$(sectionElement.attr('id'));
      var sectionsPath = $receiver;
      return MarkUp_getInstance().showMarkUpForParagraphs_w6g9p7$(paragraphsInfo, joinToString(sectionsPath, ', ')), Unit;
    };
  }
  SpecTestsLoader$Companion.prototype.showMarkup = function () {
    $module$jquery('h2, h3, h4, h5').each(SpecTestsLoader$Companion$showMarkup$lambda(this));
  };
  SpecTestsLoader$Companion.prototype.getNestedSections_0 = function (sectionElement) {
    var placeCurrentSectionLevel = this.sectionTagNames_0.indexOf_11rb$(sectionElement.prop('tagName').toString().toUpperCase());
    var otherSectionTagNames = slice(this.sectionTagNames_0, new IntRange(0, placeCurrentSectionLevel));
    var nestedSectionTagNames = slice(this.sectionTagNames_0, until(placeCurrentSectionLevel, this.sectionTagNames_0.size));
    var nextSibling = sectionElement.get()[0].nextElementSibling;
    var nestedSectionIds = ArrayList_init();
    while (nextSibling != null && otherSectionTagNames.indexOf_11rb$(nextSibling.tagName) === -1) {
      if (nestedSectionTagNames.indexOf_11rb$(nextSibling.tagName) !== -1) {
        nestedSectionIds.add_11rb$(ensureNotNull(nextSibling.getAttribute('id')));
      }
      nextSibling = nextSibling.nextElementSibling;
    }
    return nestedSectionIds;
  };
  SpecTestsLoader$Companion.prototype.parseTestFiles_o7rpi2$ = function (sectionTestSet, currentSection, sectionsPath, paragraphsInfo) {
    println('parseTestFiles!!');
    var pathPrefix = joinToString(sectionsPath, this.SECTION_PATH_SEPARATOR) + this.SECTION_PATH_SEPARATOR + currentSection;
    TestsCoverageColorsArranger_getInstance().showCoverageOfParagraphs_and7vj$(paragraphsInfo, sectionTestSet, pathPrefix);
  };
  SpecTestsLoader$Companion.prototype.getParentSectionName_ekmmr9$ = function (element, type) {
    return element.prevAll(type).first().attr('id');
  };
  SpecTestsLoader$Companion.prototype.onSetBranchIconClick = function () {
    var tmp$;
    var currentBranch = (tmp$ = window.localStorage.getItem('spec-tests-branch')) != null ? tmp$ : GithubTestsLoader$Companion_getInstance().DEFAULT_BRANCH;
    var newBranch = window.prompt('Specify the Kotlin compiler repo branch from which the spec tests will be taken:', currentBranch);
    if (newBranch != null && !equals(newBranch, currentBranch)) {
      window.localStorage.setItem('spec-tests-branch', newBranch);
    }
  };
  SpecTestsLoader$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var SpecTestsLoader$Companion_instance = null;
  function SpecTestsLoader$Companion_getInstance() {
    if (SpecTestsLoader$Companion_instance === null) {
      new SpecTestsLoader$Companion();
    }
    return SpecTestsLoader$Companion_instance;
  }
  Object.defineProperty(SpecTestsLoader.prototype, 'sectionPrevLoaded_0', {get: function () {
    if (this.sectionPrevLoaded_tz756v$_0 == null)
      return throwUPAE('sectionPrevLoaded');
    return this.sectionPrevLoaded_tz756v$_0;
  }, set: function (sectionPrevLoaded) {
    this.sectionPrevLoaded_tz756v$_0 = sectionPrevLoaded;
  }});
  function SpecTestsLoader$onTestsLoadingLinkClick$lambda(closure$paragraphsInfo, closure$sectionName, closure$sectionsPath, closure$link, this$SpecTestsLoader, closure$section) {
    return function (sectionTestSet) {
      var tmp$;
      tmp$ = sectionTestSet.loadedTestAreas.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        println('testArea=' + element);
        var filteredTests = element.getTestsByParagraphNumber_61zpoe$((1).toString());
        println('filtered = ' + toString(filteredTests.size));
        var tmp$_0;
        tmp$_0 = filteredTests.iterator();
        while (tmp$_0.hasNext()) {
          var element_0 = tmp$_0.next();
          println('filtered test path=' + element_0.testPath.toString() + '\ntest.testElementInfo.path=' + element_0.testElementInfo.path);
        }
      }
      if (closure$paragraphsInfo != null)
        SpecTestsLoader$Companion_getInstance().parseTestFiles_o7rpi2$(sectionTestSet, closure$sectionName, closure$sectionsPath, closure$paragraphsInfo);
      closure$link.html('Reload tests');
      if (equals(this$SpecTestsLoader.originalSectionName_0, closure$sectionName)) {
        closure$section.nextAll('.paragraph.with-tests').first().get()[0].scrollIntoView();
        this$SpecTestsLoader.originalSectionName_0 = null;
        this$SpecTestsLoader.sectionPrevLoaded_0 = closure$sectionName;
      }
      return Unit;
    };
  }
  function SpecTestsLoader$onTestsLoadingLinkClick$lambda_0(this$SpecTestsLoader, closure$sectionName, closure$link) {
    return function (it) {
      var tmp$;
      tmp$ = this$SpecTestsLoader.numberSectionsLoaded_0;
      this$SpecTestsLoader.numberSectionsLoaded_0 = tmp$ - 1 | 0;
      if (equals(this$SpecTestsLoader.originalSectionName_0, closure$sectionName)) {
        this$SpecTestsLoader.originalSectionName_0 = null;
        this$SpecTestsLoader.sectionPrevLoaded_0 = closure$sectionName;
      }
      if (this$SpecTestsLoader.numberSectionsLoaded_0 === 0) {
        window.alert(format(SpecTestsLoader$Companion_getInstance().notLoadedTestsText_0, [this$SpecTestsLoader.sectionPrevLoaded_0]));
      }
      return closure$link.html(SpecTestsLoader$Companion_getInstance().LOAD_TESTS_TEXT_0);
    };
  }
  SpecTestsLoader.prototype.onTestsLoadingLinkClick_ljiy8z$ = function (link) {
    var section = link.parent('h3, h4, h5');
    var paragraphsInfo = SpecTestsLoader$Companion_getInstance().getParagraphsInfo_ljiy8z$(section);
    var nestedSections = SpecTestsLoader$Companion_getInstance().getNestedSections_0(section);
    var sectionName = section.attr('id');
    var sectionsPath = mutableListOf([SpecTestsLoader$Companion_getInstance().getParentSectionName_ekmmr9$(section, 'h2')]);
    if (this.originalSectionName_0 == null) {
      this.originalSectionName_0 = sectionName;
      this.numberSectionsLoaded_0 = 1;
    }
    link.html(SpecTestsLoader$Companion_getInstance().LOADING_ICON_HTML_0);
    if (equals(link.data('type'), 'h4') || equals(link.data('type'), 'h5')) {
      sectionsPath.add_11rb$(SpecTestsLoader$Companion_getInstance().getParentSectionName_ekmmr9$(section, 'h3'));
    }
    if (equals(link.data('type'), 'h5')) {
      sectionsPath.add_11rb$(SpecTestsLoader$Companion_getInstance().getParentSectionName_ekmmr9$(section, 'h4'));
    }
    this.loader_0.loadTestFilesForSectionByTestMapsNew_8qmz6k$(sectionName, sectionsPath, SpecConfig$Companion_getInstance().testAreasToLoad).then(SpecTestsLoader$onTestsLoadingLinkClick$lambda(paragraphsInfo, sectionName, sectionsPath, link, this, section)).catch(SpecTestsLoader$onTestsLoadingLinkClick$lambda_0(this, sectionName, link));
    var tmp$;
    tmp$ = nestedSections.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      this.numberSectionsLoaded_0 = this.numberSectionsLoaded_0 + 1 | 0;
      $module$jquery('#' + replace(element, '.', '\\\\.') + ' .load-tests').click();
    }
  };
  SpecTestsLoader.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecTestsLoader', interfaces: []};
  var SpecTestsParser_instance = null;
  var KotlinPlayground;
  function NavigationType(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function NavigationType_initFields() {
    NavigationType_initFields = function () {
    };
    NavigationType$PREV_instance = new NavigationType('PREV', 0);
    NavigationType$NEXT_instance = new NavigationType('NEXT', 1);
  }
  var NavigationType$PREV_instance;
  function NavigationType$PREV_getInstance() {
    NavigationType_initFields();
    return NavigationType$PREV_instance;
  }
  var NavigationType$NEXT_instance;
  function NavigationType$NEXT_getInstance() {
    NavigationType_initFields();
    return NavigationType$NEXT_instance;
  }
  NavigationType.$metadata$ = {kind: Kind_CLASS, simpleName: 'NavigationType', interfaces: [Enum]};
  function NavigationType$values() {
    return [NavigationType$PREV_getInstance(), NavigationType$NEXT_getInstance()];
  }
  NavigationType.values = NavigationType$values;
  function NavigationType$valueOf(name) {
    switch (name) {
      case 'PREV':
        return NavigationType$PREV_getInstance();
      case 'NEXT':
        return NavigationType$NEXT_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.tests.NavigationType.' + name);
    }
  }
  NavigationType.valueOf_61zpoe$ = NavigationType$valueOf;
  function SpecTestsViewer() {
    SpecTestsViewer$Companion_getInstance();
    this.currentSentenceTests_c70lrq$_0 = this.currentSentenceTests_c70lrq$_0;
    this.testPopup_mnmql1$_0 = this.testPopup_mnmql1$_0;
  }
  function SpecTestsViewer$Companion() {
    SpecTestsViewer$Companion_instance = this;
    this.TESTS_VIEWER_SELECTOR_0 = '.test-coverage-view';
    this.TEST_AREA_SELECTOR_0 = ".test-coverage-view select[name='test-area']";
    this.TEST_AREA_OPTION_SELECTOR_0 = ".test-coverage-view select[name='test-area'] option";
    this.TEST_TYPE_SELECTOR_0 = ".test-coverage-view select[name='test-type']";
    this.TEST_TYPE_OPTION_SELECTOR_0 = ".test-coverage-view select[name='test-type'] option";
    this.TEST_TYPE_OPTION_TEMPLATE_0 = "<option value='{1}'>{2}<\/option>";
    this.TEST_NUMBER_SELECTOR_0 = ".test-coverage-view select[name='test-number']";
    this.TEST_NUMBER_OPTION_SELECTOR_0 = ".test-coverage-view select[name='test-number'] option";
    this.TEST_NUMBER_OPTION_TEMPLATE_0 = "<option value='{1}'>{1}: {2}<\/option>";
    this.TEST_CODE_WRAPPER_SELECTOR_0 = '.test-code-wrapper';
    this.TEST_CODE_SELECTOR_0 = '.test-coverage-view .test-code';
    this.TEST_CODE_TEMPLATE_0 = "<div class='test-code'>{1}<\/div>";
    this.TEST_CASE_INFO_SELECTOR_0 = '.test-case-info';
    this.TEST_VIEWER_BODY_TEMPLATE_0 = "\n                <div class='test-case-info'>\n                    <div class='test-title' style='text-align: center;margin: 10px 0;'><b>{1}<\/b><\/div>\n                    <div style='text-align: center;font-size: 14px;margin-top: 5px;'>\n                        <a href='#' class='prev-testcase disabled'>Prev testcase<\/a> | Test case #<b class='testcase-number'>1<\/b> | <a href='#' class='next-testcase'>Next testcase<\/a>\n                    <\/div>\n                    <div class='test-code-wrapper' style='margin-top: 15px;'><\/div>\n                <\/div>\n            ";
    this.NEXT_TESTCASE_SELECTOR_0 = '.next-testcase';
    this.PREV_TESTCASE_SELECTOR_0 = '.prev-testcase';
    this.TESTCASE_NUMBER_SELECTOR_0 = '.testcase-number';
    this.MAIN_FUN_CODE_0 = '\nfun main() { println("Test passed") }';
    this.SAMPLE_WRAP_CODE_0 = '//sampleStart\n{1}\n//sampleEnd';
  }
  SpecTestsViewer$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var SpecTestsViewer$Companion_instance = null;
  function SpecTestsViewer$Companion_getInstance() {
    if (SpecTestsViewer$Companion_instance === null) {
      new SpecTestsViewer$Companion();
    }
    return SpecTestsViewer$Companion_instance;
  }
  Object.defineProperty(SpecTestsViewer.prototype, 'currentSentenceTests_0', {get: function () {
    if (this.currentSentenceTests_c70lrq$_0 == null)
      return throwUPAE('currentSentenceTests');
    return this.currentSentenceTests_c70lrq$_0;
  }, set: function (currentSentenceTests) {
    this.currentSentenceTests_c70lrq$_0 = currentSentenceTests;
  }});
  Object.defineProperty(SpecTestsViewer.prototype, 'testPopup_0', {get: function () {
    if (this.testPopup_mnmql1$_0 == null)
      return throwUPAE('testPopup');
    return this.testPopup_mnmql1$_0;
  }, set: function (testPopup) {
    this.testPopup_mnmql1$_0 = testPopup;
  }});
  function SpecTestsViewer$insertCode$lambda(this$SpecTestsViewer) {
    return function () {
      this$SpecTestsViewer.testPopup_0.computeSizes_yo2cqg$();
      return Unit;
    };
  }
  function SpecTestsViewer$insertCode$lambda_0(this$SpecTestsViewer) {
    return function () {
      this$SpecTestsViewer.testPopup_0.computeSizes_yo2cqg$();
      return Unit;
    };
  }
  SpecTestsViewer.prototype.insertCode_0 = function (testCase, helperFilesContent) {
    if (helperFilesContent === void 0)
      helperFilesContent = null;
    var tmp$, tmp$_0;
    var code = StringBuilder_init();
    if (helperFilesContent != null) {
      var tmp$_1;
      tmp$_1 = helperFilesContent.iterator();
      while (tmp$_1.hasNext()) {
        var element = tmp$_1.next();
        code.append_gw00v9$(toString(element.get_11rb$(TestAreaEnum$DIAGNOSTICS_getInstance().content)) + '\n' + '\n');
      }
    }
    tmp$_0 = SpecTestsViewer$Companion_getInstance().SAMPLE_WRAP_CODE_0;
    tmp$ = testCase.get_11rb$('code');
    if (tmp$ == null) {
      return;
    }
    code.append_gw00v9$(format(tmp$_0, [tmp$]));
    code.append_gw00v9$(SpecTestsViewer$Companion_getInstance().MAIN_FUN_CODE_0);
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_CODE_WRAPPER_SELECTOR_0).html(format(SpecTestsViewer$Companion_getInstance().TEST_CODE_TEMPLATE_0, [escapeHtml(code.toString())]));
    KotlinPlayground(SpecTestsViewer$Companion_getInstance().TEST_CODE_SELECTOR_0, json([to('callback', SpecTestsViewer$insertCode$lambda(this)), to('onChange', SpecTestsViewer$insertCode$lambda_0(this))]));
  };
  SpecTestsViewer.prototype.showTestCaseCode_0 = function (test, helperFilesContent) {
    if (helperFilesContent === void 0)
      helperFilesContent = null;
    var tmp$, tmp$_0, tmp$_1;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_CASE_INFO_SELECTOR_0).remove();
    tmp$_1 = $module$jquery(SpecTestsViewer$Companion_getInstance().TESTS_VIEWER_SELECTOR_0);
    tmp$_0 = SpecTestsViewer$Companion_getInstance().TEST_VIEWER_BODY_TEMPLATE_0;
    tmp$ = test.get_11rb$('description');
    if (tmp$ == null) {
      return;
    }
    tmp$_1.append(format(tmp$_0, [tmp$]));
    var testCases = test.get_11rb$('cases');
    this.insertCode_0(testCases.get_za3lpa$(0), helperFilesContent);
    if (testCases.size === 1) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).addClass('disabled');
    }
  };
  SpecTestsViewer.prototype.getHelpers_0 = function (helperNames) {
    var helperFilesPromises = ArrayList_init();
    return Promise.all(copyToArray(helperFilesPromises));
  };
  function SpecTestsViewer$showViewer$lambda(closure$tests) {
    return function (f, el) {
      var testArea = $module$jquery(el);
      var $receiver = closure$tests;
      var key = testArea.attr('value');
      var tmp$;
      if (!(Kotlin.isType(tmp$ = $receiver, Map) ? tmp$ : throwCCE()).containsKey_11rb$(key)) {
        testArea.remove();
      }
      return Unit;
    };
  }
  SpecTestsViewer.prototype.showViewer_ljiy8z$ = function (sentenceElement) {
    var tests = sentenceElement.data('tests');
    var sentenceText = format('sentence {1}', [sentenceElement.clone().children('.number-info').text()]);
    this.currentSentenceTests_0 = tests;
    var $receiver = new Popup(new PopupConfig(800, 300, 'Test coverage of ' + sentenceText, TestsCoverageColorsArranger_getInstance().TEMPLATE));
    $receiver.open();
    this.testPopup_0 = $receiver;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_OPTION_SELECTOR_0).each(SpecTestsViewer$showViewer$lambda(tests));
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_OPTION_SELECTOR_0).eq(0).val().toString());
    this.onTestAreaChange();
  };
  SpecTestsViewer.prototype.onTestAreaChange = function () {
    var tmp$;
    var $receiver = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString();
    if ($receiver.length === 0)
      return;
    var testArea = $receiver;
    tmp$ = this.currentSentenceTests_0.get_11rb$(testArea);
    if (tmp$ == null) {
      return;
    }
    var tests = tmp$;
    var testTypes = mapOf([to('pos', 'Positive'), to('neg', 'Negative')]);
    var tmp$_0;
    tmp$_0 = reversed(tests.keys).iterator();
    loop_label: while (tmp$_0.hasNext()) {
      var element = tmp$_0.next();
      action$break: do {
        var tmp$_1, tmp$_2, tmp$_3;
        tmp$_3 = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0);
        tmp$_2 = SpecTestsViewer$Companion_getInstance().TEST_TYPE_OPTION_TEMPLATE_0;
        tmp$_1 = testTypes.get_11rb$(element);
        if (tmp$_1 == null) {
          break action$break;
        }
        tmp$_3.append(format(tmp$_2, [element, tmp$_1]));
      }
       while (false);
    }
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).show().val($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_OPTION_SELECTOR_0).eq(0).val().toString());
    this.onTestTypeChange();
  };
  SpecTestsViewer.prototype.onTestTypeChange = function () {
    var tmp$, tmp$_0, tmp$_1, tmp$_2, tmp$_3, tmp$_4;
    var $receiver = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).val().toString();
    if ($receiver.length === 0)
      return;
    var testType = $receiver;
    var testArea = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString();
    tmp$_0 = (tmp$ = this.currentSentenceTests_0.get_11rb$(testArea)) != null ? tmp$.get_11rb$(testType) : null;
    if (tmp$_0 == null) {
      return;
    }
    var tests = tmp$_0;
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).empty();
    tmp$_1 = tests.entries.iterator();
    while (tmp$_1.hasNext()) {
      var tmp$_5 = tmp$_1.next();
      var testNumber = tmp$_5.key;
      var test = tmp$_5.value;
      tmp$_4 = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0);
      tmp$_3 = SpecTestsViewer$Companion_getInstance().TEST_NUMBER_OPTION_TEMPLATE_0;
      tmp$_2 = test.get_11rb$('description');
      if (tmp$_2 == null) {
        continue;
      }
      tmp$_4.append(format(tmp$_3, [testNumber, tmp$_2]));
    }
    $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).show().val($module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_OPTION_SELECTOR_0).eq(0).val().toString());
    this.onTestNumberChange();
  };
  function SpecTestsViewer$onTestNumberChange$lambda(closure$tests, this$SpecTestsViewer) {
    return function (it) {
      this$SpecTestsViewer.showTestCaseCode_0(closure$tests, toList(it));
      return Unit;
    };
  }
  SpecTestsViewer.prototype.onTestNumberChange = function () {
    var tmp$, tmp$_0, tmp$_1;
    var $receiver = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).val().toString();
    if ($receiver.length === 0)
      return;
    var testNumber = $receiver;
    var testArea = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString();
    var testType = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).val().toString();
    tmp$_1 = (tmp$_0 = (tmp$ = this.currentSentenceTests_0.get_11rb$(testArea)) != null ? tmp$.get_11rb$(testType) : null) != null ? tmp$_0.get_11rb$(testNumber) : null;
    if (tmp$_1 == null) {
      return;
    }
    var tests = tmp$_1;
    if (tests.get_11rb$('helpers') != null) {
      this.getHelpers_0(tests.get_11rb$('helpers')).then(SpecTestsViewer$onTestNumberChange$lambda(tests, this));
    }
     else {
      this.showTestCaseCode_0(tests);
    }
  };
  function SpecTestsViewer$navigateTestCase$lambda(closure$testCases, closure$targetTestCase, this$SpecTestsViewer) {
    return function (it) {
      this$SpecTestsViewer.insertCode_0(closure$testCases.get_za3lpa$(closure$targetTestCase), toList(it));
      return Unit;
    };
  }
  SpecTestsViewer.prototype.navigateTestCase_y58eac$ = function (navigationLink, navigationType) {
    var tmp$, tmp$_0, tmp$_1;
    if (navigationLink.hasClass('disabled'))
      return;
    var testArea = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_AREA_SELECTOR_0).val().toString();
    var testType = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_TYPE_SELECTOR_0).val().toString();
    var testNumber = $module$jquery(SpecTestsViewer$Companion_getInstance().TEST_NUMBER_SELECTOR_0).val().toString();
    tmp$_1 = (tmp$_0 = (tmp$ = this.currentSentenceTests_0.get_11rb$(testArea)) != null ? tmp$.get_11rb$(testType) : null) != null ? tmp$_0.get_11rb$(testNumber) : null;
    if (tmp$_1 == null) {
      return;
    }
    var tests = tmp$_1;
    var currentNumber = toInt($module$jquery(SpecTestsViewer$Companion_getInstance().TESTCASE_NUMBER_SELECTOR_0).text());
    var targetTestCase = navigationType === NavigationType$PREV_getInstance() ? currentNumber - 2 | 0 : currentNumber;
    var testCases = tests.get_11rb$('cases');
    $module$jquery(SpecTestsViewer$Companion_getInstance().TESTCASE_NUMBER_SELECTOR_0).html((targetTestCase + 1 | 0).toString());
    if (tests.get_11rb$('helpers') != null) {
      this.getHelpers_0(tests.get_11rb$('helpers')).then(SpecTestsViewer$navigateTestCase$lambda(testCases, targetTestCase, this));
    }
     else {
      this.insertCode_0(testCases.get_za3lpa$(targetTestCase));
    }
    if ((targetTestCase + 1 | 0) >= testCases.size) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).addClass('disabled');
    }
     else if (navigationType === NavigationType$PREV_getInstance() && $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).hasClass('disabled')) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().NEXT_TESTCASE_SELECTOR_0).removeClass('disabled');
    }
    if (navigationType === NavigationType$NEXT_getInstance() && $module$jquery(SpecTestsViewer$Companion_getInstance().PREV_TESTCASE_SELECTOR_0).hasClass('disabled')) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().PREV_TESTCASE_SELECTOR_0).removeClass('disabled');
    }
     else if ((targetTestCase + 1 | 0) === 1) {
      $module$jquery(SpecTestsViewer$Companion_getInstance().PREV_TESTCASE_SELECTOR_0).addClass('disabled');
    }
  };
  SpecTestsViewer.$metadata$ = {kind: Kind_CLASS, simpleName: 'SpecTestsViewer', interfaces: []};
  function TestsCoverageColorsArranger() {
    TestsCoverageColorsArranger_instance = this;
    this.testTypes = mapOf([to('pos', 'positive'), to('neg', 'negative')]);
    this.TEMPLATE = "\n            <div class='test-coverage-view'>\n                <select name='test-area'>\n                    <option value='diagnostics'>Front-end diagnostics tests<\/option>\n                    <option value='box'>Codegen box tests<\/option>\n                <\/select>\n                <select name='test-type'><\/select>\n                <select name='test-number'><\/select>\n            <\/div>\n        ";
  }
  TestsCoverageColorsArranger.prototype.detectUnexpectedBehaviour_0 = function (testsOfType) {
    var tmp$, tmp$_0;
    var unexpectedBehaviour = {v: false};
    tmp$ = testsOfType.entries.iterator();
    while (tmp$.hasNext()) {
      var tmp$_1 = tmp$.next();
      var test = tmp$_1.value;
      if (typeof (tmp$_0 = test.get_11rb$('unexpectedBehaviour')) === 'boolean' ? tmp$_0 : throwCCE()) {
        unexpectedBehaviour.v = true;
      }
      var tmp$_2;
      tmp$_2 = test.get_11rb$('cases').iterator();
      while (tmp$_2.hasNext()) {
        var element = tmp$_2.next();
        var tmp$_3;
        if (((tmp$_3 = element.get_11rb$('infoElements')) != null ? tmp$_3.get_11rb$('UNEXPECTED BEHAVIOUR') : null) != null) {
          unexpectedBehaviour.v = true;
        }
      }
    }
    return unexpectedBehaviour.v;
  };
  TestsCoverageColorsArranger.prototype.showSentenceCoverageNew_0 = function (sentence, sentenceTestInfo, testArea1) {
    var tmp$, tmp$_0, tmp$_1;
    var testsByArea = ArrayList_init();
    var unexpectedBehaviour = false;
    var testNumberByType = LinkedHashMap_init();
    var testNumberByTypeInfo = ArrayList_init();
    tmp$ = sentenceTestInfo.entries.iterator();
    while (tmp$.hasNext()) {
      var tmp$_2 = tmp$.next();
      var posOrNeg = tmp$_2.key;
      var listOfTests = tmp$_2.value;
      var value = (tmp$_1 = (tmp$_0 = sentenceTestInfo.get_11rb$(posOrNeg)) != null ? tmp$_0.size : null) != null ? tmp$_1 : 0;
      testNumberByType.put_xwzc9p$(posOrNeg, value);
      var testNumber = {v: 0};
      var tmp$_3;
      tmp$_3 = listOfTests.iterator();
      while (tmp$_3.hasNext()) {
        var element = tmp$_3.next();
        testNumber.v = testNumber.v + 1 | 0;
        testNumberByTypeInfo.add_11rb$(testNumber.v.toString() + ' ' + posOrNeg.toString());
      }
    }
    if (testNumberByTypeInfo.size > 0) {
      testsByArea.add_11rb$('<b>' + testArea1.description + '<\/b>: ' + joinToString(testNumberByTypeInfo, ', '));
    }
    if (unexpectedBehaviour) {
      sentence.addClass('unexpected-behaviour').parent().before("<span class='unexpected-behaviour-marker'><\/span>");
    }
    sentence.prepend(format("<span class='coverage-info'>{1}<\/span>", [joinToString(testsByArea, '<br />')])).data('tests', sentenceTestInfo).addClass('covered');
  };
  function TestsCoverageColorsArranger$showParagraphCoverage$lambda(closure$sectionTestSet, closure$sentenceCounter, closure$paragraphNumber, this$TestsCoverageColorsArranger, closure$sectionPath) {
    return function (f, el) {
      var tmp$;
      var sentenceTests = LinkedHashMap_init();
      var sentence = $module$jquery(el);
      var existingNumberInfo = sentence.find('.number-info');
      if (numberToInt(existingNumberInfo.length) > 0) {
        existingNumberInfo.remove();
      }
      this$TestsCoverageColorsArranger.showSentenceCoverage_0(closure$sectionTestSet, sentence, closure$sentenceCounter.v, closure$paragraphNumber);
      MarkUp_getInstance().insertSentenceNumber_bgz0f7$(sentence, closure$sentenceCounter.v, closure$sectionPath, closure$paragraphNumber, closure$sentenceCounter.v);
      return tmp$ = closure$sentenceCounter.v, closure$sentenceCounter.v = tmp$ + 1 | 0, tmp$;
    };
  }
  TestsCoverageColorsArranger.prototype.showParagraphCoverage_0 = function (paragraph, paragraphNumber, sectionTestSet, sectionPath) {
    var sentences = $module$jquery(paragraph).find('.sentence');
    var sentenceCounter = {v: 1};
    MarkUp_getInstance().insertParagraphNumber_qp894f$($module$jquery(paragraph), paragraphNumber, sectionPath, paragraphNumber);
    sentences.each(TestsCoverageColorsArranger$showParagraphCoverage$lambda(sectionTestSet, sentenceCounter, paragraphNumber, this, sectionPath));
  };
  TestsCoverageColorsArranger.prototype.showSentenceCoverage_0 = function (sectionTestSet, sentence, sentenceCounter, paragraphNumber) {
    var tmp$;
    tmp$ = sectionTestSet.loadedTestAreas.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var sentenceTests = element.getTestsBySentenceNumber_puj7f4$(paragraphNumber.toString(), sentenceCounter.toString());
      this.showSentenceCoverageNew_0(sentence, sentenceTests, element);
    }
  };
  TestsCoverageColorsArranger.prototype.showSentenceCoverageForTestAreaOld_0 = function (paragraphTests, pathPrefix, sentence, sentenceTests, sentenceCounter) {
    var tmp$;
    if (paragraphTests != null) {
      tmp$ = paragraphTests.entries.iterator();
      while (tmp$.hasNext()) {
        var tmp$_0 = tmp$.next();
        var testType = tmp$_0.key;
        var testsByType = tmp$_0.value;
        var sentenceTestsByTestTypes = testsByType.get_11rb$(sentenceCounter.toString());
        if (sentenceTestsByTestTypes != null) {
          setValueByObjectPath(sentenceTests, sentenceTestsByTestTypes, pathPrefix + '.' + testType);
        }
      }
      sentenceTests.isEmpty();
    }
  };
  TestsCoverageColorsArranger.prototype.showCoverageOfParagraphs_and7vj$ = function (paragraphsInfo, sectionTestSet, sectionsPath) {
    var tmp$, tmp$_0;
    var index = 0;
    tmp$ = paragraphsInfo.iterator();
    while (tmp$.hasNext()) {
      var item = tmp$.next();
      var tmp$_1;
      var paragraphNumber = checkIndexOverflow((tmp$_0 = index, index = tmp$_0 + 1 | 0, tmp$_0)) + 1 | 0;
      var $receiver = $module$jquery(Kotlin.isType(tmp$_1 = item.get_11rb$('paragraphElement'), HTMLElement) ? tmp$_1 : throwCCE());
      $receiver.addClass('with-tests');
      var paragraphEl = $receiver;
      this.showParagraphCoverage_0(paragraphEl, paragraphNumber, sectionTestSet, sectionsPath);
    }
  };
  TestsCoverageColorsArranger.$metadata$ = {kind: Kind_OBJECT, simpleName: 'TestsCoverageColorsArranger', interfaces: []};
  var TestsCoverageColorsArranger_instance = null;
  function TestsCoverageColorsArranger_getInstance() {
    if (TestsCoverageColorsArranger_instance === null) {
      new TestsCoverageColorsArranger();
    }
    return TestsCoverageColorsArranger_instance;
  }
  function GithubTestsLoader() {
    GithubTestsLoader$Companion_getInstance();
  }
  function GithubTestsLoader$TestFileType(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function GithubTestsLoader$TestFileType_initFields() {
    GithubTestsLoader$TestFileType_initFields = function () {
    };
    GithubTestsLoader$TestFileType$SPEC_TEST_instance = new GithubTestsLoader$TestFileType('SPEC_TEST', 0);
    GithubTestsLoader$TestFileType$IMPLEMENTATION_TEST_instance = new GithubTestsLoader$TestFileType('IMPLEMENTATION_TEST', 1);
  }
  var GithubTestsLoader$TestFileType$SPEC_TEST_instance;
  function GithubTestsLoader$TestFileType$SPEC_TEST_getInstance() {
    GithubTestsLoader$TestFileType_initFields();
    return GithubTestsLoader$TestFileType$SPEC_TEST_instance;
  }
  var GithubTestsLoader$TestFileType$IMPLEMENTATION_TEST_instance;
  function GithubTestsLoader$TestFileType$IMPLEMENTATION_TEST_getInstance() {
    GithubTestsLoader$TestFileType_initFields();
    return GithubTestsLoader$TestFileType$IMPLEMENTATION_TEST_instance;
  }
  GithubTestsLoader$TestFileType.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestFileType', interfaces: [Enum]};
  function GithubTestsLoader$TestFileType$values() {
    return [GithubTestsLoader$TestFileType$SPEC_TEST_getInstance(), GithubTestsLoader$TestFileType$IMPLEMENTATION_TEST_getInstance()];
  }
  GithubTestsLoader$TestFileType.values = GithubTestsLoader$TestFileType$values;
  function GithubTestsLoader$TestFileType$valueOf(name) {
    switch (name) {
      case 'SPEC_TEST':
        return GithubTestsLoader$TestFileType$SPEC_TEST_getInstance();
      case 'IMPLEMENTATION_TEST':
        return GithubTestsLoader$TestFileType$IMPLEMENTATION_TEST_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.tests.loaders.GithubTestsLoader.TestFileType.' + name);
    }
  }
  GithubTestsLoader$TestFileType.valueOf_61zpoe$ = GithubTestsLoader$TestFileType$valueOf;
  function GithubTestsLoader$Companion() {
    GithubTestsLoader$Companion_instance = this;
    this.RAW_GITHUB_URL_0 = 'https://raw.githubusercontent.com/JetBrains/kotlin';
    this.SPEC_TEST_DATA_PATH = 'compiler/tests-spec/testData';
    this.LINKED_SPEC_TESTS_FOLDER = 'linked';
    this.DEFAULT_BRANCH = 'spec-tests';
    this.resultMap = LinkedHashMap_init();
  }
  GithubTestsLoader$Companion.prototype.getBranch = function () {
    var tmp$;
    return (tmp$ = window.localStorage.getItem('spec-tests-branch')) != null ? tmp$ : this.DEFAULT_BRANCH;
  };
  function GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda$lambda(closure$testContainerMap, closure$requestResolve, closure$testElementInfo, closure$testPath) {
    return function (f, f_0) {
      var tmp$;
      tmp$ = ensureNotNull(closure$testContainerMap.get_11rb$('contentPath'));
      var testContainer = new TestContainer(ensureNotNull(closure$testContainerMap.get_11rb$('content')), tmp$);
      closure$requestResolve(new Test(closure$testElementInfo, testContainer, closure$testPath));
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda(closure$customFolder, closure$path, closure$testPathInSpec, this$GithubTestsLoader$, closure$testElementInfo, closure$testPath) {
    return function (requestResolve, requestReject) {
      var testContainerMap = LinkedHashMap_init();
      var testsPaths = new GithubTestsLoader$Companion$TestsPaths(closure$customFolder, closure$path, closure$testPathInSpec);
      var queryForTestArea = this$GithubTestsLoader$.getQueryForTest_0(testContainerMap, requestReject, testsPaths);
      $module$jquery.when(queryForTestArea).then(GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda$lambda(testContainerMap, requestResolve, closure$testElementInfo, closure$testPath));
      return Unit;
    };
  }
  GithubTestsLoader$Companion.prototype.loadTestFileFromRawGithub_n99pvx$ = function (path, testPathInSpec, customFolder, testElementInfo, testPath) {
    if (testPathInSpec === void 0)
      testPathInSpec = null;
    if (customFolder === void 0)
      customFolder = null;
    return new Promise(GithubTestsLoader$Companion$loadTestFileFromRawGithub$lambda(customFolder, path, testPathInSpec, this, testElementInfo, testPath));
  };
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda(this$GithubTestsLoader$, closure$requestResolve) {
    return function (f, f_0) {
      println('loadTestMapFileFromRawGithub succeed resultMap.size=' + toString(this$GithubTestsLoader$.resultMap.size));
      closure$requestResolve(this$GithubTestsLoader$.resultMap);
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda_0(this$GithubTestsLoader$, closure$requestResolve) {
    return function (it) {
      println('loadTestMapFileFromRawGithub fail resultMap.size=' + toString(this$GithubTestsLoader$.resultMap.size));
      closure$requestResolve(this$GithubTestsLoader$.resultMap);
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda(closure$customFolder, closure$path, closure$testPathInSpec, closure$testAreasToLoad, closure$testType, this$GithubTestsLoader$) {
    return function (requestResolve, requestReject) {
      var tmp$;
      var testsPaths = new GithubTestsLoader$Companion$TestsPaths(closure$customFolder, closure$path, closure$testPathInSpec);
      var querySet = LinkedHashSet_init();
      var $receiver = closure$testAreasToLoad;
      var tmp$_0;
      tmp$_0 = $receiver.iterator();
      while (tmp$_0.hasNext()) {
        var element = tmp$_0.next();
        var closure$testType_0 = closure$testType;
        querySet.add_11rb$(this$GithubTestsLoader$.getQueryForTestMap_0(element, closure$testType_0, requestReject, testsPaths));
      }
      var queryarray = copyToArray(querySet);
      (tmp$ = $module$jquery).when.apply(tmp$, queryarray).then(GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda(this$GithubTestsLoader$, requestResolve), GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda$lambda_0(this$GithubTestsLoader$, requestResolve));
      return Unit;
    };
  }
  GithubTestsLoader$Companion.prototype.loadTestMapFileFromRawGithub_c787b3$ = function (path, testPathInSpec, testType, customFolder, testAreasToLoad) {
    if (testPathInSpec === void 0)
      testPathInSpec = null;
    if (customFolder === void 0)
      customFolder = null;
    return new Promise(GithubTestsLoader$Companion$loadTestMapFileFromRawGithub$lambda(customFolder, path, testPathInSpec, testAreasToLoad, testType, this));
  };
  function GithubTestsLoader$Companion$TestsPaths(customFolder, path, testPathInSpec) {
    this.customFolder = customFolder;
    this.path = path;
    this.testPathInSpec = testPathInSpec;
  }
  GithubTestsLoader$Companion$TestsPaths.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestsPaths', interfaces: []};
  GithubTestsLoader$Companion.prototype.getFullPath_0 = function (testFileType, testArea, customFolder, path) {
    switch (testFileType.name) {
      case 'SPEC_TEST':
        return format('{1}/{2}/{3}/{4}/{5}/{6}', [this.RAW_GITHUB_URL_0, this.getBranch(), this.SPEC_TEST_DATA_PATH, testArea.path, customFolder != null ? customFolder : this.LINKED_SPEC_TESTS_FOLDER, path]);
      case 'IMPLEMENTATION_TEST':
        return format('{1}/{2}/{3}', [this.RAW_GITHUB_URL_0, this.getBranch(), path]);
      default:return Kotlin.noWhenBranchMatched();
    }
  };
  GithubTestsLoader$Companion.prototype.getFullPathForTest_0 = function (path) {
    return format('{1}/{2}/{3}', [this.RAW_GITHUB_URL_0, this.getBranch(), path]);
  };
  function GithubTestsLoader$Companion$getQuery$lambda(closure$requestReject) {
    return function (it) {
      closure$requestReject(Exception_init_0());
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$getQuery$lambda_0(closure$resultMap, closure$testArea, closure$testsPaths) {
    return function (response, f) {
      var $receiver = closure$resultMap;
      var pair = new Pair(closure$testArea.content, toString(response));
      $receiver.put_xwzc9p$(pair.first, pair.second);
      var tmp$;
      tmp$ = closure$resultMap;
      var tmp$_0;
      var pair_0 = new Pair(closure$testArea.contentPath, (tmp$_0 = closure$testsPaths.testPathInSpec) != null ? tmp$_0 : closure$testsPaths.path);
      tmp$.put_xwzc9p$(pair_0.first, pair_0.second);
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$getQuery$lambda_1(it) {
    return Unit;
  }
  GithubTestsLoader$Companion.prototype.getQuery_0 = function (testArea, resultMap, testType, requestReject, testsPaths) {
    return $module$jquery.ajax(this.getFullPath_0(testType, testArea, testsPaths.customFolder, testsPaths.path), this.jQueryAjaxSettings_0(GithubTestsLoader$Companion$getQuery$lambda(requestReject))).then(GithubTestsLoader$Companion$getQuery$lambda_0(resultMap, testArea, testsPaths), GithubTestsLoader$Companion$getQuery$lambda_1);
  };
  function GithubTestsLoader$Companion$getQueryForTestMap$lambda(it) {
    return Unit;
  }
  function GithubTestsLoader$Companion$getQueryForTestMap$lambda_0(closure$testsPaths, this$GithubTestsLoader$, closure$testArea) {
    return function (response, f) {
      var tmp$, tmp$_0;
      println('-------------');
      tmp$_0 = (tmp$ = closure$testsPaths.testPathInSpec) != null ? tmp$ : closure$testsPaths.path;
      var testMapData = new TestMapData(toString(response), tmp$_0);
      var $receiver = this$GithubTestsLoader$.resultMap;
      var key = closure$testArea;
      $receiver.put_xwzc9p$(key, testMapData);
      println('getQueryForTestMap: resultMap.size =' + toString(this$GithubTestsLoader$.resultMap.size) + ' testArea=' + closure$testArea.path);
      return Unit;
    };
  }
  GithubTestsLoader$Companion.prototype.getQueryForTestMap_0 = function (testArea, testType, requestReject, testsPaths) {
    return $module$jquery.ajax(this.getFullPath_0(testType, testArea, testsPaths.customFolder, testsPaths.path), this.jQueryAjaxSettings_0(GithubTestsLoader$Companion$getQueryForTestMap$lambda)).then(GithubTestsLoader$Companion$getQueryForTestMap$lambda_0(testsPaths, this, testArea));
  };
  function GithubTestsLoader$Companion$getQueryForTest$lambda(closure$requestReject) {
    return function (it) {
      closure$requestReject(Exception_init_0());
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$getQueryForTest$lambda_0(closure$testContainerMap, closure$testsPaths) {
    return function (response, reject) {
      var tmp$;
      var $receiver = closure$testContainerMap;
      var value = toString(response);
      $receiver.put_xwzc9p$('content', value);
      var $receiver_0 = closure$testContainerMap;
      var key = 'contentPath';
      var value_0 = (tmp$ = closure$testsPaths.testPathInSpec) != null ? tmp$ : closure$testsPaths.path;
      $receiver_0.put_xwzc9p$(key, value_0);
      return Unit;
    };
  }
  function GithubTestsLoader$Companion$getQueryForTest$lambda_1(it) {
    return Unit;
  }
  GithubTestsLoader$Companion.prototype.getQueryForTest_0 = function (testContainerMap, requestReject, testsPaths) {
    return $module$jquery.ajax(this.getFullPathForTest_0(testsPaths.path), this.jQueryAjaxSettings_0(GithubTestsLoader$Companion$getQueryForTest$lambda(requestReject))).then(GithubTestsLoader$Companion$getQueryForTest$lambda_0(testContainerMap, testsPaths), GithubTestsLoader$Companion$getQueryForTest$lambda_1);
  };
  function GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral(closure$requestReject) {
    this.closure$requestReject = closure$requestReject;
  }
  Object.defineProperty(GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.prototype, 'cache', {get: function () {
    return false;
  }, set: function (f) {
  }});
  Object.defineProperty(GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.prototype, 'type', {get: function () {
    return 'GET';
  }, set: function (f) {
  }});
  function GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$get_GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$error$lambda(closure$requestReject) {
    return function (f, f_0, f_1) {
      closure$requestReject(Exception_init_0());
      return Unit;
    };
  }
  Object.defineProperty(GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.prototype, 'error', {get: function () {
    return GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$get_GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral$error$lambda(this.closure$requestReject);
  }});
  GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: []};
  GithubTestsLoader$Companion.prototype.jQueryAjaxSettings_0 = function (requestReject) {
    return new GithubTestsLoader$Companion$jQueryAjaxSettings$ObjectLiteral(requestReject);
  };
  GithubTestsLoader$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var GithubTestsLoader$Companion_instance = null;
  function GithubTestsLoader$Companion_getInstance() {
    if (GithubTestsLoader$Companion_instance === null) {
      new GithubTestsLoader$Companion();
    }
    return GithubTestsLoader$Companion_instance;
  }
  GithubTestsLoader.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'GithubTestsLoader', interfaces: []};
  function GithubTestsLoaderType(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function GithubTestsLoaderType_initFields() {
    GithubTestsLoaderType_initFields = function () {
    };
    GithubTestsLoaderType$DIRECTLY_instance = new GithubTestsLoaderType('DIRECTLY', 0);
    GithubTestsLoaderType$USING_API_instance = new GithubTestsLoaderType('USING_API', 1);
    GithubTestsLoaderType$USING_TESTS_MAP_FILE_instance = new GithubTestsLoaderType('USING_TESTS_MAP_FILE', 2);
  }
  var GithubTestsLoaderType$DIRECTLY_instance;
  function GithubTestsLoaderType$DIRECTLY_getInstance() {
    GithubTestsLoaderType_initFields();
    return GithubTestsLoaderType$DIRECTLY_instance;
  }
  var GithubTestsLoaderType$USING_API_instance;
  function GithubTestsLoaderType$USING_API_getInstance() {
    GithubTestsLoaderType_initFields();
    return GithubTestsLoaderType$USING_API_instance;
  }
  var GithubTestsLoaderType$USING_TESTS_MAP_FILE_instance;
  function GithubTestsLoaderType$USING_TESTS_MAP_FILE_getInstance() {
    GithubTestsLoaderType_initFields();
    return GithubTestsLoaderType$USING_TESTS_MAP_FILE_instance;
  }
  GithubTestsLoaderType.$metadata$ = {kind: Kind_CLASS, simpleName: 'GithubTestsLoaderType', interfaces: [Enum]};
  function GithubTestsLoaderType$values() {
    return [GithubTestsLoaderType$DIRECTLY_getInstance(), GithubTestsLoaderType$USING_API_getInstance(), GithubTestsLoaderType$USING_TESTS_MAP_FILE_getInstance()];
  }
  GithubTestsLoaderType.values = GithubTestsLoaderType$values;
  function GithubTestsLoaderType$valueOf(name) {
    switch (name) {
      case 'DIRECTLY':
        return GithubTestsLoaderType$DIRECTLY_getInstance();
      case 'USING_API':
        return GithubTestsLoaderType$USING_API_getInstance();
      case 'USING_TESTS_MAP_FILE':
        return GithubTestsLoaderType$USING_TESTS_MAP_FILE_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.tests.loaders.GithubTestsLoaderType.' + name);
    }
  }
  GithubTestsLoaderType.valueOf_61zpoe$ = GithubTestsLoaderType$valueOf;
  function LoaderByTestsMapFile() {
    this.testsMapFilename_0 = 'testsMap.json';
  }
  LoaderByTestsMapFile.prototype.loadTestsMapFile_0 = function (sectionsPath, testAreasToLoad) {
    return GithubTestsLoader$Companion_getInstance().loadTestMapFileFromRawGithub_c787b3$(sectionsPath + '/' + this.testsMapFilename_0, null, GithubTestsLoader$TestFileType$SPEC_TEST_getInstance(), void 0, testAreasToLoad);
  };
  LoaderByTestsMapFile.prototype.getPromisesForTestFilesFromTestMap_0 = function (testsMapData, sectionsPath, sectionName) {
    var tmp$, tmp$_0, tmp$_1, tmp$_2;
    var promises = ArrayList_init();
    tmp$ = testsMapData != null ? testsMapData.testMapJsonElement : null;
    if (tmp$ == null) {
      return copyToArray(promises);
    }
    var testsMap = tmp$;
    tmp$_0 = testsMap.jsonObject.entries.iterator();
    while (tmp$_0.hasNext()) {
      var tmp$_3 = tmp$_0.next();
      var paragraph = tmp$_3.key;
      var testsByParagraphs = tmp$_3.value;
      tmp$_1 = testsByParagraphs.jsonObject.entries.iterator();
      while (tmp$_1.hasNext()) {
        var tmp$_4 = tmp$_1.next();
        var testType = tmp$_4.key;
        var testsByTypes = tmp$_4.value;
        tmp$_2 = testsByTypes.jsonObject.entries.iterator();
        while (tmp$_2.hasNext()) {
          var tmp$_5 = tmp$_2.next();
          var testSentence = tmp$_5.key;
          var testsBySentences = tmp$_5.value;
          var tmp$_6, tmp$_0_0;
          var index = 0;
          tmp$_6 = testsBySentences.jsonArray.iterator();
          while (tmp$_6.hasNext()) {
            var item = tmp$_6.next();
            var i = checkIndexOverflow((tmp$_0_0 = index, index = tmp$_0_0 + 1 | 0, tmp$_0_0));
            var tmp$_7, tmp$_8;
            var testPathInSpec = format('{1}.{2}.p-{3}.{4}.{5}.{6}', [joinToString(sectionsPath, '.'), sectionName, paragraph, testType, testSentence, i + 1 | 0]);
            var testFilePath = ensureNotNull((tmp$_8 = (tmp$_7 = item.jsonObject.get_11rb$('path')) != null ? tmp$_7.primitive : null) != null ? tmp$_8.content : null);
            var testElementInfo = new TestElementInfo(item.jsonObject);
            if (testElementInfo.path.length === 0)
              testElementInfo.path = format('{1}/{2}/p-{3}/{4}/{5}.{6}.kt', [joinToString(sectionsPath, '/'), sectionName, paragraph, testType, testSentence, i + 1 | 0]);
            promises.add_11rb$(GithubTestsLoader$Companion_getInstance().loadTestFileFromRawGithub_n99pvx$(testFilePath, testPathInSpec, void 0, testElementInfo, new TestPath(paragraph, testType, testSentence)));
          }
        }
      }
    }
    return copyToArray(promises);
  };
  function LoaderByTestsMapFile$loadTestFilesForSectionByTestMapsNew$lambda$lambda(closure$testAreasToLoad) {
    return function (it) {
      return new SectionTestSet(closure$testAreasToLoad);
    };
  }
  function LoaderByTestsMapFile$loadTestFilesForSectionByTestMapsNew$lambda(closure$testAreasToLoad, closure$sectionsPath, closure$sectionName, this$LoaderByTestsMapFile) {
    return function (testsMapDataForSectionByTestAreaMap) {
      var querySet = ArrayList_init();
      var $receiver = closure$testAreasToLoad;
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        var closure$sectionsPath_0 = closure$sectionsPath;
        var closure$sectionName_0 = closure$sectionName;
        querySet.add_11rb$(this$LoaderByTestsMapFile.getPromiseForTests_0(element, testsMapDataForSectionByTestAreaMap, closure$sectionsPath_0, closure$sectionName_0));
      }
      return Promise.all(copyToArray(querySet)).then(LoaderByTestsMapFile$loadTestFilesForSectionByTestMapsNew$lambda$lambda(closure$testAreasToLoad));
    };
  }
  LoaderByTestsMapFile.prototype.loadTestFilesForSectionByTestMapsNew_8qmz6k$ = function (sectionName, sectionsPath, testAreasToLoad) {
    return this.loadTestsMapFile_0(joinToString(sectionsPath, '/') + '/' + sectionName, testAreasToLoad).then(LoaderByTestsMapFile$loadTestFilesForSectionByTestMapsNew$lambda(testAreasToLoad, sectionsPath, sectionName, this));
  };
  function LoaderByTestsMapFile$getPromiseForTests$lambda(closure$testArea) {
    return function (tests) {
      addAll(closure$testArea.listOfTests, tests);
      return true;
    };
  }
  LoaderByTestsMapFile.prototype.getPromiseForTests_0 = function (testArea, testsMapDataForSectionByTestAreaEnumMap, sectionsPath, sectionName) {
    return Promise.all(this.getPromisesForTestFilesFromTestMap_0(testsMapDataForSectionByTestAreaEnumMap.get_11rb$(testArea), sectionsPath, sectionName)).then(LoaderByTestsMapFile$getPromiseForTests$lambda(testArea));
  };
  LoaderByTestsMapFile.prototype.loadTestFiles_dr8uea$ = function (sectionName, sectionsPath, paragraphsInfo) {
    throw new NotImplementedError_init();
  };
  LoaderByTestsMapFile.$metadata$ = {kind: Kind_CLASS, simpleName: 'LoaderByTestsMapFile', interfaces: [GithubTestsLoader]};
  function PopupConfig(width, height, title, content, maxHeight) {
    if (maxHeight === void 0)
      maxHeight = null;
    this.width = width;
    this.height = height;
    this.title = title;
    this.content = content;
    this.maxHeight = maxHeight;
  }
  Object.defineProperty(PopupConfig.prototype, 'optimizedWidth', {get: function () {
    var $receiver = numberToInt($module$jquery(ensureNotNull(document.body)).width());
    return ($receiver - 50 | 0) < this.width ? $receiver - 50 | 0 : this.width;
  }});
  PopupConfig.$metadata$ = {kind: Kind_CLASS, simpleName: 'PopupConfig', interfaces: []};
  PopupConfig.prototype.component1 = function () {
    return this.width;
  };
  PopupConfig.prototype.component2 = function () {
    return this.height;
  };
  PopupConfig.prototype.component3 = function () {
    return this.title;
  };
  PopupConfig.prototype.component4 = function () {
    return this.content;
  };
  PopupConfig.prototype.component5 = function () {
    return this.maxHeight;
  };
  PopupConfig.prototype.copy_elb4e7$ = function (width, height, title, content, maxHeight) {
    return new PopupConfig(width === void 0 ? this.width : width, height === void 0 ? this.height : height, title === void 0 ? this.title : title, content === void 0 ? this.content : content, maxHeight === void 0 ? this.maxHeight : maxHeight);
  };
  PopupConfig.prototype.toString = function () {
    return 'PopupConfig(width=' + Kotlin.toString(this.width) + (', height=' + Kotlin.toString(this.height)) + (', title=' + Kotlin.toString(this.title)) + (', content=' + Kotlin.toString(this.content)) + (', maxHeight=' + Kotlin.toString(this.maxHeight)) + ')';
  };
  PopupConfig.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.width) | 0;
    result = result * 31 + Kotlin.hashCode(this.height) | 0;
    result = result * 31 + Kotlin.hashCode(this.title) | 0;
    result = result * 31 + Kotlin.hashCode(this.content) | 0;
    result = result * 31 + Kotlin.hashCode(this.maxHeight) | 0;
    return result;
  };
  PopupConfig.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.width, other.width) && Kotlin.equals(this.height, other.height) && Kotlin.equals(this.title, other.title) && Kotlin.equals(this.content, other.content) && Kotlin.equals(this.maxHeight, other.maxHeight)))));
  };
  function PopupSelectors(main, body, close, title, shadow) {
    this.main = main;
    this.body = body;
    this.close = close;
    this.title = title;
    this.shadow = shadow;
  }
  PopupSelectors.$metadata$ = {kind: Kind_CLASS, simpleName: 'PopupSelectors', interfaces: []};
  PopupSelectors.prototype.component1 = function () {
    return this.main;
  };
  PopupSelectors.prototype.component2 = function () {
    return this.body;
  };
  PopupSelectors.prototype.component3 = function () {
    return this.close;
  };
  PopupSelectors.prototype.component4 = function () {
    return this.title;
  };
  PopupSelectors.prototype.component5 = function () {
    return this.shadow;
  };
  PopupSelectors.prototype.copy_x0a6t6$ = function (main, body, close, title, shadow) {
    return new PopupSelectors(main === void 0 ? this.main : main, body === void 0 ? this.body : body, close === void 0 ? this.close : close, title === void 0 ? this.title : title, shadow === void 0 ? this.shadow : shadow);
  };
  PopupSelectors.prototype.toString = function () {
    return 'PopupSelectors(main=' + Kotlin.toString(this.main) + (', body=' + Kotlin.toString(this.body)) + (', close=' + Kotlin.toString(this.close)) + (', title=' + Kotlin.toString(this.title)) + (', shadow=' + Kotlin.toString(this.shadow)) + ')';
  };
  PopupSelectors.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.main) | 0;
    result = result * 31 + Kotlin.hashCode(this.body) | 0;
    result = result * 31 + Kotlin.hashCode(this.close) | 0;
    result = result * 31 + Kotlin.hashCode(this.title) | 0;
    result = result * 31 + Kotlin.hashCode(this.shadow) | 0;
    return result;
  };
  PopupSelectors.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.main, other.main) && Kotlin.equals(this.body, other.body) && Kotlin.equals(this.close, other.close) && Kotlin.equals(this.title, other.title) && Kotlin.equals(this.shadow, other.shadow)))));
  };
  function PopupTemplates(wrap, title, close, body) {
    this.wrap_0 = wrap;
    this.title_0 = title;
    this.close_0 = close;
    this.body_0 = body;
  }
  PopupTemplates.prototype.getSpecializedTemplate_ccskfk$ = function (title, content, width, height) {
    return format(this.wrap_0, [width, format(this.title_0, [this.close_0, title]), format(this.body_0, [height, content])]);
  };
  PopupTemplates.$metadata$ = {kind: Kind_CLASS, simpleName: 'PopupTemplates', interfaces: []};
  PopupTemplates.prototype.component1_0 = function () {
    return this.wrap_0;
  };
  PopupTemplates.prototype.component2_0 = function () {
    return this.title_0;
  };
  PopupTemplates.prototype.component3_0 = function () {
    return this.close_0;
  };
  PopupTemplates.prototype.component4_0 = function () {
    return this.body_0;
  };
  PopupTemplates.prototype.copy_w74nik$ = function (wrap, title, close, body) {
    return new PopupTemplates(wrap === void 0 ? this.wrap_0 : wrap, title === void 0 ? this.title_0 : title, close === void 0 ? this.close_0 : close, body === void 0 ? this.body_0 : body);
  };
  PopupTemplates.prototype.toString = function () {
    return 'PopupTemplates(wrap=' + Kotlin.toString(this.wrap_0) + (', title=' + Kotlin.toString(this.title_0)) + (', close=' + Kotlin.toString(this.close_0)) + (', body=' + Kotlin.toString(this.body_0)) + ')';
  };
  PopupTemplates.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.wrap_0) | 0;
    result = result * 31 + Kotlin.hashCode(this.title_0) | 0;
    result = result * 31 + Kotlin.hashCode(this.close_0) | 0;
    result = result * 31 + Kotlin.hashCode(this.body_0) | 0;
    return result;
  };
  PopupTemplates.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.wrap_0, other.wrap_0) && Kotlin.equals(this.title_0, other.title_0) && Kotlin.equals(this.close_0, other.close_0) && Kotlin.equals(this.body_0, other.body_0)))));
  };
  function Popup(config) {
    Popup$Companion_getInstance();
    this.config_0 = config;
    this.setHandlers_0();
  }
  function Popup$Companion() {
    Popup$Companion_instance = this;
    this.TITLE_HEIGHT_0 = 29;
    this.OFFSET_AROUND_BODY_0 = 50;
    this.selectors_0 = new PopupSelectors('.box', '.box .body', '.box .title .close', '.box .title .text', '.box_shadow');
    this.templates_0 = new PopupTemplates('<div class="box_shadow"><\/div><div class="box" style="width:{1}px;opacity:0.0">{2}{3}<\/div>', '<div class="title">{1}<div class="text">{2}<\/div><\/div>', '<a href="#" class="close"><\/a>', '<div class="body" style="min-height:{1}px">{2}<\/div>');
  }
  Popup$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var Popup$Companion_instance = null;
  function Popup$Companion_getInstance() {
    if (Popup$Companion_instance === null) {
      new Popup$Companion();
    }
    return Popup$Companion_instance;
  }
  function Popup$open$lambda() {
    $module$jquery('.box').fadeTo(500, 1.0);
    return Unit;
  }
  Popup.prototype.open = function () {
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).remove();
    $module$jquery(ensureNotNull(document.body)).append(Popup$Companion_getInstance().templates_0.getSpecializedTemplate_ccskfk$(this.config_0.title, this.config_0.content, this.config_0.optimizedWidth, this.config_0.height - 29 | 0));
    this.computeSizes_yo2cqg$(Popup$open$lambda);
  };
  Popup.prototype.computeSizes_yo2cqg$ = function (callback) {
    if (callback === void 0)
      callback = null;
    var tmp$;
    var windowHeight = numberToInt($module$jquery(window).height());
    var windowWidth = numberToInt($module$jquery(window).width());
    if (this.config_0.maxHeight == null || this.config_0.maxHeight > (windowHeight - 50 | 0))
      tmp$ = windowHeight - 50 | 0;
    else
      tmp$ = this.config_0.maxHeight;
    var maxHeight = tmp$;
    var ownHeight = numberToDouble($module$jquery(Popup$Companion_getInstance().selectors_0.main).height());
    var ownWidth = numberToDouble($module$jquery(Popup$Companion_getInstance().selectors_0.main).width());
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).css('maxHeight', '`' + maxHeight + 'px');
    $module$jquery(Popup$Companion_getInstance().selectors_0.body).css('maxHeight', (maxHeight - 29 | 0).toString() + 'px');
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).css('top', round((windowHeight - ownHeight) / 2).toString() + 'px');
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).css('left', round((windowWidth - ownWidth) / 2).toString() + 'px');
    callback != null ? callback() : null;
  };
  Popup.prototype.close_0 = function () {
    $module$jquery(Popup$Companion_getInstance().selectors_0.main).remove();
    $module$jquery(Popup$Companion_getInstance().selectors_0.shadow).remove();
  };
  function Popup$setHandlers$lambda$lambda(this$Popup) {
    return function (f, f_0) {
      this$Popup.close_0();
      return false;
    };
  }
  function Popup$setHandlers$lambda$lambda_0(this$Popup) {
    return function (f, f_0) {
      this$Popup.close_0();
      return false;
    };
  }
  function Popup$setHandlers$lambda(this$Popup) {
    return function (f, f_0) {
      this$Popup.computeSizes_yo2cqg$();
      return Unit;
    };
  }
  Popup.prototype.setHandlers_0 = function () {
    var $receiver = $module$jquery(ensureNotNull(document.body));
    $receiver.on('click', Popup$Companion_getInstance().selectors_0.close, Popup$setHandlers$lambda$lambda(this));
    $receiver.on('click', Popup$Companion_getInstance().selectors_0.shadow, Popup$setHandlers$lambda$lambda_0(this));
    $module$jquery(window).on('resize', Popup$setHandlers$lambda(this));
  };
  Popup.$metadata$ = {kind: Kind_CLASS, simpleName: 'Popup', interfaces: []};
  function TestAreaEnum(name, ordinal, path, content, contentPath) {
    Enum.call(this);
    this.path = path;
    this.content = content;
    this.contentPath = contentPath;
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function TestAreaEnum_initFields() {
    TestAreaEnum_initFields = function () {
    };
    TestAreaEnum$DIAGNOSTICS_instance = new TestAreaEnum('DIAGNOSTICS', 0, 'diagnostics', 'content1', 'path1');
    TestAreaEnum$CODEGEN_BOX_instance = new TestAreaEnum('CODEGEN_BOX', 1, 'codegen/box', 'content2', 'path2');
  }
  var TestAreaEnum$DIAGNOSTICS_instance;
  function TestAreaEnum$DIAGNOSTICS_getInstance() {
    TestAreaEnum_initFields();
    return TestAreaEnum$DIAGNOSTICS_instance;
  }
  var TestAreaEnum$CODEGEN_BOX_instance;
  function TestAreaEnum$CODEGEN_BOX_getInstance() {
    TestAreaEnum_initFields();
    return TestAreaEnum$CODEGEN_BOX_instance;
  }
  TestAreaEnum.$metadata$ = {kind: Kind_CLASS, simpleName: 'TestAreaEnum', interfaces: [Enum]};
  function TestAreaEnum$values() {
    return [TestAreaEnum$DIAGNOSTICS_getInstance(), TestAreaEnum$CODEGEN_BOX_getInstance()];
  }
  TestAreaEnum.values = TestAreaEnum$values;
  function TestAreaEnum$valueOf(name) {
    switch (name) {
      case 'DIAGNOSTICS':
        return TestAreaEnum$DIAGNOSTICS_getInstance();
      case 'CODEGEN_BOX':
        return TestAreaEnum$CODEGEN_BOX_getInstance();
      default:throwISE('No enum constant org.jetbrains.kotlin.spec.utils.TestAreaEnum.' + name);
    }
  }
  TestAreaEnum.valueOf_61zpoe$ = TestAreaEnum$valueOf;
  function format($receiver, args) {
    var regex = Regex_init_0('\\{(\\d+)}', RegexOption.MULTILINE);
    var replace_20wsma$result;
    replace_20wsma$break: do {
      var match = regex.find_905azu$($receiver);
      if (match == null) {
        replace_20wsma$result = $receiver.toString();
        break replace_20wsma$break;
      }
      var lastStart = 0;
      var length = $receiver.length;
      var sb = StringBuilder_init_0(length);
      do {
        var foundMatch = ensureNotNull(match);
        sb.append_ezbsdh$($receiver, lastStart, foundMatch.range.start);
        var tmp$ = sb.append_gw00v9$;
        var number = toInt(foundMatch.groupValues.get_za3lpa$(1));
        tmp$.call(sb, args.length >= number ? args[number - 1 | 0].toString() : '');
        lastStart = foundMatch.range.endInclusive + 1 | 0;
        match = foundMatch.next();
      }
       while (lastStart < length && match != null);
      if (lastStart < length) {
        sb.append_ezbsdh$($receiver, lastStart, length);
      }
      replace_20wsma$result = sb.toString();
    }
     while (false);
    return replace_20wsma$result;
  }
  function escapeHtml($receiver) {
    var $receiver_0 = Regex_init_0('&', RegexOption.MULTILINE).replace_x2uqeu$($receiver, '&amp;');
    var $receiver_1 = Regex_init_0('<', RegexOption.MULTILINE).replace_x2uqeu$($receiver_0, '&lt;');
    var $receiver_2 = Regex_init('>').replace_x2uqeu$($receiver_1, '&gt;');
    var $receiver_3 = Regex_init_0('"', RegexOption.MULTILINE).replace_x2uqeu$($receiver_2, '&quot;');
    return Regex_init_0("'", RegexOption.MULTILINE).replace_x2uqeu$($receiver_3, '&#039;');
  }
  function setValueByObjectPath(target, value, path) {
    var pathComponents = split(path, ['.']);
    var soughtForObj = {v: target};
    var tmp$;
    tmp$ = slice(pathComponents, until(0, pathComponents.size - 1 | 0)).iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var $receiver = soughtForObj.v;
      var tmp$_0;
      var value_0 = $receiver.get_11rb$(element);
      if (value_0 == null) {
        var answer = LinkedHashMap_init();
        $receiver.put_xwzc9p$(element, answer);
        tmp$_0 = answer;
      }
       else {
        tmp$_0 = value_0;
      }
      soughtForObj.v = tmp$_0;
    }
    var $receiver_0 = soughtForObj.v;
    var key = last(pathComponents);
    $receiver_0.put_xwzc9p$(key, value);
  }
  function get_searchMap($receiver) {
    var rawSearch = split($receiver.search.substring(1), ['&']);
    var objURL = LinkedHashMap_init();
    var tmp$;
    tmp$ = rawSearch.iterator();
    loop_label: while (tmp$.hasNext()) {
      var element = tmp$.next();
      action$break: do {
        var paramComponents = split(element, ['=']);
        if (paramComponents.size !== 2)
          break action$break;
        var key = paramComponents.get_za3lpa$(0);
        var value = paramComponents.get_za3lpa$(1);
        objURL.put_xwzc9p$(key, value);
      }
       while (false);
    }
    return objURL;
  }
  var package$org = _.org || (_.org = {});
  var package$jetbrains = package$org.jetbrains || (package$org.jetbrains = {});
  var package$kotlin = package$jetbrains.kotlin || (package$jetbrains.kotlin = {});
  var package$spec = package$kotlin.spec || (package$kotlin.spec = {});
  Object.defineProperty(package$spec, 'MarkUp', {get: MarkUp_getInstance});
  Object.defineProperty(SpecConfig, 'Companion', {get: SpecConfig$Companion_getInstance});
  package$spec.SpecConfig = SpecConfig;
  var package$entities = package$spec.entities || (package$spec.entities = {});
  package$entities.SectionTestSet = SectionTestSet;
  package$entities.Test = Test;
  package$entities.TestMapData = TestMapData;
  package$entities.TestPath = TestPath;
  Object.defineProperty(TestType, 'POSITIVE', {get: TestType$POSITIVE_getInstance});
  Object.defineProperty(TestType, 'NEGATIVE', {get: TestType$NEGATIVE_getInstance});
  package$entities.TestType = TestType;
  var package$testElement = package$entities.testElement || (package$entities.testElement = {});
  package$testElement.TestContainer = TestContainer;
  Object.defineProperty(TestElementKey, 'specVersion', {get: TestElementKey$specVersion_getInstance});
  Object.defineProperty(TestElementKey, 'casesNumber', {get: TestElementKey$casesNumber_getInstance});
  Object.defineProperty(TestElementKey, 'description', {get: TestElementKey$description_getInstance});
  Object.defineProperty(TestElementKey, 'path', {get: TestElementKey$path_getInstance});
  Object.defineProperty(TestElementKey, 'unexpectedBehaviour', {get: TestElementKey$unexpectedBehaviour_getInstance});
  package$testElement.TestElementKey = TestElementKey;
  Object.defineProperty(TestElementInfo, 'Companion', {get: TestElementInfo$Companion_getInstance});
  package$testElement.TestElementInfo = TestElementInfo;
  var package$links = package$spec.links || (package$spec.links = {});
  Object.defineProperty(package$links, 'SentenceFinder', {get: SentenceFinder_getInstance});
  package$links.SpecPlaceComponents = SpecPlaceComponents;
  Object.defineProperty(package$links, 'SpecPlaceHighlighter', {get: SpecPlaceHighlighter_getInstance});
  package$spec.runAfterDocumentReady = runAfterDocumentReady;
  package$spec.main = main;
  var package$testArea = package$spec.testArea || (package$spec.testArea = {});
  package$testArea.TestArea = TestArea;
  package$testArea.DiagnosticsTestArea = DiagnosticsTestArea;
  package$testArea.CodegenBoxTestArea = CodegenBoxTestArea;
  var package$tests = package$spec.tests || (package$spec.tests = {});
  Object.defineProperty(SpecTestsLoader, 'Companion', {get: SpecTestsLoader$Companion_getInstance});
  package$tests.SpecTestsLoader = SpecTestsLoader;
  Object.defineProperty(NavigationType, 'PREV', {get: NavigationType$PREV_getInstance});
  Object.defineProperty(NavigationType, 'NEXT', {get: NavigationType$NEXT_getInstance});
  package$tests.NavigationType = NavigationType;
  Object.defineProperty(SpecTestsViewer, 'Companion', {get: SpecTestsViewer$Companion_getInstance});
  package$tests.SpecTestsViewer = SpecTestsViewer;
  Object.defineProperty(package$tests, 'TestsCoverageColorsArranger', {get: TestsCoverageColorsArranger_getInstance});
  Object.defineProperty(GithubTestsLoader$TestFileType, 'SPEC_TEST', {get: GithubTestsLoader$TestFileType$SPEC_TEST_getInstance});
  Object.defineProperty(GithubTestsLoader$TestFileType, 'IMPLEMENTATION_TEST', {get: GithubTestsLoader$TestFileType$IMPLEMENTATION_TEST_getInstance});
  GithubTestsLoader.TestFileType = GithubTestsLoader$TestFileType;
  GithubTestsLoader$Companion.prototype.TestsPaths = GithubTestsLoader$Companion$TestsPaths;
  Object.defineProperty(GithubTestsLoader, 'Companion', {get: GithubTestsLoader$Companion_getInstance});
  var package$loaders = package$tests.loaders || (package$tests.loaders = {});
  package$loaders.GithubTestsLoader = GithubTestsLoader;
  Object.defineProperty(GithubTestsLoaderType, 'DIRECTLY', {get: GithubTestsLoaderType$DIRECTLY_getInstance});
  Object.defineProperty(GithubTestsLoaderType, 'USING_API', {get: GithubTestsLoaderType$USING_API_getInstance});
  Object.defineProperty(GithubTestsLoaderType, 'USING_TESTS_MAP_FILE', {get: GithubTestsLoaderType$USING_TESTS_MAP_FILE_getInstance});
  package$loaders.GithubTestsLoaderType = GithubTestsLoaderType;
  package$loaders.LoaderByTestsMapFile = LoaderByTestsMapFile;
  var package$utils = package$spec.utils || (package$spec.utils = {});
  package$utils.PopupConfig = PopupConfig;
  Object.defineProperty(Popup, 'Companion', {get: Popup$Companion_getInstance});
  package$utils.Popup = Popup;
  Object.defineProperty(TestAreaEnum, 'DIAGNOSTICS', {get: TestAreaEnum$DIAGNOSTICS_getInstance});
  Object.defineProperty(TestAreaEnum, 'CODEGEN_BOX', {get: TestAreaEnum$CODEGEN_BOX_getInstance});
  package$utils.TestAreaEnum = TestAreaEnum;
  package$utils.format_e33kwl$ = format;
  package$utils.escapeHtml_pdl1vz$ = escapeHtml;
  package$utils.setValueByObjectPath_zdp6z8$ = setValueByObjectPath;
  package$utils.get_searchMap_uq8nrx$ = get_searchMap;
  KotlinPlayground = __webpack_require__(/*! kotlin-playground */ "./node_modules/kotlin-playground/dist/playground.min.js");
  main();
  return _;
}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

//# sourceMappingURL=front-end.js.map


/***/ }),

/***/ "./kotlin-js-min/main/kotlin.js":
/*!**************************************!*\
  !*** ./kotlin-js-min/main/kotlin.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  }
   else {}
}(this, function (Kotlin) {
  var _ = Kotlin;
  Kotlin.isBooleanArray = function (a) {
    return (Array.isArray(a) || a instanceof Int8Array) && a.$type$ === 'BooleanArray';
  };
  Kotlin.isByteArray = function (a) {
    return a instanceof Int8Array && a.$type$ !== 'BooleanArray';
  };
  Kotlin.isShortArray = function (a) {
    return a instanceof Int16Array;
  };
  Kotlin.isCharArray = function (a) {
    return a instanceof Uint16Array && a.$type$ === 'CharArray';
  };
  Kotlin.isIntArray = function (a) {
    return a instanceof Int32Array;
  };
  Kotlin.isFloatArray = function (a) {
    return a instanceof Float32Array;
  };
  Kotlin.isDoubleArray = function (a) {
    return a instanceof Float64Array;
  };
  Kotlin.isLongArray = function (a) {
    return Array.isArray(a) && a.$type$ === 'LongArray';
  };
  Kotlin.isArray = function (a) {
    return Array.isArray(a) && !a.$type$;
  };
  Kotlin.isArrayish = function (a) {
    return Array.isArray(a) || ArrayBuffer.isView(a);
  };
  Kotlin.arrayToString = function (a) {
    var toString = Kotlin.isCharArray(a) ? String.fromCharCode : Kotlin.toString;
    return '[' + Array.prototype.map.call(a, function (e) {
      return toString(e);
    }).join(', ') + ']';
  };
  var propertyRefClassMetadataCache = [{mutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KMutableProperty0;
  }}, immutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KProperty0;
  }}}, {mutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KMutableProperty1;
  }}, immutable: {value: null, implementedInterface: function () {
    return Kotlin.kotlin.reflect.KProperty1;
  }}}];
  Kotlin.toShort = function (a) {
    return (a & 65535) << 16 >> 16;
  };
  Kotlin.toByte = function (a) {
    return (a & 255) << 24 >> 24;
  };
  Kotlin.toChar = function (a) {
    return a & 65535;
  };
  Kotlin.numberToInt = function (a) {
    return a instanceof Kotlin.Long ? a.toInt() : Kotlin.doubleToInt(a);
  };
  Kotlin.numberToDouble = function (a) {
    return +a;
  };
  Kotlin.doubleToInt = function (a) {
    if (a > 2147483647)
      return 2147483647;
    if (a < -2147483648)
      return -2147483648;
    return a | 0;
  };
  Kotlin.toBoxedChar = function (a) {
    if (a == null)
      return a;
    if (a instanceof Kotlin.BoxedChar)
      return a;
    return new Kotlin.BoxedChar(a);
  };
  Kotlin.unboxChar = function (a) {
    if (a == null)
      return a;
    return Kotlin.toChar(a);
  };
  Kotlin.equals = function (obj1, obj2) {
    if (obj1 == null) {
      return obj2 == null;
    }
    if (obj2 == null) {
      return false;
    }
    if (obj1 !== obj1) {
      return obj2 !== obj2;
    }
    if (typeof obj1 === 'object' && typeof obj1.equals === 'function') {
      return obj1.equals(obj2);
    }
    if (typeof obj1 === 'number' && typeof obj2 === 'number') {
      return obj1 === obj2 && (obj1 !== 0 || 1 / obj1 === 1 / obj2);
    }
    return obj1 === obj2;
  };
  Kotlin.hashCode = function (obj) {
    if (obj == null) {
      return 0;
    }
    var objType = typeof obj;
    if ('object' === objType) {
      return 'function' === typeof obj.hashCode ? obj.hashCode() : getObjectHashCode(obj);
    }
    if ('function' === objType) {
      return getObjectHashCode(obj);
    }
    if ('number' === objType) {
      return Kotlin.numberHashCode(obj);
    }
    if ('boolean' === objType) {
      return Number(obj);
    }
    var str = String(obj);
    return getStringHashCode(str);
  };
  Kotlin.toString = function (o) {
    if (o == null) {
      return 'null';
    }
     else if (Kotlin.isArrayish(o)) {
      return '[...]';
    }
     else {
      return o.toString();
    }
  };
  var POW_2_32 = 4.294967296E9;
  var OBJECT_HASH_CODE_PROPERTY_NAME = 'kotlinHashCodeValue$';
  function getObjectHashCode(obj) {
    if (!(OBJECT_HASH_CODE_PROPERTY_NAME in obj)) {
      var hash = Math.random() * POW_2_32 | 0;
      Object.defineProperty(obj, OBJECT_HASH_CODE_PROPERTY_NAME, {value: hash, enumerable: false});
    }
    return obj[OBJECT_HASH_CODE_PROPERTY_NAME];
  }
  function getStringHashCode(str) {
    var hash = 0;
    for (var i = 0; i < str.length; i++) {
      var code = str.charCodeAt(i);
      hash = hash * 31 + code | 0;
    }
    return hash;
  }
  Kotlin.identityHashCode = getObjectHashCode;
  Kotlin.Long = function (low, high) {
    this.low_ = low | 0;
    this.high_ = high | 0;
  };
  Kotlin.Long.$metadata$ = {kind: 'class', simpleName: 'Long', interfaces: []};
  Kotlin.Long.IntCache_ = {};
  Kotlin.Long.fromInt = function (value) {
    if (-128 <= value && value < 128) {
      var cachedObj = Kotlin.Long.IntCache_[value];
      if (cachedObj) {
        return cachedObj;
      }
    }
    var obj = new Kotlin.Long(value | 0, value < 0 ? -1 : 0);
    if (-128 <= value && value < 128) {
      Kotlin.Long.IntCache_[value] = obj;
    }
    return obj;
  };
  Kotlin.Long.fromNumber = function (value) {
    if (isNaN(value)) {
      return Kotlin.Long.ZERO;
    }
     else if (value <= -Kotlin.Long.TWO_PWR_63_DBL_) {
      return Kotlin.Long.MIN_VALUE;
    }
     else if (value + 1 >= Kotlin.Long.TWO_PWR_63_DBL_) {
      return Kotlin.Long.MAX_VALUE;
    }
     else if (value < 0) {
      return Kotlin.Long.fromNumber(-value).negate();
    }
     else {
      return new Kotlin.Long(value % Kotlin.Long.TWO_PWR_32_DBL_ | 0, value / Kotlin.Long.TWO_PWR_32_DBL_ | 0);
    }
  };
  Kotlin.Long.fromBits = function (lowBits, highBits) {
    return new Kotlin.Long(lowBits, highBits);
  };
  Kotlin.Long.fromString = function (str, opt_radix) {
    if (str.length == 0) {
      throw Error('number format error: empty string');
    }
    var radix = opt_radix || 10;
    if (radix < 2 || 36 < radix) {
      throw Error('radix out of range: ' + radix);
    }
    if (str.charAt(0) == '-') {
      return Kotlin.Long.fromString(str.substring(1), radix).negate();
    }
     else if (str.indexOf('-') >= 0) {
      throw Error('number format error: interior "-" character: ' + str);
    }
    var radixToPower = Kotlin.Long.fromNumber(Math.pow(radix, 8));
    var result = Kotlin.Long.ZERO;
    for (var i = 0; i < str.length; i += 8) {
      var size = Math.min(8, str.length - i);
      var value = parseInt(str.substring(i, i + size), radix);
      if (size < 8) {
        var power = Kotlin.Long.fromNumber(Math.pow(radix, size));
        result = result.multiply(power).add(Kotlin.Long.fromNumber(value));
      }
       else {
        result = result.multiply(radixToPower);
        result = result.add(Kotlin.Long.fromNumber(value));
      }
    }
    return result;
  };
  Kotlin.Long.TWO_PWR_16_DBL_ = 1 << 16;
  Kotlin.Long.TWO_PWR_24_DBL_ = 1 << 24;
  Kotlin.Long.TWO_PWR_32_DBL_ = Kotlin.Long.TWO_PWR_16_DBL_ * Kotlin.Long.TWO_PWR_16_DBL_;
  Kotlin.Long.TWO_PWR_31_DBL_ = Kotlin.Long.TWO_PWR_32_DBL_ / 2;
  Kotlin.Long.TWO_PWR_48_DBL_ = Kotlin.Long.TWO_PWR_32_DBL_ * Kotlin.Long.TWO_PWR_16_DBL_;
  Kotlin.Long.TWO_PWR_64_DBL_ = Kotlin.Long.TWO_PWR_32_DBL_ * Kotlin.Long.TWO_PWR_32_DBL_;
  Kotlin.Long.TWO_PWR_63_DBL_ = Kotlin.Long.TWO_PWR_64_DBL_ / 2;
  Kotlin.Long.ZERO = Kotlin.Long.fromInt(0);
  Kotlin.Long.ONE = Kotlin.Long.fromInt(1);
  Kotlin.Long.NEG_ONE = Kotlin.Long.fromInt(-1);
  Kotlin.Long.MAX_VALUE = Kotlin.Long.fromBits(4.294967295E9 | 0, 2147483647 | 0);
  Kotlin.Long.MIN_VALUE = Kotlin.Long.fromBits(0, 2.147483648E9 | 0);
  Kotlin.Long.TWO_PWR_24_ = Kotlin.Long.fromInt(1 << 24);
  Kotlin.Long.prototype.toInt = function () {
    return this.low_;
  };
  Kotlin.Long.prototype.toNumber = function () {
    return this.high_ * Kotlin.Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();
  };
  Kotlin.Long.prototype.hashCode = function () {
    return this.high_ ^ this.low_;
  };
  Kotlin.Long.prototype.toString = function (opt_radix) {
    var radix = opt_radix || 10;
    if (radix < 2 || 36 < radix) {
      throw Error('radix out of range: ' + radix);
    }
    if (this.isZero()) {
      return '0';
    }
    if (this.isNegative()) {
      if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
        var radixLong = Kotlin.Long.fromNumber(radix);
        var div = this.div(radixLong);
        var rem = div.multiply(radixLong).subtract(this);
        return div.toString(radix) + rem.toInt().toString(radix);
      }
       else {
        return '-' + this.negate().toString(radix);
      }
    }
    var radixToPower = Kotlin.Long.fromNumber(Math.pow(radix, 6));
    var rem = this;
    var result = '';
    while (true) {
      var remDiv = rem.div(radixToPower);
      var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();
      var digits = intval.toString(radix);
      rem = remDiv;
      if (rem.isZero()) {
        return digits + result;
      }
       else {
        while (digits.length < 6) {
          digits = '0' + digits;
        }
        result = '' + digits + result;
      }
    }
  };
  Kotlin.Long.prototype.getHighBits = function () {
    return this.high_;
  };
  Kotlin.Long.prototype.getLowBits = function () {
    return this.low_;
  };
  Kotlin.Long.prototype.getLowBitsUnsigned = function () {
    return this.low_ >= 0 ? this.low_ : Kotlin.Long.TWO_PWR_32_DBL_ + this.low_;
  };
  Kotlin.Long.prototype.getNumBitsAbs = function () {
    if (this.isNegative()) {
      if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
        return 64;
      }
       else {
        return this.negate().getNumBitsAbs();
      }
    }
     else {
      var val = this.high_ != 0 ? this.high_ : this.low_;
      for (var bit = 31; bit > 0; bit--) {
        if ((val & 1 << bit) != 0) {
          break;
        }
      }
      return this.high_ != 0 ? bit + 33 : bit + 1;
    }
  };
  Kotlin.Long.prototype.isZero = function () {
    return this.high_ == 0 && this.low_ == 0;
  };
  Kotlin.Long.prototype.isNegative = function () {
    return this.high_ < 0;
  };
  Kotlin.Long.prototype.isOdd = function () {
    return (this.low_ & 1) == 1;
  };
  Kotlin.Long.prototype.equalsLong = function (other) {
    return this.high_ == other.high_ && this.low_ == other.low_;
  };
  Kotlin.Long.prototype.notEqualsLong = function (other) {
    return this.high_ != other.high_ || this.low_ != other.low_;
  };
  Kotlin.Long.prototype.lessThan = function (other) {
    return this.compare(other) < 0;
  };
  Kotlin.Long.prototype.lessThanOrEqual = function (other) {
    return this.compare(other) <= 0;
  };
  Kotlin.Long.prototype.greaterThan = function (other) {
    return this.compare(other) > 0;
  };
  Kotlin.Long.prototype.greaterThanOrEqual = function (other) {
    return this.compare(other) >= 0;
  };
  Kotlin.Long.prototype.compare = function (other) {
    if (this.equalsLong(other)) {
      return 0;
    }
    var thisNeg = this.isNegative();
    var otherNeg = other.isNegative();
    if (thisNeg && !otherNeg) {
      return -1;
    }
    if (!thisNeg && otherNeg) {
      return 1;
    }
    if (this.subtract(other).isNegative()) {
      return -1;
    }
     else {
      return 1;
    }
  };
  Kotlin.Long.prototype.negate = function () {
    if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return Kotlin.Long.MIN_VALUE;
    }
     else {
      return this.not().add(Kotlin.Long.ONE);
    }
  };
  Kotlin.Long.prototype.add = function (other) {
    var a48 = this.high_ >>> 16;
    var a32 = this.high_ & 65535;
    var a16 = this.low_ >>> 16;
    var a00 = this.low_ & 65535;
    var b48 = other.high_ >>> 16;
    var b32 = other.high_ & 65535;
    var b16 = other.low_ >>> 16;
    var b00 = other.low_ & 65535;
    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
    c00 += a00 + b00;
    c16 += c00 >>> 16;
    c00 &= 65535;
    c16 += a16 + b16;
    c32 += c16 >>> 16;
    c16 &= 65535;
    c32 += a32 + b32;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c48 += a48 + b48;
    c48 &= 65535;
    return Kotlin.Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);
  };
  Kotlin.Long.prototype.subtract = function (other) {
    return this.add(other.negate());
  };
  Kotlin.Long.prototype.multiply = function (other) {
    if (this.isZero()) {
      return Kotlin.Long.ZERO;
    }
     else if (other.isZero()) {
      return Kotlin.Long.ZERO;
    }
    if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return other.isOdd() ? Kotlin.Long.MIN_VALUE : Kotlin.Long.ZERO;
    }
     else if (other.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return this.isOdd() ? Kotlin.Long.MIN_VALUE : Kotlin.Long.ZERO;
    }
    if (this.isNegative()) {
      if (other.isNegative()) {
        return this.negate().multiply(other.negate());
      }
       else {
        return this.negate().multiply(other).negate();
      }
    }
     else if (other.isNegative()) {
      return this.multiply(other.negate()).negate();
    }
    if (this.lessThan(Kotlin.Long.TWO_PWR_24_) && other.lessThan(Kotlin.Long.TWO_PWR_24_)) {
      return Kotlin.Long.fromNumber(this.toNumber() * other.toNumber());
    }
    var a48 = this.high_ >>> 16;
    var a32 = this.high_ & 65535;
    var a16 = this.low_ >>> 16;
    var a00 = this.low_ & 65535;
    var b48 = other.high_ >>> 16;
    var b32 = other.high_ & 65535;
    var b16 = other.low_ >>> 16;
    var b00 = other.low_ & 65535;
    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
    c00 += a00 * b00;
    c16 += c00 >>> 16;
    c00 &= 65535;
    c16 += a16 * b00;
    c32 += c16 >>> 16;
    c16 &= 65535;
    c16 += a00 * b16;
    c32 += c16 >>> 16;
    c16 &= 65535;
    c32 += a32 * b00;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c32 += a16 * b16;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c32 += a00 * b32;
    c48 += c32 >>> 16;
    c32 &= 65535;
    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
    c48 &= 65535;
    return Kotlin.Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);
  };
  Kotlin.Long.prototype.div = function (other) {
    if (other.isZero()) {
      throw Error('division by zero');
    }
     else if (this.isZero()) {
      return Kotlin.Long.ZERO;
    }
    if (this.equalsLong(Kotlin.Long.MIN_VALUE)) {
      if (other.equalsLong(Kotlin.Long.ONE) || other.equalsLong(Kotlin.Long.NEG_ONE)) {
        return Kotlin.Long.MIN_VALUE;
      }
       else if (other.equalsLong(Kotlin.Long.MIN_VALUE)) {
        return Kotlin.Long.ONE;
      }
       else {
        var halfThis = this.shiftRight(1);
        var approx = halfThis.div(other).shiftLeft(1);
        if (approx.equalsLong(Kotlin.Long.ZERO)) {
          return other.isNegative() ? Kotlin.Long.ONE : Kotlin.Long.NEG_ONE;
        }
         else {
          var rem = this.subtract(other.multiply(approx));
          var result = approx.add(rem.div(other));
          return result;
        }
      }
    }
     else if (other.equalsLong(Kotlin.Long.MIN_VALUE)) {
      return Kotlin.Long.ZERO;
    }
    if (this.isNegative()) {
      if (other.isNegative()) {
        return this.negate().div(other.negate());
      }
       else {
        return this.negate().div(other).negate();
      }
    }
     else if (other.isNegative()) {
      return this.div(other.negate()).negate();
    }
    var res = Kotlin.Long.ZERO;
    var rem = this;
    while (rem.greaterThanOrEqual(other)) {
      var approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));
      var log2 = Math.ceil(Math.log(approx) / Math.LN2);
      var delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);
      var approxRes = Kotlin.Long.fromNumber(approx);
      var approxRem = approxRes.multiply(other);
      while (approxRem.isNegative() || approxRem.greaterThan(rem)) {
        approx -= delta;
        approxRes = Kotlin.Long.fromNumber(approx);
        approxRem = approxRes.multiply(other);
      }
      if (approxRes.isZero()) {
        approxRes = Kotlin.Long.ONE;
      }
      res = res.add(approxRes);
      rem = rem.subtract(approxRem);
    }
    return res;
  };
  Kotlin.Long.prototype.modulo = function (other) {
    return this.subtract(this.div(other).multiply(other));
  };
  Kotlin.Long.prototype.not = function () {
    return Kotlin.Long.fromBits(~this.low_, ~this.high_);
  };
  Kotlin.Long.prototype.and = function (other) {
    return Kotlin.Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);
  };
  Kotlin.Long.prototype.or = function (other) {
    return Kotlin.Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);
  };
  Kotlin.Long.prototype.xor = function (other) {
    return Kotlin.Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);
  };
  Kotlin.Long.prototype.shiftLeft = function (numBits) {
    numBits &= 63;
    if (numBits == 0) {
      return this;
    }
     else {
      var low = this.low_;
      if (numBits < 32) {
        var high = this.high_;
        return Kotlin.Long.fromBits(low << numBits, high << numBits | low >>> 32 - numBits);
      }
       else {
        return Kotlin.Long.fromBits(0, low << numBits - 32);
      }
    }
  };
  Kotlin.Long.prototype.shiftRight = function (numBits) {
    numBits &= 63;
    if (numBits == 0) {
      return this;
    }
     else {
      var high = this.high_;
      if (numBits < 32) {
        var low = this.low_;
        return Kotlin.Long.fromBits(low >>> numBits | high << 32 - numBits, high >> numBits);
      }
       else {
        return Kotlin.Long.fromBits(high >> numBits - 32, high >= 0 ? 0 : -1);
      }
    }
  };
  Kotlin.Long.prototype.shiftRightUnsigned = function (numBits) {
    numBits &= 63;
    if (numBits == 0) {
      return this;
    }
     else {
      var high = this.high_;
      if (numBits < 32) {
        var low = this.low_;
        return Kotlin.Long.fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits);
      }
       else if (numBits == 32) {
        return Kotlin.Long.fromBits(high, 0);
      }
       else {
        return Kotlin.Long.fromBits(high >>> numBits - 32, 0);
      }
    }
  };
  Kotlin.Long.prototype.equals = function (other) {
    return other instanceof Kotlin.Long && this.equalsLong(other);
  };
  Kotlin.Long.prototype.compareTo_11rb$ = Kotlin.Long.prototype.compare;
  Kotlin.Long.prototype.inc = function () {
    return this.add(Kotlin.Long.ONE);
  };
  Kotlin.Long.prototype.dec = function () {
    return this.add(Kotlin.Long.NEG_ONE);
  };
  Kotlin.Long.prototype.valueOf = function () {
    return this.toNumber();
  };
  Kotlin.Long.prototype.unaryPlus = function () {
    return this;
  };
  Kotlin.Long.prototype.unaryMinus = Kotlin.Long.prototype.negate;
  Kotlin.Long.prototype.inv = Kotlin.Long.prototype.not;
  Kotlin.Long.prototype.rangeTo = function (other) {
    return new Kotlin.kotlin.ranges.LongRange(this, other);
  };
  Kotlin.defineInlineFunction = function (tag, fun) {
    return fun;
  };
  Kotlin.wrapFunction = function (fun) {
    var f = function () {
      f = fun();
      return f.apply(this, arguments);
    };
    return function () {
      return f.apply(this, arguments);
    };
  };
  Kotlin.suspendCall = function (value) {
    return value;
  };
  Kotlin.coroutineResult = function (qualifier) {
    throwMarkerError();
  };
  Kotlin.coroutineReceiver = function (qualifier) {
    throwMarkerError();
  };
  function throwMarkerError() {
    throw new Error('This marker function should never been called. ' + 'Looks like compiler did not eliminate it properly. ' + 'Please, report an issue if you caught this exception.');
  }
  Kotlin.compareTo = function (a, b) {
    var typeA = typeof a;
    if (typeA === 'number') {
      if (typeof b === 'number') {
        return Kotlin.doubleCompareTo(a, b);
      }
      return Kotlin.primitiveCompareTo(a, b);
    }
    if (typeA === 'string' || typeA === 'boolean') {
      return Kotlin.primitiveCompareTo(a, b);
    }
    return a.compareTo_11rb$(b);
  };
  Kotlin.primitiveCompareTo = function (a, b) {
    return a < b ? -1 : a > b ? 1 : 0;
  };
  Kotlin.doubleCompareTo = function (a, b) {
    if (a < b)
      return -1;
    if (a > b)
      return 1;
    if (a === b) {
      if (a !== 0)
        return 0;
      var ia = 1 / a;
      return ia === 1 / b ? 0 : ia < 0 ? -1 : 1;
    }
    return a !== a ? b !== b ? 0 : 1 : -1;
  };
  Kotlin.imul = Math.imul || imul;
  Kotlin.imulEmulated = imul;
  function imul(a, b) {
    return (a & 4.29490176E9) * (b & 65535) + (a & 65535) * (b | 0) | 0;
  }
  (function () {
    var buf = new ArrayBuffer(8);
    var bufFloat64 = new Float64Array(buf);
    var bufFloat32 = new Float32Array(buf);
    var bufInt32 = new Int32Array(buf);
    var lowIndex = 0;
    var highIndex = 1;
    bufFloat64[0] = -1;
    if (bufInt32[lowIndex] !== 0) {
      lowIndex = 1;
      highIndex = 0;
    }
    Kotlin.numberHashCode = function (obj) {
      if ((obj | 0) === obj) {
        return obj | 0;
      }
       else {
        bufFloat64[0] = obj;
        return (bufInt32[highIndex] * 31 | 0) + bufInt32[lowIndex] | 0;
      }
    };
  }());
  Kotlin.ensureNotNull = function (x) {
    return x != null ? x : Kotlin.throwNPE();
  };
  if (typeof String.prototype.startsWith === 'undefined') {
    String.prototype.startsWith = function (searchString, position) {
      position = position || 0;
      return this.lastIndexOf(searchString, position) === position;
    };
  }
  if (typeof String.prototype.endsWith === 'undefined') {
    String.prototype.endsWith = function (searchString, position) {
      var subjectString = this.toString();
      if (position === undefined || position > subjectString.length) {
        position = subjectString.length;
      }
      position -= searchString.length;
      var lastIndex = subjectString.indexOf(searchString, position);
      return lastIndex !== -1 && lastIndex === position;
    };
  }
  if (typeof Math.sign === 'undefined') {
    Math.sign = function (x) {
      x = +x;
      if (x === 0 || isNaN(x)) {
        return Number(x);
      }
      return x > 0 ? 1 : -1;
    };
  }
  if (typeof Math.trunc === 'undefined') {
    Math.trunc = function (x) {
      if (isNaN(x)) {
        return NaN;
      }
      if (x > 0) {
        return Math.floor(x);
      }
      return Math.ceil(x);
    };
  }
  (function () {
    var epsilon = 2.220446049250313E-16;
    var taylor_2_bound = Math.sqrt(epsilon);
    var taylor_n_bound = Math.sqrt(taylor_2_bound);
    var upper_taylor_2_bound = 1 / taylor_2_bound;
    var upper_taylor_n_bound = 1 / taylor_n_bound;
    if (typeof Math.sinh === 'undefined') {
      Math.sinh = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var result = x;
          if (Math.abs(x) > taylor_2_bound) {
            result += x * x * x / 6;
          }
          return result;
        }
         else {
          var y = Math.exp(x);
          var y1 = 1 / y;
          if (!isFinite(y))
            return Math.exp(x - Math.LN2);
          if (!isFinite(y1))
            return -Math.exp(-x - Math.LN2);
          return (y - y1) / 2;
        }
      };
    }
    if (typeof Math.cosh === 'undefined') {
      Math.cosh = function (x) {
        var y = Math.exp(x);
        var y1 = 1 / y;
        if (!isFinite(y) || !isFinite(y1))
          return Math.exp(Math.abs(x) - Math.LN2);
        return (y + y1) / 2;
      };
    }
    if (typeof Math.tanh === 'undefined') {
      Math.tanh = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var result = x;
          if (Math.abs(x) > taylor_2_bound) {
            result -= x * x * x / 3;
          }
          return result;
        }
         else {
          var a = Math.exp(+x), b = Math.exp(-x);
          return a === Infinity ? 1 : b === Infinity ? -1 : (a - b) / (a + b);
        }
      };
    }
    if (typeof Math.asinh === 'undefined') {
      var asinh = function (x) {
        if (x >= +taylor_n_bound) {
          if (x > upper_taylor_n_bound) {
            if (x > upper_taylor_2_bound) {
              return Math.log(x) + Math.LN2;
            }
             else {
              return Math.log(x * 2 + 1 / (x * 2));
            }
          }
           else {
            return Math.log(x + Math.sqrt(x * x + 1));
          }
        }
         else if (x <= -taylor_n_bound) {
          return -asinh(-x);
        }
         else {
          var result = x;
          if (Math.abs(x) >= taylor_2_bound) {
            var x3 = x * x * x;
            result -= x3 / 6;
          }
          return result;
        }
      };
      Math.asinh = asinh;
    }
    if (typeof Math.acosh === 'undefined') {
      Math.acosh = function (x) {
        if (x < 1) {
          return NaN;
        }
         else if (x - 1 >= taylor_n_bound) {
          if (x > upper_taylor_2_bound) {
            return Math.log(x) + Math.LN2;
          }
           else {
            return Math.log(x + Math.sqrt(x * x - 1));
          }
        }
         else {
          var y = Math.sqrt(x - 1);
          var result = y;
          if (y >= taylor_2_bound) {
            var y3 = y * y * y;
            result -= y3 / 12;
          }
          return Math.sqrt(2) * result;
        }
      };
    }
    if (typeof Math.atanh === 'undefined') {
      Math.atanh = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var result = x;
          if (Math.abs(x) > taylor_2_bound) {
            result += x * x * x / 3;
          }
          return result;
        }
        return Math.log((1 + x) / (1 - x)) / 2;
      };
    }
    if (typeof Math.log1p === 'undefined') {
      Math.log1p = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var x2 = x * x;
          var x3 = x2 * x;
          var x4 = x3 * x;
          return -x4 / 4 + x3 / 3 - x2 / 2 + x;
        }
        return Math.log(x + 1);
      };
    }
    if (typeof Math.expm1 === 'undefined') {
      Math.expm1 = function (x) {
        if (Math.abs(x) < taylor_n_bound) {
          var x2 = x * x;
          var x3 = x2 * x;
          var x4 = x3 * x;
          return x4 / 24 + x3 / 6 + x2 / 2 + x;
        }
        return Math.exp(x) - 1;
      };
    }
  }());
  if (typeof Math.hypot === 'undefined') {
    Math.hypot = function () {
      var y = 0;
      var length = arguments.length;
      for (var i = 0; i < length; i++) {
        if (arguments[i] === Infinity || arguments[i] === -Infinity) {
          return Infinity;
        }
        y += arguments[i] * arguments[i];
      }
      return Math.sqrt(y);
    };
  }
  if (typeof Math.log10 === 'undefined') {
    Math.log10 = function (x) {
      return Math.log(x) * Math.LOG10E;
    };
  }
  if (typeof Math.log2 === 'undefined') {
    Math.log2 = function (x) {
      return Math.log(x) * Math.LOG2E;
    };
  }
  if (typeof Math.clz32 === 'undefined') {
    Math.clz32 = function (log, LN2) {
      return function (x) {
        var asUint = x >>> 0;
        if (asUint === 0) {
          return 32;
        }
        return 31 - (log(asUint) / LN2 | 0) | 0;
      };
    }(Math.log, Math.LN2);
  }
  if (typeof ArrayBuffer.isView === 'undefined') {
    ArrayBuffer.isView = function (a) {
      return a != null && a.__proto__ != null && a.__proto__.__proto__ === Int8Array.prototype.__proto__;
    };
  }
  if (typeof Array.prototype.fill === 'undefined') {
    Array.prototype.fill = function () {
      if (this == null) {
        throw new TypeError('this is null or not defined');
      }
      var O = Object(this);
      var len = O.length >>> 0;
      var start = arguments[1];
      var relativeStart = start >> 0;
      var k = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);
      var end = arguments[2];
      var relativeEnd = end === undefined ? len : end >> 0;
      var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);
      while (k < final) {
        O[k] = value;
        k++;
      }
      return O;
    };
  }
  (function () {
    function normalizeOffset(offset, length) {
      if (offset < 0)
        return Math.max(0, offset + length);
      return Math.min(offset, length);
    }
    function typedArraySlice(begin, end) {
      if (typeof end === 'undefined') {
        end = this.length;
      }
      begin = normalizeOffset(begin || 0, this.length);
      end = Math.max(begin, normalizeOffset(end, this.length));
      return new this.constructor(this.subarray(begin, end));
    }
    var arrays = [Int8Array, Int16Array, Uint16Array, Int32Array, Float32Array, Float64Array];
    for (var i = 0; i < arrays.length; ++i) {
      var TypedArray = arrays[i];
      if (typeof TypedArray.prototype.fill === 'undefined') {
        TypedArray.prototype.fill = Array.prototype.fill;
      }
      if (typeof TypedArray.prototype.slice === 'undefined') {
        Object.defineProperty(TypedArray.prototype, 'slice', {value: typedArraySlice});
      }
    }
    try {
      (function () {
      }.apply(null, new Int32Array(0)));
    }
     catch (e) {
      var apply = Function.prototype.apply;
      Object.defineProperty(Function.prototype, 'apply', {value: function (self, array) {
        return apply.call(this, self, [].slice.call(array));
      }});
    }
    for (var i = 0; i < arrays.length; ++i) {
      var TypedArray = arrays[i];
      if (typeof TypedArray.prototype.map === 'undefined') {
        Object.defineProperty(TypedArray.prototype, 'map', {value: function (callback, self) {
          return [].slice.call(this).map(callback, self);
        }});
      }
    }
    var totalOrderComparator = function (a, b) {
      if (a < b)
        return -1;
      if (a > b)
        return 1;
      if (a === b) {
        if (a !== 0)
          return 0;
        var ia = 1 / a;
        return ia === 1 / b ? 0 : ia < 0 ? -1 : 1;
      }
      return a !== a ? b !== b ? 0 : 1 : -1;
    };
    for (var i = 0; i < arrays.length; ++i) {
      var TypedArray = arrays[i];
      if (typeof TypedArray.prototype.sort === 'undefined') {
        Object.defineProperty(TypedArray.prototype, 'sort', {value: function (compareFunction) {
          return Array.prototype.sort.call(this, compareFunction || totalOrderComparator);
        }});
      }
    }
  }());
  Kotlin.Kind = {CLASS: 'class', INTERFACE: 'interface', OBJECT: 'object'};
  function isInheritanceFromInterface(ctor, iface) {
    if (ctor === iface)
      return true;
    var metadata = ctor.$metadata$;
    if (metadata != null) {
      var interfaces = metadata.interfaces;
      for (var i = 0; i < interfaces.length; i++) {
        if (isInheritanceFromInterface(interfaces[i], iface)) {
          return true;
        }
      }
    }
    var superPrototype = ctor.prototype != null ? Object.getPrototypeOf(ctor.prototype) : null;
    var superConstructor = superPrototype != null ? superPrototype.constructor : null;
    return superConstructor != null && isInheritanceFromInterface(superConstructor, iface);
  }
  Kotlin.isType = function (object, klass) {
    if (klass === Object) {
      switch (typeof object) {
        case 'string':
        case 'number':
        case 'boolean':
        case 'function':
          return true;
        default:return object instanceof Object;
      }
    }
    if (object == null || klass == null || (typeof object !== 'object' && typeof object !== 'function')) {
      return false;
    }
    if (typeof klass === 'function' && object instanceof klass) {
      return true;
    }
    var proto = Object.getPrototypeOf(klass);
    var constructor = proto != null ? proto.constructor : null;
    if (constructor != null && '$metadata$' in constructor) {
      var metadata = constructor.$metadata$;
      if (metadata.kind === Kotlin.Kind.OBJECT) {
        return object === klass;
      }
    }
    var klassMetadata = klass.$metadata$;
    if (klassMetadata == null) {
      return object instanceof klass;
    }
    if (klassMetadata.kind === Kotlin.Kind.INTERFACE && object.constructor != null) {
      return isInheritanceFromInterface(object.constructor, klass);
    }
    return false;
  };
  Kotlin.isNumber = function (a) {
    return typeof a == 'number' || a instanceof Kotlin.Long;
  };
  Kotlin.isChar = function (value) {
    return value instanceof Kotlin.BoxedChar;
  };
  Kotlin.isCharSequence = function (value) {
    return typeof value === 'string' || Kotlin.isType(value, Kotlin.kotlin.CharSequence);
  };
  (function () {
    'use strict';
    var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
    var Kind_OBJECT = Kotlin.Kind.OBJECT;
    var Kind_CLASS = Kotlin.Kind.CLASS;
    var defineInlineFunction = Kotlin.defineInlineFunction;
    var wrapFunction = Kotlin.wrapFunction;
    var equals = Kotlin.equals;
    var L0 = Kotlin.Long.ZERO;
    function Comparable() {
    }
    Comparable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Comparable', interfaces: []};
    function Enum() {
      Enum$Companion_getInstance();
      this.name$ = '';
      this.ordinal$ = 0;
    }
    Object.defineProperty(Enum.prototype, 'name', {get: function () {
      return this.name$;
    }});
    Object.defineProperty(Enum.prototype, 'ordinal', {get: function () {
      return this.ordinal$;
    }});
    Enum.prototype.compareTo_11rb$ = function (other) {
      return Kotlin.primitiveCompareTo(this.ordinal, other.ordinal);
    };
    Enum.prototype.equals = function (other) {
      return this === other;
    };
    Enum.prototype.hashCode = function () {
      return Kotlin.identityHashCode(this);
    };
    Enum.prototype.toString = function () {
      return this.name;
    };
    function Enum$Companion() {
      Enum$Companion_instance = this;
    }
    Enum$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var Enum$Companion_instance = null;
    function Enum$Companion_getInstance() {
      if (Enum$Companion_instance === null) {
        new Enum$Companion();
      }
      return Enum$Companion_instance;
    }
    Enum.$metadata$ = {kind: Kind_CLASS, simpleName: 'Enum', interfaces: [Comparable]};
    function newArray(size, initValue) {
      return fillArrayVal(Array(size), initValue);
    }
    function booleanArray(size, init) {
      var tmp$;
      var result = Array(size);
      result.$type$ = 'BooleanArray';
      if (init == null || equals(init, true))
        tmp$ = fillArrayVal(result, false);
      else if (equals(init, false))
        tmp$ = result;
      else {
        var tmp$_0;
        tmp$_0 = result.length - 1 | 0;
        for (var i = 0; i <= tmp$_0; i++) {
          result[i] = init(i);
        }
        tmp$ = result;
      }
      return tmp$;
    }
    function charArray(size, init) {
      var tmp$;
      var result = new Uint16Array(size);
      result.$type$ = 'CharArray';
      if (init == null || equals(init, true) || equals(init, false))
        tmp$ = result;
      else {
        var tmp$_0;
        tmp$_0 = result.length - 1 | 0;
        for (var i = 0; i <= tmp$_0; i++) {
          result[i] = init(i);
        }
        tmp$ = result;
      }
      return tmp$;
    }
    function fillArrayVal(array, initValue) {
      var tmp$;
      tmp$ = array.length - 1 | 0;
      for (var i = 0; i <= tmp$; i++) {
        array[i] = initValue;
      }
      return array;
    }
    function DoubleCompanionObject() {
      DoubleCompanionObject_instance = this;
      this.MIN_VALUE = Number.MIN_VALUE;
      this.MAX_VALUE = Number.MAX_VALUE;
      this.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;
      this.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;
      this.NaN = Number.NaN;
    }
    DoubleCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DoubleCompanionObject', interfaces: []};
    var DoubleCompanionObject_instance = null;
    function DoubleCompanionObject_getInstance() {
      if (DoubleCompanionObject_instance === null) {
        new DoubleCompanionObject();
      }
      return DoubleCompanionObject_instance;
    }
    function FloatCompanionObject() {
      FloatCompanionObject_instance = this;
      this.MIN_VALUE = Number.MIN_VALUE;
      this.MAX_VALUE = Number.MAX_VALUE;
      this.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;
      this.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;
      this.NaN = Number.NaN;
    }
    FloatCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FloatCompanionObject', interfaces: []};
    var FloatCompanionObject_instance = null;
    function FloatCompanionObject_getInstance() {
      if (FloatCompanionObject_instance === null) {
        new FloatCompanionObject();
      }
      return FloatCompanionObject_instance;
    }
    var IntCompanionObject_instance = null;
    var LongCompanionObject_instance = null;
    function ShortCompanionObject() {
      ShortCompanionObject_instance = this;
      this.MIN_VALUE = -32768 | 0;
      this.MAX_VALUE = 32767;
      this.SIZE_BYTES = 2;
      this.SIZE_BITS = 16;
    }
    ShortCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ShortCompanionObject', interfaces: []};
    var ShortCompanionObject_instance = null;
    function ShortCompanionObject_getInstance() {
      if (ShortCompanionObject_instance === null) {
        new ShortCompanionObject();
      }
      return ShortCompanionObject_instance;
    }
    function ByteCompanionObject() {
      ByteCompanionObject_instance = this;
      this.MIN_VALUE = -128 | 0;
      this.MAX_VALUE = 127;
      this.SIZE_BYTES = 1;
      this.SIZE_BITS = 8;
    }
    ByteCompanionObject.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ByteCompanionObject', interfaces: []};
    var ByteCompanionObject_instance = null;
    function ByteCompanionObject_getInstance() {
      if (ByteCompanionObject_instance === null) {
        new ByteCompanionObject();
      }
      return ByteCompanionObject_instance;
    }
    var CharCompanionObject_instance = null;
    var StringCompanionObject_instance = null;
    var BooleanCompanionObject_instance = null;
    var package$kotlin = _.kotlin || (_.kotlin = {});
    package$kotlin.Comparable = Comparable;
    Object.defineProperty(Enum, 'Companion', {get: Enum$Companion_getInstance});
    package$kotlin.Enum = Enum;
    _.newArray = newArray;
    _.booleanArray = booleanArray;
    _.charArray = charArray;
    var package$js = package$kotlin.js || (package$kotlin.js = {});
    var package$internal = package$js.internal || (package$js.internal = {});
    Object.defineProperty(package$internal, 'DoubleCompanionObject', {get: DoubleCompanionObject_getInstance});
    Object.defineProperty(package$internal, 'FloatCompanionObject', {get: FloatCompanionObject_getInstance});
    Object.defineProperty(package$internal, 'ShortCompanionObject', {get: ShortCompanionObject_getInstance});
    Object.defineProperty(package$internal, 'ByteCompanionObject', {get: ByteCompanionObject_getInstance});
  }());
  (function () {
    'use strict';
    var defineInlineFunction = Kotlin.defineInlineFunction;
    var wrapFunction = Kotlin.wrapFunction;
    var equals = Kotlin.equals;
    var toBoxedChar = Kotlin.toBoxedChar;
    var unboxChar = Kotlin.unboxChar;
    var kotlin_js_internal_DoubleCompanionObject = Kotlin.kotlin.js.internal.DoubleCompanionObject;
    var L0 = Kotlin.Long.ZERO;
    var Math_0 = Math;
    var Kind_CLASS = Kotlin.Kind.CLASS;
    var toChar = Kotlin.toChar;
    var L_1 = Kotlin.Long.NEG_ONE;
    var toByte = Kotlin.toByte;
    var L_128 = Kotlin.Long.fromInt(-128);
    var L127 = Kotlin.Long.fromInt(127);
    var kotlin_js_internal_ByteCompanionObject = Kotlin.kotlin.js.internal.ByteCompanionObject;
    var numberToInt = Kotlin.numberToInt;
    var L_2147483648 = Kotlin.Long.fromInt(-2147483648);
    var L2147483647 = Kotlin.Long.fromInt(2147483647);
    var Long$Companion$MIN_VALUE = Kotlin.Long.MIN_VALUE;
    var Long$Companion$MAX_VALUE = Kotlin.Long.MAX_VALUE;
    var toShort = Kotlin.toShort;
    var L_32768 = Kotlin.Long.fromInt(-32768);
    var L32767 = Kotlin.Long.fromInt(32767);
    var kotlin_js_internal_ShortCompanionObject = Kotlin.kotlin.js.internal.ShortCompanionObject;
    var toString = Kotlin.toString;
    var L255 = Kotlin.Long.fromInt(255);
    var L4294967295 = new Kotlin.Long(-1, 0);
    var L65535 = Kotlin.Long.fromInt(65535);
    var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
    var Any = Object;
    var Kind_OBJECT = Kotlin.Kind.OBJECT;
    var L1 = Kotlin.Long.ONE;
    var Enum = Kotlin.kotlin.Enum;
    var Comparable = Kotlin.kotlin.Comparable;
    var ensureNotNull = Kotlin.ensureNotNull;
    var throwCCE = Kotlin.throwCCE;
    var arrayToString = Kotlin.arrayToString;
    var hashCode = Kotlin.hashCode;
    var Throwable = Error;
    var kotlin_js_internal_FloatCompanionObject = Kotlin.kotlin.js.internal.FloatCompanionObject;
    var L_7390468764508069838 = new Kotlin.Long(-1478467534, -1720727600);
    var L8246714829545688274 = new Kotlin.Long(-888910638, 1920087921);
    var L3406603774387020532 = new Kotlin.Long(1993859828, 793161749);
    var L_9223372036854775807 = new Kotlin.Long(1, -2147483648);
    var L2047 = Kotlin.Long.fromInt(2047);
    CharProgressionIterator.prototype = Object.create(CharIterator.prototype);
    CharProgressionIterator.prototype.constructor = CharProgressionIterator;
    IntProgressionIterator.prototype = Object.create(IntIterator.prototype);
    IntProgressionIterator.prototype.constructor = IntProgressionIterator;
    LongProgressionIterator.prototype = Object.create(LongIterator.prototype);
    LongProgressionIterator.prototype.constructor = LongProgressionIterator;
    CharRange.prototype = Object.create(CharProgression.prototype);
    CharRange.prototype.constructor = CharRange;
    IntRange.prototype = Object.create(IntProgression.prototype);
    IntRange.prototype.constructor = IntRange;
    LongRange.prototype = Object.create(LongProgression.prototype);
    LongRange.prototype.constructor = LongRange;
    booleanArrayIterator$ObjectLiteral.prototype = Object.create(BooleanIterator.prototype);
    booleanArrayIterator$ObjectLiteral.prototype.constructor = booleanArrayIterator$ObjectLiteral;
    byteArrayIterator$ObjectLiteral.prototype = Object.create(ByteIterator.prototype);
    byteArrayIterator$ObjectLiteral.prototype.constructor = byteArrayIterator$ObjectLiteral;
    shortArrayIterator$ObjectLiteral.prototype = Object.create(ShortIterator.prototype);
    shortArrayIterator$ObjectLiteral.prototype.constructor = shortArrayIterator$ObjectLiteral;
    charArrayIterator$ObjectLiteral.prototype = Object.create(CharIterator.prototype);
    charArrayIterator$ObjectLiteral.prototype.constructor = charArrayIterator$ObjectLiteral;
    intArrayIterator$ObjectLiteral.prototype = Object.create(IntIterator.prototype);
    intArrayIterator$ObjectLiteral.prototype.constructor = intArrayIterator$ObjectLiteral;
    floatArrayIterator$ObjectLiteral.prototype = Object.create(FloatIterator.prototype);
    floatArrayIterator$ObjectLiteral.prototype.constructor = floatArrayIterator$ObjectLiteral;
    doubleArrayIterator$ObjectLiteral.prototype = Object.create(DoubleIterator.prototype);
    doubleArrayIterator$ObjectLiteral.prototype.constructor = doubleArrayIterator$ObjectLiteral;
    longArrayIterator$ObjectLiteral.prototype = Object.create(LongIterator.prototype);
    longArrayIterator$ObjectLiteral.prototype.constructor = longArrayIterator$ObjectLiteral;
    AbstractList.prototype = Object.create(AbstractCollection.prototype);
    AbstractList.prototype.constructor = AbstractList;
    AbstractMutableCollection.prototype = Object.create(AbstractCollection.prototype);
    AbstractMutableCollection.prototype.constructor = AbstractMutableCollection;
    AbstractMutableList$ListIteratorImpl.prototype = Object.create(AbstractMutableList$IteratorImpl.prototype);
    AbstractMutableList$ListIteratorImpl.prototype.constructor = AbstractMutableList$ListIteratorImpl;
    AbstractMutableList.prototype = Object.create(AbstractMutableCollection.prototype);
    AbstractMutableList.prototype.constructor = AbstractMutableList;
    AbstractMutableList$SubList.prototype = Object.create(AbstractMutableList.prototype);
    AbstractMutableList$SubList.prototype.constructor = AbstractMutableList$SubList;
    AbstractMutableSet.prototype = Object.create(AbstractMutableCollection.prototype);
    AbstractMutableSet.prototype.constructor = AbstractMutableSet;
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype = Object.create(AbstractMutableSet.prototype);
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.constructor = AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral;
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype = Object.create(AbstractMutableCollection.prototype);
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.constructor = AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral;
    AbstractMutableMap.prototype = Object.create(AbstractMap.prototype);
    AbstractMutableMap.prototype.constructor = AbstractMutableMap;
    ArrayList.prototype = Object.create(AbstractMutableList.prototype);
    ArrayList.prototype.constructor = ArrayList;
    HashMap$EntrySet.prototype = Object.create(AbstractMutableSet.prototype);
    HashMap$EntrySet.prototype.constructor = HashMap$EntrySet;
    HashMap.prototype = Object.create(AbstractMutableMap.prototype);
    HashMap.prototype.constructor = HashMap;
    HashSet.prototype = Object.create(AbstractMutableSet.prototype);
    HashSet.prototype.constructor = HashSet;
    LinkedHashMap$ChainEntry.prototype = Object.create(AbstractMutableMap$SimpleEntry.prototype);
    LinkedHashMap$ChainEntry.prototype.constructor = LinkedHashMap$ChainEntry;
    LinkedHashMap$EntrySet.prototype = Object.create(AbstractMutableSet.prototype);
    LinkedHashMap$EntrySet.prototype.constructor = LinkedHashMap$EntrySet;
    LinkedHashMap.prototype = Object.create(HashMap.prototype);
    LinkedHashMap.prototype.constructor = LinkedHashMap;
    LinkedHashSet.prototype = Object.create(HashSet.prototype);
    LinkedHashSet.prototype.constructor = LinkedHashSet;
    NodeJsOutput.prototype = Object.create(BaseOutput.prototype);
    NodeJsOutput.prototype.constructor = NodeJsOutput;
    BufferedOutput.prototype = Object.create(BaseOutput.prototype);
    BufferedOutput.prototype.constructor = BufferedOutput;
    BufferedOutputToConsoleLog.prototype = Object.create(BufferedOutput.prototype);
    BufferedOutputToConsoleLog.prototype.constructor = BufferedOutputToConsoleLog;
    Error_0.prototype = Object.create(Throwable.prototype);
    Error_0.prototype.constructor = Error_0;
    Exception.prototype = Object.create(Throwable.prototype);
    Exception.prototype.constructor = Exception;
    RuntimeException.prototype = Object.create(Exception.prototype);
    RuntimeException.prototype.constructor = RuntimeException;
    IllegalArgumentException.prototype = Object.create(RuntimeException.prototype);
    IllegalArgumentException.prototype.constructor = IllegalArgumentException;
    IllegalStateException.prototype = Object.create(RuntimeException.prototype);
    IllegalStateException.prototype.constructor = IllegalStateException;
    IndexOutOfBoundsException.prototype = Object.create(RuntimeException.prototype);
    IndexOutOfBoundsException.prototype.constructor = IndexOutOfBoundsException;
    UnsupportedOperationException.prototype = Object.create(RuntimeException.prototype);
    UnsupportedOperationException.prototype.constructor = UnsupportedOperationException;
    NumberFormatException.prototype = Object.create(IllegalArgumentException.prototype);
    NumberFormatException.prototype.constructor = NumberFormatException;
    NullPointerException.prototype = Object.create(RuntimeException.prototype);
    NullPointerException.prototype.constructor = NullPointerException;
    ClassCastException.prototype = Object.create(RuntimeException.prototype);
    ClassCastException.prototype.constructor = ClassCastException;
    NoSuchElementException.prototype = Object.create(RuntimeException.prototype);
    NoSuchElementException.prototype.constructor = NoSuchElementException;
    ArithmeticException.prototype = Object.create(RuntimeException.prototype);
    ArithmeticException.prototype.constructor = ArithmeticException;
    NoWhenBranchMatchedException.prototype = Object.create(RuntimeException.prototype);
    NoWhenBranchMatchedException.prototype.constructor = NoWhenBranchMatchedException;
    UninitializedPropertyAccessException.prototype = Object.create(RuntimeException.prototype);
    UninitializedPropertyAccessException.prototype.constructor = UninitializedPropertyAccessException;
    SimpleKClassImpl.prototype = Object.create(KClassImpl.prototype);
    SimpleKClassImpl.prototype.constructor = SimpleKClassImpl;
    PrimitiveKClassImpl.prototype = Object.create(KClassImpl.prototype);
    PrimitiveKClassImpl.prototype.constructor = PrimitiveKClassImpl;
    NothingKClassImpl.prototype = Object.create(KClassImpl.prototype);
    NothingKClassImpl.prototype.constructor = NothingKClassImpl;
    RegexOption.prototype = Object.create(Enum.prototype);
    RegexOption.prototype.constructor = RegexOption;
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype = Object.create(AbstractList.prototype);
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype.constructor = findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral;
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype = Object.create(AbstractCollection.prototype);
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype.constructor = findNext$ObjectLiteral$groups$ObjectLiteral;
    AbstractList$SubList.prototype = Object.create(AbstractList.prototype);
    AbstractList$SubList.prototype.constructor = AbstractList$SubList;
    AbstractList$ListIteratorImpl.prototype = Object.create(AbstractList$IteratorImpl.prototype);
    AbstractList$ListIteratorImpl.prototype.constructor = AbstractList$ListIteratorImpl;
    AbstractSet.prototype = Object.create(AbstractCollection.prototype);
    AbstractSet.prototype.constructor = AbstractSet;
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype = Object.create(AbstractSet.prototype);
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype.constructor = AbstractMap$get_AbstractMap$keys$ObjectLiteral;
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype = Object.create(AbstractCollection.prototype);
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype.constructor = AbstractMap$get_AbstractMap$values$ObjectLiteral;
    CoroutineSingletons.prototype = Object.create(Enum.prototype);
    CoroutineSingletons.prototype.constructor = CoroutineSingletons;
    iterator$ObjectLiteral.prototype = Object.create(CharIterator.prototype);
    iterator$ObjectLiteral.prototype.constructor = iterator$ObjectLiteral;
    NotImplementedError.prototype = Object.create(Error_0.prototype);
    NotImplementedError.prototype.constructor = NotImplementedError;
    function contains($receiver, element) {
      return indexOf($receiver, element) >= 0;
    }
    function contains_7($receiver, element) {
      return indexOf_7($receiver, element) >= 0;
    }
    function getOrNull($receiver, index) {
      return index >= 0 && index <= get_lastIndex($receiver) ? $receiver[index] : null;
    }
    function indexOf($receiver, element) {
      if (element == null) {
        for (var index = 0; index !== $receiver.length; ++index) {
          if ($receiver[index] == null) {
            return index;
          }
        }
      }
       else {
        for (var index_0 = 0; index_0 !== $receiver.length; ++index_0) {
          if (equals(element, $receiver[index_0])) {
            return index_0;
          }
        }
      }
      return -1;
    }
    function indexOf_7($receiver, element) {
      for (var index = 0; index !== $receiver.length; ++index) {
        if (element === $receiver[index]) {
          return index;
        }
      }
      return -1;
    }
    function lastIndexOf($receiver, element) {
      var tmp$, tmp$_0;
      if (element == null) {
        tmp$ = reversed_9(get_indices($receiver)).iterator();
        while (tmp$.hasNext()) {
          var index = tmp$.next();
          if ($receiver[index] == null) {
            return index;
          }
        }
      }
       else {
        tmp$_0 = reversed_9(get_indices($receiver)).iterator();
        while (tmp$_0.hasNext()) {
          var index_0 = tmp$_0.next();
          if (equals(element, $receiver[index_0])) {
            return index_0;
          }
        }
      }
      return -1;
    }
    function single_7($receiver) {
      var tmp$;
      switch ($receiver.length) {
        case 0:
          throw new NoSuchElementException('Array is empty.');
        case 1:
          tmp$ = $receiver[0];
          break;
        default:throw IllegalArgumentException_init_0('Array has more than one element.');
      }
      return tmp$;
    }
    function get_indices($receiver) {
      return new IntRange(0, get_lastIndex($receiver));
    }
    function get_lastIndex($receiver) {
      return $receiver.length - 1 | 0;
    }
    function toCollection($receiver, destination) {
      var tmp$;
      for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
        var item = $receiver[tmp$];
        destination.add_11rb$(item);
      }
      return destination;
    }
    function toList($receiver) {
      var tmp$;
      switch ($receiver.length) {
        case 0:
          tmp$ = emptyList();
          break;
        case 1:
          tmp$ = listOf($receiver[0]);
          break;
        default:tmp$ = toMutableList($receiver);
          break;
      }
      return tmp$;
    }
    function toMutableList($receiver) {
      return ArrayList_init_1(asCollection($receiver));
    }
    function Sequence$ObjectLiteral_0(closure$iterator) {
      this.closure$iterator = closure$iterator;
    }
    Sequence$ObjectLiteral_0.prototype.iterator = function () {
      return this.closure$iterator();
    };
    Sequence$ObjectLiteral_0.$metadata$ = {kind: Kind_CLASS, interfaces: [Sequence]};
    function getOrNull_8($receiver, index) {
      return index >= 0 && index <= get_lastIndex_12($receiver) ? $receiver.get_za3lpa$(index) : null;
    }
    function last_18($receiver) {
      if ($receiver.isEmpty())
        throw new NoSuchElementException('List is empty.');
      return $receiver.get_za3lpa$(get_lastIndex_12($receiver));
    }
    function lastOrNull_18($receiver) {
      return $receiver.isEmpty() ? null : $receiver.get_za3lpa$($receiver.size - 1 | 0);
    }
    function single_17($receiver) {
      if (Kotlin.isType($receiver, List))
        return single_18($receiver);
      else {
        var iterator = $receiver.iterator();
        if (!iterator.hasNext())
          throw new NoSuchElementException('Collection is empty.');
        var single = iterator.next();
        if (iterator.hasNext())
          throw IllegalArgumentException_init_0('Collection has more than one element.');
        return single;
      }
    }
    function single_18($receiver) {
      var tmp$;
      switch ($receiver.size) {
        case 0:
          throw new NoSuchElementException('List is empty.');
        case 1:
          tmp$ = $receiver.get_za3lpa$(0);
          break;
        default:throw IllegalArgumentException_init_0('List has more than one element.');
      }
      return tmp$;
    }
    function slice_17($receiver, indices) {
      if (indices.isEmpty()) {
        return emptyList();
      }
      return toList_8($receiver.subList_vux9f0$(indices.start, indices.endInclusive + 1 | 0));
    }
    function reversed_8($receiver) {
      if (Kotlin.isType($receiver, Collection) && $receiver.size <= 1)
        return toList_8($receiver);
      var list = toMutableList_8($receiver);
      reverse_12(list);
      return list;
    }
    function toCollection_8($receiver, destination) {
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item);
      }
      return destination;
    }
    function toList_8($receiver) {
      var tmp$;
      if (Kotlin.isType($receiver, Collection)) {
        switch ($receiver.size) {
          case 0:
            tmp$ = emptyList();
            break;
          case 1:
            tmp$ = listOf(Kotlin.isType($receiver, List) ? $receiver.get_za3lpa$(0) : $receiver.iterator().next());
            break;
          default:tmp$ = toMutableList_9($receiver);
            break;
        }
        return tmp$;
      }
      return optimizeReadOnlyList(toMutableList_8($receiver));
    }
    function toMutableList_8($receiver) {
      if (Kotlin.isType($receiver, Collection))
        return toMutableList_9($receiver);
      return toCollection_8($receiver, ArrayList_init());
    }
    function toMutableList_9($receiver) {
      return ArrayList_init_1($receiver);
    }
    function toSet_8($receiver) {
      var tmp$;
      if (Kotlin.isType($receiver, Collection)) {
        switch ($receiver.size) {
          case 0:
            tmp$ = emptySet();
            break;
          case 1:
            tmp$ = setOf(Kotlin.isType($receiver, List) ? $receiver.get_za3lpa$(0) : $receiver.iterator().next());
            break;
          default:tmp$ = toCollection_8($receiver, LinkedHashSet_init_3(mapCapacity($receiver.size)));
            break;
        }
        return tmp$;
      }
      return optimizeReadOnlySet(toCollection_8($receiver, LinkedHashSet_init_0()));
    }
    function min_11($receiver) {
      var iterator = $receiver.iterator();
      if (!iterator.hasNext())
        return null;
      var min = iterator.next();
      while (iterator.hasNext()) {
        var e = iterator.next();
        if (Kotlin.compareTo(min, e) > 0)
          min = e;
      }
      return min;
    }
    function joinTo_8($receiver, buffer, separator, prefix, postfix, limit, truncated, transform) {
      if (separator === void 0)
        separator = ', ';
      if (prefix === void 0)
        prefix = '';
      if (postfix === void 0)
        postfix = '';
      if (limit === void 0)
        limit = -1;
      if (truncated === void 0)
        truncated = '...';
      if (transform === void 0)
        transform = null;
      var tmp$;
      buffer.append_gw00v9$(prefix);
      var count = 0;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        if ((count = count + 1 | 0, count) > 1)
          buffer.append_gw00v9$(separator);
        if (limit < 0 || count <= limit) {
          appendElement_0(buffer, element, transform);
        }
         else
          break;
      }
      if (limit >= 0 && count > limit)
        buffer.append_gw00v9$(truncated);
      buffer.append_gw00v9$(postfix);
      return buffer;
    }
    function joinToString_8($receiver, separator, prefix, postfix, limit, truncated, transform) {
      if (separator === void 0)
        separator = ', ';
      if (prefix === void 0)
        prefix = '';
      if (postfix === void 0)
        postfix = '';
      if (limit === void 0)
        limit = -1;
      if (truncated === void 0)
        truncated = '...';
      if (transform === void 0)
        transform = null;
      return joinTo_8($receiver, StringBuilder_init_1(), separator, prefix, postfix, limit, truncated, transform).toString();
    }
    function asSequence$lambda_8(this$asSequence) {
      return function () {
        return this$asSequence.iterator();
      };
    }
    function asSequence_8($receiver) {
      return new Sequence$ObjectLiteral_0(asSequence$lambda_8($receiver));
    }
    function downTo_4($receiver, to) {
      return IntProgression$Companion_getInstance().fromClosedRange_qt1dr2$($receiver, to, -1);
    }
    function reversed_9($receiver) {
      return IntProgression$Companion_getInstance().fromClosedRange_qt1dr2$($receiver.last, $receiver.first, -$receiver.step | 0);
    }
    function until_4($receiver, to) {
      if (to <= -2147483648)
        return IntRange$Companion_getInstance().EMPTY;
      return new IntRange($receiver, to - 1 | 0);
    }
    function coerceAtLeast_2($receiver, minimumValue) {
      return $receiver < minimumValue ? minimumValue : $receiver;
    }
    function coerceAtMost_2($receiver, maximumValue) {
      return $receiver > maximumValue ? maximumValue : $receiver;
    }
    function coerceIn_2($receiver, minimumValue, maximumValue) {
      if (minimumValue > maximumValue)
        throw IllegalArgumentException_init_0('Cannot coerce value to an empty range: maximum ' + maximumValue + ' is less than minimum ' + minimumValue + '.');
      if ($receiver < minimumValue)
        return minimumValue;
      if ($receiver > maximumValue)
        return maximumValue;
      return $receiver;
    }
    function Iterable$ObjectLiteral_0(closure$iterator) {
      this.closure$iterator = closure$iterator;
    }
    Iterable$ObjectLiteral_0.prototype.iterator = function () {
      return this.closure$iterator();
    };
    Iterable$ObjectLiteral_0.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterable]};
    function take_9($receiver, n) {
      var tmp$;
      if (!(n >= 0)) {
        var message = 'Requested element count ' + n + ' is less than zero.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      if (n === 0)
        tmp$ = emptySequence();
      else if (Kotlin.isType($receiver, DropTakeSequence))
        tmp$ = $receiver.take_za3lpa$(n);
      else
        tmp$ = new TakeSequence($receiver, n);
      return tmp$;
    }
    function toCollection_9($receiver, destination) {
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item);
      }
      return destination;
    }
    function toList_10($receiver) {
      return optimizeReadOnlyList(toMutableList_10($receiver));
    }
    function toMutableList_10($receiver) {
      return toCollection_9($receiver, ArrayList_init());
    }
    function map_10($receiver, transform) {
      return new TransformingSequence($receiver, transform);
    }
    function asIterable$lambda_8(this$asIterable) {
      return function () {
        return this$asIterable.iterator();
      };
    }
    function asIterable_10($receiver) {
      return new Iterable$ObjectLiteral_0(asIterable$lambda_8($receiver));
    }
    function single_22($receiver) {
      var tmp$;
      switch ($receiver.length) {
        case 0:
          throw new NoSuchElementException('Char sequence is empty.');
        case 1:
          tmp$ = $receiver.charCodeAt(0);
          break;
        default:throw IllegalArgumentException_init_0('Char sequence has more than one element.');
      }
      return tmp$;
    }
    function drop_11($receiver, n) {
      if (!(n >= 0)) {
        var message = 'Requested character count ' + n + ' is less than zero.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      return $receiver.substring(coerceAtMost_2(n, $receiver.length));
    }
    var PI;
    var E;
    function CharSequence() {
    }
    CharSequence.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CharSequence', interfaces: []};
    function Iterable() {
    }
    Iterable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Iterable', interfaces: []};
    function MutableIterable() {
    }
    MutableIterable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableIterable', interfaces: [Iterable]};
    function Collection() {
    }
    Collection.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Collection', interfaces: [Iterable]};
    function MutableCollection() {
    }
    MutableCollection.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableCollection', interfaces: [MutableIterable, Collection]};
    function List() {
    }
    List.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'List', interfaces: [Collection]};
    function MutableList() {
    }
    MutableList.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableList', interfaces: [MutableCollection, List]};
    function Set() {
    }
    Set.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Set', interfaces: [Collection]};
    function MutableSet() {
    }
    MutableSet.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableSet', interfaces: [MutableCollection, Set]};
    function Map() {
    }
    Map.prototype.getOrDefault_xwzc9p$ = function (key, defaultValue) {
      var tmp$;
      return (tmp$ = null) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    };
    function Map$Entry() {
    }
    Map$Entry.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Entry', interfaces: []};
    Map.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Map', interfaces: []};
    function MutableMap() {
    }
    MutableMap.prototype.remove_xwzc9p$ = function (key, value) {
      return true;
    };
    function MutableMap$MutableEntry() {
    }
    MutableMap$MutableEntry.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableEntry', interfaces: [Map$Entry]};
    MutableMap.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableMap', interfaces: [Map]};
    function Function_0() {
    }
    Function_0.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Function', interfaces: []};
    function Iterator() {
    }
    Iterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Iterator', interfaces: []};
    function MutableIterator() {
    }
    MutableIterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableIterator', interfaces: [Iterator]};
    function ListIterator() {
    }
    ListIterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'ListIterator', interfaces: [Iterator]};
    function MutableListIterator() {
    }
    MutableListIterator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MutableListIterator', interfaces: [MutableIterator, ListIterator]};
    function ByteIterator() {
    }
    ByteIterator.prototype.next = function () {
      return this.nextByte();
    };
    ByteIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'ByteIterator', interfaces: [Iterator]};
    function CharIterator() {
    }
    CharIterator.prototype.next = function () {
      return toBoxedChar(this.nextChar());
    };
    CharIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharIterator', interfaces: [Iterator]};
    function ShortIterator() {
    }
    ShortIterator.prototype.next = function () {
      return this.nextShort();
    };
    ShortIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'ShortIterator', interfaces: [Iterator]};
    function IntIterator() {
    }
    IntIterator.prototype.next = function () {
      return this.nextInt();
    };
    IntIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntIterator', interfaces: [Iterator]};
    function LongIterator() {
    }
    LongIterator.prototype.next = function () {
      return this.nextLong();
    };
    LongIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongIterator', interfaces: [Iterator]};
    function FloatIterator() {
    }
    FloatIterator.prototype.next = function () {
      return this.nextFloat();
    };
    FloatIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'FloatIterator', interfaces: [Iterator]};
    function DoubleIterator() {
    }
    DoubleIterator.prototype.next = function () {
      return this.nextDouble();
    };
    DoubleIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'DoubleIterator', interfaces: [Iterator]};
    function BooleanIterator() {
    }
    BooleanIterator.prototype.next = function () {
      return this.nextBoolean();
    };
    BooleanIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'BooleanIterator', interfaces: [Iterator]};
    function CharProgressionIterator(first, last, step) {
      CharIterator.call(this);
      this.step = step;
      this.finalElement_0 = last | 0;
      this.hasNext_0 = this.step > 0 ? first <= last : first >= last;
      this.next_0 = this.hasNext_0 ? first | 0 : this.finalElement_0;
    }
    CharProgressionIterator.prototype.hasNext = function () {
      return this.hasNext_0;
    };
    CharProgressionIterator.prototype.nextChar = function () {
      var value = this.next_0;
      if (value === this.finalElement_0) {
        if (!this.hasNext_0)
          throw NoSuchElementException_init();
        this.hasNext_0 = false;
      }
       else {
        this.next_0 = this.next_0 + this.step | 0;
      }
      return toChar(value);
    };
    CharProgressionIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharProgressionIterator', interfaces: [CharIterator]};
    function IntProgressionIterator(first, last, step) {
      IntIterator.call(this);
      this.step = step;
      this.finalElement_0 = last;
      this.hasNext_0 = this.step > 0 ? first <= last : first >= last;
      this.next_0 = this.hasNext_0 ? first : this.finalElement_0;
    }
    IntProgressionIterator.prototype.hasNext = function () {
      return this.hasNext_0;
    };
    IntProgressionIterator.prototype.nextInt = function () {
      var value = this.next_0;
      if (value === this.finalElement_0) {
        if (!this.hasNext_0)
          throw NoSuchElementException_init();
        this.hasNext_0 = false;
      }
       else {
        this.next_0 = this.next_0 + this.step | 0;
      }
      return value;
    };
    IntProgressionIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntProgressionIterator', interfaces: [IntIterator]};
    function LongProgressionIterator(first, last, step) {
      LongIterator.call(this);
      this.step = step;
      this.finalElement_0 = last;
      this.hasNext_0 = this.step.toNumber() > 0 ? first.compareTo_11rb$(last) <= 0 : first.compareTo_11rb$(last) >= 0;
      this.next_0 = this.hasNext_0 ? first : this.finalElement_0;
    }
    LongProgressionIterator.prototype.hasNext = function () {
      return this.hasNext_0;
    };
    LongProgressionIterator.prototype.nextLong = function () {
      var value = this.next_0;
      if (equals(value, this.finalElement_0)) {
        if (!this.hasNext_0)
          throw NoSuchElementException_init();
        this.hasNext_0 = false;
      }
       else {
        this.next_0 = this.next_0.add(this.step);
      }
      return value;
    };
    LongProgressionIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongProgressionIterator', interfaces: [LongIterator]};
    function CharProgression(start, endInclusive, step) {
      CharProgression$Companion_getInstance();
      if (step === 0)
        throw IllegalArgumentException_init_0('Step must be non-zero.');
      if (step === -2147483648)
        throw IllegalArgumentException_init_0('Step must be greater than Int.MIN_VALUE to avoid overflow on negation.');
      this.first = start;
      this.last = toChar(getProgressionLastElement(start | 0, endInclusive | 0, step));
      this.step = step;
    }
    CharProgression.prototype.iterator = function () {
      return new CharProgressionIterator(this.first, this.last, this.step);
    };
    CharProgression.prototype.isEmpty = function () {
      return this.step > 0 ? this.first > this.last : this.first < this.last;
    };
    CharProgression.prototype.equals = function (other) {
      return Kotlin.isType(other, CharProgression) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last && this.step === other.step));
    };
    CharProgression.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * ((31 * (this.first | 0) | 0) + (this.last | 0) | 0) | 0) + this.step | 0;
    };
    CharProgression.prototype.toString = function () {
      return this.step > 0 ? String.fromCharCode(this.first) + '..' + String.fromCharCode(this.last) + ' step ' + this.step : String.fromCharCode(this.first) + ' downTo ' + String.fromCharCode(this.last) + ' step ' + (-this.step | 0);
    };
    function CharProgression$Companion() {
      CharProgression$Companion_instance = this;
    }
    CharProgression$Companion.prototype.fromClosedRange_ayra44$ = function (rangeStart, rangeEnd, step) {
      return new CharProgression(rangeStart, rangeEnd, step);
    };
    CharProgression$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var CharProgression$Companion_instance = null;
    function CharProgression$Companion_getInstance() {
      if (CharProgression$Companion_instance === null) {
        new CharProgression$Companion();
      }
      return CharProgression$Companion_instance;
    }
    CharProgression.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharProgression', interfaces: [Iterable]};
    function IntProgression(start, endInclusive, step) {
      IntProgression$Companion_getInstance();
      if (step === 0)
        throw IllegalArgumentException_init_0('Step must be non-zero.');
      if (step === -2147483648)
        throw IllegalArgumentException_init_0('Step must be greater than Int.MIN_VALUE to avoid overflow on negation.');
      this.first = start;
      this.last = getProgressionLastElement(start, endInclusive, step);
      this.step = step;
    }
    IntProgression.prototype.iterator = function () {
      return new IntProgressionIterator(this.first, this.last, this.step);
    };
    IntProgression.prototype.isEmpty = function () {
      return this.step > 0 ? this.first > this.last : this.first < this.last;
    };
    IntProgression.prototype.equals = function (other) {
      return Kotlin.isType(other, IntProgression) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last && this.step === other.step));
    };
    IntProgression.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * ((31 * this.first | 0) + this.last | 0) | 0) + this.step | 0;
    };
    IntProgression.prototype.toString = function () {
      return this.step > 0 ? this.first.toString() + '..' + this.last + ' step ' + this.step : this.first.toString() + ' downTo ' + this.last + ' step ' + (-this.step | 0);
    };
    function IntProgression$Companion() {
      IntProgression$Companion_instance = this;
    }
    IntProgression$Companion.prototype.fromClosedRange_qt1dr2$ = function (rangeStart, rangeEnd, step) {
      return new IntProgression(rangeStart, rangeEnd, step);
    };
    IntProgression$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var IntProgression$Companion_instance = null;
    function IntProgression$Companion_getInstance() {
      if (IntProgression$Companion_instance === null) {
        new IntProgression$Companion();
      }
      return IntProgression$Companion_instance;
    }
    IntProgression.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntProgression', interfaces: [Iterable]};
    function LongProgression(start, endInclusive, step) {
      LongProgression$Companion_getInstance();
      if (equals(step, L0))
        throw IllegalArgumentException_init_0('Step must be non-zero.');
      if (equals(step, Long$Companion$MIN_VALUE))
        throw IllegalArgumentException_init_0('Step must be greater than Long.MIN_VALUE to avoid overflow on negation.');
      this.first = start;
      this.last = getProgressionLastElement_0(start, endInclusive, step);
      this.step = step;
    }
    LongProgression.prototype.iterator = function () {
      return new LongProgressionIterator(this.first, this.last, this.step);
    };
    LongProgression.prototype.isEmpty = function () {
      return this.step.toNumber() > 0 ? this.first.compareTo_11rb$(this.last) > 0 : this.first.compareTo_11rb$(this.last) < 0;
    };
    LongProgression.prototype.equals = function (other) {
      return Kotlin.isType(other, LongProgression) && (this.isEmpty() && other.isEmpty() || (equals(this.first, other.first) && equals(this.last, other.last) && equals(this.step, other.step)));
    };
    LongProgression.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : Kotlin.Long.fromInt(31).multiply(Kotlin.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32)))).add(this.step.xor(this.step.shiftRightUnsigned(32))).toInt();
    };
    LongProgression.prototype.toString = function () {
      return this.step.toNumber() > 0 ? this.first.toString() + '..' + this.last.toString() + ' step ' + this.step.toString() : this.first.toString() + ' downTo ' + this.last.toString() + ' step ' + this.step.unaryMinus().toString();
    };
    function LongProgression$Companion() {
      LongProgression$Companion_instance = this;
    }
    LongProgression$Companion.prototype.fromClosedRange_b9bd0d$ = function (rangeStart, rangeEnd, step) {
      return new LongProgression(rangeStart, rangeEnd, step);
    };
    LongProgression$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var LongProgression$Companion_instance = null;
    function LongProgression$Companion_getInstance() {
      if (LongProgression$Companion_instance === null) {
        new LongProgression$Companion();
      }
      return LongProgression$Companion_instance;
    }
    LongProgression.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongProgression', interfaces: [Iterable]};
    function ClosedRange() {
    }
    ClosedRange.prototype.contains_mef7kx$ = function (value) {
      return Kotlin.compareTo(value, this.start) >= 0 && Kotlin.compareTo(value, this.endInclusive) <= 0;
    };
    ClosedRange.prototype.isEmpty = function () {
      return Kotlin.compareTo(this.start, this.endInclusive) > 0;
    };
    ClosedRange.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'ClosedRange', interfaces: []};
    function CharRange(start, endInclusive) {
      CharRange$Companion_getInstance();
      CharProgression.call(this, start, endInclusive, 1);
    }
    Object.defineProperty(CharRange.prototype, 'start', {get: function () {
      return toBoxedChar(this.first);
    }});
    Object.defineProperty(CharRange.prototype, 'endInclusive', {get: function () {
      return toBoxedChar(this.last);
    }});
    CharRange.prototype.contains_mef7kx$ = function (value) {
      return this.first <= value && value <= this.last;
    };
    CharRange.prototype.isEmpty = function () {
      return this.first > this.last;
    };
    CharRange.prototype.equals = function (other) {
      return Kotlin.isType(other, CharRange) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last));
    };
    CharRange.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * (this.first | 0) | 0) + (this.last | 0) | 0;
    };
    CharRange.prototype.toString = function () {
      return String.fromCharCode(this.first) + '..' + String.fromCharCode(this.last);
    };
    function CharRange$Companion() {
      CharRange$Companion_instance = this;
      this.EMPTY = new CharRange(toChar(1), toChar(0));
    }
    CharRange$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var CharRange$Companion_instance = null;
    function CharRange$Companion_getInstance() {
      if (CharRange$Companion_instance === null) {
        new CharRange$Companion();
      }
      return CharRange$Companion_instance;
    }
    CharRange.$metadata$ = {kind: Kind_CLASS, simpleName: 'CharRange', interfaces: [ClosedRange, CharProgression]};
    function IntRange(start, endInclusive) {
      IntRange$Companion_getInstance();
      IntProgression.call(this, start, endInclusive, 1);
    }
    Object.defineProperty(IntRange.prototype, 'start', {get: function () {
      return this.first;
    }});
    Object.defineProperty(IntRange.prototype, 'endInclusive', {get: function () {
      return this.last;
    }});
    IntRange.prototype.contains_mef7kx$ = function (value) {
      return this.first <= value && value <= this.last;
    };
    IntRange.prototype.isEmpty = function () {
      return this.first > this.last;
    };
    IntRange.prototype.equals = function (other) {
      return Kotlin.isType(other, IntRange) && (this.isEmpty() && other.isEmpty() || (this.first === other.first && this.last === other.last));
    };
    IntRange.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : (31 * this.first | 0) + this.last | 0;
    };
    IntRange.prototype.toString = function () {
      return this.first.toString() + '..' + this.last;
    };
    function IntRange$Companion() {
      IntRange$Companion_instance = this;
      this.EMPTY = new IntRange(1, 0);
    }
    IntRange$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var IntRange$Companion_instance = null;
    function IntRange$Companion_getInstance() {
      if (IntRange$Companion_instance === null) {
        new IntRange$Companion();
      }
      return IntRange$Companion_instance;
    }
    IntRange.$metadata$ = {kind: Kind_CLASS, simpleName: 'IntRange', interfaces: [ClosedRange, IntProgression]};
    function LongRange(start, endInclusive) {
      LongRange$Companion_getInstance();
      LongProgression.call(this, start, endInclusive, L1);
    }
    Object.defineProperty(LongRange.prototype, 'start', {get: function () {
      return this.first;
    }});
    Object.defineProperty(LongRange.prototype, 'endInclusive', {get: function () {
      return this.last;
    }});
    LongRange.prototype.contains_mef7kx$ = function (value) {
      return this.first.compareTo_11rb$(value) <= 0 && value.compareTo_11rb$(this.last) <= 0;
    };
    LongRange.prototype.isEmpty = function () {
      return this.first.compareTo_11rb$(this.last) > 0;
    };
    LongRange.prototype.equals = function (other) {
      return Kotlin.isType(other, LongRange) && (this.isEmpty() && other.isEmpty() || (equals(this.first, other.first) && equals(this.last, other.last)));
    };
    LongRange.prototype.hashCode = function () {
      return this.isEmpty() ? -1 : Kotlin.Long.fromInt(31).multiply(this.first.xor(this.first.shiftRightUnsigned(32))).add(this.last.xor(this.last.shiftRightUnsigned(32))).toInt();
    };
    LongRange.prototype.toString = function () {
      return this.first.toString() + '..' + this.last.toString();
    };
    function LongRange$Companion() {
      LongRange$Companion_instance = this;
      this.EMPTY = new LongRange(L1, L0);
    }
    LongRange$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var LongRange$Companion_instance = null;
    function LongRange$Companion_getInstance() {
      if (LongRange$Companion_instance === null) {
        new LongRange$Companion();
      }
      return LongRange$Companion_instance;
    }
    LongRange.$metadata$ = {kind: Kind_CLASS, simpleName: 'LongRange', interfaces: [ClosedRange, LongProgression]};
    function Unit() {
      Unit_instance = this;
    }
    Unit.prototype.toString = function () {
      return 'kotlin.Unit';
    };
    Unit.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Unit', interfaces: []};
    var Unit_instance = null;
    function Unit_getInstance() {
      if (Unit_instance === null) {
        new Unit();
      }
      return Unit_instance;
    }
    var AnnotationTarget$CLASS_instance;
    var AnnotationTarget$ANNOTATION_CLASS_instance;
    var AnnotationTarget$TYPE_PARAMETER_instance;
    var AnnotationTarget$PROPERTY_instance;
    var AnnotationTarget$FIELD_instance;
    var AnnotationTarget$LOCAL_VARIABLE_instance;
    var AnnotationTarget$VALUE_PARAMETER_instance;
    var AnnotationTarget$CONSTRUCTOR_instance;
    var AnnotationTarget$FUNCTION_instance;
    var AnnotationTarget$PROPERTY_GETTER_instance;
    var AnnotationTarget$PROPERTY_SETTER_instance;
    var AnnotationTarget$TYPE_instance;
    var AnnotationTarget$EXPRESSION_instance;
    var AnnotationTarget$FILE_instance;
    var AnnotationTarget$TYPEALIAS_instance;
    var AnnotationRetention$SOURCE_instance;
    var AnnotationRetention$BINARY_instance;
    var AnnotationRetention$RUNTIME_instance;
    function mod(a, b) {
      var mod = a % b;
      return mod >= 0 ? mod : mod + b | 0;
    }
    function mod_0(a, b) {
      var mod = a.modulo(b);
      return mod.toNumber() >= 0 ? mod : mod.add(b);
    }
    function differenceModulo(a, b, c) {
      return mod(mod(a, c) - mod(b, c) | 0, c);
    }
    function differenceModulo_0(a, b, c) {
      return mod_0(mod_0(a, c).subtract(mod_0(b, c)), c);
    }
    function getProgressionLastElement(start, end, step) {
      if (step > 0)
        return start >= end ? end : end - differenceModulo(end, start, step) | 0;
      else if (step < 0)
        return start <= end ? end : end + differenceModulo(start, end, -step | 0) | 0;
      else
        throw IllegalArgumentException_init_0('Step is zero.');
    }
    function getProgressionLastElement_0(start, end, step) {
      if (step.toNumber() > 0)
        return start.compareTo_11rb$(end) >= 0 ? end : end.subtract(differenceModulo_0(end, start, step));
      else if (step.toNumber() < 0)
        return start.compareTo_11rb$(end) <= 0 ? end : end.add(differenceModulo_0(start, end, step.unaryMinus()));
      else
        throw IllegalArgumentException_init_0('Step is zero.');
    }
    function KAnnotatedElement() {
    }
    KAnnotatedElement.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KAnnotatedElement', interfaces: []};
    function KCallable() {
    }
    KCallable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KCallable', interfaces: [KAnnotatedElement]};
    function KClass() {
    }
    KClass.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KClass', interfaces: [KClassifier, KAnnotatedElement, KDeclarationContainer]};
    function KClassifier() {
    }
    KClassifier.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KClassifier', interfaces: []};
    function KDeclarationContainer() {
    }
    KDeclarationContainer.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KDeclarationContainer', interfaces: []};
    function KFunction() {
    }
    KFunction.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KFunction', interfaces: [Function_0, KCallable]};
    var KParameter$Kind$INSTANCE_instance;
    var KParameter$Kind$EXTENSION_RECEIVER_instance;
    var KParameter$Kind$VALUE_instance;
    function KProperty() {
    }
    function KProperty$Accessor() {
    }
    KProperty$Accessor.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Accessor', interfaces: []};
    function KProperty$Getter() {
    }
    KProperty$Getter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Getter', interfaces: [KFunction, KProperty$Accessor]};
    KProperty.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KProperty', interfaces: [KCallable]};
    function KMutableProperty() {
    }
    function KMutableProperty$Setter() {
    }
    KMutableProperty$Setter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Setter', interfaces: [KFunction, KProperty$Accessor]};
    KMutableProperty.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KMutableProperty', interfaces: [KProperty]};
    function KProperty0() {
    }
    function KProperty0$Getter() {
    }
    KProperty0$Getter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Getter', interfaces: [KProperty$Getter]};
    KProperty0.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KProperty0', interfaces: [KProperty]};
    function KMutableProperty0() {
    }
    function KMutableProperty0$Setter() {
    }
    KMutableProperty0$Setter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Setter', interfaces: [KMutableProperty$Setter]};
    KMutableProperty0.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KMutableProperty0', interfaces: [KMutableProperty, KProperty0]};
    function KProperty1() {
    }
    function KProperty1$Getter() {
    }
    KProperty1$Getter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Getter', interfaces: [KProperty$Getter]};
    KProperty1.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KProperty1', interfaces: [KProperty]};
    function KMutableProperty1() {
    }
    function KMutableProperty1$Setter() {
    }
    KMutableProperty1$Setter.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Setter', interfaces: [KMutableProperty$Setter]};
    KMutableProperty1.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KMutableProperty1', interfaces: [KMutableProperty, KProperty1]};
    var KTypeProjection$Companion_instance = null;
    var KVariance$INVARIANT_instance;
    var KVariance$IN_instance;
    var KVariance$OUT_instance;
    var KVisibility$PUBLIC_instance;
    var KVisibility$PROTECTED_instance;
    var KVisibility$INTERNAL_instance;
    var KVisibility$PRIVATE_instance;
    function arrayIterator$ObjectLiteral(closure$arr) {
      this.closure$arr = closure$arr;
      this.index = 0;
    }
    arrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$arr.length;
    };
    arrayIterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (this.index < this.closure$arr.length) {
        return this.closure$arr[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    arrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    function arrayIterator(array, type) {
      if (type == null) {
        var arr = array;
        return new arrayIterator$ObjectLiteral(arr);
      }
       else
        switch (type) {
          case 'BooleanArray':
            return booleanArrayIterator(array);
          case 'ByteArray':
            return byteArrayIterator(array);
          case 'ShortArray':
            return shortArrayIterator(array);
          case 'CharArray':
            return charArrayIterator(array);
          case 'IntArray':
            return intArrayIterator(array);
          case 'LongArray':
            return longArrayIterator(array);
          case 'FloatArray':
            return floatArrayIterator(array);
          case 'DoubleArray':
            return doubleArrayIterator(array);
          default:throw IllegalStateException_init_0('Unsupported type argument for arrayIterator: ' + toString(type));
        }
    }
    function booleanArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      BooleanIterator.call(this);
      this.index = 0;
    }
    booleanArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    booleanArrayIterator$ObjectLiteral.prototype.nextBoolean = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    booleanArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [BooleanIterator]};
    function booleanArrayIterator(array) {
      return new booleanArrayIterator$ObjectLiteral(array);
    }
    function byteArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      ByteIterator.call(this);
      this.index = 0;
    }
    byteArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    byteArrayIterator$ObjectLiteral.prototype.nextByte = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    byteArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [ByteIterator]};
    function byteArrayIterator(array) {
      return new byteArrayIterator$ObjectLiteral(array);
    }
    function shortArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      ShortIterator.call(this);
      this.index = 0;
    }
    shortArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    shortArrayIterator$ObjectLiteral.prototype.nextShort = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    shortArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [ShortIterator]};
    function shortArrayIterator(array) {
      return new shortArrayIterator$ObjectLiteral(array);
    }
    function charArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      CharIterator.call(this);
      this.index = 0;
    }
    charArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    charArrayIterator$ObjectLiteral.prototype.nextChar = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    charArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [CharIterator]};
    function charArrayIterator(array) {
      return new charArrayIterator$ObjectLiteral(array);
    }
    function intArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      IntIterator.call(this);
      this.index = 0;
    }
    intArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    intArrayIterator$ObjectLiteral.prototype.nextInt = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    intArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [IntIterator]};
    function intArrayIterator(array) {
      return new intArrayIterator$ObjectLiteral(array);
    }
    function floatArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      FloatIterator.call(this);
      this.index = 0;
    }
    floatArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    floatArrayIterator$ObjectLiteral.prototype.nextFloat = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    floatArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [FloatIterator]};
    function floatArrayIterator(array) {
      return new floatArrayIterator$ObjectLiteral(array);
    }
    function doubleArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      DoubleIterator.call(this);
      this.index = 0;
    }
    doubleArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    doubleArrayIterator$ObjectLiteral.prototype.nextDouble = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    doubleArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [DoubleIterator]};
    function doubleArrayIterator(array) {
      return new doubleArrayIterator$ObjectLiteral(array);
    }
    function longArrayIterator$ObjectLiteral(closure$array) {
      this.closure$array = closure$array;
      LongIterator.call(this);
      this.index = 0;
    }
    longArrayIterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index < this.closure$array.length;
    };
    longArrayIterator$ObjectLiteral.prototype.nextLong = function () {
      var tmp$;
      if (this.index < this.closure$array.length) {
        return this.closure$array[tmp$ = this.index, this.index = tmp$ + 1 | 0, tmp$];
      }
       else
        throw new NoSuchElementException(this.index.toString());
    };
    longArrayIterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [LongIterator]};
    function longArrayIterator(array) {
      return new longArrayIterator$ObjectLiteral(array);
    }
    function noWhenBranchMatched() {
      throw NoWhenBranchMatchedException_init();
    }
    function subSequence(c, startIndex, endIndex) {
      if (typeof c === 'string') {
        return c.substring(startIndex, endIndex);
      }
       else {
        return c.subSequence_vux9f0$(startIndex, endIndex);
      }
    }
    function captureStack(baseClass, instance) {
      if (Error.captureStackTrace) {
        Error.captureStackTrace(instance, get_js(Kotlin.getKClassFromExpression(instance)));
      }
       else {
        instance.stack = (new Error()).stack;
      }
    }
    function BoxedChar(c) {
      this.c = c;
    }
    BoxedChar.prototype.equals = function (other) {
      return Kotlin.isType(other, BoxedChar) && this.c === other.c;
    };
    BoxedChar.prototype.hashCode = function () {
      return this.c;
    };
    BoxedChar.prototype.toString = function () {
      return String.fromCharCode(unboxChar(this.c));
    };
    BoxedChar.prototype.compareTo_11rb$ = function (other) {
      return this.c - other;
    };
    BoxedChar.prototype.valueOf = function () {
      return this.c;
    };
    BoxedChar.$metadata$ = {kind: Kind_CLASS, simpleName: 'BoxedChar', interfaces: [Comparable]};
    function charArrayOf() {
      var type = 'CharArray';
      var array = new Uint16Array([].slice.call(arguments));
      array.$type$ = type;
      return array;
    }
    function CoroutineImpl(resultContinuation) {
      this.resultContinuation_0 = resultContinuation;
      this.state_0 = 0;
      this.exceptionState_0 = 0;
      this.result_0 = null;
      this.exception_0 = null;
      this.finallyPath_0 = null;
      this.context_hxcuhl$_0 = this.resultContinuation_0.context;
      this.intercepted__0 = null;
    }
    Object.defineProperty(CoroutineImpl.prototype, 'context', {get: function () {
      return this.context_hxcuhl$_0;
    }});
    CoroutineImpl.prototype.intercepted = function () {
      var tmp$, tmp$_0, tmp$_1;
      var tmp$_2;
      if ((tmp$_1 = this.intercepted__0) != null)
        tmp$_2 = tmp$_1;
      else {
        var $receiver = (tmp$_0 = (tmp$ = this.context.get_j3r2sn$(ContinuationInterceptor$Key_getInstance())) != null ? tmp$.interceptContinuation_wj8d80$(this) : null) != null ? tmp$_0 : this;
        this.intercepted__0 = $receiver;
        tmp$_2 = $receiver;
      }
      return tmp$_2;
    };
    CoroutineImpl.prototype.resumeWith_tl1gpc$ = function (result) {
      var current = {v: this};
      var getOrNull$result;
      var tmp$;
      if (result.isFailure) {
        getOrNull$result = null;
      }
       else {
        getOrNull$result = (tmp$ = result.value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      }
      var currentResult = {v: getOrNull$result};
      var currentException = {v: result.exceptionOrNull()};
      while (true) {
        var $receiver = current.v;
        var tmp$_0;
        var completion = $receiver.resultContinuation_0;
        if (currentException.v == null) {
          $receiver.result_0 = currentResult.v;
        }
         else {
          $receiver.state_0 = $receiver.exceptionState_0;
          $receiver.exception_0 = currentException.v;
        }
        try {
          var outcome = $receiver.doResume();
          if (outcome === get_COROUTINE_SUSPENDED())
            return;
          currentResult.v = outcome;
          currentException.v = null;
        }
         catch (exception) {
          currentResult.v = null;
          currentException.v = exception;
        }
        $receiver.releaseIntercepted_0();
        if (Kotlin.isType(completion, CoroutineImpl)) {
          current.v = completion;
        }
         else {
          var tmp$_1;
          if ((tmp$_0 = currentException.v) != null) {
            completion.resumeWith_tl1gpc$(new Result(createFailure(tmp$_0)));
            tmp$_1 = Unit;
          }
           else
            tmp$_1 = null;
          if (tmp$_1 == null) {
            completion.resumeWith_tl1gpc$(new Result(currentResult.v));
          }
          return;
        }
      }
    };
    CoroutineImpl.prototype.releaseIntercepted_0 = function () {
      var intercepted = this.intercepted__0;
      if (intercepted != null && intercepted !== this) {
        ensureNotNull(this.context.get_j3r2sn$(ContinuationInterceptor$Key_getInstance())).releaseInterceptedContinuation_k98bjh$(intercepted);
      }
      this.intercepted__0 = CompletedContinuation_getInstance();
    };
    CoroutineImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'CoroutineImpl', interfaces: [Continuation]};
    function CompletedContinuation() {
      CompletedContinuation_instance = this;
    }
    Object.defineProperty(CompletedContinuation.prototype, 'context', {get: function () {
      throw IllegalStateException_init_0('This continuation is already complete'.toString());
    }});
    CompletedContinuation.prototype.resumeWith_tl1gpc$ = function (result) {
      throw IllegalStateException_init_0('This continuation is already complete'.toString());
    };
    CompletedContinuation.prototype.toString = function () {
      return 'This continuation is already complete';
    };
    CompletedContinuation.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CompletedContinuation', interfaces: [Continuation]};
    var CompletedContinuation_instance = null;
    function CompletedContinuation_getInstance() {
      if (CompletedContinuation_instance === null) {
        new CompletedContinuation();
      }
      return CompletedContinuation_instance;
    }
    function intercepted($receiver) {
      var tmp$, tmp$_0, tmp$_1;
      return (tmp$_1 = (tmp$_0 = Kotlin.isType(tmp$ = $receiver, CoroutineImpl) ? tmp$ : null) != null ? tmp$_0.intercepted() : null) != null ? tmp$_1 : $receiver;
    }
    function lazy(initializer) {
      return new UnsafeLazyImpl(initializer);
    }
    function fillFrom(src, dst) {
      var tmp$;
      var srcLen = src.length;
      var dstLen = dst.length;
      var index = 0;
      while (index < srcLen && index < dstLen) {
        dst[index] = src[tmp$ = index, index = tmp$ + 1 | 0, tmp$];
      }
      return dst;
    }
    function arrayCopyResize(source, newSize, defaultValue) {
      var tmp$;
      var result = source.slice(0, newSize);
      if (source.$type$ !== undefined) {
        result.$type$ = source.$type$;
      }
      var index = source.length;
      if (newSize > index) {
        result.length = newSize;
        while (index < newSize) {
          result[tmp$ = index, index = tmp$ + 1 | 0, tmp$] = defaultValue;
        }
      }
      return result;
    }
    function asList($receiver) {
      return new ArrayList($receiver);
    }
    function copyOf_22($receiver, newSize) {
      if (!(newSize >= 0)) {
        var message = 'Invalid new array size: ' + newSize + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var type = 'BooleanArray';
      var array = arrayCopyResize($receiver, newSize, false);
      array.$type$ = type;
      return array;
    }
    function copyOf_23($receiver, newSize) {
      if (!(newSize >= 0)) {
        var message = 'Invalid new array size: ' + newSize + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var type = 'CharArray';
      var array = fillFrom($receiver, Kotlin.charArray(newSize));
      array.$type$ = type;
      return array;
    }
    function copyOfRange_3($receiver, fromIndex, toIndex) {
      AbstractList$Companion_getInstance().checkRangeIndexes_cub51b$(fromIndex, toIndex, $receiver.length);
      return $receiver.slice(fromIndex, toIndex);
    }
    function reverse_12($receiver) {
      var midPoint = ($receiver.size / 2 | 0) - 1 | 0;
      if (midPoint < 0)
        return;
      var reverseIndex = get_lastIndex_12($receiver);
      for (var index = 0; index <= midPoint; index++) {
        var tmp = $receiver.get_za3lpa$(index);
        $receiver.set_wxm5ur$(index, $receiver.get_za3lpa$(reverseIndex));
        $receiver.set_wxm5ur$(reverseIndex, tmp);
        reverseIndex = reverseIndex - 1 | 0;
      }
    }
    function Comparator() {
    }
    Comparator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Comparator', interfaces: []};
    function copyToArray(collection) {
      return collection.toArray !== undefined ? collection.toArray() : copyToArrayImpl(collection);
    }
    function copyToArrayImpl(collection) {
      var array = [];
      var iterator = collection.iterator();
      while (iterator.hasNext())
        array.push(iterator.next());
      return array;
    }
    function copyToArrayImpl_0(collection, array) {
      var tmp$;
      if (array.length < collection.size) {
        return copyToArrayImpl(collection);
      }
      var iterator = collection.iterator();
      var index = 0;
      while (iterator.hasNext()) {
        array[tmp$ = index, index = tmp$ + 1 | 0, tmp$] = iterator.next();
      }
      if (index < array.length) {
        array[index] = null;
      }
      return array;
    }
    function listOf(element) {
      return arrayListOf_0([element]);
    }
    function setOf(element) {
      return hashSetOf_0([element]);
    }
    function checkIndexOverflow(index) {
      if (index < 0) {
        throwIndexOverflow();
      }
      return index;
    }
    function AbstractMutableCollection() {
      AbstractCollection.call(this);
    }
    AbstractMutableCollection.prototype.remove_11rb$ = function (element) {
      var iterator = this.iterator();
      while (iterator.hasNext()) {
        if (equals(iterator.next(), element)) {
          iterator.remove();
          return true;
        }
      }
      return false;
    };
    AbstractMutableCollection.prototype.addAll_brywnq$ = function (elements) {
      var tmp$;
      var modified = false;
      tmp$ = elements.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        if (this.add_11rb$(element))
          modified = true;
      }
      return modified;
    };
    function AbstractMutableCollection$removeAll$lambda(closure$elements) {
      return function (it) {
        return closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableCollection.prototype.removeAll_brywnq$ = function (elements) {
      var tmp$;
      return removeAll_0(Kotlin.isType(tmp$ = this, MutableIterable) ? tmp$ : throwCCE_0(), AbstractMutableCollection$removeAll$lambda(elements));
    };
    function AbstractMutableCollection$retainAll$lambda(closure$elements) {
      return function (it) {
        return !closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableCollection.prototype.retainAll_brywnq$ = function (elements) {
      var tmp$;
      return removeAll_0(Kotlin.isType(tmp$ = this, MutableIterable) ? tmp$ : throwCCE_0(), AbstractMutableCollection$retainAll$lambda(elements));
    };
    AbstractMutableCollection.prototype.clear = function () {
      var iterator = this.iterator();
      while (iterator.hasNext()) {
        iterator.next();
        iterator.remove();
      }
    };
    AbstractMutableCollection.prototype.toJSON = function () {
      return this.toArray();
    };
    AbstractMutableCollection.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableCollection', interfaces: [MutableCollection, AbstractCollection]};
    function AbstractMutableList() {
      AbstractMutableCollection.call(this);
      this.modCount = 0;
    }
    AbstractMutableList.prototype.add_11rb$ = function (element) {
      this.add_wxm5ur$(this.size, element);
      return true;
    };
    AbstractMutableList.prototype.addAll_u57x28$ = function (index, elements) {
      var tmp$, tmp$_0;
      var _index = index;
      var changed = false;
      tmp$ = elements.iterator();
      while (tmp$.hasNext()) {
        var e = tmp$.next();
        this.add_wxm5ur$((tmp$_0 = _index, _index = tmp$_0 + 1 | 0, tmp$_0), e);
        changed = true;
      }
      return changed;
    };
    AbstractMutableList.prototype.clear = function () {
      this.removeRange_vux9f0$(0, this.size);
    };
    function AbstractMutableList$removeAll$lambda(closure$elements) {
      return function (it) {
        return closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableList.prototype.removeAll_brywnq$ = function (elements) {
      return removeAll_1(this, AbstractMutableList$removeAll$lambda(elements));
    };
    function AbstractMutableList$retainAll$lambda(closure$elements) {
      return function (it) {
        return !closure$elements.contains_11rb$(it);
      };
    }
    AbstractMutableList.prototype.retainAll_brywnq$ = function (elements) {
      return removeAll_1(this, AbstractMutableList$retainAll$lambda(elements));
    };
    AbstractMutableList.prototype.iterator = function () {
      return new AbstractMutableList$IteratorImpl(this);
    };
    AbstractMutableList.prototype.contains_11rb$ = function (element) {
      return this.indexOf_11rb$(element) >= 0;
    };
    AbstractMutableList.prototype.indexOf_11rb$ = function (element) {
      var tmp$;
      tmp$ = get_lastIndex_12(this);
      for (var index = 0; index <= tmp$; index++) {
        if (equals(this.get_za3lpa$(index), element)) {
          return index;
        }
      }
      return -1;
    };
    AbstractMutableList.prototype.lastIndexOf_11rb$ = function (element) {
      for (var index = get_lastIndex_12(this); index >= 0; index--) {
        if (equals(this.get_za3lpa$(index), element)) {
          return index;
        }
      }
      return -1;
    };
    AbstractMutableList.prototype.listIterator = function () {
      return this.listIterator_za3lpa$(0);
    };
    AbstractMutableList.prototype.listIterator_za3lpa$ = function (index) {
      return new AbstractMutableList$ListIteratorImpl(this, index);
    };
    AbstractMutableList.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
      return new AbstractMutableList$SubList(this, fromIndex, toIndex);
    };
    AbstractMutableList.prototype.removeRange_vux9f0$ = function (fromIndex, toIndex) {
      var iterator = this.listIterator_za3lpa$(fromIndex);
      var times = toIndex - fromIndex | 0;
      for (var index = 0; index < times; index++) {
        iterator.next();
        iterator.remove();
      }
    };
    AbstractMutableList.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, List))
        return false;
      return AbstractList$Companion_getInstance().orderedEquals_e92ka7$(this, other);
    };
    AbstractMutableList.prototype.hashCode = function () {
      return AbstractList$Companion_getInstance().orderedHashCode_nykoif$(this);
    };
    function AbstractMutableList$IteratorImpl($outer) {
      this.$outer = $outer;
      this.index_0 = 0;
      this.last_0 = -1;
    }
    AbstractMutableList$IteratorImpl.prototype.hasNext = function () {
      return this.index_0 < this.$outer.size;
    };
    AbstractMutableList$IteratorImpl.prototype.next = function () {
      var tmp$;
      if (!this.hasNext())
        throw NoSuchElementException_init();
      this.last_0 = (tmp$ = this.index_0, this.index_0 = tmp$ + 1 | 0, tmp$);
      return this.$outer.get_za3lpa$(this.last_0);
    };
    AbstractMutableList$IteratorImpl.prototype.remove = function () {
      if (!(this.last_0 !== -1)) {
        var message = 'Call next() or previous() before removing element from the iterator.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.$outer.removeAt_za3lpa$(this.last_0);
      this.index_0 = this.last_0;
      this.last_0 = -1;
    };
    AbstractMutableList$IteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'IteratorImpl', interfaces: [MutableIterator]};
    function AbstractMutableList$ListIteratorImpl($outer, index) {
      this.$outer = $outer;
      AbstractMutableList$IteratorImpl.call(this, this.$outer);
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this.$outer.size);
      this.index_0 = index;
    }
    AbstractMutableList$ListIteratorImpl.prototype.hasPrevious = function () {
      return this.index_0 > 0;
    };
    AbstractMutableList$ListIteratorImpl.prototype.nextIndex = function () {
      return this.index_0;
    };
    AbstractMutableList$ListIteratorImpl.prototype.previous = function () {
      if (!this.hasPrevious())
        throw NoSuchElementException_init();
      this.last_0 = (this.index_0 = this.index_0 - 1 | 0, this.index_0);
      return this.$outer.get_za3lpa$(this.last_0);
    };
    AbstractMutableList$ListIteratorImpl.prototype.previousIndex = function () {
      return this.index_0 - 1 | 0;
    };
    AbstractMutableList$ListIteratorImpl.prototype.add_11rb$ = function (element) {
      this.$outer.add_wxm5ur$(this.index_0, element);
      this.index_0 = this.index_0 + 1 | 0;
      this.last_0 = -1;
    };
    AbstractMutableList$ListIteratorImpl.prototype.set_11rb$ = function (element) {
      if (!(this.last_0 !== -1)) {
        var message = 'Call next() or previous() before updating element value with the iterator.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.$outer.set_wxm5ur$(this.last_0, element);
    };
    AbstractMutableList$ListIteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListIteratorImpl', interfaces: [MutableListIterator, AbstractMutableList$IteratorImpl]};
    function AbstractMutableList$SubList(list, fromIndex, toIndex) {
      AbstractMutableList.call(this);
      this.list_0 = list;
      this.fromIndex_0 = fromIndex;
      this._size_0 = 0;
      AbstractList$Companion_getInstance().checkRangeIndexes_cub51b$(this.fromIndex_0, toIndex, this.list_0.size);
      this._size_0 = toIndex - this.fromIndex_0 | 0;
    }
    AbstractMutableList$SubList.prototype.add_wxm5ur$ = function (index, element) {
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this._size_0);
      this.list_0.add_wxm5ur$(this.fromIndex_0 + index | 0, element);
      this._size_0 = this._size_0 + 1 | 0;
    };
    AbstractMutableList$SubList.prototype.get_za3lpa$ = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      return this.list_0.get_za3lpa$(this.fromIndex_0 + index | 0);
    };
    AbstractMutableList$SubList.prototype.removeAt_za3lpa$ = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      var result = this.list_0.removeAt_za3lpa$(this.fromIndex_0 + index | 0);
      this._size_0 = this._size_0 - 1 | 0;
      return result;
    };
    AbstractMutableList$SubList.prototype.set_wxm5ur$ = function (index, element) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      return this.list_0.set_wxm5ur$(this.fromIndex_0 + index | 0, element);
    };
    Object.defineProperty(AbstractMutableList$SubList.prototype, 'size', {get: function () {
      return this._size_0;
    }});
    AbstractMutableList$SubList.$metadata$ = {kind: Kind_CLASS, simpleName: 'SubList', interfaces: [RandomAccess, AbstractMutableList]};
    AbstractMutableList.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableList', interfaces: [MutableList, AbstractMutableCollection]};
    function AbstractMutableMap() {
      AbstractMap.call(this);
      this._keys_qe2m0n$_0 = null;
      this._values_kxdlqh$_0 = null;
    }
    function AbstractMutableMap$SimpleEntry(key, value) {
      this.key_5xhq3d$_0 = key;
      this._value_0 = value;
    }
    Object.defineProperty(AbstractMutableMap$SimpleEntry.prototype, 'key', {get: function () {
      return this.key_5xhq3d$_0;
    }});
    Object.defineProperty(AbstractMutableMap$SimpleEntry.prototype, 'value', {get: function () {
      return this._value_0;
    }});
    AbstractMutableMap$SimpleEntry.prototype.setValue_11rc$ = function (newValue) {
      var oldValue = this._value_0;
      this._value_0 = newValue;
      return oldValue;
    };
    AbstractMutableMap$SimpleEntry.prototype.hashCode = function () {
      return AbstractMap$Companion_getInstance().entryHashCode_9fthdn$(this);
    };
    AbstractMutableMap$SimpleEntry.prototype.toString = function () {
      return AbstractMap$Companion_getInstance().entryToString_9fthdn$(this);
    };
    AbstractMutableMap$SimpleEntry.prototype.equals = function (other) {
      return AbstractMap$Companion_getInstance().entryEquals_js7fox$(this, other);
    };
    AbstractMutableMap$SimpleEntry.$metadata$ = {kind: Kind_CLASS, simpleName: 'SimpleEntry', interfaces: [MutableMap$MutableEntry]};
    function AbstractMutableMap$AbstractMutableMap$SimpleEntry_init(entry, $this) {
      $this = $this || Object.create(AbstractMutableMap$SimpleEntry.prototype);
      AbstractMutableMap$SimpleEntry.call($this, entry.key, entry.value);
      return $this;
    }
    AbstractMutableMap.prototype.clear = function () {
      this.entries.clear();
    };
    function AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral(this$AbstractMutableMap) {
      this.this$AbstractMutableMap = this$AbstractMutableMap;
      AbstractMutableSet.call(this);
    }
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on keys');
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.clear = function () {
      this.this$AbstractMutableMap.clear();
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMutableMap.containsKey_11rb$(element);
    };
    function AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().key;
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.remove = function () {
      this.closure$entryIterator.remove();
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MutableIterator]};
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMutableMap.entries.iterator();
      return new AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype.remove_11rb$ = function (element) {
      if (this.this$AbstractMutableMap.containsKey_11rb$(element)) {
        this.this$AbstractMutableMap.remove_11rb$(element);
        return true;
      }
      return false;
    };
    Object.defineProperty(AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMutableMap.size;
    }});
    AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractMutableSet]};
    Object.defineProperty(AbstractMutableMap.prototype, 'keys', {get: function () {
      if (this._keys_qe2m0n$_0 == null) {
        this._keys_qe2m0n$_0 = new AbstractMutableMap$get_AbstractMutableMap$keys$ObjectLiteral(this);
      }
      return ensureNotNull(this._keys_qe2m0n$_0);
    }});
    AbstractMutableMap.prototype.putAll_a2k3zr$ = function (from) {
      var tmp$;
      tmp$ = from.entries.iterator();
      while (tmp$.hasNext()) {
        var tmp$_0 = tmp$.next();
        var key = tmp$_0.key;
        var value = tmp$_0.value;
        this.put_xwzc9p$(key, value);
      }
    };
    function AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral(this$AbstractMutableMap) {
      this.this$AbstractMutableMap = this$AbstractMutableMap;
      AbstractMutableCollection.call(this);
    }
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on values');
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.clear = function () {
      this.this$AbstractMutableMap.clear();
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMutableMap.containsValue_11rc$(element);
    };
    function AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().value;
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.remove = function () {
      this.closure$entryIterator.remove();
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MutableIterator]};
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMutableMap.entries.iterator();
      return new AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    Object.defineProperty(AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMutableMap.size;
    }});
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.equals = function (other) {
      if (this === other)
        return true;
      if (!Kotlin.isType(other, Collection))
        return false;
      return AbstractList$Companion_getInstance().orderedEquals_e92ka7$(this, other);
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.prototype.hashCode = function () {
      return AbstractList$Companion_getInstance().orderedHashCode_nykoif$(this);
    };
    AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractMutableCollection]};
    Object.defineProperty(AbstractMutableMap.prototype, 'values', {get: function () {
      if (this._values_kxdlqh$_0 == null) {
        this._values_kxdlqh$_0 = new AbstractMutableMap$get_AbstractMutableMap$values$ObjectLiteral(this);
      }
      return ensureNotNull(this._values_kxdlqh$_0);
    }});
    AbstractMutableMap.prototype.remove_11rb$ = function (key) {
      var iter = this.entries.iterator();
      while (iter.hasNext()) {
        var entry = iter.next();
        var k = entry.key;
        if (equals(key, k)) {
          var value = entry.value;
          iter.remove();
          return value;
        }
      }
      return null;
    };
    AbstractMutableMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableMap', interfaces: [MutableMap, AbstractMap]};
    function AbstractMutableSet() {
      AbstractMutableCollection.call(this);
    }
    AbstractMutableSet.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, Set))
        return false;
      return AbstractSet$Companion_getInstance().setEquals_y8f7en$(this, other);
    };
    AbstractMutableSet.prototype.hashCode = function () {
      return AbstractSet$Companion_getInstance().unorderedHashCode_nykoif$(this);
    };
    AbstractMutableSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMutableSet', interfaces: [MutableSet, AbstractMutableCollection]};
    function ArrayList(array) {
      AbstractMutableList.call(this);
      this.array_hd7ov6$_0 = array;
    }
    ArrayList.prototype.trimToSize = function () {
    };
    ArrayList.prototype.ensureCapacity_za3lpa$ = function (minCapacity) {
    };
    Object.defineProperty(ArrayList.prototype, 'size', {get: function () {
      return this.array_hd7ov6$_0.length;
    }});
    ArrayList.prototype.get_za3lpa$ = function (index) {
      var tmp$;
      return (tmp$ = this.array_hd7ov6$_0[this.rangeCheck_xcmk5o$_0(index)]) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    };
    ArrayList.prototype.set_wxm5ur$ = function (index, element) {
      var tmp$;
      this.rangeCheck_xcmk5o$_0(index);
      var $receiver = this.array_hd7ov6$_0[index];
      this.array_hd7ov6$_0[index] = element;
      return (tmp$ = $receiver) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    };
    ArrayList.prototype.add_11rb$ = function (element) {
      this.array_hd7ov6$_0.push(element);
      this.modCount = this.modCount + 1 | 0;
      return true;
    };
    ArrayList.prototype.add_wxm5ur$ = function (index, element) {
      this.array_hd7ov6$_0.splice(this.insertionRangeCheck_xwivfl$_0(index), 0, element);
      this.modCount = this.modCount + 1 | 0;
    };
    ArrayList.prototype.addAll_brywnq$ = function (elements) {
      if (elements.isEmpty())
        return false;
      this.array_hd7ov6$_0 = this.array_hd7ov6$_0.concat(copyToArray(elements));
      this.modCount = this.modCount + 1 | 0;
      return true;
    };
    ArrayList.prototype.addAll_u57x28$ = function (index, elements) {
      this.insertionRangeCheck_xwivfl$_0(index);
      if (index === this.size)
        return this.addAll_brywnq$(elements);
      if (elements.isEmpty())
        return false;
      if (index === this.size)
        return this.addAll_brywnq$(elements);
      else if (index === 0) {
        this.array_hd7ov6$_0 = copyToArray(elements).concat(this.array_hd7ov6$_0);
      }
       else {
        this.array_hd7ov6$_0 = copyOfRange_3(this.array_hd7ov6$_0, 0, index).concat(copyToArray(elements), copyOfRange_3(this.array_hd7ov6$_0, index, this.size));
      }
      this.modCount = this.modCount + 1 | 0;
      return true;
    };
    ArrayList.prototype.removeAt_za3lpa$ = function (index) {
      this.rangeCheck_xcmk5o$_0(index);
      this.modCount = this.modCount + 1 | 0;
      return index === get_lastIndex_12(this) ? this.array_hd7ov6$_0.pop() : this.array_hd7ov6$_0.splice(index, 1)[0];
    };
    ArrayList.prototype.remove_11rb$ = function (element) {
      var tmp$;
      tmp$ = this.array_hd7ov6$_0;
      for (var index = 0; index !== tmp$.length; ++index) {
        if (equals(this.array_hd7ov6$_0[index], element)) {
          this.array_hd7ov6$_0.splice(index, 1);
          this.modCount = this.modCount + 1 | 0;
          return true;
        }
      }
      return false;
    };
    ArrayList.prototype.removeRange_vux9f0$ = function (fromIndex, toIndex) {
      this.modCount = this.modCount + 1 | 0;
      this.array_hd7ov6$_0.splice(fromIndex, toIndex - fromIndex | 0);
    };
    ArrayList.prototype.clear = function () {
      this.array_hd7ov6$_0 = [];
      this.modCount = this.modCount + 1 | 0;
    };
    ArrayList.prototype.indexOf_11rb$ = function (element) {
      return indexOf(this.array_hd7ov6$_0, element);
    };
    ArrayList.prototype.lastIndexOf_11rb$ = function (element) {
      return lastIndexOf(this.array_hd7ov6$_0, element);
    };
    ArrayList.prototype.toString = function () {
      return arrayToString(this.array_hd7ov6$_0);
    };
    ArrayList.prototype.toArray = function () {
      return [].slice.call(this.array_hd7ov6$_0);
    };
    ArrayList.prototype.rangeCheck_xcmk5o$_0 = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this.size);
      return index;
    };
    ArrayList.prototype.insertionRangeCheck_xwivfl$_0 = function (index) {
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this.size);
      return index;
    };
    ArrayList.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayList', interfaces: [RandomAccess, AbstractMutableList, MutableList]};
    function ArrayList_init($this) {
      $this = $this || Object.create(ArrayList.prototype);
      ArrayList.call($this, []);
      return $this;
    }
    function ArrayList_init_0(initialCapacity, $this) {
      if (initialCapacity === void 0)
        initialCapacity = 0;
      $this = $this || Object.create(ArrayList.prototype);
      ArrayList.call($this, []);
      return $this;
    }
    function ArrayList_init_1(elements, $this) {
      $this = $this || Object.create(ArrayList.prototype);
      ArrayList.call($this, copyToArray(elements));
      return $this;
    }
    var _stableSortingIsSupported;
    function EqualityComparator() {
    }
    function EqualityComparator$HashCode() {
      EqualityComparator$HashCode_instance = this;
    }
    EqualityComparator$HashCode.prototype.equals_oaftn8$ = function (value1, value2) {
      return equals(value1, value2);
    };
    EqualityComparator$HashCode.prototype.getHashCode_s8jyv4$ = function (value) {
      var tmp$;
      return (tmp$ = value != null ? hashCode(value) : null) != null ? tmp$ : 0;
    };
    EqualityComparator$HashCode.$metadata$ = {kind: Kind_OBJECT, simpleName: 'HashCode', interfaces: [EqualityComparator]};
    var EqualityComparator$HashCode_instance = null;
    function EqualityComparator$HashCode_getInstance() {
      if (EqualityComparator$HashCode_instance === null) {
        new EqualityComparator$HashCode();
      }
      return EqualityComparator$HashCode_instance;
    }
    EqualityComparator.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'EqualityComparator', interfaces: []};
    function HashMap() {
      this.internalMap_uxhen5$_0 = null;
      this.equality_vgh6cm$_0 = null;
      this._entries_7ih87x$_0 = null;
    }
    function HashMap$EntrySet($outer) {
      this.$outer = $outer;
      AbstractMutableSet.call(this);
    }
    HashMap$EntrySet.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on entries');
    };
    HashMap$EntrySet.prototype.clear = function () {
      this.$outer.clear();
    };
    HashMap$EntrySet.prototype.contains_11rb$ = function (element) {
      return this.$outer.containsEntry_8hxqw4$(element);
    };
    HashMap$EntrySet.prototype.iterator = function () {
      return this.$outer.internalMap_uxhen5$_0.iterator();
    };
    HashMap$EntrySet.prototype.remove_11rb$ = function (element) {
      if (this.contains_11rb$(element)) {
        this.$outer.remove_11rb$(element.key);
        return true;
      }
      return false;
    };
    Object.defineProperty(HashMap$EntrySet.prototype, 'size', {get: function () {
      return this.$outer.size;
    }});
    HashMap$EntrySet.$metadata$ = {kind: Kind_CLASS, simpleName: 'EntrySet', interfaces: [AbstractMutableSet]};
    HashMap.prototype.clear = function () {
      this.internalMap_uxhen5$_0.clear();
    };
    HashMap.prototype.containsKey_11rb$ = function (key) {
      return this.internalMap_uxhen5$_0.contains_11rb$(key);
    };
    HashMap.prototype.containsValue_11rc$ = function (value) {
      var $receiver = this.internalMap_uxhen5$_0;
      var any$result;
      any$break: do {
        var tmp$;
        if (Kotlin.isType($receiver, Collection) && $receiver.isEmpty()) {
          any$result = false;
          break any$break;
        }
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (this.equality_vgh6cm$_0.equals_oaftn8$(element.value, value)) {
            any$result = true;
            break any$break;
          }
        }
        any$result = false;
      }
       while (false);
      return any$result;
    };
    Object.defineProperty(HashMap.prototype, 'entries', {get: function () {
      if (this._entries_7ih87x$_0 == null) {
        this._entries_7ih87x$_0 = this.createEntrySet();
      }
      return ensureNotNull(this._entries_7ih87x$_0);
    }});
    HashMap.prototype.createEntrySet = function () {
      return new HashMap$EntrySet(this);
    };
    HashMap.prototype.get_11rb$ = function (key) {
      return this.internalMap_uxhen5$_0.get_11rb$(key);
    };
    HashMap.prototype.put_xwzc9p$ = function (key, value) {
      return this.internalMap_uxhen5$_0.put_xwzc9p$(key, value);
    };
    HashMap.prototype.remove_11rb$ = function (key) {
      return this.internalMap_uxhen5$_0.remove_11rb$(key);
    };
    Object.defineProperty(HashMap.prototype, 'size', {get: function () {
      return this.internalMap_uxhen5$_0.size;
    }});
    HashMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashMap', interfaces: [AbstractMutableMap, MutableMap]};
    function HashMap_init(internalMap, $this) {
      $this = $this || Object.create(HashMap.prototype);
      AbstractMutableMap.call($this);
      HashMap.call($this);
      $this.internalMap_uxhen5$_0 = internalMap;
      $this.equality_vgh6cm$_0 = internalMap.equality;
      return $this;
    }
    function HashMap_init_0($this) {
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init(new InternalHashCodeMap(EqualityComparator$HashCode_getInstance()), $this);
      return $this;
    }
    function HashMap_init_1(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init_0($this);
      if (!(initialCapacity >= 0)) {
        var message = 'Negative initial capacity: ' + initialCapacity;
        throw IllegalArgumentException_init_0(message.toString());
      }
      if (!(loadFactor >= 0)) {
        var message_0 = 'Non-positive load factor: ' + loadFactor;
        throw IllegalArgumentException_init_0(message_0.toString());
      }
      return $this;
    }
    function HashMap_init_2(initialCapacity, $this) {
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init_1(initialCapacity, 0.0, $this);
      return $this;
    }
    function HashMap_init_3(original, $this) {
      $this = $this || Object.create(HashMap.prototype);
      HashMap_init_0($this);
      $this.putAll_a2k3zr$(original);
      return $this;
    }
    function HashSet() {
      this.map_eot64i$_0 = null;
    }
    HashSet.prototype.add_11rb$ = function (element) {
      var old = this.map_eot64i$_0.put_xwzc9p$(element, this);
      return old == null;
    };
    HashSet.prototype.clear = function () {
      this.map_eot64i$_0.clear();
    };
    HashSet.prototype.contains_11rb$ = function (element) {
      return this.map_eot64i$_0.containsKey_11rb$(element);
    };
    HashSet.prototype.isEmpty = function () {
      return this.map_eot64i$_0.isEmpty();
    };
    HashSet.prototype.iterator = function () {
      return this.map_eot64i$_0.keys.iterator();
    };
    HashSet.prototype.remove_11rb$ = function (element) {
      return this.map_eot64i$_0.remove_11rb$(element) != null;
    };
    Object.defineProperty(HashSet.prototype, 'size', {get: function () {
      return this.map_eot64i$_0.size;
    }});
    HashSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashSet', interfaces: [AbstractMutableSet, MutableSet]};
    function HashSet_init($this) {
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = HashMap_init_0();
      return $this;
    }
    function HashSet_init_0(elements, $this) {
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = HashMap_init_2(elements.size);
      $this.addAll_brywnq$(elements);
      return $this;
    }
    function HashSet_init_1(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = HashMap_init_1(initialCapacity, loadFactor);
      return $this;
    }
    function HashSet_init_2(initialCapacity, $this) {
      $this = $this || Object.create(HashSet.prototype);
      HashSet_init_1(initialCapacity, 0.0, $this);
      return $this;
    }
    function HashSet_init_3(map, $this) {
      $this = $this || Object.create(HashSet.prototype);
      AbstractMutableSet.call($this);
      HashSet.call($this);
      $this.map_eot64i$_0 = map;
      return $this;
    }
    function InternalHashCodeMap(equality) {
      this.equality_mamlu8$_0 = equality;
      this.backingMap_0 = this.createJsMap();
      this.size_x3bm7r$_0 = 0;
    }
    Object.defineProperty(InternalHashCodeMap.prototype, 'equality', {get: function () {
      return this.equality_mamlu8$_0;
    }});
    Object.defineProperty(InternalHashCodeMap.prototype, 'size', {get: function () {
      return this.size_x3bm7r$_0;
    }, set: function (size) {
      this.size_x3bm7r$_0 = size;
    }});
    InternalHashCodeMap.prototype.put_xwzc9p$ = function (key, value) {
      var hashCode = this.equality.getHashCode_s8jyv4$(key);
      var chainOrEntry = this.getChainOrEntryOrNull_0(hashCode);
      if (chainOrEntry == null) {
        this.backingMap_0[hashCode] = new AbstractMutableMap$SimpleEntry(key, value);
      }
       else {
        if (!Kotlin.isArray(chainOrEntry)) {
          var entry = chainOrEntry;
          if (this.equality.equals_oaftn8$(entry.key, key)) {
            return entry.setValue_11rc$(value);
          }
           else {
            this.backingMap_0[hashCode] = [entry, new AbstractMutableMap$SimpleEntry(key, value)];
            this.size = this.size + 1 | 0;
            return null;
          }
        }
         else {
          var chain = chainOrEntry;
          var entry_0 = this.findEntryInChain_0(chain, key);
          if (entry_0 != null) {
            return entry_0.setValue_11rc$(value);
          }
          chain.push(new AbstractMutableMap$SimpleEntry(key, value));
        }
      }
      this.size = this.size + 1 | 0;
      return null;
    };
    InternalHashCodeMap.prototype.remove_11rb$ = function (key) {
      var tmp$;
      var hashCode = this.equality.getHashCode_s8jyv4$(key);
      tmp$ = this.getChainOrEntryOrNull_0(hashCode);
      if (tmp$ == null) {
        return null;
      }
      var chainOrEntry = tmp$;
      if (!Kotlin.isArray(chainOrEntry)) {
        var entry = chainOrEntry;
        if (this.equality.equals_oaftn8$(entry.key, key)) {
          delete this.backingMap_0[hashCode];
          this.size = this.size - 1 | 0;
          return entry.value;
        }
         else {
          return null;
        }
      }
       else {
        var chain = chainOrEntry;
        for (var index = 0; index !== chain.length; ++index) {
          var entry_0 = chain[index];
          if (this.equality.equals_oaftn8$(key, entry_0.key)) {
            if (chain.length === 1) {
              chain.length = 0;
              delete this.backingMap_0[hashCode];
            }
             else {
              chain.splice(index, 1);
            }
            this.size = this.size - 1 | 0;
            return entry_0.value;
          }
        }
      }
      return null;
    };
    InternalHashCodeMap.prototype.clear = function () {
      this.backingMap_0 = this.createJsMap();
      this.size = 0;
    };
    InternalHashCodeMap.prototype.contains_11rb$ = function (key) {
      return this.getEntry_0(key) != null;
    };
    InternalHashCodeMap.prototype.get_11rb$ = function (key) {
      var tmp$;
      return (tmp$ = this.getEntry_0(key)) != null ? tmp$.value : null;
    };
    InternalHashCodeMap.prototype.getEntry_0 = function (key) {
      var tmp$;
      tmp$ = this.getChainOrEntryOrNull_0(this.equality.getHashCode_s8jyv4$(key));
      if (tmp$ == null) {
        return null;
      }
      var chainOrEntry = tmp$;
      if (!Kotlin.isArray(chainOrEntry)) {
        var entry = chainOrEntry;
        if (this.equality.equals_oaftn8$(entry.key, key)) {
          return entry;
        }
         else {
          return null;
        }
      }
       else {
        var chain = chainOrEntry;
        return this.findEntryInChain_0(chain, key);
      }
    };
    InternalHashCodeMap.prototype.findEntryInChain_0 = function ($receiver, key) {
      var firstOrNull$result;
      firstOrNull$break: do {
        var tmp$;
        for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
          var element = $receiver[tmp$];
          if (this.equality.equals_oaftn8$(element.key, key)) {
            firstOrNull$result = element;
            break firstOrNull$break;
          }
        }
        firstOrNull$result = null;
      }
       while (false);
      return firstOrNull$result;
    };
    function InternalHashCodeMap$iterator$ObjectLiteral(this$InternalHashCodeMap) {
      this.this$InternalHashCodeMap = this$InternalHashCodeMap;
      this.state = -1;
      this.keys = Object.keys(this$InternalHashCodeMap.backingMap_0);
      this.keyIndex = -1;
      this.chainOrEntry = null;
      this.isChain = false;
      this.itemIndex = -1;
      this.lastEntry = null;
    }
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.computeNext_0 = function () {
      if (this.chainOrEntry != null && this.isChain) {
        var chainSize = this.chainOrEntry.length;
        if ((this.itemIndex = this.itemIndex + 1 | 0, this.itemIndex) < chainSize)
          return 0;
      }
      if ((this.keyIndex = this.keyIndex + 1 | 0, this.keyIndex) < this.keys.length) {
        this.chainOrEntry = this.this$InternalHashCodeMap.backingMap_0[this.keys[this.keyIndex]];
        this.isChain = Kotlin.isArray(this.chainOrEntry);
        this.itemIndex = 0;
        return 0;
      }
       else {
        this.chainOrEntry = null;
        return 1;
      }
    };
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.hasNext = function () {
      if (this.state === -1)
        this.state = this.computeNext_0();
      return this.state === 0;
    };
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (!this.hasNext())
        throw NoSuchElementException_init();
      if (this.isChain) {
        tmp$ = this.chainOrEntry[this.itemIndex];
      }
       else {
        tmp$ = this.chainOrEntry;
      }
      var lastEntry = tmp$;
      this.lastEntry = lastEntry;
      this.state = -1;
      return lastEntry;
    };
    InternalHashCodeMap$iterator$ObjectLiteral.prototype.remove = function () {
      if (this.lastEntry == null) {
        var message = 'Required value was null.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.this$InternalHashCodeMap.remove_11rb$(ensureNotNull(this.lastEntry).key);
      this.lastEntry = null;
      this.itemIndex = this.itemIndex - 1 | 0;
    };
    InternalHashCodeMap$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MutableIterator]};
    InternalHashCodeMap.prototype.iterator = function () {
      return new InternalHashCodeMap$iterator$ObjectLiteral(this);
    };
    InternalHashCodeMap.prototype.getChainOrEntryOrNull_0 = function (hashCode) {
      var chainOrEntry = this.backingMap_0[hashCode];
      return chainOrEntry === undefined ? null : chainOrEntry;
    };
    InternalHashCodeMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'InternalHashCodeMap', interfaces: [InternalMap]};
    function InternalMap() {
    }
    InternalMap.prototype.createJsMap = function () {
      var result = Object.create(null);
      result['foo'] = 1;
      delete result['foo'];
      return result;
    };
    InternalMap.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'InternalMap', interfaces: [MutableIterable]};
    function InternalStringMap(equality) {
      this.equality_qma612$_0 = equality;
      this.backingMap_0 = this.createJsMap();
      this.size_6u3ykz$_0 = 0;
    }
    function LinkedHashMap() {
      this.head_1lr44l$_0 = null;
      this.map_97q5dv$_0 = null;
    }
    function LinkedHashMap$ChainEntry(key, value) {
      AbstractMutableMap$SimpleEntry.call(this, key, value);
      this.next_8be2vx$ = null;
      this.prev_8be2vx$ = null;
    }
    LinkedHashMap$ChainEntry.$metadata$ = {kind: Kind_CLASS, simpleName: 'ChainEntry', interfaces: [AbstractMutableMap$SimpleEntry]};
    function LinkedHashMap$EntrySet($outer) {
      this.$outer = $outer;
      AbstractMutableSet.call(this);
    }
    function LinkedHashMap$EntrySet$EntryIterator($outer) {
      this.$outer = $outer;
      this.last_0 = null;
      this.next_0 = null;
      this.next_0 = this.$outer.$outer.head_1lr44l$_0;
    }
    LinkedHashMap$EntrySet$EntryIterator.prototype.hasNext = function () {
      return this.next_0 !== null;
    };
    LinkedHashMap$EntrySet$EntryIterator.prototype.next = function () {
      if (!this.hasNext())
        throw NoSuchElementException_init();
      var current = ensureNotNull(this.next_0);
      this.last_0 = current;
      var $receiver = current.next_8be2vx$;
      this.$outer.$outer;
      this.next_0 = $receiver !== this.$outer.$outer.head_1lr44l$_0 ? $receiver : null;
      return current;
    };
    LinkedHashMap$EntrySet$EntryIterator.prototype.remove = function () {
      if (!(this.last_0 != null)) {
        var message = 'Check failed.';
        throw IllegalStateException_init_0(message.toString());
      }
      this.$outer.$outer.remove_aul5td$_0(ensureNotNull(this.last_0));
      this.$outer.$outer.map_97q5dv$_0.remove_11rb$(ensureNotNull(this.last_0).key);
      this.last_0 = null;
    };
    LinkedHashMap$EntrySet$EntryIterator.$metadata$ = {kind: Kind_CLASS, simpleName: 'EntryIterator', interfaces: [MutableIterator]};
    LinkedHashMap$EntrySet.prototype.add_11rb$ = function (element) {
      throw UnsupportedOperationException_init_0('Add is not supported on entries');
    };
    LinkedHashMap$EntrySet.prototype.clear = function () {
      this.$outer.clear();
    };
    LinkedHashMap$EntrySet.prototype.contains_11rb$ = function (element) {
      return this.$outer.containsEntry_8hxqw4$(element);
    };
    LinkedHashMap$EntrySet.prototype.iterator = function () {
      return new LinkedHashMap$EntrySet$EntryIterator(this);
    };
    LinkedHashMap$EntrySet.prototype.remove_11rb$ = function (element) {
      if (this.contains_11rb$(element)) {
        this.$outer.remove_11rb$(element.key);
        return true;
      }
      return false;
    };
    Object.defineProperty(LinkedHashMap$EntrySet.prototype, 'size', {get: function () {
      return this.$outer.size;
    }});
    LinkedHashMap$EntrySet.$metadata$ = {kind: Kind_CLASS, simpleName: 'EntrySet', interfaces: [AbstractMutableSet]};
    LinkedHashMap.prototype.addToEnd_ufg2hg$_0 = function ($receiver) {
      if (!($receiver.next_8be2vx$ == null && $receiver.prev_8be2vx$ == null)) {
        var message = 'Check failed.';
        throw IllegalStateException_init_0(message.toString());
      }
      var _head = this.head_1lr44l$_0;
      if (_head == null) {
        this.head_1lr44l$_0 = $receiver;
        $receiver.next_8be2vx$ = $receiver;
        $receiver.prev_8be2vx$ = $receiver;
      }
       else {
        var value = _head.prev_8be2vx$;
        var checkNotNull$result;
        if (value == null) {
          var message_0 = 'Required value was null.';
          throw IllegalStateException_init_0(message_0.toString());
        }
         else {
          checkNotNull$result = value;
        }
        var _tail = checkNotNull$result;
        $receiver.prev_8be2vx$ = _tail;
        $receiver.next_8be2vx$ = _head;
        _head.prev_8be2vx$ = $receiver;
        _tail.next_8be2vx$ = $receiver;
      }
    };
    LinkedHashMap.prototype.remove_aul5td$_0 = function ($receiver) {
      if ($receiver.next_8be2vx$ === $receiver) {
        this.head_1lr44l$_0 = null;
      }
       else {
        if (this.head_1lr44l$_0 === $receiver) {
          this.head_1lr44l$_0 = $receiver.next_8be2vx$;
        }
        ensureNotNull($receiver.next_8be2vx$).prev_8be2vx$ = $receiver.prev_8be2vx$;
        ensureNotNull($receiver.prev_8be2vx$).next_8be2vx$ = $receiver.next_8be2vx$;
      }
      $receiver.next_8be2vx$ = null;
      $receiver.prev_8be2vx$ = null;
    };
    LinkedHashMap.prototype.clear = function () {
      this.map_97q5dv$_0.clear();
      this.head_1lr44l$_0 = null;
    };
    LinkedHashMap.prototype.containsKey_11rb$ = function (key) {
      return this.map_97q5dv$_0.containsKey_11rb$(key);
    };
    LinkedHashMap.prototype.containsValue_11rc$ = function (value) {
      var tmp$;
      tmp$ = this.head_1lr44l$_0;
      if (tmp$ == null) {
        return false;
      }
      var node = tmp$;
      do {
        if (equals(node.value, value)) {
          return true;
        }
        node = ensureNotNull(node.next_8be2vx$);
      }
       while (node !== this.head_1lr44l$_0);
      return false;
    };
    LinkedHashMap.prototype.createEntrySet = function () {
      return new LinkedHashMap$EntrySet(this);
    };
    LinkedHashMap.prototype.get_11rb$ = function (key) {
      var tmp$;
      return (tmp$ = this.map_97q5dv$_0.get_11rb$(key)) != null ? tmp$.value : null;
    };
    LinkedHashMap.prototype.put_xwzc9p$ = function (key, value) {
      var old = this.map_97q5dv$_0.get_11rb$(key);
      if (old == null) {
        var newEntry = new LinkedHashMap$ChainEntry(key, value);
        this.map_97q5dv$_0.put_xwzc9p$(key, newEntry);
        this.addToEnd_ufg2hg$_0(newEntry);
        return null;
      }
       else {
        return old.setValue_11rc$(value);
      }
    };
    LinkedHashMap.prototype.remove_11rb$ = function (key) {
      var entry = this.map_97q5dv$_0.remove_11rb$(key);
      if (entry != null) {
        this.remove_aul5td$_0(entry);
        return entry.value;
      }
      return null;
    };
    Object.defineProperty(LinkedHashMap.prototype, 'size', {get: function () {
      return this.map_97q5dv$_0.size;
    }});
    LinkedHashMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashMap', interfaces: [HashMap, MutableMap]};
    function LinkedHashMap_init($this) {
      $this = $this || Object.create(LinkedHashMap.prototype);
      HashMap_init_0($this);
      LinkedHashMap.call($this);
      $this.map_97q5dv$_0 = HashMap_init_0();
      return $this;
    }
    function LinkedHashMap_init_1(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(LinkedHashMap.prototype);
      HashMap_init_1(initialCapacity, loadFactor, $this);
      LinkedHashMap.call($this);
      $this.map_97q5dv$_0 = HashMap_init_0();
      return $this;
    }
    function LinkedHashMap_init_2(initialCapacity, $this) {
      $this = $this || Object.create(LinkedHashMap.prototype);
      LinkedHashMap_init_1(initialCapacity, 0.0, $this);
      return $this;
    }
    function LinkedHashMap_init_3(original, $this) {
      $this = $this || Object.create(LinkedHashMap.prototype);
      HashMap_init_0($this);
      LinkedHashMap.call($this);
      $this.map_97q5dv$_0 = HashMap_init_0();
      $this.putAll_a2k3zr$(original);
      return $this;
    }
    function LinkedHashSet() {
    }
    LinkedHashSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashSet', interfaces: [HashSet, MutableSet]};
    function LinkedHashSet_init_0($this) {
      $this = $this || Object.create(LinkedHashSet.prototype);
      HashSet_init_3(LinkedHashMap_init(), $this);
      LinkedHashSet.call($this);
      return $this;
    }
    function LinkedHashSet_init_1(elements, $this) {
      $this = $this || Object.create(LinkedHashSet.prototype);
      HashSet_init_3(LinkedHashMap_init(), $this);
      LinkedHashSet.call($this);
      $this.addAll_brywnq$(elements);
      return $this;
    }
    function LinkedHashSet_init_2(initialCapacity, loadFactor, $this) {
      if (loadFactor === void 0)
        loadFactor = 0.0;
      $this = $this || Object.create(LinkedHashSet.prototype);
      HashSet_init_3(LinkedHashMap_init_1(initialCapacity, loadFactor), $this);
      LinkedHashSet.call($this);
      return $this;
    }
    function LinkedHashSet_init_3(initialCapacity, $this) {
      $this = $this || Object.create(LinkedHashSet.prototype);
      LinkedHashSet_init_2(initialCapacity, 0.0, $this);
      return $this;
    }
    function RandomAccess() {
    }
    RandomAccess.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'RandomAccess', interfaces: []};
    function BaseOutput() {
    }
    BaseOutput.prototype.println = function () {
      this.print_s8jyv4$('\n');
    };
    BaseOutput.prototype.println_s8jyv4$ = function (message) {
      this.print_s8jyv4$(message);
      this.println();
    };
    BaseOutput.prototype.flush = function () {
    };
    BaseOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'BaseOutput', interfaces: []};
    function NodeJsOutput(outputStream) {
      BaseOutput.call(this);
      this.outputStream = outputStream;
    }
    NodeJsOutput.prototype.print_s8jyv4$ = function (message) {
      var messageString = String(message);
      this.outputStream.write(messageString);
    };
    NodeJsOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'NodeJsOutput', interfaces: [BaseOutput]};
    function BufferedOutput() {
      BaseOutput.call(this);
      this.buffer = '';
    }
    BufferedOutput.prototype.print_s8jyv4$ = function (message) {
      this.buffer += String(message);
    };
    BufferedOutput.prototype.flush = function () {
      this.buffer = '';
    };
    BufferedOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'BufferedOutput', interfaces: [BaseOutput]};
    function BufferedOutputToConsoleLog() {
      BufferedOutput.call(this);
    }
    BufferedOutputToConsoleLog.prototype.print_s8jyv4$ = function (message) {
      var s = String(message);
      var i = lastIndexOf_15(s, 10);
      if (i >= 0) {
        this.buffer = this.buffer + s.substring(0, i);
        this.flush();
        s = s.substring(i + 1 | 0);
      }
      this.buffer = this.buffer + s;
    };
    BufferedOutputToConsoleLog.prototype.flush = function () {
      console.log(this.buffer);
      this.buffer = '';
    };
    BufferedOutputToConsoleLog.$metadata$ = {kind: Kind_CLASS, simpleName: 'BufferedOutputToConsoleLog', interfaces: [BufferedOutput]};
    var output;
    function println_0(message) {
      output.println_s8jyv4$(message);
    }
    function SafeContinuation(delegate, initialResult) {
      this.delegate_0 = delegate;
      this.result_0 = initialResult;
    }
    Object.defineProperty(SafeContinuation.prototype, 'context', {get: function () {
      return this.delegate_0.context;
    }});
    SafeContinuation.prototype.resumeWith_tl1gpc$ = function (result) {
      var cur = this.result_0;
      if (cur === CoroutineSingletons$UNDECIDED_getInstance())
        this.result_0 = result.value;
      else if (cur === get_COROUTINE_SUSPENDED()) {
        this.result_0 = CoroutineSingletons$RESUMED_getInstance();
        this.delegate_0.resumeWith_tl1gpc$(result);
      }
       else
        throw IllegalStateException_init_0('Already resumed');
    };
    SafeContinuation.prototype.getOrThrow = function () {
      var tmp$;
      if (this.result_0 === CoroutineSingletons$UNDECIDED_getInstance()) {
        this.result_0 = get_COROUTINE_SUSPENDED();
        return get_COROUTINE_SUSPENDED();
      }
      var result = this.result_0;
      if (result === CoroutineSingletons$RESUMED_getInstance())
        tmp$ = get_COROUTINE_SUSPENDED();
      else if (Kotlin.isType(result, Result$Failure))
        throw result.exception;
      else
        tmp$ = result;
      return tmp$;
    };
    SafeContinuation.$metadata$ = {kind: Kind_CLASS, simpleName: 'SafeContinuation', interfaces: [Continuation]};
    function SafeContinuation_init(delegate, $this) {
      $this = $this || Object.create(SafeContinuation.prototype);
      SafeContinuation.call($this, delegate, CoroutineSingletons$UNDECIDED_getInstance());
      return $this;
    }
    function Continuation$ObjectLiteral(closure$context, closure$resumeWith) {
      this.closure$context = closure$context;
      this.closure$resumeWith = closure$resumeWith;
    }
    Object.defineProperty(Continuation$ObjectLiteral.prototype, 'context', {get: function () {
      return this.closure$context;
    }});
    Continuation$ObjectLiteral.prototype.resumeWith_tl1gpc$ = function (result) {
      this.closure$resumeWith(result);
    };
    Continuation$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Continuation]};
    function EmptyContinuation$lambda(result) {
      var tmp$;
      throwOnFailure(result);
      (tmp$ = result.value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      return Unit;
    }
    var EmptyContinuation;
    function throwNPE(message) {
      throw new NullPointerException(message);
    }
    function throwCCE_0() {
      throw new ClassCastException('Illegal cast');
    }
    function throwISE(message) {
      throw IllegalStateException_init_0(message);
    }
    function throwUPAE(propertyName) {
      throw UninitializedPropertyAccessException_init_0('lateinit property ' + propertyName + ' has not been initialized');
    }
    function Error_0(message, cause) {
      Throwable.call(this);
      var tmp$;
      tmp$ = cause != null ? cause : null;
      this.message_q7r8iu$_0 = typeof message === 'undefined' && tmp$ != null ? Kotlin.toString(tmp$) : message;
      this.cause_us9j0c$_0 = tmp$;
      Kotlin.captureStack(Throwable, this);
      this.name = 'Error';
    }
    Object.defineProperty(Error_0.prototype, 'message', {get: function () {
      return this.message_q7r8iu$_0;
    }});
    Object.defineProperty(Error_0.prototype, 'cause', {get: function () {
      return this.cause_us9j0c$_0;
    }});
    Error_0.$metadata$ = {kind: Kind_CLASS, simpleName: 'Error', interfaces: [Throwable]};
    function Error_init_0(message, $this) {
      $this = $this || Object.create(Error_0.prototype);
      Error_0.call($this, message, null);
      get_js(getKClass(Error_0)).call($this, message, null);
      return $this;
    }
    function Exception(message, cause) {
      Throwable.call(this);
      var tmp$;
      tmp$ = cause != null ? cause : null;
      this.message_8yp7un$_0 = typeof message === 'undefined' && tmp$ != null ? Kotlin.toString(tmp$) : message;
      this.cause_th0jdv$_0 = tmp$;
      Kotlin.captureStack(Throwable, this);
      this.name = 'Exception';
    }
    Object.defineProperty(Exception.prototype, 'message', {get: function () {
      return this.message_8yp7un$_0;
    }});
    Object.defineProperty(Exception.prototype, 'cause', {get: function () {
      return this.cause_th0jdv$_0;
    }});
    Exception.$metadata$ = {kind: Kind_CLASS, simpleName: 'Exception', interfaces: [Throwable]};
    function Exception_init($this) {
      $this = $this || Object.create(Exception.prototype);
      Exception.call($this, null, null);
      get_js(getKClass(Exception)).call($this, null, null);
      return $this;
    }
    function RuntimeException(message, cause) {
      Exception.call(this, message, cause);
      this.name = 'RuntimeException';
    }
    RuntimeException.$metadata$ = {kind: Kind_CLASS, simpleName: 'RuntimeException', interfaces: [Exception]};
    function RuntimeException_init_0(message, $this) {
      $this = $this || Object.create(RuntimeException.prototype);
      RuntimeException.call($this, message, null);
      return $this;
    }
    function IllegalArgumentException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'IllegalArgumentException';
    }
    IllegalArgumentException.$metadata$ = {kind: Kind_CLASS, simpleName: 'IllegalArgumentException', interfaces: [RuntimeException]};
    function IllegalArgumentException_init_0(message, $this) {
      $this = $this || Object.create(IllegalArgumentException.prototype);
      IllegalArgumentException.call($this, message, null);
      return $this;
    }
    function IllegalStateException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'IllegalStateException';
    }
    IllegalStateException.$metadata$ = {kind: Kind_CLASS, simpleName: 'IllegalStateException', interfaces: [RuntimeException]};
    function IllegalStateException_init_0(message, $this) {
      $this = $this || Object.create(IllegalStateException.prototype);
      IllegalStateException.call($this, message, null);
      return $this;
    }
    function IndexOutOfBoundsException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'IndexOutOfBoundsException';
    }
    IndexOutOfBoundsException.$metadata$ = {kind: Kind_CLASS, simpleName: 'IndexOutOfBoundsException', interfaces: [RuntimeException]};
    function UnsupportedOperationException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'UnsupportedOperationException';
    }
    UnsupportedOperationException.$metadata$ = {kind: Kind_CLASS, simpleName: 'UnsupportedOperationException', interfaces: [RuntimeException]};
    function UnsupportedOperationException_init_0(message, $this) {
      $this = $this || Object.create(UnsupportedOperationException.prototype);
      UnsupportedOperationException.call($this, message, null);
      return $this;
    }
    function NumberFormatException(message) {
      IllegalArgumentException_init_0(message, this);
      this.name = 'NumberFormatException';
    }
    NumberFormatException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NumberFormatException', interfaces: [IllegalArgumentException]};
    function NullPointerException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'NullPointerException';
    }
    NullPointerException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NullPointerException', interfaces: [RuntimeException]};
    function ClassCastException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'ClassCastException';
    }
    ClassCastException.$metadata$ = {kind: Kind_CLASS, simpleName: 'ClassCastException', interfaces: [RuntimeException]};
    function NoSuchElementException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'NoSuchElementException';
    }
    NoSuchElementException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NoSuchElementException', interfaces: [RuntimeException]};
    function NoSuchElementException_init($this) {
      $this = $this || Object.create(NoSuchElementException.prototype);
      NoSuchElementException.call($this, null);
      return $this;
    }
    function ArithmeticException(message) {
      RuntimeException_init_0(message, this);
      this.name = 'ArithmeticException';
    }
    ArithmeticException.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArithmeticException', interfaces: [RuntimeException]};
    function NoWhenBranchMatchedException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'NoWhenBranchMatchedException';
    }
    NoWhenBranchMatchedException.$metadata$ = {kind: Kind_CLASS, simpleName: 'NoWhenBranchMatchedException', interfaces: [RuntimeException]};
    function NoWhenBranchMatchedException_init($this) {
      $this = $this || Object.create(NoWhenBranchMatchedException.prototype);
      NoWhenBranchMatchedException.call($this, null, null);
      return $this;
    }
    function UninitializedPropertyAccessException(message, cause) {
      RuntimeException.call(this, message, cause);
      this.name = 'UninitializedPropertyAccessException';
    }
    UninitializedPropertyAccessException.$metadata$ = {kind: Kind_CLASS, simpleName: 'UninitializedPropertyAccessException', interfaces: [RuntimeException]};
    function UninitializedPropertyAccessException_init_0(message, $this) {
      $this = $this || Object.create(UninitializedPropertyAccessException.prototype);
      UninitializedPropertyAccessException.call($this, message, null);
      return $this;
    }
    function Serializable() {
    }
    Serializable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Serializable', interfaces: []};
    function json(pairs) {
      var tmp$;
      var res = {};
      for (tmp$ = 0; tmp$ !== pairs.length; ++tmp$) {
        var tmp$_0 = pairs[tmp$];
        var name = tmp$_0.component1(), value = tmp$_0.component2();
        res[name] = value;
      }
      return res;
    }
    function round(x) {
      if (x % 0.5 !== 0.0) {
        return Math.round(x);
      }
      var floor = Math_0.floor(x);
      return floor % 2 === 0.0 ? floor : Math_0.ceil(x);
    }
    function isNaN_0($receiver) {
      return $receiver !== $receiver;
    }
    function isNaN_1($receiver) {
      return $receiver !== $receiver;
    }
    function isInfinite($receiver) {
      return $receiver === kotlin_js_internal_DoubleCompanionObject.POSITIVE_INFINITY || $receiver === kotlin_js_internal_DoubleCompanionObject.NEGATIVE_INFINITY;
    }
    function isInfinite_0($receiver) {
      return $receiver === kotlin_js_internal_FloatCompanionObject.POSITIVE_INFINITY || $receiver === kotlin_js_internal_FloatCompanionObject.NEGATIVE_INFINITY;
    }
    function isFinite($receiver) {
      return !isInfinite($receiver) && !isNaN_0($receiver);
    }
    function isFinite_0($receiver) {
      return !isInfinite_0($receiver) && !isNaN_1($receiver);
    }
    var INV_2_26;
    var INV_2_53;
    function get_js($receiver) {
      var tmp$;
      return (Kotlin.isType(tmp$ = $receiver, KClassImpl) ? tmp$ : throwCCE_0()).jClass;
    }
    function KClassImpl(jClass) {
      this.jClass_1ppatx$_0 = jClass;
    }
    Object.defineProperty(KClassImpl.prototype, 'jClass', {get: function () {
      return this.jClass_1ppatx$_0;
    }});
    Object.defineProperty(KClassImpl.prototype, 'annotations', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'constructors', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isAbstract', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isCompanion', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isData', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isFinal', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isInner', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isOpen', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'isSealed', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'members', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'nestedClasses', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'objectInstance', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'qualifiedName', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'supertypes', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'typeParameters', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'sealedSubclasses', {get: function () {
      throw new NotImplementedError();
    }});
    Object.defineProperty(KClassImpl.prototype, 'visibility', {get: function () {
      throw new NotImplementedError();
    }});
    KClassImpl.prototype.equals = function (other) {
      return Kotlin.isType(other, KClassImpl) && equals(this.jClass, other.jClass);
    };
    KClassImpl.prototype.hashCode = function () {
      var tmp$, tmp$_0;
      return (tmp$_0 = (tmp$ = this.simpleName) != null ? hashCode(tmp$) : null) != null ? tmp$_0 : 0;
    };
    KClassImpl.prototype.toString = function () {
      return 'class ' + toString(this.simpleName);
    };
    KClassImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'KClassImpl', interfaces: [KClass]};
    function SimpleKClassImpl(jClass) {
      KClassImpl.call(this, jClass);
      var tmp$;
      this.simpleName_m7mxi0$_0 = (tmp$ = jClass.$metadata$) != null ? tmp$.simpleName : null;
    }
    Object.defineProperty(SimpleKClassImpl.prototype, 'simpleName', {get: function () {
      return this.simpleName_m7mxi0$_0;
    }});
    SimpleKClassImpl.prototype.isInstance_s8jyv4$ = function (value) {
      var jsClass = this.jClass;
      return Kotlin.isType(value, jsClass);
    };
    SimpleKClassImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'SimpleKClassImpl', interfaces: [KClassImpl]};
    function PrimitiveKClassImpl(jClass, givenSimpleName, isInstanceFunction) {
      KClassImpl.call(this, jClass);
      this.givenSimpleName_0 = givenSimpleName;
      this.isInstanceFunction_0 = isInstanceFunction;
    }
    PrimitiveKClassImpl.prototype.equals = function (other) {
      if (!Kotlin.isType(other, PrimitiveKClassImpl))
        return false;
      return KClassImpl.prototype.equals.call(this, other) && equals(this.givenSimpleName_0, other.givenSimpleName_0);
    };
    Object.defineProperty(PrimitiveKClassImpl.prototype, 'simpleName', {get: function () {
      return this.givenSimpleName_0;
    }});
    PrimitiveKClassImpl.prototype.isInstance_s8jyv4$ = function (value) {
      return this.isInstanceFunction_0(value);
    };
    PrimitiveKClassImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'PrimitiveKClassImpl', interfaces: [KClassImpl]};
    function NothingKClassImpl() {
      NothingKClassImpl_instance = this;
      KClassImpl.call(this, Object);
      this.simpleName_lnzy73$_0 = 'Nothing';
    }
    Object.defineProperty(NothingKClassImpl.prototype, 'simpleName', {get: function () {
      return this.simpleName_lnzy73$_0;
    }});
    NothingKClassImpl.prototype.isInstance_s8jyv4$ = function (value) {
      return false;
    };
    Object.defineProperty(NothingKClassImpl.prototype, 'jClass', {get: function () {
      throw UnsupportedOperationException_init_0("There's no native JS class for Nothing type");
    }});
    NothingKClassImpl.prototype.equals = function (other) {
      return other === this;
    };
    NothingKClassImpl.prototype.hashCode = function () {
      return 0;
    };
    NothingKClassImpl.$metadata$ = {kind: Kind_OBJECT, simpleName: 'NothingKClassImpl', interfaces: [KClassImpl]};
    var NothingKClassImpl_instance = null;
    function NothingKClassImpl_getInstance() {
      if (NothingKClassImpl_instance === null) {
        new NothingKClassImpl();
      }
      return NothingKClassImpl_instance;
    }
    function PrimitiveClasses() {
      PrimitiveClasses_instance = this;
      this.anyClass = new PrimitiveKClassImpl(Object, 'Any', PrimitiveClasses$anyClass$lambda);
      this.numberClass = new PrimitiveKClassImpl(Number, 'Number', PrimitiveClasses$numberClass$lambda);
      this.nothingClass = NothingKClassImpl_getInstance();
      this.booleanClass = new PrimitiveKClassImpl(Boolean, 'Boolean', PrimitiveClasses$booleanClass$lambda);
      this.byteClass = new PrimitiveKClassImpl(Number, 'Byte', PrimitiveClasses$byteClass$lambda);
      this.shortClass = new PrimitiveKClassImpl(Number, 'Short', PrimitiveClasses$shortClass$lambda);
      this.intClass = new PrimitiveKClassImpl(Number, 'Int', PrimitiveClasses$intClass$lambda);
      this.floatClass = new PrimitiveKClassImpl(Number, 'Float', PrimitiveClasses$floatClass$lambda);
      this.doubleClass = new PrimitiveKClassImpl(Number, 'Double', PrimitiveClasses$doubleClass$lambda);
      this.arrayClass = new PrimitiveKClassImpl(Array, 'Array', PrimitiveClasses$arrayClass$lambda);
      this.stringClass = new PrimitiveKClassImpl(String, 'String', PrimitiveClasses$stringClass$lambda);
      this.throwableClass = new PrimitiveKClassImpl(Error, 'Throwable', PrimitiveClasses$throwableClass$lambda);
      this.booleanArrayClass = new PrimitiveKClassImpl(Array, 'BooleanArray', PrimitiveClasses$booleanArrayClass$lambda);
      this.charArrayClass = new PrimitiveKClassImpl(Uint16Array, 'CharArray', PrimitiveClasses$charArrayClass$lambda);
      this.byteArrayClass = new PrimitiveKClassImpl(Int8Array, 'ByteArray', PrimitiveClasses$byteArrayClass$lambda);
      this.shortArrayClass = new PrimitiveKClassImpl(Int16Array, 'ShortArray', PrimitiveClasses$shortArrayClass$lambda);
      this.intArrayClass = new PrimitiveKClassImpl(Int32Array, 'IntArray', PrimitiveClasses$intArrayClass$lambda);
      this.longArrayClass = new PrimitiveKClassImpl(Array, 'LongArray', PrimitiveClasses$longArrayClass$lambda);
      this.floatArrayClass = new PrimitiveKClassImpl(Float32Array, 'FloatArray', PrimitiveClasses$floatArrayClass$lambda);
      this.doubleArrayClass = new PrimitiveKClassImpl(Float64Array, 'DoubleArray', PrimitiveClasses$doubleArrayClass$lambda);
    }
    function PrimitiveClasses$functionClass$lambda$lambda(closure$arity) {
      return function (it) {
        return typeof it === 'function' && it.length === closure$arity;
      };
    }
    PrimitiveClasses.prototype.functionClass = function (arity) {
      var tmp$;
      var tmp$_0;
      if ((tmp$ = functionClasses[arity]) != null)
        tmp$_0 = tmp$;
      else {
        var result = new PrimitiveKClassImpl(Function, 'Function' + arity, PrimitiveClasses$functionClass$lambda$lambda(arity));
        functionClasses[arity] = result;
        tmp$_0 = result;
      }
      return tmp$_0;
    };
    function PrimitiveClasses$anyClass$lambda(it) {
      return Kotlin.isType(it, Any);
    }
    function PrimitiveClasses$numberClass$lambda(it) {
      return Kotlin.isNumber(it);
    }
    function PrimitiveClasses$booleanClass$lambda(it) {
      return typeof it === 'boolean';
    }
    function PrimitiveClasses$byteClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$shortClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$intClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$floatClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$doubleClass$lambda(it) {
      return typeof it === 'number';
    }
    function PrimitiveClasses$arrayClass$lambda(it) {
      return Kotlin.isArray(it);
    }
    function PrimitiveClasses$stringClass$lambda(it) {
      return typeof it === 'string';
    }
    function PrimitiveClasses$throwableClass$lambda(it) {
      return Kotlin.isType(it, Throwable);
    }
    function PrimitiveClasses$booleanArrayClass$lambda(it) {
      return Kotlin.isBooleanArray(it);
    }
    function PrimitiveClasses$charArrayClass$lambda(it) {
      return Kotlin.isCharArray(it);
    }
    function PrimitiveClasses$byteArrayClass$lambda(it) {
      return Kotlin.isByteArray(it);
    }
    function PrimitiveClasses$shortArrayClass$lambda(it) {
      return Kotlin.isShortArray(it);
    }
    function PrimitiveClasses$intArrayClass$lambda(it) {
      return Kotlin.isIntArray(it);
    }
    function PrimitiveClasses$longArrayClass$lambda(it) {
      return Kotlin.isLongArray(it);
    }
    function PrimitiveClasses$floatArrayClass$lambda(it) {
      return Kotlin.isFloatArray(it);
    }
    function PrimitiveClasses$doubleArrayClass$lambda(it) {
      return Kotlin.isDoubleArray(it);
    }
    PrimitiveClasses.$metadata$ = {kind: Kind_OBJECT, simpleName: 'PrimitiveClasses', interfaces: []};
    var PrimitiveClasses_instance = null;
    function PrimitiveClasses_getInstance() {
      if (PrimitiveClasses_instance === null) {
        new PrimitiveClasses();
      }
      return PrimitiveClasses_instance;
    }
    var functionClasses;
    function getKClass(jClass) {
      return getOrCreateKClass(jClass);
    }
    function getKClassFromExpression(e) {
      var tmp$;
      switch (typeof e) {
        case 'string':
          tmp$ = PrimitiveClasses_getInstance().stringClass;
          break;
        case 'number':
          tmp$ = (e | 0) === e ? PrimitiveClasses_getInstance().intClass : PrimitiveClasses_getInstance().doubleClass;
          break;
        case 'boolean':
          tmp$ = PrimitiveClasses_getInstance().booleanClass;
          break;
        case 'function':
          tmp$ = PrimitiveClasses_getInstance().functionClass(e.length);
          break;
        default:if (Kotlin.isBooleanArray(e))
            tmp$ = PrimitiveClasses_getInstance().booleanArrayClass;
          else if (Kotlin.isCharArray(e))
            tmp$ = PrimitiveClasses_getInstance().charArrayClass;
          else if (Kotlin.isByteArray(e))
            tmp$ = PrimitiveClasses_getInstance().byteArrayClass;
          else if (Kotlin.isShortArray(e))
            tmp$ = PrimitiveClasses_getInstance().shortArrayClass;
          else if (Kotlin.isIntArray(e))
            tmp$ = PrimitiveClasses_getInstance().intArrayClass;
          else if (Kotlin.isLongArray(e))
            tmp$ = PrimitiveClasses_getInstance().longArrayClass;
          else if (Kotlin.isFloatArray(e))
            tmp$ = PrimitiveClasses_getInstance().floatArrayClass;
          else if (Kotlin.isDoubleArray(e))
            tmp$ = PrimitiveClasses_getInstance().doubleArrayClass;
          else if (Kotlin.isType(e, KClass))
            tmp$ = getKClass(KClass);
          else if (Kotlin.isArray(e))
            tmp$ = PrimitiveClasses_getInstance().arrayClass;
          else {
            var constructor = Object.getPrototypeOf(e).constructor;
            if (constructor === Object)
              tmp$ = PrimitiveClasses_getInstance().anyClass;
            else if (constructor === Error)
              tmp$ = PrimitiveClasses_getInstance().throwableClass;
            else {
              var jsClass = constructor;
              tmp$ = getOrCreateKClass(jsClass);
            }
          }

          break;
      }
      return tmp$;
    }
    function getOrCreateKClass(jClass) {
      var tmp$;
      if (jClass === String) {
        return PrimitiveClasses_getInstance().stringClass;
      }
      var metadata = jClass.$metadata$;
      if (metadata != null) {
        if (metadata.$kClass$ == null) {
          var kClass = new SimpleKClassImpl(jClass);
          metadata.$kClass$ = kClass;
          tmp$ = kClass;
        }
         else {
          tmp$ = metadata.$kClass$;
        }
      }
       else {
        tmp$ = new SimpleKClassImpl(jClass);
      }
      return tmp$;
    }
    function reset($receiver) {
      $receiver.lastIndex = 0;
    }
    function isWhitespace($receiver) {
      return matches(String.fromCharCode($receiver), '[\\s\\xA0]');
    }
    function toBoolean($receiver) {
      return equals($receiver.toLowerCase(), 'true');
    }
    function toByte_0($receiver) {
      var tmp$;
      return (tmp$ = toByteOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toShort_0($receiver) {
      var tmp$;
      return (tmp$ = toShortOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toInt($receiver) {
      var tmp$;
      return (tmp$ = toIntOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toLong($receiver) {
      var tmp$;
      return (tmp$ = toLongOrNull($receiver)) != null ? tmp$ : numberFormatError($receiver);
    }
    function toDouble($receiver) {
      var $receiver_0 = +$receiver;
      if (isNaN_0($receiver_0) && !isNaN_2($receiver) || ($receiver_0 === 0.0 && isBlank($receiver)))
        numberFormatError($receiver);
      return $receiver_0;
    }
    function toDoubleOrNull($receiver) {
      var $receiver_0 = +$receiver;
      return !(isNaN_0($receiver_0) && !isNaN_2($receiver) || ($receiver_0 === 0.0 && isBlank($receiver))) ? $receiver_0 : null;
    }
    function isNaN_2($receiver) {
      switch ($receiver.toLowerCase()) {
        case 'nan':
        case '+nan':
        case '-nan':
          return true;
        default:return false;
      }
    }
    function checkRadix(radix) {
      if (!(2 <= radix && radix <= 36)) {
        throw IllegalArgumentException_init_0('radix ' + radix + ' was not in valid range 2..36');
      }
      return radix;
    }
    function digitOf(char, radix) {
      var tmp$;
      if (char >= 48 && char <= 57)
        tmp$ = char - 48;
      else if (char >= 65 && char <= 90)
        tmp$ = char - 65 + 10 | 0;
      else if (char >= 97 && char <= 122)
        tmp$ = char - 97 + 10 | 0;
      else
        tmp$ = -1;
      var it = tmp$;
      return it >= radix ? -1 : it;
    }
    function RegexOption(name, ordinal, value) {
      Enum.call(this);
      this.value = value;
      this.name$ = name;
      this.ordinal$ = ordinal;
    }
    function RegexOption_initFields() {
      RegexOption_initFields = function () {
      };
      RegexOption$IGNORE_CASE_instance = new RegexOption('IGNORE_CASE', 0, 'i');
      RegexOption$MULTILINE_instance = new RegexOption('MULTILINE', 1, 'm');
    }
    var RegexOption$IGNORE_CASE_instance;
    function RegexOption$IGNORE_CASE_getInstance() {
      RegexOption_initFields();
      return RegexOption$IGNORE_CASE_instance;
    }
    var RegexOption$MULTILINE_instance;
    function RegexOption$MULTILINE_getInstance() {
      RegexOption_initFields();
      return RegexOption$MULTILINE_instance;
    }
    RegexOption.$metadata$ = {kind: Kind_CLASS, simpleName: 'RegexOption', interfaces: [Enum]};
    function RegexOption$values() {
      return [RegexOption$IGNORE_CASE_getInstance(), RegexOption$MULTILINE_getInstance()];
    }
    RegexOption.values = RegexOption$values;
    function RegexOption$valueOf(name) {
      switch (name) {
        case 'IGNORE_CASE':
          return RegexOption$IGNORE_CASE_getInstance();
        case 'MULTILINE':
          return RegexOption$MULTILINE_getInstance();
        default:throwISE('No enum constant kotlin.text.RegexOption.' + name);
      }
    }
    RegexOption.valueOf_61zpoe$ = RegexOption$valueOf;
    function MatchGroup(value) {
      this.value = value;
    }
    MatchGroup.$metadata$ = {kind: Kind_CLASS, simpleName: 'MatchGroup', interfaces: []};
    MatchGroup.prototype.component1 = function () {
      return this.value;
    };
    MatchGroup.prototype.copy_61zpoe$ = function (value) {
      return new MatchGroup(value === void 0 ? this.value : value);
    };
    MatchGroup.prototype.toString = function () {
      return 'MatchGroup(value=' + Kotlin.toString(this.value) + ')';
    };
    MatchGroup.prototype.hashCode = function () {
      var result = 0;
      result = result * 31 + Kotlin.hashCode(this.value) | 0;
      return result;
    };
    MatchGroup.prototype.equals = function (other) {
      return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && Kotlin.equals(this.value, other.value))));
    };
    function Regex(pattern, options) {
      Regex$Companion_getInstance();
      this.pattern = pattern;
      this.options = toSet_8(options);
      var destination = ArrayList_init_0(collectionSizeOrDefault(options, 10));
      var tmp$;
      tmp$ = options.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item.value);
      }
      this.nativePattern_0 = new RegExp(pattern, joinToString_8(destination, '') + 'g');
    }
    Regex.prototype.matches_6bul2c$ = function (input) {
      reset(this.nativePattern_0);
      var match = this.nativePattern_0.exec(input.toString());
      return match != null && match.index === 0 && this.nativePattern_0.lastIndex === input.length;
    };
    Regex.prototype.containsMatchIn_6bul2c$ = function (input) {
      reset(this.nativePattern_0);
      return this.nativePattern_0.test(input.toString());
    };
    Regex.prototype.find_905azu$ = function (input, startIndex) {
      if (startIndex === void 0)
        startIndex = 0;
      return findNext(this.nativePattern_0, input.toString(), startIndex);
    };
    function Regex$findAll$lambda(closure$input, closure$startIndex, this$Regex) {
      return function () {
        return this$Regex.find_905azu$(closure$input, closure$startIndex);
      };
    }
    function Regex$findAll$lambda_0(match) {
      return match.next();
    }
    Regex.prototype.findAll_905azu$ = function (input, startIndex) {
      if (startIndex === void 0)
        startIndex = 0;
      return generateSequence_1(Regex$findAll$lambda(input, startIndex, this), Regex$findAll$lambda_0);
    };
    Regex.prototype.matchEntire_6bul2c$ = function (input) {
      if (startsWith_1(this.pattern, 94) && endsWith_0(this.pattern, 36))
        return this.find_905azu$(input);
      else
        return (new Regex('^' + trimEnd_2(trimStart_2(this.pattern, Kotlin.charArrayOf(94)), Kotlin.charArrayOf(36)) + '$', this.options)).find_905azu$(input);
    };
    Regex.prototype.replace_x2uqeu$ = function (input, replacement) {
      return input.toString().replace(this.nativePattern_0, replacement);
    };
    Regex.prototype.replace_20wsma$ = defineInlineFunction('kotlin.kotlin.text.Regex.replace_20wsma$', wrapFunction(function () {
      var StringBuilder_init = _.kotlin.text.StringBuilder_init_za3lpa$;
      var ensureNotNull = Kotlin.ensureNotNull;
      return function (input, transform) {
        var match = this.find_905azu$(input);
        if (match == null)
          return input.toString();
        var lastStart = 0;
        var length = input.length;
        var sb = StringBuilder_init(length);
        do {
          var foundMatch = ensureNotNull(match);
          sb.append_ezbsdh$(input, lastStart, foundMatch.range.start);
          sb.append_gw00v9$(transform(foundMatch));
          lastStart = foundMatch.range.endInclusive + 1 | 0;
          match = foundMatch.next();
        }
         while (lastStart < length && match != null);
        if (lastStart < length) {
          sb.append_ezbsdh$(input, lastStart, length);
        }
        return sb.toString();
      };
    }));
    Regex.prototype.replaceFirst_x2uqeu$ = function (input, replacement) {
      var $receiver = this.options;
      var destination = ArrayList_init_0(collectionSizeOrDefault($receiver, 10));
      var tmp$;
      tmp$ = $receiver.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(item.value);
      }
      var nonGlobalOptions = joinToString_8(destination, '');
      return input.toString().replace(new RegExp(this.pattern, nonGlobalOptions), replacement);
    };
    Regex.prototype.split_905azu$ = function (input, limit) {
      if (limit === void 0)
        limit = 0;
      var tmp$;
      if (!(limit >= 0)) {
        var message = 'Limit must be non-negative, but was ' + limit;
        throw IllegalArgumentException_init_0(message.toString());
      }
      var it = this.findAll_905azu$(input);
      var matches = limit === 0 ? it : take_9(it, limit - 1 | 0);
      var result = ArrayList_init();
      var lastStart = 0;
      tmp$ = matches.iterator();
      while (tmp$.hasNext()) {
        var match = tmp$.next();
        result.add_11rb$(Kotlin.subSequence(input, lastStart, match.range.start).toString());
        lastStart = match.range.endInclusive + 1 | 0;
      }
      result.add_11rb$(Kotlin.subSequence(input, lastStart, input.length).toString());
      return result;
    };
    Regex.prototype.toString = function () {
      return this.nativePattern_0.toString();
    };
    function Regex$Companion() {
      Regex$Companion_instance = this;
      this.patternEscape_0 = new RegExp('[-\\\\^$*+?.()|[\\]{}]', 'g');
      this.replacementEscape_0 = new RegExp('\\$', 'g');
    }
    Regex$Companion.prototype.fromLiteral_61zpoe$ = function (literal) {
      return Regex_init_0(this.escape_61zpoe$(literal));
    };
    Regex$Companion.prototype.escape_61zpoe$ = function (literal) {
      return literal.replace(this.patternEscape_0, '\\$&');
    };
    Regex$Companion.prototype.escapeReplacement_61zpoe$ = function (literal) {
      return literal.replace(this.replacementEscape_0, '$$$$');
    };
    Regex$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var Regex$Companion_instance = null;
    function Regex$Companion_getInstance() {
      if (Regex$Companion_instance === null) {
        new Regex$Companion();
      }
      return Regex$Companion_instance;
    }
    Regex.$metadata$ = {kind: Kind_CLASS, simpleName: 'Regex', interfaces: []};
    function Regex_init(pattern, option, $this) {
      $this = $this || Object.create(Regex.prototype);
      Regex.call($this, pattern, setOf(option));
      return $this;
    }
    function Regex_init_0(pattern, $this) {
      $this = $this || Object.create(Regex.prototype);
      Regex.call($this, pattern, emptySet());
      return $this;
    }
    function findNext$ObjectLiteral(closure$match, this$findNext, closure$input, closure$range) {
      this.closure$match = closure$match;
      this.this$findNext = this$findNext;
      this.closure$input = closure$input;
      this.closure$range = closure$range;
      this.range_co6b9w$_0 = closure$range;
      this.groups_qcaztb$_0 = new findNext$ObjectLiteral$groups$ObjectLiteral(closure$match);
      this.groupValues__0 = null;
    }
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'range', {get: function () {
      return this.range_co6b9w$_0;
    }});
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'value', {get: function () {
      return ensureNotNull(this.closure$match[0]);
    }});
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'groups', {get: function () {
      return this.groups_qcaztb$_0;
    }});
    function findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral(closure$match) {
      this.closure$match = closure$match;
      AbstractList.call(this);
    }
    Object.defineProperty(findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype, 'size', {get: function () {
      return this.closure$match.length;
    }});
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.prototype.get_za3lpa$ = function (index) {
      var tmp$;
      return (tmp$ = this.closure$match[index]) != null ? tmp$ : '';
    };
    findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractList]};
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'groupValues', {get: function () {
      if (this.groupValues__0 == null) {
        this.groupValues__0 = new findNext$ObjectLiteral$get_findNext$ObjectLiteral$groupValues$ObjectLiteral(this.closure$match);
      }
      return ensureNotNull(this.groupValues__0);
    }});
    findNext$ObjectLiteral.prototype.next = function () {
      return findNext(this.this$findNext, this.closure$input, this.closure$range.isEmpty() ? this.closure$range.start + 1 | 0 : this.closure$range.endInclusive + 1 | 0);
    };
    function findNext$ObjectLiteral$groups$ObjectLiteral(closure$match) {
      this.closure$match = closure$match;
      AbstractCollection.call(this);
    }
    Object.defineProperty(findNext$ObjectLiteral$groups$ObjectLiteral.prototype, 'size', {get: function () {
      return this.closure$match.length;
    }});
    function findNext$ObjectLiteral$groups$ObjectLiteral$iterator$lambda(this$) {
      return function (it) {
        return this$.get_za3lpa$(it);
      };
    }
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype.iterator = function () {
      return map_10(asSequence_8(get_indices_12(this)), findNext$ObjectLiteral$groups$ObjectLiteral$iterator$lambda(this)).iterator();
    };
    findNext$ObjectLiteral$groups$ObjectLiteral.prototype.get_za3lpa$ = function (index) {
      var tmp$;
      return (tmp$ = this.closure$match[index]) != null ? new MatchGroup(tmp$) : null;
    };
    findNext$ObjectLiteral$groups$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractCollection, MatchGroupCollection]};
    findNext$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [MatchResult]};
    function findNext($receiver, input, from) {
      $receiver.lastIndex = from;
      var match = $receiver.exec(input);
      if (match == null)
        return null;
      var range = new IntRange(match.index, $receiver.lastIndex - 1 | 0);
      return new findNext$ObjectLiteral(match, $receiver, input, range);
    }
    function Comparator$ObjectLiteral_0(closure$comparison) {
      this.closure$comparison = closure$comparison;
    }
    Comparator$ObjectLiteral_0.prototype.compare = function (a, b) {
      return this.closure$comparison(a, b);
    };
    Comparator$ObjectLiteral_0.$metadata$ = {kind: Kind_CLASS, interfaces: [Comparator]};
    function String_2(chars, offset, length) {
      var tmp$;
      if (offset < 0 || length < 0 || (chars.length - offset | 0) < length)
        throw new IndexOutOfBoundsException('size: ' + chars.length + '; offset: ' + offset + '; length: ' + length);
      var result = '';
      tmp$ = offset + length | 0;
      for (var index = offset; index < tmp$; index++) {
        result += String.fromCharCode(chars[index]);
      }
      return result;
    }
    function compareTo($receiver, other, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (ignoreCase) {
        var n1 = $receiver.length;
        var n2 = other.length;
        var min = Math_0.min(n1, n2);
        if (min === 0)
          return n1 - n2 | 0;
        var start = 0;
        while (true) {
          var end = Math_0.min(start + 16 | 0, min);
          var s1 = $receiver.substring(start, end);
          var s2 = other.substring(start, end);
          if (!equals(s1, s2)) {
            s1 = s1.toUpperCase();
            s2 = s2.toUpperCase();
            if (!equals(s1, s2)) {
              s1 = s1.toLowerCase();
              s2 = s2.toLowerCase();
              if (!equals(s1, s2)) {
                return Kotlin.compareTo(s1, s2);
              }
            }
          }
          if (end === min)
            break;
          start = end;
        }
        return n1 - n2 | 0;
      }
       else {
        return Kotlin.compareTo($receiver, other);
      }
    }
    function STRING_CASE_INSENSITIVE_ORDER$lambda(a, b) {
      return compareTo(a, b, true);
    }
    var STRING_CASE_INSENSITIVE_ORDER;
    function matches($receiver, regex) {
      var result = $receiver.match(regex);
      return result != null && result.length !== 0;
    }
    function isBlank($receiver) {
      return $receiver.length === 0 || matches(typeof $receiver === 'string' ? $receiver : $receiver.toString(), '^[\\s\\xA0]+$');
    }
    function equals_0($receiver, other, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      var tmp$;
      if ($receiver == null)
        tmp$ = other == null;
      else {
        var tmp$_0;
        if (!ignoreCase)
          tmp$_0 = equals($receiver, other);
        else {
          var tmp$_1 = other != null;
          if (tmp$_1) {
            tmp$_1 = equals($receiver.toLowerCase(), other.toLowerCase());
          }
          tmp$_0 = tmp$_1;
        }
        tmp$ = tmp$_0;
      }
      return tmp$;
    }
    function regionMatches($receiver, thisOffset, other, otherOffset, length, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return regionMatchesImpl($receiver, thisOffset, other, otherOffset, length, ignoreCase);
    }
    function replace($receiver, oldValue, newValue, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return $receiver.replace(new RegExp(Regex$Companion_getInstance().escape_61zpoe$(oldValue), ignoreCase ? 'gi' : 'g'), Regex$Companion_getInstance().escapeReplacement_61zpoe$(newValue));
    }
    function Appendable() {
    }
    Appendable.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Appendable', interfaces: []};
    function StringBuilder(content) {
      if (content === void 0)
        content = '';
      this.string_0 = content;
    }
    Object.defineProperty(StringBuilder.prototype, 'length', {get: function () {
      return this.string_0.length;
    }});
    StringBuilder.prototype.charCodeAt = function (index) {
      var $receiver = this.string_0;
      var tmp$;
      if (index >= 0 && index <= get_lastIndex_13($receiver))
        tmp$ = $receiver.charCodeAt(index);
      else {
        throw new IndexOutOfBoundsException('index: ' + index + ', length: ' + this.length + '}');
      }
      return tmp$;
    };
    StringBuilder.prototype.subSequence_vux9f0$ = function (startIndex, endIndex) {
      return this.string_0.substring(startIndex, endIndex);
    };
    StringBuilder.prototype.append_s8itvh$ = function (c) {
      this.string_0 += String.fromCharCode(c);
      return this;
    };
    StringBuilder.prototype.append_gw00v9$ = function (csq) {
      this.string_0 += toString(csq);
      return this;
    };
    StringBuilder.prototype.append_ezbsdh$ = function (csq, start, end) {
      this.string_0 += toString(csq).substring(start, end);
      return this;
    };
    StringBuilder.prototype.append_s8jyv4$ = function (obj) {
      this.string_0 += toString(obj);
      return this;
    };
    StringBuilder.prototype.reverse = function () {
      this.string_0 = this.string_0.split('').reverse().join('');
      return this;
    };
    StringBuilder.prototype.clear = function () {
      this.string_0 = '';
      return this;
    };
    StringBuilder.prototype.toString = function () {
      return this.string_0;
    };
    StringBuilder.$metadata$ = {kind: Kind_CLASS, simpleName: 'StringBuilder', interfaces: [CharSequence, Appendable]};
    function StringBuilder_init(capacity, $this) {
      $this = $this || Object.create(StringBuilder.prototype);
      StringBuilder_init_1($this);
      return $this;
    }
    function StringBuilder_init_1($this) {
      $this = $this || Object.create(StringBuilder.prototype);
      StringBuilder.call($this, '');
      return $this;
    }
    var MAX_BYTES_PER_CHAR;
    var REPLACEMENT_BYTE_SEQUENCE;
    var REPLACEMENT_CHAR;
    var DurationUnit$NANOSECONDS_instance;
    var DurationUnit$MICROSECONDS_instance;
    var DurationUnit$MILLISECONDS_instance;
    var DurationUnit$SECONDS_instance;
    var DurationUnit$MINUTES_instance;
    var DurationUnit$HOURS_instance;
    var DurationUnit$DAYS_instance;
    var MonoClock_instance = null;
    var DateNowClock_instance = null;
    var Experimental$Level$WARNING_instance;
    var Experimental$Level$ERROR_instance;
    function AbstractCollection() {
    }
    AbstractCollection.prototype.contains_11rb$ = function (element) {
      var any$result;
      any$break: do {
        var tmp$;
        if (Kotlin.isType(this, Collection) && this.isEmpty()) {
          any$result = false;
          break any$break;
        }
        tmp$ = this.iterator();
        while (tmp$.hasNext()) {
          var element_0 = tmp$.next();
          if (equals(element_0, element)) {
            any$result = true;
            break any$break;
          }
        }
        any$result = false;
      }
       while (false);
      return any$result;
    };
    AbstractCollection.prototype.containsAll_brywnq$ = function (elements) {
      var all$result;
      all$break: do {
        var tmp$;
        if (Kotlin.isType(elements, Collection) && elements.isEmpty()) {
          all$result = true;
          break all$break;
        }
        tmp$ = elements.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (!this.contains_11rb$(element)) {
            all$result = false;
            break all$break;
          }
        }
        all$result = true;
      }
       while (false);
      return all$result;
    };
    AbstractCollection.prototype.isEmpty = function () {
      return this.size === 0;
    };
    function AbstractCollection$toString$lambda(this$AbstractCollection) {
      return function (it) {
        return it === this$AbstractCollection ? '(this Collection)' : toString(it);
      };
    }
    AbstractCollection.prototype.toString = function () {
      return joinToString_8(this, ', ', '[', ']', void 0, void 0, AbstractCollection$toString$lambda(this));
    };
    AbstractCollection.prototype.toArray = function () {
      return copyToArrayImpl(this);
    };
    AbstractCollection.prototype.toArray_ro6dgy$ = function (array) {
      return copyToArrayImpl_0(this, array);
    };
    AbstractCollection.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractCollection', interfaces: [Collection]};
    var State$Ready_instance;
    var State$NotReady_instance;
    var State$Done_instance;
    var State$Failed_instance;
    function AbstractList() {
      AbstractList$Companion_getInstance();
      AbstractCollection.call(this);
    }
    AbstractList.prototype.iterator = function () {
      return new AbstractList$IteratorImpl(this);
    };
    AbstractList.prototype.indexOf_11rb$ = function (element) {
      var indexOfFirst$result;
      indexOfFirst$break: do {
        var tmp$;
        var index = 0;
        tmp$ = this.iterator();
        while (tmp$.hasNext()) {
          var item = tmp$.next();
          if (equals(item, element)) {
            indexOfFirst$result = index;
            break indexOfFirst$break;
          }
          index = index + 1 | 0;
        }
        indexOfFirst$result = -1;
      }
       while (false);
      return indexOfFirst$result;
    };
    AbstractList.prototype.lastIndexOf_11rb$ = function (element) {
      var indexOfLast$result;
      indexOfLast$break: do {
        var iterator = this.listIterator_za3lpa$(this.size);
        while (iterator.hasPrevious()) {
          if (equals(iterator.previous(), element)) {
            indexOfLast$result = iterator.nextIndex();
            break indexOfLast$break;
          }
        }
        indexOfLast$result = -1;
      }
       while (false);
      return indexOfLast$result;
    };
    AbstractList.prototype.listIterator = function () {
      return new AbstractList$ListIteratorImpl(this, 0);
    };
    AbstractList.prototype.listIterator_za3lpa$ = function (index) {
      return new AbstractList$ListIteratorImpl(this, index);
    };
    AbstractList.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
      return new AbstractList$SubList(this, fromIndex, toIndex);
    };
    function AbstractList$SubList(list, fromIndex, toIndex) {
      AbstractList.call(this);
      this.list_0 = list;
      this.fromIndex_0 = fromIndex;
      this._size_0 = 0;
      AbstractList$Companion_getInstance().checkRangeIndexes_cub51b$(this.fromIndex_0, toIndex, this.list_0.size);
      this._size_0 = toIndex - this.fromIndex_0 | 0;
    }
    AbstractList$SubList.prototype.get_za3lpa$ = function (index) {
      AbstractList$Companion_getInstance().checkElementIndex_6xvm5r$(index, this._size_0);
      return this.list_0.get_za3lpa$(this.fromIndex_0 + index | 0);
    };
    Object.defineProperty(AbstractList$SubList.prototype, 'size', {get: function () {
      return this._size_0;
    }});
    AbstractList$SubList.$metadata$ = {kind: Kind_CLASS, simpleName: 'SubList', interfaces: [RandomAccess, AbstractList]};
    AbstractList.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, List))
        return false;
      return AbstractList$Companion_getInstance().orderedEquals_e92ka7$(this, other);
    };
    AbstractList.prototype.hashCode = function () {
      return AbstractList$Companion_getInstance().orderedHashCode_nykoif$(this);
    };
    function AbstractList$IteratorImpl($outer) {
      this.$outer = $outer;
      this.index_0 = 0;
    }
    AbstractList$IteratorImpl.prototype.hasNext = function () {
      return this.index_0 < this.$outer.size;
    };
    AbstractList$IteratorImpl.prototype.next = function () {
      var tmp$, tmp$_0;
      if (!this.hasNext())
        throw NoSuchElementException_init();
      tmp$_0 = (tmp$ = this.index_0, this.index_0 = tmp$ + 1 | 0, tmp$);
      return this.$outer.get_za3lpa$(tmp$_0);
    };
    AbstractList$IteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'IteratorImpl', interfaces: [Iterator]};
    function AbstractList$ListIteratorImpl($outer, index) {
      this.$outer = $outer;
      AbstractList$IteratorImpl.call(this, this.$outer);
      AbstractList$Companion_getInstance().checkPositionIndex_6xvm5r$(index, this.$outer.size);
      this.index_0 = index;
    }
    AbstractList$ListIteratorImpl.prototype.hasPrevious = function () {
      return this.index_0 > 0;
    };
    AbstractList$ListIteratorImpl.prototype.nextIndex = function () {
      return this.index_0;
    };
    AbstractList$ListIteratorImpl.prototype.previous = function () {
      if (!this.hasPrevious())
        throw NoSuchElementException_init();
      return this.$outer.get_za3lpa$((this.index_0 = this.index_0 - 1 | 0, this.index_0));
    };
    AbstractList$ListIteratorImpl.prototype.previousIndex = function () {
      return this.index_0 - 1 | 0;
    };
    AbstractList$ListIteratorImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListIteratorImpl', interfaces: [ListIterator, AbstractList$IteratorImpl]};
    function AbstractList$Companion() {
      AbstractList$Companion_instance = this;
    }
    AbstractList$Companion.prototype.checkElementIndex_6xvm5r$ = function (index, size) {
      if (index < 0 || index >= size) {
        throw new IndexOutOfBoundsException('index: ' + index + ', size: ' + size);
      }
    };
    AbstractList$Companion.prototype.checkPositionIndex_6xvm5r$ = function (index, size) {
      if (index < 0 || index > size) {
        throw new IndexOutOfBoundsException('index: ' + index + ', size: ' + size);
      }
    };
    AbstractList$Companion.prototype.checkRangeIndexes_cub51b$ = function (fromIndex, toIndex, size) {
      if (fromIndex < 0 || toIndex > size) {
        throw new IndexOutOfBoundsException('fromIndex: ' + fromIndex + ', toIndex: ' + toIndex + ', size: ' + size);
      }
      if (fromIndex > toIndex) {
        throw IllegalArgumentException_init_0('fromIndex: ' + fromIndex + ' > toIndex: ' + toIndex);
      }
    };
    AbstractList$Companion.prototype.checkBoundsIndexes_cub51b$ = function (startIndex, endIndex, size) {
      if (startIndex < 0 || endIndex > size) {
        throw new IndexOutOfBoundsException('startIndex: ' + startIndex + ', endIndex: ' + endIndex + ', size: ' + size);
      }
      if (startIndex > endIndex) {
        throw IllegalArgumentException_init_0('startIndex: ' + startIndex + ' > endIndex: ' + endIndex);
      }
    };
    AbstractList$Companion.prototype.orderedHashCode_nykoif$ = function (c) {
      var tmp$, tmp$_0;
      var hashCode_0 = 1;
      tmp$ = c.iterator();
      while (tmp$.hasNext()) {
        var e = tmp$.next();
        hashCode_0 = (31 * hashCode_0 | 0) + ((tmp$_0 = e != null ? hashCode(e) : null) != null ? tmp$_0 : 0) | 0;
      }
      return hashCode_0;
    };
    AbstractList$Companion.prototype.orderedEquals_e92ka7$ = function (c, other) {
      var tmp$;
      if (c.size !== other.size)
        return false;
      var otherIterator = other.iterator();
      tmp$ = c.iterator();
      while (tmp$.hasNext()) {
        var elem = tmp$.next();
        var elemOther = otherIterator.next();
        if (!equals(elem, elemOther)) {
          return false;
        }
      }
      return true;
    };
    AbstractList$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var AbstractList$Companion_instance = null;
    function AbstractList$Companion_getInstance() {
      if (AbstractList$Companion_instance === null) {
        new AbstractList$Companion();
      }
      return AbstractList$Companion_instance;
    }
    AbstractList.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractList', interfaces: [List, AbstractCollection]};
    function AbstractMap() {
      AbstractMap$Companion_getInstance();
      this._keys_up5z3z$_0 = null;
      this._values_6nw1f1$_0 = null;
    }
    AbstractMap.prototype.containsKey_11rb$ = function (key) {
      return this.implFindEntry_8k1i24$_0(key) != null;
    };
    AbstractMap.prototype.containsValue_11rc$ = function (value) {
      var $receiver = this.entries;
      var any$result;
      any$break: do {
        var tmp$;
        if (Kotlin.isType($receiver, Collection) && $receiver.isEmpty()) {
          any$result = false;
          break any$break;
        }
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (equals(element.value, value)) {
            any$result = true;
            break any$break;
          }
        }
        any$result = false;
      }
       while (false);
      return any$result;
    };
    AbstractMap.prototype.containsEntry_8hxqw4$ = function (entry) {
      if (!Kotlin.isType(entry, Map$Entry))
        return false;
      var key = entry.key;
      var value = entry.value;
      var tmp$;
      var ourValue = (Kotlin.isType(tmp$ = this, Map) ? tmp$ : throwCCE()).get_11rb$(key);
      if (!equals(value, ourValue)) {
        return false;
      }
      var tmp$_0 = ourValue == null;
      if (tmp$_0) {
        var tmp$_1;
        tmp$_0 = !(Kotlin.isType(tmp$_1 = this, Map) ? tmp$_1 : throwCCE()).containsKey_11rb$(key);
      }
      if (tmp$_0) {
        return false;
      }
      return true;
    };
    AbstractMap.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, Map))
        return false;
      if (this.size !== other.size)
        return false;
      var $receiver = other.entries;
      var all$result;
      all$break: do {
        var tmp$;
        if (Kotlin.isType($receiver, Collection) && $receiver.isEmpty()) {
          all$result = true;
          break all$break;
        }
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (!this.containsEntry_8hxqw4$(element)) {
            all$result = false;
            break all$break;
          }
        }
        all$result = true;
      }
       while (false);
      return all$result;
    };
    AbstractMap.prototype.get_11rb$ = function (key) {
      var tmp$;
      return (tmp$ = this.implFindEntry_8k1i24$_0(key)) != null ? tmp$.value : null;
    };
    AbstractMap.prototype.hashCode = function () {
      return hashCode(this.entries);
    };
    AbstractMap.prototype.isEmpty = function () {
      return this.size === 0;
    };
    Object.defineProperty(AbstractMap.prototype, 'size', {get: function () {
      return this.entries.size;
    }});
    function AbstractMap$get_AbstractMap$keys$ObjectLiteral(this$AbstractMap) {
      this.this$AbstractMap = this$AbstractMap;
      AbstractSet.call(this);
    }
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMap.containsKey_11rb$(element);
    };
    function AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().key;
    };
    AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMap.entries.iterator();
      return new AbstractMap$get_AbstractMap$keys$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    Object.defineProperty(AbstractMap$get_AbstractMap$keys$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMap.size;
    }});
    AbstractMap$get_AbstractMap$keys$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractSet]};
    Object.defineProperty(AbstractMap.prototype, 'keys', {get: function () {
      if (this._keys_up5z3z$_0 == null) {
        this._keys_up5z3z$_0 = new AbstractMap$get_AbstractMap$keys$ObjectLiteral(this);
      }
      return ensureNotNull(this._keys_up5z3z$_0);
    }});
    function AbstractMap$toString$lambda(this$AbstractMap) {
      return function (it) {
        return this$AbstractMap.toString_55he67$_0(it);
      };
    }
    AbstractMap.prototype.toString = function () {
      return joinToString_8(this.entries, ', ', '{', '}', void 0, void 0, AbstractMap$toString$lambda(this));
    };
    AbstractMap.prototype.toString_55he67$_0 = function (entry) {
      return this.toString_kthv8s$_0(entry.key) + '=' + this.toString_kthv8s$_0(entry.value);
    };
    AbstractMap.prototype.toString_kthv8s$_0 = function (o) {
      return o === this ? '(this Map)' : toString(o);
    };
    function AbstractMap$get_AbstractMap$values$ObjectLiteral(this$AbstractMap) {
      this.this$AbstractMap = this$AbstractMap;
      AbstractCollection.call(this);
    }
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype.contains_11rb$ = function (element) {
      return this.this$AbstractMap.containsValue_11rc$(element);
    };
    function AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral(closure$entryIterator) {
      this.closure$entryIterator = closure$entryIterator;
    }
    AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.closure$entryIterator.hasNext();
    };
    AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral.prototype.next = function () {
      return this.closure$entryIterator.next().value;
    };
    AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype.iterator = function () {
      var entryIterator = this.this$AbstractMap.entries.iterator();
      return new AbstractMap$get_AbstractMap$values$ObjectLiteral$iterator$ObjectLiteral(entryIterator);
    };
    Object.defineProperty(AbstractMap$get_AbstractMap$values$ObjectLiteral.prototype, 'size', {get: function () {
      return this.this$AbstractMap.size;
    }});
    AbstractMap$get_AbstractMap$values$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [AbstractCollection]};
    Object.defineProperty(AbstractMap.prototype, 'values', {get: function () {
      if (this._values_6nw1f1$_0 == null) {
        this._values_6nw1f1$_0 = new AbstractMap$get_AbstractMap$values$ObjectLiteral(this);
      }
      return ensureNotNull(this._values_6nw1f1$_0);
    }});
    AbstractMap.prototype.implFindEntry_8k1i24$_0 = function (key) {
      var $receiver = this.entries;
      var firstOrNull$result;
      firstOrNull$break: do {
        var tmp$;
        tmp$ = $receiver.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (equals(element.key, key)) {
            firstOrNull$result = element;
            break firstOrNull$break;
          }
        }
        firstOrNull$result = null;
      }
       while (false);
      return firstOrNull$result;
    };
    function AbstractMap$Companion() {
      AbstractMap$Companion_instance = this;
    }
    AbstractMap$Companion.prototype.entryHashCode_9fthdn$ = function (e) {
      var tmp$, tmp$_0, tmp$_1, tmp$_2;
      return ((tmp$_0 = (tmp$ = e.key) != null ? hashCode(tmp$) : null) != null ? tmp$_0 : 0) ^ ((tmp$_2 = (tmp$_1 = e.value) != null ? hashCode(tmp$_1) : null) != null ? tmp$_2 : 0);
    };
    AbstractMap$Companion.prototype.entryToString_9fthdn$ = function (e) {
      return toString(e.key) + '=' + toString(e.value);
    };
    AbstractMap$Companion.prototype.entryEquals_js7fox$ = function (e, other) {
      if (!Kotlin.isType(other, Map$Entry))
        return false;
      return equals(e.key, other.key) && equals(e.value, other.value);
    };
    AbstractMap$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var AbstractMap$Companion_instance = null;
    function AbstractMap$Companion_getInstance() {
      if (AbstractMap$Companion_instance === null) {
        new AbstractMap$Companion();
      }
      return AbstractMap$Companion_instance;
    }
    AbstractMap.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractMap', interfaces: [Map]};
    function AbstractSet() {
      AbstractSet$Companion_getInstance();
      AbstractCollection.call(this);
    }
    AbstractSet.prototype.equals = function (other) {
      if (other === this)
        return true;
      if (!Kotlin.isType(other, Set))
        return false;
      return AbstractSet$Companion_getInstance().setEquals_y8f7en$(this, other);
    };
    AbstractSet.prototype.hashCode = function () {
      return AbstractSet$Companion_getInstance().unorderedHashCode_nykoif$(this);
    };
    function AbstractSet$Companion() {
      AbstractSet$Companion_instance = this;
    }
    AbstractSet$Companion.prototype.unorderedHashCode_nykoif$ = function (c) {
      var tmp$;
      var hashCode_0 = 0;
      tmp$ = c.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        var tmp$_0;
        hashCode_0 = hashCode_0 + ((tmp$_0 = element != null ? hashCode(element) : null) != null ? tmp$_0 : 0) | 0;
      }
      return hashCode_0;
    };
    AbstractSet$Companion.prototype.setEquals_y8f7en$ = function (c, other) {
      if (c.size !== other.size)
        return false;
      return c.containsAll_brywnq$(other);
    };
    AbstractSet$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var AbstractSet$Companion_instance = null;
    function AbstractSet$Companion_getInstance() {
      if (AbstractSet$Companion_instance === null) {
        new AbstractSet$Companion();
      }
      return AbstractSet$Companion_instance;
    }
    AbstractSet.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractSet', interfaces: [Set, AbstractCollection]};
    function EmptyIterator() {
      EmptyIterator_instance = this;
    }
    EmptyIterator.prototype.hasNext = function () {
      return false;
    };
    EmptyIterator.prototype.hasPrevious = function () {
      return false;
    };
    EmptyIterator.prototype.nextIndex = function () {
      return 0;
    };
    EmptyIterator.prototype.previousIndex = function () {
      return -1;
    };
    EmptyIterator.prototype.next = function () {
      throw NoSuchElementException_init();
    };
    EmptyIterator.prototype.previous = function () {
      throw NoSuchElementException_init();
    };
    EmptyIterator.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyIterator', interfaces: [ListIterator]};
    var EmptyIterator_instance = null;
    function EmptyIterator_getInstance() {
      if (EmptyIterator_instance === null) {
        new EmptyIterator();
      }
      return EmptyIterator_instance;
    }
    function EmptyList() {
      EmptyList_instance = this;
      this.serialVersionUID_0 = L_7390468764508069838;
    }
    EmptyList.prototype.equals = function (other) {
      return Kotlin.isType(other, List) && other.isEmpty();
    };
    EmptyList.prototype.hashCode = function () {
      return 1;
    };
    EmptyList.prototype.toString = function () {
      return '[]';
    };
    Object.defineProperty(EmptyList.prototype, 'size', {get: function () {
      return 0;
    }});
    EmptyList.prototype.isEmpty = function () {
      return true;
    };
    EmptyList.prototype.contains_11rb$ = function (element) {
      return false;
    };
    EmptyList.prototype.containsAll_brywnq$ = function (elements) {
      return elements.isEmpty();
    };
    EmptyList.prototype.get_za3lpa$ = function (index) {
      throw new IndexOutOfBoundsException("Empty list doesn't contain element at index " + index + '.');
    };
    EmptyList.prototype.indexOf_11rb$ = function (element) {
      return -1;
    };
    EmptyList.prototype.lastIndexOf_11rb$ = function (element) {
      return -1;
    };
    EmptyList.prototype.iterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptyList.prototype.listIterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptyList.prototype.listIterator_za3lpa$ = function (index) {
      if (index !== 0)
        throw new IndexOutOfBoundsException('Index: ' + index);
      return EmptyIterator_getInstance();
    };
    EmptyList.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
      if (fromIndex === 0 && toIndex === 0)
        return this;
      throw new IndexOutOfBoundsException('fromIndex: ' + fromIndex + ', toIndex: ' + toIndex);
    };
    EmptyList.prototype.readResolve_0 = function () {
      return EmptyList_getInstance();
    };
    EmptyList.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyList', interfaces: [RandomAccess, Serializable, List]};
    var EmptyList_instance = null;
    function EmptyList_getInstance() {
      if (EmptyList_instance === null) {
        new EmptyList();
      }
      return EmptyList_instance;
    }
    function asCollection($receiver) {
      return new ArrayAsCollection($receiver, false);
    }
    function ArrayAsCollection(values, isVarargs) {
      this.values = values;
      this.isVarargs = isVarargs;
    }
    Object.defineProperty(ArrayAsCollection.prototype, 'size', {get: function () {
      return this.values.length;
    }});
    ArrayAsCollection.prototype.isEmpty = function () {
      return this.values.length === 0;
    };
    ArrayAsCollection.prototype.contains_11rb$ = function (element) {
      return contains(this.values, element);
    };
    ArrayAsCollection.prototype.containsAll_brywnq$ = function (elements) {
      var all$result;
      all$break: do {
        var tmp$;
        if (Kotlin.isType(elements, Collection) && elements.isEmpty()) {
          all$result = true;
          break all$break;
        }
        tmp$ = elements.iterator();
        while (tmp$.hasNext()) {
          var element = tmp$.next();
          if (!this.contains_11rb$(element)) {
            all$result = false;
            break all$break;
          }
        }
        all$result = true;
      }
       while (false);
      return all$result;
    };
    ArrayAsCollection.prototype.iterator = function () {
      return Kotlin.arrayIterator(this.values);
    };
    ArrayAsCollection.prototype.toArray = function () {
      var $receiver = this.values;
      return this.isVarargs ? $receiver : $receiver.slice();
    };
    ArrayAsCollection.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayAsCollection', interfaces: [Collection]};
    function emptyList() {
      return EmptyList_getInstance();
    }
    function listOf_0(elements) {
      return elements.length > 0 ? asList(elements) : emptyList();
    }
    function mutableListOf_0(elements) {
      return elements.length === 0 ? ArrayList_init() : ArrayList_init_1(new ArrayAsCollection(elements, true));
    }
    function arrayListOf_0(elements) {
      return elements.length === 0 ? ArrayList_init() : ArrayList_init_1(new ArrayAsCollection(elements, true));
    }
    function get_indices_12($receiver) {
      return new IntRange(0, $receiver.size - 1 | 0);
    }
    function get_lastIndex_12($receiver) {
      return $receiver.size - 1 | 0;
    }
    function optimizeReadOnlyList($receiver) {
      switch ($receiver.size) {
        case 0:
          return emptyList();
        case 1:
          return listOf($receiver.get_za3lpa$(0));
        default:return $receiver;
      }
    }
    function throwIndexOverflow() {
      throw new ArithmeticException('Index overflow has happened.');
    }
    function collectionSizeOrDefault($receiver, default_0) {
      return Kotlin.isType($receiver, Collection) ? $receiver.size : default_0;
    }
    function getOrImplicitDefault($receiver, key) {
      if (Kotlin.isType($receiver, MapWithDefault))
        return $receiver.getOrImplicitDefault_11rb$(key);
      var getOrElseNullable$result;
      var tmp$;
      var value = $receiver.get_11rb$(key);
      if (value == null && !$receiver.containsKey_11rb$(key)) {
        throw new NoSuchElementException('Key ' + key + ' is missing in the map.');
      }
       else {
        getOrElseNullable$result = (tmp$ = value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      }
      return getOrElseNullable$result;
    }
    function MapWithDefault() {
    }
    MapWithDefault.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MapWithDefault', interfaces: [Map]};
    function MutableMapWithDefault() {
    }
    function MapWithDefaultImpl(map, default_0) {
      this.map_tyjeqh$_0 = map;
      this.default_0 = default_0;
    }
    function MutableMapWithDefaultImpl(map, default_0) {
      this.map_a09uzx$_0 = map;
      this.default_0 = default_0;
    }
    function EmptyMap() {
      EmptyMap_instance = this;
      this.serialVersionUID_0 = L8246714829545688274;
    }
    EmptyMap.prototype.equals = function (other) {
      return Kotlin.isType(other, Map) && other.isEmpty();
    };
    EmptyMap.prototype.hashCode = function () {
      return 0;
    };
    EmptyMap.prototype.toString = function () {
      return '{}';
    };
    Object.defineProperty(EmptyMap.prototype, 'size', {get: function () {
      return 0;
    }});
    EmptyMap.prototype.isEmpty = function () {
      return true;
    };
    EmptyMap.prototype.containsKey_11rb$ = function (key) {
      return false;
    };
    EmptyMap.prototype.containsValue_11rc$ = function (value) {
      return false;
    };
    EmptyMap.prototype.get_11rb$ = function (key) {
      return null;
    };
    Object.defineProperty(EmptyMap.prototype, 'entries', {get: function () {
      return EmptySet_getInstance();
    }});
    Object.defineProperty(EmptyMap.prototype, 'keys', {get: function () {
      return EmptySet_getInstance();
    }});
    Object.defineProperty(EmptyMap.prototype, 'values', {get: function () {
      return EmptyList_getInstance();
    }});
    EmptyMap.prototype.readResolve_0 = function () {
      return EmptyMap_getInstance();
    };
    EmptyMap.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyMap', interfaces: [Serializable, Map]};
    var EmptyMap_instance = null;
    function EmptyMap_getInstance() {
      if (EmptyMap_instance === null) {
        new EmptyMap();
      }
      return EmptyMap_instance;
    }
    function emptyMap() {
      var tmp$;
      return Kotlin.isType(tmp$ = EmptyMap_getInstance(), Map) ? tmp$ : throwCCE_0();
    }
    function mapOf_0(pairs) {
      return pairs.length > 0 ? toMap_2(pairs, LinkedHashMap_init_2(mapCapacity(pairs.length))) : emptyMap();
    }
    function mutableMapOf_0(pairs) {
      var $receiver = LinkedHashMap_init_2(mapCapacity(pairs.length));
      putAll($receiver, pairs);
      return $receiver;
    }
    function mapCapacity(expectedSize) {
      if (expectedSize < 3) {
        return expectedSize + 1 | 0;
      }
      if (expectedSize < 1073741824) {
        return expectedSize + (expectedSize / 3 | 0) | 0;
      }
      return 2147483647;
    }
    var INT_MAX_POWER_OF_TWO;
    function getValue_2($receiver, key) {
      return getOrImplicitDefault($receiver, key);
    }
    function putAll($receiver, pairs) {
      var tmp$;
      for (tmp$ = 0; tmp$ !== pairs.length; ++tmp$) {
        var tmp$_0 = pairs[tmp$];
        var key = tmp$_0.component1(), value = tmp$_0.component2();
        $receiver.put_xwzc9p$(key, value);
      }
    }
    function toMap_2($receiver, destination) {
      putAll(destination, $receiver);
      return destination;
    }
    function addAll_1($receiver, elements) {
      return $receiver.addAll_brywnq$(asList(elements));
    }
    function removeAll_0($receiver, predicate) {
      return filterInPlace($receiver, predicate, true);
    }
    function filterInPlace($receiver, predicate, predicateResultToRemove) {
      var result = {v: false};
      var $receiver_0 = $receiver.iterator();
      while ($receiver_0.hasNext())
        if (predicate($receiver_0.next()) === predicateResultToRemove) {
          $receiver_0.remove();
          result.v = true;
        }
      return result.v;
    }
    function removeAll_1($receiver, predicate) {
      return filterInPlace_0($receiver, predicate, true);
    }
    function filterInPlace_0($receiver, predicate, predicateResultToRemove) {
      var tmp$, tmp$_0, tmp$_1, tmp$_2;
      if (!Kotlin.isType($receiver, RandomAccess))
        return filterInPlace(Kotlin.isType(tmp$ = $receiver, MutableIterable) ? tmp$ : throwCCE_0(), predicate, predicateResultToRemove);
      var writeIndex = 0;
      tmp$_0 = get_lastIndex_12($receiver);
      for (var readIndex = 0; readIndex <= tmp$_0; readIndex++) {
        var element = $receiver.get_za3lpa$(readIndex);
        if (predicate(element) === predicateResultToRemove)
          continue;
        if (writeIndex !== readIndex)
          $receiver.set_wxm5ur$(writeIndex, element);
        writeIndex = writeIndex + 1 | 0;
      }
      if (writeIndex < $receiver.size) {
        tmp$_1 = get_lastIndex_12($receiver);
        tmp$_2 = writeIndex;
        for (var removeIndex = tmp$_1; removeIndex >= tmp$_2; removeIndex--)
          $receiver.removeAt_za3lpa$(removeIndex);
        return true;
      }
       else {
        return false;
      }
    }
    function Sequence() {
    }
    Sequence.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Sequence', interfaces: []};
    var State_NotReady;
    var State_ManyNotReady;
    var State_ManyReady;
    var State_Ready;
    var State_Done;
    var State_Failed;
    function emptySequence() {
      return EmptySequence_getInstance();
    }
    function EmptySequence() {
      EmptySequence_instance = this;
    }
    EmptySequence.prototype.iterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptySequence.prototype.drop_za3lpa$ = function (n) {
      return EmptySequence_getInstance();
    };
    EmptySequence.prototype.take_za3lpa$ = function (n) {
      return EmptySequence_getInstance();
    };
    EmptySequence.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptySequence', interfaces: [DropTakeSequence, Sequence]};
    var EmptySequence_instance = null;
    function EmptySequence_getInstance() {
      if (EmptySequence_instance === null) {
        new EmptySequence();
      }
      return EmptySequence_instance;
    }
    function TransformingSequence(sequence, transformer) {
      this.sequence_0 = sequence;
      this.transformer_0 = transformer;
    }
    function TransformingSequence$iterator$ObjectLiteral(this$TransformingSequence) {
      this.this$TransformingSequence = this$TransformingSequence;
      this.iterator = this$TransformingSequence.sequence_0.iterator();
    }
    TransformingSequence$iterator$ObjectLiteral.prototype.next = function () {
      return this.this$TransformingSequence.transformer_0(this.iterator.next());
    };
    TransformingSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.iterator.hasNext();
    };
    TransformingSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    TransformingSequence.prototype.iterator = function () {
      return new TransformingSequence$iterator$ObjectLiteral(this);
    };
    TransformingSequence.prototype.flatten_1tglza$ = function (iterator) {
      return new FlatteningSequence(this.sequence_0, this.transformer_0, iterator);
    };
    TransformingSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'TransformingSequence', interfaces: [Sequence]};
    function FlatteningSequence(sequence, transformer, iterator) {
      this.sequence_0 = sequence;
      this.transformer_0 = transformer;
      this.iterator_0 = iterator;
    }
    function FlatteningSequence$iterator$ObjectLiteral(this$FlatteningSequence) {
      this.this$FlatteningSequence = this$FlatteningSequence;
      this.iterator = this$FlatteningSequence.sequence_0.iterator();
      this.itemIterator = null;
    }
    FlatteningSequence$iterator$ObjectLiteral.prototype.next = function () {
      if (!this.ensureItemIterator_0())
        throw NoSuchElementException_init();
      return ensureNotNull(this.itemIterator).next();
    };
    FlatteningSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.ensureItemIterator_0();
    };
    FlatteningSequence$iterator$ObjectLiteral.prototype.ensureItemIterator_0 = function () {
      var tmp$;
      if (((tmp$ = this.itemIterator) != null ? tmp$.hasNext() : null) === false)
        this.itemIterator = null;
      while (this.itemIterator == null) {
        if (!this.iterator.hasNext()) {
          return false;
        }
         else {
          var element = this.iterator.next();
          var nextItemIterator = this.this$FlatteningSequence.iterator_0(this.this$FlatteningSequence.transformer_0(element));
          if (nextItemIterator.hasNext()) {
            this.itemIterator = nextItemIterator;
            return true;
          }
        }
      }
      return true;
    };
    FlatteningSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    FlatteningSequence.prototype.iterator = function () {
      return new FlatteningSequence$iterator$ObjectLiteral(this);
    };
    FlatteningSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'FlatteningSequence', interfaces: [Sequence]};
    function DropTakeSequence() {
    }
    DropTakeSequence.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'DropTakeSequence', interfaces: [Sequence]};
    function SubSequence(sequence, startIndex, endIndex) {
      this.sequence_0 = sequence;
      this.startIndex_0 = startIndex;
      this.endIndex_0 = endIndex;
      if (!(this.startIndex_0 >= 0)) {
        var message = 'startIndex should be non-negative, but is ' + this.startIndex_0;
        throw IllegalArgumentException_init_0(message.toString());
      }
      if (!(this.endIndex_0 >= 0)) {
        var message_0 = 'endIndex should be non-negative, but is ' + this.endIndex_0;
        throw IllegalArgumentException_init_0(message_0.toString());
      }
      if (!(this.endIndex_0 >= this.startIndex_0)) {
        var message_1 = 'endIndex should be not less than startIndex, but was ' + this.endIndex_0 + ' < ' + this.startIndex_0;
        throw IllegalArgumentException_init_0(message_1.toString());
      }
    }
    Object.defineProperty(SubSequence.prototype, 'count_0', {get: function () {
      return this.endIndex_0 - this.startIndex_0 | 0;
    }});
    SubSequence.prototype.drop_za3lpa$ = function (n) {
      return n >= this.count_0 ? emptySequence() : new SubSequence(this.sequence_0, this.startIndex_0 + n | 0, this.endIndex_0);
    };
    SubSequence.prototype.take_za3lpa$ = function (n) {
      return n >= this.count_0 ? this : new SubSequence(this.sequence_0, this.startIndex_0, this.startIndex_0 + n | 0);
    };
    function SubSequence$iterator$ObjectLiteral(this$SubSequence) {
      this.this$SubSequence = this$SubSequence;
      this.iterator = this$SubSequence.sequence_0.iterator();
      this.position = 0;
    }
    SubSequence$iterator$ObjectLiteral.prototype.drop_0 = function () {
      while (this.position < this.this$SubSequence.startIndex_0 && this.iterator.hasNext()) {
        this.iterator.next();
        this.position = this.position + 1 | 0;
      }
    };
    SubSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      this.drop_0();
      return this.position < this.this$SubSequence.endIndex_0 && this.iterator.hasNext();
    };
    SubSequence$iterator$ObjectLiteral.prototype.next = function () {
      this.drop_0();
      if (this.position >= this.this$SubSequence.endIndex_0)
        throw NoSuchElementException_init();
      this.position = this.position + 1 | 0;
      return this.iterator.next();
    };
    SubSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    SubSequence.prototype.iterator = function () {
      return new SubSequence$iterator$ObjectLiteral(this);
    };
    SubSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'SubSequence', interfaces: [DropTakeSequence, Sequence]};
    function TakeSequence(sequence, count) {
      this.sequence_0 = sequence;
      this.count_0 = count;
      if (!(this.count_0 >= 0)) {
        var message = 'count must be non-negative, but was ' + this.count_0 + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
    }
    TakeSequence.prototype.drop_za3lpa$ = function (n) {
      return n >= this.count_0 ? emptySequence() : new SubSequence(this.sequence_0, n, this.count_0);
    };
    TakeSequence.prototype.take_za3lpa$ = function (n) {
      return n >= this.count_0 ? this : new TakeSequence(this.sequence_0, n);
    };
    function TakeSequence$iterator$ObjectLiteral(this$TakeSequence) {
      this.left = this$TakeSequence.count_0;
      this.iterator = this$TakeSequence.sequence_0.iterator();
    }
    TakeSequence$iterator$ObjectLiteral.prototype.next = function () {
      if (this.left === 0)
        throw NoSuchElementException_init();
      this.left = this.left - 1 | 0;
      return this.iterator.next();
    };
    TakeSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.left > 0 && this.iterator.hasNext();
    };
    TakeSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    TakeSequence.prototype.iterator = function () {
      return new TakeSequence$iterator$ObjectLiteral(this);
    };
    TakeSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'TakeSequence', interfaces: [DropTakeSequence, Sequence]};
    function GeneratorSequence(getInitialValue, getNextValue) {
      this.getInitialValue_0 = getInitialValue;
      this.getNextValue_0 = getNextValue;
    }
    function GeneratorSequence$iterator$ObjectLiteral(this$GeneratorSequence) {
      this.this$GeneratorSequence = this$GeneratorSequence;
      this.nextItem = null;
      this.nextState = -2;
    }
    GeneratorSequence$iterator$ObjectLiteral.prototype.calcNext_0 = function () {
      this.nextItem = this.nextState === -2 ? this.this$GeneratorSequence.getInitialValue_0() : this.this$GeneratorSequence.getNextValue_0(ensureNotNull(this.nextItem));
      this.nextState = this.nextItem == null ? 0 : 1;
    };
    GeneratorSequence$iterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (this.nextState < 0)
        this.calcNext_0();
      if (this.nextState === 0)
        throw NoSuchElementException_init();
      var result = Kotlin.isType(tmp$ = this.nextItem, Any) ? tmp$ : throwCCE_0();
      this.nextState = -1;
      return result;
    };
    GeneratorSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      if (this.nextState < 0)
        this.calcNext_0();
      return this.nextState === 1;
    };
    GeneratorSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    GeneratorSequence.prototype.iterator = function () {
      return new GeneratorSequence$iterator$ObjectLiteral(this);
    };
    GeneratorSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'GeneratorSequence', interfaces: [Sequence]};
    function generateSequence_1(seedFunction, nextFunction) {
      return new GeneratorSequence(seedFunction, nextFunction);
    }
    function EmptySet() {
      EmptySet_instance = this;
      this.serialVersionUID_0 = L3406603774387020532;
    }
    EmptySet.prototype.equals = function (other) {
      return Kotlin.isType(other, Set) && other.isEmpty();
    };
    EmptySet.prototype.hashCode = function () {
      return 0;
    };
    EmptySet.prototype.toString = function () {
      return '[]';
    };
    Object.defineProperty(EmptySet.prototype, 'size', {get: function () {
      return 0;
    }});
    EmptySet.prototype.isEmpty = function () {
      return true;
    };
    EmptySet.prototype.contains_11rb$ = function (element) {
      return false;
    };
    EmptySet.prototype.containsAll_brywnq$ = function (elements) {
      return elements.isEmpty();
    };
    EmptySet.prototype.iterator = function () {
      return EmptyIterator_getInstance();
    };
    EmptySet.prototype.readResolve_0 = function () {
      return EmptySet_getInstance();
    };
    EmptySet.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptySet', interfaces: [Serializable, Set]};
    var EmptySet_instance = null;
    function EmptySet_getInstance() {
      if (EmptySet_instance === null) {
        new EmptySet();
      }
      return EmptySet_instance;
    }
    function emptySet() {
      return EmptySet_getInstance();
    }
    function hashSetOf_0(elements) {
      return toCollection(elements, HashSet_init_2(mapCapacity(elements.length)));
    }
    function optimizeReadOnlySet($receiver) {
      switch ($receiver.size) {
        case 0:
          return emptySet();
        case 1:
          return setOf($receiver.iterator().next());
        default:return $receiver;
      }
    }
    var NaturalOrderComparator_instance = null;
    var ReverseOrderComparator_instance = null;
    var InvocationKind$AT_MOST_ONCE_instance;
    var InvocationKind$AT_LEAST_ONCE_instance;
    var InvocationKind$EXACTLY_ONCE_instance;
    var InvocationKind$UNKNOWN_instance;
    function Continuation() {
    }
    Continuation.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Continuation', interfaces: []};
    defineInlineFunction('kotlin.kotlin.coroutines.suspendCoroutine_922awp$', wrapFunction(function () {
      var intercepted = _.kotlin.coroutines.intrinsics.intercepted_f9mg25$;
      var SafeContinuation_init = _.kotlin.coroutines.SafeContinuation_init_wj8d80$;
      function suspendCoroutine$lambda(closure$block) {
        return function (c) {
          var safe = SafeContinuation_init(intercepted(c));
          closure$block(safe);
          return safe.getOrThrow();
        };
      }
      return function (block, continuation) {
        Kotlin.suspendCall(suspendCoroutine$lambda(block)(Kotlin.coroutineReceiver()));
        return Kotlin.coroutineResult(Kotlin.coroutineReceiver());
      };
    }));
    function ContinuationInterceptor() {
      ContinuationInterceptor$Key_getInstance();
    }
    function ContinuationInterceptor$Key() {
      ContinuationInterceptor$Key_instance = this;
    }
    ContinuationInterceptor$Key.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Key', interfaces: [CoroutineContext$Key]};
    var ContinuationInterceptor$Key_instance = null;
    function ContinuationInterceptor$Key_getInstance() {
      if (ContinuationInterceptor$Key_instance === null) {
        new ContinuationInterceptor$Key();
      }
      return ContinuationInterceptor$Key_instance;
    }
    function CoroutineContext() {
    }
    function CoroutineContext$plus$lambda(acc, element) {
      var removed = acc.minusKey_yeqjby$(element.key);
      if (removed === EmptyCoroutineContext_getInstance())
        return element;
      else {
        var interceptor = removed.get_j3r2sn$(ContinuationInterceptor$Key_getInstance());
        if (interceptor == null)
          return new CombinedContext(removed, element);
        else {
          var left = removed.minusKey_yeqjby$(ContinuationInterceptor$Key_getInstance());
          return left === EmptyCoroutineContext_getInstance() ? new CombinedContext(element, interceptor) : new CombinedContext(new CombinedContext(left, element), interceptor);
        }
      }
    }
    CoroutineContext.prototype.plus_1fupul$ = function (context) {
      return context === EmptyCoroutineContext_getInstance() ? this : context.fold_3cc69b$(this, CoroutineContext$plus$lambda);
    };
    function CoroutineContext$Key() {
    }
    CoroutineContext$Key.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Key', interfaces: []};
    function CoroutineContext$Element() {
    }
    CoroutineContext$Element.prototype.get_j3r2sn$ = function (key) {
      var tmp$;
      return equals(this.key, key) ? Kotlin.isType(tmp$ = this, CoroutineContext$Element) ? tmp$ : throwCCE_0() : null;
    };
    CoroutineContext$Element.prototype.fold_3cc69b$ = function (initial, operation) {
      return operation(initial, this);
    };
    CoroutineContext$Element.prototype.minusKey_yeqjby$ = function (key) {
      return equals(this.key, key) ? EmptyCoroutineContext_getInstance() : this;
    };
    CoroutineContext$Element.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Element', interfaces: [CoroutineContext]};
    CoroutineContext.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CoroutineContext', interfaces: []};
    function AbstractCoroutineContextElement(key) {
      this.key_no4tas$_0 = key;
    }
    function EmptyCoroutineContext() {
      EmptyCoroutineContext_instance = this;
      this.serialVersionUID_0 = L0;
    }
    EmptyCoroutineContext.prototype.readResolve_0 = function () {
      return EmptyCoroutineContext_getInstance();
    };
    EmptyCoroutineContext.prototype.get_j3r2sn$ = function (key) {
      return null;
    };
    EmptyCoroutineContext.prototype.fold_3cc69b$ = function (initial, operation) {
      return initial;
    };
    EmptyCoroutineContext.prototype.plus_1fupul$ = function (context) {
      return context;
    };
    EmptyCoroutineContext.prototype.minusKey_yeqjby$ = function (key) {
      return this;
    };
    EmptyCoroutineContext.prototype.hashCode = function () {
      return 0;
    };
    EmptyCoroutineContext.prototype.toString = function () {
      return 'EmptyCoroutineContext';
    };
    EmptyCoroutineContext.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyCoroutineContext', interfaces: [Serializable, CoroutineContext]};
    var EmptyCoroutineContext_instance = null;
    function EmptyCoroutineContext_getInstance() {
      if (EmptyCoroutineContext_instance === null) {
        new EmptyCoroutineContext();
      }
      return EmptyCoroutineContext_instance;
    }
    function CombinedContext(left, element) {
      this.left_0 = left;
      this.element_0 = element;
    }
    CombinedContext.prototype.get_j3r2sn$ = function (key) {
      var tmp$;
      var cur = this;
      while (true) {
        if ((tmp$ = cur.element_0.get_j3r2sn$(key)) != null) {
          return tmp$;
        }
        var next = cur.left_0;
        if (Kotlin.isType(next, CombinedContext)) {
          cur = next;
        }
         else {
          return next.get_j3r2sn$(key);
        }
      }
    };
    CombinedContext.prototype.fold_3cc69b$ = function (initial, operation) {
      return operation(this.left_0.fold_3cc69b$(initial, operation), this.element_0);
    };
    CombinedContext.prototype.minusKey_yeqjby$ = function (key) {
      var tmp$;
      if (this.element_0.get_j3r2sn$(key) != null) {
        return this.left_0;
      }
      var newLeft = this.left_0.minusKey_yeqjby$(key);
      if (newLeft === this.left_0)
        tmp$ = this;
      else if (newLeft === EmptyCoroutineContext_getInstance())
        tmp$ = this.element_0;
      else
        tmp$ = new CombinedContext(newLeft, this.element_0);
      return tmp$;
    };
    CombinedContext.prototype.size_0 = function () {
      var tmp$, tmp$_0;
      var cur = this;
      var size = 2;
      while (true) {
        tmp$_0 = Kotlin.isType(tmp$ = cur.left_0, CombinedContext) ? tmp$ : null;
        if (tmp$_0 == null) {
          return size;
        }
        cur = tmp$_0;
        size = size + 1 | 0;
      }
    };
    CombinedContext.prototype.contains_0 = function (element) {
      return equals(this.get_j3r2sn$(element.key), element);
    };
    CombinedContext.prototype.containsAll_0 = function (context) {
      var tmp$;
      var cur = context;
      while (true) {
        if (!this.contains_0(cur.element_0))
          return false;
        var next = cur.left_0;
        if (Kotlin.isType(next, CombinedContext)) {
          cur = next;
        }
         else {
          return this.contains_0(Kotlin.isType(tmp$ = next, CoroutineContext$Element) ? tmp$ : throwCCE_0());
        }
      }
    };
    CombinedContext.prototype.equals = function (other) {
      return this === other || (Kotlin.isType(other, CombinedContext) && other.size_0() === this.size_0() && other.containsAll_0(this));
    };
    CombinedContext.prototype.hashCode = function () {
      return hashCode(this.left_0) + hashCode(this.element_0) | 0;
    };
    function CombinedContext$toString$lambda(acc, element) {
      return acc.length === 0 ? element.toString() : acc + ', ' + element;
    }
    CombinedContext.prototype.toString = function () {
      return '[' + this.fold_3cc69b$('', CombinedContext$toString$lambda) + ']';
    };
    function CombinedContext$writeReplace$lambda(closure$elements, closure$index) {
      return function (f, element) {
        var tmp$;
        closure$elements[tmp$ = closure$index.v, closure$index.v = tmp$ + 1 | 0, tmp$] = element;
        return Unit;
      };
    }
    CombinedContext.prototype.writeReplace_0 = function () {
      var tmp$;
      var n = this.size_0();
      var elements = Kotlin.newArray(n, null);
      var index = {v: 0};
      this.fold_3cc69b$(Unit_getInstance(), CombinedContext$writeReplace$lambda(elements, index));
      if (!(index.v === n)) {
        var message = 'Check failed.';
        throw IllegalStateException_init_0(message.toString());
      }
      return new CombinedContext$Serialized(Kotlin.isArray(tmp$ = elements) ? tmp$ : throwCCE_0());
    };
    function CombinedContext$Serialized(elements) {
      CombinedContext$Serialized$Companion_getInstance();
      this.elements = elements;
    }
    function CombinedContext$Serialized$Companion() {
      CombinedContext$Serialized$Companion_instance = this;
      this.serialVersionUID_0 = L0;
    }
    CombinedContext$Serialized$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var CombinedContext$Serialized$Companion_instance = null;
    function CombinedContext$Serialized$Companion_getInstance() {
      if (CombinedContext$Serialized$Companion_instance === null) {
        new CombinedContext$Serialized$Companion();
      }
      return CombinedContext$Serialized$Companion_instance;
    }
    CombinedContext$Serialized.prototype.readResolve_0 = function () {
      var $receiver = this.elements;
      var tmp$;
      var accumulator = EmptyCoroutineContext_getInstance();
      for (tmp$ = 0; tmp$ !== $receiver.length; ++tmp$) {
        var element = $receiver[tmp$];
        accumulator = accumulator.plus_1fupul$(element);
      }
      return accumulator;
    };
    CombinedContext$Serialized.$metadata$ = {kind: Kind_CLASS, simpleName: 'Serialized', interfaces: [Serializable]};
    CombinedContext.$metadata$ = {kind: Kind_CLASS, simpleName: 'CombinedContext', interfaces: [Serializable, CoroutineContext]};
    defineInlineFunction('kotlin.kotlin.coroutines.intrinsics.suspendCoroutineUninterceptedOrReturn_zb0pmy$', wrapFunction(function () {
      var NotImplementedError_init = _.kotlin.NotImplementedError;
      return function (block, continuation) {
        throw new NotImplementedError_init('Implementation of suspendCoroutineUninterceptedOrReturn is intrinsic');
      };
    }));
    function get_COROUTINE_SUSPENDED() {
      return CoroutineSingletons$COROUTINE_SUSPENDED_getInstance();
    }
    function CoroutineSingletons(name, ordinal) {
      Enum.call(this);
      this.name$ = name;
      this.ordinal$ = ordinal;
    }
    function CoroutineSingletons_initFields() {
      CoroutineSingletons_initFields = function () {
      };
      CoroutineSingletons$COROUTINE_SUSPENDED_instance = new CoroutineSingletons('COROUTINE_SUSPENDED', 0);
      CoroutineSingletons$UNDECIDED_instance = new CoroutineSingletons('UNDECIDED', 1);
      CoroutineSingletons$RESUMED_instance = new CoroutineSingletons('RESUMED', 2);
    }
    var CoroutineSingletons$COROUTINE_SUSPENDED_instance;
    function CoroutineSingletons$COROUTINE_SUSPENDED_getInstance() {
      CoroutineSingletons_initFields();
      return CoroutineSingletons$COROUTINE_SUSPENDED_instance;
    }
    var CoroutineSingletons$UNDECIDED_instance;
    function CoroutineSingletons$UNDECIDED_getInstance() {
      CoroutineSingletons_initFields();
      return CoroutineSingletons$UNDECIDED_instance;
    }
    var CoroutineSingletons$RESUMED_instance;
    function CoroutineSingletons$RESUMED_getInstance() {
      CoroutineSingletons_initFields();
      return CoroutineSingletons$RESUMED_instance;
    }
    CoroutineSingletons.$metadata$ = {kind: Kind_CLASS, simpleName: 'CoroutineSingletons', interfaces: [Enum]};
    function CoroutineSingletons$values() {
      return [CoroutineSingletons$COROUTINE_SUSPENDED_getInstance(), CoroutineSingletons$UNDECIDED_getInstance(), CoroutineSingletons$RESUMED_getInstance()];
    }
    CoroutineSingletons.values = CoroutineSingletons$values;
    function CoroutineSingletons$valueOf(name) {
      switch (name) {
        case 'COROUTINE_SUSPENDED':
          return CoroutineSingletons$COROUTINE_SUSPENDED_getInstance();
        case 'UNDECIDED':
          return CoroutineSingletons$UNDECIDED_getInstance();
        case 'RESUMED':
          return CoroutineSingletons$RESUMED_getInstance();
        default:throwISE('No enum constant kotlin.coroutines.intrinsics.CoroutineSingletons.' + name);
      }
    }
    CoroutineSingletons.valueOf_61zpoe$ = CoroutineSingletons$valueOf;
    var RequireKotlinVersionKind$LANGUAGE_VERSION_instance;
    var RequireKotlinVersionKind$COMPILER_VERSION_instance;
    var RequireKotlinVersionKind$API_VERSION_instance;
    var Delegates_instance = null;
    var Random$Default_instance = null;
    var Random$Companion_instance = null;
    function ComparableRange(start, endInclusive) {
      this.start_p1gsmm$_0 = start;
      this.endInclusive_jj4lf7$_0 = endInclusive;
    }
    function equals_1($receiver, other, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if ($receiver === other)
        return true;
      if (!ignoreCase)
        return false;
      if (toChar(String.fromCharCode($receiver | 0).toUpperCase().charCodeAt(0)) === toChar(String.fromCharCode(other | 0).toUpperCase().charCodeAt(0)))
        return true;
      if (toChar(String.fromCharCode($receiver | 0).toLowerCase().charCodeAt(0)) === toChar(String.fromCharCode(other | 0).toLowerCase().charCodeAt(0)))
        return true;
      return false;
    }
    function trimIndent($receiver) {
      return replaceIndent($receiver, '');
    }
    function replaceIndent($receiver, newIndent) {
      if (newIndent === void 0)
        newIndent = '';
      var tmp$;
      var lines_0 = lines($receiver);
      var destination = ArrayList_init();
      var tmp$_0;
      tmp$_0 = lines_0.iterator();
      while (tmp$_0.hasNext()) {
        var element = tmp$_0.next();
        if (!isBlank(element))
          destination.add_11rb$(element);
      }
      var $receiver_0 = destination;
      var destination_0 = ArrayList_init_0(collectionSizeOrDefault($receiver_0, 10));
      var tmp$_1;
      tmp$_1 = $receiver_0.iterator();
      while (tmp$_1.hasNext()) {
        var item = tmp$_1.next();
        destination_0.add_11rb$(indentWidth(item));
      }
      var minCommonIndent = (tmp$ = min_11(destination_0)) != null ? tmp$ : 0;
      var resultSizeEstimate = $receiver.length + Kotlin.imul(newIndent.length, lines_0.size) | 0;
      var indentAddFunction = getIndentFunction(newIndent);
      var lastIndex = get_lastIndex_12(lines_0);
      var destination_1 = ArrayList_init();
      var tmp$_2, tmp$_3;
      var index = 0;
      tmp$_2 = lines_0.iterator();
      while (tmp$_2.hasNext()) {
        var item_0 = tmp$_2.next();
        var tmp$_4;
        var index_0 = checkIndexOverflow((tmp$_3 = index, index = tmp$_3 + 1 | 0, tmp$_3));
        var tmp$_5, tmp$_6;
        if ((tmp$_4 = (index_0 === 0 || index_0 === lastIndex) && isBlank(item_0) ? null : (tmp$_6 = (tmp$_5 = drop_11(item_0, minCommonIndent)) != null ? indentAddFunction(tmp$_5) : null) != null ? tmp$_6 : item_0) != null) {
          destination_1.add_11rb$(tmp$_4);
        }
      }
      return joinTo_8(destination_1, StringBuilder_init(resultSizeEstimate), '\n').toString();
    }
    function indentWidth($receiver) {
      var indexOfFirst$result;
      indexOfFirst$break: do {
        var tmp$, tmp$_0, tmp$_1, tmp$_2;
        tmp$ = get_indices_13($receiver);
        tmp$_0 = tmp$.first;
        tmp$_1 = tmp$.last;
        tmp$_2 = tmp$.step;
        for (var index = tmp$_0; index <= tmp$_1; index += tmp$_2) {
          if (!isWhitespace(unboxChar(toBoxedChar($receiver.charCodeAt(index))))) {
            indexOfFirst$result = index;
            break indexOfFirst$break;
          }
        }
        indexOfFirst$result = -1;
      }
       while (false);
      var it = indexOfFirst$result;
      return it === -1 ? $receiver.length : it;
    }
    function getIndentFunction$lambda(line) {
      return line;
    }
    function getIndentFunction$lambda_0(closure$indent) {
      return function (line) {
        return closure$indent + line;
      };
    }
    function getIndentFunction(indent) {
      if (indent.length === 0)
        return getIndentFunction$lambda;
      else
        return getIndentFunction$lambda_0(indent);
    }
    function appendElement_0($receiver, element, transform) {
      if (transform != null)
        $receiver.append_gw00v9$(transform(element));
      else if (element == null || Kotlin.isCharSequence(element))
        $receiver.append_gw00v9$(element);
      else if (Kotlin.isChar(element))
        $receiver.append_s8itvh$(unboxChar(element));
      else
        $receiver.append_gw00v9$(toString(element));
    }
    function toByteOrNull($receiver) {
      return toByteOrNull_0($receiver, 10);
    }
    function toByteOrNull_0($receiver, radix) {
      var tmp$;
      tmp$ = toIntOrNull_0($receiver, radix);
      if (tmp$ == null) {
        return null;
      }
      var int = tmp$;
      if (int < kotlin_js_internal_ByteCompanionObject.MIN_VALUE || int > kotlin_js_internal_ByteCompanionObject.MAX_VALUE)
        return null;
      return toByte(int);
    }
    function toShortOrNull($receiver) {
      return toShortOrNull_0($receiver, 10);
    }
    function toShortOrNull_0($receiver, radix) {
      var tmp$;
      tmp$ = toIntOrNull_0($receiver, radix);
      if (tmp$ == null) {
        return null;
      }
      var int = tmp$;
      if (int < kotlin_js_internal_ShortCompanionObject.MIN_VALUE || int > kotlin_js_internal_ShortCompanionObject.MAX_VALUE)
        return null;
      return toShort(int);
    }
    function toIntOrNull($receiver) {
      return toIntOrNull_0($receiver, 10);
    }
    function toIntOrNull_0($receiver, radix) {
      var tmp$;
      checkRadix(radix);
      var length = $receiver.length;
      if (length === 0)
        return null;
      var start;
      var isNegative;
      var limit;
      var firstChar = $receiver.charCodeAt(0);
      if (firstChar < 48) {
        if (length === 1)
          return null;
        start = 1;
        if (firstChar === 45) {
          isNegative = true;
          limit = -2147483648;
        }
         else if (firstChar === 43) {
          isNegative = false;
          limit = -2147483647;
        }
         else
          return null;
      }
       else {
        start = 0;
        isNegative = false;
        limit = -2147483647;
      }
      var limitBeforeMul = limit / radix | 0;
      var result = 0;
      tmp$ = length - 1 | 0;
      for (var i = start; i <= tmp$; i++) {
        var digit = digitOf($receiver.charCodeAt(i), radix);
        if (digit < 0)
          return null;
        if (result < limitBeforeMul)
          return null;
        result = Kotlin.imul(result, radix);
        if (result < (limit + digit | 0))
          return null;
        result = result - digit | 0;
      }
      return isNegative ? result : -result | 0;
    }
    function toLongOrNull($receiver) {
      return toLongOrNull_0($receiver, 10);
    }
    function toLongOrNull_0($receiver, radix) {
      var tmp$;
      checkRadix(radix);
      var length = $receiver.length;
      if (length === 0)
        return null;
      var start;
      var isNegative;
      var limit;
      var firstChar = $receiver.charCodeAt(0);
      if (firstChar < 48) {
        if (length === 1)
          return null;
        start = 1;
        if (firstChar === 45) {
          isNegative = true;
          limit = Long$Companion$MIN_VALUE;
        }
         else if (firstChar === 43) {
          isNegative = false;
          limit = L_9223372036854775807;
        }
         else
          return null;
      }
       else {
        start = 0;
        isNegative = false;
        limit = L_9223372036854775807;
      }
      var limitBeforeMul = limit.div(Kotlin.Long.fromInt(radix));
      var result = L0;
      tmp$ = length - 1 | 0;
      for (var i = start; i <= tmp$; i++) {
        var digit = digitOf($receiver.charCodeAt(i), radix);
        if (digit < 0)
          return null;
        if (result.compareTo_11rb$(limitBeforeMul) < 0)
          return null;
        result = result.multiply(Kotlin.Long.fromInt(radix));
        if (result.compareTo_11rb$(limit.add(Kotlin.Long.fromInt(digit))) < 0)
          return null;
        result = result.subtract(Kotlin.Long.fromInt(digit));
      }
      return isNegative ? result : result.unaryMinus();
    }
    function numberFormatError(input) {
      throw new NumberFormatException("Invalid number format: '" + input + "'");
    }
    function trimStart_2($receiver, chars) {
      var tmp$;
      var $receiver_0 = Kotlin.isCharSequence(tmp$ = $receiver) ? tmp$ : throwCCE();
      var trimStart$result;
      trimStart$break: do {
        var tmp$_0, tmp$_1, tmp$_2, tmp$_3;
        tmp$_0 = get_indices_13($receiver_0);
        tmp$_1 = tmp$_0.first;
        tmp$_2 = tmp$_0.last;
        tmp$_3 = tmp$_0.step;
        for (var index = tmp$_1; index <= tmp$_2; index += tmp$_3) {
          if (!contains_7(chars, unboxChar(toBoxedChar($receiver_0.charCodeAt(index))))) {
            trimStart$result = Kotlin.subSequence($receiver_0, index, $receiver_0.length);
            break trimStart$break;
          }
        }
        trimStart$result = '';
      }
       while (false);
      return trimStart$result.toString();
    }
    function trimEnd_2($receiver, chars) {
      var tmp$;
      var $receiver_0 = Kotlin.isCharSequence(tmp$ = $receiver) ? tmp$ : throwCCE();
      var trimEnd$result;
      trimEnd$break: do {
        var tmp$_0;
        tmp$_0 = reversed_9(get_indices_13($receiver_0)).iterator();
        while (tmp$_0.hasNext()) {
          var index = tmp$_0.next();
          if (!contains_7(chars, unboxChar(toBoxedChar($receiver_0.charCodeAt(index))))) {
            trimEnd$result = Kotlin.subSequence($receiver_0, 0, index + 1 | 0);
            break trimEnd$break;
          }
        }
        trimEnd$result = '';
      }
       while (false);
      return trimEnd$result.toString();
    }
    function trimEnd_3($receiver) {
      var trimEnd$result;
      trimEnd$break: do {
        var tmp$;
        tmp$ = reversed_9(get_indices_13($receiver)).iterator();
        while (tmp$.hasNext()) {
          var index = tmp$.next();
          if (!isWhitespace(unboxChar(toBoxedChar($receiver.charCodeAt(index))))) {
            trimEnd$result = Kotlin.subSequence($receiver, 0, index + 1 | 0);
            break trimEnd$break;
          }
        }
        trimEnd$result = '';
      }
       while (false);
      return trimEnd$result;
    }
    function iterator$ObjectLiteral(this$iterator) {
      this.this$iterator = this$iterator;
      CharIterator.call(this);
      this.index_0 = 0;
    }
    iterator$ObjectLiteral.prototype.nextChar = function () {
      var tmp$, tmp$_0;
      tmp$_0 = (tmp$ = this.index_0, this.index_0 = tmp$ + 1 | 0, tmp$);
      return this.this$iterator.charCodeAt(tmp$_0);
    };
    iterator$ObjectLiteral.prototype.hasNext = function () {
      return this.index_0 < this.this$iterator.length;
    };
    iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [CharIterator]};
    function iterator_4($receiver) {
      return new iterator$ObjectLiteral($receiver);
    }
    function get_indices_13($receiver) {
      return new IntRange(0, $receiver.length - 1 | 0);
    }
    function get_lastIndex_13($receiver) {
      return $receiver.length - 1 | 0;
    }
    function substring_3($receiver, range) {
      return Kotlin.subSequence($receiver, range.start, range.endInclusive + 1 | 0).toString();
    }
    function regionMatchesImpl($receiver, thisOffset, other, otherOffset, length, ignoreCase) {
      if (otherOffset < 0 || thisOffset < 0 || thisOffset > ($receiver.length - length | 0) || otherOffset > (other.length - length | 0)) {
        return false;
      }
      for (var index = 0; index < length; index++) {
        if (!equals_1($receiver.charCodeAt(thisOffset + index | 0), other.charCodeAt(otherOffset + index | 0), ignoreCase))
          return false;
      }
      return true;
    }
    function startsWith_1($receiver, char, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return $receiver.length > 0 && equals_1($receiver.charCodeAt(0), char, ignoreCase);
    }
    function endsWith_0($receiver, char, ignoreCase) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      return $receiver.length > 0 && equals_1($receiver.charCodeAt(get_lastIndex_13($receiver)), char, ignoreCase);
    }
    function lastIndexOfAny($receiver, chars, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = get_lastIndex_13($receiver);
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (!ignoreCase && chars.length === 1 && typeof $receiver === 'string') {
        var char = single_7(chars);
        return $receiver.lastIndexOf(String.fromCharCode(char), startIndex);
      }
      loop_label: for (var index = coerceAtMost_2(startIndex, get_lastIndex_13($receiver)); index >= 0; index--) {
        var charAtIndex = $receiver.charCodeAt(index);
        var any$result;
        any$break: do {
          var tmp$;
          for (tmp$ = 0; tmp$ !== chars.length; ++tmp$) {
            var element = unboxChar(chars[tmp$]);
            if (equals_1(unboxChar(toBoxedChar(element)), charAtIndex, ignoreCase)) {
              any$result = true;
              break any$break;
            }
          }
          any$result = false;
        }
         while (false);
        if (any$result)
          return index;
      }
      return -1;
    }
    function indexOf_15($receiver, other, startIndex, endIndex, ignoreCase, last) {
      if (last === void 0)
        last = false;
      var tmp$, tmp$_0;
      var indices = !last ? new IntRange(coerceAtLeast_2(startIndex, 0), coerceAtMost_2(endIndex, $receiver.length)) : downTo_4(coerceAtMost_2(startIndex, get_lastIndex_13($receiver)), coerceAtLeast_2(endIndex, 0));
      if (typeof $receiver === 'string' && typeof other === 'string') {
        tmp$ = indices.iterator();
        while (tmp$.hasNext()) {
          var index = tmp$.next();
          if (regionMatches(other, 0, $receiver, index, other.length, ignoreCase))
            return index;
        }
      }
       else {
        tmp$_0 = indices.iterator();
        while (tmp$_0.hasNext()) {
          var index_0 = tmp$_0.next();
          if (regionMatchesImpl(other, 0, $receiver, index_0, other.length, ignoreCase))
            return index_0;
        }
      }
      return -1;
    }
    function findAnyOf($receiver, strings, startIndex, ignoreCase, last) {
      var tmp$, tmp$_0;
      if (!ignoreCase && strings.size === 1) {
        var string = single_17(strings);
        var index = !last ? indexOf_17($receiver, string, startIndex) : lastIndexOf_16($receiver, string, startIndex);
        return index < 0 ? null : to(index, string);
      }
      var indices = !last ? new IntRange(coerceAtLeast_2(startIndex, 0), $receiver.length) : downTo_4(coerceAtMost_2(startIndex, get_lastIndex_13($receiver)), 0);
      if (typeof $receiver === 'string') {
        tmp$ = indices.iterator();
        loop_label: while (tmp$.hasNext()) {
          var index_0 = tmp$.next();
          var firstOrNull$result;
          firstOrNull$break: do {
            var tmp$_1;
            tmp$_1 = strings.iterator();
            while (tmp$_1.hasNext()) {
              var element = tmp$_1.next();
              if (regionMatches(element, 0, $receiver, index_0, element.length, ignoreCase)) {
                firstOrNull$result = element;
                break firstOrNull$break;
              }
            }
            firstOrNull$result = null;
          }
           while (false);
          var matchingString = firstOrNull$result;
          if (matchingString != null)
            return to(index_0, matchingString);
        }
      }
       else {
        tmp$_0 = indices.iterator();
        loop_label: while (tmp$_0.hasNext()) {
          var index_1 = tmp$_0.next();
          var firstOrNull$result_0;
          firstOrNull$break: do {
            var tmp$_2;
            tmp$_2 = strings.iterator();
            while (tmp$_2.hasNext()) {
              var element_0 = tmp$_2.next();
              if (regionMatchesImpl(element_0, 0, $receiver, index_1, element_0.length, ignoreCase)) {
                firstOrNull$result_0 = element_0;
                break firstOrNull$break;
              }
            }
            firstOrNull$result_0 = null;
          }
           while (false);
          var matchingString_0 = firstOrNull$result_0;
          if (matchingString_0 != null)
            return to(index_1, matchingString_0);
        }
      }
      return null;
    }
    function indexOf_17($receiver, string, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = 0;
      if (ignoreCase === void 0)
        ignoreCase = false;
      return ignoreCase || !(typeof $receiver === 'string') ? indexOf_15($receiver, string, startIndex, $receiver.length, ignoreCase) : $receiver.indexOf(string, startIndex);
    }
    function lastIndexOf_15($receiver, char, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = get_lastIndex_13($receiver);
      if (ignoreCase === void 0)
        ignoreCase = false;
      return ignoreCase || !(typeof $receiver === 'string') ? lastIndexOfAny($receiver, Kotlin.charArrayOf(char), startIndex, ignoreCase) : $receiver.lastIndexOf(String.fromCharCode(char), startIndex);
    }
    function lastIndexOf_16($receiver, string, startIndex, ignoreCase) {
      if (startIndex === void 0)
        startIndex = get_lastIndex_13($receiver);
      if (ignoreCase === void 0)
        ignoreCase = false;
      return ignoreCase || !(typeof $receiver === 'string') ? indexOf_15($receiver, string, startIndex, 0, ignoreCase, true) : $receiver.lastIndexOf(string, startIndex);
    }
    function DelimitedRangesSequence(input, startIndex, limit, getNextMatch) {
      this.input_0 = input;
      this.startIndex_0 = startIndex;
      this.limit_0 = limit;
      this.getNextMatch_0 = getNextMatch;
    }
    function DelimitedRangesSequence$iterator$ObjectLiteral(this$DelimitedRangesSequence) {
      this.this$DelimitedRangesSequence = this$DelimitedRangesSequence;
      this.nextState = -1;
      this.currentStartIndex = coerceIn_2(this$DelimitedRangesSequence.startIndex_0, 0, this$DelimitedRangesSequence.input_0.length);
      this.nextSearchIndex = this.currentStartIndex;
      this.nextItem = null;
      this.counter = 0;
    }
    DelimitedRangesSequence$iterator$ObjectLiteral.prototype.calcNext_0 = function () {
      if (this.nextSearchIndex < 0) {
        this.nextState = 0;
        this.nextItem = null;
      }
       else {
        if (this.this$DelimitedRangesSequence.limit_0 > 0 && (this.counter = this.counter + 1 | 0, this.counter) >= this.this$DelimitedRangesSequence.limit_0 || this.nextSearchIndex > this.this$DelimitedRangesSequence.input_0.length) {
          this.nextItem = new IntRange(this.currentStartIndex, get_lastIndex_13(this.this$DelimitedRangesSequence.input_0));
          this.nextSearchIndex = -1;
        }
         else {
          var match = this.this$DelimitedRangesSequence.getNextMatch_0(this.this$DelimitedRangesSequence.input_0, this.nextSearchIndex);
          if (match == null) {
            this.nextItem = new IntRange(this.currentStartIndex, get_lastIndex_13(this.this$DelimitedRangesSequence.input_0));
            this.nextSearchIndex = -1;
          }
           else {
            var index = match.component1(), length = match.component2();
            this.nextItem = until_4(this.currentStartIndex, index);
            this.currentStartIndex = index + length | 0;
            this.nextSearchIndex = this.currentStartIndex + (length === 0 ? 1 : 0) | 0;
          }
        }
        this.nextState = 1;
      }
    };
    DelimitedRangesSequence$iterator$ObjectLiteral.prototype.next = function () {
      var tmp$;
      if (this.nextState === -1)
        this.calcNext_0();
      if (this.nextState === 0)
        throw NoSuchElementException_init();
      var result = Kotlin.isType(tmp$ = this.nextItem, IntRange) ? tmp$ : throwCCE_0();
      this.nextItem = null;
      this.nextState = -1;
      return result;
    };
    DelimitedRangesSequence$iterator$ObjectLiteral.prototype.hasNext = function () {
      if (this.nextState === -1)
        this.calcNext_0();
      return this.nextState === 1;
    };
    DelimitedRangesSequence$iterator$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [Iterator]};
    DelimitedRangesSequence.prototype.iterator = function () {
      return new DelimitedRangesSequence$iterator$ObjectLiteral(this);
    };
    DelimitedRangesSequence.$metadata$ = {kind: Kind_CLASS, simpleName: 'DelimitedRangesSequence', interfaces: [Sequence]};
    function rangesDelimitedBy$lambda_0(closure$delimitersList, closure$ignoreCase) {
      return function ($receiver, currentIndex) {
        var tmp$;
        return (tmp$ = findAnyOf($receiver, closure$delimitersList, currentIndex, closure$ignoreCase, false)) != null ? to(tmp$.first, tmp$.second.length) : null;
      };
    }
    function rangesDelimitedBy_0($receiver, delimiters, startIndex, ignoreCase, limit) {
      if (startIndex === void 0)
        startIndex = 0;
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (limit === void 0)
        limit = 0;
      if (!(limit >= 0)) {
        var message = 'Limit must be non-negative, but was ' + limit + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var delimitersList = asList(delimiters);
      return new DelimitedRangesSequence($receiver, startIndex, limit, rangesDelimitedBy$lambda_0(delimitersList, ignoreCase));
    }
    function splitToSequence$lambda(this$splitToSequence) {
      return function (it) {
        return substring_3(this$splitToSequence, it);
      };
    }
    function splitToSequence($receiver, delimiters, ignoreCase, limit) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (limit === void 0)
        limit = 0;
      return map_10(rangesDelimitedBy_0($receiver, delimiters, void 0, ignoreCase, limit), splitToSequence$lambda($receiver));
    }
    function split($receiver, delimiters, ignoreCase, limit) {
      if (ignoreCase === void 0)
        ignoreCase = false;
      if (limit === void 0)
        limit = 0;
      if (delimiters.length === 1) {
        var delimiter = delimiters[0];
        if (!(delimiter.length === 0)) {
          return split_1($receiver, delimiter, ignoreCase, limit);
        }
      }
      var $receiver_0 = asIterable_10(rangesDelimitedBy_0($receiver, delimiters, void 0, ignoreCase, limit));
      var destination = ArrayList_init_0(collectionSizeOrDefault($receiver_0, 10));
      var tmp$;
      tmp$ = $receiver_0.iterator();
      while (tmp$.hasNext()) {
        var item = tmp$.next();
        destination.add_11rb$(substring_3($receiver, item));
      }
      return destination;
    }
    function split_1($receiver, delimiter, ignoreCase, limit) {
      if (!(limit >= 0)) {
        var message = 'Limit must be non-negative, but was ' + limit + '.';
        throw IllegalArgumentException_init_0(message.toString());
      }
      var currentOffset = 0;
      var nextIndex = indexOf_17($receiver, delimiter, currentOffset, ignoreCase);
      if (nextIndex === -1 || limit === 1) {
        return listOf($receiver.toString());
      }
      var isLimited = limit > 0;
      var result = ArrayList_init_0(isLimited ? coerceAtMost_2(limit, 10) : 10);
      do {
        result.add_11rb$(Kotlin.subSequence($receiver, currentOffset, nextIndex).toString());
        currentOffset = nextIndex + delimiter.length | 0;
        if (isLimited && result.size === (limit - 1 | 0))
          break;
        nextIndex = indexOf_17($receiver, delimiter, currentOffset, ignoreCase);
      }
       while (nextIndex !== -1);
      result.add_11rb$(Kotlin.subSequence($receiver, currentOffset, $receiver.length).toString());
      return result;
    }
    function lineSequence($receiver) {
      return splitToSequence($receiver, ['\r\n', '\n', '\r']);
    }
    function lines($receiver) {
      return toList_10(lineSequence($receiver));
    }
    var Typography_instance = null;
    function MatchGroupCollection() {
    }
    MatchGroupCollection.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MatchGroupCollection', interfaces: [Collection]};
    function MatchResult() {
    }
    Object.defineProperty(MatchResult.prototype, 'destructured', {get: function () {
      return new MatchResult$Destructured(this);
    }});
    function MatchResult$Destructured(match) {
      this.match = match;
    }
    MatchResult$Destructured.prototype.component1 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component1', function () {
      return this.match.groupValues.get_za3lpa$(1);
    });
    MatchResult$Destructured.prototype.component2 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component2', function () {
      return this.match.groupValues.get_za3lpa$(2);
    });
    MatchResult$Destructured.prototype.component3 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component3', function () {
      return this.match.groupValues.get_za3lpa$(3);
    });
    MatchResult$Destructured.prototype.component4 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component4', function () {
      return this.match.groupValues.get_za3lpa$(4);
    });
    MatchResult$Destructured.prototype.component5 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component5', function () {
      return this.match.groupValues.get_za3lpa$(5);
    });
    MatchResult$Destructured.prototype.component6 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component6', function () {
      return this.match.groupValues.get_za3lpa$(6);
    });
    MatchResult$Destructured.prototype.component7 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component7', function () {
      return this.match.groupValues.get_za3lpa$(7);
    });
    MatchResult$Destructured.prototype.component8 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component8', function () {
      return this.match.groupValues.get_za3lpa$(8);
    });
    MatchResult$Destructured.prototype.component9 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component9', function () {
      return this.match.groupValues.get_za3lpa$(9);
    });
    MatchResult$Destructured.prototype.component10 = defineInlineFunction('kotlin.kotlin.text.MatchResult.Destructured.component10', function () {
      return this.match.groupValues.get_za3lpa$(10);
    });
    MatchResult$Destructured.prototype.toList = function () {
      return this.match.groupValues.subList_vux9f0$(1, this.match.groupValues.size);
    };
    MatchResult$Destructured.$metadata$ = {kind: Kind_CLASS, simpleName: 'Destructured', interfaces: []};
    MatchResult.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'MatchResult', interfaces: []};
    var Duration$Companion_instance = null;
    var KotlinVersion$Companion_instance = null;
    function Lazy() {
    }
    Lazy.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Lazy', interfaces: []};
    var LazyThreadSafetyMode$SYNCHRONIZED_instance;
    var LazyThreadSafetyMode$PUBLICATION_instance;
    var LazyThreadSafetyMode$NONE_instance;
    function UNINITIALIZED_VALUE() {
      UNINITIALIZED_VALUE_instance = this;
    }
    UNINITIALIZED_VALUE.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UNINITIALIZED_VALUE', interfaces: []};
    var UNINITIALIZED_VALUE_instance = null;
    function UNINITIALIZED_VALUE_getInstance() {
      if (UNINITIALIZED_VALUE_instance === null) {
        new UNINITIALIZED_VALUE();
      }
      return UNINITIALIZED_VALUE_instance;
    }
    function UnsafeLazyImpl(initializer) {
      this.initializer_0 = initializer;
      this._value_0 = UNINITIALIZED_VALUE_getInstance();
    }
    Object.defineProperty(UnsafeLazyImpl.prototype, 'value', {get: function () {
      var tmp$;
      if (this._value_0 === UNINITIALIZED_VALUE_getInstance()) {
        this._value_0 = ensureNotNull(this.initializer_0)();
        this.initializer_0 = null;
      }
      return (tmp$ = this._value_0) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE_0();
    }});
    UnsafeLazyImpl.prototype.isInitialized = function () {
      return this._value_0 !== UNINITIALIZED_VALUE_getInstance();
    };
    UnsafeLazyImpl.prototype.toString = function () {
      return this.isInitialized() ? toString(this.value) : 'Lazy value not initialized yet.';
    };
    UnsafeLazyImpl.prototype.writeReplace_0 = function () {
      return new InitializedLazyImpl(this.value);
    };
    UnsafeLazyImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'UnsafeLazyImpl', interfaces: [Serializable, Lazy]};
    function InitializedLazyImpl(value) {
      this.value_7taq70$_0 = value;
    }
    Object.defineProperty(InitializedLazyImpl.prototype, 'value', {get: function () {
      return this.value_7taq70$_0;
    }});
    InitializedLazyImpl.prototype.isInitialized = function () {
      return true;
    };
    InitializedLazyImpl.prototype.toString = function () {
      return toString(this.value);
    };
    InitializedLazyImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'InitializedLazyImpl', interfaces: [Serializable, Lazy]};
    function Result(value) {
      Result$Companion_getInstance();
      this.value = value;
    }
    Object.defineProperty(Result.prototype, 'isSuccess', {get: function () {
      return !Kotlin.isType(this.value, Result$Failure);
    }});
    Object.defineProperty(Result.prototype, 'isFailure', {get: function () {
      return Kotlin.isType(this.value, Result$Failure);
    }});
    Result.prototype.getOrNull = defineInlineFunction('kotlin.kotlin.Result.getOrNull', wrapFunction(function () {
      var Any = Object;
      var throwCCE = Kotlin.throwCCE;
      return function () {
        var tmp$;
        if (this.isFailure)
          return null;
        else
          return (tmp$ = this.value) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE();
      };
    }));
    Result.prototype.exceptionOrNull = function () {
      if (Kotlin.isType(this.value, Result$Failure))
        return this.value.exception;
      else
        return null;
    };
    Result.prototype.toString = function () {
      if (Kotlin.isType(this.value, Result$Failure))
        return this.value.toString();
      else
        return 'Success(' + toString(this.value) + ')';
    };
    function Result$Companion() {
      Result$Companion_instance = this;
    }
    Result$Companion.prototype.success_mh5how$ = defineInlineFunction('kotlin.kotlin.Result.Companion.success_mh5how$', wrapFunction(function () {
      var Result_init = _.kotlin.Result;
      return function (value) {
        return new Result_init(value);
      };
    }));
    Result$Companion.prototype.failure_lsqlk3$ = defineInlineFunction('kotlin.kotlin.Result.Companion.failure_lsqlk3$', wrapFunction(function () {
      var createFailure = _.kotlin.createFailure_tcv7n7$;
      var Result_init = _.kotlin.Result;
      return function (exception) {
        return new Result_init(createFailure(exception));
      };
    }));
    Result$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
    var Result$Companion_instance = null;
    function Result$Companion_getInstance() {
      if (Result$Companion_instance === null) {
        new Result$Companion();
      }
      return Result$Companion_instance;
    }
    function Result$Failure(exception) {
      this.exception = exception;
    }
    Result$Failure.prototype.equals = function (other) {
      return Kotlin.isType(other, Result$Failure) && equals(this.exception, other.exception);
    };
    Result$Failure.prototype.hashCode = function () {
      return hashCode(this.exception);
    };
    Result$Failure.prototype.toString = function () {
      return 'Failure(' + this.exception + ')';
    };
    Result$Failure.$metadata$ = {kind: Kind_CLASS, simpleName: 'Failure', interfaces: [Serializable]};
    Result.$metadata$ = {kind: Kind_CLASS, simpleName: 'Result', interfaces: [Serializable]};
    Result.prototype.unbox = function () {
      return this.value;
    };
    Result.prototype.hashCode = function () {
      var result = 0;
      result = result * 31 + Kotlin.hashCode(this.value) | 0;
      return result;
    };
    Result.prototype.equals = function (other) {
      return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && Kotlin.equals(this.value, other.value))));
    };
    function createFailure(exception) {
      return new Result$Failure(exception);
    }
    function throwOnFailure($receiver) {
      if (Kotlin.isType($receiver.value, Result$Failure))
        throw $receiver.value.exception;
    }
    function NotImplementedError(message) {
      if (message === void 0)
        message = 'An operation is not implemented.';
      Error_init_0(message, this);
      this.name = 'NotImplementedError';
    }
    NotImplementedError.$metadata$ = {kind: Kind_CLASS, simpleName: 'NotImplementedError', interfaces: [Error_0]};
    function Pair(first, second) {
      this.first = first;
      this.second = second;
    }
    Pair.prototype.toString = function () {
      return '(' + this.first + ', ' + this.second + ')';
    };
    Pair.$metadata$ = {kind: Kind_CLASS, simpleName: 'Pair', interfaces: [Serializable]};
    Pair.prototype.component1 = function () {
      return this.first;
    };
    Pair.prototype.component2 = function () {
      return this.second;
    };
    Pair.prototype.copy_xwzc9p$ = function (first, second) {
      return new Pair(first === void 0 ? this.first : first, second === void 0 ? this.second : second);
    };
    Pair.prototype.hashCode = function () {
      var result = 0;
      result = result * 31 + Kotlin.hashCode(this.first) | 0;
      result = result * 31 + Kotlin.hashCode(this.second) | 0;
      return result;
    };
    Pair.prototype.equals = function (other) {
      return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.first, other.first) && Kotlin.equals(this.second, other.second)))));
    };
    function to($receiver, that) {
      return new Pair($receiver, that);
    }
    var UByte$Companion_instance = null;
    var UInt$Companion_instance = null;
    var UIntRange$Companion_instance = null;
    var UIntProgression$Companion_instance = null;
    var ULong$Companion_instance = null;
    var ULongRange$Companion_instance = null;
    var ULongProgression$Companion_instance = null;
    var UShort$Companion_instance = null;
    var package$kotlin = _.kotlin || (_.kotlin = {});
    var package$collections = package$kotlin.collections || (package$kotlin.collections = {});
    package$collections.contains_mjy6jw$ = contains;
    package$collections.contains_o2f9me$ = contains_7;
    package$collections.get_lastIndex_m7z4lg$ = get_lastIndex;
    package$collections.getOrNull_8ujjk8$ = getOrNull;
    package$collections.indexOf_mjy6jw$ = indexOf;
    package$collections.indexOf_o2f9me$ = indexOf_7;
    package$collections.get_indices_m7z4lg$ = get_indices;
    var package$ranges = package$kotlin.ranges || (package$kotlin.ranges = {});
    package$ranges.reversed_zf1xzc$ = reversed_9;
    package$collections.lastIndexOf_mjy6jw$ = lastIndexOf;
    package$collections.single_355ntz$ = single_7;
    package$kotlin.IllegalArgumentException_init_pdl1vj$ = IllegalArgumentException_init_0;
    package$collections.emptyList_287e2$ = emptyList;
    package$collections.ArrayList_init_287e2$ = ArrayList_init;
    package$collections.toList_us0mfu$ = toList;
    package$collections.mapCapacity_za3lpa$ = mapCapacity;
    package$ranges.coerceAtLeast_dqglrj$ = coerceAtLeast_2;
    package$collections.LinkedHashMap_init_bwtc7$ = LinkedHashMap_init_2;
    package$collections.toCollection_5n4o2z$ = toCollection;
    package$collections.toMutableList_us0mfu$ = toMutableList;
    package$collections.LinkedHashMap_init_q3lmfv$ = LinkedHashMap_init;
    package$collections.ArrayList_init_ww73n8$ = ArrayList_init_0;
    package$collections.HashSet_init_287e2$ = HashSet_init;
    package$kotlin.UnsupportedOperationException_init_pdl1vj$ = UnsupportedOperationException_init_0;
    package$collections.collectionSizeOrDefault_ba2ldo$ = collectionSizeOrDefault;
    package$collections.get_lastIndex_55thoc$ = get_lastIndex_12;
    package$collections.getOrNull_yzln2o$ = getOrNull_8;
    package$collections.checkIndexOverflow_za3lpa$ = checkIndexOverflow;
    package$collections.last_2p1efm$ = last_18;
    package$collections.lastOrNull_2p1efm$ = lastOrNull_18;
    package$collections.single_7wnvza$ = single_17;
    package$collections.single_2p1efm$ = single_18;
    package$collections.slice_6bjbi1$ = slice_17;
    package$collections.toList_7wnvza$ = toList_8;
    package$collections.reversed_7wnvza$ = reversed_8;
    package$collections.toCollection_5cfyqp$ = toCollection_8;
    package$collections.toMutableList_7wnvza$ = toMutableList_8;
    package$collections.toMutableList_4c7yge$ = toMutableList_9;
    package$collections.toSet_7wnvza$ = toSet_8;
    package$collections.Collection = Collection;
    package$collections.min_exjks8$ = min_11;
    package$collections.joinTo_gcc71v$ = joinTo_8;
    package$collections.joinToString_fmv235$ = joinToString_8;
    package$collections.asSequence_7wnvza$ = asSequence_8;
    package$ranges.downTo_dqglrj$ = downTo_4;
    package$ranges.until_dqglrj$ = until_4;
    package$ranges.coerceAtMost_dqglrj$ = coerceAtMost_2;
    package$ranges.coerceIn_e4yvb3$ = coerceIn_2;
    var package$sequences = package$kotlin.sequences || (package$kotlin.sequences = {});
    package$sequences.Sequence = Sequence;
    package$sequences.take_wuwhe2$ = take_9;
    package$sequences.toCollection_gtszxp$ = toCollection_9;
    package$sequences.toList_veqyi0$ = toList_10;
    package$sequences.toMutableList_veqyi0$ = toMutableList_10;
    package$sequences.map_z5avom$ = map_10;
    package$sequences.asIterable_veqyi0$ = asIterable_10;
    var package$text = package$kotlin.text || (package$kotlin.text = {});
    package$text.get_lastIndex_gw00vp$ = get_lastIndex_13;
    package$text.iterator_gw00vp$ = iterator_4;
    package$text.get_indices_gw00vp$ = get_indices_13;
    package$text.single_gw00vp$ = single_22;
    package$text.drop_6ic1pp$ = drop_11;
    package$text.StringBuilder_init = StringBuilder_init_1;
    var package$math = package$kotlin.math || (package$kotlin.math = {});
    package$kotlin.CharSequence = CharSequence;
    package$collections.Iterable = Iterable;
    package$collections.MutableIterable = MutableIterable;
    package$collections.MutableCollection = MutableCollection;
    package$collections.List = List;
    package$collections.MutableList = MutableList;
    package$collections.Set = Set;
    package$collections.MutableSet = MutableSet;
    Map.Entry = Map$Entry;
    package$collections.Map = Map;
    MutableMap.MutableEntry = MutableMap$MutableEntry;
    package$collections.MutableMap = MutableMap;
    package$kotlin.Function = Function_0;
    package$collections.Iterator = Iterator;
    package$collections.MutableIterator = MutableIterator;
    package$collections.ListIterator = ListIterator;
    package$collections.MutableListIterator = MutableListIterator;
    package$collections.ByteIterator = ByteIterator;
    package$collections.CharIterator = CharIterator;
    package$collections.ShortIterator = ShortIterator;
    package$collections.IntIterator = IntIterator;
    package$collections.LongIterator = LongIterator;
    package$collections.FloatIterator = FloatIterator;
    package$collections.DoubleIterator = DoubleIterator;
    package$collections.BooleanIterator = BooleanIterator;
    package$ranges.CharProgressionIterator = CharProgressionIterator;
    package$ranges.IntProgressionIterator = IntProgressionIterator;
    package$ranges.LongProgressionIterator = LongProgressionIterator;
    Object.defineProperty(CharProgression, 'Companion', {get: CharProgression$Companion_getInstance});
    package$ranges.CharProgression = CharProgression;
    Object.defineProperty(IntProgression, 'Companion', {get: IntProgression$Companion_getInstance});
    package$ranges.IntProgression = IntProgression;
    Object.defineProperty(LongProgression, 'Companion', {get: LongProgression$Companion_getInstance});
    package$ranges.LongProgression = LongProgression;
    package$ranges.ClosedRange = ClosedRange;
    Object.defineProperty(CharRange, 'Companion', {get: CharRange$Companion_getInstance});
    package$ranges.CharRange = CharRange;
    Object.defineProperty(IntRange, 'Companion', {get: IntRange$Companion_getInstance});
    package$ranges.IntRange = IntRange;
    Object.defineProperty(LongRange, 'Companion', {get: LongRange$Companion_getInstance});
    package$ranges.LongRange = LongRange;
    Object.defineProperty(package$kotlin, 'Unit', {get: Unit_getInstance});
    var package$internal = package$kotlin.internal || (package$kotlin.internal = {});
    package$internal.getProgressionLastElement_qt1dr2$ = getProgressionLastElement;
    package$internal.getProgressionLastElement_b9bd0d$ = getProgressionLastElement_0;
    var package$reflect = package$kotlin.reflect || (package$kotlin.reflect = {});
    package$reflect.KAnnotatedElement = KAnnotatedElement;
    package$reflect.KCallable = KCallable;
    package$reflect.KClass = KClass;
    package$reflect.KClassifier = KClassifier;
    package$reflect.KDeclarationContainer = KDeclarationContainer;
    package$reflect.KFunction = KFunction;
    KProperty.Accessor = KProperty$Accessor;
    KProperty.Getter = KProperty$Getter;
    package$reflect.KProperty = KProperty;
    KMutableProperty.Setter = KMutableProperty$Setter;
    package$reflect.KMutableProperty = KMutableProperty;
    KProperty0.Getter = KProperty0$Getter;
    package$reflect.KProperty0 = KProperty0;
    KMutableProperty0.Setter = KMutableProperty0$Setter;
    package$reflect.KMutableProperty0 = KMutableProperty0;
    KProperty1.Getter = KProperty1$Getter;
    package$reflect.KProperty1 = KProperty1;
    KMutableProperty1.Setter = KMutableProperty1$Setter;
    package$reflect.KMutableProperty1 = KMutableProperty1;
    _.arrayIterator = arrayIterator;
    _.booleanArrayIterator = booleanArrayIterator;
    _.byteArrayIterator = byteArrayIterator;
    _.shortArrayIterator = shortArrayIterator;
    _.charArrayIterator = charArrayIterator;
    _.intArrayIterator = intArrayIterator;
    _.floatArrayIterator = floatArrayIterator;
    _.doubleArrayIterator = doubleArrayIterator;
    _.longArrayIterator = longArrayIterator;
    _.noWhenBranchMatched = noWhenBranchMatched;
    _.subSequence = subSequence;
    _.captureStack = captureStack;
    _.BoxedChar = BoxedChar;
    _.charArrayOf = charArrayOf;
    var package$coroutines = package$kotlin.coroutines || (package$kotlin.coroutines = {});
    package$coroutines.CoroutineImpl = CoroutineImpl;
    Object.defineProperty(package$coroutines, 'CompletedContinuation', {get: CompletedContinuation_getInstance});
    var package$intrinsics = package$coroutines.intrinsics || (package$coroutines.intrinsics = {});
    package$intrinsics.intercepted_f9mg25$ = intercepted;
    var package$js = package$kotlin.js || (package$kotlin.js = {});
    package$kotlin.lazy_klfg04$ = lazy;
    package$kotlin.fillFrom_dgzutr$ = fillFrom;
    package$kotlin.arrayCopyResize_xao4iu$ = arrayCopyResize;
    package$collections.asList_us0mfu$ = asList;
    package$collections.copyOf_1qu12l$ = copyOf_22;
    package$collections.copyOf_gtcw5h$ = copyOf_23;
    package$collections.copyOfRange_5f8l3u$ = copyOfRange_3;
    package$collections.reverse_vvxzk3$ = reverse_12;
    package$kotlin.Comparator = Comparator;
    package$collections.copyToArray = copyToArray;
    package$collections.copyToArrayImpl = copyToArrayImpl;
    package$collections.copyToExistingArrayImpl = copyToArrayImpl_0;
    package$collections.listOf_mh5how$ = listOf;
    package$collections.setOf_mh5how$ = setOf;
    package$collections.AbstractMutableCollection = AbstractMutableCollection;
    package$collections.AbstractMutableList = AbstractMutableList;
    AbstractMutableMap.SimpleEntry_init_trwmqg$ = AbstractMutableMap$AbstractMutableMap$SimpleEntry_init;
    AbstractMutableMap.SimpleEntry = AbstractMutableMap$SimpleEntry;
    package$collections.AbstractMutableMap = AbstractMutableMap;
    package$collections.AbstractMutableSet = AbstractMutableSet;
    package$collections.ArrayList_init_mqih57$ = ArrayList_init_1;
    package$collections.ArrayList = ArrayList;
    Object.defineProperty(EqualityComparator, 'HashCode', {get: EqualityComparator$HashCode_getInstance});
    package$collections.EqualityComparator = EqualityComparator;
    package$collections.HashMap_init_va96d4$ = HashMap_init;
    package$collections.HashMap_init_q3lmfv$ = HashMap_init_0;
    package$collections.HashMap_init_xf5xz2$ = HashMap_init_1;
    package$collections.HashMap_init_bwtc7$ = HashMap_init_2;
    package$collections.HashMap_init_73mtqc$ = HashMap_init_3;
    package$collections.HashMap = HashMap;
    package$collections.HashSet_init_mqih57$ = HashSet_init_0;
    package$collections.HashSet_init_2wofer$ = HashSet_init_1;
    package$collections.HashSet_init_ww73n8$ = HashSet_init_2;
    package$collections.HashSet_init_nn01ho$ = HashSet_init_3;
    package$collections.HashSet = HashSet;
    package$collections.InternalHashCodeMap = InternalHashCodeMap;
    package$collections.InternalMap = InternalMap;
    package$collections.InternalStringMap = InternalStringMap;
    package$collections.LinkedHashMap_init_xf5xz2$ = LinkedHashMap_init_1;
    package$collections.LinkedHashMap_init_73mtqc$ = LinkedHashMap_init_3;
    package$collections.LinkedHashMap = LinkedHashMap;
    package$collections.LinkedHashSet_init_287e2$ = LinkedHashSet_init_0;
    package$collections.LinkedHashSet_init_mqih57$ = LinkedHashSet_init_1;
    package$collections.LinkedHashSet_init_2wofer$ = LinkedHashSet_init_2;
    package$collections.LinkedHashSet_init_ww73n8$ = LinkedHashSet_init_3;
    package$collections.LinkedHashSet = LinkedHashSet;
    package$collections.RandomAccess = RandomAccess;
    var package$io = package$kotlin.io || (package$kotlin.io = {});
    package$io.BaseOutput = BaseOutput;
    package$io.NodeJsOutput = NodeJsOutput;
    package$io.BufferedOutput = BufferedOutput;
    package$io.BufferedOutputToConsoleLog = BufferedOutputToConsoleLog;
    package$io.println_s8jyv4$ = println_0;
    package$coroutines.SafeContinuation_init_wj8d80$ = SafeContinuation_init;
    package$coroutines.SafeContinuation = SafeContinuation;
    _.throwNPE = throwNPE;
    _.throwCCE = throwCCE_0;
    _.throwISE = throwISE;
    _.throwUPAE = throwUPAE;
    package$kotlin.Error_init_pdl1vj$ = Error_init_0;
    package$kotlin.Error = Error_0;
    package$kotlin.Exception_init = Exception_init;
    package$kotlin.Exception = Exception;
    package$kotlin.RuntimeException_init_pdl1vj$ = RuntimeException_init_0;
    package$kotlin.RuntimeException = RuntimeException;
    package$kotlin.IllegalArgumentException = IllegalArgumentException;
    package$kotlin.IllegalStateException_init_pdl1vj$ = IllegalStateException_init_0;
    package$kotlin.IllegalStateException = IllegalStateException;
    package$kotlin.IndexOutOfBoundsException = IndexOutOfBoundsException;
    package$kotlin.UnsupportedOperationException = UnsupportedOperationException;
    package$kotlin.NumberFormatException = NumberFormatException;
    package$kotlin.NullPointerException = NullPointerException;
    package$kotlin.ClassCastException = ClassCastException;
    package$kotlin.NoSuchElementException_init = NoSuchElementException_init;
    package$kotlin.NoSuchElementException = NoSuchElementException;
    package$kotlin.ArithmeticException = ArithmeticException;
    package$kotlin.NoWhenBranchMatchedException_init = NoWhenBranchMatchedException_init;
    package$kotlin.NoWhenBranchMatchedException = NoWhenBranchMatchedException;
    package$kotlin.UninitializedPropertyAccessException_init_pdl1vj$ = UninitializedPropertyAccessException_init_0;
    package$kotlin.UninitializedPropertyAccessException = UninitializedPropertyAccessException;
    package$io.Serializable = Serializable;
    package$js.json_pyyo18$ = json;
    package$math.round_14dthe$ = round;
    package$kotlin.isNaN_yrwdxr$ = isNaN_0;
    package$kotlin.isNaN_81szk$ = isNaN_1;
    package$kotlin.isInfinite_yrwdxr$ = isInfinite;
    package$kotlin.isInfinite_81szk$ = isInfinite_0;
    package$kotlin.isFinite_yrwdxr$ = isFinite;
    package$kotlin.isFinite_81szk$ = isFinite_0;
    package$js.get_js_1yb8b7$ = get_js;
    var package$js_1 = package$reflect.js || (package$reflect.js = {});
    var package$internal_1 = package$js_1.internal || (package$js_1.internal = {});
    package$internal_1.KClassImpl = KClassImpl;
    package$internal_1.SimpleKClassImpl = SimpleKClassImpl;
    package$internal_1.PrimitiveKClassImpl = PrimitiveKClassImpl;
    Object.defineProperty(package$internal_1, 'NothingKClassImpl', {get: NothingKClassImpl_getInstance});
    Object.defineProperty(package$internal_1, 'PrimitiveClasses', {get: PrimitiveClasses_getInstance});
    _.getKClass = getKClass;
    _.getKClassFromExpression = getKClassFromExpression;
    package$js.reset_xjqeni$ = reset;
    package$text.isWhitespace_myv2d0$ = isWhitespace;
    package$text.toBoolean_pdl1vz$ = toBoolean;
    package$text.toByte_pdl1vz$ = toByte_0;
    package$text.toShort_pdl1vz$ = toShort_0;
    package$text.toInt_pdl1vz$ = toInt;
    package$text.toLong_pdl1vz$ = toLong;
    package$text.toDouble_pdl1vz$ = toDouble;
    package$text.toDoubleOrNull_pdl1vz$ = toDoubleOrNull;
    package$text.checkRadix_za3lpa$ = checkRadix;
    package$text.digitOf_xvg9q0$ = digitOf;
    Object.defineProperty(RegexOption, 'IGNORE_CASE', {get: RegexOption$IGNORE_CASE_getInstance});
    Object.defineProperty(RegexOption, 'MULTILINE', {get: RegexOption$MULTILINE_getInstance});
    package$text.RegexOption = RegexOption;
    package$text.MatchGroup = MatchGroup;
    package$text.StringBuilder_init_za3lpa$ = StringBuilder_init;
    Object.defineProperty(Regex, 'Companion', {get: Regex$Companion_getInstance});
    package$text.Regex_init_sb3q2$ = Regex_init;
    package$text.Regex_init_61zpoe$ = Regex_init_0;
    package$text.Regex = Regex;
    package$text.String_8chfmy$ = String_2;
    package$text.compareTo_7epoxm$ = compareTo;
    package$text.matches_rjktp$ = matches;
    package$text.isBlank_gw00vp$ = isBlank;
    package$text.equals_igcy3c$ = equals_0;
    package$text.regionMatches_h3ii2q$ = regionMatches;
    package$text.replace_680rmw$ = replace;
    package$text.Appendable = Appendable;
    package$text.StringBuilder = StringBuilder;
    package$collections.AbstractCollection = AbstractCollection;
    Object.defineProperty(AbstractList, 'Companion', {get: AbstractList$Companion_getInstance});
    package$collections.AbstractList = AbstractList;
    Object.defineProperty(AbstractMap, 'Companion', {get: AbstractMap$Companion_getInstance});
    package$collections.AbstractMap = AbstractMap;
    Object.defineProperty(AbstractSet, 'Companion', {get: AbstractSet$Companion_getInstance});
    package$collections.AbstractSet = AbstractSet;
    Object.defineProperty(package$collections, 'EmptyIterator', {get: EmptyIterator_getInstance});
    Object.defineProperty(package$collections, 'EmptyList', {get: EmptyList_getInstance});
    package$collections.asCollection_vj43ah$ = asCollection;
    package$collections.listOf_i5x0yv$ = listOf_0;
    package$collections.mutableListOf_i5x0yv$ = mutableListOf_0;
    package$collections.arrayListOf_i5x0yv$ = arrayListOf_0;
    package$collections.get_indices_gzk92b$ = get_indices_12;
    package$collections.optimizeReadOnlyList_qzupvv$ = optimizeReadOnlyList;
    package$collections.throwIndexOverflow = throwIndexOverflow;
    package$collections.getOrImplicitDefault_t9ocha$ = getOrImplicitDefault;
    package$collections.emptyMap_q3lmfv$ = emptyMap;
    package$collections.mapOf_qfcya0$ = mapOf_0;
    package$collections.mutableMapOf_qfcya0$ = mutableMapOf_0;
    package$collections.getValue_t9ocha$ = getValue_2;
    package$collections.putAll_5gv49o$ = putAll;
    package$collections.toMap_ujwnei$ = toMap_2;
    package$collections.addAll_ye1y7v$ = addAll_1;
    package$collections.removeAll_uhyeqt$ = removeAll_0;
    package$collections.removeAll_qafx1e$ = removeAll_1;
    package$sequences.emptySequence_287e2$ = emptySequence;
    package$sequences.TransformingSequence = TransformingSequence;
    package$sequences.FlatteningSequence = FlatteningSequence;
    package$sequences.DropTakeSequence = DropTakeSequence;
    package$sequences.SubSequence = SubSequence;
    package$sequences.TakeSequence = TakeSequence;
    package$sequences.generateSequence_c6s9hp$ = generateSequence_1;
    Object.defineProperty(package$collections, 'EmptySet', {get: EmptySet_getInstance});
    package$collections.emptySet_287e2$ = emptySet;
    package$collections.hashSetOf_i5x0yv$ = hashSetOf_0;
    package$collections.optimizeReadOnlySet_94kdbt$ = optimizeReadOnlySet;
    package$coroutines.Continuation = Continuation;
    package$kotlin.Result = Result;
    package$intrinsics.get_COROUTINE_SUSPENDED = get_COROUTINE_SUSPENDED;
    Object.defineProperty(ContinuationInterceptor, 'Key', {get: ContinuationInterceptor$Key_getInstance});
    package$coroutines.ContinuationInterceptor = ContinuationInterceptor;
    CoroutineContext.Key = CoroutineContext$Key;
    CoroutineContext.Element = CoroutineContext$Element;
    package$coroutines.CoroutineContext = CoroutineContext;
    package$coroutines.AbstractCoroutineContextElement = AbstractCoroutineContextElement;
    Object.defineProperty(package$coroutines, 'EmptyCoroutineContext', {get: EmptyCoroutineContext_getInstance});
    package$coroutines.CombinedContext = CombinedContext;
    Object.defineProperty(package$intrinsics, 'COROUTINE_SUSPENDED', {get: get_COROUTINE_SUSPENDED});
    Object.defineProperty(CoroutineSingletons, 'COROUTINE_SUSPENDED', {get: CoroutineSingletons$COROUTINE_SUSPENDED_getInstance});
    Object.defineProperty(CoroutineSingletons, 'UNDECIDED', {get: CoroutineSingletons$UNDECIDED_getInstance});
    Object.defineProperty(CoroutineSingletons, 'RESUMED', {get: CoroutineSingletons$RESUMED_getInstance});
    package$intrinsics.CoroutineSingletons = CoroutineSingletons;
    package$text.equals_4lte5s$ = equals_1;
    package$text.trimIndent_pdl1vz$ = trimIndent;
    package$text.replaceIndent_rjktp$ = replaceIndent;
    package$text.appendElement_k2zgzt$ = appendElement_0;
    package$text.toByteOrNull_pdl1vz$ = toByteOrNull;
    package$text.toByteOrNull_6ic1pp$ = toByteOrNull_0;
    package$text.toShortOrNull_pdl1vz$ = toShortOrNull;
    package$text.toShortOrNull_6ic1pp$ = toShortOrNull_0;
    package$text.toIntOrNull_pdl1vz$ = toIntOrNull;
    package$text.toIntOrNull_6ic1pp$ = toIntOrNull_0;
    package$text.toLongOrNull_pdl1vz$ = toLongOrNull;
    package$text.toLongOrNull_6ic1pp$ = toLongOrNull_0;
    package$text.numberFormatError_y4putb$ = numberFormatError;
    package$text.trimStart_wqw3xr$ = trimStart_2;
    package$text.trimEnd_wqw3xr$ = trimEnd_2;
    package$text.trimEnd_gw00vp$ = trimEnd_3;
    package$text.substring_i511yc$ = substring_3;
    package$text.regionMatchesImpl_4c7s8r$ = regionMatchesImpl;
    package$text.startsWith_sgbm27$ = startsWith_1;
    package$text.endsWith_sgbm27$ = endsWith_0;
    package$text.lastIndexOfAny_junqau$ = lastIndexOfAny;
    package$text.indexOf_l5u8uk$ = indexOf_17;
    package$text.lastIndexOf_8eortd$ = lastIndexOf_15;
    package$text.lastIndexOf_l5u8uk$ = lastIndexOf_16;
    package$text.splitToSequence_ip8yn$ = splitToSequence;
    package$text.split_ip8yn$ = split;
    package$text.lineSequence_gw00vp$ = lineSequence;
    package$text.lines_gw00vp$ = lines;
    package$text.MatchGroupCollection = MatchGroupCollection;
    MatchResult.Destructured = MatchResult$Destructured;
    package$text.MatchResult = MatchResult;
    package$kotlin.Lazy = Lazy;
    Object.defineProperty(package$kotlin, 'UNINITIALIZED_VALUE', {get: UNINITIALIZED_VALUE_getInstance});
    package$kotlin.UnsafeLazyImpl = UnsafeLazyImpl;
    package$kotlin.InitializedLazyImpl = InitializedLazyImpl;
    package$kotlin.createFailure_tcv7n7$ = createFailure;
    Object.defineProperty(Result, 'Companion', {get: Result$Companion_getInstance});
    Result.Failure = Result$Failure;
    package$kotlin.throwOnFailure_iacion$ = throwOnFailure;
    package$kotlin.NotImplementedError = NotImplementedError;
    package$kotlin.Pair = Pair;
    package$kotlin.to_ujzrz7$ = to;
    MutableMap.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    AbstractMap.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    AbstractMutableMap.prototype.remove_xwzc9p$ = MutableMap.prototype.remove_xwzc9p$;
    InternalHashCodeMap.prototype.createJsMap = InternalMap.prototype.createJsMap;
    InternalStringMap.prototype.createJsMap = InternalMap.prototype.createJsMap;
    Object.defineProperty(findNext$ObjectLiteral.prototype, 'destructured', Object.getOwnPropertyDescriptor(MatchResult.prototype, 'destructured'));
    MapWithDefault.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    MutableMapWithDefault.prototype.remove_xwzc9p$ = MutableMap.prototype.remove_xwzc9p$;
    MutableMapWithDefault.prototype.getOrDefault_xwzc9p$ = MutableMap.prototype.getOrDefault_xwzc9p$;
    MapWithDefaultImpl.prototype.getOrDefault_xwzc9p$ = MapWithDefault.prototype.getOrDefault_xwzc9p$;
    MutableMapWithDefaultImpl.prototype.remove_xwzc9p$ = MutableMapWithDefault.prototype.remove_xwzc9p$;
    MutableMapWithDefaultImpl.prototype.getOrDefault_xwzc9p$ = MutableMapWithDefault.prototype.getOrDefault_xwzc9p$;
    EmptyMap.prototype.getOrDefault_xwzc9p$ = Map.prototype.getOrDefault_xwzc9p$;
    CoroutineContext$Element.prototype.plus_1fupul$ = CoroutineContext.prototype.plus_1fupul$;
    ContinuationInterceptor.prototype.fold_3cc69b$ = CoroutineContext$Element.prototype.fold_3cc69b$;
    ContinuationInterceptor.prototype.plus_1fupul$ = CoroutineContext$Element.prototype.plus_1fupul$;
    AbstractCoroutineContextElement.prototype.get_j3r2sn$ = CoroutineContext$Element.prototype.get_j3r2sn$;
    AbstractCoroutineContextElement.prototype.fold_3cc69b$ = CoroutineContext$Element.prototype.fold_3cc69b$;
    AbstractCoroutineContextElement.prototype.minusKey_yeqjby$ = CoroutineContext$Element.prototype.minusKey_yeqjby$;
    AbstractCoroutineContextElement.prototype.plus_1fupul$ = CoroutineContext$Element.prototype.plus_1fupul$;
    CombinedContext.prototype.plus_1fupul$ = CoroutineContext.prototype.plus_1fupul$;
    ComparableRange.prototype.contains_mef7kx$ = ClosedRange.prototype.contains_mef7kx$;
    ComparableRange.prototype.isEmpty = ClosedRange.prototype.isEmpty;
    PI = 3.141592653589793;
    E = 2.718281828459045;
    _stableSortingIsSupported = null;
    var isNode = typeof process !== 'undefined' && process.versions && !!process.versions.node;
    output = isNode ? new NodeJsOutput(process.stdout) : new BufferedOutputToConsoleLog();
    EmptyContinuation = new Continuation$ObjectLiteral(EmptyCoroutineContext_getInstance(), EmptyContinuation$lambda);
    INV_2_26 = Math_0.pow(2.0, -26);
    INV_2_53 = Math_0.pow(2.0, -53);
    functionClasses = Kotlin.newArray(0, null);
    STRING_CASE_INSENSITIVE_ORDER = new Comparator$ObjectLiteral_0(STRING_CASE_INSENSITIVE_ORDER$lambda);
    MAX_BYTES_PER_CHAR = 3;
    REPLACEMENT_BYTE_SEQUENCE = new Int8Array([toByte(239), toByte(191), toByte(189)]);
    REPLACEMENT_CHAR = 65533;
    INT_MAX_POWER_OF_TWO = 1073741824;
    State_NotReady = 0;
    State_ManyNotReady = 1;
    State_ManyReady = 2;
    State_Ready = 3;
    State_Done = 4;
    State_Failed = 5;
  }());
  (function () {
    'use strict';
    var Kind_CLASS = Kotlin.Kind.CLASS;
    var Any = Object;
    var IllegalStateException_init = Kotlin.kotlin.IllegalStateException_init_pdl1vj$;
    var throwCCE = Kotlin.throwCCE;
    var Throwable = Error;
    var defineInlineFunction = Kotlin.defineInlineFunction;
    var Kind_OBJECT = Kotlin.Kind.OBJECT;
    var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
    var equals = Kotlin.equals;
    var hashCode = Kotlin.hashCode;
    var toString = Kotlin.toString;
    var Unit = Kotlin.kotlin.Unit;
    var wrapFunction = Kotlin.wrapFunction;
    var Collection = Kotlin.kotlin.collections.Collection;
    var ensureNotNull = Kotlin.ensureNotNull;
    var NoSuchElementException_init = Kotlin.kotlin.NoSuchElementException_init;
    var Iterator = Kotlin.kotlin.collections.Iterator;
    var Sequence = Kotlin.kotlin.sequences.Sequence;
    var NotImplementedError = Kotlin.kotlin.NotImplementedError;
    var UNDECIDED;
    var RESUMED;
    function Fail(exception) {
      this.exception = exception;
    }
    Fail.$metadata$ = {kind: Kind_CLASS, simpleName: 'Fail', interfaces: []};
    function SafeContinuation(delegate, initialResult) {
      this.delegate_0 = delegate;
      this.result_0 = initialResult;
    }
    Object.defineProperty(SafeContinuation.prototype, 'context', {get: function () {
      return this.delegate_0.context;
    }});
    SafeContinuation.prototype.resume_11rb$ = function (value) {
      if (this.result_0 === UNDECIDED)
        this.result_0 = value;
      else if (this.result_0 === COROUTINE_SUSPENDED) {
        this.result_0 = RESUMED;
        this.delegate_0.resume_11rb$(value);
      }
       else {
        throw IllegalStateException_init('Already resumed');
      }
    };
    SafeContinuation.prototype.resumeWithException_tcv7n7$ = function (exception) {
      if (this.result_0 === UNDECIDED)
        this.result_0 = new Fail(exception);
      else if (this.result_0 === COROUTINE_SUSPENDED) {
        this.result_0 = RESUMED;
        this.delegate_0.resumeWithException_tcv7n7$(exception);
      }
       else {
        throw IllegalStateException_init('Already resumed');
      }
    };
    SafeContinuation.prototype.getResult = function () {
      var tmp$;
      if (this.result_0 === UNDECIDED) {
        this.result_0 = COROUTINE_SUSPENDED;
      }
      var result = this.result_0;
      if (result === RESUMED)
        tmp$ = COROUTINE_SUSPENDED;
      else if (Kotlin.isType(result, Fail))
        throw result.exception;
      else {
        tmp$ = result;
      }
      return tmp$;
    };
    SafeContinuation.$metadata$ = {kind: Kind_CLASS, simpleName: 'SafeContinuation', interfaces: [Continuation]};
    function SafeContinuation_init(delegate, $this) {
      $this = $this || Object.create(SafeContinuation.prototype);
      SafeContinuation.call($this, delegate, UNDECIDED);
      return $this;
    }
    var COROUTINE_SUSPENDED;
    function CoroutineSuspendedMarker() {
      CoroutineSuspendedMarker_instance = this;
    }
    CoroutineSuspendedMarker.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CoroutineSuspendedMarker', interfaces: []};
    var CoroutineSuspendedMarker_instance = null;
    function CoroutineSuspendedMarker_getInstance() {
      if (CoroutineSuspendedMarker_instance === null) {
        new CoroutineSuspendedMarker();
      }
      return CoroutineSuspendedMarker_instance;
    }
    var ContinuationInterceptor$Key_instance = null;
    var EmptyCoroutineContext_instance = null;
    function Continuation() {
    }
    Continuation.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Continuation', interfaces: []};
    defineInlineFunction('kotlin.kotlin.coroutines.experimental.suspendCoroutine_z3e1t3$', wrapFunction(function () {
      var SafeContinuation_init = _.kotlin.coroutines.experimental.SafeContinuation_init_n4f53e$;
      function suspendCoroutineOrReturn$lambda(closure$block) {
        return function (cont) {
          return closure$block(cont.facade);
        };
      }
      function suspendCoroutine$lambda(closure$block) {
        return function (c) {
          var safe = SafeContinuation_init(c);
          closure$block(safe);
          return safe.getResult();
        };
      }
      return function (block, continuation) {
        Kotlin.suspendCall(suspendCoroutineOrReturn$lambda(suspendCoroutine$lambda(block))(Kotlin.coroutineReceiver()));
        return Kotlin.coroutineResult(Kotlin.coroutineReceiver());
      };
    }));
    var State_NotReady;
    var State_ManyNotReady;
    var State_ManyReady;
    var State_Ready;
    var State_Done;
    var State_Failed;
    defineInlineFunction('kotlin.kotlin.coroutines.experimental.intrinsics.suspendCoroutineOrReturn_8ufn2u$', wrapFunction(function () {
      function suspendCoroutineOrReturn$lambda(closure$block) {
        return function (cont) {
          return closure$block(cont.facade);
        };
      }
      return function (block, continuation) {
        Kotlin.suspendCall(suspendCoroutineOrReturn$lambda(block)(Kotlin.coroutineReceiver()));
        return Kotlin.coroutineResult(Kotlin.coroutineReceiver());
      };
    }));
    defineInlineFunction('kotlin.kotlin.coroutines.experimental.intrinsics.suspendCoroutineUninterceptedOrReturn_8ufn2u$', wrapFunction(function () {
      var NotImplementedError_init = Kotlin.kotlin.NotImplementedError;
      return function (block, continuation) {
        throw new NotImplementedError_init('Implementation of suspendCoroutineUninterceptedOrReturn is intrinsic');
      };
    }));
    var package$kotlin = _.kotlin || (_.kotlin = {});
    var package$coroutines = package$kotlin.coroutines || (package$kotlin.coroutines = {});
    var package$experimental = package$coroutines.experimental || (package$coroutines.experimental = {});
    package$experimental.SafeContinuation_init_n4f53e$ = SafeContinuation_init;
    package$experimental.SafeContinuation = SafeContinuation;
    package$experimental.Continuation = Continuation;
    UNDECIDED = new Any();
    RESUMED = new Any();
    COROUTINE_SUSPENDED = CoroutineSuspendedMarker_getInstance();
    State_NotReady = 0;
    State_ManyNotReady = 1;
    State_ManyReady = 2;
    State_Ready = 3;
    State_Done = 4;
    State_Failed = 5;
  }());
}));

//# sourceMappingURL=kotlin.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./kotlin-js-min/main/kotlinx-serialization-kotlinx-serialization-runtime.js":
/*!***********************************************************************************!*\
  !*** ./kotlin-js-min/main/kotlinx-serialization-kotlinx-serialization-runtime.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {
  if (true)
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(/*! kotlin */ "./kotlin-js-min/main/kotlin.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  else {}
}(this, function (_, Kotlin) {
  'use strict';
  var Enum = Kotlin.kotlin.Enum;
  var Kind_CLASS = Kotlin.Kind.CLASS;
  var throwISE = Kotlin.throwISE;
  var getKClass = Kotlin.getKClass;
  var Kind_INTERFACE = Kotlin.Kind.INTERFACE;
  var Kind_OBJECT = Kotlin.Kind.OBJECT;
  var emptyList = Kotlin.kotlin.collections.emptyList_287e2$;
  var defineInlineFunction = Kotlin.defineInlineFunction;
  var wrapFunction = Kotlin.wrapFunction;
  var NotImplementedError_init = Kotlin.kotlin.NotImplementedError;
  var ensureNotNull = Kotlin.ensureNotNull;
  var toBoxedChar = Kotlin.toBoxedChar;
  var throwCCE = Kotlin.throwCCE;
  var RuntimeException = Kotlin.kotlin.RuntimeException;
  var getValue = Kotlin.kotlin.collections.getValue_t9ocha$;
  var LinkedHashMap_init = Kotlin.kotlin.collections.LinkedHashMap_init_q3lmfv$;
  var Map = Kotlin.kotlin.collections.Map;
  var toString = Kotlin.toString;
  var Any = Object;
  var IllegalArgumentException_init = Kotlin.kotlin.IllegalArgumentException_init_pdl1vj$;
  var KClass = Kotlin.kotlin.reflect.KClass;
  var List = Kotlin.kotlin.collections.List;
  var equals = Kotlin.equals;
  var MutableList = Kotlin.kotlin.collections.MutableList;
  var ArrayList = Kotlin.kotlin.collections.ArrayList;
  var HashSet = Kotlin.kotlin.collections.HashSet;
  var Set = Kotlin.kotlin.collections.Set;
  var MutableSet = Kotlin.kotlin.collections.MutableSet;
  var LinkedHashSet = Kotlin.kotlin.collections.LinkedHashSet;
  var HashMap = Kotlin.kotlin.collections.HashMap;
  var MutableMap = Kotlin.kotlin.collections.MutableMap;
  var LinkedHashMap = Kotlin.kotlin.collections.LinkedHashMap;
  var Map$Entry = Kotlin.kotlin.collections.Map.Entry;
  var Pair = Kotlin.kotlin.Pair;
  var UnsupportedOperationException_init = Kotlin.kotlin.UnsupportedOperationException_init_pdl1vj$;
  var IllegalStateException_init = Kotlin.kotlin.IllegalStateException_init_pdl1vj$;
  var collectionSizeOrDefault = Kotlin.kotlin.collections.collectionSizeOrDefault_ba2ldo$;
  var ArrayList_init = Kotlin.kotlin.collections.ArrayList_init_ww73n8$;
  var until = Kotlin.kotlin.ranges.until_dqglrj$;
  var Unit = Kotlin.kotlin.Unit;
  var last = Kotlin.kotlin.collections.last_2p1efm$;
  var lastOrNull = Kotlin.kotlin.collections.lastOrNull_2p1efm$;
  var get_lastIndex = Kotlin.kotlin.collections.get_lastIndex_55thoc$;
  var kotlin = Kotlin.kotlin;
  var ArrayList_init_0 = Kotlin.kotlin.collections.ArrayList_init_287e2$;
  var toByte = Kotlin.toByte;
  var IntRange = Kotlin.kotlin.ranges.IntRange;
  var kotlin_js_internal_ByteCompanionObject = Kotlin.kotlin.js.internal.ByteCompanionObject;
  var toShort = Kotlin.toShort;
  var kotlin_js_internal_ShortCompanionObject = Kotlin.kotlin.js.internal.ShortCompanionObject;
  var L2147483648 = new Kotlin.Long(-2147483648, 0);
  var Long$Companion$MAX_VALUE = Kotlin.Long.MAX_VALUE;
  var Long$Companion$MIN_VALUE = Kotlin.Long.MIN_VALUE;
  var toChar = Kotlin.toChar;
  var toIntOrNull = Kotlin.kotlin.text.toIntOrNull_pdl1vz$;
  var hashCode = Kotlin.hashCode;
  var asList = Kotlin.kotlin.collections.asList_us0mfu$;
  var ArrayList_init_1 = Kotlin.kotlin.collections.ArrayList_init_mqih57$;
  var LinkedHashSet_init = Kotlin.kotlin.collections.LinkedHashSet_init_mqih57$;
  var HashSet_init = Kotlin.kotlin.collections.HashSet_init_287e2$;
  var HashSet_init_0 = Kotlin.kotlin.collections.HashSet_init_mqih57$;
  var LinkedHashMap_init_0 = Kotlin.kotlin.collections.LinkedHashMap_init_73mtqc$;
  var HashMap_init = Kotlin.kotlin.collections.HashMap_init_q3lmfv$;
  var HashMap_init_0 = Kotlin.kotlin.collections.HashMap_init_73mtqc$;
  var LinkedHashSet_init_0 = Kotlin.kotlin.collections.LinkedHashSet_init_287e2$;
  var indexOf = Kotlin.kotlin.collections.indexOf_mjy6jw$;
  var get_indices = Kotlin.kotlin.collections.get_indices_m7z4lg$;
  var copyToArray = Kotlin.kotlin.collections.copyToArray;
  var toLong = Kotlin.kotlin.text.toLong_pdl1vz$;
  var PrimitiveClasses$stringClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.stringClass;
  var Char = Kotlin.BoxedChar;
  var PrimitiveClasses$doubleClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.doubleClass;
  var PrimitiveClasses$floatClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.floatClass;
  var Long = Kotlin.Long;
  var PrimitiveClasses$intClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.intClass;
  var PrimitiveClasses$shortClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.shortClass;
  var PrimitiveClasses$byteClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.byteClass;
  var PrimitiveClasses$booleanClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.booleanClass;
  var getOrNull = Kotlin.kotlin.collections.getOrNull_8ujjk8$;
  var getOrNull_0 = Kotlin.kotlin.collections.getOrNull_yzln2o$;
  var copyOf = Kotlin.kotlin.collections.copyOf_1qu12l$;
  var joinToString = Kotlin.kotlin.collections.joinToString_fmv235$;
  var lazy = Kotlin.kotlin.lazy_klfg04$;
  var to = Kotlin.kotlin.to_ujzrz7$;
  var CharRange = Kotlin.kotlin.ranges.CharRange;
  var StringBuilder_init = Kotlin.kotlin.text.StringBuilder_init_za3lpa$;
  var trimStart = Kotlin.kotlin.text.trimStart_wqw3xr$;
  var L4294967295 = new Kotlin.Long(-1, 0);
  var StringBuilder_init_0 = Kotlin.kotlin.text.StringBuilder_init;
  var mapOf = Kotlin.kotlin.collections.mapOf_qfcya0$;
  var toInt = Kotlin.kotlin.text.toInt_pdl1vz$;
  var toLongOrNull = Kotlin.kotlin.text.toLongOrNull_pdl1vz$;
  var toDouble = Kotlin.kotlin.text.toDouble_pdl1vz$;
  var toDoubleOrNull = Kotlin.kotlin.text.toDoubleOrNull_pdl1vz$;
  var unboxChar = Kotlin.unboxChar;
  var String_0 = Kotlin.kotlin.text.String_8chfmy$;
  var copyOf_0 = Kotlin.kotlin.collections.copyOf_gtcw5h$;
  var coerceAtLeast = Kotlin.kotlin.ranges.coerceAtLeast_dqglrj$;
  var toBoolean = Kotlin.kotlin.text.toBoolean_pdl1vz$;
  var toByte_0 = Kotlin.kotlin.text.toByte_pdl1vz$;
  var toShort_0 = Kotlin.kotlin.text.toShort_pdl1vz$;
  var single = Kotlin.kotlin.text.single_gw00vp$;
  var isFinite = Kotlin.kotlin.isFinite_81szk$;
  var isFinite_0 = Kotlin.kotlin.isFinite_yrwdxr$;
  var equals_0 = Kotlin.kotlin.text.equals_igcy3c$;
  var iterator = Kotlin.kotlin.text.iterator_gw00vp$;
  var HashSet_init_1 = Kotlin.kotlin.collections.HashSet_init_ww73n8$;
  var toList = Kotlin.kotlin.collections.toList_7wnvza$;
  var throwUPAE = Kotlin.throwUPAE;
  var PrimitiveClasses$anyClass = Kotlin.kotlin.reflect.js.internal.PrimitiveClasses.anyClass;
  var IllegalArgumentException = Kotlin.kotlin.IllegalArgumentException;
  var mapCapacity = Kotlin.kotlin.collections.mapCapacity_za3lpa$;
  var LinkedHashMap_init_1 = Kotlin.kotlin.collections.LinkedHashMap_init_bwtc7$;
  var L_128 = Kotlin.Long.fromInt(-128);
  var L0 = Kotlin.Long.ZERO;
  var L127 = Kotlin.Long.fromInt(127);
  var L128 = Kotlin.Long.fromInt(128);
  var L_1 = Kotlin.Long.NEG_ONE;
  var Exception = Kotlin.kotlin.Exception;
  var get_indices_0 = Kotlin.kotlin.text.get_indices_gw00vp$;
  var L9007199254740991 = new Kotlin.Long(-1, 2097151);
  var Math_0 = Math;
  var get_js = Kotlin.kotlin.js.get_js_1yb8b7$;
  UpdateMode.prototype = Object.create(Enum.prototype);
  UpdateMode.prototype.constructor = UpdateMode;
  PrimitiveKind.prototype = Object.create(SerialKind.prototype);
  PrimitiveKind.prototype.constructor = PrimitiveKind;
  PrimitiveKind$INT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$INT.prototype.constructor = PrimitiveKind$INT;
  PrimitiveKind$UNIT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$UNIT.prototype.constructor = PrimitiveKind$UNIT;
  PrimitiveKind$BOOLEAN.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$BOOLEAN.prototype.constructor = PrimitiveKind$BOOLEAN;
  PrimitiveKind$BYTE.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$BYTE.prototype.constructor = PrimitiveKind$BYTE;
  PrimitiveKind$SHORT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$SHORT.prototype.constructor = PrimitiveKind$SHORT;
  PrimitiveKind$LONG.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$LONG.prototype.constructor = PrimitiveKind$LONG;
  PrimitiveKind$FLOAT.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$FLOAT.prototype.constructor = PrimitiveKind$FLOAT;
  PrimitiveKind$DOUBLE.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$DOUBLE.prototype.constructor = PrimitiveKind$DOUBLE;
  PrimitiveKind$CHAR.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$CHAR.prototype.constructor = PrimitiveKind$CHAR;
  PrimitiveKind$STRING.prototype = Object.create(PrimitiveKind.prototype);
  PrimitiveKind$STRING.prototype.constructor = PrimitiveKind$STRING;
  StructureKind.prototype = Object.create(SerialKind.prototype);
  StructureKind.prototype.constructor = StructureKind;
  StructureKind$CLASS.prototype = Object.create(StructureKind.prototype);
  StructureKind$CLASS.prototype.constructor = StructureKind$CLASS;
  StructureKind$LIST.prototype = Object.create(StructureKind.prototype);
  StructureKind$LIST.prototype.constructor = StructureKind$LIST;
  StructureKind$MAP.prototype = Object.create(StructureKind.prototype);
  StructureKind$MAP.prototype.constructor = StructureKind$MAP;
  UnionKind.prototype = Object.create(SerialKind.prototype);
  UnionKind.prototype.constructor = UnionKind;
  UnionKind$OBJECT.prototype = Object.create(UnionKind.prototype);
  UnionKind$OBJECT.prototype.constructor = UnionKind$OBJECT;
  UnionKind$ENUM_KIND.prototype = Object.create(UnionKind.prototype);
  UnionKind$ENUM_KIND.prototype.constructor = UnionKind$ENUM_KIND;
  UnionKind$SEALED.prototype = Object.create(UnionKind.prototype);
  UnionKind$SEALED.prototype.constructor = UnionKind$SEALED;
  UnionKind$POLYMORPHIC.prototype = Object.create(UnionKind.prototype);
  UnionKind$POLYMORPHIC.prototype.constructor = UnionKind$POLYMORPHIC;
  SerializationException.prototype = Object.create(RuntimeException.prototype);
  SerializationException.prototype.constructor = SerializationException;
  UpdateNotSupportedException.prototype = Object.create(SerializationException.prototype);
  UpdateNotSupportedException.prototype.constructor = UpdateNotSupportedException;
  NamedValueEncoder.prototype = Object.create(TaggedEncoder.prototype);
  NamedValueEncoder.prototype.constructor = NamedValueEncoder;
  NamedValueDecoder.prototype = Object.create(TaggedDecoder.prototype);
  NamedValueDecoder.prototype.constructor = NamedValueDecoder;
  PolymorphicClassDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  PolymorphicClassDescriptor.prototype.constructor = PolymorphicClassDescriptor;
  ArrayListClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  ArrayListClassDesc.prototype.constructor = ArrayListClassDesc;
  NamedListClassDescriptor.prototype = Object.create(ListLikeDescriptor.prototype);
  NamedListClassDescriptor.prototype.constructor = NamedListClassDescriptor;
  LinkedHashSetClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  LinkedHashSetClassDesc.prototype.constructor = LinkedHashSetClassDesc;
  HashSetClassDesc.prototype = Object.create(ListLikeDescriptor.prototype);
  HashSetClassDesc.prototype.constructor = HashSetClassDesc;
  NamedMapClassDescriptor.prototype = Object.create(MapLikeDescriptor.prototype);
  NamedMapClassDescriptor.prototype.constructor = NamedMapClassDescriptor;
  LinkedHashMapClassDesc.prototype = Object.create(MapLikeDescriptor.prototype);
  LinkedHashMapClassDesc.prototype.constructor = LinkedHashMapClassDesc;
  HashMapClassDesc.prototype = Object.create(MapLikeDescriptor.prototype);
  HashMapClassDesc.prototype.constructor = HashMapClassDesc;
  ListLikeSerializer.prototype = Object.create(AbstractCollectionSerializer.prototype);
  ListLikeSerializer.prototype.constructor = ListLikeSerializer;
  MapLikeSerializer.prototype = Object.create(AbstractCollectionSerializer.prototype);
  MapLikeSerializer.prototype.constructor = MapLikeSerializer;
  ArrayListSerializer.prototype = Object.create(ListLikeSerializer.prototype);
  ArrayListSerializer.prototype.constructor = ArrayListSerializer;
  LinkedHashSetSerializer.prototype = Object.create(ListLikeSerializer.prototype);
  LinkedHashSetSerializer.prototype.constructor = LinkedHashSetSerializer;
  HashSetSerializer.prototype = Object.create(ListLikeSerializer.prototype);
  HashSetSerializer.prototype.constructor = HashSetSerializer;
  LinkedHashMapSerializer.prototype = Object.create(MapLikeSerializer.prototype);
  LinkedHashMapSerializer.prototype.constructor = LinkedHashMapSerializer;
  HashMapSerializer.prototype = Object.create(MapLikeSerializer.prototype);
  HashMapSerializer.prototype.constructor = HashMapSerializer;
  IntDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  IntDescriptor.prototype.constructor = IntDescriptor;
  UnitDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  UnitDescriptor.prototype.constructor = UnitDescriptor;
  BooleanDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  BooleanDescriptor.prototype.constructor = BooleanDescriptor;
  ByteDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  ByteDescriptor.prototype.constructor = ByteDescriptor;
  ShortDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  ShortDescriptor.prototype.constructor = ShortDescriptor;
  LongDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  LongDescriptor.prototype.constructor = LongDescriptor;
  FloatDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  FloatDescriptor.prototype.constructor = FloatDescriptor;
  DoubleDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  DoubleDescriptor.prototype.constructor = DoubleDescriptor;
  CharDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  CharDescriptor.prototype.constructor = CharDescriptor;
  StringDescriptor.prototype = Object.create(PrimitiveDescriptor.prototype);
  StringDescriptor.prototype.constructor = StringDescriptor;
  SerialClassDescImpl$MissingDescriptorException.prototype = Object.create(SerializationException.prototype);
  SerialClassDescImpl$MissingDescriptorException.prototype.constructor = SerialClassDescImpl$MissingDescriptorException;
  MapEntrySerializer.prototype = Object.create(KeyValueSerializer.prototype);
  MapEntrySerializer.prototype.constructor = MapEntrySerializer;
  MapEntryClassDesc.prototype = Object.create(SerialClassDescImpl.prototype);
  MapEntryClassDesc.prototype.constructor = MapEntryClassDesc;
  Json.prototype = Object.create(AbstractSerialFormat.prototype);
  Json.prototype.constructor = Json;
  JsonPrimitive.prototype = Object.create(JsonElement.prototype);
  JsonPrimitive.prototype.constructor = JsonPrimitive;
  JsonLiteral.prototype = Object.create(JsonPrimitive.prototype);
  JsonLiteral.prototype.constructor = JsonLiteral;
  JsonNull.prototype = Object.create(JsonPrimitive.prototype);
  JsonNull.prototype.constructor = JsonNull;
  JsonObject.prototype = Object.create(JsonElement.prototype);
  JsonObject.prototype.constructor = JsonObject;
  JsonArray.prototype = Object.create(JsonElement.prototype);
  JsonArray.prototype.constructor = JsonArray;
  JsonElementSerializer$descriptor$ObjectLiteral.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonElementSerializer$descriptor$ObjectLiteral.prototype.constructor = JsonElementSerializer$descriptor$ObjectLiteral;
  JsonPrimitiveSerializer$JsonPrimitiveDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonPrimitiveSerializer$JsonPrimitiveDescriptor.prototype.constructor = JsonPrimitiveSerializer$JsonPrimitiveDescriptor;
  JsonNullSerializer$JsonNullDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonNullSerializer$JsonNullDescriptor.prototype.constructor = JsonNullSerializer$JsonNullDescriptor;
  JsonLiteralSerializer$JsonLiteralDescriptor.prototype = Object.create(SerialClassDescImpl.prototype);
  JsonLiteralSerializer$JsonLiteralDescriptor.prototype.constructor = JsonLiteralSerializer$JsonLiteralDescriptor;
  JsonException.prototype = Object.create(SerializationException.prototype);
  JsonException.prototype.constructor = JsonException;
  JsonDecodingException.prototype = Object.create(JsonException.prototype);
  JsonDecodingException.prototype.constructor = JsonDecodingException;
  JsonEncodingException.prototype = Object.create(JsonException.prototype);
  JsonEncodingException.prototype.constructor = JsonEncodingException;
  StreamingJsonInput.prototype = Object.create(ElementValueDecoder.prototype);
  StreamingJsonInput.prototype.constructor = StreamingJsonInput;
  StreamingJsonOutput.prototype = Object.create(ElementValueEncoder.prototype);
  StreamingJsonOutput.prototype.constructor = StreamingJsonOutput;
  AbstractJsonTreeInput.prototype = Object.create(NamedValueDecoder.prototype);
  AbstractJsonTreeInput.prototype.constructor = AbstractJsonTreeInput;
  JsonPrimitiveInput.prototype = Object.create(AbstractJsonTreeInput.prototype);
  JsonPrimitiveInput.prototype.constructor = JsonPrimitiveInput;
  JsonTreeInput.prototype = Object.create(AbstractJsonTreeInput.prototype);
  JsonTreeInput.prototype.constructor = JsonTreeInput;
  JsonTreeMapInput.prototype = Object.create(JsonTreeInput.prototype);
  JsonTreeMapInput.prototype.constructor = JsonTreeMapInput;
  JsonTreeListInput.prototype = Object.create(AbstractJsonTreeInput.prototype);
  JsonTreeListInput.prototype.constructor = JsonTreeListInput;
  AbstractJsonTreeOutput.prototype = Object.create(NamedValueEncoder.prototype);
  AbstractJsonTreeOutput.prototype.constructor = AbstractJsonTreeOutput;
  JsonPrimitiveOutput.prototype = Object.create(AbstractJsonTreeOutput.prototype);
  JsonPrimitiveOutput.prototype.constructor = JsonPrimitiveOutput;
  JsonTreeOutput.prototype = Object.create(AbstractJsonTreeOutput.prototype);
  JsonTreeOutput.prototype.constructor = JsonTreeOutput;
  JsonTreeMapOutput.prototype = Object.create(JsonTreeOutput.prototype);
  JsonTreeMapOutput.prototype.constructor = JsonTreeMapOutput;
  JsonTreeListOutput.prototype = Object.create(AbstractJsonTreeOutput.prototype);
  JsonTreeListOutput.prototype.constructor = JsonTreeListOutput;
  WriteMode.prototype = Object.create(Enum.prototype);
  WriteMode.prototype.constructor = WriteMode;
  SerializerAlreadyRegisteredException.prototype = Object.create(IllegalArgumentException.prototype);
  SerializerAlreadyRegisteredException.prototype.constructor = SerializerAlreadyRegisteredException;
  var ByteOrder$LITTLE_ENDIAN_instance;
  var ByteOrder$BIG_ENDIAN_instance;
  function Encoder() {
  }
  Encoder.prototype.encodeSerializableValue_tf03ej$ = function (serializer, value) {
    serializer.serialize_awe97i$(this, value);
  };
  Encoder.prototype.encodeNullableSerializableValue_f4686g$ = function (serializer, value) {
    if (value == null) {
      this.encodeNull();
    }
     else {
      this.encodeNotNullMark();
      this.encodeSerializableValue_tf03ej$(serializer, value);
    }
  };
  Encoder.prototype.beginCollection_gly1x5$ = function (desc, collectionSize, typeParams) {
    return this.beginStructure_r0sa6z$(desc, typeParams.slice());
  };
  Encoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Encoder', interfaces: []};
  function CompositeEncoder() {
  }
  CompositeEncoder.prototype.endStructure_qatsm0$ = function (desc) {
  };
  CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$ = function (desc, index) {
    return true;
  };
  CompositeEncoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CompositeEncoder', interfaces: []};
  function Decoder() {
  }
  Decoder.prototype.decodeSerializableValue_w63s0f$ = function (deserializer) {
    return deserializer.deserialize_nts5qn$(this);
  };
  Decoder.prototype.decodeNullableSerializableValue_aae3ea$ = function (deserializer) {
    return this.decodeNotNullMark() ? this.decodeSerializableValue_w63s0f$(deserializer) : this.decodeNull();
  };
  Decoder.prototype.updateSerializableValue_19c8k5$ = function (deserializer, old) {
    var tmp$;
    switch (this.updateMode.name) {
      case 'BANNED':
        throw new UpdateNotSupportedException(deserializer.descriptor.name);
      case 'OVERWRITE':
        tmp$ = this.decodeSerializableValue_w63s0f$(deserializer);
        break;
      case 'UPDATE':
        tmp$ = deserializer.patch_mynpiu$(this, old);
        break;
      default:tmp$ = Kotlin.noWhenBranchMatched();
        break;
    }
    return tmp$;
  };
  Decoder.prototype.updateNullableSerializableValue_exmlbs$ = function (deserializer, old) {
    var tmp$;
    if (this.updateMode === UpdateMode$BANNED_getInstance())
      throw new UpdateNotSupportedException(deserializer.descriptor.name);
    else if (this.updateMode === UpdateMode$OVERWRITE_getInstance() || old == null)
      tmp$ = this.decodeNullableSerializableValue_aae3ea$(deserializer);
    else if (this.decodeNotNullMark())
      tmp$ = deserializer.patch_mynpiu$(this, old);
    else {
      this.decodeNull();
      tmp$ = old;
    }
    return tmp$;
  };
  Decoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'Decoder', interfaces: []};
  function CompositeDecoder() {
    CompositeDecoder$Companion_getInstance();
  }
  CompositeDecoder.prototype.endStructure_qatsm0$ = function (desc) {
  };
  function CompositeDecoder$Companion() {
    CompositeDecoder$Companion_instance = this;
    this.READ_DONE = -1;
    this.READ_ALL = -2;
    this.UNKNOWN_NAME = -3;
  }
  CompositeDecoder$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var CompositeDecoder$Companion_instance = null;
  function CompositeDecoder$Companion_getInstance() {
    if (CompositeDecoder$Companion_instance === null) {
      new CompositeDecoder$Companion();
    }
    return CompositeDecoder$Companion_instance;
  }
  CompositeDecoder.prototype.decodeCollectionSize_qatsm0$ = function (desc) {
    return -1;
  };
  CompositeDecoder.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'CompositeDecoder', interfaces: []};
  function ContextSerializer(serializableClass) {
    this.serializableClass_0 = serializableClass;
    this.descriptor_f98ejb$_0 = new ContextSerializer$descriptor$ObjectLiteral('CONTEXT');
  }
  function SerialDescriptor() {
  }
  SerialDescriptor.prototype.getEntityAnnotations = function () {
    return emptyList();
  };
  SerialDescriptor.prototype.getElementAnnotations_za3lpa$ = function (index) {
    return emptyList();
  };
  Object.defineProperty(SerialDescriptor.prototype, 'elementsCount', {get: function () {
    return 0;
  }});
  SerialDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    throw new NotImplementedError_init();
  };
  Object.defineProperty(SerialDescriptor.prototype, 'isNullable', {get: function () {
    return false;
  }});
  SerialDescriptor.prototype.isElementOptional_za3lpa$ = function (index) {
    return false;
  };
  SerialDescriptor.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialDescriptor', interfaces: []};
  function SerializationStrategy() {
  }
  SerializationStrategy.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerializationStrategy', interfaces: []};
  function DeserializationStrategy() {
  }
  DeserializationStrategy.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'DeserializationStrategy', interfaces: []};
  function UpdateMode(name, ordinal) {
    Enum.call(this);
    this.name$ = name;
    this.ordinal$ = ordinal;
  }
  function UpdateMode_initFields() {
    UpdateMode_initFields = function () {
    };
    UpdateMode$BANNED_instance = new UpdateMode('BANNED', 0);
    UpdateMode$OVERWRITE_instance = new UpdateMode('OVERWRITE', 1);
    UpdateMode$UPDATE_instance = new UpdateMode('UPDATE', 2);
  }
  var UpdateMode$BANNED_instance;
  function UpdateMode$BANNED_getInstance() {
    UpdateMode_initFields();
    return UpdateMode$BANNED_instance;
  }
  var UpdateMode$OVERWRITE_instance;
  function UpdateMode$OVERWRITE_getInstance() {
    UpdateMode_initFields();
    return UpdateMode$OVERWRITE_instance;
  }
  var UpdateMode$UPDATE_instance;
  function UpdateMode$UPDATE_getInstance() {
    UpdateMode_initFields();
    return UpdateMode$UPDATE_instance;
  }
  UpdateMode.$metadata$ = {kind: Kind_CLASS, simpleName: 'UpdateMode', interfaces: [Enum]};
  function UpdateMode$values() {
    return [UpdateMode$BANNED_getInstance(), UpdateMode$OVERWRITE_getInstance(), UpdateMode$UPDATE_getInstance()];
  }
  UpdateMode.values = UpdateMode$values;
  function UpdateMode$valueOf(name) {
    switch (name) {
      case 'BANNED':
        return UpdateMode$BANNED_getInstance();
      case 'OVERWRITE':
        return UpdateMode$OVERWRITE_getInstance();
      case 'UPDATE':
        return UpdateMode$UPDATE_getInstance();
      default:throwISE('No enum constant kotlinx.serialization.UpdateMode.' + name);
    }
  }
  UpdateMode.valueOf_61zpoe$ = UpdateMode$valueOf;
  function KSerializer() {
  }
  KSerializer.prototype.patch_mynpiu$ = function (decoder, old) {
    throw new UpdateNotSupportedException(this.descriptor.name);
  };
  KSerializer.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'KSerializer', interfaces: [DeserializationStrategy, SerializationStrategy]};
  function encode_0($receiver, strategy, obj) {
    $receiver.encodeSerializableValue_tf03ej$(strategy, obj);
  }
  function decode_0($receiver, deserializer) {
    return $receiver.decodeSerializableValue_w63s0f$(deserializer);
  }
  var deprecationText;
  function SerialKind() {
  }
  SerialKind.prototype.toString = function () {
    return ensureNotNull(Kotlin.getKClassFromExpression(this).simpleName);
  };
  SerialKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialKind', interfaces: []};
  function PrimitiveKind() {
    SerialKind.call(this);
  }
  function PrimitiveKind$INT() {
    PrimitiveKind$INT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$INT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'INT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$INT_instance = null;
  function PrimitiveKind$INT_getInstance() {
    if (PrimitiveKind$INT_instance === null) {
      new PrimitiveKind$INT();
    }
    return PrimitiveKind$INT_instance;
  }
  function PrimitiveKind$UNIT() {
    PrimitiveKind$UNIT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$UNIT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UNIT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$UNIT_instance = null;
  function PrimitiveKind$UNIT_getInstance() {
    if (PrimitiveKind$UNIT_instance === null) {
      new PrimitiveKind$UNIT();
    }
    return PrimitiveKind$UNIT_instance;
  }
  function PrimitiveKind$BOOLEAN() {
    PrimitiveKind$BOOLEAN_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$BOOLEAN.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BOOLEAN', interfaces: [PrimitiveKind]};
  var PrimitiveKind$BOOLEAN_instance = null;
  function PrimitiveKind$BOOLEAN_getInstance() {
    if (PrimitiveKind$BOOLEAN_instance === null) {
      new PrimitiveKind$BOOLEAN();
    }
    return PrimitiveKind$BOOLEAN_instance;
  }
  function PrimitiveKind$BYTE() {
    PrimitiveKind$BYTE_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$BYTE.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BYTE', interfaces: [PrimitiveKind]};
  var PrimitiveKind$BYTE_instance = null;
  function PrimitiveKind$BYTE_getInstance() {
    if (PrimitiveKind$BYTE_instance === null) {
      new PrimitiveKind$BYTE();
    }
    return PrimitiveKind$BYTE_instance;
  }
  function PrimitiveKind$SHORT() {
    PrimitiveKind$SHORT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$SHORT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SHORT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$SHORT_instance = null;
  function PrimitiveKind$SHORT_getInstance() {
    if (PrimitiveKind$SHORT_instance === null) {
      new PrimitiveKind$SHORT();
    }
    return PrimitiveKind$SHORT_instance;
  }
  function PrimitiveKind$LONG() {
    PrimitiveKind$LONG_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$LONG.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LONG', interfaces: [PrimitiveKind]};
  var PrimitiveKind$LONG_instance = null;
  function PrimitiveKind$LONG_getInstance() {
    if (PrimitiveKind$LONG_instance === null) {
      new PrimitiveKind$LONG();
    }
    return PrimitiveKind$LONG_instance;
  }
  function PrimitiveKind$FLOAT() {
    PrimitiveKind$FLOAT_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$FLOAT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FLOAT', interfaces: [PrimitiveKind]};
  var PrimitiveKind$FLOAT_instance = null;
  function PrimitiveKind$FLOAT_getInstance() {
    if (PrimitiveKind$FLOAT_instance === null) {
      new PrimitiveKind$FLOAT();
    }
    return PrimitiveKind$FLOAT_instance;
  }
  function PrimitiveKind$DOUBLE() {
    PrimitiveKind$DOUBLE_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$DOUBLE.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DOUBLE', interfaces: [PrimitiveKind]};
  var PrimitiveKind$DOUBLE_instance = null;
  function PrimitiveKind$DOUBLE_getInstance() {
    if (PrimitiveKind$DOUBLE_instance === null) {
      new PrimitiveKind$DOUBLE();
    }
    return PrimitiveKind$DOUBLE_instance;
  }
  function PrimitiveKind$CHAR() {
    PrimitiveKind$CHAR_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$CHAR.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CHAR', interfaces: [PrimitiveKind]};
  var PrimitiveKind$CHAR_instance = null;
  function PrimitiveKind$CHAR_getInstance() {
    if (PrimitiveKind$CHAR_instance === null) {
      new PrimitiveKind$CHAR();
    }
    return PrimitiveKind$CHAR_instance;
  }
  function PrimitiveKind$STRING() {
    PrimitiveKind$STRING_instance = this;
    PrimitiveKind.call(this);
  }
  PrimitiveKind$STRING.$metadata$ = {kind: Kind_OBJECT, simpleName: 'STRING', interfaces: [PrimitiveKind]};
  var PrimitiveKind$STRING_instance = null;
  function PrimitiveKind$STRING_getInstance() {
    if (PrimitiveKind$STRING_instance === null) {
      new PrimitiveKind$STRING();
    }
    return PrimitiveKind$STRING_instance;
  }
  PrimitiveKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'PrimitiveKind', interfaces: [SerialKind]};
  function StructureKind() {
    SerialKind.call(this);
  }
  function StructureKind$CLASS() {
    StructureKind$CLASS_instance = this;
    StructureKind.call(this);
  }
  StructureKind$CLASS.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CLASS', interfaces: [StructureKind]};
  var StructureKind$CLASS_instance = null;
  function StructureKind$CLASS_getInstance() {
    if (StructureKind$CLASS_instance === null) {
      new StructureKind$CLASS();
    }
    return StructureKind$CLASS_instance;
  }
  function StructureKind$LIST() {
    StructureKind$LIST_instance = this;
    StructureKind.call(this);
  }
  StructureKind$LIST.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LIST', interfaces: [StructureKind]};
  var StructureKind$LIST_instance = null;
  function StructureKind$LIST_getInstance() {
    if (StructureKind$LIST_instance === null) {
      new StructureKind$LIST();
    }
    return StructureKind$LIST_instance;
  }
  function StructureKind$MAP() {
    StructureKind$MAP_instance = this;
    StructureKind.call(this);
  }
  StructureKind$MAP.$metadata$ = {kind: Kind_OBJECT, simpleName: 'MAP', interfaces: [StructureKind]};
  var StructureKind$MAP_instance = null;
  function StructureKind$MAP_getInstance() {
    if (StructureKind$MAP_instance === null) {
      new StructureKind$MAP();
    }
    return StructureKind$MAP_instance;
  }
  StructureKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'StructureKind', interfaces: [SerialKind]};
  function UnionKind() {
    SerialKind.call(this);
  }
  function UnionKind$OBJECT() {
    UnionKind$OBJECT_instance = this;
    UnionKind.call(this);
  }
  UnionKind$OBJECT.$metadata$ = {kind: Kind_OBJECT, simpleName: 'OBJECT', interfaces: [UnionKind]};
  var UnionKind$OBJECT_instance = null;
  function UnionKind$OBJECT_getInstance() {
    if (UnionKind$OBJECT_instance === null) {
      new UnionKind$OBJECT();
    }
    return UnionKind$OBJECT_instance;
  }
  function UnionKind$ENUM_KIND() {
    UnionKind$ENUM_KIND_instance = this;
    UnionKind.call(this);
  }
  UnionKind$ENUM_KIND.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ENUM_KIND', interfaces: [UnionKind]};
  var UnionKind$ENUM_KIND_instance = null;
  function UnionKind$ENUM_KIND_getInstance() {
    if (UnionKind$ENUM_KIND_instance === null) {
      new UnionKind$ENUM_KIND();
    }
    return UnionKind$ENUM_KIND_instance;
  }
  function UnionKind$SEALED() {
    UnionKind$SEALED_instance = this;
    UnionKind.call(this);
  }
  UnionKind$SEALED.$metadata$ = {kind: Kind_OBJECT, simpleName: 'SEALED', interfaces: [UnionKind]};
  var UnionKind$SEALED_instance = null;
  function UnionKind$SEALED_getInstance() {
    if (UnionKind$SEALED_instance === null) {
      new UnionKind$SEALED();
    }
    return UnionKind$SEALED_instance;
  }
  function UnionKind$POLYMORPHIC() {
    UnionKind$POLYMORPHIC_instance = this;
    UnionKind.call(this);
  }
  UnionKind$POLYMORPHIC.$metadata$ = {kind: Kind_OBJECT, simpleName: 'POLYMORPHIC', interfaces: [UnionKind]};
  var UnionKind$POLYMORPHIC_instance = null;
  function UnionKind$POLYMORPHIC_getInstance() {
    if (UnionKind$POLYMORPHIC_instance === null) {
      new UnionKind$POLYMORPHIC();
    }
    return UnionKind$POLYMORPHIC_instance;
  }
  UnionKind.$metadata$ = {kind: Kind_CLASS, simpleName: 'UnionKind', interfaces: [SerialKind]};
  function ElementValueEncoder() {
  }
  Object.defineProperty(ElementValueEncoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  ElementValueEncoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  ElementValueEncoder.prototype.encodeElement_3zr2iy$ = function (desc, index) {
    return true;
  };
  ElementValueEncoder.prototype.encodeNotNullMark = function () {
  };
  ElementValueEncoder.prototype.encodeValue_za3rmp$ = function (value) {
    throw new SerializationException('Non-serializable ' + Kotlin.getKClassFromExpression(value) + ' is not supported by ' + Kotlin.getKClassFromExpression(this) + ' encoder');
  };
  ElementValueEncoder.prototype.encodeNull = function () {
    throw new SerializationException('null is not supported');
  };
  ElementValueEncoder.prototype.encodeUnit = function () {
    var encoder = this.beginStructure_r0sa6z$(UnitSerializer_getInstance().descriptor, []);
    encoder.endStructure_qatsm0$(UnitSerializer_getInstance().descriptor);
  };
  ElementValueEncoder.prototype.encodeBoolean_6taknv$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeByte_s8j3t7$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeShort_mq22fl$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeInt_za3lpa$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeLong_s8cxhz$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeFloat_mx4ult$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeDouble_14dthe$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeChar_s8itvh$ = function (value) {
    this.encodeValue_za3rmp$(toBoxedChar(value));
  };
  ElementValueEncoder.prototype.encodeString_61zpoe$ = function (value) {
    this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeEnum_39yahq$ = function (enumDescription, ordinal) {
    this.encodeValue_za3rmp$(ordinal);
  };
  ElementValueEncoder.prototype.encodeNonSerializableElement_4wpkd1$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeValue_za3rmp$(value);
  };
  ElementValueEncoder.prototype.encodeUnitElement_3zr2iy$ = function (desc, index) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeUnit();
  };
  ElementValueEncoder.prototype.encodeBooleanElement_w1b0nl$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeBoolean_6taknv$(value);
  };
  ElementValueEncoder.prototype.encodeByteElement_a3tadb$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeByte_s8j3t7$(value);
  };
  ElementValueEncoder.prototype.encodeShortElement_tet9k5$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeShort_mq22fl$(value);
  };
  ElementValueEncoder.prototype.encodeIntElement_4wpqag$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeInt_za3lpa$(value);
  };
  ElementValueEncoder.prototype.encodeLongElement_a3zgoj$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeLong_s8cxhz$(value);
  };
  ElementValueEncoder.prototype.encodeFloatElement_t7qhdx$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeFloat_mx4ult$(value);
  };
  ElementValueEncoder.prototype.encodeDoubleElement_imzr5k$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeDouble_14dthe$(value);
  };
  ElementValueEncoder.prototype.encodeCharElement_a3tkb1$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeChar_s8itvh$(value);
  };
  ElementValueEncoder.prototype.encodeStringElement_bgm7zs$ = function (desc, index, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeString_61zpoe$(value);
  };
  ElementValueEncoder.prototype.encodeSerializableElement_blecud$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeSerializableValue_tf03ej$(serializer, value);
  };
  ElementValueEncoder.prototype.encodeNullableSerializableElement_orpvvi$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeNullableSerializableValue_f4686g$(serializer, value);
  };
  ElementValueEncoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'ElementValueEncoder', interfaces: [CompositeEncoder, Encoder]};
  function ElementValueDecoder() {
    this.updateMode_fmb1ae$_0 = UpdateMode$UPDATE_getInstance();
  }
  Object.defineProperty(ElementValueDecoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  Object.defineProperty(ElementValueDecoder.prototype, 'updateMode', {get: function () {
    return this.updateMode_fmb1ae$_0;
  }});
  ElementValueDecoder.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    return -2;
  };
  ElementValueDecoder.prototype.decodeNotNullMark = function () {
    return true;
  };
  ElementValueDecoder.prototype.decodeNull = function () {
    return null;
  };
  ElementValueDecoder.prototype.decodeValue = function () {
    throw new SerializationException(Kotlin.getKClassFromExpression(this).toString() + " can't retrieve untyped values");
  };
  ElementValueDecoder.prototype.decodeUnit = function () {
    var reader = this.beginStructure_r0sa6z$(UnitSerializer_getInstance().descriptor, []);
    reader.endStructure_qatsm0$(UnitSerializer_getInstance().descriptor);
  };
  ElementValueDecoder.prototype.decodeBoolean = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'boolean' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeByte = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeShort = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeInt = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeLong = function () {
    var tmp$;
    return Kotlin.isType(tmp$ = this.decodeValue(), Kotlin.Long) ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeFloat = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeDouble = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeChar = function () {
    var tmp$;
    return Kotlin.isChar(tmp$ = this.decodeValue()) ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeString = function () {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'string' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.decodeEnum_w849qs$ = function (enumDescription) {
    var tmp$;
    return typeof (tmp$ = this.decodeValue()) === 'number' ? tmp$ : throwCCE();
  };
  ElementValueDecoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  ElementValueDecoder.prototype.decodeUnitElement_3zr2iy$ = function (desc, index) {
    this.decodeUnit();
  };
  ElementValueDecoder.prototype.decodeBooleanElement_3zr2iy$ = function (desc, index) {
    return this.decodeBoolean();
  };
  ElementValueDecoder.prototype.decodeByteElement_3zr2iy$ = function (desc, index) {
    return this.decodeByte();
  };
  ElementValueDecoder.prototype.decodeShortElement_3zr2iy$ = function (desc, index) {
    return this.decodeShort();
  };
  ElementValueDecoder.prototype.decodeIntElement_3zr2iy$ = function (desc, index) {
    return this.decodeInt();
  };
  ElementValueDecoder.prototype.decodeLongElement_3zr2iy$ = function (desc, index) {
    return this.decodeLong();
  };
  ElementValueDecoder.prototype.decodeFloatElement_3zr2iy$ = function (desc, index) {
    return this.decodeFloat();
  };
  ElementValueDecoder.prototype.decodeDoubleElement_3zr2iy$ = function (desc, index) {
    return this.decodeDouble();
  };
  ElementValueDecoder.prototype.decodeCharElement_3zr2iy$ = function (desc, index) {
    return this.decodeChar();
  };
  ElementValueDecoder.prototype.decodeStringElement_3zr2iy$ = function (desc, index) {
    return this.decodeString();
  };
  ElementValueDecoder.prototype.decodeSerializableElement_s44l7r$ = function (desc, index, deserializer) {
    return this.decodeSerializableValue_w63s0f$(deserializer);
  };
  ElementValueDecoder.prototype.decodeNullableSerializableElement_cwlm4k$ = function (desc, index, deserializer) {
    return this.decodeNullableSerializableValue_aae3ea$(deserializer);
  };
  ElementValueDecoder.prototype.updateSerializableElement_ehubvl$ = function (desc, index, deserializer, old) {
    return this.updateSerializableValue_19c8k5$(deserializer, old);
  };
  ElementValueDecoder.prototype.updateNullableSerializableElement_u33s02$ = function (desc, index, deserializer, old) {
    return this.updateNullableSerializableValue_exmlbs$(deserializer, old);
  };
  ElementValueDecoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'ElementValueDecoder', interfaces: [CompositeDecoder, Decoder]};
  function SerializationException(message, cause) {
    if (cause === void 0)
      cause = null;
    RuntimeException.call(this, message, cause);
    this.name = 'SerializationException';
  }
  SerializationException.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerializationException', interfaces: [RuntimeException]};
  function UpdateNotSupportedException(className) {
    SerializationException.call(this, 'Update is not supported for ' + className);
    this.name = 'UpdateNotSupportedException';
  }
  UpdateNotSupportedException.$metadata$ = {kind: Kind_CLASS, simpleName: 'UpdateNotSupportedException', interfaces: [SerializationException]};
  var Mapper$Companion_instance = null;
  function serializer($receiver) {
    var tmp$, tmp$_0;
    tmp$_0 = (tmp$ = compiledSerializer($receiver)) != null ? tmp$ : defaultSerializer($receiver);
    if (tmp$_0 == null) {
      throw new SerializationException("Can't locate argument-less serializer for " + $receiver + '. For generic classes, such as lists, please provide serializer explicitly.');
    }
    return tmp$_0;
  }
  function PolymorphicClassDescriptor() {
    PolymorphicClassDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'kotlin.Any');
    this.kind_r25cte$_0 = UnionKind$POLYMORPHIC_getInstance();
    this.addElement_ivxn3r$('class');
    this.addElement_ivxn3r$('value');
  }
  Object.defineProperty(PolymorphicClassDescriptor.prototype, 'kind', {get: function () {
    return this.kind_r25cte$_0;
  }});
  PolymorphicClassDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'PolymorphicClassDescriptor', interfaces: [SerialClassDescImpl]};
  var PolymorphicClassDescriptor_instance = null;
  function PolymorphicClassDescriptor_getInstance() {
    if (PolymorphicClassDescriptor_instance === null) {
      new PolymorphicClassDescriptor();
    }
    return PolymorphicClassDescriptor_instance;
  }
  function PolymorphicSerializer(baseClass) {
    this.baseClass = baseClass;
    this.descriptor_nog3ww$_0 = PolymorphicClassDescriptor_getInstance();
  }
  Object.defineProperty(PolymorphicSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_nog3ww$_0;
  }});
  PolymorphicSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var tmp$;
    var actualSerializer = this.findPolymorphicSerializer_9v08u4$(encoder, obj);
    var compositeEncoder = encoder.beginStructure_r0sa6z$(this.descriptor, []);
    compositeEncoder.encodeStringElement_bgm7zs$(this.descriptor, 0, actualSerializer.descriptor.name);
    compositeEncoder.encodeSerializableElement_blecud$(this.descriptor, 1, Kotlin.isType(tmp$ = actualSerializer, KSerializer) ? tmp$ : throwCCE(), obj);
    compositeEncoder.endStructure_qatsm0$(this.descriptor);
  };
  PolymorphicSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var tmp$;
    var compositeDecoder = decoder.beginStructure_r0sa6z$(this.descriptor, []);
    var klassName = {v: null};
    var value = null;
    mainLoop: while (true) {
      var index = compositeDecoder.decodeElementIndex_qatsm0$(this.descriptor);
      switch (index) {
        case -2:
          klassName.v = compositeDecoder.decodeStringElement_3zr2iy$(this.descriptor, 0);
          var serializer = this.findPolymorphicSerializer_b69zac$(compositeDecoder, klassName.v);
          value = compositeDecoder.decodeSerializableElement_s44l7r$(this.descriptor, 1, serializer);
          break mainLoop;
        case -1:
          break mainLoop;
        case 0:
          klassName.v = compositeDecoder.decodeStringElement_3zr2iy$(this.descriptor, index);
          break;
        case 1:
          var value_0 = klassName.v;
          var requireNotNull$result;
          if (value_0 == null) {
            var message = 'Cannot read polymorphic value before its type token';
            throw IllegalArgumentException_init(message.toString());
          }
           else {
            requireNotNull$result = value_0;
          }

          klassName.v = requireNotNull$result;
          var serializer_0 = this.findPolymorphicSerializer_b69zac$(compositeDecoder, klassName.v);
          value = compositeDecoder.decodeSerializableElement_s44l7r$(this.descriptor, index, serializer_0);
          break;
        default:throw new SerializationException('Invalid index in polymorphic deserialization of ' + (((tmp$ = klassName.v) != null ? tmp$ : 'unknown class') + ' with base ' + this.baseClass) + ('\n' + ' Expected 0, 1, READ_ALL(-2) or READ_DONE(-1), but found ' + index));
      }
    }
    compositeDecoder.endStructure_qatsm0$(this.descriptor);
    var value_1 = value;
    var requireNotNull$result_0;
    if (value_1 == null) {
      var message_0 = 'Polymorphic value have not been read for class ' + toString(klassName.v);
      throw IllegalArgumentException_init(message_0.toString());
    }
     else {
      requireNotNull$result_0 = value_1;
    }
    return requireNotNull$result_0;
  };
  PolymorphicSerializer.prototype.findPolymorphicSerializer_b69zac$ = function (decoder, klassName) {
    var tmp$;
    return (tmp$ = decoder.context.getPolymorphic_6xtsla$(this.baseClass, klassName)) != null ? tmp$ : throwSubtypeNotRegistered(klassName, this.baseClass);
  };
  PolymorphicSerializer.prototype.findPolymorphicSerializer_9v08u4$ = function (encoder, value) {
    var tmp$, tmp$_0;
    return (tmp$_0 = encoder.context.getPolymorphic_b1ce0a$(this.baseClass, Kotlin.isType(tmp$ = value, Any) ? tmp$ : throwCCE())) != null ? tmp$_0 : throwSubtypeNotRegistered_0(Kotlin.getKClassFromExpression(value), this.baseClass);
  };
  PolymorphicSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'PolymorphicSerializer', interfaces: [KSerializer]};
  function throwSubtypeNotRegistered(subClassName, baseClass) {
    throw new SerializationException(subClassName + ' is not registered for polymorphic serialization in the scope of ' + baseClass);
  }
  function throwSubtypeNotRegistered_0(subClass, baseClass) {
    return throwSubtypeNotRegistered(subClass.toString(), baseClass);
  }
  var INSTALL_DEPRECATION_TEXT;
  function SerialFormat() {
  }
  SerialFormat.prototype.install_stpyu4$ = function (module_0) {
  };
  SerialFormat.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialFormat', interfaces: []};
  function AbstractSerialFormat(context) {
    this.context_fzkcjb$_0 = context;
  }
  Object.defineProperty(AbstractSerialFormat.prototype, 'context', {get: function () {
    return this.context_fzkcjb$_0;
  }});
  AbstractSerialFormat.prototype.install_stpyu4$ = function (module_0) {
    throw new NotImplementedError_init(INSTALL_DEPRECATION_TEXT);
  };
  AbstractSerialFormat.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractSerialFormat', interfaces: [SerialFormat]};
  function BinaryFormat() {
  }
  function StringFormat() {
  }
  StringFormat.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'StringFormat', interfaces: [SerialFormat]};
  function elementDescriptors($receiver) {
    var $receiver_0 = until(0, $receiver.elementsCount);
    var destination = ArrayList_init(collectionSizeOrDefault($receiver_0, 10));
    var tmp$;
    tmp$ = $receiver_0.iterator();
    while (tmp$.hasNext()) {
      var item = tmp$.next();
      destination.add_11rb$($receiver.getElementDescriptor_za3lpa$(item));
    }
    return destination;
  }
  function getElementIndexOrThrow($receiver, name) {
    var i = $receiver.getElementIndex_61zpoe$(name);
    if (i === -3)
      throw new SerializationException($receiver.name + " does not contain element with name '" + name + "'");
    return i;
  }
  function TaggedEncoder() {
    this.tagStack_s9w57d$_0 = ArrayList_init_0();
  }
  Object.defineProperty(TaggedEncoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  TaggedEncoder.prototype.encodeTaggedValue_dpg7wc$ = function (tag, value) {
    throw new SerializationException('Non-serializable ' + Kotlin.getKClassFromExpression(value) + ' is not supported by ' + Kotlin.getKClassFromExpression(this) + ' encoder');
  };
  TaggedEncoder.prototype.encodeTaggedNotNullMark_11rb$ = function (tag) {
  };
  TaggedEncoder.prototype.encodeTaggedNull_11rb$ = function (tag) {
    throw new SerializationException('null is not supported');
  };
  TaggedEncoder.prototype.encodeTaggedNullable_vhmgtl$_0 = function (tag, value) {
    if (value == null) {
      this.encodeTaggedNull_11rb$(tag);
    }
     else {
      this.encodeTaggedNotNullMark_11rb$(tag);
      this.encodeTaggedValue_dpg7wc$(tag, value);
    }
  };
  TaggedEncoder.prototype.encodeTaggedUnit_11rb$ = function (tag) {
    this.encodeTaggedValue_dpg7wc$(tag, Unit);
  };
  TaggedEncoder.prototype.encodeTaggedInt_dpg1yx$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedByte_19qe40$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedShort_veccj0$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedLong_19wkf8$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedFloat_vlf4p8$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedDouble_e37ph5$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedBoolean_iuyhfk$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedChar_19qo1q$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, toBoxedChar(value));
  };
  TaggedEncoder.prototype.encodeTaggedString_l9l8mx$ = function (tag, value) {
    this.encodeTaggedValue_dpg7wc$(tag, value);
  };
  TaggedEncoder.prototype.encodeTaggedEnum_g3arax$ = function (tag, enumDescription, ordinal) {
    this.encodeTaggedValue_dpg7wc$(tag, ordinal);
  };
  TaggedEncoder.prototype.encodeElement_3zr2iy$ = function (desc, index) {
    var tag = this.getTag_m47q6f$(desc, index);
    var shouldWriteElement = this.shouldWriteElement_a5qihn$(desc, tag, index);
    if (shouldWriteElement) {
      this.pushTag_11rb$(tag);
    }
    return shouldWriteElement;
  };
  TaggedEncoder.prototype.shouldWriteElement_a5qihn$ = function (desc, tag, index) {
    return true;
  };
  TaggedEncoder.prototype.encodeNotNullMark = function () {
    this.encodeTaggedNotNullMark_11rb$(this.currentTag);
  };
  TaggedEncoder.prototype.encodeNull = function () {
    this.encodeTaggedNull_11rb$(this.popTag_hzle9u$_0());
  };
  TaggedEncoder.prototype.encodeUnit = function () {
    this.encodeTaggedUnit_11rb$(this.popTag_hzle9u$_0());
  };
  TaggedEncoder.prototype.encodeBoolean_6taknv$ = function (value) {
    this.encodeTaggedBoolean_iuyhfk$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeByte_s8j3t7$ = function (value) {
    this.encodeTaggedByte_19qe40$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeShort_mq22fl$ = function (value) {
    this.encodeTaggedShort_veccj0$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeInt_za3lpa$ = function (value) {
    this.encodeTaggedInt_dpg1yx$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeLong_s8cxhz$ = function (value) {
    this.encodeTaggedLong_19wkf8$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeFloat_mx4ult$ = function (value) {
    this.encodeTaggedFloat_vlf4p8$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeDouble_14dthe$ = function (value) {
    this.encodeTaggedDouble_e37ph5$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeChar_s8itvh$ = function (value) {
    this.encodeTaggedChar_19qo1q$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeString_61zpoe$ = function (value) {
    this.encodeTaggedString_l9l8mx$(this.popTag_hzle9u$_0(), value);
  };
  TaggedEncoder.prototype.encodeEnum_39yahq$ = function (enumDescription, ordinal) {
    this.encodeTaggedEnum_g3arax$(this.popTag_hzle9u$_0(), enumDescription, ordinal);
  };
  TaggedEncoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  TaggedEncoder.prototype.endStructure_qatsm0$ = function (desc) {
    if (!this.tagStack_s9w57d$_0.isEmpty())
      this.popTag_hzle9u$_0();
    this.endEncode_qatsm0$(desc);
  };
  TaggedEncoder.prototype.endEncode_qatsm0$ = function (desc) {
  };
  TaggedEncoder.prototype.encodeNonSerializableElement_4wpkd1$ = function (desc, index, value) {
    this.encodeTaggedValue_dpg7wc$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeUnitElement_3zr2iy$ = function (desc, index) {
    this.encodeTaggedUnit_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedEncoder.prototype.encodeBooleanElement_w1b0nl$ = function (desc, index, value) {
    this.encodeTaggedBoolean_iuyhfk$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeByteElement_a3tadb$ = function (desc, index, value) {
    this.encodeTaggedByte_19qe40$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeShortElement_tet9k5$ = function (desc, index, value) {
    this.encodeTaggedShort_veccj0$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeIntElement_4wpqag$ = function (desc, index, value) {
    this.encodeTaggedInt_dpg1yx$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeLongElement_a3zgoj$ = function (desc, index, value) {
    this.encodeTaggedLong_19wkf8$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeFloatElement_t7qhdx$ = function (desc, index, value) {
    this.encodeTaggedFloat_vlf4p8$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeDoubleElement_imzr5k$ = function (desc, index, value) {
    this.encodeTaggedDouble_e37ph5$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeCharElement_a3tkb1$ = function (desc, index, value) {
    this.encodeTaggedChar_19qo1q$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeStringElement_bgm7zs$ = function (desc, index, value) {
    this.encodeTaggedString_l9l8mx$(this.getTag_m47q6f$(desc, index), value);
  };
  TaggedEncoder.prototype.encodeSerializableElement_blecud$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeSerializableValue_tf03ej$(serializer, value);
  };
  TaggedEncoder.prototype.encodeNullableSerializableElement_orpvvi$ = function (desc, index, serializer, value) {
    if (this.encodeElement_3zr2iy$(desc, index))
      this.encodeNullableSerializableValue_f4686g$(serializer, value);
  };
  Object.defineProperty(TaggedEncoder.prototype, 'currentTag', {get: function () {
    return last(this.tagStack_s9w57d$_0);
  }});
  Object.defineProperty(TaggedEncoder.prototype, 'currentTagOrNull', {get: function () {
    return lastOrNull(this.tagStack_s9w57d$_0);
  }});
  TaggedEncoder.prototype.pushTag_11rb$ = function (name) {
    this.tagStack_s9w57d$_0.add_11rb$(name);
  };
  TaggedEncoder.prototype.popTag_hzle9u$_0 = function () {
    if (!this.tagStack_s9w57d$_0.isEmpty())
      return this.tagStack_s9w57d$_0.removeAt_za3lpa$(get_lastIndex(this.tagStack_s9w57d$_0));
    else
      throw new SerializationException('No tag in stack for requested element');
  };
  TaggedEncoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'TaggedEncoder', interfaces: [CompositeEncoder, Encoder]};
  function NamedValueEncoder(rootName) {
    if (rootName === void 0)
      rootName = '';
    TaggedEncoder.call(this);
    this.rootName = rootName;
  }
  NamedValueEncoder.prototype.getTag_m47q6f$ = function ($receiver, index) {
    return this.nested_61zpoe$(this.elementName_3zr2iy$($receiver, index));
  };
  NamedValueEncoder.prototype.nested_61zpoe$ = function (nestedName) {
    var tmp$;
    return this.composeName_puj7f4$((tmp$ = this.currentTagOrNull) != null ? tmp$ : this.rootName, nestedName);
  };
  NamedValueEncoder.prototype.elementName_3zr2iy$ = function (desc, index) {
    return desc.getElementName_za3lpa$(index);
  };
  NamedValueEncoder.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return parentName.length === 0 ? childName : parentName + '.' + childName;
  };
  NamedValueEncoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedValueEncoder', interfaces: [TaggedEncoder]};
  function TaggedDecoder() {
    this.updateMode_mc39q5$_0 = UpdateMode$UPDATE_getInstance();
    this.tagStack_auon0h$_0 = ArrayList_init_0();
    this.flag_10a271$_0 = false;
  }
  Object.defineProperty(TaggedDecoder.prototype, 'context', {get: function () {
    return EmptyModule_getInstance();
  }});
  Object.defineProperty(TaggedDecoder.prototype, 'updateMode', {get: function () {
    return this.updateMode_mc39q5$_0;
  }});
  TaggedDecoder.prototype.decodeTaggedValue_11rb$ = function (tag) {
    throw new SerializationException(Kotlin.getKClassFromExpression(this).toString() + " can't retrieve untyped values");
  };
  TaggedDecoder.prototype.decodeTaggedNotNullMark_11rb$ = function (tag) {
    return true;
  };
  TaggedDecoder.prototype.decodeTaggedNull_11rb$ = function (tag) {
    return null;
  };
  TaggedDecoder.prototype.decodeTaggedNullable_rd70r1$_0 = function (tag) {
    var tmp$;
    if (this.decodeTaggedNotNullMark_11rb$(tag)) {
      tmp$ = this.decodeTaggedValue_11rb$(tag);
    }
     else {
      tmp$ = this.decodeTaggedNull_11rb$(tag);
    }
    return tmp$;
  };
  TaggedDecoder.prototype.decodeTaggedUnit_11rb$ = function (tag) {
    var tmp$;
    Kotlin.isType(tmp$ = this.decodeTaggedValue_11rb$(tag), Object.getPrototypeOf(kotlin.Unit).constructor) ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedBoolean_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'boolean' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedByte_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedShort_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedInt_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedLong_11rb$ = function (tag) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.decodeTaggedValue_11rb$(tag), Kotlin.Long) ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedFloat_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedDouble_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedChar_11rb$ = function (tag) {
    var tmp$;
    return Kotlin.isChar(tmp$ = this.decodeTaggedValue_11rb$(tag)) ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedString_11rb$ = function (tag) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'string' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeTaggedEnum_wc8hrb$ = function (tag, enumDescription) {
    var tmp$;
    return typeof (tmp$ = this.decodeTaggedValue_11rb$(tag)) === 'number' ? tmp$ : throwCCE();
  };
  TaggedDecoder.prototype.decodeNotNullMark = function () {
    return this.decodeTaggedNotNullMark_11rb$(this.currentTag);
  };
  TaggedDecoder.prototype.decodeNull = function () {
    return null;
  };
  TaggedDecoder.prototype.decodeUnit = function () {
    this.decodeTaggedUnit_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeBoolean = function () {
    return this.decodeTaggedBoolean_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeByte = function () {
    return this.decodeTaggedByte_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeShort = function () {
    return this.decodeTaggedShort_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeInt = function () {
    return this.decodeTaggedInt_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeLong = function () {
    return this.decodeTaggedLong_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeFloat = function () {
    return this.decodeTaggedFloat_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeDouble = function () {
    return this.decodeTaggedDouble_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeChar = function () {
    return this.decodeTaggedChar_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeString = function () {
    return this.decodeTaggedString_11rb$(this.popTag_wbtf3a$_0());
  };
  TaggedDecoder.prototype.decodeEnum_w849qs$ = function (enumDescription) {
    return this.decodeTaggedEnum_wc8hrb$(this.popTag_wbtf3a$_0(), enumDescription);
  };
  TaggedDecoder.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    return this;
  };
  TaggedDecoder.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    return -2;
  };
  TaggedDecoder.prototype.decodeUnitElement_3zr2iy$ = function (desc, index) {
    this.decodeTaggedUnit_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeBooleanElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedBoolean_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeByteElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedByte_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeShortElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedShort_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeIntElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedInt_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeLongElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedLong_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeFloatElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedFloat_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeDoubleElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedDouble_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeCharElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedChar_11rb$(this.getTag_m47q6f$(desc, index));
  };
  TaggedDecoder.prototype.decodeStringElement_3zr2iy$ = function (desc, index) {
    return this.decodeTaggedString_11rb$(this.getTag_m47q6f$(desc, index));
  };
  function TaggedDecoder$decodeSerializableElement$lambda(closure$deserializer, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.decodeSerializableValue_w63s0f$(closure$deserializer);
    };
  }
  TaggedDecoder.prototype.decodeSerializableElement_s44l7r$ = function (desc, index, deserializer) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$decodeSerializableElement$lambda(deserializer, this));
  };
  function TaggedDecoder$decodeNullableSerializableElement$lambda(closure$deserializer, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.decodeNullableSerializableValue_aae3ea$(closure$deserializer);
    };
  }
  TaggedDecoder.prototype.decodeNullableSerializableElement_cwlm4k$ = function (desc, index, deserializer) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$decodeNullableSerializableElement$lambda(deserializer, this));
  };
  function TaggedDecoder$updateSerializableElement$lambda(closure$deserializer, closure$old, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.updateSerializableValue_19c8k5$(closure$deserializer, closure$old);
    };
  }
  TaggedDecoder.prototype.updateSerializableElement_ehubvl$ = function (desc, index, deserializer, old) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$updateSerializableElement$lambda(deserializer, old, this));
  };
  function TaggedDecoder$updateNullableSerializableElement$lambda(closure$deserializer, closure$old, this$TaggedDecoder) {
    return function () {
      return this$TaggedDecoder.updateNullableSerializableValue_exmlbs$(closure$deserializer, closure$old);
    };
  }
  TaggedDecoder.prototype.updateNullableSerializableElement_u33s02$ = function (desc, index, deserializer, old) {
    return this.tagBlock_6d26t9$_0(this.getTag_m47q6f$(desc, index), TaggedDecoder$updateNullableSerializableElement$lambda(deserializer, old, this));
  };
  TaggedDecoder.prototype.tagBlock_6d26t9$_0 = function (tag, block) {
    this.pushTag_11rb$(tag);
    var r = block();
    if (!this.flag_10a271$_0) {
      this.popTag_wbtf3a$_0();
    }
    this.flag_10a271$_0 = false;
    return r;
  };
  Object.defineProperty(TaggedDecoder.prototype, 'currentTag', {get: function () {
    return last(this.tagStack_auon0h$_0);
  }});
  Object.defineProperty(TaggedDecoder.prototype, 'currentTagOrNull', {get: function () {
    return lastOrNull(this.tagStack_auon0h$_0);
  }});
  TaggedDecoder.prototype.pushTag_11rb$ = function (name) {
    this.tagStack_auon0h$_0.add_11rb$(name);
  };
  TaggedDecoder.prototype.popTag_wbtf3a$_0 = function () {
    var r = this.tagStack_auon0h$_0.removeAt_za3lpa$(get_lastIndex(this.tagStack_auon0h$_0));
    this.flag_10a271$_0 = true;
    return r;
  };
  TaggedDecoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'TaggedDecoder', interfaces: [CompositeDecoder, Decoder]};
  function NamedValueDecoder(rootName) {
    if (rootName === void 0)
      rootName = '';
    TaggedDecoder.call(this);
    this.rootName = rootName;
  }
  NamedValueDecoder.prototype.getTag_m47q6f$ = function ($receiver, index) {
    return this.nested_61zpoe$(this.elementName_3zr2iy$($receiver, index));
  };
  NamedValueDecoder.prototype.nested_61zpoe$ = function (nestedName) {
    var tmp$;
    return this.composeName_puj7f4$((tmp$ = this.currentTagOrNull) != null ? tmp$ : this.rootName, nestedName);
  };
  NamedValueDecoder.prototype.elementName_3zr2iy$ = function (desc, index) {
    return desc.getElementName_za3lpa$(index);
  };
  NamedValueDecoder.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return parentName.length === 0 ? childName : parentName + '.' + childName;
  };
  NamedValueDecoder.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedValueDecoder', interfaces: [TaggedDecoder]};
  var Cbor$Companion_instance = null;
  function ListLikeDescriptor(elementDesc) {
    this.elementDesc = elementDesc;
    this.elementsCount_axr0xc$_0 = 1;
  }
  Object.defineProperty(ListLikeDescriptor.prototype, 'kind', {get: function () {
    return StructureKind$LIST_getInstance();
  }});
  Object.defineProperty(ListLikeDescriptor.prototype, 'elementsCount', {get: function () {
    return this.elementsCount_axr0xc$_0;
  }});
  ListLikeDescriptor.prototype.getElementName_za3lpa$ = function (index) {
    return index.toString();
  };
  ListLikeDescriptor.prototype.getElementIndex_61zpoe$ = function (name) {
    var tmp$;
    tmp$ = toIntOrNull(name);
    if (tmp$ == null) {
      throw IllegalArgumentException_init(name + ' is not a valid list index');
    }
    return tmp$;
  };
  ListLikeDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return this.elementDesc;
  };
  ListLikeDescriptor.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, ListLikeDescriptor))
      return false;
    if (equals(this.elementDesc, other.elementDesc) && equals(this.name, other.name))
      return true;
    return false;
  };
  ListLikeDescriptor.prototype.hashCode = function () {
    return (hashCode(this.elementDesc) * 31 | 0) + hashCode(this.name) | 0;
  };
  ListLikeDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListLikeDescriptor', interfaces: [SerialDescriptor]};
  function MapLikeDescriptor(name, keyDescriptor, valueDescriptor) {
    this.name_eko8nt$_0 = name;
    this.keyDescriptor = keyDescriptor;
    this.valueDescriptor = valueDescriptor;
    this.elementsCount_qp2ocq$_0 = 2;
  }
  Object.defineProperty(MapLikeDescriptor.prototype, 'name', {get: function () {
    return this.name_eko8nt$_0;
  }});
  Object.defineProperty(MapLikeDescriptor.prototype, 'kind', {get: function () {
    return StructureKind$MAP_getInstance();
  }});
  Object.defineProperty(MapLikeDescriptor.prototype, 'elementsCount', {get: function () {
    return this.elementsCount_qp2ocq$_0;
  }});
  MapLikeDescriptor.prototype.getElementName_za3lpa$ = function (index) {
    return index.toString();
  };
  MapLikeDescriptor.prototype.getElementIndex_61zpoe$ = function (name) {
    var tmp$;
    tmp$ = toIntOrNull(name);
    if (tmp$ == null) {
      throw IllegalArgumentException_init(name + ' is not a valid map index');
    }
    return tmp$;
  };
  MapLikeDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return index % 2 === 0 ? this.keyDescriptor : this.valueDescriptor;
  };
  MapLikeDescriptor.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, MapLikeDescriptor))
      return false;
    if (!equals(this.name, other.name))
      return false;
    if (!equals(this.keyDescriptor, other.keyDescriptor))
      return false;
    if (!equals(this.valueDescriptor, other.valueDescriptor))
      return false;
    return true;
  };
  MapLikeDescriptor.prototype.hashCode = function () {
    var result = hashCode(this.name);
    result = (31 * result | 0) + hashCode(this.keyDescriptor) | 0;
    result = (31 * result | 0) + hashCode(this.valueDescriptor) | 0;
    return result;
  };
  MapLikeDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapLikeDescriptor', interfaces: [SerialDescriptor]};
  var ARRAY_NAME;
  var ARRAY_LIST_NAME;
  var LINKED_HASH_SET_NAME;
  var HASH_SET_NAME;
  var LINKED_HASH_MAP_NAME;
  var HASH_MAP_NAME;
  function ArrayListClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  Object.defineProperty(ArrayListClassDesc.prototype, 'name', {get: function () {
    return ARRAY_LIST_NAME;
  }});
  ArrayListClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayListClassDesc', interfaces: [ListLikeDescriptor]};
  function NamedListClassDescriptor(name, elementDescriptor) {
    ListLikeDescriptor.call(this, elementDescriptor);
    this.name_3zrur7$_0 = name;
  }
  Object.defineProperty(NamedListClassDescriptor.prototype, 'name', {get: function () {
    return this.name_3zrur7$_0;
  }});
  NamedListClassDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedListClassDescriptor', interfaces: [ListLikeDescriptor]};
  function LinkedHashSetClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  Object.defineProperty(LinkedHashSetClassDesc.prototype, 'name', {get: function () {
    return LINKED_HASH_SET_NAME;
  }});
  LinkedHashSetClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashSetClassDesc', interfaces: [ListLikeDescriptor]};
  function HashSetClassDesc(elementDesc) {
    ListLikeDescriptor.call(this, elementDesc);
  }
  Object.defineProperty(HashSetClassDesc.prototype, 'name', {get: function () {
    return HASH_SET_NAME;
  }});
  HashSetClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashSetClassDesc', interfaces: [ListLikeDescriptor]};
  function NamedMapClassDescriptor(name, keyDescriptor, valueDescriptor) {
    MapLikeDescriptor.call(this, name, keyDescriptor, valueDescriptor);
  }
  NamedMapClassDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'NamedMapClassDescriptor', interfaces: [MapLikeDescriptor]};
  function LinkedHashMapClassDesc(keyDesc, valueDesc) {
    MapLikeDescriptor.call(this, LINKED_HASH_MAP_NAME, keyDesc, valueDesc);
  }
  LinkedHashMapClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashMapClassDesc', interfaces: [MapLikeDescriptor]};
  function HashMapClassDesc(keyDesc, valueDesc) {
    MapLikeDescriptor.call(this, HASH_MAP_NAME, keyDesc, valueDesc);
  }
  HashMapClassDesc.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashMapClassDesc', interfaces: [MapLikeDescriptor]};
  function AbstractCollectionSerializer() {
  }
  AbstractCollectionSerializer.prototype.patch_mynpiu$ = function (decoder, old) {
    var builder = this.toBuilder_wikn$(old);
    var startIndex = this.builderSize_wili$(builder);
    var decoder_0 = decoder.beginStructure_r0sa6z$(this.descriptor, this.typeParams.slice());
    var size = this.readSize_mes5ce$_0(decoder_0, builder);
    mainLoop: while (true) {
      var index = decoder_0.decodeElementIndex_qatsm0$(this.descriptor);
      switch (index) {
        case -2:
          this.readAll_4xfz2a$_0(decoder_0, builder, startIndex, size);
          break mainLoop;
        case -1:
          break mainLoop;
        default:this.readItem_ind1ny$(decoder_0, startIndex + index | 0, builder);
          break;
      }
    }
    decoder_0.endStructure_qatsm0$(this.descriptor);
    return this.toResult_wili$(builder);
  };
  AbstractCollectionSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var builder = this.builder();
    return this.patch_mynpiu$(decoder, this.toResult_wili$(builder));
  };
  AbstractCollectionSerializer.prototype.readSize_mes5ce$_0 = function (decoder, builder) {
    var size = decoder.decodeCollectionSize_qatsm0$(this.descriptor);
    this.checkCapacity_rk7bw8$(builder, size);
    return size;
  };
  AbstractCollectionSerializer.prototype.readItem_ind1ny$ = function (decoder, index, builder, checkIndex, callback$default) {
    if (checkIndex === void 0)
      checkIndex = true;
    callback$default ? callback$default(decoder, index, builder, checkIndex) : this.readItem_ind1ny$$default(decoder, index, builder, checkIndex);
  };
  AbstractCollectionSerializer.prototype.readAll_4xfz2a$_0 = function (decoder, builder, startIndex, size) {
    if (!(size >= 0)) {
      var message = 'Size must be known in advance when using READ_ALL';
      throw IllegalArgumentException_init(message.toString());
    }
    for (var index = 0; index < size; index++)
      this.readItem_ind1ny$(decoder, startIndex + index | 0, builder, false);
  };
  AbstractCollectionSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractCollectionSerializer', interfaces: [KSerializer]};
  function ListLikeSerializer(elementSerializer) {
    AbstractCollectionSerializer.call(this);
    this.elementSerializer = elementSerializer;
    this.typeParams_thbhbl$_0 = [this.elementSerializer];
  }
  Object.defineProperty(ListLikeSerializer.prototype, 'typeParams', {get: function () {
    return this.typeParams_thbhbl$_0;
  }});
  ListLikeSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var size = this.objSize_wikn$(obj);
    var encoder_0 = encoder.beginCollection_gly1x5$(this.descriptor, size, this.typeParams.slice());
    var iterator = this.objIterator_wikn$(obj);
    for (var index = 0; index < size; index++)
      encoder_0.encodeSerializableElement_blecud$(this.descriptor, index, this.elementSerializer, iterator.next());
    encoder_0.endStructure_qatsm0$(this.descriptor);
  };
  ListLikeSerializer.prototype.readItem_ind1ny$$default = function (decoder, index, builder, checkIndex) {
    this.insert_p422l$(builder, index, decoder.decodeSerializableElement_s44l7r$(this.descriptor, index, this.elementSerializer));
  };
  ListLikeSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'ListLikeSerializer', interfaces: [AbstractCollectionSerializer]};
  function MapLikeSerializer(keySerializer, valueSerializer) {
    AbstractCollectionSerializer.call(this);
    this.keySerializer = keySerializer;
    this.valueSerializer = valueSerializer;
    this.typeParams_jdi5pn$_0 = [this.keySerializer, this.valueSerializer];
  }
  Object.defineProperty(MapLikeSerializer.prototype, 'typeParams', {get: function () {
    return this.typeParams_jdi5pn$_0;
  }});
  MapLikeSerializer.prototype.readItem_ind1ny$$default = function (decoder, index, builder, checkIndex) {
    var tmp$, tmp$_0;
    var key = decoder.decodeSerializableElement_s44l7r$(this.descriptor, index, this.keySerializer);
    if (checkIndex) {
      var $receiver = decoder.decodeElementIndex_qatsm0$(this.descriptor);
      if (!($receiver === (index + 1 | 0))) {
        var message = 'Value must follow key in a map, index for key: ' + index + ', returned index for value: ' + $receiver;
        throw IllegalArgumentException_init(message.toString());
      }
      tmp$ = $receiver;
    }
     else {
      tmp$ = index + 1 | 0;
    }
    var vIndex = tmp$;
    if (builder.containsKey_11rb$(key) && !Kotlin.isType(this.valueSerializer.descriptor.kind, PrimitiveKind)) {
      tmp$_0 = decoder.updateSerializableElement_ehubvl$(this.descriptor, vIndex, this.valueSerializer, getValue(builder, key));
    }
     else {
      tmp$_0 = decoder.decodeSerializableElement_s44l7r$(this.descriptor, vIndex, this.valueSerializer);
    }
    var value = tmp$_0;
    builder.put_xwzc9p$(key, value);
  };
  MapLikeSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var size = this.objSize_wikn$(obj);
    var encoder_0 = encoder.beginCollection_gly1x5$(this.descriptor, size, this.typeParams.slice());
    var iterator = this.objIterator_wikn$(obj);
    var index = {v: 0};
    while (iterator.hasNext()) {
      var element = iterator.next();
      var k = element.key;
      var v = element.value;
      var tmp$, tmp$_0;
      encoder_0.encodeSerializableElement_blecud$(this.descriptor, (tmp$ = index.v, index.v = tmp$ + 1 | 0, tmp$), this.keySerializer, k);
      encoder_0.encodeSerializableElement_blecud$(this.descriptor, (tmp$_0 = index.v, index.v = tmp$_0 + 1 | 0, tmp$_0), this.valueSerializer, v);
    }
    encoder_0.endStructure_qatsm0$(this.descriptor);
  };
  MapLikeSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapLikeSerializer', interfaces: [AbstractCollectionSerializer]};
  function ArrayListSerializer(element) {
    ListLikeSerializer.call(this, element);
    this.descriptor_7uwoa2$_0 = new ArrayListClassDesc(element.descriptor);
  }
  Object.defineProperty(ArrayListSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_7uwoa2$_0;
  }});
  ArrayListSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  ArrayListSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.iterator();
  };
  ArrayListSerializer.prototype.builder = function () {
    return ArrayList_init_0();
  };
  ArrayListSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  ArrayListSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  ArrayListSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, ArrayList) ? tmp$ : null) != null ? tmp$_0 : ArrayList_init_1($receiver);
  };
  ArrayListSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
    $receiver.ensureCapacity_za3lpa$(size);
  };
  ArrayListSerializer.prototype.insert_p422l$ = function ($receiver, index, element) {
    $receiver.add_wxm5ur$(index, element);
  };
  ArrayListSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'ArrayListSerializer', interfaces: [ListLikeSerializer]};
  function LinkedHashSetSerializer(eSerializer) {
    ListLikeSerializer.call(this, eSerializer);
    this.descriptor_vnfc7m$_0 = new LinkedHashSetClassDesc(eSerializer.descriptor);
  }
  Object.defineProperty(LinkedHashSetSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_vnfc7m$_0;
  }});
  LinkedHashSetSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashSetSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.iterator();
  };
  LinkedHashSetSerializer.prototype.builder = function () {
    return LinkedHashSet_init_0();
  };
  LinkedHashSetSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashSetSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  LinkedHashSetSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, LinkedHashSet) ? tmp$ : null) != null ? tmp$_0 : LinkedHashSet_init($receiver);
  };
  LinkedHashSetSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  LinkedHashSetSerializer.prototype.insert_p422l$ = function ($receiver, index, element) {
    $receiver.add_11rb$(element);
  };
  LinkedHashSetSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashSetSerializer', interfaces: [ListLikeSerializer]};
  function HashSetSerializer(eSerializer) {
    ListLikeSerializer.call(this, eSerializer);
    this.descriptor_yqpz47$_0 = new HashSetClassDesc(eSerializer.descriptor);
  }
  Object.defineProperty(HashSetSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_yqpz47$_0;
  }});
  HashSetSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  HashSetSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.iterator();
  };
  HashSetSerializer.prototype.builder = function () {
    return HashSet_init();
  };
  HashSetSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  HashSetSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  HashSetSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, HashSet) ? tmp$ : null) != null ? tmp$_0 : HashSet_init_0($receiver);
  };
  HashSetSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  HashSetSerializer.prototype.insert_p422l$ = function ($receiver, index, element) {
    $receiver.add_11rb$(element);
  };
  HashSetSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashSetSerializer', interfaces: [ListLikeSerializer]};
  function LinkedHashMapSerializer(kSerializer, vSerializer) {
    MapLikeSerializer.call(this, kSerializer, vSerializer);
    this.descriptor_pixp0o$_0 = new LinkedHashMapClassDesc(kSerializer.descriptor, vSerializer.descriptor);
  }
  Object.defineProperty(LinkedHashMapSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_pixp0o$_0;
  }});
  LinkedHashMapSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashMapSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.entries.iterator();
  };
  LinkedHashMapSerializer.prototype.builder = function () {
    return LinkedHashMap_init();
  };
  LinkedHashMapSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  LinkedHashMapSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  LinkedHashMapSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, LinkedHashMap) ? tmp$ : null) != null ? tmp$_0 : LinkedHashMap_init_0($receiver);
  };
  LinkedHashMapSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  LinkedHashMapSerializer.prototype.insertKeyValuePair_fbr58l$ = function ($receiver, index, key, value) {
    $receiver.put_xwzc9p$(key, value);
  };
  LinkedHashMapSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'LinkedHashMapSerializer', interfaces: [MapLikeSerializer]};
  function HashMapSerializer(kSerializer, vSerializer) {
    MapLikeSerializer.call(this, kSerializer, vSerializer);
    this.descriptor_kvyydd$_0 = new HashMapClassDesc(kSerializer.descriptor, vSerializer.descriptor);
  }
  Object.defineProperty(HashMapSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_kvyydd$_0;
  }});
  HashMapSerializer.prototype.objSize_wikn$ = function ($receiver) {
    return $receiver.size;
  };
  HashMapSerializer.prototype.objIterator_wikn$ = function ($receiver) {
    return $receiver.entries.iterator();
  };
  HashMapSerializer.prototype.builder = function () {
    return HashMap_init();
  };
  HashMapSerializer.prototype.builderSize_wili$ = function ($receiver) {
    return $receiver.size;
  };
  HashMapSerializer.prototype.toResult_wili$ = function ($receiver) {
    return $receiver;
  };
  HashMapSerializer.prototype.toBuilder_wikn$ = function ($receiver) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = $receiver, HashMap) ? tmp$ : null) != null ? tmp$_0 : HashMap_init_0($receiver);
  };
  HashMapSerializer.prototype.checkCapacity_rk7bw8$ = function ($receiver, size) {
  };
  HashMapSerializer.prototype.insertKeyValuePair_fbr58l$ = function ($receiver, index, key, value) {
    $receiver.put_xwzc9p$(key, value);
  };
  HashMapSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'HashMapSerializer', interfaces: [MapLikeSerializer]};
  function CommonEnumSerializer(serialName, choices, choicesNames) {
    this.serialName = serialName;
    this.choices = choices;
    this.descriptor_j2zgdl$_0 = new EnumDescriptor(this.serialName, choicesNames);
  }
  function GeneratedSerializer() {
  }
  function LongAsStringSerializer() {
    LongAsStringSerializer_instance = this;
    this.descriptor_9ax8ui$_0 = StringDescriptor_getInstance();
  }
  var LongAsStringSerializer_instance = null;
  function makeNullable(actualSerializer) {
    return new NullableSerializer(actualSerializer);
  }
  function NullableSerializer(actualSerializer) {
    this.actualSerializer = actualSerializer;
    this.descriptor_kbvl2k$_0 = new NullableSerializer$SerialDescriptorForNullable(this.actualSerializer.descriptor);
  }
  function NullableSerializer$SerialDescriptorForNullable(original) {
    this.original = original;
  }
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'isNullable', {get: function () {
    return true;
  }});
  NullableSerializer$SerialDescriptorForNullable.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, NullableSerializer$SerialDescriptorForNullable))
      return false;
    if (!equals(this.original, other.original))
      return false;
    return true;
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.hashCode = function () {
    return hashCode(this.original) * 31 | 0;
  };
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'elementsCount', {get: function () {
    return this.original.elementsCount;
  }});
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'kind', {get: function () {
    return this.original.kind;
  }});
  Object.defineProperty(NullableSerializer$SerialDescriptorForNullable.prototype, 'name', {get: function () {
    return this.original.name;
  }});
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementAnnotations_za3lpa$ = function (index) {
    return this.original.getElementAnnotations_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return this.original.getElementDescriptor_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementIndex_61zpoe$ = function (name) {
    return this.original.getElementIndex_61zpoe$(name);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getElementName_za3lpa$ = function (index) {
    return this.original.getElementName_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.getEntityAnnotations = function () {
    return this.original.getEntityAnnotations();
  };
  NullableSerializer$SerialDescriptorForNullable.prototype.isElementOptional_za3lpa$ = function (index) {
    return this.original.isElementOptional_za3lpa$(index);
  };
  NullableSerializer$SerialDescriptorForNullable.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialDescriptorForNullable', interfaces: [SerialDescriptor]};
  Object.defineProperty(NullableSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_kbvl2k$_0;
  }});
  NullableSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    if (obj != null) {
      encoder.encodeNotNullMark();
      encoder.encodeSerializableValue_tf03ej$(this.actualSerializer, obj);
    }
     else {
      encoder.encodeNull();
    }
  };
  NullableSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeNotNullMark() ? decoder.decodeSerializableValue_w63s0f$(this.actualSerializer) : decoder.decodeNull();
  };
  NullableSerializer.prototype.patch_mynpiu$ = function (decoder, old) {
    var tmp$;
    if (old == null)
      tmp$ = this.deserialize_nts5qn$(decoder);
    else if (decoder.decodeNotNullMark())
      tmp$ = decoder.updateSerializableValue_19c8k5$(this.actualSerializer, old);
    else {
      decoder.decodeNull();
      tmp$ = old;
    }
    return tmp$;
  };
  NullableSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'NullableSerializer', interfaces: [KSerializer]};
  function PrimitiveDescriptor(name, kind) {
    this.name_r9ht6j$_0 = name;
    this.kind_r7zk0i$_0 = kind;
  }
  Object.defineProperty(PrimitiveDescriptor.prototype, 'name', {get: function () {
    return this.name_r9ht6j$_0;
  }});
  Object.defineProperty(PrimitiveDescriptor.prototype, 'kind', {get: function () {
    return this.kind_r7zk0i$_0;
  }});
  PrimitiveDescriptor.prototype.error_b6z6t6$_0 = function () {
    throw IllegalStateException_init('Primitives does not have elements');
  };
  PrimitiveDescriptor.prototype.getElementName_za3lpa$ = function (index) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.getElementIndex_61zpoe$ = function (name) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.isElementOptional_za3lpa$ = function (index) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.getElementDescriptor_za3lpa$ = function (index) {
    return this.error_b6z6t6$_0();
  };
  PrimitiveDescriptor.prototype.toString = function () {
    return this.name;
  };
  PrimitiveDescriptor.$metadata$ = {kind: Kind_CLASS, simpleName: 'PrimitiveDescriptor', interfaces: [SerialDescriptor]};
  function IntDescriptor() {
    IntDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Int', PrimitiveKind$INT_getInstance());
  }
  IntDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'IntDescriptor', interfaces: [PrimitiveDescriptor]};
  var IntDescriptor_instance = null;
  function IntDescriptor_getInstance() {
    if (IntDescriptor_instance === null) {
      new IntDescriptor();
    }
    return IntDescriptor_instance;
  }
  function UnitDescriptor() {
    UnitDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Unit', PrimitiveKind$UNIT_getInstance());
  }
  UnitDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UnitDescriptor', interfaces: [PrimitiveDescriptor]};
  var UnitDescriptor_instance = null;
  function UnitDescriptor_getInstance() {
    if (UnitDescriptor_instance === null) {
      new UnitDescriptor();
    }
    return UnitDescriptor_instance;
  }
  function BooleanDescriptor() {
    BooleanDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Boolean', PrimitiveKind$BOOLEAN_getInstance());
  }
  BooleanDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BooleanDescriptor', interfaces: [PrimitiveDescriptor]};
  var BooleanDescriptor_instance = null;
  function BooleanDescriptor_getInstance() {
    if (BooleanDescriptor_instance === null) {
      new BooleanDescriptor();
    }
    return BooleanDescriptor_instance;
  }
  function ByteDescriptor() {
    ByteDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Byte', PrimitiveKind$BYTE_getInstance());
  }
  ByteDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ByteDescriptor', interfaces: [PrimitiveDescriptor]};
  var ByteDescriptor_instance = null;
  function ByteDescriptor_getInstance() {
    if (ByteDescriptor_instance === null) {
      new ByteDescriptor();
    }
    return ByteDescriptor_instance;
  }
  function ShortDescriptor() {
    ShortDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Short', PrimitiveKind$SHORT_getInstance());
  }
  ShortDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ShortDescriptor', interfaces: [PrimitiveDescriptor]};
  var ShortDescriptor_instance = null;
  function ShortDescriptor_getInstance() {
    if (ShortDescriptor_instance === null) {
      new ShortDescriptor();
    }
    return ShortDescriptor_instance;
  }
  function LongDescriptor() {
    LongDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Long', PrimitiveKind$LONG_getInstance());
  }
  LongDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LongDescriptor', interfaces: [PrimitiveDescriptor]};
  var LongDescriptor_instance = null;
  function LongDescriptor_getInstance() {
    if (LongDescriptor_instance === null) {
      new LongDescriptor();
    }
    return LongDescriptor_instance;
  }
  function FloatDescriptor() {
    FloatDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Float', PrimitiveKind$FLOAT_getInstance());
  }
  FloatDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FloatDescriptor', interfaces: [PrimitiveDescriptor]};
  var FloatDescriptor_instance = null;
  function FloatDescriptor_getInstance() {
    if (FloatDescriptor_instance === null) {
      new FloatDescriptor();
    }
    return FloatDescriptor_instance;
  }
  function DoubleDescriptor() {
    DoubleDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Double', PrimitiveKind$DOUBLE_getInstance());
  }
  DoubleDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DoubleDescriptor', interfaces: [PrimitiveDescriptor]};
  var DoubleDescriptor_instance = null;
  function DoubleDescriptor_getInstance() {
    if (DoubleDescriptor_instance === null) {
      new DoubleDescriptor();
    }
    return DoubleDescriptor_instance;
  }
  function CharDescriptor() {
    CharDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.Char', PrimitiveKind$CHAR_getInstance());
  }
  CharDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CharDescriptor', interfaces: [PrimitiveDescriptor]};
  var CharDescriptor_instance = null;
  function CharDescriptor_getInstance() {
    if (CharDescriptor_instance === null) {
      new CharDescriptor();
    }
    return CharDescriptor_instance;
  }
  function StringDescriptor() {
    StringDescriptor_instance = this;
    PrimitiveDescriptor.call(this, 'kotlin.String', PrimitiveKind$STRING_getInstance());
  }
  StringDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'StringDescriptor', interfaces: [PrimitiveDescriptor]};
  var StringDescriptor_instance = null;
  function StringDescriptor_getInstance() {
    if (StringDescriptor_instance === null) {
      new StringDescriptor();
    }
    return StringDescriptor_instance;
  }
  function UnitSerializer() {
    UnitSerializer_instance = this;
    this.descriptor_gvvi5t$_0 = UnitDescriptor_getInstance();
  }
  Object.defineProperty(UnitSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_gvvi5t$_0;
  }});
  UnitSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeUnit();
  };
  UnitSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    decoder.decodeUnit();
  };
  UnitSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'UnitSerializer', interfaces: [KSerializer]};
  var UnitSerializer_instance = null;
  function UnitSerializer_getInstance() {
    if (UnitSerializer_instance === null) {
      new UnitSerializer();
    }
    return UnitSerializer_instance;
  }
  function BooleanSerializer() {
    BooleanSerializer_instance = this;
    this.descriptor_vdtvaz$_0 = BooleanDescriptor_getInstance();
  }
  Object.defineProperty(BooleanSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_vdtvaz$_0;
  }});
  BooleanSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeBoolean_6taknv$(obj);
  };
  BooleanSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeBoolean();
  };
  BooleanSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'BooleanSerializer', interfaces: [KSerializer]};
  var BooleanSerializer_instance = null;
  function BooleanSerializer_getInstance() {
    if (BooleanSerializer_instance === null) {
      new BooleanSerializer();
    }
    return BooleanSerializer_instance;
  }
  function ByteSerializer() {
    ByteSerializer_instance = this;
    this.descriptor_f6vlf1$_0 = ByteDescriptor_getInstance();
  }
  Object.defineProperty(ByteSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_f6vlf1$_0;
  }});
  ByteSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeByte_s8j3t7$(obj);
  };
  ByteSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeByte();
  };
  ByteSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ByteSerializer', interfaces: [KSerializer]};
  var ByteSerializer_instance = null;
  function ByteSerializer_getInstance() {
    if (ByteSerializer_instance === null) {
      new ByteSerializer();
    }
    return ByteSerializer_instance;
  }
  function ShortSerializer() {
    ShortSerializer_instance = this;
    this.descriptor_yvjeup$_0 = ShortDescriptor_getInstance();
  }
  Object.defineProperty(ShortSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_yvjeup$_0;
  }});
  ShortSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeShort_mq22fl$(obj);
  };
  ShortSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeShort();
  };
  ShortSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'ShortSerializer', interfaces: [KSerializer]};
  var ShortSerializer_instance = null;
  function ShortSerializer_getInstance() {
    if (ShortSerializer_instance === null) {
      new ShortSerializer();
    }
    return ShortSerializer_instance;
  }
  function IntSerializer() {
    IntSerializer_instance = this;
    this.descriptor_xrjflq$_0 = IntDescriptor_getInstance();
  }
  Object.defineProperty(IntSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_xrjflq$_0;
  }});
  IntSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeInt_za3lpa$(obj);
  };
  IntSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeInt();
  };
  IntSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'IntSerializer', interfaces: [KSerializer]};
  var IntSerializer_instance = null;
  function IntSerializer_getInstance() {
    if (IntSerializer_instance === null) {
      new IntSerializer();
    }
    return IntSerializer_instance;
  }
  function LongSerializer() {
    LongSerializer_instance = this;
    this.descriptor_q4z687$_0 = LongDescriptor_getInstance();
  }
  Object.defineProperty(LongSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_q4z687$_0;
  }});
  LongSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeLong_s8cxhz$(obj);
  };
  LongSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeLong();
  };
  LongSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'LongSerializer', interfaces: [KSerializer]};
  var LongSerializer_instance = null;
  function LongSerializer_getInstance() {
    if (LongSerializer_instance === null) {
      new LongSerializer();
    }
    return LongSerializer_instance;
  }
  function FloatSerializer() {
    FloatSerializer_instance = this;
    this.descriptor_7mw1sh$_0 = FloatDescriptor_getInstance();
  }
  Object.defineProperty(FloatSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_7mw1sh$_0;
  }});
  FloatSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeFloat_mx4ult$(obj);
  };
  FloatSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeFloat();
  };
  FloatSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'FloatSerializer', interfaces: [KSerializer]};
  var FloatSerializer_instance = null;
  function FloatSerializer_getInstance() {
    if (FloatSerializer_instance === null) {
      new FloatSerializer();
    }
    return FloatSerializer_instance;
  }
  function DoubleSerializer() {
    DoubleSerializer_instance = this;
    this.descriptor_2hn2sc$_0 = DoubleDescriptor_getInstance();
  }
  Object.defineProperty(DoubleSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_2hn2sc$_0;
  }});
  DoubleSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeDouble_14dthe$(obj);
  };
  DoubleSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeDouble();
  };
  DoubleSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'DoubleSerializer', interfaces: [KSerializer]};
  var DoubleSerializer_instance = null;
  function DoubleSerializer_getInstance() {
    if (DoubleSerializer_instance === null) {
      new DoubleSerializer();
    }
    return DoubleSerializer_instance;
  }
  function CharSerializer() {
    CharSerializer_instance = this;
    this.descriptor_5mpy8x$_0 = CharDescriptor_getInstance();
  }
  Object.defineProperty(CharSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_5mpy8x$_0;
  }});
  CharSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeChar_s8itvh$(obj);
  };
  CharSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeChar();
  };
  CharSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'CharSerializer', interfaces: [KSerializer]};
  var CharSerializer_instance = null;
  function CharSerializer_getInstance() {
    if (CharSerializer_instance === null) {
      new CharSerializer();
    }
    return CharSerializer_instance;
  }
  function StringSerializer() {
    StringSerializer_instance = this;
    this.descriptor_sum718$_0 = StringDescriptor_getInstance();
  }
  Object.defineProperty(StringSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_sum718$_0;
  }});
  StringSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    encoder.encodeString_61zpoe$(obj);
  };
  StringSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    return decoder.decodeString();
  };
  StringSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'StringSerializer', interfaces: [KSerializer]};
  var StringSerializer_instance = null;
  function StringSerializer_getInstance() {
    if (StringSerializer_instance === null) {
      new StringSerializer();
    }
    return StringSerializer_instance;
  }
  function defaultSerializer($receiver) {
    var tmp$, tmp$_0;
    if (equals($receiver, PrimitiveClasses$stringClass))
      tmp$ = StringSerializer_getInstance();
    else if (equals($receiver, getKClass(Char)))
      tmp$ = CharSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$doubleClass))
      tmp$ = DoubleSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$floatClass))
      tmp$ = FloatSerializer_getInstance();
    else if (equals($receiver, getKClass(Long)))
      tmp$ = LongSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$intClass))
      tmp$ = IntSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$shortClass))
      tmp$ = ShortSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$byteClass))
      tmp$ = ByteSerializer_getInstance();
    else if (equals($receiver, PrimitiveClasses$booleanClass))
      tmp$ = BooleanSerializer_getInstance();
    else if (equals($receiver, getKClass(Object.getPrototypeOf(kotlin.Unit).constructor)))
      tmp$ = UnitSerializer_getInstance();
    else
      tmp$ = null;
    return (tmp$_0 = tmp$) == null || Kotlin.isType(tmp$_0, KSerializer) ? tmp$_0 : throwCCE();
  }
  function SerialClassDescImpl(name, generatedSerializer) {
    if (generatedSerializer === void 0)
      generatedSerializer = null;
    this.name_l5inc6$_0 = name;
    this.generatedSerializer_1vyey6$_0 = generatedSerializer;
    this.names_gh1kah$_0 = ArrayList_init_0();
    this.annotations_4jiga3$_0 = ArrayList_init_0();
    this.classAnnotations_3clm9z$_0 = ArrayList_init_0();
    this.flags_k3kfa0$_0 = Kotlin.booleanArray(4);
    this.descriptors_ve6swl$_0 = ArrayList_init_0();
    this.indices_jm5tq0$_7drv5o$_0 = lazy(SerialClassDescImpl$indices$lambda(this));
  }
  Object.defineProperty(SerialClassDescImpl.prototype, 'name', {get: function () {
    return this.name_l5inc6$_0;
  }});
  Object.defineProperty(SerialClassDescImpl.prototype, 'kind', {get: function () {
    return StructureKind$CLASS_getInstance();
  }});
  Object.defineProperty(SerialClassDescImpl.prototype, 'elementsCount', {get: function () {
    return this.annotations_4jiga3$_0.size;
  }});
  Object.defineProperty(SerialClassDescImpl.prototype, 'indices_jm5tq0$_0', {get: function () {
    return this.indices_jm5tq0$_7drv5o$_0.value;
  }});
  SerialClassDescImpl.prototype.addElement_ivxn3r$ = function (name, isOptional) {
    if (isOptional === void 0)
      isOptional = false;
    this.names_gh1kah$_0.add_11rb$(name);
    var idx = this.names_gh1kah$_0.size - 1 | 0;
    this.ensureFlagsCapacity_qhtrim$_0(idx);
    this.flags_k3kfa0$_0[idx] = isOptional;
    this.annotations_4jiga3$_0.add_11rb$(ArrayList_init_0());
  };
  SerialClassDescImpl.prototype.pushAnnotation_yj921w$ = function (a) {
    last(this.annotations_4jiga3$_0).add_11rb$(a);
  };
  SerialClassDescImpl.prototype.pushClassAnnotation_yj921w$ = function (a) {
    this.classAnnotations_3clm9z$_0.add_11rb$(a);
  };
  SerialClassDescImpl.prototype.pushDescriptor_qatsm0$ = function (desc) {
    this.descriptors_ve6swl$_0.add_11rb$(desc);
  };
  SerialClassDescImpl.prototype.getElementDescriptor_za3lpa$ = function (index) {
    var tmp$, tmp$_0, tmp$_1, tmp$_2, tmp$_3;
    tmp$_3 = (tmp$_2 = (tmp$_1 = (tmp$_0 = (tmp$ = this.generatedSerializer_1vyey6$_0) != null ? tmp$.childSerializers() : null) != null ? getOrNull(tmp$_0, index) : null) != null ? tmp$_1.descriptor : null) != null ? tmp$_2 : getOrNull_0(this.descriptors_ve6swl$_0, index);
    if (tmp$_3 == null) {
      throw new SerialClassDescImpl$MissingDescriptorException(index, this);
    }
    return tmp$_3;
  };
  SerialClassDescImpl.prototype.isElementOptional_za3lpa$ = function (index) {
    return this.flags_k3kfa0$_0[index];
  };
  SerialClassDescImpl.prototype.getEntityAnnotations = function () {
    return this.classAnnotations_3clm9z$_0;
  };
  SerialClassDescImpl.prototype.getElementAnnotations_za3lpa$ = function (index) {
    return this.annotations_4jiga3$_0.get_za3lpa$(index);
  };
  SerialClassDescImpl.prototype.getElementName_za3lpa$ = function (index) {
    return this.names_gh1kah$_0.get_za3lpa$(index);
  };
  SerialClassDescImpl.prototype.getElementIndex_61zpoe$ = function (name) {
    var tmp$;
    return (tmp$ = this.indices_jm5tq0$_0.get_11rb$(name)) != null ? tmp$ : -3;
  };
  SerialClassDescImpl.prototype.ensureFlagsCapacity_qhtrim$_0 = function (i) {
    if (this.flags_k3kfa0$_0.length <= i)
      this.flags_k3kfa0$_0 = copyOf(this.flags_k3kfa0$_0, this.flags_k3kfa0$_0.length * 2 | 0);
  };
  SerialClassDescImpl.prototype.buildIndices_585r2k$_0 = function () {
    var tmp$;
    var indices = HashMap_init();
    tmp$ = this.names_gh1kah$_0.size;
    for (var i = 0; i < tmp$; i++) {
      var key = this.names_gh1kah$_0.get_za3lpa$(i);
      indices.put_xwzc9p$(key, i);
    }
    return indices;
  };
  SerialClassDescImpl.prototype.equals = function (other) {
    if (this === other)
      return true;
    if (!Kotlin.isType(other, SerialClassDescImpl))
      return false;
    if (!equals(this.name, other.name))
      return false;
    if (!equals(elementDescriptors(this), elementDescriptors(other)))
      return false;
    return true;
  };
  SerialClassDescImpl.prototype.hashCode = function () {
    var result = hashCode(this.name);
    result = (31 * result | 0) + hashCode(elementDescriptors(this)) | 0;
    return result;
  };
  function SerialClassDescImpl$toString$lambda(this$SerialClassDescImpl) {
    return function (it) {
      return it.key + ': ' + this$SerialClassDescImpl.getElementDescriptor_za3lpa$(it.value).name;
    };
  }
  SerialClassDescImpl.prototype.toString = function () {
    return joinToString(this.indices_jm5tq0$_0.entries, ', ', this.name + '(', ')', void 0, void 0, SerialClassDescImpl$toString$lambda(this));
  };
  function SerialClassDescImpl$MissingDescriptorException(index, origin) {
    SerializationException.call(this, 'Element descriptor at index ' + index + ' has not been found in ' + origin);
    this.name = 'SerialClassDescImpl$MissingDescriptorException';
  }
  SerialClassDescImpl$MissingDescriptorException.$metadata$ = {kind: Kind_CLASS, simpleName: 'MissingDescriptorException', interfaces: [SerializationException]};
  function SerialClassDescImpl$indices$lambda(this$SerialClassDescImpl) {
    return function () {
      return this$SerialClassDescImpl.buildIndices_585r2k$_0();
    };
  }
  SerialClassDescImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialClassDescImpl', interfaces: [SerialDescriptor]};
  var KEY_INDEX;
  var VALUE_INDEX;
  function KeyValueSerializer(kSerializer, vSerializer) {
    this.kSerializer = kSerializer;
    this.vSerializer = vSerializer;
  }
  KeyValueSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var encoder_0 = encoder.beginStructure_r0sa6z$(this.descriptor, [this.kSerializer, this.vSerializer]);
    encoder_0.encodeSerializableElement_blecud$(this.descriptor, 0, this.kSerializer, this.get_key_wili$(obj));
    encoder_0.encodeSerializableElement_blecud$(this.descriptor, 1, this.vSerializer, this.get_value_wili$(obj));
    encoder_0.endStructure_qatsm0$(this.descriptor);
  };
  KeyValueSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var tmp$, tmp$_0;
    var input = decoder.beginStructure_r0sa6z$(this.descriptor, [this.kSerializer, this.vSerializer]);
    var kSet = false;
    var vSet = false;
    var k = null;
    var v = null;
    mainLoop: while (true) {
      switch (input.decodeElementIndex_qatsm0$(this.descriptor)) {
        case -2:
          k = this.readKey_ej6kb6$(input);
          kSet = true;
          v = this.readValue_gqyu7$(input, k, kSet);
          vSet = true;
          break mainLoop;
        case -1:
          break mainLoop;
        case 0:
          k = this.readKey_ej6kb6$(input);
          kSet = true;
          break;
        case 1:
          v = this.readValue_gqyu7$(input, k, kSet);
          vSet = true;
          break;
        default:throw new SerializationException('Invalid index');
      }
    }
    input.endStructure_qatsm0$(this.descriptor);
    if (!kSet)
      throw new SerializationException('Required key is missing');
    if (!vSet)
      throw new SerializationException('Required value is missing');
    return this.toResult_xwzc9p$((tmp$ = k) == null || Kotlin.isType(tmp$, Any) ? tmp$ : throwCCE(), (tmp$_0 = v) == null || Kotlin.isType(tmp$_0, Any) ? tmp$_0 : throwCCE());
  };
  KeyValueSerializer.prototype.readKey_ej6kb6$ = function (decoder) {
    return decoder.decodeSerializableElement_s44l7r$(this.descriptor, 0, this.kSerializer);
  };
  KeyValueSerializer.prototype.readValue_gqyu7$ = function (decoder, k, kSet) {
    return decoder.decodeSerializableElement_s44l7r$(this.descriptor, 1, this.vSerializer);
  };
  KeyValueSerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'KeyValueSerializer', interfaces: [KSerializer]};
  function MapEntrySerializer(kSerializer, vSerializer) {
    KeyValueSerializer.call(this, kSerializer, vSerializer);
    this.descriptor_cnmk75$_0 = MapEntryClassDesc_getInstance();
  }
  Object.defineProperty(MapEntrySerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_cnmk75$_0;
  }});
  MapEntrySerializer.prototype.toResult_xwzc9p$ = function (key, value) {
    return new MapEntry(key, value);
  };
  MapEntrySerializer.prototype.get_key_wili$ = function ($receiver) {
    return $receiver.key;
  };
  MapEntrySerializer.prototype.get_value_wili$ = function ($receiver) {
    return $receiver.value;
  };
  MapEntrySerializer.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapEntrySerializer', interfaces: [KeyValueSerializer]};
  function MapEntry(key, value) {
    this.key_qf615j$_0 = key;
    this.value_x17797$_0 = value;
  }
  Object.defineProperty(MapEntry.prototype, 'key', {get: function () {
    return this.key_qf615j$_0;
  }});
  Object.defineProperty(MapEntry.prototype, 'value', {get: function () {
    return this.value_x17797$_0;
  }});
  MapEntry.$metadata$ = {kind: Kind_CLASS, simpleName: 'MapEntry', interfaces: [Map$Entry]};
  MapEntry.prototype.component1 = function () {
    return this.key;
  };
  MapEntry.prototype.component2 = function () {
    return this.value;
  };
  MapEntry.prototype.copy_xwzc9p$ = function (key, value) {
    return new MapEntry(key === void 0 ? this.key : key, value === void 0 ? this.value : value);
  };
  MapEntry.prototype.toString = function () {
    return 'MapEntry(key=' + Kotlin.toString(this.key) + (', value=' + Kotlin.toString(this.value)) + ')';
  };
  MapEntry.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.key) | 0;
    result = result * 31 + Kotlin.hashCode(this.value) | 0;
    return result;
  };
  MapEntry.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.key, other.key) && Kotlin.equals(this.value, other.value)))));
  };
  function MapEntryClassDesc() {
    MapEntryClassDesc_instance = this;
    SerialClassDescImpl.call(this, 'kotlin.collections.Map.Entry');
    this.kind_6o02kx$_0 = StructureKind$MAP_getInstance();
    this.addElement_ivxn3r$('key');
    this.addElement_ivxn3r$('value');
  }
  Object.defineProperty(MapEntryClassDesc.prototype, 'kind', {get: function () {
    return this.kind_6o02kx$_0;
  }});
  MapEntryClassDesc.$metadata$ = {kind: Kind_OBJECT, simpleName: 'MapEntryClassDesc', interfaces: [SerialClassDescImpl]};
  var MapEntryClassDesc_instance = null;
  function MapEntryClassDesc_getInstance() {
    if (MapEntryClassDesc_instance === null) {
      new MapEntryClassDesc();
    }
    return MapEntryClassDesc_instance;
  }
  var PairClassDesc_instance = null;
  function TripleSerializer(aSerializer, bSerializer, cSerializer) {
    this.aSerializer_0 = aSerializer;
    this.bSerializer_0 = bSerializer;
    this.cSerializer_0 = cSerializer;
    this.descriptor_73a6vr$_0 = TripleSerializer$TripleDesc_getInstance();
  }
  var TripleSerializer$TripleDesc_instance = null;
  var HexConverter_instance = null;
  var JsonTreeParser$Companion_instance = null;
  function Json(configuration, context) {
    Json$Companion_getInstance();
    if (configuration === void 0)
      configuration = JsonConfiguration$Companion_getInstance().Stable;
    if (context === void 0)
      context = EmptyModule_getInstance();
    AbstractSerialFormat.call(this, plus(context, defaultJsonModule));
    this.configuration_8be2vx$ = configuration;
  }
  Json.prototype.stringify_tf03ej$ = function (serializer, obj) {
    var result = StringBuilder_init_0();
    var encoder = StreamingJsonOutput_init(result, this, WriteMode$OBJ_getInstance(), Kotlin.newArray(WriteMode$values().length, null));
    encode_0(encoder, serializer, obj);
    return result.toString();
  };
  Json.prototype.toJson_tf03ej$ = function (serializer, value) {
    return writeJson(this, value, serializer);
  };
  Json.prototype.toJson_issdgt$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.Json.toJson_issdgt$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var getContextualOrDefault = _.kotlinx.serialization.modules.getContextualOrDefault_6za9kt$;
    return function (T_0, isT, value) {
      return this.toJson_tf03ej$(getContextualOrDefault(this.context, getKClass(T_0)), value);
    };
  }));
  Json.prototype.parse_awif5v$ = function (deserializer, string) {
    var reader = new JsonReader(string);
    var input = new StreamingJsonInput(this, WriteMode$OBJ_getInstance(), reader);
    var result = decode_0(input, deserializer);
    if (!reader.isDone) {
      throw IllegalStateException_init(('Reader has not consumed the whole input: ' + reader).toString());
    }
    return result;
  };
  Json.prototype.parseJson_61zpoe$ = function (string) {
    return this.parse_awif5v$(JsonElementSerializer_getInstance(), string);
  };
  Json.prototype.fromJson_htt2tq$ = function (deserializer, json) {
    return readJson(this, json, deserializer);
  };
  Json.prototype.fromJson_65rf1y$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.Json.fromJson_65rf1y$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var getContextualOrDefault = _.kotlinx.serialization.modules.getContextualOrDefault_6za9kt$;
    return function (T_0, isT, tree) {
      return this.fromJson_htt2tq$(getContextualOrDefault(this.context, getKClass(T_0)), tree);
    };
  }));
  function Json$Companion() {
    Json$Companion_instance = this;
    this.plain = new Json(new JsonConfiguration(void 0, void 0, void 0, void 0, void 0, void 0, true));
    this.unquoted = new Json(new JsonConfiguration(void 0, void 0, true, void 0, void 0, void 0, true));
    this.indented = new Json(new JsonConfiguration(void 0, void 0, void 0, void 0, true, void 0, true));
    this.nonstrict = new Json(new JsonConfiguration(void 0, false, void 0, void 0, void 0, void 0, true));
  }
  Json$Companion.prototype.install_stpyu4$ = function (module_0) {
    throw IllegalStateException_init('You should not install anything to global instance');
  };
  Object.defineProperty(Json$Companion.prototype, 'context', {get: function () {
    return this.plain.context;
  }});
  Json$Companion.prototype.stringify_tf03ej$ = function (serializer, obj) {
    return this.plain.stringify_tf03ej$(serializer, obj);
  };
  Json$Companion.prototype.parse_awif5v$ = function (deserializer, string) {
    return this.plain.parse_awif5v$(deserializer, string);
  };
  Json$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: [StringFormat]};
  var Json$Companion_instance = null;
  function Json$Companion_getInstance() {
    if (Json$Companion_instance === null) {
      new Json$Companion();
    }
    return Json$Companion_instance;
  }
  Json.$metadata$ = {kind: Kind_CLASS, simpleName: 'Json', interfaces: [StringFormat, AbstractSerialFormat]};
  var defaultJsonModule;
  function JsonConfiguration(encodeDefaults, strictMode, unquoted, allowStructuredMapKeys, prettyPrint, indent, useArrayPolymorphism, classDiscriminator, updateMode) {
    JsonConfiguration$Companion_getInstance();
    if (encodeDefaults === void 0)
      encodeDefaults = true;
    if (strictMode === void 0)
      strictMode = true;
    if (unquoted === void 0)
      unquoted = false;
    if (allowStructuredMapKeys === void 0)
      allowStructuredMapKeys = false;
    if (prettyPrint === void 0)
      prettyPrint = false;
    if (indent === void 0)
      indent = JsonConfiguration$Companion_getInstance().defaultIndent_0;
    if (useArrayPolymorphism === void 0)
      useArrayPolymorphism = false;
    if (classDiscriminator === void 0)
      classDiscriminator = JsonConfiguration$Companion_getInstance().defaultDiscriminator_0;
    if (updateMode === void 0)
      updateMode = UpdateMode$OVERWRITE_getInstance();
    this.encodeDefaults_8be2vx$ = encodeDefaults;
    this.strictMode_8be2vx$ = strictMode;
    this.unquoted_8be2vx$ = unquoted;
    this.allowStructuredMapKeys_8be2vx$ = allowStructuredMapKeys;
    this.prettyPrint_8be2vx$ = prettyPrint;
    this.indent_8be2vx$ = indent;
    this.useArrayPolymorphism_8be2vx$ = useArrayPolymorphism;
    this.classDiscriminator_8be2vx$ = classDiscriminator;
    this.updateMode_8be2vx$ = updateMode;
    if (this.useArrayPolymorphism_8be2vx$) {
      if (!equals(this.classDiscriminator_8be2vx$, JsonConfiguration$Companion_getInstance().defaultDiscriminator_0)) {
        var message = 'Class discriminator should not be specified when array polymorphism is specified';
        throw IllegalArgumentException_init(message.toString());
      }
    }
    if (!this.prettyPrint_8be2vx$) {
      if (!equals(this.indent_8be2vx$, JsonConfiguration$Companion_getInstance().defaultIndent_0)) {
        var message_0 = 'Indent should not be specified when default printing mode is used';
        throw IllegalArgumentException_init(message_0.toString());
      }
    }
  }
  function JsonConfiguration$Companion() {
    JsonConfiguration$Companion_instance = this;
    this.defaultIndent_0 = '    ';
    this.defaultDiscriminator_0 = 'type';
    this.Default = new JsonConfiguration();
    this.Stable = new JsonConfiguration(true, true, false, true, false, this.defaultIndent_0, false, this.defaultDiscriminator_0);
  }
  JsonConfiguration$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonConfiguration$Companion_instance = null;
  function JsonConfiguration$Companion_getInstance() {
    if (JsonConfiguration$Companion_instance === null) {
      new JsonConfiguration$Companion();
    }
    return JsonConfiguration$Companion_instance;
  }
  JsonConfiguration.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonConfiguration', interfaces: []};
  JsonConfiguration.prototype.component1_8be2vx$ = function () {
    return this.encodeDefaults_8be2vx$;
  };
  JsonConfiguration.prototype.component2_8be2vx$ = function () {
    return this.strictMode_8be2vx$;
  };
  JsonConfiguration.prototype.component3_8be2vx$ = function () {
    return this.unquoted_8be2vx$;
  };
  JsonConfiguration.prototype.component4_8be2vx$ = function () {
    return this.allowStructuredMapKeys_8be2vx$;
  };
  JsonConfiguration.prototype.component5_8be2vx$ = function () {
    return this.prettyPrint_8be2vx$;
  };
  JsonConfiguration.prototype.component6_8be2vx$ = function () {
    return this.indent_8be2vx$;
  };
  JsonConfiguration.prototype.component7_8be2vx$ = function () {
    return this.useArrayPolymorphism_8be2vx$;
  };
  JsonConfiguration.prototype.component8_8be2vx$ = function () {
    return this.classDiscriminator_8be2vx$;
  };
  JsonConfiguration.prototype.component9_8be2vx$ = function () {
    return this.updateMode_8be2vx$;
  };
  JsonConfiguration.prototype.copy_u5l5z3$ = function (encodeDefaults, strictMode, unquoted, allowStructuredMapKeys, prettyPrint, indent, useArrayPolymorphism, classDiscriminator, updateMode) {
    return new JsonConfiguration(encodeDefaults === void 0 ? this.encodeDefaults_8be2vx$ : encodeDefaults, strictMode === void 0 ? this.strictMode_8be2vx$ : strictMode, unquoted === void 0 ? this.unquoted_8be2vx$ : unquoted, allowStructuredMapKeys === void 0 ? this.allowStructuredMapKeys_8be2vx$ : allowStructuredMapKeys, prettyPrint === void 0 ? this.prettyPrint_8be2vx$ : prettyPrint, indent === void 0 ? this.indent_8be2vx$ : indent, useArrayPolymorphism === void 0 ? this.useArrayPolymorphism_8be2vx$ : useArrayPolymorphism, classDiscriminator === void 0 ? this.classDiscriminator_8be2vx$ : classDiscriminator, updateMode === void 0 ? this.updateMode_8be2vx$ : updateMode);
  };
  JsonConfiguration.prototype.toString = function () {
    return 'JsonConfiguration(encodeDefaults=' + Kotlin.toString(this.encodeDefaults_8be2vx$) + (', strictMode=' + Kotlin.toString(this.strictMode_8be2vx$)) + (', unquoted=' + Kotlin.toString(this.unquoted_8be2vx$)) + (', allowStructuredMapKeys=' + Kotlin.toString(this.allowStructuredMapKeys_8be2vx$)) + (', prettyPrint=' + Kotlin.toString(this.prettyPrint_8be2vx$)) + (', indent=' + Kotlin.toString(this.indent_8be2vx$)) + (', useArrayPolymorphism=' + Kotlin.toString(this.useArrayPolymorphism_8be2vx$)) + (', classDiscriminator=' + Kotlin.toString(this.classDiscriminator_8be2vx$)) + (', updateMode=' + Kotlin.toString(this.updateMode_8be2vx$)) + ')';
  };
  JsonConfiguration.prototype.hashCode = function () {
    var result = 0;
    result = result * 31 + Kotlin.hashCode(this.encodeDefaults_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.strictMode_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.unquoted_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.allowStructuredMapKeys_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.prettyPrint_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.indent_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.useArrayPolymorphism_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.classDiscriminator_8be2vx$) | 0;
    result = result * 31 + Kotlin.hashCode(this.updateMode_8be2vx$) | 0;
    return result;
  };
  JsonConfiguration.prototype.equals = function (other) {
    return this === other || (other !== null && (typeof other === 'object' && (Object.getPrototypeOf(this) === Object.getPrototypeOf(other) && (Kotlin.equals(this.encodeDefaults_8be2vx$, other.encodeDefaults_8be2vx$) && Kotlin.equals(this.strictMode_8be2vx$, other.strictMode_8be2vx$) && Kotlin.equals(this.unquoted_8be2vx$, other.unquoted_8be2vx$) && Kotlin.equals(this.allowStructuredMapKeys_8be2vx$, other.allowStructuredMapKeys_8be2vx$) && Kotlin.equals(this.prettyPrint_8be2vx$, other.prettyPrint_8be2vx$) && Kotlin.equals(this.indent_8be2vx$, other.indent_8be2vx$) && Kotlin.equals(this.useArrayPolymorphism_8be2vx$, other.useArrayPolymorphism_8be2vx$) && Kotlin.equals(this.classDiscriminator_8be2vx$, other.classDiscriminator_8be2vx$) && Kotlin.equals(this.updateMode_8be2vx$, other.updateMode_8be2vx$)))));
  };
  function JsonElement() {
    JsonElement$Companion_getInstance();
  }
  Object.defineProperty(JsonElement.prototype, 'primitive', {get: function () {
    return this.error_azfyan$_0('JsonLiteral');
  }});
  Object.defineProperty(JsonElement.prototype, 'jsonObject', {get: function () {
    return this.error_azfyan$_0('JsonObject');
  }});
  Object.defineProperty(JsonElement.prototype, 'jsonArray', {get: function () {
    return this.error_azfyan$_0('JsonArray');
  }});
  Object.defineProperty(JsonElement.prototype, 'jsonNull', {get: function () {
    return this.error_azfyan$_0('JsonPrimitive');
  }});
  Object.defineProperty(JsonElement.prototype, 'isNull', {get: function () {
    return this === JsonNull_getInstance();
  }});
  JsonElement.prototype.error_azfyan$_0 = function (element) {
    throw new JsonException('Element ' + Kotlin.getKClassFromExpression(this).toString() + ' is not a ' + element);
  };
  function JsonElement$Companion() {
    JsonElement$Companion_instance = this;
  }
  JsonElement$Companion.prototype.serializer = function () {
    return JsonElementSerializer_getInstance();
  };
  JsonElement$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonElement$Companion_instance = null;
  function JsonElement$Companion_getInstance() {
    if (JsonElement$Companion_instance === null) {
      new JsonElement$Companion();
    }
    return JsonElement$Companion_instance;
  }
  JsonElement.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonElement', interfaces: []};
  function JsonPrimitive() {
    JsonPrimitive$Companion_getInstance();
    JsonElement.call(this);
    this.primitive_awfpe5$_0 = this;
  }
  Object.defineProperty(JsonPrimitive.prototype, 'primitive', {get: function () {
    return this.primitive_awfpe5$_0;
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'int', {get: function () {
    return toInt(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'intOrNull', {get: function () {
    return toIntOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'long', {get: function () {
    return toLong(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'longOrNull', {get: function () {
    return toLongOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'double', {get: function () {
    return toDouble(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'doubleOrNull', {get: function () {
    return toDoubleOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'float', {get: function () {
    return toDouble(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'floatOrNull', {get: function () {
    return toDoubleOrNull(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'boolean', {get: function () {
    return toBooleanStrict(this.content);
  }});
  Object.defineProperty(JsonPrimitive.prototype, 'booleanOrNull', {get: function () {
    return toBooleanStrictOrNull(this.content);
  }});
  JsonPrimitive.prototype.toString = function () {
    return this.content;
  };
  function JsonPrimitive$Companion() {
    JsonPrimitive$Companion_instance = this;
  }
  JsonPrimitive$Companion.prototype.serializer = function () {
    return JsonPrimitiveSerializer_getInstance();
  };
  JsonPrimitive$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonPrimitive$Companion_instance = null;
  function JsonPrimitive$Companion_getInstance() {
    if (JsonPrimitive$Companion_instance === null) {
      new JsonPrimitive$Companion();
    }
    return JsonPrimitive$Companion_instance;
  }
  JsonPrimitive.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonPrimitive', interfaces: [JsonElement]};
  function JsonLiteral(body, isString) {
    JsonLiteral$Companion_getInstance();
    JsonPrimitive.call(this);
    this.body = body;
    this.isString = isString;
    this.content_prrjtz$_0 = this.body.toString();
    this.contentOrNull_mx86gf$_0 = this.content;
  }
  Object.defineProperty(JsonLiteral.prototype, 'content', {get: function () {
    return this.content_prrjtz$_0;
  }});
  Object.defineProperty(JsonLiteral.prototype, 'contentOrNull', {get: function () {
    return this.contentOrNull_mx86gf$_0;
  }});
  JsonLiteral.prototype.toString = function () {
    var tmp$;
    if (this.isString) {
      var $receiver = StringBuilder_init_0();
      printQuoted($receiver, this.content);
      tmp$ = $receiver.toString();
    }
     else
      tmp$ = this.content;
    return tmp$;
  };
  JsonLiteral.prototype.equals = function (other) {
    var tmp$, tmp$_0;
    if (this === other)
      return true;
    if (other == null || !((tmp$ = Kotlin.getKClassFromExpression(this)) != null ? tmp$.equals(Kotlin.getKClassFromExpression(other)) : null))
      return false;
    Kotlin.isType(tmp$_0 = other, JsonLiteral) ? tmp$_0 : throwCCE();
    if (this.isString !== other.isString)
      return false;
    if (!equals(this.content, other.content))
      return false;
    return true;
  };
  JsonLiteral.prototype.hashCode = function () {
    var result = hashCode(this.isString);
    result = (31 * result | 0) + hashCode(this.content) | 0;
    return result;
  };
  function JsonLiteral$Companion() {
    JsonLiteral$Companion_instance = this;
  }
  JsonLiteral$Companion.prototype.serializer = function () {
    return JsonLiteralSerializer_getInstance();
  };
  JsonLiteral$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonLiteral$Companion_instance = null;
  function JsonLiteral$Companion_getInstance() {
    if (JsonLiteral$Companion_instance === null) {
      new JsonLiteral$Companion();
    }
    return JsonLiteral$Companion_instance;
  }
  JsonLiteral.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonLiteral', interfaces: [JsonPrimitive]};
  function JsonLiteral_init(number, $this) {
    $this = $this || Object.create(JsonLiteral.prototype);
    JsonLiteral.call($this, number, false);
    return $this;
  }
  function JsonLiteral_init_0(boolean, $this) {
    $this = $this || Object.create(JsonLiteral.prototype);
    JsonLiteral.call($this, boolean, false);
    return $this;
  }
  function JsonLiteral_init_1(string, $this) {
    $this = $this || Object.create(JsonLiteral.prototype);
    JsonLiteral.call($this, string, true);
    return $this;
  }
  function JsonNull() {
    JsonNull_instance = this;
    JsonPrimitive.call(this);
    this.jsonNull_c8yjib$_0 = this;
    this.content_w1vkof$_0 = 'null';
    this.contentOrNull_egvcud$_0 = null;
  }
  Object.defineProperty(JsonNull.prototype, 'jsonNull', {get: function () {
    return this.jsonNull_c8yjib$_0;
  }});
  Object.defineProperty(JsonNull.prototype, 'content', {get: function () {
    return this.content_w1vkof$_0;
  }});
  Object.defineProperty(JsonNull.prototype, 'contentOrNull', {get: function () {
    return this.contentOrNull_egvcud$_0;
  }});
  JsonNull.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonNull', interfaces: [JsonPrimitive]};
  var JsonNull_instance = null;
  function JsonNull_getInstance() {
    if (JsonNull_instance === null) {
      new JsonNull();
    }
    return JsonNull_instance;
  }
  function JsonObject(content) {
    JsonObject$Companion_getInstance();
    JsonElement.call(this);
    this.content = content;
    this.jsonObject_js4yrn$_0 = this;
  }
  Object.defineProperty(JsonObject.prototype, 'jsonObject', {get: function () {
    return this.jsonObject_js4yrn$_0;
  }});
  JsonObject.prototype.getPrimitive_61zpoe$ = function (key) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = getValue(this, key), JsonPrimitive) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, 'JsonPrimitive');
  };
  JsonObject.prototype.getObject_61zpoe$ = function (key) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = getValue(this, key), JsonObject) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, 'JsonObject');
  };
  JsonObject.prototype.getArray_61zpoe$ = function (key) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = getValue(this, key), JsonArray) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, 'JsonArray');
  };
  JsonObject.prototype.getPrimitiveOrNull_61zpoe$ = function (key) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.content.get_11rb$(key), JsonPrimitive) ? tmp$ : null;
  };
  JsonObject.prototype.getObjectOrNull_61zpoe$ = function (key) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.content.get_11rb$(key), JsonObject) ? tmp$ : null;
  };
  JsonObject.prototype.getArrayOrNull_61zpoe$ = function (key) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.content.get_11rb$(key), JsonArray) ? tmp$ : null;
  };
  JsonObject.prototype.getAs_j069p3$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonObject.getAs_j069p3$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var unexpectedJson = _.kotlinx.serialization.json.unexpectedJson_puj7f4$;
    return function (J_0, isJ, key) {
      var tmp$, tmp$_0;
      return (tmp$_0 = isJ(tmp$ = this.get_11rb$(key)) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson(key, getKClass(J_0).toString());
    };
  }));
  JsonObject.prototype.getAsOrNull_j069p3$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonObject.getAsOrNull_j069p3$', function (J_0, isJ, key) {
    var tmp$;
    return isJ(tmp$ = this.content.get_11rb$(key)) ? tmp$ : null;
  });
  function JsonObject$toString$lambda(f) {
    var k = f.key;
    var v = f.value;
    return '"' + k + '"' + ':' + v;
  }
  JsonObject.prototype.toString = function () {
    return joinToString(this.content.entries, ',', '{', '}', void 0, void 0, JsonObject$toString$lambda);
  };
  JsonObject.prototype.equals = function (other) {
    return equals(this.content, other);
  };
  JsonObject.prototype.hashCode = function () {
    return hashCode(this.content);
  };
  function JsonObject$Companion() {
    JsonObject$Companion_instance = this;
  }
  JsonObject$Companion.prototype.serializer = function () {
    return JsonObjectSerializer_getInstance();
  };
  JsonObject$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonObject$Companion_instance = null;
  function JsonObject$Companion_getInstance() {
    if (JsonObject$Companion_instance === null) {
      new JsonObject$Companion();
    }
    return JsonObject$Companion_instance;
  }
  Object.defineProperty(JsonObject.prototype, 'entries', {get: function () {
    return this.content.entries;
  }});
  Object.defineProperty(JsonObject.prototype, 'keys', {get: function () {
    return this.content.keys;
  }});
  Object.defineProperty(JsonObject.prototype, 'size', {get: function () {
    return this.content.size;
  }});
  Object.defineProperty(JsonObject.prototype, 'values', {get: function () {
    return this.content.values;
  }});
  JsonObject.prototype.containsKey_11rb$ = function (key) {
    return this.content.containsKey_11rb$(key);
  };
  JsonObject.prototype.containsValue_11rc$ = function (value) {
    return this.content.containsValue_11rc$(value);
  };
  JsonObject.prototype.get_11rb$ = function (key) {
    return this.content.get_11rb$(key);
  };
  JsonObject.prototype.isEmpty = function () {
    return this.content.isEmpty();
  };
  JsonObject.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonObject', interfaces: [Map, JsonElement]};
  JsonObject.prototype.component1 = function () {
    return this.content;
  };
  JsonObject.prototype.copy_fnd918$ = function (content) {
    return new JsonObject(content === void 0 ? this.content : content);
  };
  function JsonArray(content) {
    JsonArray$Companion_getInstance();
    JsonElement.call(this);
    this.content = content;
    this.jsonArray_u1gsrt$_0 = this;
  }
  Object.defineProperty(JsonArray.prototype, 'jsonArray', {get: function () {
    return this.jsonArray_u1gsrt$_0;
  }});
  JsonArray.prototype.getPrimitive_za3lpa$ = function (index) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = this.content.get_za3lpa$(index), JsonPrimitive) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, 'JsonPrimitive');
  };
  JsonArray.prototype.getObject_za3lpa$ = function (index) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = this.content.get_za3lpa$(index), JsonObject) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, 'JsonObject');
  };
  JsonArray.prototype.getArray_za3lpa$ = function (index) {
    var tmp$, tmp$_0;
    return (tmp$_0 = Kotlin.isType(tmp$ = this.content.get_za3lpa$(index), JsonArray) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, 'JsonArray');
  };
  JsonArray.prototype.getPrimitiveOrNull_za3lpa$ = function (index) {
    var tmp$;
    return Kotlin.isType(tmp$ = getOrNull_0(this.content, index), JsonPrimitive) ? tmp$ : null;
  };
  JsonArray.prototype.getObjectOrNull_za3lpa$ = function (index) {
    var tmp$;
    return Kotlin.isType(tmp$ = getOrNull_0(this.content, index), JsonObject) ? tmp$ : null;
  };
  JsonArray.prototype.getArrayOrNull_za3lpa$ = function (index) {
    var tmp$;
    return Kotlin.isType(tmp$ = getOrNull_0(this.content, index), JsonArray) ? tmp$ : null;
  };
  JsonArray.prototype.getAs_n86q5$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonArray.getAs_n86q5$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var unexpectedJson = _.kotlinx.serialization.json.unexpectedJson_puj7f4$;
    return function (J_0, isJ, index) {
      var tmp$, tmp$_0;
      return (tmp$_0 = isJ(tmp$ = this.content.get_za3lpa$(index)) ? tmp$ : null) != null ? tmp$_0 : unexpectedJson('at ' + index, getKClass(J_0).toString());
    };
  }));
  JsonArray.prototype.getAsOrNull_n86q5$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.JsonArray.getAsOrNull_n86q5$', wrapFunction(function () {
    var getOrNull = Kotlin.kotlin.collections.getOrNull_yzln2o$;
    return function (J_0, isJ, index) {
      var tmp$;
      return isJ(tmp$ = getOrNull(this.content, index)) ? tmp$ : null;
    };
  }));
  JsonArray.prototype.toString = function () {
    return joinToString(this.content, ',', '[', ']');
  };
  JsonArray.prototype.equals = function (other) {
    return equals(this.content, other);
  };
  JsonArray.prototype.hashCode = function () {
    return hashCode(this.content);
  };
  function JsonArray$Companion() {
    JsonArray$Companion_instance = this;
  }
  JsonArray$Companion.prototype.serializer = function () {
    return JsonArraySerializer_getInstance();
  };
  JsonArray$Companion.$metadata$ = {kind: Kind_OBJECT, simpleName: 'Companion', interfaces: []};
  var JsonArray$Companion_instance = null;
  function JsonArray$Companion_getInstance() {
    if (JsonArray$Companion_instance === null) {
      new JsonArray$Companion();
    }
    return JsonArray$Companion_instance;
  }
  Object.defineProperty(JsonArray.prototype, 'size', {get: function () {
    return this.content.size;
  }});
  JsonArray.prototype.contains_11rb$ = function (element) {
    return this.content.contains_11rb$(element);
  };
  JsonArray.prototype.containsAll_brywnq$ = function (elements) {
    return this.content.containsAll_brywnq$(elements);
  };
  JsonArray.prototype.get_za3lpa$ = function (index) {
    return this.content.get_za3lpa$(index);
  };
  JsonArray.prototype.indexOf_11rb$ = function (element) {
    return this.content.indexOf_11rb$(element);
  };
  JsonArray.prototype.isEmpty = function () {
    return this.content.isEmpty();
  };
  JsonArray.prototype.iterator = function () {
    return this.content.iterator();
  };
  JsonArray.prototype.lastIndexOf_11rb$ = function (element) {
    return this.content.lastIndexOf_11rb$(element);
  };
  JsonArray.prototype.listIterator = function () {
    return this.content.listIterator();
  };
  JsonArray.prototype.listIterator_za3lpa$ = function (index) {
    return this.content.listIterator_za3lpa$(index);
  };
  JsonArray.prototype.subList_vux9f0$ = function (fromIndex, toIndex) {
    return this.content.subList_vux9f0$(fromIndex, toIndex);
  };
  JsonArray.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonArray', interfaces: [List, JsonElement]};
  JsonArray.prototype.component1 = function () {
    return this.content;
  };
  JsonArray.prototype.copy_adp4jc$ = function (content) {
    return new JsonArray(content === void 0 ? this.content : content);
  };
  function unexpectedJson(key, expected) {
    throw new JsonException('Element ' + key + ' is not a ' + expected);
  }
  function JsonElementSerializer() {
    JsonElementSerializer_instance = this;
    this.descriptor_u8kpse$_0 = new JsonElementSerializer$descriptor$ObjectLiteral('JsonElementSerializer');
  }
  Object.defineProperty(JsonElementSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_u8kpse$_0;
  }});
  JsonElementSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    if (Kotlin.isType(obj, JsonPrimitive))
      encoder.encodeSerializableValue_tf03ej$(JsonPrimitiveSerializer_getInstance(), obj);
    else if (Kotlin.isType(obj, JsonObject))
      encoder.encodeSerializableValue_tf03ej$(JsonObjectSerializer_getInstance(), obj);
    else if (Kotlin.isType(obj, JsonArray))
      encoder.encodeSerializableValue_tf03ej$(JsonArraySerializer_getInstance(), obj);
  };
  JsonElementSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    var tmp$;
    verify_0(decoder);
    var input = Kotlin.isType(tmp$ = decoder, JsonInput) ? tmp$ : throwCCE();
    return input.decodeJson();
  };
  function JsonElementSerializer$descriptor$ObjectLiteral(name, generatedSerializer) {
    SerialClassDescImpl.call(this, name, generatedSerializer);
  }
  Object.defineProperty(JsonElementSerializer$descriptor$ObjectLiteral.prototype, 'kind', {get: function () {
    return UnionKind$SEALED_getInstance();
  }});
  JsonElementSerializer$descriptor$ObjectLiteral.$metadata$ = {kind: Kind_CLASS, interfaces: [SerialClassDescImpl]};
  JsonElementSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonElementSerializer', interfaces: [KSerializer]};
  var JsonElementSerializer_instance = null;
  function JsonElementSerializer_getInstance() {
    if (JsonElementSerializer_instance === null) {
      new JsonElementSerializer();
    }
    return JsonElementSerializer_instance;
  }
  function JsonPrimitiveSerializer() {
    JsonPrimitiveSerializer_instance = this;
  }
  Object.defineProperty(JsonPrimitiveSerializer.prototype, 'descriptor', {get: function () {
    return JsonPrimitiveSerializer$JsonPrimitiveDescriptor_getInstance();
  }});
  JsonPrimitiveSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    var tmp$, tmp$_0;
    verify(encoder);
    if (Kotlin.isType(obj, JsonNull)) {
      tmp$_0 = encoder.encodeSerializableValue_tf03ej$(JsonNullSerializer_getInstance(), JsonNull_getInstance());
    }
     else {
      tmp$_0 = encoder.encodeSerializableValue_tf03ej$(JsonLiteralSerializer_getInstance(), Kotlin.isType(tmp$ = obj, JsonLiteral) ? tmp$ : throwCCE());
    }
    return tmp$_0;
  };
  JsonPrimitiveSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return decoder.decodeNotNullMark() ? JsonPrimitive_2(decoder.decodeString()) : decoder.decodeSerializableValue_w63s0f$(JsonNullSerializer_getInstance());
  };
  function JsonPrimitiveSerializer$JsonPrimitiveDescriptor() {
    JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'JsonPrimitive');
  }
  Object.defineProperty(JsonPrimitiveSerializer$JsonPrimitiveDescriptor.prototype, 'kind', {get: function () {
    return PrimitiveKind$STRING_getInstance();
  }});
  JsonPrimitiveSerializer$JsonPrimitiveDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonPrimitiveDescriptor', interfaces: [SerialClassDescImpl]};
  var JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance = null;
  function JsonPrimitiveSerializer$JsonPrimitiveDescriptor_getInstance() {
    if (JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance === null) {
      new JsonPrimitiveSerializer$JsonPrimitiveDescriptor();
    }
    return JsonPrimitiveSerializer$JsonPrimitiveDescriptor_instance;
  }
  JsonPrimitiveSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonPrimitiveSerializer', interfaces: [KSerializer]};
  var JsonPrimitiveSerializer_instance = null;
  function JsonPrimitiveSerializer_getInstance() {
    if (JsonPrimitiveSerializer_instance === null) {
      new JsonPrimitiveSerializer();
    }
    return JsonPrimitiveSerializer_instance;
  }
  function JsonNullSerializer() {
    JsonNullSerializer_instance = this;
  }
  Object.defineProperty(JsonNullSerializer.prototype, 'descriptor', {get: function () {
    return JsonNullSerializer$JsonNullDescriptor_getInstance();
  }});
  JsonNullSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    encoder.encodeNull();
  };
  JsonNullSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    decoder.decodeNull();
    return JsonNull_getInstance();
  };
  function JsonNullSerializer$JsonNullDescriptor() {
    JsonNullSerializer$JsonNullDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'JsonNull');
  }
  Object.defineProperty(JsonNullSerializer$JsonNullDescriptor.prototype, 'kind', {get: function () {
    return UnionKind$ENUM_KIND_getInstance();
  }});
  JsonNullSerializer$JsonNullDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonNullDescriptor', interfaces: [SerialClassDescImpl]};
  var JsonNullSerializer$JsonNullDescriptor_instance = null;
  function JsonNullSerializer$JsonNullDescriptor_getInstance() {
    if (JsonNullSerializer$JsonNullDescriptor_instance === null) {
      new JsonNullSerializer$JsonNullDescriptor();
    }
    return JsonNullSerializer$JsonNullDescriptor_instance;
  }
  JsonNullSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonNullSerializer', interfaces: [KSerializer]};
  var JsonNullSerializer_instance = null;
  function JsonNullSerializer_getInstance() {
    if (JsonNullSerializer_instance === null) {
      new JsonNullSerializer();
    }
    return JsonNullSerializer_instance;
  }
  function JsonLiteralSerializer() {
    JsonLiteralSerializer_instance = this;
  }
  Object.defineProperty(JsonLiteralSerializer.prototype, 'descriptor', {get: function () {
    return JsonLiteralSerializer$JsonLiteralDescriptor_getInstance();
  }});
  JsonLiteralSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    if (obj.isString) {
      return encoder.encodeString_61zpoe$(obj.content);
    }
    var long = obj.longOrNull;
    if (long != null) {
      return encoder.encodeLong_s8cxhz$(long);
    }
    var double = obj.doubleOrNull;
    if (double != null) {
      return encoder.encodeDouble_14dthe$(double);
    }
    var boolean = obj.booleanOrNull;
    if (boolean != null) {
      return encoder.encodeBoolean_6taknv$(boolean);
    }
    encoder.encodeString_61zpoe$(obj.content);
  };
  JsonLiteralSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return JsonLiteral_init_1(decoder.decodeString());
  };
  function JsonLiteralSerializer$JsonLiteralDescriptor() {
    JsonLiteralSerializer$JsonLiteralDescriptor_instance = this;
    SerialClassDescImpl.call(this, 'JsonLiteral');
  }
  Object.defineProperty(JsonLiteralSerializer$JsonLiteralDescriptor.prototype, 'kind', {get: function () {
    return PrimitiveKind$STRING_getInstance();
  }});
  JsonLiteralSerializer$JsonLiteralDescriptor.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonLiteralDescriptor', interfaces: [SerialClassDescImpl]};
  var JsonLiteralSerializer$JsonLiteralDescriptor_instance = null;
  function JsonLiteralSerializer$JsonLiteralDescriptor_getInstance() {
    if (JsonLiteralSerializer$JsonLiteralDescriptor_instance === null) {
      new JsonLiteralSerializer$JsonLiteralDescriptor();
    }
    return JsonLiteralSerializer$JsonLiteralDescriptor_instance;
  }
  JsonLiteralSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonLiteralSerializer', interfaces: [KSerializer]};
  var JsonLiteralSerializer_instance = null;
  function JsonLiteralSerializer_getInstance() {
    if (JsonLiteralSerializer_instance === null) {
      new JsonLiteralSerializer();
    }
    return JsonLiteralSerializer_instance;
  }
  function JsonObjectSerializer() {
    JsonObjectSerializer_instance = this;
    this.descriptor_a992tj$_0 = new NamedMapClassDescriptor('JsonObject', StringSerializer_getInstance().descriptor, JsonElementSerializer_getInstance().descriptor);
  }
  Object.defineProperty(JsonObjectSerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_a992tj$_0;
  }});
  JsonObjectSerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    (new LinkedHashMapSerializer(StringSerializer_getInstance(), JsonElementSerializer_getInstance())).serialize_awe97i$(encoder, obj.content);
  };
  JsonObjectSerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return new JsonObject((new LinkedHashMapSerializer(StringSerializer_getInstance(), JsonElementSerializer_getInstance())).deserialize_nts5qn$(decoder));
  };
  JsonObjectSerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonObjectSerializer', interfaces: [KSerializer]};
  var JsonObjectSerializer_instance = null;
  function JsonObjectSerializer_getInstance() {
    if (JsonObjectSerializer_instance === null) {
      new JsonObjectSerializer();
    }
    return JsonObjectSerializer_instance;
  }
  function JsonArraySerializer() {
    JsonArraySerializer_instance = this;
    this.descriptor_935ivj$_0 = new NamedListClassDescriptor('JsonArray', JsonElementSerializer_getInstance().descriptor);
  }
  Object.defineProperty(JsonArraySerializer.prototype, 'descriptor', {get: function () {
    return this.descriptor_935ivj$_0;
  }});
  JsonArraySerializer.prototype.serialize_awe97i$ = function (encoder, obj) {
    verify(encoder);
    (new ArrayListSerializer(JsonElementSerializer_getInstance())).serialize_awe97i$(encoder, obj);
  };
  JsonArraySerializer.prototype.deserialize_nts5qn$ = function (decoder) {
    verify_0(decoder);
    return new JsonArray((new ArrayListSerializer(JsonElementSerializer_getInstance())).deserialize_nts5qn$(decoder));
  };
  JsonArraySerializer.$metadata$ = {kind: Kind_OBJECT, simpleName: 'JsonArraySerializer', interfaces: [KSerializer]};
  var JsonArraySerializer_instance = null;
  function JsonArraySerializer_getInstance() {
    if (JsonArraySerializer_instance === null) {
      new JsonArraySerializer();
    }
    return JsonArraySerializer_instance;
  }
  function verify(encoder) {
    if (!Kotlin.isType(encoder, JsonOutput)) {
      throw IllegalStateException_init('Json element serializer can be used only by Json format'.toString());
    }
  }
  function verify_0(decoder) {
    if (!Kotlin.isType(decoder, JsonInput)) {
      throw IllegalStateException_init('Json element serializer can be used only by Json format'.toString());
    }
  }
  function JsonPrimitive_2(value) {
    if (value == null)
      return JsonNull_getInstance();
    return JsonLiteral_init_1(value);
  }
  function get_content($receiver) {
    return $receiver.primitive.content;
  }
  function InvalidFloatingPoint(value, type) {
    return new JsonEncodingException(value.toString() + ' is not a valid ' + type + ' as per JSON specification. ' + 'You can disable strict mode to serialize such values');
  }
  function InvalidFloatingPoint_0(value, key, type) {
    return new JsonEncodingException(value.toString() + ' with key ' + key + ' is not a valid ' + type + ' as per JSON specification. ' + 'You can disable strict mode to serialize such values');
  }
  function jsonUnknownKeyException(position, key) {
    return new JsonDecodingException(position, 'Strict JSON encountered unknown key: ' + key + '\n' + 'You can disable strict mode to skip unknown keys');
  }
  function JsonMapInvalidKeyKind(keyDescriptor) {
    return new JsonException('Value of type ' + keyDescriptor.name + " can't be used in json as map key. " + ('It should have either primitive or enum kind, but its kind is ' + keyDescriptor.kind + '.' + '\n') + "You can convert such maps to arrays [key1, value1, key2, value2,...] with 'allowStructuredMapKeys' flag in JsonConfiguration.");
  }
  function JsonException(message) {
    SerializationException.call(this, message);
    this.name = 'JsonException';
  }
  JsonException.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonException', interfaces: [SerializationException]};
  function JsonDecodingException(position, message) {
    JsonException.call(this, 'Invalid JSON at ' + position + ': ' + message);
    this.name = 'JsonDecodingException';
  }
  JsonDecodingException.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonDecodingException', interfaces: [JsonException]};
  function JsonEncodingException(message) {
    JsonException.call(this, message);
    this.name = 'JsonEncodingException';
  }
  JsonEncodingException.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonEncodingException', interfaces: [JsonException]};
  function JsonInput() {
  }
  JsonInput.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'JsonInput', interfaces: [CompositeDecoder, Decoder]};
  function JsonOutput() {
  }
  JsonOutput.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'JsonOutput', interfaces: [CompositeEncoder, Encoder]};
  function JsonParser(reader) {
    this.reader_0 = reader;
  }
  JsonParser.prototype.readObject_0 = function () {
    var $this = this.reader_0;
    if ($this.tokenClass !== TC_BEGIN_OBJ) {
      toBoxedChar(toChar($this.tokenClass));
      $this.fail_bm4lxs$('Expected start of the object', $this.tokenPosition_0);
    }
    this.reader_0.nextToken();
    var $this_0 = this.reader_0;
    var condition = this.reader_0.tokenClass !== TC_COMMA;
    var position = this.reader_0.currentPosition;
    if (!condition) {
      $this_0.fail_bm4lxs$('Unexpected leading comma', position);
    }
    var result = LinkedHashMap_init();
    var valueExpected = false;
    while (this.reader_0.canBeginValue) {
      valueExpected = false;
      var key = this.reader_0.takeString();
      var $this_1 = this.reader_0;
      if ($this_1.tokenClass !== TC_COLON) {
        toBoxedChar(toChar($this_1.tokenClass));
        $this_1.fail_bm4lxs$("Expected ':'", $this_1.tokenPosition_0);
      }
      this.reader_0.nextToken();
      var element = this.read();
      result.put_xwzc9p$(key, element);
      if (this.reader_0.tokenClass !== TC_COMMA) {
        var $this_2 = this.reader_0;
        if ($this_2.tokenClass !== TC_END_OBJ) {
          toBoxedChar(toChar($this_2.tokenClass));
          $this_2.fail_bm4lxs$('Expected end of the object or comma', $this_2.tokenPosition_0);
        }
      }
       else {
        valueExpected = true;
        this.reader_0.nextToken();
      }
    }
    var $this_3 = this.reader_0;
    var condition_0 = !valueExpected && this.reader_0.tokenClass === TC_END_OBJ;
    var position_0 = this.reader_0.currentPosition;
    if (!condition_0) {
      $this_3.fail_bm4lxs$('Expected end of the object', position_0);
    }
    this.reader_0.nextToken();
    return new JsonObject(result);
  };
  JsonParser.prototype.readValue_0 = function (isString) {
    var str = this.reader_0.takeString();
    return new JsonLiteral(str, isString);
  };
  JsonParser.prototype.readArray_0 = function () {
    var $this = this.reader_0;
    if ($this.tokenClass !== TC_BEGIN_LIST) {
      toBoxedChar(toChar($this.tokenClass));
      $this.fail_bm4lxs$('Expected start of the array', $this.tokenPosition_0);
    }
    this.reader_0.nextToken();
    var $this_0 = this.reader_0;
    var condition = this.reader_0.tokenClass !== TC_COMMA;
    var position = this.reader_0.currentPosition;
    if (!condition) {
      $this_0.fail_bm4lxs$('Unexpected leading comma', position);
    }
    var result = ArrayList_init_0();
    var valueExpected = false;
    while (this.reader_0.canBeginValue) {
      valueExpected = false;
      var element = this.read();
      result.add_11rb$(element);
      if (this.reader_0.tokenClass !== TC_COMMA) {
        var $this_1 = this.reader_0;
        if ($this_1.tokenClass !== TC_END_LIST) {
          toBoxedChar(toChar($this_1.tokenClass));
          $this_1.fail_bm4lxs$('Expected end of the array or comma', $this_1.tokenPosition_0);
        }
      }
       else {
        valueExpected = true;
        this.reader_0.nextToken();
      }
    }
    var $this_2 = this.reader_0;
    var condition_0 = !valueExpected;
    var position_0 = this.reader_0.currentPosition;
    if (!condition_0) {
      $this_2.fail_bm4lxs$('Unexpected trailing comma', position_0);
    }
    this.reader_0.nextToken();
    return new JsonArray(result);
  };
  JsonParser.prototype.read = function () {
    var tmp$;
    if (!this.reader_0.canBeginValue)
      this.reader_0.fail_bm4lxs$("Can't begin reading value from here");
    switch (this.reader_0.tokenClass) {
      case 10:
        var $receiver = JsonNull_getInstance();
        this.reader_0.nextToken();
        tmp$ = $receiver;
        break;
      case 1:
        tmp$ = this.readValue_0(true);
        break;
      case 0:
        tmp$ = this.readValue_0(false);
        break;
      case 6:
        tmp$ = this.readObject_0();
        break;
      case 8:
        tmp$ = this.readArray_0();
        break;
      default:tmp$ = this.reader_0.fail_bm4lxs$("Can't begin reading element, unexpected token");
        break;
    }
    return tmp$;
  };
  JsonParser.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonParser', interfaces: []};
  var NULL;
  var COMMA;
  var COLON;
  var BEGIN_OBJ;
  var END_OBJ;
  var BEGIN_LIST;
  var END_LIST;
  var STRING;
  var STRING_ESC;
  var INVALID;
  var UNICODE_ESC;
  var TC_OTHER;
  var TC_STRING;
  var TC_STRING_ESC;
  var TC_WS;
  var TC_COMMA;
  var TC_COLON;
  var TC_BEGIN_OBJ;
  var TC_END_OBJ;
  var TC_BEGIN_LIST;
  var TC_END_LIST;
  var TC_NULL;
  var TC_INVALID;
  var TC_EOF;
  var CTC_MAX;
  var ESC2C_MAX;
  var C2TC;
  function EscapeCharMappings() {
    EscapeCharMappings_instance = this;
    this.ESCAPE_2_CHAR = Kotlin.charArray(117);
    for (var i = 0; i <= 31; i++) {
      this.initC2ESC_0(i, UNICODE_ESC);
    }
    this.initC2ESC_0(8, 98);
    this.initC2ESC_0(9, 116);
    this.initC2ESC_0(10, 110);
    this.initC2ESC_0(12, 102);
    this.initC2ESC_0(13, 114);
    this.initC2ESC_1(47, 47);
    this.initC2ESC_1(STRING, STRING);
    this.initC2ESC_1(STRING_ESC, STRING_ESC);
  }
  EscapeCharMappings.prototype.initC2ESC_0 = function (c, esc) {
    if (esc !== UNICODE_ESC)
      this.ESCAPE_2_CHAR[esc | 0] = toChar(c);
  };
  EscapeCharMappings.prototype.initC2ESC_1 = function (c, esc) {
    this.initC2ESC_0(c | 0, esc);
  };
  EscapeCharMappings.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EscapeCharMappings', interfaces: []};
  var EscapeCharMappings_instance = null;
  function EscapeCharMappings_getInstance() {
    if (EscapeCharMappings_instance === null) {
      new EscapeCharMappings();
    }
    return EscapeCharMappings_instance;
  }
  function initC2TC($receiver, c, cl) {
    $receiver[c] = cl;
  }
  function initC2TC_0($receiver, c, cl) {
    initC2TC($receiver, c | 0, cl);
  }
  function charToTokenClass(c) {
    return (c | 0) < 126 ? C2TC[c | 0] : TC_OTHER;
  }
  function escapeToChar(c) {
    return unboxChar(c < 117 ? EscapeCharMappings_getInstance().ESCAPE_2_CHAR[c] : INVALID);
  }
  function JsonReader(source) {
    this.source_0 = source;
    this.currentPosition = 0;
    this.tokenClass = TC_EOF;
    this.tokenPosition_0 = 0;
    this.offset_0 = -1;
    this.length_0 = 0;
    this.buf_0 = Kotlin.charArray(16);
    this.nextToken();
  }
  Object.defineProperty(JsonReader.prototype, 'isDone', {get: function () {
    return this.tokenClass === TC_EOF;
  }});
  Object.defineProperty(JsonReader.prototype, 'canBeginValue', {get: function () {
    switch (this.tokenClass) {
      case 8:
      case 6:
      case 0:
      case 1:
      case 10:
        return true;
      default:return false;
    }
  }});
  JsonReader.prototype.requireTokenClass_mvfnf3$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.internal.JsonReader.requireTokenClass_mvfnf3$', wrapFunction(function () {
    var toChar = Kotlin.toChar;
    var toBoxedChar = Kotlin.toBoxedChar;
    return function (expected, errorMessage) {
      if (this.tokenClass !== expected)
        this.fail_bm4lxs$(errorMessage(toBoxedChar(toChar(this.tokenClass))), this.tokenPosition_0);
    };
  }));
  JsonReader.prototype.takeString = function () {
    if (this.tokenClass !== TC_OTHER && this.tokenClass !== TC_STRING)
      this.fail_bm4lxs$('Expected string or non-null literal', this.tokenPosition_0);
    var tmp$;
    if (this.offset_0 < 0)
      tmp$ = String_0(this.buf_0, 0, this.length_0);
    else {
      var $receiver = this.source_0;
      var startIndex = this.offset_0;
      var endIndex = this.offset_0 + this.length_0 | 0;
      tmp$ = $receiver.substring(startIndex, endIndex);
    }
    var prevStr = tmp$;
    this.nextToken();
    return prevStr;
  };
  JsonReader.prototype.append_0 = function (ch) {
    var tmp$;
    if (this.length_0 >= this.buf_0.length)
      this.buf_0 = copyOf_0(this.buf_0, 2 * this.buf_0.length | 0);
    this.buf_0[tmp$ = this.length_0, this.length_0 = tmp$ + 1 | 0, tmp$] = ch;
  };
  JsonReader.prototype.appendRange_0 = function (source, fromIndex, toIndex) {
    var addLen = toIndex - fromIndex | 0;
    var oldLen = this.length_0;
    var newLen = oldLen + addLen | 0;
    if (newLen > this.buf_0.length)
      this.buf_0 = copyOf_0(this.buf_0, coerceAtLeast(newLen, 2 * this.buf_0.length | 0));
    for (var i = 0; i < addLen; i++)
      this.buf_0[oldLen + i | 0] = source.charCodeAt(fromIndex + i | 0);
    this.length_0 = this.length_0 + addLen | 0;
  };
  JsonReader.prototype.nextToken = function () {
    var source = this.source_0;
    var currentPosition = this.currentPosition;
    while (currentPosition < source.length) {
      var ch = source.charCodeAt(currentPosition);
      var tc = charToTokenClass(ch);
      switch (tc) {
        case 3:
          currentPosition = currentPosition + 1 | 0;
          break;
        case 0:
          this.nextLiteral_0(source, currentPosition);
          return;
        case 1:
          this.nextString_0(source, currentPosition);
          return;
        default:this.tokenPosition_0 = currentPosition;
          this.tokenClass = tc;
          this.currentPosition = currentPosition + 1 | 0;
          return;
      }
    }
    this.tokenPosition_0 = currentPosition;
    this.tokenClass = TC_EOF;
  };
  JsonReader.prototype.nextLiteral_0 = function (source, startPos) {
    this.tokenPosition_0 = startPos;
    this.offset_0 = startPos;
    var currentPosition = startPos;
    while (currentPosition < source.length && charToTokenClass(source.charCodeAt(currentPosition)) === TC_OTHER) {
      currentPosition = currentPosition + 1 | 0;
    }
    this.currentPosition = currentPosition;
    this.length_0 = currentPosition - this.offset_0 | 0;
    this.tokenClass = rangeEquals(source, this.offset_0, this.length_0, NULL) ? TC_NULL : TC_OTHER;
  };
  JsonReader.prototype.nextString_0 = function (source, startPosition) {
    this.tokenPosition_0 = startPosition;
    this.length_0 = 0;
    var currentPosition = startPosition + 1 | 0;
    var lastPosition = currentPosition;
    var length = source.length;
    while (source.charCodeAt(currentPosition) !== STRING) {
      if (currentPosition >= length)
        this.fail_bm4lxs$('Unexpected EOF', currentPosition);
      if (source.charCodeAt(currentPosition) === STRING_ESC) {
        this.appendRange_0(source, lastPosition, currentPosition);
        var newPosition = this.appendEsc_0(source, currentPosition + 1 | 0);
        currentPosition = newPosition;
        lastPosition = newPosition;
      }
       else {
        currentPosition = currentPosition + 1 | 0;
      }
    }
    if (lastPosition === (startPosition + 1 | 0)) {
      this.offset_0 = lastPosition;
      this.length_0 = currentPosition - lastPosition | 0;
    }
     else {
      this.appendRange_0(source, lastPosition, currentPosition);
      this.offset_0 = -1;
    }
    this.currentPosition = currentPosition + 1 | 0;
    this.tokenClass = TC_STRING;
  };
  JsonReader.prototype.appendEsc_0 = function (source, startPosition) {
    var tmp$;
    var currentPosition = startPosition;
    var condition = currentPosition < source.length;
    var position = currentPosition;
    if (!condition) {
      this.fail_bm4lxs$('Unexpected EOF after escape character', position);
    }
    var currentChar = source.charCodeAt((tmp$ = currentPosition, currentPosition = tmp$ + 1 | 0, tmp$));
    if (currentChar === UNICODE_ESC) {
      return this.appendHex_0(source, currentPosition);
    }
    var c = escapeToChar(currentChar | 0);
    var condition_0 = c !== INVALID;
    var position_0 = currentPosition;
    if (!condition_0) {
      this.fail_bm4lxs$("Invalid escaped char '" + String.fromCharCode(currentChar) + "'", position_0);
    }
    this.append_0(c);
    return currentPosition;
  };
  JsonReader.prototype.appendHex_0 = function (source, startPos) {
    var tmp$, tmp$_0, tmp$_1, tmp$_2;
    var curPos = startPos;
    this.append_0(toChar((this.fromHexChar_0(source, (tmp$ = curPos, curPos = tmp$ + 1 | 0, tmp$)) << 12) + (this.fromHexChar_0(source, (tmp$_0 = curPos, curPos = tmp$_0 + 1 | 0, tmp$_0)) << 8) + (this.fromHexChar_0(source, (tmp$_1 = curPos, curPos = tmp$_1 + 1 | 0, tmp$_1)) << 4) + this.fromHexChar_0(source, (tmp$_2 = curPos, curPos = tmp$_2 + 1 | 0, tmp$_2)) | 0));
    return curPos;
  };
  JsonReader.prototype.skipElement = function () {
    if (this.tokenClass !== TC_BEGIN_OBJ && this.tokenClass !== TC_BEGIN_LIST) {
      this.nextToken();
      return;
    }
    var tokenStack = ArrayList_init_0();
    do {
      switch (this.tokenClass) {
        case 8:
        case 6:
          tokenStack.add_11rb$(this.tokenClass);
          break;
        case 9:
          if (last(tokenStack) !== TC_BEGIN_LIST)
            throw new JsonDecodingException(this.currentPosition, 'found ] instead of }');
          tokenStack.removeAt_za3lpa$(tokenStack.size - 1 | 0);
          break;
        case 7:
          if (last(tokenStack) !== TC_BEGIN_OBJ)
            throw new JsonDecodingException(this.currentPosition, 'found } instead of ]');
          tokenStack.removeAt_za3lpa$(tokenStack.size - 1 | 0);
          break;
      }
      this.nextToken();
      var isNotEmpty$result;
      isNotEmpty$result = !tokenStack.isEmpty();
    }
     while (isNotEmpty$result);
  };
  JsonReader.prototype.toString = function () {
    return "JsonReader(source='" + this.source_0 + "', currentPosition=" + this.currentPosition + ', tokenClass=' + this.tokenClass + ', tokenPosition=' + this.tokenPosition_0 + ', offset=' + this.offset_0 + ')';
  };
  JsonReader.prototype.fail_bm4lxs$ = function (message, position) {
    if (position === void 0)
      position = this.currentPosition;
    throw new JsonDecodingException(position, message);
  };
  JsonReader.prototype.require_wqn2ds$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.json.internal.JsonReader.require_wqn2ds$', function (condition, position, message) {
    if (position === void 0)
      position = this.currentPosition;
    if (!condition)
      this.fail_bm4lxs$(message(), position);
  });
  JsonReader.prototype.fromHexChar_0 = function (source, currentPosition) {
    var tmp$;
    if (!(currentPosition < source.length)) {
      this.fail_bm4lxs$('Unexpected EOF during unicode escape', currentPosition);
    }
    var curChar = source.charCodeAt(currentPosition);
    if ((new CharRange(48, 57)).contains_mef7kx$(curChar))
      tmp$ = (curChar | 0) - 48 | 0;
    else if ((new CharRange(97, 102)).contains_mef7kx$(curChar))
      tmp$ = (curChar | 0) - 97 + 10 | 0;
    else if ((new CharRange(65, 70)).contains_mef7kx$(curChar))
      tmp$ = (curChar | 0) - 65 + 10 | 0;
    else
      tmp$ = this.fail_bm4lxs$("Invalid toHexChar char '" + String.fromCharCode(curChar) + "' in unicode escape");
    return tmp$;
  };
  JsonReader.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonReader', interfaces: []};
  function rangeEquals(source, start, length, str) {
    var n = str.length;
    if (length !== n)
      return false;
    for (var i = 0; i < n; i++)
      if (source.charCodeAt(start + i | 0) !== str.charCodeAt(i))
        return false;
    return true;
  }
  function checkKind(kind) {
    if (Kotlin.isType(kind, UnionKind$ENUM_KIND)) {
      throw IllegalStateException_init("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonConfiguration.useArrayPolymorphism' instead".toString());
    }
    if (Kotlin.isType(kind, PrimitiveKind)) {
      throw IllegalStateException_init("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonConfiguration.useArrayPolymorphism' instead".toString());
    }
    if (Kotlin.isType(kind, UnionKind$POLYMORPHIC)) {
      throw IllegalStateException_init('Actual serializer for polymorphic cannot be polymorphic itself'.toString());
    }
  }
  function decodeSerializableValuePolymorphic($receiver, deserializer) {
    var tmp$, tmp$_0;
    if (!Kotlin.isType(deserializer, PolymorphicSerializer) || $receiver.json.configuration_8be2vx$.useArrayPolymorphism_8be2vx$) {
      return deserializer.deserialize_nts5qn$($receiver);
    }
    var obj = $receiver.decodeJson();
    var tmp$_1;
    if (!Kotlin.isType(obj, JsonObject)) {
      var message = 'Expected ' + getKClass(JsonObject) + ' but found ' + Kotlin.getKClassFromExpression(obj);
      throw IllegalStateException_init(message.toString());
    }
    var jsonTree = Kotlin.isType(tmp$_1 = obj, JsonObject) ? tmp$_1 : throwCCE();
    var type = get_content(getValue(jsonTree, $receiver.json.configuration_8be2vx$.classDiscriminator_8be2vx$));
    (Kotlin.isType(tmp$ = jsonTree.content, MutableMap) ? tmp$ : throwCCE()).remove_11rb$($receiver.json.configuration_8be2vx$.classDiscriminator_8be2vx$);
    var actualSerializer = Kotlin.isType(tmp$_0 = deserializer.findPolymorphicSerializer_b69zac$($receiver, type), KSerializer) ? tmp$_0 : throwCCE();
    return readJson($receiver.json, jsonTree, actualSerializer);
  }
  function StreamingJsonInput(json, mode, reader) {
    ElementValueDecoder.call(this);
    this.json_2ev5c4$_0 = json;
    this.mode_0 = mode;
    this.reader_8be2vx$ = reader;
    this.context_nemf95$_0 = this.json.context;
    this.currentIndex_0 = -1;
    this.configuration_0 = this.json.configuration_8be2vx$;
  }
  Object.defineProperty(StreamingJsonInput.prototype, 'json', {get: function () {
    return this.json_2ev5c4$_0;
  }});
  Object.defineProperty(StreamingJsonInput.prototype, 'context', {get: function () {
    return this.context_nemf95$_0;
  }});
  StreamingJsonInput.prototype.decodeJson = function () {
    return (new JsonParser(this.reader_8be2vx$)).read();
  };
  Object.defineProperty(StreamingJsonInput.prototype, 'updateMode', {get: function () {
    return this.configuration_0.updateMode_8be2vx$;
  }});
  StreamingJsonInput.prototype.decodeSerializableValue_w63s0f$ = function (deserializer) {
    return decodeSerializableValuePolymorphic(this, deserializer);
  };
  StreamingJsonInput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$;
    var newMode = switchMode(this.json, desc);
    if (unboxChar(newMode.begin) !== INVALID) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== newMode.beginTc) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$("Expected '" + String.fromCharCode(unboxChar(newMode.begin)) + ', kind: ' + desc.kind + "'", $this.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
    }
    switch (newMode.name) {
      case 'LIST':
      case 'MAP':
      case 'POLY_OBJ':
        tmp$ = new StreamingJsonInput(this.json, newMode, this.reader_8be2vx$);
        break;
      default:tmp$ = this.mode_0 === newMode ? this : new StreamingJsonInput(this.json, newMode, this.reader_8be2vx$);
        break;
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.endStructure_qatsm0$ = function (desc) {
    if (unboxChar(this.mode_0.end) !== INVALID) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== this.mode_0.endTc) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$("Expected '" + String.fromCharCode(unboxChar(this.mode_0.end)) + "'", $this.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
    }
  };
  StreamingJsonInput.prototype.decodeNotNullMark = function () {
    return this.reader_8be2vx$.tokenClass !== TC_NULL;
  };
  StreamingJsonInput.prototype.decodeNull = function () {
    var $this = this.reader_8be2vx$;
    if ($this.tokenClass !== TC_NULL) {
      toBoxedChar(toChar($this.tokenClass));
      $this.fail_bm4lxs$("Expected 'null' literal", $this.tokenPosition_0);
    }
    this.reader_8be2vx$.nextToken();
    return null;
  };
  StreamingJsonInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    var tmp$;
    var tokenClass = this.reader_8be2vx$.tokenClass;
    if (tokenClass === TC_COMMA) {
      var $this = this.reader_8be2vx$;
      var condition = this.currentIndex_0 !== -1;
      var position = this.reader_8be2vx$.currentPosition;
      if (!condition) {
        $this.fail_bm4lxs$('Unexpected leading comma', position);
      }
      this.reader_8be2vx$.nextToken();
    }
    switch (this.mode_0.name) {
      case 'LIST':
        tmp$ = this.decodeListIndex_0(tokenClass);
        break;
      case 'MAP':
        tmp$ = this.decodeMapIndex_0(tokenClass);
        break;
      case 'POLY_OBJ':
        switch (this.currentIndex_0 = this.currentIndex_0 + 1 | 0, this.currentIndex_0) {
          case 0:
            tmp$ = 0;
            break;
          case 1:
            tmp$ = 1;
            break;
          default:tmp$ = -1;
            break;
        }

        break;
      default:tmp$ = this.decodeObjectIndex_0(tokenClass, desc);
        break;
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.decodeMapIndex_0 = function (tokenClass) {
    var tmp$;
    if (tokenClass !== TC_COMMA && this.currentIndex_0 % 2 === 1) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== TC_END_OBJ) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$('Expected end of the object or comma', $this.tokenPosition_0);
      }
    }
    if (this.currentIndex_0 % 2 === 0) {
      var $this_0 = this.reader_8be2vx$;
      if ($this_0.tokenClass !== TC_COLON) {
        toBoxedChar(toChar($this_0.tokenClass));
        $this_0.fail_bm4lxs$("Expected ':' after the key", $this_0.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
    }
    if (!this.reader_8be2vx$.canBeginValue) {
      var $this_1 = this.reader_8be2vx$;
      var condition = tokenClass !== TC_COMMA;
      var position;
      position = $this_1.currentPosition;
      if (!condition) {
        $this_1.fail_bm4lxs$('Unexpected trailing comma', position);
      }
      tmp$ = -1;
    }
     else {
      tmp$ = (this.currentIndex_0 = this.currentIndex_0 + 1 | 0, this.currentIndex_0);
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.decodeObjectIndex_0 = function (tokenClass, desc) {
    if (tokenClass === TC_COMMA && !this.reader_8be2vx$.canBeginValue) {
      this.reader_8be2vx$.fail_bm4lxs$('Unexpected trailing comma');
    }
    while (this.reader_8be2vx$.canBeginValue) {
      this.currentIndex_0 = this.currentIndex_0 + 1 | 0;
      var key = this.reader_8be2vx$.takeString();
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== TC_COLON) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$("Expected ':'", $this.tokenPosition_0);
      }
      this.reader_8be2vx$.nextToken();
      var index = desc.getElementIndex_61zpoe$(key);
      if (index !== -3) {
        return index;
      }
      if (this.configuration_0.strictMode_8be2vx$)
        this.reader_8be2vx$.fail_bm4lxs$('Encountered an unknown key ' + key);
      else
        this.reader_8be2vx$.skipElement();
      if (this.reader_8be2vx$.tokenClass === TC_COMMA) {
        this.reader_8be2vx$.nextToken();
        var $this_0 = this.reader_8be2vx$;
        var condition = this.reader_8be2vx$.canBeginValue;
        var position = this.reader_8be2vx$.currentPosition;
        if (!condition) {
          $this_0.fail_bm4lxs$('Unexpected trailing comma', position);
        }
      }
    }
    return -1;
  };
  StreamingJsonInput.prototype.decodeListIndex_0 = function (tokenClass) {
    var tmp$;
    if (tokenClass !== TC_COMMA && this.currentIndex_0 !== -1) {
      var $this = this.reader_8be2vx$;
      if ($this.tokenClass !== TC_END_LIST) {
        toBoxedChar(toChar($this.tokenClass));
        $this.fail_bm4lxs$('Expected end of the array or comma', $this.tokenPosition_0);
      }
    }
    if (!this.reader_8be2vx$.canBeginValue) {
      var $this_0 = this.reader_8be2vx$;
      var condition = tokenClass !== TC_COMMA;
      var position;
      position = $this_0.currentPosition;
      if (!condition) {
        $this_0.fail_bm4lxs$('Unexpected trailing comma', position);
      }
      tmp$ = -1;
    }
     else {
      tmp$ = (this.currentIndex_0 = this.currentIndex_0 + 1 | 0, this.currentIndex_0);
    }
    return tmp$;
  };
  StreamingJsonInput.prototype.decodeBoolean = function () {
    var $receiver = this.reader_8be2vx$.takeString();
    return this.configuration_0.strictMode_8be2vx$ ? toBooleanStrict($receiver) : toBoolean($receiver);
  };
  StreamingJsonInput.prototype.decodeByte = function () {
    return toByte_0(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeShort = function () {
    return toShort_0(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeInt = function () {
    return toInt(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeLong = function () {
    return toLong(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeFloat = function () {
    return toDouble(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeDouble = function () {
    return toDouble(this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.prototype.decodeChar = function () {
    return toBoxedChar(single(this.reader_8be2vx$.takeString()));
  };
  StreamingJsonInput.prototype.decodeString = function () {
    return this.reader_8be2vx$.takeString();
  };
  StreamingJsonInput.prototype.decodeEnum_w849qs$ = function (enumDescription) {
    return getElementIndexOrThrow(enumDescription, this.reader_8be2vx$.takeString());
  };
  StreamingJsonInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'StreamingJsonInput', interfaces: [ElementValueDecoder, JsonInput]};
  function StreamingJsonOutput(composer, json, mode, modeReuseCache) {
    ElementValueEncoder.call(this);
    this.composer_0 = composer;
    this.json_lpdodt$_0 = json;
    this.mode_0 = mode;
    this.modeReuseCache_0 = modeReuseCache;
    this.context_41jdqm$_0 = this.json.context;
    this.configuration_0 = this.json.configuration_8be2vx$;
    this.forceQuoting_0 = false;
    this.writePolymorphic_0 = false;
    var i = this.mode_0.ordinal;
    if (this.modeReuseCache_0[i] !== null || this.modeReuseCache_0[i] !== this)
      this.modeReuseCache_0[i] = this;
  }
  Object.defineProperty(StreamingJsonOutput.prototype, 'json', {get: function () {
    return this.json_lpdodt$_0;
  }});
  Object.defineProperty(StreamingJsonOutput.prototype, 'context', {get: function () {
    return this.context_41jdqm$_0;
  }});
  StreamingJsonOutput.prototype.encodeJson_qiw0cd$ = function (element) {
    this.encodeSerializableValue_tf03ej$(JsonElementSerializer_getInstance(), element);
  };
  StreamingJsonOutput.prototype.shouldEncodeElementDefault_3zr2iy$ = function (desc, index) {
    return this.configuration_0.encodeDefaults_8be2vx$;
  };
  StreamingJsonOutput.prototype.encodeSerializableValue_tf03ej$ = function (serializer, value) {
    encodePolymorphically$break: do {
      var tmp$, tmp$_0;
      if (!Kotlin.isType(serializer, PolymorphicSerializer) || this.json.configuration_8be2vx$.useArrayPolymorphism_8be2vx$) {
        serializer.serialize_awe97i$(this, value);
        break encodePolymorphically$break;
      }
      var actualSerializer = Kotlin.isType(tmp$_0 = serializer.findPolymorphicSerializer_9v08u4$(this, Kotlin.isType(tmp$ = value, Any) ? tmp$ : throwCCE()), KSerializer) ? tmp$_0 : throwCCE();
      var kind = actualSerializer.descriptor.kind;
      checkKind(kind);
      this.writePolymorphic_0 = true;
      actualSerializer.serialize_awe97i$(this, value);
    }
     while (false);
  };
  StreamingJsonOutput.prototype.encodeTypeInfo_0 = function (descriptor) {
    this.composer_0.nextItem();
    this.encodeString_61zpoe$(this.configuration_0.classDiscriminator_8be2vx$);
    this.composer_0.print_s8itvh$(COLON);
    this.composer_0.space();
    this.encodeString_61zpoe$(descriptor.name);
  };
  StreamingJsonOutput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$;
    var newMode = switchMode(this.json, desc);
    if (unboxChar(newMode.begin) !== INVALID) {
      this.composer_0.print_s8itvh$(unboxChar(newMode.begin));
      this.composer_0.indent();
    }
    if (this.writePolymorphic_0) {
      this.writePolymorphic_0 = false;
      this.encodeTypeInfo_0(desc);
    }
    if (this.mode_0 === newMode) {
      return this;
    }
    return (tmp$ = this.modeReuseCache_0[newMode.ordinal]) != null ? tmp$ : new StreamingJsonOutput(this.composer_0, this.json, newMode, this.modeReuseCache_0);
  };
  StreamingJsonOutput.prototype.endStructure_qatsm0$ = function (desc) {
    if (unboxChar(this.mode_0.end) !== INVALID) {
      this.composer_0.unIndent();
      this.composer_0.nextItem();
      this.composer_0.print_s8itvh$(unboxChar(this.mode_0.end));
    }
  };
  StreamingJsonOutput.prototype.encodeElement_3zr2iy$ = function (desc, index) {
    switch (this.mode_0.name) {
      case 'LIST':
        if (!this.composer_0.writingFirst)
          this.composer_0.print_s8itvh$(COMMA);
        this.composer_0.nextItem();
        break;
      case 'MAP':
        if (!this.composer_0.writingFirst) {
          if (index % 2 === 0) {
            this.composer_0.print_s8itvh$(COMMA);
            this.composer_0.nextItem();
            this.forceQuoting_0 = true;
          }
           else {
            this.composer_0.print_s8itvh$(COLON);
            this.composer_0.space();
            this.forceQuoting_0 = false;
          }
        }
         else {
          this.forceQuoting_0 = true;
          this.composer_0.nextItem();
        }

        break;
      case 'POLY_OBJ':
        if (index === 0)
          this.forceQuoting_0 = true;
        if (index === 1) {
          this.composer_0.print_s8itvh$(COMMA);
          this.composer_0.space();
          this.forceQuoting_0 = false;
        }

        break;
      default:if (!this.composer_0.writingFirst)
          this.composer_0.print_s8itvh$(COMMA);
        this.composer_0.nextItem();
        this.encodeString_61zpoe$(desc.getElementName_za3lpa$(index));
        this.composer_0.print_s8itvh$(COLON);
        this.composer_0.space();
        break;
    }
    return true;
  };
  StreamingJsonOutput.prototype.encodeNull = function () {
    this.composer_0.print_61zpoe$(NULL);
  };
  StreamingJsonOutput.prototype.encodeBoolean_6taknv$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_6taknv$(value);
  };
  StreamingJsonOutput.prototype.encodeByte_s8j3t7$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_s8j3t7$(value);
  };
  StreamingJsonOutput.prototype.encodeShort_mq22fl$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_mq22fl$(value);
  };
  StreamingJsonOutput.prototype.encodeInt_za3lpa$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_za3lpa$(value);
  };
  StreamingJsonOutput.prototype.encodeLong_s8cxhz$ = function (value) {
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_s8cxhz$(value);
  };
  StreamingJsonOutput.prototype.encodeFloat_mx4ult$ = function (value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite(value)) {
      throw InvalidFloatingPoint(value, 'float');
    }
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_mx4ult$(value);
  };
  StreamingJsonOutput.prototype.encodeDouble_14dthe$ = function (value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite_0(value)) {
      throw InvalidFloatingPoint(value, 'double');
    }
    if (this.forceQuoting_0)
      this.encodeString_61zpoe$(value.toString());
    else
      this.composer_0.print_14dthe$(value);
  };
  StreamingJsonOutput.prototype.encodeChar_s8itvh$ = function (value) {
    this.encodeString_61zpoe$(String.fromCharCode(value));
  };
  StreamingJsonOutput.prototype.encodeString_61zpoe$ = function (value) {
    if (this.configuration_0.unquoted_8be2vx$ && !shouldBeQuoted(value)) {
      this.composer_0.print_61zpoe$(value);
    }
     else {
      this.composer_0.printQuoted_61zpoe$(value);
    }
  };
  StreamingJsonOutput.prototype.encodeEnum_39yahq$ = function (enumDescription, ordinal) {
    this.encodeString_61zpoe$(enumDescription.getElementName_za3lpa$(ordinal));
  };
  StreamingJsonOutput.prototype.encodeValue_za3rmp$ = function (value) {
    if (this.configuration_0.strictMode_8be2vx$)
      ElementValueEncoder.prototype.encodeValue_za3rmp$.call(this, value);
    else
      this.encodeString_61zpoe$(value.toString());
  };
  function StreamingJsonOutput$Composer(sb, json) {
    this.sb_8be2vx$ = sb;
    this.json_0 = json;
    this.level_0 = 0;
    this.writingFirst_uw5fqz$_0 = true;
  }
  Object.defineProperty(StreamingJsonOutput$Composer.prototype, 'writingFirst', {get: function () {
    return this.writingFirst_uw5fqz$_0;
  }, set: function (writingFirst) {
    this.writingFirst_uw5fqz$_0 = writingFirst;
  }});
  StreamingJsonOutput$Composer.prototype.indent = function () {
    this.writingFirst = true;
    this.level_0 = this.level_0 + 1 | 0;
  };
  StreamingJsonOutput$Composer.prototype.unIndent = function () {
    this.level_0 = this.level_0 - 1 | 0;
  };
  StreamingJsonOutput$Composer.prototype.nextItem = function () {
    this.writingFirst = false;
    if (this.json_0.configuration_8be2vx$.prettyPrint_8be2vx$) {
      this.print_61zpoe$('\n');
      var times = this.level_0;
      for (var index = 0; index < times; index++) {
        this.print_61zpoe$(this.json_0.configuration_8be2vx$.indent_8be2vx$);
      }
    }
  };
  StreamingJsonOutput$Composer.prototype.space = function () {
    if (this.json_0.configuration_8be2vx$.prettyPrint_8be2vx$)
      this.print_s8itvh$(32);
  };
  StreamingJsonOutput$Composer.prototype.print_s8itvh$ = function (v) {
    return this.sb_8be2vx$.append_s8itvh$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_61zpoe$ = function (v) {
    return this.sb_8be2vx$.append_gw00v9$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_mx4ult$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_14dthe$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_s8j3t7$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_mq22fl$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_za3lpa$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_s8cxhz$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.print_6taknv$ = function (v) {
    return this.sb_8be2vx$.append_s8jyv4$(v);
  };
  StreamingJsonOutput$Composer.prototype.printQuoted_61zpoe$ = function (value) {
    printQuoted(this.sb_8be2vx$, value);
  };
  StreamingJsonOutput$Composer.$metadata$ = {kind: Kind_CLASS, simpleName: 'Composer', interfaces: []};
  StreamingJsonOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'StreamingJsonOutput', interfaces: [ElementValueEncoder, JsonOutput]};
  function StreamingJsonOutput_init(output, json, mode, modeReuseCache, $this) {
    $this = $this || Object.create(StreamingJsonOutput.prototype);
    StreamingJsonOutput.call($this, new StreamingJsonOutput$Composer(output, json), json, mode, modeReuseCache);
    return $this;
  }
  function toHexChar(i) {
    var d = i & 15;
    return d < 10 ? toChar(d + 48 | 0) : toChar(d - 10 + 97 | 0);
  }
  var ESCAPE_CHARS;
  function printQuoted($receiver, value) {
    var tmp$;
    $receiver.append_s8itvh$(STRING);
    var lastPos = 0;
    var length = value.length;
    for (var i = 0; i < length; i++) {
      var c = value.charCodeAt(i) | 0;
      if (c >= ESCAPE_CHARS.length)
        continue;
      tmp$ = ESCAPE_CHARS[c];
      if (tmp$ == null) {
        continue;
      }
      var esc = tmp$;
      $receiver.append_ezbsdh$(value, lastPos, i);
      $receiver.append_gw00v9$(esc);
      lastPos = i + 1 | 0;
    }
    $receiver.append_ezbsdh$(value, lastPos, length);
    $receiver.append_s8itvh$(STRING);
  }
  function toBooleanStrict($receiver) {
    var tmp$;
    tmp$ = toBooleanStrictOrNull($receiver);
    if (tmp$ == null) {
      throw IllegalStateException_init($receiver + ' does not represent a Boolean');
    }
    return tmp$;
  }
  function toBooleanStrictOrNull($receiver) {
    if (equals_0($receiver, 'true', true))
      return true;
    else if (equals_0($receiver, 'false', true))
      return false;
    else
      return null;
  }
  function shouldBeQuoted(str) {
    var tmp$;
    if (equals(str, NULL))
      return true;
    tmp$ = iterator(str);
    while (tmp$.hasNext()) {
      var ch = unboxChar(tmp$.next());
      if (charToTokenClass(ch) !== TC_OTHER)
        return true;
    }
    return false;
  }
  function readJson($receiver, element, deserializer) {
    var tmp$, tmp$_0;
    if (Kotlin.isType(element, JsonObject))
      tmp$_0 = new JsonTreeInput($receiver, element);
    else if (Kotlin.isType(element, JsonArray))
      tmp$_0 = new JsonTreeListInput($receiver, element);
    else if (Kotlin.isType(element, JsonLiteral) || equals(element, JsonNull_getInstance())) {
      tmp$_0 = new JsonPrimitiveInput($receiver, Kotlin.isType(tmp$ = element, JsonPrimitive) ? tmp$ : throwCCE());
    }
     else
      tmp$_0 = Kotlin.noWhenBranchMatched();
    var input = tmp$_0;
    return decode_0(input, deserializer);
  }
  function AbstractJsonTreeInput(json, obj) {
    NamedValueDecoder.call(this);
    this.json_sa61ty$_0 = json;
    this.obj_gyc2sv$_0 = obj;
    this.configuration_0 = this.json.configuration_8be2vx$;
  }
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'json', {get: function () {
    return this.json_sa61ty$_0;
  }});
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'obj', {get: function () {
    return this.obj_gyc2sv$_0;
  }});
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'context', {get: function () {
    return this.json.context;
  }});
  AbstractJsonTreeInput.prototype.currentObject_0 = function () {
    var tmp$, tmp$_0;
    return (tmp$_0 = (tmp$ = this.currentTagOrNull) != null ? this.currentElement_61zpoe$(tmp$) : null) != null ? tmp$_0 : this.obj;
  };
  AbstractJsonTreeInput.prototype.decodeJson = function () {
    return this.currentObject_0();
  };
  Object.defineProperty(AbstractJsonTreeInput.prototype, 'updateMode', {get: function () {
    return this.configuration_0.updateMode_8be2vx$;
  }});
  AbstractJsonTreeInput.prototype.decodeSerializableValue_w63s0f$ = function (deserializer) {
    return decodeSerializableValuePolymorphic(this, deserializer);
  };
  AbstractJsonTreeInput.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return childName;
  };
  AbstractJsonTreeInput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$, tmp$_0;
    var currentObject = this.currentObject_0();
    tmp$ = desc.kind;
    if (equals(tmp$, StructureKind$LIST_getInstance()) || equals(tmp$, UnionKind$POLYMORPHIC_getInstance())) {
      var tmp$_1 = this.json;
      var tmp$_2;
      if (!Kotlin.isType(currentObject, JsonArray)) {
        var message = 'Expected ' + getKClass(JsonArray) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
        throw IllegalStateException_init(message.toString());
      }
      tmp$_0 = new JsonTreeListInput(tmp$_1, Kotlin.isType(tmp$_2 = currentObject, JsonArray) ? tmp$_2 : throwCCE());
    }
     else if (equals(tmp$, StructureKind$MAP_getInstance())) {
      var $receiver = this.json;
      var tmp$_3;
      var keyDescriptor = desc.getElementDescriptor_za3lpa$(0);
      var keyKind = keyDescriptor.kind;
      if (Kotlin.isType(keyKind, PrimitiveKind) || equals(keyKind, UnionKind.ENUM_KIND)) {
        var tmp$_4 = this.json;
        var tmp$_5;
        if (!Kotlin.isType(currentObject, JsonObject)) {
          var message_0 = 'Expected ' + getKClass(JsonObject) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
          throw IllegalStateException_init(message_0.toString());
        }
        tmp$_3 = new JsonTreeMapInput(tmp$_4, Kotlin.isType(tmp$_5 = currentObject, JsonObject) ? tmp$_5 : throwCCE());
      }
       else if ($receiver.configuration_8be2vx$.allowStructuredMapKeys_8be2vx$) {
        var tmp$_6 = this.json;
        var tmp$_7;
        if (!Kotlin.isType(currentObject, JsonArray)) {
          var message_1 = 'Expected ' + getKClass(JsonArray) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
          throw IllegalStateException_init(message_1.toString());
        }
        tmp$_3 = new JsonTreeListInput(tmp$_6, Kotlin.isType(tmp$_7 = currentObject, JsonArray) ? tmp$_7 : throwCCE());
      }
       else {
        throw JsonMapInvalidKeyKind(keyDescriptor);
      }
      tmp$_0 = tmp$_3;
    }
     else {
      var tmp$_8 = this.json;
      var tmp$_9;
      if (!Kotlin.isType(currentObject, JsonObject)) {
        var message_2 = 'Expected ' + getKClass(JsonObject) + ' but found ' + Kotlin.getKClassFromExpression(currentObject);
        throw IllegalStateException_init(message_2.toString());
      }
      tmp$_0 = new JsonTreeInput(tmp$_8, Kotlin.isType(tmp$_9 = currentObject, JsonObject) ? tmp$_9 : throwCCE());
    }
    return tmp$_0;
  };
  AbstractJsonTreeInput.prototype.getValue_61zpoe$ = function (tag) {
    var tmp$, tmp$_0;
    var currentElement = this.currentElement_61zpoe$(tag);
    tmp$_0 = Kotlin.isType(tmp$ = currentElement, JsonPrimitive) ? tmp$ : null;
    if (tmp$_0 == null) {
      throw new JsonDecodingException(-1, 'Expected JsonPrimitive at ' + tag + ', found ' + currentElement);
    }
    return tmp$_0;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedChar_11rb$ = function (tag) {
    var tmp$;
    var o = this.getValue_61zpoe$(tag);
    if (o.content.length === 1)
      tmp$ = o.content.charCodeAt(0);
    else
      throw new SerializationException(o.toString() + " can't be represented as Char");
    return toBoxedChar(tmp$);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedEnum_wc8hrb$ = function (tag, enumDescription) {
    return getElementIndexOrThrow(enumDescription, this.getValue_61zpoe$(tag).content);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedNull_11rb$ = function (tag) {
    return null;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedNotNullMark_11rb$ = function (tag) {
    return this.currentElement_61zpoe$(tag) !== JsonNull_getInstance();
  };
  AbstractJsonTreeInput.prototype.decodeTaggedUnit_11rb$ = function (tag) {
    return;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedBoolean_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).boolean;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedByte_11rb$ = function (tag) {
    return toByte(this.getValue_61zpoe$(tag).int);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedShort_11rb$ = function (tag) {
    return toShort(this.getValue_61zpoe$(tag).int);
  };
  AbstractJsonTreeInput.prototype.decodeTaggedInt_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).int;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedLong_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).long;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedFloat_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).float;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedDouble_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).double;
  };
  AbstractJsonTreeInput.prototype.decodeTaggedString_11rb$ = function (tag) {
    return this.getValue_61zpoe$(tag).content;
  };
  AbstractJsonTreeInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractJsonTreeInput', interfaces: [JsonInput, NamedValueDecoder]};
  function JsonPrimitiveInput(json, obj) {
    AbstractJsonTreeInput.call(this, json, obj);
    this.obj_dqj0pm$_0 = obj;
    this.pushTag_11rb$(PRIMITIVE_TAG);
  }
  Object.defineProperty(JsonPrimitiveInput.prototype, 'obj', {get: function () {
    return this.obj_dqj0pm$_0;
  }});
  JsonPrimitiveInput.prototype.currentElement_61zpoe$ = function (tag) {
    if (!(tag === PRIMITIVE_TAG)) {
      var message = "This input can only handle primitives with 'primitive' tag";
      throw IllegalArgumentException_init(message.toString());
    }
    return this.obj;
  };
  JsonPrimitiveInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonPrimitiveInput', interfaces: [AbstractJsonTreeInput]};
  function JsonTreeInput(json, obj) {
    AbstractJsonTreeInput.call(this, json, obj);
    this.obj_piko0j$_0 = obj;
    this.position_0 = 0;
  }
  Object.defineProperty(JsonTreeInput.prototype, 'obj', {get: function () {
    return this.obj_piko0j$_0;
  }});
  JsonTreeInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    var tmp$;
    while (this.position_0 < desc.elementsCount) {
      var name = this.getTag_m47q6f$(desc, (tmp$ = this.position_0, this.position_0 = tmp$ + 1 | 0, tmp$));
      var $receiver = this.obj;
      var tmp$_0;
      if ((Kotlin.isType(tmp$_0 = $receiver, Map) ? tmp$_0 : throwCCE()).containsKey_11rb$(name)) {
        return this.position_0 - 1 | 0;
      }
    }
    return -1;
  };
  JsonTreeInput.prototype.currentElement_61zpoe$ = function (tag) {
    return getValue(this.obj, tag);
  };
  JsonTreeInput.prototype.endStructure_qatsm0$ = function (desc) {
    var tmp$, tmp$_0;
    if (!this.configuration_0.strictMode_8be2vx$ || Kotlin.isType(desc, PolymorphicClassDescriptor))
      return;
    var names = HashSet_init_1(desc.elementsCount);
    tmp$ = desc.elementsCount;
    for (var i = 0; i < tmp$; i++) {
      var element = desc.getElementName_za3lpa$(i);
      names.add_11rb$(element);
    }
    tmp$_0 = this.obj.keys.iterator();
    while (tmp$_0.hasNext()) {
      var key = tmp$_0.next();
      if (!names.contains_11rb$(key))
        throw jsonUnknownKeyException(-1, key);
    }
  };
  JsonTreeInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeInput', interfaces: [AbstractJsonTreeInput]};
  function JsonTreeMapInput(json, obj) {
    JsonTreeInput.call(this, json, obj);
    this.obj_reg7od$_0 = obj;
    this.keys_0 = toList(this.obj.keys);
    this.size_0 = this.keys_0.size * 2 | 0;
    this.position_1 = -1;
  }
  Object.defineProperty(JsonTreeMapInput.prototype, 'obj', {get: function () {
    return this.obj_reg7od$_0;
  }});
  JsonTreeMapInput.prototype.elementName_3zr2iy$ = function (desc, index) {
    var i = index / 2 | 0;
    return this.keys_0.get_za3lpa$(i);
  };
  JsonTreeMapInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    while (this.position_1 < (this.size_0 - 1 | 0)) {
      this.position_1 = this.position_1 + 1 | 0;
      return this.position_1;
    }
    return -1;
  };
  JsonTreeMapInput.prototype.currentElement_61zpoe$ = function (tag) {
    return this.position_1 % 2 === 0 ? JsonLiteral_init_1(tag) : getValue(this.obj, tag);
  };
  JsonTreeMapInput.prototype.endStructure_qatsm0$ = function (desc) {
  };
  JsonTreeMapInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeMapInput', interfaces: [JsonTreeInput]};
  function JsonTreeListInput(json, obj) {
    AbstractJsonTreeInput.call(this, json, obj);
    this.obj_el7e51$_0 = obj;
    this.size_0 = this.obj.content.size;
    this.currentIndex_0 = -1;
  }
  Object.defineProperty(JsonTreeListInput.prototype, 'obj', {get: function () {
    return this.obj_el7e51$_0;
  }});
  JsonTreeListInput.prototype.elementName_3zr2iy$ = function (desc, index) {
    return index.toString();
  };
  JsonTreeListInput.prototype.currentElement_61zpoe$ = function (tag) {
    return this.obj.get_za3lpa$(toInt(tag));
  };
  JsonTreeListInput.prototype.decodeElementIndex_qatsm0$ = function (desc) {
    while (this.currentIndex_0 < (this.size_0 - 1 | 0)) {
      this.currentIndex_0 = this.currentIndex_0 + 1 | 0;
      return this.currentIndex_0;
    }
    return -1;
  };
  JsonTreeListInput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeListInput', interfaces: [AbstractJsonTreeInput]};
  function writeJson$lambda(closure$result) {
    return function (it) {
      closure$result.v = it;
      return Unit;
    };
  }
  function writeJson($receiver, value, serializer) {
    var result = {v: null};
    var encoder = new JsonTreeOutput($receiver, writeJson$lambda(result));
    encode_0(encoder, serializer, value);
    return result.v == null ? throwUPAE('result') : result.v;
  }
  function AbstractJsonTreeOutput(json, nodeConsumer) {
    NamedValueEncoder.call(this);
    this.json_138ar7$_0 = json;
    this.nodeConsumer = nodeConsumer;
    this.configuration_0 = this.json.configuration_8be2vx$;
    this.writePolymorphic_0 = false;
  }
  Object.defineProperty(AbstractJsonTreeOutput.prototype, 'json', {get: function () {
    return this.json_138ar7$_0;
  }});
  Object.defineProperty(AbstractJsonTreeOutput.prototype, 'context', {get: function () {
    return this.json.context;
  }});
  AbstractJsonTreeOutput.prototype.encodeJson_qiw0cd$ = function (element) {
    this.encodeSerializableValue_tf03ej$(JsonElementSerializer_getInstance(), element);
  };
  AbstractJsonTreeOutput.prototype.shouldEncodeElementDefault_3zr2iy$ = function (desc, index) {
    return this.configuration_0.encodeDefaults_8be2vx$;
  };
  AbstractJsonTreeOutput.prototype.composeName_puj7f4$ = function (parentName, childName) {
    return childName;
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedNull_11rb$ = function (tag) {
    this.putElement_zafu29$(tag, JsonNull_getInstance());
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedInt_dpg1yx$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedByte_19qe40$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedShort_veccj0$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedLong_19wkf8$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedFloat_vlf4p8$ = function (tag, value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite(value)) {
      throw InvalidFloatingPoint_0(value, tag, 'float');
    }
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeSerializableValue_tf03ej$ = function (serializer, value) {
    if (this.currentTagOrNull != null || (!Kotlin.isType(serializer.descriptor.kind, PrimitiveKind) && serializer.descriptor.kind !== UnionKind$ENUM_KIND_getInstance())) {
      encodePolymorphically$break: do {
        var tmp$, tmp$_0;
        if (!Kotlin.isType(serializer, PolymorphicSerializer) || this.json.configuration_8be2vx$.useArrayPolymorphism_8be2vx$) {
          serializer.serialize_awe97i$(this, value);
          break encodePolymorphically$break;
        }
        var actualSerializer = Kotlin.isType(tmp$_0 = serializer.findPolymorphicSerializer_9v08u4$(this, Kotlin.isType(tmp$ = value, Any) ? tmp$ : throwCCE()), KSerializer) ? tmp$_0 : throwCCE();
        var kind = actualSerializer.descriptor.kind;
        checkKind(kind);
        this.writePolymorphic_0 = true;
        actualSerializer.serialize_awe97i$(this, value);
      }
       while (false);
    }
     else {
      var $receiver = new JsonPrimitiveOutput(this.json, this.nodeConsumer);
      $receiver.encodeSerializableValue_tf03ej$(serializer, value);
      $receiver.endEncode_qatsm0$(serializer.descriptor);
    }
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedDouble_e37ph5$ = function (tag, value) {
    if (this.configuration_0.strictMode_8be2vx$ && !isFinite_0(value)) {
      throw InvalidFloatingPoint_0(value, tag, 'double');
    }
    this.putElement_zafu29$(tag, JsonLiteral_init(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedBoolean_iuyhfk$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_0(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedChar_19qo1q$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(String.fromCharCode(value)));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedString_l9l8mx$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(value));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedEnum_g3arax$ = function (tag, enumDescription, ordinal) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(enumDescription.getElementName_za3lpa$(ordinal)));
  };
  AbstractJsonTreeOutput.prototype.encodeTaggedValue_dpg7wc$ = function (tag, value) {
    this.putElement_zafu29$(tag, JsonLiteral_init_1(value.toString()));
  };
  function AbstractJsonTreeOutput$beginStructure$lambda(this$AbstractJsonTreeOutput) {
    return function (node) {
      this$AbstractJsonTreeOutput.putElement_zafu29$(this$AbstractJsonTreeOutput.currentTag, node);
      return Unit;
    };
  }
  AbstractJsonTreeOutput.prototype.beginStructure_r0sa6z$ = function (desc, typeParams) {
    var tmp$, tmp$_0;
    var consumer = this.currentTagOrNull == null ? this.nodeConsumer : AbstractJsonTreeOutput$beginStructure$lambda(this);
    tmp$ = desc.kind;
    if (equals(tmp$, StructureKind$LIST_getInstance()) || equals(tmp$, UnionKind$POLYMORPHIC_getInstance()))
      tmp$_0 = new JsonTreeListOutput(this.json, consumer);
    else if (equals(tmp$, StructureKind$MAP_getInstance())) {
      var $receiver = this.json;
      var tmp$_1;
      var keyDescriptor = desc.getElementDescriptor_za3lpa$(0);
      var keyKind = keyDescriptor.kind;
      if (Kotlin.isType(keyKind, PrimitiveKind) || equals(keyKind, UnionKind.ENUM_KIND)) {
        tmp$_1 = new JsonTreeMapOutput(this.json, consumer);
      }
       else if ($receiver.configuration_8be2vx$.allowStructuredMapKeys_8be2vx$) {
        tmp$_1 = new JsonTreeListOutput(this.json, consumer);
      }
       else {
        throw JsonMapInvalidKeyKind(keyDescriptor);
      }
      tmp$_0 = tmp$_1;
    }
     else
      tmp$_0 = new JsonTreeOutput(this.json, consumer);
    var encoder = tmp$_0;
    if (this.writePolymorphic_0) {
      this.writePolymorphic_0 = false;
      encoder.putElement_zafu29$(this.configuration_0.classDiscriminator_8be2vx$, JsonPrimitive_2(desc.name));
    }
    return encoder;
  };
  AbstractJsonTreeOutput.prototype.endEncode_qatsm0$ = function (desc) {
    this.nodeConsumer(this.getCurrent());
  };
  AbstractJsonTreeOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'AbstractJsonTreeOutput', interfaces: [JsonOutput, NamedValueEncoder]};
  var PRIMITIVE_TAG;
  function JsonPrimitiveOutput(json, nodeConsumer) {
    AbstractJsonTreeOutput.call(this, json, nodeConsumer);
    this.content_0 = null;
    this.pushTag_11rb$(PRIMITIVE_TAG);
  }
  JsonPrimitiveOutput.prototype.putElement_zafu29$ = function (key, element) {
    if (!(key === PRIMITIVE_TAG)) {
      var message = "This output can only consume primitives with 'primitive' tag";
      throw IllegalArgumentException_init(message.toString());
    }
    if (!(this.content_0 == null)) {
      var message_0 = 'Primitive element was already recorded. Does call to .encodeXxx happen more than once?';
      throw IllegalArgumentException_init(message_0.toString());
    }
    this.content_0 = element;
  };
  JsonPrimitiveOutput.prototype.getCurrent = function () {
    var value = this.content_0;
    var requireNotNull$result;
    if (value == null) {
      var message = 'Primitive element has not been recorded. Is call to .encodeXxx is missing in serializer?';
      throw IllegalArgumentException_init(message.toString());
    }
     else {
      requireNotNull$result = value;
    }
    return requireNotNull$result;
  };
  JsonPrimitiveOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonPrimitiveOutput', interfaces: [AbstractJsonTreeOutput]};
  function JsonTreeOutput(json, nodeConsumer) {
    AbstractJsonTreeOutput.call(this, json, nodeConsumer);
    this.content_0 = LinkedHashMap_init();
  }
  JsonTreeOutput.prototype.putElement_zafu29$ = function (key, element) {
    this.content_0.put_xwzc9p$(key, element);
  };
  JsonTreeOutput.prototype.getCurrent = function () {
    return new JsonObject(this.content_0);
  };
  JsonTreeOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeOutput', interfaces: [AbstractJsonTreeOutput]};
  function JsonTreeMapOutput(json, nodeConsumer) {
    JsonTreeOutput.call(this, json, nodeConsumer);
    this.tag_5cp6c7$_0 = this.tag_5cp6c7$_0;
  }
  Object.defineProperty(JsonTreeMapOutput.prototype, 'tag_0', {get: function () {
    if (this.tag_5cp6c7$_0 == null)
      return throwUPAE('tag');
    return this.tag_5cp6c7$_0;
  }, set: function (tag) {
    this.tag_5cp6c7$_0 = tag;
  }});
  JsonTreeMapOutput.prototype.putElement_zafu29$ = function (key, element) {
    var tmp$;
    var idx = toInt(key);
    if (idx % 2 === 0) {
      if (Kotlin.isType(element, JsonPrimitive))
        tmp$ = element.content;
      else if (Kotlin.isType(element, JsonObject))
        throw JsonMapInvalidKeyKind(JsonObjectSerializer_getInstance().descriptor);
      else if (Kotlin.isType(element, JsonArray))
        throw JsonMapInvalidKeyKind(JsonArraySerializer_getInstance().descriptor);
      else
        tmp$ = Kotlin.noWhenBranchMatched();
      this.tag_0 = tmp$;
    }
     else {
      var $receiver = this.content_0;
      var key_0 = this.tag_0;
      $receiver.put_xwzc9p$(key_0, element);
    }
  };
  JsonTreeMapOutput.prototype.getCurrent = function () {
    return new JsonObject(this.content_0);
  };
  JsonTreeMapOutput.prototype.shouldWriteElement_a5qihn$ = function (desc, tag, index) {
    return true;
  };
  JsonTreeMapOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeMapOutput', interfaces: [JsonTreeOutput]};
  function JsonTreeListOutput(json, nodeConsumer) {
    AbstractJsonTreeOutput.call(this, json, nodeConsumer);
    this.array_0 = ArrayList_init_0();
  }
  JsonTreeListOutput.prototype.elementName_3zr2iy$ = function (desc, index) {
    return index.toString();
  };
  JsonTreeListOutput.prototype.shouldWriteElement_a5qihn$ = function (desc, tag, index) {
    return true;
  };
  JsonTreeListOutput.prototype.putElement_zafu29$ = function (key, element) {
    var idx = toInt(key);
    this.array_0.add_wxm5ur$(idx, element);
  };
  JsonTreeListOutput.prototype.getCurrent = function () {
    return new JsonArray(this.array_0);
  };
  JsonTreeListOutput.$metadata$ = {kind: Kind_CLASS, simpleName: 'JsonTreeListOutput', interfaces: [AbstractJsonTreeOutput]};
  function WriteMode(name, ordinal, begin, end) {
    Enum.call(this);
    this.begin = toBoxedChar(begin);
    this.end = toBoxedChar(end);
    this.name$ = name;
    this.ordinal$ = ordinal;
    this.beginTc = charToTokenClass(unboxChar(this.begin));
    this.endTc = charToTokenClass(unboxChar(this.end));
  }
  function WriteMode_initFields() {
    WriteMode_initFields = function () {
    };
    WriteMode$OBJ_instance = new WriteMode('OBJ', 0, BEGIN_OBJ, END_OBJ);
    WriteMode$LIST_instance = new WriteMode('LIST', 1, BEGIN_LIST, END_LIST);
    WriteMode$MAP_instance = new WriteMode('MAP', 2, BEGIN_OBJ, END_OBJ);
    WriteMode$POLY_OBJ_instance = new WriteMode('POLY_OBJ', 3, BEGIN_LIST, END_LIST);
  }
  var WriteMode$OBJ_instance;
  function WriteMode$OBJ_getInstance() {
    WriteMode_initFields();
    return WriteMode$OBJ_instance;
  }
  var WriteMode$LIST_instance;
  function WriteMode$LIST_getInstance() {
    WriteMode_initFields();
    return WriteMode$LIST_instance;
  }
  var WriteMode$MAP_instance;
  function WriteMode$MAP_getInstance() {
    WriteMode_initFields();
    return WriteMode$MAP_instance;
  }
  var WriteMode$POLY_OBJ_instance;
  function WriteMode$POLY_OBJ_getInstance() {
    WriteMode_initFields();
    return WriteMode$POLY_OBJ_instance;
  }
  WriteMode.$metadata$ = {kind: Kind_CLASS, simpleName: 'WriteMode', interfaces: [Enum]};
  function WriteMode$values() {
    return [WriteMode$OBJ_getInstance(), WriteMode$LIST_getInstance(), WriteMode$MAP_getInstance(), WriteMode$POLY_OBJ_getInstance()];
  }
  WriteMode.values = WriteMode$values;
  function WriteMode$valueOf(name) {
    switch (name) {
      case 'OBJ':
        return WriteMode$OBJ_getInstance();
      case 'LIST':
        return WriteMode$LIST_getInstance();
      case 'MAP':
        return WriteMode$MAP_getInstance();
      case 'POLY_OBJ':
        return WriteMode$POLY_OBJ_getInstance();
      default:throwISE('No enum constant kotlinx.serialization.json.internal.WriteMode.' + name);
    }
  }
  WriteMode.valueOf_61zpoe$ = WriteMode$valueOf;
  function switchMode($receiver, desc) {
    var tmp$;
    tmp$ = desc.kind;
    if (equals(tmp$, UnionKind$POLYMORPHIC_getInstance()))
      return WriteMode$POLY_OBJ_getInstance();
    else if (equals(tmp$, StructureKind$LIST_getInstance()))
      return WriteMode$LIST_getInstance();
    else if (equals(tmp$, StructureKind$MAP_getInstance())) {
      var tmp$_0;
      var keyDescriptor = desc.getElementDescriptor_za3lpa$(0);
      var keyKind = keyDescriptor.kind;
      if (Kotlin.isType(keyKind, PrimitiveKind) || equals(keyKind, UnionKind.ENUM_KIND)) {
        tmp$_0 = WriteMode$MAP_getInstance();
      }
       else if ($receiver.configuration_8be2vx$.allowStructuredMapKeys_8be2vx$) {
        tmp$_0 = WriteMode$LIST_getInstance();
      }
       else {
        throw JsonMapInvalidKeyKind(keyDescriptor);
      }
      return tmp$_0;
    }
     else
      return WriteMode$OBJ_getInstance();
  }
  function PolymorphicModuleBuilder(baseClass, baseSerializer) {
    if (baseSerializer === void 0)
      baseSerializer = null;
    this.baseClass_0 = baseClass;
    this.baseSerializer_0 = baseSerializer;
    this.subclasses_0 = ArrayList_init_0();
  }
  PolymorphicModuleBuilder.prototype.buildTo_5224ah$ = function (module_0) {
    if (this.baseSerializer_0 != null)
      module_0.registerPolymorphicSerializer_yca12w$(this.baseClass_0, this.baseClass_0, this.baseSerializer_0);
    var tmp$;
    tmp$ = this.subclasses_0.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var kclass = element.component1(), serializer = element.component2();
      var tmp$_0, tmp$_1;
      module_0.registerPolymorphicSerializer_yca12w$(this.baseClass_0, Kotlin.isType(tmp$_0 = kclass, KClass) ? tmp$_0 : throwCCE(), Kotlin.isType(tmp$_1 = serializer, KSerializer) ? tmp$_1 : throwCCE());
    }
  };
  PolymorphicModuleBuilder.prototype.addSubclass_g8f9ns$ = function (subclass, serializer) {
    this.subclasses_0.add_11rb$(to(subclass, serializer));
  };
  PolymorphicModuleBuilder.prototype.addSubclass_97auzv$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.modules.PolymorphicModuleBuilder.addSubclass_97auzv$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    return function (T_0, isT, serializer) {
      this.addSubclass_g8f9ns$(getKClass(T_0), serializer);
    };
  }));
  PolymorphicModuleBuilder.prototype.addSubclass_n8yg2x$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.modules.PolymorphicModuleBuilder.addSubclass_n8yg2x$', wrapFunction(function () {
    var getKClass = Kotlin.getKClass;
    var serializer = _.kotlinx.serialization.serializer_1yb8b7$;
    return function (T_0, isT) {
      this.addSubclass_g8f9ns$(getKClass(T_0), serializer(getKClass(T_0)));
    };
  }));
  PolymorphicModuleBuilder.prototype.with_kmpi2j$ = function ($receiver, serializer) {
    this.addSubclass_g8f9ns$($receiver, serializer);
  };
  PolymorphicModuleBuilder.prototype.changeBase_a3p3f0$ = function (newBaseClass, newBaseClassSerializer) {
    if (newBaseClassSerializer === void 0)
      newBaseClassSerializer = null;
    var newModule = new PolymorphicModuleBuilder(newBaseClass, newBaseClassSerializer);
    if (this.baseSerializer_0 != null) {
      var tmp$, tmp$_0;
      newModule.addSubclass_g8f9ns$(Kotlin.isType(tmp$ = this.baseClass_0, KClass) ? tmp$ : throwCCE(), Kotlin.isType(tmp$_0 = this.baseSerializer_0, KSerializer) ? tmp$_0 : throwCCE());
    }
    var tmp$_1;
    tmp$_1 = this.subclasses_0.iterator();
    while (tmp$_1.hasNext()) {
      var element = tmp$_1.next();
      var k = element.component1(), v = element.component2();
      var tmp$_2, tmp$_3;
      newModule.addSubclass_g8f9ns$(Kotlin.isType(tmp$_2 = k, KClass) ? tmp$_2 : throwCCE(), Kotlin.isType(tmp$_3 = v, KSerializer) ? tmp$_3 : throwCCE());
    }
    return newModule;
  };
  PolymorphicModuleBuilder.$metadata$ = {kind: Kind_CLASS, simpleName: 'PolymorphicModuleBuilder', interfaces: []};
  function SerialModule() {
  }
  SerialModule.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialModule', interfaces: []};
  function EmptyModule() {
    EmptyModule_instance = this;
  }
  EmptyModule.prototype.getContextual_lmshww$ = function (kclass) {
    return null;
  };
  EmptyModule.prototype.getPolymorphic_b1ce0a$ = function (baseClass, value) {
    return null;
  };
  EmptyModule.prototype.getPolymorphic_6xtsla$ = function (baseClass, serializedClassName) {
    return null;
  };
  EmptyModule.prototype.dumpTo_247rdd$ = function (collector) {
  };
  EmptyModule.$metadata$ = {kind: Kind_OBJECT, simpleName: 'EmptyModule', interfaces: [SerialModule]};
  var EmptyModule_instance = null;
  function EmptyModule_getInstance() {
    if (EmptyModule_instance === null) {
      new EmptyModule();
    }
    return EmptyModule_instance;
  }
  function serializersModuleOf$lambda_0(closure$map) {
    return function ($receiver) {
      var tmp$;
      tmp$ = closure$map.entries.iterator();
      while (tmp$.hasNext()) {
        var element = tmp$.next();
        var kclass = element.key;
        var serializer = element.value;
        var tmp$_0, tmp$_1;
        $receiver.contextual_cfhkba$(Kotlin.isType(tmp$_0 = kclass, KClass) ? tmp$_0 : throwCCE(), Kotlin.isType(tmp$_1 = serializer, KSerializer) ? tmp$_1 : throwCCE());
      }
      return Unit;
    };
  }
  function serializersModuleOf_0(map) {
    return SerializersModule(serializersModuleOf$lambda_0(map));
  }
  function SerializersModule(buildAction) {
    var builder = new SerializersModuleBuilder(new SerialModuleImpl());
    buildAction(builder);
    return builder.impl_8be2vx$;
  }
  function SerializersModuleBuilder(impl) {
    this.impl_8be2vx$ = impl;
  }
  SerializersModuleBuilder.prototype.contextual_cfhkba$ = function (kClass, serializer) {
    this.impl_8be2vx$.registerSerializer_z3bkzg$(kClass, serializer);
  };
  SerializersModuleBuilder.prototype.polymorphic_kfyidi$ = function (baseClass, actualClass, actualSerializer) {
    this.impl_8be2vx$.registerPolymorphicSerializer_yca12w$(baseClass, actualClass, actualSerializer);
  };
  SerializersModuleBuilder.prototype.include_stpyu4$ = function (other) {
    other.dumpTo_247rdd$(this);
  };
  function SerializersModuleBuilder$polymorphic$lambda($receiver) {
    return Unit;
  }
  SerializersModuleBuilder.prototype.polymorphic_v5citj$ = function (baseClass, baseSerializer, buildAction) {
    if (baseSerializer === void 0)
      baseSerializer = null;
    if (buildAction === void 0)
      buildAction = SerializersModuleBuilder$polymorphic$lambda;
    var builder = new PolymorphicModuleBuilder(baseClass, baseSerializer);
    buildAction(builder);
    builder.buildTo_5224ah$(this.impl_8be2vx$);
  };
  SerializersModuleBuilder.prototype.polymorphic_czluys$ = defineInlineFunction('kotlinx-serialization-kotlinx-serialization-runtime.kotlinx.serialization.modules.SerializersModuleBuilder.polymorphic_czluys$', wrapFunction(function () {
    var Unit = Kotlin.kotlin.Unit;
    var getKClass = Kotlin.getKClass;
    function SerializersModuleBuilder$polymorphic$lambda($receiver) {
      return Unit;
    }
    return function (Base_0, isBase, baseSerializer, buildAction) {
      if (baseSerializer === void 0)
        baseSerializer = null;
      if (buildAction === void 0)
        buildAction = SerializersModuleBuilder$polymorphic$lambda;
      this.polymorphic_v5citj$(getKClass(Base_0), baseSerializer, buildAction);
    };
  }));
  function SerializersModuleBuilder$polymorphic$lambda_0($receiver) {
    return Unit;
  }
  SerializersModuleBuilder.prototype.polymorphic_myr6su$ = function (baseClass, baseClasses, buildAction) {
    if (buildAction === void 0)
      buildAction = SerializersModuleBuilder$polymorphic$lambda_0;
    var tmp$, tmp$_0, tmp$_1;
    var builder = new PolymorphicModuleBuilder(Kotlin.isType(tmp$ = baseClass, KClass) ? tmp$ : throwCCE(), null);
    buildAction(builder);
    builder.buildTo_5224ah$(this.impl_8be2vx$);
    for (tmp$_0 = 0; tmp$_0 !== baseClasses.length; ++tmp$_0) {
      var base = baseClasses[tmp$_0];
      builder.changeBase_a3p3f0$(Kotlin.isType(tmp$_1 = base, KClass) ? tmp$_1 : throwCCE(), null).buildTo_5224ah$(this.impl_8be2vx$);
    }
  };
  SerializersModuleBuilder.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerializersModuleBuilder', interfaces: [SerialModuleCollector]};
  function SerialModuleCollector() {
  }
  SerialModuleCollector.$metadata$ = {kind: Kind_INTERFACE, simpleName: 'SerialModuleCollector', interfaces: []};
  function getContextualOrDefault($receiver, klass) {
    var tmp$;
    return (tmp$ = $receiver.getContextual_lmshww$(klass)) != null ? tmp$ : serializer(klass);
  }
  function plus$lambda(this$plus, closure$other) {
    return function ($receiver) {
      $receiver.include_stpyu4$(this$plus);
      $receiver.include_stpyu4$(closure$other);
      return Unit;
    };
  }
  function plus($receiver, other) {
    return SerializersModule(plus$lambda($receiver, other));
  }
  function SerialModuleImpl() {
    this.classMap_0 = HashMap_init();
    this.polyMap_0 = HashMap_init();
    this.inverseClassNameMap_0 = HashMap_init();
  }
  SerialModuleImpl.prototype.registerSerializer_z3bkzg$ = function (forClass, serializer, allowOverwrite) {
    if (allowOverwrite === void 0)
      allowOverwrite = false;
    var tmp$ = !allowOverwrite;
    if (tmp$) {
      var $receiver = this.classMap_0;
      var tmp$_0;
      tmp$ = (Kotlin.isType(tmp$_0 = $receiver, Map) ? tmp$_0 : throwCCE()).containsKey_11rb$(forClass);
    }
    if (tmp$)
      throw SerializerAlreadyRegisteredException_init_0(forClass);
    this.classMap_0.put_xwzc9p$(forClass, serializer);
  };
  SerialModuleImpl.prototype.registerPolymorphicSerializer_yca12w$ = function (baseClass, concreteClass, concreteSerializer, allowOverwrite) {
    if (allowOverwrite === void 0)
      allowOverwrite = false;
    var name = concreteSerializer.descriptor.name;
    var $receiver = this.polyMap_0;
    var tmp$;
    var value = $receiver.get_11rb$(baseClass);
    if (value == null) {
      var answer = HashMap_init();
      $receiver.put_xwzc9p$(baseClass, answer);
      tmp$ = answer;
    }
     else {
      tmp$ = value;
    }
    var baseClassMap = tmp$;
    var tmp$_0 = !allowOverwrite;
    if (tmp$_0) {
      var tmp$_1;
      tmp$_0 = (Kotlin.isType(tmp$_1 = baseClassMap, Map) ? tmp$_1 : throwCCE()).containsKey_11rb$(concreteClass);
    }
    if (tmp$_0)
      throw SerializerAlreadyRegisteredException_init(baseClass, concreteClass);
    baseClassMap.put_xwzc9p$(concreteClass, concreteSerializer);
    var $receiver_0 = this.inverseClassNameMap_0;
    var tmp$_2;
    var value_0 = $receiver_0.get_11rb$(baseClass);
    if (value_0 == null) {
      var answer_0 = HashMap_init();
      $receiver_0.put_xwzc9p$(baseClass, answer_0);
      tmp$_2 = answer_0;
    }
     else {
      tmp$_2 = value_0;
    }
    tmp$_2.put_xwzc9p$(name, concreteSerializer);
  };
  SerialModuleImpl.prototype.getPolymorphic_b1ce0a$ = function (baseClass, value) {
    var tmp$, tmp$_0, tmp$_1;
    if (!isInstanceOf(value, baseClass))
      return null;
    if ((tmp$ = (baseClass != null ? baseClass.equals(PrimitiveClasses$anyClass) : null) ? StandardSubtypesOfAny_getInstance().getSubclassSerializer_kcmwxo$(value) : null) != null) {
      var tmp$_2;
      return Kotlin.isType(tmp$_2 = tmp$, KSerializer) ? tmp$_2 : throwCCE();
    }
    return Kotlin.isType(tmp$_1 = (tmp$_0 = this.polyMap_0.get_11rb$(baseClass)) != null ? tmp$_0.get_11rb$(Kotlin.getKClassFromExpression(value)) : null, KSerializer) ? tmp$_1 : null;
  };
  SerialModuleImpl.prototype.getPolymorphic_6xtsla$ = function (baseClass, serializedClassName) {
    var tmp$, tmp$_0, tmp$_1;
    if ((tmp$ = (baseClass != null ? baseClass.equals(PrimitiveClasses$anyClass) : null) ? StandardSubtypesOfAny_getInstance().getDefaultDeserializer_y4putb$(serializedClassName) : null) != null) {
      var tmp$_2;
      return Kotlin.isType(tmp$_2 = tmp$, KSerializer) ? tmp$_2 : throwCCE();
    }
    return Kotlin.isType(tmp$_1 = (tmp$_0 = this.inverseClassNameMap_0.get_11rb$(baseClass)) != null ? tmp$_0.get_11rb$(serializedClassName) : null, KSerializer) ? tmp$_1 : null;
  };
  SerialModuleImpl.prototype.getContextual_lmshww$ = function (kclass) {
    var tmp$;
    return Kotlin.isType(tmp$ = this.classMap_0.get_11rb$(kclass), KSerializer) ? tmp$ : null;
  };
  SerialModuleImpl.prototype.dumpTo_247rdd$ = function (collector) {
    var tmp$;
    tmp$ = this.classMap_0.entries.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var kclass = element.key;
      var serial = element.value;
      var tmp$_0, tmp$_1;
      collector.contextual_cfhkba$(Kotlin.isType(tmp$_0 = kclass, KClass) ? tmp$_0 : throwCCE(), Kotlin.isType(tmp$_1 = serial, KSerializer) ? tmp$_1 : throwCCE());
    }
    var tmp$_2;
    tmp$_2 = this.polyMap_0.entries.iterator();
    while (tmp$_2.hasNext()) {
      var element_0 = tmp$_2.next();
      var baseClass = element_0.key;
      var classMap = element_0.value;
      var tmp$_3;
      tmp$_3 = classMap.entries.iterator();
      while (tmp$_3.hasNext()) {
        var element_1 = tmp$_3.next();
        var actualClass = element_1.key;
        var serializer = element_1.value;
        var tmp$_4, tmp$_5, tmp$_6;
        collector.polymorphic_kfyidi$(Kotlin.isType(tmp$_4 = baseClass, KClass) ? tmp$_4 : throwCCE(), Kotlin.isType(tmp$_5 = actualClass, KClass) ? tmp$_5 : throwCCE(), Kotlin.isType(tmp$_6 = serializer, KSerializer) ? tmp$_6 : throwCCE());
      }
    }
  };
  SerialModuleImpl.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerialModuleImpl', interfaces: [SerialModule]};
  function SerializerAlreadyRegisteredException(msg) {
    IllegalArgumentException_init(msg, this);
    this.name = 'SerializerAlreadyRegisteredException';
  }
  SerializerAlreadyRegisteredException.$metadata$ = {kind: Kind_CLASS, simpleName: 'SerializerAlreadyRegisteredException', interfaces: [IllegalArgumentException]};
  function SerializerAlreadyRegisteredException_init(baseClass, concreteClass, $this) {
    $this = $this || Object.create(SerializerAlreadyRegisteredException.prototype);
    SerializerAlreadyRegisteredException.call($this, 'Serializer for ' + concreteClass + ' already registered in the scope of ' + baseClass);
    return $this;
  }
  function SerializerAlreadyRegisteredException_init_0(forClass, $this) {
    $this = $this || Object.create(SerializerAlreadyRegisteredException.prototype);
    SerializerAlreadyRegisteredException.call($this, 'Serializer for ' + forClass + ' already registered in this module');
    return $this;
  }
  function StandardSubtypesOfAny() {
    StandardSubtypesOfAny_instance = this;
    this.map_0 = mapOf([to(getKClass(List), new ArrayListSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(LinkedHashSet), new LinkedHashSetSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(HashSet), new HashSetSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(Set), new LinkedHashSetSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(LinkedHashMap), new LinkedHashMapSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(HashMap), new HashMapSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(Map), new LinkedHashMapSerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(getKClass(Map$Entry), new MapEntrySerializer(makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)), makeNullable(new PolymorphicSerializer(PrimitiveClasses$anyClass)))), to(PrimitiveClasses$stringClass, StringSerializer_getInstance()), to(getKClass(Char), CharSerializer_getInstance()), to(PrimitiveClasses$doubleClass, DoubleSerializer_getInstance()), to(PrimitiveClasses$floatClass, FloatSerializer_getInstance()), to(getKClass(Long), LongSerializer_getInstance()), to(PrimitiveClasses$intClass, IntSerializer_getInstance()), to(PrimitiveClasses$shortClass, ShortSerializer_getInstance()), to(PrimitiveClasses$byteClass, ByteSerializer_getInstance()), to(PrimitiveClasses$booleanClass, BooleanSerializer_getInstance()), to(getKClass(Object.getPrototypeOf(kotlin.Unit).constructor), UnitSerializer_getInstance())]);
    var $receiver = this.map_0;
    var destination = LinkedHashMap_init_1(mapCapacity($receiver.size));
    var tmp$;
    tmp$ = $receiver.entries.iterator();
    while (tmp$.hasNext()) {
      var element = tmp$.next();
      var tmp$_0 = destination.put_xwzc9p$;
      var s = element.value;
      tmp$_0.call(destination, s.descriptor.name, element.value);
    }
    this.deserializingMap_0 = destination;
  }
  StandardSubtypesOfAny.prototype.getSubclassSerializer_kcmwxo$ = function (objectToCheck) {
    var tmp$;
    tmp$ = this.map_0.entries.iterator();
    while (tmp$.hasNext()) {
      var tmp$_0 = tmp$.next();
      var k = tmp$_0.key;
      var v = tmp$_0.value;
      if (isInstanceOf(objectToCheck, k))
        return v;
    }
    return null;
  };
  StandardSubtypesOfAny.prototype.getDefaultDeserializer_y4putb$ = function (serializedClassName) {
    return this.deserializingMap_0.get_11rb$(serializedClassName);
  };
  StandardSubtypesOfAny.$metadata$ = {kind: Kind_OBJECT, simpleName: 'StandardSubtypesOfAny', interfaces: []};
  var StandardSubtypesOfAny_instance = null;
  function StandardSubtypesOfAny_getInstance() {
    if (StandardSubtypesOfAny_instance === null) {
      new StandardSubtypesOfAny();
    }
    return StandardSubtypesOfAny_instance;
  }
  var ProtoBuf$Varint_instance = null;
  var ProtoBuf$Companion_instance = null;
  var ProtoNumberType$DEFAULT_instance;
  var ProtoNumberType$SIGNED_instance;
  var ProtoNumberType$FIXED_instance;
  var ByteBuffer$Companion_instance = null;
  var InputStream$Companion_instance = null;
  var MAX_SAFE_INTEGER;
  function compiledSerializer($receiver) {
    var tmp$, tmp$_0;
    return Kotlin.isType(tmp$_0 = (tmp$ = get_js($receiver).Companion) != null ? tmp$.serializer() : null, KSerializer) ? tmp$_0 : null;
  }
  function isInstanceOf($receiver, kclass) {
    return kclass.isInstance_s8jyv4$($receiver);
  }
  var package$kotlinx = _.kotlinx || (_.kotlinx = {});
  var package$serialization = package$kotlinx.serialization || (package$kotlinx.serialization = {});
  package$serialization.Encoder = Encoder;
  package$serialization.CompositeEncoder = CompositeEncoder;
  package$serialization.Decoder = Decoder;
  Object.defineProperty(CompositeDecoder, 'Companion', {get: CompositeDecoder$Companion_getInstance});
  package$serialization.CompositeDecoder = CompositeDecoder;
  package$serialization.ContextSerializer = ContextSerializer;
  package$serialization.SerialDescriptor = SerialDescriptor;
  package$serialization.SerializationStrategy = SerializationStrategy;
  package$serialization.DeserializationStrategy = DeserializationStrategy;
  Object.defineProperty(UpdateMode, 'BANNED', {get: UpdateMode$BANNED_getInstance});
  Object.defineProperty(UpdateMode, 'OVERWRITE', {get: UpdateMode$OVERWRITE_getInstance});
  Object.defineProperty(UpdateMode, 'UPDATE', {get: UpdateMode$UPDATE_getInstance});
  package$serialization.UpdateMode = UpdateMode;
  package$serialization.KSerializer = KSerializer;
  package$serialization.serializer_1yb8b7$ = serializer;
  package$serialization.encode_dt3ugd$ = encode_0;
  package$serialization.decode_cmswi7$ = decode_0;
  package$serialization.SerialKind = SerialKind;
  Object.defineProperty(PrimitiveKind, 'INT', {get: PrimitiveKind$INT_getInstance});
  Object.defineProperty(PrimitiveKind, 'UNIT', {get: PrimitiveKind$UNIT_getInstance});
  Object.defineProperty(PrimitiveKind, 'BOOLEAN', {get: PrimitiveKind$BOOLEAN_getInstance});
  Object.defineProperty(PrimitiveKind, 'BYTE', {get: PrimitiveKind$BYTE_getInstance});
  Object.defineProperty(PrimitiveKind, 'SHORT', {get: PrimitiveKind$SHORT_getInstance});
  Object.defineProperty(PrimitiveKind, 'LONG', {get: PrimitiveKind$LONG_getInstance});
  Object.defineProperty(PrimitiveKind, 'FLOAT', {get: PrimitiveKind$FLOAT_getInstance});
  Object.defineProperty(PrimitiveKind, 'DOUBLE', {get: PrimitiveKind$DOUBLE_getInstance});
  Object.defineProperty(PrimitiveKind, 'CHAR', {get: PrimitiveKind$CHAR_getInstance});
  Object.defineProperty(PrimitiveKind, 'STRING', {get: PrimitiveKind$STRING_getInstance});
  package$serialization.PrimitiveKind = PrimitiveKind;
  Object.defineProperty(StructureKind, 'CLASS', {get: StructureKind$CLASS_getInstance});
  Object.defineProperty(StructureKind, 'LIST', {get: StructureKind$LIST_getInstance});
  Object.defineProperty(StructureKind, 'MAP', {get: StructureKind$MAP_getInstance});
  package$serialization.StructureKind = StructureKind;
  Object.defineProperty(UnionKind, 'OBJECT', {get: UnionKind$OBJECT_getInstance});
  Object.defineProperty(UnionKind, 'ENUM_KIND', {get: UnionKind$ENUM_KIND_getInstance});
  Object.defineProperty(UnionKind, 'SEALED', {get: UnionKind$SEALED_getInstance});
  Object.defineProperty(UnionKind, 'POLYMORPHIC', {get: UnionKind$POLYMORPHIC_getInstance});
  package$serialization.UnionKind = UnionKind;
  package$serialization.ElementValueEncoder = ElementValueEncoder;
  package$serialization.ElementValueDecoder = ElementValueDecoder;
  package$serialization.SerializationException = SerializationException;
  package$serialization.UpdateNotSupportedException = UpdateNotSupportedException;
  var package$modules = package$serialization.modules || (package$serialization.modules = {});
  package$modules.getContextualOrDefault_6za9kt$ = getContextualOrDefault;
  Object.defineProperty(package$serialization, 'PolymorphicClassDescriptor', {get: PolymorphicClassDescriptor_getInstance});
  package$serialization.PolymorphicSerializer = PolymorphicSerializer;
  package$serialization.SerialFormat = SerialFormat;
  package$serialization.AbstractSerialFormat = AbstractSerialFormat;
  package$serialization.BinaryFormat = BinaryFormat;
  package$serialization.StringFormat = StringFormat;
  var package$internal = package$serialization.internal || (package$serialization.internal = {});
  package$serialization.elementDescriptors_xzf193$ = elementDescriptors;
  package$serialization.getElementIndexOrThrow_27vawp$ = getElementIndexOrThrow;
  package$serialization.TaggedEncoder = TaggedEncoder;
  package$serialization.NamedValueEncoder = NamedValueEncoder;
  package$serialization.TaggedDecoder = TaggedDecoder;
  package$serialization.NamedValueDecoder = NamedValueDecoder;
  package$internal.ListLikeDescriptor = ListLikeDescriptor;
  package$internal.MapLikeDescriptor = MapLikeDescriptor;
  package$internal.ArrayListClassDesc = ArrayListClassDesc;
  package$internal.NamedListClassDescriptor = NamedListClassDescriptor;
  package$internal.LinkedHashSetClassDesc = LinkedHashSetClassDesc;
  package$internal.HashSetClassDesc = HashSetClassDesc;
  package$internal.NamedMapClassDescriptor = NamedMapClassDescriptor;
  package$internal.LinkedHashMapClassDesc = LinkedHashMapClassDesc;
  package$internal.HashMapClassDesc = HashMapClassDesc;
  package$internal.AbstractCollectionSerializer = AbstractCollectionSerializer;
  package$internal.ListLikeSerializer = ListLikeSerializer;
  package$internal.MapLikeSerializer = MapLikeSerializer;
  package$internal.ArrayListSerializer = ArrayListSerializer;
  package$internal.LinkedHashSetSerializer = LinkedHashSetSerializer;
  package$internal.HashSetSerializer = HashSetSerializer;
  package$internal.LinkedHashMapSerializer = LinkedHashMapSerializer;
  package$internal.HashMapSerializer = HashMapSerializer;
  package$internal.CommonEnumSerializer = CommonEnumSerializer;
  package$internal.GeneratedSerializer = GeneratedSerializer;
  package$internal.makeNullable_ewacr1$ = makeNullable;
  package$internal.NullableSerializer = NullableSerializer;
  package$internal.PrimitiveDescriptor = PrimitiveDescriptor;
  Object.defineProperty(package$internal, 'IntDescriptor', {get: IntDescriptor_getInstance});
  Object.defineProperty(package$internal, 'UnitDescriptor', {get: UnitDescriptor_getInstance});
  Object.defineProperty(package$internal, 'BooleanDescriptor', {get: BooleanDescriptor_getInstance});
  Object.defineProperty(package$internal, 'ByteDescriptor', {get: ByteDescriptor_getInstance});
  Object.defineProperty(package$internal, 'ShortDescriptor', {get: ShortDescriptor_getInstance});
  Object.defineProperty(package$internal, 'LongDescriptor', {get: LongDescriptor_getInstance});
  Object.defineProperty(package$internal, 'FloatDescriptor', {get: FloatDescriptor_getInstance});
  Object.defineProperty(package$internal, 'DoubleDescriptor', {get: DoubleDescriptor_getInstance});
  Object.defineProperty(package$internal, 'CharDescriptor', {get: CharDescriptor_getInstance});
  Object.defineProperty(package$internal, 'StringDescriptor', {get: StringDescriptor_getInstance});
  Object.defineProperty(package$internal, 'UnitSerializer', {get: UnitSerializer_getInstance});
  Object.defineProperty(package$internal, 'BooleanSerializer', {get: BooleanSerializer_getInstance});
  Object.defineProperty(package$internal, 'ByteSerializer', {get: ByteSerializer_getInstance});
  Object.defineProperty(package$internal, 'ShortSerializer', {get: ShortSerializer_getInstance});
  Object.defineProperty(package$internal, 'IntSerializer', {get: IntSerializer_getInstance});
  Object.defineProperty(package$internal, 'LongSerializer', {get: LongSerializer_getInstance});
  Object.defineProperty(package$internal, 'FloatSerializer', {get: FloatSerializer_getInstance});
  Object.defineProperty(package$internal, 'DoubleSerializer', {get: DoubleSerializer_getInstance});
  Object.defineProperty(package$internal, 'CharSerializer', {get: CharSerializer_getInstance});
  Object.defineProperty(package$internal, 'StringSerializer', {get: StringSerializer_getInstance});
  package$internal.defaultSerializer_1yb8b7$ = defaultSerializer;
  package$internal.SerialClassDescImpl = SerialClassDescImpl;
  package$internal.KeyValueSerializer = KeyValueSerializer;
  package$internal.MapEntrySerializer = MapEntrySerializer;
  package$internal.MapEntry = MapEntry;
  Object.defineProperty(package$internal, 'MapEntryClassDesc', {get: MapEntryClassDesc_getInstance});
  package$internal.TripleSerializer = TripleSerializer;
  var package$json = package$serialization.json || (package$serialization.json = {});
  package$json.Json = Json;
  Object.defineProperty(Json, 'Companion', {get: Json$Companion_getInstance});
  Object.defineProperty(JsonConfiguration, 'Companion', {get: JsonConfiguration$Companion_getInstance});
  package$json.JsonConfiguration = JsonConfiguration;
  Object.defineProperty(JsonElement, 'Companion', {get: JsonElement$Companion_getInstance});
  package$json.JsonElement = JsonElement;
  Object.defineProperty(JsonPrimitive, 'Companion', {get: JsonPrimitive$Companion_getInstance});
  package$json.JsonPrimitive = JsonPrimitive;
  Object.defineProperty(JsonLiteral, 'Companion', {get: JsonLiteral$Companion_getInstance});
  package$json.JsonLiteral_init_3p81yu$ = JsonLiteral_init;
  package$json.JsonLiteral_init_6taknv$ = JsonLiteral_init_0;
  package$json.JsonLiteral_init_61zpoe$ = JsonLiteral_init_1;
  package$json.JsonLiteral = JsonLiteral;
  Object.defineProperty(package$json, 'JsonNull', {get: JsonNull_getInstance});
  package$json.unexpectedJson_puj7f4$ = unexpectedJson;
  Object.defineProperty(JsonObject, 'Companion', {get: JsonObject$Companion_getInstance});
  package$json.JsonObject = JsonObject;
  Object.defineProperty(JsonArray, 'Companion', {get: JsonArray$Companion_getInstance});
  package$json.JsonArray = JsonArray;
  Object.defineProperty(package$json, 'JsonElementSerializer', {get: JsonElementSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonPrimitiveSerializer', {get: JsonPrimitiveSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonNullSerializer', {get: JsonNullSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonLiteralSerializer', {get: JsonLiteralSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonObjectSerializer', {get: JsonObjectSerializer_getInstance});
  Object.defineProperty(package$json, 'JsonArraySerializer', {get: JsonArraySerializer_getInstance});
  package$json.JsonPrimitive_pdl1vj$ = JsonPrimitive_2;
  package$json.get_content_u3sd3g$ = get_content;
  package$json.InvalidFloatingPoint_qwibp1$ = InvalidFloatingPoint;
  package$json.InvalidFloatingPoint_x0xb19$ = InvalidFloatingPoint_0;
  package$json.jsonUnknownKeyException_f0n09d$ = jsonUnknownKeyException;
  package$json.JsonMapInvalidKeyKind_4b8fhx$ = JsonMapInvalidKeyKind;
  package$json.JsonException = JsonException;
  package$json.JsonDecodingException = JsonDecodingException;
  package$json.JsonEncodingException = JsonEncodingException;
  package$json.JsonInput = JsonInput;
  package$json.JsonOutput = JsonOutput;
  var package$internal_0 = package$json.internal || (package$json.internal = {});
  package$internal_0.JsonParser = JsonParser;
  Object.defineProperty(package$internal_0, 'EscapeCharMappings', {get: EscapeCharMappings_getInstance});
  package$internal_0.charToTokenClass_8e8zqy$ = charToTokenClass;
  package$internal_0.escapeToChar_kcn2v3$ = escapeToChar;
  package$internal_0.JsonReader = JsonReader;
  package$internal_0.checkKind_y7bnyb$ = checkKind;
  package$internal_0.decodeSerializableValuePolymorphic_ojldma$ = decodeSerializableValuePolymorphic;
  package$internal_0.StreamingJsonInput = StreamingJsonInput;
  StreamingJsonOutput.Composer = StreamingJsonOutput$Composer;
  package$internal_0.StreamingJsonOutput_init_ek5ogp$ = StreamingJsonOutput_init;
  package$internal_0.StreamingJsonOutput = StreamingJsonOutput;
  package$internal_0.printQuoted_jigvc$ = printQuoted;
  package$internal_0.toBooleanStrict_7efafi$ = toBooleanStrict;
  package$internal_0.toBooleanStrictOrNull_7efafi$ = toBooleanStrictOrNull;
  package$internal_0.shouldBeQuoted_y4putb$ = shouldBeQuoted;
  package$internal_0.readJson_ijhaef$ = readJson;
  package$internal_0.writeJson_4dixew$ = writeJson;
  Object.defineProperty(WriteMode, 'OBJ', {get: WriteMode$OBJ_getInstance});
  Object.defineProperty(WriteMode, 'LIST', {get: WriteMode$LIST_getInstance});
  Object.defineProperty(WriteMode, 'MAP', {get: WriteMode$MAP_getInstance});
  Object.defineProperty(WriteMode, 'POLY_OBJ', {get: WriteMode$POLY_OBJ_getInstance});
  package$internal_0.WriteMode = WriteMode;
  package$internal_0.switchMode_2zz6bv$ = switchMode;
  package$modules.PolymorphicModuleBuilder = PolymorphicModuleBuilder;
  package$modules.SerialModule = SerialModule;
  Object.defineProperty(package$modules, 'EmptyModule', {get: EmptyModule_getInstance});
  package$modules.serializersModuleOf_azm104$ = serializersModuleOf_0;
  package$modules.SerializersModule_q4tcel$ = SerializersModule;
  package$modules.SerializersModuleBuilder = SerializersModuleBuilder;
  package$modules.SerialModuleCollector = SerialModuleCollector;
  package$modules.plus_7n7cf$ = plus;
  package$modules.SerialModuleImpl = SerialModuleImpl;
  package$modules.SerializerAlreadyRegisteredException_init_gfgaic$ = SerializerAlreadyRegisteredException_init;
  package$modules.SerializerAlreadyRegisteredException_init_xo1ogr$ = SerializerAlreadyRegisteredException_init_0;
  package$modules.SerializerAlreadyRegisteredException = SerializerAlreadyRegisteredException;
  Object.defineProperty(package$modules, 'StandardSubtypesOfAny', {get: StandardSubtypesOfAny_getInstance});
  package$serialization.compiledSerializer_1yb8b7$ = compiledSerializer;
  package$serialization.isInstanceOf_ofcvxk$ = isInstanceOf;
  Object.defineProperty(SerialClassDescImpl.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  ContextSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  ElementValueEncoder.prototype.encodeSerializableValue_tf03ej$ = Encoder.prototype.encodeSerializableValue_tf03ej$;
  ElementValueEncoder.prototype.encodeNullableSerializableValue_f4686g$ = Encoder.prototype.encodeNullableSerializableValue_f4686g$;
  ElementValueEncoder.prototype.beginCollection_gly1x5$ = Encoder.prototype.beginCollection_gly1x5$;
  ElementValueEncoder.prototype.endStructure_qatsm0$ = CompositeEncoder.prototype.endStructure_qatsm0$;
  ElementValueEncoder.prototype.shouldEncodeElementDefault_3zr2iy$ = CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$;
  ElementValueDecoder.prototype.decodeSerializableValue_w63s0f$ = Decoder.prototype.decodeSerializableValue_w63s0f$;
  ElementValueDecoder.prototype.decodeNullableSerializableValue_aae3ea$ = Decoder.prototype.decodeNullableSerializableValue_aae3ea$;
  ElementValueDecoder.prototype.updateSerializableValue_19c8k5$ = Decoder.prototype.updateSerializableValue_19c8k5$;
  ElementValueDecoder.prototype.updateNullableSerializableValue_exmlbs$ = Decoder.prototype.updateNullableSerializableValue_exmlbs$;
  ElementValueDecoder.prototype.endStructure_qatsm0$ = CompositeDecoder.prototype.endStructure_qatsm0$;
  ElementValueDecoder.prototype.decodeCollectionSize_qatsm0$ = CompositeDecoder.prototype.decodeCollectionSize_qatsm0$;
  TaggedEncoder.prototype.encodeSerializableValue_tf03ej$ = Encoder.prototype.encodeSerializableValue_tf03ej$;
  TaggedEncoder.prototype.encodeNullableSerializableValue_f4686g$ = Encoder.prototype.encodeNullableSerializableValue_f4686g$;
  TaggedEncoder.prototype.beginCollection_gly1x5$ = Encoder.prototype.beginCollection_gly1x5$;
  TaggedEncoder.prototype.shouldEncodeElementDefault_3zr2iy$ = CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$;
  TaggedDecoder.prototype.decodeSerializableValue_w63s0f$ = Decoder.prototype.decodeSerializableValue_w63s0f$;
  TaggedDecoder.prototype.decodeNullableSerializableValue_aae3ea$ = Decoder.prototype.decodeNullableSerializableValue_aae3ea$;
  TaggedDecoder.prototype.updateSerializableValue_19c8k5$ = Decoder.prototype.updateSerializableValue_19c8k5$;
  TaggedDecoder.prototype.updateNullableSerializableValue_exmlbs$ = Decoder.prototype.updateNullableSerializableValue_exmlbs$;
  TaggedDecoder.prototype.endStructure_qatsm0$ = CompositeDecoder.prototype.endStructure_qatsm0$;
  TaggedDecoder.prototype.decodeCollectionSize_qatsm0$ = CompositeDecoder.prototype.decodeCollectionSize_qatsm0$;
  PolymorphicSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  BinaryFormat.prototype.install_stpyu4$ = SerialFormat.prototype.install_stpyu4$;
  StringFormat.prototype.install_stpyu4$ = SerialFormat.prototype.install_stpyu4$;
  ListLikeDescriptor.prototype.getEntityAnnotations = SerialDescriptor.prototype.getEntityAnnotations;
  ListLikeDescriptor.prototype.getElementAnnotations_za3lpa$ = SerialDescriptor.prototype.getElementAnnotations_za3lpa$;
  Object.defineProperty(ListLikeDescriptor.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  ListLikeDescriptor.prototype.isElementOptional_za3lpa$ = SerialDescriptor.prototype.isElementOptional_za3lpa$;
  MapLikeDescriptor.prototype.getEntityAnnotations = SerialDescriptor.prototype.getEntityAnnotations;
  MapLikeDescriptor.prototype.getElementAnnotations_za3lpa$ = SerialDescriptor.prototype.getElementAnnotations_za3lpa$;
  Object.defineProperty(MapLikeDescriptor.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  MapLikeDescriptor.prototype.isElementOptional_za3lpa$ = SerialDescriptor.prototype.isElementOptional_za3lpa$;
  CommonEnumSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  GeneratedSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  LongAsStringSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  PrimitiveDescriptor.prototype.getEntityAnnotations = SerialDescriptor.prototype.getEntityAnnotations;
  PrimitiveDescriptor.prototype.getElementAnnotations_za3lpa$ = SerialDescriptor.prototype.getElementAnnotations_za3lpa$;
  Object.defineProperty(PrimitiveDescriptor.prototype, 'elementsCount', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'elementsCount'));
  Object.defineProperty(PrimitiveDescriptor.prototype, 'isNullable', Object.getOwnPropertyDescriptor(SerialDescriptor.prototype, 'isNullable'));
  UnitSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  BooleanSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  ByteSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  ShortSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  IntSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  LongSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  FloatSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  DoubleSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  CharSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  StringSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  KeyValueSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  TripleSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonElementSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonPrimitiveSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonNullSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonLiteralSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonObjectSerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonArraySerializer.prototype.patch_mynpiu$ = KSerializer.prototype.patch_mynpiu$;
  JsonInput.prototype.decodeSerializableValue_w63s0f$ = Decoder.prototype.decodeSerializableValue_w63s0f$;
  JsonInput.prototype.decodeNullableSerializableValue_aae3ea$ = Decoder.prototype.decodeNullableSerializableValue_aae3ea$;
  JsonInput.prototype.updateSerializableValue_19c8k5$ = Decoder.prototype.updateSerializableValue_19c8k5$;
  JsonInput.prototype.updateNullableSerializableValue_exmlbs$ = Decoder.prototype.updateNullableSerializableValue_exmlbs$;
  JsonInput.prototype.endStructure_qatsm0$ = CompositeDecoder.prototype.endStructure_qatsm0$;
  JsonInput.prototype.decodeCollectionSize_qatsm0$ = CompositeDecoder.prototype.decodeCollectionSize_qatsm0$;
  JsonOutput.prototype.encodeSerializableValue_tf03ej$ = Encoder.prototype.encodeSerializableValue_tf03ej$;
  JsonOutput.prototype.encodeNullableSerializableValue_f4686g$ = Encoder.prototype.encodeNullableSerializableValue_f4686g$;
  JsonOutput.prototype.beginCollection_gly1x5$ = Encoder.prototype.beginCollection_gly1x5$;
  JsonOutput.prototype.endStructure_qatsm0$ = CompositeEncoder.prototype.endStructure_qatsm0$;
  JsonOutput.prototype.shouldEncodeElementDefault_3zr2iy$ = CompositeEncoder.prototype.shouldEncodeElementDefault_3zr2iy$;
  StreamingJsonInput.prototype.decodeNullableSerializableValue_aae3ea$ = JsonInput.prototype.decodeNullableSerializableValue_aae3ea$;
  StreamingJsonInput.prototype.updateSerializableValue_19c8k5$ = JsonInput.prototype.updateSerializableValue_19c8k5$;
  StreamingJsonInput.prototype.updateNullableSerializableValue_exmlbs$ = JsonInput.prototype.updateNullableSerializableValue_exmlbs$;
  StreamingJsonInput.prototype.decodeCollectionSize_qatsm0$ = JsonInput.prototype.decodeCollectionSize_qatsm0$;
  StreamingJsonOutput.prototype.encodeNullableSerializableValue_f4686g$ = JsonOutput.prototype.encodeNullableSerializableValue_f4686g$;
  StreamingJsonOutput.prototype.beginCollection_gly1x5$ = JsonOutput.prototype.beginCollection_gly1x5$;
  deprecationText = 'Obsolete name from the preview version of library.';
  INSTALL_DEPRECATION_TEXT = 'Install is no longer supported, module can be added to format only in constructor';
  ARRAY_NAME = 'kotlin.Array';
  ARRAY_LIST_NAME = 'kotlin.collections.ArrayList';
  LINKED_HASH_SET_NAME = 'kotlin.collections.LinkedHashSet';
  HASH_SET_NAME = 'kotlin.collections.HashSet';
  LINKED_HASH_MAP_NAME = 'kotlin.collections.LinkedHashMap';
  HASH_MAP_NAME = 'kotlin.collections.HashMap';
  KEY_INDEX = 0;
  VALUE_INDEX = 1;
  defaultJsonModule = serializersModuleOf_0(mapOf([to(getKClass(JsonElement), JsonElementSerializer_getInstance()), to(getKClass(JsonPrimitive), JsonPrimitiveSerializer_getInstance()), to(getKClass(JsonLiteral), JsonLiteralSerializer_getInstance()), to(getKClass(JsonNull), JsonNullSerializer_getInstance()), to(getKClass(JsonObject), JsonObjectSerializer_getInstance()), to(getKClass(JsonArray), JsonArraySerializer_getInstance())]));
  NULL = 'null';
  COMMA = 44;
  COLON = 58;
  BEGIN_OBJ = 123;
  END_OBJ = 125;
  BEGIN_LIST = 91;
  END_LIST = 93;
  STRING = 34;
  STRING_ESC = 92;
  INVALID = toChar(0);
  UNICODE_ESC = 117;
  TC_OTHER = 0;
  TC_STRING = 1;
  TC_STRING_ESC = 2;
  TC_WS = 3;
  TC_COMMA = 4;
  TC_COLON = 5;
  TC_BEGIN_OBJ = 6;
  TC_END_OBJ = 7;
  TC_BEGIN_LIST = 8;
  TC_END_LIST = 9;
  TC_NULL = 10;
  TC_INVALID = 11;
  TC_EOF = 12;
  CTC_MAX = 126;
  ESC2C_MAX = 117;
  var $receiver = new Int8Array(126);
  for (var i = 0; i <= 32; i++) {
    initC2TC($receiver, i, TC_INVALID);
  }
  initC2TC($receiver, 9, TC_WS);
  initC2TC($receiver, 10, TC_WS);
  initC2TC($receiver, 13, TC_WS);
  initC2TC($receiver, 32, TC_WS);
  initC2TC_0($receiver, COMMA, TC_COMMA);
  initC2TC_0($receiver, COLON, TC_COLON);
  initC2TC_0($receiver, BEGIN_OBJ, TC_BEGIN_OBJ);
  initC2TC_0($receiver, END_OBJ, TC_END_OBJ);
  initC2TC_0($receiver, BEGIN_LIST, TC_BEGIN_LIST);
  initC2TC_0($receiver, END_LIST, TC_END_LIST);
  initC2TC_0($receiver, STRING, TC_STRING);
  initC2TC_0($receiver, STRING_ESC, TC_STRING_ESC);
  C2TC = $receiver;
  var $receiver_0 = Kotlin.newArray(128, null);
  for (var c = 0; c <= 31; c++) {
    var c1 = toHexChar(c >> 12);
    var c2 = toHexChar(c >> 8);
    var c3 = toHexChar(c >> 4);
    var c4 = toHexChar(c);
    $receiver_0[c] = '\\' + 'u' + String.fromCharCode(c1) + String.fromCharCode(c2) + String.fromCharCode(c3) + String.fromCharCode(c4);
  }
  $receiver_0[34] = '\\"';
  $receiver_0[92] = '\\\\';
  $receiver_0[9] = '\\t';
  $receiver_0[8] = '\\b';
  $receiver_0[10] = '\\n';
  $receiver_0[13] = '\\r';
  $receiver_0[12] = '\\f';
  ESCAPE_CHARS = $receiver_0;
  PRIMITIVE_TAG = 'primitive';
  MAX_SAFE_INTEGER = L9007199254740991.toNumber();
  return _;
}));

//# sourceMappingURL=kotlinx-serialization-kotlinx-serialization-runtime.js.map


/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.5.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-04-10T15:07Z
 */
( function( global, factory ) {

	"use strict";

	if (  true && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var flat = arr.flat ? function( array ) {
	return arr.flat.call( array );
} : function( array ) {
	return arr.concat.apply( [], array );
};


var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

      // Support: Chrome <=57, Firefox <=52
      // In some browsers, typeof returns "function" for HTML <object> elements
      // (i.e., `typeof document.createElement( "object" ) === "function"`).
      // We don't want to classify *any* DOM node as a function.
      return typeof obj === "function" && typeof obj.nodeType !== "number";
  };


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};


var document = window.document;



	var preservedScriptAttributes = {
		type: true,
		src: true,
		nonce: true,
		noModule: true
	};

	function DOMEval( code, node, doc ) {
		doc = doc || document;

		var i, val,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {

				// Support: Firefox 64+, Edge 18+
				// Some browsers don't support the "nonce" property on scripts.
				// On the other hand, just using `getAttribute` is not enough as
				// the `nonce` attribute is reset to an empty string whenever it
				// becomes browsing-context connected.
				// See https://github.com/whatwg/html/issues/2369
				// See https://html.spec.whatwg.org/#nonce-attributes
				// The `node.getAttribute` check was added for the sake of
				// `jQuery.globalEval` so that it can fake a nonce-containing node
				// via an object.
				val = node[ i ] || node.getAttribute && node.getAttribute( i );
				if ( val ) {
					script.setAttribute( i, val );
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	// Support: Android <=2.3 only (functionish RegExp)
	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.5.0",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	even: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return ( i + 1 ) % 2;
		} ) );
	},

	odd: function() {
		return this.pushStack( jQuery.grep( this, function( _elem, i ) {
			return i % 2;
		} ) );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				copy = options[ name ];

				// Prevent Object.prototype pollution
				// Prevent never-ending loop
				if ( name === "__proto__" || target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {
					src = target[ name ];

					// Ensure proper type for the source value
					if ( copyIsArray && !Array.isArray( src ) ) {
						clone = [];
					} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {
						clone = {};
					} else {
						clone = src;
					}
					copyIsArray = false;

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	// Evaluates a script in a provided context; falls back to the global one
	// if not specified.
	globalEval: function( code, options, doc ) {
		DOMEval( code, { nonce: options && options.nonce }, doc );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return flat( ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
function( _i, name ) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
( function( window ) {
var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	nonnativeSelectorCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// Instance methods
	hasOwn = ( {} ).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	pushNative = arr.push,
	push = arr.push,
	slice = arr.slice,

	// Use a stripped-down indexOf as it's faster than native
	// https://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[ i ] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|" +
		"ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
	identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +
		"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +

		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +

		// "Attribute values must be CSS identifiers [capture 5]
		// or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +
		whitespace + "*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +

		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +

		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +

		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" +
		whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace +
		"*" ),
	rdescend = new RegExp( whitespace + "|>" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
			whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +
			whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),

		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace +
			"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +
			"*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rhtml = /HTML$/i,
	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	// CSS escapes
	// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g" ),
	funescape = function( escape, nonHex ) {
		var high = "0x" + escape.slice( 1 ) - 0x10000;

		return nonHex ?

			// Strip the backslash prefix from a non-hex escape sequence
			nonHex :

			// Replace a hexadecimal escape sequence with the encoded Unicode code point
			// Support: IE <=11+
			// For values outside the Basic Multilingual Plane (BMP), manually construct a
			// surrogate pair
			high < 0 ?
				String.fromCharCode( high + 0x10000 ) :
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" +
				ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	},

	inDisabledFieldset = addCombinator(
		function( elem ) {
			return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";
		},
		{ dir: "parentNode", next: "legend" }
	);

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		( arr = slice.call( preferredDoc.childNodes ) ),
		preferredDoc.childNodes
	);

	// Support: Android<4.0
	// Detect silently failing push.apply
	// eslint-disable-next-line no-unused-expressions
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			pushNative.apply( target, slice.call( els ) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;

			// Can't trust NodeList.length
			while ( ( target[ j++ ] = els[ i++ ] ) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {
		setDocument( context );
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {

				// ID selector
				if ( ( m = match[ 1 ] ) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( ( elem = context.getElementById( m ) ) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && ( elem = newContext.getElementById( m ) ) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[ 2 ] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!nonnativeSelectorCache[ selector + " " ] &&
				( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&

				// Support: IE 8 only
				// Exclude object elements
				( nodeType !== 1 || context.nodeName.toLowerCase() !== "object" ) ) {

				newSelector = selector;
				newContext = context;

				// qSA considers elements outside a scoping root when evaluating child or
				// descendant combinators, which is not what we want.
				// In such cases, we work around the behavior by prefixing every selector in the
				// list with an ID selector referencing the scope context.
				// The technique has to be used as well when a leading combinator is used
				// as such selectors are not recognized by querySelectorAll.
				// Thanks to Andrew Dupont for this technique.
				if ( nodeType === 1 &&
					( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;

					// We can use :scope instead of the ID hack if the browser
					// supports it & if we're not changing the context.
					if ( newContext !== context || !support.scope ) {

						// Capture the context ID, setting it first if necessary
						if ( ( nid = context.getAttribute( "id" ) ) ) {
							nid = nid.replace( rcssescape, fcssescape );
						} else {
							context.setAttribute( "id", ( nid = expando ) );
						}
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[ i ] = ( nid ? "#" + nid : ":scope" ) + " " +
							toSelector( groups[ i ] );
					}
					newSelector = groups.join( "," );
				}

				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch ( qsaError ) {
					nonnativeSelectorCache( selector, true );
				} finally {
					if ( nid === expando ) {
						context.removeAttribute( "id" );
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {

		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {

			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return ( cache[ key + " " ] = value );
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created element and returns a boolean result
 */
function assert( fn ) {
	var el = document.createElement( "fieldset" );

	try {
		return !!fn( el );
	} catch ( e ) {
		return false;
	} finally {

		// Remove from its parent by default
		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}

		// release memory in IE
		el = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split( "|" ),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[ i ] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			a.sourceIndex - b.sourceIndex;

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( ( cur = cur.nextSibling ) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return ( name === "input" || name === "button" ) && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for :enabled/:disabled
 * @param {Boolean} disabled true for :disabled; false for :enabled
 */
function createDisabledPseudo( disabled ) {

	// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	return function( elem ) {

		// Only certain elements can match :enabled or :disabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
		if ( "form" in elem ) {

			// Check for inherited disabledness on relevant non-disabled elements:
			// * listed form-associated elements in a disabled fieldset
			//   https://html.spec.whatwg.org/multipage/forms.html#category-listed
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
			// * option elements in a disabled optgroup
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
			// All such elements have a "form" property.
			if ( elem.parentNode && elem.disabled === false ) {

				// Option elements defer to a parent optgroup if present
				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				// Support: IE 6 - 11
				// Use the isDisabled shortcut property to check for disabled fieldset ancestors
				return elem.isDisabled === disabled ||

					// Where there is no isDisabled, check manually
					/* jshint -W018 */
					elem.isDisabled !== !disabled &&
					inDisabledFieldset( elem ) === disabled;
			}

			return elem.disabled === disabled;

		// Try to winnow out elements that can't be disabled before trusting the disabled property.
		// Some victims get caught in our net (label, legend, menu, track), but it shouldn't
		// even exist on them, let alone have a boolean value.
		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		// Remaining elements are neither :enabled nor :disabled
		return false;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction( function( argument ) {
		argument = +argument;
		return markFunction( function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ ( j = matchIndexes[ i ] ) ] ) {
					seed[ j ] = !( matches[ j ] = seed[ j ] );
				}
			}
		} );
	} );
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	var namespace = elem.namespaceURI,
		docElem = ( elem.ownerDocument || elem ).documentElement;

	// Support: IE <=8
	// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes
	// https://bugs.jquery.com/ticket/4833
	return !rhtml.test( namespace || docElem && docElem.nodeName || "HTML" );
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9 - 11+, Edge 12 - 18+
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( preferredDoc != document &&
		( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {

		// Support: IE 11, Edge
		if ( subWindow.addEventListener ) {
			subWindow.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( subWindow.attachEvent ) {
			subWindow.attachEvent( "onunload", unloadHandler );
		}
	}

	// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,
	// Safari 4 - 5 only, Opera <=11.6 - 12.x only
	// IE/Edge & older browsers don't support the :scope pseudo-class.
	// Support: Safari 6.0 only
	// Safari 6.0 supports :scope but it's an alias of :root there.
	support.scope = assert( function( el ) {
		docElem.appendChild( el ).appendChild( document.createElement( "div" ) );
		return typeof el.querySelectorAll !== "undefined" &&
			!el.querySelectorAll( ":scope fieldset div" ).length;
	} );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert( function( el ) {
		el.className = "i";
		return !el.getAttribute( "className" );
	} );

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert( function( el ) {
		el.appendChild( document.createComment( "" ) );
		return !el.getElementsByTagName( "*" ).length;
	} );

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programmatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert( function( el ) {
		docElem.appendChild( el ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	} );

	// ID filter and find
	if ( support.getById ) {
		Expr.filter[ "ID" ] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute( "id" ) === attrId;
			};
		};
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter[ "ID" ] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode( "id" );
				return node && node.value === attrId;
			};
		};

		// Support: IE 6 - 7 only
		// getElementById is not reliable as a find shortcut
		Expr.find[ "ID" ] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					// Verify the id attribute
					node = elem.getAttributeNode( "id" );
					if ( node && node.value === id ) {
						return [ elem ];
					}

					// Fall back on getElementsByName
					elems = context.getElementsByName( id );
					i = 0;
					while ( ( elem = elems[ i++ ] ) ) {
						node = elem.getAttributeNode( "id" );
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	// Tag
	Expr.find[ "TAG" ] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,

				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( ( elem = results[ i++ ] ) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find[ "CLASS" ] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See https://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {

		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert( function( el ) {

			var input;

			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// https://bugs.jquery.com/ticket/12359
			docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( el.querySelectorAll( "[msallowcapture^='']" ).length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !el.querySelectorAll( "[selected]" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push( "~=" );
			}

			// Support: IE 11+, Edge 15 - 18+
			// IE 11/Edge don't find elements on a `[name='']` query in some cases.
			// Adding a temporary attribute to the document before the selection works
			// around the issue.
			// Interestingly, IE 10 & older don't seem to have the issue.
			input = document.createElement( "input" );
			input.setAttribute( "name", "" );
			el.appendChild( input );
			if ( !el.querySelectorAll( "[name='']" ).length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*name" + whitespace + "*=" +
					whitespace + "*(?:''|\"\")" );
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !el.querySelectorAll( ":checked" ).length ) {
				rbuggyQSA.push( ":checked" );
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibling-combinator selector` fails
			if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push( ".#.+[+~]" );
			}

			// Support: Firefox <=3.6 - 5 only
			// Old Firefox doesn't throw on a badly-escaped identifier.
			el.querySelectorAll( "\\\f" );
			rbuggyQSA.push( "[\\r\\n\\f]" );
		} );

		assert( function( el ) {
			el.innerHTML = "<a href='' disabled='disabled'></a>" +
				"<select disabled='disabled'><option/></select>";

			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement( "input" );
			input.setAttribute( "type", "hidden" );
			el.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( el.querySelectorAll( "[name=d]" ).length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( el.querySelectorAll( ":enabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: IE9-11+
			// IE's :disabled selector does not pick up the children of disabled fieldsets
			docElem.appendChild( el ).disabled = true;
			if ( el.querySelectorAll( ":disabled" ).length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: Opera 10 - 11 only
			// Opera 10-11 does not throw on post-comma invalid pseudos
			el.querySelectorAll( "*,:x" );
			rbuggyQSA.push( ",.*:" );
		} );
	}

	if ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector ) ) ) ) {

		assert( function( el ) {

			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( el, "*" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( el, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		} );
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( "|" ) );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( "|" ) );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			) );
		} :
		function( a, b ) {
			if ( b ) {
				while ( ( b = b.parentNode ) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		// Support: IE 11+, Edge 17 - 18+
		// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
		// two documents; shallow comparisons work.
		// eslint-disable-next-line eqeqeq
		compare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {

			// Choose the first element that is related to our preferred document
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( a == document || a.ownerDocument == preferredDoc &&
				contains( preferredDoc, a ) ) {
				return -1;
			}

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			// eslint-disable-next-line eqeqeq
			if ( b == document || b.ownerDocument == preferredDoc &&
				contains( preferredDoc, b ) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {

		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {

			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			return a == document ? -1 :
				b == document ? 1 :
				/* eslint-enable eqeqeq */
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( ( cur = cur.parentNode ) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( ( cur = cur.parentNode ) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[ i ] === bp[ i ] ) {
			i++;
		}

		return i ?

			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[ i ], bp[ i ] ) :

			// Otherwise nodes in our document sort first
			// Support: IE 11+, Edge 17 - 18+
			// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
			// two documents; shallow comparisons work.
			/* eslint-disable eqeqeq */
			ap[ i ] == preferredDoc ? -1 :
			bp[ i ] == preferredDoc ? 1 :
			/* eslint-enable eqeqeq */
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	setDocument( elem );

	if ( support.matchesSelector && documentIsHTML &&
		!nonnativeSelectorCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||

				// As well, disconnected nodes are said to be in a document
				// fragment in IE 9
				elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch ( e ) {
			nonnativeSelectorCache( expr, true );
		}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( context.ownerDocument || context ) != document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {

	// Set document vars if needed
	// Support: IE 11+, Edge 17 - 18+
	// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
	// two documents; shallow comparisons work.
	// eslint-disable-next-line eqeqeq
	if ( ( elem.ownerDocument || elem ) != document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],

		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			( val = elem.getAttributeNode( name ) ) && val.specified ?
				val.value :
				null;
};

Sizzle.escape = function( sel ) {
	return ( sel + "" ).replace( rcssescape, fcssescape );
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( ( elem = results[ i++ ] ) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {

		// If no nodeType, this is expected to be an array
		while ( ( node = elem[ i++ ] ) ) {

			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {

		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {

			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}

	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[ 1 ] = match[ 1 ].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[ 3 ] = ( match[ 3 ] || match[ 4 ] ||
				match[ 5 ] || "" ).replace( runescape, funescape );

			if ( match[ 2 ] === "~=" ) {
				match[ 3 ] = " " + match[ 3 ] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {

			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[ 1 ] = match[ 1 ].toLowerCase();

			if ( match[ 1 ].slice( 0, 3 ) === "nth" ) {

				// nth-* requires argument
				if ( !match[ 3 ] ) {
					Sizzle.error( match[ 0 ] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[ 4 ] = +( match[ 4 ] ?
					match[ 5 ] + ( match[ 6 ] || 1 ) :
					2 * ( match[ 3 ] === "even" || match[ 3 ] === "odd" ) );
				match[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === "odd" );

				// other types prohibit arguments
			} else if ( match[ 3 ] ) {
				Sizzle.error( match[ 0 ] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[ 6 ] && match[ 2 ];

			if ( matchExpr[ "CHILD" ].test( match[ 0 ] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[ 3 ] ) {
				match[ 2 ] = match[ 4 ] || match[ 5 ] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&

				// Get excess from tokenize (recursively)
				( excess = tokenize( unquoted, true ) ) &&

				// advance to the next closing parenthesis
				( excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length ) ) {

				// excess is a negative index
				match[ 0 ] = match[ 0 ].slice( 0, excess );
				match[ 2 ] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() {
					return true;
				} :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				( pattern = new RegExp( "(^|" + whitespace +
					")" + className + "(" + whitespace + "|$)" ) ) && classCache(
						className, function( elem ) {
							return pattern.test(
								typeof elem.className === "string" && elem.className ||
								typeof elem.getAttribute !== "undefined" &&
									elem.getAttribute( "class" ) ||
								""
							);
				} );
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				/* eslint-disable max-len */

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
				/* eslint-enable max-len */

			};
		},

		"CHILD": function( type, what, _argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, _context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( ( node = node[ dir ] ) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}

								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || ( node[ expando ] = {} );

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								( outerCache[ node.uniqueID ] = {} );

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( ( node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								( diff = nodeIndex = 0 ) || start.pop() ) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {

							// Use previously-cached element index if available
							if ( useCache ) {

								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || ( node[ expando ] = {} );

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									( outerCache[ node.uniqueID ] = {} );

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {

								// Use the same loop as above to seek `elem` from the start
								while ( ( node = ++nodeIndex && node && node[ dir ] ||
									( diff = nodeIndex = 0 ) || start.pop() ) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] ||
												( node[ expando ] = {} );

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												( outerCache[ node.uniqueID ] = {} );

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {

			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction( function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[ i ] );
							seed[ idx ] = !( matches[ idx ] = matched[ i ] );
						}
					} ) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {

		// Potentially complex pseudos
		"not": markFunction( function( selector ) {

			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction( function( seed, matches, _context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( ( elem = unmatched[ i ] ) ) {
							seed[ i ] = !( matches[ i ] = elem );
						}
					}
				} ) :
				function( elem, _context, xml ) {
					input[ 0 ] = elem;
					matcher( input, null, xml, results );

					// Don't keep the element (issue #299)
					input[ 0 ] = null;
					return !results.pop();
				};
		} ),

		"has": markFunction( function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		} ),

		"contains": markFunction( function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;
			};
		} ),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {

			// lang value must be a valid identifier
			if ( !ridentifier.test( lang || "" ) ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( ( elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute( "xml:lang" ) || elem.getAttribute( "lang" ) ) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );
				return false;
			};
		} ),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement &&
				( !document.hasFocus || document.hasFocus() ) &&
				!!( elem.type || elem.href || ~elem.tabIndex );
		},

		// Boolean properties
		"enabled": createDisabledPseudo( false ),
		"disabled": createDisabledPseudo( true ),

		"checked": function( elem ) {

			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return ( nodeName === "input" && !!elem.checked ) ||
				( nodeName === "option" && !!elem.selected );
		},

		"selected": function( elem ) {

			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				// eslint-disable-next-line no-unused-expressions
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {

			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos[ "empty" ]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( ( attr = elem.getAttribute( "type" ) ) == null ||
					attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo( function() {
			return [ 0 ];
		} ),

		"last": createPositionalPseudo( function( _matchIndexes, length ) {
			return [ length - 1 ];
		} ),

		"eq": createPositionalPseudo( function( _matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		} ),

		"even": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"odd": createPositionalPseudo( function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"lt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ?
				argument + length :
				argument > length ?
					length :
					argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} ),

		"gt": createPositionalPseudo( function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		} )
	}
};

Expr.pseudos[ "nth" ] = Expr.pseudos[ "eq" ];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || ( match = rcomma.exec( soFar ) ) ) {
			if ( match ) {

				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[ 0 ].length ) || soFar;
			}
			groups.push( ( tokens = [] ) );
		}

		matched = false;

		// Combinators
		if ( ( match = rcombinators.exec( soFar ) ) ) {
			matched = match.shift();
			tokens.push( {
				value: matched,

				// Cast descendant combinators to space
				type: match[ 0 ].replace( rtrim, " " )
			} );
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||
				( match = preFilters[ type ]( match ) ) ) ) {
				matched = match.shift();
				tokens.push( {
					value: matched,
					type: type,
					matches: match
				} );
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :

			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[ i ].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?

		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( ( elem = elem[ dir ] ) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( ( elem = elem[ dir ] ) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || ( elem[ expando ] = {} );

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] ||
							( outerCache[ elem.uniqueID ] = {} );

						if ( skip && skip === elem.nodeName.toLowerCase() ) {
							elem = elem[ dir ] || elem;
						} else if ( ( oldCache = uniqueCache[ key ] ) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return ( newCache[ 2 ] = oldCache[ 2 ] );
						} else {

							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ key ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[ i ]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[ 0 ];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[ i ], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( ( elem = unmatched[ i ] ) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction( function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts(
				selector || "*",
				context.nodeType ? [ context ] : context,
				[]
			),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?

				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( ( elem = temp[ i ] ) ) {
					matcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {

					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( ( elem = matcherOut[ i ] ) ) {

							// Restore matcherIn since elem is not yet a final match
							temp.push( ( matcherIn[ i ] = elem ) );
						}
					}
					postFinder( null, ( matcherOut = [] ), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( ( elem = matcherOut[ i ] ) &&
						( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {

						seed[ temp ] = !( results[ temp ] = elem );
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	} );
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[ 0 ].type ],
		implicitRelative = leadingRelative || Expr.relative[ " " ],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				( checkContext = context ).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );

			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {
			matchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];
		} else {
			matcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {

				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[ j ].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(

					// If the preceding token was a descendant combinator, insert an implicit any-element `*`
					tokens
						.slice( 0, i - 1 )
						.concat( { value: tokens[ i - 2 ].type === " " ? "*" : "" } )
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,

				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find[ "TAG" ]( "*", outermost ),

				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),
				len = elems.length;

			if ( outermost ) {

				// Support: IE 11+, Edge 17 - 18+
				// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
				// two documents; shallow comparisons work.
				// eslint-disable-next-line eqeqeq
				outermostContext = context == document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;

					// Support: IE 11+, Edge 17 - 18+
					// IE/Edge sometimes throw a "Permission denied" error when strict-comparing
					// two documents; shallow comparisons work.
					// eslint-disable-next-line eqeqeq
					if ( !context && elem.ownerDocument != document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( ( matcher = elementMatchers[ j++ ] ) ) {
						if ( matcher( elem, context || document, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {

					// They will have gone through all possible matchers
					if ( ( elem = !matcher && elem ) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( ( matcher = setMatchers[ j++ ] ) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {

					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !( unmatched[ i ] || setMatched[ i ] ) ) {
								setMatched[ i ] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {

		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[ i ] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache(
			selector,
			matcherFromGroupMatchers( elementMatchers, setMatchers )
		);

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( ( selector = compiled.selector || selector ) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[ 0 ] = match[ 0 ].slice( 0 );
		if ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === "ID" &&
			context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {

			context = ( Expr.find[ "ID" ]( token.matches[ 0 ]
				.replace( runescape, funescape ), context ) || [] )[ 0 ];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr[ "needsContext" ].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[ i ];

			// Abort if we hit a combinator
			if ( Expr.relative[ ( type = token.type ) ] ) {
				break;
			}
			if ( ( find = Expr.find[ type ] ) ) {

				// Search, expanding context for leading sibling combinators
				if ( ( seed = find(
					token.matches[ 0 ].replace( runescape, funescape ),
					rsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||
						context
				) ) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split( "" ).sort( sortOrder ).join( "" ) === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert( function( el ) {

	// Should return 1, but returns 4 (following)
	return el.compareDocumentPosition( document.createElement( "fieldset" ) ) & 1;
} );

// Support: IE<8
// Prevent attribute/property "interpolation"
// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert( function( el ) {
	el.innerHTML = "<a href='#'></a>";
	return el.firstChild.getAttribute( "href" ) === "#";
} ) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	} );
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert( function( el ) {
	el.innerHTML = "<input/>";
	el.firstChild.setAttribute( "value", "" );
	return el.firstChild.getAttribute( "value" ) === "";
} ) ) {
	addHandle( "value", function( elem, _name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	} );
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert( function( el ) {
	return el.getAttribute( "disabled" ) == null;
} ) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
				( val = elem.getAttributeNode( name ) ) && val.specified ?
					val.value :
					null;
		}
	} );
}

return Sizzle;

} )( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;

// Deprecated
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;
jQuery.escapeSelector = Sizzle.escape;




var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

};
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Filtered directly for both simple and complex selectors
	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, _i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, _i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, _i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		if ( elem.contentDocument != null &&

			// Support: IE 11+
			// <object> elements with no `data` attribute has an object
			// `contentDocument` with a `null` prototype.
			getProto( elem.contentDocument ) ) {

			return elem.contentDocument;
		}

		// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
		// Treat the template element as a regular one in browsers that
		// don't support it.
		if ( nodeName( elem, "template" ) ) {
			elem = elem.content || elem;
		}

		return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		// Check for promise aspect first to privilege synchronous behavior
		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		// Other thenables
		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		// Other non-thenables
		} else {

			// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
			// * false: [ value ].slice( 0 ) => resolve( value )
			// * true: [ value ].slice( 1 ) => resolve()
			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	// For Promises/A+, convert exceptions into rejections
	// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	// Deferred#then to conditionally suppress rejection.
	} catch ( value ) {

		// Support: Android 4.0 only
		// Strict mode functions invoked without .call/.apply get global-object context
		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, callbacks,
				// ... .then handlers, argument index, [final state]
				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				// Keep pipe for back-compat
				pipe: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( _i, tuple ) {

							// Map tuples (progress, done, fail) to arguments (done, fail, progress)
							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							// deferred.progress(function() { bind to newDefer or newDefer.notify })
							// deferred.done(function() { bind to newDefer or newDefer.resolve })
							// deferred.fail(function() { bind to newDefer or newDefer.reject })
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									// Support: Promises/A+ section 2.3.3.3.3
									// https://promisesaplus.com/#point-59
									// Ignore double-resolution attempts
									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									// Support: Promises/A+ section 2.3.1
									// https://promisesaplus.com/#point-48
									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									// Support: Promises/A+ sections 2.3.3.1, 3.5
									// https://promisesaplus.com/#point-54
									// https://promisesaplus.com/#point-75
									// Retrieve `then` only once
									then = returned &&

										// Support: Promises/A+ section 2.3.4
										// https://promisesaplus.com/#point-64
										// Only check objects and functions for thenability
										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									// Handle a returned thenable
									if ( isFunction( then ) ) {

										// Special processors (notify) just wait for resolution
										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										// Normal processors (resolve) also hook into progress
										} else {

											// ...and disregard older resolution values
											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									// Handle all other returned values
									} else {

										// Only substitute handlers pass on context
										// and multiple values (non-spec behavior)
										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										// Process the value(s)
										// Default process is resolve
										( special || deferred.resolveWith )( that, args );
									}
								},

								// Only normal processors (resolve) catch and reject exceptions
								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.stackTrace );
											}

											// Support: Promises/A+ section 2.3.3.3.4.1
											// https://promisesaplus.com/#point-61
											// Ignore post-resolution exceptions
											if ( depth + 1 >= maxDepth ) {

												// Only substitute handlers pass on context
												// and multiple values (non-spec behavior)
												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							// Support: Promises/A+ section 2.3.3.3.1
							// https://promisesaplus.com/#point-57
							// Re-resolve promises immediately to dodge false rejection from
							// subsequent errors
							if ( depth ) {
								process();
							} else {

								// Call an optional hook to record the stack, in case of exception
								// since it's otherwise lost when execution goes async
								if ( jQuery.Deferred.getStackHook ) {
									process.stackTrace = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						// progress_handlers.add( ... )
						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						// fulfilled_handlers.add( ... )
						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						// rejected_handlers.add( ... )
						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			// promise.progress = list.add
			// promise.done = list.add
			// promise.fail = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(
					function() {

						// state = "resolved" (i.e., fulfilled)
						// state = "rejected"
						state = stateString;
					},

					// rejected_callbacks.disable
					// fulfilled_callbacks.disable
					tuples[ 3 - i ][ 2 ].disable,

					// rejected_handlers.disable
					// fulfilled_handlers.disable
					tuples[ 3 - i ][ 3 ].disable,

					// progress_callbacks.lock
					tuples[ 0 ][ 2 ].lock,

					// progress_handlers.lock
					tuples[ 0 ][ 3 ].lock
				);
			}

			// progress_handlers.fire
			// fulfilled_handlers.fire
			// rejected_handlers.fire
			list.add( tuple[ 3 ].fire );

			// deferred.notify = function() { deferred.notifyWith(...) }
			// deferred.resolve = function() { deferred.resolveWith(...) }
			// deferred.reject = function() { deferred.rejectWith(...) }
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			// deferred.notifyWith = list.fireWith
			// deferred.resolveWith = list.fireWith
			// deferred.rejectWith = list.fireWith
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( singleValue ) {
		var

			// count of uncompleted subordinates
			remaining = arguments.length,

			// count of unprocessed arguments
			i = remaining,

			// subordinate fulfillment data
			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			// the master Deferred
			master = jQuery.Deferred(),

			// subordinate callback factory
			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						master.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		// Single- and empty arguments are adopted like Promise.resolve
		if ( remaining <= 1 ) {
			adoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,
				!remaining );

			// Use .then() to unwrap secondary thenables (cf. gh-3000)
			if ( master.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return master.then();
			}
		}

		// Multiple arguments are aggregated like Promise.all array elements
		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), master.reject );
		}

		return master.promise();
	}
} );


// These usually indicate a programmer mistake during development,
// warn about them ASAP rather than swallowing them by default.
var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, stack ) {

	// Support: IE 8 - 9 only
	// Console exists when dev tools are open, which can happen at any time
	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// The deferred used on DOM ready
var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		// Wrap jQuery.readyException in a function so that the lookup
		// happens at the time of error handling instead of callback
		// registration.
		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

// The ready event handler and self cleanup method
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE <=9 - 10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, _key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
					value :
					value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


// Matches dashed string for camelizing
var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

// Used by camelCase as callback to replace()
function fcamelCase( _all, letter ) {
	return letter.toUpperCase();
}

// Convert dashed to camelCase; used by the css and data modules
// Support: IE <=9 - 11, Edge 12 - 15
// Microsoft forgot to hump their vendor prefix (#9572)
function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = Object.create( null );

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var documentElement = document.documentElement;



	var isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem );
		},
		composed = { composed: true };

	// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
	// Check attachment across shadow DOM boundaries when possible (gh-3504)
	// Support: iOS 10.0-10.2 only
	// Early iOS 10 versions support `attachShadow` but not `getRootNode`,
	// leading to errors. We need to check for `getRootNode`.
	if ( documentElement.getRootNode ) {
		isAttached = function( elem ) {
			return jQuery.contains( elem.ownerDocument, elem ) ||
				elem.getRootNode( composed ) === elem.ownerDocument;
		};
	}
var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			isAttached( elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = elem.nodeType &&
			( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Support: Firefox <=54
		// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
		initial = initial / 2;

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			// Evaluate and update our best guess (doubling guesses that zero out).
			// Finish if the scale equals or crosses 1 (making the old*new product non-positive).
			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	// Determine new display value for elements that need to change
	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			// Since we force visibility upon cascade-hidden elements, an immediate (and slow)
			// check is required in this first loop unless we have a nonempty display value (either
			// inline or about-to-be-restored)
			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				// Remember what we're overwriting
				dataPriv.set( elem, "display", display );
			}
		}
	}

	// Set the display of the elements in a second loop to avoid constant reflow
	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]*)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

	// Support: IE <=9 only
	// IE <=9 replaces <option> tags with their contents when inserted outside of
	// the select element.
	div.innerHTML = "<option></option>";
	support.option = !!div.lastChild;
} )();


// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: IE <=9 only
if ( !support.option ) {
	wrapMap.optgroup = wrapMap.option = [ 1, "<select multiple='multiple'>", "</select>" ];
}


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, attached, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( toType( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		attached = isAttached( elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( attached ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 - 11+
// focus() and blur() are asynchronous, except when they are no-op.
// So expect focus to be synchronous when the element is already active,
// and blur to be synchronous when the element is not already active.
// (focus and blur are always synchronous in other supported browsers,
// this just defines when we can count on it).
function expectSync( elem, type ) {
	return ( elem === safeActiveElement() ) === ( type === "focus" );
}

// Support: IE <=9 only
// Accessing document.activeElement can throw unexpectedly
// https://bugs.jquery.com/ticket/13393
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Only attach events to objects that accept data
		if ( !acceptData( elem ) ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = Object.create( null );
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),

			// Make a writable jQuery.Event from the native event object
			event = jQuery.event.fix( nativeEvent ),

			handlers = (
					dataPriv.get( this, "events" ) || Object.create( null )
				)[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// If the event is namespaced, then each handler is only invoked if it is
				// specially universal or its namespaces are a superset of the event's.
				if ( !event.rnamespace || handleObj.namespace === false ||
					event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
							return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
							return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		click: {

			// Utilize native event to ensure correct state for checkable inputs
			setup: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Claim the first handler
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					// dataPriv.set( el, "click", ... )
					leverageNative( el, "click", returnTrue );
				}

				// Return false to allow normal processing in the caller
				return false;
			},
			trigger: function( data ) {

				// For mutual compressibility with _default, replace `this` access with a local var.
				// `|| data` is dead code meant only to preserve the variable through minification.
				var el = this || data;

				// Force setup before triggering a click
				if ( rcheckableType.test( el.type ) &&
					el.click && nodeName( el, "input" ) ) {

					leverageNative( el, "click" );
				}

				// Return non-false to allow normal event-path propagation
				return true;
			},

			// For cross-browser consistency, suppress native .click() on links
			// Also prevent it if we're currently inside a leveraged native-event stack
			_default: function( event ) {
				var target = event.target;
				return rcheckableType.test( target.type ) &&
					target.click && nodeName( target, "input" ) &&
					dataPriv.get( target, "click" ) ||
					nodeName( target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

// Ensure the presence of an event listener that handles manually-triggered
// synthetic events by interrupting progress until reinvoked in response to
// *native* events that it fires directly, ensuring that state changes have
// already occurred before other listeners are invoked.
function leverageNative( el, type, expectSync ) {

	// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add
	if ( !expectSync ) {
		if ( dataPriv.get( el, type ) === undefined ) {
			jQuery.event.add( el, type, returnTrue );
		}
		return;
	}

	// Register the controller as a special universal handler for all event namespaces
	dataPriv.set( el, type, false );
	jQuery.event.add( el, type, {
		namespace: false,
		handler: function( event ) {
			var notAsync, result,
				saved = dataPriv.get( this, type );

			if ( ( event.isTrigger & 1 ) && this[ type ] ) {

				// Interrupt processing of the outer synthetic .trigger()ed event
				// Saved data should be false in such cases, but might be a leftover capture object
				// from an async native handler (gh-4350)
				if ( !saved.length ) {

					// Store arguments for use when handling the inner native event
					// There will always be at least one argument (an event object), so this array
					// will not be confused with a leftover capture object.
					saved = slice.call( arguments );
					dataPriv.set( this, type, saved );

					// Trigger the native event and capture its result
					// Support: IE <=9 - 11+
					// focus() and blur() are asynchronous
					notAsync = expectSync( this, type );
					this[ type ]();
					result = dataPriv.get( this, type );
					if ( saved !== result || notAsync ) {
						dataPriv.set( this, type, false );
					} else {
						result = {};
					}
					if ( saved !== result ) {

						// Cancel the outer synthetic event
						event.stopImmediatePropagation();
						event.preventDefault();
						return result.value;
					}

				// If this is an inner synthetic event for an event with a bubbling surrogate
				// (focus or blur), assume that the surrogate already propagated from triggering the
				// native event and prevent that from happening again here.
				// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
				// bubbling surrogate propagates *after* the non-bubbling base), but that seems
				// less bad than duplication.
				} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {
					event.stopPropagation();
				}

			// If this is a native event triggered above, everything is now in order
			// Fire an inner synthetic event with the original arguments
			} else if ( saved.length ) {

				// ...and capture the result
				dataPriv.set( this, type, {
					value: jQuery.event.trigger(

						// Support: IE <=9 - 11+
						// Extend with the prototype to reset the above stopImmediatePropagation()
						jQuery.extend( saved[ 0 ], jQuery.Event.prototype ),
						saved.slice( 1 ),
						this
					)
				} );

				// Abort handling of the native event
				event.stopImmediatePropagation();
			}
		}
	} );
}

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (#504, #13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || Date.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	code: true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,

	which: function( event ) {
		var button = event.button;

		// Add which for key events
		if ( event.which == null && rkeyEvent.test( event.type ) ) {
			return event.charCode != null ? event.charCode : event.keyCode;
		}

		// Add which for click: 1 === left; 2 === middle; 3 === right
		if ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {
			if ( button & 1 ) {
				return 1;
			}

			if ( button & 2 ) {
				return 3;
			}

			if ( button & 4 ) {
				return 2;
			}

			return 0;
		}

		return event.which;
	}
}, jQuery.event.addProp );

jQuery.each( { focus: "focusin", blur: "focusout" }, function( type, delegateType ) {
	jQuery.event.special[ type ] = {

		// Utilize native event if possible so blur/focus sequence is correct
		setup: function() {

			// Claim the first handler
			// dataPriv.set( this, "focus", ... )
			// dataPriv.set( this, "blur", ... )
			leverageNative( this, type, expectSync );

			// Return false to allow normal processing in the caller
			return false;
		},
		trigger: function() {

			// Force setup before trigger
			leverageNative( this, type );

			// Return non-false to allow normal event-path propagation
			return true;
		},

		delegateType: delegateType
	};
} );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.get( src );
		events = pdataOld.events;

		if ( events ) {
			dataPriv.remove( dest, "handle events" );

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = flat( args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl && !node.noModule ) {
								jQuery._evalUrl( node.src, {
									nonce: node.nonce || node.getAttribute( "nonce" )
								}, doc );
							}
						} else {
							DOMEval( node.textContent.replace( rcleanScript, "" ), node, doc );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && isAttached( node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html;
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = isAttached( elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var swap = function( elem, options, callback ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.call( elem );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );



( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
		// Some styles come back with percentage values, even though they shouldn't
		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		// Support: IE 9 - 11 only
		// Detect misreporting of content dimensions for box-sizing:border-box elements
		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		// Support: IE 9 only
		// Detect overflow:scroll screwiness (gh-3699)
		// Support: Chrome <=64
		// Don't get tricked when zoom affects offsetWidth (gh-4029)
		div.style.position = "absolute";
		scrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableTrDimensionsVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		},

		// Support: IE 9 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Behavior in IE 9 is more subtle than in newer versions & it passes
		// some versions of this test; make sure not to make it pass there!
		reliableTrDimensions: function() {
			var table, tr, trChild, trStyle;
			if ( reliableTrDimensionsVal == null ) {
				table = document.createElement( "table" );
				tr = document.createElement( "tr" );
				trChild = document.createElement( "div" );

				table.style.cssText = "position:absolute;left:-11111px";
				tr.style.height = "1px";
				trChild.style.height = "9px";

				documentElement
					.appendChild( table )
					.appendChild( tr )
					.appendChild( trChild );

				trStyle = window.getComputedStyle( tr );
				reliableTrDimensionsVal = parseInt( trStyle.height ) > 3;

				documentElement.removeChild( table );
			}
			return reliableTrDimensionsVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, #12537)
	//   .css('--customProperty) (#3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( ret === "" && !isAttached( elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style,
	vendorProps = {};

// Return a vendor-prefixed property or undefined
function vendorPropName( name ) {

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a potentially-mapped jQuery.cssProps or vendor prefixed property
function finalPropName( name ) {
	var final = jQuery.cssProps[ name ] || vendorProps[ name ];

	if ( final ) {
		return final;
	}
	if ( name in emptyStyle ) {
		return name;
	}
	return vendorProps[ name ] = vendorPropName( name ) || name;
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rcustomProp = /^--/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	};

function setPositiveNumber( _elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5

		// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
		// Use an explicit zero to avoid NaN (gh-3964)
		) ) || 0;
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),

		// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
		// Fake content-box until we know it's needed to know the true value.
		boxSizingNeeded = !support.boxSizingReliable() || extra,
		isBorderBox = boxSizingNeeded &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox,

		val = curCSS( elem, dimension, styles ),
		offsetProp = "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );

	// Support: Firefox <=54
	// Return a confounding non-pixel value or feign ignorance, as appropriate.
	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}


	// Support: IE 9 - 11 only
	// Use offsetWidth/offsetHeight for when box sizing is unreliable.
	// In those cases, the computed value can be trusted to be border-box.
	if ( ( !support.boxSizingReliable() && isBorderBox ||

		// Support: IE 10 - 11+, Edge 15 - 18+
		// IE/Edge misreport `getComputedStyle` of table rows with width/height
		// set in CSS while `offset*` properties report correct values.
		// Interestingly, in some cases IE 9 doesn't suffer from this issue.
		!support.reliableTrDimensions() && nodeName( elem, "tr" ) ||

		// Fall back to offsetWidth/offsetHeight when value is "auto"
		// This happens for inline elements with no explicit setting (gh-3571)
		val === "auto" ||

		// Support: Android <=4.1 - 4.3 only
		// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) &&

		// Make sure the element is visible & connected
		elem.getClientRects().length ) {

		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

		// Where available, offsetWidth/offsetHeight approximate border box dimensions.
		// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
		// retrieved value as a content box dimension.
		valueIsBorderBox = offsetProp in elem;
		if ( valueIsBorderBox ) {
			val = elem[ offsetProp ];
		}
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"gridArea": true,
		"gridColumn": true,
		"gridColumnEnd": true,
		"gridColumnStart": true,
		"gridRow": true,
		"gridRowEnd": true,
		"gridRowStart": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
			// "px" to a few hardcoded values.
			if ( type === "number" && !isCustomProp ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( _i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
						swap( elem, cssShow, function() {
							return getWidthOrHeight( elem, dimension, extra );
						} ) :
						getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),

				// Only read styles.position if the test has a chance to fail
				// to avoid forcing a reflow.
				scrollboxSizeBuggy = !support.scrollboxSize() &&
					styles.position === "absolute",

				// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
				boxSizingNeeded = scrollboxSizeBuggy || extra,
				isBorderBox = boxSizingNeeded &&
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra ?
					boxModelAdjustment(
						elem,
						dimension,
						extra,
						isBorderBox,
						styles
					) :
					0;

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && scrollboxSizeBuggy ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
				) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 && (
					jQuery.cssHooks[ tween.prop ] ||
					tween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9 only
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Queue-skipping animations hijack the fx hooks
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Detect show/hide animations
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// Pretend to be hidden if this is a "show" and
				// there is still data from a stopped show/hide
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				// Ignore all other no-op show/hide data
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	// Bail out if this is a no-op like .hide().hide()
	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	// Restrict "overflow" and "display" styles during box animations
	if ( isBox && elem.nodeType === 1 ) {

		// Support: IE <=9 - 11, Edge 12 - 15
		// Record all 3 overflow attributes because IE does not infer the shorthand
		// from identically-valued overflowX and overflowY and Edge just mirrors
		// the overflowX value there.
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Identify a display type, preferring old show/hide data over the CSS cascade
		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				// Get nonempty value(s) by temporarily forcing visibility
				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		// Animate inline elements as inline-block
		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				// Restore the original display value at the end of pure show/hide animations
				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// Implement show/hide animations
	propTween = false;
	for ( prop in orig ) {

		// General show/hide setup for this element animation
		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			// Store hidden/visible for toggle so `.stop().toggle()` "reverses"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			// Show elements before animating them
			if ( hidden ) {
				showHide( [ elem ], true );
			}

			/* eslint-disable no-loop-func */

			anim.done( function() {

			/* eslint-enable no-loop-func */

				// The final step of a "hide" animation is actually hiding the element
				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		// Per-property setup
		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3 only
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			// If there's more to do, yield
			if ( percent < 1 && length ) {
				return remaining;
			}

			// If this was an empty animation, synthesize a final progress notification
			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			// Resolve the animation and report its conclusion
			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	// Attach callbacks from options
	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	// Go to the end state if fx are off
	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( _i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Run the timer and safely remove it when done (allowing for external removal)
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: Android <=4.3 only
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE <=11 only
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: IE <=11 only
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( _i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// Support: IE <=9 - 11 only
				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
// eslint rule "no-unused-expressions" is disabled for this code
// since it considers such accessions noop
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( isValidValue ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = classesToArray( value );

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
						"" :
						dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
					return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


support.focusin = "onfocusin" in window;


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = (
					dataPriv.get( cur, "events" ) || Object.create( null )
				)[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


// Support: Firefox <=44
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {

				// Handle: regular nodes (via `this.ownerDocument`), window
				// (via `this.document`) & document (via `this`).
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this.document || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = { guid: Date.now() };

var rquery = ( /\?/ );



// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE 9 - 11 only
	// IE throws on parseFromString with invalid input.
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	if ( a == null ) {
		return "";
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} )
		.filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} )
		.map( function( _i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );
	originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",

		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": JSON.parse,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// Request state (becomes false upon send and true upon completion)
			completed,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// uncached part of the url
			uncached,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
					jQuery( callbackContext ) :
					jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() + " " ] =
									( responseHeaders[ match[ 1 ].toLowerCase() + " " ] || [] )
										.concat( match[ 2 ] );
							}
						}
						match = responseHeaders[ key.toLowerCase() + " " ];
					}
					return match == null ? null : match.join( ", " );
				},

				// Raw string
				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						} else {

							// Lazy-add the new callbacks in a way that preserves old ones
							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR );

		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE <=8 - 11, Edge 12 - 15
			// IE throws exception on accessing the href property if url is malformed,
			// e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE <=8 - 11 only
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( completed ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		// Remove hash to simplify url manipulation
		cacheURL = s.url.replace( rhash, "" );

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// Remember the hash so we can put it back
			uncached = s.url.slice( cacheURL.length );

			// If data is available and should be processed, append data to url
			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add or update anti-cache param if needed
			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce.guid++ ) +
					uncached;
			}

			// Put hash and anti-cache on the URL that will be requested (gh-1732)
			s.url = cacheURL + uncached;

		// Change '%20' to '+' if this is encoded form body content (gh-2658)
		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( completed ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Rethrow post-completion exceptions
				if ( completed ) {
					throw e;
				}

				// Propagate others as results
				done( -1, e );
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Ignore repeat invocations
			if ( completed ) {
				return;
			}

			completed = true;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Use a noop converter for missing script
			if ( !isSuccess && jQuery.inArray( "script", s.dataTypes ) > -1 ) {
				s.converters[ "text script" ] = function() {};
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( _i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );

jQuery.ajaxPrefilter( function( s ) {
	var i;
	for ( i in s.headers ) {
		if ( i.toLowerCase() === "content-type" ) {
			s.contentType = s.headers[ i ] || "";
		}
	}
} );


jQuery._evalUrl = function( url, options, doc ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,

		// Only evaluate the response if it is successful (gh-4126)
		// dataFilter is not invoked for failure responses, so using it instead
		// of the default converter is kludgy but it works.
		converters: {
			"text script": function() {}
		},
		dataFilter: function( response ) {
			jQuery.globalEval( response, options, doc );
		}
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE <=9 only
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE <=9 only
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see #8605, #14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE <=9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				// Support: IE 9 only
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain or forced-by-attrs requests
	if ( s.crossDomain || s.scriptAttrs ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" )
					.attr( s.scriptAttrs || {} )
					.prop( { charset: s.scriptCharset, src: s.url } )
					.on( "load error", callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					} );

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce.guid++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			if ( typeof props.top === "number" ) {
				props.top += "px";
			}
			if ( typeof props.left === "number" ) {
				props.left += "px";
			}
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( _i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
		function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( _i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	},

	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );

jQuery.each( ( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( _i, name ) {

		// Handle event binding
		jQuery.fn[ name ] = function( data, fn ) {
			return arguments.length > 0 ?
				this.on( name, null, data, fn ) :
				this.trigger( name );
		};
	} );




// Support: Android <=4.0 only
// Make sure we trim BOM and NBSP
var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

// Bind a function to a context, optionally partially applying any
// arguments.
// jQuery.proxy is deprecated to promote standards (specifically Function#bind)
// However, it is not slated for removal any time soon
jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	// Quick check to determine if target is callable, in the spec
	// this throws a TypeError, but we will just return undefined.
	if ( !isFunction( fn ) ) {
		return undefined;
	}

	// Simulated bind
	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	// Set the guid of unique handler to the same of original handler, so it can be removed
	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	// As of jQuery 3.0, isNumeric is limited to
	// strings and numbers (primitives or objects)
	// that can be coerced to finite numbers (gh-2662)
	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		// parseFloat NaNs numeric-cast false positives ("")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		!isNaN( obj - parseFloat( obj ) );
};

jQuery.trim = function( text ) {
	return text == null ?
		"" :
		( text + "" ).replace( rtrim, "" );
};



// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === "undefined" ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );


/***/ }),

/***/ "./node_modules/kotlin-playground/dist/playground.min.js":
/*!***************************************************************!*\
  !*** ./node_modules/kotlin-playground/dist/playground.min.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=162)}([function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!o&&/Chrome\//.test(t),f=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),m=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),g=/Android/.test(t),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=m||/Mac/.test(e),b=/\bCrOS\b/.test(t),x=/win/i.test(e),w=f&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(f=!1,l=!0);var C=y&&(c||f&&(null==w||w<12.11)),k=n||a&&s>=9;function _(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var S,E=function(t,e){var n=t.className,r=_(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function O(t,e){return T(t).appendChild(e)}function M(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function L(t,e,n,r){var i=M(t,e,n,r);return i.setAttribute("role","presentation"),i}function A(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function N(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function P(t,e){var n=t.className;_(e).test(n)||(t.className+=(n?" ":"")+e)}function F(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!_(n[r]).test(e)&&(e+=" "+n[r]);return e}S=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var I=function(t){t.select()};function j(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function D(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function z(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,a=i||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}}m?I=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(I=function(t){try{t.select()}catch(t){}});var R=function(){this.id=null};function B(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}R.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var H=30,W={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},V={origin:"*mouse"},G={origin:"+move"};function K(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=e)return r}}var $=[""];function q(t){for(;$.length<=t;)$.push(Y($)+" ");return $[t]}function Y(t){return t[t.length-1]}function J(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function X(){}function Z(t,e){var n;return Object.create?n=Object.create(t):(X.prototype=t,n=new X),e&&D(e,n),n}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Q.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var rt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function it(t){return t.charCodeAt(0)>=768&&rt.test(t)}function ot(t,e,n){for(;(n<0?e>0:e<t.length)&&it(t.charAt(e));)e+=n;return e}function at(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}var st=null;function lt(t,e,n){var r;st=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:st=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:st=i)}return null!=r?r:st}var ct=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,i=/[LRr]/,o=/[Lb1n]/,a=/[1n]/;function s(t,e,n){this.level=t,this.from=e,this.to=n}return function(l,c){var u,f="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!n.test(l))return!1;for(var d=l.length,h=[],p=0;p<d;++p)h.push((u=l.charCodeAt(p))<=247?t.charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?e.charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var m=0,g=f;m<d;++m){var v=h[m];"m"==v?h[m]=g:g=v}for(var y=0,b=f;y<d;++y){var x=h[y];"1"==x&&"r"==b?h[y]="n":i.test(x)&&(b=x,"r"==x&&(h[y]="R"))}for(var w=1,C=h[0];w<d-1;++w){var k=h[w];"+"==k&&"1"==C&&"1"==h[w+1]?h[w]="1":","!=k||C!=h[w+1]||"1"!=C&&"n"!=C||(h[w]=C),C=k}for(var _=0;_<d;++_){var S=h[_];if(","==S)h[_]="N";else if("%"==S){var E=void 0;for(E=_+1;E<d&&"%"==h[E];++E);for(var T=_&&"!"==h[_-1]||E<d&&"1"==h[E]?"1":"N",O=_;O<E;++O)h[O]=T;_=E-1}}for(var M=0,L=f;M<d;++M){var A=h[M];"L"==L&&"1"==A?h[M]="L":i.test(A)&&(L=A)}for(var N=0;N<d;++N)if(r.test(h[N])){var P=void 0;for(P=N+1;P<d&&r.test(h[P]);++P);for(var F="L"==(N?h[N-1]:f),I="L"==(P<d?h[P]:f),j=F==I?F?"L":"R":f,D=N;D<P;++D)h[D]=j;N=P-1}for(var z,R=[],B=0;B<d;)if(o.test(h[B])){var H=B;for(++B;B<d&&o.test(h[B]);++B);R.push(new s(0,H,B))}else{var W=B,U=R.length;for(++B;B<d&&"L"!=h[B];++B);for(var V=W;V<B;)if(a.test(h[V])){W<V&&R.splice(U,0,new s(1,W,V));var G=V;for(++V;V<B&&a.test(h[V]);++V);R.splice(U,0,new s(2,G,V)),W=V}else++V;W<B&&R.splice(U,0,new s(1,W,B))}return"ltr"==c&&(1==R[0].level&&(z=l.match(/^\s+/))&&(R[0].from=z[0].length,R.unshift(new s(0,0,z[0].length))),1==Y(R).level&&(z=l.match(/\s+$/))&&(Y(R).to-=z[0].length,R.push(new s(0,d-z[0].length,d)))),"rtl"==c?R.reverse():R}}();function ut(t,e){var n=t.order;return null==n&&(n=t.order=ct(t.text,e)),n}var ft=[],dt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||ft).concat(n)}};function ht(t,e){return t._handlers&&t._handlers[e]||ft}function pt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=B(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function mt(t,e){var n=ht(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function gt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),mt(t,n||e.type,t,e),Ct(e)||e.codemirrorIgnore}function vt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==B(n,e[r])&&n.push(e[r])}function yt(t,e){return ht(t,e).length>0}function bt(t){t.prototype.on=function(t,e){dt(this,t,e)},t.prototype.off=function(t,e){pt(this,t,e)}}function xt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function wt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Ct(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function kt(t){xt(t),wt(t)}function _t(t){return t.target||t.srcElement}function St(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var Et,Tt,Ot=function(){if(a&&s<9)return!1;var t=M("div");return"draggable"in t||"dragDrop"in t}();function Mt(t){if(null==Et){var e=M("span","");O(t,M("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Et=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&s<8))}var n=Et?M("span",""):M("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Lt(t){if(null!=Tt)return Tt;var e=O(t,document.createTextNode("AA")),n=S(e,0,1).getBoundingClientRect(),r=S(e,1,2).getBoundingClientRect();return T(t),!(!n||n.left==n.right)&&(Tt=r.right-n.right<3)}var At,Nt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Pt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Ft="oncopy"in(At=M("div"))||(At.setAttribute("oncopy","return;"),"function"==typeof At.oncopy),It=null,jt={},Dt={};function zt(t){if("string"==typeof t&&Dt.hasOwnProperty(t))t=Dt[t];else if(t&&"string"==typeof t.name&&Dt.hasOwnProperty(t.name)){var e=Dt[t.name];"string"==typeof e&&(e={name:e}),(t=Z(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return zt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return zt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Rt(t,e){e=zt(e);var n=jt[e.name];if(!n)return Rt(t,"text/plain");var r=n(t,e);if(Bt.hasOwnProperty(e.name)){var i=Bt[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)r[a]=e.modeProps[a];return r}var Bt={};function Ht(t,e){var n=Bt.hasOwnProperty(t)?Bt[t]:Bt[t]={};D(e,n)}function Wt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Ut(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Vt(t,e,n){return!t.startState||t.startState(e,n)}var Gt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Kt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function $t(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function qt(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function Yt(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function Jt(t){if(null==t.parent)return null;for(var e=t.parent,n=B(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function Xt(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a],l=s.height;if(e<l)break;e-=l}return n+a}function Zt(t,e){return e>=t.first&&e<t.first+t.size}function Qt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,n){if(void 0===n&&(n=null),!(this instanceof te))return new te(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ee(t,e){return t.line-e.line||t.ch-e.ch}function ne(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function re(t){return te(t.line,t.ch)}function ie(t,e){return ee(t,e)<0?e:t}function oe(t,e){return ee(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function se(t,e){if(e.line<t.first)return te(t.first,0);var n=t.first+t.size-1;return e.line>n?te(n,Kt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?te(t.line,e):n<0?te(t.line,0):t}(e,Kt(t,e.line).text.length)}function le(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=se(t,e[r]);return n}Gt.prototype.eol=function(){return this.pos>=this.string.length},Gt.prototype.sol=function(){return this.pos==this.lineStart},Gt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Gt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Gt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Gt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Gt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Gt.prototype.skipToEnd=function(){this.pos=this.string.length},Gt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Gt.prototype.backUp=function(t){this.pos-=t},Gt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Gt.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Gt.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);if(i(o)==i(t))return!1!==e&&(this.pos+=t.length),!0},Gt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Gt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Gt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Gt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ce=function(t,e){this.state=t,this.lookAhead=e},ue=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function fe(t,e,n,r){var i=[t.state.modeGen],o={};xe(t,e.text,t.doc.mode,n,function(t,e){return i.push(t,e)},o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=t.state.overlays[r],l=1,c=0;n.state=!0,xe(t,e.text,s.mode,n,function(t,e){for(var n=l;c<t;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,c=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function de(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=he(t,Jt(e)),i=e.text.length>t.options.maxHighlightLength&&Wt(t.doc.mode,r.state),o=fe(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function he(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new ue(r,!0,e);var o=function(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=Kt(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof ce?c.lookAhead:0)<=o.modeFrontier))return s;var u=z(l.text,null,t.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}(t,e,n),a=o>r.first&&Kt(r,o-1).stateAfter,s=a?ue.fromSaved(r,a,o):new ue(r,Vt(r.mode),o);return r.iter(o,e,function(n){pe(t,n.text,s);var r=s.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function pe(t,e,n,r){var i=t.doc.mode,o=new Gt(e,t.options.tabSize,n);for(o.start=o.pos=r||0,""==e&&me(i,n.state);!o.eol();)ge(i,o,n.state),o.start=o.pos}function me(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Ut(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ge(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Ut(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}ue.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ue.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ue.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ue.fromSaved=function(t,e,n){return e instanceof ce?new ue(t,Wt(t.mode,e.state),n,e.lookAhead):new ue(t,Wt(t.mode,e),n)},ue.prototype.save=function(t){var e=!1!==t?Wt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ce(e,this.maxLookAhead):e};var ve=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ye(t,e,n,r){var i,o=t.doc,a=o.mode;e=se(o,e);var s,l=Kt(o,e.line),c=he(t,e.line,n),u=new Gt(l.text,t.options.tabSize,c);for(r&&(s=[]);(r||u.pos<e.ch)&&!u.eol();)u.start=u.pos,i=ge(a,u,c.state),r&&s.push(new ve(u,i,Wt(o.mode,c.state)));return r?s:new ve(u,i,c.state)}function be(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function xe(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,c=0,u=null,f=new Gt(e,t.options.tabSize,r),d=t.options.addModeClass&&[null];for(""==e&&be(me(n,r.state),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(s=!1,a&&pe(t,e,r,f.pos),f.pos=e.length,l=null):l=be(ge(n,f,r.state,d),o),d){var h=d[0].name;h&&(l="m-"+(l?h+" "+l:h))}if(!s||u!=l){for(;c<f.start;)c=Math.min(f.start,c+5e3),i(c,u);u=l}f.start=f.pos}for(;c<f.pos;){var p=Math.min(f.pos,c+5e3);i(p,u),c=p}}var we=!1,Ce=!1;function ke(t,e,n){this.marker=t,this.from=e,this.to=n}function _e(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Se(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Ee(t,e){if(e.full)return null;var n=Zt(t,e.from.line)&&Kt(t,e.from.line).markedSpans,r=Zt(t,e.to.line)&&Kt(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==ee(e.from,e.to),s=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(s||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new ke(a,o.from,l?null:o.to))}}return r}(n,i,a),l=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(s||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new ke(a,l?null:o.from-e,null==o.to?null:o.to-e))}}return r}(r,o,a),c=1==e.text.length,u=Y(e.text).length+(c?i:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var h=_e(l,d.marker);h?c&&(d.to=null==h.to?null:h.to+u):d.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=u),null==m.from){var g=_e(s,m.marker);g||(m.from=u,c&&(s||(s=[])).push(m))}else m.from+=u,c&&(s||(s=[])).push(m)}s&&(s=Te(s)),l&&l!=s&&(l=Te(l));var v=[s];if(!c){var y,b=e.text.length-2;if(b>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new ke(s[x].marker,null,null));for(var w=0;w<b;++w)v.push(y);v.push(l)}return v}function Te(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Oe(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Me(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Le(t){return t.inclusiveLeft?-1:0}function Ae(t){return t.inclusiveRight?1:0}function Ne(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=ee(r.from,i.from)||Le(t)-Le(e);if(o)return-o;var a=ee(r.to,i.to)||Ae(t)-Ae(e);return a||e.id-t.id}function Pe(t,e){var n,r=Ce&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!n||Ne(n,i.marker)<0)&&(n=i.marker);return n}function Fe(t){return Pe(t,!0)}function Ie(t){return Pe(t,!1)}function je(t,e){var n,r=Ce&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Ne(n,o.marker)<0)&&(n=o.marker)}return n}function De(t,e,n,r,i){var o=Kt(t,e),a=Ce&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=ee(c.from,n)||Le(l.marker)-Le(i),f=ee(c.to,r)||Ae(l.marker)-Ae(i);if(!(u>=0&&f<=0||u<=0&&f>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.to,n)>=0:ee(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(c.from,r)<=0:ee(c.from,r)<0)))return!0}}}function ze(t){for(var e;e=Fe(t);)t=e.find(-1,!0).line;return t}function Re(t,e){var n=Kt(t,e),r=ze(n);return n==r?e:Jt(r)}function Be(t,e){if(e>t.lastLine())return e;var n,r=Kt(t,e);if(!He(t,r))return e;for(;n=Ie(r);)r=n.find(1,!0).line;return Jt(r)+1}function He(t,e){var n=Ce&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&We(t,e,r))return!0}}function We(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return We(t,r.line,_e(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&We(t,e,i))return!0}function Ue(t){t=ze(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;e+=s.height}return e}function Ve(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=Fe(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=Ie(r);){var o=e.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function Ge(t){var e=t.display,n=t.doc;e.maxLine=Kt(n,n.first),e.maxLineLength=Ve(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=Ve(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}var Ke=function(t,e,n){this.text=t,Me(this,e),this.height=n?n(this):1};function $e(t){t.parent=null,Oe(t)}Ke.prototype.lineNo=function(){return Jt(this)},bt(Ke);var qe={},Ye={};function Je(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ye:qe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Xe(t,e){var n=L("span",null,null,l?"padding-right: .1px":null),r={pre:L("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,a=void 0;r.pos=0,r.addToken=Qe,Lt(t.display.measure)&&(a=ut(o,t.doc.direction))&&(r.addToken=tn(r.addToken,a)),r.map=[];var s=e!=t.display.externalMeasured&&Jt(o);nn(o,r,de(t,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=F(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=F(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Mt(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var c=r.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return mt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=F(r.pre.className,r.textClass||"")),r}function Ze(t){var e=M("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Qe(t,e,n,r,i,o,l){if(e){var c,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=""),r+=o,n=" "==o}return r}(e,t.trailingSpace):e,f=t.cm.state.specialChars,d=!1;if(f.test(e)){c=document.createDocumentFragment();for(var h=0;;){f.lastIndex=h;var p=f.exec(e),m=p?p.index-h:e.length-h;if(m){var g=document.createTextNode(u.slice(h,h+m));a&&s<9?c.appendChild(M("span",[g])):c.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!p)break;h+=m+1;var v=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=c.appendChild(M("span",q(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild(M("span","\r"==p[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?c.appendChild(M("span",[v])):c.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),a&&s<9&&(d=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||r||i||d||o){var x=n||"";r&&(x+=r),i&&(x+=i);var w=M("span",[c],x,o);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,l[C]);return t.content.appendChild(w)}t.content.appendChild(c)}}function tn(t,e){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var f=void 0,d=0;d<e.length&&!((f=e[d]).to>c&&f.from<=c);d++);if(f.to>=u)return t(n,r,i,o,a,s,l);t(n,r.slice(0,f.to-c),i,o,null,s,l),o=null,r=r.slice(f.to-c),c=f.to}}}function en(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function nn(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,l,c,u,f,d,h=i.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=u=s="",d=null,f=null,v=1/0;for(var y=[],b=void 0,x=0;x<r.length;++x){var w=r[x],C=w.marker;if("bookmark"==C.type&&w.from==p&&C.widgetNode)y.push(C);else if(w.from<=p&&(null==w.to||w.to>p||C.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&w.from==p&&(u+=" "+C.startStyle),C.endStyle&&w.to==v&&(b||(b=[])).push(C.endStyle,w.to),C.title&&((d||(d={})).title=C.title),C.attributes)for(var k in C.attributes)(d||(d={}))[k]=C.attributes[k];C.collapsed&&(!f||Ne(f.marker,C)<0)&&(f=w)}else w.from>p&&v>w.from&&(v=w.from)}if(b)for(var _=0;_<b.length;_+=2)b[_+1]==v&&(c+=" "+b[_]);if(!f||f.from==p)for(var S=0;S<y.length;++S)en(e,0,y[S]);if(f&&(f.from||0)==p){if(en(e,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=h)break;for(var E=Math.min(h,v);;){if(g){var T=p+g.length;if(!f){var O=T>E?g.slice(0,E-p):g;e.addToken(e,O,a?a+l:l,u,p+O.length==v?c:"",s,d)}if(T>=E){g=g.slice(E-p),p=E;break}p=T,u=""}g=i.slice(o,o=n[m++]),a=Je(n[m++],e.cm.options)}}else for(var M=1;M<n.length;M+=2)e.addToken(e,i.slice(o,o=n[M]),Je(n[M+1],e.cm.options))}function rn(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Ie(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Jt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=He(t,e)}function on(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new rn(t.doc,Kt(t.doc,o),o);r=o+a.size,i.push(a)}return i}var an=null,sn=null;function ln(t,e){var n=ht(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);an?r=an.delayedCallbacks:sn?r=sn:(r=sn=[],setTimeout(cn,0));for(var o=function(t){r.push(function(){return n[t].apply(null,i)})},a=0;a<n.length;++a)o(a)}}function cn(){var t=sn;sn=null;for(var e=0;e<t.length;++e)t[e]()}function un(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?hn(t,e):"gutter"==o?mn(t,e,n,r):"class"==o?pn(t,e):"widget"==o&&gn(t,e,r)}e.changes=null}function fn(t){return t.node==t.text&&(t.node=M("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&s<8&&(t.node.style.zIndex=2)),t.node}function dn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Xe(t,e)}function hn(t,e){var n=e.text.className,r=dn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,pn(t,e)):n&&(e.text.className=n)}function pn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=fn(e);e.background=r.insertBefore(M("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?fn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function mn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=fn(e);e.gutterBackground=M("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var a=fn(e),s=e.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(M("div",Qt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(M("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function gn(t,e,n){e.alignable&&(e.alignable=null);for(var r=e.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&e.node.removeChild(r);yn(t,e,n)}function vn(t,e,n,r){var i=dn(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),pn(t,e),mn(t,e,n,r),yn(t,e,r),e.node}function yn(t,e,n){if(bn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)bn(t,e.rest[r],e,n,!1)}function bn(t,e,n,r,i){if(e.widgets)for(var o=fn(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],c=M("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),xn(l,c,n,r),t.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),ln(l,"redraw")}}function xn(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function wn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!A(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),O(e.display.measure,M("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Cn(t,e){for(var n=_t(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function kn(t){return t.lineSpace.offsetTop}function _n(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Sn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=O(t.measure,M("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function En(t){return H-t.display.nativeBarWidth}function Tn(t){return t.display.scroller.clientWidth-En(t)-t.display.barWidth}function On(t){return t.display.scroller.clientHeight-En(t)-t.display.barHeight}function Mn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(Jt(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Ln(t,e,n,r){return Pn(t,Nn(t,e),n,r)}function An(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[lr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Nn(t,e){var n=Jt(e),r=An(t,n);r&&!r.text?r=null:r&&r.changes&&(un(t,r,n,rr(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=Jt(e=ze(e)),r=t.display.externalMeasured=new rn(t.doc,e,n);r.lineN=n;var i=r.built=Xe(t,r);return r.text=i.pre,O(t.display.lineMeasure,i.pre),r}(t,e));var i=Mn(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Pn(t,e,n,r,i){e.before&&(n=-1);var o,l=n+(r||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,i=r&&Tn(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,r){var i,o=jn(e.map,n,r),l=o.node,c=o.start,u=o.end,f=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&it(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&it(e.line.text.charAt(o.coverStart+u));)++u;if((i=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Dn(S(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,f="right"}a&&s<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=It)return It;var e=O(t,M("span","x")),n=e.getBoundingClientRect(),r=S(e,0,1).getBoundingClientRect();return It=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,i))}else{var h;c>0&&(f=r="right"),i=t.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==r?h.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+nr(t.display),top:p.top,bottom:p.bottom}:In}for(var m=i.top-e.rect.top,g=i.bottom-e.rect.top,v=(m+g)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var x=b?y[b-1]:0,w=y[b],C={left:("right"==f?i.right:i.left)-e.rect.left,right:("left"==f?i.left:i.right)-e.rect.left,top:x,bottom:w};return i.left||i.right||(C.bogus=!0),t.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g),C}(t,e,n,r)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Fn,In={left:0,right:0,top:0,bottom:0};function jn(t,e,n){for(var r,i,o,a,s,l,c=0;c<t.length;c+=3)if(s=t[c],l=t[c+1],e<s?(i=0,o=1,a="left"):e<l?o=1+(i=e-s):(c==t.length-3||e==l&&t[c+3]>e)&&(i=(o=l-s)-1,e>=l&&(a="right")),null!=i){if(r=t[c+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)r=t[2+(c-=3)],a="left";if("right"==n&&i==l-s)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)r=t[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Dn(t,e){var n=In;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function zn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Rn(t){t.display.externalMeasure=null,T(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)zn(t.display.view[e])}function Bn(t){Rn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Hn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Un(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=wn(t.widgets[n]));return e}function Vn(t,e,n,r,i){if(!i){var o=Un(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ue(e);if("local"==r?a+=kn(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:Wn());var l=s.left+("window"==r?0:Hn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Gn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=Hn(),i-=Wn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Kn(t,e,n,r,i){return r||(r=Kt(t.doc,e.line)),Vn(t,r,Ln(t,r,e.ch,i),n)}function $n(t,e,n,r,i,o){function a(e,a){var s=Pn(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Vn(t,r,s,n)}r=r||Kt(t.doc,e.line),i||(i=Nn(t,r));var s=ut(r,t.doc.direction),l=e.ch,c=e.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(t,e,n){var r=s[e],i=1==r.level;return a(n?t-1:t,i!=n)}var f=lt(s,l,c),d=st,h=u(l,f,"before"==c);return null!=d&&(h.other=u(l,d,"before"!=c)),h}function qn(t,e){var n=0;e=se(t.doc,e),t.options.lineWrapping||(n=nr(t.display)*e.ch);var r=Kt(t.doc,e.line),i=Ue(r)+kn(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Yn(t,e,n,r,i){var o=te(t,e,n);return o.xRel=i,r&&(o.outside=r),o}function Jn(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return Yn(r.first,0,null,-1,-1);var i=Xt(r,n),o=r.first+r.size-1;if(i>o)return Yn(r.first+r.size-1,Kt(r,o).text.length,null,1,1);e<0&&(e=0);for(var a=Kt(r,i);;){var s=tr(t,a,i,e,n),l=je(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==i)return c;a=Kt(r,i=c.line)}}function Xn(t,e,n,r){r-=Un(e);var i=e.text.length,o=at(function(e){return Pn(t,n,e-1).bottom<=r},i,0);return i=at(function(e){return Pn(t,n,e).top>r},o,i),{begin:o,end:i}}function Zn(t,e,n,r){n||(n=Nn(t,e));var i=Vn(t,e,Pn(t,n,r),"line").top;return Xn(t,e,n,i)}function Qn(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function tr(t,e,n,r,i){i-=Ue(e);var o=Nn(t,e),a=Un(e),s=0,l=e.text.length,c=!0,u=ut(e,t.doc.direction);if(u){var f=(t.options.lineWrapping?function(t,e,n,r,i,o,a){var s=Xn(t,e,r,a),l=s.begin,c=s.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,f=null,d=0;d<i.length;d++){var h=i[d];if(!(h.from>=c||h.to<=l)){var p=1!=h.level,m=Pn(t,r,p?Math.min(c,h.to)-1:Math.max(l,h.from)).right,g=m<o?o-m+1e9:m-o;(!u||f>g)&&(u=h,f=g)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}:function(t,e,n,r,i,o,a){var s=at(function(s){var l=i[s],c=1!=l.level;return Qn($n(t,te(n,c?l.to:l.from,c?"before":"after"),"line",e,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var c=1!=l.level,u=$n(t,te(n,c?l.from:l.to,c?"after":"before"),"line",e,r);Qn(u,o,a,!0)&&u.top>a&&(l=i[s-1])}return l})(t,e,n,o,u,r,i);c=1!=f.level,s=c?f.from:f.to-1,l=c?f.to:f.from-1}var d,h,p=null,m=null,g=at(function(e){var n=Pn(t,o,e);return n.top+=a,n.bottom+=a,!!Qn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=e,m=n),!0)},s,l),v=!1;if(m){var y=r-m.left<m.right-r,b=y==c;g=p+(b?0:1),h=b?"after":"before",d=y?m.left:m.right}else{c||g!=l&&g!=s||g++,h=0==g?"after":g==e.text.length?"before":Pn(t,o,g-(c?1:0)).bottom+a<=i==c?"after":"before";var x=$n(t,te(n,g,h),"line",e,o);d=x.left,v=i<x.top?-1:i>=x.bottom?1:0}return g=ot(e.text,g,1),Yn(n,g,h,v,r-d)}function er(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Fn){Fn=M("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Fn.appendChild(document.createTextNode("x")),Fn.appendChild(M("br"));Fn.appendChild(document.createTextNode("x"))}O(t.measure,Fn);var n=Fn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),T(t.measure),n||1}function nr(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=M("span","xxxxxxxxxx"),n=M("pre",[e],"CodeMirror-line-like");O(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function rr(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=t.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:ir(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function ir(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function or(t){var e=er(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/nr(t.display)-3);return function(i){if(He(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function ar(t){var e=t.doc,n=or(t);e.iter(function(t){var e=n(t);e!=t.height&&Yt(t,e)})}function sr(t,e,n,r){var i=t.display;if(!n&&"true"==_t(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,c=Jn(t,o,a);if(r&&1==c.xRel&&(l=Kt(t.doc,c.line).text).length==c.ch){var u=z(l,l.length,t.options.tabSize)-l.length;c=te(c.line,Math.max(0,Math.round((o-Sn(t.display).left)/nr(t.display))-u))}return c}function lr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function cr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Ce&&Re(t.doc,e)<i.viewTo&&fr(t);else if(n<=i.viewFrom)Ce&&Be(t.doc,n+r)>i.viewFrom?fr(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)fr(t);else if(e<=i.viewFrom){var o=dr(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):fr(t)}else if(n>=i.viewTo){var a=dr(t,e,e,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):fr(t)}else{var s=dr(t,e,e,-1),l=dr(t,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(on(t,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):fr(t)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:e<c.lineN+c.size&&(i.externalMeasured=null))}function ur(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[lr(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,n)&&a.push(n)}}}function fr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function dr(t,e,n,r){var i,o=lr(t,e),a=t.display.view;if(!Ce||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=t.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=e){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-e,o++}else i=s-e;e+=i,n+=i}for(;Re(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function hr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function pr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function mr(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&gr(t,s.head,i),l||yr(t,s,o)}}return r}function gr(t,e,n){var r=$n(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(M("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(M("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function vr(t,e){return t.top-e.top||t.left-e.left}function yr(t,e,n){var r=t.display,i=t.doc,o=document.createDocumentFragment(),a=Sn(t.display),s=a.left,l=Math.max(r.sizerWidth,Tn(t)-r.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function u(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(r-e)+"px"))}function f(e,n,r){var o,a,f=Kt(i,e),d=f.text.length;function h(n,r){return Kn(t,te(e,n),"div",f,r)}function p(e,n,r){var i=Zn(t,f,null,e),o="ltr"==n==("after"==r)?"left":"right",a="after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1);return h(a,o)[o]}var m=ut(f,i.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}(m,n||0,null==r?d:r,function(t,e,i,f){var g="ltr"==i,v=h(t,g?"left":"right"),y=h(e-1,g?"right":"left"),b=null==n&&0==t,x=null==r&&e==d,w=0==f,C=!m||f==m.length-1;if(y.top-v.top<=3){var k=(c?b:x)&&w,_=(c?x:b)&&C,S=k?s:(g?v:y).left,E=_?l:(g?y:v).right;u(S,v.top,E-S,v.bottom)}else{var T,O,M,L;g?(T=c&&b&&w?s:v.left,O=c?l:p(t,i,"before"),M=c?s:p(e,i,"after"),L=c&&x&&C?l:y.right):(T=c?p(t,i,"before"):s,O=!c&&b&&w?l:v.right,M=!c&&x&&C?s:y.left,L=c?p(e,i,"after"):l),u(T,v.top,O-T,v.bottom),v.bottom<y.top&&u(s,v.bottom,null,y.top),u(M,y.top,L-M,y.bottom)}(!o||vr(v,o)<0)&&(o=v),vr(y,o)<0&&(o=y),(!a||vr(v,a)<0)&&(a=v),vr(y,a)<0&&(a=y)}),{start:o,end:a}}var d=e.from(),h=e.to();if(d.line==h.line)f(d.line,d.ch,h.ch);else{var p=Kt(i,d.line),m=Kt(i,h.line),g=ze(p)==ze(m),v=f(d.line,d.ch,g?p.text.length+1:null).end,y=f(h.line,g?0:null,h.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(s,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(s,v.bottom,null,y.top)}n.appendChild(o)}function br(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function xr(t){t.state.focused||(t.display.input.focus(),Cr(t))}function wr(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,kr(t))},100)}function Cr(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(mt(t,"focus",t,e),t.state.focused=!0,P(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),br(t))}function kr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(mt(t,"blur",t,e),t.state.focused=!1,E(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function _r(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i=e.view[r],o=t.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(a&&s<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-n,n=u}else{var f=i.node.getBoundingClientRect();l=f.bottom-f.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var d=i.line.height-l;if((d>.005||d<-.005)&&(Yt(i.line,l),Sr(i.line),i.rest))for(var h=0;h<i.rest.length;h++)Sr(i.rest[h]);if(c>t.display.sizerWidth){var p=Math.ceil(c/nr(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function Sr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Er(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-kn(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=Xt(e,r),a=Xt(e,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=Xt(e,Ue(Kt(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=Xt(e,Ue(Kt(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Tr(t,e){var n=t.display,r=er(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=On(t),a={};e.bottom-e.top>o&&(e.bottom=e.top+o);var s=t.doc.height+_n(n),l=e.top<r,c=e.bottom>s-r;if(e.top<i)a.scrollTop=l?0:e.top;else if(e.bottom>i+o){var u=Math.min(e.top,(c?s:e.bottom)-o);u!=i&&(a.scrollTop=u)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,d=Tn(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),h=e.right-e.left>d;return h&&(e.right=e.left+d),e.left<10?a.scrollLeft=0:e.left<f?a.scrollLeft=Math.max(0,e.left-(h?0:10)):e.right>d+f-3&&(a.scrollLeft=e.right+(h?0:10)-d),a}function Or(t,e){null!=e&&(Ar(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Mr(t){Ar(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Lr(t,e,n){null==e&&null==n||Ar(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Ar(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=qn(t,e.from),r=qn(t,e.to);Nr(t,n,r,e.margin)}}function Nr(t,e,n,r){var i=Tr(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Lr(t,i.scrollLeft,i.scrollTop)}function Pr(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||oi(t,{top:e}),Fr(t,e,!0),n&&oi(t),ti(t,100))}function Fr(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Ir(t,e,n,r){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,li(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function jr(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+_n(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+En(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Dr=function(t,e,n){this.cm=n;var r=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),dt(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),dt(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Dr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},Dr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Dr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Dr.prototype.zeroWidthHack=function(){var t=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},Dr.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,function r(){var i=t.getBoundingClientRect(),o="vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=t?t.style.pointerEvents="none":e.set(1e3,r)})},Dr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var zr=function(){};function Rr(t,e){e||(e=jr(t));var n=t.display.barWidth,r=t.display.barHeight;Br(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&_r(t),Br(t,jr(t)),n=t.display.barWidth,r=t.display.barHeight}function Br(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}zr.prototype.update=function(){return{bottom:0,right:0}},zr.prototype.setScrollLeft=function(){},zr.prototype.setScrollTop=function(){},zr.prototype.clear=function(){};var Hr={native:Dr,null:zr};function Wr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&E(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Hr[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),dt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?Ir(t,e):Pr(t,e)},t),t.display.scrollbars.addClass&&P(t.display.wrapper,t.display.scrollbars.addClass)}var Ur=0;function Vr(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ur},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function Gr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}(n)}finally{an=null,e(n)}}(e,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Kr(e[n]);for(var r=0;r<e.length;r++)(i=e[r]).updatedDisplay=i.mustUpdate&&ri(i.cm,i.update);for(var i,o=0;o<e.length;o++)$r(e[o]);for(var a=0;a<e.length;a++)qr(e[a]);for(var s=0;s<e.length;s++)Yr(e[s])}(t)})}function Kr(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=En(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=En(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Ge(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ni(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function $r(t){var e=t.cm,n=e.display;t.updatedDisplay&&_r(e),t.barMeasure=jr(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Ln(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+En(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Tn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function qr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Ir(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==N();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Rr(e,t.barMeasure),t.updatedDisplay&&si(e,t.barMeasure),t.selectionChanged&&br(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&xr(t.cm)}function Yr(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&ii(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Fr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Ir(e,t.scrollLeft,!0,!0),t.scrollToPos){var i=function(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,n="before"==e.sticky?te(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var a=!1,s=$n(t,e),l=n&&n!=e?$n(t,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var c=Tr(t,i),u=t.doc.scrollTop,f=t.doc.scrollLeft;if(null!=c.scrollTop&&(Pr(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(Ir(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}(e,se(r,t.scrollToPos.from),se(r,t.scrollToPos.to),t.scrollToPos.margin);!function(t,e){if(!gt(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=M("div","",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-kn(t.display))+"px;\n                         height: "+(e.bottom-e.top+En(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||mt(o[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&mt(a[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Jr(t,e){if(t.curOp)return e();Vr(t);try{return e()}finally{Gr(t)}}function Xr(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Vr(t);try{return e.apply(t,arguments)}finally{Gr(t)}}}function Zr(t){return function(){if(this.curOp)return t.apply(this,arguments);Vr(this);try{return t.apply(this,arguments)}finally{Gr(this)}}}function Qr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Vr(e);try{return t.apply(this,arguments)}finally{Gr(e)}}}function ti(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,j(ei,t))}function ei(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=he(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(r.line>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength?Wt(e.mode,r.state):null,l=fe(t,o,r,!0);s&&(r.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=o.styles[d];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&pe(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ti(t,t.options.workDelay),!0}),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&Jr(t,function(){for(var e=0;e<i.length;e++)ur(t,i[e],"text")})}}var ni=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Er(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Tn(t),this.force=n,this.dims=rr(t),this.events=[]};function ri(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return fr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==hr(t))return!1;ci(t)&&(fr(t),e.dims=rr(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Ce&&(o=Re(t.doc,o),a=Be(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=on(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=on(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(lr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(on(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,lr(t,n)))),r.viewTo=n}(t,o,a),n.viewOffset=Ue(Kt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=hr(t);if(!s&&0==c&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(t){if(t.hasFocus())return null;var e=N();if(!e||!A(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&A(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return c>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(e){var n=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var c=r.view,u=r.viewFrom,f=0;f<c.length;f++){var d=c[f];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var h=i&&null!=e&&e<=u&&d.lineNumber;d.changes&&(B(d.changes,"gutter")>-1&&(h=!1),un(t,d,u,n)),h&&(T(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(Qt(t.options,u)))),a=d.node.nextSibling}else{var p=vn(t,d,u,n);o.insertBefore(p,a)}u+=d.size}for(;a;)a=s(a)}(t,n.updateLineNumbers,e.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=N()&&(t.activeElt.focus(),t.anchorNode&&A(document.body,t.anchorNode)&&A(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(u),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ti(t,400)),n.updateLineNumbers=null,!0}function ii(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Tn(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+_n(t.display)-On(t),n.top)}),e.visible=Er(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&ri(t,e);r=!1){_r(t);var i=jr(t);pr(t),Rr(t,i),si(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function oi(t,e){var n=new ni(t,e);if(ri(t,n)){_r(t),ii(t,n);var r=jr(t);pr(t),Rr(t,r),si(t,r),n.finish()}}function ai(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function si(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+En(t)+"px"}function li(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=ir(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function ci(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=Qt(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ai(t.display),!0}return!1}function ui(t,e){for(var n=[],r=!1,i=0;i<t.length;i++){var o=t[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;r=!0}n.push({className:o,style:a})}return e&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function fi(t){var e=t.gutters,n=t.gutterSpecs;T(e),t.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=e.appendChild(M("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(t.lineGutter=s,s.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",ai(t)}function di(t){fi(t.display),cr(t),li(t)}function hi(t,e,r,i){var o=this;this.input=r,o.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=L("div",null,"CodeMirror-code"),o.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=M("div",null,"CodeMirror-cursors"),o.measure=M("div",null,"CodeMirror-measure"),o.lineMeasure=M("div",null,"CodeMirror-measure"),o.lineSpace=L("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=L("div",[o.lineSpace],"CodeMirror-lines");o.mover=M("div",[c],null,"position: relative"),o.sizer=M("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=M("div",null,null,"position: absolute; height: "+H+"px; width: 1px;"),o.gutters=M("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=M("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=M("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=ui(i.gutters,i.lineNumbers),fi(o),r.init(o)}ni.prototype.signal=function(t,e){yt(t,e)&&this.events.push(arguments)},ni.prototype.finish=function(){for(var t=0;t<this.events.length;t++)mt.apply(null,this.events[t])};var pi=0,mi=null;function gi(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function vi(t){var e=gi(t);return e.x*=mi,e.y*=mi,e}function yi(t,e){var r=gi(e),i=r.x,o=r.y,a=t.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(i&&c||o&&u){if(o&&y&&l)t:for(var d=e.target,h=a.view;d!=s;d=d.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==d){t.display.currentWheelTarget=d;break t}if(i&&!n&&!f&&null!=mi)return o&&u&&Pr(t,Math.max(0,s.scrollTop+o*mi)),Ir(t,Math.max(0,s.scrollLeft+i*mi)),(!o||o&&u)&&xt(e),void(a.wheelStartX=null);if(o&&null!=mi){var m=o*mi,g=t.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(t.doc.height,v+m+50),oi(t,{top:g,bottom:v})}pi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,e=s.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(mi=(mi*pi+n)/(pi+1),++pi)}},200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?mi=-.53:n?mi=15:u?mi=-.7:d&&(mi=-1/3);var bi=function(t,e){this.ranges=t,this.primIndex=e};bi.prototype.primary=function(){return this.ranges[this.primIndex]},bi.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!ne(n.anchor,r.anchor)||!ne(n.head,r.head))return!1}return!0},bi.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new xi(re(this.ranges[e].anchor),re(this.ranges[e].head));return new bi(t,this.primIndex)},bi.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},bi.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ee(e,r.from())>=0&&ee(t,r.to())<=0)return n}return-1};var xi=function(t,e){this.anchor=t,this.head=e};function wi(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort(function(t,e){return ee(t.from(),e.from())}),n=B(e,i);for(var o=1;o<e.length;o++){var a=e[o],s=e[o-1],l=ee(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var c=oe(s.from(),a.from()),u=ie(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,e.splice(--o,2,new xi(f?u:c,f?c:u))}}return new bi(e,n)}function Ci(t,e){return new bi([new xi(t,e||t)],0)}function ki(t){return t.text?te(t.from.line+t.text.length-1,Y(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function _i(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return ki(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=ki(e).ch-e.to.ch),te(n,r)}function Si(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new xi(_i(i.anchor,e),_i(i.head,e)))}return wi(t.cm,n,t.sel.primIndex)}function Ei(t,e,n){return t.line==e.line?te(n.line,t.ch-e.ch+n.ch):te(n.line+(t.line-e.line),t.ch)}function Ti(t){t.doc.mode=Rt(t.options,t.doc.modeOption),Oi(t)}function Oi(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ti(t,100),t.state.modeGen++,t.curOp&&cr(t)}function Mi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Y(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Li(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){!function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Oe(t),Me(t,n);var i=r?r(t):1;i!=t.height&&Yt(t,i)}(t,n,i,r),ln(t,"change",t,e)}function a(t,e){for(var n=[],o=t;o<e;++o)n.push(new Ke(c[o],i(o),r));return n}var s=e.from,l=e.to,c=e.text,u=Kt(t,s.line),f=Kt(t,l.line),d=Y(c),h=i(c.length-1),p=l.line-s.line;if(e.full)t.insert(0,a(0,c.length)),t.remove(c.length,t.size-c.length);else if(Mi(t,e)){var m=a(0,c.length-1);o(f,f.text,h),p&&t.remove(s.line,p),m.length&&t.insert(s.line,m)}else if(u==f)if(1==c.length)o(u,u.text.slice(0,s.ch)+d+u.text.slice(l.ch),h);else{var g=a(1,c.length-1);g.push(new Ke(d+u.text.slice(l.ch),h,r)),o(u,u.text.slice(0,s.ch)+c[0],i(0)),t.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+f.text.slice(l.ch),i(0)),t.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+c[0],i(0)),o(f,d+f.text.slice(l.ch),h);var v=a(1,c.length-1);p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,v)}ln(t,"change",t,e)}function Ai(t,e,n){!function t(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(e(s.doc,l),t(s.doc,r,l))}}}(t,null,!0)}function Ni(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ar(t),Ti(t),Pi(t),t.options.lineWrapping||Ge(t),t.options.mode=e.modeOption,cr(t)}function Pi(t){("rtl"==t.doc.direction?P:E)(t.display.lineDiv,"CodeMirror-rtl")}function Fi(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Ii(t,e){var n={from:re(e.from),to:ki(e),text:$t(t,e.from,e.to)};return Bi(t,n,e.from.line,e.to.line+1),Ai(t,function(t){return Bi(t,n,e.from.line,e.to.line+1)},!0),n}function ji(t){for(;t.length;){var e=Y(t);if(!e.ranges)break;t.pop()}}function Di(t,e,n,r){var i=t.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(ji(t.done),Y(t.done)):t.done.length&&!Y(t.done).ranges?Y(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Y(t.done)):void 0}(i,i.lastOp==r)))a=Y(o.changes),0==ee(e.from,e.to)&&0==ee(e.from,a.to)?a.to=ki(e):o.changes.push(Ii(t,e));else{var l=Y(i.done);for(l&&l.ranges||Ri(t.sel,i.done),o={changes:[Ii(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,a||mt(t,"historyAdded")}function zi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,Y(i.done),e))?i.done[i.done.length-1]=e:Ri(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ji(i.undone)}function Ri(t,e){var n=Y(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Bi(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function Hi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Wi(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(Hi(n[i]));return r}(t,e),r=Ee(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else a&&(n[i]=a)}return n}function Ui(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?bi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&B(e,Number(u[1]))>-1&&(Y(s)[f]=c[f],delete c[f])}}}return r}function Vi(t,e,n,r){if(r){var i=t.anchor;if(n){var o=ee(e,i)<0;o!=ee(n,i)<0?(i=e,e=n):o!=ee(e,n)<0&&(e=n)}return new xi(i,e)}return new xi(n||e,e)}function Gi(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Ji(t,new bi([Vi(t.sel.primary(),e,n,i)],0),r)}function Ki(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=Vi(t.sel.ranges[o],e[o],null,i);var a=wi(t.cm,r,t.sel.primIndex);Ji(t,a,n)}function $i(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,Ji(t,wi(t.cm,i,t.sel.primIndex),r)}function qi(t,e,n,r){Ji(t,Ci(e,n),r)}function Yi(t,e,n){var r=t.history.done,i=Y(r);i&&i.ranges?(r[r.length-1]=e,Xi(t,e,n)):Ji(t,e,n)}function Ji(t,e,n){Xi(t,e,n),zi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Xi(t,e,n){(yt(t,"beforeSelectionChange")||t.cm&&yt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new xi(se(t,e[n].anchor),se(t,e[n].head))},origin:n&&n.origin};return mt(t,"beforeSelectionChange",t,r),t.cm&&mt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?wi(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);Zi(t,to(t,e,r,!0)),n&&!1===n.scroll||!t.cm||Mr(t.cm)}function Zi(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,vt(t.cm)),ln(t,"cursorActivity",t))}function Qi(t){Zi(t,to(t,t.sel,null,!1))}function to(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=no(t,a.anchor,s&&s.anchor,n,r),c=no(t,a.head,s&&s.head,n,r);(i||l!=a.anchor||c!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new xi(l,c))}return i?wi(t.cm,i,e.primIndex):e}function eo(t,e,n,r,i){var o=Kt(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(u?s.to>=e.ch:s.to>e.ch))){if(i&&(mt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),d=void 0;if((r<0?u:c)&&(f=ro(t,f,-r,f&&f.line==e.line?o:null)),f&&f.line==e.line&&(d=ee(f,n))&&(r<0?d<0:d>0))return eo(t,f,e,r,i)}var h=l.find(r<0?-1:1);return(r<0?c:u)&&(h=ro(t,h,r,h.line==e.line?o:null)),h?eo(t,h,e,r,i):null}}return e}function no(t,e,n,r,i){var o=r||1,a=eo(t,e,n,o,i)||!i&&eo(t,e,n,o,!0)||eo(t,e,n,-o,i)||!i&&eo(t,e,n,-o,!0);return a||(t.cantEdit=!0,te(t.first,0))}function ro(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?se(t,te(e.line-1)):null:n>0&&e.ch==(r||Kt(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+n)}function io(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),U)}function oo(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=se(t,e)),n&&(r.to=se(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),mt(t,"beforeChange",t,r),t.cm&&mt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ao(t,e,n){if(t.cm){if(!t.cm.curOp)return Xr(t.cm,ao)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"))||(e=oo(t,e,!0))){var r=we&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=B(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ee(c.to,s.from)<0||ee(c.from,s.to)>0)){var u=[l,1],f=ee(c.from,s.from),d=ee(c.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&u.push({from:c.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)so(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else so(t,e)}}function so(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var n=Si(t,e);Di(t,e,n,t.cm?t.cm.curOp.id:NaN),uo(t,e,n,Ee(t,e));var r=[];Ai(t,function(t,n){n||-1!=B(r,t.history)||(mo(t.history,e),r.push(t.history)),uo(t,e,null,Ee(t,e))})}}function lo(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,a=t.sel,s="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<s.length&&(i=s[c],n?!i.ranges||i.equals(t.sel):i.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(Ri(i,l),n&&!i.equals(t.sel))return void Ji(t,i,{clearRedo:!1});a=i}var u=[];Ri(a,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"),d=function(n){var r=i.changes[n];if(r.origin=e,f&&!oo(t,r,!1))return s.length=0,{};u.push(Ii(t,r));var o=n?Si(t,r):Y(s);uo(t,r,o,Wi(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:ki(r)});var a=[];Ai(t,function(t,e){e||-1!=B(a,t.history)||(mo(t.history,r),a.push(t.history)),uo(t,r,null,Wi(t,r))})},h=i.changes.length-1;h>=0;--h){var p=d(h);if(p)return p.v}}}}function co(t,e){if(0!=e&&(t.first+=e,t.sel=new bi(J(t.sel.ranges,function(t){return new xi(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){cr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)ur(t.cm,r,"gutter")}}function uo(t,e,n,r){if(t.cm&&!t.cm.curOp)return Xr(t.cm,uo)(t,e,n,r);if(e.to.line<t.first)co(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);co(t,i),e={from:te(t.first,0),to:te(e.to.line+i,e.to.ch),text:[Y(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:te(o,Kt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=$t(t,e.from,e.to),n||(n=Si(t,e)),t.cm?function(t,e,n){var r=t.doc,i=t.display,o=e.from,a=e.to,s=!1,l=o.line;t.options.lineWrapping||(l=Jt(ze(Kt(r,o.line))),r.iter(l,a.line+1,function(t){if(t==i.maxLine)return s=!0,!0})),r.sel.contains(e.from,e.to)>-1&&vt(t),Li(r,e,n,or(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,function(t){var e=Ve(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=Kt(t,r).stateAfter;if(i&&(!(i instanceof ce)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,o.line),ti(t,400);var c=e.text.length-(a.line-o.line)-1;e.full?cr(t):o.line!=a.line||1!=e.text.length||Mi(t.doc,e)?cr(t,o.line,a.line+1,c):ur(t,o.line,"text");var u=yt(t,"changes"),f=yt(t,"change");if(f||u){var d={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};f&&ln(t,"change",t,d),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}(t.cm,e,r):Li(t,e,r),Xi(t,n,U),t.cantEdit&&no(t,te(t.firstLine(),0))&&(t.cantEdit=!1)}}function fo(t,e,n,r,i){var o;r||(r=n),ee(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),ao(t,{from:n,to:r,text:e,origin:i})}function ho(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function po(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)ho(o.ranges[s].anchor,e,n,r),ho(o.ranges[s].head,e,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=te(c.from.line+r,c.from.ch),c.to=te(c.to.line+r,c.to.ch);else if(e<=c.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function mo(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;po(t.done,n,r,i),po(t.undone,n,r,i)}function go(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Kt(t,ae(t,e)):i=Jt(e),null==i?null:(r(o,i)&&t.cm&&ur(t.cm,i,n),o)}function vo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function yo(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}xi.prototype.from=function(){return oe(this.anchor,this.head)},xi.prototype.to=function(){return ie(this.anchor,this.head)},xi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,$e(i),ln(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},yo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof vo))){var s=[];this.collapse(s),this.children=[new vo(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new vo(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new yo(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=B(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new yo(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var bo=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function xo(t,e,n){Ue(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Or(t,n)}bo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=Jt(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=wn(this);Yt(n,Math.max(0,n.height-o)),t&&(Jr(t,function(){xo(t,n,-o),ur(t,r,"widget")}),ln(t,"lineWidgetCleared",t,this,r))}},bo.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=wn(this)-e;i&&(He(this.doc,r)||Yt(r,r.height+i),n&&Jr(n,function(){n.curOp.forceUpdate=!0,xo(n,r,i),ln(n,"lineWidgetChanged",n,t,Jt(r))}))},bt(bo);var wo=0,Co=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++wo};function ko(t,e,n,r,i){if(r&&r.shared)return function(t,e,n,r,i){(r=D(r)).shared=!1;var o=[ko(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Ai(t,function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(ko(t,se(t,e),se(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=Y(o)}),new _o(o,a)}(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return Xr(t.cm,ko)(t,e,n,r,i);var o=new Co(t,i),a=ee(e,n);if(r&&D(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=L("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(De(t,e.line,e,n,o)||e.line!=n.line&&De(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}o.addToHistory&&Di(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,l=e.line,c=t.cm;if(t.iter(l,n.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&ze(t)==c.display.maxLine&&(s=!0),o.collapsed&&l!=e.line&&Yt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new ke(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){He(t,e)&&Yt(e,0)}),o.clearOnEnter&&dt(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(we=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++wo,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)cr(c,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=e.line;u<=n.line;u++)ur(c,u,"text");o.atomic&&Qi(c.doc),ln(c,"markerAdded",c,o)}return o}Co.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Vr(t),yt(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=_e(a.markedSpans,this);t&&!this.collapsed?ur(t,Jt(a),"text"):t&&(null!=s.to&&(i=Jt(a)),null!=s.from&&(r=Jt(a))),a.markedSpans=Se(a.markedSpans,s),null==s.from&&this.collapsed&&!He(this.doc,a)&&t&&Yt(a,er(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=ze(this.lines[l]),u=Ve(c);u>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&cr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Qi(t.doc)),t&&ln(t,"markerCleared",t,this,r,i),e&&Gr(t),this.parent&&this.parent.clear()}},Co.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=_e(o.markedSpans,this);if(null!=a.from&&(n=te(e?o:Jt(o),a.from),-1==t))return n;if(null!=a.to&&(r=te(e?o:Jt(o),a.to),1==t))return r}return n&&{from:n,to:r}},Co.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&Jr(r,function(){var i=e.line,o=Jt(e.line),a=An(r,o);if(a&&(zn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!He(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=wn(n)-s;l&&Yt(i,i.height+l)}ln(r,"markerChanged",r,t)})},Co.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=B(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Co.prototype.detachLine=function(t){if(this.lines.splice(B(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},bt(Co);var _o=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function So(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),function(t){return t.parent})}function Eo(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];Ai(n.primary.doc,function(t){return r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==B(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}_o.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ln(this,"clear")}},_o.prototype.find=function(t,e){return this.primary.find(t,e)},bt(_o);var To=0,Oo=function(t,e,n,r,i){if(!(this instanceof Oo))return new Oo(t,e,n,r,i);null==n&&(n=0),yo.call(this,[new vo([new Ke("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=te(n,0);this.sel=Ci(o),this.history=new Fi(null),this.id=++To,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Li(this,{from:o,to:o,text:t}),Ji(this,Ci(o),U)};Oo.prototype=Z(yo.prototype,{constructor:Oo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=qt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Qr(function(t){var e=te(this.first,0),n=this.first+this.size-1;ao(this,{from:e,to:te(n,Kt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Lr(this.cm,0,0),Ji(this,Ci(e),U)}),replaceRange:function(t,e,n,r){e=se(this,e),n=n?se(this,n):e,fo(this,t,e,n,r)},getRange:function(t,e,n){var r=$t(this,se(this,t),se(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Zt(this,t))return Kt(this,t)},getLineNumber:function(t){return Jt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Kt(this,t)),ze(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return se(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qr(function(t,e,n){qi(this,se(this,"number"==typeof t?te(t,e||0):t),null,n)}),setSelection:Qr(function(t,e,n){qi(this,se(this,t),se(this,e||t),n)}),extendSelection:Qr(function(t,e,n){Gi(this,se(this,t),e&&se(this,e),n)}),extendSelections:Qr(function(t,e){Ki(this,le(this,t),e)}),extendSelectionsBy:Qr(function(t,e){var n=J(this.sel.ranges,t);Ki(this,le(this,n),e)}),setSelections:Qr(function(t,e,n){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new xi(se(this,t[i].anchor),se(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Ji(this,wi(this.cm,r,e),n)}}),addSelection:Qr(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new xi(se(this,t),se(this,e||t))),Ji(this,wi(this.cm,r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=$t(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=$t(this,n[r].from(),n[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Qr(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var s=e&&"end"!=e&&function(t,e,n){for(var r=[],i=te(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],l=Ei(s.from,i,o),c=Ei(ki(s),i,o);if(i=s.to,o=c,"around"==n){var u=t.sel.ranges[a],f=ee(u.head,u.anchor)<0;r[a]=new xi(f?c:l,f?l:c)}else r[a]=new xi(l,l)}return new bi(r,t.sel.primIndex)}(this,r,e),l=r.length-1;l>=0;l--)ao(this,r[l]);s?Yi(this,s):this.cm&&Mr(this.cm)}),undo:Qr(function(){lo(this,"undo")}),redo:Qr(function(){lo(this,"redo")}),undoSelection:Qr(function(){lo(this,"undo",!0)}),redoSelection:Qr(function(){lo(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Fi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ui(this.history.done),undone:Ui(this.history.undone)}},setHistory:function(t){var e=this.history=new Fi(this.history.maxGeneration);e.done=Ui(t.done.slice(0),null,!0),e.undone=Ui(t.undone.slice(0),null,!0)},setGutterMarker:Qr(function(t,e,n){return go(this,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&nt(r)&&(t.gutterMarkers=null),!0})}),clearGutter:Qr(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&go(e,n,"gutter",function(){return n.gutterMarkers[t]=null,nt(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!Zt(this,t))return null;if(e=t,!(t=Kt(this,t)))return null}else if(null==(e=Jt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Qr(function(t,e,n){return go(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(_(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:Qr(function(t,e,n){return go(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(_(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Qr(function(t,e,n){return function(t,e,n,r){var i=new bo(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),go(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!He(t,e)){var r=Ue(e)<t.scrollTop;Yt(e,e.height+wn(i)),r&&Or(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&ln(o,"lineWidgetAdded",o,i,"number"==typeof e?e:Jt(e)),i}(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return ko(this,se(this,t),se(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return ko(this,t=se(this,t),t,n,"bookmark")},findMarksAt:function(t){t=se(this,t);var e=[],n=Kt(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=se(this,t),e=se(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n}),se(this,te(n,e))},indexFromPos:function(t){var e=(t=se(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Oo(qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Oo(qt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(ee(o,a)){var s=ko(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,So(this)),r},unlinkDoc:function(t){if(t instanceof _a&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){var n=this.linked[e];if(n.doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Eo(So(this));break}}if(t.history==this.history){var r=[t.id];Ai(t,function(t){return r.push(t.id)},!0),t.history=new Fi(null),t.history.done=Ui(this.history.done,r),t.history.undone=Ui(this.history.undone,r)}},iterLinkedDocs:function(t){Ai(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Nt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Qr(function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Jr(e=this.cm,function(){Pi(e),cr(e)}))})}),Oo.prototype.eachLine=Oo.prototype.iter;var Mo=0;function Lo(t){var e=this;if(Ao(e),!gt(e,t)&&!Cn(e.display,t)){xt(t),a&&(Mo=+new Date);var n=sr(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(t,r){if(!e.options.allowDropFileTypes||-1!=B(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=Xr(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++s==i){var l={from:n=se(e.doc,n),to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};ao(e.doc,l),Yi(e.doc,Ci(n,ki(l)))}}),a.readAsText(t)}},c=0;c<i;++c)l(r[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var u=t.dataTransfer.getData("Text");if(u){var f;if(e.state.draggingText&&!e.state.draggingText.copy&&(f=e.listSelections()),Xi(e.doc,Ci(n,n)),f)for(var d=0;d<f.length;++d)fo(e.doc,"",f[d].anchor,f[d].head,"drag");e.replaceSelection(u,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Ao(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function No(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var e=0;e<n.length;e++)t(n[e])})}}var Po=!1;function Fo(){var t;Po||(dt(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,No(Io)},100))}),dt(window,"blur",function(){return No(kr)}),Po=!0)}function Io(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Do=0;Do<10;Do++)jo[Do+48]=jo[Do+96]=String(Do);for(var zo=65;zo<=90;zo++)jo[zo]=String.fromCharCode(zo);for(var Ro=1;Ro<=12;Ro++)jo[Ro+111]=jo[Ro+63235]="F"+Ro;var Bo={};function Ho(t){var e,n,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Wo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=J(n.split(" "),Ho),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var c in e)t[c]=e[c];return t}function Uo(t,e,n,r){var i=(e=$o(e)).call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Uo(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=Uo(t,e.fallthrough[o],n,r);if(a)return a}}}function Vo(t){var e="string"==typeof t?t:jo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Go(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(C?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(C?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Ko(t,e){if(f&&34==t.keyCode&&t.char)return!1;var n=jo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Go(n,t,e))}function $o(t){return"string"==typeof t?Bo[t]:t}function qo(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&ee(o.from,Y(r).to)<=0;){var a=r.pop();if(ee(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Jr(t,function(){for(var e=r.length-1;e>=0;e--)fo(t.doc,"",r[e].from,r[e].to,"+delete");Mr(t)})}function Yo(t,e,n){var r=ot(t.text,e+n,n);return r<0||r>t.text.length?null:r}function Jo(t,e,n){var r=Yo(t,e.ch,n);return null==r?null:new te(e.line,r,n<0?"after":"before")}function Xo(t,e,n,r,i){if(t){var o=ut(n,e.doc.direction);if(o){var a,s=i<0?Y(o):o[0],l=i<0==(1==s.level),c=l?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var u=Nn(e,n);a=i<0?n.text.length-1:0;var f=Pn(e,u,a).top;a=at(function(t){return Pn(e,u,t).top==f},i<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=Yo(n,a,1))}else a=i<0?s.to:s.from;return new te(r,a,c)}}return new te(r,i<0?n.text.length:0,i<0?"before":"after")}Bo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Bo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Bo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Bo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Bo.default=y?Bo.macDefault:Bo.pcDefault;var Zo={selectAll:io,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),U)},killLine:function(t){return qo(t,function(e){if(e.empty()){var n=Kt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return qo(t,function(e){return{from:te(e.from().line,0),to:se(t.doc,te(e.to().line+1,0))}})},delLineLeft:function(t){return qo(t,function(t){return{from:te(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return qo(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){return qo(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Qo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return ta(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var n=Kt(t.doc,e),r=function(t){for(var e;e=Ie(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=Jt(r)),Xo(!0,t,n,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},G)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},G)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?ta(t,e.head):r},G)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=z(t.getLine(o.line),o.ch,r);e.push(q(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Jr(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=Kt(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new te(i.line,i.ch-1)),i.ch>0)i=new te(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),te(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Kt(t.doc,i.line-1).text;a&&(i=new te(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),te(i.line-1,a.length-1),i,"+transpose"))}n.push(new xi(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){return Jr(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Mr(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Qo(t,e){var n=Kt(t.doc,e),r=ze(n);return r!=n&&(e=Jt(r)),Xo(!0,t,r,e,1)}function ta(t,e){var n=Qo(t,e.line),r=Kt(t.doc,n.line),i=ut(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return te(n.line,a?0:o,n.sticky)}return n}function ea(t,e,n){if("string"==typeof e&&!(e=Zo[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=W}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var na=new R;function ra(t,e,n,r){var i=t.state.keySeq;if(i){if(Vo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:na.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),ia(t,i+" "+e,n,r))return!0}return ia(t,e,n,r)}function ia(t,e,n,r){var i=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Uo(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Uo(e,t.options.extraKeys,n,t)||Uo(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&ln(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(xt(n),br(t)),!!i}function oa(t,e){var n=Ko(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ra(t,"Shift-"+n,e,function(e){return ea(t,e,!0)})||ra(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ea(t,e)}):ra(t,n,e,function(e){return ea(t,e)}))}var aa=null;function sa(t){var e=this;if(e.curOp.focus=N(),!gt(e,t)){a&&s<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=oa(e,t);f&&(aa=r?n:null,!r&&88==n&&!Ft&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(E(e,"CodeMirror-crosshair"),pt(document,"keyup",n),pt(document,"mouseover",n))}P(e,"CodeMirror-crosshair"),dt(document,"keyup",n),dt(document,"mouseover",n)}(e)}}function la(t){16==t.keyCode&&(this.doc.sel.shift=!1),gt(this,t)}function ca(t){var e=this;if(!(Cn(e.display,t)||gt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(f&&n==aa)return aa=null,void xt(t);if(!f||t.which&&!(t.which<10)||!oa(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(t,e,n){return ra(t,"'"+n+"'",e,function(e){return ea(t,e,!0)})}(e,t,i)||e.display.input.onKeyPress(t))}}}var ua,fa,da=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ha(t){var e=this,n=e.display;if(!(gt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,Cn(n,t))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!ga(e,t)){var r=sr(e,t),i=St(t),o=r?function(t,e){var n=+new Date;return fa&&fa.compare(n,t,e)?(ua=fa=null,"triple"):ua&&ua.compare(n,t,e)?(fa=new da(n,t,e),ua=null,"double"):(ua=new da(n,t,e),fa=null,"single")}(r,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ra(t,Go(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,function(e){if("string"==typeof e&&(e=Zo[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=W}finally{t.state.suppressEdits=!1}return r})}(e,i,r,o,t)||(1==i?r?function(t,e,n,r){a?setTimeout(j(xr,t),0):t.curOp.focus=N();var i,o=function(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(t,n,r),c=t.doc.sel;t.options.dragDrop&&Ot&&!t.isReadOnly()&&"single"==n&&(i=c.contains(e))>-1&&(ee((i=c.ranges[i]).from(),e)<0||e.xRel>0)&&(ee(i.to(),e)>0||e.xRel<0)?function(t,e,n,r){var i=t.display,o=!1,c=Xr(t,function(e){l&&(i.scroller.draggable=!1),t.state.draggingText=!1,pt(i.wrapper.ownerDocument,"mouseup",c),pt(i.wrapper.ownerDocument,"mousemove",u),pt(i.scroller,"dragstart",f),pt(i.scroller,"drop",c),o||(xt(e),r.addNew||Gi(t.doc,n,null,null,r.extend),l||a&&9==s?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),u=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},f=function(){return o=!0};l&&(i.scroller.draggable=!0),t.state.draggingText=c,c.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),dt(i.wrapper.ownerDocument,"mouseup",c),dt(i.wrapper.ownerDocument,"mousemove",u),dt(i.scroller,"dragstart",f),dt(i.scroller,"drop",c),wr(t),setTimeout(function(){return i.input.focus()},20)}(t,r,e,o):function(t,e,n,r){var i=t.display,o=t.doc;xt(e);var a,s,l=o.sel,c=l.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?c[s]:new xi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new xi(n,n)),n=sr(t,e,!0,!0),s=-1;else{var u=pa(t,n,r.unit);a=r.extend?Vi(a,u.anchor,u.head,r.extend):u}r.addNew?-1==s?(s=c.length,Ji(o,wi(t,c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==r.unit&&!r.extend?(Ji(o,wi(t,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):$i(o,s,a,V):(s=0,Ji(o,new bi([a],0),V),l=o.sel);var f=n;function d(e){if(0!=ee(f,e))if(f=e,"rectangle"==r.unit){for(var i=[],c=t.options.tabSize,u=z(Kt(o,n.line).text,n.ch,c),d=z(Kt(o,e.line).text,e.ch,c),h=Math.min(u,d),p=Math.max(u,d),m=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));m<=g;m++){var v=Kt(o,m).text,y=K(v,h,c);h==p?i.push(new xi(te(m,y),te(m,y))):v.length>y&&i.push(new xi(te(m,y),te(m,K(v,p,c))))}i.length||i.push(new xi(n,n)),Ji(o,wi(t,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,x=a,w=pa(t,e,r.unit),C=x.anchor;ee(w.anchor,C)>0?(b=w.head,C=oe(x.from(),w.anchor)):(b=w.anchor,C=ie(x.to(),w.head));var k=l.ranges.slice(0);k[s]=function(t,e){var n=e.anchor,r=e.head,i=Kt(t.doc,n.line);if(0==ee(n,r)&&n.sticky==r.sticky)return e;var o=ut(i);if(!o)return e;var a=lt(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return e;var l,c=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return e;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=lt(o,r.ch,r.sticky),f=u-a||(r.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?f<0:f>0}var d=o[c+(l?-1:0)],h=l==(1==d.level),p=h?d.from:d.to,m=h?"after":"before";return n.ch==p&&n.sticky==m?e:new xi(new te(n.line,p,m),r)}(t,new xi(se(o,C),b)),Ji(o,wi(t,k,s),V)}}var h=i.wrapper.getBoundingClientRect(),p=0;function m(e){t.state.selectingText=!1,p=1/0,e&&(xt(e),i.input.focus()),pt(i.wrapper.ownerDocument,"mousemove",g),pt(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var g=Xr(t,function(e){0!==e.buttons&&St(e)?function e(n){var a=++p,s=sr(t,n,!0,"rectangle"==r.unit);if(s)if(0!=ee(s,f)){t.curOp.focus=N(),d(s);var l=Er(i,o);(s.line>=l.to||s.line<l.from)&&setTimeout(Xr(t,function(){p==a&&e(n)}),150)}else{var c=n.clientY<h.top?-20:n.clientY>h.bottom?20:0;c&&setTimeout(Xr(t,function(){p==a&&(i.scroller.scrollTop+=c,e(n))}),50)}}(e):m(e)}),v=Xr(t,m);t.state.selectingText=v,dt(i.wrapper.ownerDocument,"mousemove",g),dt(i.wrapper.ownerDocument,"mouseup",v)}(t,r,e,o)}(e,r,o,t):_t(t)==n.scroller&&xt(t):2==i?(r&&Gi(e.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(k?e.display.input.onContextMenu(t):wr(e)))}}function pa(t,e,n){if("char"==n)return new xi(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new xi(te(e.line,0),se(t.doc,te(e.line+1,0)));var r=n(t,e);return new xi(r.from,r.to)}function ma(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&xt(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!yt(t,n))return Ct(e);o-=s.top-a.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i){var u=Xt(t.doc,o),f=t.display.gutterSpecs[l];return mt(t,n,t,u,f.className,e),Ct(e)}}}function ga(t,e){return ma(t,e,"gutterClick",!0)}function va(t,e){Cn(t.display,e)||function(t,e){return!!yt(t,"gutterContextMenu")&&ma(t,e,"gutterContextMenu",!1)}(t,e)||gt(t,e,"contextmenu")||k||t.display.input.onContextMenu(e)}function ya(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(t)}da.prototype.compare=function(t,e,n){return this.time+400>t&&0==ee(e,this.pos)&&n==this.button};var ba={toString:function(){return"CodeMirror.Init"}},xa={},wa={};function Ca(t,e,n){var r=n&&n!=ba;if(!e!=!r){var i=t.display.dragFunctions,o=e?dt:pt;o(t.display.scroller,"dragstart",i.start),o(t.display.scroller,"dragenter",i.enter),o(t.display.scroller,"dragover",i.over),o(t.display.scroller,"dragleave",i.leave),o(t.display.scroller,"drop",i.drop)}}function ka(t){t.options.lineWrapping?(P(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(E(t.display.wrapper,"CodeMirror-wrap"),Ge(t)),ar(t),cr(t),Bn(t),setTimeout(function(){return Rr(t)},100)}function _a(t,e){var n=this;if(!(this instanceof _a))return new _a(t,e);this.options=e=e?D(e):{},D(xa,e,!1);var r=e.value;"string"==typeof r?r=new Oo(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new _a.inputStyles[e.inputStyle](this),o=this.display=new hi(t,r,i,e);for(var c in o.wrapper.CodeMirror=this,ya(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(t){var e=t.display;dt(e.scroller,"mousedown",Xr(t,ha)),dt(e.scroller,"dblclick",a&&s<11?Xr(t,function(e){if(!gt(t,e)){var n=sr(t,e);if(n&&!ga(t,e)&&!Cn(t.display,e)){xt(e);var r=t.findWordAt(n);Gi(t.doc,r.anchor,r.head)}}}):function(e){return gt(t,e)||xt(e)}),dt(e.scroller,"contextmenu",function(e){return va(t,e)});var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),(r=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}dt(e.scroller,"touchstart",function(i){if(!gt(t,i)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(i)&&!ga(t,i)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}}),dt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),dt(e.scroller,"touchend",function(n){var r=e.activeTouch;if(r&&!Cn(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=t.coordsChar(e.activeTouch,"page");a=!r.prev||o(r,r.prev)?new xi(s,s):!r.prev.prev||o(r,r.prev.prev)?t.findWordAt(s):new xi(te(s.line,0),se(t.doc,te(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),xt(n)}i()}),dt(e.scroller,"touchcancel",i),dt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Pr(t,e.scroller.scrollTop),Ir(t,e.scroller.scrollLeft,!0),mt(t,"scroll",t))}),dt(e.scroller,"mousewheel",function(e){return yi(t,e)}),dt(e.scroller,"DOMMouseScroll",function(e){return yi(t,e)}),dt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){gt(t,e)||kt(e)},over:function(e){gt(t,e)||(function(t,e){var n=sr(t,e);if(n){var r=document.createDocumentFragment();gr(t,n,r),t.display.dragCursor||(t.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),O(t.display.dragCursor,r)}}(t,e),kt(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Mo<100))kt(e);else if(!gt(t,e)&&!Cn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(t,e)},drop:Xr(t,Lo),leave:function(e){gt(t,e)||Ao(t)}};var l=e.input.getField();dt(l,"keyup",function(e){return la.call(t,e)}),dt(l,"keydown",Xr(t,sa)),dt(l,"keypress",Xr(t,ca)),dt(l,"focus",function(e){return Cr(t,e)}),dt(l,"blur",function(e){return kr(t,e)})}(this),Fo(),Vr(this),this.curOp.forceUpdate=!0,Ni(this,r),e.autofocus&&!v||this.hasFocus()?setTimeout(j(Cr,this),20):kr(this),wa)wa.hasOwnProperty(c)&&wa[c](n,e[c],ba);ci(this),e.finishInit&&e.finishInit(this);for(var u=0;u<Sa.length;++u)Sa[u](n);Gr(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}_a.defaults=xa,_a.optionHandlers=wa;var Sa=[];function Ea(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=he(t,e).state:n="prev");var a=t.options.tabSize,s=Kt(o,e),l=z(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(i,s.text.slice(u.length),s.text))==W||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?z(Kt(o,e-1).text,null,a):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",d=0;if(t.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)d+=a,f+="\t";if(d<c&&(f+=q(c-d)),f!=u)return fo(o,f,te(e,0),te(e,u.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==e&&m.head.ch<u.length){var g=te(e,u.length);$i(o,p,new xi(g,g));break}}}_a.defineInitHook=function(t){return Sa.push(t)};var Ta=null;function Oa(t){Ta=t}function Ma(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||t.state.pasteIncoming>a,l=Nt(e),c=null;if(s&&r.ranges.length>1)if(Ta&&Ta.text.join("\n")==e){if(r.ranges.length%Ta.text.length==0){c=[];for(var u=0;u<Ta.text.length;u++)c.push(o.splitLines(Ta.text[u]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(c=J(l,function(t){return[t]}));for(var f=t.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var h=r.ranges[d],p=h.from(),m=h.to();h.empty()&&(n&&n>0?p=te(p.line,p.ch-n):t.state.overwrite&&!s?m=te(m.line,Math.min(Kt(o,m.line).text.length,m.ch+Y(l).length)):s&&Ta&&Ta.lineWise&&Ta.text.join("\n")==e&&(p=m=te(p.line,0)));var g={from:p,to:m,text:c?c[d%c.length]:l,origin:i||(s?"paste":t.state.cutIncoming>a?"cut":"+input")};ao(t.doc,g),ln(t,"inputRead",t,g)}e&&!s&&Aa(t,e),Mr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=f),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function La(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Jr(e,function(){return Ma(e,n,0,null,"paste")}),!0}function Aa(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Ea(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Kt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ea(t,i.head.line,"smart"));a&&ln(t,"electricInput",t,i.head.line)}}}function Na(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:te(i,0),head:te(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Pa(t,e,n,r){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",r?"":"off"),t.setAttribute("spellcheck",!!e)}function Fa(){var t=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=M("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),Pa(t),e}function Ia(t,e,n,r,i){var o=e,a=n,s=Kt(t,e.line);function l(r){var o,a;if(null==(o=i?function(t,e,n,r){var i=ut(e,t.doc.direction);if(!i)return Jo(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=lt(i,n.ch,n.sticky),a=i[o];if("ltr"==t.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Jo(e,n,r);var s,l=function(t,n){return Yo(e,t instanceof te?t.ch:t,n)},c=function(n){return t.options.lineWrapping?(s=s||Nn(t,e),Zn(t,e,s,n)):{begin:0,end:e.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var f=1==a.level==r<0,d=l(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=u.end:d>=a.from&&d>=u.begin)){var h=f?"before":"after";return new te(n.line,d,h)}}var p=function(t,e,r){for(var o=function(t,e){return e?new te(n.line,l(t,1),"before"):new te(n.line,t,"after")};t>=0&&t<i.length;t+=e){var a=i[t],s=e>0==(1!=a.level),c=s?r.begin:l(r.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),r.begin<=c&&c<r.end)return o(c,s)}},m=p(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==e.text.length||!(m=p(r>0?0:i.length-1,r,c(g)))?null:m}(t.cm,s,e,n):Jo(s,e,n))){if(r||((a=e.line+n)<t.first||a>=t.first+t.size||(e=new te(a,e.ch,e.sticky),!(s=Kt(t,a)))))return!1;e=Xo(i,t.cm,s,e.line,n)}else e=o;return!0}if("char"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var c=null,u="group"==r,f=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var h=s.text.charAt(e.ch)||"\n",p=et(h,f)?"w":u&&"\n"==h?"n":!u||/\s/.test(h)?null:"p";if(!u||d||p||(p="s"),c&&c!=p){n<0&&(n=1,l(),e.sticky="after");break}if(p&&(c=p),n>0&&!l(!d))break}var m=no(t,e,o,a,!0);return ne(o,m)&&(m.hitSide=!0),m}function ja(t,e,n,r){var i,o,a=t.doc,s=e.left;if("page"==r){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*er(t.display),3);i=(n>0?e.bottom:e.top)+n*c}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;(o=Jn(t,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Da=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function za(t,e){var n=An(t,e.line);if(!n||n.hidden)return null;var r=Kt(t.doc,e.line),i=Mn(n,r,e.line),o=ut(r,t.doc.direction),a="left";if(o){var s=lt(o,e.ch);a=s%2?"right":"left"}var l=jn(i.map,e.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Ra(t,e){return e&&(t.bad=!0),t}function Ba(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return Ra(t.clipPos(te(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return Ha(o,e,n)}}function Ha(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!A(r,e))return Ra(te(Jt(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var o=t.rest?Y(t.rest):t.line;return Ra(te(Jt(o),o.text.length),i)}var a=3==e.nodeType?e:null,s=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=t.measure,c=l.maps;function u(e,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var u=Jt(i<0?t.line:t.rest[i]),f=o[a]+r;return(r<0||s!=e)&&(f=o[a+(r?1:0)]),te(u,f)}}}var f=u(a,s,n);if(f)return Ra(f,i);for(var d=s.nextSibling,h=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=u(d,d.firstChild,0))return Ra(te(f.line,f.ch-h),i);h+=d.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(f=u(p,p.firstChild,-1))return Ra(te(f.line,f.ch+m),i);m+=p.textContent.length}}Da.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function o(t){if(!gt(r,t)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Na(r);Oa({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,U),r.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var o=Ta.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var a=Fa(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Ta.text.join("\n");var l=document.activeElement;I(s),setTimeout(function(){r.display.lineSpace.removeChild(a),l.focus(),l==i&&n.showPrimarySelection()},50)}}Pa(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),dt(i,"paste",function(t){gt(r,t)||La(t,r)||s<=11&&setTimeout(Xr(r,function(){return e.updateFromDOM()}),20)}),dt(i,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),dt(i,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),dt(i,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),dt(i,"touchstart",function(){return n.forceCompositionEnd()}),dt(i,"input",function(){e.composing||e.readFromDOMSoon()}),dt(i,"copy",o),dt(i,"cut",o)},Da.prototype.prepareSelection=function(){var t=mr(this.cm,!1);return t.focus=this.cm.state.focused,t},Da.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Da.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Da.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var a=Ba(e,t.anchorNode,t.anchorOffset),s=Ba(e,t.focusNode,t.focusOffset);if(!a||a.bad||!s||s.bad||0!=ee(oe(a,s),i)||0!=ee(ie(a,s),o)){var l=e.display.view,c=i.line>=e.display.viewFrom&&za(e,i)||{node:l[0].measure.map[2],offset:0},u=o.line<e.display.viewTo&&za(e,o);if(!u){var f=l[l.length-1].measure,d=f.maps?f.maps[f.maps.length-1]:f.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var h,p=t.rangeCount&&t.getRangeAt(0);try{h=S(c.node,c.offset,u.offset,u.node)}catch(t){}h&&(!n&&e.state.focused?(t.collapse(c.node,c.offset),h.collapsed||(t.removeAllRanges(),t.addRange(h))):(t.removeAllRanges(),t.addRange(h)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Da.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Da.prototype.showMultipleSelections=function(t){O(this.cm.display.cursorDiv,t.cursors),O(this.cm.display.selectionDiv,t.selection)},Da.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Da.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},Da.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Da.prototype.blur=function(){this.div.blur()},Da.prototype.getField=function(){return this.div},Da.prototype.supportsTouch=function(){return!0},Da.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Jr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Da.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Da.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ba(e,t.anchorNode,t.anchorOffset),r=Ba(e,t.focusNode,t.focusOffset);n&&r&&Jr(e,function(){Ji(e.doc,Ci(n,r),U),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}}},Da.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=te(a.line-1,Kt(r.doc,a.line-1).length)),s.ch==Kt(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=te(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(t=lr(r,a.line))?(e=Jt(i.view[0].line),n=i.view[0].node):(e=Jt(i.view[t].line),n=i.view[t-1].node.nextSibling);var l,c,u=lr(r,s.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=Jt(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(function(t,e,n,r,i){var o="",a=!1,s=t.doc.lineSeparator(),l=!1;function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function u(t){t&&(c(),o+=t)}function f(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void u(n);var o,d=e.getAttribute("cm-marker");if(d){var h=t.findMarks(te(r,0),te(i+1,0),(g=+d,function(t){return t.id==g}));return void(h.length&&(o=h[0].find(0))&&u($t(t.doc,o.from,o.to).join(s)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&c();for(var m=0;m<e.childNodes.length;m++)f(e.childNodes[m]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(a=!0)}else 3==e.nodeType&&u(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;f(e),e!=n;)e=e.nextSibling,l=!1;return o}(r,n,c,e,l)),d=$t(r.doc,te(e,0),te(l,Kt(r.doc,l).text.length));f.length>1&&d.length>1;)if(Y(f)==Y(d))f.pop(),d.pop(),l--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),e++}for(var h=0,p=0,m=f[0],g=d[0],v=Math.min(m.length,g.length);h<v&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=Y(f),b=Y(d),x=Math.min(y.length-(1==f.length?h:0),b.length-(1==d.length?h:0));p<x&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==f.length&&1==d.length&&e==a.line)for(;h&&h>a.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)h--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var w=te(e,h),C=te(l,d.length?Y(d).length-p:0);return f.length>1||f[0]||ee(w,C)?(fo(r.doc,f,w,C,"+input"),!0):void 0},Da.prototype.ensurePolled=function(){this.forceCompositionEnd()},Da.prototype.reset=function(){this.forceCompositionEnd()},Da.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Da.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Da.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Jr(this.cm,function(){return cr(t.cm)})},Da.prototype.setUneditable=function(t){t.contentEditable="false"},Da.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Xr(this.cm,Ma)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Da.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Da.prototype.onContextMenu=function(){},Da.prototype.resetPosition=function(){},Da.prototype.needsContentAttribute=!0;var Wa=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};Wa.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!gt(r,t)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Na(r);Oa({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,U):(n.prevInput="",i.value=e.text.join("\n"),I(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(i.style.width="0px"),dt(i,"input",function(){a&&s>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),dt(i,"paste",function(t){gt(r,t)||La(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())}),dt(i,"cut",o),dt(i,"copy",o),dt(t.scroller,"paste",function(e){if(!Cn(t,e)&&!gt(r,e)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,i.dispatchEvent(o)}}),dt(t.lineSpace,"selectstart",function(e){Cn(t,e)||xt(e)}),dt(i,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),dt(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Wa.prototype.createField=function(t){this.wrapper=Fa(),this.textarea=this.wrapper.firstChild},Wa.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=mr(t);if(t.options.moveInputWithCursor){var i=$n(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Wa.prototype.showSelection=function(t){var e=this.cm,n=e.display;O(n.cursorDiv,t.cursors),O(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Wa.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&I(this.textarea),a&&s>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Wa.prototype.getField=function(){return this.textarea},Wa.prototype.supportsTouch=function(){return!1},Wa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N()!=this.textarea))try{this.textarea.focus()}catch(t){}},Wa.prototype.blur=function(){this.textarea.blur()},Wa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Wa.prototype.receivedFocus=function(){this.slowPoll()},Wa.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Wa.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function n(){var r=e.poll();r||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))})},Wa.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Pt(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Jr(e,function(){Ma(e,i.slice(l),r.length-l,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Wa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Wa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Wa.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=sr(n,t),c=r.scroller.scrollTop;if(o&&!f){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(o)&&Xr(n,Ji)(n.doc,Ci(o),U);var d,h=i.style.cssText,p=e.wrapper.style.cssText,m=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-m.top-5)+"px; left: "+(t.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(d=window.scrollY),r.input.focus(),l&&window.scrollTo(null,d),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&v(),k){kt(t);var g=function(){pt(window,"mouseup",g),setTimeout(y,20)};dt(window,"mouseup",g)}else setTimeout(y,50)}function v(){if(null!=i.selectionStart){var t=n.somethingSelected(),o=""+(t?i.value:"");i.value="",i.value=o,e.prevInput=t?"":"",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(e.contextMenuPending==y&&(e.contextMenuPending=!1,e.wrapper.style.cssText=p,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!a||a&&s<9)&&v();var t=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&""==e.prevInput?Xr(n,io)(n):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Wa.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Wa.prototype.setUneditable=function(){},Wa.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,i,o){t.defaults[n]=r,i&&(e[n]=o?function(t,e,n){n!=ba&&i(t,e,n)}:i)}t.defineOption=n,t.Init=ba,n("value","",function(t,e){return t.setValue(e)},!0),n("mode",null,function(t,e){t.doc.modeOption=e,Ti(t)},!0),n("indentUnit",2,Ti,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(t){Oi(t),Bn(t),cr(t)},!0),n("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(te(r,o))}r++});for(var i=n.length-1;i>=0;i--)fo(t.doc,e,n[i],te(n[i].line,n[i].ch+e.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=ba&&t.refresh()}),n("specialCharPlaceholder",Ze,function(t){return t.refresh()},!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),n("autocorrect",!1,function(t,e){return t.getInputField().autocorrect=e},!0),n("autocapitalize",!1,function(t,e){return t.getInputField().autocapitalize=e},!0),n("rtlMoveVisually",!x),n("wholeLineUpdateBefore",!0),n("theme","default",function(t){ya(t),di(t)},!0),n("keyMap","default",function(t,e,n){var r=$o(e),i=n!=ba&&$o(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,ka,!0),n("gutters",[],function(t,e){t.display.gutterSpecs=ui(e,t.options.lineNumbers),di(t)},!0),n("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?ir(t.display)+"px":"0",t.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(t){return Rr(t)},!0),n("scrollbarStyle","native",function(t){Wr(t),Rr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),n("lineNumbers",!1,function(t,e){t.display.gutterSpecs=ui(t.options.gutters,e),di(t)},!0),n("firstLineNumber",1,di,!0),n("lineNumberFormatter",function(t){return t},di,!0),n("showCursorWhenSelecting",!1,pr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(t,e){"nocursor"==e&&(kr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),n("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),n("dragDrop",!0,Ca),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,pr,!0),n("singleCursorHeightPerLine",!0,pr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Oi,!0),n("addModeClass",!1,Oi,!0),n("pollInterval",100),n("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),n("historyEventDelay",1250),n("viewportMargin",10,function(t){return t.refresh()},!0),n("maxHighlightLength",1e4,Oi,!0),n("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),n("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),n("autofocus",null),n("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0),n("phrases",null)}(_a),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&Xr(this,e[t])(this,n,i),mt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"]($o(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Zr(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)}(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,cr(this)}),removeOverlay:Zr(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void cr(this)}}),indentLine:Zr(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Zt(this.doc,t)&&Ea(this,t,e,n)}),indentSelection:Zr(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Ea(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Mr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Ea(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[r].from().ch>0&&$i(this.doc,r,new xi(o,c[r].to()),U)}}}),getTokenAt:function(t,e){return ye(this,t,e)},getLineTokens:function(t,e){return ye(this,te(t),e,!0)},getTokenTypeAt:function(t){t=se(this.doc,t);var e,n=de(this,Kt(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var i=n[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&r.push(i[o[e]]);else if(o[e])for(var a=0;a<o[e].length;a++){var s=i[o[e][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==B(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(t,e){var n=this.doc;return he(this,(t=ae(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return $n(this,null==t?n.head:"object"==typeof t?se(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Kn(this,se(this.doc,t),e||"page")},coordsChar:function(t,e){return Jn(this,(t=Gn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Gn(this,{top:t,left:0},e||"page").top,Xt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=Kt(this.doc,t)}else r=t;return Vn(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-Ue(r):0)},defaultTextHeight:function(){return er(this.display)},defaultCharWidth:function(){return nr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o,a,s,l=this.display,c=(t=$n(this,se(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==r)c=t.top;else if("above"==r||"near"==r){var f=Math.max(l.wrapper.clientHeight,this.doc.height),d=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>f)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=f&&(c=t.bottom),u+e.offsetWidth>d&&(u=d-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==i?(u=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&(o=this,a={left:u,top:c,right:u+e.offsetWidth,bottom:c+e.offsetHeight},null!=(s=Tr(o,a)).scrollTop&&Pr(o,s.scrollTop),null!=s.scrollLeft&&Ir(o,s.scrollLeft))},triggerOnKeyDown:Zr(sa),triggerOnKeyPress:Zr(ca),triggerOnKeyUp:la,triggerOnMouseDown:Zr(ha),execCommand:function(t){if(Zo.hasOwnProperty(t))return Zo[t].call(null,this)},triggerElectric:Zr(function(t){Aa(this,t)}),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=se(this.doc,t),a=0;a<e&&!(o=Ia(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Zr(function(t,e){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Ia(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()},G)}),deleteH:Zr(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qo(this,function(n){var i=Ia(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var a=se(this.doc,t),s=0;s<e;++s){var l=$n(this,a,"div");if(null==o?o=l.left:l.left=o,(a=ja(this,l,i,n)).hitSide)break}return a},moveV:Zr(function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var s=$n(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=ja(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Or(n,Kn(n,l,"div").top-s.top),l},G),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=Kt(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=et(a,o)?function(t){return et(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new xi(te(t.line,r),te(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?P(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Zr(function(t,e){Lr(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-En(this)-this.display.barHeight,width:t.scrollWidth-En(this)-this.display.barWidth,clientHeight:On(this),clientWidth:Tn(this)}},scrollIntoView:Zr(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Ar(t),t.curOp.scrollToPos=e}(this,t):Nr(this,t.from,t.to,t.margin)}),setSize:Zr(function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&Rn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){ur(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,mt(this,"refresh",this)}),operation:function(t){return Jr(this,t)},startOperation:function(){return Vr(this)},endOperation:function(){return Gr(this)},refresh:Zr(function(){var t=this.display.cachedTextHeight;cr(this),this.curOp.forceUpdate=!0,Bn(this),Lr(this,this.doc.scrollLeft,this.doc.scrollTop),ai(this.display),(null==t||Math.abs(t-er(this.display))>.5)&&ar(this),mt(this,"refresh",this)}),swapDoc:Zr(function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Ni(this,t),Bn(this),this.display.input.reset(),Lr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,e),e}),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bt(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}(_a);var Ua="iter insert remove copy getEditor constructor".split(" ");for(var Va in Oo.prototype)Oo.prototype.hasOwnProperty(Va)&&B(Ua,Va)<0&&(_a.prototype[Va]=function(t){return function(){return t.apply(this.doc,arguments)}}(Oo.prototype[Va]));return bt(Oo),_a.inputStyles={textarea:Wa,contenteditable:Da},_a.defineMode=function(t){_a.defaults.mode||"null"==t||(_a.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),jt[t]=e}.apply(this,arguments)},_a.defineMIME=function(t,e){Dt[t]=e},_a.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),_a.defineMIME("text/plain","null"),_a.defineExtension=function(t,e){_a.prototype[t]=e},_a.defineDocExtension=function(t,e){Oo.prototype[t]=e},_a.fromTextArea=function(t,e){if((e=e?D(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=N();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=s.getValue()}var i;if(t.form&&(dt(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(pt(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var s=_a(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return s},function(t){t.off=pt,t.on=dt,t.wheelEventPixels=vi,t.Doc=Oo,t.splitLines=Nt,t.countColumn=z,t.findColumn=K,t.isWordChar=tt,t.Pass=W,t.signal=mt,t.Line=Ke,t.changeEnd=ki,t.scrollbarModel=Hr,t.Pos=te,t.cmpPos=ee,t.modes=jt,t.mimeModes=Dt,t.resolveMode=zt,t.getMode=Rt,t.modeExtensions=Bt,t.extendMode=Ht,t.copyState=Wt,t.startState=Vt,t.innerMode=Ut,t.commands=Zo,t.keyMap=Bo,t.keyName=Ko,t.isModifierKey=Vo,t.lookupKey=Uo,t.normalizeKeyMap=Wo,t.StringStream=Gt,t.SharedTextMarker=_o,t.TextMarker=Co,t.LineWidget=bo,t.e_preventDefault=xt,t.e_stopPropagation=wt,t.e_stop=kt,t.addClass=P,t.contains=A,t.rmClass=E,t.keyNames=jo}(_a),_a.version="5.49.0",_a}()},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(3),i=n(1),o=n(26),a=n(21),s=n(15),l=function(t,e,n){var c,u,f,d=t&l.F,h=t&l.G,p=t&l.S,m=t&l.P,g=t&l.B,v=t&l.W,y=h?i:i[e]||(i[e]={}),b=y.prototype,x=h?r:p?r[e]:(r[e]||{}).prototype;for(c in h&&(n=e),n)(u=!d&&x&&void 0!==x[c])&&s(y,c)||(f=u?x[c]:n[c],y[c]=h&&"function"!=typeof x[c]?n[c]:g&&u?o(f,r):v&&x[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[c]=f,t&l.R&&b&&!b[c]&&a(b,c,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(68)("wks"),i=n(48),o=n(3).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(114);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){var r=n(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(81)("wks"),i=n(83),o=n(23).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(7),i=n(106),o=n(67),a=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(33);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(109),i=n(50);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";t.exports=n(272)()?Symbol:n(273)},function(t,e,n){var r=n(305),i=n(147);function o(e){return t.exports=o=i?r:function(t){return t.__proto__||r(t)},o(e)}t.exports=o},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(10),i=n(38);t.exports=n(8)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(98),i=n(141),o=n(268),a=n(99);(t.exports=function(t,e){var n,o,s,l,c;return arguments.length<2||"string"!=typeof t?(l=e,e=t,t=null):l=arguments[2],null==t?(n=s=!0,o=!1):(n=a.call(t,"c"),o=a.call(t,"e"),s=a.call(t,"w")),c={value:e,configurable:n,enumerable:o,writable:s},l?r(i(l),c):c}).gs=function(t,e,n){var s,l,c,u;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(s=!0,l=!1):(s=a.call(t,"c"),l=a.call(t,"e")),u={get:e,set:n,configurable:s,enumerable:l},c?r(i(c),u):u}},function(t,e,n){var r=n(47);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(108),i=n(74);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(50);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(52),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(23),i=n(82),o=n(55),a=n(43),s=n(87),l=function(t,e,n){var c,u,f,d,h=t&l.F,p=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,y=p?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?i:i[e]||(i[e]={}),x=b.prototype||(b.prototype={});for(c in p&&(n=e),n)f=((u=!h&&y&&void 0!==y[c])?y:n)[c],d=v&&u?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,c,f,t&l.U),b[c]!=f&&o(b,c,d),g&&x[c]!=f&&(x[c]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(137)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){t.exports=n(171)},function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(t,e){var n;return e&&!0===e.clone&&r(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t}function a(t,e,n){var i=t.slice();return e.forEach(function(e,a){void 0===i[a]?i[a]=o(e,n):r(e)?i[a]=s(t[a],e,n):-1===t.indexOf(e)&&i.push(o(e,n))}),i}function s(t,e,n){var i=Array.isArray(e);return i===Array.isArray(t)?i?((n||{arrayMerge:a}).arrayMerge||a)(t,e,n):function(t,e,n){var i={};return r(t)&&Object.keys(t).forEach(function(e){i[e]=o(t[e],n)}),Object.keys(e).forEach(function(a){r(e[a])&&t[a]?i[a]=s(t[a],e[a],n):i[a]=o(e[a],n)}),i}(t,e,n):o(e,n)}s.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,n){return s(t,n,e)})};var l=s;t.exports=l},function(t,e,n){t.exports=n(195)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!0},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(17),i=n(116),o=n(117),a=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(23),i=n(55),o=n(86),a=n(83)("src"),s=n(182),l=(""+s).split("toString");n(82).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){"use strict";var r=n(196)(!0);n(127)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){!function(e){function n(){this.parent=null,this.nested=[],this.nodes=[],this.filters=null,this.directives=null,this.context=null,this.unbind=null,this.onRender=null,this.onUpdate=null,this.onRemove=null,this.noCache=!1}function r(){this.items=Object.create(null),this.length=0,this.next=0}function i(t,e,n,r){if(r){var i={__index__:n};return i[r.value]=t[n],r.key&&(i[r.key]=n),i}return t[n]}function o(t,e,n,r){if(r){var i={__index__:n};return i[r.value]=t[e[n]],r.key&&(i[r.key]=e[n]),i}return t[e[n]]}n.render=function(t,e,n){var r;return r=n&&n.noCache?new t:t.pool.pop()||new t,8==e.nodeType?r.insertBefore(e):r.appendTo(e),n&&(n.parent&&(r.parent=n.parent),n.context&&(r.context=n.context),n.filters&&(r.filters=n.filters),n.directives&&(r.directives=n.directives),n.noCache&&(r.noCache=n.noCache)),r.onRender&&r.onRender(),r},n.prerender=function(t,e){for(;e--;)t.pool.push(new t)},n.loop=function(t,e,r,a,s,l){var c,u,f,d,h,p,m=r.length;for(c in Array.isArray(s)?(h=i,p=s.length):(h=o,p=(d=Object.keys(s)).length),f=m-p,r.items){if(!(f-- >0))break;r.items[c].remove()}for(c in u=0,r.items)r.items[c].__state__=h(s,d,u,l),u++;for(u=m,f=p;u<f;u++){var g=n.render(a,e,{parent:t,context:t.context,filters:t.filters,directives:t.directives,noCache:t.noCache});t.nested.push(g),c=r.push(g),g.unbind=function(t){return function(){r.remove(t)}}(c),g.__state__=h(s,d,u,l)}},n.cond=function(t,e,r,i,o){if(r.ref)o||r.ref.remove();else if(o){var a=n.render(i,e,{parent:t,context:t.context,filters:t.filters,directives:t.directives,noCache:t.noCache});t.nested.push(a),r.ref=a,a.unbind=function(){r.ref=null}}return o},n.insert=function(t,e,r,i,o){if(r.ref)r.ref.update(o);else{var a=n.render(i,e,{parent:t,context:t.context,filters:t.filters,directives:t.directives,noCache:t.noCache});t.nested.push(a),r.ref=a,a.unbind=function(){r.ref=null},a.update(o)}},n.prototype.remove=function(){for(var t=this.nodes.length;t--;)this.nodes[t].parentNode.removeChild(this.nodes[t]);for(this.unbind&&this.unbind(),t=this.nested.length;t--;)this.nested[t].remove();this.parent&&(t=this.parent.nested.indexOf(this),this.parent.nested.splice(t,1),this.parent=null),this.onRemove&&this.onRemove(),this.noCache||this.constructor.pool.push(this)},n.prototype.appendTo=function(t){for(var e=0,n=this.nodes.length;e<n;e++)t.appendChild(this.nodes[e])},n.prototype.insertBefore=function(t){if(!t.parentNode)throw new Error("Can not insert child view into parent node. You need append your view first and then update.");for(var e=0,n=this.nodes.length;e<n;e++)t.parentNode.insertBefore(this.nodes[e],t)},n.prototype.createDocument=function(){if(1==this.nodes.length)return this.nodes[0];for(var t=e.createDocumentFragment(),n=0,r=this.nodes.length;n<r;n++)t.appendChild(this.nodes[n]);return t},n.prototype.querySelector=function(t){for(var e=0;e<this.nodes.length;e++){if(this.nodes[e].matches&&this.nodes[e].matches(t))return this.nodes[e];if(8===this.nodes[e].nodeType)throw new Error("Can not use querySelector with non-element nodes on first level.");if(this.nodes[e].querySelector){var n=this.nodes[e].querySelector(t);if(n)return n}}return null},r.prototype.push=function(t){return this.items[this.next]=t,this.length+=1,this.next+=1,this.next-1},r.prototype.remove=function(t){if(!(t in this.items))throw new Error('You are trying to delete not existing element "'+t+'" form map.');delete this.items[t],this.length-=1},r.prototype.forEach=function(t){for(var e in this.items)t(this.items[e])},n.Map=r,t.exports=n}(window.document)},function(t,e){function n(t,e,n){var r,i,o,a,s;function l(){var c=Date.now()-a;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(s=t.apply(o,i),o=i=null))}null==e&&(e=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(s=t.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}n.debounce=n,t.exports=n},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(10).f,i=n(15),o=n(4)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(41),i=n(38),o=n(16),a=n(67),s=n(15),l=n(106),c=Object.getOwnPropertyDescriptor;e.f=n(8)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(17);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(42),i=n(118);t.exports=n(12)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(90),i=n(17),o=n(194),a=n(79),s=n(29),l=n(80),c=n(85),u=n(24),f=Math.min,d=[].push,h=!u(function(){RegExp(4294967295,"y")});n(84)("split",2,function(t,e,n,u){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?4294967295:e>>>0,p=new RegExp(t.source,u+"g");(o=c.call(p,i))&&!((a=p.lastIndex)>f&&(l.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&d.apply(l,o.slice(1)),s=o[0].length,f=a,l.length>=h));)p.lastIndex===o.index&&p.lastIndex++;return f===i.length?!s&&p.test("")||l.push(""):l.push(i.slice(f)),l.length>h?l.slice(0,h):l}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):p.call(String(i),n,r)},function(t,e){var r=u(p,t,this,e,p!==n);if(r.done)return r.value;var c=i(t),d=String(this),m=o(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),y=new m(h?c:"^(?:"+c.source+")",v),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===d.length)return null===l(y,d)?[d]:[];for(var x=0,w=0,C=[];w<d.length;){y.lastIndex=h?w:0;var k,_=l(y,h?d:d.slice(w));if(null===_||(k=f(s(y.lastIndex+(h?0:w)),d.length))===x)w=a(d,w,g);else{if(C.push(d.slice(x,w)),C.length===b)return C;for(var S=1;S<=_.length-1;S++)if(C.push(_[S]),C.length===b)return C;w=x=k}}return C.push(d.slice(x)),C}]})},function(t,e,n){n(198);for(var r=n(3),i=n(21),o=n(32),a=n(4)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],f=u&&u.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(t,e,n){"use strict";t.exports=n(139)()?Object.setPrototypeOf:n(140)},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===i}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call("");t.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===i)||!1}},function(t,e,n){t.exports=n(230)},function(t,e,n){var r=n(101),i=n(304);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){var r=n(113),i=n(311),o=(n(19),n(314));function a(e,n,s){return"undefined"!=typeof Reflect&&i?t.exports=a=i:t.exports=a=function(t,e,n){var i=o(t,e);if(i){var a=r(i,e);return a.get?a.get.call(n):a.value}},a(e,n,s||e)}t.exports=a},function(t,e,n){var r=n(315),i=n(318);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){t.exports=n(233)},function(t,e,n){var r=n(11),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(11);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(1),i=n(3),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(39)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){e.f=n(4)},function(t,e,n){var r=n(3),i=n(1),o=n(39),a=n(69),s=n(10).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(72),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(68)("keys"),i=n(48);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(7),i=n(168),o=n(74),a=n(73)("IE_PROTO"),s=function(){},l=function(){var t,e=n(66)("iframe"),r=o.length;for(e.style.display="none",n(111).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(2),i=n(1),o=n(20);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){"use strict";var r=n(17),i=n(29),o=n(79),a=n(80);n(84)("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=r(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var f,d=[],h=0;null!==(f=a(l,c));){var p=String(f[0]);d[h]=p,""===p&&(l.lastIndex=o(c,i(l.lastIndex),u)),h++}return 0===h?null:d}]})},function(t,e,n){"use strict";var r=n(178)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r=n(115),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(82),i=n(23),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(179)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";n(180);var r=n(43),i=n(55),o=n(24),a=n(30),s=n(9),l=n(85),c=s("species"),u=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),h=!o(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),p=h?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e}):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],g=n(a,d,""[t],function(t,e,n,r,i){return e.exec===l?h&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=g[0],y=g[1];r(String.prototype,t,v),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){"use strict";var r,i,o=n(54),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(t){var e,n,r,i,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(e=l.lastIndex),r=a.call(l,t),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),u&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=l},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(119);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(23),i=n(183),o=n(42).f,a=n(187).f,s=n(90),l=n(54),c=r.RegExp,u=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(n(12)&&(!p||n(24)(function(){return h[n(9)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new u(r&&!o?t.source:t,e):u((r=t instanceof c)?t.source:t,r&&o?l.call(t):e),n?this:f,c)};for(var m=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),v=0;g.length>v;)m(g[v++]);f.constructor=c,c.prototype=f,n(43)(r,"RegExp",c)}n(192)("RegExp")},function(t,e,n){var r=n(120),i=n(30);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(22),i=n(53),o=n(9)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(17),i=n(122),o=n(29),a=n(52),s=n(79),l=n(80),c=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(84)("replace",2,function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var g=f.global;if(g){var v=f.unicode;f.lastIndex=0}for(var y=[];;){var b=l(f,d);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(f.lastIndex=s(d,o(f.lastIndex),v))}for(var x,w="",C=0,k=0;k<y.length;k++){b=y[k];for(var _=String(b[0]),S=c(u(a(b.index),d.length),0),E=[],T=1;T<b.length;T++)E.push(void 0===(x=b[T])?x:String(x));var O=b.groups;if(h){var M=[_].concat(E,S,d);void 0!==O&&M.push(O);var L=String(e.apply(void 0,M))}else L=m(_,d,S,E,O,e);S>=C&&(w+=d.slice(C,S)+L,C=S+_.length)}return w+d.slice(C)}];function m(t,e,r,o,a,s){var l=r+t.length,c=o.length,u=h;return void 0!==a&&(a=i(a),u=d),n.call(s,u,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var d=f(u/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";var r=n(31),i=n(121)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(123)("includes")},function(t,e,n){"use strict";var r=n(31),i=n(124);r(r.P+r.F*n(125)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(15),i=n(28),o=n(73)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(40),i=n(4)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(95),i=n(4)("iterator"),o=n(32);t.exports=n(1).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(47);function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";t.exports=n(263)()?Object.assign:n(264)},function(t,e,n){"use strict";t.exports=n(269)()?String.prototype.contains:n(270)},function(t,e,n){"use strict";var r,i=n(136),o=n(98),a=n(14),s=n(13),l=n(25),c=n(280),u=n(18),f=Object.defineProperty,d=Object.defineProperties;t.exports=r=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");d(this,{__list__:l("w",s(t)),__context__:l("w",e),__nextIndex__:l("w",0)}),e&&(a(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete r.prototype.constructor,d(r.prototype,o({_next:l(function(){var t;if(this.__list__)return this.__redo__&&void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:l(function(t){return this.__list__[t]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[u.toStringTag]||"Object")+"]"})},c({_onAdd:l(function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,n){e>=t&&(this.__redo__[n]=++e)},this),this.__redo__.push(t)):f(this,"__redo__",l("c",[t])))}),_onDelete:l(function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(t))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,n){e>t&&(this.__redo__[n]=--e)},this)))}),_onClear:l(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),f(r.prototype,u.iterator,l(function(){return this}))},function(t,e,n){var r=n(211),i=n(213);function o(t){return(o="function"==typeof i&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t})(t)}function a(e){return"function"==typeof i&&"symbol"===o(r)?t.exports=a=function(t){return o(t)}:t.exports=a=function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":o(t)},a(e)}t.exports=a},function(t,e,n){t.exports=n(294)},function(t,e){t.exports=function(t,e){return(e="number"==typeof e?e:1/0)?function t(n,r){return n.reduce(function(n,i){return Array.isArray(i)&&r<e?n.concat(t(i,r+1)):n.concat(i)},[])}(t,1):Array.isArray(t)?t.map(function(t){return t}):t}},function(t,e,n){t.exports=n(163)},function(t,e,n){"use strict";var r=n(3),i=n(15),o=n(8),a=n(2),s=n(107),l=n(164).KEY,c=n(20),u=n(68),f=n(49),d=n(48),h=n(4),p=n(69),m=n(70),g=n(165),v=n(110),y=n(7),b=n(11),x=n(28),w=n(16),C=n(67),k=n(38),_=n(76),S=n(169),E=n(51),T=n(75),O=n(10),M=n(27),L=E.f,A=O.f,N=S.f,P=r.Symbol,F=r.JSON,I=F&&F.stringify,j=h("_hidden"),D=h("toPrimitive"),z={}.propertyIsEnumerable,R=u("symbol-registry"),B=u("symbols"),H=u("op-symbols"),W=Object.prototype,U="function"==typeof P&&!!T.f,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,K=o&&c(function(){return 7!=_(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=L(W,e);r&&delete W[e],A(t,e,n),r&&t!==W&&A(W,e,r)}:A,$=function(t){var e=B[t]=_(P.prototype);return e._k=t,e},q=U&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===W&&Y(H,e,n),y(t),e=C(e,!0),y(n),i(B,e)?(n.enumerable?(i(t,j)&&t[j][e]&&(t[j][e]=!1),n=_(n,{enumerable:k(0,!1)})):(i(t,j)||A(t,j,k(1,{})),t[j][e]=!0),K(t,e,n)):A(t,e,n)},J=function(t,e){y(t);for(var n,r=g(e=w(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},X=function(t){var e=z.call(this,t=C(t,!0));return!(this===W&&i(B,t)&&!i(H,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,j)&&this[j][t])||e)},Z=function(t,e){if(t=w(t),e=C(e,!0),t!==W||!i(B,e)||i(H,e)){var n=L(t,e);return!n||!i(B,e)||i(t,j)&&t[j][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=N(w(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==j||e==l||r.push(e);return r},tt=function(t){for(var e,n=t===W,r=N(n?H:w(t)),o=[],a=0;r.length>a;)!i(B,e=r[a++])||n&&!i(W,e)||o.push(B[e]);return o};U||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(H,n),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),K(this,t,k(1,n))};return o&&G&&K(W,t,{configurable:!0,set:e}),$(t)}).prototype,"toString",function(){return this._k}),E.f=Z,O.f=Y,n(112).f=S.f=Q,n(41).f=X,T.f=tt,o&&!n(39)&&s(W,"propertyIsEnumerable",X,!0),p.f=function(t){return $(h(t))}),a(a.G+a.W+a.F*!U,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var rt=M(h.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(R,t+="")?R[t]:R[t]=P(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?_(t):J(_(t),e)},defineProperty:Y,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var ot=c(function(){T.f(1)});a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return T.f(x(t))}}),F&&a(a.S+a.F*(!U||c(function(){var t=P();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!q(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,I.apply(F,r)}}),P.prototype[D]||n(21)(P.prototype,D,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){t.exports=!n(8)&&!n(20)(function(){return 7!=Object.defineProperty(n(66)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(21)},function(t,e,n){var r=n(15),i=n(16),o=n(166)(!1),a=n(73)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(40);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(40);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(108),i=n(74).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){t.exports=n(173)},function(t,e,n){t.exports=n(176)},function(t,e,n){var r=n(53),i=n(9)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){t.exports=!n(12)&&!n(24)(function(){return 7!=Object.defineProperty(n(181)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(22);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(53);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(89),i=n(29),o=n(189);t.exports=function(t){return function(e,n,a){var s,l=r(e),c=i(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(30);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(9)("unscopables"),i=Array.prototype;null==i[r]&&n(55)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(90),i=n(30);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(9)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e){},function(t,e,n){"use strict";var r=n(39),i=n(2),o=n(107),a=n(21),s=n(32),l=n(197),c=n(49),u=n(94),f=n(4)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,m,g,v){l(n,e,p);var y,b,x,w=function(t){if(!d&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",k="values"==m,_=!1,S=t.prototype,E=S[f]||S["@@iterator"]||m&&S[m],T=E||w(m),O=m?k?w("entries"):T:void 0,M="Array"==e&&S.entries||E;if(M&&(x=u(M.call(new t)))!==Object.prototype&&x.next&&(c(x,C,!0),r||"function"==typeof x[f]||a(x,f,h)),k&&E&&"values"!==E.name&&(_=!0,T=function(){return E.call(this)}),r&&!v||!d&&!_&&S[f]||a(S,f,T),s[e]=T,s[C]=h,m)if(y={values:k?T:w("values"),keys:g?T:w("keys"),entries:O},v)for(b in y)b in S||o(S,b,y[b]);else i(i.P+i.F*(d||_),e,y);return y}},function(t,e,n){var r=n(7);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(32),i=n(4)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(7),i=n(47),o=n(4)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(26),s=n(204),l=n(111),c=n(66),u=n(3),f=u.process,d=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete v[t]},"process"==n(40)(f)?r=function(t){f.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(7),i=n(11),o=n(97);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(4)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(13);t.exports=function(){return r(this).length=0,this}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=n(257),i=Math.max;t.exports=function(t){return i(0,r(t))}},function(t,e,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};t.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"==typeof t&&i(t(e(null),o))===o}},function(t,e,n){"use strict";var r,i,o,a,s=n(261),l=n(13),c=Object.prototype.isPrototypeOf,u=Object.defineProperty,f={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(t,e){if(l(t),null===e||s(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=(i=function(){var t,e=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(t=r.set).call(e,n)}catch(t){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return e.__proto__=n,Object.getPrototypeOf(e)===n?{level:2}:((e={}).__proto__=n,Object.getPrototypeOf(e)===n&&{level:1})}())?(2===i.level?i.set?(a=i.set,o=function(t,e){return a.call(r(t,e),e),t}):o=function(t,e){return r(t,e).__proto__=e,t}:o=function t(e,n){var i;return r(e,n),(i=c.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===n&&(n=t.nullPolyfill),e.__proto__=n,i&&u(t.nullPolyfill,"__proto__",f),e},Object.defineProperty(o,"level",{configurable:!1,enumerable:!1,writable:!1,value:i.level})):null,n(262)},function(t,e,n){"use strict";var r=n(33),i=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(276);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},function(t,e,n){"use strict";n(292);var r=n(17),i=n(54),o=n(12),a=/./.toString,s=function(t){n(43)(RegExp.prototype,"toString",t,!0)};n(24)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";var r=n(115),i={};i[n(9)("toStringTag")]="z",i+""!="[object z]"&&n(43)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(31),i=n(29),o=n(124),a="".endsWith;r(r.P+r.F*n(125)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){t.exports=n(308)},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,c=0,u=[],f=n(330);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(y(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertAt.before,n);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;n=l||(l=g(e)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&d(h(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){var r=n(104),i=n(170);t.exports=function(t,e){if(null==t)return{};var n,o,a=i(t,e);if(r){var s=r(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}},function(t,e,n){var r=n(113),i=n(104),o=n(35),a=n(175);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},s=o(n);"function"==typeof i&&(s=s.concat(i(n).filter(function(t){return r(n,t).enumerable}))),s.forEach(function(e){a(t,e,n[e])})}return t}},function(t,e,n){var r=n(217),i=n(221),o=n(229);t.exports=function(t){return r(t)||i(t)||o()}},function(t,e,n){"use strict";var r,i,o,a=n(136),s=n(253),l=n(58),c=n(14),u=n(25),f=n(271),d=n(18),h=n(142),p=n(277),m=n(290),g=n(291),v=Function.prototype.call,y=Object.defineProperty,b=Object.getPrototypeOf;g&&(o=Set),t.exports=r=function(){var t,e=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return t=g&&l?l(new o,b(this)):this,null!=e&&h(e),y(t,"__setData__",u("c",[])),e?(p(e,function(t){-1===s.call(this,t)&&this.push(t)},t.__setData__),t):t},g&&(l&&l(r,o),r.prototype=Object.create(o.prototype,{constructor:u(r)})),f(Object.defineProperties(r.prototype,{add:u(function(t){return this.has(t)?this:(this.emit("_add",this.__setData__.push(t)-1,t),this)}),clear:u(function(){this.__setData__.length&&(a.call(this.__setData__),this.emit("_clear"))}),delete:u(function(t){var e=s.call(this.__setData__,t);return-1!==e&&(this.__setData__.splice(e,1),this.emit("_delete",e,t),!0)}),entries:u(function(){return new m(this,"key+value")}),forEach:u(function(t){var e,n,r,i=arguments[1];for(c(t),n=(e=this.values())._next();void 0!==n;)r=e._resolve(n),v.call(t,i,r,r,this),n=e._next()}),has:u(function(t){return-1!==s.call(this.__setData__,t)}),keys:u(i=function(){return this.values()}),size:u.gs(function(){return this.__setData__.length}),values:u(function(){return new m(this)}),toString:u(function(){return"[object Set]"})})),y(r.prototype,d.iterator,u(i)),y(r.prototype,d.toStringTag,u("c","Set"))},function(t,e,n){t.exports=n(293)},function(t,e,n){"use strict";(function(e){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(t){var e,n,i,o,a,s,l=Object.create(null);if(this[c]=l,t)if("string"==typeof t)for("?"===t.charAt(0)&&(t=t.slice(1)),a=0,s=(o=t.split("&")).length;a<s;a++)-1<(e=(i=o[a]).indexOf("="))?f(l,d(i.slice(0,e)),d(i.slice(e+1))):i.length&&f(l,d(i),"");else if(r(t))for(a=0,s=t.length;a<s;a++)f(l,(i=t[a])[0],i[1]);else if(t.forEach)t.forEach(u,l);else for(n in t)f(l,n,t[n])}var r=Array.isArray,i=n.prototype,o=/[!'\(\)~]|%20|%00/g,a=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},l=function(t){return s[t]},c="__URLSearchParams__:"+Math.random();function u(t,e){f(this,e,t)}function f(t,e,n){var i=r(n)?n.join(","):n;e in t?t[e].push(i):t[e]=[i]}function d(t){return decodeURIComponent(t.replace(a," "))}function h(t){return encodeURIComponent(t).replace(o,l)}i.append=function(t,e){f(this[c],t,e)},i.delete=function(t){delete this[c][t]},i.get=function(t){var e=this[c];return t in e?e[t][0]:null},i.getAll=function(t){var e=this[c];return t in e?e[t].slice(0):[]},i.has=function(t){return t in this[c]},i.set=function(t,e){this[c][t]=[""+e]},i.forEach=function(t,e){var n=this[c];Object.getOwnPropertyNames(n).forEach(function(r){n[r].forEach(function(n){t.call(e,n,r,this)},this)},this)},i.toJSON=function(){return{}},i.toString=function(){var t,e,n,r,i=this[c],o=[];for(e in i)for(n=h(e),t=0,r=i[e];t<r.length;t++)o.push(n+"="+h(r[t]));return o.join("&")},function(t){var e=function(){try{return!!Symbol.iterator}catch(t){return!1}}();"forEach"in t||(t.forEach=function(t,e){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach(function(r){!r.length||r in n||(n[r]=this.getAll(r)).forEach(function(n){t.call(e,n,r,this)},this)},this)}),"keys"in t||(t.keys=function(){var t=[];this.forEach(function(e,n){t.push(n)});var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n}),"values"in t||(t.values=function(){var t=[];this.forEach(function(e){t.push(e)});var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in t||(t.entries=function(){var t=[];this.forEach(function(e,n){t.push([n,e])});var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e&&(n[Symbol.iterator]=function(){return n}),n}),!e||Symbol.iterator in t||(t[Symbol.iterator]=t.entries),"sort"in t||(t.sort=function(){for(var t,e,n,r=this.entries(),i=r.next(),o=i.done,a=[],s=Object.create(null);!o;)e=(n=i.value)[0],a.push(e),e in s||(s[e]=[]),s[e].push(n[1]),o=(i=r.next()).done;for(a.sort(),t=0;t<a.length;t++)this.delete(a[t]);for(t=0;t<a.length;t++)e=a[t],this.append(e,s[e].shift())})}((n=t.exports=e.URLSearchParams||n).prototype)}).call(this,n(145))},function(t,e){var n=Array.isArray;t.exports=function(t){return!(!t||"object"!=typeof t||n(t)||Object.keys(t).length)}},function(t,e,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;t.exports=function(t){var e,n=""+t,i=r.exec(n);if(!i)return n;var o="",a=0,s=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==a&&(o+=n.substring(s,a)),s=a+1,o+=e}return s!==a?o+n.substring(s,a):o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(319),o=n(320),a=n(321),s=(r=a)&&r.__esModule?r:{default:r};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.default={show:i.Show,hide:i.Hide,fadeIn:o.FadeIn,onclick:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"click"))}return u(e,s.default),e}(),oncontextmenu:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"contextmenu"))}return u(e,s.default),e}(),ondblclick:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dblclick"))}return u(e,s.default),e}(),onmousedown:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mousedown"))}return u(e,s.default),e}(),onmouseenter:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseenter"))}return u(e,s.default),e}(),onmouseleave:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseleave"))}return u(e,s.default),e}(),onmousemove:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mousemove"))}return u(e,s.default),e}(),onmouseover:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseover"))}return u(e,s.default),e}(),onmouseout:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseout"))}return u(e,s.default),e}(),onmouseup:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"mouseup"))}return u(e,s.default),e}(),onkeydown:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"keydown"))}return u(e,s.default),e}(),onkeypress:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"keypress"))}return u(e,s.default),e}(),onkeyup:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"keyup"))}return u(e,s.default),e}(),onload:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"load"))}return u(e,s.default),e}(),onresize:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"resize"))}return u(e,s.default),e}(),onscroll:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"scroll"))}return u(e,s.default),e}(),onblur:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"blur"))}return u(e,s.default),e}(),onchange:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"change"))}return u(e,s.default),e}(),onfocus:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"focus"))}return u(e,s.default),e}(),onfocusin:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"focusin"))}return u(e,s.default),e}(),onfocusout:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"focusout"))}return u(e,s.default),e}(),oninput:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"input"))}return u(e,s.default),e}(),onreset:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"reset"))}return u(e,s.default),e}(),onselect:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"select"))}return u(e,s.default),e}(),onsubmit:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"submit"))}return u(e,s.default),e}(),ondrag:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"drag"))}return u(e,s.default),e}(),ondragend:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragend"))}return u(e,s.default),e}(),ondragenter:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragenter"))}return u(e,s.default),e}(),ondragleave:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragleave"))}return u(e,s.default),e}(),ondragover:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragover"))}return u(e,s.default),e}(),ondragstart:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"dragstart"))}return u(e,s.default),e}(),ondrop:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"drop"))}return u(e,s.default),e}(),animationend:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"animationend"))}return u(e,s.default),e}(),animationiteration:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"animationiteration"))}return u(e,s.default),e}(),animationstart:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"animationstart"))}return u(e,s.default),e}(),transitionend:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"webkitTransitionEnd"))}return u(e,s.default),e}(),onmessage:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"message"))}return u(e,s.default),e}(),onopen:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"open"))}return u(e,s.default),e}(),onwheel:function(t){function e(){return l(this,e),c(this,Object.getPrototypeOf(e).call(this,"wheel"))}return u(e,s.default),e}()}},function(t,e,n){var r,i=n(45),o=(r=n(325))&&r.__esModule?r.default:r;var a=function(t,e,n){var r,i=e.length,o=document.createElement("div");for(o.innerHTML=n;i-- >0;)e[i].parentNode.removeChild(e.pop());for(i=r=o.childNodes.length-1;r>=0;r--)e.push(o.childNodes[r]);if(++i,8==t.nodeType){if(!t.parentNode)throw"Can not insert child view into parent node. You need append your view first and then update.";for(;i-- >0;)t.parentNode.insertBefore(e[i],t)}else for(;i-- >0;)t.appendChild(e[i])};function s(){i.call(this);var t=this,e=document.createElement("div"),n=document.createElement("div"),r=document.createComment("if"),o={},a=document.createElement("div"),s=document.createComment("if"),h={},p=document.createElement("textarea"),g=document.createElement("div"),v=document.createComment("if"),y={},b=document.createComment("if"),x={},w={},C=document.createComment("if"),k={};a.appendChild(s),a.appendChild(p),a.setAttribute("class","code-area "),g.appendChild(v),g.appendChild(b),g.setAttribute("class","js-code-output-executor "),n.appendChild(r),n.appendChild(a),n.appendChild(g),n.setAttribute("class","executable-fragment "),e.appendChild(n),e.appendChild(C),e.setAttribute("class","executable-fragment-wrapper"),this.__update__={highlightOnly:function(e){i.cond(t,r,o,l,!e),i.cond(t,C,k,m,!e)},isShouldBeFolded:function(e){i.cond(t,s,h,c,e)},folded:function(t){a.setAttribute("class","code-area "+(t?"_folded":"_unfolded"))},openConsole:function(e){i.cond(t,v,y,u,e)},waitingForOutput:function(e){var n;n=i.cond(t,b,x,f,e),i.cond(t,b,w,d,!n)},theme:function(t){g.setAttribute("class","js-code-output-executor "+t),n.setAttribute("class","executable-fragment "+t)}},this.onUpdate=function(t){o.ref&&o.ref.update(t),h.ref&&h.ref.update(t),y.ref&&y.ref.update(t),x.ref&&x.ref.update(t),w.ref&&w.ref.update(t),k.ref&&k.ref.update(t)},this.nodes=[e]}function l(){i.call(this);var t,e=this,n=document.createElement("div");n.setAttribute("class","run-button "),this.__update__={waitingForOutput:function(t){n.setAttribute("class","run-button "+(t?"_disabled":""))}},this.onRender=function(){void 0===t&&(t=new e.directives.onclick),t.bind(n),t.update(e.parent.execute.bind(e.parent))},this.onRemove=function(e){t.unbind(n)},this.nodes=[n]}function c(){i.call(this),this.__cache__={};var t,e,n=this,r=document.createElement("div");r.setAttribute("class","fold-button  "),this.__update__={foldButtonHover_theme:function(t,e){r.setAttribute("class","fold-button "+(t?"_hover":"")+" "+e)}},this.onRender=function(){void 0===t&&(t=new n.directives.onmouseenter),t.bind(r),t.update(n.parent.onFoldButtonMouseEnter.bind(n.parent)),void 0===e&&(e=new n.directives.onmouseleave),e.bind(r),e.update(n.parent.onFoldButtonMouseLeave.bind(n.parent))},this.onRemove=function(n){t.unbind(r),e.unbind(r)},this.nodes=[r]}function u(){i.call(this);var t,e=this,n=document.createElement("div");n.setAttribute("class","console-close "),this.__update__={theme:function(t){n.setAttribute("class","console-close "+t)}},this.onRender=function(){void 0===t&&(t=new e.directives.onclick),t.bind(n),t.update(e.parent.onConsoleCloseButtonEnter.bind(e.parent))},this.onRemove=function(e){t.unbind(n)},this.nodes=[n]}function f(){i.call(this);var t=document.createElement("div"),e=document.createElement("div");e.setAttribute("class","loader "),t.appendChild(e),t.setAttribute("class","output-wrapper "),this.__update__={theme:function(n){e.setAttribute("class","loader "+n),t.setAttribute("class","output-wrapper "+n)}},this.nodes=[t]}function d(){i.call(this),this.__cache__={};var t=this,e=document.createComment("if"),n={};this.__update__={exception_output:function(r,o){i.cond(t,e,n,h,o&&""!=o||r)}},this.onUpdate=function(t){n.ref&&n.ref.update(t)},this.nodes=[e]}function h(){i.call(this);var t=this,e=document.createElement("div"),n=document.createElement("div"),r=document.createComment("unsafe"),o=[],s=document.createComment("if"),l={};n.appendChild(r),n.appendChild(s),n.setAttribute("class","code-output"),e.appendChild(n),e.setAttribute("class","output-wrapper "),this.__update__={output:function(t){a(r,o,t)},exception:function(e){i.cond(t,s,l,p,e)},theme:function(t){e.setAttribute("class","output-wrapper "+t)}},this.onUpdate=function(t){l.ref&&l.ref.update(t)},this.nodes=[e]}function p(){i.call(this);var t=this,e=document.createComment("Exception"),n={};this.__update__={exception:function(r){i.insert(t,e,n,o,r)}},this.onRender=function(){i.insert(t,e,n,o,{originalException:!0,onExceptionClick:t.parent.parent.parent.onExceptionClick.bind(t.parent.parent.parent)})},this.nodes=[e]}function m(){i.call(this);var t=document.createElement("div"),e=document.createElement("span"),n=document.createTextNode(""),r=document.createElement("span"),o=document.createTextNode("");e.appendChild(document.createTextNode("Target platform: ")),e.appendChild(n),r.appendChild(document.createTextNode("Running on kotlin v. ")),r.appendChild(o),t.appendChild(e),t.appendChild(r),t.setAttribute("class","compiler-info"),this.__update__={targetPlatform:function(t){n.textContent=t.printableName},compilerVersion:function(t){o.textContent=t}},this.nodes=[t]}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.pool=[],s.prototype.update=function(t){void 0!==t.highlightOnly&&this.__update__.highlightOnly(t.highlightOnly),void 0!==t.isShouldBeFolded&&this.__update__.isShouldBeFolded(t.isShouldBeFolded),void 0!==t.folded&&this.__update__.folded(t.folded),void 0!==t.openConsole&&this.__update__.openConsole(t.openConsole),void 0!==t.waitingForOutput&&this.__update__.waitingForOutput(t.waitingForOutput),void 0!==t.theme&&this.__update__.theme(t.theme),this.onUpdate(t)},l.prototype=Object.create(i.prototype),l.prototype.constructor=l,l.pool=[],l.prototype.update=function(t){void 0!==t.waitingForOutput&&this.__update__.waitingForOutput(t.waitingForOutput)},c.prototype=Object.create(i.prototype),c.prototype.constructor=c,c.pool=[],c.prototype.update=function(t){void 0!==t.foldButtonHover&&(this.__cache__.foldButtonHover=t.foldButtonHover),void 0!==t.theme&&(this.__cache__.theme=t.theme),void 0!==this.__cache__.foldButtonHover&&void 0!==this.__cache__.theme&&this.__update__.foldButtonHover_theme(this.__cache__.foldButtonHover,this.__cache__.theme)},u.prototype=Object.create(i.prototype),u.prototype.constructor=u,u.pool=[],u.prototype.update=function(t){void 0!==t.theme&&this.__update__.theme(t.theme)},f.prototype=Object.create(i.prototype),f.prototype.constructor=f,f.pool=[],f.prototype.update=function(t){void 0!==t.theme&&this.__update__.theme(t.theme)},d.prototype=Object.create(i.prototype),d.prototype.constructor=d,d.pool=[],d.prototype.update=function(t){void 0!==t.exception&&(this.__cache__.exception=t.exception),void 0!==t.output&&(this.__cache__.output=t.output),void 0!==this.__cache__.exception&&void 0!==this.__cache__.output&&this.__update__.exception_output(this.__cache__.exception,this.__cache__.output),this.onUpdate(t)},h.prototype=Object.create(i.prototype),h.prototype.constructor=h,h.pool=[],h.prototype.update=function(t){void 0!==t.output&&this.__update__.output(t.output),void 0!==t.exception&&this.__update__.exception(t.exception),void 0!==t.theme&&this.__update__.theme(t.theme),this.onUpdate(t)},p.prototype=Object.create(i.prototype),p.prototype.constructor=p,p.pool=[],p.prototype.update=function(t){void 0!==t.exception&&this.__update__.exception(t.exception)},m.prototype=Object.create(i.prototype),m.prototype.constructor=m,m.pool=[],m.prototype.update=function(t){void 0!==t.targetPlatform&&this.__update__.targetPlatform(t.targetPlatform),void 0!==t.compilerVersion&&this.__update__.compilerVersion(t.compilerVersion)},t.exports=s},function(t,e,n){var r=n(45);function i(){r.call(this);var t=this,e=document.createElement("span"),n=document.createTextNode(""),i=document.createComment("if"),l={},c=document.createElement("br"),u=document.createComment("for"),f=new r.Map,d=document.createComment("for"),h=new r.Map;e.appendChild(document.createTextNode('Exception in thread "main" ')),e.appendChild(n),e.appendChild(i),e.setAttribute("class","error-output"),this.__update__={fullName:function(t){n.textContent=t},message:function(e){r.cond(t,i,l,o,e)},stackTrace:function(e){r.loop(t,u,f,a,e,{value:"stacktraceElement"})},causes:function(e){r.loop(t,d,h,s,e,{value:"cause"})}},this.onUpdate=function(t){l.ref&&l.ref.update(t),f.forEach(function(e){e.update(e.__state__),e.update(t),e.update(e.__state__)}),h.forEach(function(e){e.update(e.__state__),e.update(t),e.update(e.__state__)})},this.nodes=[e,c,u,d]}function o(){r.call(this);var t=document.createTextNode("");this.__update__={message:function(e){t.textContent=e}},this.nodes=[document.createTextNode(": "),t]}function a(){r.call(this),this.__state__={};var t,e=this,n=document.createElement("span"),i=document.createTextNode(""),o=document.createTextNode(""),a=document.createElement("span"),s=document.createTextNode(""),l=document.createTextNode(""),c=document.createElement("br");a.appendChild(s),a.appendChild(document.createTextNode(":")),a.appendChild(l),a.setAttribute("class","stacktrace-link"),n.appendChild(document.createTextNode(" at ")),n.appendChild(i),n.appendChild(document.createTextNode(".")),n.appendChild(o),n.appendChild(document.createTextNode(" (")),n.appendChild(a),n.appendChild(document.createTextNode(") ")),n.setAttribute("class","stacktrace-element error-output"),this.__update__={stacktraceElement:function(n){i.textContent=n.className,o.textContent=n.methodName,s.textContent=n.fileName,l.textContent=n.lineNumber,t.update(e.parent.onStackTraceClick.bind(e.parent,n.fileName,n.lineNumber))}},this.onRender=function(){void 0===t&&(t=new e.directives.onclick),t.bind(a)},this.onRemove=function(e){t.unbind(a)},this.nodes=[n,c]}function s(){r.call(this),this.__state__={};var t=this,e=document.createElement("span"),n=document.createTextNode(""),i=document.createComment("if"),o={},a=document.createElement("br"),s=document.createComment("for"),u=new r.Map;e.appendChild(document.createTextNode("Caused by: ")),e.appendChild(n),e.appendChild(i),e.setAttribute("class","error-output"),this.__update__={fullName:function(t){n.textContent=t},message:function(e){r.cond(t,i,o,l,e)},stackTrace:function(e){r.loop(t,s,u,c,e,{value:"stacktraceElement"})}},this.onUpdate=function(t){o.ref&&o.ref.update(t),u.forEach(function(e){e.update(e.__state__),e.update(t),e.update(e.__state__)})},this.nodes=[e,a,s]}function l(){r.call(this);var t=document.createTextNode("");this.__update__={message:function(e){t.textContent=e}},this.nodes=[document.createTextNode(": "),t]}function c(){r.call(this),this.__state__={};var t=document.createElement("span"),e=document.createTextNode(""),n=document.createTextNode(""),i=document.createTextNode(""),o=document.createTextNode(""),a=document.createElement("br");t.appendChild(document.createTextNode("at ")),t.appendChild(e),t.appendChild(document.createTextNode(" .")),t.appendChild(n),t.appendChild(document.createTextNode("(")),t.appendChild(i),t.appendChild(document.createTextNode(":")),t.appendChild(o),t.appendChild(document.createTextNode(")")),t.setAttribute("class","stacktrace-element error-output"),this.__update__={stacktraceElement:function(t){e.textContent=t.className,n.textContent=t.methodName,i.textContent=t.fileName,o.textContent=t.lineNumber}},this.nodes=[t,a]}i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.pool=[],i.prototype.update=function(t){void 0!==t.fullName&&this.__update__.fullName(t.fullName),void 0!==t.message&&this.__update__.message(t.message),void 0!==t.stackTrace&&this.__update__.stackTrace(t.stackTrace),void 0!==t.causes&&this.__update__.causes(t.causes),this.onUpdate(t)},o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.pool=[],o.prototype.update=function(t){void 0!==t.message&&this.__update__.message(t.message)},a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.pool=[],a.prototype.update=function(t){void 0!==t.stacktraceElement&&void 0!==t.__index__&&this.__update__.stacktraceElement(t.stacktraceElement)},s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.pool=[],s.prototype.update=function(t){void 0!==t.fullName&&this.__update__.fullName(t.fullName),void 0!==t.message&&this.__update__.message(t.message),void 0!==t.stackTrace&&this.__update__.stackTrace(t.stackTrace),void 0!==t.cause&&t.__index__,this.onUpdate(t)},l.prototype=Object.create(r.prototype),l.prototype.constructor=l,l.pool=[],l.prototype.update=function(t){void 0!==t.message&&this.__update__.message(t.message)},c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.pool=[],c.prototype.update=function(t){void 0!==t.stacktraceElement&&void 0!==t.__index__&&this.__update__.stacktraceElement(t.stacktraceElement)},t.exports=i},function(t,e,n){t.exports=n(326)},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.6+9869a4bc
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,a=void 0,s=function(t,e){p[i]=t,p[i+1]=e,2===(i+=2)&&(a?a(m):x())},l="undefined"!=typeof window?window:void 0,c=l||{},u=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(m,1)}}var p=new Array(1e3);function m(){for(var t=0;t<i;t+=2){(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0}i=0}var g,v,y,b,x=void 0;function w(t,e){var n=this,r=new this.constructor(_);void 0===r[k]&&R(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return D(i,r,o,n._result)})}else I(n,r,t,e);return r}function C(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(_);return A(e,t),e}f?x=function(){return e.nextTick(m)}:u?(v=0,y=new u(m),b=document.createTextNode(""),y.observe(b,{characterData:!0}),x=function(){b.data=v=++v%2}):d?((g=new MessageChannel).port1.onmessage=m,x=function(){return g.port2.postMessage(0)}):x=void 0===l?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(m)}:h()}catch(t){return h()}}():h();var k=Math.random().toString(36).substring(2);function _(){}var S=void 0,E=1,T=2,O={error:null};function M(t){try{return t.then}catch(t){return O.error=t,O}}function L(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===C?function(t,e){e._state===E?P(t,e._result):e._state===T?F(t,e._result):I(e,void 0,function(e){return A(t,e)},function(e){return F(t,e)})}(e,n):r===O?(F(e,O.error),O.error=null):void 0===r?P(e,n):t(r)?function(t,e,n){s(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?A(t,n):P(t,n))},function(e){r||(r=!0,F(t,e))},t._label);!r&&i&&(r=!0,F(t,i))},t)}(e,n,r):P(e,n)}function A(t,e){var n,r;t===e?F(t,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=e),null===n||"object"!==r&&"function"!==r?P(t,e):L(t,e,M(e)))}function N(t){t._onerror&&t._onerror(t._result),j(t)}function P(t,e){t._state===S&&(t._result=e,t._state=E,0!==t._subscribers.length&&s(j,t))}function F(t,e){t._state===S&&(t._state=T,t._result=e,s(N,t))}function I(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+E]=n,i[o+T]=r,0===o&&t._state&&s(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?D(n,r,i,o):i(o);t._subscribers.length=0}}function D(e,n,r,i){var o=t(r),a=void 0,s=void 0,l=void 0,c=void 0;if(o){if((a=function(t,e){try{return t(e)}catch(t){return O.error=t,O}}(r,i))===O?(c=!0,s=a.error,a.error=null):l=!0,n===a)return void F(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;n._state!==S||(o&&l?A(n,a):c?F(n,s):e===E?P(n,a):e===T&&F(n,a))}var z=0;function R(t){t[k]=z++,t._state=void 0,t._result=void 0,t._subscribers=[]}var B=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[k]||R(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&P(this.promise,this._result))):F(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===C){var i=M(t);if(i===w&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===H){var o=new n(_);L(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===S&&(this._remaining--,t===T?F(r,n):this._result[e]=n),0===this._remaining&&P(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;I(t,void 0,function(t){return n._settledAt(E,e,t)},function(t){return n._settledAt(T,e,t)})},t}(),H=function(){function e(t){this[k]=z++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){A(t,e)},function(e){F(t,e)})}catch(e){F(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return H.prototype.then=w,H.all=function(t){return new B(this,t).promise},H.race=function(t){var e=this;return r(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},H.resolve=C,H.reject=function(t){var e=new this(_);return F(e,t),e},H._setScheduler=function(t){a=t},H._setAsap=function(t){s=t},H._asap=s,H.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=H},H.Promise=H,H},t.exports=r()}).call(this,n(351),n(145))},function(t,e,n){t.exports=n(355)},function(t,e,n){n(105),t.exports=n(1).Object.getOwnPropertySymbols},function(t,e,n){var r=n(48)("meta"),i=n(11),o=n(15),a=n(10).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(20)(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&l(t)&&!o(t,r)&&u(t),t}}},function(t,e,n){var r=n(27),i=n(75),o=n(41);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(16),i=n(71),o=n(167);t.exports=function(t){return function(e,n,a){var s,l=r(e),c=i(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(72),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(10),i=n(7),o=n(27);t.exports=n(8)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(16),i=n(112).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(35);t.exports=function(t,e){if(null==t)return{};var n,i,o={},a=r(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}},function(t,e,n){n(172),t.exports=n(1).Object.keys},function(t,e,n){var r=n(28),i=n(27);n(77)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(174);var r=n(1).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(16),i=n(51).f;n(77)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(114);t.exports=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){n(177);var r=n(1).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(2);r(r.S+r.F*!n(8),"Object",{defineProperty:n(10).f})},function(t,e,n){var r=n(52),i=n(30);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e){t.exports=!1},function(t,e,n){"use strict";var r=n(85);n(31)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){var r=n(22),i=n(23).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=n(81)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(22),i=n(184).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){var r=n(22),i=n(17),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(87)(Function.call,n(185).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(186),i=n(118),o=n(89),a=n(117),s=n(86),l=n(116),c=Object.getOwnPropertyDescriptor;e.f=n(12)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(188),i=n(191).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(86),i=n(89),o=n(121)(!1),a=n(190)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(52),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(81)("keys"),i=n(83);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";var r=n(23),i=n(42),o=n(12),a=n(9)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(42).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(12)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var r=n(17),i=n(119),o=n(9)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){n(126),n(44),n(57),n(201),n(209),n(210),t.exports=n(1).Promise},function(t,e,n){var r=n(72),i=n(50);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(76),i=n(38),o=n(49),a={};n(21)(a,n(4)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(199),i=n(200),o=n(32),a=n(16);t.exports=n(127)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o,a,s=n(39),l=n(3),c=n(26),u=n(95),f=n(2),d=n(11),h=n(47),p=n(202),m=n(203),g=n(130),v=n(131).set,y=n(205)(),b=n(97),x=n(132),w=n(206),C=n(133),k=l.TypeError,_=l.process,S=_&&_.versions,E=S&&S.v8||"",T=l.Promise,O="process"==u(_),M=function(){},L=i=b.f,A=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(4)("species")]=function(t){t(M,M)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),N=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(i||(2==t._h&&j(t),t._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===e.promise?c(k("Promise-chain cycle")):(o=N(n))?o.call(n,l,c):l(n)):c(r)}catch(t){u&&!a&&u.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&F(t)})}},F=function(t){v.call(l,function(){var e,n,r,i=t._v,o=I(t);if(o&&(e=x(function(){O?_.emit("unhandledRejection",i,t):(n=l.onunhandledrejection)?n({promise:t,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=O||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){v.call(l,function(){var e;O?_.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw k("Promise can't be resolved itself");(e=N(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(z,r,1),c(D,r,1))}catch(t){D.call(r,t)}}):(n._v=t,n._s=1,P(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};A||(T=function(t){p(this,T,"Promise","_h"),h(t),r.call(this);try{t(c(z,this,1),c(D,this,1))}catch(t){D.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(207)(T.prototype,{then:function(t,e){var n=L(g(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(z,t,1),this.reject=c(D,t,1)},b.f=L=function(t){return t===T||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!A,{Promise:T}),n(49)(T,"Promise"),n(208)("Promise"),a=n(1).Promise,f(f.S+f.F*!A,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!A),"Promise",{resolve:function(t){return C(s&&this===a?T:this,t)}}),f(f.S+f.F*!(A&&n(134)(function(t){T.all(t).catch(M)})),"Promise",{all:function(t){var e=this,n=L(e),r=n.resolve,i=n.reject,o=x(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=L(e),r=n.reject,i=x(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(26),i=n(128),o=n(129),a=n(7),s=n(71),l=n(96),c={},u={};(e=t.exports=function(t,e,n,f,d){var h,p,m,g,v=d?function(){return t}:l(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=s(t.length);h>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===c||g===u)return g}else for(m=v.call(t);!(p=m.next()).done;)if((g=i(m,y,p.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3),i=n(131).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(40)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){i.call(r,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(3).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(21);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r=n(3),i=n(1),o=n(10),a=n(8),s=n(4)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(2),i=n(1),o=n(3),a=n(130),s=n(133);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(2),i=n(97),o=n(132);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){t.exports=n(212)},function(t,e,n){n(44),n(57),t.exports=n(69).f("iterator")},function(t,e,n){t.exports=n(214)},function(t,e,n){n(105),n(126),n(215),n(216),t.exports=n(1).Symbol},function(t,e,n){n(70)("asyncIterator")},function(t,e,n){n(70)("observable")},function(t,e,n){var r=n(218);t.exports=function(t){if(r(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e,n){t.exports=n(219)},function(t,e,n){n(220),t.exports=n(1).Array.isArray},function(t,e,n){var r=n(2);r(r.S,"Array",{isArray:n(110)})},function(t,e,n){var r=n(222),i=n(226);t.exports=function(t){if(i(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r(t)}},function(t,e,n){t.exports=n(223)},function(t,e,n){n(44),n(224),t.exports=n(1).Array.from},function(t,e,n){"use strict";var r=n(26),i=n(2),o=n(28),a=n(128),s=n(129),l=n(71),c=n(225),u=n(96);i(i.S+i.F*!n(134)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(d);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(n=new h(e=l(d.length));e>v;v++)c(n,v,g?m(d[v],v):d[v]);else for(f=y.call(d),n=new h;!(i=f.next()).done;v++)c(n,v,g?a(f,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(10),i=n(38);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){t.exports=n(227)},function(t,e,n){n(57),n(44),t.exports=n(228)},function(t,e,n){var r=n(95),i=n(4)("iterator"),o=n(32);t.exports=n(1).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){n(231),t.exports=n(1).Object.assign},function(t,e,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(232)})},function(t,e,n){"use strict";var r=n(8),i=n(27),o=n(75),a=n(41),s=n(28),l=n(109),c=Object.assign;t.exports=!c||n(20)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=s(t),c=arguments.length,u=1,f=o.f,d=a.f;c>u;)for(var h,p=l(arguments[u++]),m=f?i(p).concat(f(p)):i(p),g=m.length,v=0;g>v;)h=m[v++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:c},function(t,e,n){n(234),t.exports=n(1).parseInt},function(t,e,n){var r=n(2),i=n(235);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(3).parseInt,i=n(236).trim,o=n(135),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(2),i=n(50),o=n(20),a=n(135),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,n){var i={},s=o(function(){return!!a[t]()||""!=""[t]()}),l=i[t]=s?e(f):a[t];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},f=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e,n){!function(t){"use strict";var e="CodeMirror-hint",n="CodeMirror-hint-active";function r(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;t.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}t.showHint=function(t,e,n){if(!e)return t.showHint(n);n&&n.async&&(e.async=!0);var r={hint:e};if(n)for(var i in n)r[i]=n[i];return t.showHint(r)},t.defineExtension("showHint",function(e){e=function(t,e,n){var r=t.options.hintOptions,i={};for(var o in u)i[o]=u[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(t,e)),i}(this,this.getCursor("start"),e);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!e.hint.supportsSelection)return;for(var i=0;i<n.length;i++)if(n[i].head.line!=n[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new r(this,e);o.options.hint&&(t.signal(this,"startCompletion",this),o.update(!0))}}),t.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var i=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(t){return"string"==typeof t?t:t.text}function s(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function l(r,i){this.completion=r,this.data=i,this.picked=!1;var o=this,l=r.cm,c=l.getInputField().ownerDocument,u=c.defaultView||c.parentWindow,f=this.hints=c.createElement("ul"),d=r.cm.options.theme;f.className="CodeMirror-hints "+d,this.selectedHint=i.selectedHint||0;for(var h=i.list,p=0;p<h.length;++p){var m=f.appendChild(c.createElement("li")),g=h[p],v=e+(p!=this.selectedHint?"":" "+n);null!=g.className&&(v=g.className+" "+v),m.className=v,g.render?g.render(m,i,g):m.appendChild(c.createTextNode(g.displayText||a(g))),m.hintId=p}var y=r.options.container||c.body,b=l.cursorCoords(r.options.alignWithWord?i.from:null),x=b.left,w=b.bottom,C=!0,k=0,_=0;if(y!==c.body){var S=-1!==["absolute","relative","fixed"].indexOf(u.getComputedStyle(y).position),E=S?y:y.offsetParent,T=E.getBoundingClientRect(),O=c.body.getBoundingClientRect();k=T.left-O.left-E.scrollLeft,_=T.top-O.top-E.scrollTop}f.style.left=x-k+"px",f.style.top=w-_+"px";var M=u.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),L=u.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);y.appendChild(f);var A=f.getBoundingClientRect(),N=A.bottom-L,P=f.scrollHeight>f.clientHeight+1,F=l.getScrollInfo();if(N>0){var I=A.bottom-A.top,j=b.top-(b.bottom-A.top);if(j-I>0)f.style.top=(w=b.top-I-_)+"px",C=!1;else if(I>L){f.style.height=L-5+"px",f.style.top=(w=b.bottom-A.top-_)+"px";var D=l.getCursor();i.from.ch!=D.ch&&(b=l.cursorCoords(D),f.style.left=(x=b.left-k)+"px",A=f.getBoundingClientRect())}}var z,R=A.right-M;if(R>0&&(A.right-A.left>M&&(f.style.width=M-5+"px",R-=A.right-A.left-M),f.style.left=(x=b.left-R-k)+"px"),P)for(var B=f.firstChild;B;B=B.nextSibling)B.style.paddingRight=l.display.nativeBarWidth+"px";return l.addKeyMap(this.keyMap=function(t,e){var n={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(1-e.menuSize(),!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){e.moveFocus(-1)},n["Ctrl-N"]=function(){e.moveFocus(1)});var r=t.options.customKeys,i=r?{}:n;function o(t,r){var o;o="string"!=typeof r?function(t){return r(t,e)}:n.hasOwnProperty(r)?n[r]:r,i[t]=o}if(r)for(var a in r)r.hasOwnProperty(a)&&o(a,r[a]);var s=t.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}(r,{moveFocus:function(t,e){o.changeActive(o.selectedHint+t,e)},setFocus:function(t){o.changeActive(t)},menuSize:function(){return o.screenAmount()},length:h.length,close:function(){r.close()},pick:function(){o.pick()},data:i})),r.options.closeOnUnfocus&&(l.on("blur",this.onBlur=function(){z=setTimeout(function(){r.close()},100)}),l.on("focus",this.onFocus=function(){clearTimeout(z)})),l.on("scroll",this.onScroll=function(){var t=l.getScrollInfo(),e=l.getWrapperElement().getBoundingClientRect(),n=w+F.top-t.top,i=n-(u.pageYOffset||(c.documentElement||c.body).scrollTop);if(C||(i+=f.offsetHeight),i<=e.top||i>=e.bottom)return r.close();f.style.top=n+"px",f.style.left=x+F.left-t.left+"px"}),t.on(f,"dblclick",function(t){var e=s(f,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),o.pick())}),t.on(f,"click",function(t){var e=s(f,t.target||t.srcElement);e&&null!=e.hintId&&(o.changeActive(e.hintId),r.options.completeOnSingleClick&&o.pick())}),t.on(f,"mousedown",function(){setTimeout(function(){l.focus()},20)}),t.signal(i,"select",h[this.selectedHint],f.childNodes[this.selectedHint]),!0}function c(t,e,n,r){if(t.async)t(e,r,n);else{var i=t(e,n);i&&i.then?i.then(r):r(i)}}r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,n){var r=e.list[n];r.hint?r.hint(this.cm,e,r):this.cm.replaceRange(a(r),r.from||e.from,r.to||e.to,"complete"),t.signal(e,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=i(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,n=++this.tick;c(this.options.hint,this.cm,this.options,function(r){e.tick==n&&e.finishUpdate(r,t)})}},finishUpdate:function(e,n){this.data&&t.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(r&&1==e.list.length?this.pick(e,0):(this.widget=new l(this,e),t.signal(e,"shown")))}},l.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,r){if(e>=this.data.list.length?e=r?this.data.list.length-1:0:e<0&&(e=r?0:this.data.list.length-1),this.selectedHint!=e){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+n,"")),(i=this.hints.childNodes[this.selectedHint=e]).className+=" "+n,i.offsetTop<this.hints.scrollTop?this.hints.scrollTop=i.offsetTop-3:i.offsetTop+i.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=i.offsetTop+i.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],i)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:function(e,n){var r,i=e.getHelpers(n,"hint");if(i.length){var o=function(t,e,n){var r=function(t,e){if(!t.somethingSelected())return e;for(var n=[],r=0;r<e.length;r++)e[r].supportsSelection&&n.push(e[r]);return n}(t,i);!function i(o){if(o==r.length)return e(null);c(r[o],t,n,function(t){t&&t.list.length>0?e(t):i(o+1)})}(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:r})}:t.hint.anyword?function(e,n){return t.hint.anyword(e,n)}:function(){}}}),t.registerHelper("hint","fromList",function(e,n){var r,i=e.getCursor(),o=e.getTokenAt(i),a=t.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",a=i);for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,r.length)==r&&l.push(u)}if(l.length)return{list:l,from:a,to:s}}),t.commands.autocomplete=t.showHint;var u={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)}(n(0))},function(t,e,n){!function(t){"use strict";var e=/[\w$]+/;t.registerHelper("hint","anyword",function(n,r){for(var i=r&&r.word||e,o=r&&r.range||500,a=n.getCursor(),s=n.getLine(a.line),l=a.ch,c=l;c&&i.test(s.charAt(c-1));)--c;for(var u=c!=l&&s.slice(c,l),f=r&&r.list||[],d={},h=new RegExp(i.source,"g"),p=-1;p<=1;p+=2)for(var m=a.line,g=Math.min(Math.max(m+p*o,n.firstLine()),n.lastLine())+p;m!=g;m+=p)for(var v,y=n.getLine(m);v=h.exec(y);)m==a.line&&v[0]===u||u&&0!=v[0].lastIndexOf(u,0)||Object.prototype.hasOwnProperty.call(d,v[0])||(d[v[0]]=!0,f.push(v[0]));return{list:f,from:t.Pos(a.line,c),to:t.Pos(a.line,l)}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(e,n,r){this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=e+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var i=this;function o(e){var n=t.wheelEventPixels(e)["horizontal"==i.orientation?"x":"y"],r=i.pos;i.moveTo(i.pos+n),i.pos!=r&&t.e_preventDefault(e)}t.on(this.inner,"mousedown",function(e){if(1==e.which){t.e_preventDefault(e);var n="horizontal"==i.orientation?"pageX":"pageY",r=e[n],o=i.pos;t.on(document,"mousemove",s),t.on(document,"mouseup",a)}function a(){t.off(document,"mousemove",s),t.off(document,"mouseup",a)}function s(t){if(1!=t.which)return a();i.moveTo(o+(t[n]-r)*(i.total/i.size))}}),t.on(this.node,"click",function(e){t.e_preventDefault(e);var n,r=i.inner.getBoundingClientRect();n="horizontal"==i.orientation?e.clientX<r.left?-1:e.clientX>r.right?1:0:e.clientY<r.top?-1:e.clientY>r.bottom?1:0,i.moveTo(i.pos+n*i.screen)}),t.on(this.node,"mousewheel",o),t.on(this.node,"DOMMouseScroll",o)}function n(t,n,r){this.addClass=t,this.horiz=new e(t,"horizontal",r),n(this.horiz.node),this.vert=new e(t,"vertical",r),n(this.vert.node),this.width=null}e.prototype.setPos=function(t,e){return t<0&&(t=0),t>this.total-this.screen&&(t=this.total-this.screen),!(!e&&t==this.pos||(this.pos=t,this.inner.style["horizontal"==this.orientation?"left":"top"]=t*(this.size/this.total)+"px",0))},e.prototype.moveTo=function(t){this.setPos(t)&&this.scroll(t,this.orientation)},e.prototype.update=function(t,e,n){var r=this.screen!=e||this.total!=t||this.size!=n;r&&(this.screen=e,this.total=t,this.size=n);var i=this.screen*(this.size/this.total);i<10&&(this.size-=10-i,i=10),this.inner.style["horizontal"==this.orientation?"width":"height"]=i+"px",this.setPos(this.pos,r)},n.prototype.update=function(t){if(null==this.width){var e=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;e&&(this.width=parseInt(e.height))}var n=this.width||0,r=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(t.scrollHeight,t.clientHeight,t.viewHeight-(r?n:0)),this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(t.scrollWidth,t.clientWidth,t.viewWidth-(i?n:0)-t.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=t.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(t){this.vert.setPos(t)},n.prototype.setScrollLeft=function(t){this.horiz.setPos(t)},n.prototype.clear=function(){var t=this.horiz.node.parentNode;t.removeChild(this.horiz.node),t.removeChild(this.vert.node)},t.scrollbarModel.simple=function(t,e){return new n("CodeMirror-simplescroll",t,e)},t.scrollbarModel.overlay=function(t,e){return new n("CodeMirror-overlayscroll",t,e)}}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("smalltalk",function(t){var e=/[+\-\/\\*~<>=@%|&?!.,:;^]/,n=/true|false|nil|self|super|thisContext/,r=function(t,e){this.next=t,this.parent=e},i=function(t,e,n){this.name=t,this.context=e,this.eos=n},o=function(){this.context=new r(a,null),this.expectVariable=!0,this.indentation=0,this.userIndentationDelta=0};o.prototype.userIndent=function(e){this.userIndentationDelta=e>0?e/t.indentUnit-this.indentation:0};var a=function(t,o,a){var f=new i(null,o,!1),d=t.next();return'"'===d?f=s(t,new r(s,o)):"'"===d?f=l(t,new r(l,o)):"#"===d?"'"===t.peek()?(t.next(),f=c(t,new r(c,o))):t.eatWhile(/[^\s.{}\[\]()]/)?f.name="string-2":f.name="meta":"$"===d?("<"===t.next()&&(t.eatWhile(/[^\s>]/),t.next()),f.name="string-2"):"|"===d&&a.expectVariable?f.context=new r(u,o):/[\[\]{}()]/.test(d)?(f.name="bracket",f.eos=/[\[{(]/.test(d),"["===d?a.indentation++:"]"===d&&(a.indentation=Math.max(0,a.indentation-1))):e.test(d)?(t.eatWhile(e),f.name="operator",f.eos=";"!==d):/\d/.test(d)?(t.eatWhile(/[\w\d]/),f.name="number"):/[\w_]/.test(d)?(t.eatWhile(/[\w\d_]/),f.name=a.expectVariable?n.test(t.current())?"keyword":"variable":null):f.eos=a.expectVariable,f},s=function(t,e){return t.eatWhile(/[^"]/),new i("comment",t.eat('"')?e.parent:e,!0)},l=function(t,e){return t.eatWhile(/[^']/),new i("string",t.eat("'")?e.parent:e,!1)},c=function(t,e){return t.eatWhile(/[^']/),new i("string-2",t.eat("'")?e.parent:e,!1)},u=function(t,e){var n=new i(null,e,!1),r=t.next();return"|"===r?(n.context=e.parent,n.eos=!0):(t.eatWhile(/[^|]/),n.name="variable"),n};return{startState:function(){return new o},token:function(t,e){if(e.userIndent(t.indentation()),t.eatSpace())return null;var n=e.context.next(t,e.context,e);return e.context=n.context,e.expectVariable=n.eos,n.name},blankLine:function(t){t.userIndent(0)},indent:function(e,n){var r=e.context.next===a&&n&&"]"===n.charAt(0)?-1:e.userIndentationDelta;return(e.indentation+r)*t.indentUnit},electricChars:"]"}}),t.defineMIME("text/x-stsrc",{name:"smalltalk"})}(n(0))},function(t,e,n){!function(t){"use strict";var e=/^(p|li|div|h\\d|pre|blockquote|td)$/;function n(t,r){if(3==t.nodeType)return r.push(t.nodeValue);for(var i=t.firstChild;i;i=i.nextSibling)n(i,r),e.test(t.nodeType)&&r.push("\n")}t.colorize=function(e,r){e||(e=document.body.getElementsByTagName("pre"));for(var i=0;i<e.length;++i){var o=e[i],a=o.getAttribute("data-lang")||r;if(a){var s=[];n(o,s),o.innerHTML="",t.runMode(s.join(""),a,o),o.className+=" cm-s-default"}}}}(n(0),n(242))},function(t,e,n){!function(t){"use strict";t.runMode=function(e,n,r,i){var o=t.getMode(t.defaults,n),a=/MSIE \d/.test(navigator.userAgent),s=a&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var l=i&&i.tabSize||t.defaults.tabSize,c=r,u=0;c.innerHTML="",r=function(t,e){if("\n"==t)return c.appendChild(document.createTextNode(s?"\r":t)),void(u=0);for(var n="",r=0;;){var i=t.indexOf("\t",r);if(-1==i){n+=t.slice(r),u+=t.length-r;break}u+=i-r,n+=t.slice(r,i);var o=l-u%l;u+=o;for(var a=0;a<o;++a)n+=" ";r=i+1}if(e){var f=c.appendChild(document.createElement("span"));f.className="cm-"+e.replace(/ +/g," cm-"),f.appendChild(document.createTextNode(n))}else c.appendChild(document.createTextNode(n))}}for(var f=t.splitLines(e),d=i&&i.state||t.startState(o),h=0,p=f.length;h<p;++h){h&&r("\n");var m=new t.StringStream(f[h]);for(!m.string&&o.blankLine&&o.blankLine(d);!m.eol();){var g=o.token(m,d);r(m.current(),g,h,m.start,d),m.start=m.pos}}}}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.info=r,this.align=i,this.prev=o}function n(t,n,r,i){var o=t.indented;return t.context&&"statement"==t.context.type&&"statement"!=r&&(o=t.context.indented),t.context=new e(o,n,r,i,null,t.context)}function r(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}function i(t,e,n){return"variable"==e.prevToken||"type"==e.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(t.string.slice(0,n))||!(!e.typeAtEndOfLine||t.column()!=t.indentation())||void 0}function o(t){for(;;){if(!t||"top"==t.type)return!0;if("}"==t.type&&"namespace"!=t.prev.info)return!1;t=t.prev}}function a(t){for(var e={},n=t.split(" "),r=0;r<n.length;++r)e[n[r]]=!0;return e}function s(t,e){return"function"==typeof t?t(e):t.propertyIsEnumerable(e)}t.defineMode("clike",function(a,l){var c,u,f=a.indentUnit,d=l.statementIndentUnit||f,h=l.dontAlignCalls,p=l.keywords||{},m=l.types||{},g=l.builtin||{},v=l.blockKeywords||{},y=l.defKeywords||{},b=l.atoms||{},x=l.hooks||{},w=l.multiLineStrings,C=!1!==l.indentStatements,k=!1!==l.indentSwitch,_=l.namespaceSeparator,S=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,E=l.numberStart||/[\d\.]/,T=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,O=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,M=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,L=l.isReservedIdentifier||!1;function A(t,e){var n,r=t.next();if(x[r]){var i=x[r](t,e);if(!1!==i)return i}if('"'==r||"'"==r)return e.tokenize=(n=r,function(t,e){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==n&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!w)&&(e.tokenize=null),"string"}),e.tokenize(t,e);if(S.test(r))return c=r,null;if(E.test(r)){if(t.backUp(1),t.match(T))return"number";t.next()}if("/"==r){if(t.eat("*"))return e.tokenize=N,N(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(O.test(r)){for(;!t.match(/^\/[\/*]/,!1)&&t.eat(O););return"operator"}if(t.eatWhile(M),_)for(;t.match(_);)t.eatWhile(M);var o=t.current();return s(p,o)?(s(v,o)&&(c="newstatement"),s(y,o)&&(u=!0),"keyword"):s(m,o)?"type":s(g,o)||L&&L(o)?(s(v,o)&&(c="newstatement"),"builtin"):s(b,o)?"atom":"variable"}function N(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=null;break}r="*"==n}return"comment"}function P(t,e){l.typeFirstDefinitions&&t.eol()&&o(e.context)&&(e.typeAtEndOfLine=i(t,e,t.pos))}return{startState:function(t){return{tokenize:null,context:new e((t||0)-f,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(t,e){var a=e.context;if(t.sol()&&(null==a.align&&(a.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return P(t,e),null;c=u=null;var s=(e.tokenize||A)(t,e);if("comment"==s||"meta"==s)return s;if(null==a.align&&(a.align=!0),";"==c||":"==c||","==c&&t.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==e.context.type;)r(e);else if("{"==c)n(e,t.column(),"}");else if("["==c)n(e,t.column(),"]");else if("("==c)n(e,t.column(),")");else if("}"==c){for(;"statement"==a.type;)a=r(e);for("}"==a.type&&(a=r(e));"statement"==a.type;)a=r(e)}else c==a.type?r(e):C&&(("}"==a.type||"top"==a.type)&&";"!=c||"statement"==a.type&&"newstatement"==c)&&n(e,t.column(),"statement",t.current());if("variable"==s&&("def"==e.prevToken||l.typeFirstDefinitions&&i(t,e,t.start)&&o(e.context)&&t.match(/^\s*\(/,!1))&&(s="def"),x.token){var f=x.token(t,e,s);void 0!==f&&(s=f)}return"def"==s&&!1===l.styleDefs&&(s="variable"),e.startOfLine=!1,e.prevToken=u?"def":s||c,P(t,e),s},indent:function(e,n){if(e.tokenize!=A&&null!=e.tokenize||e.typeAtEndOfLine)return t.Pass;var r=e.context,i=n&&n.charAt(0),o=i==r.type;if("statement"==r.type&&"}"==i&&(r=r.prev),l.dontIndentStatements)for(;"statement"==r.type&&l.dontIndentStatements.test(r.info);)r=r.prev;if(x.indent){var a=x.indent(e,r,n,f);if("number"==typeof a)return a}var s=r.prev&&"switch"==r.prev.info;if(l.allmanIndentation&&/[{(]/.test(i)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==i?0:d):!r.align||h&&")"==r.type?")"!=r.type||o?r.indented+(o?0:f)+(o||!s||/^(?:case|default)\b/.test(n)?0:f):r.indented+d:r.column+(o?0:1)},electricInput:k?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",c=a("int long char short double float unsigned signed void bool"),u=a("SEL instancetype id Class Protocol BOOL");function f(t){return s(c,t)||/.+_t$/.test(t)}var d="case do else for if switch while struct enum union";function h(t,e){if(!e.startOfLine)return!1;for(var n,r=null;n=t.peek();){if("\\"==n&&t.match(/^.$/)){r=h;break}if("/"==n&&t.match(/^\/[\/\*]/,!1))break;t.next()}return e.tokenize=r,"meta"}function p(t,e){return"type"==e.prevToken&&"type"}function m(t){return!(!t||t.length<2||"_"!=t[0]||"_"!=t[1]&&t[1]===t[1].toLowerCase())}function g(t){return t.eatWhile(/[\w\.']/),"number"}function v(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var n=t.match(/"([^\s\\()]{0,16})\(/);return!!n&&(e.cpp11RawStringDelim=n[1],e.tokenize=b,b(t,e))}return t.match(/(u8|u|U|L)/)?!!t.match(/["']/,!1)&&"string":(t.next(),!1)}function y(t,e){for(var n;null!=(n=t.next());)if('"'==n&&!t.eat('"')){e.tokenize=null;break}return"string"}function b(t,e){var n=e.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=t.match(new RegExp(".*?\\)"+n+'"'));return r?e.tokenize=null:t.skipToEnd(),"string"}function x(e,n){"string"==typeof e&&(e=[e]);var r=[];function i(t){if(t)for(var e in t)t.hasOwnProperty(e)&&r.push(e)}i(n.keywords),i(n.types),i(n.builtin),i(n.atoms),r.length&&(n.helperType=e[0],t.registerHelper("hintWords",e[0],r));for(var o=0;o<e.length;++o)t.defineMIME(e[o],n)}function w(t,e){for(var n=!1;!t.eol();){if(!n&&t.match('"""')){e.tokenize=null;break}n="\\"==t.next()&&!n}return"string"}function C(t){return function(e,n){for(var r;r=e.next();){if("*"==r&&e.eat("/")){if(1==t){n.tokenize=null;break}return n.tokenize=C(t-1),n.tokenize(e,n)}if("/"==r&&e.eat("*"))return n.tokenize=C(t+1),n.tokenize(e,n)}return"comment"}}x(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:a(l),types:f,blockKeywords:a(d),defKeywords:a("struct enum union"),typeFirstDefinitions:!0,atoms:a("NULL true false"),isReservedIdentifier:m,hooks:{"#":h,"*":p},modeProps:{fold:["brace","include"]}}),x(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:a(l+"alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq"),types:f,blockKeywords:a(d+" class try catch"),defKeywords:a("struct enum union class namespace"),typeFirstDefinitions:!0,atoms:a("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:m,hooks:{"#":h,"*":p,u:v,U:v,L:v,R:v,0:g,1:g,2:g,3:g,4:g,5:g,6:g,7:g,8:g,9:g,token:function(t,e,n){if("variable"==n&&"("==t.peek()&&(";"==e.prevToken||null==e.prevToken||"}"==e.prevToken)&&(r=t.current(),(i=/(\w+)::~?(\w+)$/.exec(r))&&i[1]==i[2]))return"def";var r,i}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),x("text/x-java",{name:"clike",keywords:a("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:a("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:a("catch class do else finally for if switch try while"),defKeywords:a("class interface enum @interface"),typeFirstDefinitions:!0,atoms:a("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(t){return!t.match("interface",!1)&&(t.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),x("text/x-csharp",{name:"clike",keywords:a("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:a("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),defKeywords:a("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=y,y(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),x("text/x-scala",{name:"clike",keywords:a("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:a("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:a("catch class enum do else finally for forSome if match switch try while"),defKeywords:a("class enum def object package trait type val var"),atoms:a("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return!!t.match('""')&&(e.tokenize=w,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(t,n){var r=n.context;return!("}"!=r.type||!r.align||!t.eat(">"))&&(n.context=new e(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(t,e){return!!t.eat("*")&&(e.tokenize=C(1),e.tokenize(t,e))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),x("text/x-kotlin",{name:"clike",keywords:a("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:a("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:a("catch class do else finally for if where try while enum"),defKeywords:a("class val var object interface fun"),atoms:a("true false null this"),hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},"*":function(t,e){return"."==e.prevToken?"variable":"operator"},'"':function(t,e){var n;return e.tokenize=(n=t.match('""'),function(t,e){for(var r,i=!1,o=!1;!t.eol();){if(!n&&!i&&t.match('"')){o=!0;break}if(n&&t.match('"""')){o=!0;break}r=t.next(),!i&&"$"==r&&t.match("{")&&t.skipTo("}"),i=!i&&"\\"==r&&!n}return!o&&n||(e.tokenize=null),"string"}),e.tokenize(t,e)},"/":function(t,e){return!!t.eat("*")&&(e.tokenize=C(1),e.tokenize(t,e))},indent:function(t,e,n,r){var i=n&&n.charAt(0);return"}"!=t.prevToken&&")"!=t.prevToken||""!=n?"operator"==t.prevToken&&"}"!=n&&"}"!=t.context.type||"variable"==t.prevToken&&"."==i||("}"==t.prevToken||")"==t.prevToken)&&"."==i?2*r+e.indented:e.align&&"}"==e.type?e.indented+(t.context.type==(n||"").charAt(0)?0:r):void 0:t.indented}},modeProps:{closeBrackets:{triples:'"'}}}),x(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:a("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:a("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:a("for while do if else struct"),builtin:a("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:a("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":h},modeProps:{fold:["brace","include"]}}),x("text/x-nesc",{name:"clike",keywords:a(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:f,blockKeywords:a(d),atoms:a("null true false"),hooks:{"#":h},modeProps:{fold:["brace","include"]}}),x("text/x-objectivec",{name:"clike",keywords:a(l+" bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available"),types:function(t){return f(t)||s(u,t)},builtin:a("FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION NS_RETURNS_RETAINED NS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT"),blockKeywords:a(d+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:a("struct enum union @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:m,hooks:{"#":h,"*":p},modeProps:{fold:["brace","include"]}}),x("text/x-squirrel",{name:"clike",keywords:a("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:f,blockKeywords:a("case catch class else for foreach if switch try while"),defKeywords:a("function local class"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"#":h},modeProps:{fold:["brace","include"]}});var k=null;x("text/x-ceylon",{name:"clike",keywords:a("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(t){var e=t.charAt(0);return e===e.toUpperCase()&&e!==e.toLowerCase()},blockKeywords:a("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:a("class dynamic function interface module object package value"),builtin:a("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:a("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return e.tokenize=function t(e){return function(n,r){for(var i,o=!1,a=!1;!n.eol();){if(!o&&n.match('"')&&("single"==e||n.match('""'))){a=!0;break}if(!o&&n.match("``")){k=t(e),a=!0;break}i=n.next(),o="single"==e&&!o&&"\\"==i}return a&&(r.tokenize=null),"string"}}(t.match('""')?"triple":"single"),e.tokenize(t,e)},"`":function(t,e){return!(!k||!t.match("`"))&&(e.tokenize=k,k=null,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(t,e,n){if(("variable"==n||"type"==n)&&"."==e.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("groovy",function(e){function n(t){for(var e={},n=t.split(" "),r=0;r<n.length;++r)e[n[r]]=!0;return e}var r,i=n("abstract as assert boolean break byte case catch char class const continue def default do double else enum extends final finally float for goto if implements import in instanceof int interface long native new package private protected public return short static strictfp super switch synchronized threadsafe throw throws trait transient try void volatile while"),o=n("catch class def do else enum finally for if interface switch trait try while"),a=n("return break continue"),s=n("null true false this");function l(t,e){var n=t.next();if('"'==n||"'"==n)return c(n,t,e);if(/[\[\]{}\(\),;\:\.]/.test(n))return r=n,null;if(/\d/.test(n))return t.eatWhile(/[\w\.]/),t.eat(/eE/)&&(t.eat(/\+\-/),t.eatWhile(/\d/)),"number";if("/"==n){if(t.eat("*"))return e.tokenize.push(f),f(t,e);if(t.eat("/"))return t.skipToEnd(),"comment";if(d(e.lastToken,!1))return c(n,t,e)}if("-"==n&&t.eat(">"))return r="->",null;if(/[+\-*&%=<>!?|\/~]/.test(n))return t.eatWhile(/[+\-*&%=<>|~]/),"operator";if(t.eatWhile(/[\w\$_]/),"@"==n)return t.eatWhile(/[\w\$_\.]/),"meta";if("."==e.lastToken)return"property";if(t.eat(":"))return r="proplabel","property";var l=t.current();return s.propertyIsEnumerable(l)?"atom":i.propertyIsEnumerable(l)?(o.propertyIsEnumerable(l)?r="newstatement":a.propertyIsEnumerable(l)&&(r="standalone"),"keyword"):"variable"}function c(t,e,n){var r=!1;if("/"!=t&&e.eat(t)){if(!e.eat(t))return"string";r=!0}function i(e,n){for(var i,o=!1,a=!r;null!=(i=e.next());){if(i==t&&!o){if(!r)break;if(e.match(t+t)){a=!0;break}}if('"'==t&&"$"==i&&!o&&e.eat("{"))return n.tokenize.push(u()),"string";o=!o&&"\\"==i}return a&&n.tokenize.pop(),"string"}return n.tokenize.push(i),i(e,n)}function u(){var t=1;function e(e,n){if("}"==e.peek()){if(0==--t)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n)}else"{"==e.peek()&&t++;return l(e,n)}return e.isBase=!0,e}function f(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize.pop();break}r="*"==n}return"comment"}function d(t,e){return!t||"operator"==t||"->"==t||/[\.\[\{\(,;:]/.test(t)||"newstatement"==t||"keyword"==t||"proplabel"==t||"standalone"==t&&!e}function h(t,e,n,r,i){this.indented=t,this.column=e,this.type=n,this.align=r,this.prev=i}function p(t,e,n){return t.context=new h(t.indented,e,n,null,t.context)}function m(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}return l.isBase=!0,{startState:function(t){return{tokenize:[l],context:new h((t||0)-e.indentUnit,0,"top",!1),indented:0,startOfLine:!0,lastToken:null}},token:function(t,e){var n=e.context;if(t.sol()&&(null==n.align&&(n.align=!1),e.indented=t.indentation(),e.startOfLine=!0,"statement"!=n.type||d(e.lastToken,!0)||(m(e),n=e.context)),t.eatSpace())return null;r=null;var i=e.tokenize[e.tokenize.length-1](t,e);if("comment"==i)return i;if(null==n.align&&(n.align=!0),";"!=r&&":"!=r||"statement"!=n.type)if("->"==r&&"statement"==n.type&&"}"==n.prev.type)m(e),e.context.align=!1;else if("{"==r)p(e,t.column(),"}");else if("["==r)p(e,t.column(),"]");else if("("==r)p(e,t.column(),")");else if("}"==r){for(;"statement"==n.type;)n=m(e);for("}"==n.type&&(n=m(e));"statement"==n.type;)n=m(e)}else r==n.type?m(e):("}"==n.type||"top"==n.type||"statement"==n.type&&"newstatement"==r)&&p(e,t.column(),"statement");else m(e);return e.startOfLine=!1,e.lastToken=r||i,i},indent:function(n,r){if(!n.tokenize[n.tokenize.length-1].isBase)return t.Pass;var i=r&&r.charAt(0),o=n.context;"statement"!=o.type||d(n.lastToken,!0)||(o=o.prev);var a=i==o.type;return"statement"==o.type?o.indented+("{"==i?0:e.indentUnit):o.align?o.column+(a?0:1):o.indented+(a?0:e.indentUnit)},electricChars:"{}",closeBrackets:{triples:"'\""},fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),t.defineMIME("text/x-groovy","groovy")}(n(0))},function(t,e,n){!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(r,i){var o,a,s=r.indentUnit,l={},c=i.htmlMode?e:n;for(var u in c)l[u]=c[u];for(var u in i)l[u]=i[u];function f(t,e){function n(n){return e.tokenize=n,n(t,e)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(h("atom","]]>")):null:t.match("--")?n(h("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(function t(e){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=t(e+1),r.tokenize(n,r);if(">"==i){if(1==e){r.tokenize=f;break}return r.tokenize=t(e-1),r.tokenize(n,r)}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=h("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",e.tokenize=d,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function d(t,e){var n,r,i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=f,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){e.tokenize=f,e.state=v,e.tagName=e.tagStart=null;var a=e.tokenize(t,e);return a?a+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=(n=i,(r=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=d;break}return"string"}).isInAttribute=!0,r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function h(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=f;break}n.next()}return t}}function p(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function m(t){t.context&&(t.context=t.context.prev)}function g(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(e))return;m(t)}}function v(t,e,n){return"openTag"==t?(n.tagStart=e.column(),y):"closeTag"==t?b:v}function y(t,e,n){return"word"==t?(n.tagName=e.current(),a="tag",C):l.allowMissingTagName&&"endTag"==t?(a="tag bracket",C(t,0,n)):(a="error",y)}function b(t,e,n){if("word"==t){var r=e.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(a="tag",x):(a="tag error",w)}return l.allowMissingTagName&&"endTag"==t?(a="tag bracket",x(t,0,n)):(a="error",w)}function x(t,e,n){return"endTag"!=t?(a="error",x):(m(n),v)}function w(t,e,n){return a="error",x(t,0,n)}function C(t,e,n){if("word"==t)return a="attribute",k;if("endTag"==t||"selfcloseTag"==t){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||l.autoSelfClosers.hasOwnProperty(r)?g(n,r):(g(n,r),n.context=new p(n,r,i==n.indented)),v}return a="error",C}function k(t,e,n){return"equals"==t?_:(l.allowMissing||(a="error"),C(t,0,n))}function _(t,e,n){return"string"==t?S:"word"==t&&l.allowUnquoted?(a="string",C):(a="error",C(t,0,n))}function S(t,e,n){return"string"==t?S:C(t,0,n)}return f.isInText=!0,{startState:function(t){var e={tokenize:f,state:v,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;o=null;var n=e.tokenize(t,e);return(n||o)&&"comment"!=n&&(a=null,e.state=e.state(o||n,t,e),a&&(n="error"==a?n+" error":a)),n},indent:function(e,n,r){var i=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(i&&i.noIndent)return t.Pass;if(e.tokenize!=d&&e.tokenize!=f)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(o)for(;i;){var a=l.contextGrabbers[i.tagName];if(!a||!a.hasOwnProperty(o[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(t){t.state==_&&(t.state=C)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var e=[],n=t.context;n;n=n.prev)n.tagName&&e.push(n.tagName);return e.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(0))},function(t,e,n){!function(t){var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=t.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(t){return t&&t.bracketRegex||/[(){}[\]]/}function o(t,e,o){var s=t.getLineHandle(e.line),l=e.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var u=i(o),f=!c&&l>=0&&u.test(s.text.charAt(l))&&r[s.text.charAt(l)]||u.test(s.text.charAt(l+1))&&r[s.text.charAt(++l)];if(!f)return null;var d=">"==f.charAt(1)?1:-1;if(o&&o.strict&&d>0!=(l==e.ch))return null;var h=t.getTokenTypeAt(n(e.line,l+1)),p=a(t,n(e.line,l+(d>0?1:0)),d,h||null,o);return null==p?null:{from:n(e.line,l),to:p&&p.pos,match:p&&p.ch==f.charAt(0),forward:d>0}}function a(t,e,o,a,s){for(var l=s&&s.maxScanLineLength||1e4,c=s&&s.maxScanLines||1e3,u=[],f=i(s),d=o>0?Math.min(e.line+c,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-c),h=e.line;h!=d;h+=o){var p=t.getLine(h);if(p){var m=o>0?0:p.length-1,g=o>0?p.length:-1;if(!(p.length>l))for(h==e.line&&(m=e.ch-(o<0?1:0));m!=g;m+=o){var v=p.charAt(m);if(f.test(v)&&(void 0===a||t.getTokenTypeAt(n(h,m+1))==a)){var y=r[v];if(y&&">"==y.charAt(1)==o>0)u.push(v);else{if(!u.length)return{pos:n(h,m),ch:v};u.pop()}}}}}return h-o!=(o>0?t.lastLine():t.firstLine())&&null}function s(t,r,i){for(var a=t.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=t.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&o(t,l[c].head,i);if(u&&t.getLine(u.from.line).length<=a){var f=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(t.markText(u.from,n(u.from.line,u.from.ch+1),{className:f})),u.to&&t.getLine(u.to.line).length<=a&&s.push(t.markText(u.to,n(u.to.line,u.to.ch+1),{className:f}))}}if(s.length){e&&t.state.focused&&t.focus();var d=function(){t.operation(function(){for(var t=0;t<s.length;t++)s[t].clear()})};if(!r)return d;setTimeout(d,800)}}function l(t){t.operation(function(){t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null),t.state.matchBrackets.currentlyHighlighted=s(t,!1,t.state.matchBrackets)})}t.defineOption("matchBrackets",!1,function(e,n,r){r&&r!=t.Init&&(e.off("cursorActivity",l),e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)),n&&(e.state.matchBrackets="object"==typeof n?n:{},e.on("cursorActivity",l))}),t.defineExtension("matchBrackets",function(){s(this,!0)}),t.defineExtension("findMatchingBracket",function(t,e,n){return(n||"boolean"==typeof e)&&(n?(n.strict=e,e=n):e=e?{strict:!0}:null),o(this,t,e)}),t.defineExtension("scanForBracket",function(t,e,n,r){return a(this,t,e,n,r)})}(n(0))},function(t,e,n){!function(t){var e={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=t.Pos;function r(t,n){return"pairs"==n&&"string"==typeof t?t:"object"==typeof t&&null!=t[n]?t[n]:e[n]}t.defineOption("autoCloseBrackets",!1,function(e,n,a){a&&a!=t.Init&&(e.removeKeyMap(i),e.state.closeBrackets=null),n&&(o(r(n,"pairs")),e.state.closeBrackets=n,e.addKeyMap(i))});var i={Backspace:function(e){var i=s(e);if(!i||e.getOption("disableInput"))return t.Pass;for(var o=r(i,"pairs"),a=e.listSelections(),c=0;c<a.length;c++){if(!a[c].empty())return t.Pass;var u=l(e,a[c].head);if(!u||o.indexOf(u)%2!=0)return t.Pass}for(var c=a.length-1;c>=0;c--){var f=a[c].head;e.replaceRange("",n(f.line,f.ch-1),n(f.line,f.ch+1),"+delete")}},Enter:function(e){var n=s(e),i=n&&r(n,"explode");if(!i||e.getOption("disableInput"))return t.Pass;for(var o=e.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return t.Pass;var c=l(e,o[a].head);if(!c||i.indexOf(c)%2!=0)return t.Pass}e.operation(function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),e.execCommand("goCharLeft"),o=e.listSelections();for(var n=0;n<o.length;n++){var r=o[n].head.line;e.indentLine(r,null,!0),e.indentLine(r+1,null,!0)}})}};function o(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r="'"+n+"'";i[r]||(i[r]=a(n))}}function a(e){return function(i){return function(e,i){var o=s(e);if(!o||e.getOption("disableInput"))return t.Pass;var a=r(o,"pairs"),l=a.indexOf(i);if(-1==l)return t.Pass;for(var u,f=r(o,"closeBefore"),d=r(o,"triples"),h=a.charAt(l+1)==i,p=e.listSelections(),m=l%2==0,g=0;g<p.length;g++){var v,y=p[g],b=y.head,x=e.getRange(b,n(b.line,b.ch+1));if(m&&!y.empty())v="surround";else if(!h&&m||x!=i)if(h&&b.ch>1&&d.indexOf(i)>=0&&e.getRange(n(b.line,b.ch-2),b)==i+i){if(b.ch>2&&/\bstring/.test(e.getTokenTypeAt(n(b.line,b.ch-2))))return t.Pass;v="addFour"}else if(h){var w=0==b.ch?" ":e.getRange(n(b.line,b.ch-1),b);if(t.isWordChar(x)||w==i||t.isWordChar(w))return t.Pass;v="both"}else{if(!m||!(0===x.length||/\s/.test(x)||f.indexOf(x)>-1))return t.Pass;v="both"}else v=h&&c(e,b)?"both":d.indexOf(i)>=0&&e.getRange(b,n(b.line,b.ch+3))==i+i+i?"skipThree":"skip";if(u){if(u!=v)return t.Pass}else u=v}var C=l%2?a.charAt(l-1):i,k=l%2?i:a.charAt(l+1);e.operation(function(){if("skip"==u)e.execCommand("goCharRight");else if("skipThree"==u)for(var r=0;r<3;r++)e.execCommand("goCharRight");else if("surround"==u){for(var i=e.getSelections(),r=0;r<i.length;r++)i[r]=C+i[r]+k;e.replaceSelections(i,"around"),i=e.listSelections().slice();for(var r=0;r<i.length;r++)i[r]=(o=i[r],a=void 0,a=t.cmpPos(o.anchor,o.head)>0,{anchor:new n(o.anchor.line,o.anchor.ch+(a?-1:1)),head:new n(o.head.line,o.head.ch+(a?1:-1))});e.setSelections(i)}else"both"==u?(e.replaceSelection(C+k,null),e.triggerElectric(C+k),e.execCommand("goCharLeft")):"addFour"==u&&(e.replaceSelection(C+C+C+C,"before"),e.execCommand("goCharRight"));var o,a})}(i,e)}}function s(t){var e=t.state.closeBrackets;if(!e||e.override)return e;var n=t.getModeAt(t.getCursor());return n.closeBrackets||e}function l(t,e){var r=t.getRange(n(e.line,e.ch-1),n(e.line,e.ch+1));return 2==r.length?r:null}function c(t,e){var r=t.getTokenAt(n(e.line,e.ch+1));return/\bstring/.test(r.type)&&r.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}o(e.pairs+"`")}(n(0))},function(t,e,n){!function(t){"use strict";var e={},n=/[^\s\u00a0]/,r=t.Pos;function i(t){var e=t.search(n);return-1==e?0:e}function o(t,e){var n=t.getMode();return!1!==n.useInnerComments&&n.innerMode?t.getModeAt(e):n}t.commands.toggleComment=function(t){t.toggleComment()},t.defineExtension("toggleComment",function(t){t||(t=e);for(var n=1/0,i=this.listSelections(),o=null,a=i.length-1;a>=0;a--){var s=i[a].from(),l=i[a].to();s.line>=n||(l.line>=n&&(l=r(n,0)),n=s.line,null==o?this.uncomment(s,l,t)?o="un":(this.lineComment(s,l,t),o="line"):"un"==o?this.uncomment(s,l,t):this.lineComment(s,l,t))}}),t.defineExtension("lineComment",function(t,a,s){s||(s=e);var l=this,c=o(l,t),u=l.getLine(t.line);if(null!=u&&(f=t,d=u,!/\bstring\b/.test(l.getTokenTypeAt(r(f.line,0)))||/^[\'\"\`]/.test(d))){var f,d,h=s.lineComment||c.lineComment;if(h){var p=Math.min(0!=a.ch||a.line==t.line?a.line+1:a.line,l.lastLine()+1),m=null==s.padding?" ":s.padding,g=s.commentBlankLines||t.line==a.line;l.operation(function(){if(s.indent){for(var e=null,o=t.line;o<p;++o){var a=l.getLine(o),c=a.slice(0,i(a));(null==e||e.length>c.length)&&(e=c)}for(var o=t.line;o<p;++o){var a=l.getLine(o),u=e.length;(g||n.test(a))&&(a.slice(0,u)!=e&&(u=i(a)),l.replaceRange(e+h+m,r(o,0),r(o,u)))}}else for(var o=t.line;o<p;++o)(g||n.test(l.getLine(o)))&&l.replaceRange(h+m,r(o,0))})}else(s.blockCommentStart||c.blockCommentStart)&&(s.fullLines=!0,l.blockComment(t,a,s))}}),t.defineExtension("blockComment",function(t,i,a){a||(a=e);var s=this,l=o(s,t),c=a.blockCommentStart||l.blockCommentStart,u=a.blockCommentEnd||l.blockCommentEnd;if(c&&u){if(!/\bcomment\b/.test(s.getTokenTypeAt(r(t.line,0)))){var f=Math.min(i.line,s.lastLine());f!=t.line&&0==i.ch&&n.test(s.getLine(f))&&--f;var d=null==a.padding?" ":a.padding;t.line>f||s.operation(function(){if(0!=a.fullLines){var e=n.test(s.getLine(f));s.replaceRange(d+u,r(f)),s.replaceRange(c+d,r(t.line,0));var o=a.blockCommentLead||l.blockCommentLead;if(null!=o)for(var h=t.line+1;h<=f;++h)(h!=f||e)&&s.replaceRange(o+d,r(h,0))}else s.replaceRange(u,i),s.replaceRange(c,t)})}}else(a.lineComment||l.lineComment)&&0!=a.fullLines&&s.lineComment(t,i,a)}),t.defineExtension("uncomment",function(t,i,a){a||(a=e);var s,l=this,c=o(l,t),u=Math.min(0!=i.ch||i.line==t.line?i.line:i.line-1,l.lastLine()),f=Math.min(t.line,u),d=a.lineComment||c.lineComment,h=[],p=null==a.padding?" ":a.padding;t:if(d){for(var m=f;m<=u;++m){var g=l.getLine(m),v=g.indexOf(d);if(v>-1&&!/comment/.test(l.getTokenTypeAt(r(m,v+1)))&&(v=-1),-1==v&&n.test(g))break t;if(v>-1&&n.test(g.slice(0,v)))break t;h.push(g)}if(l.operation(function(){for(var t=f;t<=u;++t){var e=h[t-f],n=e.indexOf(d),i=n+d.length;n<0||(e.slice(i,i+p.length)==p&&(i+=p.length),s=!0,l.replaceRange("",r(t,n),r(t,i)))}}),s)return!0}var y=a.blockCommentStart||c.blockCommentStart,b=a.blockCommentEnd||c.blockCommentEnd;if(!y||!b)return!1;var x=a.blockCommentLead||c.blockCommentLead,w=l.getLine(f),C=w.indexOf(y);if(-1==C)return!1;var k=u==f?w:l.getLine(u),_=k.indexOf(b,u==f?C+y.length:0),S=r(f,C+1),E=r(u,_+1);if(-1==_||!/comment/.test(l.getTokenTypeAt(S))||!/comment/.test(l.getTokenTypeAt(E))||l.getRange(S,E,"\n").indexOf(b)>-1)return!1;var T=w.lastIndexOf(y,t.ch),O=-1==T?-1:w.slice(0,t.ch).indexOf(b,T+y.length);if(-1!=T&&-1!=O&&O+b.length!=t.ch)return!1;O=k.indexOf(b,i.ch);var M=k.slice(i.ch).lastIndexOf(y,O-i.ch);return T=-1==O||-1==M?-1:i.ch+M,(-1==O||-1==T||T==i.ch)&&(l.operation(function(){l.replaceRange("",r(u,_-(p&&k.slice(_-p.length,_)==p?p.length:0)),r(u,_+b.length));var t=C+y.length;if(p&&w.slice(t,t+p.length)==p&&(t+=p.length),l.replaceRange("",r(f,C),r(f,t)),x)for(var e=f+1;e<=u;++e){var i=l.getLine(e),o=i.indexOf(x);if(-1!=o&&!n.test(i.slice(0,o))){var a=o+x.length;p&&i.slice(a,a+p.length)==p&&(a+=p.length),l.replaceRange("",r(e,o),r(e,a))}}}),!0)})}(n(0))},function(t,e,n){!function(t){function e(e){if(e.getOption("disableInput"))return t.Pass;for(var r,i=e.listSelections(),o=[],a=0;a<i.length;a++){var s=i[a].head;if(!/\bcomment\b/.test(e.getTokenTypeAt(s)))return t.Pass;var l=e.getModeAt(s);if(r){if(r!=l)return t.Pass}else r=l;var c=null;if(r.blockCommentStart&&r.blockCommentContinue){var u=e.getLine(s.line).slice(0,s.ch),f=u.lastIndexOf(r.blockCommentEnd);if(-1!=f&&f==s.ch-r.blockCommentEnd.length);else if((h=u.lastIndexOf(r.blockCommentStart))>-1&&h>f){if(c=u.slice(0,h),/\S/.test(c)){c="";for(var d=0;d<h;++d)c+=" "}}else(h=u.indexOf(r.blockCommentContinue))>-1&&!/\S/.test(u.slice(0,h))&&(c=u.slice(0,h));null!=c&&(c+=r.blockCommentContinue)}if(null==c&&r.lineComment&&n(e)){var u=e.getLine(s.line),h=u.indexOf(r.lineComment);h>-1&&(c=u.slice(0,h),/\S/.test(c)?c=null:c+=r.lineComment+u.slice(h+r.lineComment.length).match(/^\s*/)[0])}if(null==c)return t.Pass;o[a]="\n"+c}e.operation(function(){for(var t=i.length-1;t>=0;t--)e.replaceRange(o[t],i[t].from(),i[t].to(),"+insert")})}function n(t){var e=t.getOption("continueComments");return!e||"object"!=typeof e||!1!==e.continueLineComment}t.defineOption("continueComments",null,function(n,r,i){if(i&&i!=t.Init&&n.removeKeyMap("continueComment"),r){var o="Enter";"string"==typeof r?o=r:"object"==typeof r&&r.key&&(o=r.key);var a={name:"continueComment"};a[o]=e,n.addKeyMap(a)}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("javascript",function(e,n){var r,i,o=e.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("keyword d"),o=t("operator"),a={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:t("new"),delete:r,void:r,throw:r,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:t("this"),class:t("class"),super:t("atom"),yield:r,export:t("export"),import:t("import"),extends:r,await:r}}(),d=/[+\-*&%=<>!?|~^@]/,h=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(t,e,n){return r=t,i=n,e}function m(t,e){var n,r=t.next();if('"'==r||"'"==r)return e.tokenize=(n=r,function(t,e){var r,i=!1;if(s&&"@"==t.peek()&&t.match(h))return e.tokenize=m,p("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(e.tokenize=m),p("string","string")}),e.tokenize(t,e);if("."==r&&t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==r&&t.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return p(r);if("="==r&&t.eat(">"))return p("=>","operator");if("0"==r&&t.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(r))return t.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==r)return t.eat("*")?(e.tokenize=g,g(t,e)):t.eat("/")?(t.skipToEnd(),p("comment","comment")):qt(t,e,1)?(function(t){for(var e,n=!1,r=!1;null!=(e=t.next());){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(t.eat("="),p("operator","operator",t.current()));if("`"==r)return e.tokenize=v,v(t,e);if("#"==r)return t.skipToEnd(),p("error","error");if("<"==r&&t.match("!--")||"-"==r&&t.match("->"))return t.skipToEnd(),p("comment","comment");if(d.test(r))return">"==r&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=r&&"="!=r||t.eat("="):/[<>*+\-]/.test(r)&&(t.eat(r),">"==r&&t.eat(r))),p("operator","operator",t.current());if(u.test(r)){t.eatWhile(u);var i=t.current();if("."!=e.lastType){if(f.propertyIsEnumerable(i)){var o=f[i];return p(o.type,o.style,i)}if("async"==i&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",i)}return p("variable","variable",i)}}function g(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=m;break}r="*"==n}return p("comment","comment")}function v(t,e){for(var n,r=!1;null!=(n=t.next());){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=m;break}r=!r&&"\\"==n}return p("quasi","string-2",t.current())}var y="([{}])";function b(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(c){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=t.string.charAt(a),l=y.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(u.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;var f=t.string.charAt(a-1);if(f==s&&"\\"!=t.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(e.fatArrowAt=a)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function C(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==e)return!0}var k={state:null,column:null,marked:null,cc:null};function _(){for(var t=arguments.length-1;t>=0;t--)k.cc.push(arguments[t])}function S(){return _.apply(null,arguments),!0}function E(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function T(t){var e=k.state;if(k.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var r=function t(e,n){if(n){if(n.block){var r=t(e,n.prev);return r?r==n.prev?n:new M(r,n.vars,!0):null}return E(e,n.vars)?n:new M(n.prev,new L(e,n.vars),!1)}return null}(t,e.context);if(null!=r)return void(e.context=r)}else if(!E(t,e.localVars))return void(e.localVars=new L(t,e.localVars));n.globalVars&&!E(t,e.globalVars)&&(e.globalVars=new L(t,e.globalVars))}function O(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function M(t,e,n){this.prev=t,this.vars=e,this.block=n}function L(t,e){this.name=t,this.next=e}var A=new L("this",new L("arguments",null));function N(){k.state.context=new M(k.state.context,k.state.localVars,!1),k.state.localVars=A}function P(){k.state.context=new M(k.state.context,k.state.localVars,!0),k.state.localVars=null}function F(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function I(t,e){var n=function(){var n=k.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new w(r,k.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function j(){var t=k.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function D(t){return function e(n){return n==t?S():";"==t||"}"==n||")"==n||"]"==n?_():S(e)}}function z(t,e){return"var"==t?S(I("vardef",e),bt,D(";"),j):"keyword a"==t?S(I("form"),W,z,j):"keyword b"==t?S(I("form"),z,j):"keyword d"==t?k.stream.match(/^\s*$/,!1)?S():S(I("stat"),V,D(";"),j):"debugger"==t?S(D(";")):"{"==t?S(I("}"),P,at,j,F):";"==t?S():"if"==t?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==j&&k.state.cc.pop()(),S(I("form"),W,z,j,St)):"function"==t?S(Mt):"for"==t?S(I("form"),Et,z,j):"class"==t||c&&"interface"==e?(k.marked="keyword",S(I("form","class"==t?t:e),Ft,j)):"variable"==t?c&&"declare"==e?(k.marked="keyword",S(z)):c&&("module"==e||"enum"==e||"type"==e)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==e?S(Kt):"type"==e?S(At,D("operator"),ft,D(";")):S(I("form"),xt,D("{"),I("}"),at,j,j)):c&&"namespace"==e?(k.marked="keyword",S(I("form"),B,z,j)):c&&"abstract"==e?(k.marked="keyword",S(z)):S(I("stat"),Q):"switch"==t?S(I("form"),W,D("{"),I("}","switch"),P,at,j,j,F):"case"==t?S(B,D(":")):"default"==t?S(D(":")):"catch"==t?S(I("form"),N,R,z,j,F):"export"==t?S(I("stat"),zt,j):"import"==t?S(I("stat"),Bt,j):"async"==t?S(z):"@"==e?S(B,z):_(I("stat"),B,D(";"),j)}function R(t){if("("==t)return S(Nt,D(")"))}function B(t,e){return U(t,e,!1)}function H(t,e){return U(t,e,!0)}function W(t){return"("!=t?_():S(I(")"),B,D(")"),j)}function U(t,e,n){if(k.state.fatArrowAt==k.stream.start){var r=n?J:Y;if("("==t)return S(N,I(")"),it(Nt,")"),j,D("=>"),r,F);if("variable"==t)return _(N,xt,D("=>"),r,F)}var i=n?K:G;return x.hasOwnProperty(t)?S(i):"function"==t?S(Mt,i):"class"==t||c&&"interface"==e?(k.marked="keyword",S(I("form"),Pt,j)):"keyword c"==t||"async"==t?S(n?H:B):"("==t?S(I(")"),V,D(")"),j,i):"operator"==t||"spread"==t?S(n?H:B):"["==t?S(I("]"),Gt,j,i):"{"==t?ot(et,"}",null,i):"quasi"==t?_($,i):"new"==t?S(function(t){return function(e){return"."==e?S(t?Z:X):"variable"==e&&c?S(gt,t?K:G):_(t?H:B)}}(n)):"import"==t?S(B):S()}function V(t){return t.match(/[;\}\)\],]/)?_():_(B)}function G(t,e){return","==t?S(B):K(t,e,!1)}function K(t,e,n){var r=0==n?G:K,i=0==n?B:H;return"=>"==t?S(N,n?J:Y,F):"operator"==t?/\+\+|--/.test(e)||c&&"!"==e?S(r):c&&"<"==e&&k.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?S(I(">"),it(ft,">"),j,r):"?"==e?S(B,D(":"),i):S(i):"quasi"==t?_($,r):";"!=t?"("==t?ot(H,")","call",r):"."==t?S(tt,r):"["==t?S(I("]"),V,D("]"),j,r):c&&"as"==e?(k.marked="keyword",S(ft,r)):"regexp"==t?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),S(i)):void 0:void 0}function $(t,e){return"quasi"!=t?_():"${"!=e.slice(e.length-2)?S($):S(B,q)}function q(t){if("}"==t)return k.marked="string-2",k.state.tokenize=v,S($)}function Y(t){return b(k.stream,k.state),_("{"==t?z:B)}function J(t){return b(k.stream,k.state),_("{"==t?z:H)}function X(t,e){if("target"==e)return k.marked="keyword",S(G)}function Z(t,e){if("target"==e)return k.marked="keyword",S(K)}function Q(t){return":"==t?S(j,z):_(G,D(";"),j)}function tt(t){if("variable"==t)return k.marked="property",S()}function et(t,e){return"async"==t?(k.marked="property",S(et)):"variable"==t||"keyword"==k.style?(k.marked="property","get"==e||"set"==e?S(nt):(c&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),S(rt))):"number"==t||"string"==t?(k.marked=s?"property":k.style+" property",S(rt)):"jsonld-keyword"==t?S(rt):c&&O(e)?(k.marked="keyword",S(et)):"["==t?S(B,st,D("]"),rt):"spread"==t?S(H,rt):"*"==e?(k.marked="keyword",S(et)):":"==t?_(rt):void 0;var n}function nt(t){return"variable"!=t?_(rt):(k.marked="property",S(Mt))}function rt(t){return":"==t?S(H):"("==t?_(Mt):void 0}function it(t,e,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=k.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),S(function(n,r){return n==e||r==e?_():_(t)},r)}return i==e||o==e?S():n&&n.indexOf(";")>-1?_(t):S(D(e))}return function(n,i){return n==e||i==e?S():_(t,r)}}function ot(t,e,n){for(var r=3;r<arguments.length;r++)k.cc.push(arguments[r]);return S(I(e,n),it(t,e),j)}function at(t){return"}"==t?S():_(z,at)}function st(t,e){if(c){if(":"==t)return S(ft);if("?"==e)return S(st)}}function lt(t,e){if(c&&(":"==t||"in"==e))return S(ft)}function ct(t){if(c&&":"==t)return k.stream.match(/^\s*\w+\s+is\b/,!1)?S(B,ut,ft):S(ft)}function ut(t,e){if("is"==e)return k.marked="keyword",S()}function ft(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(k.marked="keyword",S("typeof"==e?H:ft)):"variable"==t||"void"==e?(k.marked="type",S(mt)):"|"==e||"&"==e?S(ft):"string"==t||"number"==t||"atom"==t?S(mt):"["==t?S(I("]"),it(ft,"]",","),j,mt):"{"==t?S(I("}"),it(ht,"}",",;"),j,mt):"("==t?S(it(pt,")"),dt,mt):"<"==t?S(it(ft,">"),ft):void 0}function dt(t){if("=>"==t)return S(ft)}function ht(t,e){return"variable"==t||"keyword"==k.style?(k.marked="property",S(ht)):"?"==e||"number"==t||"string"==t?S(ht):":"==t?S(ft):"["==t?S(D("variable"),lt,D("]"),ht):"("==t?_(Lt,ht):void 0}function pt(t,e){return"variable"==t&&k.stream.match(/^\s*[?:]/,!1)||"?"==e?S(pt):":"==t?S(ft):"spread"==t?S(pt):_(ft)}function mt(t,e){return"<"==e?S(I(">"),it(ft,">"),j,mt):"|"==e||"."==t||"&"==e?S(ft):"["==t?S(ft,D("]"),mt):"extends"==e||"implements"==e?(k.marked="keyword",S(ft)):"?"==e?S(ft,D(":"),ft):void 0}function gt(t,e){if("<"==e)return S(I(">"),it(ft,">"),j,mt)}function vt(){return _(ft,yt)}function yt(t,e){if("="==e)return S(ft)}function bt(t,e){return"enum"==e?(k.marked="keyword",S(Kt)):_(xt,st,kt,_t)}function xt(t,e){return c&&O(e)?(k.marked="keyword",S(xt)):"variable"==t?(T(e),S()):"spread"==t?S(xt):"["==t?ot(Ct,"]"):"{"==t?ot(wt,"}"):void 0}function wt(t,e){return"variable"!=t||k.stream.match(/^\s*:/,!1)?("variable"==t&&(k.marked="property"),"spread"==t?S(xt):"}"==t?_():"["==t?S(B,D("]"),D(":"),wt):S(D(":"),xt,kt)):(T(e),S(kt))}function Ct(){return _(xt,kt)}function kt(t,e){if("="==e)return S(H)}function _t(t){if(","==t)return S(bt)}function St(t,e){if("keyword b"==t&&"else"==e)return S(I("form","else"),z,j)}function Et(t,e){return"await"==e?S(Et):"("==t?S(I(")"),Tt,j):void 0}function Tt(t){return"var"==t?S(bt,Ot):"variable"==t?S(Ot):_(Ot)}function Ot(t,e){return")"==t?S():";"==t?S(Ot):"in"==e||"of"==e?(k.marked="keyword",S(B,Ot)):_(B,Ot)}function Mt(t,e){return"*"==e?(k.marked="keyword",S(Mt)):"variable"==t?(T(e),S(Mt)):"("==t?S(N,I(")"),it(Nt,")"),j,ct,z,F):c&&"<"==e?S(I(">"),it(vt,">"),j,Mt):void 0}function Lt(t,e){return"*"==e?(k.marked="keyword",S(Lt)):"variable"==t?(T(e),S(Lt)):"("==t?S(N,I(")"),it(Nt,")"),j,ct,F):c&&"<"==e?S(I(">"),it(vt,">"),j,Lt):void 0}function At(t,e){return"keyword"==t||"variable"==t?(k.marked="type",S(At)):"<"==e?S(I(">"),it(vt,">"),j):void 0}function Nt(t,e){return"@"==e&&S(B,Nt),"spread"==t?S(Nt):c&&O(e)?(k.marked="keyword",S(Nt)):c&&"this"==t?S(st,kt):_(xt,st,kt)}function Pt(t,e){return"variable"==t?Ft(t,e):It(t,e)}function Ft(t,e){if("variable"==t)return T(e),S(It)}function It(t,e){return"<"==e?S(I(">"),it(vt,">"),j,It):"extends"==e||"implements"==e||c&&","==t?("implements"==e&&(k.marked="keyword"),S(c?ft:B,It)):"{"==t?S(I("}"),jt,j):void 0}function jt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||c&&O(e))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",S(jt)):"variable"==t||"keyword"==k.style?(k.marked="property",S(c?Dt:Mt,jt)):"number"==t||"string"==t?S(c?Dt:Mt,jt):"["==t?S(B,st,D("]"),c?Dt:Mt,jt):"*"==e?(k.marked="keyword",S(jt)):c&&"("==t?_(Lt,jt):";"==t||","==t?S(jt):"}"==t?S():"@"==e?S(B,jt):void 0}function Dt(t,e){if("?"==e)return S(Dt);if(":"==t)return S(ft,kt);if("="==e)return S(H);var n=k.state.lexical.prev,r=n&&"interface"==n.info;return _(r?Lt:Mt)}function zt(t,e){return"*"==e?(k.marked="keyword",S(Vt,D(";"))):"default"==e?(k.marked="keyword",S(B,D(";"))):"{"==t?S(it(Rt,"}"),Vt,D(";")):_(z)}function Rt(t,e){return"as"==e?(k.marked="keyword",S(D("variable"))):"variable"==t?_(H,Rt):void 0}function Bt(t){return"string"==t?S():"("==t?_(B):_(Ht,Wt,Vt)}function Ht(t,e){return"{"==t?ot(Ht,"}"):("variable"==t&&T(e),"*"==e&&(k.marked="keyword"),S(Ut))}function Wt(t){if(","==t)return S(Ht,Wt)}function Ut(t,e){if("as"==e)return k.marked="keyword",S(Ht)}function Vt(t,e){if("from"==e)return k.marked="keyword",S(B)}function Gt(t){return"]"==t?S():_(it(H,"]"))}function Kt(){return _(I("form"),xt,D("{"),I("}"),it($t,"}"),j,j)}function $t(){return _(xt,kt)}function qt(t,e,n){return e.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return F.lex=!0,j.lex=!0,{startState:function(t){var e={tokenize:m,lastType:"sof",cc:[],lexical:new w((t||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new M(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),b(t,e)),e.tokenize!=g&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==r?n:(e.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(t,e,n,r,i){var o=t.cc;for(k.state=t,k.stream=i,k.marked=null,k.cc=o,k.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var a=o.length?o.pop():l?B:z;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&C(t,r)?"variable-2":e}}}(e,n,r,i,t))},indent:function(e,r){if(e.tokenize==g)return t.Pass;if(e.tokenize!=m)return 0;var i,s=r&&r.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(r))for(var c=e.cc.length-1;c>=0;--c){var u=e.cc[c];if(u==j)l=l.prev;else if(u!=St)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=e.cc[e.cc.length-1])&&(i==G||i==K)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var f=l.type,h=s==f;return"vardef"==f?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==f&&"{"==s?l.indented:"form"==f?l.indented+o:"stat"==f?l.indented+(function(t,e){return"operator"==t.lastType||","==t.lastType||d.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}(e,r)?a||o:0):"switch"!=l.info||h||0==n.doubleIndentSwitch?l.align?l.column+(h?0:1):l.indented+(h?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:qt,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=B&&e!=H||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineMode("shell",function(){var e={};function n(t,n){for(var r=0;r<n.length;r++)e[n[r]]=t}var r=["true","false"],i=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],o=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];function a(t,e){var n="("==t?")":"{"==t?"}":t;return function(r,i){for(var o,u=!1;null!=(o=r.next());){if(o===n&&!u){i.tokens.shift();break}if("$"===o&&!u&&"'"!==t&&r.peek()!=n){u=!0,r.backUp(1),i.tokens.unshift(l);break}if(!u&&t!==n&&o===t)return i.tokens.unshift(a(t,e)),c(r,i);if(!u&&/['"]/.test(o)&&!/['"]/.test(t)){i.tokens.unshift(s(o,"string")),r.backUp(1);break}u=!u&&"\\"===o}return e}}function s(t,e){return function(n,r){return r.tokens[0]=a(t,e),n.next(),c(n,r)}}t.registerHelper("hintWords","shell",r.concat(i,o)),n("atom",r),n("keyword",i),n("builtin",o);var l=function(t,e){e.tokens.length>1&&t.eat("$");var n=t.next();return/['"({]/.test(n)?(e.tokens[0]=a(n,"("==n?"quote":"{"==n?"def":"string"),c(t,e)):(/\d/.test(n)||t.eatWhile(/\w/),e.tokens.shift(),"def")};function c(t,n){return(n.tokens[0]||function(t,n){if(t.eatSpace())return null;var r=t.sol(),i=t.next();if("\\"===i)return t.next(),null;if("'"===i||'"'===i||"`"===i)return n.tokens.unshift(a(i,"`"===i?"quote":"string")),c(t,n);if("#"===i)return r&&t.eat("!")?(t.skipToEnd(),"meta"):(t.skipToEnd(),"comment");if("$"===i)return n.tokens.unshift(l),c(t,n);if("+"===i||"="===i)return"operator";if("-"===i)return t.eat("-"),t.eatWhile(/\w/),"attribute";if(/\d/.test(i)&&(t.eatWhile(/\d/),t.eol()||!/\w/.test(t.peek())))return"number";t.eatWhile(/[\w-]/);var o=t.current();return"="===t.peek()&&/\w+/.test(o)?"def":e.hasOwnProperty(o)?e[o]:null})(t,n)}return{startState:function(){return{tokens:[]}},token:function(t,e){return c(t,e)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),t.defineMIME("text/x-sh","shell"),t.defineMIME("application/x-sh","shell")}(n(0))},function(t,e,n){!function(t){"use strict";function e(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var n=e(["_","var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","open","public","internal","fileprivate","private","deinit","init","new","override","self","subscript","super","convenience","dynamic","final","indirect","lazy","required","static","unowned","unowned(safe)","unowned(unsafe)","weak","as","is","break","case","continue","default","else","fallthrough","for","guard","if","in","repeat","switch","where","while","defer","return","inout","mutating","nonmutating","catch","do","rethrows","throw","throws","try","didSet","get","set","willSet","assignment","associativity","infix","left","none","operator","postfix","precedence","precedencegroup","prefix","right","Any","AnyObject","Type","dynamicType","Self","Protocol","__COLUMN__","__FILE__","__FUNCTION__","__LINE__"]),r=e(["var","let","class","enum","extension","import","protocol","struct","func","typealias","associatedtype","for"]),i=e(["true","false","nil","self","super","_"]),o=e(["Array","Bool","Character","Dictionary","Double","Float","Int","Int8","Int16","Int32","Int64","Never","Optional","Set","String","UInt8","UInt16","UInt32","UInt64","Void"]),a="+-/*%=|&<>~^?!",s=":;,.(){}[]",l=/^\-?0b[01][01_]*/,c=/^\-?0o[0-7][0-7_]*/,u=/^\-?0x[\dA-Fa-f][\dA-Fa-f_]*(?:(?:\.[\dA-Fa-f][\dA-Fa-f_]*)?[Pp]\-?\d[\d_]*)?/,f=/^\-?\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee]\-?\d[\d_]*)?/,d=/^\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1/,h=/^\.(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/,p=/^\#[A-Za-z]+/,m=/^@(?:\$\d+|(`?)[_A-Za-z][_A-Za-z$0-9]*\1)/;function g(t,e,g){if(t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;var b,x=t.peek();if("/"==x){if(t.match("//"))return t.skipToEnd(),"comment";if(t.match("/*"))return e.tokenize.push(y),y(t,e)}if(t.match(p))return"builtin";if(t.match(m))return"attribute";if(t.match(l))return"number";if(t.match(c))return"number";if(t.match(u))return"number";if(t.match(f))return"number";if(t.match(h))return"property";if(a.indexOf(x)>-1)return t.next(),"operator";if(s.indexOf(x)>-1)return t.next(),t.match(".."),"punctuation";if(b=t.match(/("""|"|')/)){var w=function(t,e,n){for(var r,i=1==t.length,o=!1;r=e.peek();)if(o){if(e.next(),"("==r)return n.tokenize.push(v()),"string";o=!1}else{if(e.match(t))return n.tokenize.pop(),"string";e.next(),o="\\"==r}return i&&n.tokenize.pop(),"string"}.bind(null,b[0]);return e.tokenize.push(w),w(t,e)}if(t.match(d)){var C=t.current();return o.hasOwnProperty(C)?"variable-2":i.hasOwnProperty(C)?"atom":n.hasOwnProperty(C)?(r.hasOwnProperty(C)&&(e.prev="define"),"keyword"):"define"==g?"def":"variable"}return t.next(),null}function v(){var t=0;return function(e,n,r){var i=g(e,n,r);if("punctuation"==i)if("("==e.current())++t;else if(")"==e.current()){if(0==t)return e.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](e,n);--t}return i}}function y(t,e){for(var n;t.match(/^[^\/*]+/,!0),n=t.next();)"/"===n&&t.eat("*")?e.tokenize.push(y):"*"===n&&t.eat("/")&&e.tokenize.pop();return"comment"}function b(t,e,n){this.prev=t,this.align=e,this.indented=n}t.defineMode("swift",function(t){return{startState:function(){return{prev:null,context:null,indented:0,tokenize:[]}},token:function(t,e){var n=e.prev;e.prev=null;var r=e.tokenize[e.tokenize.length-1]||g,i=r(t,e,n);if(i&&"comment"!=i?e.prev||(e.prev=i):e.prev=n,"punctuation"==i){var o=/[\(\[\{]|([\]\)\}])/.exec(t.current());o&&(o[1]?function(t){t.context&&(t.indented=t.context.indented,t.context=t.context.prev)}:function(t,e){var n=e.match(/^\s*($|\/[\/\*])/,!1)?null:e.column()+1;t.context=new b(t.context,n,t.indented)})(e,t)}return i},indent:function(e,n){var r=e.context;if(!r)return 0;var i=/^[\]\}\)]/.test(n);return null!=r.align?r.align-(i?1:0):r.indented+(i?0:t.indentUnit)},electricInput:/^\s*[\)\}\]]$/,lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace",closeBrackets:"()[]{}''\"\"``"}}),t.defineMIME("text/x-swift","swift")}(n(0))},function(t,e,n){"use strict";var r=n(254),i=n(138),o=n(13),a=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,l=Math.abs,c=Math.floor;t.exports=function(t){var e,n,u,f;if(!r(t))return a.apply(this,arguments);for(n=i(o(this).length),u=arguments[1],e=u=isNaN(u)?0:u>=0?c(u):i(this.length)-c(l(u));e<n;++e)if(s.call(this,e)&&(f=this[e],r(f)))return e;return-1}},function(t,e,n){"use strict";t.exports=n(255)()?Number.isNaN:n(256)},function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},function(t,e,n){"use strict";t.exports=function(t){return t!=t}},function(t,e,n){"use strict";var r=n(258),i=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(i(t)):t}},function(t,e,n){"use strict";t.exports=n(259)()?Math.sign:n(260)},function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,n){"use strict";var r=n(33),i={function:!0,object:!0};t.exports=function(t){return r(t)&&i[typeof t]||!1}},function(t,e,n){"use strict";var r,i,o,a,s=Object.create;n(139)()||(r=n(140)),t.exports=r?1!==r.level?s:(i={},o={},a={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(t){o[t]="__proto__"!==t?a:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(i,o),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return s(null===t?i:t,e)}):s},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(265),i=n(13),o=Math.max;t.exports=function(t,e){var n,a,s,l=o(arguments.length,2);for(t=Object(i(t)),s=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<l;++a)e=arguments[a],r(e).forEach(s);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(266)()?Object.keys:n(267)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(33),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r,i,o,a,s,l,c,u=n(25),f=n(14),d=Function.prototype.apply,h=Function.prototype.call,p=Object.create,m=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};i=function(t,e){var n,i;return f(e),i=this,r.call(this,t,n=function(){o.call(i,t,n),d.call(e,this,arguments)}),n.__eeOnceListener__=e,this},s={on:r=function(t,e){var n;return f(e),v.call(this,"__ee__")?n=this.__ee__:(n=y.value=p(null),m(this,"__ee__",y),y.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:i,off:o=function(t,e){var n,r,i,o;if(f(e),!v.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"==typeof(r=n[t]))for(o=0;i=r[o];++o)i!==e&&i.__eeOnceListener__!==e||(2===r.length?n[t]=r[o?0:1]:r.splice(o,1));else r!==e&&r.__eeOnceListener__!==e||delete n[t];return this},emit:a=function(t){var e,n,r,i,o;if(v.call(this,"__ee__")&&(i=this.__ee__[t]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];for(i=i.slice(),e=0;r=i[e];++e)d.call(r,this,o)}else switch(arguments.length){case 1:h.call(i,this);break;case 2:h.call(i,this,arguments[1]);break;case 3:h.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),e=1;e<n;++e)o[e-1]=arguments[e];d.call(i,this,o)}}},l={on:u(r),once:u(i),off:u(o),emit:u(a)},c=g({},l),t.exports=e=function(t){return null==t?p(c):g(Object(t),l)},e.methods=s},function(t,e,n){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(t,e,n){"use strict";var r,i,o,a,s=n(25),l=n(274),c=Object.create,u=Object.defineProperties,f=Object.defineProperty,d=Object.prototype,h=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(t){}}var p,m=(p=c(null),function(t){for(var e,n,r=0;p[t+(r||"")];)++r;return p[t+=r||""]=!0,f(d,e="@@"+t,s.gs(null,function(t){n||(n=!0,f(this,e,s(t)),n=!1)})),e});o=function(t){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return i(t)},t.exports=i=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return a?r(e):(n=c(o.prototype),e=void 0===e?"":String(e),u(n,{__description__:s("",e),__name__:s("",m(e))}))},u(i,{for:s(function(t){return h[t]?h[t]:h[t]=i(String(t))}),keyFor:s(function(t){var e;for(e in l(t),h)if(h[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",r&&r.iterator||i("iterator")),match:s("",r&&r.match||i("match")),replace:s("",r&&r.replace||i("replace")),search:s("",r&&r.search||i("search")),species:s("",r&&r.species||i("species")),split:s("",r&&r.split||i("split")),toPrimitive:s("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:s("",r&&r.toStringTag||i("toStringTag")),unscopables:s("",r&&r.unscopables||i("unscopables"))}),u(o.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),u(i.prototype,{toString:s(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:s(function(){return l(this)})}),f(i.prototype,i.toPrimitive,s("",function(){var t=l(this);return"symbol"==typeof t?t:t.toString()})),f(i.prototype,i.toStringTag,s("c","Symbol")),f(o.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),f(o.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(t,e,n){"use strict";var r=n(275);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r=n(59),i=n(33),o=n(60),a=n(18).iterator,s=Array.isArray;t.exports=function(t){return!!i(t)&&(!!s(t)||(!!o(t)||(!!r(t)||"function"==typeof t[a])))}},function(t,e,n){"use strict";var r=n(59),i=n(14),o=n(60),a=n(278),s=Array.isArray,l=Function.prototype.call,c=Array.prototype.some;t.exports=function(t,e){var n,u,f,d,h,p,m,g,v=arguments[2];if(s(t)||r(t)?n="array":o(t)?n="string":t=a(t),i(e),f=function(){d=!0},"array"!==n)if("string"!==n)for(u=t.next();!u.done;){if(l.call(e,v,u.value,f),d)return;u=t.next()}else for(p=t.length,h=0;h<p&&(m=t[h],h+1<p&&(g=m.charCodeAt(0))>=55296&&g<=56319&&(m+=t[++h]),l.call(e,v,m,f),!d);++h);else c.call(t,function(t){return l.call(e,v,t,f),d})}},function(t,e,n){"use strict";var r=n(59),i=n(60),o=n(279),a=n(289),s=n(142),l=n(18).iterator;t.exports=function(t){return"function"==typeof s(t)[l]?t[l]():r(t)?new o(t):i(t)?new a(t):new o(t)}},function(t,e,n){"use strict";var r,i=n(58),o=n(99),a=n(25),s=n(18),l=n(100),c=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");l.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",c(this,"__kind__",a("",e))},i&&i(r,l),delete r.prototype.constructor,r.prototype=Object.create(l.prototype,{_resolve:a(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),c(r.prototype,s.toStringTag,a("c","Array Iterator"))},function(t,e,n){"use strict";var r,i=n(281),o=n(141),a=n(14),s=n(286),l=n(14),c=n(13),u=Function.prototype.bind,f=Object.defineProperty,d=Object.prototype.hasOwnProperty;r=function(t,e,n){var r,o=c(e)&&l(e.value);return delete(r=i(e)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&d.call(this,t)?o:(e.value=u.call(o,n.resolveContext?n.resolveContext(this):this),f(this,t,e),this[t])},r},t.exports=function(t){var e=o(arguments[1]);return null!=e.resolveContext&&a(e.resolveContext),s(t,function(t,n){return r(n,t,e)})}},function(t,e,n){"use strict";var r=n(282),i=n(98),o=n(13);t.exports=function(t){var e=Object(o(t)),n=arguments[1],a=Object(arguments[2]);if(e!==t&&!n)return e;var s={};return n?r(n,function(e){(a.ensure||e in t)&&(s[e]=t[e])}):i(s,t),s}},function(t,e,n){"use strict";t.exports=n(283)()?Array.from:n(284)},function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,n){"use strict";var r=n(18).iterator,i=n(59),o=n(285),a=n(138),s=n(14),l=n(13),c=n(33),u=n(60),f=Array.isArray,d=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;t.exports=function(t){var e,n,m,g,v,y,b,x,w,C,k=arguments[1],_=arguments[2];if(t=Object(l(t)),c(k)&&s(k),this&&this!==Array&&o(this))e=this;else{if(!k){if(i(t))return 1!==(v=t.length)?Array.apply(null,t):((g=new Array(1))[0]=t[0],g);if(f(t)){for(g=new Array(v=t.length),n=0;n<v;++n)g[n]=t[n];return g}}g=[]}if(!f(t))if(void 0!==(w=t[r])){for(b=s(w).call(t),e&&(g=new e),x=b.next(),n=0;!x.done;)C=k?d.call(k,_,x.value,n):x.value,e?(h.value=C,p(g,n,h)):g[n]=C,x=b.next(),++n;v=n}else if(u(t)){for(v=t.length,e&&(g=new e),n=0,m=0;n<v;++n)C=t[n],n+1<v&&(y=C.charCodeAt(0))>=55296&&y<=56319&&(C+=t[++n]),C=k?d.call(k,_,C,m):C,e?(h.value=C,p(g,m,h)):g[m]=C,++m;v=m}if(void 0===v)for(v=a(t.length),e&&(g=new e(v)),n=0;n<v;++n)C=k?d.call(k,_,t[n],n):t[n],e?(h.value=C,p(g,n,h)):g[n]=C;return e&&(h.value=null,g.length=v),g}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(n(137));t.exports=function(t){return"function"==typeof t&&r.call(t)===i}},function(t,e,n){"use strict";var r=n(14),i=n(287),o=Function.prototype.call;t.exports=function(t,e){var n={},a=arguments[2];return r(e),i(t,function(t,r,i,s){n[r]=o.call(e,a,t,r,i,s)}),n}},function(t,e,n){"use strict";t.exports=n(288)("forEach")},function(t,e,n){"use strict";var r=n(14),i=n(13),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,c){var u,f=arguments[2],d=arguments[3];return n=Object(i(n)),r(c),u=s(n),d&&u.sort("function"==typeof d?o.call(d,n):void 0),"function"!=typeof t&&(t=u[t]),a.call(t,u,function(t,r){return l.call(n,t)?a.call(c,f,n[t],t,n,r):e})}}},function(t,e,n){"use strict";var r,i=n(58),o=n(25),a=n(18),s=n(100),l=Object.defineProperty;r=t.exports=function(t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");t=String(t),s.call(this,t),l(this,"__length__",o("",t.length))},i&&i(r,s),delete r.prototype.constructor,r.prototype=Object.create(s.prototype,{_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(t){var e,n=this.__list__[t];return this.__nextIndex__===this.__length__?n:(e=n.charCodeAt(0))>=55296&&e<=56319?n+this.__list__[this.__nextIndex__++]:n})}),l(r.prototype,a.toStringTag,o("c","String Iterator"))},function(t,e,n){"use strict";var r,i=n(58),o=n(99),a=n(25),s=n(100),l=n(18).toStringTag,c=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))return new r(t,e);s.call(this,t.__setData__,t),e=e&&o.call(e,"key+value")?"key+value":"value",c(this,"__kind__",a("",e))},i&&i(r,s),r.prototype=Object.create(s.prototype,{constructor:a(r),_resolve:a(function(t){return"value"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__list__[t]]}),toString:a(function(){return"[object Set Iterator]"})}),c(r.prototype,l,a("c","Set Iterator"))},function(t,e,n){"use strict";t.exports="undefined"!=typeof Set&&"[object Set]"===Object.prototype.toString.call(Set.prototype)},function(t,e,n){n(12)&&"g"!=/./g.flags&&n(42).f(RegExp.prototype,"flags",{configurable:!0,get:n(54)})},function(t,e,n){var r=n(1),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(295),t.exports=n(1).Object.values},function(t,e,n){var r=n(2),i=n(296)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(8),i=n(27),o=n(16),a=n(41).f;t.exports=function(t){return function(e){for(var n,s=o(e),l=i(s),c=l.length,u=0,f=[];c>u;)n=l[u++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){"use strict";var r=n(31),i=n(298)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(123)("find")},function(t,e,n){var r=n(87),i=n(120),o=n(122),a=n(29),s=n(299);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,f=6==t,d=5==t||f,h=e||s;return function(e,s,p){for(var m,g,v=o(e),y=i(v),b=r(s,p,3),x=a(y.length),w=0,C=n?h(e,x):l?h(e,0):void 0;x>w;w++)if((d||w in y)&&(g=b(m=y[w],w,v),t))if(n)C[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:C.push(m)}else if(u)return!1;return f?-1:c||u?u:C}}},function(t,e,n){var r=n(300);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(22),i=n(301),o=n(9)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(53);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";n(303)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){var r=n(31),i=n(24),o=n(30),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){t.exports=n(306)},function(t,e,n){n(307),t.exports=n(1).Object.getPrototypeOf},function(t,e,n){var r=n(28),i=n(94);n(77)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){n(309),t.exports=n(1).Object.setPrototypeOf},function(t,e,n){var r=n(2);r(r.S,"Object",{setPrototypeOf:n(310).set})},function(t,e,n){var r=n(11),i=n(7),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(26)(Function.call,n(51).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports=n(312)},function(t,e,n){n(313),t.exports=n(1).Reflect.get},function(t,e,n){var r=n(51),i=n(94),o=n(15),a=n(2),s=n(11),l=n(7);a(a.S,"Reflect",{get:function t(e,n){var a,c,u=arguments.length<3?e:arguments[2];return l(e)===u?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=i(e))?t(c,n,u):void 0}})},function(t,e,n){var r=n(19);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){t.exports=n(316)},function(t,e,n){n(317);var r=n(1).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(2);r(r.S,"Object",{create:n(76)})},function(t,e,n){var r=n(147);function i(e,n){return t.exports=i=r||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.Show=function(){function t(){i(this,t),this.node=null}return r(t,[{key:"bind",value:function(t){this.node=t}},{key:"unbind",value:function(t){this.node=null}},{key:"update",value:function(t){this.node.style.display=t?"":"none"}}]),t}(),e.Hide=function(){function t(){i(this,t),this.node=null}return r(t,[{key:"bind",value:function(t){this.node=t}},{key:"unbind",value:function(t){this.node=null}},{key:"update",value:function(t){this.node.style.display=t?"none":""}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.FadeIn=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=null}return r(t,[{key:"bind",value:function(t){this.node=t}},{key:"unbind",value:function(t){this.node=null}},{key:"update",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?300:arguments[0];this.node.style.opacity=0,this.node.style.transition="opacity "+e+"ms",window.requestAnimationFrame(function(){return t.node.style.opacity=1})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.handler=null,this.callback=this.callback.bind(this)}return r(t,[{key:"callback",value:function(t){this.handler(t)}},{key:"bind",value:function(t){t.addEventListener(this.type,this.callback)}},{key:"unbind",value:function(t){t.removeEventListener(this.type,this.callback)}},{key:"update",value:function(t){this.handler=t}}]),t}();e.default=i},function(t,e,n){"use strict";var r,i=n(45),o=(r=i)&&r.__esModule?r:{default:r},a=n(323);o.default.prototype.on=function(t,e,n){var r=this,i=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];this.delegates||(this.delegates=[],this.nodes.forEach(function(t,e){if(8===t.nodeType)throw"Can not use event delegating with non-element nodes on first level.";r.delegates[e]=new a.Delegate(t)})),this.delegates.forEach(function(r){return r.on(t,e,n,i)})},o.default.prototype.off=function(){var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],e=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?void 0:arguments[3];this.delegates.forEach(function(i){return i.off(t,e,n,r)})}},function(t,e,n){"use strict";
/**
 * @preserve Create and manage a DOM event delegator.
 *
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */var r=n(324);t.exports=function(t){return new r(t)},t.exports.Delegate=r},function(t,e,n){"use strict";function r(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=r.prototype.handle.bind(this)}t.exports=r,r.prototype.root=function(t){var e,n=this.listenerMap;if(this.rootElement){for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;for(e in this.rootElement=t,n[1])n[1].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!1);return this},r.prototype.captureForType=function(t){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(t)},r.prototype.on=function(t,e,n,r){var s,l,c,u;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof e&&(r=n,n=e,e=null),void 0===r&&(r=this.captureForType(t)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return s=this.rootElement,(l=this.listenerMap[r?1:0])[t]||(s&&s.addEventListener(t,this.handle,r),l[t]=[]),e?/^[a-z]+$/i.test(e)?(u=e,c=o):/^#[a-z0-9\-_]+$/i.test(e)?(u=e.slice(1),c=a):(u=e,c=i):(u=null,c=function(t,e){return this.rootElement===window?e===document:this.rootElement===e}.bind(this)),l[t].push({selector:e,handler:n,matcher:c,matcherParam:u}),this},r.prototype.off=function(t,e,n,r){var i,o,a,s,l;if("function"==typeof e&&(r=n,n=e,e=null),void 0===r)return this.off(t,e,n,!0),this.off(t,e,n,!1),this;if(a=this.listenerMap[r?1:0],!t){for(l in a)a.hasOwnProperty(l)&&this.off(l,e,n);return this}if(!(s=a[t])||!s.length)return this;for(i=s.length-1;i>=0;i--)o=s[i],e&&e!==o.selector||n&&n!==o.handler||s.splice(i,1);return s.length||(delete a[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,r)),this},r.prototype.handle=function(t){var e,n,r,i,o,a,s=t.type,l=[];if(!0!==t.ftLabsDelegateIgnore){switch(3===(a=t.target).nodeType&&(a=a.parentNode),r=this.rootElement,t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:l=this.listenerMap[1][s];break;case 2:this.listenerMap[0]&&this.listenerMap[0][s]&&(l=l.concat(this.listenerMap[0][s])),this.listenerMap[1]&&this.listenerMap[1][s]&&(l=l.concat(this.listenerMap[1][s]));break;case 3:l=this.listenerMap[0][s]}for(n=l.length;a&&n;){for(e=0;e<n&&(i=l[e]);e++)if(i.matcher.call(a,i.matcherParam,a)&&(o=this.fire(t,a,i)),!1===o)return t.ftLabsDelegateIgnore=!0,void t.preventDefault();if(a===r)break;n=l.length,a=a.parentElement}}},r.prototype.fire=function(t,e,n){return n.handler.call(e,t,e)};var i=function(t){if(t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);function o(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function a(t,e){return t===e.id}r.prototype.destroy=function(){this.off(),this.root()}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var r=n(61),i=n.n(r),o=n(5),a=n.n(o),s=n(6),l=n.n(s),c=n(62),u=n.n(c),f=n(19),d=n.n(f),h=n(63),p=n.n(h),m=n(64),g=n.n(m),v=n(159),y=function(t){function e(){var t;return a()(this,e),(t=u()(this,d()(e).call(this))).state={onExceptionClick:null},t}return g()(e,t),l()(e,[{key:"update",value:function(t){i()(this.state,t),p()(d()(e.prototype),"update",this).call(this,t)}},{key:"onStackTraceClick",value:function(t,e){this.state.onExceptionClick(t,e)}}]),e}(n.n(v).a)},function(t,e,n){n(57),n(44),t.exports=n(327)},function(t,e,n){var r=n(7),i=n(96);t.exports=n(1).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(329);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(148)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,".k2js-iframe{display:none}iframe{border:none;background:white;width:100%;z-index:10}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var r=n(332);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(148)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(34)(!1)).i(n(333),""),e.i(n(334),""),e.i(n(335),""),e.i(n(336),"");var r=n(337),i=r(n(338)),o=r(n(339)),a=r(n(340)),s=r(n(341)),l=r(n(342)),c=r(n(343)),u=r(n(344)),f=r(n(345)),d=r(n(346)),h=r(n(347)),p=r(n(348)),m=r(n(349)),g=r(n(350));e.push([t.i,".executable-fragment-wrapper{margin-bottom:20px;position:relative}.executable-fragment{border:1px solid #eaeaec;border-bottom-width:0}.executable-fragment.darcula{border:1px solid gray;border-bottom-width:0;background-color:#313336}.hidden-dependency{display:none}.CodeMirror{height:auto;font-size:12px}.CodeMirror pre{line-height:16.8px;margin-bottom:0 !important}.CodeMirror .CodeMirror-overlayscroll-horizontal div,.CodeMirror .CodeMirror-overlayscroll-vertical div{display:none}.CodeMirror:hover .CodeMirror-overlayscroll-horizontal div,.CodeMirror:hover .CodeMirror-overlayscroll-vertical div{display:block;background:#afb1b3}.CodeMirror-lines{padding:0;margin:12px 0}.CodeMirror-gutter{height:auto}.CodeMirror{line-height:1.4;font-family:menlo, consolas, monospace;font-size:12px}.CodeMirror-linenumber{min-width:0;text-align:center}.CodeMirror-linebackground.unmodifiable-line{background-color:#eaeaec}.CodeMirror-linebackground.unmodifiable-line-dark{background-color:#3c3f43}.markPlaceholder{border-top:1px solid #167dff;border-bottom:1px solid #167dff}.markPlaceholder-start{border-left:1px solid #167dff}.markPlaceholder-end{border-right:1px solid #167dff}.run-button{position:absolute;z-index:10;right:5px;top:5px;height:20px;width:16px;cursor:pointer;background-size:cover;background:url("+i+') no-repeat}.run-button._disabled{cursor:default;opacity:0.5}.loader{position:relative;width:15px;height:15px;margin:0 auto;border-radius:50%;text-indent:-9999em;color:#161616;font-size:8px;opacity:.7;animation:loader 1s infinite ease-in-out;animation-delay:0.16s}.loader.darcula{opacity:1;color:#696969}.loader::before{left:-3.5em;animation-delay:0s;position:absolute;width:15px;border-radius:50%;height:15px;content:\'\';animation:loader 1s infinite ease-in-out}.loader::after{left:3.5em;animation-delay:0.32s;position:absolute;border-radius:50%;width:15px;height:15px;content:\'\';animation:loader 1s infinite ease-in-out}@keyframes loader{100%{box-shadow:0 2.5em 0 -1.3em}80%{box-shadow:0 2.5em 0 -1.3em}0%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}.cm__ERROR{color:#ec5424 !important}.errors-and-warnings-gutter{width:16px}.ERRORgutter{height:13px;width:13px;margin-top:2px;margin-left:2px;background:url("https://try.kotlinlang.org/static/images/icons_all_sprite.svg") no-repeat -150px -500px}.WARNINGgutter{height:13px;width:13px;margin-top:2px;margin-left:2px;background:url("https://try.kotlinlang.org/static/images/icons_all_sprite.svg") no-repeat -150px -600px}.cm__red_wavy_line{background:url("https://try.kotlinlang.org/static/images/wavyline-red.gif") repeat-x 100% 100%;padding-bottom:2px}.cm__green_wavy_line{background:url("https://try.kotlinlang.org/static/images/wavyline-green.gif") repeat-x 100% 100%;padding-bottom:2px}.js-code-output-executor{border-top:1px solid #eaeaec;position:relative}.js-code-output-executor.darcula{border-top:1px solid grey}.output-wrapper{flex-direction:column;display:flex;border-bottom:1px solid #eaeaec;min-height:60px;font-size:14px;background-color:white}.output-wrapper.darcula{background-color:#313336;color:#afb1b3}.code-output{flex-grow:1;font-family:"Liberation Mono",Consolas,Menlo,Courier,monospace;overflow:auto;padding-left:10px;padding-top:15px}.standard-output.darcula{color:#afb1b3}.error-output{white-space:pre-wrap;color:#ec5424;min-height:1.4em;margin:0;vertical-align:top}.error-output.darcula{color:#ec5424}.standard-output{white-space:pre;color:#000;min-height:1.4em;margin:0;vertical-align:top}.test-passed{white-space:pre;color:#4dbb5f;min-height:1.4em;vertical-align:top}.console-close{position:absolute;right:0;width:16px;height:16px;background:#afb1b3 url('+o+") no-repeat}.console-close.darcula{background:url("+o+")}.console-close:hover{background-color:dimgray}.console-close.darcula:hover{background-color:#ec5424}.test-fail,.test-error{color:#ec5424;min-height:1.4em;vertical-align:top}.console-block{display:flex}.console-icon{margin-top:2px;padding-right:20px;width:15px;height:15px}.console-icon.attention{background:url("+a+") no-repeat}.console-icon.passed{background:url("+s+") no-repeat}.console-icon.fail{background:url("+l+") no-repeat}.console-icon.error{background:url("+l+") no-repeat}.test-time{float:right;font-size:10px;color:#afb1b3;margin-right:20px;margin-top:-14px}.stacktrace-element{margin-left:20px}.stacktrace-element .stacktrace-link{color:#167dff;cursor:pointer}.stacktrace-element .stacktrace-link:hover{text-decoration:underline}.CodeMirror-foldgutter{position:absolute;width:100%}.CodeMirror-foldgutter-folded{width:100%;background:white}.fold-button{position:absolute;height:19px;width:31px;top:0;left:50%;transform:translate(-50%, -50%);z-index:10;cursor:pointer;background:transparent url("+c+") no-repeat}.fold-button._hover{background-image:url("+u+")}.fold-button.darcula{background:url("+f+") no-repeat}.fold-button.darcula._hover{background-image:url("+d+")}._unfolded .fold-button{background-image:url("+h+")}._unfolded .fold-button._hover{background-image:url("+p+")}._unfolded .fold-button.darcula{background:url("+m+") no-repeat}._unfolded .fold-button.darcula._hover{background-image:url("+g+')}.code-area{position:relative}.compiler-info{position:absolute;right:0;font-size:10px;color:#afb1b3}.compiler-info span{margin-left:15px}.CodeMirror-hints{padding-left:0 !important;border:1px solid #afb1b3;border-radius:4px;list-style:none;position:absolute;background-color:#f7f7f7;overflow-y:hidden;z-index:10;max-height:20em;box-shadow:2px 3px 5px rgba(0,0,0,0.2)}.CodeMirror-hint{cursor:pointer;display:flex;align-items:center;padding-right:5px;padding-left:5px}li.CodeMirror-hint-active{background-color:#d8d8d8;color:#000000}.CodeMirror-hint .name{margin-right:20px}.CodeMirror-hint .tail{margin-left:auto;margin-right:5px}.CodeMirror-hint .icon{height:16px;width:16px;margin-right:5px}.icon{background:url("https://try.kotlinlang.org/static/images/icons_all_sprite.svg")}.icon.class{background:url("https://try.kotlinlang.org/static/images/completion_class.svg")}.icon.package{background:url("https://try.kotlinlang.org/static/images/completion_package.svg")}.icon.method{background:url("https://try.kotlinlang.org/static/images/completion_method.svg")}.icon.genericValue{background:url("https://try.kotlinlang.org/static/images/completion_generic.svg")}.icon.property{background:url("https://try.kotlinlang.org/static/images/completion_property.svg")}div[label]:hover:after{content:attr(label);padding:0.25rem 0.5rem;white-space:pre;margin-top:-1rem;display:inline-flex;background:#feffde;border-radius:3px;margin-left:1rem;color:black;border:1px solid #3c3f43}\n',""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,"/**\n    Name:       IDEA default theme\n    From IntelliJ IDEA by JetBrains\n */\n\n.cm-s-idea span.cm-meta { color: #808000; }\n.cm-s-idea span.cm-number { color: #0000FF; }\n.cm-s-idea span.cm-keyword { line-height: 1em; font-weight: bold; color: #000080; }\n.cm-s-idea span.cm-atom { font-weight: bold; color: #000080; }\n.cm-s-idea span.cm-def { color: #000000; }\n.cm-s-idea span.cm-variable { color: black; }\n.cm-s-idea span.cm-variable-2 { color: black; }\n.cm-s-idea span.cm-variable-3, .cm-s-idea span.cm-type { color: black; }\n.cm-s-idea span.cm-property { color: black; }\n.cm-s-idea span.cm-operator { color: black; }\n.cm-s-idea span.cm-comment { color: #808080; }\n.cm-s-idea span.cm-string { color: #008000; }\n.cm-s-idea span.cm-string-2 { color: #008000; }\n.cm-s-idea span.cm-qualifier { color: #555; }\n.cm-s-idea span.cm-error { color: #FF0000; }\n.cm-s-idea span.cm-attribute { color: #0000FF; }\n.cm-s-idea span.cm-tag { color: #000080; }\n.cm-s-idea span.cm-link { color: #0000FF; }\n.cm-s-idea .CodeMirror-activeline-background { background: #FFFAE3; }\n\n.cm-s-idea span.cm-builtin { color: #30a; }\n.cm-s-idea span.cm-bracket { color: #cc7; }\n.cm-s-idea  { font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;}\n\n\n.cm-s-idea .CodeMirror-matchingbracket { outline:1px solid grey; color:black !important; }\n\n.CodeMirror-hints.idea {\n  font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;\n  color: #616569;\n  background-color: #ebf3fd !important;\n}\n\n.CodeMirror-hints.idea .CodeMirror-hint-active {\n  background-color: #a2b8c9 !important;\n  color: #5c6065 !important;\n}",""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,"/**\n    Name: IntelliJ IDEA darcula theme\n    From IntelliJ IDEA by JetBrains\n */\n\n.cm-s-darcula  { font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif;}\n.cm-s-darcula.CodeMirror { background: #2B2B2B; color: #A9B7C6; } \n\n.cm-s-darcula span.cm-meta { color: #BBB529; }\n.cm-s-darcula span.cm-number { color: #6897BB; }\n.cm-s-darcula span.cm-keyword { color: #CC7832; line-height: 1em; font-weight: bold; }  \n.cm-s-darcula span.cm-def { color: #A9B7C6; font-style: italic; }\n.cm-s-darcula span.cm-variable { color: #A9B7C6; }\n.cm-s-darcula span.cm-variable-2 { color: #A9B7C6; }\n.cm-s-darcula span.cm-variable-3 { color: #9876AA; }\n.cm-s-darcula span.cm-type { color: #AABBCC; font-weight: bold; }\n.cm-s-darcula span.cm-property { color: #FFC66D; }\n.cm-s-darcula span.cm-operator { color: #A9B7C6; }\n.cm-s-darcula span.cm-string { color: #6A8759; }\n.cm-s-darcula span.cm-string-2 { color: #6A8759; }\n.cm-s-darcula span.cm-comment { color: #61A151; font-style: italic; } \n.cm-s-darcula span.cm-link { color: #CC7832; }\n.cm-s-darcula span.cm-atom { color: #CC7832; }\n.cm-s-darcula span.cm-error { color: #BC3F3C; }\n.cm-s-darcula span.cm-tag { color: #629755; font-weight: bold; font-style: italic; text-decoration: underline; }\n.cm-s-darcula span.cm-attribute { color: #6897bb; }\n.cm-s-darcula span.cm-qualifier { color: #6A8759; }\n.cm-s-darcula span.cm-bracket { color: #A9B7C6; }\n.cm-s-darcula span.cm-builtin { color: #FF9E59; }\n.cm-s-darcula span.cm-special { color: #FF9E59; }\n\n.cm-s-darcula .CodeMirror-cursor { border-left: 1px solid #A9B7C6; }  \n.cm-s-darcula .CodeMirror-activeline-background { background: #323232; } \n.cm-s-darcula .CodeMirror-gutters { background: #313335; border-right: 1px solid #313335; } \n.cm-s-darcula .CodeMirror-guttermarker { color: #FFEE80; }  \n.cm-s-darcula .CodeMirror-guttermarker-subtle { color: #D0D0D0; }  \n.cm-s-darcula .CodeMirrir-linenumber { color: #606366; } \n.cm-s-darcula .CodeMirror-matchingbracket { background-color: #3B514D; color: #FFEF28 !important; font-weight: bold; } \n\n.cm-s-darcula div.CodeMirror-selected { background: #214283; }  \n\n.CodeMirror-hints.darcula {\n  font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;\n  color: #9C9E9E;\n  background-color: #3B3E3F !important;\n}\n\n.CodeMirror-hints.darcula .CodeMirror-hint-active {\n  background-color: #494D4E !important;\n  color: #9C9E9E !important;\n}\n",""])},function(t,e,n){(t.exports=n(34)(!1)).push([t.i,".CodeMirror-simplescroll-horizontal div, .CodeMirror-simplescroll-vertical div {\n  position: absolute;\n  background: #ccc;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n}\n\n.CodeMirror-simplescroll-horizontal, .CodeMirror-simplescroll-vertical {\n  position: absolute;\n  z-index: 6;\n  background: #eee;\n}\n\n.CodeMirror-simplescroll-horizontal {\n  bottom: 0; left: 0;\n  height: 8px;\n}\n.CodeMirror-simplescroll-horizontal div {\n  bottom: 0;\n  height: 100%;\n}\n\n.CodeMirror-simplescroll-vertical {\n  right: 0; top: 0;\n  width: 8px;\n}\n.CodeMirror-simplescroll-vertical div {\n  right: 0;\n  width: 100%;\n}\n\n\n.CodeMirror-overlayscroll .CodeMirror-scrollbar-filler, .CodeMirror-overlayscroll .CodeMirror-gutter-filler {\n  display: none;\n}\n\n.CodeMirror-overlayscroll-horizontal div, .CodeMirror-overlayscroll-vertical div {\n  position: absolute;\n  background: #bcd;\n  border-radius: 3px;\n}\n\n.CodeMirror-overlayscroll-horizontal, .CodeMirror-overlayscroll-vertical {\n  position: absolute;\n  z-index: 6;\n}\n\n.CodeMirror-overlayscroll-horizontal {\n  bottom: 0; left: 0;\n  height: 6px;\n}\n.CodeMirror-overlayscroll-horizontal div {\n  bottom: 0;\n  height: 100%;\n}\n\n.CodeMirror-overlayscroll-vertical {\n  right: 0; top: 0;\n  width: 6px;\n}\n.CodeMirror-overlayscroll-vertical div {\n  right: 0;\n  width: 100%;\n}\n",""])},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e){t.exports="\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 16.996 20.999' enable-background='new 0 0 16.996 20.999' xml:space='preserve'%3E %3Cpolygon fill='%2338B058' points='16.996,10.499 0,20.999 0,0 '/%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Cpolygon points='13.5 12.125 9.375 8 13.5 3.875 12.125 2.5 8 6.625 3.875 2.5 2.5 3.875 6.625 8 2.5 12.125 3.875 13.5 8 9.375 12.125 13.5 13.5 12.125' fill='%23ffffff' opacity='0.9'/%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Cg%3E %3Ccircle cx='8' cy='8' r='6' fill='%23e05219' opacity='0.9' style='isolation: isolate'/%3E %3Cpath d='M8.99609,4.98828V6.48193a.4905.4905,0,0,1-.00976.09619L8.28174,9H7.71045L7.00586,6.57812A.44233.44233,0,0,1,7,6.521V5c0-.26465,0-.99023.47559-.99023h1.041C9,4.00977,8.99609,4.72363,8.99609,4.98828Zm-.10547,5.9329L8.42627,10.31a.47056.47056,0,0,0-.37354-.18943H7.94092a.47078.47078,0,0,0-.374.18943l-.46435.61117A.52557.52557,0,0,0,7,11.22882v.28184A.49088.49088,0,0,0,7.47607,12h1.041a.49312.49312,0,0,0,.479-.50638l.00049-.25447A.52333.52333,0,0,0,8.89062,10.92118Z' fill='%23fff'/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Ccircle cx='8' cy='8' r='7' fill='%234ca01f' opacity='0.9' style='isolation: isolate'/%3E %3Cpolygon points='12.808 6.205 11.5 5.025 7.486 9.625 4.346 6.077 3.125 7.182 7.5 12 12.808 6.205' fill='%23fff'/%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E %3Ctitle%3Eicons_all_sprite%3C/title%3E %3Cg id='Layer_4' data-name='Layer 4'%3E %3Cg style='isolation: isolate'%3E %3Ccircle cx='7.5' cy='7.5' r='6.5' fill='%23e05219'/%3E %3C/g%3E %3Cpolygon points='10.328 9.621 8.207 7.5 10.328 5.379 9.621 4.672 7.5 6.793 5.379 4.672 4.672 5.379 6.793 7.5 4.672 9.621 5.379 10.328 7.5 8.207 9.621 10.328 10.328 9.621' fill='%23fff'/%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23d4d4d4' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='21,9 10,9 10,10 21,10 21,9 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='16,4 15,4 15,15 16,15 16,4 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='21,9 10,9 10,10 21,10 21,9 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='16,4 15,4 15,15 16,15 16,4 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z'/%3E %3Cpath class='data-fill' fill='%23ffffff' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z'/%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23EAEAEC' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='21,9 10,9 10,10 21,10 21,9 '/%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23EAEAEC' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='16,4 15,4 15,15 16,15 16,4 '/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' fill='%23EAEAEC' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='21,9 10,9 10,10 21,10 21,9 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-1.836970e-16 1 -1 -1.836970e-16 25 -6)' fill='%23EAEAEC' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='16,4 15,4 15,15 16,15 16,4 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23d4d4d4' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23d4d4d4' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%23FFFFFF' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C?xml version='1.0' encoding='utf-8'?%3E %3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z'/%3E %3Cpath class='data-fill' fill='%23EAEAEC' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z'/%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 '/%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1'/%3E %3Cpolygon class='data-fill' fill='%23EAEAEC' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 '/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){t.exports="\"data:image/svg+xml,%3C!-- Generator: Adobe Illustrator 21.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' viewBox='0 0 31 19' enable-background='new 0 0 31 19' xml:space='preserve'%3E %3Cg%3E %3Cpath fill='%232B2B2B' d='M21.5,19h-12C4.253,19,0,14.747,0,9.5v0C0,4.253,4.253,0,9.5,0h12C26.747,0,31,4.253,31,9.5v0 C31,14.747,26.747,19,21.5,19z' /%3E %3Cpath class='data-fill' fill='%23f68322' d='M21.5,1C26.187,1,30,4.813,30,9.5c0,4.687-3.813,8.5-8.5,8.5h-12C4.813,18,1,14.187,1,9.5 C1,4.813,4.813,1,9.5,1H21.5 M21.5,0h-12C4.253,0,0,4.253,0,9.5v0C0,14.747,4.253,19,9.5,19h12c5.247,0,9.5-4.253,9.5-9.5v0 C31,4.253,26.747,0,21.5,0L21.5,0z' /%3E %3C/g%3E %3Cg%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(0.7071 0.7071 -0.7071 0.7071 11.2574 -8.1777)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='11.964,5.257 11.257,5.964 19.036,13.743 19.743,13.036 11.964,5.257 ' /%3E %3C/g%3E %3Cg%3E %3Crect x='10' y='9' transform='matrix(-0.7071 0.7071 -0.7071 -0.7071 33.1777 5.2574)' fill='%23FFFFFF' width='11' height='1' /%3E %3Cpolygon class='data-fill' fill='%23f68322' points='19.036,5.257 11.257,13.036 11.964,13.743 19.743,5.964 19.036,5.257 ' /%3E %3C/g%3E %3C/g%3E %3C/svg%3E\""},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,f=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,,,function(t,e,n){"use strict";n.r(e);var r=n(149),i=n.n(r),o=n(150),a=n.n(o),s=(n(78),n(88),n(35)),l=n.n(s),c=(n(91),n(193),n(56),n(36)),u=n.n(c),f="darcula",d="idea",h="default",p="nocursor";function m(t){return Array.prototype.slice.call(t,0)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t||!t.attributes)return{};var n=m(t.attributes).reduce(function(t,e){var n=e.name,r=e.value;return-1===n.indexOf("data-")?t:(t[n.replace("data-","").split("-").map(function(t,e){return e?function(t){return"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)}(t):t}).join("")]=r,t)},{});return e?u.a.all([S,n||{}]):n}function v(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function y(t){var e={"&lt;":"<","&gt;":">"},n=t;return l()(e).forEach(function(t){n=n.replace(new RegExp(e[t],"g"),t)}),n}function b(t){return(t.match(/\n/g)||[]).length}function x(t){return t.replace(/^\s+|\s+$/g,"")}var w,C=(w=document.getElementsByTagName("script"))[w.length-1]||null,k=a()({},g(C)),_={server:k.server||"https://try.kotlinlang.org",get COMPILE(){return"".concat(this.server,"/kotlinServer?type=run&runConf=")},get HIGHLIGHT(){return"".concat(this.server,"/kotlinServer?type=highlight&runConf=")},get COMPLETE(){return"".concat(this.server,"/kotlinServer?type=complete&runConf=")},get VERSIONS(){return"".concat(this.server,"/kotlinServer?type=getKotlinVersions")},get JQUERY(){return"https://cdn.jsdelivr.net/npm/jquery@1/dist/jquery.min.js"},get KOTLIN_JS(){return"https://cdn.jsdelivr.net/npm/kotlin@"}},S={selector:"code",compilerVersion:void 0},E=(n(92),n(93),n(37)),T=n.n(E),O=n(101),M=n.n(O),L=n(151),A=n.n(L),N=n(61),P=n.n(N),F=n(65),I=n.n(F),j=n(5),D=n.n(j),z=n(6),R=n.n(z),B=n(0),H=n.n(B),W=(n(237),n(238),n(239),n(240),n(241),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(152)),U=n.n(W),V=(n(143),n(144),n(153)),G=n.n(V),K=n(102),$=n.n(K),q={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(q.arrayBuffer)var Y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],J=ArrayBuffer.isView||function(t){return t&&Y.indexOf(Object.prototype.toString.call(t))>-1};function X(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function Z(t){return"string"!=typeof t&&(t=String(t)),t}function Q(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return q.iterable&&(e[Symbol.iterator]=function(){return e}),e}function tt(t){this.map={},t instanceof tt?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function et(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function nt(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function rt(t){var e=new FileReader,n=nt(e);return e.readAsArrayBuffer(t),n}function it(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function ot(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:q.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:q.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:q.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():q.arrayBuffer&&q.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=it(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):q.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||J(t))?this._bodyArrayBuffer=it(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):q.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},q.blob&&(this.blob=function(){var t=et(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?et(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(rt)}),this.text=function(){var t=et(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=nt(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},q.formData&&(this.formData=function(){return this.text().then(lt)}),this.json=function(){return this.text().then(JSON.parse)},this}tt.prototype.append=function(t,e){t=X(t),e=Z(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},tt.prototype.delete=function(t){delete this.map[X(t)]},tt.prototype.get=function(t){return t=X(t),this.has(t)?this.map[t]:null},tt.prototype.has=function(t){return this.map.hasOwnProperty(X(t))},tt.prototype.set=function(t,e){this.map[X(t)]=Z(e)},tt.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},tt.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),Q(t)},tt.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Q(t)},tt.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),Q(t)},q.iterable&&(tt.prototype[Symbol.iterator]=tt.prototype.entries);var at=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function st(t,e){var n,r,i=(e=e||{}).body;if(t instanceof st){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new tt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new tt(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),at.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function lt(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function ct(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new tt(e.headers),this.url=e.url||"",this._initBody(t)}st.prototype.clone=function(){return new st(this,{body:this._bodyInit})},ot.call(st.prototype),ot.call(ct.prototype),ct.prototype.clone=function(){return new ct(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new tt(this.headers),url:this.url})},ct.error=function(){var t=new ct(null,{status:0,statusText:""});return t.type="error",t};var ut=[301,302,303,307,308];ct.redirect=function(t,e){if(-1===ut.indexOf(e))throw new RangeError("Invalid status code");return new ct(null,{status:e,headers:{location:t}})};var ft=self.DOMException;try{new ft}catch(t){(ft=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),ft.prototype.constructor=ft}function dt(t,e){return new Promise(function(n,r){var i=new st(t,e);if(i.signal&&i.signal.aborted)return r(new ft("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var t,e,r={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new tt,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;n(new ct(i,r))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new ft("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&q.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})}dt.polyfill=!0,self.fetch||(self.fetch=dt,self.Headers=tt,self.Request=st,self.Response=ct);var ht=n(154),pt=n.n(ht),mt=function(){function t(e,n){D()(this,t),this.id=e,this.printableName=n}return R()(t,null,[{key:"getById",value:function(e){switch(e){case"js":return t.JS;case"junit":return t.JUNIT;case"canvas":return t.CANVAS;default:return t.JAVA}}}]),t}();mt.JS=new mt("js","JavaScript"),mt.JAVA=new mt("java","JVM"),mt.JUNIT=new mt("junit","JUnit"),mt.CANVAS=new mt("canvas","JavaScript(canvas)");var gt=mt,vt=n(103),yt=n.n(vt),bt=n(155),xt=n.n(bt),wt=n(156),Ct=n.n(wt),kt="java.security.AccessControlException",_t="Access control exception due to security reasons in web playground",St="Unhandled JavaScript exception",Et="No tests methods are found",Tt="&lt;",Ot="&gt;",Mt={FAIL:{value:"FAIL",text:"Fail"},ERROR:{value:"ERROR",text:"Error"},PASSED:{value:"OK",text:"Passed"}},Lt="".concat(Tt,"errStream").concat(Ot,"BUG").concat(Tt,"/errStream").concat(Ot),At="".concat(Tt,"errStream").concat(Ot,"Hey! It seems you just found a bug! \n")+"Please click <a href=http://kotl.in/issue target=_blank>here<a> to submit it to the issue tracker and one day we fix it, hopefully \n"+" Don't forget to attach code to the issue".concat(Tt,"/errStream").concat(Ot,"\n");function Nt(t,e){return y(t).split(Lt).join(At).split("".concat(Tt,"outStream").concat(Ot)).join('<span class="standard-output '.concat(e,'">')).split("".concat(Tt,"/outStream").concat(Ot)).join("</span>").split("".concat(Tt,"errStream").concat(Ot)).join('<span class="error-output '.concat(e,'">')).split("".concat(Tt,"/errStream").concat(Ot)).join("</span>")}function Pt(t,e,n){return'\n  <div class="console-block">\n    <span class="console-icon '.concat(t.toLocaleLowerCase(),'"></span>\n    <div class="test-').concat(t.toLocaleLowerCase(),'">').concat(t,": ").concat(e).concat(n?": "+(r={"&lt;":"&amp;lt;","&gt;":"&amp;gt;"},i=n,l()(r).forEach(function(t){i=i.replace(new RegExp(r[t],"g"),t)}),i):"","</div>\n  </div>\n  ");var r,i}function Ft(t,e){return t.reduce(function(t,n){return t+'<div class="console-block">\n                        <span class="console-icon attention"></span>\n                        <div class="test-fail '.concat(e,'">').concat(Ct()(n.message),"</div>\n                      </div>")},"")}function It(t){return null!=t.stackTrace&&(null!=t.message?t.message="".concat(_t,": \n ")+t.message:t.message=_t,t.stackTrace=t.stackTrace.slice(t.stackTrace.length-1)),t}var jt={},Dt="File.kt",zt=function(){function t(){D()(this,t)}return R()(t,null,[{key:"getCompilerVersions",value:function(){return"compilerVersions"in jt?T.a.resolve(jt.compilerVersions):dt(_.VERSIONS).then(function(t){return t.json()}).then(function(t){return jt.compilerVersions=t,t}).catch(function(){return null})}},{key:"translateKotlinToJs",value:function(t,e,n,r,i){return Rt(_.COMPILE,t,e,n,r,i).then(function(t){return{output:"",errors:yt()($()(t.errors)),jsCode:t.jsCode}})}},{key:"executeKotlinCode",value:function(t,e,n,r,i,o,a,s){return Rt(_.COMPILE,t,e,n,r,o).then(function(t){var e="",r=yt()($()(t.errors)),o=r.filter(function(t){return"ERROR"===t.severity});if(o.length>0)e=Ft(o,i);else switch(n){case gt.JAVA:t.text&&(e=Nt(t.text,i));break;case gt.JUNIT:e=t.testResults?function(t,e,n){var r="",i=0,o=!0;if(xt()(t))return Et;for(var a in t)r+=m(t[a]).reduce(function(t,e){switch(i+=e.executionTime/1e3,e.status!==Mt.ERROR.value&&e.status!==Mt.FAIL.value||(o=!1),e.status){case Mt.FAIL.value:return t+Pt(Mt.FAIL.text,e.methodName,e.comparisonFailure.message);case Mt.ERROR.value:return t+Pt(Mt.ERROR.text,e.methodName,e.exception.message);case Mt.PASSED.value:return t+Pt(Mt.PASSED.text,e.methodName,"")}},"");return o&&e&&e(),!o&&n&&n(),'<div class="test-time">Total test time: '.concat(i,"s</div>")+r}(t.testResults,a,s):Nt(t.text,i)}var l=null;return null!=t.exception&&((l=function(t){for(var e=t;null!=e;){if(e.fullName===kt)return It(e);e=e.cause}return t}(t.exception)).causes=function t(e){return void 0!==e.cause&&null!=e.cause?[e.cause].concat(t(e.cause)):[]}(l),l.cause=void 0),{errors:r,output:e,exception:l}})}},{key:"getAutoCompletion",value:function(t,e,n,r,i,o){Rt(_.COMPLETE,t,n,r,"",i,e).then(function(t){o(t)})}},{key:"getHighlight",value:function(t,e,n,r){return Rt(_.HIGHLIGHT,t,e,n,"",r).then(function(t){return t[Dt]})}}]),t}();function Rt(t,e,n,r,i,o,a){var s=[Bt(e,Dt)].concat(o.map(function(t,e){return Bt(t,"hiddenDependency".concat(e,".kt"))})),l=G()({id:"",name:"",args:i,compilerVersion:n,confType:r.id,originUrl:null,files:s,readOnlyFileNames:[]}),c=new pt.a;if(c.set("filename",Dt),c.set("project",l),void 0!==a)for(var u in a)c.set(u,a[u]);return dt(t+r.id,{method:"POST",body:c.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then(function(t){return t.json()})}function Bt(t,e){return{name:e,text:t,publicId:""}}n(297),n(302),n(146);var Ht=n(62),Wt=n.n(Ht),Ut=n(19),Vt=n.n(Ut),Gt=n(63),Kt=n.n(Gt),$t=n(64),qt=n.n($t),Yt=n(45),Jt=n.n(Yt),Xt=n(157),Zt=n.n(Xt),Qt=(n(322),n(158)),te=n.n(Qt),ee=n(160),ne=n.n(ee),re=(n(328),function(){function t(e){D()(this,t),this.kotlinVersion=e}return R()(t,[{key:"executeJsCode",value:function(t,e,n,r,i,o){return new Promise(function(a,s){return n===gt.CANVAS&&(this.iframe.style.display="block",r&&(this.iframe.style.height="".concat(r,"px"))),Promise.resolve(this.execute(t,e,i,o)).then(a,s)}.bind(this))}},{key:"execute",value:function(t,e,n,r){return new Promise(function(i,o){var a,s;if((this.iframe.contentDocument||this.iframe.document).getElementsByTagName("script").length===e.size+2)try{return a=this.iframe.contentWindow.eval(t),i(a?'<span class="standard-output '.concat(n,'">').concat(y(a),"</span>"):"")}catch(t){return r&&r(),s=function(t){if(console&&console.error(t),null!=t.stack){var e=t.stack.toString().substr(0,t.stack.toString().indexOf("at eval (<anonymous>)"));return"".concat(St,": ").concat(t.message," \n ").concat(e)}return St}(t),i('<span class="error-output">'.concat(s,"</span>"))}return Promise.resolve(this.timeout(400)).then(function(a){try{return Promise.resolve(this.execute(t,e,n,r)).then(i,o)}catch(t){return o(t)}}.bind(this),o)}.bind(this))}},{key:"timeout",value:function(t){return new T.a(function(e){return setTimeout(e,t)})}},{key:"reloadIframeScripts",value:function(t,e){void 0!==this.iframe&&e.removeChild(this.iframe),this.iframe=document.createElement("iframe"),this.iframe.className="k2js-iframe",e.appendChild(this.iframe);var n=this.iframe.contentDocument||this.iframe.document;n.open();var r,i,o=_.KOTLIN_JS+"".concat((r=this.kotlinVersion,(i=r.match(/-M\d+$/))&&r.substring(0,i.index).match(/^\d+\.\d+$/)?r.substring(0,i.index)+".0"+i[0]:r),"/kotlin.js");n.write("<script src='"+o+"'><\/script>");var a=!0,s=!1,l=void 0;try{for(var c,u=ne()(t);!(a=(c=u.next()).done);a=!0){var f=c.value;n.write("<script src='"+f+"'><\/script>")}}catch(t){s=!0,l=t}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}n.write("<script>".concat("if(kotlin.BufferedOutput!==undefined){kotlin.out = new kotlin.BufferedOutput()}else{kotlin.kotlin.io.output = new kotlin.kotlin.io.BufferedOutput()}","<\/script>")),n.write('<body style="margin: 0; overflow: hidden;"></body>'),n.close()}}]),t}()),ie=n(46),oe=n.n(ie),ae=function(){function t(e){D()(this,t),this.completion=e}return R()(t,[{key:"render",value:function(t,e,n){var r=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div");r.setAttribute("class","icon "+this.completion.icon),i.setAttribute("class","name"),o.setAttribute("class","tail"),i.textContent=this.completion.displayText,o.textContent=this.completion.tail,t.appendChild(r),t.appendChild(i),t.appendChild(o)}},{key:"hint",value:function(t,e,n){var r=t.getCursor(),i=t.getTokenAt(r),o={line:r.line,ch:i.start},a={line:r.line,ch:i.end},s=i.string.trim();if([".","","(",":"].includes(s))t.replaceRange(this.completion.text,a);else{var l=r.ch-i.start,c=s.substring(0,l).lastIndexOf("$"),u=s.substring(0,c+1)+this.completion.text+s.substring(l,i.string.length);t.replaceRange(u,o,a),t.setCursor(r.line,i.start+c+this.completion.text.length+1),u.endsWith("(")&&(t.replaceRange(")",{line:r.line,ch:i.start+this.completion.text.length}),t.execCommand("goCharLeft"))}}}]),t}(),se=82,le=120,ce=".js-code-output-executor",ue=".fold-button",fe="unmodifiable-line-dark",de="unmodifiable-line",he="markPlaceholder",pe="markPlaceholder-start",me="markPlaceholder-end",ge="gutter",ve="CodeMirror-foldgutter",ye="ERRORgutter",be="errors-and-warnings-gutter",xe="background",we="label",Ce=function(t){function e(){return D()(this,e),Wt()(this,Vt()(e).apply(this,arguments))}return qt()(e,t),R()(e,[{key:"update",value:function(t){var n,r=this,i=!1,o=t.targetPlatform;if(!t.compilerVersion||o!==gt.JS&&o!==gt.CANVAS||(this.jsExecutor=new re(t.compilerVersion)),t.code){var a=t.code;if(t.from&&t.to&&t.to>=t.from&&t.from>0&&t.to>0){var s=a.split("\n");s.splice(t.from-1,0,"//sampleStart"),s.splice(t.to+1,0,"//sampleEnd"),a=s.join("\n")}var l=a.indexOf("//sampleStart"),c=a.indexOf("//sampleEnd");i=!t.noneMarkers&&l>-1&&c>-1,this.prefix="",this.suffix="",n=a,i&&(this.prefix=a.substring(0,l),this.suffix=a.substring(c+"//sampleEnd".length),n=a.substring(l+"//sampleStart".length+1,c-1)),this.suffix.endsWith("\n")&&(this.suffix=this.suffix.substr(0,this.suffix.length-1))}else if(this.state.folded)n=this.codemirror.getValue();else{var d=this.codemirror.getValue();n=d.substring(this.prefix.length,d.length-this.suffix.length)}if(this.state=u.a.all([this.state,t,{isShouldBeFolded:this.isShouldBeFolded&&t.isFoldedButton}]),Kt()(Vt()(e.prototype),"update",this).call(this,this.state),this.initialized){if(this.showDiagnostics(t.errors),void 0===t.folded)return}else this.initializeCodeMirror(t),this.initialized=!0;if(this.state.folded)this.codemirror.setOption("lineNumbers",t.lines&&!i),this.codemirror.setValue(n),this.markPlaceHolders();else{this.codemirror.setOption("lineNumbers",!0),this.codemirror.setValue(this.prefix+n+this.suffix),this.codemirror.markText({line:0,ch:0},{line:b(this.prefix),ch:0},{readOnly:!0,inclusiveLeft:!0,inclusiveRight:!1}),this.codemirror.markText({line:this.codemirror.lineCount()-b(this.suffix)-1,ch:null},{line:this.codemirror.lineCount()-1,ch:null},{readOnly:!0,inclusiveLeft:!1,inclusiveRight:!0});var h=this.state.theme===f?fe:de;this.codemirror.operation(function(){for(var t=0;t<b(r.prefix);t++)r.codemirror.addLineClass(t,xe,h);for(var e=r.codemirror.lineCount()-b(r.suffix);e<r.codemirror.lineCount();e++)r.codemirror.addLineClass(e,xe,h)})}if(this.state.autoIndent||this.prefix&&this.suffix)for(var p=0;p<this.codemirror.lineCount();p++)this.codemirror.indentLine(p)}},{key:"markPlaceHolders",value:function(){var t=this,e=this.getTaskRanges();this.codemirror.setValue(this.codemirror.getValue().replace(new RegExp(v("[mark]"),"g"),"").replace(new RegExp(v("[/mark]"),"g"),"")),e.forEach(function(e){t.codemirror.markText({line:e.line,ch:e.ch},{line:e.line,ch:e.ch+e.length},{className:he,startStyle:pe,endStyle:me,handleMouseEvents:!0})})}},{key:"getTaskRanges",value:function(){for(var t=[],e=this.codemirror.getValue().split("\n"),n=0;n<e.length;n++)for(var r=e[n];r.includes("[mark]");){var i=r.indexOf("[mark]"),o=(r=r.replace("[mark]","")).indexOf("[/mark]");r=r.replace("[/mark]",""),t.push({line:n,ch:i,length:o-i})}return t}},{key:"onFoldButtonMouseEnter",value:function(){this.state.foldButtonHover||this.update({foldButtonHover:!0})}},{key:"onFoldButtonMouseLeave",value:function(){this.state.foldButtonHover&&this.update({foldButtonHover:!1})}},{key:"onConsoleCloseButtonEnter",value:function(){var t=this.state,e=t.jsLibs,n=t.onCloseConsole,r=t.targetPlatform;r!==gt.CANVAS&&r!==gt.JS||this.jsExecutor.reloadIframeScripts(e,this.getNodeForMountIframe()),this.update({output:"",openConsole:!1,exception:null}),n&&n()}},{key:"onExceptionClick",value:function(t,e){this.codemirror.setCursor(e-1,0),this.codemirror.focus()}},{key:"execute",value:function(){var t=this,e=this.state,n=e.onOpenConsole,r=e.targetPlatform,i=e.waitingForOutput,o=e.compilerVersion,a=e.onRun,s=e.onError,l=e.args,c=e.theme,u=e.hiddenDependencies,f=e.onTestPassed,d=e.onTestFailed,h=e.onCloseConsole,p=e.jsLibs,m=e.outputHeight,g=e.getJsCode;i||(this.update({waitingForOutput:!0,openConsole:!1}),n&&n(),a&&a(),r===gt.JAVA||r===gt.JUNIT?zt.executeKotlinCode(this.getCode(),o,r,l,c,u,f,d).then(function(e){e.waitingForOutput=!1,e.output||e.exception?e.openConsole=!0:h&&h(),(e.errors.length>0||e.exception)&&s&&s(),t.update(e)},function(){return t.update({waitingForOutput:!1})}):(this.jsExecutor.reloadIframeScripts(p,this.getNodeForMountIframe()),zt.translateKotlinToJs(this.getCode(),o,r,l,u).then(function(e){e.waitingForOutput=!1;var i=e.jsCode;delete e.jsCode,g&&g(i);var o=e.errors.filter(function(t){return"ERROR"===t.severity});o.length>0?(s&&s(),e.output=Ft(o),e.openConsole=!0,e.exception=null,t.update(e)):t.jsExecutor.executeJsCode(i,p,r,m,c,s).then(function(i){i?(e.openConsole=!0,e.output=i):(e.output="",h&&h()),r===gt.CANVAS&&(n&&n(),e.openConsole=!0),e.exception=null,t.update(e)})},function(){return t.update({waitingForOutput:!1})})))}},{key:"getNodeForMountIframe",value:function(){return this.nodes[0].querySelector(ce)}},{key:"getCode",value:function(){return this.state.folded?this.prefix+this.codemirror.getValue()+this.suffix:this.codemirror.getValue()}},{key:"recalculatePosition",value:function(t){var e={line:t.line,ch:t.ch};if(!this.state.folded)return e;var n=(this.prefix.match(/\n/g)||[]).length;return e.line=t.line-n,e.line<0?(e.line=0,e.ch=0):e.line>=this.codemirror.lineCount()&&(e.line=this.codemirror.lineCount()-1,e.ch=null),e}},{key:"showDiagnostics",value:function(t){var e=this;this.removeStyles(),void 0!==t&&t.forEach(function(t){var n=t.interval;n.start=e.recalculatePosition(n.start),n.end=e.recalculatePosition(n.end);var r,i,o,a=(r=t.message,i={"<":"&amp;lt;",">":"&amp;gt;","&":"&amp;"," ":"%20"},o=r,l()(i).forEach(function(t){o=o.replace(new RegExp(i[t],"g"),t)}),o),s=t.severity;if(e.arrayClasses.push(e.codemirror.markText(n.start,n.end,{className:"cm__"+t.className,title:a})),null!=e.codemirror.lineInfo(n.start.line)&&null==e.codemirror.lineInfo(n.start.line).gutterMarkers){var c=document.createElement("div");c.className=s+ge,c.setAttribute(we,a),e.codemirror.setGutterMarker(n.start.line,be,c)}else{var u=e.codemirror.lineInfo(n.start.line).gutterMarkers[be];u.setAttribute(we,u.getAttribute(we)+"\n".concat(a)),-1===u.className.indexOf(ye)&&(u.className=s+ge)}})}},{key:"removeStyles",value:function(){this.arrayClasses.forEach(function(t){return t.clear()}),this.codemirror.clearGutter(be)}},{key:"initializeCodeMirror",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.nodes[0].getElementsByTagName("textarea")[0],r=e.highlightOnly,i={readOnly:r,lineNumbers:!1,mode:e.mode,theme:e.theme,matchBrackets:e.matchBrackets,scrollbarStyle:"overlay",continueComments:!0,autoCloseBrackets:!0,indentUnit:e.indent,viewportMargin:1/0,foldGutter:!0,gutters:[be,ve]};r&&(i.cursorBlinkRate=-1),this.codemirror=H.a.fromTextArea(n,i),r||(H.a.registerHelper("hint","kotlin",function(e,n){var r=e.getCursor(),i=e.getTokenAt(r),o=t.state.folded?t.prefix+e.getValue()+t.suffix:e.getValue(),a=t.state.folded?{line:r.line+t.prefix.split("\n").length-1,ch:r.ch}:r;zt.getAutoCompletion(o,a,t.state.compilerVersion,t.state.targetPlatform,t.state.hiddenDependencies,function(t){var o=e.findWordAt({line:r.line,ch:r.ch}).anchor.ch,a=e.findWordAt({line:r.line,ch:r.ch}).head.ch,s=e.getRange({line:r.line,ch:o},{line:r.line,ch:a});0===t.length&&/^[a-zA-Z]+$/.test(s)?H.a.showHint(e,H.a.hint.default,{completeSingle:!1}):n({list:t.map(function(t){return new ae(t)}),from:{line:r.line,ch:i.start},to:{line:r.line,ch:i.end}})})}),H.a.hint.kotlin.async=!0,H.a.commands.autocomplete=function(t){H.a.showHint(t,H.a.hint.kotlin)},-1!==window.navigator.appVersion.indexOf("Mac")?this.codemirror.setOption("extraKeys",{"Cmd-Alt-L":"indentAuto","Shift-Tab":"indentLess","Ctrl-/":"toggleComment","Cmd-[":!1,"Cmd-]":!1,"Ctrl-Space":"autocomplete"}):this.codemirror.setOption("extraKeys",{"Ctrl-Alt-L":"indentAuto","Shift-Tab":"indentLess","Ctrl-/":"toggleComment","Ctrl-[":!1,"Ctrl-]":!1,"Ctrl-Space":"autocomplete"}),this.codemirror.on("change",oe()(function(e){var n=t.state,r=n.onChange,i=n.onFlyHighLight,o=n.compilerVersion,a=n.targetPlatform,s=n.hiddenDependencies;r&&r(e.getValue()),t.removeStyles(),i&&zt.getHighlight(t.getCode(),o,a,s).then(function(e){return t.showDiagnostics(e)})},500)),this.codemirror.on("keypress",oe()(function(e,n){n.keyCode===se||n.ctrlKey||t.state.autoComplete&&!e.state.completionActive&&H.a.showHint(e,H.a.hint.kotlin,{completeSingle:!1})},500)),this.codemirror.on("mousedown",function(t,e){var n=t.coordsChar({left:e.pageX,top:e.pageY});if(0!==n.line||0!==n.ch){var r=t.findMarksAt(n).find(function(t){return t.className===he});if(null!=r){var i=r.find();t.setSelection(i.from,i.to),t.focus(),e.preventDefault()}}}))}},{key:"destroy",value:function(){this.arrayClasses=null,this.initialized=!1,this.jsExecutor=!1,this.state=null,this.codemirror.toTextArea(),this.off(),this.remove()}},{key:"isShouldBeFolded",get:function(){return""!==this.prefix.trim()||""!==this.suffix.trim()}}],[{key:"render",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Jt.a.render(e,t,{directives:Zt.a});r.arrayClasses=[],r.initialized=!1,r.state={theme:"",code:"",foldButtonHover:!1,folded:!0,output:null},r.codemirror=new H.a,r.on("click",ue,function(){r.update({folded:!r.state.folded})}),r.on("keyup",function(t){-1!==window.navigator.appVersion.indexOf("Mac")?t.keyCode===se&&t.ctrlKey&&r.execute():t.keyCode===le&&t.ctrlKey&&r.execute()});var i=n.eventFunctions;return i&&i.getInstance&&i.getInstance(r),r}}]),e}(te.a),ke=(n(331),"data-kotlin-playground-initialized"),_e=4,Se={HIDDEN_DEPENDENCY:"hidden-dependency",INDENT:"indent",HIGHLIGHT_ONLY:"data-highlight-only",STYLE:"style",FROM:"from",TO:"to",NONE_MARKERS:"none-markers",THEME:"theme",MODE:"mode",MATCH_BRACKETS:"match-brackets",OUTPUT_HEIGHT:"data-output-height",COMPLETE:"data-autocomplete",ON_FLY_HIGHLIGHT:"highlight-on-fly",PLATFORM:"data-target-platform",JS_LIBS:"data-js-libs",FOLDED_BUTTON:"folded-button",ARGUMENTS:"args",LINES:"lines",AUTO_INDENT:"auto-indent"},Ee={JAVA:"text/x-java",KOTLIN:"text/x-kotlin",JS:"text/javascript",GROOVY:"text/x-groovy",XML:"text/html",C:"text/x-c",OBJ_C:"text/x-objectivec",SWIFT:"text/x-swift",SHELL:"text/x-sh"},Te=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;D()(this,t);var i="string"==typeof e?document.querySelector(e):e,o=!!n.highlightOnly||(i.getAttribute(Se.HIGHLIGHT_ONLY)===p?i.getAttribute(Se.HIGHLIGHT_ONLY):i.hasAttribute(Se.HIGHLIGHT_ONLY)),a=i.hasAttribute(Se.NONE_MARKERS),s=i.hasAttribute(Se.INDENT)?I()(i.getAttribute(Se.INDENT)):_e,l=i.hasAttribute(Se.FROM)?I()(i.getAttribute(Se.FROM)):null,c=i.hasAttribute(Se.TO)?I()(i.getAttribute(Se.TO)):null,f=this.getTheme(i),d=i.hasAttribute(Se.ARGUMENTS)?i.getAttribute(Se.ARGUMENTS):"",h=this.getHiddenDependencies(i),m=i.getAttribute(Se.OUTPUT_HEIGHT)||null,g=gt.getById(i.getAttribute(Se.PLATFORM)),v=i.getAttribute(Se.STYLE),y=this.getJsLibraries(i,g),b="false"!==i.getAttribute(Se.FOLDED_BUTTON),w="true"===i.getAttribute(Se.LINES),C="true"===i.getAttribute(Se.ON_FLY_HIGHLIGHT),k="true"===i.getAttribute(Se.COMPLETE),_="true"===i.getAttribute(Se.MATCH_BRACKETS),E="true"===i.getAttribute(Se.AUTO_INDENT),T=this.getMode(i),O=x(i.textContent),M=u()(S,n);T!==Ee.KOTLIN&&o!==p&&(o=!0),i.style.display="none",i.setAttribute(ke,"true");var L,A,N=document.createElement("div");L=N,(A=i).parentNode.insertBefore(L,A.nextSibling);var F=Ce.render(N,{eventFunctions:r});F.update(P()({code:O,lines:w,theme:f,indent:s,args:d,mode:T,matchBrackets:_,from:l,to:c,autoComplete:k,hiddenDependencies:h,compilerVersion:M.compilerVersion,noneMarkers:a,onFlyHighLight:C,autoIndent:E,highlightOnly:o,targetPlatform:g,jsLibs:y,isFoldedButton:b,outputHeight:m},r)),this.config=M,this.node=N,this.targetNode=i,this.targetNodeStyle=v,this.view=F,i.KotlinPlayground=this,r&&r.callback&&r.callback(i,N)}return R()(t,[{key:"getHiddenDependencies",value:function(t){return m(t.getElementsByClassName(Se.HIDDEN_DEPENDENCY)).reduce(function(t,e){return e.parentNode.removeChild(e),[].concat(A()(t),[x(e.textContent)])},[])}},{key:"getJsLibraries",value:function(t,e){if(e===gt.JS||e===gt.CANVAS){var n=t.getAttribute(Se.JS_LIBS),r=new U.a(_.JQUERY.split());if(n){var i=new RegExp("https?://.+$");n.replace(" ","").split(",").filter(function(t){return i.test(t)}).forEach(function(t){return r.add(t)})}return r}}},{key:"getTheme",value:function(t){switch(t.getAttribute(Se.THEME)){case f:return f;case d:return d;default:return h}}},{key:"getMode",value:function(t){switch(t.getAttribute(Se.MODE)){case"java":return Ee.JAVA;case"c":return Ee.C;case"js":return Ee.JS;case"groovy":return Ee.GROOVY;case"xml":return Ee.XML;case"shell":return Ee.SHELL;case"obj-c":return Ee.OBJ_C;case"swift":return Ee.SWIFT;default:return Ee.KOTLIN}}},{key:"destroy",value:function(){this.config=null,this.node=null,this.view.destroy();var t=this.targetNode;null!==this.targetNodeStyle?t.style=this.targetNodeStyle:t.style="",t.removeAttribute(ke),delete t.KotlinPlayground}},{key:"isInited",value:function(){var t=this.targetNode,e=t&&t.getAttribute(ke);return e&&"true"===e}}],[{key:"create",value:function(e,n){var r;if("string"==typeof e)r=m(document.querySelectorAll(e));else if(e instanceof Node)r=[e];else if(e instanceof NodeList==!1)throw new Error("'target' type should be string|Node|NodeList, ".concat(M()(e)," given"));return 0===r.length?T.a.resolve([]):zt.getCompilerVersions().then(function(e){var i=[];return r.forEach(function(r){var o=g(r,!0),a=o.minCompilerVersion,s=null,l=null;if(""!==r.textContent.trim()&&"true"!==r.getAttribute(ke))if(e){var c=e.map(function(t){return t.version});c.includes(o.version)?l=o.version:c.includes(n.version)?l=n.version:(e.forEach(function(t){t.latestStable&&(s=t.version)}),l=s),a&&(l=a>s?e[e.length-1].version:s),i.push(new t(r,{compilerVersion:l},n))}else console.error("Cann't get kotlin version from server"),i.push(new t(r,{highlightOnly:!0}))}),i})}}]),t}(),Oe=".d-editor-preview",Me=".d-editor-input.ember-text-area",Le=".lang-run-kotlin",Ae=function(){var t=window.KotlinPlayground,e=document.querySelector(Me),n=document.querySelector(Oe);e&&n&&e.addEventListener("keydown",oe()(function(){m(n.querySelectorAll(Le)).forEach(function(e){var n=e.KotlinPlayground;n&&n.destroy(),t(e)})},300))},Ne=n(161);function Pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.server=e.server||_.server,Te.create(t,e)}n.d(e,"default",function(){return Pe}),Object(Ne.polyfill)(),Pe.default=Pe,Pe.discourse=function(t,e){return Ae(),Pe(t,e)};var Fe=k.selector,Ie=k.discourseSelector,je=i()(k,["selector","discourseSelector"]);(Fe||Ie)&&document.addEventListener("DOMContentLoaded",function(){var t,e,n;Ie?(Pe.discourse(Ie,je),t=Oe,e=function(){return Ae()},n=setInterval(function(){var r=document.querySelector(t);r&&(clearInterval(n),e(r))},100)):Pe(Fe,je)})}]).default});
//# sourceMappingURL=playground.min.js.map

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4va290bGluLWpzLW1pbi9tYWluL2Zyb250LWVuZC5qcyIsIndlYnBhY2s6Ly8vLi9rb3RsaW4tanMtbWluL21haW4va290bGluLmpzIiwid2VicGFjazovLy8uL2tvdGxpbi1qcy1taW4vbWFpbi9rb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMva290bGluLXBsYXlncm91bmQvZGlzdC9wbGF5Z3JvdW5kLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLDBDQUEwQyxnQ0FBZ0M7UUFDMUU7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSx3REFBd0Qsa0JBQWtCO1FBQzFFO1FBQ0EsaURBQWlELGNBQWM7UUFDL0Q7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLHlDQUF5QyxpQ0FBaUM7UUFDMUUsZ0hBQWdILG1CQUFtQixFQUFFO1FBQ3JJO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMkJBQTJCLDBCQUEwQixFQUFFO1FBQ3ZELGlDQUFpQyxlQUFlO1FBQ2hEO1FBQ0E7UUFDQTs7UUFFQTtRQUNBLHNEQUFzRCwrREFBK0Q7O1FBRXJIO1FBQ0E7OztRQUdBO1FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELEVBQUU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxFQUFFO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUM5QztBQUNBLHdCQUF3QixFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEdBQTBHO0FBQzFHO0FBQ0EsR0FBRztBQUNILElBQUk7QUFDSix5R0FBeUc7QUFDekc7QUFDQSxHQUFHO0FBQ0gsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBHQUEwRztBQUMxRztBQUNBLElBQUk7QUFDSiw2RUFBNkU7QUFDN0U7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsOENBQThDLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQSxJQUFJO0FBQ0osNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5R0FBeUcsRUFBRSxHQUFHLGNBQWMsR0FBRyxFQUFFLCtCQUErQixFQUFFLG1CQUFtQixFQUFFLDBGQUEwRixFQUFFLEtBQUssRUFBRTtBQUMxUjtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUssR0FBRyxVQUFVO0FBQ2xCO0FBQ0EsSUFBSSxjQUFjO0FBQ2xCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLCtCQUErQjtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsU0FBUztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsWUFBWTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNEJBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw4QkFBOEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw0QkFBNEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFtQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsWUFBWTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQSxNQUFNO0FBQ04sOENBQThDO0FBQzlDLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUU7QUFDQSxNQUFNO0FBQ04sOEVBQThFO0FBQzlFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkc7QUFDM0c7QUFDQSxNQUFNO0FBQ04sK0VBQStFO0FBQy9FLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHO0FBQzdHO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUZBQWlGO0FBQ2pGLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVCQUF1QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0EsTUFBTTtBQUNOLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQSxNQUFNO0FBQ04sMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0EsTUFBTTtBQUNOLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0EsTUFBTTtBQUNOLGtFQUFrRTtBQUNsRTtBQUNBLEtBQUs7QUFDTDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0JBQXdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJCQUEyQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBLE1BQU07QUFDTix5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBLE1BQU07QUFDTixnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRTtBQUN0RTtBQUNBLE1BQU07QUFDTixzRUFBc0U7QUFDdEU7QUFDQSxNQUFNO0FBQ04sdUVBQXVFO0FBQ3ZFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEhBQTBIO0FBQzFIO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGO0FBQzlGLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRjtBQUMxRjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLHdCQUF3QjtBQUNoRztBQUNBO0FBQ0EsOEJBQThCLGNBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0EsTUFBTTtBQUNOLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkY7QUFDN0Y7QUFDQSxNQUFNO0FBQ04saUVBQWlFO0FBQ2pFLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsS0FBSztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0MsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkJBQTJCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0Msa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpQkFBaUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFdBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFdBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaUJBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixZQUFZO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7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cVBBO0FBQ0EsTUFBTSxJQUEwQztBQUNoRCxJQUFJLGlDQUFPLENBQUMsT0FBUyxFQUFFLG1FQUFRLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FBQztBQUMxQyxPQUFPLEVBT0o7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBLElBQUk7QUFDSiwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQSxJQUFJO0FBQ0osc0VBQXNFO0FBQ3RFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0EsSUFBSTtBQUNKLGdFQUFnRTtBQUNoRTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0EsSUFBSTtBQUNKLHNFQUFzRTtBQUN0RTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQSxJQUFJO0FBQ0os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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQSxJQUFJO0FBQ0osa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQSxJQUFJO0FBQ0osZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixZQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUY7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0EsSUFBSTtBQUNKLGtFQUFrRTtBQUNsRTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBLElBQUk7QUFDSixtRUFBbUU7QUFDbkU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQSxJQUFJO0FBQ0osaUVBQWlFO0FBQ2pFO0FBQ0EsSUFBSTtBQUNKLHFFQUFxRTtBQUNyRTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RTtBQUN4RTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQ7QUFDekQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQSxJQUFJO0FBQ0osc0VBQXNFO0FBQ3RFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwrQkFBK0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7Ozs7Ozs7Ozs7O0FDdGxMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLE1BQU0sS0FBMEI7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxZQUFZOztBQUVwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUYsb0JBQW9COztBQUVwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRiw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBLGtCQUFrQixrQ0FBa0M7QUFDcEQsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsU0FBUztBQUNsQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVMsWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDLElBQUk7QUFDdEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixJQUFJOztBQUVwQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsSUFBSTtBQUM5QztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztB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STtBQUNKO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLGdDQUFnQyxNQUFNO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxlQUFlOztBQUVmLFNBQVM7O0FBRVQ7QUFDQSxRQUFRLGlDQUFpQztBQUN6QyxRQUFRLG9CQUFvQjtBQUM1QixRQUFRLHNDQUFzQztBQUM5QyxRQUFRO0FBQ1IsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw2REFBNkQ7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQzs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4REFBOEQ7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQzs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qzs7QUFFOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsaUVBQWlFLFVBQVU7QUFDM0Usc0NBQXNDLDJCQUEyQjtBQUNqRTtBQUNBLGdDQUFnQyxNQUFNO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsVUFBVTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxVQUFVLGNBQWM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxZQUFZLHVFQUF1RTtBQUNuRjtBQUNBO0FBQ0EsWUFBWSw0QkFBNEI7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxTQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLDREQUE0RDs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0EseUNBQXlDOztBQUV6QztBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxTQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFNBQVM7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsUUFBUSxTQUFTO0FBQ2pCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpREFBaUQ7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELFVBQVUsNENBQTRDO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQSxDQUFDOzs7O0FBSUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUEsUUFBUSxHQUFHO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7Ozs7QUFJQTs7QUFFQTs7QUFFQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUEsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVLE9BQU87QUFDakIsMEJBQTBCLHdCQUF3Qjs7QUFFbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsMENBQTBDO0FBQzFDLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdDQUF3QyxzQ0FBc0M7QUFDOUUsb0NBQW9DLHVDQUF1QztBQUMzRSxvQ0FBb0Msc0NBQXNDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsT0FBTztBQUNQO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXOztBQUVYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQ0FBb0M7QUFDcEMscUNBQXFDO0FBQ3JDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7OztBQUtBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGFBQWE7QUFDcEMsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsU0FBUztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7O0FBR0E7O0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0EsR0FBRztBQUNILGNBQWM7O0FBRWQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsZ0JBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7QUFDRjs7QUFFQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxPQUFPO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLHNCQUFzQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsT0FBTztBQUNmOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdCQUFnQjtBQUNsQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVzs7QUFFWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxjQUFjLHNCQUFzQjtBQUNwQztBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwrREFBK0Q7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLGNBQWM7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQW1CO0FBQ3BDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdUNBQXVDO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1REFBdUQ7QUFDOUU7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssK0NBQStDO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxjQUFjLHFDQUFxQztBQUNuRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOzs7QUFHRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsT0FBTztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qjs7QUFFOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsK0JBQStCO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSx1Q0FBdUMsT0FBTztBQUM5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0MsT0FBTztBQUMvQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMscUNBQXFDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUEsU0FBUyw4QkFBOEI7QUFDdkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFlBQVksT0FBTztBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsV0FBVztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7Ozs7QUFJQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0NBQStDLGNBQWMsV0FBVztBQUN4RSxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBLHNCQUFzQixjQUFjLHNCQUFzQixnQkFBZ0I7QUFDMUUsZ0JBQWdCLFdBQVcsWUFBWTtBQUN2QyxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRixDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0RBQStEO0FBQzNFO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsT0FBTzs7QUFFZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBOztBQUVBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFdBQVcsU0FBUztBQUNwQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBLFFBQVEsT0FBTztBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnQkFBZ0I7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGlEQUFpRCwwQkFBMEI7QUFDM0U7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLGdCQUFnQjtBQUMxQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUEsaUNBQWlDO0FBQ2pDO0FBQ0E7O0FBRUEsSUFBSTtBQUNKOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDs7O0FBR0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUEseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxLQUFLO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFDQUFxQzs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBLGFBQWE7O0FBRWI7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEtBQUs7QUFDTDs7QUFFQSxXQUFXO0FBQ1gsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCLGdEQUFnRDtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDOztBQUVsQztBQUNBLHNCQUFzQjtBQUN0QiwyQkFBMkI7O0FBRTNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcseUJBQXlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLGFBQWEsdUNBQXVDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDs7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFEQUFxRDtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0EsY0FBYyxzREFBc0Q7QUFDcEU7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQSxjQUFjLG1DQUFtQztBQUNqRCxlQUFlLDZEQUE2RDtBQUM1RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7OztBQUtGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUssSUFBMEM7QUFDL0MsQ0FBQyxpQ0FBa0IsRUFBRSxtQ0FBRTtBQUN2QjtBQUNBLEVBQUU7QUFBQSxvR0FBRTtBQUNKOzs7OztBQUtBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7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QUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9rb3RsaW4tanMtbWluL21haW4vZnJvbnQtZW5kLmpzXCIpO1xuIiwiZGVmaW5lKFsnZXhwb3J0cycsICdrb3RsaW4nLCAnanF1ZXJ5JywgJ2tvdGxpbngtc2VyaWFsaXphdGlvbi1rb3RsaW54LXNlcmlhbGl6YXRpb24tcnVudGltZSddLCBmdW5jdGlvbiAoXywgS290bGluLCAkbW9kdWxlJGpxdWVyeSwgJG1vZHVsZSRrb3RsaW54X3NlcmlhbGl6YXRpb25fa290bGlueF9zZXJpYWxpemF0aW9uX3J1bnRpbWUpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgdGhyb3dDQ0UgPSBLb3RsaW4udGhyb3dDQ0U7XG4gIHZhciBudW1iZXJUb0ludCA9IEtvdGxpbi5udW1iZXJUb0ludDtcbiAgdmFyIHJlcGxhY2UgPSBLb3RsaW4ua290bGluLnRleHQucmVwbGFjZV82ODBybXckO1xuICB2YXIgS2luZF9PQkpFQ1QgPSBLb3RsaW4uS2luZC5PQkpFQ1Q7XG4gIHZhciBjaGVja0luZGV4T3ZlcmZsb3cgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmNoZWNrSW5kZXhPdmVyZmxvd196YTNscGEkO1xuICB2YXIgYXJyYXlMaXN0T2YgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmFycmF5TGlzdE9mX2k1eDB5diQ7XG4gIHZhciBLaW5kX0NMQVNTID0gS290bGluLktpbmQuQ0xBU1M7XG4gIHZhciBMaW5rZWRIYXNoTWFwX2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXBfaW5pdF9xM2xtZnYkO1xuICB2YXIgSnNvbkNvbmZpZ3VyYXRpb24gPSAkbW9kdWxlJGtvdGxpbnhfc2VyaWFsaXphdGlvbl9rb3RsaW54X3NlcmlhbGl6YXRpb25fcnVudGltZS5rb3RsaW54LnNlcmlhbGl6YXRpb24uanNvbi5Kc29uQ29uZmlndXJhdGlvbjtcbiAgdmFyIEpzb24gPSAkbW9kdWxlJGtvdGxpbnhfc2VyaWFsaXphdGlvbl9rb3RsaW54X3NlcmlhbGl6YXRpb25fcnVudGltZS5rb3RsaW54LnNlcmlhbGl6YXRpb24uanNvbi5Kc29uO1xuICB2YXIgRW51bSA9IEtvdGxpbi5rb3RsaW4uRW51bTtcbiAgdmFyIHRocm93SVNFID0gS290bGluLnRocm93SVNFO1xuICB2YXIgZW5zdXJlTm90TnVsbCA9IEtvdGxpbi5lbnN1cmVOb3ROdWxsO1xuICB2YXIgdG9JbnQgPSBLb3RsaW4ua290bGluLnRleHQudG9JbnRfcGRsMXZ6JDtcbiAgdmFyIHRyaW1FbmQgPSBLb3RsaW4ua290bGluLnRleHQudHJpbUVuZF9ndzAwdnAkO1xuICB2YXIgVW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5pdDtcbiAgdmFyIFJlZ2V4X2luaXQgPSBLb3RsaW4ua290bGluLnRleHQuUmVnZXhfaW5pdF82MXpwb2UkO1xuICB2YXIgbGFzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubGFzdF8ycDFlZm0kO1xuICB2YXIgdHJpbUluZGVudCA9IEtvdGxpbi5rb3RsaW4udGV4dC50cmltSW5kZW50X3BkbDF2eiQ7XG4gIHZhciBlcXVhbHMgPSBLb3RsaW4uZXF1YWxzO1xuICB2YXIgdG8gPSBLb3RsaW4ua290bGluLnRvX3VqenJ6NyQ7XG4gIHZhciBtdXRhYmxlTWFwT2YgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLm11dGFibGVNYXBPZl9xZmN5YTAkO1xuICB2YXIgbWFwT2YgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLm1hcE9mX3FmY3lhMCQ7XG4gIHZhciBBcnJheUxpc3RfaW5pdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuQXJyYXlMaXN0X2luaXRfMjg3ZTIkO1xuICB2YXIgam9pblRvU3RyaW5nID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5qb2luVG9TdHJpbmdfZm12MjM1JDtcbiAgdmFyIEludFJhbmdlID0gS290bGluLmtvdGxpbi5yYW5nZXMuSW50UmFuZ2U7XG4gIHZhciBzbGljZSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuc2xpY2VfNmJqYmkxJDtcbiAgdmFyIHVudGlsID0gS290bGluLmtvdGxpbi5yYW5nZXMudW50aWxfZHFnbHJqJDtcbiAgdmFyIHByaW50bG4gPSBLb3RsaW4ua290bGluLmlvLnByaW50bG5fczhqeXY0JDtcbiAgdmFyIGxpc3RPZiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubGlzdE9mX2k1eDB5diQ7XG4gIHZhciB0aHJvd1VQQUUgPSBLb3RsaW4udGhyb3dVUEFFO1xuICB2YXIgbXV0YWJsZUxpc3RPZiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubXV0YWJsZUxpc3RPZl9pNXgweXYkO1xuICB2YXIgdG9TdHJpbmcgPSBLb3RsaW4udG9TdHJpbmc7XG4gIHZhciBMaW5rZWRIYXNoU2V0X2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hTZXRfaW5pdF8yODdlMiQ7XG4gIHZhciBzcGxpdCA9IEtvdGxpbi5rb3RsaW4udGV4dC5zcGxpdF9pcDh5biQ7XG4gIHZhciBsaXN0T2ZfMCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubGlzdE9mX21oNWhvdyQ7XG4gIHZhciBSZWdleE9wdGlvbiA9IEtvdGxpbi5rb3RsaW4udGV4dC5SZWdleE9wdGlvbjtcbiAgdmFyIFJlZ2V4X2luaXRfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC5SZWdleF9pbml0X3NiM3EyJDtcbiAgdmFyIFN0cmluZ0J1aWxkZXJfaW5pdCA9IEtvdGxpbi5rb3RsaW4udGV4dC5TdHJpbmdCdWlsZGVyX2luaXQ7XG4gIHZhciBqc29uID0gS290bGluLmtvdGxpbi5qcy5qc29uX3B5eW8xOCQ7XG4gIHZhciByZXZlcnNlZCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMucmV2ZXJzZWRfN3dudnphJDtcbiAgdmFyIHRvTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMudG9MaXN0X3VzMG1mdSQ7XG4gIHZhciBjb3B5VG9BcnJheSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuY29weVRvQXJyYXk7XG4gIHZhciBNYXAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLk1hcDtcbiAgdmFyIEV4Y2VwdGlvbl9pbml0XzAgPSBLb3RsaW4ua290bGluLkV4Y2VwdGlvbl9pbml0O1xuICB2YXIgUGFpciA9IEtvdGxpbi5rb3RsaW4uUGFpcjtcbiAgdmFyIEtpbmRfSU5URVJGQUNFID0gS290bGluLktpbmQuSU5URVJGQUNFO1xuICB2YXIgYWRkQWxsID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5hZGRBbGxfeWUxeTd2JDtcbiAgdmFyIE5vdEltcGxlbWVudGVkRXJyb3JfaW5pdCA9IEtvdGxpbi5rb3RsaW4uTm90SW1wbGVtZW50ZWRFcnJvcjtcbiAgdmFyIG51bWJlclRvRG91YmxlID0gS290bGluLm51bWJlclRvRG91YmxlO1xuICB2YXIgcm91bmQgPSBLb3RsaW4ua290bGluLm1hdGgucm91bmRfMTRkdGhlJDtcbiAgdmFyIFN0cmluZ0J1aWxkZXJfaW5pdF8wID0gS290bGluLmtvdGxpbi50ZXh0LlN0cmluZ0J1aWxkZXJfaW5pdF96YTNscGEkO1xuICBUZXN0VHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgVGVzdFR5cGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGVzdFR5cGU7XG4gIFRlc3RFbGVtZW50S2V5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRW51bS5wcm90b3R5cGUpO1xuICBUZXN0RWxlbWVudEtleS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXN0RWxlbWVudEtleTtcbiAgRGlhZ25vc3RpY3NUZXN0QXJlYS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFRlc3RBcmVhLnByb3RvdHlwZSk7XG4gIERpYWdub3N0aWNzVGVzdEFyZWEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGlhZ25vc3RpY3NUZXN0QXJlYTtcbiAgQ29kZWdlbkJveFRlc3RBcmVhLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVGVzdEFyZWEucHJvdG90eXBlKTtcbiAgQ29kZWdlbkJveFRlc3RBcmVhLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvZGVnZW5Cb3hUZXN0QXJlYTtcbiAgTmF2aWdhdGlvblR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbnVtLnByb3RvdHlwZSk7XG4gIE5hdmlnYXRpb25UeXBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5hdmlnYXRpb25UeXBlO1xuICBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbnVtLnByb3RvdHlwZSk7XG4gIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGU7XG4gIEdpdGh1YlRlc3RzTG9hZGVyVHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgR2l0aHViVGVzdHNMb2FkZXJUeXBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdpdGh1YlRlc3RzTG9hZGVyVHlwZTtcbiAgVGVzdEFyZWFFbnVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRW51bS5wcm90b3R5cGUpO1xuICBUZXN0QXJlYUVudW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGVzdEFyZWFFbnVtO1xuICBmdW5jdGlvbiBNYXJrVXAoKSB7XG4gICAgTWFya1VwX2luc3RhbmNlID0gdGhpcztcbiAgfVxuICBNYXJrVXAucHJvdG90eXBlLnNob3dNYXJrVXBGb3JQYXJhZ3JhcGhzX3c2ZzlwNyQgPSBmdW5jdGlvbiAocGFyYWdyYXBoc0luZm8sIHNlY3Rpb25zUGF0aCkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB0bXAkID0gcGFyYWdyYXBoc0luZm8uaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBpdGVtID0gdG1wJC5uZXh0KCk7XG4gICAgICB2YXIgdG1wJF8xO1xuICAgICAgdmFyIHBhcmFncmFwaE51bWJlciA9IGNoZWNrSW5kZXhPdmVyZmxvdygodG1wJF8wID0gaW5kZXgsIGluZGV4ID0gdG1wJF8wICsgMSB8IDAsIHRtcCRfMCkpICsgMSB8IDA7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gJG1vZHVsZSRqcXVlcnkoS290bGluLmlzVHlwZSh0bXAkXzEgPSBpdGVtLmdldF8xMXJiJCgncGFyYWdyYXBoRWxlbWVudCcpLCBIVE1MRWxlbWVudCkgPyB0bXAkXzEgOiB0aHJvd0NDRSgpKTtcbiAgICAgICRyZWNlaXZlci5hZGRDbGFzcygnd2l0aC10ZXN0cycpO1xuICAgICAgdmFyIHBhcmFncmFwaEVsID0gJHJlY2VpdmVyO1xuICAgICAgdGhpcy5zaG93U2VudGVuY2VzTnVtYmVyRm9yUGFyYWdyYXBoX2N1d2t2MSQocGFyYWdyYXBoRWwsIHBhcmFncmFwaE51bWJlciwgc2VjdGlvbnNQYXRoKTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIE1hcmtVcCRzaG93U2VudGVuY2VzTnVtYmVyRm9yUGFyYWdyYXBoJGxhbWJkYShjbG9zdXJlJHNlbnRlbmNlQ291bnRlciwgY2xvc3VyZSRzZWN0aW9uUGF0aCwgY2xvc3VyZSRwYXJhZ3JhcGhOdW1iZXIsIHRoaXMkTWFya1VwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBlbCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgc2VudGVuY2UgPSAkbW9kdWxlJGpxdWVyeShlbCk7XG4gICAgICB2YXIgZXhpc3RpbmdOdW1iZXJJbmZvID0gc2VudGVuY2UuZmluZCgnLm51bWJlci1pbmZvJyk7XG4gICAgICBpZiAobnVtYmVyVG9JbnQoZXhpc3RpbmdOdW1iZXJJbmZvLmxlbmd0aCkgPiAwKSB7XG4gICAgICAgIGV4aXN0aW5nTnVtYmVySW5mby5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMkTWFya1VwLmluc2VydFNlbnRlbmNlTnVtYmVyX2JnejBmNyQoc2VudGVuY2UsIGNsb3N1cmUkc2VudGVuY2VDb3VudGVyLnYsIGNsb3N1cmUkc2VjdGlvblBhdGgsIGNsb3N1cmUkcGFyYWdyYXBoTnVtYmVyLCBjbG9zdXJlJHNlbnRlbmNlQ291bnRlci52KTtcbiAgICAgIHJldHVybiB0bXAkID0gY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiwgY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiA9IHRtcCQgKyAxIHwgMCwgdG1wJDtcbiAgICB9O1xuICB9XG4gIE1hcmtVcC5wcm90b3R5cGUuc2hvd1NlbnRlbmNlc051bWJlckZvclBhcmFncmFwaF9jdXdrdjEkID0gZnVuY3Rpb24gKHBhcmFncmFwaCwgcGFyYWdyYXBoTnVtYmVyLCBzZWN0aW9uUGF0aCkge1xuICAgIHZhciBzZW50ZW5jZXMgPSAkbW9kdWxlJGpxdWVyeShwYXJhZ3JhcGgpLmZpbmQoJy5zZW50ZW5jZScpO1xuICAgIHZhciBzZW50ZW5jZUNvdW50ZXIgPSB7djogMX07XG4gICAgdGhpcy5pbnNlcnRQYXJhZ3JhcGhOdW1iZXJfcXA4OTRmJCgkbW9kdWxlJGpxdWVyeShwYXJhZ3JhcGgpLCBwYXJhZ3JhcGhOdW1iZXIsIHNlY3Rpb25QYXRoLCBwYXJhZ3JhcGhOdW1iZXIpO1xuICAgIHNlbnRlbmNlcy5lYWNoKE1hcmtVcCRzaG93U2VudGVuY2VzTnVtYmVyRm9yUGFyYWdyYXBoJGxhbWJkYShzZW50ZW5jZUNvdW50ZXIsIHNlY3Rpb25QYXRoLCBwYXJhZ3JhcGhOdW1iZXIsIHRoaXMpKTtcbiAgfTtcbiAgTWFya1VwLnByb3RvdHlwZS5pbnNlcnRQYXJhZ3JhcGhOdW1iZXJfcXA4OTRmJCA9IGZ1bmN0aW9uIChlbGVtZW50LCBudW1iZXIsIHNlY3Rpb25QYXRoLCBwYXJhZ3JhcGhOdW1iZXIpIHtcbiAgICBlbGVtZW50LnByZXBlbmQoZm9ybWF0KFwiPHNwYW4gY2xhc3M9J3BhcmFncmFwaC1saW5rJyBkYXRhLWxpbms9J3sxfSc+ezJ9PFxcL3NwYW4+XCIsIFsncGFyYWdyYXBoPScgKyByZXBsYWNlKHNlY3Rpb25QYXRoLCAnICcsICcnKSArICcsJyArIHBhcmFncmFwaE51bWJlciwgbnVtYmVyXSkpO1xuICB9O1xuICBNYXJrVXAucHJvdG90eXBlLmluc2VydFNlbnRlbmNlTnVtYmVyX2JnejBmNyQgPSBmdW5jdGlvbiAoZWxlbWVudCwgbnVtYmVyLCBzZWN0aW9uUGF0aCwgcGFyYWdyYXBoTnVtYmVyLCBzZW50ZW5jZU51bWJlcikge1xuICAgIGVsZW1lbnQucHJlcGVuZChmb3JtYXQoXCI8c3BhbiBjbGFzcz0nbnVtYmVyLWluZm8nIGRhdGEtcGF0aD0nezF9JyBkYXRhLWxpbms9J3syfSc+ezN9PFxcL3NwYW4+XCIsIFtzZWN0aW9uUGF0aCArICcgLT4gcGFyYWdyYXBoICcgKyBwYXJhZ3JhcGhOdW1iZXIgKyAnIC0+IHNlbnRlbmNlICcgKyBzZW50ZW5jZU51bWJlciwgJ3NlbnRlbmNlPScgKyByZXBsYWNlKHNlY3Rpb25QYXRoLCAnICcsICcnKSArICcsJyArIHBhcmFncmFwaE51bWJlciArICcsJyArIHNlbnRlbmNlTnVtYmVyLCBudW1iZXJdKSk7XG4gIH07XG4gIE1hcmtVcC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTWFya1VwJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgTWFya1VwX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gTWFya1VwX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChNYXJrVXBfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBNYXJrVXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hcmtVcF9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTcGVjQ29uZmlnKCkge1xuICAgIFNwZWNDb25maWckQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgZnVuY3Rpb24gU3BlY0NvbmZpZyRDb21wYW5pb24oKSB7XG4gICAgU3BlY0NvbmZpZyRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMudGVzdEFyZWFzVG9Mb2FkID0gYXJyYXlMaXN0T2YoW25ldyBDb2RlZ2VuQm94VGVzdEFyZWEoKSwgbmV3IERpYWdub3N0aWNzVGVzdEFyZWEoKV0pO1xuICB9XG4gIFNwZWNDb25maWckQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBTcGVjQ29uZmlnJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFNwZWNDb25maWckQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTcGVjQ29uZmlnJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFNwZWNDb25maWckQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBTcGVjQ29uZmlnJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBTZWN0aW9uVGVzdFNldChsb2FkZWRUZXN0QXJlYXMpIHtcbiAgICB0aGlzLmxvYWRlZFRlc3RBcmVhcyA9IGxvYWRlZFRlc3RBcmVhcztcbiAgICB0aGlzLnRlc3RBcmVhVGVzdHNNYXAgPSBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gdGhpcy5sb2FkZWRUZXN0QXJlYXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy50ZXN0QXJlYVRlc3RzTWFwO1xuICAgICAgdmFyIGtleSA9IGVsZW1lbnQucGF0aDtcbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQubGlzdE9mVGVzdHM7XG4gICAgICAkcmVjZWl2ZXIucHV0X3h3emM5cCQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIFNlY3Rpb25UZXN0U2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NlY3Rpb25UZXN0U2V0JywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBUZXN0KHRlc3RFbGVtZW50SW5mbywgdGVzdENvbnRhaW5lciwgdGVzdFBhdGgpIHtcbiAgICB0aGlzLnRlc3RFbGVtZW50SW5mbyA9IHRlc3RFbGVtZW50SW5mbztcbiAgICB0aGlzLnRlc3RDb250YWluZXIgPSB0ZXN0Q29udGFpbmVyO1xuICAgIHRoaXMudGVzdFBhdGggPSB0ZXN0UGF0aDtcbiAgfVxuICBUZXN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1Rlc3QnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFRlc3RNYXBEYXRhKGNvbnRlbnQsIGNvbnRlbnRQYXRoKSB7XG4gICAgdGhpcy5jb250ZW50UGF0aCA9IGNvbnRlbnRQYXRoO1xuICAgIHRoaXMudGVzdE1hcEpzb25FbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnRlc3RNYXBKc29uRWxlbWVudCA9IChuZXcgSnNvbihKc29uQ29uZmlndXJhdGlvbi5Db21wYW5pb24uU3RhYmxlKSkucGFyc2VKc29uXzYxenBvZSQoY29udGVudCk7XG4gIH1cbiAgVGVzdE1hcERhdGEuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdE1hcERhdGEnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFRlc3RQYXRoKHBhcmFncmFwaCwgdGVzdFR5cGUsIHRlc3RTZW50ZW5jZSkge1xuICAgIHRoaXMucGFyYWdyYXBoID0gcGFyYWdyYXBoO1xuICAgIHRoaXMudGVzdFR5cGUgPSB0ZXN0VHlwZTtcbiAgICB0aGlzLnRlc3RTZW50ZW5jZSA9IHRlc3RTZW50ZW5jZTtcbiAgfVxuICBUZXN0UGF0aC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdwLScgKyB0aGlzLnBhcmFncmFwaCArICcvJyArIHRoaXMudGVzdFR5cGUgKyAnLycgKyB0aGlzLnRlc3RTZW50ZW5jZTtcbiAgfTtcbiAgVGVzdFBhdGguJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdFBhdGgnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFRlc3RUeXBlKG5hbWUsIG9yZGluYWwpIHtcbiAgICBFbnVtLmNhbGwodGhpcyk7XG4gICAgdGhpcy5uYW1lJCA9IG5hbWU7XG4gICAgdGhpcy5vcmRpbmFsJCA9IG9yZGluYWw7XG4gIH1cbiAgZnVuY3Rpb24gVGVzdFR5cGVfaW5pdEZpZWxkcygpIHtcbiAgICBUZXN0VHlwZV9pbml0RmllbGRzID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgVGVzdFR5cGUkUE9TSVRJVkVfaW5zdGFuY2UgPSBuZXcgVGVzdFR5cGUoJ1BPU0lUSVZFJywgMCk7XG4gICAgVGVzdFR5cGUkTkVHQVRJVkVfaW5zdGFuY2UgPSBuZXcgVGVzdFR5cGUoJ05FR0FUSVZFJywgMSk7XG4gIH1cbiAgdmFyIFRlc3RUeXBlJFBPU0lUSVZFX2luc3RhbmNlO1xuICBmdW5jdGlvbiBUZXN0VHlwZSRQT1NJVElWRV9nZXRJbnN0YW5jZSgpIHtcbiAgICBUZXN0VHlwZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFRlc3RUeXBlJFBPU0lUSVZFX2luc3RhbmNlO1xuICB9XG4gIHZhciBUZXN0VHlwZSRORUdBVElWRV9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVGVzdFR5cGUkTkVHQVRJVkVfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVGVzdFR5cGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBUZXN0VHlwZSRORUdBVElWRV9pbnN0YW5jZTtcbiAgfVxuICBUZXN0VHlwZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZS50b0xvd2VyQ2FzZSgpO1xuICB9O1xuICBUZXN0VHlwZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUZXN0VHlwZScsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gIGZ1bmN0aW9uIFRlc3RUeXBlJHZhbHVlcygpIHtcbiAgICByZXR1cm4gW1Rlc3RUeXBlJFBPU0lUSVZFX2dldEluc3RhbmNlKCksIFRlc3RUeXBlJE5FR0FUSVZFX2dldEluc3RhbmNlKCldO1xuICB9XG4gIFRlc3RUeXBlLnZhbHVlcyA9IFRlc3RUeXBlJHZhbHVlcztcbiAgZnVuY3Rpb24gVGVzdFR5cGUkdmFsdWVPZihuYW1lKSB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdQT1NJVElWRSc6XG4gICAgICAgIHJldHVybiBUZXN0VHlwZSRQT1NJVElWRV9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnTkVHQVRJVkUnOlxuICAgICAgICByZXR1cm4gVGVzdFR5cGUkTkVHQVRJVkVfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGRlZmF1bHQ6dGhyb3dJU0UoJ05vIGVudW0gY29uc3RhbnQgb3JnLmpldGJyYWlucy5rb3RsaW4uc3BlYy5lbnRpdGllcy5UZXN0VHlwZS4nICsgbmFtZSk7XG4gICAgfVxuICB9XG4gIFRlc3RUeXBlLnZhbHVlT2ZfNjF6cG9lJCA9IFRlc3RUeXBlJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIFRlc3RDb250YWluZXIoY29udGVudCwgY29udGVudFBhdGgpIHtcbiAgICBpZiAoY29udGVudCA9PT0gdm9pZCAwKVxuICAgICAgY29udGVudCA9ICcnO1xuICAgIGlmIChjb250ZW50UGF0aCA9PT0gdm9pZCAwKVxuICAgICAgY29udGVudFBhdGggPSAnJztcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIHRoaXMuY29udGVudFBhdGggPSBjb250ZW50UGF0aDtcbiAgICB0aGlzLnBhcnNlZFRlc3QgPSAnVE9ETyc7XG4gIH1cbiAgVGVzdENvbnRhaW5lci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUZXN0Q29udGFpbmVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleShuYW1lLCBvcmRpbmFsKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICB9XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMoKSB7XG4gICAgVGVzdEVsZW1lbnRLZXlfaW5pdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFRlc3RFbGVtZW50S2V5JHNwZWNWZXJzaW9uX2luc3RhbmNlID0gbmV3IFRlc3RFbGVtZW50S2V5KCdzcGVjVmVyc2lvbicsIDApO1xuICAgIFRlc3RFbGVtZW50S2V5JGNhc2VzTnVtYmVyX2luc3RhbmNlID0gbmV3IFRlc3RFbGVtZW50S2V5KCdjYXNlc051bWJlcicsIDEpO1xuICAgIFRlc3RFbGVtZW50S2V5JGRlc2NyaXB0aW9uX2luc3RhbmNlID0gbmV3IFRlc3RFbGVtZW50S2V5KCdkZXNjcmlwdGlvbicsIDIpO1xuICAgIFRlc3RFbGVtZW50S2V5JHBhdGhfaW5zdGFuY2UgPSBuZXcgVGVzdEVsZW1lbnRLZXkoJ3BhdGgnLCAzKTtcbiAgICBUZXN0RWxlbWVudEtleSR1bmV4cGVjdGVkQmVoYXZpb3VyX2luc3RhbmNlID0gbmV3IFRlc3RFbGVtZW50S2V5KCd1bmV4cGVjdGVkQmVoYXZpb3VyJywgNCk7XG4gIH1cbiAgdmFyIFRlc3RFbGVtZW50S2V5JHNwZWNWZXJzaW9uX2luc3RhbmNlO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSRzcGVjVmVyc2lvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBUZXN0RWxlbWVudEtleV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFRlc3RFbGVtZW50S2V5JHNwZWNWZXJzaW9uX2luc3RhbmNlO1xuICB9XG4gIHZhciBUZXN0RWxlbWVudEtleSRjYXNlc051bWJlcl9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVGVzdEVsZW1lbnRLZXkkY2FzZXNOdW1iZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVGVzdEVsZW1lbnRLZXlfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBUZXN0RWxlbWVudEtleSRjYXNlc051bWJlcl9pbnN0YW5jZTtcbiAgfVxuICB2YXIgVGVzdEVsZW1lbnRLZXkkZGVzY3JpcHRpb25faW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5JGRlc2NyaXB0aW9uX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkZGVzY3JpcHRpb25faW5zdGFuY2U7XG4gIH1cbiAgdmFyIFRlc3RFbGVtZW50S2V5JHBhdGhfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50S2V5JHBhdGhfZ2V0SW5zdGFuY2UoKSB7XG4gICAgVGVzdEVsZW1lbnRLZXlfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBUZXN0RWxlbWVudEtleSRwYXRoX2luc3RhbmNlO1xuICB9XG4gIHZhciBUZXN0RWxlbWVudEtleSR1bmV4cGVjdGVkQmVoYXZpb3VyX2luc3RhbmNlO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSR1bmV4cGVjdGVkQmVoYXZpb3VyX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RFbGVtZW50S2V5X2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkdW5leHBlY3RlZEJlaGF2aW91cl9pbnN0YW5jZTtcbiAgfVxuICBUZXN0RWxlbWVudEtleS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfTtcbiAgVGVzdEVsZW1lbnRLZXkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdEVsZW1lbnRLZXknLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSR2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIFtUZXN0RWxlbWVudEtleSRzcGVjVmVyc2lvbl9nZXRJbnN0YW5jZSgpLCBUZXN0RWxlbWVudEtleSRjYXNlc051bWJlcl9nZXRJbnN0YW5jZSgpLCBUZXN0RWxlbWVudEtleSRkZXNjcmlwdGlvbl9nZXRJbnN0YW5jZSgpLCBUZXN0RWxlbWVudEtleSRwYXRoX2dldEluc3RhbmNlKCksIFRlc3RFbGVtZW50S2V5JHVuZXhwZWN0ZWRCZWhhdmlvdXJfZ2V0SW5zdGFuY2UoKV07XG4gIH1cbiAgVGVzdEVsZW1lbnRLZXkudmFsdWVzID0gVGVzdEVsZW1lbnRLZXkkdmFsdWVzO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEtleSR2YWx1ZU9mKG5hbWUpIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ3NwZWNWZXJzaW9uJzpcbiAgICAgICAgcmV0dXJuIFRlc3RFbGVtZW50S2V5JHNwZWNWZXJzaW9uX2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdjYXNlc051bWJlcic6XG4gICAgICAgIHJldHVybiBUZXN0RWxlbWVudEtleSRjYXNlc051bWJlcl9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnZGVzY3JpcHRpb24nOlxuICAgICAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkZGVzY3JpcHRpb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ3BhdGgnOlxuICAgICAgICByZXR1cm4gVGVzdEVsZW1lbnRLZXkkcGF0aF9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAndW5leHBlY3RlZEJlaGF2aW91cic6XG4gICAgICAgIHJldHVybiBUZXN0RWxlbWVudEtleSR1bmV4cGVjdGVkQmVoYXZpb3VyX2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMuZW50aXRpZXMudGVzdEVsZW1lbnQuVGVzdEVsZW1lbnRLZXkuJyArIG5hbWUpO1xuICAgIH1cbiAgfVxuICBUZXN0RWxlbWVudEtleS52YWx1ZU9mXzYxenBvZSQgPSBUZXN0RWxlbWVudEtleSR2YWx1ZU9mO1xuICBmdW5jdGlvbiBUZXN0RWxlbWVudEluZm8oanNvbk9iamVjdCkge1xuICAgIFRlc3RFbGVtZW50SW5mbyRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLnNwZWNWZXJzaW9uID0gbnVsbDtcbiAgICB0aGlzLmNhc2VzTnVtYmVyID0gMDtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICB0aGlzLnBhdGggPSBudWxsO1xuICAgIHRoaXMudW5leHBlY3RlZEJlaGF2aW91ciA9IGZhbHNlO1xuICAgIHRoaXMudmFsdWVzTWFwXzAgPSBudWxsO1xuICAgIHRoaXMudmFsdWVzTWFwXzAgPSBUZXN0RWxlbWVudEluZm8kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkucGFyc2VUZXN0TWFwXzAoanNvbk9iamVjdCk7XG4gICAgdGhpcy5zcGVjVmVyc2lvbiA9IGVuc3VyZU5vdE51bGwodGhpcy52YWx1ZXNNYXBfMC5nZXRfMTFyYiQoVGVzdEVsZW1lbnRLZXkkc3BlY1ZlcnNpb25fZ2V0SW5zdGFuY2UoKSkpO1xuICAgIHRoaXMuY2FzZXNOdW1iZXIgPSB0b0ludChlbnN1cmVOb3ROdWxsKHRoaXMudmFsdWVzTWFwXzAuZ2V0XzExcmIkKFRlc3RFbGVtZW50S2V5JGNhc2VzTnVtYmVyX2dldEluc3RhbmNlKCkpKSk7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGVuc3VyZU5vdE51bGwodGhpcy52YWx1ZXNNYXBfMC5nZXRfMTFyYiQoVGVzdEVsZW1lbnRLZXkkZGVzY3JpcHRpb25fZ2V0SW5zdGFuY2UoKSkpO1xuICAgIHRoaXMucGF0aCA9IGVuc3VyZU5vdE51bGwodGhpcy52YWx1ZXNNYXBfMC5nZXRfMTFyYiQoVGVzdEVsZW1lbnRLZXkkcGF0aF9nZXRJbnN0YW5jZSgpKSk7XG4gICAgdGhpcy51bmV4cGVjdGVkQmVoYXZpb3VyID0gZW5zdXJlTm90TnVsbCh0aGlzLnZhbHVlc01hcF8wLmdldF8xMXJiJChUZXN0RWxlbWVudEtleSR1bmV4cGVjdGVkQmVoYXZpb3VyX2dldEluc3RhbmNlKCkpKS5sZW5ndGggPiAwO1xuICB9XG4gIGZ1bmN0aW9uIFRlc3RFbGVtZW50SW5mbyRDb21wYW5pb24oKSB7XG4gICAgVGVzdEVsZW1lbnRJbmZvJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgVGVzdEVsZW1lbnRJbmZvJENvbXBhbmlvbi5wcm90b3R5cGUucGFyc2VUZXN0TWFwXzAgPSBmdW5jdGlvbiAoanNvbk9iamVjdCkge1xuICAgIHZhciBtYXAgPSBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgICB2YXIgJHJlY2VpdmVyID0gVGVzdEVsZW1lbnRLZXkkdmFsdWVzKCk7XG4gICAgdmFyIHRtcCQ7XG4gICAgZm9yICh0bXAkID0gMDsgdG1wJCAhPT0gJHJlY2VpdmVyLmxlbmd0aDsgKyt0bXAkKSB7XG4gICAgICB2YXIgZWxlbWVudCA9ICRyZWNlaXZlclt0bXAkXTtcbiAgICAgIHZhciB0bXAkXzAsIHRtcCRfMSwgdG1wJF8yO1xuICAgICAgdmFyIHZhbHVlID0gKHRtcCRfMiA9ICh0bXAkXzEgPSAodG1wJF8wID0ganNvbk9iamVjdC5nZXRfMTFyYiQoZWxlbWVudC5uYW1lKSkgIT0gbnVsbCA/IHRtcCRfMC5wcmltaXRpdmUgOiBudWxsKSAhPSBudWxsID8gdG1wJF8xLmNvbnRlbnQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8yIDogJyc7XG4gICAgICBtYXAucHV0X3h3emM5cCQoZWxlbWVudCwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9O1xuICBUZXN0RWxlbWVudEluZm8kQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBUZXN0RWxlbWVudEluZm8kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVGVzdEVsZW1lbnRJbmZvJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoVGVzdEVsZW1lbnRJbmZvJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFRlc3RFbGVtZW50SW5mbyRDb21wYW5pb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFRlc3RFbGVtZW50SW5mbyRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgVGVzdEVsZW1lbnRJbmZvLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1Rlc3RFbGVtZW50SW5mbycsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gU2VudGVuY2VGaW5kZXIoKSB7XG4gICAgU2VudGVuY2VGaW5kZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuRklOREVSX0JBUl9IVE1MID0gJzxkaXYgY2xhc3M9XCJzZW50ZW5jZS1maW5kZXItYmFyXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwic3BlYy1sb2NhdGlvbi1zZWFyY2hcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic3BlYy1zZW50ZW5jZS1sb2NhdGlvblwiIC8+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNwZWMtc2VudGVuY2UtZmluZFwiPkZpbmQgc2VudGVuY2U8XFwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJ7MX0tbWFya3VwLWxpbmtcIj57Mn0gbWFya3VwPFxcL2E+XFxuICAgICAgICA8XFwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cInNwZWMtbG9jYXRpb24tZm9ybWF0XCI+Rm9ybWF0OiBzZWN0aW9ucy1oaWVyYXJjaHl7LH0gLT4gcGFyYWdyYXBoIHtufSAtPiBzZW50ZW5jZSB7bX08XFwvZGl2PlxcbiAgICAgICAgPFxcL2Rpdj4nO1xuICB9XG4gIFNlbnRlbmNlRmluZGVyLnByb3RvdHlwZS5maW5kU2VudGVuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5kU2VudGVuY2VfMCgkbW9kdWxlJGpxdWVyeSgnLnNwZWMtbG9jYXRpb24tc2VhcmNoIGlucHV0W25hbWU9XCJzcGVjLXNlbnRlbmNlLWxvY2F0aW9uXCJdJykudmFsKCkudG9TdHJpbmcoKSk7XG4gIH07XG4gIFNlbnRlbmNlRmluZGVyLnByb3RvdHlwZS5maW5kU2VudGVuY2VfMCA9IGZ1bmN0aW9uIChwbGFjZSkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBzcGVjUGxhY2VDb21wb25lbnRzID0gU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5nZXRTZW50ZW5jZUluZm9Gcm9tU2VhcmNoRmllbGRfNjF6cG9lJCh0cmltRW5kKEtvdGxpbi5pc0NoYXJTZXF1ZW5jZSh0bXAkID0gcGxhY2UpID8gdG1wJCA6IHRocm93Q0NFKCkpLnRvU3RyaW5nKCkpO1xuICAgIGlmIChzcGVjUGxhY2VDb21wb25lbnRzLnNlbnRlbmNlTnVtYmVyICE9IG51bGwpIHtcbiAgICAgIFNwZWNQbGFjZUhpZ2hsaWdodGVyX2dldEluc3RhbmNlKCkuaGlnaGxpZ2h0U2VudGVuY2VfaDdrNWdsJChzcGVjUGxhY2VDb21wb25lbnRzKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5oaWdobGlnaHRQYXJhZ3JhcGhfaDdrNWdsJChzcGVjUGxhY2VDb21wb25lbnRzKTtcbiAgICB9XG4gIH07XG4gIFNlbnRlbmNlRmluZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTZW50ZW5jZUZpbmRlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFNlbnRlbmNlRmluZGVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU2VudGVuY2VGaW5kZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFNlbnRlbmNlRmluZGVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU2VudGVuY2VGaW5kZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIFNlbnRlbmNlRmluZGVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFNwZWNQbGFjZUNvbXBvbmVudHMoc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIsIHNlbnRlbmNlTnVtYmVyKSB7XG4gICAgaWYgKHNlbnRlbmNlTnVtYmVyID09PSB2b2lkIDApXG4gICAgICBzZW50ZW5jZU51bWJlciA9IG51bGw7XG4gICAgdGhpcy5zZWN0aW9uSWQgPSBzZWN0aW9uSWQ7XG4gICAgdGhpcy5wYXJhZ3JhcGhOdW1iZXIgPSBwYXJhZ3JhcGhOdW1iZXI7XG4gICAgdGhpcy5zZW50ZW5jZU51bWJlciA9IHNlbnRlbmNlTnVtYmVyO1xuICB9XG4gIFNwZWNQbGFjZUNvbXBvbmVudHMuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU3BlY1BsYWNlQ29tcG9uZW50cycsIGludGVyZmFjZXM6IFtdfTtcbiAgU3BlY1BsYWNlQ29tcG9uZW50cy5wcm90b3R5cGUuY29tcG9uZW50MSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zZWN0aW9uSWQ7XG4gIH07XG4gIFNwZWNQbGFjZUNvbXBvbmVudHMucHJvdG90eXBlLmNvbXBvbmVudDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYWdyYXBoTnVtYmVyO1xuICB9O1xuICBTcGVjUGxhY2VDb21wb25lbnRzLnByb3RvdHlwZS5jb21wb25lbnQzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnNlbnRlbmNlTnVtYmVyO1xuICB9O1xuICBTcGVjUGxhY2VDb21wb25lbnRzLnByb3RvdHlwZS5jb3B5X3R6dXV0YiQgPSBmdW5jdGlvbiAoc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIsIHNlbnRlbmNlTnVtYmVyKSB7XG4gICAgcmV0dXJuIG5ldyBTcGVjUGxhY2VDb21wb25lbnRzKHNlY3Rpb25JZCA9PT0gdm9pZCAwID8gdGhpcy5zZWN0aW9uSWQgOiBzZWN0aW9uSWQsIHBhcmFncmFwaE51bWJlciA9PT0gdm9pZCAwID8gdGhpcy5wYXJhZ3JhcGhOdW1iZXIgOiBwYXJhZ3JhcGhOdW1iZXIsIHNlbnRlbmNlTnVtYmVyID09PSB2b2lkIDAgPyB0aGlzLnNlbnRlbmNlTnVtYmVyIDogc2VudGVuY2VOdW1iZXIpO1xuICB9O1xuICBTcGVjUGxhY2VDb21wb25lbnRzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ1NwZWNQbGFjZUNvbXBvbmVudHMoc2VjdGlvbklkPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5zZWN0aW9uSWQpICsgKCcsIHBhcmFncmFwaE51bWJlcj0nICsgS290bGluLnRvU3RyaW5nKHRoaXMucGFyYWdyYXBoTnVtYmVyKSkgKyAoJywgc2VudGVuY2VOdW1iZXI9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnNlbnRlbmNlTnVtYmVyKSkgKyAnKSc7XG4gIH07XG4gIFNwZWNQbGFjZUNvbXBvbmVudHMucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuc2VjdGlvbklkKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy5wYXJhZ3JhcGhOdW1iZXIpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnNlbnRlbmNlTnVtYmVyKSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgU3BlY1BsYWNlQ29tcG9uZW50cy5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT09IG90aGVyIHx8IChvdGhlciAhPT0gbnVsbCAmJiAodHlwZW9mIG90aGVyID09PSAnb2JqZWN0JyAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3RoZXIpICYmIChLb3RsaW4uZXF1YWxzKHRoaXMuc2VjdGlvbklkLCBvdGhlci5zZWN0aW9uSWQpICYmIEtvdGxpbi5lcXVhbHModGhpcy5wYXJhZ3JhcGhOdW1iZXIsIG90aGVyLnBhcmFncmFwaE51bWJlcikgJiYgS290bGluLmVxdWFscyh0aGlzLnNlbnRlbmNlTnVtYmVyLCBvdGhlci5zZW50ZW5jZU51bWJlcikpKSkpO1xuICB9O1xuICBmdW5jdGlvbiBTcGVjUGxhY2VIaWdobGlnaHRlcigpIHtcbiAgICBTcGVjUGxhY2VIaWdobGlnaHRlcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5QQVJBR1JBUEhfTk9UX0ZPVU5EXzAgPSAnUGFyYWdyYXBoIFwiezF9XCIgb2Ygc2VjdGlvbiBcInsyfVwiIGlzIG5vdCBmb3VuZC4nO1xuICAgIHRoaXMuU0VOVEVOQ0VfTk9UX0ZPVU5EXzAgPSAnU2VudGVuY2UgXCJ7MX1cIiBpcyBub3QgZm91bmQuJztcbiAgICB0aGlzLkVTQ0FQRURfU0VDVElPTl9JRF9TRVBBUkFUT1JfMCA9ICdcXFxcLic7XG4gIH1cbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmZpbmRQYXJhZ3JhcGhfMCA9IGZ1bmN0aW9uIChzZWN0aW9uSWQsIHBhcmFncmFwaE51bWJlcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICB2YXIgc2VjdGlvbkVsZW1lbnQgPSAkbW9kdWxlJGpxdWVyeSgnIycgKyByZXBsYWNlKHNlY3Rpb25JZCwgJy4nLCB0aGlzLkVTQ0FQRURfU0VDVElPTl9JRF9TRVBBUkFUT1JfMCkpO1xuICAgIHRtcCQgPSBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZ2V0UGFyYWdyYXBoc0luZm9fbGppeTh6JChzZWN0aW9uRWxlbWVudCk7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBwYXJhZ3JhcGhzSW5mbyA9IHRtcCQ7XG4gICAgaWYgKHBhcmFncmFwaHNJbmZvLnNpemUgPiAocGFyYWdyYXBoTnVtYmVyIC0gMSB8IDApKSB7XG4gICAgICB0bXAkXzEgPSAkbW9kdWxlJGpxdWVyeShLb3RsaW4uaXNUeXBlKHRtcCRfMCA9IHBhcmFncmFwaHNJbmZvLmdldF96YTNscGEkKHBhcmFncmFwaE51bWJlciAtIDEgfCAwKS5nZXRfMTFyYiQoJ3BhcmFncmFwaEVsZW1lbnQnKSwgSFRNTEVsZW1lbnQpID8gdG1wJF8wIDogdGhyb3dDQ0UoKSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHdpbmRvdy5hbGVydChmb3JtYXQodGhpcy5QQVJBR1JBUEhfTk9UX0ZPVU5EXzAsIFtwYXJhZ3JhcGhOdW1iZXIsIHNlY3Rpb25JZF0pKTtcbiAgICAgIHRtcCRfMSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0bXAkXzE7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5maW5kU2VudGVuY2VfMCA9IGZ1bmN0aW9uIChwYXJhZ3JhcGhFbGVtZW50LCBzZW50ZW5jZU51bWJlcikge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBzZW50ZW5jZXMgPSBwYXJhZ3JhcGhFbGVtZW50LmZpbmQoJy5zZW50ZW5jZScpO1xuICAgIGlmIChudW1iZXJUb0ludChzZW50ZW5jZXMubGVuZ3RoKSA+IChzZW50ZW5jZU51bWJlciAtIDEgfCAwKSkge1xuICAgICAgdG1wJCA9ICRtb2R1bGUkanF1ZXJ5KGVuc3VyZU5vdE51bGwoc2VudGVuY2VzW3NlbnRlbmNlTnVtYmVyIC0gMSB8IDBdKSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHdpbmRvdy5hbGVydChmb3JtYXQodGhpcy5TRU5URU5DRV9OT1RfRk9VTkRfMCwgW3NlbnRlbmNlTnVtYmVyXSkpO1xuICAgICAgdG1wJCA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuaGlnaGxpZ2h0UGFyYWdyYXBoXzAgPSBmdW5jdGlvbiAoc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHRtcCQgPSB0aGlzLmZpbmRQYXJhZ3JhcGhfMChzZWN0aW9uSWQsIHBhcmFncmFwaE51bWJlcik7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcGFyYWdyYXBoID0gdG1wJDtcbiAgICBwYXJhZ3JhcGguYWRkQ2xhc3MoJ2hpZ2hsaWdodGVkJyk7XG4gICAgKHRtcCRfMCA9IHBhcmFncmFwaFswXSkgIT0gbnVsbCA/ICh0bXAkXzAuc2Nyb2xsSW50b1ZpZXcoKSwgVW5pdCkgOiBudWxsO1xuICAgICRtb2R1bGUkanF1ZXJ5KHdpbmRvdykuc2Nyb2xsVG9wKG51bWJlclRvSW50KCRtb2R1bGUkanF1ZXJ5KHdpbmRvdykuc2Nyb2xsVG9wKCkpIC0gODAgfCAwKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmhpZ2hsaWdodFBhcmFncmFwaF82MXpwb2UkID0gZnVuY3Rpb24gKHBhcmFncmFwaFRvQmVIaWdobGlnaHRlZCkge1xuICAgIHZhciB0bXAkO1xuICAgIHRoaXMuaGlnaGxpZ2h0UGFyYWdyYXBoX2g3azVnbCQodGhpcy5nZXRQYXJhZ3JhcGhJbmZvXzAodHJpbUVuZChLb3RsaW4uaXNDaGFyU2VxdWVuY2UodG1wJCA9IHBhcmFncmFwaFRvQmVIaWdobGlnaHRlZCkgPyB0bXAkIDogdGhyb3dDQ0UoKSkudG9TdHJpbmcoKSkpO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuaGlnaGxpZ2h0UGFyYWdyYXBoX2g3azVnbCQgPSBmdW5jdGlvbiAoc2VudGVuY2VQYXRoKSB7XG4gICAgdGhpcy5oaWdobGlnaHRQYXJhZ3JhcGhfMChzZW50ZW5jZVBhdGguc2VjdGlvbklkLCBzZW50ZW5jZVBhdGgucGFyYWdyYXBoTnVtYmVyKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmhpZ2hsaWdodFNlbnRlbmNlXzAgPSBmdW5jdGlvbiAoc2VjdGlvbklkLCBwYXJhZ3JhcGhOdW1iZXIsIHNlbnRlbmNlTnVtYmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgIHRtcCQgPSB0aGlzLmZpbmRQYXJhZ3JhcGhfMChzZWN0aW9uSWQsIHBhcmFncmFwaE51bWJlcik7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcGFyYWdyYXBoRWxlbWVudCA9IHRtcCQ7XG4gICAgdG1wJF8wID0gdGhpcy5maW5kU2VudGVuY2VfMChwYXJhZ3JhcGhFbGVtZW50LCBzZW50ZW5jZU51bWJlcik7XG4gICAgaWYgKHRtcCRfMCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzZW50ZW5jZSA9IHRtcCRfMDtcbiAgICBzZW50ZW5jZS5hZGRDbGFzcygnaGlnaGxpZ2h0ZWQnKTtcbiAgICAodG1wJF8xID0gc2VudGVuY2VbMF0pICE9IG51bGwgPyAodG1wJF8xLnNjcm9sbEludG9WaWV3KCksIFVuaXQpIDogbnVsbDtcbiAgICAkbW9kdWxlJGpxdWVyeSh3aW5kb3cpLnNjcm9sbFRvcChudW1iZXJUb0ludCgkbW9kdWxlJGpxdWVyeSh3aW5kb3cpLnNjcm9sbFRvcCgpKSAtIDgwIHwgMCk7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5oaWdobGlnaHRTZW50ZW5jZV82MXpwb2UkID0gZnVuY3Rpb24gKHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkKSB7XG4gICAgdGhpcy5oaWdobGlnaHRTZW50ZW5jZV9oN2s1Z2wkKHRoaXMuZ2V0U2VudGVuY2VJbmZvRnJvbVVybF8wKHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkKSk7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5oaWdobGlnaHRTZW50ZW5jZV9oN2s1Z2wkID0gZnVuY3Rpb24gKHNlbnRlbmNlUGF0aCkge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICB0bXAkID0gc2VudGVuY2VQYXRoLnNlY3Rpb25JZDtcbiAgICB0bXAkXzAgPSBzZW50ZW5jZVBhdGgucGFyYWdyYXBoTnVtYmVyO1xuICAgIHRtcCRfMSA9IHNlbnRlbmNlUGF0aC5zZW50ZW5jZU51bWJlcjtcbiAgICBpZiAodG1wJF8xID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5oaWdobGlnaHRTZW50ZW5jZV8wKHRtcCQsIHRtcCRfMCwgdG1wJF8xKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmhpZ2hsaWdodFNlY3Rpb25fNjF6cG9lJCA9IGZ1bmN0aW9uIChzZWN0aW9uSWQpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgc2VjdGlvbkVsZW1lbnQgPSAkbW9kdWxlJGpxdWVyeSgnIycgKyByZXBsYWNlKHNlY3Rpb25JZCwgJy4nLCAnXFxcXFxcXFwuJykpO1xuICAgIHNlY3Rpb25FbGVtZW50LmFkZENsYXNzKCdoaWdobGlnaHRlZCcpO1xuICAgICh0bXAkID0gc2VjdGlvbkVsZW1lbnRbMF0pICE9IG51bGwgPyAodG1wJC5zY3JvbGxJbnRvVmlldygpLCBVbml0KSA6IG51bGw7XG4gICAgJG1vZHVsZSRqcXVlcnkod2luZG93KS5zY3JvbGxUb3AobnVtYmVyVG9JbnQoJG1vZHVsZSRqcXVlcnkod2luZG93KS5zY3JvbGxUb3AoKSkgLSA4MCB8IDApO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0U2VudGVuY2VJbmZvRnJvbVVybF8wID0gZnVuY3Rpb24gKHNlbnRlbmNlVG9CZUhpZ2hsaWdodGVkKSB7XG4gICAgdmFyIHNwbGl0dGVkU2VudGVuY2VQYXRoID0gUmVnZXhfaW5pdCgnXFxcXHMqLFxcXFxzKicpLnNwbGl0XzkwNWF6dSQoc2VudGVuY2VUb0JlSGlnaGxpZ2h0ZWQsIDApO1xuICAgIHZhciBzcGxpdHRlZFNlbnRlbmNlUGF0aFNpemUgPSBzcGxpdHRlZFNlbnRlbmNlUGF0aC5zaXplO1xuICAgIHJldHVybiBuZXcgU3BlY1BsYWNlQ29tcG9uZW50cyhzcGxpdHRlZFNlbnRlbmNlUGF0aC5nZXRfemEzbHBhJChzcGxpdHRlZFNlbnRlbmNlUGF0aFNpemUgLSAzIHwgMCksIHRvSW50KHNwbGl0dGVkU2VudGVuY2VQYXRoLmdldF96YTNscGEkKHNwbGl0dGVkU2VudGVuY2VQYXRoU2l6ZSAtIDIgfCAwKSksIHRvSW50KHNwbGl0dGVkU2VudGVuY2VQYXRoLmdldF96YTNscGEkKHNwbGl0dGVkU2VudGVuY2VQYXRoU2l6ZSAtIDEgfCAwKSkpO1xuICB9O1xuICBTcGVjUGxhY2VIaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0U2VudGVuY2VJbmZvRnJvbVNlYXJjaEZpZWxkXzYxenBvZSQgPSBmdW5jdGlvbiAoc2VudGVuY2VUb0JlSGlnaGxpZ2h0ZWQpIHtcbiAgICB2YXIgc3BsaXR0ZWRTZW50ZW5jZVBhdGggPSBSZWdleF9pbml0KCdcXFxccyotPlxcXFxzKicpLnNwbGl0XzkwNWF6dSQoc2VudGVuY2VUb0JlSGlnaGxpZ2h0ZWQsIDApO1xuICAgIHZhciAkcmVjZWl2ZXIgPSBzcGxpdHRlZFNlbnRlbmNlUGF0aC5nZXRfemEzbHBhJCgwKTtcbiAgICB2YXIgc3BsaXR0ZWRTZWN0aW9uUGF0aCA9IFJlZ2V4X2luaXQoJ1xcXFxzKixcXFxccyonKS5zcGxpdF85MDVhenUkKCRyZWNlaXZlciwgMCk7XG4gICAgcmV0dXJuIG5ldyBTcGVjUGxhY2VDb21wb25lbnRzKGxhc3Qoc3BsaXR0ZWRTZWN0aW9uUGF0aCksIHRvSW50KHJlcGxhY2Uoc3BsaXR0ZWRTZW50ZW5jZVBhdGguZ2V0X3phM2xwYSQoMSksICdwYXJhZ3JhcGggJywgJycpKSwgc3BsaXR0ZWRTZW50ZW5jZVBhdGguc2l6ZSA9PT0gMyA/IHRvSW50KHJlcGxhY2Uoc3BsaXR0ZWRTZW50ZW5jZVBhdGguZ2V0X3phM2xwYSQoMiksICdzZW50ZW5jZSAnLCAnJykpIDogbnVsbCk7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRQYXJhZ3JhcGhJbmZvXzAgPSBmdW5jdGlvbiAocGFyYWdyYXBoVG9CZUhpZ2hsaWdodGVkKSB7XG4gICAgdmFyIHNwbGl0dGVkU2VudGVuY2VQYXRoID0gUmVnZXhfaW5pdCgnXFxcXHMqLFxcXFxzKicpLnNwbGl0XzkwNWF6dSQocGFyYWdyYXBoVG9CZUhpZ2hsaWdodGVkLCAwKTtcbiAgICB2YXIgc3BsaXR0ZWRTZW50ZW5jZVBhdGhTaXplID0gc3BsaXR0ZWRTZW50ZW5jZVBhdGguc2l6ZTtcbiAgICByZXR1cm4gbmV3IFNwZWNQbGFjZUNvbXBvbmVudHMoc3BsaXR0ZWRTZW50ZW5jZVBhdGguZ2V0X3phM2xwYSQoc3BsaXR0ZWRTZW50ZW5jZVBhdGhTaXplIC0gMiB8IDApLCB0b0ludChzcGxpdHRlZFNlbnRlbmNlUGF0aC5nZXRfemEzbHBhJChzcGxpdHRlZFNlbnRlbmNlUGF0aFNpemUgLSAxIHwgMCkpKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmdldExpbmtfMCA9IGZ1bmN0aW9uIChzZWFyY2hDb21wb25lbnQpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gd2luZG93LmxvY2F0aW9uO1xuICAgIHJldHVybiAkcmVjZWl2ZXIucHJvdG9jb2wgKyAnLy8nICsgJHJlY2VpdmVyLmhvc3RuYW1lICsgJHJlY2VpdmVyLnBhdGhuYW1lICsgJz8nICsgc2VhcmNoQ29tcG9uZW50ICsgJHJlY2VpdmVyLmhhc2g7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLnByb3RvdHlwZS5nZXRTZWN0aW9uTGlua18wID0gZnVuY3Rpb24gKHNlY3Rpb25JZCkge1xuICAgIHZhciAkcmVjZWl2ZXIgPSB3aW5kb3cubG9jYXRpb247XG4gICAgcmV0dXJuICRyZWNlaXZlci5wcm90b2NvbCArICcvLycgKyAkcmVjZWl2ZXIuaG9zdG5hbWUgKyAkcmVjZWl2ZXIucGF0aG5hbWUgKyAoJHJlY2VpdmVyLnNlYXJjaC5sZW5ndGggPiAwID8gJz8nICsgJHJlY2VpdmVyLnNlYXJjaCA6ICcnKSArICcjJyArIHNlY3Rpb25JZDtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLm9uU2VudGVuY2VHZXRMaW5rQ2xpY2tfbGppeTh6JCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgKG5ldyBQb3B1cChuZXcgUG9wdXBDb25maWcoODAwLCAxNTAsICdMaW5rIHRvIHRoaXMgc2VudGVuY2UnLCB0cmltSW5kZW50KCdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmtzLXBvcHVwJyArICdcIicgKyAnPicgKyAnXFxuJyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9JyArICdcIicgKyAnc2VudGVuY2UtbGlua3Mtcm93JyArICdcIicgKyAnPjxzcGFuIGNsYXNzPScgKyAnXCInICsgJ2xpbmstc2VudGVuY2UtZGVzY3JpcHRpb24tbGluay10eXBlJyArICdcIicgKyAnPlBhdGggZm9yIGNvbXBpbGVyIHRlc3Q6PFxcL3NwYW4+PGlucHV0IHR5cGU9JyArICdcIicgKyAndGV4dCcgKyAnXCInICsgJyBjbGFzcz0nICsgJ1wiJyArICdzZW50ZW5jZS1wYXRoLWZvci1jb21waWxlci10ZXN0JyArICdcIicgKyAnIHZhbHVlPScgKyAnXCInICsgZWxlbWVudC5kYXRhKCdwYXRoJykudG9TdHJpbmcoKSArICdcIicgKyAnPjxcXC9kaXY+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nICsgJ1wiJyArICdzZW50ZW5jZS1saW5rcy1yb3cnICsgJ1wiJyArICc+PHNwYW4gY2xhc3M9JyArICdcIicgKyAnbGluay1zZW50ZW5jZS1kZXNjcmlwdGlvbi1saW5rLXR5cGUnICsgJ1wiJyArICc+TGluazo8XFwvc3Bhbj48aW5wdXQgdHlwZT0nICsgJ1wiJyArICd0ZXh0JyArICdcIicgKyAnIGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmstZmllbGQnICsgJ1wiJyArICcgdmFsdWU9JyArICdcIicgKyB0aGlzLmdldExpbmtfMChlbGVtZW50LmRhdGEoJ2xpbmsnKS50b1N0cmluZygpKSArICdcIicgKyAnPjxcXC9kaXY+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8XFwvZGl2PicgKyAnXFxuJyArICcgICAgICAgICAgICAgICAgICAgICAgICAnKSkpKS5vcGVuKCk7XG4gICAgJG1vZHVsZSRqcXVlcnkoJy5zZW50ZW5jZS1wYXRoLWZvci1jb21waWxlci10ZXN0Jykuc2VsZWN0KCkuZm9jdXMoKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLm9uUGFyYWdyYXBoR2V0TGlua0NsaWNrX2xqaXk4eiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIChuZXcgUG9wdXAobmV3IFBvcHVwQ29uZmlnKDgwMCwgMTAwLCAnTGluayB0byB0aGlzIHBhcmFncmFwaCcsIHRyaW1JbmRlbnQoJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9JyArICdcIicgKyAnc2VudGVuY2UtbGlua3MtcG9wdXAnICsgJ1wiJyArICc+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nICsgJ1wiJyArICdzZW50ZW5jZS1saW5rcy1yb3cnICsgJ1wiJyArICc+PHNwYW4gY2xhc3M9JyArICdcIicgKyAnbGluay1zZW50ZW5jZS1kZXNjcmlwdGlvbi1saW5rLXR5cGUnICsgJ1wiJyArICc+TGluazo8XFwvc3Bhbj48aW5wdXQgdHlwZT0nICsgJ1wiJyArICd0ZXh0JyArICdcIicgKyAnIGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmstZmllbGQnICsgJ1wiJyArICcgdmFsdWU9JyArICdcIicgKyB0aGlzLmdldExpbmtfMChlbGVtZW50LmRhdGEoJ2xpbmsnKS50b1N0cmluZygpKSArICdcIicgKyAnPjxcXC9kaXY+JyArICdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8XFwvZGl2PicgKyAnXFxuJyArICcgICAgICAgICAgICAgICAgICAgICAgICAnKSkpKS5vcGVuKCk7XG4gICAgJG1vZHVsZSRqcXVlcnkoJy5zZW50ZW5jZS1saW5rLWZpZWxkJykuc2VsZWN0KCkuZm9jdXMoKTtcbiAgfTtcbiAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIucHJvdG90eXBlLm9uSGVhZGVyR2V0TGlua0NsaWNrX2xqaXk4eiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIChuZXcgUG9wdXAobmV3IFBvcHVwQ29uZmlnKDgwMCwgMTAwLCAnTGluayB0byB0aGlzIHNlY3Rpb24nLCB0cmltSW5kZW50KCdcXG4nICsgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPScgKyAnXCInICsgJ3NlbnRlbmNlLWxpbmtzLXBvcHVwJyArICdcIicgKyAnPicgKyAnXFxuJyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9JyArICdcIicgKyAnc2VudGVuY2UtbGlua3Mtcm93JyArICdcIicgKyAnPjxzcGFuIGNsYXNzPScgKyAnXCInICsgJ2xpbmstc2VudGVuY2UtZGVzY3JpcHRpb24tbGluay10eXBlJyArICdcIicgKyAnPkxpbms6PFxcL3NwYW4+PGlucHV0IHR5cGU9JyArICdcIicgKyAndGV4dCcgKyAnXCInICsgJyBjbGFzcz0nICsgJ1wiJyArICdzZW50ZW5jZS1saW5rLWZpZWxkJyArICdcIicgKyAnIHZhbHVlPScgKyAnXCInICsgdGhpcy5nZXRTZWN0aW9uTGlua18wKGVsZW1lbnQuYXR0cignaWQnKSkgKyAnXCInICsgJz48XFwvZGl2PicgKyAnXFxuJyArICcgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFxcL2Rpdj4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgICAgICAgICAgJykpKSkub3BlbigpO1xuICAgICRtb2R1bGUkanF1ZXJ5KCcuc2VudGVuY2UtbGluay1maWVsZCcpLnNlbGVjdCgpLmZvY3VzKCk7XG4gIH07XG4gIFNwZWNQbGFjZUhpZ2hsaWdodGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTcGVjUGxhY2VIaWdobGlnaHRlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFNwZWNQbGFjZUhpZ2hsaWdodGVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFNwZWNQbGFjZUhpZ2hsaWdodGVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3BlY1BsYWNlSGlnaGxpZ2h0ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIFNwZWNQbGFjZUhpZ2hsaWdodGVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEoZiwgZWwpIHtcbiAgICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuaW5zZXJ0TG9hZEljb25fbGppeTh6JCgkbW9kdWxlJGpxdWVyeShlbCkpO1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhKGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlLCBmKSB7XG4gICAgICBjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlci5zaG93Vmlld2VyX2xqaXk4eiQoJG1vZHVsZSRqcXVlcnkoZS5jdXJyZW50VGFyZ2V0KSk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzAoY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIub25UZXN0QXJlYUNoYW5nZSgpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xKGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBmXzApIHtcbiAgICAgIGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyLm9uVGVzdFR5cGVDaGFuZ2UoKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMihjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZl8wKSB7XG4gICAgICBjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlci5vblRlc3ROdW1iZXJDaGFuZ2UoKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMyhjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSwgZikge1xuICAgICAgY2xvc3VyZSRzcGVjVGVzdHNWaWV3ZXIubmF2aWdhdGVUZXN0Q2FzZV95NThlYWMkKCRtb2R1bGUkanF1ZXJ5KGUuY3VycmVudFRhcmdldCksIE5hdmlnYXRpb25UeXBlJFBSRVZfZ2V0SW5zdGFuY2UoKSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV80KGNsb3N1cmUkc3BlY1Rlc3RzVmlld2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlLCBmKSB7XG4gICAgICBjbG9zdXJlJHNwZWNUZXN0c1ZpZXdlci5uYXZpZ2F0ZVRlc3RDYXNlX3k1OGVhYyQoJG1vZHVsZSRqcXVlcnkoZS5jdXJyZW50VGFyZ2V0KSwgTmF2aWdhdGlvblR5cGUkTkVYVF9nZXRJbnN0YW5jZSgpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzUoY2xvc3VyZSRzcGVjVGVzdHNMb2FkZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIGYpIHtcbiAgICAgIGNsb3N1cmUkc3BlY1Rlc3RzTG9hZGVyLm9uVGVzdHNMb2FkaW5nTGlua0NsaWNrX2xqaXk4eiQoJG1vZHVsZSRqcXVlcnkoZS5jdXJyZW50VGFyZ2V0KSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV82KGYsIGZfMCkge1xuICAgIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5vblNldEJyYW5jaEljb25DbGljaygpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV83KGUsIGYpIHtcbiAgICBTcGVjUGxhY2VIaWdobGlnaHRlcl9nZXRJbnN0YW5jZSgpLm9uU2VudGVuY2VHZXRMaW5rQ2xpY2tfbGppeTh6JCgkbW9kdWxlJGpxdWVyeShlLmN1cnJlbnRUYXJnZXQpKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV84KGUsIGYpIHtcbiAgICBTcGVjUGxhY2VIaWdobGlnaHRlcl9nZXRJbnN0YW5jZSgpLm9uUGFyYWdyYXBoR2V0TGlua0NsaWNrX2xqaXk4eiQoJG1vZHVsZSRqcXVlcnkoZS5jdXJyZW50VGFyZ2V0KSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzkoZiwgZl8wKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzEwKGYsIGZfMCkge1xuICAgIFNlbnRlbmNlRmluZGVyX2dldEluc3RhbmNlKCkuZmluZFNlbnRlbmNlKCk7XG4gICAgcmV0dXJuIFVuaXQ7XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTEoZSwgZikge1xuICAgIGlmIChlcXVhbHMoZS5rZXlDb2RlLCAxMykpIHtcbiAgICAgIFNlbnRlbmNlRmluZGVyX2dldEluc3RhbmNlKCkuZmluZFNlbnRlbmNlKCk7XG4gICAgfVxuICAgIHJldHVybiBVbml0O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhJGxhbWJkYShjbG9zdXJlJGtleXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBjbG9zdXJlJGtleXM7XG4gICAgICB2YXIga2V5ID0gbnVtYmVyVG9JbnQoZS5rZXlDb2RlKTtcbiAgICAgICRyZWNlaXZlci5wdXRfeHd6YzlwJChrZXksIHRydWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYSRsYW1iZGFfMChjbG9zdXJlJGtleXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChjbG9zdXJlJGtleXMuZ2V0XzExcmIkKDE4KSA9PT0gdHJ1ZSAmJiBjbG9zdXJlJGtleXMuZ2V0XzExcmIkKDY5KSA9PT0gdHJ1ZSkge1xuICAgICAgICAkbW9kdWxlJGpxdWVyeSgnLnNwZWMtbG9jYXRpb24tc2VhcmNoIGlucHV0W25hbWU9XCJzcGVjLXNlbnRlbmNlLWxvY2F0aW9uXCJdJykuZm9jdXMoKS5zZWxlY3QoKTtcbiAgICAgIH1cbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBjbG9zdXJlJGtleXM7XG4gICAgICB2YXIga2V5ID0gbnVtYmVyVG9JbnQoZS5rZXlDb2RlKTtcbiAgICAgICRyZWNlaXZlci5wdXRfeHd6YzlwJChrZXksIGZhbHNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTIoZiwgZl8wKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Nob3dNYXJrdXAnLCAndHJ1ZScpO1xuICAgIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zaG93TWFya3VwKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzEzKGYsIGZfMCkge1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzaG93TWFya3VwJyk7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xNChlLCBmKSB7XG4gICAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5vbkhlYWRlckdldExpbmtDbGlja19saml5OHokKCRtb2R1bGUkanF1ZXJ5KGUuY3VycmVudFRhcmdldCkpO1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIGZ1bmN0aW9uIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBzcGVjVGVzdHNMb2FkZXIgPSBuZXcgU3BlY1Rlc3RzTG9hZGVyKEdpdGh1YlRlc3RzTG9hZGVyVHlwZSRVU0lOR19URVNUU19NQVBfRklMRV9nZXRJbnN0YW5jZSgpKTtcbiAgICB2YXIgc3BlY1Rlc3RzVmlld2VyID0gbmV3IFNwZWNUZXN0c1ZpZXdlcigpO1xuICAgIHZhciBzaG91bGRCZVNob3dlZE1hcmt1cCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzaG93TWFya3VwJykgIT0gbnVsbDtcbiAgICB2YXIgc2VudGVuY2VUb0JlSGlnaGxpZ2h0ZWQgPSBnZXRfc2VhcmNoTWFwKHdpbmRvdy5sb2NhdGlvbikuZ2V0XzExcmIkKCdzZW50ZW5jZScpO1xuICAgIHZhciBwYXJhZ3JhcGhUb0JlSGlnaGxpZ2h0ZWQgPSBnZXRfc2VhcmNoTWFwKHdpbmRvdy5sb2NhdGlvbikuZ2V0XzExcmIkKCdwYXJhZ3JhcGgnKTtcbiAgICB2YXIgc2VjdGlvblRvQmVIaWdobGlnaHRlZCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgICRtb2R1bGUkanF1ZXJ5KCdoMywgaDQsIGg1JykuZWFjaChydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhKTtcbiAgICBpZiAoc2hvdWxkQmVTaG93ZWRNYXJrdXApIHtcbiAgICAgIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zaG93TWFya3VwKCk7XG4gICAgfVxuICAgIGlmIChzZW50ZW5jZVRvQmVIaWdobGlnaHRlZCAhPSBudWxsKSB7XG4gICAgICBTcGVjUGxhY2VIaWdobGlnaHRlcl9nZXRJbnN0YW5jZSgpLmhpZ2hsaWdodFNlbnRlbmNlXzYxenBvZSQoc2VudGVuY2VUb0JlSGlnaGxpZ2h0ZWQpO1xuICAgIH1cbiAgICBpZiAocGFyYWdyYXBoVG9CZUhpZ2hsaWdodGVkICE9IG51bGwpIHtcbiAgICAgIFNwZWNQbGFjZUhpZ2hsaWdodGVyX2dldEluc3RhbmNlKCkuaGlnaGxpZ2h0UGFyYWdyYXBoXzYxenBvZSQocGFyYWdyYXBoVG9CZUhpZ2hsaWdodGVkKTtcbiAgICB9XG4gICAgaWYgKHNlY3Rpb25Ub0JlSGlnaGxpZ2h0ZWQubGVuZ3RoID4gMCkge1xuICAgICAgU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2UoKS5oaWdobGlnaHRTZWN0aW9uXzYxenBvZSQoc2VjdGlvblRvQmVIaWdobGlnaHRlZC5zdWJzdHJpbmcoMSkpO1xuICAgIH1cbiAgICBpZiAoKHRtcCRfMCA9ICh0bXAkID0gZG9jdW1lbnQuYm9keSkgIT0gbnVsbCA/ICRtb2R1bGUkanF1ZXJ5KHRtcCQpIDogbnVsbCkgIT0gbnVsbCkge1xuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICcuc2VudGVuY2UuY292ZXJlZCcsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhKHNwZWNUZXN0c1ZpZXdlcikpO1xuICAgICAgdG1wJF8wLm9uKCdjaGFuZ2UnLCBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtYXJlYSddXCIsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzAoc3BlY1Rlc3RzVmlld2VyKSk7XG4gICAgICB0bXAkXzAub24oJ2NoYW5nZScsIFwiLnRlc3QtY292ZXJhZ2UtdmlldyBzZWxlY3RbbmFtZT0ndGVzdC10eXBlJ11cIiwgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMShzcGVjVGVzdHNWaWV3ZXIpKTtcbiAgICAgIHRtcCRfMC5vbignY2hhbmdlJywgXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LW51bWJlciddXCIsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzIoc3BlY1Rlc3RzVmlld2VyKSk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5wcmV2LXRlc3RjYXNlJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMyhzcGVjVGVzdHNWaWV3ZXIpKTtcbiAgICAgIHRtcCRfMC5vbignY2xpY2snLCAnLm5leHQtdGVzdGNhc2UnLCBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV80KHNwZWNUZXN0c1ZpZXdlcikpO1xuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICcubG9hZC10ZXN0cycsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzUoc3BlY1Rlc3RzTG9hZGVyKSk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5zZXQtYnJhbmNoJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfNik7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5udW1iZXItaW5mb1tkYXRhLXBhdGhdJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfNyk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5wYXJhZ3JhcGgtbGluaycsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzgpO1xuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICcubG9hZGVkLXRlc3RzJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfOSk7XG4gICAgICB0bXAkXzAucHJlcGVuZChmb3JtYXQoU2VudGVuY2VGaW5kZXJfZ2V0SW5zdGFuY2UoKS5GSU5ERVJfQkFSX0hUTUwsIChzaG91bGRCZVNob3dlZE1hcmt1cCA/IFsnaGlkZScsICdIaWRlJ10gOiBbJ3Nob3cnLCAnU2hvdyddKS5zbGljZSgpKSk7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5zcGVjLXNlbnRlbmNlLWZpbmQnLCBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xMCk7XG4gICAgICB0bXAkXzAub24oJ2tleXVwJywgJy5zcGVjLWxvY2F0aW9uLXNlYXJjaCBpbnB1dFtuYW1lPVwic3BlYy1zZW50ZW5jZS1sb2NhdGlvblwiXScsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzExKTtcbiAgICAgIHZhciBrZXlzID0gbXV0YWJsZU1hcE9mKFt0bygxOCwgZmFsc2UpLCB0byg2OSwgZmFsc2UpXSk7XG4gICAgICAkbW9kdWxlJGpxdWVyeShkb2N1bWVudCkua2V5ZG93bihydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYSRsYW1iZGEoa2V5cykpLmtleXVwKHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhJGxhbWJkYV8wKGtleXMpKTtcbiAgICAgIHRtcCRfMC5vbignY2xpY2snLCAnLnNob3ctbWFya3VwLWxpbmsnLCBydW5BZnRlckRvY3VtZW50UmVhZHkkbGFtYmRhJGxhbWJkYV8xMik7XG4gICAgICB0bXAkXzAub24oJ2NsaWNrJywgJy5oaWRlLW1hcmt1cC1saW5rJywgcnVuQWZ0ZXJEb2N1bWVudFJlYWR5JGxhbWJkYSRsYW1iZGFfMTMpO1xuICAgICAgdG1wJF8wLm9uKCdjbGljaycsICdoMiwgaDMsIGg0LCBoNScsIHJ1bkFmdGVyRG9jdW1lbnRSZWFkeSRsYW1iZGEkbGFtYmRhXzE0KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWFpbiRsYW1iZGEoaXQpIHtcbiAgICBydW5BZnRlckRvY3VtZW50UmVhZHkoKTtcbiAgICByZXR1cm4gVW5pdDtcbiAgfVxuICBmdW5jdGlvbiBtYWluKCkge1xuICAgICRtb2R1bGUkanF1ZXJ5KGRvY3VtZW50KS5yZWFkeShtYWluJGxhbWJkYSk7XG4gIH1cbiAgZnVuY3Rpb24gVGVzdEFyZWEocGF0aCwgY29udGVudCwgY29udGVudFBhdGgsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIHRoaXMuY29udGVudFBhdGggPSBjb250ZW50UGF0aDtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgdGhpcy5saXN0T2ZUZXN0cyA9IEFycmF5TGlzdF9pbml0KCk7XG4gIH1cbiAgVGVzdEFyZWEucHJvdG90eXBlLmdldFRlc3RzQnlQYXJhZ3JhcGhOdW1iZXJfNjF6cG9lJCA9IGZ1bmN0aW9uIChwYXJhZ3JhcGhOdW1iZXIpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5saXN0T2ZUZXN0cztcbiAgICB2YXIgZGVzdGluYXRpb24gPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICBpZiAoZXF1YWxzKGVsZW1lbnQudGVzdFBhdGgucGFyYWdyYXBoLCBwYXJhZ3JhcGhOdW1iZXIpKVxuICAgICAgICBkZXN0aW5hdGlvbi5hZGRfMTFyYiQoZWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgfTtcbiAgVGVzdEFyZWEucHJvdG90eXBlLmdldFRlc3RzQnlTZW50ZW5jZU51bWJlcl9wdWo3ZjQkID0gZnVuY3Rpb24gKHBhcmFncmFwaE51bWJlciwgc2VudGVuY2VOdW1iZXIpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5saXN0T2ZUZXN0cztcbiAgICB2YXIgZGVzdGluYXRpb24gPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICBpZiAoZXF1YWxzKGVsZW1lbnQudGVzdFBhdGgucGFyYWdyYXBoLCBwYXJhZ3JhcGhOdW1iZXIpICYmIGVxdWFscyhlbGVtZW50LnRlc3RQYXRoLnRlc3RTZW50ZW5jZSwgc2VudGVuY2VOdW1iZXIpKVxuICAgICAgICBkZXN0aW5hdGlvbi5hZGRfMTFyYiQoZWxlbWVudCk7XG4gICAgfVxuICAgIHZhciB0ZXN0cyA9IGRlc3RpbmF0aW9uO1xuICAgIHZhciBkZXN0aW5hdGlvbl8wID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICB2YXIgdG1wJF8wO1xuICAgIHRtcCRfMCA9IHRlc3RzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCRfMC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50XzAgPSB0bXAkXzAubmV4dCgpO1xuICAgICAgaWYgKGVxdWFscyhlbGVtZW50XzAudGVzdFBhdGgudGVzdFR5cGUsICdwb3MnKSlcbiAgICAgICAgZGVzdGluYXRpb25fMC5hZGRfMTFyYiQoZWxlbWVudF8wKTtcbiAgICB9XG4gICAgdmFyIHBvc2l0aXZlVGVzdHMgPSBkZXN0aW5hdGlvbl8wO1xuICAgIHZhciBkZXN0aW5hdGlvbl8xID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICB2YXIgdG1wJF8xO1xuICAgIHRtcCRfMSA9IHRlc3RzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCRfMS5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50XzEgPSB0bXAkXzEubmV4dCgpO1xuICAgICAgaWYgKGVxdWFscyhlbGVtZW50XzEudGVzdFBhdGgudGVzdFR5cGUsICduZWcnKSlcbiAgICAgICAgZGVzdGluYXRpb25fMS5hZGRfMTFyYiQoZWxlbWVudF8xKTtcbiAgICB9XG4gICAgdmFyIG5lZ2F0aXZlVGVzdHMgPSBkZXN0aW5hdGlvbl8xO1xuICAgIHJldHVybiBtYXBPZihbdG8oVGVzdFR5cGUkUE9TSVRJVkVfZ2V0SW5zdGFuY2UoKSwgcG9zaXRpdmVUZXN0cyksIHRvKFRlc3RUeXBlJE5FR0FUSVZFX2dldEluc3RhbmNlKCksIG5lZ2F0aXZlVGVzdHMpXSk7XG4gIH07XG4gIFRlc3RBcmVhLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1Rlc3RBcmVhJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBEaWFnbm9zdGljc1Rlc3RBcmVhKCkge1xuICAgIFRlc3RBcmVhLmNhbGwodGhpcywgJ2RpYWdub3N0aWNzJywgJ2NvbnRlbnQxJywgJ3BhdGgxJywgJ0Zyb250LWVuZCBkaWFnbm9zdGljcyB0ZXN0cycpO1xuICB9XG4gIERpYWdub3N0aWNzVGVzdEFyZWEuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRGlhZ25vc3RpY3NUZXN0QXJlYScsIGludGVyZmFjZXM6IFtUZXN0QXJlYV19O1xuICBmdW5jdGlvbiBDb2RlZ2VuQm94VGVzdEFyZWEoKSB7XG4gICAgVGVzdEFyZWEuY2FsbCh0aGlzLCAnY29kZWdlbi9ib3gnLCAnY29udGVudDInLCAncGF0aDInLCAnQ29kZWdlbiBib3ggdGVzdHMnKTtcbiAgfVxuICBDb2RlZ2VuQm94VGVzdEFyZWEuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ29kZWdlbkJveFRlc3RBcmVhJywgaW50ZXJmYWNlczogW1Rlc3RBcmVhXX07XG4gIHZhciBJbXBsZW1lbnRhdGlvblRlc3RQYXJzZXIkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3BlY1Rlc3RzTG9hZGVyKGxvYWRUeXBlKSB7XG4gICAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMubG9hZGVyXzAgPSBuZXcgTG9hZGVyQnlUZXN0c01hcEZpbGUoKTtcbiAgICB0aGlzLnNlY3Rpb25QcmV2TG9hZGVkX3R6NzU2diRfMCA9IHRoaXMuc2VjdGlvblByZXZMb2FkZWRfdHo3NTZ2JF8wO1xuICAgIHRoaXMub3JpZ2luYWxTZWN0aW9uTmFtZV8wID0gbnVsbDtcbiAgICB0aGlzLm51bWJlclNlY3Rpb25zTG9hZGVkXzAgPSAwO1xuICB9XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24oKSB7XG4gICAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5FWENFUFRFRF9TRUxFQ1RPUlNfMCA9ICcuZ3JhbW1hci1ydWxlJztcbiAgICB0aGlzLnBhcmFncmFwaFNlbGVjdG9yXzAgPSBqb2luVG9TdHJpbmcobGlzdE9mKFsnLnBhcmFncmFwaCcsICdETCcsICdVTCcsICdPTCddKSwgJywnKTtcbiAgICB0aGlzLnNlY3Rpb25UYWdOYW1lc18wID0gbGlzdE9mKFsnSDEnLCAnSDInLCAnSDMnLCAnSDQnLCAnSDUnXSk7XG4gICAgdGhpcy5MT0FESU5HX0lDT05fUEFUSF8wID0gJy4vcmVzb3VyY2VzL2ltYWdlcy9sb2FkaW5nLmdpZic7XG4gICAgdGhpcy5MT0FESU5HX0lDT05fSFRNTF8wID0gJzxpbWcgc3JjPVwiLi9yZXNvdXJjZXMvaW1hZ2VzL2xvYWRpbmcuZ2lmXCIgLz4nO1xuICAgIHRoaXMuU0VUX0JSQU5DSF9JQ09OXzAgPSAnLi9yZXNvdXJjZXMvaW1hZ2VzL3NldC1icmFuY2gucG5nJztcbiAgICB0aGlzLkxPQURfVEVTVFNfVEVYVF8wID0gJ0xvYWQgdGVzdHMnO1xuICAgIHRoaXMubm90TG9hZGVkVGVzdHNUZXh0XzAgPSAnVGVzdHMgZm9yICcgKyAnXCInICsgJ3sxfScgKyAnXCInICsgJyBpbiAnICsgJ1wiJyArIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldEJyYW5jaCgpICsgJ1wiJyArIFwiIGJyYW5jaCBhcmVuJ3QgeWV0IHdyaXR0ZW4uXCI7XG4gICAgdGhpcy5TRUNUSU9OX1BBVEhfU0VQQVJBVE9SID0gJywgJztcbiAgfVxuICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5pbnNlcnRMb2FkSWNvbl9saml5OHokID0gZnVuY3Rpb24gKGhlYWRlckVsZW1lbnQpIHtcbiAgICBoZWFkZXJFbGVtZW50LmFwcGVuZCgnXFxuJyArICcgICAgICAgICAgICAgICAgPGEgaHJlZj0nICsgJ1wiJyArICcjJyArICdcIicgKyAnIGNsYXNzPScgKyAnXCInICsgJ3NldC1icmFuY2gnICsgJ1wiJyArICcgdGl0bGU9JyArICdcIicgKyAnVGhlIGNvbXBpbGVyIHJlcG8gYnJhbmNoIGZyb20gd2hpY2ggdGhlIHRlc3RzIHdpbGwgYmUgdGFrZW4nICsgJ1wiJyArICc+PGltZyBzcmM9JyArICdcIicgKyB0aGlzLlNFVF9CUkFOQ0hfSUNPTl8wICsgJ1wiJyArICcgLz48XFwvYT48XFwvc3Bhbj4nICsgJ1xcbicgKyAnICAgICAgICAgICAgICAgIDxhIGhyZWY9JyArICdcIicgKyAnIycgKyAnXCInICsgJyBkYXRhLWlkPScgKyAnXCInICsgaGVhZGVyRWxlbWVudC5hdHRyKCdpZCcpICsgJ1wiJyArICcgZGF0YS10eXBlPScgKyAnXCInICsgaGVhZGVyRWxlbWVudC5wcm9wKCd0YWdOYW1lJykudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpICsgJ1wiJyArICcgY2xhc3M9JyArICdcIicgKyAnbG9hZC10ZXN0cycgKyAnXCInICsgJyB0aXRsZT0nICsgJ1wiJyArICdTaG93IHRlc3RzIGNvdmVyYWdlJyArICdcIicgKyAnPkxvYWQgdGVzdHM8XFwvYT4nICsgJ1xcbicgKyAnICAgICAgICAgICAgJyk7XG4gIH07XG4gIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmdldFBhcmFncmFwaHNJbmZvX2xqaXk4eiQgPSBmdW5jdGlvbiAoc2VjdGlvbkVsZW1lbnQpIHtcbiAgICB2YXIgJHJlY2VpdmVyID0gc2VjdGlvbkVsZW1lbnQuZ2V0KCk7XG4gICAgaWYgKCRyZWNlaXZlci5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB2YXIgbmV4dFNpYmxpbmcgPSAkcmVjZWl2ZXJbMF0ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIHZhciBzZWN0aW9uTmFtZSA9IHNlY3Rpb25FbGVtZW50LmF0dHIoJ2lkJyk7XG4gICAgdmFyIHBhcmFncmFwaHNNYXAgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHZhciBwYXJhZ3JhcGhDb3VudGVyID0gMTtcbiAgICBpZiAoc2VjdGlvbk5hbWUubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgd2hpbGUgKG5leHRTaWJsaW5nICE9IG51bGwgJiYgdGhpcy5zZWN0aW9uVGFnTmFtZXNfMC5pbmRleE9mXzExcmIkKG5leHRTaWJsaW5nLnRhZ05hbWUpID09PSAtMSkge1xuICAgICAgdmFyIGlzUGFyYWdyYXBoID0gbmV4dFNpYmxpbmcubWF0Y2hlcyh0aGlzLnBhcmFncmFwaFNlbGVjdG9yXzApO1xuICAgICAgdmFyIGNoaWxkUGFyYWdyYXBoID0gbmV4dFNpYmxpbmcucXVlcnlTZWxlY3RvcignLnBhcmFncmFwaCcpO1xuICAgICAgaWYgKChpc1BhcmFncmFwaCB8fCBjaGlsZFBhcmFncmFwaCAhPSBudWxsKSAmJiAhJG1vZHVsZSRqcXVlcnkobmV4dFNpYmxpbmcpLmlzKHRoaXMuRVhDRVBURURfU0VMRUNUT1JTXzApKSB7XG4gICAgICAgIHZhciBuZXh0UGFyYWdyYXBoID0gY2hpbGRQYXJhZ3JhcGggIT0gbnVsbCA/IGNoaWxkUGFyYWdyYXBoIDogbmV4dFNpYmxpbmc7XG4gICAgICAgIHBhcmFncmFwaHNNYXAuYWRkXzExcmIkKG1hcE9mKFt0bygncGFyYWdyYXBoRWxlbWVudCcsIG5leHRQYXJhZ3JhcGgpLCB0bygnc2VudGVuY2VDb3VudCcsICRtb2R1bGUkanF1ZXJ5KG5leHRQYXJhZ3JhcGgpLmZpbmQoJy5zZW50ZW5jZScpLmxlbmd0aC50b1N0cmluZygpKV0pKTtcbiAgICAgICAgcGFyYWdyYXBoQ291bnRlciA9IHBhcmFncmFwaENvdW50ZXIgKyAxIHwgMDtcbiAgICAgIH1cbiAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gcGFyYWdyYXBoc01hcDtcbiAgfTtcbiAgZnVuY3Rpb24gU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbiRzaG93TWFya3VwJGxhbWJkYSh0aGlzJFNwZWNUZXN0c0xvYWRlciQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIHNlY3Rpb24pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHNlY3Rpb25UYWdOYW1lID0gc2VjdGlvbi50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgc2VjdGlvbkVsZW1lbnQgPSAkbW9kdWxlJGpxdWVyeShzZWN0aW9uKTtcbiAgICAgIHRtcCQgPSB0aGlzJFNwZWNUZXN0c0xvYWRlciQuZ2V0UGFyYWdyYXBoc0luZm9fbGppeTh6JChzZWN0aW9uRWxlbWVudCk7XG4gICAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmFncmFwaHNJbmZvID0gdG1wJDtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBMaW5rZWRIYXNoU2V0X2luaXQoKTtcbiAgICAgIHZhciB0aGlzJFNwZWNUZXN0c0xvYWRlciRfMCA9IHRoaXMkU3BlY1Rlc3RzTG9hZGVyJDtcbiAgICAgIGlmIChlcXVhbHMoc2VjdGlvblRhZ05hbWUsICdoMycpIHx8IGVxdWFscyhzZWN0aW9uVGFnTmFtZSwgJ2g0JykgfHwgZXF1YWxzKHNlY3Rpb25UYWdOYW1lLCAnaDUnKSkge1xuICAgICAgICAkcmVjZWl2ZXIuYWRkXzExcmIkKHRoaXMkU3BlY1Rlc3RzTG9hZGVyJF8wLmdldFBhcmVudFNlY3Rpb25OYW1lX2VrbW1yOSQoc2VjdGlvbkVsZW1lbnQsICdoMicpKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcXVhbHMoc2VjdGlvblRhZ05hbWUsICdoNCcpIHx8IGVxdWFscyhzZWN0aW9uVGFnTmFtZSwgJ2g1JykpIHtcbiAgICAgICAgJHJlY2VpdmVyLmFkZF8xMXJiJCh0aGlzJFNwZWNUZXN0c0xvYWRlciRfMC5nZXRQYXJlbnRTZWN0aW9uTmFtZV9la21tcjkkKHNlY3Rpb25FbGVtZW50LCAnaDMnKSk7XG4gICAgICB9XG4gICAgICBpZiAoZXF1YWxzKHNlY3Rpb25UYWdOYW1lLCAnaDUnKSkge1xuICAgICAgICAkcmVjZWl2ZXIuYWRkXzExcmIkKHRoaXMkU3BlY1Rlc3RzTG9hZGVyJF8wLmdldFBhcmVudFNlY3Rpb25OYW1lX2VrbW1yOSQoc2VjdGlvbkVsZW1lbnQsICdoNCcpKTtcbiAgICAgIH1cbiAgICAgICRyZWNlaXZlci5hZGRfMTFyYiQoc2VjdGlvbkVsZW1lbnQuYXR0cignaWQnKSk7XG4gICAgICB2YXIgc2VjdGlvbnNQYXRoID0gJHJlY2VpdmVyO1xuICAgICAgcmV0dXJuIE1hcmtVcF9nZXRJbnN0YW5jZSgpLnNob3dNYXJrVXBGb3JQYXJhZ3JhcGhzX3c2ZzlwNyQocGFyYWdyYXBoc0luZm8sIGpvaW5Ub1N0cmluZyhzZWN0aW9uc1BhdGgsICcsICcpKSwgVW5pdDtcbiAgICB9O1xuICB9XG4gIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLnNob3dNYXJrdXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgJG1vZHVsZSRqcXVlcnkoJ2gyLCBoMywgaDQsIGg1JykuZWFjaChTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uJHNob3dNYXJrdXAkbGFtYmRhKHRoaXMpKTtcbiAgfTtcbiAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuZ2V0TmVzdGVkU2VjdGlvbnNfMCA9IGZ1bmN0aW9uIChzZWN0aW9uRWxlbWVudCkge1xuICAgIHZhciBwbGFjZUN1cnJlbnRTZWN0aW9uTGV2ZWwgPSB0aGlzLnNlY3Rpb25UYWdOYW1lc18wLmluZGV4T2ZfMTFyYiQoc2VjdGlvbkVsZW1lbnQucHJvcCgndGFnTmFtZScpLnRvU3RyaW5nKCkudG9VcHBlckNhc2UoKSk7XG4gICAgdmFyIG90aGVyU2VjdGlvblRhZ05hbWVzID0gc2xpY2UodGhpcy5zZWN0aW9uVGFnTmFtZXNfMCwgbmV3IEludFJhbmdlKDAsIHBsYWNlQ3VycmVudFNlY3Rpb25MZXZlbCkpO1xuICAgIHZhciBuZXN0ZWRTZWN0aW9uVGFnTmFtZXMgPSBzbGljZSh0aGlzLnNlY3Rpb25UYWdOYW1lc18wLCB1bnRpbChwbGFjZUN1cnJlbnRTZWN0aW9uTGV2ZWwsIHRoaXMuc2VjdGlvblRhZ05hbWVzXzAuc2l6ZSkpO1xuICAgIHZhciBuZXh0U2libGluZyA9IHNlY3Rpb25FbGVtZW50LmdldCgpWzBdLm5leHRFbGVtZW50U2libGluZztcbiAgICB2YXIgbmVzdGVkU2VjdGlvbklkcyA9IEFycmF5TGlzdF9pbml0KCk7XG4gICAgd2hpbGUgKG5leHRTaWJsaW5nICE9IG51bGwgJiYgb3RoZXJTZWN0aW9uVGFnTmFtZXMuaW5kZXhPZl8xMXJiJChuZXh0U2libGluZy50YWdOYW1lKSA9PT0gLTEpIHtcbiAgICAgIGlmIChuZXN0ZWRTZWN0aW9uVGFnTmFtZXMuaW5kZXhPZl8xMXJiJChuZXh0U2libGluZy50YWdOYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgbmVzdGVkU2VjdGlvbklkcy5hZGRfMTFyYiQoZW5zdXJlTm90TnVsbChuZXh0U2libGluZy5nZXRBdHRyaWJ1dGUoJ2lkJykpKTtcbiAgICAgIH1cbiAgICAgIG5leHRTaWJsaW5nID0gbmV4dFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gbmVzdGVkU2VjdGlvbklkcztcbiAgfTtcbiAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUucGFyc2VUZXN0RmlsZXNfbzdycGkyJCA9IGZ1bmN0aW9uIChzZWN0aW9uVGVzdFNldCwgY3VycmVudFNlY3Rpb24sIHNlY3Rpb25zUGF0aCwgcGFyYWdyYXBoc0luZm8pIHtcbiAgICBwcmludGxuKCdwYXJzZVRlc3RGaWxlcyEhJyk7XG4gICAgdmFyIHBhdGhQcmVmaXggPSBqb2luVG9TdHJpbmcoc2VjdGlvbnNQYXRoLCB0aGlzLlNFQ1RJT05fUEFUSF9TRVBBUkFUT1IpICsgdGhpcy5TRUNUSU9OX1BBVEhfU0VQQVJBVE9SICsgY3VycmVudFNlY3Rpb247XG4gICAgVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyX2dldEluc3RhbmNlKCkuc2hvd0NvdmVyYWdlT2ZQYXJhZ3JhcGhzX2FuZDd2aiQocGFyYWdyYXBoc0luZm8sIHNlY3Rpb25UZXN0U2V0LCBwYXRoUHJlZml4KTtcbiAgfTtcbiAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuZ2V0UGFyZW50U2VjdGlvbk5hbWVfZWttbXI5JCA9IGZ1bmN0aW9uIChlbGVtZW50LCB0eXBlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQucHJldkFsbCh0eXBlKS5maXJzdCgpLmF0dHIoJ2lkJyk7XG4gIH07XG4gIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLm9uU2V0QnJhbmNoSWNvbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBjdXJyZW50QnJhbmNoID0gKHRtcCQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NwZWMtdGVzdHMtYnJhbmNoJykpICE9IG51bGwgPyB0bXAkIDogR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuREVGQVVMVF9CUkFOQ0g7XG4gICAgdmFyIG5ld0JyYW5jaCA9IHdpbmRvdy5wcm9tcHQoJ1NwZWNpZnkgdGhlIEtvdGxpbiBjb21waWxlciByZXBvIGJyYW5jaCBmcm9tIHdoaWNoIHRoZSBzcGVjIHRlc3RzIHdpbGwgYmUgdGFrZW46JywgY3VycmVudEJyYW5jaCk7XG4gICAgaWYgKG5ld0JyYW5jaCAhPSBudWxsICYmICFlcXVhbHMobmV3QnJhbmNoLCBjdXJyZW50QnJhbmNoKSkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzcGVjLXRlc3RzLWJyYW5jaCcsIG5ld0JyYW5jaCk7XG4gICAgfVxuICB9O1xuICBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNwZWNUZXN0c0xvYWRlci5wcm90b3R5cGUsICdzZWN0aW9uUHJldkxvYWRlZF8wJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNlY3Rpb25QcmV2TG9hZGVkX3R6NzU2diRfMCA9PSBudWxsKVxuICAgICAgcmV0dXJuIHRocm93VVBBRSgnc2VjdGlvblByZXZMb2FkZWQnKTtcbiAgICByZXR1cm4gdGhpcy5zZWN0aW9uUHJldkxvYWRlZF90ejc1NnYkXzA7XG4gIH0sIHNldDogZnVuY3Rpb24gKHNlY3Rpb25QcmV2TG9hZGVkKSB7XG4gICAgdGhpcy5zZWN0aW9uUHJldkxvYWRlZF90ejc1NnYkXzAgPSBzZWN0aW9uUHJldkxvYWRlZDtcbiAgfX0pO1xuICBmdW5jdGlvbiBTcGVjVGVzdHNMb2FkZXIkb25UZXN0c0xvYWRpbmdMaW5rQ2xpY2skbGFtYmRhKGNsb3N1cmUkcGFyYWdyYXBoc0luZm8sIGNsb3N1cmUkc2VjdGlvbk5hbWUsIGNsb3N1cmUkc2VjdGlvbnNQYXRoLCBjbG9zdXJlJGxpbmssIHRoaXMkU3BlY1Rlc3RzTG9hZGVyLCBjbG9zdXJlJHNlY3Rpb24pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNlY3Rpb25UZXN0U2V0KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBzZWN0aW9uVGVzdFNldC5sb2FkZWRUZXN0QXJlYXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgICBwcmludGxuKCd0ZXN0QXJlYT0nICsgZWxlbWVudCk7XG4gICAgICAgIHZhciBmaWx0ZXJlZFRlc3RzID0gZWxlbWVudC5nZXRUZXN0c0J5UGFyYWdyYXBoTnVtYmVyXzYxenBvZSQoKDEpLnRvU3RyaW5nKCkpO1xuICAgICAgICBwcmludGxuKCdmaWx0ZXJlZCA9ICcgKyB0b1N0cmluZyhmaWx0ZXJlZFRlc3RzLnNpemUpKTtcbiAgICAgICAgdmFyIHRtcCRfMDtcbiAgICAgICAgdG1wJF8wID0gZmlsdGVyZWRUZXN0cy5pdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50XzAgPSB0bXAkXzAubmV4dCgpO1xuICAgICAgICAgIHByaW50bG4oJ2ZpbHRlcmVkIHRlc3QgcGF0aD0nICsgZWxlbWVudF8wLnRlc3RQYXRoLnRvU3RyaW5nKCkgKyAnXFxudGVzdC50ZXN0RWxlbWVudEluZm8ucGF0aD0nICsgZWxlbWVudF8wLnRlc3RFbGVtZW50SW5mby5wYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNsb3N1cmUkcGFyYWdyYXBoc0luZm8gIT0gbnVsbClcbiAgICAgICAgU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnBhcnNlVGVzdEZpbGVzX283cnBpMiQoc2VjdGlvblRlc3RTZXQsIGNsb3N1cmUkc2VjdGlvbk5hbWUsIGNsb3N1cmUkc2VjdGlvbnNQYXRoLCBjbG9zdXJlJHBhcmFncmFwaHNJbmZvKTtcbiAgICAgIGNsb3N1cmUkbGluay5odG1sKCdSZWxvYWQgdGVzdHMnKTtcbiAgICAgIGlmIChlcXVhbHModGhpcyRTcGVjVGVzdHNMb2FkZXIub3JpZ2luYWxTZWN0aW9uTmFtZV8wLCBjbG9zdXJlJHNlY3Rpb25OYW1lKSkge1xuICAgICAgICBjbG9zdXJlJHNlY3Rpb24ubmV4dEFsbCgnLnBhcmFncmFwaC53aXRoLXRlc3RzJykuZmlyc3QoKS5nZXQoKVswXS5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICB0aGlzJFNwZWNUZXN0c0xvYWRlci5vcmlnaW5hbFNlY3Rpb25OYW1lXzAgPSBudWxsO1xuICAgICAgICB0aGlzJFNwZWNUZXN0c0xvYWRlci5zZWN0aW9uUHJldkxvYWRlZF8wID0gY2xvc3VyZSRzZWN0aW9uTmFtZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gU3BlY1Rlc3RzTG9hZGVyJG9uVGVzdHNMb2FkaW5nTGlua0NsaWNrJGxhbWJkYV8wKHRoaXMkU3BlY1Rlc3RzTG9hZGVyLCBjbG9zdXJlJHNlY3Rpb25OYW1lLCBjbG9zdXJlJGxpbmspIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSB0aGlzJFNwZWNUZXN0c0xvYWRlci5udW1iZXJTZWN0aW9uc0xvYWRlZF8wO1xuICAgICAgdGhpcyRTcGVjVGVzdHNMb2FkZXIubnVtYmVyU2VjdGlvbnNMb2FkZWRfMCA9IHRtcCQgLSAxIHwgMDtcbiAgICAgIGlmIChlcXVhbHModGhpcyRTcGVjVGVzdHNMb2FkZXIub3JpZ2luYWxTZWN0aW9uTmFtZV8wLCBjbG9zdXJlJHNlY3Rpb25OYW1lKSkge1xuICAgICAgICB0aGlzJFNwZWNUZXN0c0xvYWRlci5vcmlnaW5hbFNlY3Rpb25OYW1lXzAgPSBudWxsO1xuICAgICAgICB0aGlzJFNwZWNUZXN0c0xvYWRlci5zZWN0aW9uUHJldkxvYWRlZF8wID0gY2xvc3VyZSRzZWN0aW9uTmFtZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzJFNwZWNUZXN0c0xvYWRlci5udW1iZXJTZWN0aW9uc0xvYWRlZF8wID09PSAwKSB7XG4gICAgICAgIHdpbmRvdy5hbGVydChmb3JtYXQoU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLm5vdExvYWRlZFRlc3RzVGV4dF8wLCBbdGhpcyRTcGVjVGVzdHNMb2FkZXIuc2VjdGlvblByZXZMb2FkZWRfMF0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjbG9zdXJlJGxpbmsuaHRtbChTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuTE9BRF9URVNUU19URVhUXzApO1xuICAgIH07XG4gIH1cbiAgU3BlY1Rlc3RzTG9hZGVyLnByb3RvdHlwZS5vblRlc3RzTG9hZGluZ0xpbmtDbGlja19saml5OHokID0gZnVuY3Rpb24gKGxpbmspIHtcbiAgICB2YXIgc2VjdGlvbiA9IGxpbmsucGFyZW50KCdoMywgaDQsIGg1Jyk7XG4gICAgdmFyIHBhcmFncmFwaHNJbmZvID0gU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldFBhcmFncmFwaHNJbmZvX2xqaXk4eiQoc2VjdGlvbik7XG4gICAgdmFyIG5lc3RlZFNlY3Rpb25zID0gU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldE5lc3RlZFNlY3Rpb25zXzAoc2VjdGlvbik7XG4gICAgdmFyIHNlY3Rpb25OYW1lID0gc2VjdGlvbi5hdHRyKCdpZCcpO1xuICAgIHZhciBzZWN0aW9uc1BhdGggPSBtdXRhYmxlTGlzdE9mKFtTcGVjVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZ2V0UGFyZW50U2VjdGlvbk5hbWVfZWttbXI5JChzZWN0aW9uLCAnaDInKV0pO1xuICAgIGlmICh0aGlzLm9yaWdpbmFsU2VjdGlvbk5hbWVfMCA9PSBudWxsKSB7XG4gICAgICB0aGlzLm9yaWdpbmFsU2VjdGlvbk5hbWVfMCA9IHNlY3Rpb25OYW1lO1xuICAgICAgdGhpcy5udW1iZXJTZWN0aW9uc0xvYWRlZF8wID0gMTtcbiAgICB9XG4gICAgbGluay5odG1sKFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5MT0FESU5HX0lDT05fSFRNTF8wKTtcbiAgICBpZiAoZXF1YWxzKGxpbmsuZGF0YSgndHlwZScpLCAnaDQnKSB8fCBlcXVhbHMobGluay5kYXRhKCd0eXBlJyksICdoNScpKSB7XG4gICAgICBzZWN0aW9uc1BhdGguYWRkXzExcmIkKFNwZWNUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5nZXRQYXJlbnRTZWN0aW9uTmFtZV9la21tcjkkKHNlY3Rpb24sICdoMycpKTtcbiAgICB9XG4gICAgaWYgKGVxdWFscyhsaW5rLmRhdGEoJ3R5cGUnKSwgJ2g1JykpIHtcbiAgICAgIHNlY3Rpb25zUGF0aC5hZGRfMTFyYiQoU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmdldFBhcmVudFNlY3Rpb25OYW1lX2VrbW1yOSQoc2VjdGlvbiwgJ2g0JykpO1xuICAgIH1cbiAgICB0aGlzLmxvYWRlcl8wLmxvYWRUZXN0RmlsZXNGb3JTZWN0aW9uQnlUZXN0TWFwc05ld184cW16NmskKHNlY3Rpb25OYW1lLCBzZWN0aW9uc1BhdGgsIFNwZWNDb25maWckQ29tcGFuaW9uX2dldEluc3RhbmNlKCkudGVzdEFyZWFzVG9Mb2FkKS50aGVuKFNwZWNUZXN0c0xvYWRlciRvblRlc3RzTG9hZGluZ0xpbmtDbGljayRsYW1iZGEocGFyYWdyYXBoc0luZm8sIHNlY3Rpb25OYW1lLCBzZWN0aW9uc1BhdGgsIGxpbmssIHRoaXMsIHNlY3Rpb24pKS5jYXRjaChTcGVjVGVzdHNMb2FkZXIkb25UZXN0c0xvYWRpbmdMaW5rQ2xpY2skbGFtYmRhXzAodGhpcywgc2VjdGlvbk5hbWUsIGxpbmspKTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gbmVzdGVkU2VjdGlvbnMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICB0aGlzLm51bWJlclNlY3Rpb25zTG9hZGVkXzAgPSB0aGlzLm51bWJlclNlY3Rpb25zTG9hZGVkXzAgKyAxIHwgMDtcbiAgICAgICRtb2R1bGUkanF1ZXJ5KCcjJyArIHJlcGxhY2UoZWxlbWVudCwgJy4nLCAnXFxcXFxcXFwuJykgKyAnIC5sb2FkLXRlc3RzJykuY2xpY2soKTtcbiAgICB9XG4gIH07XG4gIFNwZWNUZXN0c0xvYWRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTcGVjVGVzdHNMb2FkZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBTcGVjVGVzdHNQYXJzZXJfaW5zdGFuY2UgPSBudWxsO1xuICB2YXIgS290bGluUGxheWdyb3VuZDtcbiAgZnVuY3Rpb24gTmF2aWdhdGlvblR5cGUobmFtZSwgb3JkaW5hbCkge1xuICAgIEVudW0uY2FsbCh0aGlzKTtcbiAgICB0aGlzLm5hbWUkID0gbmFtZTtcbiAgICB0aGlzLm9yZGluYWwkID0gb3JkaW5hbDtcbiAgfVxuICBmdW5jdGlvbiBOYXZpZ2F0aW9uVHlwZV9pbml0RmllbGRzKCkge1xuICAgIE5hdmlnYXRpb25UeXBlX2luaXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBOYXZpZ2F0aW9uVHlwZSRQUkVWX2luc3RhbmNlID0gbmV3IE5hdmlnYXRpb25UeXBlKCdQUkVWJywgMCk7XG4gICAgTmF2aWdhdGlvblR5cGUkTkVYVF9pbnN0YW5jZSA9IG5ldyBOYXZpZ2F0aW9uVHlwZSgnTkVYVCcsIDEpO1xuICB9XG4gIHZhciBOYXZpZ2F0aW9uVHlwZSRQUkVWX2luc3RhbmNlO1xuICBmdW5jdGlvbiBOYXZpZ2F0aW9uVHlwZSRQUkVWX2dldEluc3RhbmNlKCkge1xuICAgIE5hdmlnYXRpb25UeXBlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gTmF2aWdhdGlvblR5cGUkUFJFVl9pbnN0YW5jZTtcbiAgfVxuICB2YXIgTmF2aWdhdGlvblR5cGUkTkVYVF9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gTmF2aWdhdGlvblR5cGUkTkVYVF9nZXRJbnN0YW5jZSgpIHtcbiAgICBOYXZpZ2F0aW9uVHlwZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIE5hdmlnYXRpb25UeXBlJE5FWFRfaW5zdGFuY2U7XG4gIH1cbiAgTmF2aWdhdGlvblR5cGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTmF2aWdhdGlvblR5cGUnLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBOYXZpZ2F0aW9uVHlwZSR2YWx1ZXMoKSB7XG4gICAgcmV0dXJuIFtOYXZpZ2F0aW9uVHlwZSRQUkVWX2dldEluc3RhbmNlKCksIE5hdmlnYXRpb25UeXBlJE5FWFRfZ2V0SW5zdGFuY2UoKV07XG4gIH1cbiAgTmF2aWdhdGlvblR5cGUudmFsdWVzID0gTmF2aWdhdGlvblR5cGUkdmFsdWVzO1xuICBmdW5jdGlvbiBOYXZpZ2F0aW9uVHlwZSR2YWx1ZU9mKG5hbWUpIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ1BSRVYnOlxuICAgICAgICByZXR1cm4gTmF2aWdhdGlvblR5cGUkUFJFVl9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnTkVYVCc6XG4gICAgICAgIHJldHVybiBOYXZpZ2F0aW9uVHlwZSRORVhUX2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMudGVzdHMuTmF2aWdhdGlvblR5cGUuJyArIG5hbWUpO1xuICAgIH1cbiAgfVxuICBOYXZpZ2F0aW9uVHlwZS52YWx1ZU9mXzYxenBvZSQgPSBOYXZpZ2F0aW9uVHlwZSR2YWx1ZU9mO1xuICBmdW5jdGlvbiBTcGVjVGVzdHNWaWV3ZXIoKSB7XG4gICAgU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMuY3VycmVudFNlbnRlbmNlVGVzdHNfYzcwbHJxJF8wID0gdGhpcy5jdXJyZW50U2VudGVuY2VUZXN0c19jNzBscnEkXzA7XG4gICAgdGhpcy50ZXN0UG9wdXBfbW5tcWwxJF8wID0gdGhpcy50ZXN0UG9wdXBfbW5tcWwxJF8wO1xuICB9XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb24oKSB7XG4gICAgU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5URVNUU19WSUVXRVJfU0VMRUNUT1JfMCA9ICcudGVzdC1jb3ZlcmFnZS12aWV3JztcbiAgICB0aGlzLlRFU1RfQVJFQV9TRUxFQ1RPUl8wID0gXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LWFyZWEnXVwiO1xuICAgIHRoaXMuVEVTVF9BUkVBX09QVElPTl9TRUxFQ1RPUl8wID0gXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LWFyZWEnXSBvcHRpb25cIjtcbiAgICB0aGlzLlRFU1RfVFlQRV9TRUxFQ1RPUl8wID0gXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LXR5cGUnXVwiO1xuICAgIHRoaXMuVEVTVF9UWVBFX09QVElPTl9TRUxFQ1RPUl8wID0gXCIudGVzdC1jb3ZlcmFnZS12aWV3IHNlbGVjdFtuYW1lPSd0ZXN0LXR5cGUnXSBvcHRpb25cIjtcbiAgICB0aGlzLlRFU1RfVFlQRV9PUFRJT05fVEVNUExBVEVfMCA9IFwiPG9wdGlvbiB2YWx1ZT0nezF9Jz57Mn08XFwvb3B0aW9uPlwiO1xuICAgIHRoaXMuVEVTVF9OVU1CRVJfU0VMRUNUT1JfMCA9IFwiLnRlc3QtY292ZXJhZ2UtdmlldyBzZWxlY3RbbmFtZT0ndGVzdC1udW1iZXInXVwiO1xuICAgIHRoaXMuVEVTVF9OVU1CRVJfT1BUSU9OX1NFTEVDVE9SXzAgPSBcIi50ZXN0LWNvdmVyYWdlLXZpZXcgc2VsZWN0W25hbWU9J3Rlc3QtbnVtYmVyJ10gb3B0aW9uXCI7XG4gICAgdGhpcy5URVNUX05VTUJFUl9PUFRJT05fVEVNUExBVEVfMCA9IFwiPG9wdGlvbiB2YWx1ZT0nezF9Jz57MX06IHsyfTxcXC9vcHRpb24+XCI7XG4gICAgdGhpcy5URVNUX0NPREVfV1JBUFBFUl9TRUxFQ1RPUl8wID0gJy50ZXN0LWNvZGUtd3JhcHBlcic7XG4gICAgdGhpcy5URVNUX0NPREVfU0VMRUNUT1JfMCA9ICcudGVzdC1jb3ZlcmFnZS12aWV3IC50ZXN0LWNvZGUnO1xuICAgIHRoaXMuVEVTVF9DT0RFX1RFTVBMQVRFXzAgPSBcIjxkaXYgY2xhc3M9J3Rlc3QtY29kZSc+ezF9PFxcL2Rpdj5cIjtcbiAgICB0aGlzLlRFU1RfQ0FTRV9JTkZPX1NFTEVDVE9SXzAgPSAnLnRlc3QtY2FzZS1pbmZvJztcbiAgICB0aGlzLlRFU1RfVklFV0VSX0JPRFlfVEVNUExBVEVfMCA9IFwiXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3Rlc3QtY2FzZS1pbmZvJz5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J3Rlc3QtdGl0bGUnIHN0eWxlPSd0ZXh0LWFsaWduOiBjZW50ZXI7bWFyZ2luOiAxMHB4IDA7Jz48Yj57MX08XFwvYj48XFwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ndGV4dC1hbGlnbjogY2VudGVyO2ZvbnQtc2l6ZTogMTRweDttYXJnaW4tdG9wOiA1cHg7Jz5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPScjJyBjbGFzcz0ncHJldi10ZXN0Y2FzZSBkaXNhYmxlZCc+UHJldiB0ZXN0Y2FzZTxcXC9hPiB8IFRlc3QgY2FzZSAjPGIgY2xhc3M9J3Rlc3RjYXNlLW51bWJlcic+MTxcXC9iPiB8IDxhIGhyZWY9JyMnIGNsYXNzPSduZXh0LXRlc3RjYXNlJz5OZXh0IHRlc3RjYXNlPFxcL2E+XFxuICAgICAgICAgICAgICAgICAgICA8XFwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ndGVzdC1jb2RlLXdyYXBwZXInIHN0eWxlPSdtYXJnaW4tdG9wOiAxNXB4Oyc+PFxcL2Rpdj5cXG4gICAgICAgICAgICAgICAgPFxcL2Rpdj5cXG4gICAgICAgICAgICBcIjtcbiAgICB0aGlzLk5FWFRfVEVTVENBU0VfU0VMRUNUT1JfMCA9ICcubmV4dC10ZXN0Y2FzZSc7XG4gICAgdGhpcy5QUkVWX1RFU1RDQVNFX1NFTEVDVE9SXzAgPSAnLnByZXYtdGVzdGNhc2UnO1xuICAgIHRoaXMuVEVTVENBU0VfTlVNQkVSX1NFTEVDVE9SXzAgPSAnLnRlc3RjYXNlLW51bWJlcic7XG4gICAgdGhpcy5NQUlOX0ZVTl9DT0RFXzAgPSAnXFxuZnVuIG1haW4oKSB7IHByaW50bG4oXCJUZXN0IHBhc3NlZFwiKSB9JztcbiAgICB0aGlzLlNBTVBMRV9XUkFQX0NPREVfMCA9ICcvL3NhbXBsZVN0YXJ0XFxuezF9XFxuLy9zYW1wbGVFbmQnO1xuICB9XG4gIFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3BlY1Rlc3RzVmlld2VyLnByb3RvdHlwZSwgJ2N1cnJlbnRTZW50ZW5jZVRlc3RzXzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudFNlbnRlbmNlVGVzdHNfYzcwbHJxJF8wID09IG51bGwpXG4gICAgICByZXR1cm4gdGhyb3dVUEFFKCdjdXJyZW50U2VudGVuY2VUZXN0cycpO1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRTZW50ZW5jZVRlc3RzX2M3MGxycSRfMDtcbiAgfSwgc2V0OiBmdW5jdGlvbiAoY3VycmVudFNlbnRlbmNlVGVzdHMpIHtcbiAgICB0aGlzLmN1cnJlbnRTZW50ZW5jZVRlc3RzX2M3MGxycSRfMCA9IGN1cnJlbnRTZW50ZW5jZVRlc3RzO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLCAndGVzdFBvcHVwXzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudGVzdFBvcHVwX21ubXFsMSRfMCA9PSBudWxsKVxuICAgICAgcmV0dXJuIHRocm93VVBBRSgndGVzdFBvcHVwJyk7XG4gICAgcmV0dXJuIHRoaXMudGVzdFBvcHVwX21ubXFsMSRfMDtcbiAgfSwgc2V0OiBmdW5jdGlvbiAodGVzdFBvcHVwKSB7XG4gICAgdGhpcy50ZXN0UG9wdXBfbW5tcWwxJF8wID0gdGVzdFBvcHVwO1xuICB9fSk7XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1ZpZXdlciRpbnNlcnRDb2RlJGxhbWJkYSh0aGlzJFNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzJFNwZWNUZXN0c1ZpZXdlci50ZXN0UG9wdXBfMC5jb21wdXRlU2l6ZXNfeW8yY3FnJCgpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBTcGVjVGVzdHNWaWV3ZXIkaW5zZXJ0Q29kZSRsYW1iZGFfMCh0aGlzJFNwZWNUZXN0c1ZpZXdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzJFNwZWNUZXN0c1ZpZXdlci50ZXN0UG9wdXBfMC5jb21wdXRlU2l6ZXNfeW8yY3FnJCgpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBTcGVjVGVzdHNWaWV3ZXIucHJvdG90eXBlLmluc2VydENvZGVfMCA9IGZ1bmN0aW9uICh0ZXN0Q2FzZSwgaGVscGVyRmlsZXNDb250ZW50KSB7XG4gICAgaWYgKGhlbHBlckZpbGVzQ29udGVudCA9PT0gdm9pZCAwKVxuICAgICAgaGVscGVyRmlsZXNDb250ZW50ID0gbnVsbDtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBjb2RlID0gU3RyaW5nQnVpbGRlcl9pbml0KCk7XG4gICAgaWYgKGhlbHBlckZpbGVzQ29udGVudCAhPSBudWxsKSB7XG4gICAgICB2YXIgdG1wJF8xO1xuICAgICAgdG1wJF8xID0gaGVscGVyRmlsZXNDb250ZW50Lml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIGNvZGUuYXBwZW5kX2d3MDB2OSQodG9TdHJpbmcoZWxlbWVudC5nZXRfMTFyYiQoVGVzdEFyZWFFbnVtJERJQUdOT1NUSUNTX2dldEluc3RhbmNlKCkuY29udGVudCkpICsgJ1xcbicgKyAnXFxuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRtcCRfMCA9IFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5TQU1QTEVfV1JBUF9DT0RFXzA7XG4gICAgdG1wJCA9IHRlc3RDYXNlLmdldF8xMXJiJCgnY29kZScpO1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29kZS5hcHBlbmRfZ3cwMHY5JChmb3JtYXQodG1wJF8wLCBbdG1wJF0pKTtcbiAgICBjb2RlLmFwcGVuZF9ndzAwdjkkKFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5NQUlOX0ZVTl9DT0RFXzApO1xuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX0NPREVfV1JBUFBFUl9TRUxFQ1RPUl8wKS5odG1sKGZvcm1hdChTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9DT0RFX1RFTVBMQVRFXzAsIFtlc2NhcGVIdG1sKGNvZGUudG9TdHJpbmcoKSldKSk7XG4gICAgS290bGluUGxheWdyb3VuZChTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9DT0RFX1NFTEVDVE9SXzAsIGpzb24oW3RvKCdjYWxsYmFjaycsIFNwZWNUZXN0c1ZpZXdlciRpbnNlcnRDb2RlJGxhbWJkYSh0aGlzKSksIHRvKCdvbkNoYW5nZScsIFNwZWNUZXN0c1ZpZXdlciRpbnNlcnRDb2RlJGxhbWJkYV8wKHRoaXMpKV0pKTtcbiAgfTtcbiAgU3BlY1Rlc3RzVmlld2VyLnByb3RvdHlwZS5zaG93VGVzdENhc2VDb2RlXzAgPSBmdW5jdGlvbiAodGVzdCwgaGVscGVyRmlsZXNDb250ZW50KSB7XG4gICAgaWYgKGhlbHBlckZpbGVzQ29udGVudCA9PT0gdm9pZCAwKVxuICAgICAgaGVscGVyRmlsZXNDb250ZW50ID0gbnVsbDtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzE7XG4gICAgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQ0FTRV9JTkZPX1NFTEVDVE9SXzApLnJlbW92ZSgpO1xuICAgIHRtcCRfMSA9ICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUU19WSUVXRVJfU0VMRUNUT1JfMCk7XG4gICAgdG1wJF8wID0gU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVklFV0VSX0JPRFlfVEVNUExBVEVfMDtcbiAgICB0bXAkID0gdGVzdC5nZXRfMTFyYiQoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0bXAkXzEuYXBwZW5kKGZvcm1hdCh0bXAkXzAsIFt0bXAkXSkpO1xuICAgIHZhciB0ZXN0Q2FzZXMgPSB0ZXN0LmdldF8xMXJiJCgnY2FzZXMnKTtcbiAgICB0aGlzLmluc2VydENvZGVfMCh0ZXN0Q2FzZXMuZ2V0X3phM2xwYSQoMCksIGhlbHBlckZpbGVzQ29udGVudCk7XG4gICAgaWYgKHRlc3RDYXNlcy5zaXplID09PSAxKSB7XG4gICAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuTkVYVF9URVNUQ0FTRV9TRUxFQ1RPUl8wKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH07XG4gIFNwZWNUZXN0c1ZpZXdlci5wcm90b3R5cGUuZ2V0SGVscGVyc18wID0gZnVuY3Rpb24gKGhlbHBlck5hbWVzKSB7XG4gICAgdmFyIGhlbHBlckZpbGVzUHJvbWlzZXMgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChjb3B5VG9BcnJheShoZWxwZXJGaWxlc1Byb21pc2VzKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFNwZWNUZXN0c1ZpZXdlciRzaG93Vmlld2VyJGxhbWJkYShjbG9zdXJlJHRlc3RzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBlbCkge1xuICAgICAgdmFyIHRlc3RBcmVhID0gJG1vZHVsZSRqcXVlcnkoZWwpO1xuICAgICAgdmFyICRyZWNlaXZlciA9IGNsb3N1cmUkdGVzdHM7XG4gICAgICB2YXIga2V5ID0gdGVzdEFyZWEuYXR0cigndmFsdWUnKTtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKCEoS290bGluLmlzVHlwZSh0bXAkID0gJHJlY2VpdmVyLCBNYXApID8gdG1wJCA6IHRocm93Q0NFKCkpLmNvbnRhaW5zS2V5XzExcmIkKGtleSkpIHtcbiAgICAgICAgdGVzdEFyZWEucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIFNwZWNUZXN0c1ZpZXdlci5wcm90b3R5cGUuc2hvd1ZpZXdlcl9saml5OHokID0gZnVuY3Rpb24gKHNlbnRlbmNlRWxlbWVudCkge1xuICAgIHZhciB0ZXN0cyA9IHNlbnRlbmNlRWxlbWVudC5kYXRhKCd0ZXN0cycpO1xuICAgIHZhciBzZW50ZW5jZVRleHQgPSBmb3JtYXQoJ3NlbnRlbmNlIHsxfScsIFtzZW50ZW5jZUVsZW1lbnQuY2xvbmUoKS5jaGlsZHJlbignLm51bWJlci1pbmZvJykudGV4dCgpXSk7XG4gICAgdGhpcy5jdXJyZW50U2VudGVuY2VUZXN0c18wID0gdGVzdHM7XG4gICAgdmFyICRyZWNlaXZlciA9IG5ldyBQb3B1cChuZXcgUG9wdXBDb25maWcoODAwLCAzMDAsICdUZXN0IGNvdmVyYWdlIG9mICcgKyBzZW50ZW5jZVRleHQsIFRlc3RzQ292ZXJhZ2VDb2xvcnNBcnJhbmdlcl9nZXRJbnN0YW5jZSgpLlRFTVBMQVRFKSk7XG4gICAgJHJlY2VpdmVyLm9wZW4oKTtcbiAgICB0aGlzLnRlc3RQb3B1cF8wID0gJHJlY2VpdmVyO1xuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX0FSRUFfT1BUSU9OX1NFTEVDVE9SXzApLmVhY2goU3BlY1Rlc3RzVmlld2VyJHNob3dWaWV3ZXIkbGFtYmRhKHRlc3RzKSk7XG4gICAgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9TRUxFQ1RPUl8wKS52YWwoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9PUFRJT05fU0VMRUNUT1JfMCkuZXEoMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5vblRlc3RBcmVhQ2hhbmdlKCk7XG4gIH07XG4gIFNwZWNUZXN0c1ZpZXdlci5wcm90b3R5cGUub25UZXN0QXJlYUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgJHJlY2VpdmVyID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpO1xuICAgIGlmICgkcmVjZWl2ZXIubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIHZhciB0ZXN0QXJlYSA9ICRyZWNlaXZlcjtcbiAgICB0bXAkID0gdGhpcy5jdXJyZW50U2VudGVuY2VUZXN0c18wLmdldF8xMXJiJCh0ZXN0QXJlYSk7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGVzdHMgPSB0bXAkO1xuICAgIHZhciB0ZXN0VHlwZXMgPSBtYXBPZihbdG8oJ3BvcycsICdQb3NpdGl2ZScpLCB0bygnbmVnJywgJ05lZ2F0aXZlJyldKTtcbiAgICB2YXIgdG1wJF8wO1xuICAgIHRtcCRfMCA9IHJldmVyc2VkKHRlc3RzLmtleXMpLml0ZXJhdG9yKCk7XG4gICAgbG9vcF9sYWJlbDogd2hpbGUgKHRtcCRfMC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJF8wLm5leHQoKTtcbiAgICAgIGFjdGlvbiRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJF8xLCB0bXAkXzIsIHRtcCRfMztcbiAgICAgICAgdG1wJF8zID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVFlQRV9TRUxFQ1RPUl8wKTtcbiAgICAgICAgdG1wJF8yID0gU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVFlQRV9PUFRJT05fVEVNUExBVEVfMDtcbiAgICAgICAgdG1wJF8xID0gdGVzdFR5cGVzLmdldF8xMXJiJChlbGVtZW50KTtcbiAgICAgICAgaWYgKHRtcCRfMSA9PSBudWxsKSB7XG4gICAgICAgICAgYnJlYWsgYWN0aW9uJGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRtcCRfMy5hcHBlbmQoZm9ybWF0KHRtcCRfMiwgW2VsZW1lbnQsIHRtcCRfMV0pKTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgIH1cbiAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9UWVBFX1NFTEVDVE9SXzApLnNob3coKS52YWwoJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVFlQRV9PUFRJT05fU0VMRUNUT1JfMCkuZXEoMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5vblRlc3RUeXBlQ2hhbmdlKCk7XG4gIH07XG4gIFNwZWNUZXN0c1ZpZXdlci5wcm90b3R5cGUub25UZXN0VHlwZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzEsIHRtcCRfMiwgdG1wJF8zLCB0bXAkXzQ7XG4gICAgdmFyICRyZWNlaXZlciA9ICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX1RZUEVfU0VMRUNUT1JfMCkudmFsKCkudG9TdHJpbmcoKTtcbiAgICBpZiAoJHJlY2VpdmVyLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybjtcbiAgICB2YXIgdGVzdFR5cGUgPSAkcmVjZWl2ZXI7XG4gICAgdmFyIHRlc3RBcmVhID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpO1xuICAgIHRtcCRfMCA9ICh0bXAkID0gdGhpcy5jdXJyZW50U2VudGVuY2VUZXN0c18wLmdldF8xMXJiJCh0ZXN0QXJlYSkpICE9IG51bGwgPyB0bXAkLmdldF8xMXJiJCh0ZXN0VHlwZSkgOiBudWxsO1xuICAgIGlmICh0bXAkXzAgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGVzdHMgPSB0bXAkXzA7XG4gICAgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfTlVNQkVSX1NFTEVDVE9SXzApLmVtcHR5KCk7XG4gICAgdG1wJF8xID0gdGVzdHMuZW50cmllcy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkXzEuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgdG1wJF81ID0gdG1wJF8xLm5leHQoKTtcbiAgICAgIHZhciB0ZXN0TnVtYmVyID0gdG1wJF81LmtleTtcbiAgICAgIHZhciB0ZXN0ID0gdG1wJF81LnZhbHVlO1xuICAgICAgdG1wJF80ID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfTlVNQkVSX1NFTEVDVE9SXzApO1xuICAgICAgdG1wJF8zID0gU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfTlVNQkVSX09QVElPTl9URU1QTEFURV8wO1xuICAgICAgdG1wJF8yID0gdGVzdC5nZXRfMTFyYiQoJ2Rlc2NyaXB0aW9uJyk7XG4gICAgICBpZiAodG1wJF8yID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0bXAkXzQuYXBwZW5kKGZvcm1hdCh0bXAkXzMsIFt0ZXN0TnVtYmVyLCB0bXAkXzJdKSk7XG4gICAgfVxuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX05VTUJFUl9TRUxFQ1RPUl8wKS5zaG93KCkudmFsKCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX05VTUJFUl9PUFRJT05fU0VMRUNUT1JfMCkuZXEoMCkudmFsKCkudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5vblRlc3ROdW1iZXJDaGFuZ2UoKTtcbiAgfTtcbiAgZnVuY3Rpb24gU3BlY1Rlc3RzVmlld2VyJG9uVGVzdE51bWJlckNoYW5nZSRsYW1iZGEoY2xvc3VyZSR0ZXN0cywgdGhpcyRTcGVjVGVzdHNWaWV3ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICB0aGlzJFNwZWNUZXN0c1ZpZXdlci5zaG93VGVzdENhc2VDb2RlXzAoY2xvc3VyZSR0ZXN0cywgdG9MaXN0KGl0KSk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIFNwZWNUZXN0c1ZpZXdlci5wcm90b3R5cGUub25UZXN0TnVtYmVyQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICB2YXIgJHJlY2VpdmVyID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfTlVNQkVSX1NFTEVDVE9SXzApLnZhbCgpLnRvU3RyaW5nKCk7XG4gICAgaWYgKCRyZWNlaXZlci5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm47XG4gICAgdmFyIHRlc3ROdW1iZXIgPSAkcmVjZWl2ZXI7XG4gICAgdmFyIHRlc3RBcmVhID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfQVJFQV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpO1xuICAgIHZhciB0ZXN0VHlwZSA9ICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUX1RZUEVfU0VMRUNUT1JfMCkudmFsKCkudG9TdHJpbmcoKTtcbiAgICB0bXAkXzEgPSAodG1wJF8wID0gKHRtcCQgPSB0aGlzLmN1cnJlbnRTZW50ZW5jZVRlc3RzXzAuZ2V0XzExcmIkKHRlc3RBcmVhKSkgIT0gbnVsbCA/IHRtcCQuZ2V0XzExcmIkKHRlc3RUeXBlKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAuZ2V0XzExcmIkKHRlc3ROdW1iZXIpIDogbnVsbDtcbiAgICBpZiAodG1wJF8xID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRlc3RzID0gdG1wJF8xO1xuICAgIGlmICh0ZXN0cy5nZXRfMTFyYiQoJ2hlbHBlcnMnKSAhPSBudWxsKSB7XG4gICAgICB0aGlzLmdldEhlbHBlcnNfMCh0ZXN0cy5nZXRfMTFyYiQoJ2hlbHBlcnMnKSkudGhlbihTcGVjVGVzdHNWaWV3ZXIkb25UZXN0TnVtYmVyQ2hhbmdlJGxhbWJkYSh0ZXN0cywgdGhpcykpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0aGlzLnNob3dUZXN0Q2FzZUNvZGVfMCh0ZXN0cyk7XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBTcGVjVGVzdHNWaWV3ZXIkbmF2aWdhdGVUZXN0Q2FzZSRsYW1iZGEoY2xvc3VyZSR0ZXN0Q2FzZXMsIGNsb3N1cmUkdGFyZ2V0VGVzdENhc2UsIHRoaXMkU3BlY1Rlc3RzVmlld2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgdGhpcyRTcGVjVGVzdHNWaWV3ZXIuaW5zZXJ0Q29kZV8wKGNsb3N1cmUkdGVzdENhc2VzLmdldF96YTNscGEkKGNsb3N1cmUkdGFyZ2V0VGVzdENhc2UpLCB0b0xpc3QoaXQpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgU3BlY1Rlc3RzVmlld2VyLnByb3RvdHlwZS5uYXZpZ2F0ZVRlc3RDYXNlX3k1OGVhYyQgPSBmdW5jdGlvbiAobmF2aWdhdGlvbkxpbmssIG5hdmlnYXRpb25UeXBlKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgIGlmIChuYXZpZ2F0aW9uTGluay5oYXNDbGFzcygnZGlzYWJsZWQnKSlcbiAgICAgIHJldHVybjtcbiAgICB2YXIgdGVzdEFyZWEgPSAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuVEVTVF9BUkVBX1NFTEVDVE9SXzApLnZhbCgpLnRvU3RyaW5nKCk7XG4gICAgdmFyIHRlc3RUeXBlID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfVFlQRV9TRUxFQ1RPUl8wKS52YWwoKS50b1N0cmluZygpO1xuICAgIHZhciB0ZXN0TnVtYmVyID0gJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlRFU1RfTlVNQkVSX1NFTEVDVE9SXzApLnZhbCgpLnRvU3RyaW5nKCk7XG4gICAgdG1wJF8xID0gKHRtcCRfMCA9ICh0bXAkID0gdGhpcy5jdXJyZW50U2VudGVuY2VUZXN0c18wLmdldF8xMXJiJCh0ZXN0QXJlYSkpICE9IG51bGwgPyB0bXAkLmdldF8xMXJiJCh0ZXN0VHlwZSkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wLmdldF8xMXJiJCh0ZXN0TnVtYmVyKSA6IG51bGw7XG4gICAgaWYgKHRtcCRfMSA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0ZXN0cyA9IHRtcCRfMTtcbiAgICB2YXIgY3VycmVudE51bWJlciA9IHRvSW50KCRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUQ0FTRV9OVU1CRVJfU0VMRUNUT1JfMCkudGV4dCgpKTtcbiAgICB2YXIgdGFyZ2V0VGVzdENhc2UgPSBuYXZpZ2F0aW9uVHlwZSA9PT0gTmF2aWdhdGlvblR5cGUkUFJFVl9nZXRJbnN0YW5jZSgpID8gY3VycmVudE51bWJlciAtIDIgfCAwIDogY3VycmVudE51bWJlcjtcbiAgICB2YXIgdGVzdENhc2VzID0gdGVzdHMuZ2V0XzExcmIkKCdjYXNlcycpO1xuICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5URVNUQ0FTRV9OVU1CRVJfU0VMRUNUT1JfMCkuaHRtbCgodGFyZ2V0VGVzdENhc2UgKyAxIHwgMCkudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRlc3RzLmdldF8xMXJiJCgnaGVscGVycycpICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZ2V0SGVscGVyc18wKHRlc3RzLmdldF8xMXJiJCgnaGVscGVycycpKS50aGVuKFNwZWNUZXN0c1ZpZXdlciRuYXZpZ2F0ZVRlc3RDYXNlJGxhbWJkYSh0ZXN0Q2FzZXMsIHRhcmdldFRlc3RDYXNlLCB0aGlzKSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHRoaXMuaW5zZXJ0Q29kZV8wKHRlc3RDYXNlcy5nZXRfemEzbHBhJCh0YXJnZXRUZXN0Q2FzZSkpO1xuICAgIH1cbiAgICBpZiAoKHRhcmdldFRlc3RDYXNlICsgMSB8IDApID49IHRlc3RDYXNlcy5zaXplKSB7XG4gICAgICAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuTkVYVF9URVNUQ0FTRV9TRUxFQ1RPUl8wKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgIGVsc2UgaWYgKG5hdmlnYXRpb25UeXBlID09PSBOYXZpZ2F0aW9uVHlwZSRQUkVWX2dldEluc3RhbmNlKCkgJiYgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLk5FWFRfVEVTVENBU0VfU0VMRUNUT1JfMCkuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcbiAgICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5ORVhUX1RFU1RDQVNFX1NFTEVDVE9SXzApLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBpZiAobmF2aWdhdGlvblR5cGUgPT09IE5hdmlnYXRpb25UeXBlJE5FWFRfZ2V0SW5zdGFuY2UoKSAmJiAkbW9kdWxlJGpxdWVyeShTcGVjVGVzdHNWaWV3ZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuUFJFVl9URVNUQ0FTRV9TRUxFQ1RPUl8wKS5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xuICAgICAgJG1vZHVsZSRqcXVlcnkoU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLlBSRVZfVEVTVENBU0VfU0VMRUNUT1JfMCkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgICBlbHNlIGlmICgodGFyZ2V0VGVzdENhc2UgKyAxIHwgMCkgPT09IDEpIHtcbiAgICAgICRtb2R1bGUkanF1ZXJ5KFNwZWNUZXN0c1ZpZXdlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5QUkVWX1RFU1RDQVNFX1NFTEVDVE9SXzApLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfTtcbiAgU3BlY1Rlc3RzVmlld2VyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NwZWNUZXN0c1ZpZXdlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyKCkge1xuICAgIFRlc3RzQ292ZXJhZ2VDb2xvcnNBcnJhbmdlcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy50ZXN0VHlwZXMgPSBtYXBPZihbdG8oJ3BvcycsICdwb3NpdGl2ZScpLCB0bygnbmVnJywgJ25lZ2F0aXZlJyldKTtcbiAgICB0aGlzLlRFTVBMQVRFID0gXCJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSd0ZXN0LWNvdmVyYWdlLXZpZXcnPlxcbiAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9J3Rlc3QtYXJlYSc+XFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdkaWFnbm9zdGljcyc+RnJvbnQtZW5kIGRpYWdub3N0aWNzIHRlc3RzPFxcL29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2JveCc+Q29kZWdlbiBib3ggdGVzdHM8XFwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICA8XFwvc2VsZWN0PlxcbiAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9J3Rlc3QtdHlwZSc+PFxcL3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPSd0ZXN0LW51bWJlcic+PFxcL3NlbGVjdD5cXG4gICAgICAgICAgICA8XFwvZGl2PlxcbiAgICAgICAgXCI7XG4gIH1cbiAgVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyLnByb3RvdHlwZS5kZXRlY3RVbmV4cGVjdGVkQmVoYXZpb3VyXzAgPSBmdW5jdGlvbiAodGVzdHNPZlR5cGUpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciB1bmV4cGVjdGVkQmVoYXZpb3VyID0ge3Y6IGZhbHNlfTtcbiAgICB0bXAkID0gdGVzdHNPZlR5cGUuZW50cmllcy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIHRtcCRfMSA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyIHRlc3QgPSB0bXAkXzEudmFsdWU7XG4gICAgICBpZiAodHlwZW9mICh0bXAkXzAgPSB0ZXN0LmdldF8xMXJiJCgndW5leHBlY3RlZEJlaGF2aW91cicpKSA9PT0gJ2Jvb2xlYW4nID8gdG1wJF8wIDogdGhyb3dDQ0UoKSkge1xuICAgICAgICB1bmV4cGVjdGVkQmVoYXZpb3VyLnYgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHRtcCRfMjtcbiAgICAgIHRtcCRfMiA9IHRlc3QuZ2V0XzExcmIkKCdjYXNlcycpLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8yLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMi5uZXh0KCk7XG4gICAgICAgIHZhciB0bXAkXzM7XG4gICAgICAgIGlmICgoKHRtcCRfMyA9IGVsZW1lbnQuZ2V0XzExcmIkKCdpbmZvRWxlbWVudHMnKSkgIT0gbnVsbCA/IHRtcCRfMy5nZXRfMTFyYiQoJ1VORVhQRUNURUQgQkVIQVZJT1VSJykgOiBudWxsKSAhPSBudWxsKSB7XG4gICAgICAgICAgdW5leHBlY3RlZEJlaGF2aW91ci52ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5leHBlY3RlZEJlaGF2aW91ci52O1xuICB9O1xuICBUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXIucHJvdG90eXBlLnNob3dTZW50ZW5jZUNvdmVyYWdlTmV3XzAgPSBmdW5jdGlvbiAoc2VudGVuY2UsIHNlbnRlbmNlVGVzdEluZm8sIHRlc3RBcmVhMSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICB2YXIgdGVzdHNCeUFyZWEgPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHZhciB1bmV4cGVjdGVkQmVoYXZpb3VyID0gZmFsc2U7XG4gICAgdmFyIHRlc3ROdW1iZXJCeVR5cGUgPSBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgICB2YXIgdGVzdE51bWJlckJ5VHlwZUluZm8gPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgIHRtcCQgPSBzZW50ZW5jZVRlc3RJbmZvLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciB0bXAkXzIgPSB0bXAkLm5leHQoKTtcbiAgICAgIHZhciBwb3NPck5lZyA9IHRtcCRfMi5rZXk7XG4gICAgICB2YXIgbGlzdE9mVGVzdHMgPSB0bXAkXzIudmFsdWU7XG4gICAgICB2YXIgdmFsdWUgPSAodG1wJF8xID0gKHRtcCRfMCA9IHNlbnRlbmNlVGVzdEluZm8uZ2V0XzExcmIkKHBvc09yTmVnKSkgIT0gbnVsbCA/IHRtcCRfMC5zaXplIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMSA6IDA7XG4gICAgICB0ZXN0TnVtYmVyQnlUeXBlLnB1dF94d3pjOXAkKHBvc09yTmVnLCB2YWx1ZSk7XG4gICAgICB2YXIgdGVzdE51bWJlciA9IHt2OiAwfTtcbiAgICAgIHZhciB0bXAkXzM7XG4gICAgICB0bXAkXzMgPSBsaXN0T2ZUZXN0cy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCRfMy5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkXzMubmV4dCgpO1xuICAgICAgICB0ZXN0TnVtYmVyLnYgPSB0ZXN0TnVtYmVyLnYgKyAxIHwgMDtcbiAgICAgICAgdGVzdE51bWJlckJ5VHlwZUluZm8uYWRkXzExcmIkKHRlc3ROdW1iZXIudi50b1N0cmluZygpICsgJyAnICsgcG9zT3JOZWcudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0ZXN0TnVtYmVyQnlUeXBlSW5mby5zaXplID4gMCkge1xuICAgICAgdGVzdHNCeUFyZWEuYWRkXzExcmIkKCc8Yj4nICsgdGVzdEFyZWExLmRlc2NyaXB0aW9uICsgJzxcXC9iPjogJyArIGpvaW5Ub1N0cmluZyh0ZXN0TnVtYmVyQnlUeXBlSW5mbywgJywgJykpO1xuICAgIH1cbiAgICBpZiAodW5leHBlY3RlZEJlaGF2aW91cikge1xuICAgICAgc2VudGVuY2UuYWRkQ2xhc3MoJ3VuZXhwZWN0ZWQtYmVoYXZpb3VyJykucGFyZW50KCkuYmVmb3JlKFwiPHNwYW4gY2xhc3M9J3VuZXhwZWN0ZWQtYmVoYXZpb3VyLW1hcmtlcic+PFxcL3NwYW4+XCIpO1xuICAgIH1cbiAgICBzZW50ZW5jZS5wcmVwZW5kKGZvcm1hdChcIjxzcGFuIGNsYXNzPSdjb3ZlcmFnZS1pbmZvJz57MX08XFwvc3Bhbj5cIiwgW2pvaW5Ub1N0cmluZyh0ZXN0c0J5QXJlYSwgJzxiciAvPicpXSkpLmRhdGEoJ3Rlc3RzJywgc2VudGVuY2VUZXN0SW5mbykuYWRkQ2xhc3MoJ2NvdmVyZWQnKTtcbiAgfTtcbiAgZnVuY3Rpb24gVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyJHNob3dQYXJhZ3JhcGhDb3ZlcmFnZSRsYW1iZGEoY2xvc3VyZSRzZWN0aW9uVGVzdFNldCwgY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIsIGNsb3N1cmUkcGFyYWdyYXBoTnVtYmVyLCB0aGlzJFRlc3RzQ292ZXJhZ2VDb2xvcnNBcnJhbmdlciwgY2xvc3VyZSRzZWN0aW9uUGF0aCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZWwpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHNlbnRlbmNlVGVzdHMgPSBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgICAgIHZhciBzZW50ZW5jZSA9ICRtb2R1bGUkanF1ZXJ5KGVsKTtcbiAgICAgIHZhciBleGlzdGluZ051bWJlckluZm8gPSBzZW50ZW5jZS5maW5kKCcubnVtYmVyLWluZm8nKTtcbiAgICAgIGlmIChudW1iZXJUb0ludChleGlzdGluZ051bWJlckluZm8ubGVuZ3RoKSA+IDApIHtcbiAgICAgICAgZXhpc3RpbmdOdW1iZXJJbmZvLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgdGhpcyRUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXIuc2hvd1NlbnRlbmNlQ292ZXJhZ2VfMChjbG9zdXJlJHNlY3Rpb25UZXN0U2V0LCBzZW50ZW5jZSwgY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiwgY2xvc3VyZSRwYXJhZ3JhcGhOdW1iZXIpO1xuICAgICAgTWFya1VwX2dldEluc3RhbmNlKCkuaW5zZXJ0U2VudGVuY2VOdW1iZXJfYmd6MGY3JChzZW50ZW5jZSwgY2xvc3VyZSRzZW50ZW5jZUNvdW50ZXIudiwgY2xvc3VyZSRzZWN0aW9uUGF0aCwgY2xvc3VyZSRwYXJhZ3JhcGhOdW1iZXIsIGNsb3N1cmUkc2VudGVuY2VDb3VudGVyLnYpO1xuICAgICAgcmV0dXJuIHRtcCQgPSBjbG9zdXJlJHNlbnRlbmNlQ291bnRlci52LCBjbG9zdXJlJHNlbnRlbmNlQ291bnRlci52ID0gdG1wJCArIDEgfCAwLCB0bXAkO1xuICAgIH07XG4gIH1cbiAgVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyLnByb3RvdHlwZS5zaG93UGFyYWdyYXBoQ292ZXJhZ2VfMCA9IGZ1bmN0aW9uIChwYXJhZ3JhcGgsIHBhcmFncmFwaE51bWJlciwgc2VjdGlvblRlc3RTZXQsIHNlY3Rpb25QYXRoKSB7XG4gICAgdmFyIHNlbnRlbmNlcyA9ICRtb2R1bGUkanF1ZXJ5KHBhcmFncmFwaCkuZmluZCgnLnNlbnRlbmNlJyk7XG4gICAgdmFyIHNlbnRlbmNlQ291bnRlciA9IHt2OiAxfTtcbiAgICBNYXJrVXBfZ2V0SW5zdGFuY2UoKS5pbnNlcnRQYXJhZ3JhcGhOdW1iZXJfcXA4OTRmJCgkbW9kdWxlJGpxdWVyeShwYXJhZ3JhcGgpLCBwYXJhZ3JhcGhOdW1iZXIsIHNlY3Rpb25QYXRoLCBwYXJhZ3JhcGhOdW1iZXIpO1xuICAgIHNlbnRlbmNlcy5lYWNoKFRlc3RzQ292ZXJhZ2VDb2xvcnNBcnJhbmdlciRzaG93UGFyYWdyYXBoQ292ZXJhZ2UkbGFtYmRhKHNlY3Rpb25UZXN0U2V0LCBzZW50ZW5jZUNvdW50ZXIsIHBhcmFncmFwaE51bWJlciwgdGhpcywgc2VjdGlvblBhdGgpKTtcbiAgfTtcbiAgVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyLnByb3RvdHlwZS5zaG93U2VudGVuY2VDb3ZlcmFnZV8wID0gZnVuY3Rpb24gKHNlY3Rpb25UZXN0U2V0LCBzZW50ZW5jZSwgc2VudGVuY2VDb3VudGVyLCBwYXJhZ3JhcGhOdW1iZXIpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gc2VjdGlvblRlc3RTZXQubG9hZGVkVGVzdEFyZWFzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyIHNlbnRlbmNlVGVzdHMgPSBlbGVtZW50LmdldFRlc3RzQnlTZW50ZW5jZU51bWJlcl9wdWo3ZjQkKHBhcmFncmFwaE51bWJlci50b1N0cmluZygpLCBzZW50ZW5jZUNvdW50ZXIudG9TdHJpbmcoKSk7XG4gICAgICB0aGlzLnNob3dTZW50ZW5jZUNvdmVyYWdlTmV3XzAoc2VudGVuY2UsIHNlbnRlbmNlVGVzdHMsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbiAgVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyLnByb3RvdHlwZS5zaG93U2VudGVuY2VDb3ZlcmFnZUZvclRlc3RBcmVhT2xkXzAgPSBmdW5jdGlvbiAocGFyYWdyYXBoVGVzdHMsIHBhdGhQcmVmaXgsIHNlbnRlbmNlLCBzZW50ZW5jZVRlc3RzLCBzZW50ZW5jZUNvdW50ZXIpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAocGFyYWdyYXBoVGVzdHMgIT0gbnVsbCkge1xuICAgICAgdG1wJCA9IHBhcmFncmFwaFRlc3RzLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgdG1wJF8wID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIHZhciB0ZXN0VHlwZSA9IHRtcCRfMC5rZXk7XG4gICAgICAgIHZhciB0ZXN0c0J5VHlwZSA9IHRtcCRfMC52YWx1ZTtcbiAgICAgICAgdmFyIHNlbnRlbmNlVGVzdHNCeVRlc3RUeXBlcyA9IHRlc3RzQnlUeXBlLmdldF8xMXJiJChzZW50ZW5jZUNvdW50ZXIudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChzZW50ZW5jZVRlc3RzQnlUZXN0VHlwZXMgIT0gbnVsbCkge1xuICAgICAgICAgIHNldFZhbHVlQnlPYmplY3RQYXRoKHNlbnRlbmNlVGVzdHMsIHNlbnRlbmNlVGVzdHNCeVRlc3RUeXBlcywgcGF0aFByZWZpeCArICcuJyArIHRlc3RUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2VudGVuY2VUZXN0cy5pc0VtcHR5KCk7XG4gICAgfVxuICB9O1xuICBUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXIucHJvdG90eXBlLnNob3dDb3ZlcmFnZU9mUGFyYWdyYXBoc19hbmQ3dmokID0gZnVuY3Rpb24gKHBhcmFncmFwaHNJbmZvLCBzZWN0aW9uVGVzdFNldCwgc2VjdGlvbnNQYXRoKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHRtcCQgPSBwYXJhZ3JhcGhzSW5mby5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgIHZhciB0bXAkXzE7XG4gICAgICB2YXIgcGFyYWdyYXBoTnVtYmVyID0gY2hlY2tJbmRleE92ZXJmbG93KCh0bXAkXzAgPSBpbmRleCwgaW5kZXggPSB0bXAkXzAgKyAxIHwgMCwgdG1wJF8wKSkgKyAxIHwgMDtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSAkbW9kdWxlJGpxdWVyeShLb3RsaW4uaXNUeXBlKHRtcCRfMSA9IGl0ZW0uZ2V0XzExcmIkKCdwYXJhZ3JhcGhFbGVtZW50JyksIEhUTUxFbGVtZW50KSA/IHRtcCRfMSA6IHRocm93Q0NFKCkpO1xuICAgICAgJHJlY2VpdmVyLmFkZENsYXNzKCd3aXRoLXRlc3RzJyk7XG4gICAgICB2YXIgcGFyYWdyYXBoRWwgPSAkcmVjZWl2ZXI7XG4gICAgICB0aGlzLnNob3dQYXJhZ3JhcGhDb3ZlcmFnZV8wKHBhcmFncmFwaEVsLCBwYXJhZ3JhcGhOdW1iZXIsIHNlY3Rpb25UZXN0U2V0LCBzZWN0aW9uc1BhdGgpO1xuICAgIH1cbiAgfTtcbiAgVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFRlc3RzQ292ZXJhZ2VDb2xvcnNBcnJhbmdlcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFRlc3RzQ292ZXJhZ2VDb2xvcnNBcnJhbmdlcigpO1xuICAgIH1cbiAgICByZXR1cm4gVGVzdHNDb3ZlcmFnZUNvbG9yc0FycmFuZ2VyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyKCkge1xuICAgIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZShuYW1lLCBvcmRpbmFsKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZV9pbml0RmllbGRzKCkge1xuICAgIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZV9pbml0RmllbGRzID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgR2l0aHViVGVzdHNMb2FkZXIkVGVzdEZpbGVUeXBlJFNQRUNfVEVTVF9pbnN0YW5jZSA9IG5ldyBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUoJ1NQRUNfVEVTVCcsIDApO1xuICAgIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSRJTVBMRU1FTlRBVElPTl9URVNUX2luc3RhbmNlID0gbmV3IEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSgnSU1QTEVNRU5UQVRJT05fVEVTVCcsIDEpO1xuICB9XG4gIHZhciBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUkU1BFQ19URVNUX2luc3RhbmNlO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUkU1BFQ19URVNUX2dldEluc3RhbmNlKCkge1xuICAgIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSRTUEVDX1RFU1RfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSRJTVBMRU1FTlRBVElPTl9URVNUX2luc3RhbmNlO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUkSU1QTEVNRU5UQVRJT05fVEVTVF9nZXRJbnN0YW5jZSgpIHtcbiAgICBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUkSU1QTEVNRU5UQVRJT05fVEVTVF9pbnN0YW5jZTtcbiAgfVxuICBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdEZpbGVUeXBlJywgaW50ZXJmYWNlczogW0VudW1dfTtcbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkVGVzdEZpbGVUeXBlJHZhbHVlcygpIHtcbiAgICByZXR1cm4gW0dpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSRTUEVDX1RFU1RfZ2V0SW5zdGFuY2UoKSwgR2l0aHViVGVzdHNMb2FkZXIkVGVzdEZpbGVUeXBlJElNUExFTUVOVEFUSU9OX1RFU1RfZ2V0SW5zdGFuY2UoKV07XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIkVGVzdEZpbGVUeXBlLnZhbHVlcyA9IEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSR2YWx1ZXM7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSR2YWx1ZU9mKG5hbWUpIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ1NQRUNfVEVTVCc6XG4gICAgICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUkU1BFQ19URVNUX2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdJTVBMRU1FTlRBVElPTl9URVNUJzpcbiAgICAgICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSRJTVBMRU1FTlRBVElPTl9URVNUX2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMudGVzdHMubG9hZGVycy5HaXRodWJUZXN0c0xvYWRlci5UZXN0RmlsZVR5cGUuJyArIG5hbWUpO1xuICAgIH1cbiAgfVxuICBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUudmFsdWVPZl82MXpwb2UkID0gR2l0aHViVGVzdHNMb2FkZXIkVGVzdEZpbGVUeXBlJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbigpIHtcbiAgICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuUkFXX0dJVEhVQl9VUkxfMCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSmV0QnJhaW5zL2tvdGxpbic7XG4gICAgdGhpcy5TUEVDX1RFU1RfREFUQV9QQVRIID0gJ2NvbXBpbGVyL3Rlc3RzLXNwZWMvdGVzdERhdGEnO1xuICAgIHRoaXMuTElOS0VEX1NQRUNfVEVTVFNfRk9MREVSID0gJ2xpbmtlZCc7XG4gICAgdGhpcy5ERUZBVUxUX0JSQU5DSCA9ICdzcGVjLXRlc3RzJztcbiAgICB0aGlzLnJlc3VsdE1hcCA9IExpbmtlZEhhc2hNYXBfaW5pdCgpO1xuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuZ2V0QnJhbmNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiAodG1wJCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3BlYy10ZXN0cy1icmFuY2gnKSkgIT0gbnVsbCA/IHRtcCQgOiB0aGlzLkRFRkFVTFRfQlJBTkNIO1xuICB9O1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhKGNsb3N1cmUkdGVzdENvbnRhaW5lck1hcCwgY2xvc3VyZSRyZXF1ZXN0UmVzb2x2ZSwgY2xvc3VyZSR0ZXN0RWxlbWVudEluZm8sIGNsb3N1cmUkdGVzdFBhdGgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gZW5zdXJlTm90TnVsbChjbG9zdXJlJHRlc3RDb250YWluZXJNYXAuZ2V0XzExcmIkKCdjb250ZW50UGF0aCcpKTtcbiAgICAgIHZhciB0ZXN0Q29udGFpbmVyID0gbmV3IFRlc3RDb250YWluZXIoZW5zdXJlTm90TnVsbChjbG9zdXJlJHRlc3RDb250YWluZXJNYXAuZ2V0XzExcmIkKCdjb250ZW50JykpLCB0bXAkKTtcbiAgICAgIGNsb3N1cmUkcmVxdWVzdFJlc29sdmUobmV3IFRlc3QoY2xvc3VyZSR0ZXN0RWxlbWVudEluZm8sIHRlc3RDb250YWluZXIsIGNsb3N1cmUkdGVzdFBhdGgpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGxvYWRUZXN0RmlsZUZyb21SYXdHaXRodWIkbGFtYmRhKGNsb3N1cmUkY3VzdG9tRm9sZGVyLCBjbG9zdXJlJHBhdGgsIGNsb3N1cmUkdGVzdFBhdGhJblNwZWMsIHRoaXMkR2l0aHViVGVzdHNMb2FkZXIkLCBjbG9zdXJlJHRlc3RFbGVtZW50SW5mbywgY2xvc3VyZSR0ZXN0UGF0aCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVxdWVzdFJlc29sdmUsIHJlcXVlc3RSZWplY3QpIHtcbiAgICAgIHZhciB0ZXN0Q29udGFpbmVyTWFwID0gTGlua2VkSGFzaE1hcF9pbml0KCk7XG4gICAgICB2YXIgdGVzdHNQYXRocyA9IG5ldyBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kVGVzdHNQYXRocyhjbG9zdXJlJGN1c3RvbUZvbGRlciwgY2xvc3VyZSRwYXRoLCBjbG9zdXJlJHRlc3RQYXRoSW5TcGVjKTtcbiAgICAgIHZhciBxdWVyeUZvclRlc3RBcmVhID0gdGhpcyRHaXRodWJUZXN0c0xvYWRlciQuZ2V0UXVlcnlGb3JUZXN0XzAodGVzdENvbnRhaW5lck1hcCwgcmVxdWVzdFJlamVjdCwgdGVzdHNQYXRocyk7XG4gICAgICAkbW9kdWxlJGpxdWVyeS53aGVuKHF1ZXJ5Rm9yVGVzdEFyZWEpLnRoZW4oR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGxvYWRUZXN0RmlsZUZyb21SYXdHaXRodWIkbGFtYmRhJGxhbWJkYSh0ZXN0Q29udGFpbmVyTWFwLCByZXF1ZXN0UmVzb2x2ZSwgY2xvc3VyZSR0ZXN0RWxlbWVudEluZm8sIGNsb3N1cmUkdGVzdFBhdGgpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5sb2FkVGVzdEZpbGVGcm9tUmF3R2l0aHViX245OXB2eCQgPSBmdW5jdGlvbiAocGF0aCwgdGVzdFBhdGhJblNwZWMsIGN1c3RvbUZvbGRlciwgdGVzdEVsZW1lbnRJbmZvLCB0ZXN0UGF0aCkge1xuICAgIGlmICh0ZXN0UGF0aEluU3BlYyA9PT0gdm9pZCAwKVxuICAgICAgdGVzdFBhdGhJblNwZWMgPSBudWxsO1xuICAgIGlmIChjdXN0b21Gb2xkZXIgPT09IHZvaWQgMClcbiAgICAgIGN1c3RvbUZvbGRlciA9IG51bGw7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYShjdXN0b21Gb2xkZXIsIHBhdGgsIHRlc3RQYXRoSW5TcGVjLCB0aGlzLCB0ZXN0RWxlbWVudEluZm8sIHRlc3RQYXRoKSk7XG4gIH07XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGEodGhpcyRHaXRodWJUZXN0c0xvYWRlciQsIGNsb3N1cmUkcmVxdWVzdFJlc29sdmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgcHJpbnRsbignbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiBzdWNjZWVkIHJlc3VsdE1hcC5zaXplPScgKyB0b1N0cmluZyh0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJC5yZXN1bHRNYXAuc2l6ZSkpO1xuICAgICAgY2xvc3VyZSRyZXF1ZXN0UmVzb2x2ZSh0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJC5yZXN1bHRNYXApO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhXzAodGhpcyRHaXRodWJUZXN0c0xvYWRlciQsIGNsb3N1cmUkcmVxdWVzdFJlc29sdmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICBwcmludGxuKCdsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViIGZhaWwgcmVzdWx0TWFwLnNpemU9JyArIHRvU3RyaW5nKHRoaXMkR2l0aHViVGVzdHNMb2FkZXIkLnJlc3VsdE1hcC5zaXplKSk7XG4gICAgICBjbG9zdXJlJHJlcXVlc3RSZXNvbHZlKHRoaXMkR2l0aHViVGVzdHNMb2FkZXIkLnJlc3VsdE1hcCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYShjbG9zdXJlJGN1c3RvbUZvbGRlciwgY2xvc3VyZSRwYXRoLCBjbG9zdXJlJHRlc3RQYXRoSW5TcGVjLCBjbG9zdXJlJHRlc3RBcmVhc1RvTG9hZCwgY2xvc3VyZSR0ZXN0VHlwZSwgdGhpcyRHaXRodWJUZXN0c0xvYWRlciQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlcXVlc3RSZXNvbHZlLCByZXF1ZXN0UmVqZWN0KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciB0ZXN0c1BhdGhzID0gbmV3IEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRUZXN0c1BhdGhzKGNsb3N1cmUkY3VzdG9tRm9sZGVyLCBjbG9zdXJlJHBhdGgsIGNsb3N1cmUkdGVzdFBhdGhJblNwZWMpO1xuICAgICAgdmFyIHF1ZXJ5U2V0ID0gTGlua2VkSGFzaFNldF9pbml0KCk7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gY2xvc3VyZSR0ZXN0QXJlYXNUb0xvYWQ7XG4gICAgICB2YXIgdG1wJF8wO1xuICAgICAgdG1wJF8wID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMC5uZXh0KCk7XG4gICAgICAgIHZhciBjbG9zdXJlJHRlc3RUeXBlXzAgPSBjbG9zdXJlJHRlc3RUeXBlO1xuICAgICAgICBxdWVyeVNldC5hZGRfMTFyYiQodGhpcyRHaXRodWJUZXN0c0xvYWRlciQuZ2V0UXVlcnlGb3JUZXN0TWFwXzAoZWxlbWVudCwgY2xvc3VyZSR0ZXN0VHlwZV8wLCByZXF1ZXN0UmVqZWN0LCB0ZXN0c1BhdGhzKSk7XG4gICAgICB9XG4gICAgICB2YXIgcXVlcnlhcnJheSA9IGNvcHlUb0FycmF5KHF1ZXJ5U2V0KTtcbiAgICAgICh0bXAkID0gJG1vZHVsZSRqcXVlcnkpLndoZW4uYXBwbHkodG1wJCwgcXVlcnlhcnJheSkudGhlbihHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kbG9hZFRlc3RNYXBGaWxlRnJvbVJhd0dpdGh1YiRsYW1iZGEkbGFtYmRhKHRoaXMkR2l0aHViVGVzdHNMb2FkZXIkLCByZXF1ZXN0UmVzb2x2ZSksIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYSRsYW1iZGFfMCh0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJCwgcmVxdWVzdFJlc29sdmUpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5sb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViX2M3ODdiMyQgPSBmdW5jdGlvbiAocGF0aCwgdGVzdFBhdGhJblNwZWMsIHRlc3RUeXBlLCBjdXN0b21Gb2xkZXIsIHRlc3RBcmVhc1RvTG9hZCkge1xuICAgIGlmICh0ZXN0UGF0aEluU3BlYyA9PT0gdm9pZCAwKVxuICAgICAgdGVzdFBhdGhJblNwZWMgPSBudWxsO1xuICAgIGlmIChjdXN0b21Gb2xkZXIgPT09IHZvaWQgMClcbiAgICAgIGN1c3RvbUZvbGRlciA9IG51bGw7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRsb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViJGxhbWJkYShjdXN0b21Gb2xkZXIsIHBhdGgsIHRlc3RQYXRoSW5TcGVjLCB0ZXN0QXJlYXNUb0xvYWQsIHRlc3RUeXBlLCB0aGlzKSk7XG4gIH07XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRUZXN0c1BhdGhzKGN1c3RvbUZvbGRlciwgcGF0aCwgdGVzdFBhdGhJblNwZWMpIHtcbiAgICB0aGlzLmN1c3RvbUZvbGRlciA9IGN1c3RvbUZvbGRlcjtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMudGVzdFBhdGhJblNwZWMgPSB0ZXN0UGF0aEluU3BlYztcbiAgfVxuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kVGVzdHNQYXRocy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUZXN0c1BhdGhzJywgaW50ZXJmYWNlczogW119O1xuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmdldEZ1bGxQYXRoXzAgPSBmdW5jdGlvbiAodGVzdEZpbGVUeXBlLCB0ZXN0QXJlYSwgY3VzdG9tRm9sZGVyLCBwYXRoKSB7XG4gICAgc3dpdGNoICh0ZXN0RmlsZVR5cGUubmFtZSkge1xuICAgICAgY2FzZSAnU1BFQ19URVNUJzpcbiAgICAgICAgcmV0dXJuIGZvcm1hdCgnezF9L3syfS97M30vezR9L3s1fS97Nn0nLCBbdGhpcy5SQVdfR0lUSFVCX1VSTF8wLCB0aGlzLmdldEJyYW5jaCgpLCB0aGlzLlNQRUNfVEVTVF9EQVRBX1BBVEgsIHRlc3RBcmVhLnBhdGgsIGN1c3RvbUZvbGRlciAhPSBudWxsID8gY3VzdG9tRm9sZGVyIDogdGhpcy5MSU5LRURfU1BFQ19URVNUU19GT0xERVIsIHBhdGhdKTtcbiAgICAgIGNhc2UgJ0lNUExFTUVOVEFUSU9OX1RFU1QnOlxuICAgICAgICByZXR1cm4gZm9ybWF0KCd7MX0vezJ9L3szfScsIFt0aGlzLlJBV19HSVRIVUJfVVJMXzAsIHRoaXMuZ2V0QnJhbmNoKCksIHBhdGhdKTtcbiAgICAgIGRlZmF1bHQ6cmV0dXJuIEtvdGxpbi5ub1doZW5CcmFuY2hNYXRjaGVkKCk7XG4gICAgfVxuICB9O1xuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmdldEZ1bGxQYXRoRm9yVGVzdF8wID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICByZXR1cm4gZm9ybWF0KCd7MX0vezJ9L3szfScsIFt0aGlzLlJBV19HSVRIVUJfVVJMXzAsIHRoaXMuZ2V0QnJhbmNoKCksIHBhdGhdKTtcbiAgfTtcbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5JGxhbWJkYShjbG9zdXJlJHJlcXVlc3RSZWplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICBjbG9zdXJlJHJlcXVlc3RSZWplY3QoRXhjZXB0aW9uX2luaXRfMCgpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5JGxhbWJkYV8wKGNsb3N1cmUkcmVzdWx0TWFwLCBjbG9zdXJlJHRlc3RBcmVhLCBjbG9zdXJlJHRlc3RzUGF0aHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlc3BvbnNlLCBmKSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gY2xvc3VyZSRyZXN1bHRNYXA7XG4gICAgICB2YXIgcGFpciA9IG5ldyBQYWlyKGNsb3N1cmUkdGVzdEFyZWEuY29udGVudCwgdG9TdHJpbmcocmVzcG9uc2UpKTtcbiAgICAgICRyZWNlaXZlci5wdXRfeHd6YzlwJChwYWlyLmZpcnN0LCBwYWlyLnNlY29uZCk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBjbG9zdXJlJHJlc3VsdE1hcDtcbiAgICAgIHZhciB0bXAkXzA7XG4gICAgICB2YXIgcGFpcl8wID0gbmV3IFBhaXIoY2xvc3VyZSR0ZXN0QXJlYS5jb250ZW50UGF0aCwgKHRtcCRfMCA9IGNsb3N1cmUkdGVzdHNQYXRocy50ZXN0UGF0aEluU3BlYykgIT0gbnVsbCA/IHRtcCRfMCA6IGNsb3N1cmUkdGVzdHNQYXRocy5wYXRoKTtcbiAgICAgIHRtcCQucHV0X3h3emM5cCQocGFpcl8wLmZpcnN0LCBwYWlyXzAuc2Vjb25kKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5JGxhbWJkYV8xKGl0KSB7XG4gICAgcmV0dXJuIFVuaXQ7XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5nZXRRdWVyeV8wID0gZnVuY3Rpb24gKHRlc3RBcmVhLCByZXN1bHRNYXAsIHRlc3RUeXBlLCByZXF1ZXN0UmVqZWN0LCB0ZXN0c1BhdGhzKSB7XG4gICAgcmV0dXJuICRtb2R1bGUkanF1ZXJ5LmFqYXgodGhpcy5nZXRGdWxsUGF0aF8wKHRlc3RUeXBlLCB0ZXN0QXJlYSwgdGVzdHNQYXRocy5jdXN0b21Gb2xkZXIsIHRlc3RzUGF0aHMucGF0aCksIHRoaXMualF1ZXJ5QWpheFNldHRpbmdzXzAoR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5JGxhbWJkYShyZXF1ZXN0UmVqZWN0KSkpLnRoZW4oR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5JGxhbWJkYV8wKHJlc3VsdE1hcCwgdGVzdEFyZWEsIHRlc3RzUGF0aHMpLCBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kZ2V0UXVlcnkkbGFtYmRhXzEpO1xuICB9O1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kZ2V0UXVlcnlGb3JUZXN0TWFwJGxhbWJkYShpdCkge1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRnZXRRdWVyeUZvclRlc3RNYXAkbGFtYmRhXzAoY2xvc3VyZSR0ZXN0c1BhdGhzLCB0aGlzJEdpdGh1YlRlc3RzTG9hZGVyJCwgY2xvc3VyZSR0ZXN0QXJlYSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVzcG9uc2UsIGYpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICBwcmludGxuKCctLS0tLS0tLS0tLS0tJyk7XG4gICAgICB0bXAkXzAgPSAodG1wJCA9IGNsb3N1cmUkdGVzdHNQYXRocy50ZXN0UGF0aEluU3BlYykgIT0gbnVsbCA/IHRtcCQgOiBjbG9zdXJlJHRlc3RzUGF0aHMucGF0aDtcbiAgICAgIHZhciB0ZXN0TWFwRGF0YSA9IG5ldyBUZXN0TWFwRGF0YSh0b1N0cmluZyhyZXNwb25zZSksIHRtcCRfMCk7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcyRHaXRodWJUZXN0c0xvYWRlciQucmVzdWx0TWFwO1xuICAgICAgdmFyIGtleSA9IGNsb3N1cmUkdGVzdEFyZWE7XG4gICAgICAkcmVjZWl2ZXIucHV0X3h3emM5cCQoa2V5LCB0ZXN0TWFwRGF0YSk7XG4gICAgICBwcmludGxuKCdnZXRRdWVyeUZvclRlc3RNYXA6IHJlc3VsdE1hcC5zaXplID0nICsgdG9TdHJpbmcodGhpcyRHaXRodWJUZXN0c0xvYWRlciQucmVzdWx0TWFwLnNpemUpICsgJyB0ZXN0QXJlYT0nICsgY2xvc3VyZSR0ZXN0QXJlYS5wYXRoKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uLnByb3RvdHlwZS5nZXRRdWVyeUZvclRlc3RNYXBfMCA9IGZ1bmN0aW9uICh0ZXN0QXJlYSwgdGVzdFR5cGUsIHJlcXVlc3RSZWplY3QsIHRlc3RzUGF0aHMpIHtcbiAgICByZXR1cm4gJG1vZHVsZSRqcXVlcnkuYWpheCh0aGlzLmdldEZ1bGxQYXRoXzAodGVzdFR5cGUsIHRlc3RBcmVhLCB0ZXN0c1BhdGhzLmN1c3RvbUZvbGRlciwgdGVzdHNQYXRocy5wYXRoKSwgdGhpcy5qUXVlcnlBamF4U2V0dGluZ3NfMChHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kZ2V0UXVlcnlGb3JUZXN0TWFwJGxhbWJkYSkpLnRoZW4oR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5Rm9yVGVzdE1hcCRsYW1iZGFfMCh0ZXN0c1BhdGhzLCB0aGlzLCB0ZXN0QXJlYSkpO1xuICB9O1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kZ2V0UXVlcnlGb3JUZXN0JGxhbWJkYShjbG9zdXJlJHJlcXVlc3RSZWplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICBjbG9zdXJlJHJlcXVlc3RSZWplY3QoRXhjZXB0aW9uX2luaXRfMCgpKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5Rm9yVGVzdCRsYW1iZGFfMChjbG9zdXJlJHRlc3RDb250YWluZXJNYXAsIGNsb3N1cmUkdGVzdHNQYXRocykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVzcG9uc2UsIHJlamVjdCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gY2xvc3VyZSR0ZXN0Q29udGFpbmVyTWFwO1xuICAgICAgdmFyIHZhbHVlID0gdG9TdHJpbmcocmVzcG9uc2UpO1xuICAgICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKCdjb250ZW50JywgdmFsdWUpO1xuICAgICAgdmFyICRyZWNlaXZlcl8wID0gY2xvc3VyZSR0ZXN0Q29udGFpbmVyTWFwO1xuICAgICAgdmFyIGtleSA9ICdjb250ZW50UGF0aCc7XG4gICAgICB2YXIgdmFsdWVfMCA9ICh0bXAkID0gY2xvc3VyZSR0ZXN0c1BhdGhzLnRlc3RQYXRoSW5TcGVjKSAhPSBudWxsID8gdG1wJCA6IGNsb3N1cmUkdGVzdHNQYXRocy5wYXRoO1xuICAgICAgJHJlY2VpdmVyXzAucHV0X3h3emM5cCQoa2V5LCB2YWx1ZV8wKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5Rm9yVGVzdCRsYW1iZGFfMShpdCkge1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuZ2V0UXVlcnlGb3JUZXN0XzAgPSBmdW5jdGlvbiAodGVzdENvbnRhaW5lck1hcCwgcmVxdWVzdFJlamVjdCwgdGVzdHNQYXRocykge1xuICAgIHJldHVybiAkbW9kdWxlJGpxdWVyeS5hamF4KHRoaXMuZ2V0RnVsbFBhdGhGb3JUZXN0XzAodGVzdHNQYXRocy5wYXRoKSwgdGhpcy5qUXVlcnlBamF4U2V0dGluZ3NfMChHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kZ2V0UXVlcnlGb3JUZXN0JGxhbWJkYShyZXF1ZXN0UmVqZWN0KSkpLnRoZW4oR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5Rm9yVGVzdCRsYW1iZGFfMCh0ZXN0Q29udGFpbmVyTWFwLCB0ZXN0c1BhdGhzKSwgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGdldFF1ZXJ5Rm9yVGVzdCRsYW1iZGFfMSk7XG4gIH07XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRqUXVlcnlBamF4U2V0dGluZ3MkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJHJlcXVlc3RSZWplY3QpIHtcbiAgICB0aGlzLmNsb3N1cmUkcmVxdWVzdFJlamVjdCA9IGNsb3N1cmUkcmVxdWVzdFJlamVjdDtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGpRdWVyeUFqYXhTZXR0aW5ncyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2NhY2hlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSwgc2V0OiBmdW5jdGlvbiAoZikge1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kalF1ZXJ5QWpheFNldHRpbmdzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAndHlwZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ0dFVCc7XG4gIH0sIHNldDogZnVuY3Rpb24gKGYpIHtcbiAgfX0pO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kalF1ZXJ5QWpheFNldHRpbmdzJE9iamVjdExpdGVyYWwkZ2V0X0dpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRqUXVlcnlBamF4U2V0dGluZ3MkT2JqZWN0TGl0ZXJhbCRlcnJvciRsYW1iZGEoY2xvc3VyZSRyZXF1ZXN0UmVqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBmXzAsIGZfMSkge1xuICAgICAgY2xvc3VyZSRyZXF1ZXN0UmVqZWN0KEV4Y2VwdGlvbl9pbml0XzAoKSk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24kalF1ZXJ5QWpheFNldHRpbmdzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnZXJyb3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRqUXVlcnlBamF4U2V0dGluZ3MkT2JqZWN0TGl0ZXJhbCRnZXRfR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGpRdWVyeUFqYXhTZXR0aW5ncyRPYmplY3RMaXRlcmFsJGVycm9yJGxhbWJkYSh0aGlzLmNsb3N1cmUkcmVxdWVzdFJlamVjdCk7XG4gIH19KTtcbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uJGpRdWVyeUFqYXhTZXR0aW5ncyRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW119O1xuICBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb24ucHJvdG90eXBlLmpRdWVyeUFqYXhTZXR0aW5nc18wID0gZnVuY3Rpb24gKHJlcXVlc3RSZWplY3QpIHtcbiAgICByZXR1cm4gbmV3IEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRqUXVlcnlBamF4U2V0dGluZ3MkT2JqZWN0TGl0ZXJhbChyZXF1ZXN0UmVqZWN0KTtcbiAgfTtcbiAgR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gR2l0aHViVGVzdHNMb2FkZXIkQ29tcGFuaW9uX2luc3RhbmNlO1xuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdHaXRodWJUZXN0c0xvYWRlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXJUeXBlKG5hbWUsIG9yZGluYWwpIHtcbiAgICBFbnVtLmNhbGwodGhpcyk7XG4gICAgdGhpcy5uYW1lJCA9IG5hbWU7XG4gICAgdGhpcy5vcmRpbmFsJCA9IG9yZGluYWw7XG4gIH1cbiAgZnVuY3Rpb24gR2l0aHViVGVzdHNMb2FkZXJUeXBlX2luaXRGaWVsZHMoKSB7XG4gICAgR2l0aHViVGVzdHNMb2FkZXJUeXBlX2luaXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBHaXRodWJUZXN0c0xvYWRlclR5cGUkRElSRUNUTFlfaW5zdGFuY2UgPSBuZXcgR2l0aHViVGVzdHNMb2FkZXJUeXBlKCdESVJFQ1RMWScsIDApO1xuICAgIEdpdGh1YlRlc3RzTG9hZGVyVHlwZSRVU0lOR19BUElfaW5zdGFuY2UgPSBuZXcgR2l0aHViVGVzdHNMb2FkZXJUeXBlKCdVU0lOR19BUEknLCAxKTtcbiAgICBHaXRodWJUZXN0c0xvYWRlclR5cGUkVVNJTkdfVEVTVFNfTUFQX0ZJTEVfaW5zdGFuY2UgPSBuZXcgR2l0aHViVGVzdHNMb2FkZXJUeXBlKCdVU0lOR19URVNUU19NQVBfRklMRScsIDIpO1xuICB9XG4gIHZhciBHaXRodWJUZXN0c0xvYWRlclR5cGUkRElSRUNUTFlfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyVHlwZSRESVJFQ1RMWV9nZXRJbnN0YW5jZSgpIHtcbiAgICBHaXRodWJUZXN0c0xvYWRlclR5cGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlclR5cGUkRElSRUNUTFlfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIEdpdGh1YlRlc3RzTG9hZGVyVHlwZSRVU0lOR19BUElfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIEdpdGh1YlRlc3RzTG9hZGVyVHlwZSRVU0lOR19BUElfZ2V0SW5zdGFuY2UoKSB7XG4gICAgR2l0aHViVGVzdHNMb2FkZXJUeXBlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gR2l0aHViVGVzdHNMb2FkZXJUeXBlJFVTSU5HX0FQSV9pbnN0YW5jZTtcbiAgfVxuICB2YXIgR2l0aHViVGVzdHNMb2FkZXJUeXBlJFVTSU5HX1RFU1RTX01BUF9GSUxFX2luc3RhbmNlO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlclR5cGUkVVNJTkdfVEVTVFNfTUFQX0ZJTEVfZ2V0SW5zdGFuY2UoKSB7XG4gICAgR2l0aHViVGVzdHNMb2FkZXJUeXBlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gR2l0aHViVGVzdHNMb2FkZXJUeXBlJFVTSU5HX1RFU1RTX01BUF9GSUxFX2luc3RhbmNlO1xuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyVHlwZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdHaXRodWJUZXN0c0xvYWRlclR5cGUnLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlclR5cGUkdmFsdWVzKCkge1xuICAgIHJldHVybiBbR2l0aHViVGVzdHNMb2FkZXJUeXBlJERJUkVDVExZX2dldEluc3RhbmNlKCksIEdpdGh1YlRlc3RzTG9hZGVyVHlwZSRVU0lOR19BUElfZ2V0SW5zdGFuY2UoKSwgR2l0aHViVGVzdHNMb2FkZXJUeXBlJFVTSU5HX1RFU1RTX01BUF9GSUxFX2dldEluc3RhbmNlKCldO1xuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyVHlwZS52YWx1ZXMgPSBHaXRodWJUZXN0c0xvYWRlclR5cGUkdmFsdWVzO1xuICBmdW5jdGlvbiBHaXRodWJUZXN0c0xvYWRlclR5cGUkdmFsdWVPZihuYW1lKSB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdESVJFQ1RMWSc6XG4gICAgICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlclR5cGUkRElSRUNUTFlfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ1VTSU5HX0FQSSc6XG4gICAgICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlclR5cGUkVVNJTkdfQVBJX2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdVU0lOR19URVNUU19NQVBfRklMRSc6XG4gICAgICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlclR5cGUkVVNJTkdfVEVTVFNfTUFQX0ZJTEVfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGRlZmF1bHQ6dGhyb3dJU0UoJ05vIGVudW0gY29uc3RhbnQgb3JnLmpldGJyYWlucy5rb3RsaW4uc3BlYy50ZXN0cy5sb2FkZXJzLkdpdGh1YlRlc3RzTG9hZGVyVHlwZS4nICsgbmFtZSk7XG4gICAgfVxuICB9XG4gIEdpdGh1YlRlc3RzTG9hZGVyVHlwZS52YWx1ZU9mXzYxenBvZSQgPSBHaXRodWJUZXN0c0xvYWRlclR5cGUkdmFsdWVPZjtcbiAgZnVuY3Rpb24gTG9hZGVyQnlUZXN0c01hcEZpbGUoKSB7XG4gICAgdGhpcy50ZXN0c01hcEZpbGVuYW1lXzAgPSAndGVzdHNNYXAuanNvbic7XG4gIH1cbiAgTG9hZGVyQnlUZXN0c01hcEZpbGUucHJvdG90eXBlLmxvYWRUZXN0c01hcEZpbGVfMCA9IGZ1bmN0aW9uIChzZWN0aW9uc1BhdGgsIHRlc3RBcmVhc1RvTG9hZCkge1xuICAgIHJldHVybiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5sb2FkVGVzdE1hcEZpbGVGcm9tUmF3R2l0aHViX2M3ODdiMyQoc2VjdGlvbnNQYXRoICsgJy8nICsgdGhpcy50ZXN0c01hcEZpbGVuYW1lXzAsIG51bGwsIEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSRTUEVDX1RFU1RfZ2V0SW5zdGFuY2UoKSwgdm9pZCAwLCB0ZXN0QXJlYXNUb0xvYWQpO1xuICB9O1xuICBMb2FkZXJCeVRlc3RzTWFwRmlsZS5wcm90b3R5cGUuZ2V0UHJvbWlzZXNGb3JUZXN0RmlsZXNGcm9tVGVzdE1hcF8wID0gZnVuY3Rpb24gKHRlc3RzTWFwRGF0YSwgc2VjdGlvbnNQYXRoLCBzZWN0aW9uTmFtZSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMSwgdG1wJF8yO1xuICAgIHZhciBwcm9taXNlcyA9IEFycmF5TGlzdF9pbml0KCk7XG4gICAgdG1wJCA9IHRlc3RzTWFwRGF0YSAhPSBudWxsID8gdGVzdHNNYXBEYXRhLnRlc3RNYXBKc29uRWxlbWVudCA6IG51bGw7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvcHlUb0FycmF5KHByb21pc2VzKTtcbiAgICB9XG4gICAgdmFyIHRlc3RzTWFwID0gdG1wJDtcbiAgICB0bXAkXzAgPSB0ZXN0c01hcC5qc29uT2JqZWN0LmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgdmFyIHRtcCRfMyA9IHRtcCRfMC5uZXh0KCk7XG4gICAgICB2YXIgcGFyYWdyYXBoID0gdG1wJF8zLmtleTtcbiAgICAgIHZhciB0ZXN0c0J5UGFyYWdyYXBocyA9IHRtcCRfMy52YWx1ZTtcbiAgICAgIHRtcCRfMSA9IHRlc3RzQnlQYXJhZ3JhcGhzLmpzb25PYmplY3QuZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCRfMS5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIHRtcCRfNCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIHZhciB0ZXN0VHlwZSA9IHRtcCRfNC5rZXk7XG4gICAgICAgIHZhciB0ZXN0c0J5VHlwZXMgPSB0bXAkXzQudmFsdWU7XG4gICAgICAgIHRtcCRfMiA9IHRlc3RzQnlUeXBlcy5qc29uT2JqZWN0LmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCRfMi5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgdG1wJF81ID0gdG1wJF8yLm5leHQoKTtcbiAgICAgICAgICB2YXIgdGVzdFNlbnRlbmNlID0gdG1wJF81LmtleTtcbiAgICAgICAgICB2YXIgdGVzdHNCeVNlbnRlbmNlcyA9IHRtcCRfNS52YWx1ZTtcbiAgICAgICAgICB2YXIgdG1wJF82LCB0bXAkXzBfMDtcbiAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgIHRtcCRfNiA9IHRlc3RzQnlTZW50ZW5jZXMuanNvbkFycmF5Lml0ZXJhdG9yKCk7XG4gICAgICAgICAgd2hpbGUgKHRtcCRfNi5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdG1wJF82Lm5leHQoKTtcbiAgICAgICAgICAgIHZhciBpID0gY2hlY2tJbmRleE92ZXJmbG93KCh0bXAkXzBfMCA9IGluZGV4LCBpbmRleCA9IHRtcCRfMF8wICsgMSB8IDAsIHRtcCRfMF8wKSk7XG4gICAgICAgICAgICB2YXIgdG1wJF83LCB0bXAkXzg7XG4gICAgICAgICAgICB2YXIgdGVzdFBhdGhJblNwZWMgPSBmb3JtYXQoJ3sxfS57Mn0ucC17M30uezR9Lns1fS57Nn0nLCBbam9pblRvU3RyaW5nKHNlY3Rpb25zUGF0aCwgJy4nKSwgc2VjdGlvbk5hbWUsIHBhcmFncmFwaCwgdGVzdFR5cGUsIHRlc3RTZW50ZW5jZSwgaSArIDEgfCAwXSk7XG4gICAgICAgICAgICB2YXIgdGVzdEZpbGVQYXRoID0gZW5zdXJlTm90TnVsbCgodG1wJF84ID0gKHRtcCRfNyA9IGl0ZW0uanNvbk9iamVjdC5nZXRfMTFyYiQoJ3BhdGgnKSkgIT0gbnVsbCA/IHRtcCRfNy5wcmltaXRpdmUgOiBudWxsKSAhPSBudWxsID8gdG1wJF84LmNvbnRlbnQgOiBudWxsKTtcbiAgICAgICAgICAgIHZhciB0ZXN0RWxlbWVudEluZm8gPSBuZXcgVGVzdEVsZW1lbnRJbmZvKGl0ZW0uanNvbk9iamVjdCk7XG4gICAgICAgICAgICBpZiAodGVzdEVsZW1lbnRJbmZvLnBhdGgubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICB0ZXN0RWxlbWVudEluZm8ucGF0aCA9IGZvcm1hdCgnezF9L3syfS9wLXszfS97NH0vezV9Lns2fS5rdCcsIFtqb2luVG9TdHJpbmcoc2VjdGlvbnNQYXRoLCAnLycpLCBzZWN0aW9uTmFtZSwgcGFyYWdyYXBoLCB0ZXN0VHlwZSwgdGVzdFNlbnRlbmNlLCBpICsgMSB8IDBdKTtcbiAgICAgICAgICAgIHByb21pc2VzLmFkZF8xMXJiJChHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5sb2FkVGVzdEZpbGVGcm9tUmF3R2l0aHViX245OXB2eCQodGVzdEZpbGVQYXRoLCB0ZXN0UGF0aEluU3BlYywgdm9pZCAwLCB0ZXN0RWxlbWVudEluZm8sIG5ldyBUZXN0UGF0aChwYXJhZ3JhcGgsIHRlc3RUeXBlLCB0ZXN0U2VudGVuY2UpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb3B5VG9BcnJheShwcm9taXNlcyk7XG4gIH07XG4gIGZ1bmN0aW9uIExvYWRlckJ5VGVzdHNNYXBGaWxlJGxvYWRUZXN0RmlsZXNGb3JTZWN0aW9uQnlUZXN0TWFwc05ldyRsYW1iZGEkbGFtYmRhKGNsb3N1cmUkdGVzdEFyZWFzVG9Mb2FkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIG5ldyBTZWN0aW9uVGVzdFNldChjbG9zdXJlJHRlc3RBcmVhc1RvTG9hZCk7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBMb2FkZXJCeVRlc3RzTWFwRmlsZSRsb2FkVGVzdEZpbGVzRm9yU2VjdGlvbkJ5VGVzdE1hcHNOZXckbGFtYmRhKGNsb3N1cmUkdGVzdEFyZWFzVG9Mb2FkLCBjbG9zdXJlJHNlY3Rpb25zUGF0aCwgY2xvc3VyZSRzZWN0aW9uTmFtZSwgdGhpcyRMb2FkZXJCeVRlc3RzTWFwRmlsZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGVzdHNNYXBEYXRhRm9yU2VjdGlvbkJ5VGVzdEFyZWFNYXApIHtcbiAgICAgIHZhciBxdWVyeVNldCA9IEFycmF5TGlzdF9pbml0KCk7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gY2xvc3VyZSR0ZXN0QXJlYXNUb0xvYWQ7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgICB2YXIgY2xvc3VyZSRzZWN0aW9uc1BhdGhfMCA9IGNsb3N1cmUkc2VjdGlvbnNQYXRoO1xuICAgICAgICB2YXIgY2xvc3VyZSRzZWN0aW9uTmFtZV8wID0gY2xvc3VyZSRzZWN0aW9uTmFtZTtcbiAgICAgICAgcXVlcnlTZXQuYWRkXzExcmIkKHRoaXMkTG9hZGVyQnlUZXN0c01hcEZpbGUuZ2V0UHJvbWlzZUZvclRlc3RzXzAoZWxlbWVudCwgdGVzdHNNYXBEYXRhRm9yU2VjdGlvbkJ5VGVzdEFyZWFNYXAsIGNsb3N1cmUkc2VjdGlvbnNQYXRoXzAsIGNsb3N1cmUkc2VjdGlvbk5hbWVfMCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGNvcHlUb0FycmF5KHF1ZXJ5U2V0KSkudGhlbihMb2FkZXJCeVRlc3RzTWFwRmlsZSRsb2FkVGVzdEZpbGVzRm9yU2VjdGlvbkJ5VGVzdE1hcHNOZXckbGFtYmRhJGxhbWJkYShjbG9zdXJlJHRlc3RBcmVhc1RvTG9hZCkpO1xuICAgIH07XG4gIH1cbiAgTG9hZGVyQnlUZXN0c01hcEZpbGUucHJvdG90eXBlLmxvYWRUZXN0RmlsZXNGb3JTZWN0aW9uQnlUZXN0TWFwc05ld184cW16NmskID0gZnVuY3Rpb24gKHNlY3Rpb25OYW1lLCBzZWN0aW9uc1BhdGgsIHRlc3RBcmVhc1RvTG9hZCkge1xuICAgIHJldHVybiB0aGlzLmxvYWRUZXN0c01hcEZpbGVfMChqb2luVG9TdHJpbmcoc2VjdGlvbnNQYXRoLCAnLycpICsgJy8nICsgc2VjdGlvbk5hbWUsIHRlc3RBcmVhc1RvTG9hZCkudGhlbihMb2FkZXJCeVRlc3RzTWFwRmlsZSRsb2FkVGVzdEZpbGVzRm9yU2VjdGlvbkJ5VGVzdE1hcHNOZXckbGFtYmRhKHRlc3RBcmVhc1RvTG9hZCwgc2VjdGlvbnNQYXRoLCBzZWN0aW9uTmFtZSwgdGhpcykpO1xuICB9O1xuICBmdW5jdGlvbiBMb2FkZXJCeVRlc3RzTWFwRmlsZSRnZXRQcm9taXNlRm9yVGVzdHMkbGFtYmRhKGNsb3N1cmUkdGVzdEFyZWEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRlc3RzKSB7XG4gICAgICBhZGRBbGwoY2xvc3VyZSR0ZXN0QXJlYS5saXN0T2ZUZXN0cywgdGVzdHMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfVxuICBMb2FkZXJCeVRlc3RzTWFwRmlsZS5wcm90b3R5cGUuZ2V0UHJvbWlzZUZvclRlc3RzXzAgPSBmdW5jdGlvbiAodGVzdEFyZWEsIHRlc3RzTWFwRGF0YUZvclNlY3Rpb25CeVRlc3RBcmVhRW51bU1hcCwgc2VjdGlvbnNQYXRoLCBzZWN0aW9uTmFtZSkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLmdldFByb21pc2VzRm9yVGVzdEZpbGVzRnJvbVRlc3RNYXBfMCh0ZXN0c01hcERhdGFGb3JTZWN0aW9uQnlUZXN0QXJlYUVudW1NYXAuZ2V0XzExcmIkKHRlc3RBcmVhKSwgc2VjdGlvbnNQYXRoLCBzZWN0aW9uTmFtZSkpLnRoZW4oTG9hZGVyQnlUZXN0c01hcEZpbGUkZ2V0UHJvbWlzZUZvclRlc3RzJGxhbWJkYSh0ZXN0QXJlYSkpO1xuICB9O1xuICBMb2FkZXJCeVRlc3RzTWFwRmlsZS5wcm90b3R5cGUubG9hZFRlc3RGaWxlc19kcjh1ZWEkID0gZnVuY3Rpb24gKHNlY3Rpb25OYW1lLCBzZWN0aW9uc1BhdGgsIHBhcmFncmFwaHNJbmZvKSB7XG4gICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3JfaW5pdCgpO1xuICB9O1xuICBMb2FkZXJCeVRlc3RzTWFwRmlsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMb2FkZXJCeVRlc3RzTWFwRmlsZScsIGludGVyZmFjZXM6IFtHaXRodWJUZXN0c0xvYWRlcl19O1xuICBmdW5jdGlvbiBQb3B1cENvbmZpZyh3aWR0aCwgaGVpZ2h0LCB0aXRsZSwgY29udGVudCwgbWF4SGVpZ2h0KSB7XG4gICAgaWYgKG1heEhlaWdodCA9PT0gdm9pZCAwKVxuICAgICAgbWF4SGVpZ2h0ID0gbnVsbDtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvcHVwQ29uZmlnLnByb3RvdHlwZSwgJ29wdGltaXplZFdpZHRoJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHZhciAkcmVjZWl2ZXIgPSBudW1iZXJUb0ludCgkbW9kdWxlJGpxdWVyeShlbnN1cmVOb3ROdWxsKGRvY3VtZW50LmJvZHkpKS53aWR0aCgpKTtcbiAgICByZXR1cm4gKCRyZWNlaXZlciAtIDUwIHwgMCkgPCB0aGlzLndpZHRoID8gJHJlY2VpdmVyIC0gNTAgfCAwIDogdGhpcy53aWR0aDtcbiAgfX0pO1xuICBQb3B1cENvbmZpZy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQb3B1cENvbmZpZycsIGludGVyZmFjZXM6IFtdfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGg7XG4gIH07XG4gIFBvcHVwQ29uZmlnLnByb3RvdHlwZS5jb21wb25lbnQyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmNvbXBvbmVudDMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gIH07XG4gIFBvcHVwQ29uZmlnLnByb3RvdHlwZS5jb21wb25lbnQ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gIH07XG4gIFBvcHVwQ29uZmlnLnByb3RvdHlwZS5jb21wb25lbnQ1ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1heEhlaWdodDtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmNvcHlfZWxiNGU3JCA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCB0aXRsZSwgY29udGVudCwgbWF4SGVpZ2h0KSB7XG4gICAgcmV0dXJuIG5ldyBQb3B1cENvbmZpZyh3aWR0aCA9PT0gdm9pZCAwID8gdGhpcy53aWR0aCA6IHdpZHRoLCBoZWlnaHQgPT09IHZvaWQgMCA/IHRoaXMuaGVpZ2h0IDogaGVpZ2h0LCB0aXRsZSA9PT0gdm9pZCAwID8gdGhpcy50aXRsZSA6IHRpdGxlLCBjb250ZW50ID09PSB2b2lkIDAgPyB0aGlzLmNvbnRlbnQgOiBjb250ZW50LCBtYXhIZWlnaHQgPT09IHZvaWQgMCA/IHRoaXMubWF4SGVpZ2h0IDogbWF4SGVpZ2h0KTtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnUG9wdXBDb25maWcod2lkdGg9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLndpZHRoKSArICgnLCBoZWlnaHQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmhlaWdodCkpICsgKCcsIHRpdGxlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy50aXRsZSkpICsgKCcsIGNvbnRlbnQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmNvbnRlbnQpKSArICgnLCBtYXhIZWlnaHQ9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLm1heEhlaWdodCkpICsgJyknO1xuICB9O1xuICBQb3B1cENvbmZpZy5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy53aWR0aCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuaGVpZ2h0KSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy50aXRsZSkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuY29udGVudCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMubWF4SGVpZ2h0KSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgUG9wdXBDb25maWcucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiAoS290bGluLmVxdWFscyh0aGlzLndpZHRoLCBvdGhlci53aWR0aCkgJiYgS290bGluLmVxdWFscyh0aGlzLmhlaWdodCwgb3RoZXIuaGVpZ2h0KSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudGl0bGUsIG90aGVyLnRpdGxlKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuY29udGVudCwgb3RoZXIuY29udGVudCkgJiYgS290bGluLmVxdWFscyh0aGlzLm1heEhlaWdodCwgb3RoZXIubWF4SGVpZ2h0KSkpKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFBvcHVwU2VsZWN0b3JzKG1haW4sIGJvZHksIGNsb3NlLCB0aXRsZSwgc2hhZG93KSB7XG4gICAgdGhpcy5tYWluID0gbWFpbjtcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMuY2xvc2UgPSBjbG9zZTtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5zaGFkb3cgPSBzaGFkb3c7XG4gIH1cbiAgUG9wdXBTZWxlY3RvcnMuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUG9wdXBTZWxlY3RvcnMnLCBpbnRlcmZhY2VzOiBbXX07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5jb21wb25lbnQxID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1haW47XG4gIH07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5jb21wb25lbnQyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmJvZHk7XG4gIH07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5jb21wb25lbnQzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNsb3NlO1xuICB9O1xuICBQb3B1cFNlbGVjdG9ycy5wcm90b3R5cGUuY29tcG9uZW50NCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aXRsZTtcbiAgfTtcbiAgUG9wdXBTZWxlY3RvcnMucHJvdG90eXBlLmNvbXBvbmVudDUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhZG93O1xuICB9O1xuICBQb3B1cFNlbGVjdG9ycy5wcm90b3R5cGUuY29weV94MGE2dDYkID0gZnVuY3Rpb24gKG1haW4sIGJvZHksIGNsb3NlLCB0aXRsZSwgc2hhZG93KSB7XG4gICAgcmV0dXJuIG5ldyBQb3B1cFNlbGVjdG9ycyhtYWluID09PSB2b2lkIDAgPyB0aGlzLm1haW4gOiBtYWluLCBib2R5ID09PSB2b2lkIDAgPyB0aGlzLmJvZHkgOiBib2R5LCBjbG9zZSA9PT0gdm9pZCAwID8gdGhpcy5jbG9zZSA6IGNsb3NlLCB0aXRsZSA9PT0gdm9pZCAwID8gdGhpcy50aXRsZSA6IHRpdGxlLCBzaGFkb3cgPT09IHZvaWQgMCA/IHRoaXMuc2hhZG93IDogc2hhZG93KTtcbiAgfTtcbiAgUG9wdXBTZWxlY3RvcnMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnUG9wdXBTZWxlY3RvcnMobWFpbj0nICsgS290bGluLnRvU3RyaW5nKHRoaXMubWFpbikgKyAoJywgYm9keT0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuYm9keSkpICsgKCcsIGNsb3NlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5jbG9zZSkpICsgKCcsIHRpdGxlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy50aXRsZSkpICsgKCcsIHNoYWRvdz0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuc2hhZG93KSkgKyAnKSc7XG4gIH07XG4gIFBvcHVwU2VsZWN0b3JzLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLm1haW4pIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmJvZHkpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmNsb3NlKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy50aXRsZSkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuc2hhZG93KSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgUG9wdXBTZWxlY3RvcnMucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiAoS290bGluLmVxdWFscyh0aGlzLm1haW4sIG90aGVyLm1haW4pICYmIEtvdGxpbi5lcXVhbHModGhpcy5ib2R5LCBvdGhlci5ib2R5KSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuY2xvc2UsIG90aGVyLmNsb3NlKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudGl0bGUsIG90aGVyLnRpdGxlKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuc2hhZG93LCBvdGhlci5zaGFkb3cpKSkpKTtcbiAgfTtcbiAgZnVuY3Rpb24gUG9wdXBUZW1wbGF0ZXMod3JhcCwgdGl0bGUsIGNsb3NlLCBib2R5KSB7XG4gICAgdGhpcy53cmFwXzAgPSB3cmFwO1xuICAgIHRoaXMudGl0bGVfMCA9IHRpdGxlO1xuICAgIHRoaXMuY2xvc2VfMCA9IGNsb3NlO1xuICAgIHRoaXMuYm9keV8wID0gYm9keTtcbiAgfVxuICBQb3B1cFRlbXBsYXRlcy5wcm90b3R5cGUuZ2V0U3BlY2lhbGl6ZWRUZW1wbGF0ZV9jY3NrZmskID0gZnVuY3Rpb24gKHRpdGxlLCBjb250ZW50LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLndyYXBfMCwgW3dpZHRoLCBmb3JtYXQodGhpcy50aXRsZV8wLCBbdGhpcy5jbG9zZV8wLCB0aXRsZV0pLCBmb3JtYXQodGhpcy5ib2R5XzAsIFtoZWlnaHQsIGNvbnRlbnRdKV0pO1xuICB9O1xuICBQb3B1cFRlbXBsYXRlcy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQb3B1cFRlbXBsYXRlcycsIGludGVyZmFjZXM6IFtdfTtcbiAgUG9wdXBUZW1wbGF0ZXMucHJvdG90eXBlLmNvbXBvbmVudDFfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwXzA7XG4gIH07XG4gIFBvcHVwVGVtcGxhdGVzLnByb3RvdHlwZS5jb21wb25lbnQyXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGl0bGVfMDtcbiAgfTtcbiAgUG9wdXBUZW1wbGF0ZXMucHJvdG90eXBlLmNvbXBvbmVudDNfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9zZV8wO1xuICB9O1xuICBQb3B1cFRlbXBsYXRlcy5wcm90b3R5cGUuY29tcG9uZW50NF8wID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmJvZHlfMDtcbiAgfTtcbiAgUG9wdXBUZW1wbGF0ZXMucHJvdG90eXBlLmNvcHlfdzc0bmlrJCA9IGZ1bmN0aW9uICh3cmFwLCB0aXRsZSwgY2xvc2UsIGJvZHkpIHtcbiAgICByZXR1cm4gbmV3IFBvcHVwVGVtcGxhdGVzKHdyYXAgPT09IHZvaWQgMCA/IHRoaXMud3JhcF8wIDogd3JhcCwgdGl0bGUgPT09IHZvaWQgMCA/IHRoaXMudGl0bGVfMCA6IHRpdGxlLCBjbG9zZSA9PT0gdm9pZCAwID8gdGhpcy5jbG9zZV8wIDogY2xvc2UsIGJvZHkgPT09IHZvaWQgMCA/IHRoaXMuYm9keV8wIDogYm9keSk7XG4gIH07XG4gIFBvcHVwVGVtcGxhdGVzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ1BvcHVwVGVtcGxhdGVzKHdyYXA9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLndyYXBfMCkgKyAoJywgdGl0bGU9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnRpdGxlXzApKSArICgnLCBjbG9zZT0nICsgS290bGluLnRvU3RyaW5nKHRoaXMuY2xvc2VfMCkpICsgKCcsIGJvZHk9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmJvZHlfMCkpICsgJyknO1xuICB9O1xuICBQb3B1cFRlbXBsYXRlcy5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy53cmFwXzApIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnRpdGxlXzApIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmNsb3NlXzApIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmJvZHlfMCkgfCAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIFBvcHVwVGVtcGxhdGVzLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcyA9PT0gb3RoZXIgfHwgKG90aGVyICE9PSBudWxsICYmICh0eXBlb2Ygb3RoZXIgPT09ICdvYmplY3QnICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihvdGhlcikgJiYgKEtvdGxpbi5lcXVhbHModGhpcy53cmFwXzAsIG90aGVyLndyYXBfMCkgJiYgS290bGluLmVxdWFscyh0aGlzLnRpdGxlXzAsIG90aGVyLnRpdGxlXzApICYmIEtvdGxpbi5lcXVhbHModGhpcy5jbG9zZV8wLCBvdGhlci5jbG9zZV8wKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMuYm9keV8wLCBvdGhlci5ib2R5XzApKSkpKTtcbiAgfTtcbiAgZnVuY3Rpb24gUG9wdXAoY29uZmlnKSB7XG4gICAgUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgdGhpcy5jb25maWdfMCA9IGNvbmZpZztcbiAgICB0aGlzLnNldEhhbmRsZXJzXzAoKTtcbiAgfVxuICBmdW5jdGlvbiBQb3B1cCRDb21wYW5pb24oKSB7XG4gICAgUG9wdXAkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLlRJVExFX0hFSUdIVF8wID0gMjk7XG4gICAgdGhpcy5PRkZTRVRfQVJPVU5EX0JPRFlfMCA9IDUwO1xuICAgIHRoaXMuc2VsZWN0b3JzXzAgPSBuZXcgUG9wdXBTZWxlY3RvcnMoJy5ib3gnLCAnLmJveCAuYm9keScsICcuYm94IC50aXRsZSAuY2xvc2UnLCAnLmJveCAudGl0bGUgLnRleHQnLCAnLmJveF9zaGFkb3cnKTtcbiAgICB0aGlzLnRlbXBsYXRlc18wID0gbmV3IFBvcHVwVGVtcGxhdGVzKCc8ZGl2IGNsYXNzPVwiYm94X3NoYWRvd1wiPjxcXC9kaXY+PGRpdiBjbGFzcz1cImJveFwiIHN0eWxlPVwid2lkdGg6ezF9cHg7b3BhY2l0eTowLjBcIj57Mn17M308XFwvZGl2PicsICc8ZGl2IGNsYXNzPVwidGl0bGVcIj57MX08ZGl2IGNsYXNzPVwidGV4dFwiPnsyfTxcXC9kaXY+PFxcL2Rpdj4nLCAnPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNsb3NlXCI+PFxcL2E+JywgJzxkaXYgY2xhc3M9XCJib2R5XCIgc3R5bGU9XCJtaW4taGVpZ2h0OnsxfXB4XCI+ezJ9PFxcL2Rpdj4nKTtcbiAgfVxuICBQb3B1cCRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFBvcHVwJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUG9wdXAkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUG9wdXAkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBQb3B1cCRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUG9wdXAkb3BlbiRsYW1iZGEoKSB7XG4gICAgJG1vZHVsZSRqcXVlcnkoJy5ib3gnKS5mYWRlVG8oNTAwLCAxLjApO1xuICAgIHJldHVybiBVbml0O1xuICB9XG4gIFBvcHVwLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLm1haW4pLnJlbW92ZSgpO1xuICAgICRtb2R1bGUkanF1ZXJ5KGVuc3VyZU5vdE51bGwoZG9jdW1lbnQuYm9keSkpLmFwcGVuZChQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS50ZW1wbGF0ZXNfMC5nZXRTcGVjaWFsaXplZFRlbXBsYXRlX2Njc2tmayQodGhpcy5jb25maWdfMC50aXRsZSwgdGhpcy5jb25maWdfMC5jb250ZW50LCB0aGlzLmNvbmZpZ18wLm9wdGltaXplZFdpZHRoLCB0aGlzLmNvbmZpZ18wLmhlaWdodCAtIDI5IHwgMCkpO1xuICAgIHRoaXMuY29tcHV0ZVNpemVzX3lvMmNxZyQoUG9wdXAkb3BlbiRsYW1iZGEpO1xuICB9O1xuICBQb3B1cC5wcm90b3R5cGUuY29tcHV0ZVNpemVzX3lvMmNxZyQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMClcbiAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgd2luZG93SGVpZ2h0ID0gbnVtYmVyVG9JbnQoJG1vZHVsZSRqcXVlcnkod2luZG93KS5oZWlnaHQoKSk7XG4gICAgdmFyIHdpbmRvd1dpZHRoID0gbnVtYmVyVG9JbnQoJG1vZHVsZSRqcXVlcnkod2luZG93KS53aWR0aCgpKTtcbiAgICBpZiAodGhpcy5jb25maWdfMC5tYXhIZWlnaHQgPT0gbnVsbCB8fCB0aGlzLmNvbmZpZ18wLm1heEhlaWdodCA+ICh3aW5kb3dIZWlnaHQgLSA1MCB8IDApKVxuICAgICAgdG1wJCA9IHdpbmRvd0hlaWdodCAtIDUwIHwgMDtcbiAgICBlbHNlXG4gICAgICB0bXAkID0gdGhpcy5jb25maWdfMC5tYXhIZWlnaHQ7XG4gICAgdmFyIG1heEhlaWdodCA9IHRtcCQ7XG4gICAgdmFyIG93bkhlaWdodCA9IG51bWJlclRvRG91YmxlKCRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLm1haW4pLmhlaWdodCgpKTtcbiAgICB2YXIgb3duV2lkdGggPSBudW1iZXJUb0RvdWJsZSgkbW9kdWxlJGpxdWVyeShQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zZWxlY3RvcnNfMC5tYWluKS53aWR0aCgpKTtcbiAgICAkbW9kdWxlJGpxdWVyeShQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zZWxlY3RvcnNfMC5tYWluKS5jc3MoJ21heEhlaWdodCcsICdgJyArIG1heEhlaWdodCArICdweCcpO1xuICAgICRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLmJvZHkpLmNzcygnbWF4SGVpZ2h0JywgKG1heEhlaWdodCAtIDI5IHwgMCkudG9TdHJpbmcoKSArICdweCcpO1xuICAgICRtb2R1bGUkanF1ZXJ5KFBvcHVwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnNlbGVjdG9yc18wLm1haW4pLmNzcygndG9wJywgcm91bmQoKHdpbmRvd0hlaWdodCAtIG93bkhlaWdodCkgLyAyKS50b1N0cmluZygpICsgJ3B4Jyk7XG4gICAgJG1vZHVsZSRqcXVlcnkoUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAubWFpbikuY3NzKCdsZWZ0Jywgcm91bmQoKHdpbmRvd1dpZHRoIC0gb3duV2lkdGgpIC8gMikudG9TdHJpbmcoKSArICdweCcpO1xuICAgIGNhbGxiYWNrICE9IG51bGwgPyBjYWxsYmFjaygpIDogbnVsbDtcbiAgfTtcbiAgUG9wdXAucHJvdG90eXBlLmNsb3NlXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgJG1vZHVsZSRqcXVlcnkoUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAubWFpbikucmVtb3ZlKCk7XG4gICAgJG1vZHVsZSRqcXVlcnkoUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAuc2hhZG93KS5yZW1vdmUoKTtcbiAgfTtcbiAgZnVuY3Rpb24gUG9wdXAkc2V0SGFuZGxlcnMkbGFtYmRhJGxhbWJkYSh0aGlzJFBvcHVwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChmLCBmXzApIHtcbiAgICAgIHRoaXMkUG9wdXAuY2xvc2VfMCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gUG9wdXAkc2V0SGFuZGxlcnMkbGFtYmRhJGxhbWJkYV8wKHRoaXMkUG9wdXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGYsIGZfMCkge1xuICAgICAgdGhpcyRQb3B1cC5jbG9zZV8wKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBQb3B1cCRzZXRIYW5kbGVycyRsYW1iZGEodGhpcyRQb3B1cCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZl8wKSB7XG4gICAgICB0aGlzJFBvcHVwLmNvbXB1dGVTaXplc195bzJjcWckKCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9O1xuICB9XG4gIFBvcHVwLnByb3RvdHlwZS5zZXRIYW5kbGVyc18wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkcmVjZWl2ZXIgPSAkbW9kdWxlJGpxdWVyeShlbnN1cmVOb3ROdWxsKGRvY3VtZW50LmJvZHkpKTtcbiAgICAkcmVjZWl2ZXIub24oJ2NsaWNrJywgUG9wdXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2VsZWN0b3JzXzAuY2xvc2UsIFBvcHVwJHNldEhhbmRsZXJzJGxhbWJkYSRsYW1iZGEodGhpcykpO1xuICAgICRyZWNlaXZlci5vbignY2xpY2snLCBQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5zZWxlY3RvcnNfMC5zaGFkb3csIFBvcHVwJHNldEhhbmRsZXJzJGxhbWJkYSRsYW1iZGFfMCh0aGlzKSk7XG4gICAgJG1vZHVsZSRqcXVlcnkod2luZG93KS5vbigncmVzaXplJywgUG9wdXAkc2V0SGFuZGxlcnMkbGFtYmRhKHRoaXMpKTtcbiAgfTtcbiAgUG9wdXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUG9wdXAnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFRlc3RBcmVhRW51bShuYW1lLCBvcmRpbmFsLCBwYXRoLCBjb250ZW50LCBjb250ZW50UGF0aCkge1xuICAgIEVudW0uY2FsbCh0aGlzKTtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5jb250ZW50UGF0aCA9IGNvbnRlbnRQYXRoO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICB9XG4gIGZ1bmN0aW9uIFRlc3RBcmVhRW51bV9pbml0RmllbGRzKCkge1xuICAgIFRlc3RBcmVhRW51bV9pbml0RmllbGRzID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgVGVzdEFyZWFFbnVtJERJQUdOT1NUSUNTX2luc3RhbmNlID0gbmV3IFRlc3RBcmVhRW51bSgnRElBR05PU1RJQ1MnLCAwLCAnZGlhZ25vc3RpY3MnLCAnY29udGVudDEnLCAncGF0aDEnKTtcbiAgICBUZXN0QXJlYUVudW0kQ09ERUdFTl9CT1hfaW5zdGFuY2UgPSBuZXcgVGVzdEFyZWFFbnVtKCdDT0RFR0VOX0JPWCcsIDEsICdjb2RlZ2VuL2JveCcsICdjb250ZW50MicsICdwYXRoMicpO1xuICB9XG4gIHZhciBUZXN0QXJlYUVudW0kRElBR05PU1RJQ1NfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFRlc3RBcmVhRW51bSRESUFHTk9TVElDU19nZXRJbnN0YW5jZSgpIHtcbiAgICBUZXN0QXJlYUVudW1faW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBUZXN0QXJlYUVudW0kRElBR05PU1RJQ1NfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFRlc3RBcmVhRW51bSRDT0RFR0VOX0JPWF9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gVGVzdEFyZWFFbnVtJENPREVHRU5fQk9YX2dldEluc3RhbmNlKCkge1xuICAgIFRlc3RBcmVhRW51bV9pbml0RmllbGRzKCk7XG4gICAgcmV0dXJuIFRlc3RBcmVhRW51bSRDT0RFR0VOX0JPWF9pbnN0YW5jZTtcbiAgfVxuICBUZXN0QXJlYUVudW0uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGVzdEFyZWFFbnVtJywgaW50ZXJmYWNlczogW0VudW1dfTtcbiAgZnVuY3Rpb24gVGVzdEFyZWFFbnVtJHZhbHVlcygpIHtcbiAgICByZXR1cm4gW1Rlc3RBcmVhRW51bSRESUFHTk9TVElDU19nZXRJbnN0YW5jZSgpLCBUZXN0QXJlYUVudW0kQ09ERUdFTl9CT1hfZ2V0SW5zdGFuY2UoKV07XG4gIH1cbiAgVGVzdEFyZWFFbnVtLnZhbHVlcyA9IFRlc3RBcmVhRW51bSR2YWx1ZXM7XG4gIGZ1bmN0aW9uIFRlc3RBcmVhRW51bSR2YWx1ZU9mKG5hbWUpIHtcbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ0RJQUdOT1NUSUNTJzpcbiAgICAgICAgcmV0dXJuIFRlc3RBcmVhRW51bSRESUFHTk9TVElDU19nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnQ09ERUdFTl9CT1gnOlxuICAgICAgICByZXR1cm4gVGVzdEFyZWFFbnVtJENPREVHRU5fQk9YX2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IG9yZy5qZXRicmFpbnMua290bGluLnNwZWMudXRpbHMuVGVzdEFyZWFFbnVtLicgKyBuYW1lKTtcbiAgICB9XG4gIH1cbiAgVGVzdEFyZWFFbnVtLnZhbHVlT2ZfNjF6cG9lJCA9IFRlc3RBcmVhRW51bSR2YWx1ZU9mO1xuICBmdW5jdGlvbiBmb3JtYXQoJHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgdmFyIHJlZ2V4ID0gUmVnZXhfaW5pdF8wKCdcXFxceyhcXFxcZCspfScsIFJlZ2V4T3B0aW9uLk1VTFRJTElORSk7XG4gICAgdmFyIHJlcGxhY2VfMjB3c21hJHJlc3VsdDtcbiAgICByZXBsYWNlXzIwd3NtYSRicmVhazogZG8ge1xuICAgICAgdmFyIG1hdGNoID0gcmVnZXguZmluZF85MDVhenUkKCRyZWNlaXZlcik7XG4gICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICByZXBsYWNlXzIwd3NtYSRyZXN1bHQgPSAkcmVjZWl2ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgYnJlYWsgcmVwbGFjZV8yMHdzbWEkYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdFN0YXJ0ID0gMDtcbiAgICAgIHZhciBsZW5ndGggPSAkcmVjZWl2ZXIubGVuZ3RoO1xuICAgICAgdmFyIHNiID0gU3RyaW5nQnVpbGRlcl9pbml0XzAobGVuZ3RoKTtcbiAgICAgIGRvIHtcbiAgICAgICAgdmFyIGZvdW5kTWF0Y2ggPSBlbnN1cmVOb3ROdWxsKG1hdGNoKTtcbiAgICAgICAgc2IuYXBwZW5kX2V6YnNkaCQoJHJlY2VpdmVyLCBsYXN0U3RhcnQsIGZvdW5kTWF0Y2gucmFuZ2Uuc3RhcnQpO1xuICAgICAgICB2YXIgdG1wJCA9IHNiLmFwcGVuZF9ndzAwdjkkO1xuICAgICAgICB2YXIgbnVtYmVyID0gdG9JbnQoZm91bmRNYXRjaC5ncm91cFZhbHVlcy5nZXRfemEzbHBhJCgxKSk7XG4gICAgICAgIHRtcCQuY2FsbChzYiwgYXJncy5sZW5ndGggPj0gbnVtYmVyID8gYXJnc1tudW1iZXIgLSAxIHwgMF0udG9TdHJpbmcoKSA6ICcnKTtcbiAgICAgICAgbGFzdFN0YXJ0ID0gZm91bmRNYXRjaC5yYW5nZS5lbmRJbmNsdXNpdmUgKyAxIHwgMDtcbiAgICAgICAgbWF0Y2ggPSBmb3VuZE1hdGNoLm5leHQoKTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAobGFzdFN0YXJ0IDwgbGVuZ3RoICYmIG1hdGNoICE9IG51bGwpO1xuICAgICAgaWYgKGxhc3RTdGFydCA8IGxlbmd0aCkge1xuICAgICAgICBzYi5hcHBlbmRfZXpic2RoJCgkcmVjZWl2ZXIsIGxhc3RTdGFydCwgbGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIHJlcGxhY2VfMjB3c21hJHJlc3VsdCA9IHNiLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgICB3aGlsZSAoZmFsc2UpO1xuICAgIHJldHVybiByZXBsYWNlXzIwd3NtYSRyZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gZXNjYXBlSHRtbCgkcmVjZWl2ZXIpIHtcbiAgICB2YXIgJHJlY2VpdmVyXzAgPSBSZWdleF9pbml0XzAoJyYnLCBSZWdleE9wdGlvbi5NVUxUSUxJTkUpLnJlcGxhY2VfeDJ1cWV1JCgkcmVjZWl2ZXIsICcmYW1wOycpO1xuICAgIHZhciAkcmVjZWl2ZXJfMSA9IFJlZ2V4X2luaXRfMCgnPCcsIFJlZ2V4T3B0aW9uLk1VTFRJTElORSkucmVwbGFjZV94MnVxZXUkKCRyZWNlaXZlcl8wLCAnJmx0OycpO1xuICAgIHZhciAkcmVjZWl2ZXJfMiA9IFJlZ2V4X2luaXQoJz4nKS5yZXBsYWNlX3gydXFldSQoJHJlY2VpdmVyXzEsICcmZ3Q7Jyk7XG4gICAgdmFyICRyZWNlaXZlcl8zID0gUmVnZXhfaW5pdF8wKCdcIicsIFJlZ2V4T3B0aW9uLk1VTFRJTElORSkucmVwbGFjZV94MnVxZXUkKCRyZWNlaXZlcl8yLCAnJnF1b3Q7Jyk7XG4gICAgcmV0dXJuIFJlZ2V4X2luaXRfMChcIidcIiwgUmVnZXhPcHRpb24uTVVMVElMSU5FKS5yZXBsYWNlX3gydXFldSQoJHJlY2VpdmVyXzMsICcmIzAzOTsnKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRWYWx1ZUJ5T2JqZWN0UGF0aCh0YXJnZXQsIHZhbHVlLCBwYXRoKSB7XG4gICAgdmFyIHBhdGhDb21wb25lbnRzID0gc3BsaXQocGF0aCwgWycuJ10pO1xuICAgIHZhciBzb3VnaHRGb3JPYmogPSB7djogdGFyZ2V0fTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gc2xpY2UocGF0aENvbXBvbmVudHMsIHVudGlsKDAsIHBhdGhDb21wb25lbnRzLnNpemUgLSAxIHwgMCkpLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyICRyZWNlaXZlciA9IHNvdWdodEZvck9iai52O1xuICAgICAgdmFyIHRtcCRfMDtcbiAgICAgIHZhciB2YWx1ZV8wID0gJHJlY2VpdmVyLmdldF8xMXJiJChlbGVtZW50KTtcbiAgICAgIGlmICh2YWx1ZV8wID09IG51bGwpIHtcbiAgICAgICAgdmFyIGFuc3dlciA9IExpbmtlZEhhc2hNYXBfaW5pdCgpO1xuICAgICAgICAkcmVjZWl2ZXIucHV0X3h3emM5cCQoZWxlbWVudCwgYW5zd2VyKTtcbiAgICAgICAgdG1wJF8wID0gYW5zd2VyO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkXzAgPSB2YWx1ZV8wO1xuICAgICAgfVxuICAgICAgc291Z2h0Rm9yT2JqLnYgPSB0bXAkXzA7XG4gICAgfVxuICAgIHZhciAkcmVjZWl2ZXJfMCA9IHNvdWdodEZvck9iai52O1xuICAgIHZhciBrZXkgPSBsYXN0KHBhdGhDb21wb25lbnRzKTtcbiAgICAkcmVjZWl2ZXJfMC5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRfc2VhcmNoTWFwKCRyZWNlaXZlcikge1xuICAgIHZhciByYXdTZWFyY2ggPSBzcGxpdCgkcmVjZWl2ZXIuc2VhcmNoLnN1YnN0cmluZygxKSwgWycmJ10pO1xuICAgIHZhciBvYmpVUkwgPSBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gcmF3U2VhcmNoLml0ZXJhdG9yKCk7XG4gICAgbG9vcF9sYWJlbDogd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgYWN0aW9uJGJyZWFrOiBkbyB7XG4gICAgICAgIHZhciBwYXJhbUNvbXBvbmVudHMgPSBzcGxpdChlbGVtZW50LCBbJz0nXSk7XG4gICAgICAgIGlmIChwYXJhbUNvbXBvbmVudHMuc2l6ZSAhPT0gMilcbiAgICAgICAgICBicmVhayBhY3Rpb24kYnJlYWs7XG4gICAgICAgIHZhciBrZXkgPSBwYXJhbUNvbXBvbmVudHMuZ2V0X3phM2xwYSQoMCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcmFtQ29tcG9uZW50cy5nZXRfemEzbHBhJCgxKTtcbiAgICAgICAgb2JqVVJMLnB1dF94d3pjOXAkKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBvYmpVUkw7XG4gIH1cbiAgdmFyIHBhY2thZ2Ukb3JnID0gXy5vcmcgfHwgKF8ub3JnID0ge30pO1xuICB2YXIgcGFja2FnZSRqZXRicmFpbnMgPSBwYWNrYWdlJG9yZy5qZXRicmFpbnMgfHwgKHBhY2thZ2Ukb3JnLmpldGJyYWlucyA9IHt9KTtcbiAgdmFyIHBhY2thZ2Uka290bGluID0gcGFja2FnZSRqZXRicmFpbnMua290bGluIHx8IChwYWNrYWdlJGpldGJyYWlucy5rb3RsaW4gPSB7fSk7XG4gIHZhciBwYWNrYWdlJHNwZWMgPSBwYWNrYWdlJGtvdGxpbi5zcGVjIHx8IChwYWNrYWdlJGtvdGxpbi5zcGVjID0ge30pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRzcGVjLCAnTWFya1VwJywge2dldDogTWFya1VwX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTcGVjQ29uZmlnLCAnQ29tcGFuaW9uJywge2dldDogU3BlY0NvbmZpZyRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRzcGVjLlNwZWNDb25maWcgPSBTcGVjQ29uZmlnO1xuICB2YXIgcGFja2FnZSRlbnRpdGllcyA9IHBhY2thZ2Ukc3BlYy5lbnRpdGllcyB8fCAocGFja2FnZSRzcGVjLmVudGl0aWVzID0ge30pO1xuICBwYWNrYWdlJGVudGl0aWVzLlNlY3Rpb25UZXN0U2V0ID0gU2VjdGlvblRlc3RTZXQ7XG4gIHBhY2thZ2UkZW50aXRpZXMuVGVzdCA9IFRlc3Q7XG4gIHBhY2thZ2UkZW50aXRpZXMuVGVzdE1hcERhdGEgPSBUZXN0TWFwRGF0YTtcbiAgcGFja2FnZSRlbnRpdGllcy5UZXN0UGF0aCA9IFRlc3RQYXRoO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGVzdFR5cGUsICdQT1NJVElWRScsIHtnZXQ6IFRlc3RUeXBlJFBPU0lUSVZFX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXN0VHlwZSwgJ05FR0FUSVZFJywge2dldDogVGVzdFR5cGUkTkVHQVRJVkVfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRlbnRpdGllcy5UZXN0VHlwZSA9IFRlc3RUeXBlO1xuICB2YXIgcGFja2FnZSR0ZXN0RWxlbWVudCA9IHBhY2thZ2UkZW50aXRpZXMudGVzdEVsZW1lbnQgfHwgKHBhY2thZ2UkZW50aXRpZXMudGVzdEVsZW1lbnQgPSB7fSk7XG4gIHBhY2thZ2UkdGVzdEVsZW1lbnQuVGVzdENvbnRhaW5lciA9IFRlc3RDb250YWluZXI7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXN0RWxlbWVudEtleSwgJ3NwZWNWZXJzaW9uJywge2dldDogVGVzdEVsZW1lbnRLZXkkc3BlY1ZlcnNpb25fZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRlc3RFbGVtZW50S2V5LCAnY2FzZXNOdW1iZXInLCB7Z2V0OiBUZXN0RWxlbWVudEtleSRjYXNlc051bWJlcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGVzdEVsZW1lbnRLZXksICdkZXNjcmlwdGlvbicsIHtnZXQ6IFRlc3RFbGVtZW50S2V5JGRlc2NyaXB0aW9uX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXN0RWxlbWVudEtleSwgJ3BhdGgnLCB7Z2V0OiBUZXN0RWxlbWVudEtleSRwYXRoX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXN0RWxlbWVudEtleSwgJ3VuZXhwZWN0ZWRCZWhhdmlvdXInLCB7Z2V0OiBUZXN0RWxlbWVudEtleSR1bmV4cGVjdGVkQmVoYXZpb3VyX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkdGVzdEVsZW1lbnQuVGVzdEVsZW1lbnRLZXkgPSBUZXN0RWxlbWVudEtleTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRlc3RFbGVtZW50SW5mbywgJ0NvbXBhbmlvbicsIHtnZXQ6IFRlc3RFbGVtZW50SW5mbyRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSR0ZXN0RWxlbWVudC5UZXN0RWxlbWVudEluZm8gPSBUZXN0RWxlbWVudEluZm87XG4gIHZhciBwYWNrYWdlJGxpbmtzID0gcGFja2FnZSRzcGVjLmxpbmtzIHx8IChwYWNrYWdlJHNwZWMubGlua3MgPSB7fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGxpbmtzLCAnU2VudGVuY2VGaW5kZXInLCB7Z2V0OiBTZW50ZW5jZUZpbmRlcl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGxpbmtzLlNwZWNQbGFjZUNvbXBvbmVudHMgPSBTcGVjUGxhY2VDb21wb25lbnRzO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRsaW5rcywgJ1NwZWNQbGFjZUhpZ2hsaWdodGVyJywge2dldDogU3BlY1BsYWNlSGlnaGxpZ2h0ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRzcGVjLnJ1bkFmdGVyRG9jdW1lbnRSZWFkeSA9IHJ1bkFmdGVyRG9jdW1lbnRSZWFkeTtcbiAgcGFja2FnZSRzcGVjLm1haW4gPSBtYWluO1xuICB2YXIgcGFja2FnZSR0ZXN0QXJlYSA9IHBhY2thZ2Ukc3BlYy50ZXN0QXJlYSB8fCAocGFja2FnZSRzcGVjLnRlc3RBcmVhID0ge30pO1xuICBwYWNrYWdlJHRlc3RBcmVhLlRlc3RBcmVhID0gVGVzdEFyZWE7XG4gIHBhY2thZ2UkdGVzdEFyZWEuRGlhZ25vc3RpY3NUZXN0QXJlYSA9IERpYWdub3N0aWNzVGVzdEFyZWE7XG4gIHBhY2thZ2UkdGVzdEFyZWEuQ29kZWdlbkJveFRlc3RBcmVhID0gQ29kZWdlbkJveFRlc3RBcmVhO1xuICB2YXIgcGFja2FnZSR0ZXN0cyA9IHBhY2thZ2Ukc3BlYy50ZXN0cyB8fCAocGFja2FnZSRzcGVjLnRlc3RzID0ge30pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3BlY1Rlc3RzTG9hZGVyLCAnQ29tcGFuaW9uJywge2dldDogU3BlY1Rlc3RzTG9hZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJHRlc3RzLlNwZWNUZXN0c0xvYWRlciA9IFNwZWNUZXN0c0xvYWRlcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5hdmlnYXRpb25UeXBlLCAnUFJFVicsIHtnZXQ6IE5hdmlnYXRpb25UeXBlJFBSRVZfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5hdmlnYXRpb25UeXBlLCAnTkVYVCcsIHtnZXQ6IE5hdmlnYXRpb25UeXBlJE5FWFRfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSR0ZXN0cy5OYXZpZ2F0aW9uVHlwZSA9IE5hdmlnYXRpb25UeXBlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3BlY1Rlc3RzVmlld2VyLCAnQ29tcGFuaW9uJywge2dldDogU3BlY1Rlc3RzVmlld2VyJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJHRlc3RzLlNwZWNUZXN0c1ZpZXdlciA9IFNwZWNUZXN0c1ZpZXdlcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkdGVzdHMsICdUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXInLCB7Z2V0OiBUZXN0c0NvdmVyYWdlQ29sb3JzQXJyYW5nZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSwgJ1NQRUNfVEVTVCcsIHtnZXQ6IEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSRTUEVDX1RFU1RfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdpdGh1YlRlc3RzTG9hZGVyJFRlc3RGaWxlVHlwZSwgJ0lNUExFTUVOVEFUSU9OX1RFU1QnLCB7Z2V0OiBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGUkSU1QTEVNRU5UQVRJT05fVEVTVF9nZXRJbnN0YW5jZX0pO1xuICBHaXRodWJUZXN0c0xvYWRlci5UZXN0RmlsZVR5cGUgPSBHaXRodWJUZXN0c0xvYWRlciRUZXN0RmlsZVR5cGU7XG4gIEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbi5wcm90b3R5cGUuVGVzdHNQYXRocyA9IEdpdGh1YlRlc3RzTG9hZGVyJENvbXBhbmlvbiRUZXN0c1BhdGhzO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoR2l0aHViVGVzdHNMb2FkZXIsICdDb21wYW5pb24nLCB7Z2V0OiBHaXRodWJUZXN0c0xvYWRlciRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgdmFyIHBhY2thZ2UkbG9hZGVycyA9IHBhY2thZ2UkdGVzdHMubG9hZGVycyB8fCAocGFja2FnZSR0ZXN0cy5sb2FkZXJzID0ge30pO1xuICBwYWNrYWdlJGxvYWRlcnMuR2l0aHViVGVzdHNMb2FkZXIgPSBHaXRodWJUZXN0c0xvYWRlcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEdpdGh1YlRlc3RzTG9hZGVyVHlwZSwgJ0RJUkVDVExZJywge2dldDogR2l0aHViVGVzdHNMb2FkZXJUeXBlJERJUkVDVExZX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHaXRodWJUZXN0c0xvYWRlclR5cGUsICdVU0lOR19BUEknLCB7Z2V0OiBHaXRodWJUZXN0c0xvYWRlclR5cGUkVVNJTkdfQVBJX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHaXRodWJUZXN0c0xvYWRlclR5cGUsICdVU0lOR19URVNUU19NQVBfRklMRScsIHtnZXQ6IEdpdGh1YlRlc3RzTG9hZGVyVHlwZSRVU0lOR19URVNUU19NQVBfRklMRV9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGxvYWRlcnMuR2l0aHViVGVzdHNMb2FkZXJUeXBlID0gR2l0aHViVGVzdHNMb2FkZXJUeXBlO1xuICBwYWNrYWdlJGxvYWRlcnMuTG9hZGVyQnlUZXN0c01hcEZpbGUgPSBMb2FkZXJCeVRlc3RzTWFwRmlsZTtcbiAgdmFyIHBhY2thZ2UkdXRpbHMgPSBwYWNrYWdlJHNwZWMudXRpbHMgfHwgKHBhY2thZ2Ukc3BlYy51dGlscyA9IHt9KTtcbiAgcGFja2FnZSR1dGlscy5Qb3B1cENvbmZpZyA9IFBvcHVwQ29uZmlnO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG9wdXAsICdDb21wYW5pb24nLCB7Z2V0OiBQb3B1cCRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSR1dGlscy5Qb3B1cCA9IFBvcHVwO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGVzdEFyZWFFbnVtLCAnRElBR05PU1RJQ1MnLCB7Z2V0OiBUZXN0QXJlYUVudW0kRElBR05PU1RJQ1NfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRlc3RBcmVhRW51bSwgJ0NPREVHRU5fQk9YJywge2dldDogVGVzdEFyZWFFbnVtJENPREVHRU5fQk9YX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkdXRpbHMuVGVzdEFyZWFFbnVtID0gVGVzdEFyZWFFbnVtO1xuICBwYWNrYWdlJHV0aWxzLmZvcm1hdF9lMzNrd2wkID0gZm9ybWF0O1xuICBwYWNrYWdlJHV0aWxzLmVzY2FwZUh0bWxfcGRsMXZ6JCA9IGVzY2FwZUh0bWw7XG4gIHBhY2thZ2UkdXRpbHMuc2V0VmFsdWVCeU9iamVjdFBhdGhfemRwNno4JCA9IHNldFZhbHVlQnlPYmplY3RQYXRoO1xuICBwYWNrYWdlJHV0aWxzLmdldF9zZWFyY2hNYXBfdXE4bnJ4JCA9IGdldF9zZWFyY2hNYXA7XG4gIEtvdGxpblBsYXlncm91bmQgPSByZXF1aXJlKCdrb3RsaW4tcGxheWdyb3VuZCcpO1xuICBtYWluKCk7XG4gIHJldHVybiBfO1xufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb250LWVuZC5qcy5tYXBcbiIsIihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCdrb3RsaW4nLCBbJ2V4cG9ydHMnXSwgZmFjdG9yeSk7XG4gIH1cbiAgIGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIGZhY3RvcnkobW9kdWxlLmV4cG9ydHMpO1xuICB9XG4gICBlbHNlIHtcbiAgICByb290LmtvdGxpbiA9IHt9O1xuICAgIGZhY3Rvcnkocm9vdC5rb3RsaW4pO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uIChLb3RsaW4pIHtcbiAgdmFyIF8gPSBLb3RsaW47XG4gIEtvdGxpbi5pc0Jvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIChBcnJheS5pc0FycmF5KGEpIHx8IGEgaW5zdGFuY2VvZiBJbnQ4QXJyYXkpICYmIGEuJHR5cGUkID09PSAnQm9vbGVhbkFycmF5JztcbiAgfTtcbiAgS290bGluLmlzQnl0ZUFycmF5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEludDhBcnJheSAmJiBhLiR0eXBlJCAhPT0gJ0Jvb2xlYW5BcnJheSc7XG4gIH07XG4gIEtvdGxpbi5pc1Nob3J0QXJyYXkgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBhIGluc3RhbmNlb2YgSW50MTZBcnJheTtcbiAgfTtcbiAgS290bGluLmlzQ2hhckFycmF5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5ICYmIGEuJHR5cGUkID09PSAnQ2hhckFycmF5JztcbiAgfTtcbiAgS290bGluLmlzSW50QXJyYXkgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBhIGluc3RhbmNlb2YgSW50MzJBcnJheTtcbiAgfTtcbiAgS290bGluLmlzRmxvYXRBcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk7XG4gIH07XG4gIEtvdGxpbi5pc0RvdWJsZUFycmF5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheTtcbiAgfTtcbiAgS290bGluLmlzTG9uZ0FycmF5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSAmJiBhLiR0eXBlJCA9PT0gJ0xvbmdBcnJheSc7XG4gIH07XG4gIEtvdGxpbi5pc0FycmF5ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSAmJiAhYS4kdHlwZSQ7XG4gIH07XG4gIEtvdGxpbi5pc0FycmF5aXNoID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcoYSk7XG4gIH07XG4gIEtvdGxpbi5hcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgdG9TdHJpbmcgPSBLb3RsaW4uaXNDaGFyQXJyYXkoYSkgPyBTdHJpbmcuZnJvbUNoYXJDb2RlIDogS290bGluLnRvU3RyaW5nO1xuICAgIHJldHVybiAnWycgKyBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyhlKTtcbiAgICB9KS5qb2luKCcsICcpICsgJ10nO1xuICB9O1xuICB2YXIgcHJvcGVydHlSZWZDbGFzc01ldGFkYXRhQ2FjaGUgPSBbe211dGFibGU6IHt2YWx1ZTogbnVsbCwgaW1wbGVtZW50ZWRJbnRlcmZhY2U6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gS290bGluLmtvdGxpbi5yZWZsZWN0LktNdXRhYmxlUHJvcGVydHkwO1xuICB9fSwgaW1tdXRhYmxlOiB7dmFsdWU6IG51bGwsIGltcGxlbWVudGVkSW50ZXJmYWNlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5LUHJvcGVydHkwO1xuICB9fX0sIHttdXRhYmxlOiB7dmFsdWU6IG51bGwsIGltcGxlbWVudGVkSW50ZXJmYWNlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5LTXV0YWJsZVByb3BlcnR5MTtcbiAgfX0sIGltbXV0YWJsZToge3ZhbHVlOiBudWxsLCBpbXBsZW1lbnRlZEludGVyZmFjZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBLb3RsaW4ua290bGluLnJlZmxlY3QuS1Byb3BlcnR5MTtcbiAgfX19XTtcbiAgS290bGluLnRvU2hvcnQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiAoYSAmIDY1NTM1KSA8PCAxNiA+PiAxNjtcbiAgfTtcbiAgS290bGluLnRvQnl0ZSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIChhICYgMjU1KSA8PCAyNCA+PiAyNDtcbiAgfTtcbiAgS290bGluLnRvQ2hhciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIGEgJiA2NTUzNTtcbiAgfTtcbiAgS290bGluLm51bWJlclRvSW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSBpbnN0YW5jZW9mIEtvdGxpbi5Mb25nID8gYS50b0ludCgpIDogS290bGluLmRvdWJsZVRvSW50KGEpO1xuICB9O1xuICBLb3RsaW4ubnVtYmVyVG9Eb3VibGUgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiArYTtcbiAgfTtcbiAgS290bGluLmRvdWJsZVRvSW50ID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoYSA+IDIxNDc0ODM2NDcpXG4gICAgICByZXR1cm4gMjE0NzQ4MzY0NztcbiAgICBpZiAoYSA8IC0yMTQ3NDgzNjQ4KVxuICAgICAgcmV0dXJuIC0yMTQ3NDgzNjQ4O1xuICAgIHJldHVybiBhIHwgMDtcbiAgfTtcbiAgS290bGluLnRvQm94ZWRDaGFyID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoYSA9PSBudWxsKVxuICAgICAgcmV0dXJuIGE7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBLb3RsaW4uQm94ZWRDaGFyKVxuICAgICAgcmV0dXJuIGE7XG4gICAgcmV0dXJuIG5ldyBLb3RsaW4uQm94ZWRDaGFyKGEpO1xuICB9O1xuICBLb3RsaW4udW5ib3hDaGFyID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoYSA9PSBudWxsKVxuICAgICAgcmV0dXJuIGE7XG4gICAgcmV0dXJuIEtvdGxpbi50b0NoYXIoYSk7XG4gIH07XG4gIEtvdGxpbi5lcXVhbHMgPSBmdW5jdGlvbiAob2JqMSwgb2JqMikge1xuICAgIGlmIChvYmoxID09IG51bGwpIHtcbiAgICAgIHJldHVybiBvYmoyID09IG51bGw7XG4gICAgfVxuICAgIGlmIChvYmoyID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iajEgIT09IG9iajEpIHtcbiAgICAgIHJldHVybiBvYmoyICE9PSBvYmoyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iajEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoxLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG9iajEuZXF1YWxzKG9iajIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iajEgPT09ICdudW1iZXInICYmIHR5cGVvZiBvYmoyID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIG9iajEgPT09IG9iajIgJiYgKG9iajEgIT09IDAgfHwgMSAvIG9iajEgPT09IDEgLyBvYmoyKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajEgPT09IG9iajI7XG4gIH07XG4gIEtvdGxpbi5oYXNoQ29kZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgb2JqVHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgaWYgKCdvYmplY3QnID09PSBvYmpUeXBlKSB7XG4gICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG9iai5oYXNoQ29kZSA/IG9iai5oYXNoQ29kZSgpIDogZ2V0T2JqZWN0SGFzaENvZGUob2JqKTtcbiAgICB9XG4gICAgaWYgKCdmdW5jdGlvbicgPT09IG9ialR5cGUpIHtcbiAgICAgIHJldHVybiBnZXRPYmplY3RIYXNoQ29kZShvYmopO1xuICAgIH1cbiAgICBpZiAoJ251bWJlcicgPT09IG9ialR5cGUpIHtcbiAgICAgIHJldHVybiBLb3RsaW4ubnVtYmVySGFzaENvZGUob2JqKTtcbiAgICB9XG4gICAgaWYgKCdib29sZWFuJyA9PT0gb2JqVHlwZSkge1xuICAgICAgcmV0dXJuIE51bWJlcihvYmopO1xuICAgIH1cbiAgICB2YXIgc3RyID0gU3RyaW5nKG9iaik7XG4gICAgcmV0dXJuIGdldFN0cmluZ0hhc2hDb2RlKHN0cik7XG4gIH07XG4gIEtvdGxpbi50b1N0cmluZyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgaWYgKG8gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgIGVsc2UgaWYgKEtvdGxpbi5pc0FycmF5aXNoKG8pKSB7XG4gICAgICByZXR1cm4gJ1suLi5dJztcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIG8udG9TdHJpbmcoKTtcbiAgICB9XG4gIH07XG4gIHZhciBQT1dfMl8zMiA9IDQuMjk0OTY3Mjk2RTk7XG4gIHZhciBPQkpFQ1RfSEFTSF9DT0RFX1BST1BFUlRZX05BTUUgPSAna290bGluSGFzaENvZGVWYWx1ZSQnO1xuICBmdW5jdGlvbiBnZXRPYmplY3RIYXNoQ29kZShvYmopIHtcbiAgICBpZiAoIShPQkpFQ1RfSEFTSF9DT0RFX1BST1BFUlRZX05BTUUgaW4gb2JqKSkge1xuICAgICAgdmFyIGhhc2ggPSBNYXRoLnJhbmRvbSgpICogUE9XXzJfMzIgfCAwO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgT0JKRUNUX0hBU0hfQ09ERV9QUk9QRVJUWV9OQU1FLCB7dmFsdWU6IGhhc2gsIGVudW1lcmFibGU6IGZhbHNlfSk7XG4gICAgfVxuICAgIHJldHVybiBvYmpbT0JKRUNUX0hBU0hfQ09ERV9QUk9QRVJUWV9OQU1FXTtcbiAgfVxuICBmdW5jdGlvbiBnZXRTdHJpbmdIYXNoQ29kZShzdHIpIHtcbiAgICB2YXIgaGFzaCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBoYXNoID0gaGFzaCAqIDMxICsgY29kZSB8IDA7XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG4gIEtvdGxpbi5pZGVudGl0eUhhc2hDb2RlID0gZ2V0T2JqZWN0SGFzaENvZGU7XG4gIEtvdGxpbi5Mb25nID0gZnVuY3Rpb24gKGxvdywgaGlnaCkge1xuICAgIHRoaXMubG93XyA9IGxvdyB8IDA7XG4gICAgdGhpcy5oaWdoXyA9IGhpZ2ggfCAwO1xuICB9O1xuICBLb3RsaW4uTG9uZy4kbWV0YWRhdGEkID0ge2tpbmQ6ICdjbGFzcycsIHNpbXBsZU5hbWU6ICdMb25nJywgaW50ZXJmYWNlczogW119O1xuICBLb3RsaW4uTG9uZy5JbnRDYWNoZV8gPSB7fTtcbiAgS290bGluLkxvbmcuZnJvbUludCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICgtMTI4IDw9IHZhbHVlICYmIHZhbHVlIDwgMTI4KSB7XG4gICAgICB2YXIgY2FjaGVkT2JqID0gS290bGluLkxvbmcuSW50Q2FjaGVfW3ZhbHVlXTtcbiAgICAgIGlmIChjYWNoZWRPYmopIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZE9iajtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG9iaiA9IG5ldyBLb3RsaW4uTG9uZyh2YWx1ZSB8IDAsIHZhbHVlIDwgMCA/IC0xIDogMCk7XG4gICAgaWYgKC0xMjggPD0gdmFsdWUgJiYgdmFsdWUgPCAxMjgpIHtcbiAgICAgIEtvdGxpbi5Mb25nLkludENhY2hlX1t2YWx1ZV0gPSBvYmo7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG4gIEtvdGxpbi5Mb25nLmZyb21OdW1iZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuWkVSTztcbiAgICB9XG4gICAgIGVsc2UgaWYgKHZhbHVlIDw9IC1Lb3RsaW4uTG9uZy5UV09fUFdSXzYzX0RCTF8pIHtcbiAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5NSU5fVkFMVUU7XG4gICAgfVxuICAgICBlbHNlIGlmICh2YWx1ZSArIDEgPj0gS290bGluLkxvbmcuVFdPX1BXUl82M19EQkxfKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuTUFYX1ZBTFVFO1xuICAgIH1cbiAgICAgZWxzZSBpZiAodmFsdWUgPCAwKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbU51bWJlcigtdmFsdWUpLm5lZ2F0ZSgpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEtvdGxpbi5Mb25nKHZhbHVlICUgS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfIHwgMCwgdmFsdWUgLyBLb3RsaW4uTG9uZy5UV09fUFdSXzMyX0RCTF8gfCAwKTtcbiAgICB9XG4gIH07XG4gIEtvdGxpbi5Mb25nLmZyb21CaXRzID0gZnVuY3Rpb24gKGxvd0JpdHMsIGhpZ2hCaXRzKSB7XG4gICAgcmV0dXJuIG5ldyBLb3RsaW4uTG9uZyhsb3dCaXRzLCBoaWdoQml0cyk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLmZyb21TdHJpbmcgPSBmdW5jdGlvbiAoc3RyLCBvcHRfcmFkaXgpIHtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aHJvdyBFcnJvcignbnVtYmVyIGZvcm1hdCBlcnJvcjogZW1wdHkgc3RyaW5nJyk7XG4gICAgfVxuICAgIHZhciByYWRpeCA9IG9wdF9yYWRpeCB8fCAxMDtcbiAgICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpIHtcbiAgICAgIHRocm93IEVycm9yKCdyYWRpeCBvdXQgb2YgcmFuZ2U6ICcgKyByYWRpeCk7XG4gICAgfVxuICAgIGlmIChzdHIuY2hhckF0KDApID09ICctJykge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21TdHJpbmcoc3RyLnN1YnN0cmluZygxKSwgcmFkaXgpLm5lZ2F0ZSgpO1xuICAgIH1cbiAgICAgZWxzZSBpZiAoc3RyLmluZGV4T2YoJy0nKSA+PSAwKSB7XG4gICAgICB0aHJvdyBFcnJvcignbnVtYmVyIGZvcm1hdCBlcnJvcjogaW50ZXJpb3IgXCItXCIgY2hhcmFjdGVyOiAnICsgc3RyKTtcbiAgICB9XG4gICAgdmFyIHJhZGl4VG9Qb3dlciA9IEtvdGxpbi5Mb25nLmZyb21OdW1iZXIoTWF0aC5wb3cocmFkaXgsIDgpKTtcbiAgICB2YXIgcmVzdWx0ID0gS290bGluLkxvbmcuWkVSTztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkgKz0gOCkge1xuICAgICAgdmFyIHNpemUgPSBNYXRoLm1pbig4LCBzdHIubGVuZ3RoIC0gaSk7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKGksIGkgKyBzaXplKSwgcmFkaXgpO1xuICAgICAgaWYgKHNpemUgPCA4KSB7XG4gICAgICAgIHZhciBwb3dlciA9IEtvdGxpbi5Mb25nLmZyb21OdW1iZXIoTWF0aC5wb3cocmFkaXgsIHNpemUpKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0Lm11bHRpcGx5KHBvd2VyKS5hZGQoS290bGluLkxvbmcuZnJvbU51bWJlcih2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQubXVsdGlwbHkocmFkaXhUb1Bvd2VyKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmFkZChLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKHZhbHVlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIEtvdGxpbi5Mb25nLlRXT19QV1JfMTZfREJMXyA9IDEgPDwgMTY7XG4gIEtvdGxpbi5Mb25nLlRXT19QV1JfMjRfREJMXyA9IDEgPDwgMjQ7XG4gIEtvdGxpbi5Mb25nLlRXT19QV1JfMzJfREJMXyA9IEtvdGxpbi5Mb25nLlRXT19QV1JfMTZfREJMXyAqIEtvdGxpbi5Mb25nLlRXT19QV1JfMTZfREJMXztcbiAgS290bGluLkxvbmcuVFdPX1BXUl8zMV9EQkxfID0gS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfIC8gMjtcbiAgS290bGluLkxvbmcuVFdPX1BXUl80OF9EQkxfID0gS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfICogS290bGluLkxvbmcuVFdPX1BXUl8xNl9EQkxfO1xuICBLb3RsaW4uTG9uZy5UV09fUFdSXzY0X0RCTF8gPSBLb3RsaW4uTG9uZy5UV09fUFdSXzMyX0RCTF8gKiBLb3RsaW4uTG9uZy5UV09fUFdSXzMyX0RCTF87XG4gIEtvdGxpbi5Mb25nLlRXT19QV1JfNjNfREJMXyA9IEtvdGxpbi5Mb25nLlRXT19QV1JfNjRfREJMXyAvIDI7XG4gIEtvdGxpbi5Mb25nLlpFUk8gPSBLb3RsaW4uTG9uZy5mcm9tSW50KDApO1xuICBLb3RsaW4uTG9uZy5PTkUgPSBLb3RsaW4uTG9uZy5mcm9tSW50KDEpO1xuICBLb3RsaW4uTG9uZy5ORUdfT05FID0gS290bGluLkxvbmcuZnJvbUludCgtMSk7XG4gIEtvdGxpbi5Mb25nLk1BWF9WQUxVRSA9IEtvdGxpbi5Mb25nLmZyb21CaXRzKDQuMjk0OTY3Mjk1RTkgfCAwLCAyMTQ3NDgzNjQ3IHwgMCk7XG4gIEtvdGxpbi5Mb25nLk1JTl9WQUxVRSA9IEtvdGxpbi5Mb25nLmZyb21CaXRzKDAsIDIuMTQ3NDgzNjQ4RTkgfCAwKTtcbiAgS290bGluLkxvbmcuVFdPX1BXUl8yNF8gPSBLb3RsaW4uTG9uZy5mcm9tSW50KDEgPDwgMjQpO1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUudG9JbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubG93XztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmhpZ2hfICogS290bGluLkxvbmcuVFdPX1BXUl8zMl9EQkxfICsgdGhpcy5nZXRMb3dCaXRzVW5zaWduZWQoKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmhpZ2hfIF4gdGhpcy5sb3dfO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAob3B0X3JhZGl4KSB7XG4gICAgdmFyIHJhZGl4ID0gb3B0X3JhZGl4IHx8IDEwO1xuICAgIGlmIChyYWRpeCA8IDIgfHwgMzYgPCByYWRpeCkge1xuICAgICAgdGhyb3cgRXJyb3IoJ3JhZGl4IG91dCBvZiByYW5nZTogJyArIHJhZGl4KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpIHtcbiAgICAgIHJldHVybiAnMCc7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgICAgaWYgKHRoaXMuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICAgIHZhciByYWRpeExvbmcgPSBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKHJhZGl4KTtcbiAgICAgICAgdmFyIGRpdiA9IHRoaXMuZGl2KHJhZGl4TG9uZyk7XG4gICAgICAgIHZhciByZW0gPSBkaXYubXVsdGlwbHkocmFkaXhMb25nKS5zdWJ0cmFjdCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGRpdi50b1N0cmluZyhyYWRpeCkgKyByZW0udG9JbnQoKS50b1N0cmluZyhyYWRpeCk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAnLScgKyB0aGlzLm5lZ2F0ZSgpLnRvU3RyaW5nKHJhZGl4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJhZGl4VG9Qb3dlciA9IEtvdGxpbi5Mb25nLmZyb21OdW1iZXIoTWF0aC5wb3cocmFkaXgsIDYpKTtcbiAgICB2YXIgcmVtID0gdGhpcztcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciByZW1EaXYgPSByZW0uZGl2KHJhZGl4VG9Qb3dlcik7XG4gICAgICB2YXIgaW50dmFsID0gcmVtLnN1YnRyYWN0KHJlbURpdi5tdWx0aXBseShyYWRpeFRvUG93ZXIpKS50b0ludCgpO1xuICAgICAgdmFyIGRpZ2l0cyA9IGludHZhbC50b1N0cmluZyhyYWRpeCk7XG4gICAgICByZW0gPSByZW1EaXY7XG4gICAgICBpZiAocmVtLmlzWmVybygpKSB7XG4gICAgICAgIHJldHVybiBkaWdpdHMgKyByZXN1bHQ7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHdoaWxlIChkaWdpdHMubGVuZ3RoIDwgNikge1xuICAgICAgICAgIGRpZ2l0cyA9ICcwJyArIGRpZ2l0cztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSAnJyArIGRpZ2l0cyArIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5nZXRIaWdoQml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoXztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmdldExvd0JpdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubG93XztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmdldExvd0JpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5sb3dfID49IDAgPyB0aGlzLmxvd18gOiBLb3RsaW4uTG9uZy5UV09fUFdSXzMyX0RCTF8gKyB0aGlzLmxvd187XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5nZXROdW1CaXRzQWJzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkge1xuICAgICAgaWYgKHRoaXMuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICAgIHJldHVybiA2NDtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRlKCkuZ2V0TnVtQml0c0FicygpO1xuICAgICAgfVxuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB2YXIgdmFsID0gdGhpcy5oaWdoXyAhPSAwID8gdGhpcy5oaWdoXyA6IHRoaXMubG93XztcbiAgICAgIGZvciAodmFyIGJpdCA9IDMxOyBiaXQgPiAwOyBiaXQtLSkge1xuICAgICAgICBpZiAoKHZhbCAmIDEgPDwgYml0KSAhPSAwKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmhpZ2hfICE9IDAgPyBiaXQgKyAzMyA6IGJpdCArIDE7XG4gICAgfVxuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmhpZ2hfID09IDAgJiYgdGhpcy5sb3dfID09IDA7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5pc05lZ2F0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmhpZ2hfIDwgMDtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy5sb3dfICYgMSkgPT0gMTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmVxdWFsc0xvbmcgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoXyA9PSBvdGhlci5oaWdoXyAmJiB0aGlzLmxvd18gPT0gb3RoZXIubG93XztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLm5vdEVxdWFsc0xvbmcgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdoXyAhPSBvdGhlci5oaWdoXyB8fCB0aGlzLmxvd18gIT0gb3RoZXIubG93XztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmxlc3NUaGFuID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZShvdGhlcikgPCAwO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUubGVzc1RoYW5PckVxdWFsID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZShvdGhlcikgPD0gMDtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZShvdGhlcikgPiAwO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGFyZShvdGhlcikgPj0gMDtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBpZiAodGhpcy5lcXVhbHNMb25nKG90aGVyKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciB0aGlzTmVnID0gdGhpcy5pc05lZ2F0aXZlKCk7XG4gICAgdmFyIG90aGVyTmVnID0gb3RoZXIuaXNOZWdhdGl2ZSgpO1xuICAgIGlmICh0aGlzTmVnICYmICFvdGhlck5lZykge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoIXRoaXNOZWcgJiYgb3RoZXJOZWcpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdWJ0cmFjdChvdGhlcikuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLm5lZ2F0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5lcXVhbHNMb25nKEtvdGxpbi5Mb25nLk1JTl9WQUxVRSkpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5NSU5fVkFMVUU7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLm5vdCgpLmFkZChLb3RsaW4uTG9uZy5PTkUpO1xuICAgIH1cbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHZhciBhNDggPSB0aGlzLmhpZ2hfID4+PiAxNjtcbiAgICB2YXIgYTMyID0gdGhpcy5oaWdoXyAmIDY1NTM1O1xuICAgIHZhciBhMTYgPSB0aGlzLmxvd18gPj4+IDE2O1xuICAgIHZhciBhMDAgPSB0aGlzLmxvd18gJiA2NTUzNTtcbiAgICB2YXIgYjQ4ID0gb3RoZXIuaGlnaF8gPj4+IDE2O1xuICAgIHZhciBiMzIgPSBvdGhlci5oaWdoXyAmIDY1NTM1O1xuICAgIHZhciBiMTYgPSBvdGhlci5sb3dfID4+PiAxNjtcbiAgICB2YXIgYjAwID0gb3RoZXIubG93XyAmIDY1NTM1O1xuICAgIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xuICAgIGMwMCArPSBhMDAgKyBiMDA7XG4gICAgYzE2ICs9IGMwMCA+Pj4gMTY7XG4gICAgYzAwICY9IDY1NTM1O1xuICAgIGMxNiArPSBhMTYgKyBiMTY7XG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gICAgYzE2ICY9IDY1NTM1O1xuICAgIGMzMiArPSBhMzIgKyBiMzI7XG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gICAgYzMyICY9IDY1NTM1O1xuICAgIGM0OCArPSBhNDggKyBiNDg7XG4gICAgYzQ4ICY9IDY1NTM1O1xuICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyhjMTYgPDwgMTYgfCBjMDAsIGM0OCA8PCAxNiB8IGMzMik7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzLmFkZChvdGhlci5uZWdhdGUoKSk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIGlmICh0aGlzLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuWkVSTztcbiAgICB9XG4gICAgIGVsc2UgaWYgKG90aGVyLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuWkVSTztcbiAgICB9XG4gICAgaWYgKHRoaXMuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICByZXR1cm4gb3RoZXIuaXNPZGQoKSA/IEtvdGxpbi5Mb25nLk1JTl9WQUxVRSA6IEtvdGxpbi5Mb25nLlpFUk87XG4gICAgfVxuICAgICBlbHNlIGlmIChvdGhlci5lcXVhbHNMb25nKEtvdGxpbi5Mb25nLk1JTl9WQUxVRSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzT2RkKCkgPyBLb3RsaW4uTG9uZy5NSU5fVkFMVUUgOiBLb3RsaW4uTG9uZy5aRVJPO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIGlmIChvdGhlci5pc05lZ2F0aXZlKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRlKCkubXVsdGlwbHkob3RoZXIubmVnYXRlKCkpO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGUoKS5tdWx0aXBseShvdGhlcikubmVnYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgICBlbHNlIGlmIChvdGhlci5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5KG90aGVyLm5lZ2F0ZSgpKS5uZWdhdGUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubGVzc1RoYW4oS290bGluLkxvbmcuVFdPX1BXUl8yNF8pICYmIG90aGVyLmxlc3NUaGFuKEtvdGxpbi5Mb25nLlRXT19QV1JfMjRfKSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21OdW1iZXIodGhpcy50b051bWJlcigpICogb3RoZXIudG9OdW1iZXIoKSk7XG4gICAgfVxuICAgIHZhciBhNDggPSB0aGlzLmhpZ2hfID4+PiAxNjtcbiAgICB2YXIgYTMyID0gdGhpcy5oaWdoXyAmIDY1NTM1O1xuICAgIHZhciBhMTYgPSB0aGlzLmxvd18gPj4+IDE2O1xuICAgIHZhciBhMDAgPSB0aGlzLmxvd18gJiA2NTUzNTtcbiAgICB2YXIgYjQ4ID0gb3RoZXIuaGlnaF8gPj4+IDE2O1xuICAgIHZhciBiMzIgPSBvdGhlci5oaWdoXyAmIDY1NTM1O1xuICAgIHZhciBiMTYgPSBvdGhlci5sb3dfID4+PiAxNjtcbiAgICB2YXIgYjAwID0gb3RoZXIubG93XyAmIDY1NTM1O1xuICAgIHZhciBjNDggPSAwLCBjMzIgPSAwLCBjMTYgPSAwLCBjMDAgPSAwO1xuICAgIGMwMCArPSBhMDAgKiBiMDA7XG4gICAgYzE2ICs9IGMwMCA+Pj4gMTY7XG4gICAgYzAwICY9IDY1NTM1O1xuICAgIGMxNiArPSBhMTYgKiBiMDA7XG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gICAgYzE2ICY9IDY1NTM1O1xuICAgIGMxNiArPSBhMDAgKiBiMTY7XG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gICAgYzE2ICY9IDY1NTM1O1xuICAgIGMzMiArPSBhMzIgKiBiMDA7XG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gICAgYzMyICY9IDY1NTM1O1xuICAgIGMzMiArPSBhMTYgKiBiMTY7XG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gICAgYzMyICY9IDY1NTM1O1xuICAgIGMzMiArPSBhMDAgKiBiMzI7XG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gICAgYzMyICY9IDY1NTM1O1xuICAgIGM0OCArPSBhNDggKiBiMDAgKyBhMzIgKiBiMTYgKyBhMTYgKiBiMzIgKyBhMDAgKiBiNDg7XG4gICAgYzQ4ICY9IDY1NTM1O1xuICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyhjMTYgPDwgMTYgfCBjMDAsIGM0OCA8PCAxNiB8IGMzMik7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5kaXYgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHtcbiAgICAgIHRocm93IEVycm9yKCdkaXZpc2lvbiBieSB6ZXJvJyk7XG4gICAgfVxuICAgICBlbHNlIGlmICh0aGlzLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuWkVSTztcbiAgICB9XG4gICAgaWYgKHRoaXMuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICBpZiAob3RoZXIuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5PTkUpIHx8IG90aGVyLmVxdWFsc0xvbmcoS290bGluLkxvbmcuTkVHX09ORSkpIHtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLk1JTl9WQUxVRTtcbiAgICAgIH1cbiAgICAgICBlbHNlIGlmIChvdGhlci5lcXVhbHNMb25nKEtvdGxpbi5Mb25nLk1JTl9WQUxVRSkpIHtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLk9ORTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGhhbGZUaGlzID0gdGhpcy5zaGlmdFJpZ2h0KDEpO1xuICAgICAgICB2YXIgYXBwcm94ID0gaGFsZlRoaXMuZGl2KG90aGVyKS5zaGlmdExlZnQoMSk7XG4gICAgICAgIGlmIChhcHByb3guZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5aRVJPKSkge1xuICAgICAgICAgIHJldHVybiBvdGhlci5pc05lZ2F0aXZlKCkgPyBLb3RsaW4uTG9uZy5PTkUgOiBLb3RsaW4uTG9uZy5ORUdfT05FO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVtID0gdGhpcy5zdWJ0cmFjdChvdGhlci5tdWx0aXBseShhcHByb3gpKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gYXBwcm94LmFkZChyZW0uZGl2KG90aGVyKSk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAgZWxzZSBpZiAob3RoZXIuZXF1YWxzTG9uZyhLb3RsaW4uTG9uZy5NSU5fVkFMVUUpKSB7XG4gICAgICByZXR1cm4gS290bGluLkxvbmcuWkVSTztcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICBpZiAob3RoZXIuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0ZSgpLmRpdihvdGhlci5uZWdhdGUoKSk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0ZSgpLmRpdihvdGhlcikubmVnYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgICBlbHNlIGlmIChvdGhlci5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpdihvdGhlci5uZWdhdGUoKSkubmVnYXRlKCk7XG4gICAgfVxuICAgIHZhciByZXMgPSBLb3RsaW4uTG9uZy5aRVJPO1xuICAgIHZhciByZW0gPSB0aGlzO1xuICAgIHdoaWxlIChyZW0uZ3JlYXRlclRoYW5PckVxdWFsKG90aGVyKSkge1xuICAgICAgdmFyIGFwcHJveCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IocmVtLnRvTnVtYmVyKCkgLyBvdGhlci50b051bWJlcigpKSk7XG4gICAgICB2YXIgbG9nMiA9IE1hdGguY2VpbChNYXRoLmxvZyhhcHByb3gpIC8gTWF0aC5MTjIpO1xuICAgICAgdmFyIGRlbHRhID0gbG9nMiA8PSA0OCA/IDEgOiBNYXRoLnBvdygyLCBsb2cyIC0gNDgpO1xuICAgICAgdmFyIGFwcHJveFJlcyA9IEtvdGxpbi5Mb25nLmZyb21OdW1iZXIoYXBwcm94KTtcbiAgICAgIHZhciBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsdGlwbHkob3RoZXIpO1xuICAgICAgd2hpbGUgKGFwcHJveFJlbS5pc05lZ2F0aXZlKCkgfHwgYXBwcm94UmVtLmdyZWF0ZXJUaGFuKHJlbSkpIHtcbiAgICAgICAgYXBwcm94IC09IGRlbHRhO1xuICAgICAgICBhcHByb3hSZXMgPSBLb3RsaW4uTG9uZy5mcm9tTnVtYmVyKGFwcHJveCk7XG4gICAgICAgIGFwcHJveFJlbSA9IGFwcHJveFJlcy5tdWx0aXBseShvdGhlcik7XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm94UmVzLmlzWmVybygpKSB7XG4gICAgICAgIGFwcHJveFJlcyA9IEtvdGxpbi5Mb25nLk9ORTtcbiAgICAgIH1cbiAgICAgIHJlcyA9IHJlcy5hZGQoYXBwcm94UmVzKTtcbiAgICAgIHJlbSA9IHJlbS5zdWJ0cmFjdChhcHByb3hSZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUubW9kdWxvID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VidHJhY3QodGhpcy5kaXYob3RoZXIpLm11bHRpcGx5KG90aGVyKSk7XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5ub3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21CaXRzKH50aGlzLmxvd18sIH50aGlzLmhpZ2hfKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyh0aGlzLmxvd18gJiBvdGhlci5sb3dfLCB0aGlzLmhpZ2hfICYgb3RoZXIuaGlnaF8pO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUub3IgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHModGhpcy5sb3dfIHwgb3RoZXIubG93XywgdGhpcy5oaWdoXyB8IG90aGVyLmhpZ2hfKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyh0aGlzLmxvd18gXiBvdGhlci5sb3dfLCB0aGlzLmhpZ2hfIF4gb3RoZXIuaGlnaF8pO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuc2hpZnRMZWZ0ID0gZnVuY3Rpb24gKG51bUJpdHMpIHtcbiAgICBudW1CaXRzICY9IDYzO1xuICAgIGlmIChudW1CaXRzID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB2YXIgbG93ID0gdGhpcy5sb3dfO1xuICAgICAgaWYgKG51bUJpdHMgPCAzMikge1xuICAgICAgICB2YXIgaGlnaCA9IHRoaXMuaGlnaF87XG4gICAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyhsb3cgPDwgbnVtQml0cywgaGlnaCA8PCBudW1CaXRzIHwgbG93ID4+PiAzMiAtIG51bUJpdHMpO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHMoMCwgbG93IDw8IG51bUJpdHMgLSAzMik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuc2hpZnRSaWdodCA9IGZ1bmN0aW9uIChudW1CaXRzKSB7XG4gICAgbnVtQml0cyAmPSA2MztcbiAgICBpZiAobnVtQml0cyA9PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdmFyIGhpZ2ggPSB0aGlzLmhpZ2hfO1xuICAgICAgaWYgKG51bUJpdHMgPCAzMikge1xuICAgICAgICB2YXIgbG93ID0gdGhpcy5sb3dfO1xuICAgICAgICByZXR1cm4gS290bGluLkxvbmcuZnJvbUJpdHMobG93ID4+PiBudW1CaXRzIHwgaGlnaCA8PCAzMiAtIG51bUJpdHMsIGhpZ2ggPj4gbnVtQml0cyk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyhoaWdoID4+IG51bUJpdHMgLSAzMiwgaGlnaCA+PSAwID8gMCA6IC0xKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIEtvdGxpbi5Mb25nLnByb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQgPSBmdW5jdGlvbiAobnVtQml0cykge1xuICAgIG51bUJpdHMgJj0gNjM7XG4gICAgaWYgKG51bUJpdHMgPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHZhciBoaWdoID0gdGhpcy5oaWdoXztcbiAgICAgIGlmIChudW1CaXRzIDwgMzIpIHtcbiAgICAgICAgdmFyIGxvdyA9IHRoaXMubG93XztcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21CaXRzKGxvdyA+Pj4gbnVtQml0cyB8IGhpZ2ggPDwgMzIgLSBudW1CaXRzLCBoaWdoID4+PiBudW1CaXRzKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIGlmIChudW1CaXRzID09IDMyKSB7XG4gICAgICAgIHJldHVybiBLb3RsaW4uTG9uZy5mcm9tQml0cyhoaWdoLCAwKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5Mb25nLmZyb21CaXRzKGhpZ2ggPj4+IG51bUJpdHMgLSAzMiwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgS290bGluLkxvbmcgJiYgdGhpcy5lcXVhbHNMb25nKG90aGVyKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLmNvbXBhcmVUb18xMXJiJCA9IEtvdGxpbi5Mb25nLnByb3RvdHlwZS5jb21wYXJlO1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuaW5jID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFkZChLb3RsaW4uTG9uZy5PTkUpO1xuICB9O1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuZGVjID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFkZChLb3RsaW4uTG9uZy5ORUdfT05FKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9OdW1iZXIoKTtcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnVuYXJ5UGx1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnVuYXJ5TWludXMgPSBLb3RsaW4uTG9uZy5wcm90b3R5cGUubmVnYXRlO1xuICBLb3RsaW4uTG9uZy5wcm90b3R5cGUuaW52ID0gS290bGluLkxvbmcucHJvdG90eXBlLm5vdDtcbiAgS290bGluLkxvbmcucHJvdG90eXBlLnJhbmdlVG8gPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICByZXR1cm4gbmV3IEtvdGxpbi5rb3RsaW4ucmFuZ2VzLkxvbmdSYW5nZSh0aGlzLCBvdGhlcik7XG4gIH07XG4gIEtvdGxpbi5kZWZpbmVJbmxpbmVGdW5jdGlvbiA9IGZ1bmN0aW9uICh0YWcsIGZ1bikge1xuICAgIHJldHVybiBmdW47XG4gIH07XG4gIEtvdGxpbi53cmFwRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmID0gZnVuKCk7XG4gICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcbiAgS290bGluLnN1c3BlbmRDYWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuICBLb3RsaW4uY29yb3V0aW5lUmVzdWx0ID0gZnVuY3Rpb24gKHF1YWxpZmllcikge1xuICAgIHRocm93TWFya2VyRXJyb3IoKTtcbiAgfTtcbiAgS290bGluLmNvcm91dGluZVJlY2VpdmVyID0gZnVuY3Rpb24gKHF1YWxpZmllcikge1xuICAgIHRocm93TWFya2VyRXJyb3IoKTtcbiAgfTtcbiAgZnVuY3Rpb24gdGhyb3dNYXJrZXJFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWFya2VyIGZ1bmN0aW9uIHNob3VsZCBuZXZlciBiZWVuIGNhbGxlZC4gJyArICdMb29rcyBsaWtlIGNvbXBpbGVyIGRpZCBub3QgZWxpbWluYXRlIGl0IHByb3Blcmx5LiAnICsgJ1BsZWFzZSwgcmVwb3J0IGFuIGlzc3VlIGlmIHlvdSBjYXVnaHQgdGhpcyBleGNlcHRpb24uJyk7XG4gIH1cbiAgS290bGluLmNvbXBhcmVUbyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIHR5cGVBID0gdHlwZW9mIGE7XG4gICAgaWYgKHR5cGVBID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKHR5cGVvZiBiID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gS290bGluLmRvdWJsZUNvbXBhcmVUbyhhLCBiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBLb3RsaW4ucHJpbWl0aXZlQ29tcGFyZVRvKGEsIGIpO1xuICAgIH1cbiAgICBpZiAodHlwZUEgPT09ICdzdHJpbmcnIHx8IHR5cGVBID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBLb3RsaW4ucHJpbWl0aXZlQ29tcGFyZVRvKGEsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gYS5jb21wYXJlVG9fMTFyYiQoYik7XG4gIH07XG4gIEtvdGxpbi5wcmltaXRpdmVDb21wYXJlVG8gPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogMDtcbiAgfTtcbiAgS290bGluLmRvdWJsZUNvbXBhcmVUbyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEgPCBiKVxuICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhID4gYilcbiAgICAgIHJldHVybiAxO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICBpZiAoYSAhPT0gMClcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB2YXIgaWEgPSAxIC8gYTtcbiAgICAgIHJldHVybiBpYSA9PT0gMSAvIGIgPyAwIDogaWEgPCAwID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4gYSAhPT0gYSA/IGIgIT09IGIgPyAwIDogMSA6IC0xO1xuICB9O1xuICBLb3RsaW4uaW11bCA9IE1hdGguaW11bCB8fCBpbXVsO1xuICBLb3RsaW4uaW11bEVtdWxhdGVkID0gaW11bDtcbiAgZnVuY3Rpb24gaW11bChhLCBiKSB7XG4gICAgcmV0dXJuIChhICYgNC4yOTQ5MDE3NkU5KSAqIChiICYgNjU1MzUpICsgKGEgJiA2NTUzNSkgKiAoYiB8IDApIHwgMDtcbiAgfVxuICAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG4gICAgdmFyIGJ1ZkZsb2F0NjQgPSBuZXcgRmxvYXQ2NEFycmF5KGJ1Zik7XG4gICAgdmFyIGJ1ZkZsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zik7XG4gICAgdmFyIGJ1ZkludDMyID0gbmV3IEludDMyQXJyYXkoYnVmKTtcbiAgICB2YXIgbG93SW5kZXggPSAwO1xuICAgIHZhciBoaWdoSW5kZXggPSAxO1xuICAgIGJ1ZkZsb2F0NjRbMF0gPSAtMTtcbiAgICBpZiAoYnVmSW50MzJbbG93SW5kZXhdICE9PSAwKSB7XG4gICAgICBsb3dJbmRleCA9IDE7XG4gICAgICBoaWdoSW5kZXggPSAwO1xuICAgIH1cbiAgICBLb3RsaW4ubnVtYmVySGFzaENvZGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICBpZiAoKG9iaiB8IDApID09PSBvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiB8IDA7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGJ1ZkZsb2F0NjRbMF0gPSBvYmo7XG4gICAgICAgIHJldHVybiAoYnVmSW50MzJbaGlnaEluZGV4XSAqIDMxIHwgMCkgKyBidWZJbnQzMltsb3dJbmRleF0gfCAwO1xuICAgICAgfVxuICAgIH07XG4gIH0oKSk7XG4gIEtvdGxpbi5lbnN1cmVOb3ROdWxsID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geCAhPSBudWxsID8geCA6IEtvdGxpbi50aHJvd05QRSgpO1xuICB9O1xuICBpZiAodHlwZW9mIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiB8fCAwO1xuICAgICAgcmV0dXJuIHRoaXMubGFzdEluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT09IHBvc2l0aW9uO1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoID09PSAndW5kZWZpbmVkJykge1xuICAgIFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikge1xuICAgICAgdmFyIHN1YmplY3RTdHJpbmcgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN1YmplY3RTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgIHBvc2l0aW9uID0gc3ViamVjdFN0cmluZy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICAgICAgdmFyIGxhc3RJbmRleCA9IHN1YmplY3RTdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKTtcbiAgICAgIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGguc2lnbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBNYXRoLnNpZ24gPSBmdW5jdGlvbiAoeCkge1xuICAgICAgeCA9ICt4O1xuICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcih4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4ID4gMCA/IDEgOiAtMTtcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgTWF0aC50cnVuYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBNYXRoLnRydW5jID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgIGlmIChpc05hTih4KSkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgfVxuICAgICAgaWYgKHggPiAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1hdGguY2VpbCh4KTtcbiAgICB9O1xuICB9XG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVwc2lsb24gPSAyLjIyMDQ0NjA0OTI1MDMxM0UtMTY7XG4gICAgdmFyIHRheWxvcl8yX2JvdW5kID0gTWF0aC5zcXJ0KGVwc2lsb24pO1xuICAgIHZhciB0YXlsb3Jfbl9ib3VuZCA9IE1hdGguc3FydCh0YXlsb3JfMl9ib3VuZCk7XG4gICAgdmFyIHVwcGVyX3RheWxvcl8yX2JvdW5kID0gMSAvIHRheWxvcl8yX2JvdW5kO1xuICAgIHZhciB1cHBlcl90YXlsb3Jfbl9ib3VuZCA9IDEgLyB0YXlsb3Jfbl9ib3VuZDtcbiAgICBpZiAodHlwZW9mIE1hdGguc2luaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIE1hdGguc2luaCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyh4KSA8IHRheWxvcl9uX2JvdW5kKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHg7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHgpID4gdGF5bG9yXzJfYm91bmQpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB4ICogeCAqIHggLyA2O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgeSA9IE1hdGguZXhwKHgpO1xuICAgICAgICAgIHZhciB5MSA9IDEgLyB5O1xuICAgICAgICAgIGlmICghaXNGaW5pdGUoeSkpXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5leHAoeCAtIE1hdGguTE4yKTtcbiAgICAgICAgICBpZiAoIWlzRmluaXRlKHkxKSlcbiAgICAgICAgICAgIHJldHVybiAtTWF0aC5leHAoLXggLSBNYXRoLkxOMik7XG4gICAgICAgICAgcmV0dXJuICh5IC0geTEpIC8gMjtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBNYXRoLmNvc2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBNYXRoLmNvc2ggPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgeSA9IE1hdGguZXhwKHgpO1xuICAgICAgICB2YXIgeTEgPSAxIC8geTtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZSh5KSB8fCAhaXNGaW5pdGUoeTEpKVxuICAgICAgICAgIHJldHVybiBNYXRoLmV4cChNYXRoLmFicyh4KSAtIE1hdGguTE4yKTtcbiAgICAgICAgcmV0dXJuICh5ICsgeTEpIC8gMjtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgTWF0aC50YW5oID09PSAndW5kZWZpbmVkJykge1xuICAgICAgTWF0aC50YW5oID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHgpIDwgdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0geDtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPiB0YXlsb3JfMl9ib3VuZCkge1xuICAgICAgICAgICAgcmVzdWx0IC09IHggKiB4ICogeCAvIDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBhID0gTWF0aC5leHAoK3gpLCBiID0gTWF0aC5leHAoLXgpO1xuICAgICAgICAgIHJldHVybiBhID09PSBJbmZpbml0eSA/IDEgOiBiID09PSBJbmZpbml0eSA/IC0xIDogKGEgLSBiKSAvIChhICsgYik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgTWF0aC5hc2luaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBhc2luaCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGlmICh4ID49ICt0YXlsb3Jfbl9ib3VuZCkge1xuICAgICAgICAgIGlmICh4ID4gdXBwZXJfdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICAgIGlmICh4ID4gdXBwZXJfdGF5bG9yXzJfYm91bmQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKHgpICsgTWF0aC5MTjI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4ICogMiArIDEgLyAoeCAqIDIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKHggKyBNYXRoLnNxcnQoeCAqIHggKyAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICBlbHNlIGlmICh4IDw9IC10YXlsb3Jfbl9ib3VuZCkge1xuICAgICAgICAgIHJldHVybiAtYXNpbmgoLXgpO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0geDtcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPj0gdGF5bG9yXzJfYm91bmQpIHtcbiAgICAgICAgICAgIHZhciB4MyA9IHggKiB4ICogeDtcbiAgICAgICAgICAgIHJlc3VsdCAtPSB4MyAvIDY7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBNYXRoLmFzaW5oID0gYXNpbmg7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgTWF0aC5hY29zaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIE1hdGguYWNvc2ggPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoeCA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIGlmICh4IC0gMSA+PSB0YXlsb3Jfbl9ib3VuZCkge1xuICAgICAgICAgIGlmICh4ID4gdXBwZXJfdGF5bG9yXzJfYm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmxvZyh4KSArIE1hdGguTE4yO1xuICAgICAgICAgIH1cbiAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5sb2coeCArIE1hdGguc3FydCh4ICogeCAtIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciB5ID0gTWF0aC5zcXJ0KHggLSAxKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0geTtcbiAgICAgICAgICBpZiAoeSA+PSB0YXlsb3JfMl9ib3VuZCkge1xuICAgICAgICAgICAgdmFyIHkzID0geSAqIHkgKiB5O1xuICAgICAgICAgICAgcmVzdWx0IC09IHkzIC8gMTI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBNYXRoLnNxcnQoMikgKiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgTWF0aC5hdGFuaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIE1hdGguYXRhbmggPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPCB0YXlsb3Jfbl9ib3VuZCkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSB4O1xuICAgICAgICAgIGlmIChNYXRoLmFicyh4KSA+IHRheWxvcl8yX2JvdW5kKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0geCAqIHggKiB4IC8gMztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5sb2coKDEgKyB4KSAvICgxIC0geCkpIC8gMjtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgTWF0aC5sb2cxcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIE1hdGgubG9nMXAgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBpZiAoTWF0aC5hYnMoeCkgPCB0YXlsb3Jfbl9ib3VuZCkge1xuICAgICAgICAgIHZhciB4MiA9IHggKiB4O1xuICAgICAgICAgIHZhciB4MyA9IHgyICogeDtcbiAgICAgICAgICB2YXIgeDQgPSB4MyAqIHg7XG4gICAgICAgICAgcmV0dXJuIC14NCAvIDQgKyB4MyAvIDMgLSB4MiAvIDIgKyB4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLmxvZyh4ICsgMSk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIE1hdGguZXhwbTEgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBNYXRoLmV4cG0xID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKHgpIDwgdGF5bG9yX25fYm91bmQpIHtcbiAgICAgICAgICB2YXIgeDIgPSB4ICogeDtcbiAgICAgICAgICB2YXIgeDMgPSB4MiAqIHg7XG4gICAgICAgICAgdmFyIHg0ID0geDMgKiB4O1xuICAgICAgICAgIHJldHVybiB4NCAvIDI0ICsgeDMgLyA2ICsgeDIgLyAyICsgeDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5leHAoeCkgLSAxO1xuICAgICAgfTtcbiAgICB9XG4gIH0oKSk7XG4gIGlmICh0eXBlb2YgTWF0aC5oeXBvdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBNYXRoLmh5cG90ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHkgPSAwO1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHNbaV0gPT09IEluZmluaXR5IHx8IGFyZ3VtZW50c1tpXSA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHkgKz0gYXJndW1lbnRzW2ldICogYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1hdGguc3FydCh5KTtcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgTWF0aC5sb2cxMCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBNYXRoLmxvZzEwID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyh4KSAqIE1hdGguTE9HMTBFO1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBNYXRoLmxvZzIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgTWF0aC5sb2cyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgIHJldHVybiBNYXRoLmxvZyh4KSAqIE1hdGguTE9HMkU7XG4gICAgfTtcbiAgfVxuICBpZiAodHlwZW9mIE1hdGguY2x6MzIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgTWF0aC5jbHozMiA9IGZ1bmN0aW9uIChsb2csIExOMikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHZhciBhc1VpbnQgPSB4ID4+PiAwO1xuICAgICAgICBpZiAoYXNVaW50ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIDMyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAzMSAtIChsb2coYXNVaW50KSAvIExOMiB8IDApIHwgMDtcbiAgICAgIH07XG4gICAgfShNYXRoLmxvZywgTWF0aC5MTjIpO1xuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAndW5kZWZpbmVkJykge1xuICAgIEFycmF5QnVmZmVyLmlzVmlldyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gYSAhPSBudWxsICYmIGEuX19wcm90b19fICE9IG51bGwgJiYgYS5fX3Byb3RvX18uX19wcm90b19fID09PSBJbnQ4QXJyYXkucHJvdG90eXBlLl9fcHJvdG9fXztcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLmZpbGwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgQXJyYXkucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RoaXMgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO1xuICAgICAgfVxuICAgICAgdmFyIE8gPSBPYmplY3QodGhpcyk7XG4gICAgICB2YXIgbGVuID0gTy5sZW5ndGggPj4+IDA7XG4gICAgICB2YXIgc3RhcnQgPSBhcmd1bWVudHNbMV07XG4gICAgICB2YXIgcmVsYXRpdmVTdGFydCA9IHN0YXJ0ID4+IDA7XG4gICAgICB2YXIgayA9IHJlbGF0aXZlU3RhcnQgPCAwID8gTWF0aC5tYXgobGVuICsgcmVsYXRpdmVTdGFydCwgMCkgOiBNYXRoLm1pbihyZWxhdGl2ZVN0YXJ0LCBsZW4pO1xuICAgICAgdmFyIGVuZCA9IGFyZ3VtZW50c1syXTtcbiAgICAgIHZhciByZWxhdGl2ZUVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogZW5kID4+IDA7XG4gICAgICB2YXIgZmluYWwgPSByZWxhdGl2ZUVuZCA8IDAgPyBNYXRoLm1heChsZW4gKyByZWxhdGl2ZUVuZCwgMCkgOiBNYXRoLm1pbihyZWxhdGl2ZUVuZCwgbGVuKTtcbiAgICAgIHdoaWxlIChrIDwgZmluYWwpIHtcbiAgICAgICAgT1trXSA9IHZhbHVlO1xuICAgICAgICBrKys7XG4gICAgICB9XG4gICAgICByZXR1cm4gTztcbiAgICB9O1xuICB9XG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplT2Zmc2V0KG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgICBpZiAob2Zmc2V0IDwgMClcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIG9mZnNldCArIGxlbmd0aCk7XG4gICAgICByZXR1cm4gTWF0aC5taW4ob2Zmc2V0LCBsZW5ndGgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0eXBlZEFycmF5U2xpY2UoYmVnaW4sIGVuZCkge1xuICAgICAgaWYgKHR5cGVvZiBlbmQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVuZCA9IHRoaXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgYmVnaW4gPSBub3JtYWxpemVPZmZzZXQoYmVnaW4gfHwgMCwgdGhpcy5sZW5ndGgpO1xuICAgICAgZW5kID0gTWF0aC5tYXgoYmVnaW4sIG5vcm1hbGl6ZU9mZnNldChlbmQsIHRoaXMubGVuZ3RoKSk7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5zdWJhcnJheShiZWdpbiwgZW5kKSk7XG4gICAgfVxuICAgIHZhciBhcnJheXMgPSBbSW50OEFycmF5LCBJbnQxNkFycmF5LCBVaW50MTZBcnJheSwgSW50MzJBcnJheSwgRmxvYXQzMkFycmF5LCBGbG9hdDY0QXJyYXldO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgVHlwZWRBcnJheSA9IGFycmF5c1tpXTtcbiAgICAgIGlmICh0eXBlb2YgVHlwZWRBcnJheS5wcm90b3R5cGUuZmlsbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgVHlwZWRBcnJheS5wcm90b3R5cGUuZmlsbCA9IEFycmF5LnByb3RvdHlwZS5maWxsO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBUeXBlZEFycmF5LnByb3RvdHlwZS5zbGljZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFR5cGVkQXJyYXkucHJvdG90eXBlLCAnc2xpY2UnLCB7dmFsdWU6IHR5cGVkQXJyYXlTbGljZX0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIH0uYXBwbHkobnVsbCwgbmV3IEludDMyQXJyYXkoMCkpKTtcbiAgICB9XG4gICAgIGNhdGNoIChlKSB7XG4gICAgICB2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVuY3Rpb24ucHJvdG90eXBlLCAnYXBwbHknLCB7dmFsdWU6IGZ1bmN0aW9uIChzZWxmLCBhcnJheSkge1xuICAgICAgICByZXR1cm4gYXBwbHkuY2FsbCh0aGlzLCBzZWxmLCBbXS5zbGljZS5jYWxsKGFycmF5KSk7XG4gICAgICB9fSk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgVHlwZWRBcnJheSA9IGFycmF5c1tpXTtcbiAgICAgIGlmICh0eXBlb2YgVHlwZWRBcnJheS5wcm90b3R5cGUubWFwID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHlwZWRBcnJheS5wcm90b3R5cGUsICdtYXAnLCB7dmFsdWU6IGZ1bmN0aW9uIChjYWxsYmFjaywgc2VsZikge1xuICAgICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHRoaXMpLm1hcChjYWxsYmFjaywgc2VsZik7XG4gICAgICAgIH19KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRvdGFsT3JkZXJDb21wYXJhdG9yID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIGlmIChhIDwgYilcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgaWYgKGEgPiBiKVxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIGlmIChhICE9PSAwKVxuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB2YXIgaWEgPSAxIC8gYTtcbiAgICAgICAgcmV0dXJuIGlhID09PSAxIC8gYiA/IDAgOiBpYSA8IDAgPyAtMSA6IDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gYSAhPT0gYSA/IGIgIT09IGIgPyAwIDogMSA6IC0xO1xuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBUeXBlZEFycmF5ID0gYXJyYXlzW2ldO1xuICAgICAgaWYgKHR5cGVvZiBUeXBlZEFycmF5LnByb3RvdHlwZS5zb3J0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHlwZWRBcnJheS5wcm90b3R5cGUsICdzb3J0Jywge3ZhbHVlOiBmdW5jdGlvbiAoY29tcGFyZUZ1bmN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zb3J0LmNhbGwodGhpcywgY29tcGFyZUZ1bmN0aW9uIHx8IHRvdGFsT3JkZXJDb21wYXJhdG9yKTtcbiAgICAgICAgfX0pO1xuICAgICAgfVxuICAgIH1cbiAgfSgpKTtcbiAgS290bGluLktpbmQgPSB7Q0xBU1M6ICdjbGFzcycsIElOVEVSRkFDRTogJ2ludGVyZmFjZScsIE9CSkVDVDogJ29iamVjdCd9O1xuICBmdW5jdGlvbiBpc0luaGVyaXRhbmNlRnJvbUludGVyZmFjZShjdG9yLCBpZmFjZSkge1xuICAgIGlmIChjdG9yID09PSBpZmFjZSlcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHZhciBtZXRhZGF0YSA9IGN0b3IuJG1ldGFkYXRhJDtcbiAgICBpZiAobWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgdmFyIGludGVyZmFjZXMgPSBtZXRhZGF0YS5pbnRlcmZhY2VzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnRlcmZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0luaGVyaXRhbmNlRnJvbUludGVyZmFjZShpbnRlcmZhY2VzW2ldLCBpZmFjZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3VwZXJQcm90b3R5cGUgPSBjdG9yLnByb3RvdHlwZSAhPSBudWxsID8gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN0b3IucHJvdG90eXBlKSA6IG51bGw7XG4gICAgdmFyIHN1cGVyQ29uc3RydWN0b3IgPSBzdXBlclByb3RvdHlwZSAhPSBudWxsID8gc3VwZXJQcm90b3R5cGUuY29uc3RydWN0b3IgOiBudWxsO1xuICAgIHJldHVybiBzdXBlckNvbnN0cnVjdG9yICE9IG51bGwgJiYgaXNJbmhlcml0YW5jZUZyb21JbnRlcmZhY2Uoc3VwZXJDb25zdHJ1Y3RvciwgaWZhY2UpO1xuICB9XG4gIEtvdGxpbi5pc1R5cGUgPSBmdW5jdGlvbiAob2JqZWN0LCBrbGFzcykge1xuICAgIGlmIChrbGFzcyA9PT0gT2JqZWN0KSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBvYmplY3QpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpyZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgT2JqZWN0O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob2JqZWN0ID09IG51bGwgfHwga2xhc3MgPT0gbnVsbCB8fCAodHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdCAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBrbGFzcyA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBrbGFzcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihrbGFzcyk7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvdG8gIT0gbnVsbCA/IHByb3RvLmNvbnN0cnVjdG9yIDogbnVsbDtcbiAgICBpZiAoY29uc3RydWN0b3IgIT0gbnVsbCAmJiAnJG1ldGFkYXRhJCcgaW4gY29uc3RydWN0b3IpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGNvbnN0cnVjdG9yLiRtZXRhZGF0YSQ7XG4gICAgICBpZiAobWV0YWRhdGEua2luZCA9PT0gS290bGluLktpbmQuT0JKRUNUKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IGtsYXNzO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIga2xhc3NNZXRhZGF0YSA9IGtsYXNzLiRtZXRhZGF0YSQ7XG4gICAgaWYgKGtsYXNzTWV0YWRhdGEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIGtsYXNzO1xuICAgIH1cbiAgICBpZiAoa2xhc3NNZXRhZGF0YS5raW5kID09PSBLb3RsaW4uS2luZC5JTlRFUkZBQ0UgJiYgb2JqZWN0LmNvbnN0cnVjdG9yICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBpc0luaGVyaXRhbmNlRnJvbUludGVyZmFjZShvYmplY3QuY29uc3RydWN0b3IsIGtsYXNzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBLb3RsaW4uaXNOdW1iZXIgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiB0eXBlb2YgYSA9PSAnbnVtYmVyJyB8fCBhIGluc3RhbmNlb2YgS290bGluLkxvbmc7XG4gIH07XG4gIEtvdGxpbi5pc0NoYXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBLb3RsaW4uQm94ZWRDaGFyO1xuICB9O1xuICBLb3RsaW4uaXNDaGFyU2VxdWVuY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCBLb3RsaW4uaXNUeXBlKHZhbHVlLCBLb3RsaW4ua290bGluLkNoYXJTZXF1ZW5jZSk7XG4gIH07XG4gIChmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBLaW5kX0lOVEVSRkFDRSA9IEtvdGxpbi5LaW5kLklOVEVSRkFDRTtcbiAgICB2YXIgS2luZF9PQkpFQ1QgPSBLb3RsaW4uS2luZC5PQkpFQ1Q7XG4gICAgdmFyIEtpbmRfQ0xBU1MgPSBLb3RsaW4uS2luZC5DTEFTUztcbiAgICB2YXIgZGVmaW5lSW5saW5lRnVuY3Rpb24gPSBLb3RsaW4uZGVmaW5lSW5saW5lRnVuY3Rpb247XG4gICAgdmFyIHdyYXBGdW5jdGlvbiA9IEtvdGxpbi53cmFwRnVuY3Rpb247XG4gICAgdmFyIGVxdWFscyA9IEtvdGxpbi5lcXVhbHM7XG4gICAgdmFyIEwwID0gS290bGluLkxvbmcuWkVSTztcbiAgICBmdW5jdGlvbiBDb21wYXJhYmxlKCkge1xuICAgIH1cbiAgICBDb21wYXJhYmxlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb21wYXJhYmxlJywgaW50ZXJmYWNlczogW119O1xuICAgIGZ1bmN0aW9uIEVudW0oKSB7XG4gICAgICBFbnVtJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgdGhpcy5uYW1lJCA9ICcnO1xuICAgICAgdGhpcy5vcmRpbmFsJCA9IDA7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnVtLnByb3RvdHlwZSwgJ25hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lJDtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudW0ucHJvdG90eXBlLCAnb3JkaW5hbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm9yZGluYWwkO1xuICAgIH19KTtcbiAgICBFbnVtLnByb3RvdHlwZS5jb21wYXJlVG9fMTFyYiQgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBLb3RsaW4ucHJpbWl0aXZlQ29tcGFyZVRvKHRoaXMub3JkaW5hbCwgb3RoZXIub3JkaW5hbCk7XG4gICAgfTtcbiAgICBFbnVtLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiB0aGlzID09PSBvdGhlcjtcbiAgICB9O1xuICAgIEVudW0ucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pZGVudGl0eUhhc2hDb2RlKHRoaXMpO1xuICAgIH07XG4gICAgRW51bS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH07XG4gICAgZnVuY3Rpb24gRW51bSRDb21wYW5pb24oKSB7XG4gICAgICBFbnVtJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIEVudW0kQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIEVudW0kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBFbnVtJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChFbnVtJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW51bSRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBFbnVtJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgRW51bS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdFbnVtJywgaW50ZXJmYWNlczogW0NvbXBhcmFibGVdfTtcbiAgICBmdW5jdGlvbiBuZXdBcnJheShzaXplLCBpbml0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmaWxsQXJyYXlWYWwoQXJyYXkoc2l6ZSksIGluaXRWYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJvb2xlYW5BcnJheShzaXplLCBpbml0KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShzaXplKTtcbiAgICAgIHJlc3VsdC4kdHlwZSQgPSAnQm9vbGVhbkFycmF5JztcbiAgICAgIGlmIChpbml0ID09IG51bGwgfHwgZXF1YWxzKGluaXQsIHRydWUpKVxuICAgICAgICB0bXAkID0gZmlsbEFycmF5VmFsKHJlc3VsdCwgZmFsc2UpO1xuICAgICAgZWxzZSBpZiAoZXF1YWxzKGluaXQsIGZhbHNlKSlcbiAgICAgICAgdG1wJCA9IHJlc3VsdDtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgdG1wJF8wO1xuICAgICAgICB0bXAkXzAgPSByZXN1bHQubGVuZ3RoIC0gMSB8IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IHRtcCRfMDsgaSsrKSB7XG4gICAgICAgICAgcmVzdWx0W2ldID0gaW5pdChpKTtcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYXJBcnJheShzaXplLCBpbml0KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDE2QXJyYXkoc2l6ZSk7XG4gICAgICByZXN1bHQuJHR5cGUkID0gJ0NoYXJBcnJheSc7XG4gICAgICBpZiAoaW5pdCA9PSBudWxsIHx8IGVxdWFscyhpbml0LCB0cnVlKSB8fCBlcXVhbHMoaW5pdCwgZmFsc2UpKVxuICAgICAgICB0bXAkID0gcmVzdWx0O1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciB0bXAkXzA7XG4gICAgICAgIHRtcCRfMCA9IHJlc3VsdC5sZW5ndGggLSAxIHwgMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gdG1wJF8wOyBpKyspIHtcbiAgICAgICAgICByZXN1bHRbaV0gPSBpbml0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHRtcCQgPSByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsbEFycmF5VmFsKGFycmF5LCBpbml0VmFsdWUpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9IGFycmF5Lmxlbmd0aCAtIDEgfCAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gdG1wJDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gaW5pdFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBEb3VibGVDb21wYW5pb25PYmplY3QoKSB7XG4gICAgICBEb3VibGVDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5NSU5fVkFMVUUgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgICAgdGhpcy5NQVhfVkFMVUUgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgdGhpcy5QT1NJVElWRV9JTkZJTklUWSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgIHRoaXMuTkVHQVRJVkVfSU5GSU5JVFkgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICB0aGlzLk5hTiA9IE51bWJlci5OYU47XG4gICAgfVxuICAgIERvdWJsZUNvbXBhbmlvbk9iamVjdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRG91YmxlQ29tcGFuaW9uT2JqZWN0JywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBEb3VibGVDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIERvdWJsZUNvbXBhbmlvbk9iamVjdF9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChEb3VibGVDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IERvdWJsZUNvbXBhbmlvbk9iamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIERvdWJsZUNvbXBhbmlvbk9iamVjdF9pbnN0YW5jZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRmxvYXRDb21wYW5pb25PYmplY3QoKSB7XG4gICAgICBGbG9hdENvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICB0aGlzLk1JTl9WQUxVRSA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgICB0aGlzLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICB0aGlzLlBPU0lUSVZFX0lORklOSVRZID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgdGhpcy5ORUdBVElWRV9JTkZJTklUWSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgIHRoaXMuTmFOID0gTnVtYmVyLk5hTjtcbiAgICB9XG4gICAgRmxvYXRDb21wYW5pb25PYmplY3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0Zsb2F0Q29tcGFuaW9uT2JqZWN0JywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBGbG9hdENvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRmxvYXRDb21wYW5pb25PYmplY3RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRmxvYXRDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEZsb2F0Q29tcGFuaW9uT2JqZWN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRmxvYXRDb21wYW5pb25PYmplY3RfaW5zdGFuY2U7XG4gICAgfVxuICAgIHZhciBJbnRDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBMb25nQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBTaG9ydENvbXBhbmlvbk9iamVjdCgpIHtcbiAgICAgIFNob3J0Q29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuTUlOX1ZBTFVFID0gLTMyNzY4IHwgMDtcbiAgICAgIHRoaXMuTUFYX1ZBTFVFID0gMzI3Njc7XG4gICAgICB0aGlzLlNJWkVfQllURVMgPSAyO1xuICAgICAgdGhpcy5TSVpFX0JJVFMgPSAxNjtcbiAgICB9XG4gICAgU2hvcnRDb21wYW5pb25PYmplY3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1Nob3J0Q29tcGFuaW9uT2JqZWN0JywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBTaG9ydENvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gU2hvcnRDb21wYW5pb25PYmplY3RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoU2hvcnRDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFNob3J0Q29tcGFuaW9uT2JqZWN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gU2hvcnRDb21wYW5pb25PYmplY3RfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEJ5dGVDb21wYW5pb25PYmplY3QoKSB7XG4gICAgICBCeXRlQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuTUlOX1ZBTFVFID0gLTEyOCB8IDA7XG4gICAgICB0aGlzLk1BWF9WQUxVRSA9IDEyNztcbiAgICAgIHRoaXMuU0laRV9CWVRFUyA9IDE7XG4gICAgICB0aGlzLlNJWkVfQklUUyA9IDg7XG4gICAgfVxuICAgIEJ5dGVDb21wYW5pb25PYmplY3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0J5dGVDb21wYW5pb25PYmplY3QnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIEJ5dGVDb21wYW5pb25PYmplY3RfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEJ5dGVDb21wYW5pb25PYmplY3RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoQnl0ZUNvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgQnl0ZUNvbXBhbmlvbk9iamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEJ5dGVDb21wYW5pb25PYmplY3RfaW5zdGFuY2U7XG4gICAgfVxuICAgIHZhciBDaGFyQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgU3RyaW5nQ29tcGFuaW9uT2JqZWN0X2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgQm9vbGVhbkNvbXBhbmlvbk9iamVjdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIHBhY2thZ2Uka290bGluID0gXy5rb3RsaW4gfHwgKF8ua290bGluID0ge30pO1xuICAgIHBhY2thZ2Uka290bGluLkNvbXBhcmFibGUgPSBDb21wYXJhYmxlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnVtLCAnQ29tcGFuaW9uJywge2dldDogRW51bSRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGtvdGxpbi5FbnVtID0gRW51bTtcbiAgICBfLm5ld0FycmF5ID0gbmV3QXJyYXk7XG4gICAgXy5ib29sZWFuQXJyYXkgPSBib29sZWFuQXJyYXk7XG4gICAgXy5jaGFyQXJyYXkgPSBjaGFyQXJyYXk7XG4gICAgdmFyIHBhY2thZ2UkanMgPSBwYWNrYWdlJGtvdGxpbi5qcyB8fCAocGFja2FnZSRrb3RsaW4uanMgPSB7fSk7XG4gICAgdmFyIHBhY2thZ2UkaW50ZXJuYWwgPSBwYWNrYWdlJGpzLmludGVybmFsIHx8IChwYWNrYWdlJGpzLmludGVybmFsID0ge30pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnRG91YmxlQ29tcGFuaW9uT2JqZWN0Jywge2dldDogRG91YmxlQ29tcGFuaW9uT2JqZWN0X2dldEluc3RhbmNlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdGbG9hdENvbXBhbmlvbk9iamVjdCcsIHtnZXQ6IEZsb2F0Q29tcGFuaW9uT2JqZWN0X2dldEluc3RhbmNlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdTaG9ydENvbXBhbmlvbk9iamVjdCcsIHtnZXQ6IFNob3J0Q29tcGFuaW9uT2JqZWN0X2dldEluc3RhbmNlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdCeXRlQ29tcGFuaW9uT2JqZWN0Jywge2dldDogQnl0ZUNvbXBhbmlvbk9iamVjdF9nZXRJbnN0YW5jZX0pO1xuICB9KCkpO1xuICAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgZGVmaW5lSW5saW5lRnVuY3Rpb24gPSBLb3RsaW4uZGVmaW5lSW5saW5lRnVuY3Rpb247XG4gICAgdmFyIHdyYXBGdW5jdGlvbiA9IEtvdGxpbi53cmFwRnVuY3Rpb247XG4gICAgdmFyIGVxdWFscyA9IEtvdGxpbi5lcXVhbHM7XG4gICAgdmFyIHRvQm94ZWRDaGFyID0gS290bGluLnRvQm94ZWRDaGFyO1xuICAgIHZhciB1bmJveENoYXIgPSBLb3RsaW4udW5ib3hDaGFyO1xuICAgIHZhciBrb3RsaW5fanNfaW50ZXJuYWxfRG91YmxlQ29tcGFuaW9uT2JqZWN0ID0gS290bGluLmtvdGxpbi5qcy5pbnRlcm5hbC5Eb3VibGVDb21wYW5pb25PYmplY3Q7XG4gICAgdmFyIEwwID0gS290bGluLkxvbmcuWkVSTztcbiAgICB2YXIgTWF0aF8wID0gTWF0aDtcbiAgICB2YXIgS2luZF9DTEFTUyA9IEtvdGxpbi5LaW5kLkNMQVNTO1xuICAgIHZhciB0b0NoYXIgPSBLb3RsaW4udG9DaGFyO1xuICAgIHZhciBMXzEgPSBLb3RsaW4uTG9uZy5ORUdfT05FO1xuICAgIHZhciB0b0J5dGUgPSBLb3RsaW4udG9CeXRlO1xuICAgIHZhciBMXzEyOCA9IEtvdGxpbi5Mb25nLmZyb21JbnQoLTEyOCk7XG4gICAgdmFyIEwxMjcgPSBLb3RsaW4uTG9uZy5mcm9tSW50KDEyNyk7XG4gICAgdmFyIGtvdGxpbl9qc19pbnRlcm5hbF9CeXRlQ29tcGFuaW9uT2JqZWN0ID0gS290bGluLmtvdGxpbi5qcy5pbnRlcm5hbC5CeXRlQ29tcGFuaW9uT2JqZWN0O1xuICAgIHZhciBudW1iZXJUb0ludCA9IEtvdGxpbi5udW1iZXJUb0ludDtcbiAgICB2YXIgTF8yMTQ3NDgzNjQ4ID0gS290bGluLkxvbmcuZnJvbUludCgtMjE0NzQ4MzY0OCk7XG4gICAgdmFyIEwyMTQ3NDgzNjQ3ID0gS290bGluLkxvbmcuZnJvbUludCgyMTQ3NDgzNjQ3KTtcbiAgICB2YXIgTG9uZyRDb21wYW5pb24kTUlOX1ZBTFVFID0gS290bGluLkxvbmcuTUlOX1ZBTFVFO1xuICAgIHZhciBMb25nJENvbXBhbmlvbiRNQVhfVkFMVUUgPSBLb3RsaW4uTG9uZy5NQVhfVkFMVUU7XG4gICAgdmFyIHRvU2hvcnQgPSBLb3RsaW4udG9TaG9ydDtcbiAgICB2YXIgTF8zMjc2OCA9IEtvdGxpbi5Mb25nLmZyb21JbnQoLTMyNzY4KTtcbiAgICB2YXIgTDMyNzY3ID0gS290bGluLkxvbmcuZnJvbUludCgzMjc2Nyk7XG4gICAgdmFyIGtvdGxpbl9qc19pbnRlcm5hbF9TaG9ydENvbXBhbmlvbk9iamVjdCA9IEtvdGxpbi5rb3RsaW4uanMuaW50ZXJuYWwuU2hvcnRDb21wYW5pb25PYmplY3Q7XG4gICAgdmFyIHRvU3RyaW5nID0gS290bGluLnRvU3RyaW5nO1xuICAgIHZhciBMMjU1ID0gS290bGluLkxvbmcuZnJvbUludCgyNTUpO1xuICAgIHZhciBMNDI5NDk2NzI5NSA9IG5ldyBLb3RsaW4uTG9uZygtMSwgMCk7XG4gICAgdmFyIEw2NTUzNSA9IEtvdGxpbi5Mb25nLmZyb21JbnQoNjU1MzUpO1xuICAgIHZhciBLaW5kX0lOVEVSRkFDRSA9IEtvdGxpbi5LaW5kLklOVEVSRkFDRTtcbiAgICB2YXIgQW55ID0gT2JqZWN0O1xuICAgIHZhciBLaW5kX09CSkVDVCA9IEtvdGxpbi5LaW5kLk9CSkVDVDtcbiAgICB2YXIgTDEgPSBLb3RsaW4uTG9uZy5PTkU7XG4gICAgdmFyIEVudW0gPSBLb3RsaW4ua290bGluLkVudW07XG4gICAgdmFyIENvbXBhcmFibGUgPSBLb3RsaW4ua290bGluLkNvbXBhcmFibGU7XG4gICAgdmFyIGVuc3VyZU5vdE51bGwgPSBLb3RsaW4uZW5zdXJlTm90TnVsbDtcbiAgICB2YXIgdGhyb3dDQ0UgPSBLb3RsaW4udGhyb3dDQ0U7XG4gICAgdmFyIGFycmF5VG9TdHJpbmcgPSBLb3RsaW4uYXJyYXlUb1N0cmluZztcbiAgICB2YXIgaGFzaENvZGUgPSBLb3RsaW4uaGFzaENvZGU7XG4gICAgdmFyIFRocm93YWJsZSA9IEVycm9yO1xuICAgIHZhciBrb3RsaW5fanNfaW50ZXJuYWxfRmxvYXRDb21wYW5pb25PYmplY3QgPSBLb3RsaW4ua290bGluLmpzLmludGVybmFsLkZsb2F0Q29tcGFuaW9uT2JqZWN0O1xuICAgIHZhciBMXzczOTA0Njg3NjQ1MDgwNjk4MzggPSBuZXcgS290bGluLkxvbmcoLTE0Nzg0Njc1MzQsIC0xNzIwNzI3NjAwKTtcbiAgICB2YXIgTDgyNDY3MTQ4Mjk1NDU2ODgyNzQgPSBuZXcgS290bGluLkxvbmcoLTg4ODkxMDYzOCwgMTkyMDA4NzkyMSk7XG4gICAgdmFyIEwzNDA2NjAzNzc0Mzg3MDIwNTMyID0gbmV3IEtvdGxpbi5Mb25nKDE5OTM4NTk4MjgsIDc5MzE2MTc0OSk7XG4gICAgdmFyIExfOTIyMzM3MjAzNjg1NDc3NTgwNyA9IG5ldyBLb3RsaW4uTG9uZygxLCAtMjE0NzQ4MzY0OCk7XG4gICAgdmFyIEwyMDQ3ID0gS290bGluLkxvbmcuZnJvbUludCgyMDQ3KTtcbiAgICBDaGFyUHJvZ3Jlc3Npb25JdGVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENoYXJJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yO1xuICAgIEludFByb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJbnRJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIEludFByb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50UHJvZ3Jlc3Npb25JdGVyYXRvcjtcbiAgICBMb25nUHJvZ3Jlc3Npb25JdGVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExvbmdJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yO1xuICAgIENoYXJSYW5nZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENoYXJQcm9ncmVzc2lvbi5wcm90b3R5cGUpO1xuICAgIENoYXJSYW5nZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaGFyUmFuZ2U7XG4gICAgSW50UmFuZ2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJbnRQcm9ncmVzc2lvbi5wcm90b3R5cGUpO1xuICAgIEludFJhbmdlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludFJhbmdlO1xuICAgIExvbmdSYW5nZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUpO1xuICAgIExvbmdSYW5nZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb25nUmFuZ2U7XG4gICAgYm9vbGVhbkFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJvb2xlYW5JdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gYm9vbGVhbkFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBieXRlQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnl0ZUl0ZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgYnl0ZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBieXRlQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsO1xuICAgIHNob3J0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2hvcnRJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIHNob3J0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHNob3J0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsO1xuICAgIGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDaGFySXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBjaGFyQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWw7XG4gICAgaW50QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSW50SXRlcmF0b3IucHJvdG90eXBlKTtcbiAgICBpbnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gaW50QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsO1xuICAgIGZsb2F0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRmxvYXRJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIGZsb2F0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGZsb2F0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsO1xuICAgIGRvdWJsZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKERvdWJsZUl0ZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgZG91YmxlQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGRvdWJsZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBsb25nQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTG9uZ0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgbG9uZ0FycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb25nQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsO1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0Q29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdExpc3Q7XG4gICAgQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0Q29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbjtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JExpc3RJdGVyYXRvckltcGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE11dGFibGVMaXN0JEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE11dGFibGVMaXN0JExpc3RJdGVyYXRvckltcGw7XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0TXV0YWJsZUxpc3Q7XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRTdWJMaXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkU3ViTGlzdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3Q7XG4gICAgQWJzdHJhY3RNdXRhYmxlU2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TXV0YWJsZVNldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE11dGFibGVTZXQ7XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlU2V0LnByb3RvdHlwZSk7XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbDtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbDtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE1hcC5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE11dGFibGVNYXA7XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUpO1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcnJheUxpc3Q7XG4gICAgSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TXV0YWJsZVNldC5wcm90b3R5cGUpO1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSGFzaE1hcCRFbnRyeVNldDtcbiAgICBIYXNoTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlTWFwLnByb3RvdHlwZSk7XG4gICAgSGFzaE1hcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBIYXNoTWFwO1xuICAgIEhhc2hTZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE11dGFibGVTZXQucHJvdG90eXBlKTtcbiAgICBIYXNoU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhhc2hTZXQ7XG4gICAgTGlua2VkSGFzaE1hcCRDaGFpbkVudHJ5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlTWFwJFNpbXBsZUVudHJ5LnByb3RvdHlwZSk7XG4gICAgTGlua2VkSGFzaE1hcCRDaGFpbkVudHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmtlZEhhc2hNYXAkQ2hhaW5FbnRyeTtcbiAgICBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RNdXRhYmxlU2V0LnByb3RvdHlwZSk7XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5rZWRIYXNoTWFwO1xuICAgIExpbmtlZEhhc2hTZXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShIYXNoU2V0LnByb3RvdHlwZSk7XG4gICAgTGlua2VkSGFzaFNldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5rZWRIYXNoU2V0O1xuICAgIE5vZGVKc091dHB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEJhc2VPdXRwdXQucHJvdG90eXBlKTtcbiAgICBOb2RlSnNPdXRwdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTm9kZUpzT3V0cHV0O1xuICAgIEJ1ZmZlcmVkT3V0cHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQmFzZU91dHB1dC5wcm90b3R5cGUpO1xuICAgIEJ1ZmZlcmVkT3V0cHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJ1ZmZlcmVkT3V0cHV0O1xuICAgIEJ1ZmZlcmVkT3V0cHV0VG9Db25zb2xlTG9nLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnVmZmVyZWRPdXRwdXQucHJvdG90eXBlKTtcbiAgICBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZztcbiAgICBFcnJvcl8wLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVGhyb3dhYmxlLnByb3RvdHlwZSk7XG4gICAgRXJyb3JfMC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFcnJvcl8wO1xuICAgIEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFRocm93YWJsZS5wcm90b3R5cGUpO1xuICAgIEV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFeGNlcHRpb247XG4gICAgUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUnVudGltZUV4Y2VwdGlvbjtcbiAgICBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjtcbiAgICBJbGxlZ2FsU3RhdGVFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbjtcbiAgICBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjtcbiAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbjtcbiAgICBOdW1iZXJGb3JtYXRFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBOdW1iZXJGb3JtYXRFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTnVtYmVyRm9ybWF0RXhjZXB0aW9uO1xuICAgIE51bGxQb2ludGVyRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgIE51bGxQb2ludGVyRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE51bGxQb2ludGVyRXhjZXB0aW9uO1xuICAgIENsYXNzQ2FzdEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBDbGFzc0Nhc3RFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2xhc3NDYXN0RXhjZXB0aW9uO1xuICAgIE5vU3VjaEVsZW1lbnRFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uO1xuICAgIEFyaXRobWV0aWNFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgQXJpdGhtZXRpY0V4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcml0aG1ldGljRXhjZXB0aW9uO1xuICAgIE5vV2hlbkJyYW5jaE1hdGNoZWRFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSdW50aW1lRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uO1xuICAgIFVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uO1xuICAgIFNpbXBsZUtDbGFzc0ltcGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShLQ2xhc3NJbXBsLnByb3RvdHlwZSk7XG4gICAgU2ltcGxlS0NsYXNzSW1wbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTaW1wbGVLQ2xhc3NJbXBsO1xuICAgIFByaW1pdGl2ZUtDbGFzc0ltcGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShLQ2xhc3NJbXBsLnByb3RvdHlwZSk7XG4gICAgUHJpbWl0aXZlS0NsYXNzSW1wbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLQ2xhc3NJbXBsO1xuICAgIE5vdGhpbmdLQ2xhc3NJbXBsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoS0NsYXNzSW1wbC5wcm90b3R5cGUpO1xuICAgIE5vdGhpbmdLQ2xhc3NJbXBsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5vdGhpbmdLQ2xhc3NJbXBsO1xuICAgIFJlZ2V4T3B0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRW51bS5wcm90b3R5cGUpO1xuICAgIFJlZ2V4T3B0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlZ2V4T3B0aW9uO1xuICAgIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ2V0X2ZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBWYWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TGlzdC5wcm90b3R5cGUpO1xuICAgIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ2V0X2ZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBWYWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWw7XG4gICAgZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0Q29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbDtcbiAgICBBYnN0cmFjdExpc3QkU3ViTGlzdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0TGlzdC5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TGlzdCRTdWJMaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0TGlzdCRTdWJMaXN0O1xuICAgIEFic3RyYWN0TGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RMaXN0JEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFic3RyYWN0TGlzdCRMaXN0SXRlcmF0b3JJbXBsO1xuICAgIEFic3RyYWN0U2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG4gICAgQWJzdHJhY3RTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RTZXQ7XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0U2V0LnByb3RvdHlwZSk7XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAka2V5cyRPYmplY3RMaXRlcmFsO1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0Q29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWw7XG4gICAgQ29yb3V0aW5lU2luZ2xldG9ucy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgICBDb3JvdXRpbmVTaW5nbGV0b25zLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvcm91dGluZVNpbmdsZXRvbnM7XG4gICAgaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENoYXJJdGVyYXRvci5wcm90b3R5cGUpO1xuICAgIGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgICBOb3RJbXBsZW1lbnRlZEVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3JfMC5wcm90b3R5cGUpO1xuICAgIE5vdEltcGxlbWVudGVkRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTm90SW1wbGVtZW50ZWRFcnJvcjtcbiAgICBmdW5jdGlvbiBjb250YWlucygkcmVjZWl2ZXIsIGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBpbmRleE9mKCRyZWNlaXZlciwgZWxlbWVudCkgPj0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29udGFpbnNfNygkcmVjZWl2ZXIsIGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBpbmRleE9mXzcoJHJlY2VpdmVyLCBlbGVtZW50KSA+PSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPck51bGwoJHJlY2VpdmVyLCBpbmRleCkge1xuICAgICAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPD0gZ2V0X2xhc3RJbmRleCgkcmVjZWl2ZXIpID8gJHJlY2VpdmVyW2luZGV4XSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGV4T2YoJHJlY2VpdmVyLCBlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggIT09ICRyZWNlaXZlci5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICBpZiAoJHJlY2VpdmVyW2luZGV4XSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGluZGV4XzAgPSAwOyBpbmRleF8wICE9PSAkcmVjZWl2ZXIubGVuZ3RoOyArK2luZGV4XzApIHtcbiAgICAgICAgICBpZiAoZXF1YWxzKGVsZW1lbnQsICRyZWNlaXZlcltpbmRleF8wXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleF8wO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmRleE9mXzcoJHJlY2VpdmVyLCBlbGVtZW50KSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4ICE9PSAkcmVjZWl2ZXIubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgIGlmIChlbGVtZW50ID09PSAkcmVjZWl2ZXJbaW5kZXhdKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKCRyZWNlaXZlciwgZWxlbWVudCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgdG1wJCA9IHJldmVyc2VkXzkoZ2V0X2luZGljZXMoJHJlY2VpdmVyKSkuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKCRyZWNlaXZlcltpbmRleF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkXzAgPSByZXZlcnNlZF85KGdldF9pbmRpY2VzKCRyZWNlaXZlcikpLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkXzAuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4XzAgPSB0bXAkXzAubmV4dCgpO1xuICAgICAgICAgIGlmIChlcXVhbHMoZWxlbWVudCwgJHJlY2VpdmVyW2luZGV4XzBdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4XzA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpbmdsZV83KCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBzd2l0Y2ggKCRyZWNlaXZlci5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHRocm93IG5ldyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKCdBcnJheSBpcyBlbXB0eS4nKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRtcCQgPSAkcmVjZWl2ZXJbMF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6dGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnQXJyYXkgaGFzIG1vcmUgdGhhbiBvbmUgZWxlbWVudC4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRfaW5kaWNlcygkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBuZXcgSW50UmFuZ2UoMCwgZ2V0X2xhc3RJbmRleCgkcmVjZWl2ZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0X2xhc3RJbmRleCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIubGVuZ3RoIC0gMSB8IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvQ29sbGVjdGlvbigkcmVjZWl2ZXIsIGRlc3RpbmF0aW9uKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGZvciAodG1wJCA9IDA7IHRtcCQgIT09ICRyZWNlaXZlci5sZW5ndGg7ICsrdG1wJCkge1xuICAgICAgICB2YXIgaXRlbSA9ICRyZWNlaXZlclt0bXAkXTtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKGl0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0xpc3QoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHN3aXRjaCAoJHJlY2VpdmVyLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgdG1wJCA9IGVtcHR5TGlzdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdG1wJCA9IGxpc3RPZigkcmVjZWl2ZXJbMF0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OnRtcCQgPSB0b011dGFibGVMaXN0KCRyZWNlaXZlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9NdXRhYmxlTGlzdCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBBcnJheUxpc3RfaW5pdF8xKGFzQ29sbGVjdGlvbigkcmVjZWl2ZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gU2VxdWVuY2UkT2JqZWN0TGl0ZXJhbF8wKGNsb3N1cmUkaXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRpdGVyYXRvciA9IGNsb3N1cmUkaXRlcmF0b3I7XG4gICAgfVxuICAgIFNlcXVlbmNlJE9iamVjdExpdGVyYWxfMC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGl0ZXJhdG9yKCk7XG4gICAgfTtcbiAgICBTZXF1ZW5jZSRPYmplY3RMaXRlcmFsXzAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbU2VxdWVuY2VdfTtcbiAgICBmdW5jdGlvbiBnZXRPck51bGxfOCgkcmVjZWl2ZXIsIGluZGV4KSB7XG4gICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiBpbmRleCA8PSBnZXRfbGFzdEluZGV4XzEyKCRyZWNlaXZlcikgPyAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoaW5kZXgpIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGFzdF8xOCgkcmVjZWl2ZXIpIHtcbiAgICAgIGlmICgkcmVjZWl2ZXIuaXNFbXB0eSgpKVxuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbignTGlzdCBpcyBlbXB0eS4nKTtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoZ2V0X2xhc3RJbmRleF8xMigkcmVjZWl2ZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGFzdE9yTnVsbF8xOCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIuaXNFbXB0eSgpID8gbnVsbCA6ICRyZWNlaXZlci5nZXRfemEzbHBhJCgkcmVjZWl2ZXIuc2l6ZSAtIDEgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2luZ2xlXzE3KCRyZWNlaXZlcikge1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBMaXN0KSlcbiAgICAgICAgcmV0dXJuIHNpbmdsZV8xOCgkcmVjZWl2ZXIpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgICBpZiAoIWl0ZXJhdG9yLmhhc05leHQoKSlcbiAgICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbignQ29sbGVjdGlvbiBpcyBlbXB0eS4nKTtcbiAgICAgICAgdmFyIHNpbmdsZSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZXJhdG9yLmhhc05leHQoKSlcbiAgICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdDb2xsZWN0aW9uIGhhcyBtb3JlIHRoYW4gb25lIGVsZW1lbnQuJyk7XG4gICAgICAgIHJldHVybiBzaW5nbGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpbmdsZV8xOCgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgc3dpdGNoICgkcmVjZWl2ZXIuc2l6ZSkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24oJ0xpc3QgaXMgZW1wdHkuJyk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0bXAkID0gJHJlY2VpdmVyLmdldF96YTNscGEkKDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OnRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ0xpc3QgaGFzIG1vcmUgdGhhbiBvbmUgZWxlbWVudC4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzbGljZV8xNygkcmVjZWl2ZXIsIGluZGljZXMpIHtcbiAgICAgIGlmIChpbmRpY2VzLmlzRW1wdHkoKSkge1xuICAgICAgICByZXR1cm4gZW1wdHlMaXN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9MaXN0XzgoJHJlY2VpdmVyLnN1Ykxpc3RfdnV4OWYwJChpbmRpY2VzLnN0YXJ0LCBpbmRpY2VzLmVuZEluY2x1c2l2ZSArIDEgfCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldmVyc2VkXzgoJHJlY2VpdmVyKSB7XG4gICAgICBpZiAoS290bGluLmlzVHlwZSgkcmVjZWl2ZXIsIENvbGxlY3Rpb24pICYmICRyZWNlaXZlci5zaXplIDw9IDEpXG4gICAgICAgIHJldHVybiB0b0xpc3RfOCgkcmVjZWl2ZXIpO1xuICAgICAgdmFyIGxpc3QgPSB0b011dGFibGVMaXN0XzgoJHJlY2VpdmVyKTtcbiAgICAgIHJldmVyc2VfMTIobGlzdCk7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Db2xsZWN0aW9uXzgoJHJlY2VpdmVyLCBkZXN0aW5hdGlvbikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKGl0ZW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0xpc3RfOCgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBDb2xsZWN0aW9uKSkge1xuICAgICAgICBzd2l0Y2ggKCRyZWNlaXZlci5zaXplKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdG1wJCA9IGVtcHR5TGlzdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdG1wJCA9IGxpc3RPZihLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgTGlzdCkgPyAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoMCkgOiAkcmVjZWl2ZXIuaXRlcmF0b3IoKS5uZXh0KCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDp0bXAkID0gdG9NdXRhYmxlTGlzdF85KCRyZWNlaXZlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG1wJDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpbWl6ZVJlYWRPbmx5TGlzdCh0b011dGFibGVMaXN0XzgoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvTXV0YWJsZUxpc3RfOCgkcmVjZWl2ZXIpIHtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgQ29sbGVjdGlvbikpXG4gICAgICAgIHJldHVybiB0b011dGFibGVMaXN0XzkoJHJlY2VpdmVyKTtcbiAgICAgIHJldHVybiB0b0NvbGxlY3Rpb25fOCgkcmVjZWl2ZXIsIEFycmF5TGlzdF9pbml0KCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b011dGFibGVMaXN0XzkoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gQXJyYXlMaXN0X2luaXRfMSgkcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b1NldF84KCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoS290bGluLmlzVHlwZSgkcmVjZWl2ZXIsIENvbGxlY3Rpb24pKSB7XG4gICAgICAgIHN3aXRjaCAoJHJlY2VpdmVyLnNpemUpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICB0bXAkID0gZW1wdHlTZXQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRtcCQgPSBzZXRPZihLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgTGlzdCkgPyAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQoMCkgOiAkcmVjZWl2ZXIuaXRlcmF0b3IoKS5uZXh0KCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDp0bXAkID0gdG9Db2xsZWN0aW9uXzgoJHJlY2VpdmVyLCBMaW5rZWRIYXNoU2V0X2luaXRfMyhtYXBDYXBhY2l0eSgkcmVjZWl2ZXIuc2l6ZSkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0bXAkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGltaXplUmVhZE9ubHlTZXQodG9Db2xsZWN0aW9uXzgoJHJlY2VpdmVyLCBMaW5rZWRIYXNoU2V0X2luaXRfMCgpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1pbl8xMSgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgaWYgKCFpdGVyYXRvci5oYXNOZXh0KCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgdmFyIG1pbiA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHdoaWxlIChpdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGUgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChLb3RsaW4uY29tcGFyZVRvKG1pbiwgZSkgPiAwKVxuICAgICAgICAgIG1pbiA9IGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqb2luVG9fOCgkcmVjZWl2ZXIsIGJ1ZmZlciwgc2VwYXJhdG9yLCBwcmVmaXgsIHBvc3RmaXgsIGxpbWl0LCB0cnVuY2F0ZWQsIHRyYW5zZm9ybSkge1xuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdm9pZCAwKVxuICAgICAgICBzZXBhcmF0b3IgPSAnLCAnO1xuICAgICAgaWYgKHByZWZpeCA9PT0gdm9pZCAwKVxuICAgICAgICBwcmVmaXggPSAnJztcbiAgICAgIGlmIChwb3N0Zml4ID09PSB2b2lkIDApXG4gICAgICAgIHBvc3RmaXggPSAnJztcbiAgICAgIGlmIChsaW1pdCA9PT0gdm9pZCAwKVxuICAgICAgICBsaW1pdCA9IC0xO1xuICAgICAgaWYgKHRydW5jYXRlZCA9PT0gdm9pZCAwKVxuICAgICAgICB0cnVuY2F0ZWQgPSAnLi4uJztcbiAgICAgIGlmICh0cmFuc2Zvcm0gPT09IHZvaWQgMClcbiAgICAgICAgdHJhbnNmb3JtID0gbnVsbDtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgYnVmZmVyLmFwcGVuZF9ndzAwdjkkKHByZWZpeCk7XG4gICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgdG1wJCA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGlmICgoY291bnQgPSBjb3VudCArIDEgfCAwLCBjb3VudCkgPiAxKVxuICAgICAgICAgIGJ1ZmZlci5hcHBlbmRfZ3cwMHY5JChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAobGltaXQgPCAwIHx8IGNvdW50IDw9IGxpbWl0KSB7XG4gICAgICAgICAgYXBwZW5kRWxlbWVudF8wKGJ1ZmZlciwgZWxlbWVudCwgdHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGxpbWl0ID49IDAgJiYgY291bnQgPiBsaW1pdClcbiAgICAgICAgYnVmZmVyLmFwcGVuZF9ndzAwdjkkKHRydW5jYXRlZCk7XG4gICAgICBidWZmZXIuYXBwZW5kX2d3MDB2OSQocG9zdGZpeCk7XG4gICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqb2luVG9TdHJpbmdfOCgkcmVjZWl2ZXIsIHNlcGFyYXRvciwgcHJlZml4LCBwb3N0Zml4LCBsaW1pdCwgdHJ1bmNhdGVkLCB0cmFuc2Zvcm0pIHtcbiAgICAgIGlmIChzZXBhcmF0b3IgPT09IHZvaWQgMClcbiAgICAgICAgc2VwYXJhdG9yID0gJywgJztcbiAgICAgIGlmIChwcmVmaXggPT09IHZvaWQgMClcbiAgICAgICAgcHJlZml4ID0gJyc7XG4gICAgICBpZiAocG9zdGZpeCA9PT0gdm9pZCAwKVxuICAgICAgICBwb3N0Zml4ID0gJyc7XG4gICAgICBpZiAobGltaXQgPT09IHZvaWQgMClcbiAgICAgICAgbGltaXQgPSAtMTtcbiAgICAgIGlmICh0cnVuY2F0ZWQgPT09IHZvaWQgMClcbiAgICAgICAgdHJ1bmNhdGVkID0gJy4uLic7XG4gICAgICBpZiAodHJhbnNmb3JtID09PSB2b2lkIDApXG4gICAgICAgIHRyYW5zZm9ybSA9IG51bGw7XG4gICAgICByZXR1cm4gam9pblRvXzgoJHJlY2VpdmVyLCBTdHJpbmdCdWlsZGVyX2luaXRfMSgpLCBzZXBhcmF0b3IsIHByZWZpeCwgcG9zdGZpeCwgbGltaXQsIHRydW5jYXRlZCwgdHJhbnNmb3JtKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc1NlcXVlbmNlJGxhbWJkYV84KHRoaXMkYXNTZXF1ZW5jZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMkYXNTZXF1ZW5jZS5pdGVyYXRvcigpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNTZXF1ZW5jZV84KCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBTZXF1ZW5jZSRPYmplY3RMaXRlcmFsXzAoYXNTZXF1ZW5jZSRsYW1iZGFfOCgkcmVjZWl2ZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG93blRvXzQoJHJlY2VpdmVyLCB0bykge1xuICAgICAgcmV0dXJuIEludFByb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmZyb21DbG9zZWRSYW5nZV9xdDFkcjIkKCRyZWNlaXZlciwgdG8sIC0xKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV2ZXJzZWRfOSgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5mcm9tQ2xvc2VkUmFuZ2VfcXQxZHIyJCgkcmVjZWl2ZXIubGFzdCwgJHJlY2VpdmVyLmZpcnN0LCAtJHJlY2VpdmVyLnN0ZXAgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW50aWxfNCgkcmVjZWl2ZXIsIHRvKSB7XG4gICAgICBpZiAodG8gPD0gLTIxNDc0ODM2NDgpXG4gICAgICAgIHJldHVybiBJbnRSYW5nZSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5FTVBUWTtcbiAgICAgIHJldHVybiBuZXcgSW50UmFuZ2UoJHJlY2VpdmVyLCB0byAtIDEgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29lcmNlQXRMZWFzdF8yKCRyZWNlaXZlciwgbWluaW11bVZhbHVlKSB7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyIDwgbWluaW11bVZhbHVlID8gbWluaW11bVZhbHVlIDogJHJlY2VpdmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2VyY2VBdE1vc3RfMigkcmVjZWl2ZXIsIG1heGltdW1WYWx1ZSkge1xuICAgICAgcmV0dXJuICRyZWNlaXZlciA+IG1heGltdW1WYWx1ZSA/IG1heGltdW1WYWx1ZSA6ICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29lcmNlSW5fMigkcmVjZWl2ZXIsIG1pbmltdW1WYWx1ZSwgbWF4aW11bVZhbHVlKSB7XG4gICAgICBpZiAobWluaW11bVZhbHVlID4gbWF4aW11bVZhbHVlKVxuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdDYW5ub3QgY29lcmNlIHZhbHVlIHRvIGFuIGVtcHR5IHJhbmdlOiBtYXhpbXVtICcgKyBtYXhpbXVtVmFsdWUgKyAnIGlzIGxlc3MgdGhhbiBtaW5pbXVtICcgKyBtaW5pbXVtVmFsdWUgKyAnLicpO1xuICAgICAgaWYgKCRyZWNlaXZlciA8IG1pbmltdW1WYWx1ZSlcbiAgICAgICAgcmV0dXJuIG1pbmltdW1WYWx1ZTtcbiAgICAgIGlmICgkcmVjZWl2ZXIgPiBtYXhpbXVtVmFsdWUpXG4gICAgICAgIHJldHVybiBtYXhpbXVtVmFsdWU7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBJdGVyYWJsZSRPYmplY3RMaXRlcmFsXzAoY2xvc3VyZSRpdGVyYXRvcikge1xuICAgICAgdGhpcy5jbG9zdXJlJGl0ZXJhdG9yID0gY2xvc3VyZSRpdGVyYXRvcjtcbiAgICB9XG4gICAgSXRlcmFibGUkT2JqZWN0TGl0ZXJhbF8wLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkaXRlcmF0b3IoKTtcbiAgICB9O1xuICAgIEl0ZXJhYmxlJE9iamVjdExpdGVyYWxfMC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYWJsZV19O1xuICAgIGZ1bmN0aW9uIHRha2VfOSgkcmVjZWl2ZXIsIG4pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKCEobiA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdSZXF1ZXN0ZWQgZWxlbWVudCBjb3VudCAnICsgbiArICcgaXMgbGVzcyB0aGFuIHplcm8uJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgaWYgKG4gPT09IDApXG4gICAgICAgIHRtcCQgPSBlbXB0eVNlcXVlbmNlKCk7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgRHJvcFRha2VTZXF1ZW5jZSkpXG4gICAgICAgIHRtcCQgPSAkcmVjZWl2ZXIudGFrZV96YTNscGEkKG4pO1xuICAgICAgZWxzZVxuICAgICAgICB0bXAkID0gbmV3IFRha2VTZXF1ZW5jZSgkcmVjZWl2ZXIsIG4pO1xuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvQ29sbGVjdGlvbl85KCRyZWNlaXZlciwgZGVzdGluYXRpb24pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBpdGVtID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZF8xMXJiJChpdGVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9MaXN0XzEwKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG9wdGltaXplUmVhZE9ubHlMaXN0KHRvTXV0YWJsZUxpc3RfMTAoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvTXV0YWJsZUxpc3RfMTAoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gdG9Db2xsZWN0aW9uXzkoJHJlY2VpdmVyLCBBcnJheUxpc3RfaW5pdCgpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwXzEwKCRyZWNlaXZlciwgdHJhbnNmb3JtKSB7XG4gICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybWluZ1NlcXVlbmNlKCRyZWNlaXZlciwgdHJhbnNmb3JtKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNJdGVyYWJsZSRsYW1iZGFfOCh0aGlzJGFzSXRlcmFibGUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzJGFzSXRlcmFibGUuaXRlcmF0b3IoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzSXRlcmFibGVfMTAoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlJE9iamVjdExpdGVyYWxfMChhc0l0ZXJhYmxlJGxhbWJkYV84KCRyZWNlaXZlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaW5nbGVfMjIoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHN3aXRjaCAoJHJlY2VpdmVyLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24oJ0NoYXIgc2VxdWVuY2UgaXMgZW1wdHkuJyk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB0bXAkID0gJHJlY2VpdmVyLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6dGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnQ2hhciBzZXF1ZW5jZSBoYXMgbW9yZSB0aGFuIG9uZSBlbGVtZW50LicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRyb3BfMTEoJHJlY2VpdmVyLCBuKSB7XG4gICAgICBpZiAoIShuID49IDApKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ1JlcXVlc3RlZCBjaGFyYWN0ZXIgY291bnQgJyArIG4gKyAnIGlzIGxlc3MgdGhhbiB6ZXJvLic7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkcmVjZWl2ZXIuc3Vic3RyaW5nKGNvZXJjZUF0TW9zdF8yKG4sICRyZWNlaXZlci5sZW5ndGgpKTtcbiAgICB9XG4gICAgdmFyIFBJO1xuICAgIHZhciBFO1xuICAgIGZ1bmN0aW9uIENoYXJTZXF1ZW5jZSgpIHtcbiAgICB9XG4gICAgQ2hhclNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDaGFyU2VxdWVuY2UnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gSXRlcmFibGUoKSB7XG4gICAgfVxuICAgIEl0ZXJhYmxlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdJdGVyYWJsZScsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBNdXRhYmxlSXRlcmFibGUoKSB7XG4gICAgfVxuICAgIE11dGFibGVJdGVyYWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTXV0YWJsZUl0ZXJhYmxlJywgaW50ZXJmYWNlczogW0l0ZXJhYmxlXX07XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcbiAgICB9XG4gICAgQ29sbGVjdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnQ29sbGVjdGlvbicsIGludGVyZmFjZXM6IFtJdGVyYWJsZV19O1xuICAgIGZ1bmN0aW9uIE11dGFibGVDb2xsZWN0aW9uKCkge1xuICAgIH1cbiAgICBNdXRhYmxlQ29sbGVjdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTXV0YWJsZUNvbGxlY3Rpb24nLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUl0ZXJhYmxlLCBDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gTGlzdCgpIHtcbiAgICB9XG4gICAgTGlzdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTGlzdCcsIGludGVyZmFjZXM6IFtDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZUxpc3QoKSB7XG4gICAgfVxuICAgIE11dGFibGVMaXN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNdXRhYmxlTGlzdCcsIGludGVyZmFjZXM6IFtNdXRhYmxlQ29sbGVjdGlvbiwgTGlzdF19O1xuICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICB9XG4gICAgU2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXQnLCBpbnRlcmZhY2VzOiBbQ29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIE11dGFibGVTZXQoKSB7XG4gICAgfVxuICAgIE11dGFibGVTZXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ011dGFibGVTZXQnLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUNvbGxlY3Rpb24sIFNldF19O1xuICAgIGZ1bmN0aW9uIE1hcCgpIHtcbiAgICB9XG4gICAgTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IGZ1bmN0aW9uIChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSBudWxsKSA9PSBudWxsIHx8IEtvdGxpbi5pc1R5cGUodG1wJCwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBNYXAkRW50cnkoKSB7XG4gICAgfVxuICAgIE1hcCRFbnRyeS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnRW50cnknLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgTWFwLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNYXAnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZU1hcCgpIHtcbiAgICB9XG4gICAgTXV0YWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlX3h3emM5cCQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBNdXRhYmxlTWFwJE11dGFibGVFbnRyeSgpIHtcbiAgICB9XG4gICAgTXV0YWJsZU1hcCRNdXRhYmxlRW50cnkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ011dGFibGVFbnRyeScsIGludGVyZmFjZXM6IFtNYXAkRW50cnldfTtcbiAgICBNdXRhYmxlTWFwLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNdXRhYmxlTWFwJywgaW50ZXJmYWNlczogW01hcF19O1xuICAgIGZ1bmN0aW9uIEZ1bmN0aW9uXzAoKSB7XG4gICAgfVxuICAgIEZ1bmN0aW9uXzAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0Z1bmN0aW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIGZ1bmN0aW9uIEl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBJdGVyYXRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnSXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZUl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBNdXRhYmxlSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ011dGFibGVJdGVyYXRvcicsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIExpc3RJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgTGlzdEl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdMaXN0SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBNdXRhYmxlTGlzdEl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBNdXRhYmxlTGlzdEl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNdXRhYmxlTGlzdEl0ZXJhdG9yJywgaW50ZXJmYWNlczogW011dGFibGVJdGVyYXRvciwgTGlzdEl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gQnl0ZUl0ZXJhdG9yKCkge1xuICAgIH1cbiAgICBCeXRlSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZXh0Qnl0ZSgpO1xuICAgIH07XG4gICAgQnl0ZUl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0J5dGVJdGVyYXRvcicsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIENoYXJJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgQ2hhckl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRvQm94ZWRDaGFyKHRoaXMubmV4dENoYXIoKSk7XG4gICAgfTtcbiAgICBDaGFySXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhckl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gU2hvcnRJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgU2hvcnRJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRTaG9ydCgpO1xuICAgIH07XG4gICAgU2hvcnRJdGVyYXRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTaG9ydEl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gSW50SXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIEludEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dEludCgpO1xuICAgIH07XG4gICAgSW50SXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW50SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBMb25nSXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIExvbmdJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRMb25nKCk7XG4gICAgfTtcbiAgICBMb25nSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTG9uZ0l0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gRmxvYXRJdGVyYXRvcigpIHtcbiAgICB9XG4gICAgRmxvYXRJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRGbG9hdCgpO1xuICAgIH07XG4gICAgRmxvYXRJdGVyYXRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdGbG9hdEl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gRG91YmxlSXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIERvdWJsZUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dERvdWJsZSgpO1xuICAgIH07XG4gICAgRG91YmxlSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRG91YmxlSXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBCb29sZWFuSXRlcmF0b3IoKSB7XG4gICAgfVxuICAgIEJvb2xlYW5JdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm5leHRCb29sZWFuKCk7XG4gICAgfTtcbiAgICBCb29sZWFuSXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQm9vbGVhbkl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gQ2hhclByb2dyZXNzaW9uSXRlcmF0b3IoZmlyc3QsIGxhc3QsIHN0ZXApIHtcbiAgICAgIENoYXJJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5zdGVwID0gc3RlcDtcbiAgICAgIHRoaXMuZmluYWxFbGVtZW50XzAgPSBsYXN0IHwgMDtcbiAgICAgIHRoaXMuaGFzTmV4dF8wID0gdGhpcy5zdGVwID4gMCA/IGZpcnN0IDw9IGxhc3QgOiBmaXJzdCA+PSBsYXN0O1xuICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLmhhc05leHRfMCA/IGZpcnN0IHwgMCA6IHRoaXMuZmluYWxFbGVtZW50XzA7XG4gICAgfVxuICAgIENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzTmV4dF8wO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlLm5leHRDaGFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5uZXh0XzA7XG4gICAgICBpZiAodmFsdWUgPT09IHRoaXMuZmluYWxFbGVtZW50XzApIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc05leHRfMClcbiAgICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgICAgdGhpcy5oYXNOZXh0XzAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLm5leHRfMCArIHRoaXMuc3RlcCB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9DaGFyKHZhbHVlKTtcbiAgICB9O1xuICAgIENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0NoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0NoYXJJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIEludFByb2dyZXNzaW9uSXRlcmF0b3IoZmlyc3QsIGxhc3QsIHN0ZXApIHtcbiAgICAgIEludEl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnN0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5maW5hbEVsZW1lbnRfMCA9IGxhc3Q7XG4gICAgICB0aGlzLmhhc05leHRfMCA9IHRoaXMuc3RlcCA+IDAgPyBmaXJzdCA8PSBsYXN0IDogZmlyc3QgPj0gbGFzdDtcbiAgICAgIHRoaXMubmV4dF8wID0gdGhpcy5oYXNOZXh0XzAgPyBmaXJzdCA6IHRoaXMuZmluYWxFbGVtZW50XzA7XG4gICAgfVxuICAgIEludFByb2dyZXNzaW9uSXRlcmF0b3IucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXNOZXh0XzA7XG4gICAgfTtcbiAgICBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0SW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5uZXh0XzA7XG4gICAgICBpZiAodmFsdWUgPT09IHRoaXMuZmluYWxFbGVtZW50XzApIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc05leHRfMClcbiAgICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgICAgdGhpcy5oYXNOZXh0XzAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLm5leHRfMCArIHRoaXMuc3RlcCB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0ludFByb2dyZXNzaW9uSXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbSW50SXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBMb25nUHJvZ3Jlc3Npb25JdGVyYXRvcihmaXJzdCwgbGFzdCwgc3RlcCkge1xuICAgICAgTG9uZ0l0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnN0ZXAgPSBzdGVwO1xuICAgICAgdGhpcy5maW5hbEVsZW1lbnRfMCA9IGxhc3Q7XG4gICAgICB0aGlzLmhhc05leHRfMCA9IHRoaXMuc3RlcC50b051bWJlcigpID4gMCA/IGZpcnN0LmNvbXBhcmVUb18xMXJiJChsYXN0KSA8PSAwIDogZmlyc3QuY29tcGFyZVRvXzExcmIkKGxhc3QpID49IDA7XG4gICAgICB0aGlzLm5leHRfMCA9IHRoaXMuaGFzTmV4dF8wID8gZmlyc3QgOiB0aGlzLmZpbmFsRWxlbWVudF8wO1xuICAgIH1cbiAgICBMb25nUHJvZ3Jlc3Npb25JdGVyYXRvci5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhc05leHRfMDtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0TG9uZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMubmV4dF8wO1xuICAgICAgaWYgKGVxdWFscyh2YWx1ZSwgdGhpcy5maW5hbEVsZW1lbnRfMCkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc05leHRfMClcbiAgICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgICAgdGhpcy5oYXNOZXh0XzAgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5uZXh0XzAgPSB0aGlzLm5leHRfMC5hZGQodGhpcy5zdGVwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yJywgaW50ZXJmYWNlczogW0xvbmdJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIENoYXJQcm9ncmVzc2lvbihzdGFydCwgZW5kSW5jbHVzaXZlLCBzdGVwKSB7XG4gICAgICBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgICBpZiAoc3RlcCA9PT0gMClcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBtdXN0IGJlIG5vbi16ZXJvLicpO1xuICAgICAgaWYgKHN0ZXAgPT09IC0yMTQ3NDgzNjQ4KVxuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdTdGVwIG11c3QgYmUgZ3JlYXRlciB0aGFuIEludC5NSU5fVkFMVUUgdG8gYXZvaWQgb3ZlcmZsb3cgb24gbmVnYXRpb24uJyk7XG4gICAgICB0aGlzLmZpcnN0ID0gc3RhcnQ7XG4gICAgICB0aGlzLmxhc3QgPSB0b0NoYXIoZ2V0UHJvZ3Jlc3Npb25MYXN0RWxlbWVudChzdGFydCB8IDAsIGVuZEluY2x1c2l2ZSB8IDAsIHN0ZXApKTtcbiAgICAgIHRoaXMuc3RlcCA9IHN0ZXA7XG4gICAgfVxuICAgIENoYXJQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yKHRoaXMuZmlyc3QsIHRoaXMubGFzdCwgdGhpcy5zdGVwKTtcbiAgICB9O1xuICAgIENoYXJQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0ZXAgPiAwID8gdGhpcy5maXJzdCA+IHRoaXMubGFzdCA6IHRoaXMuZmlyc3QgPCB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBDaGFyUHJvZ3Jlc3Npb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIENoYXJQcm9ncmVzc2lvbikgJiYgKHRoaXMuaXNFbXB0eSgpICYmIG90aGVyLmlzRW1wdHkoKSB8fCAodGhpcy5maXJzdCA9PT0gb3RoZXIuZmlyc3QgJiYgdGhpcy5sYXN0ID09PSBvdGhlci5sYXN0ICYmIHRoaXMuc3RlcCA9PT0gb3RoZXIuc3RlcCkpO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzRW1wdHkoKSA/IC0xIDogKDMxICogKCgzMSAqICh0aGlzLmZpcnN0IHwgMCkgfCAwKSArICh0aGlzLmxhc3QgfCAwKSB8IDApIHwgMCkgKyB0aGlzLnN0ZXAgfCAwO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0ZXAgPiAwID8gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmZpcnN0KSArICcuLicgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMubGFzdCkgKyAnIHN0ZXAgJyArIHRoaXMuc3RlcCA6IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5maXJzdCkgKyAnIGRvd25UbyAnICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmxhc3QpICsgJyBzdGVwICcgKyAoLXRoaXMuc3RlcCB8IDApO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ2hhclByb2dyZXNzaW9uJENvbXBhbmlvbigpIHtcbiAgICAgIENoYXJQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uLnByb3RvdHlwZS5mcm9tQ2xvc2VkUmFuZ2VfYXlyYTQ0JCA9IGZ1bmN0aW9uIChyYW5nZVN0YXJ0LCByYW5nZUVuZCwgc3RlcCkge1xuICAgICAgcmV0dXJuIG5ldyBDaGFyUHJvZ3Jlc3Npb24ocmFuZ2VTdGFydCwgcmFuZ2VFbmQsIHN0ZXApO1xuICAgIH07XG4gICAgQ2hhclByb2dyZXNzaW9uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKENoYXJQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IENoYXJQcm9ncmVzc2lvbiRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDaGFyUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBDaGFyUHJvZ3Jlc3Npb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhclByb2dyZXNzaW9uJywgaW50ZXJmYWNlczogW0l0ZXJhYmxlXX07XG4gICAgZnVuY3Rpb24gSW50UHJvZ3Jlc3Npb24oc3RhcnQsIGVuZEluY2x1c2l2ZSwgc3RlcCkge1xuICAgICAgSW50UHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgICBpZiAoc3RlcCA9PT0gMClcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBtdXN0IGJlIG5vbi16ZXJvLicpO1xuICAgICAgaWYgKHN0ZXAgPT09IC0yMTQ3NDgzNjQ4KVxuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdTdGVwIG11c3QgYmUgZ3JlYXRlciB0aGFuIEludC5NSU5fVkFMVUUgdG8gYXZvaWQgb3ZlcmZsb3cgb24gbmVnYXRpb24uJyk7XG4gICAgICB0aGlzLmZpcnN0ID0gc3RhcnQ7XG4gICAgICB0aGlzLmxhc3QgPSBnZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50KHN0YXJ0LCBlbmRJbmNsdXNpdmUsIHN0ZXApO1xuICAgICAgdGhpcy5zdGVwID0gc3RlcDtcbiAgICB9XG4gICAgSW50UHJvZ3Jlc3Npb24ucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yKHRoaXMuZmlyc3QsIHRoaXMubGFzdCwgdGhpcy5zdGVwKTtcbiAgICB9O1xuICAgIEludFByb2dyZXNzaW9uLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RlcCA+IDAgPyB0aGlzLmZpcnN0ID4gdGhpcy5sYXN0IDogdGhpcy5maXJzdCA8IHRoaXMubGFzdDtcbiAgICB9O1xuICAgIEludFByb2dyZXNzaW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKG90aGVyLCBJbnRQcm9ncmVzc2lvbikgJiYgKHRoaXMuaXNFbXB0eSgpICYmIG90aGVyLmlzRW1wdHkoKSB8fCAodGhpcy5maXJzdCA9PT0gb3RoZXIuZmlyc3QgJiYgdGhpcy5sYXN0ID09PSBvdGhlci5sYXN0ICYmIHRoaXMuc3RlcCA9PT0gb3RoZXIuc3RlcCkpO1xuICAgIH07XG4gICAgSW50UHJvZ3Jlc3Npb24ucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiAoMzEgKiAoKDMxICogdGhpcy5maXJzdCB8IDApICsgdGhpcy5sYXN0IHwgMCkgfCAwKSArIHRoaXMuc3RlcCB8IDA7XG4gICAgfTtcbiAgICBJbnRQcm9ncmVzc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGVwID4gMCA/IHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcuLicgKyB0aGlzLmxhc3QgKyAnIHN0ZXAgJyArIHRoaXMuc3RlcCA6IHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcgZG93blRvICcgKyB0aGlzLmxhc3QgKyAnIHN0ZXAgJyArICgtdGhpcy5zdGVwIHwgMCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb24oKSB7XG4gICAgICBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb24ucHJvdG90eXBlLmZyb21DbG9zZWRSYW5nZV9xdDFkcjIkID0gZnVuY3Rpb24gKHJhbmdlU3RhcnQsIHJhbmdlRW5kLCBzdGVwKSB7XG4gICAgICByZXR1cm4gbmV3IEludFByb2dyZXNzaW9uKHJhbmdlU3RhcnQsIHJhbmdlRW5kLCBzdGVwKTtcbiAgICB9O1xuICAgIEludFByb2dyZXNzaW9uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEludFByb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEludFByb2dyZXNzaW9uJENvbXBhbmlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEludFByb2dyZXNzaW9uJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgSW50UHJvZ3Jlc3Npb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW50UHJvZ3Jlc3Npb24nLCBpbnRlcmZhY2VzOiBbSXRlcmFibGVdfTtcbiAgICBmdW5jdGlvbiBMb25nUHJvZ3Jlc3Npb24oc3RhcnQsIGVuZEluY2x1c2l2ZSwgc3RlcCkge1xuICAgICAgTG9uZ1Byb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgaWYgKGVxdWFscyhzdGVwLCBMMCkpXG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ1N0ZXAgbXVzdCBiZSBub24temVyby4nKTtcbiAgICAgIGlmIChlcXVhbHMoc3RlcCwgTG9uZyRDb21wYW5pb24kTUlOX1ZBTFVFKSlcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBMb25nLk1JTl9WQUxVRSB0byBhdm9pZCBvdmVyZmxvdyBvbiBuZWdhdGlvbi4nKTtcbiAgICAgIHRoaXMuZmlyc3QgPSBzdGFydDtcbiAgICAgIHRoaXMubGFzdCA9IGdldFByb2dyZXNzaW9uTGFzdEVsZW1lbnRfMChzdGFydCwgZW5kSW5jbHVzaXZlLCBzdGVwKTtcbiAgICAgIHRoaXMuc3RlcCA9IHN0ZXA7XG4gICAgfVxuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IExvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yKHRoaXMuZmlyc3QsIHRoaXMubGFzdCwgdGhpcy5zdGVwKTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0ZXAudG9OdW1iZXIoKSA+IDAgPyB0aGlzLmZpcnN0LmNvbXBhcmVUb18xMXJiJCh0aGlzLmxhc3QpID4gMCA6IHRoaXMuZmlyc3QuY29tcGFyZVRvXzExcmIkKHRoaXMubGFzdCkgPCAwO1xuICAgIH07XG4gICAgTG9uZ1Byb2dyZXNzaW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKG90aGVyLCBMb25nUHJvZ3Jlc3Npb24pICYmICh0aGlzLmlzRW1wdHkoKSAmJiBvdGhlci5pc0VtcHR5KCkgfHwgKGVxdWFscyh0aGlzLmZpcnN0LCBvdGhlci5maXJzdCkgJiYgZXF1YWxzKHRoaXMubGFzdCwgb3RoZXIubGFzdCkgJiYgZXF1YWxzKHRoaXMuc3RlcCwgb3RoZXIuc3RlcCkpKTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0VtcHR5KCkgPyAtMSA6IEtvdGxpbi5Mb25nLmZyb21JbnQoMzEpLm11bHRpcGx5KEtvdGxpbi5Mb25nLmZyb21JbnQoMzEpLm11bHRpcGx5KHRoaXMuZmlyc3QueG9yKHRoaXMuZmlyc3Quc2hpZnRSaWdodFVuc2lnbmVkKDMyKSkpLmFkZCh0aGlzLmxhc3QueG9yKHRoaXMubGFzdC5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpKSkpLmFkZCh0aGlzLnN0ZXAueG9yKHRoaXMuc3RlcC5zaGlmdFJpZ2h0VW5zaWduZWQoMzIpKSkudG9JbnQoKTtcbiAgICB9O1xuICAgIExvbmdQcm9ncmVzc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGVwLnRvTnVtYmVyKCkgPiAwID8gdGhpcy5maXJzdC50b1N0cmluZygpICsgJy4uJyArIHRoaXMubGFzdC50b1N0cmluZygpICsgJyBzdGVwICcgKyB0aGlzLnN0ZXAudG9TdHJpbmcoKSA6IHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcgZG93blRvICcgKyB0aGlzLmxhc3QudG9TdHJpbmcoKSArICcgc3RlcCAnICsgdGhpcy5zdGVwLnVuYXJ5TWludXMoKS50b1N0cmluZygpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gTG9uZ1Byb2dyZXNzaW9uJENvbXBhbmlvbigpIHtcbiAgICAgIExvbmdQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uLnByb3RvdHlwZS5mcm9tQ2xvc2VkUmFuZ2VfYjliZDBkJCA9IGZ1bmN0aW9uIChyYW5nZVN0YXJ0LCByYW5nZUVuZCwgc3RlcCkge1xuICAgICAgcmV0dXJuIG5ldyBMb25nUHJvZ3Jlc3Npb24ocmFuZ2VTdGFydCwgcmFuZ2VFbmQsIHN0ZXApO1xuICAgIH07XG4gICAgTG9uZ1Byb2dyZXNzaW9uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKExvbmdQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IExvbmdQcm9ncmVzc2lvbiRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBMb25nUHJvZ3Jlc3Npb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTG9uZ1Byb2dyZXNzaW9uJywgaW50ZXJmYWNlczogW0l0ZXJhYmxlXX07XG4gICAgZnVuY3Rpb24gQ2xvc2VkUmFuZ2UoKSB7XG4gICAgfVxuICAgIENsb3NlZFJhbmdlLnByb3RvdHlwZS5jb250YWluc19tZWY3a3gkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gS290bGluLmNvbXBhcmVUbyh2YWx1ZSwgdGhpcy5zdGFydCkgPj0gMCAmJiBLb3RsaW4uY29tcGFyZVRvKHZhbHVlLCB0aGlzLmVuZEluY2x1c2l2ZSkgPD0gMDtcbiAgICB9O1xuICAgIENsb3NlZFJhbmdlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5jb21wYXJlVG8odGhpcy5zdGFydCwgdGhpcy5lbmRJbmNsdXNpdmUpID4gMDtcbiAgICB9O1xuICAgIENsb3NlZFJhbmdlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDbG9zZWRSYW5nZScsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBDaGFyUmFuZ2Uoc3RhcnQsIGVuZEluY2x1c2l2ZSkge1xuICAgICAgQ2hhclJhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgQ2hhclByb2dyZXNzaW9uLmNhbGwodGhpcywgc3RhcnQsIGVuZEluY2x1c2l2ZSwgMSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFyUmFuZ2UucHJvdG90eXBlLCAnc3RhcnQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdG9Cb3hlZENoYXIodGhpcy5maXJzdCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFyUmFuZ2UucHJvdG90eXBlLCAnZW5kSW5jbHVzaXZlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRvQm94ZWRDaGFyKHRoaXMubGFzdCk7XG4gICAgfX0pO1xuICAgIENoYXJSYW5nZS5wcm90b3R5cGUuY29udGFpbnNfbWVmN2t4JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QgPD0gdmFsdWUgJiYgdmFsdWUgPD0gdGhpcy5sYXN0O1xuICAgIH07XG4gICAgQ2hhclJhbmdlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QgPiB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBDaGFyUmFuZ2UucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIENoYXJSYW5nZSkgJiYgKHRoaXMuaXNFbXB0eSgpICYmIG90aGVyLmlzRW1wdHkoKSB8fCAodGhpcy5maXJzdCA9PT0gb3RoZXIuZmlyc3QgJiYgdGhpcy5sYXN0ID09PSBvdGhlci5sYXN0KSk7XG4gICAgfTtcbiAgICBDaGFyUmFuZ2UucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiAoMzEgKiAodGhpcy5maXJzdCB8IDApIHwgMCkgKyAodGhpcy5sYXN0IHwgMCkgfCAwO1xuICAgIH07XG4gICAgQ2hhclJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuZmlyc3QpICsgJy4uJyArIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5sYXN0KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIENoYXJSYW5nZSRDb21wYW5pb24oKSB7XG4gICAgICBDaGFyUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuRU1QVFkgPSBuZXcgQ2hhclJhbmdlKHRvQ2hhcigxKSwgdG9DaGFyKDApKTtcbiAgICB9XG4gICAgQ2hhclJhbmdlJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBDaGFyUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDaGFyUmFuZ2UkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKENoYXJSYW5nZSRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IENoYXJSYW5nZSRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDaGFyUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBDaGFyUmFuZ2UuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhclJhbmdlJywgaW50ZXJmYWNlczogW0Nsb3NlZFJhbmdlLCBDaGFyUHJvZ3Jlc3Npb25dfTtcbiAgICBmdW5jdGlvbiBJbnRSYW5nZShzdGFydCwgZW5kSW5jbHVzaXZlKSB7XG4gICAgICBJbnRSYW5nZSRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIEludFByb2dyZXNzaW9uLmNhbGwodGhpcywgc3RhcnQsIGVuZEluY2x1c2l2ZSwgMSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRSYW5nZS5wcm90b3R5cGUsICdzdGFydCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpcnN0O1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50UmFuZ2UucHJvdG90eXBlLCAnZW5kSW5jbHVzaXZlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdDtcbiAgICB9fSk7XG4gICAgSW50UmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zX21lZjdreCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpcnN0IDw9IHZhbHVlICYmIHZhbHVlIDw9IHRoaXMubGFzdDtcbiAgICB9O1xuICAgIEludFJhbmdlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QgPiB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBJbnRSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgSW50UmFuZ2UpICYmICh0aGlzLmlzRW1wdHkoKSAmJiBvdGhlci5pc0VtcHR5KCkgfHwgKHRoaXMuZmlyc3QgPT09IG90aGVyLmZpcnN0ICYmIHRoaXMubGFzdCA9PT0gb3RoZXIubGFzdCkpO1xuICAgIH07XG4gICAgSW50UmFuZ2UucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiAoMzEgKiB0aGlzLmZpcnN0IHwgMCkgKyB0aGlzLmxhc3QgfCAwO1xuICAgIH07XG4gICAgSW50UmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcuLicgKyB0aGlzLmxhc3Q7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBJbnRSYW5nZSRDb21wYW5pb24oKSB7XG4gICAgICBJbnRSYW5nZSRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5FTVBUWSA9IG5ldyBJbnRSYW5nZSgxLCAwKTtcbiAgICB9XG4gICAgSW50UmFuZ2UkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIEludFJhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gSW50UmFuZ2UkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEludFJhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgSW50UmFuZ2UkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gSW50UmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBJbnRSYW5nZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdJbnRSYW5nZScsIGludGVyZmFjZXM6IFtDbG9zZWRSYW5nZSwgSW50UHJvZ3Jlc3Npb25dfTtcbiAgICBmdW5jdGlvbiBMb25nUmFuZ2Uoc3RhcnQsIGVuZEluY2x1c2l2ZSkge1xuICAgICAgTG9uZ1JhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgTG9uZ1Byb2dyZXNzaW9uLmNhbGwodGhpcywgc3RhcnQsIGVuZEluY2x1c2l2ZSwgTDEpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9uZ1JhbmdlLnByb3RvdHlwZSwgJ3N0YXJ0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3Q7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nUmFuZ2UucHJvdG90eXBlLCAnZW5kSW5jbHVzaXZlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdDtcbiAgICB9fSk7XG4gICAgTG9uZ1JhbmdlLnByb3RvdHlwZS5jb250YWluc19tZWY3a3gkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maXJzdC5jb21wYXJlVG9fMTFyYiQodmFsdWUpIDw9IDAgJiYgdmFsdWUuY29tcGFyZVRvXzExcmIkKHRoaXMubGFzdCkgPD0gMDtcbiAgICB9O1xuICAgIExvbmdSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpcnN0LmNvbXBhcmVUb18xMXJiJCh0aGlzLmxhc3QpID4gMDtcbiAgICB9O1xuICAgIExvbmdSYW5nZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgTG9uZ1JhbmdlKSAmJiAodGhpcy5pc0VtcHR5KCkgJiYgb3RoZXIuaXNFbXB0eSgpIHx8IChlcXVhbHModGhpcy5maXJzdCwgb3RoZXIuZmlyc3QpICYmIGVxdWFscyh0aGlzLmxhc3QsIG90aGVyLmxhc3QpKSk7XG4gICAgfTtcbiAgICBMb25nUmFuZ2UucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNFbXB0eSgpID8gLTEgOiBLb3RsaW4uTG9uZy5mcm9tSW50KDMxKS5tdWx0aXBseSh0aGlzLmZpcnN0Lnhvcih0aGlzLmZpcnN0LnNoaWZ0UmlnaHRVbnNpZ25lZCgzMikpKS5hZGQodGhpcy5sYXN0Lnhvcih0aGlzLmxhc3Quc2hpZnRSaWdodFVuc2lnbmVkKDMyKSkpLnRvSW50KCk7XG4gICAgfTtcbiAgICBMb25nUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlyc3QudG9TdHJpbmcoKSArICcuLicgKyB0aGlzLmxhc3QudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIExvbmdSYW5nZSRDb21wYW5pb24oKSB7XG4gICAgICBMb25nUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuRU1QVFkgPSBuZXcgTG9uZ1JhbmdlKEwxLCBMMCk7XG4gICAgfVxuICAgIExvbmdSYW5nZSRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgTG9uZ1JhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gTG9uZ1JhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChMb25nUmFuZ2UkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBMb25nUmFuZ2UkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTG9uZ1JhbmdlJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgTG9uZ1JhbmdlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xvbmdSYW5nZScsIGludGVyZmFjZXM6IFtDbG9zZWRSYW5nZSwgTG9uZ1Byb2dyZXNzaW9uXX07XG4gICAgZnVuY3Rpb24gVW5pdCgpIHtcbiAgICAgIFVuaXRfaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBVbml0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAna290bGluLlVuaXQnO1xuICAgIH07XG4gICAgVW5pdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnVW5pdCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgVW5pdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gVW5pdF9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChVbml0X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBVbml0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVW5pdF9pbnN0YW5jZTtcbiAgICB9XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkQ0xBU1NfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkQU5OT1RBVElPTl9DTEFTU19pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRUWVBFX1BBUkFNRVRFUl9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRQUk9QRVJUWV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRGSUVMRF9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRMT0NBTF9WQVJJQUJMRV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRWQUxVRV9QQVJBTUVURVJfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkQ09OU1RSVUNUT1JfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkRlVOQ1RJT05faW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkUFJPUEVSVFlfR0VUVEVSX2luc3RhbmNlO1xuICAgIHZhciBBbm5vdGF0aW9uVGFyZ2V0JFBST1BFUlRZX1NFVFRFUl9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRUWVBFX2luc3RhbmNlO1xuICAgIHZhciBBbm5vdGF0aW9uVGFyZ2V0JEVYUFJFU1NJT05faW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25UYXJnZXQkRklMRV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblRhcmdldCRUWVBFQUxJQVNfaW5zdGFuY2U7XG4gICAgdmFyIEFubm90YXRpb25SZXRlbnRpb24kU09VUkNFX2luc3RhbmNlO1xuICAgIHZhciBBbm5vdGF0aW9uUmV0ZW50aW9uJEJJTkFSWV9pbnN0YW5jZTtcbiAgICB2YXIgQW5ub3RhdGlvblJldGVudGlvbiRSVU5USU1FX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIG1vZChhLCBiKSB7XG4gICAgICB2YXIgbW9kID0gYSAlIGI7XG4gICAgICByZXR1cm4gbW9kID49IDAgPyBtb2QgOiBtb2QgKyBiIHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW9kXzAoYSwgYikge1xuICAgICAgdmFyIG1vZCA9IGEubW9kdWxvKGIpO1xuICAgICAgcmV0dXJuIG1vZC50b051bWJlcigpID49IDAgPyBtb2QgOiBtb2QuYWRkKGIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmZXJlbmNlTW9kdWxvKGEsIGIsIGMpIHtcbiAgICAgIHJldHVybiBtb2QobW9kKGEsIGMpIC0gbW9kKGIsIGMpIHwgMCwgYyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VNb2R1bG9fMChhLCBiLCBjKSB7XG4gICAgICByZXR1cm4gbW9kXzAobW9kXzAoYSwgYykuc3VidHJhY3QobW9kXzAoYiwgYykpLCBjKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJvZ3Jlc3Npb25MYXN0RWxlbWVudChzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICBpZiAoc3RlcCA+IDApXG4gICAgICAgIHJldHVybiBzdGFydCA+PSBlbmQgPyBlbmQgOiBlbmQgLSBkaWZmZXJlbmNlTW9kdWxvKGVuZCwgc3RhcnQsIHN0ZXApIHwgMDtcbiAgICAgIGVsc2UgaWYgKHN0ZXAgPCAwKVxuICAgICAgICByZXR1cm4gc3RhcnQgPD0gZW5kID8gZW5kIDogZW5kICsgZGlmZmVyZW5jZU1vZHVsbyhzdGFydCwgZW5kLCAtc3RlcCB8IDApIHwgMDtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnU3RlcCBpcyB6ZXJvLicpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50XzAoc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgaWYgKHN0ZXAudG9OdW1iZXIoKSA+IDApXG4gICAgICAgIHJldHVybiBzdGFydC5jb21wYXJlVG9fMTFyYiQoZW5kKSA+PSAwID8gZW5kIDogZW5kLnN1YnRyYWN0KGRpZmZlcmVuY2VNb2R1bG9fMChlbmQsIHN0YXJ0LCBzdGVwKSk7XG4gICAgICBlbHNlIGlmIChzdGVwLnRvTnVtYmVyKCkgPCAwKVxuICAgICAgICByZXR1cm4gc3RhcnQuY29tcGFyZVRvXzExcmIkKGVuZCkgPD0gMCA/IGVuZCA6IGVuZC5hZGQoZGlmZmVyZW5jZU1vZHVsb18wKHN0YXJ0LCBlbmQsIHN0ZXAudW5hcnlNaW51cygpKSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ1N0ZXAgaXMgemVyby4nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gS0Fubm90YXRlZEVsZW1lbnQoKSB7XG4gICAgfVxuICAgIEtBbm5vdGF0ZWRFbGVtZW50LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdLQW5ub3RhdGVkRWxlbWVudCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBLQ2FsbGFibGUoKSB7XG4gICAgfVxuICAgIEtDYWxsYWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS0NhbGxhYmxlJywgaW50ZXJmYWNlczogW0tBbm5vdGF0ZWRFbGVtZW50XX07XG4gICAgZnVuY3Rpb24gS0NsYXNzKCkge1xuICAgIH1cbiAgICBLQ2xhc3MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tDbGFzcycsIGludGVyZmFjZXM6IFtLQ2xhc3NpZmllciwgS0Fubm90YXRlZEVsZW1lbnQsIEtEZWNsYXJhdGlvbkNvbnRhaW5lcl19O1xuICAgIGZ1bmN0aW9uIEtDbGFzc2lmaWVyKCkge1xuICAgIH1cbiAgICBLQ2xhc3NpZmllci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS0NsYXNzaWZpZXInLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gS0RlY2xhcmF0aW9uQ29udGFpbmVyKCkge1xuICAgIH1cbiAgICBLRGVjbGFyYXRpb25Db250YWluZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tEZWNsYXJhdGlvbkNvbnRhaW5lcicsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBLRnVuY3Rpb24oKSB7XG4gICAgfVxuICAgIEtGdW5jdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS0Z1bmN0aW9uJywgaW50ZXJmYWNlczogW0Z1bmN0aW9uXzAsIEtDYWxsYWJsZV19O1xuICAgIHZhciBLUGFyYW1ldGVyJEtpbmQkSU5TVEFOQ0VfaW5zdGFuY2U7XG4gICAgdmFyIEtQYXJhbWV0ZXIkS2luZCRFWFRFTlNJT05fUkVDRUlWRVJfaW5zdGFuY2U7XG4gICAgdmFyIEtQYXJhbWV0ZXIkS2luZCRWQUxVRV9pbnN0YW5jZTtcbiAgICBmdW5jdGlvbiBLUHJvcGVydHkoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEtQcm9wZXJ0eSRBY2Nlc3NvcigpIHtcbiAgICB9XG4gICAgS1Byb3BlcnR5JEFjY2Vzc29yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdBY2Nlc3NvcicsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBLUHJvcGVydHkkR2V0dGVyKCkge1xuICAgIH1cbiAgICBLUHJvcGVydHkkR2V0dGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdHZXR0ZXInLCBpbnRlcmZhY2VzOiBbS0Z1bmN0aW9uLCBLUHJvcGVydHkkQWNjZXNzb3JdfTtcbiAgICBLUHJvcGVydHkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tQcm9wZXJ0eScsIGludGVyZmFjZXM6IFtLQ2FsbGFibGVdfTtcbiAgICBmdW5jdGlvbiBLTXV0YWJsZVByb3BlcnR5KCkge1xuICAgIH1cbiAgICBmdW5jdGlvbiBLTXV0YWJsZVByb3BlcnR5JFNldHRlcigpIHtcbiAgICB9XG4gICAgS011dGFibGVQcm9wZXJ0eSRTZXR0ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ1NldHRlcicsIGludGVyZmFjZXM6IFtLRnVuY3Rpb24sIEtQcm9wZXJ0eSRBY2Nlc3Nvcl19O1xuICAgIEtNdXRhYmxlUHJvcGVydHkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tNdXRhYmxlUHJvcGVydHknLCBpbnRlcmZhY2VzOiBbS1Byb3BlcnR5XX07XG4gICAgZnVuY3Rpb24gS1Byb3BlcnR5MCgpIHtcbiAgICB9XG4gICAgZnVuY3Rpb24gS1Byb3BlcnR5MCRHZXR0ZXIoKSB7XG4gICAgfVxuICAgIEtQcm9wZXJ0eTAkR2V0dGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdHZXR0ZXInLCBpbnRlcmZhY2VzOiBbS1Byb3BlcnR5JEdldHRlcl19O1xuICAgIEtQcm9wZXJ0eTAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tQcm9wZXJ0eTAnLCBpbnRlcmZhY2VzOiBbS1Byb3BlcnR5XX07XG4gICAgZnVuY3Rpb24gS011dGFibGVQcm9wZXJ0eTAoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEtNdXRhYmxlUHJvcGVydHkwJFNldHRlcigpIHtcbiAgICB9XG4gICAgS011dGFibGVQcm9wZXJ0eTAkU2V0dGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXR0ZXInLCBpbnRlcmZhY2VzOiBbS011dGFibGVQcm9wZXJ0eSRTZXR0ZXJdfTtcbiAgICBLTXV0YWJsZVByb3BlcnR5MC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS011dGFibGVQcm9wZXJ0eTAnLCBpbnRlcmZhY2VzOiBbS011dGFibGVQcm9wZXJ0eSwgS1Byb3BlcnR5MF19O1xuICAgIGZ1bmN0aW9uIEtQcm9wZXJ0eTEoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEtQcm9wZXJ0eTEkR2V0dGVyKCkge1xuICAgIH1cbiAgICBLUHJvcGVydHkxJEdldHRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnR2V0dGVyJywgaW50ZXJmYWNlczogW0tQcm9wZXJ0eSRHZXR0ZXJdfTtcbiAgICBLUHJvcGVydHkxLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdLUHJvcGVydHkxJywgaW50ZXJmYWNlczogW0tQcm9wZXJ0eV19O1xuICAgIGZ1bmN0aW9uIEtNdXRhYmxlUHJvcGVydHkxKCkge1xuICAgIH1cbiAgICBmdW5jdGlvbiBLTXV0YWJsZVByb3BlcnR5MSRTZXR0ZXIoKSB7XG4gICAgfVxuICAgIEtNdXRhYmxlUHJvcGVydHkxJFNldHRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnU2V0dGVyJywgaW50ZXJmYWNlczogW0tNdXRhYmxlUHJvcGVydHkkU2V0dGVyXX07XG4gICAgS011dGFibGVQcm9wZXJ0eTEuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0tNdXRhYmxlUHJvcGVydHkxJywgaW50ZXJmYWNlczogW0tNdXRhYmxlUHJvcGVydHksIEtQcm9wZXJ0eTFdfTtcbiAgICB2YXIgS1R5cGVQcm9qZWN0aW9uJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIEtWYXJpYW5jZSRJTlZBUklBTlRfaW5zdGFuY2U7XG4gICAgdmFyIEtWYXJpYW5jZSRJTl9pbnN0YW5jZTtcbiAgICB2YXIgS1ZhcmlhbmNlJE9VVF9pbnN0YW5jZTtcbiAgICB2YXIgS1Zpc2liaWxpdHkkUFVCTElDX2luc3RhbmNlO1xuICAgIHZhciBLVmlzaWJpbGl0eSRQUk9URUNURURfaW5zdGFuY2U7XG4gICAgdmFyIEtWaXNpYmlsaXR5JElOVEVSTkFMX2luc3RhbmNlO1xuICAgIHZhciBLVmlzaWJpbGl0eSRQUklWQVRFX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGFycikge1xuICAgICAgdGhpcy5jbG9zdXJlJGFyciA9IGNsb3N1cmUkYXJyO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFyci5sZW5ndGg7XG4gICAgfTtcbiAgICBhcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFyci5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRhcnJbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIGFycmF5SXRlcmF0b3IoYXJyYXksIHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAgICAgdmFyIGFyciA9IGFycmF5O1xuICAgICAgICByZXR1cm4gbmV3IGFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnIpO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSAnQm9vbGVhbkFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBib29sZWFuQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnQnl0ZUFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBieXRlQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnU2hvcnRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gc2hvcnRBcnJheUl0ZXJhdG9yKGFycmF5KTtcbiAgICAgICAgICBjYXNlICdDaGFyQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIGNoYXJBcnJheUl0ZXJhdG9yKGFycmF5KTtcbiAgICAgICAgICBjYXNlICdJbnRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gaW50QXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnTG9uZ0FycmF5JzpcbiAgICAgICAgICAgIHJldHVybiBsb25nQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgY2FzZSAnRmxvYXRBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gZmxvYXRBcnJheUl0ZXJhdG9yKGFycmF5KTtcbiAgICAgICAgICBjYXNlICdEb3VibGVBcnJheSc6XG4gICAgICAgICAgICByZXR1cm4gZG91YmxlQXJyYXlJdGVyYXRvcihhcnJheSk7XG4gICAgICAgICAgZGVmYXVsdDp0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKCdVbnN1cHBvcnRlZCB0eXBlIGFyZ3VtZW50IGZvciBhcnJheUl0ZXJhdG9yOiAnICsgdG9TdHJpbmcodHlwZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIEJvb2xlYW5JdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBib29sZWFuQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Qm9vbGVhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGJvb2xlYW5BcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQm9vbGVhbkl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gYm9vbGVhbkFycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgYm9vbGVhbkFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ5dGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIEJ5dGVJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGJ5dGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBieXRlQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Qnl0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGJ5dGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQnl0ZUl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gYnl0ZUFycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgYnl0ZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3J0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsKGNsb3N1cmUkYXJyYXkpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRhcnJheSA9IGNsb3N1cmUkYXJyYXk7XG4gICAgICBTaG9ydEl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG4gICAgc2hvcnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBzaG9ydEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dFNob3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRhcnJheVt0bXAkID0gdGhpcy5pbmRleCwgdGhpcy5pbmRleCA9IHRtcCQgKyAxIHwgMCwgdG1wJF07XG4gICAgICB9XG4gICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbih0aGlzLmluZGV4LnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgc2hvcnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbU2hvcnRJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIHNob3J0QXJyYXlJdGVyYXRvcihhcnJheSkge1xuICAgICAgcmV0dXJuIG5ldyBzaG9ydEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIENoYXJJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBjaGFyQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Q2hhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGNoYXJBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQ2hhckl0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gY2hhckFycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgY2hhckFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGFycmF5KSB7XG4gICAgICB0aGlzLmNsb3N1cmUkYXJyYXkgPSBjbG9zdXJlJGFycmF5O1xuICAgICAgSW50SXRlcmF0b3IuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cbiAgICBpbnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBpbnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHRJbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGFycmF5W3RtcCQgPSB0aGlzLmluZGV4LCB0aGlzLmluZGV4ID0gdG1wJCArIDEgfCAwLCB0bXAkXTtcbiAgICAgIH1cbiAgICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgfTtcbiAgICBpbnRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSW50SXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBpbnRBcnJheUl0ZXJhdG9yKGFycmF5KSB7XG4gICAgICByZXR1cm4gbmV3IGludEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsb2F0QXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsKGNsb3N1cmUkYXJyYXkpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRhcnJheSA9IGNsb3N1cmUkYXJyYXk7XG4gICAgICBGbG9hdEl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG4gICAgZmxvYXRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBmbG9hdEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dEZsb2F0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRhcnJheVt0bXAkID0gdGhpcy5pbmRleCwgdGhpcy5pbmRleCA9IHRtcCQgKyAxIHwgMCwgdG1wJF07XG4gICAgICB9XG4gICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbih0aGlzLmluZGV4LnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgZmxvYXRBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbRmxvYXRJdGVyYXRvcl19O1xuICAgIGZ1bmN0aW9uIGZsb2F0QXJyYXlJdGVyYXRvcihhcnJheSkge1xuICAgICAgcmV0dXJuIG5ldyBmbG9hdEFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvdWJsZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGFycmF5KSB7XG4gICAgICB0aGlzLmNsb3N1cmUkYXJyYXkgPSBjbG9zdXJlJGFycmF5O1xuICAgICAgRG91YmxlSXRlcmF0b3IuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgIH1cbiAgICBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHREb3VibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy5jbG9zdXJlJGFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGFycmF5W3RtcCQgPSB0aGlzLmluZGV4LCB0aGlzLmluZGV4ID0gdG1wJCArIDEgfCAwLCB0bXAkXTtcbiAgICAgIH1cbiAgICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgfTtcbiAgICBkb3VibGVBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbRG91YmxlSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBkb3VibGVBcnJheUl0ZXJhdG9yKGFycmF5KSB7XG4gICAgICByZXR1cm4gbmV3IGRvdWJsZUFycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvbmdBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRhcnJheSkge1xuICAgICAgdGhpcy5jbG9zdXJlJGFycmF5ID0gY2xvc3VyZSRhcnJheTtcbiAgICAgIExvbmdJdGVyYXRvci5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGxvbmdBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuY2xvc3VyZSRhcnJheS5sZW5ndGg7XG4gICAgfTtcbiAgICBsb25nQXJyYXlJdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0TG9uZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMuaW5kZXggPCB0aGlzLmNsb3N1cmUkYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkYXJyYXlbdG1wJCA9IHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdO1xuICAgICAgfVxuICAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IE5vU3VjaEVsZW1lbnRFeGNlcHRpb24odGhpcy5pbmRleC50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIGxvbmdBcnJheUl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbTG9uZ0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gbG9uZ0FycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgIHJldHVybiBuZXcgbG9uZ0FycmF5SXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChhcnJheSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vV2hlbkJyYW5jaE1hdGNoZWQoKSB7XG4gICAgICB0aHJvdyBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uX2luaXQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3ViU2VxdWVuY2UoYywgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICAgIGlmICh0eXBlb2YgYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMuc3ViU2VxdWVuY2VfdnV4OWYwJChzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhcHR1cmVTdGFjayhiYXNlQ2xhc3MsIGluc3RhbmNlKSB7XG4gICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoaW5zdGFuY2UsIGdldF9qcyhLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24oaW5zdGFuY2UpKSk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gQm94ZWRDaGFyKGMpIHtcbiAgICAgIHRoaXMuYyA9IGM7XG4gICAgfVxuICAgIEJveGVkQ2hhci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgQm94ZWRDaGFyKSAmJiB0aGlzLmMgPT09IG90aGVyLmM7XG4gICAgfTtcbiAgICBCb3hlZENoYXIucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYztcbiAgICB9O1xuICAgIEJveGVkQ2hhci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh1bmJveENoYXIodGhpcy5jKSk7XG4gICAgfTtcbiAgICBCb3hlZENoYXIucHJvdG90eXBlLmNvbXBhcmVUb18xMXJiJCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIHRoaXMuYyAtIG90aGVyO1xuICAgIH07XG4gICAgQm94ZWRDaGFyLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYztcbiAgICB9O1xuICAgIEJveGVkQ2hhci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdCb3hlZENoYXInLCBpbnRlcmZhY2VzOiBbQ29tcGFyYWJsZV19O1xuICAgIGZ1bmN0aW9uIGNoYXJBcnJheU9mKCkge1xuICAgICAgdmFyIHR5cGUgPSAnQ2hhckFycmF5JztcbiAgICAgIHZhciBhcnJheSA9IG5ldyBVaW50MTZBcnJheShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgYXJyYXkuJHR5cGUkID0gdHlwZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lSW1wbChyZXN1bHRDb250aW51YXRpb24pIHtcbiAgICAgIHRoaXMucmVzdWx0Q29udGludWF0aW9uXzAgPSByZXN1bHRDb250aW51YXRpb247XG4gICAgICB0aGlzLnN0YXRlXzAgPSAwO1xuICAgICAgdGhpcy5leGNlcHRpb25TdGF0ZV8wID0gMDtcbiAgICAgIHRoaXMucmVzdWx0XzAgPSBudWxsO1xuICAgICAgdGhpcy5leGNlcHRpb25fMCA9IG51bGw7XG4gICAgICB0aGlzLmZpbmFsbHlQYXRoXzAgPSBudWxsO1xuICAgICAgdGhpcy5jb250ZXh0X2h4Y3VobCRfMCA9IHRoaXMucmVzdWx0Q29udGludWF0aW9uXzAuY29udGV4dDtcbiAgICAgIHRoaXMuaW50ZXJjZXB0ZWRfXzAgPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29yb3V0aW5lSW1wbC5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dF9oeGN1aGwkXzA7XG4gICAgfX0pO1xuICAgIENvcm91dGluZUltcGwucHJvdG90eXBlLmludGVyY2VwdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgICAgdmFyIHRtcCRfMjtcbiAgICAgIGlmICgodG1wJF8xID0gdGhpcy5pbnRlcmNlcHRlZF9fMCkgIT0gbnVsbClcbiAgICAgICAgdG1wJF8yID0gdG1wJF8xO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciAkcmVjZWl2ZXIgPSAodG1wJF8wID0gKHRtcCQgPSB0aGlzLmNvbnRleHQuZ2V0X2ozcjJzbiQoQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2dldEluc3RhbmNlKCkpKSAhPSBudWxsID8gdG1wJC5pbnRlcmNlcHRDb250aW51YXRpb25fd2o4ZDgwJCh0aGlzKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB0aGlzO1xuICAgICAgICB0aGlzLmludGVyY2VwdGVkX18wID0gJHJlY2VpdmVyO1xuICAgICAgICB0bXAkXzIgPSAkcmVjZWl2ZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJF8yO1xuICAgIH07XG4gICAgQ29yb3V0aW5lSW1wbC5wcm90b3R5cGUucmVzdW1lV2l0aF90bDFncGMkID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSB7djogdGhpc307XG4gICAgICB2YXIgZ2V0T3JOdWxsJHJlc3VsdDtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHJlc3VsdC5pc0ZhaWx1cmUpIHtcbiAgICAgICAgZ2V0T3JOdWxsJHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGdldE9yTnVsbCRyZXN1bHQgPSAodG1wJCA9IHJlc3VsdC52YWx1ZSkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJyZW50UmVzdWx0ID0ge3Y6IGdldE9yTnVsbCRyZXN1bHR9O1xuICAgICAgdmFyIGN1cnJlbnRFeGNlcHRpb24gPSB7djogcmVzdWx0LmV4Y2VwdGlvbk9yTnVsbCgpfTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciAkcmVjZWl2ZXIgPSBjdXJyZW50LnY7XG4gICAgICAgIHZhciB0bXAkXzA7XG4gICAgICAgIHZhciBjb21wbGV0aW9uID0gJHJlY2VpdmVyLnJlc3VsdENvbnRpbnVhdGlvbl8wO1xuICAgICAgICBpZiAoY3VycmVudEV4Y2VwdGlvbi52ID09IG51bGwpIHtcbiAgICAgICAgICAkcmVjZWl2ZXIucmVzdWx0XzAgPSBjdXJyZW50UmVzdWx0LnY7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICRyZWNlaXZlci5zdGF0ZV8wID0gJHJlY2VpdmVyLmV4Y2VwdGlvblN0YXRlXzA7XG4gICAgICAgICAgJHJlY2VpdmVyLmV4Y2VwdGlvbl8wID0gY3VycmVudEV4Y2VwdGlvbi52O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG91dGNvbWUgPSAkcmVjZWl2ZXIuZG9SZXN1bWUoKTtcbiAgICAgICAgICBpZiAob3V0Y29tZSA9PT0gZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjdXJyZW50UmVzdWx0LnYgPSBvdXRjb21lO1xuICAgICAgICAgIGN1cnJlbnRFeGNlcHRpb24udiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgIGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICBjdXJyZW50UmVzdWx0LnYgPSBudWxsO1xuICAgICAgICAgIGN1cnJlbnRFeGNlcHRpb24udiA9IGV4Y2VwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAkcmVjZWl2ZXIucmVsZWFzZUludGVyY2VwdGVkXzAoKTtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoY29tcGxldGlvbiwgQ29yb3V0aW5lSW1wbCkpIHtcbiAgICAgICAgICBjdXJyZW50LnYgPSBjb21wbGV0aW9uO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgdG1wJF8xO1xuICAgICAgICAgIGlmICgodG1wJF8wID0gY3VycmVudEV4Y2VwdGlvbi52KSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb21wbGV0aW9uLnJlc3VtZVdpdGhfdGwxZ3BjJChuZXcgUmVzdWx0KGNyZWF0ZUZhaWx1cmUodG1wJF8wKSkpO1xuICAgICAgICAgICAgdG1wJF8xID0gVW5pdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRtcCRfMSA9IG51bGw7XG4gICAgICAgICAgaWYgKHRtcCRfMSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb21wbGV0aW9uLnJlc3VtZVdpdGhfdGwxZ3BjJChuZXcgUmVzdWx0KGN1cnJlbnRSZXN1bHQudikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIENvcm91dGluZUltcGwucHJvdG90eXBlLnJlbGVhc2VJbnRlcmNlcHRlZF8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGludGVyY2VwdGVkID0gdGhpcy5pbnRlcmNlcHRlZF9fMDtcbiAgICAgIGlmIChpbnRlcmNlcHRlZCAhPSBudWxsICYmIGludGVyY2VwdGVkICE9PSB0aGlzKSB7XG4gICAgICAgIGVuc3VyZU5vdE51bGwodGhpcy5jb250ZXh0LmdldF9qM3Iyc24kKENvbnRpbnVhdGlvbkludGVyY2VwdG9yJEtleV9nZXRJbnN0YW5jZSgpKSkucmVsZWFzZUludGVyY2VwdGVkQ29udGludWF0aW9uX2s5OGJqaCQoaW50ZXJjZXB0ZWQpO1xuICAgICAgfVxuICAgICAgdGhpcy5pbnRlcmNlcHRlZF9fMCA9IENvbXBsZXRlZENvbnRpbnVhdGlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgQ29yb3V0aW5lSW1wbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdDb3JvdXRpbmVJbXBsJywgaW50ZXJmYWNlczogW0NvbnRpbnVhdGlvbl19O1xuICAgIGZ1bmN0aW9uIENvbXBsZXRlZENvbnRpbnVhdGlvbigpIHtcbiAgICAgIENvbXBsZXRlZENvbnRpbnVhdGlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wbGV0ZWRDb250aW51YXRpb24ucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAoJ1RoaXMgY29udGludWF0aW9uIGlzIGFscmVhZHkgY29tcGxldGUnLnRvU3RyaW5nKCkpO1xuICAgIH19KTtcbiAgICBDb21wbGV0ZWRDb250aW51YXRpb24ucHJvdG90eXBlLnJlc3VtZVdpdGhfdGwxZ3BjJCA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAoJ1RoaXMgY29udGludWF0aW9uIGlzIGFscmVhZHkgY29tcGxldGUnLnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgQ29tcGxldGVkQ29udGludWF0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnVGhpcyBjb250aW51YXRpb24gaXMgYWxyZWFkeSBjb21wbGV0ZSc7XG4gICAgfTtcbiAgICBDb21wbGV0ZWRDb250aW51YXRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBsZXRlZENvbnRpbnVhdGlvbicsIGludGVyZmFjZXM6IFtDb250aW51YXRpb25dfTtcbiAgICB2YXIgQ29tcGxldGVkQ29udGludWF0aW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDb21wbGV0ZWRDb250aW51YXRpb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoQ29tcGxldGVkQ29udGludWF0aW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBDb21wbGV0ZWRDb250aW51YXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDb21wbGV0ZWRDb250aW51YXRpb25faW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVyY2VwdGVkKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xO1xuICAgICAgcmV0dXJuICh0bXAkXzEgPSAodG1wJF8wID0gS290bGluLmlzVHlwZSh0bXAkID0gJHJlY2VpdmVyLCBDb3JvdXRpbmVJbXBsKSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wLmludGVyY2VwdGVkKCkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8xIDogJHJlY2VpdmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsYXp5KGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gbmV3IFVuc2FmZUxhenlJbXBsKGluaXRpYWxpemVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsbEZyb20oc3JjLCBkc3QpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHNyY0xlbiA9IHNyYy5sZW5ndGg7XG4gICAgICB2YXIgZHN0TGVuID0gZHN0Lmxlbmd0aDtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB3aGlsZSAoaW5kZXggPCBzcmNMZW4gJiYgaW5kZXggPCBkc3RMZW4pIHtcbiAgICAgICAgZHN0W2luZGV4XSA9IHNyY1t0bXAkID0gaW5kZXgsIGluZGV4ID0gdG1wJCArIDEgfCAwLCB0bXAkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFycmF5Q29weVJlc2l6ZShzb3VyY2UsIG5ld1NpemUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgcmVzdWx0ID0gc291cmNlLnNsaWNlKDAsIG5ld1NpemUpO1xuICAgICAgaWYgKHNvdXJjZS4kdHlwZSQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQuJHR5cGUkID0gc291cmNlLiR0eXBlJDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICBpZiAobmV3U2l6ZSA+IGluZGV4KSB7XG4gICAgICAgIHJlc3VsdC5sZW5ndGggPSBuZXdTaXplO1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBuZXdTaXplKSB7XG4gICAgICAgICAgcmVzdWx0W3RtcCQgPSBpbmRleCwgaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc0xpc3QoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5TGlzdCgkcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5T2ZfMjIoJHJlY2VpdmVyLCBuZXdTaXplKSB7XG4gICAgICBpZiAoIShuZXdTaXplID49IDApKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0ludmFsaWQgbmV3IGFycmF5IHNpemU6ICcgKyBuZXdTaXplICsgJy4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9ICdCb29sZWFuQXJyYXknO1xuICAgICAgdmFyIGFycmF5ID0gYXJyYXlDb3B5UmVzaXplKCRyZWNlaXZlciwgbmV3U2l6ZSwgZmFsc2UpO1xuICAgICAgYXJyYXkuJHR5cGUkID0gdHlwZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weU9mXzIzKCRyZWNlaXZlciwgbmV3U2l6ZSkge1xuICAgICAgaWYgKCEobmV3U2l6ZSA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdJbnZhbGlkIG5ldyBhcnJheSBzaXplOiAnICsgbmV3U2l6ZSArICcuJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSAnQ2hhckFycmF5JztcbiAgICAgIHZhciBhcnJheSA9IGZpbGxGcm9tKCRyZWNlaXZlciwgS290bGluLmNoYXJBcnJheShuZXdTaXplKSk7XG4gICAgICBhcnJheS4kdHlwZSQgPSB0eXBlO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5T2ZSYW5nZV8zKCRyZWNlaXZlciwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tSYW5nZUluZGV4ZXNfY3ViNTFiJChmcm9tSW5kZXgsIHRvSW5kZXgsICRyZWNlaXZlci5sZW5ndGgpO1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5zbGljZShmcm9tSW5kZXgsIHRvSW5kZXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXZlcnNlXzEyKCRyZWNlaXZlcikge1xuICAgICAgdmFyIG1pZFBvaW50ID0gKCRyZWNlaXZlci5zaXplIC8gMiB8IDApIC0gMSB8IDA7XG4gICAgICBpZiAobWlkUG9pbnQgPCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICB2YXIgcmV2ZXJzZUluZGV4ID0gZ2V0X2xhc3RJbmRleF8xMigkcmVjZWl2ZXIpO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8PSBtaWRQb2ludDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgdG1wID0gJHJlY2VpdmVyLmdldF96YTNscGEkKGluZGV4KTtcbiAgICAgICAgJHJlY2VpdmVyLnNldF93eG01dXIkKGluZGV4LCAkcmVjZWl2ZXIuZ2V0X3phM2xwYSQocmV2ZXJzZUluZGV4KSk7XG4gICAgICAgICRyZWNlaXZlci5zZXRfd3htNXVyJChyZXZlcnNlSW5kZXgsIHRtcCk7XG4gICAgICAgIHJldmVyc2VJbmRleCA9IHJldmVyc2VJbmRleCAtIDEgfCAwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wYXJhdG9yKCkge1xuICAgIH1cbiAgICBDb21wYXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb21wYXJhdG9yJywgaW50ZXJmYWNlczogW119O1xuICAgIGZ1bmN0aW9uIGNvcHlUb0FycmF5KGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uLnRvQXJyYXkgIT09IHVuZGVmaW5lZCA/IGNvbGxlY3Rpb24udG9BcnJheSgpIDogY29weVRvQXJyYXlJbXBsKGNvbGxlY3Rpb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5VG9BcnJheUltcGwoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKVxuICAgICAgICBhcnJheS5wdXNoKGl0ZXJhdG9yLm5leHQoKSk7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlUb0FycmF5SW1wbF8wKGNvbGxlY3Rpb24sIGFycmF5KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmIChhcnJheS5sZW5ndGggPCBjb2xsZWN0aW9uLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGNvcHlUb0FycmF5SW1wbChjb2xsZWN0aW9uKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uaXRlcmF0b3IoKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICAgIGFycmF5W3RtcCQgPSBpbmRleCwgaW5kZXggPSB0bXAkICsgMSB8IDAsIHRtcCRdID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgICAgaWYgKGluZGV4IDwgYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RPZihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gYXJyYXlMaXN0T2ZfMChbZWxlbWVudF0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRPZihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gaGFzaFNldE9mXzAoW2VsZW1lbnRdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJbmRleE92ZXJmbG93KGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHRocm93SW5kZXhPdmVyZmxvdygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uKCkge1xuICAgICAgQWJzdHJhY3RDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAoaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICAgIGlmIChlcXVhbHMoaXRlcmF0b3IubmV4dCgpLCBlbGVtZW50KSkge1xuICAgICAgICAgIGl0ZXJhdG9yLnJlbW92ZSgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRBbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgbW9kaWZpZWQgPSBmYWxzZTtcbiAgICAgIHRtcCQgPSBlbGVtZW50cy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIGlmICh0aGlzLmFkZF8xMXJiJChlbGVtZW50KSlcbiAgICAgICAgICBtb2RpZmllZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbW9kaWZpZWQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uJHJlbW92ZUFsbCRsYW1iZGEoY2xvc3VyZSRlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgICByZXR1cm4gY2xvc3VyZSRlbGVtZW50cy5jb250YWluc18xMXJiJChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVBbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gcmVtb3ZlQWxsXzAoS290bGluLmlzVHlwZSh0bXAkID0gdGhpcywgTXV0YWJsZUl0ZXJhYmxlKSA/IHRtcCQgOiB0aHJvd0NDRV8wKCksIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24kcmVtb3ZlQWxsJGxhbWJkYShlbGVtZW50cykpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbiRyZXRhaW5BbGwkbGFtYmRhKGNsb3N1cmUkZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgcmV0dXJuICFjbG9zdXJlJGVsZW1lbnRzLmNvbnRhaW5zXzExcmIkKGl0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJldGFpbkFsbF9icnl3bnEkID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiByZW1vdmVBbGxfMChLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLCBNdXRhYmxlSXRlcmFibGUpID8gdG1wJCA6IHRocm93Q0NFXzAoKSwgQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbiRyZXRhaW5BbGwkbGFtYmRhKGVsZW1lbnRzKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlIChpdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpdGVyYXRvci5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbicsIGludGVyZmFjZXM6IFtNdXRhYmxlQ29sbGVjdGlvbiwgQWJzdHJhY3RDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTGlzdCgpIHtcbiAgICAgIEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb24uY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMubW9kQ291bnQgPSAwO1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5hZGRfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdGhpcy5hZGRfd3htNXVyJCh0aGlzLnNpemUsIGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5hZGRBbGxfdTU3eDI4JCA9IGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudHMpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICB2YXIgX2luZGV4ID0gaW5kZXg7XG4gICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgdG1wJCA9IGVsZW1lbnRzLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGUgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgdGhpcy5hZGRfd3htNXVyJCgodG1wJF8wID0gX2luZGV4LCBfaW5kZXggPSB0bXAkXzAgKyAxIHwgMCwgdG1wJF8wKSwgZSk7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVtb3ZlUmFuZ2VfdnV4OWYwJCgwLCB0aGlzLnNpemUpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTGlzdCRyZW1vdmVBbGwkbGFtYmRhKGNsb3N1cmUkZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgcmV0dXJuIGNsb3N1cmUkZWxlbWVudHMuY29udGFpbnNfMTFyYiQoaXQpO1xuICAgICAgfTtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUucmVtb3ZlQWxsX2JyeXducSQgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiByZW1vdmVBbGxfMSh0aGlzLCBBYnN0cmFjdE11dGFibGVMaXN0JHJlbW92ZUFsbCRsYW1iZGEoZWxlbWVudHMpKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZUxpc3QkcmV0YWluQWxsJGxhbWJkYShjbG9zdXJlJGVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiAhY2xvc3VyZSRlbGVtZW50cy5jb250YWluc18xMXJiJChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5yZXRhaW5BbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIHJlbW92ZUFsbF8xKHRoaXMsIEFic3RyYWN0TXV0YWJsZUxpc3QkcmV0YWluQWxsJGxhbWJkYShlbGVtZW50cykpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZl8xMXJiJChlbGVtZW50KSA+PSAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUuaW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBnZXRfbGFzdEluZGV4XzEyKHRoaXMpO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8PSB0bXAkOyBpbmRleCsrKSB7XG4gICAgICAgIGlmIChlcXVhbHModGhpcy5nZXRfemEzbHBhJChpbmRleCksIGVsZW1lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5sYXN0SW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IGdldF9sYXN0SW5kZXhfMTIodGhpcyk7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgaWYgKGVxdWFscyh0aGlzLmdldF96YTNscGEkKGluZGV4KSwgZWxlbWVudCkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLmxpc3RJdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RJdGVyYXRvcl96YTNscGEkKDApO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdC5wcm90b3R5cGUubGlzdEl0ZXJhdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsKHRoaXMsIGluZGV4KTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLnN1Ykxpc3RfdnV4OWYwJCA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RNdXRhYmxlTGlzdCRTdWJMaXN0KHRoaXMsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0LnByb3RvdHlwZS5yZW1vdmVSYW5nZV92dXg5ZjAkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5saXN0SXRlcmF0b3JfemEzbHBhJChmcm9tSW5kZXgpO1xuICAgICAgdmFyIHRpbWVzID0gdG9JbmRleCAtIGZyb21JbmRleCB8IDA7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGltZXM7IGluZGV4KyspIHtcbiAgICAgICAgaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpdGVyYXRvci5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgaWYgKG90aGVyID09PSB0aGlzKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICghS290bGluLmlzVHlwZShvdGhlciwgTGlzdCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkub3JkZXJlZEVxdWFsc19lOTJrYTckKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5vcmRlcmVkSGFzaENvZGVfbnlrb2lmJCh0aGlzKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsKCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICB0aGlzLmluZGV4XzAgPSAwO1xuICAgICAgdGhpcy5sYXN0XzAgPSAtMTtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRJdGVyYXRvckltcGwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wIDwgdGhpcy4kb3V0ZXIuc2l6ZTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoIXRoaXMuaGFzTmV4dCgpKVxuICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgIHRoaXMubGFzdF8wID0gKHRtcCQgPSB0aGlzLmluZGV4XzAsIHRoaXMuaW5kZXhfMCA9IHRtcCQgKyAxIHwgMCwgdG1wJCk7XG4gICAgICByZXR1cm4gdGhpcy4kb3V0ZXIuZ2V0X3phM2xwYSQodGhpcy5sYXN0XzApO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRJdGVyYXRvckltcGwucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghKHRoaXMubGFzdF8wICE9PSAtMSkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2FsbCBuZXh0KCkgb3IgcHJldmlvdXMoKSBiZWZvcmUgcmVtb3ZpbmcgZWxlbWVudCBmcm9tIHRoZSBpdGVyYXRvci4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB0aGlzLiRvdXRlci5yZW1vdmVBdF96YTNscGEkKHRoaXMubGFzdF8wKTtcbiAgICAgIHRoaXMuaW5kZXhfMCA9IHRoaXMubGFzdF8wO1xuICAgICAgdGhpcy5sYXN0XzAgPSAtMTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkSXRlcmF0b3JJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0l0ZXJhdG9ySW1wbCcsIGludGVyZmFjZXM6IFtNdXRhYmxlSXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVMaXN0JExpc3RJdGVyYXRvckltcGwoJG91dGVyLCBpbmRleCkge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICBBYnN0cmFjdE11dGFibGVMaXN0JEl0ZXJhdG9ySW1wbC5jYWxsKHRoaXMsIHRoaXMuJG91dGVyKTtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja1Bvc2l0aW9uSW5kZXhfNnh2bTVyJChpbmRleCwgdGhpcy4kb3V0ZXIuc2l6ZSk7XG4gICAgICB0aGlzLmluZGV4XzAgPSBpbmRleDtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5oYXNQcmV2aW91cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgPiAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5wcmV2aW91cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNQcmV2aW91cygpKVxuICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgIHRoaXMubGFzdF8wID0gKHRoaXMuaW5kZXhfMCA9IHRoaXMuaW5kZXhfMCAtIDEgfCAwLCB0aGlzLmluZGV4XzApO1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLmdldF96YTNscGEkKHRoaXMubGFzdF8wKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUucHJldmlvdXNJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgLSAxIHwgMDtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUuYWRkXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuJG91dGVyLmFkZF93eG01dXIkKHRoaXMuaW5kZXhfMCwgZWxlbWVudCk7XG4gICAgICB0aGlzLmluZGV4XzAgPSB0aGlzLmluZGV4XzAgKyAxIHwgMDtcbiAgICAgIHRoaXMubGFzdF8wID0gLTE7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JExpc3RJdGVyYXRvckltcGwucHJvdG90eXBlLnNldF8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAoISh0aGlzLmxhc3RfMCAhPT0gLTEpKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0NhbGwgbmV4dCgpIG9yIHByZXZpb3VzKCkgYmVmb3JlIHVwZGF0aW5nIGVsZW1lbnQgdmFsdWUgd2l0aCB0aGUgaXRlcmF0b3IuJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy4kb3V0ZXIuc2V0X3d4bTV1ciQodGhpcy5sYXN0XzAsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRMaXN0SXRlcmF0b3JJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpc3RJdGVyYXRvckltcGwnLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUxpc3RJdGVyYXRvciwgQWJzdHJhY3RNdXRhYmxlTGlzdCRJdGVyYXRvckltcGxdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QobGlzdCwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICBBYnN0cmFjdE11dGFibGVMaXN0LmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmxpc3RfMCA9IGxpc3Q7XG4gICAgICB0aGlzLmZyb21JbmRleF8wID0gZnJvbUluZGV4O1xuICAgICAgdGhpcy5fc2l6ZV8wID0gMDtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja1JhbmdlSW5kZXhlc19jdWI1MWIkKHRoaXMuZnJvbUluZGV4XzAsIHRvSW5kZXgsIHRoaXMubGlzdF8wLnNpemUpO1xuICAgICAgdGhpcy5fc2l6ZV8wID0gdG9JbmRleCAtIHRoaXMuZnJvbUluZGV4XzAgfCAwO1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLmFkZF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tQb3NpdGlvbkluZGV4XzZ4dm01ciQoaW5kZXgsIHRoaXMuX3NpemVfMCk7XG4gICAgICB0aGlzLmxpc3RfMC5hZGRfd3htNXVyJCh0aGlzLmZyb21JbmRleF8wICsgaW5kZXggfCAwLCBlbGVtZW50KTtcbiAgICAgIHRoaXMuX3NpemVfMCA9IHRoaXMuX3NpemVfMCArIDEgfCAwO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTGlzdCRTdWJMaXN0LnByb3RvdHlwZS5nZXRfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmNoZWNrRWxlbWVudEluZGV4XzZ4dm01ciQoaW5kZXgsIHRoaXMuX3NpemVfMCk7XG4gICAgICByZXR1cm4gdGhpcy5saXN0XzAuZ2V0X3phM2xwYSQodGhpcy5mcm9tSW5kZXhfMCArIGluZGV4IHwgMCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLnJlbW92ZUF0X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja0VsZW1lbnRJbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLl9zaXplXzApO1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubGlzdF8wLnJlbW92ZUF0X3phM2xwYSQodGhpcy5mcm9tSW5kZXhfMCArIGluZGV4IHwgMCk7XG4gICAgICB0aGlzLl9zaXplXzAgPSB0aGlzLl9zaXplXzAgLSAxIHwgMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLnNldF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tFbGVtZW50SW5kZXhfNnh2bTVyJChpbmRleCwgdGhpcy5fc2l6ZV8wKTtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RfMC5zZXRfd3htNXVyJCh0aGlzLmZyb21JbmRleF8wICsgaW5kZXggfCAwLCBlbGVtZW50KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE11dGFibGVMaXN0JFN1Ykxpc3QucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaXplXzA7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QkU3ViTGlzdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTdWJMaXN0JywgaW50ZXJmYWNlczogW1JhbmRvbUFjY2VzcywgQWJzdHJhY3RNdXRhYmxlTGlzdF19O1xuICAgIEFic3RyYWN0TXV0YWJsZUxpc3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RNdXRhYmxlTGlzdCcsIGludGVyZmFjZXM6IFtNdXRhYmxlTGlzdCwgQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCgpIHtcbiAgICAgIEFic3RyYWN0TWFwLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLl9rZXlzX3FlMm0wbiRfMCA9IG51bGw7XG4gICAgICB0aGlzLl92YWx1ZXNfa3hkbHFoJF8wID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTWFwJFNpbXBsZUVudHJ5KGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMua2V5XzV4aHEzZCRfMCA9IGtleTtcbiAgICAgIHRoaXMuX3ZhbHVlXzAgPSB2YWx1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5wcm90b3R5cGUsICdrZXknLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5rZXlfNXhocTNkJF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNdXRhYmxlTWFwJFNpbXBsZUVudHJ5LnByb3RvdHlwZSwgJ3ZhbHVlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlXzA7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5wcm90b3R5cGUuc2V0VmFsdWVfMTFyYyQgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMuX3ZhbHVlXzA7XG4gICAgICB0aGlzLl92YWx1ZV8wID0gbmV3VmFsdWU7XG4gICAgICByZXR1cm4gb2xkVmFsdWU7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEFic3RyYWN0TWFwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmVudHJ5SGFzaENvZGVfOWZ0aGRuJCh0aGlzKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gQWJzdHJhY3RNYXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZW50cnlUb1N0cmluZ185ZnRoZG4kKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJFNpbXBsZUVudHJ5LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBBYnN0cmFjdE1hcCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5lbnRyeUVxdWFsc19qczdmb3gkKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTaW1wbGVFbnRyeScsIGludGVyZmFjZXM6IFtNdXRhYmxlTWFwJE11dGFibGVFbnRyeV19O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCRBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnlfaW5pdChlbnRyeSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkucHJvdG90eXBlKTtcbiAgICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5jYWxsKCR0aGlzLCBlbnRyeS5rZXksIGVudHJ5LnZhbHVlKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZW50cmllcy5jbGVhcigpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsKHRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwKSB7XG4gICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwID0gdGhpcyRBYnN0cmFjdE11dGFibGVNYXA7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5hZGRfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdGhyb3cgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKCdBZGQgaXMgbm90IHN1cHBvcnRlZCBvbiBrZXlzJyk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jbGVhcigpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb250YWluc18xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jb250YWluc0tleV8xMXJiJChlbGVtZW50KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsKGNsb3N1cmUkZW50cnlJdGVyYXRvcikge1xuICAgICAgdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IgPSBjbG9zdXJlJGVudHJ5SXRlcmF0b3I7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLmhhc05leHQoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLm5leHQoKS5rZXk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IucmVtb3ZlKCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtNdXRhYmxlSXRlcmF0b3JdfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVudHJ5SXRlcmF0b3IgPSB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoZW50cnlJdGVyYXRvcik7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jb250YWluc0tleV8xMXJiJChlbGVtZW50KSkge1xuICAgICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwLnJlbW92ZV8xMXJiJChlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5zaXplO1xuICAgIH19KTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCRrZXlzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlU2V0XX07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TXV0YWJsZU1hcC5wcm90b3R5cGUsICdrZXlzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuX2tleXNfcWUybTBuJF8wID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fa2V5c19xZTJtMG4kXzAgPSBuZXcgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAka2V5cyRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fa2V5c19xZTJtMG4kXzApO1xuICAgIH19KTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlLnB1dEFsbF9hMmszenIkID0gZnVuY3Rpb24gKGZyb20pIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9IGZyb20uZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciB0bXAkXzAgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgdmFyIGtleSA9IHRtcCRfMC5rZXk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRtcCRfMC52YWx1ZTtcbiAgICAgICAgdGhpcy5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwKSB7XG4gICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwID0gdGhpcyRBYnN0cmFjdE11dGFibGVNYXA7XG4gICAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5hZGRfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdGhyb3cgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKCdBZGQgaXMgbm90IHN1cHBvcnRlZCBvbiB2YWx1ZXMnKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudGhpcyRBYnN0cmFjdE11dGFibGVNYXAuY2xlYXIoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5jb250YWluc18xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5jb250YWluc1ZhbHVlXzExcmMkKGVsZW1lbnQpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGVudHJ5SXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yID0gY2xvc3VyZSRlbnRyeUl0ZXJhdG9yO1xuICAgIH1cbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLmhhc05leHQoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IubmV4dCgpLnZhbHVlO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IucmVtb3ZlKCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW011dGFibGVJdGVyYXRvcl19O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlbnRyeUl0ZXJhdG9yID0gdGhpcy50aGlzJEFic3RyYWN0TXV0YWJsZU1hcC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoZW50cnlJdGVyYXRvcik7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkQWJzdHJhY3RNdXRhYmxlTWFwLnNpemU7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIGlmICh0aGlzID09PSBvdGhlcilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIENvbGxlY3Rpb24pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLm9yZGVyZWRFcXVhbHNfZTkya2E3JCh0aGlzLCBvdGhlcik7XG4gICAgfTtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAkZ2V0X0Fic3RyYWN0TXV0YWJsZU1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLm9yZGVyZWRIYXNoQ29kZV9ueWtvaWYkKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlTWFwJGdldF9BYnN0cmFjdE11dGFibGVNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbl19O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlLCAndmFsdWVzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuX3ZhbHVlc19reGRscWgkXzAgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl92YWx1ZXNfa3hkbHFoJF8wID0gbmV3IEFic3RyYWN0TXV0YWJsZU1hcCRnZXRfQWJzdHJhY3RNdXRhYmxlTWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fdmFsdWVzX2t4ZGxxaCRfMCk7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlXzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGl0ZXIgPSB0aGlzLmVudHJpZXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlIChpdGVyLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZW50cnkgPSBpdGVyLm5leHQoKTtcbiAgICAgICAgdmFyIGsgPSBlbnRyeS5rZXk7XG4gICAgICAgIGlmIChlcXVhbHMoa2V5LCBrKSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5LnZhbHVlO1xuICAgICAgICAgIGl0ZXIucmVtb3ZlKCk7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBYnN0cmFjdE11dGFibGVNYXAnLCBpbnRlcmZhY2VzOiBbTXV0YWJsZU1hcCwgQWJzdHJhY3RNYXBdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE11dGFibGVTZXQoKSB7XG4gICAgICBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TXV0YWJsZVNldC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT09IHRoaXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBTZXQpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2V0RXF1YWxzX3k4ZjdlbiQodGhpcywgb3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlU2V0LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBBYnN0cmFjdFNldCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS51bm9yZGVyZWRIYXNoQ29kZV9ueWtvaWYkKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNdXRhYmxlU2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0Fic3RyYWN0TXV0YWJsZVNldCcsIGludGVyZmFjZXM6IFtNdXRhYmxlU2V0LCBBYnN0cmFjdE11dGFibGVDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gQXJyYXlMaXN0KGFycmF5KSB7XG4gICAgICBBYnN0cmFjdE11dGFibGVMaXN0LmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmFycmF5X2hkN292NiRfMCA9IGFycmF5O1xuICAgIH1cbiAgICBBcnJheUxpc3QucHJvdG90eXBlLnRyaW1Ub1NpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmVuc3VyZUNhcGFjaXR5X3phM2xwYSQgPSBmdW5jdGlvbiAobWluQ2FwYWNpdHkpIHtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcnJheUxpc3QucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFycmF5X2hkN292NiRfMC5sZW5ndGg7XG4gICAgfX0pO1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUuZ2V0X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgcmV0dXJuICh0bXAkID0gdGhpcy5hcnJheV9oZDdvdjYkXzBbdGhpcy5yYW5nZUNoZWNrX3hjbWs1byRfMChpbmRleCldKSA9PSBudWxsIHx8IEtvdGxpbi5pc1R5cGUodG1wJCwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCk7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLnNldF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRoaXMucmFuZ2VDaGVja194Y21rNW8kXzAoaW5kZXgpO1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuYXJyYXlfaGQ3b3Y2JF8wW2luZGV4XTtcbiAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wW2luZGV4XSA9IGVsZW1lbnQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSAkcmVjZWl2ZXIpID09IG51bGwgfHwgS290bGluLmlzVHlwZSh0bXAkLCBBbnkpID8gdG1wJCA6IHRocm93Q0NFXzAoKTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUuYWRkXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wLnB1c2goZWxlbWVudCk7XG4gICAgICB0aGlzLm1vZENvdW50ID0gdGhpcy5tb2RDb3VudCArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmFkZF93eG01dXIkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG4gICAgICB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UodGhpcy5pbnNlcnRpb25SYW5nZUNoZWNrX3h3aXZmbCRfMChpbmRleCksIDAsIGVsZW1lbnQpO1xuICAgICAgdGhpcy5tb2RDb3VudCA9IHRoaXMubW9kQ291bnQgKyAxIHwgMDtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUuYWRkQWxsX2JyeXducSQgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgIGlmIChlbGVtZW50cy5pc0VtcHR5KCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wID0gdGhpcy5hcnJheV9oZDdvdjYkXzAuY29uY2F0KGNvcHlUb0FycmF5KGVsZW1lbnRzKSk7XG4gICAgICB0aGlzLm1vZENvdW50ID0gdGhpcy5tb2RDb3VudCArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmFkZEFsbF91NTd4MjgkID0gZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50cykge1xuICAgICAgdGhpcy5pbnNlcnRpb25SYW5nZUNoZWNrX3h3aXZmbCRfMChpbmRleCk7XG4gICAgICBpZiAoaW5kZXggPT09IHRoaXMuc2l6ZSlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQWxsX2JyeXducSQoZWxlbWVudHMpO1xuICAgICAgaWYgKGVsZW1lbnRzLmlzRW1wdHkoKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKGluZGV4ID09PSB0aGlzLnNpemUpXG4gICAgICAgIHJldHVybiB0aGlzLmFkZEFsbF9icnl3bnEkKGVsZW1lbnRzKTtcbiAgICAgIGVsc2UgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wID0gY29weVRvQXJyYXkoZWxlbWVudHMpLmNvbmNhdCh0aGlzLmFycmF5X2hkN292NiRfMCk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYXJyYXlfaGQ3b3Y2JF8wID0gY29weU9mUmFuZ2VfMyh0aGlzLmFycmF5X2hkN292NiRfMCwgMCwgaW5kZXgpLmNvbmNhdChjb3B5VG9BcnJheShlbGVtZW50cyksIGNvcHlPZlJhbmdlXzModGhpcy5hcnJheV9oZDdvdjYkXzAsIGluZGV4LCB0aGlzLnNpemUpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUucmVtb3ZlQXRfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdGhpcy5yYW5nZUNoZWNrX3hjbWs1byRfMChpbmRleCk7XG4gICAgICB0aGlzLm1vZENvdW50ID0gdGhpcy5tb2RDb3VudCArIDEgfCAwO1xuICAgICAgcmV0dXJuIGluZGV4ID09PSBnZXRfbGFzdEluZGV4XzEyKHRoaXMpID8gdGhpcy5hcnJheV9oZDdvdjYkXzAucG9wKCkgOiB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS5yZW1vdmVfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gdGhpcy5hcnJheV9oZDdvdjYkXzA7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4ICE9PSB0bXAkLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICBpZiAoZXF1YWxzKHRoaXMuYXJyYXlfaGQ3b3Y2JF8wW2luZGV4XSwgZWxlbWVudCkpIHtcbiAgICAgICAgICB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUucmVtb3ZlUmFuZ2VfdnV4OWYwJCA9IGZ1bmN0aW9uIChmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgICB0aGlzLmFycmF5X2hkN292NiRfMC5zcGxpY2UoZnJvbUluZGV4LCB0b0luZGV4IC0gZnJvbUluZGV4IHwgMCk7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5hcnJheV9oZDdvdjYkXzAgPSBbXTtcbiAgICAgIHRoaXMubW9kQ291bnQgPSB0aGlzLm1vZENvdW50ICsgMSB8IDA7XG4gICAgfTtcbiAgICBBcnJheUxpc3QucHJvdG90eXBlLmluZGV4T2ZfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGluZGV4T2YodGhpcy5hcnJheV9oZDdvdjYkXzAsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS5sYXN0SW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gbGFzdEluZGV4T2YodGhpcy5hcnJheV9oZDdvdjYkXzAsIGVsZW1lbnQpO1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhcnJheVRvU3RyaW5nKHRoaXMuYXJyYXlfaGQ3b3Y2JF8wKTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHRoaXMuYXJyYXlfaGQ3b3Y2JF8wKTtcbiAgICB9O1xuICAgIEFycmF5TGlzdC5wcm90b3R5cGUucmFuZ2VDaGVja194Y21rNW8kXzAgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5jaGVja0VsZW1lbnRJbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgQXJyYXlMaXN0LnByb3RvdHlwZS5pbnNlcnRpb25SYW5nZUNoZWNrX3h3aXZmbCRfMCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmNoZWNrUG9zaXRpb25JbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG4gICAgQXJyYXlMaXN0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0FycmF5TGlzdCcsIGludGVyZmFjZXM6IFtSYW5kb21BY2Nlc3MsIEFic3RyYWN0TXV0YWJsZUxpc3QsIE11dGFibGVMaXN0XX07XG4gICAgZnVuY3Rpb24gQXJyYXlMaXN0X2luaXQoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShBcnJheUxpc3QucHJvdG90eXBlKTtcbiAgICAgIEFycmF5TGlzdC5jYWxsKCR0aGlzLCBbXSk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEFycmF5TGlzdF9pbml0XzAoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgaWYgKGluaXRpYWxDYXBhY2l0eSA9PT0gdm9pZCAwKVxuICAgICAgICBpbml0aWFsQ2FwYWNpdHkgPSAwO1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEFycmF5TGlzdC5wcm90b3R5cGUpO1xuICAgICAgQXJyYXlMaXN0LmNhbGwoJHRoaXMsIFtdKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gQXJyYXlMaXN0X2luaXRfMShlbGVtZW50cywgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShBcnJheUxpc3QucHJvdG90eXBlKTtcbiAgICAgIEFycmF5TGlzdC5jYWxsKCR0aGlzLCBjb3B5VG9BcnJheShlbGVtZW50cykpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICB2YXIgX3N0YWJsZVNvcnRpbmdJc1N1cHBvcnRlZDtcbiAgICBmdW5jdGlvbiBFcXVhbGl0eUNvbXBhcmF0b3IoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZSgpIHtcbiAgICAgIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZS5wcm90b3R5cGUuZXF1YWxzX29hZnRuOCQgPSBmdW5jdGlvbiAodmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgIHJldHVybiBlcXVhbHModmFsdWUxLCB2YWx1ZTIpO1xuICAgIH07XG4gICAgRXF1YWxpdHlDb21wYXJhdG9yJEhhc2hDb2RlLnByb3RvdHlwZS5nZXRIYXNoQ29kZV9zOGp5djQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHZhbHVlICE9IG51bGwgPyBoYXNoQ29kZSh2YWx1ZSkgOiBudWxsKSAhPSBudWxsID8gdG1wJCA6IDA7XG4gICAgfTtcbiAgICBFcXVhbGl0eUNvbXBhcmF0b3IkSGFzaENvZGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0hhc2hDb2RlJywgaW50ZXJmYWNlczogW0VxdWFsaXR5Q29tcGFyYXRvcl19O1xuICAgIHZhciBFcXVhbGl0eUNvbXBhcmF0b3IkSGFzaENvZGVfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChFcXVhbGl0eUNvbXBhcmF0b3IkSGFzaENvZGVfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9pbnN0YW5jZTtcbiAgICB9XG4gICAgRXF1YWxpdHlDb21wYXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdFcXVhbGl0eUNvbXBhcmF0b3InLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gSGFzaE1hcCgpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wID0gbnVsbDtcbiAgICAgIHRoaXMuZXF1YWxpdHlfdmdoNmNtJF8wID0gbnVsbDtcbiAgICAgIHRoaXMuX2VudHJpZXNfN2loODd4JF8wID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaE1hcCRFbnRyeVNldCgkb3V0ZXIpIHtcbiAgICAgIHRoaXMuJG91dGVyID0gJG91dGVyO1xuICAgICAgQWJzdHJhY3RNdXRhYmxlU2V0LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmFkZF8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB0aHJvdyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl9pbml0XzAoJ0FkZCBpcyBub3Qgc3VwcG9ydGVkIG9uIGVudHJpZXMnKTtcbiAgICB9O1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kb3V0ZXIuY2xlYXIoKTtcbiAgICB9O1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLiRvdXRlci5jb250YWluc0VudHJ5XzhoeHF3NCQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLiRvdXRlci5pbnRlcm5hbE1hcF91eGhlbjUkXzAuaXRlcmF0b3IoKTtcbiAgICB9O1xuICAgIEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5jb250YWluc18xMXJiJChlbGVtZW50KSkge1xuICAgICAgICB0aGlzLiRvdXRlci5yZW1vdmVfMTFyYiQoZWxlbWVudC5rZXkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kb3V0ZXIuc2l6ZTtcbiAgICB9fSk7XG4gICAgSGFzaE1hcCRFbnRyeVNldC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdFbnRyeVNldCcsIGludGVyZmFjZXM6IFtBYnN0cmFjdE11dGFibGVTZXRdfTtcbiAgICBIYXNoTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wLmNsZWFyKCk7XG4gICAgfTtcbiAgICBIYXNoTWFwLnByb3RvdHlwZS5jb250YWluc0tleV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5jb250YWluc18xMXJiJChrZXkpO1xuICAgIH07XG4gICAgSGFzaE1hcC5wcm90b3R5cGUuY29udGFpbnNWYWx1ZV8xMXJjJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wO1xuICAgICAgdmFyIGFueSRyZXN1bHQ7XG4gICAgICBhbnkkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgQ29sbGVjdGlvbikgJiYgJHJlY2VpdmVyLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFueSRyZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhayBhbnkkYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdG1wJCA9ICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCQubmV4dCgpO1xuICAgICAgICAgIGlmICh0aGlzLmVxdWFsaXR5X3ZnaDZjbSRfMC5lcXVhbHNfb2FmdG44JChlbGVtZW50LnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIGFueSRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbnkkcmVzdWx0O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhhc2hNYXAucHJvdG90eXBlLCAnZW50cmllcycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLl9lbnRyaWVzXzdpaDg3eCRfMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2VudHJpZXNfN2loODd4JF8wID0gdGhpcy5jcmVhdGVFbnRyeVNldCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fZW50cmllc183aWg4N3gkXzApO1xuICAgIH19KTtcbiAgICBIYXNoTWFwLnByb3RvdHlwZS5jcmVhdGVFbnRyeVNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgSGFzaE1hcCRFbnRyeVNldCh0aGlzKTtcbiAgICB9O1xuICAgIEhhc2hNYXAucHJvdG90eXBlLmdldF8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5nZXRfMTFyYiQoa2V5KTtcbiAgICB9O1xuICAgIEhhc2hNYXAucHJvdG90eXBlLnB1dF94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIEhhc2hNYXAucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmludGVybmFsTWFwX3V4aGVuNSRfMC5yZW1vdmVfMTFyYiQoa2V5KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIYXNoTWFwLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1hcF91eGhlbjUkXzAuc2l6ZTtcbiAgICB9fSk7XG4gICAgSGFzaE1hcC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdIYXNoTWFwJywgaW50ZXJmYWNlczogW0Fic3RyYWN0TXV0YWJsZU1hcCwgTXV0YWJsZU1hcF19O1xuICAgIGZ1bmN0aW9uIEhhc2hNYXBfaW5pdChpbnRlcm5hbE1hcCwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBBYnN0cmFjdE11dGFibGVNYXAuY2FsbCgkdGhpcyk7XG4gICAgICBIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMuaW50ZXJuYWxNYXBfdXhoZW41JF8wID0gaW50ZXJuYWxNYXA7XG4gICAgICAkdGhpcy5lcXVhbGl0eV92Z2g2Y20kXzAgPSBpbnRlcm5hbE1hcC5lcXVhbGl0eTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaE1hcF9pbml0XzAoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBIYXNoTWFwX2luaXQobmV3IEludGVybmFsSGFzaENvZGVNYXAoRXF1YWxpdHlDb21wYXJhdG9yJEhhc2hDb2RlX2dldEluc3RhbmNlKCkpLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhhc2hNYXBfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgbG9hZEZhY3RvciwgJHRoaXMpIHtcbiAgICAgIGlmIChsb2FkRmFjdG9yID09PSB2b2lkIDApXG4gICAgICAgIGxvYWRGYWN0b3IgPSAwLjA7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSGFzaE1hcC5wcm90b3R5cGUpO1xuICAgICAgSGFzaE1hcF9pbml0XzAoJHRoaXMpO1xuICAgICAgaWYgKCEoaW5pdGlhbENhcGFjaXR5ID49IDApKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ05lZ2F0aXZlIGluaXRpYWwgY2FwYWNpdHk6ICcgKyBpbml0aWFsQ2FwYWNpdHk7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGxvYWRGYWN0b3IgPj0gMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VfMCA9ICdOb24tcG9zaXRpdmUgbG9hZCBmYWN0b3I6ICcgKyBsb2FkRmFjdG9yO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaE1hcF9pbml0XzIoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hNYXAucHJvdG90eXBlKTtcbiAgICAgIEhhc2hNYXBfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgMC4wLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhhc2hNYXBfaW5pdF8zKG9yaWdpbmFsLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hNYXAucHJvdG90eXBlKTtcbiAgICAgIEhhc2hNYXBfaW5pdF8wKCR0aGlzKTtcbiAgICAgICR0aGlzLnB1dEFsbF9hMmszenIkKG9yaWdpbmFsKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaFNldCgpIHtcbiAgICAgIHRoaXMubWFwX2VvdDY0aSRfMCA9IG51bGw7XG4gICAgfVxuICAgIEhhc2hTZXQucHJvdG90eXBlLmFkZF8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgb2xkID0gdGhpcy5tYXBfZW90NjRpJF8wLnB1dF94d3pjOXAkKGVsZW1lbnQsIHRoaXMpO1xuICAgICAgcmV0dXJuIG9sZCA9PSBudWxsO1xuICAgIH07XG4gICAgSGFzaFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLm1hcF9lb3Q2NGkkXzAuY2xlYXIoKTtcbiAgICB9O1xuICAgIEhhc2hTZXQucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF9lb3Q2NGkkXzAuY29udGFpbnNLZXlfMTFyYiQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBIYXNoU2V0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwX2VvdDY0aSRfMC5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBIYXNoU2V0LnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF9lb3Q2NGkkXzAua2V5cy5pdGVyYXRvcigpO1xuICAgIH07XG4gICAgSGFzaFNldC5wcm90b3R5cGUucmVtb3ZlXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF9lb3Q2NGkkXzAucmVtb3ZlXzExcmIkKGVsZW1lbnQpICE9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGFzaFNldC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwX2VvdDY0aSRfMC5zaXplO1xuICAgIH19KTtcbiAgICBIYXNoU2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0hhc2hTZXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlU2V0LCBNdXRhYmxlU2V0XX07XG4gICAgZnVuY3Rpb24gSGFzaFNldF9pbml0KCR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSGFzaFNldC5wcm90b3R5cGUpO1xuICAgICAgQWJzdHJhY3RNdXRhYmxlU2V0LmNhbGwoJHRoaXMpO1xuICAgICAgSGFzaFNldC5jYWxsKCR0aGlzKTtcbiAgICAgICR0aGlzLm1hcF9lb3Q2NGkkXzAgPSBIYXNoTWFwX2luaXRfMCgpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBIYXNoU2V0X2luaXRfMChlbGVtZW50cywgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoU2V0LnByb3RvdHlwZSk7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCgkdGhpcyk7XG4gICAgICBIYXNoU2V0LmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwX2VvdDY0aSRfMCA9IEhhc2hNYXBfaW5pdF8yKGVsZW1lbnRzLnNpemUpO1xuICAgICAgJHRoaXMuYWRkQWxsX2JyeXducSQoZWxlbWVudHMpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBIYXNoU2V0X2luaXRfMShpbml0aWFsQ2FwYWNpdHksIGxvYWRGYWN0b3IsICR0aGlzKSB7XG4gICAgICBpZiAobG9hZEZhY3RvciA9PT0gdm9pZCAwKVxuICAgICAgICBsb2FkRmFjdG9yID0gMC4wO1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hTZXQucHJvdG90eXBlKTtcbiAgICAgIEFic3RyYWN0TXV0YWJsZVNldC5jYWxsKCR0aGlzKTtcbiAgICAgIEhhc2hTZXQuY2FsbCgkdGhpcyk7XG4gICAgICAkdGhpcy5tYXBfZW90NjRpJF8wID0gSGFzaE1hcF9pbml0XzEoaW5pdGlhbENhcGFjaXR5LCBsb2FkRmFjdG9yKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSGFzaFNldF9pbml0XzIoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEhhc2hTZXQucHJvdG90eXBlKTtcbiAgICAgIEhhc2hTZXRfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgMC4wLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhhc2hTZXRfaW5pdF8zKG1hcCwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShIYXNoU2V0LnByb3RvdHlwZSk7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCgkdGhpcyk7XG4gICAgICBIYXNoU2V0LmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwX2VvdDY0aSRfMCA9IG1hcDtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gSW50ZXJuYWxIYXNoQ29kZU1hcChlcXVhbGl0eSkge1xuICAgICAgdGhpcy5lcXVhbGl0eV9tYW1sdTgkXzAgPSBlcXVhbGl0eTtcbiAgICAgIHRoaXMuYmFja2luZ01hcF8wID0gdGhpcy5jcmVhdGVKc01hcCgpO1xuICAgICAgdGhpcy5zaXplX3gzYm03ciRfMCA9IDA7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZSwgJ2VxdWFsaXR5Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZXF1YWxpdHlfbWFtbHU4JF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZV94M2JtN3IkXzA7XG4gICAgfSwgc2V0OiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgdGhpcy5zaXplX3gzYm03ciRfMCA9IHNpemU7XG4gICAgfX0pO1xuICAgIEludGVybmFsSGFzaENvZGVNYXAucHJvdG90eXBlLnB1dF94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBoYXNoQ29kZSA9IHRoaXMuZXF1YWxpdHkuZ2V0SGFzaENvZGVfczhqeXY0JChrZXkpO1xuICAgICAgdmFyIGNoYWluT3JFbnRyeSA9IHRoaXMuZ2V0Q2hhaW5PckVudHJ5T3JOdWxsXzAoaGFzaENvZGUpO1xuICAgICAgaWYgKGNoYWluT3JFbnRyeSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuYmFja2luZ01hcF8wW2hhc2hDb2RlXSA9IG5ldyBBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGlmICghS290bGluLmlzQXJyYXkoY2hhaW5PckVudHJ5KSkge1xuICAgICAgICAgIHZhciBlbnRyeSA9IGNoYWluT3JFbnRyeTtcbiAgICAgICAgICBpZiAodGhpcy5lcXVhbGl0eS5lcXVhbHNfb2FmdG44JChlbnRyeS5rZXksIGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeS5zZXRWYWx1ZV8xMXJjJCh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2luZ01hcF8wW2hhc2hDb2RlXSA9IFtlbnRyeSwgbmV3IEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeShrZXksIHZhbHVlKV07XG4gICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUgKyAxIHwgMDtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGNoYWluID0gY2hhaW5PckVudHJ5O1xuICAgICAgICAgIHZhciBlbnRyeV8wID0gdGhpcy5maW5kRW50cnlJbkNoYWluXzAoY2hhaW4sIGtleSk7XG4gICAgICAgICAgaWYgKGVudHJ5XzAgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5XzAuc2V0VmFsdWVfMTFyYyQodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGFpbi5wdXNoKG5ldyBBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnkoa2V5LCB2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUgKyAxIHwgMDtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUucmVtb3ZlXzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgaGFzaENvZGUgPSB0aGlzLmVxdWFsaXR5LmdldEhhc2hDb2RlX3M4anl2NCQoa2V5KTtcbiAgICAgIHRtcCQgPSB0aGlzLmdldENoYWluT3JFbnRyeU9yTnVsbF8wKGhhc2hDb2RlKTtcbiAgICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW5PckVudHJ5ID0gdG1wJDtcbiAgICAgIGlmICghS290bGluLmlzQXJyYXkoY2hhaW5PckVudHJ5KSkge1xuICAgICAgICB2YXIgZW50cnkgPSBjaGFpbk9yRW50cnk7XG4gICAgICAgIGlmICh0aGlzLmVxdWFsaXR5LmVxdWFsc19vYWZ0bjgkKGVudHJ5LmtleSwga2V5KSkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmJhY2tpbmdNYXBfMFtoYXNoQ29kZV07XG4gICAgICAgICAgdGhpcy5zaXplID0gdGhpcy5zaXplIC0gMSB8IDA7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgY2hhaW4gPSBjaGFpbk9yRW50cnk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggIT09IGNoYWluLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgIHZhciBlbnRyeV8wID0gY2hhaW5baW5kZXhdO1xuICAgICAgICAgIGlmICh0aGlzLmVxdWFsaXR5LmVxdWFsc19vYWZ0bjgkKGtleSwgZW50cnlfMC5rZXkpKSB7XG4gICAgICAgICAgICBpZiAoY2hhaW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgIGNoYWluLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmJhY2tpbmdNYXBfMFtoYXNoQ29kZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNoYWluLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLnNpemUgLSAxIHwgMDtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeV8wLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuYmFja2luZ01hcF8wID0gdGhpcy5jcmVhdGVKc01hcCgpO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RW50cnlfMChrZXkpICE9IG51bGw7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZS5nZXRfMTFyYiQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHRoaXMuZ2V0RW50cnlfMChrZXkpKSAhPSBudWxsID8gdG1wJC52YWx1ZSA6IG51bGw7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwLnByb3RvdHlwZS5nZXRFbnRyeV8wID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gdGhpcy5nZXRDaGFpbk9yRW50cnlPck51bGxfMCh0aGlzLmVxdWFsaXR5LmdldEhhc2hDb2RlX3M4anl2NCQoa2V5KSk7XG4gICAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluT3JFbnRyeSA9IHRtcCQ7XG4gICAgICBpZiAoIUtvdGxpbi5pc0FycmF5KGNoYWluT3JFbnRyeSkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gY2hhaW5PckVudHJ5O1xuICAgICAgICBpZiAodGhpcy5lcXVhbGl0eS5lcXVhbHNfb2FmdG44JChlbnRyeS5rZXksIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBjaGFpbiA9IGNoYWluT3JFbnRyeTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEVudHJ5SW5DaGFpbl8wKGNoYWluLCBrZXkpO1xuICAgICAgfVxuICAgIH07XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUuZmluZEVudHJ5SW5DaGFpbl8wID0gZnVuY3Rpb24gKCRyZWNlaXZlciwga2V5KSB7XG4gICAgICB2YXIgZmlyc3RPck51bGwkcmVzdWx0O1xuICAgICAgZmlyc3RPck51bGwkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIGZvciAodG1wJCA9IDA7IHRtcCQgIT09ICRyZWNlaXZlci5sZW5ndGg7ICsrdG1wJCkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gJHJlY2VpdmVyW3RtcCRdO1xuICAgICAgICAgIGlmICh0aGlzLmVxdWFsaXR5LmVxdWFsc19vYWZ0bjgkKGVsZW1lbnQua2V5LCBrZXkpKSB7XG4gICAgICAgICAgICBmaXJzdE9yTnVsbCRyZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgICAgYnJlYWsgZmlyc3RPck51bGwkYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpcnN0T3JOdWxsJHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBmaXJzdE9yTnVsbCRyZXN1bHQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRJbnRlcm5hbEhhc2hDb2RlTWFwKSB7XG4gICAgICB0aGlzLnRoaXMkSW50ZXJuYWxIYXNoQ29kZU1hcCA9IHRoaXMkSW50ZXJuYWxIYXNoQ29kZU1hcDtcbiAgICAgIHRoaXMuc3RhdGUgPSAtMTtcbiAgICAgIHRoaXMua2V5cyA9IE9iamVjdC5rZXlzKHRoaXMkSW50ZXJuYWxIYXNoQ29kZU1hcC5iYWNraW5nTWFwXzApO1xuICAgICAgdGhpcy5rZXlJbmRleCA9IC0xO1xuICAgICAgdGhpcy5jaGFpbk9yRW50cnkgPSBudWxsO1xuICAgICAgdGhpcy5pc0NoYWluID0gZmFsc2U7XG4gICAgICB0aGlzLml0ZW1JbmRleCA9IC0xO1xuICAgICAgdGhpcy5sYXN0RW50cnkgPSBudWxsO1xuICAgIH1cbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbXB1dGVOZXh0XzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jaGFpbk9yRW50cnkgIT0gbnVsbCAmJiB0aGlzLmlzQ2hhaW4pIHtcbiAgICAgICAgdmFyIGNoYWluU2l6ZSA9IHRoaXMuY2hhaW5PckVudHJ5Lmxlbmd0aDtcbiAgICAgICAgaWYgKCh0aGlzLml0ZW1JbmRleCA9IHRoaXMuaXRlbUluZGV4ICsgMSB8IDAsIHRoaXMuaXRlbUluZGV4KSA8IGNoYWluU2l6ZSlcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmICgodGhpcy5rZXlJbmRleCA9IHRoaXMua2V5SW5kZXggKyAxIHwgMCwgdGhpcy5rZXlJbmRleCkgPCB0aGlzLmtleXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY2hhaW5PckVudHJ5ID0gdGhpcy50aGlzJEludGVybmFsSGFzaENvZGVNYXAuYmFja2luZ01hcF8wW3RoaXMua2V5c1t0aGlzLmtleUluZGV4XV07XG4gICAgICAgIHRoaXMuaXNDaGFpbiA9IEtvdGxpbi5pc0FycmF5KHRoaXMuY2hhaW5PckVudHJ5KTtcbiAgICAgICAgdGhpcy5pdGVtSW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5jaGFpbk9yRW50cnkgPSBudWxsO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAtMSlcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuY29tcHV0ZU5leHRfMCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IDA7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICghdGhpcy5oYXNOZXh0KCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgaWYgKHRoaXMuaXNDaGFpbikge1xuICAgICAgICB0bXAkID0gdGhpcy5jaGFpbk9yRW50cnlbdGhpcy5pdGVtSW5kZXhdO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkID0gdGhpcy5jaGFpbk9yRW50cnk7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEVudHJ5ID0gdG1wJDtcbiAgICAgIHRoaXMubGFzdEVudHJ5ID0gbGFzdEVudHJ5O1xuICAgICAgdGhpcy5zdGF0ZSA9IC0xO1xuICAgICAgcmV0dXJuIGxhc3RFbnRyeTtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMubGFzdEVudHJ5ID09IG51bGwpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnUmVxdWlyZWQgdmFsdWUgd2FzIG51bGwuJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdGhpcy50aGlzJEludGVybmFsSGFzaENvZGVNYXAucmVtb3ZlXzExcmIkKGVuc3VyZU5vdE51bGwodGhpcy5sYXN0RW50cnkpLmtleSk7XG4gICAgICB0aGlzLmxhc3RFbnRyeSA9IG51bGw7XG4gICAgICB0aGlzLml0ZW1JbmRleCA9IHRoaXMuaXRlbUluZGV4IC0gMSB8IDA7XG4gICAgfTtcbiAgICBJbnRlcm5hbEhhc2hDb2RlTWFwJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUl0ZXJhdG9yXX07XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEludGVybmFsSGFzaENvZGVNYXAkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzKTtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAucHJvdG90eXBlLmdldENoYWluT3JFbnRyeU9yTnVsbF8wID0gZnVuY3Rpb24gKGhhc2hDb2RlKSB7XG4gICAgICB2YXIgY2hhaW5PckVudHJ5ID0gdGhpcy5iYWNraW5nTWFwXzBbaGFzaENvZGVdO1xuICAgICAgcmV0dXJuIGNoYWluT3JFbnRyeSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNoYWluT3JFbnRyeTtcbiAgICB9O1xuICAgIEludGVybmFsSGFzaENvZGVNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW50ZXJuYWxIYXNoQ29kZU1hcCcsIGludGVyZmFjZXM6IFtJbnRlcm5hbE1hcF19O1xuICAgIGZ1bmN0aW9uIEludGVybmFsTWFwKCkge1xuICAgIH1cbiAgICBJbnRlcm5hbE1hcC5wcm90b3R5cGUuY3JlYXRlSnNNYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJlc3VsdFsnZm9vJ10gPSAxO1xuICAgICAgZGVsZXRlIHJlc3VsdFsnZm9vJ107XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSW50ZXJuYWxNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0ludGVybmFsTWFwJywgaW50ZXJmYWNlczogW011dGFibGVJdGVyYWJsZV19O1xuICAgIGZ1bmN0aW9uIEludGVybmFsU3RyaW5nTWFwKGVxdWFsaXR5KSB7XG4gICAgICB0aGlzLmVxdWFsaXR5X3FtYTYxMiRfMCA9IGVxdWFsaXR5O1xuICAgICAgdGhpcy5iYWNraW5nTWFwXzAgPSB0aGlzLmNyZWF0ZUpzTWFwKCk7XG4gICAgICB0aGlzLnNpemVfNnUzeWt6JF8wID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcCgpIHtcbiAgICAgIHRoaXMuaGVhZF8xbHI0NGwkXzAgPSBudWxsO1xuICAgICAgdGhpcy5tYXBfOTdxNWR2JF8wID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcCRDaGFpbkVudHJ5KGtleSwgdmFsdWUpIHtcbiAgICAgIEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeS5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5uZXh0XzhiZTJ2eCQgPSBudWxsO1xuICAgICAgdGhpcy5wcmV2XzhiZTJ2eCQgPSBudWxsO1xuICAgIH1cbiAgICBMaW5rZWRIYXNoTWFwJENoYWluRW50cnkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2hhaW5FbnRyeScsIGludGVyZmFjZXM6IFtBYnN0cmFjdE11dGFibGVNYXAkU2ltcGxlRW50cnldfTtcbiAgICBmdW5jdGlvbiBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0KCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICBBYnN0cmFjdE11dGFibGVTZXQuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yKCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICB0aGlzLmxhc3RfMCA9IG51bGw7XG4gICAgICB0aGlzLm5leHRfMCA9IG51bGw7XG4gICAgICB0aGlzLm5leHRfMCA9IHRoaXMuJG91dGVyLiRvdXRlci5oZWFkXzFscjQ0bCRfMDtcbiAgICB9XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dF8wICE9PSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmhhc05leHQoKSlcbiAgICAgICAgdGhyb3cgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbl9pbml0KCk7XG4gICAgICB2YXIgY3VycmVudCA9IGVuc3VyZU5vdE51bGwodGhpcy5uZXh0XzApO1xuICAgICAgdGhpcy5sYXN0XzAgPSBjdXJyZW50O1xuICAgICAgdmFyICRyZWNlaXZlciA9IGN1cnJlbnQubmV4dF84YmUydngkO1xuICAgICAgdGhpcy4kb3V0ZXIuJG91dGVyO1xuICAgICAgdGhpcy5uZXh0XzAgPSAkcmVjZWl2ZXIgIT09IHRoaXMuJG91dGVyLiRvdXRlci5oZWFkXzFscjQ0bCRfMCA/ICRyZWNlaXZlciA6IG51bGw7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAkRW50cnlTZXQkRW50cnlJdGVyYXRvci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCEodGhpcy5sYXN0XzAgIT0gbnVsbCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2hlY2sgZmFpbGVkLic7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuJG91dGVyLiRvdXRlci5yZW1vdmVfYXVsNXRkJF8wKGVuc3VyZU5vdE51bGwodGhpcy5sYXN0XzApKTtcbiAgICAgIHRoaXMuJG91dGVyLiRvdXRlci5tYXBfOTdxNWR2JF8wLnJlbW92ZV8xMXJiJChlbnN1cmVOb3ROdWxsKHRoaXMubGFzdF8wKS5rZXkpO1xuICAgICAgdGhpcy5sYXN0XzAgPSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldCRFbnRyeUl0ZXJhdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0VudHJ5SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbTXV0YWJsZUl0ZXJhdG9yXX07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUuYWRkXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHRocm93IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uX2luaXRfMCgnQWRkIGlzIG5vdCBzdXBwb3J0ZWQgb24gZW50cmllcycpO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRvdXRlci5jbGVhcigpO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLmNvbnRhaW5zRW50cnlfOGh4cXc0JChlbGVtZW50KTtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAkRW50cnlTZXQucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0JEVudHJ5SXRlcmF0b3IodGhpcyk7XG4gICAgfTtcbiAgICBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0LnByb3RvdHlwZS5yZW1vdmVfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMuY29udGFpbnNfMTFyYiQoZWxlbWVudCkpIHtcbiAgICAgICAgdGhpcy4kb3V0ZXIucmVtb3ZlXzExcmIkKGVsZW1lbnQua2V5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlua2VkSGFzaE1hcCRFbnRyeVNldC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLnNpemU7XG4gICAgfX0pO1xuICAgIExpbmtlZEhhc2hNYXAkRW50cnlTZXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRW50cnlTZXQnLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RNdXRhYmxlU2V0XX07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuYWRkVG9FbmRfdWZnMmhnJF8wID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgICAgaWYgKCEoJHJlY2VpdmVyLm5leHRfOGJlMnZ4JCA9PSBudWxsICYmICRyZWNlaXZlci5wcmV2XzhiZTJ2eCQgPT0gbnVsbCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2hlY2sgZmFpbGVkLic7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBfaGVhZCA9IHRoaXMuaGVhZF8xbHI0NGwkXzA7XG4gICAgICBpZiAoX2hlYWQgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmhlYWRfMWxyNDRsJF8wID0gJHJlY2VpdmVyO1xuICAgICAgICAkcmVjZWl2ZXIubmV4dF84YmUydngkID0gJHJlY2VpdmVyO1xuICAgICAgICAkcmVjZWl2ZXIucHJldl84YmUydngkID0gJHJlY2VpdmVyO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUgPSBfaGVhZC5wcmV2XzhiZTJ2eCQ7XG4gICAgICAgIHZhciBjaGVja05vdE51bGwkcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBtZXNzYWdlXzAgPSAnUmVxdWlyZWQgdmFsdWUgd2FzIG51bGwuJztcbiAgICAgICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY2hlY2tOb3ROdWxsJHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGFpbCA9IGNoZWNrTm90TnVsbCRyZXN1bHQ7XG4gICAgICAgICRyZWNlaXZlci5wcmV2XzhiZTJ2eCQgPSBfdGFpbDtcbiAgICAgICAgJHJlY2VpdmVyLm5leHRfOGJlMnZ4JCA9IF9oZWFkO1xuICAgICAgICBfaGVhZC5wcmV2XzhiZTJ2eCQgPSAkcmVjZWl2ZXI7XG4gICAgICAgIF90YWlsLm5leHRfOGJlMnZ4JCA9ICRyZWNlaXZlcjtcbiAgICAgIH1cbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLnJlbW92ZV9hdWw1dGQkXzAgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgICBpZiAoJHJlY2VpdmVyLm5leHRfOGJlMnZ4JCA9PT0gJHJlY2VpdmVyKSB7XG4gICAgICAgIHRoaXMuaGVhZF8xbHI0NGwkXzAgPSBudWxsO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5oZWFkXzFscjQ0bCRfMCA9PT0gJHJlY2VpdmVyKSB7XG4gICAgICAgICAgdGhpcy5oZWFkXzFscjQ0bCRfMCA9ICRyZWNlaXZlci5uZXh0XzhiZTJ2eCQ7XG4gICAgICAgIH1cbiAgICAgICAgZW5zdXJlTm90TnVsbCgkcmVjZWl2ZXIubmV4dF84YmUydngkKS5wcmV2XzhiZTJ2eCQgPSAkcmVjZWl2ZXIucHJldl84YmUydngkO1xuICAgICAgICBlbnN1cmVOb3ROdWxsKCRyZWNlaXZlci5wcmV2XzhiZTJ2eCQpLm5leHRfOGJlMnZ4JCA9ICRyZWNlaXZlci5uZXh0XzhiZTJ2eCQ7XG4gICAgICB9XG4gICAgICAkcmVjZWl2ZXIubmV4dF84YmUydngkID0gbnVsbDtcbiAgICAgICRyZWNlaXZlci5wcmV2XzhiZTJ2eCQgPSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLm1hcF85N3E1ZHYkXzAuY2xlYXIoKTtcbiAgICAgIHRoaXMuaGVhZF8xbHI0NGwkXzAgPSBudWxsO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuY29udGFpbnNLZXlfMTFyYiQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXBfOTdxNWR2JF8wLmNvbnRhaW5zS2V5XzExcmIkKGtleSk7XG4gICAgfTtcbiAgICBMaW5rZWRIYXNoTWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlXzExcmMkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSB0aGlzLmhlYWRfMWxyNDRsJF8wO1xuICAgICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbm9kZSA9IHRtcCQ7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChlcXVhbHMobm9kZS52YWx1ZSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGVuc3VyZU5vdE51bGwobm9kZS5uZXh0XzhiZTJ2eCQpO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChub2RlICE9PSB0aGlzLmhlYWRfMWxyNDRsJF8wKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLmNyZWF0ZUVudHJ5U2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBMaW5rZWRIYXNoTWFwJEVudHJ5U2V0KHRoaXMpO1xuICAgIH07XG4gICAgTGlua2VkSGFzaE1hcC5wcm90b3R5cGUuZ2V0XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0aGlzLm1hcF85N3E1ZHYkXzAuZ2V0XzExcmIkKGtleSkpICE9IG51bGwgPyB0bXAkLnZhbHVlIDogbnVsbDtcbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLnB1dF94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvbGQgPSB0aGlzLm1hcF85N3E1ZHYkXzAuZ2V0XzExcmIkKGtleSk7XG4gICAgICBpZiAob2xkID09IG51bGwpIHtcbiAgICAgICAgdmFyIG5ld0VudHJ5ID0gbmV3IExpbmtlZEhhc2hNYXAkQ2hhaW5FbnRyeShrZXksIHZhbHVlKTtcbiAgICAgICAgdGhpcy5tYXBfOTdxNWR2JF8wLnB1dF94d3pjOXAkKGtleSwgbmV3RW50cnkpO1xuICAgICAgICB0aGlzLmFkZFRvRW5kX3VmZzJoZyRfMChuZXdFbnRyeSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkLnNldFZhbHVlXzExcmMkKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIExpbmtlZEhhc2hNYXAucHJvdG90eXBlLnJlbW92ZV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBlbnRyeSA9IHRoaXMubWFwXzk3cTVkdiRfMC5yZW1vdmVfMTFyYiQoa2V5KTtcbiAgICAgIGlmIChlbnRyeSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlX2F1bDV0ZCRfMChlbnRyeSk7XG4gICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhhc2hNYXAucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcF85N3E1ZHYkXzAuc2l6ZTtcbiAgICB9fSk7XG4gICAgTGlua2VkSGFzaE1hcC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMaW5rZWRIYXNoTWFwJywgaW50ZXJmYWNlczogW0hhc2hNYXAsIE11dGFibGVNYXBdfTtcbiAgICBmdW5jdGlvbiBMaW5rZWRIYXNoTWFwX2luaXQoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBIYXNoTWFwX2luaXRfMCgkdGhpcyk7XG4gICAgICBMaW5rZWRIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwXzk3cTVkdiRfMCA9IEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hNYXBfaW5pdF8xKGluaXRpYWxDYXBhY2l0eSwgbG9hZEZhY3RvciwgJHRoaXMpIHtcbiAgICAgIGlmIChsb2FkRmFjdG9yID09PSB2b2lkIDApXG4gICAgICAgIGxvYWRGYWN0b3IgPSAwLjA7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoTGlua2VkSGFzaE1hcC5wcm90b3R5cGUpO1xuICAgICAgSGFzaE1hcF9pbml0XzEoaW5pdGlhbENhcGFjaXR5LCBsb2FkRmFjdG9yLCAkdGhpcyk7XG4gICAgICBMaW5rZWRIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwXzk3cTVkdiRfMCA9IEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hNYXBfaW5pdF8yKGluaXRpYWxDYXBhY2l0eSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBMaW5rZWRIYXNoTWFwX2luaXRfMShpbml0aWFsQ2FwYWNpdHksIDAuMCwgJHRoaXMpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBMaW5rZWRIYXNoTWFwX2luaXRfMyhvcmlnaW5hbCwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoTWFwLnByb3RvdHlwZSk7XG4gICAgICBIYXNoTWFwX2luaXRfMCgkdGhpcyk7XG4gICAgICBMaW5rZWRIYXNoTWFwLmNhbGwoJHRoaXMpO1xuICAgICAgJHRoaXMubWFwXzk3cTVkdiRfMCA9IEhhc2hNYXBfaW5pdF8wKCk7XG4gICAgICAkdGhpcy5wdXRBbGxfYTJrM3pyJChvcmlnaW5hbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hTZXQoKSB7XG4gICAgfVxuICAgIExpbmtlZEhhc2hTZXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTGlua2VkSGFzaFNldCcsIGludGVyZmFjZXM6IFtIYXNoU2V0LCBNdXRhYmxlU2V0XX07XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaFNldF9pbml0XzAoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShMaW5rZWRIYXNoU2V0LnByb3RvdHlwZSk7XG4gICAgICBIYXNoU2V0X2luaXRfMyhMaW5rZWRIYXNoTWFwX2luaXQoKSwgJHRoaXMpO1xuICAgICAgTGlua2VkSGFzaFNldC5jYWxsKCR0aGlzKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaFNldF9pbml0XzEoZWxlbWVudHMsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoTGlua2VkSGFzaFNldC5wcm90b3R5cGUpO1xuICAgICAgSGFzaFNldF9pbml0XzMoTGlua2VkSGFzaE1hcF9pbml0KCksICR0aGlzKTtcbiAgICAgIExpbmtlZEhhc2hTZXQuY2FsbCgkdGhpcyk7XG4gICAgICAkdGhpcy5hZGRBbGxfYnJ5d25xJChlbGVtZW50cyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIExpbmtlZEhhc2hTZXRfaW5pdF8yKGluaXRpYWxDYXBhY2l0eSwgbG9hZEZhY3RvciwgJHRoaXMpIHtcbiAgICAgIGlmIChsb2FkRmFjdG9yID09PSB2b2lkIDApXG4gICAgICAgIGxvYWRGYWN0b3IgPSAwLjA7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoTGlua2VkSGFzaFNldC5wcm90b3R5cGUpO1xuICAgICAgSGFzaFNldF9pbml0XzMoTGlua2VkSGFzaE1hcF9pbml0XzEoaW5pdGlhbENhcGFjaXR5LCBsb2FkRmFjdG9yKSwgJHRoaXMpO1xuICAgICAgTGlua2VkSGFzaFNldC5jYWxsKCR0aGlzKTtcbiAgICAgIHJldHVybiAkdGhpcztcbiAgICB9XG4gICAgZnVuY3Rpb24gTGlua2VkSGFzaFNldF9pbml0XzMoaW5pdGlhbENhcGFjaXR5LCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKExpbmtlZEhhc2hTZXQucHJvdG90eXBlKTtcbiAgICAgIExpbmtlZEhhc2hTZXRfaW5pdF8yKGluaXRpYWxDYXBhY2l0eSwgMC4wLCAkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJhbmRvbUFjY2VzcygpIHtcbiAgICB9XG4gICAgUmFuZG9tQWNjZXNzLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdSYW5kb21BY2Nlc3MnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gQmFzZU91dHB1dCgpIHtcbiAgICB9XG4gICAgQmFzZU91dHB1dC5wcm90b3R5cGUucHJpbnRsbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucHJpbnRfczhqeXY0JCgnXFxuJyk7XG4gICAgfTtcbiAgICBCYXNlT3V0cHV0LnByb3RvdHlwZS5wcmludGxuX3M4anl2NCQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgdGhpcy5wcmludF9zOGp5djQkKG1lc3NhZ2UpO1xuICAgICAgdGhpcy5wcmludGxuKCk7XG4gICAgfTtcbiAgICBCYXNlT3V0cHV0LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIEJhc2VPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQmFzZU91dHB1dCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBOb2RlSnNPdXRwdXQob3V0cHV0U3RyZWFtKSB7XG4gICAgICBCYXNlT3V0cHV0LmNhbGwodGhpcyk7XG4gICAgICB0aGlzLm91dHB1dFN0cmVhbSA9IG91dHB1dFN0cmVhbTtcbiAgICB9XG4gICAgTm9kZUpzT3V0cHV0LnByb3RvdHlwZS5wcmludF9zOGp5djQkID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBtZXNzYWdlU3RyaW5nID0gU3RyaW5nKG1lc3NhZ2UpO1xuICAgICAgdGhpcy5vdXRwdXRTdHJlYW0ud3JpdGUobWVzc2FnZVN0cmluZyk7XG4gICAgfTtcbiAgICBOb2RlSnNPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTm9kZUpzT3V0cHV0JywgaW50ZXJmYWNlczogW0Jhc2VPdXRwdXRdfTtcbiAgICBmdW5jdGlvbiBCdWZmZXJlZE91dHB1dCgpIHtcbiAgICAgIEJhc2VPdXRwdXQuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgfVxuICAgIEJ1ZmZlcmVkT3V0cHV0LnByb3RvdHlwZS5wcmludF9zOGp5djQkID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuYnVmZmVyICs9IFN0cmluZyhtZXNzYWdlKTtcbiAgICB9O1xuICAgIEJ1ZmZlcmVkT3V0cHV0LnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgfTtcbiAgICBCdWZmZXJlZE91dHB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdCdWZmZXJlZE91dHB1dCcsIGludGVyZmFjZXM6IFtCYXNlT3V0cHV0XX07XG4gICAgZnVuY3Rpb24gQnVmZmVyZWRPdXRwdXRUb0NvbnNvbGVMb2coKSB7XG4gICAgICBCdWZmZXJlZE91dHB1dC5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZy5wcm90b3R5cGUucHJpbnRfczhqeXY0JCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICB2YXIgcyA9IFN0cmluZyhtZXNzYWdlKTtcbiAgICAgIHZhciBpID0gbGFzdEluZGV4T2ZfMTUocywgMTApO1xuICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyICsgcy5zdWJzdHJpbmcoMCwgaSk7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgKyAxIHwgMCk7XG4gICAgICB9XG4gICAgICB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyICsgcztcbiAgICB9O1xuICAgIEJ1ZmZlcmVkT3V0cHV0VG9Db25zb2xlTG9nLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYnVmZmVyKTtcbiAgICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgfTtcbiAgICBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZycsIGludGVyZmFjZXM6IFtCdWZmZXJlZE91dHB1dF19O1xuICAgIHZhciBvdXRwdXQ7XG4gICAgZnVuY3Rpb24gcHJpbnRsbl8wKG1lc3NhZ2UpIHtcbiAgICAgIG91dHB1dC5wcmludGxuX3M4anl2NCQobWVzc2FnZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFNhZmVDb250aW51YXRpb24oZGVsZWdhdGUsIGluaXRpYWxSZXN1bHQpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGVfMCA9IGRlbGVnYXRlO1xuICAgICAgdGhpcy5yZXN1bHRfMCA9IGluaXRpYWxSZXN1bHQ7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTYWZlQ29udGludWF0aW9uLnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZV8wLmNvbnRleHQ7XG4gICAgfX0pO1xuICAgIFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlLnJlc3VtZVdpdGhfdGwxZ3BjJCA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIHZhciBjdXIgPSB0aGlzLnJlc3VsdF8wO1xuICAgICAgaWYgKGN1ciA9PT0gQ29yb3V0aW5lU2luZ2xldG9ucyRVTkRFQ0lERURfZ2V0SW5zdGFuY2UoKSlcbiAgICAgICAgdGhpcy5yZXN1bHRfMCA9IHJlc3VsdC52YWx1ZTtcbiAgICAgIGVsc2UgaWYgKGN1ciA9PT0gZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQoKSkge1xuICAgICAgICB0aGlzLnJlc3VsdF8wID0gQ29yb3V0aW5lU2luZ2xldG9ucyRSRVNVTUVEX2dldEluc3RhbmNlKCk7XG4gICAgICAgIHRoaXMuZGVsZWdhdGVfMC5yZXN1bWVXaXRoX3RsMWdwYyQocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgICBlbHNlXG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAoJ0FscmVhZHkgcmVzdW1lZCcpO1xuICAgIH07XG4gICAgU2FmZUNvbnRpbnVhdGlvbi5wcm90b3R5cGUuZ2V0T3JUaHJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMucmVzdWx0XzAgPT09IENvcm91dGluZVNpbmdsZXRvbnMkVU5ERUNJREVEX2dldEluc3RhbmNlKCkpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRfMCA9IGdldF9DT1JPVVRJTkVfU1VTUEVOREVEKCk7XG4gICAgICAgIHJldHVybiBnZXRfQ09ST1VUSU5FX1NVU1BFTkRFRCgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucmVzdWx0XzA7XG4gICAgICBpZiAocmVzdWx0ID09PSBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKSlcbiAgICAgICAgdG1wJCA9IGdldF9DT1JPVVRJTkVfU1VTUEVOREVEKCk7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKHJlc3VsdCwgUmVzdWx0JEZhaWx1cmUpKVxuICAgICAgICB0aHJvdyByZXN1bHQuZXhjZXB0aW9uO1xuICAgICAgZWxzZVxuICAgICAgICB0bXAkID0gcmVzdWx0O1xuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfTtcbiAgICBTYWZlQ29udGludWF0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NhZmVDb250aW51YXRpb24nLCBpbnRlcmZhY2VzOiBbQ29udGludWF0aW9uXX07XG4gICAgZnVuY3Rpb24gU2FmZUNvbnRpbnVhdGlvbl9pbml0KGRlbGVnYXRlLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlKTtcbiAgICAgIFNhZmVDb250aW51YXRpb24uY2FsbCgkdGhpcywgZGVsZWdhdGUsIENvcm91dGluZVNpbmdsZXRvbnMkVU5ERUNJREVEX2dldEluc3RhbmNlKCkpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb250aW51YXRpb24kT2JqZWN0TGl0ZXJhbChjbG9zdXJlJGNvbnRleHQsIGNsb3N1cmUkcmVzdW1lV2l0aCkge1xuICAgICAgdGhpcy5jbG9zdXJlJGNvbnRleHQgPSBjbG9zdXJlJGNvbnRleHQ7XG4gICAgICB0aGlzLmNsb3N1cmUkcmVzdW1lV2l0aCA9IGNsb3N1cmUkcmVzdW1lV2l0aDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRpbnVhdGlvbiRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGNvbnRleHQ7XG4gICAgfX0pO1xuICAgIENvbnRpbnVhdGlvbiRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5yZXN1bWVXaXRoX3RsMWdwYyQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICB0aGlzLmNsb3N1cmUkcmVzdW1lV2l0aChyZXN1bHQpO1xuICAgIH07XG4gICAgQ29udGludWF0aW9uJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQ29udGludWF0aW9uXX07XG4gICAgZnVuY3Rpb24gRW1wdHlDb250aW51YXRpb24kbGFtYmRhKHJlc3VsdCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0aHJvd09uRmFpbHVyZShyZXN1bHQpO1xuICAgICAgKHRtcCQgPSByZXN1bHQudmFsdWUpID09IG51bGwgfHwgS290bGluLmlzVHlwZSh0bXAkLCBBbnkpID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gICAgICByZXR1cm4gVW5pdDtcbiAgICB9XG4gICAgdmFyIEVtcHR5Q29udGludWF0aW9uO1xuICAgIGZ1bmN0aW9uIHRocm93TlBFKG1lc3NhZ2UpIHtcbiAgICAgIHRocm93IG5ldyBOdWxsUG9pbnRlckV4Y2VwdGlvbihtZXNzYWdlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dDQ0VfMCgpIHtcbiAgICAgIHRocm93IG5ldyBDbGFzc0Nhc3RFeGNlcHRpb24oJ0lsbGVnYWwgY2FzdCcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0lTRShtZXNzYWdlKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd1VQQUUocHJvcGVydHlOYW1lKSB7XG4gICAgICB0aHJvdyBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb25faW5pdF8wKCdsYXRlaW5pdCBwcm9wZXJ0eSAnICsgcHJvcGVydHlOYW1lICsgJyBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRXJyb3JfMChtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgVGhyb3dhYmxlLmNhbGwodGhpcyk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBjYXVzZSAhPSBudWxsID8gY2F1c2UgOiBudWxsO1xuICAgICAgdGhpcy5tZXNzYWdlX3E3cjhpdSRfMCA9IHR5cGVvZiBtZXNzYWdlID09PSAndW5kZWZpbmVkJyAmJiB0bXAkICE9IG51bGwgPyBLb3RsaW4udG9TdHJpbmcodG1wJCkgOiBtZXNzYWdlO1xuICAgICAgdGhpcy5jYXVzZV91czlqMGMkXzAgPSB0bXAkO1xuICAgICAgS290bGluLmNhcHR1cmVTdGFjayhUaHJvd2FibGUsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ0Vycm9yJztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVycm9yXzAucHJvdG90eXBlLCAnbWVzc2FnZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VfcTdyOGl1JF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXJyb3JfMC5wcm90b3R5cGUsICdjYXVzZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhdXNlX3VzOWowYyRfMDtcbiAgICB9fSk7XG4gICAgRXJyb3JfMC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdFcnJvcicsIGludGVyZmFjZXM6IFtUaHJvd2FibGVdfTtcbiAgICBmdW5jdGlvbiBFcnJvcl9pbml0XzAobWVzc2FnZSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShFcnJvcl8wLnByb3RvdHlwZSk7XG4gICAgICBFcnJvcl8wLmNhbGwoJHRoaXMsIG1lc3NhZ2UsIG51bGwpO1xuICAgICAgZ2V0X2pzKGdldEtDbGFzcyhFcnJvcl8wKSkuY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgVGhyb3dhYmxlLmNhbGwodGhpcyk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBjYXVzZSAhPSBudWxsID8gY2F1c2UgOiBudWxsO1xuICAgICAgdGhpcy5tZXNzYWdlXzh5cDd1biRfMCA9IHR5cGVvZiBtZXNzYWdlID09PSAndW5kZWZpbmVkJyAmJiB0bXAkICE9IG51bGwgPyBLb3RsaW4udG9TdHJpbmcodG1wJCkgOiBtZXNzYWdlO1xuICAgICAgdGhpcy5jYXVzZV90aDBqZHYkXzAgPSB0bXAkO1xuICAgICAgS290bGluLmNhcHR1cmVTdGFjayhUaHJvd2FibGUsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ0V4Y2VwdGlvbic7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24ucHJvdG90eXBlLCAnbWVzc2FnZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VfOHlwN3VuJF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXhjZXB0aW9uLnByb3RvdHlwZSwgJ2NhdXNlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2F1c2VfdGgwamR2JF8wO1xuICAgIH19KTtcbiAgICBFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1Rocm93YWJsZV19O1xuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbl9pbml0KCR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBFeGNlcHRpb24uY2FsbCgkdGhpcywgbnVsbCwgbnVsbCk7XG4gICAgICBnZXRfanMoZ2V0S0NsYXNzKEV4Y2VwdGlvbikpLmNhbGwoJHRoaXMsIG51bGwsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSdW50aW1lRXhjZXB0aW9uKG1lc3NhZ2UsIGNhdXNlKSB7XG4gICAgICBFeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICB0aGlzLm5hbWUgPSAnUnVudGltZUV4Y2VwdGlvbic7XG4gICAgfVxuICAgIFJ1bnRpbWVFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUnVudGltZUV4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBSdW50aW1lRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFJ1bnRpbWVFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb24uY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbi5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICAgIHRoaXMubmFtZSA9ICdJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuICAgIH1cbiAgICBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24uY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbi5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICAgIHRoaXMubmFtZSA9ICdJbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuICAgIH1cbiAgICBJbGxlZ2FsU3RhdGVFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSWxsZWdhbFN0YXRlRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBJbGxlZ2FsU3RhdGVFeGNlcHRpb24uY2FsbCgkdGhpcywgbWVzc2FnZSwgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZSwgdGhpcyk7XG4gICAgICB0aGlzLm5hbWUgPSAnSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbic7XG4gICAgfVxuICAgIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24obWVzc2FnZSwgY2F1c2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICB0aGlzLm5hbWUgPSAnVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24nO1xuICAgIH1cbiAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uLmNhbGwoJHRoaXMsIG1lc3NhZ2UsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBOdW1iZXJGb3JtYXRFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCB0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdOdW1iZXJGb3JtYXRFeGNlcHRpb24nO1xuICAgIH1cbiAgICBOdW1iZXJGb3JtYXRFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTnVtYmVyRm9ybWF0RXhjZXB0aW9uJywgaW50ZXJmYWNlczogW0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl19O1xuICAgIGZ1bmN0aW9uIE51bGxQb2ludGVyRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ051bGxQb2ludGVyRXhjZXB0aW9uJztcbiAgICB9XG4gICAgTnVsbFBvaW50ZXJFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTnVsbFBvaW50ZXJFeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbUnVudGltZUV4Y2VwdGlvbl19O1xuICAgIGZ1bmN0aW9uIENsYXNzQ2FzdEV4Y2VwdGlvbihtZXNzYWdlKSB7XG4gICAgICBSdW50aW1lRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCB0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdDbGFzc0Nhc3RFeGNlcHRpb24nO1xuICAgIH1cbiAgICBDbGFzc0Nhc3RFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ2xhc3NDYXN0RXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UsIHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ05vU3VjaEVsZW1lbnRFeGNlcHRpb24nO1xuICAgIH1cbiAgICBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ05vU3VjaEVsZW1lbnRFeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbUnVudGltZUV4Y2VwdGlvbl19O1xuICAgIGZ1bmN0aW9uIE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKE5vU3VjaEVsZW1lbnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICAgIE5vU3VjaEVsZW1lbnRFeGNlcHRpb24uY2FsbCgkdGhpcywgbnVsbCk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEFyaXRobWV0aWNFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZSwgdGhpcyk7XG4gICAgICB0aGlzLm5hbWUgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7XG4gICAgfVxuICAgIEFyaXRobWV0aWNFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQXJpdGhtZXRpY0V4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgUnVudGltZUV4Y2VwdGlvbi5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICAgIHRoaXMubmFtZSA9ICdOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uJztcbiAgICB9XG4gICAgTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgICBmdW5jdGlvbiBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uX2luaXQoJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gICAgICBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uLmNhbGwoJHRoaXMsIG51bGwsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb24obWVzc2FnZSwgY2F1c2UpIHtcbiAgICAgIFJ1bnRpbWVFeGNlcHRpb24uY2FsbCh0aGlzLCBtZXNzYWdlLCBjYXVzZSk7XG4gICAgICB0aGlzLm5hbWUgPSAnVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uJztcbiAgICB9XG4gICAgVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1VuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtSdW50aW1lRXhjZXB0aW9uXX07XG4gICAgZnVuY3Rpb24gVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uX2luaXRfMChtZXNzYWdlLCAkdGhpcykge1xuICAgICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKFVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICAgICAgVW5pbml0aWFsaXplZFByb3BlcnR5QWNjZXNzRXhjZXB0aW9uLmNhbGwoJHRoaXMsIG1lc3NhZ2UsIG51bGwpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBTZXJpYWxpemFibGUoKSB7XG4gICAgfVxuICAgIFNlcmlhbGl6YWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnU2VyaWFsaXphYmxlJywgaW50ZXJmYWNlczogW119O1xuICAgIGZ1bmN0aW9uIGpzb24ocGFpcnMpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgZm9yICh0bXAkID0gMDsgdG1wJCAhPT0gcGFpcnMubGVuZ3RoOyArK3RtcCQpIHtcbiAgICAgICAgdmFyIHRtcCRfMCA9IHBhaXJzW3RtcCRdO1xuICAgICAgICB2YXIgbmFtZSA9IHRtcCRfMC5jb21wb25lbnQxKCksIHZhbHVlID0gdG1wJF8wLmNvbXBvbmVudDIoKTtcbiAgICAgICAgcmVzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByb3VuZCh4KSB7XG4gICAgICBpZiAoeCAlIDAuNSAhPT0gMC4wKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHgpO1xuICAgICAgfVxuICAgICAgdmFyIGZsb29yID0gTWF0aF8wLmZsb29yKHgpO1xuICAgICAgcmV0dXJuIGZsb29yICUgMiA9PT0gMC4wID8gZmxvb3IgOiBNYXRoXzAuY2VpbCh4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNOYU5fMCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIgIT09ICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNOYU5fMSgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIgIT09ICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNJbmZpbml0ZSgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIgPT09IGtvdGxpbl9qc19pbnRlcm5hbF9Eb3VibGVDb21wYW5pb25PYmplY3QuUE9TSVRJVkVfSU5GSU5JVFkgfHwgJHJlY2VpdmVyID09PSBrb3RsaW5fanNfaW50ZXJuYWxfRG91YmxlQ29tcGFuaW9uT2JqZWN0Lk5FR0FUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0luZmluaXRlXzAoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyID09PSBrb3RsaW5fanNfaW50ZXJuYWxfRmxvYXRDb21wYW5pb25PYmplY3QuUE9TSVRJVkVfSU5GSU5JVFkgfHwgJHJlY2VpdmVyID09PSBrb3RsaW5fanNfaW50ZXJuYWxfRmxvYXRDb21wYW5pb25PYmplY3QuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzRmluaXRlKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuICFpc0luZmluaXRlKCRyZWNlaXZlcikgJiYgIWlzTmFOXzAoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNGaW5pdGVfMCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAhaXNJbmZpbml0ZV8wKCRyZWNlaXZlcikgJiYgIWlzTmFOXzEoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgdmFyIElOVl8yXzI2O1xuICAgIHZhciBJTlZfMl81MztcbiAgICBmdW5jdGlvbiBnZXRfanMoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAoS290bGluLmlzVHlwZSh0bXAkID0gJHJlY2VpdmVyLCBLQ2xhc3NJbXBsKSA/IHRtcCQgOiB0aHJvd0NDRV8wKCkpLmpDbGFzcztcbiAgICB9XG4gICAgZnVuY3Rpb24gS0NsYXNzSW1wbChqQ2xhc3MpIHtcbiAgICAgIHRoaXMuakNsYXNzXzFwcGF0eCRfMCA9IGpDbGFzcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnakNsYXNzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuakNsYXNzXzFwcGF0eCRfMDtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnYW5ub3RhdGlvbnMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdjb25zdHJ1Y3RvcnMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdpc0Fic3RyYWN0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnaXNDb21wYW5pb24nLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdpc0RhdGEnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdpc0ZpbmFsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnaXNJbm5lcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ2lzT3BlbicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ2lzU2VhbGVkJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAnbWVtYmVycycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ25lc3RlZENsYXNzZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdvYmplY3RJbnN0YW5jZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ3F1YWxpZmllZE5hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdzdXBlcnR5cGVzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAndHlwZVBhcmFtZXRlcnMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcigpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoS0NsYXNzSW1wbC5wcm90b3R5cGUsICdzZWFsZWRTdWJjbGFzc2VzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3IoKTtcbiAgICB9fSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtDbGFzc0ltcGwucHJvdG90eXBlLCAndmlzaWJpbGl0eScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yKCk7XG4gICAgfX0pO1xuICAgIEtDbGFzc0ltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIEtDbGFzc0ltcGwpICYmIGVxdWFscyh0aGlzLmpDbGFzcywgb3RoZXIuakNsYXNzKTtcbiAgICB9O1xuICAgIEtDbGFzc0ltcGwucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIHJldHVybiAodG1wJF8wID0gKHRtcCQgPSB0aGlzLnNpbXBsZU5hbWUpICE9IG51bGwgPyBoYXNoQ29kZSh0bXAkKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiAwO1xuICAgIH07XG4gICAgS0NsYXNzSW1wbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ2NsYXNzICcgKyB0b1N0cmluZyh0aGlzLnNpbXBsZU5hbWUpO1xuICAgIH07XG4gICAgS0NsYXNzSW1wbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdLQ2xhc3NJbXBsJywgaW50ZXJmYWNlczogW0tDbGFzc119O1xuICAgIGZ1bmN0aW9uIFNpbXBsZUtDbGFzc0ltcGwoakNsYXNzKSB7XG4gICAgICBLQ2xhc3NJbXBsLmNhbGwodGhpcywgakNsYXNzKTtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdGhpcy5zaW1wbGVOYW1lX203bXhpMCRfMCA9ICh0bXAkID0gakNsYXNzLiRtZXRhZGF0YSQpICE9IG51bGwgPyB0bXAkLnNpbXBsZU5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlS0NsYXNzSW1wbC5wcm90b3R5cGUsICdzaW1wbGVOYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2ltcGxlTmFtZV9tN214aTAkXzA7XG4gICAgfX0pO1xuICAgIFNpbXBsZUtDbGFzc0ltcGwucHJvdG90eXBlLmlzSW5zdGFuY2VfczhqeXY0JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIGpzQ2xhc3MgPSB0aGlzLmpDbGFzcztcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHZhbHVlLCBqc0NsYXNzKTtcbiAgICB9O1xuICAgIFNpbXBsZUtDbGFzc0ltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU2ltcGxlS0NsYXNzSW1wbCcsIGludGVyZmFjZXM6IFtLQ2xhc3NJbXBsXX07XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlS0NsYXNzSW1wbChqQ2xhc3MsIGdpdmVuU2ltcGxlTmFtZSwgaXNJbnN0YW5jZUZ1bmN0aW9uKSB7XG4gICAgICBLQ2xhc3NJbXBsLmNhbGwodGhpcywgakNsYXNzKTtcbiAgICAgIHRoaXMuZ2l2ZW5TaW1wbGVOYW1lXzAgPSBnaXZlblNpbXBsZU5hbWU7XG4gICAgICB0aGlzLmlzSW5zdGFuY2VGdW5jdGlvbl8wID0gaXNJbnN0YW5jZUZ1bmN0aW9uO1xuICAgIH1cbiAgICBQcmltaXRpdmVLQ2xhc3NJbXBsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIGlmICghS290bGluLmlzVHlwZShvdGhlciwgUHJpbWl0aXZlS0NsYXNzSW1wbCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBLQ2xhc3NJbXBsLnByb3RvdHlwZS5lcXVhbHMuY2FsbCh0aGlzLCBvdGhlcikgJiYgZXF1YWxzKHRoaXMuZ2l2ZW5TaW1wbGVOYW1lXzAsIG90aGVyLmdpdmVuU2ltcGxlTmFtZV8wKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVLQ2xhc3NJbXBsLnByb3RvdHlwZSwgJ3NpbXBsZU5hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5naXZlblNpbXBsZU5hbWVfMDtcbiAgICB9fSk7XG4gICAgUHJpbWl0aXZlS0NsYXNzSW1wbC5wcm90b3R5cGUuaXNJbnN0YW5jZV9zOGp5djQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0luc3RhbmNlRnVuY3Rpb25fMCh2YWx1ZSk7XG4gICAgfTtcbiAgICBQcmltaXRpdmVLQ2xhc3NJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1ByaW1pdGl2ZUtDbGFzc0ltcGwnLCBpbnRlcmZhY2VzOiBbS0NsYXNzSW1wbF19O1xuICAgIGZ1bmN0aW9uIE5vdGhpbmdLQ2xhc3NJbXBsKCkge1xuICAgICAgTm90aGluZ0tDbGFzc0ltcGxfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgS0NsYXNzSW1wbC5jYWxsKHRoaXMsIE9iamVjdCk7XG4gICAgICB0aGlzLnNpbXBsZU5hbWVfbG56eTczJF8wID0gJ05vdGhpbmcnO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLCAnc2ltcGxlTmFtZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpbXBsZU5hbWVfbG56eTczJF8wO1xuICAgIH19KTtcbiAgICBOb3RoaW5nS0NsYXNzSW1wbC5wcm90b3R5cGUuaXNJbnN0YW5jZV9zOGp5djQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLCAnakNsYXNzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF8wKFwiVGhlcmUncyBubyBuYXRpdmUgSlMgY2xhc3MgZm9yIE5vdGhpbmcgdHlwZVwiKTtcbiAgICB9fSk7XG4gICAgTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIG90aGVyID09PSB0aGlzO1xuICAgIH07XG4gICAgTm90aGluZ0tDbGFzc0ltcGwucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBOb3RoaW5nS0NsYXNzSW1wbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTm90aGluZ0tDbGFzc0ltcGwnLCBpbnRlcmZhY2VzOiBbS0NsYXNzSW1wbF19O1xuICAgIHZhciBOb3RoaW5nS0NsYXNzSW1wbF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gTm90aGluZ0tDbGFzc0ltcGxfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoTm90aGluZ0tDbGFzc0ltcGxfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IE5vdGhpbmdLQ2xhc3NJbXBsKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gTm90aGluZ0tDbGFzc0ltcGxfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMoKSB7XG4gICAgICBQcmltaXRpdmVDbGFzc2VzX2luc3RhbmNlID0gdGhpcztcbiAgICAgIHRoaXMuYW55Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChPYmplY3QsICdBbnknLCBQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLm51bWJlckNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoTnVtYmVyLCAnTnVtYmVyJywgUHJpbWl0aXZlQ2xhc3NlcyRudW1iZXJDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5ub3RoaW5nQ2xhc3MgPSBOb3RoaW5nS0NsYXNzSW1wbF9nZXRJbnN0YW5jZSgpO1xuICAgICAgdGhpcy5ib29sZWFuQ2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChCb29sZWFuLCAnQm9vbGVhbicsIFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmJ5dGVDbGFzcyA9IG5ldyBQcmltaXRpdmVLQ2xhc3NJbXBsKE51bWJlciwgJ0J5dGUnLCBQcmltaXRpdmVDbGFzc2VzJGJ5dGVDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5zaG9ydENsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoTnVtYmVyLCAnU2hvcnQnLCBQcmltaXRpdmVDbGFzc2VzJHNob3J0Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuaW50Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChOdW1iZXIsICdJbnQnLCBQcmltaXRpdmVDbGFzc2VzJGludENsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmZsb2F0Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChOdW1iZXIsICdGbG9hdCcsIFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5kb3VibGVDbGFzcyA9IG5ldyBQcmltaXRpdmVLQ2xhc3NJbXBsKE51bWJlciwgJ0RvdWJsZScsIFByaW1pdGl2ZUNsYXNzZXMkZG91YmxlQ2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuYXJyYXlDbGFzcyA9IG5ldyBQcmltaXRpdmVLQ2xhc3NJbXBsKEFycmF5LCAnQXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGFycmF5Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuc3RyaW5nQ2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChTdHJpbmcsICdTdHJpbmcnLCBQcmltaXRpdmVDbGFzc2VzJHN0cmluZ0NsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLnRocm93YWJsZUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoRXJyb3IsICdUaHJvd2FibGUnLCBQcmltaXRpdmVDbGFzc2VzJHRocm93YWJsZUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmJvb2xlYW5BcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoQXJyYXksICdCb29sZWFuQXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGJvb2xlYW5BcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmNoYXJBcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoVWludDE2QXJyYXksICdDaGFyQXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGNoYXJBcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmJ5dGVBcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoSW50OEFycmF5LCAnQnl0ZUFycmF5JywgUHJpbWl0aXZlQ2xhc3NlcyRieXRlQXJyYXlDbGFzcyRsYW1iZGEpO1xuICAgICAgdGhpcy5zaG9ydEFycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChJbnQxNkFycmF5LCAnU2hvcnRBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRBcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmludEFycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChJbnQzMkFycmF5LCAnSW50QXJyYXknLCBQcmltaXRpdmVDbGFzc2VzJGludEFycmF5Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMubG9uZ0FycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChBcnJheSwgJ0xvbmdBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkbG9uZ0FycmF5Q2xhc3MkbGFtYmRhKTtcbiAgICAgIHRoaXMuZmxvYXRBcnJheUNsYXNzID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoRmxvYXQzMkFycmF5LCAnRmxvYXRBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRBcnJheUNsYXNzJGxhbWJkYSk7XG4gICAgICB0aGlzLmRvdWJsZUFycmF5Q2xhc3MgPSBuZXcgUHJpbWl0aXZlS0NsYXNzSW1wbChGbG9hdDY0QXJyYXksICdEb3VibGVBcnJheScsIFByaW1pdGl2ZUNsYXNzZXMkZG91YmxlQXJyYXlDbGFzcyRsYW1iZGEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGZ1bmN0aW9uQ2xhc3MkbGFtYmRhJGxhbWJkYShjbG9zdXJlJGFyaXR5KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbicgJiYgaXQubGVuZ3RoID09PSBjbG9zdXJlJGFyaXR5O1xuICAgICAgfTtcbiAgICB9XG4gICAgUHJpbWl0aXZlQ2xhc3Nlcy5wcm90b3R5cGUuZnVuY3Rpb25DbGFzcyA9IGZ1bmN0aW9uIChhcml0eSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgdG1wJF8wO1xuICAgICAgaWYgKCh0bXAkID0gZnVuY3Rpb25DbGFzc2VzW2FyaXR5XSkgIT0gbnVsbClcbiAgICAgICAgdG1wJF8wID0gdG1wJDtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFByaW1pdGl2ZUtDbGFzc0ltcGwoRnVuY3Rpb24sICdGdW5jdGlvbicgKyBhcml0eSwgUHJpbWl0aXZlQ2xhc3NlcyRmdW5jdGlvbkNsYXNzJGxhbWJkYSRsYW1iZGEoYXJpdHkpKTtcbiAgICAgICAgZnVuY3Rpb25DbGFzc2VzW2FyaXR5XSA9IHJlc3VsdDtcbiAgICAgICAgdG1wJF8wID0gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCRfMDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShpdCwgQW55KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRudW1iZXJDbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNOdW1iZXIoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGJvb2xlYW5DbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaXQgPT09ICdib29sZWFuJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRieXRlQ2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRzaG9ydENsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ251bWJlcic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkaW50Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRmbG9hdENsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ251bWJlcic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkZG91YmxlQ2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnbnVtYmVyJztcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRhcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0FycmF5KGl0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRzdHJpbmdDbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaXQgPT09ICdzdHJpbmcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJHRocm93YWJsZUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUoaXQsIFRocm93YWJsZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkFycmF5Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzQm9vbGVhbkFycmF5KGl0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhc3NlcyRjaGFyQXJyYXlDbGFzcyRsYW1iZGEoaXQpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNDaGFyQXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGJ5dGVBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0J5dGVBcnJheShpdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1Nob3J0QXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGludEFycmF5Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzSW50QXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGxvbmdBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0xvbmdBcnJheShpdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRBcnJheUNsYXNzJGxhbWJkYShpdCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc0Zsb2F0QXJyYXkoaXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzJGRvdWJsZUFycmF5Q2xhc3MkbGFtYmRhKGl0KSB7XG4gICAgICByZXR1cm4gS290bGluLmlzRG91YmxlQXJyYXkoaXQpO1xuICAgIH1cbiAgICBQcmltaXRpdmVDbGFzc2VzLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdQcmltaXRpdmVDbGFzc2VzJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBQcmltaXRpdmVDbGFzc2VzX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKFByaW1pdGl2ZUNsYXNzZXNfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFByaW1pdGl2ZUNsYXNzZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcmltaXRpdmVDbGFzc2VzX2luc3RhbmNlO1xuICAgIH1cbiAgICB2YXIgZnVuY3Rpb25DbGFzc2VzO1xuICAgIGZ1bmN0aW9uIGdldEtDbGFzcyhqQ2xhc3MpIHtcbiAgICAgIHJldHVybiBnZXRPckNyZWF0ZUtDbGFzcyhqQ2xhc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbihlKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHN3aXRjaCAodHlwZW9mIGUpIHtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLnN0cmluZ0NsYXNzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIHRtcCQgPSAoZSB8IDApID09PSBlID8gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmludENsYXNzIDogUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmRvdWJsZUNsYXNzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmJvb2xlYW5DbGFzcztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuZnVuY3Rpb25DbGFzcyhlLmxlbmd0aCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6aWYgKEtvdGxpbi5pc0Jvb2xlYW5BcnJheShlKSlcbiAgICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuYm9vbGVhbkFycmF5Q2xhc3M7XG4gICAgICAgICAgZWxzZSBpZiAoS290bGluLmlzQ2hhckFycmF5KGUpKVxuICAgICAgICAgICAgdG1wJCA9IFByaW1pdGl2ZUNsYXNzZXNfZ2V0SW5zdGFuY2UoKS5jaGFyQXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNCeXRlQXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmJ5dGVBcnJheUNsYXNzO1xuICAgICAgICAgIGVsc2UgaWYgKEtvdGxpbi5pc1Nob3J0QXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLnNob3J0QXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNJbnRBcnJheShlKSlcbiAgICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuaW50QXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNMb25nQXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmxvbmdBcnJheUNsYXNzO1xuICAgICAgICAgIGVsc2UgaWYgKEtvdGxpbi5pc0Zsb2F0QXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmZsb2F0QXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNEb3VibGVBcnJheShlKSlcbiAgICAgICAgICAgIHRtcCQgPSBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlKCkuZG91YmxlQXJyYXlDbGFzcztcbiAgICAgICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKGUsIEtDbGFzcykpXG4gICAgICAgICAgICB0bXAkID0gZ2V0S0NsYXNzKEtDbGFzcyk7XG4gICAgICAgICAgZWxzZSBpZiAoS290bGluLmlzQXJyYXkoZSkpXG4gICAgICAgICAgICB0bXAkID0gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLmFycmF5Q2xhc3M7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29uc3RydWN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY29uc3RydWN0b3I7XG4gICAgICAgICAgICBpZiAoY29uc3RydWN0b3IgPT09IE9iamVjdClcbiAgICAgICAgICAgICAgdG1wJCA9IFByaW1pdGl2ZUNsYXNzZXNfZ2V0SW5zdGFuY2UoKS5hbnlDbGFzcztcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnN0cnVjdG9yID09PSBFcnJvcilcbiAgICAgICAgICAgICAgdG1wJCA9IFByaW1pdGl2ZUNsYXNzZXNfZ2V0SW5zdGFuY2UoKS50aHJvd2FibGVDbGFzcztcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB2YXIganNDbGFzcyA9IGNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICB0bXAkID0gZ2V0T3JDcmVhdGVLQ2xhc3MoanNDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3JDcmVhdGVLQ2xhc3MoakNsYXNzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmIChqQ2xhc3MgPT09IFN0cmluZykge1xuICAgICAgICByZXR1cm4gUHJpbWl0aXZlQ2xhc3Nlc19nZXRJbnN0YW5jZSgpLnN0cmluZ0NsYXNzO1xuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gakNsYXNzLiRtZXRhZGF0YSQ7XG4gICAgICBpZiAobWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICBpZiAobWV0YWRhdGEuJGtDbGFzcyQgPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBrQ2xhc3MgPSBuZXcgU2ltcGxlS0NsYXNzSW1wbChqQ2xhc3MpO1xuICAgICAgICAgIG1ldGFkYXRhLiRrQ2xhc3MkID0ga0NsYXNzO1xuICAgICAgICAgIHRtcCQgPSBrQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRtcCQgPSBtZXRhZGF0YS4ka0NsYXNzJDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkID0gbmV3IFNpbXBsZUtDbGFzc0ltcGwoakNsYXNzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldCgkcmVjZWl2ZXIpIHtcbiAgICAgICRyZWNlaXZlci5sYXN0SW5kZXggPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1doaXRlc3BhY2UoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcyhTdHJpbmcuZnJvbUNoYXJDb2RlKCRyZWNlaXZlciksICdbXFxcXHNcXFxceEEwXScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0Jvb2xlYW4oJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gZXF1YWxzKCRyZWNlaXZlci50b0xvd2VyQ2FzZSgpLCAndHJ1ZScpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0J5dGVfMCgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgcmV0dXJuICh0bXAkID0gdG9CeXRlT3JOdWxsKCRyZWNlaXZlcikpICE9IG51bGwgPyB0bXAkIDogbnVtYmVyRm9ybWF0RXJyb3IoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9TaG9ydF8wKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0b1Nob3J0T3JOdWxsKCRyZWNlaXZlcikpICE9IG51bGwgPyB0bXAkIDogbnVtYmVyRm9ybWF0RXJyb3IoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9JbnQoJHJlY2VpdmVyKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHRvSW50T3JOdWxsKCRyZWNlaXZlcikpICE9IG51bGwgPyB0bXAkIDogbnVtYmVyRm9ybWF0RXJyb3IoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Mb25nKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0b0xvbmdPck51bGwoJHJlY2VpdmVyKSkgIT0gbnVsbCA/IHRtcCQgOiBudW1iZXJGb3JtYXRFcnJvcigkcmVjZWl2ZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0RvdWJsZSgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9ICskcmVjZWl2ZXI7XG4gICAgICBpZiAoaXNOYU5fMCgkcmVjZWl2ZXJfMCkgJiYgIWlzTmFOXzIoJHJlY2VpdmVyKSB8fCAoJHJlY2VpdmVyXzAgPT09IDAuMCAmJiBpc0JsYW5rKCRyZWNlaXZlcikpKVxuICAgICAgICBudW1iZXJGb3JtYXRFcnJvcigkcmVjZWl2ZXIpO1xuICAgICAgcmV0dXJuICRyZWNlaXZlcl8wO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0RvdWJsZU9yTnVsbCgkcmVjZWl2ZXIpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9ICskcmVjZWl2ZXI7XG4gICAgICByZXR1cm4gIShpc05hTl8wKCRyZWNlaXZlcl8wKSAmJiAhaXNOYU5fMigkcmVjZWl2ZXIpIHx8ICgkcmVjZWl2ZXJfMCA9PT0gMC4wICYmIGlzQmxhbmsoJHJlY2VpdmVyKSkpID8gJHJlY2VpdmVyXzAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc05hTl8yKCRyZWNlaXZlcikge1xuICAgICAgc3dpdGNoICgkcmVjZWl2ZXIudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICduYW4nOlxuICAgICAgICBjYXNlICcrbmFuJzpcbiAgICAgICAgY2FzZSAnLW5hbic6XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6cmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja1JhZGl4KHJhZGl4KSB7XG4gICAgICBpZiAoISgyIDw9IHJhZGl4ICYmIHJhZGl4IDw9IDM2KSkge1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKCdyYWRpeCAnICsgcmFkaXggKyAnIHdhcyBub3QgaW4gdmFsaWQgcmFuZ2UgMi4uMzYnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByYWRpeDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlnaXRPZihjaGFyLCByYWRpeCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoY2hhciA+PSA0OCAmJiBjaGFyIDw9IDU3KVxuICAgICAgICB0bXAkID0gY2hhciAtIDQ4O1xuICAgICAgZWxzZSBpZiAoY2hhciA+PSA2NSAmJiBjaGFyIDw9IDkwKVxuICAgICAgICB0bXAkID0gY2hhciAtIDY1ICsgMTAgfCAwO1xuICAgICAgZWxzZSBpZiAoY2hhciA+PSA5NyAmJiBjaGFyIDw9IDEyMilcbiAgICAgICAgdG1wJCA9IGNoYXIgLSA5NyArIDEwIHwgMDtcbiAgICAgIGVsc2VcbiAgICAgICAgdG1wJCA9IC0xO1xuICAgICAgdmFyIGl0ID0gdG1wJDtcbiAgICAgIHJldHVybiBpdCA+PSByYWRpeCA/IC0xIDogaXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlZ2V4T3B0aW9uKG5hbWUsIG9yZGluYWwsIHZhbHVlKSB7XG4gICAgICBFbnVtLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICB0aGlzLm5hbWUkID0gbmFtZTtcbiAgICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWdleE9wdGlvbl9pbml0RmllbGRzKCkge1xuICAgICAgUmVnZXhPcHRpb25faW5pdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIH07XG4gICAgICBSZWdleE9wdGlvbiRJR05PUkVfQ0FTRV9pbnN0YW5jZSA9IG5ldyBSZWdleE9wdGlvbignSUdOT1JFX0NBU0UnLCAwLCAnaScpO1xuICAgICAgUmVnZXhPcHRpb24kTVVMVElMSU5FX2luc3RhbmNlID0gbmV3IFJlZ2V4T3B0aW9uKCdNVUxUSUxJTkUnLCAxLCAnbScpO1xuICAgIH1cbiAgICB2YXIgUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBSZWdleE9wdGlvbl9pbml0RmllbGRzKCk7XG4gICAgICByZXR1cm4gUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfaW5zdGFuY2U7XG4gICAgfVxuICAgIHZhciBSZWdleE9wdGlvbiRNVUxUSUxJTkVfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gUmVnZXhPcHRpb24kTVVMVElMSU5FX2dldEluc3RhbmNlKCkge1xuICAgICAgUmVnZXhPcHRpb25faW5pdEZpZWxkcygpO1xuICAgICAgcmV0dXJuIFJlZ2V4T3B0aW9uJE1VTFRJTElORV9pbnN0YW5jZTtcbiAgICB9XG4gICAgUmVnZXhPcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUmVnZXhPcHRpb24nLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICAgIGZ1bmN0aW9uIFJlZ2V4T3B0aW9uJHZhbHVlcygpIHtcbiAgICAgIHJldHVybiBbUmVnZXhPcHRpb24kSUdOT1JFX0NBU0VfZ2V0SW5zdGFuY2UoKSwgUmVnZXhPcHRpb24kTVVMVElMSU5FX2dldEluc3RhbmNlKCldO1xuICAgIH1cbiAgICBSZWdleE9wdGlvbi52YWx1ZXMgPSBSZWdleE9wdGlvbiR2YWx1ZXM7XG4gICAgZnVuY3Rpb24gUmVnZXhPcHRpb24kdmFsdWVPZihuYW1lKSB7XG4gICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSAnSUdOT1JFX0NBU0UnOlxuICAgICAgICAgIHJldHVybiBSZWdleE9wdGlvbiRJR05PUkVfQ0FTRV9nZXRJbnN0YW5jZSgpO1xuICAgICAgICBjYXNlICdNVUxUSUxJTkUnOlxuICAgICAgICAgIHJldHVybiBSZWdleE9wdGlvbiRNVUxUSUxJTkVfZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgZGVmYXVsdDp0aHJvd0lTRSgnTm8gZW51bSBjb25zdGFudCBrb3RsaW4udGV4dC5SZWdleE9wdGlvbi4nICsgbmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFJlZ2V4T3B0aW9uLnZhbHVlT2ZfNjF6cG9lJCA9IFJlZ2V4T3B0aW9uJHZhbHVlT2Y7XG4gICAgZnVuY3Rpb24gTWF0Y2hHcm91cCh2YWx1ZSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBNYXRjaEdyb3VwLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ01hdGNoR3JvdXAnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgTWF0Y2hHcm91cC5wcm90b3R5cGUuY29tcG9uZW50MSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH07XG4gICAgTWF0Y2hHcm91cC5wcm90b3R5cGUuY29weV82MXpwb2UkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmV3IE1hdGNoR3JvdXAodmFsdWUgPT09IHZvaWQgMCA/IHRoaXMudmFsdWUgOiB2YWx1ZSk7XG4gICAgfTtcbiAgICBNYXRjaEdyb3VwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnTWF0Y2hHcm91cCh2YWx1ZT0nICsgS290bGluLnRvU3RyaW5nKHRoaXMudmFsdWUpICsgJyknO1xuICAgIH07XG4gICAgTWF0Y2hHcm91cC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMudmFsdWUpIHwgMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNYXRjaEdyb3VwLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudmFsdWUsIG90aGVyLnZhbHVlKSkpKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFJlZ2V4KHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICAgIFJlZ2V4JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHRvU2V0Xzgob3B0aW9ucyk7XG4gICAgICB2YXIgZGVzdGluYXRpb24gPSBBcnJheUxpc3RfaW5pdF8wKGNvbGxlY3Rpb25TaXplT3JEZWZhdWx0KG9wdGlvbnMsIDEwKSk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSBvcHRpb25zLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKGl0ZW0udmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYXRpdmVQYXR0ZXJuXzAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sIGpvaW5Ub1N0cmluZ184KGRlc3RpbmF0aW9uLCAnJykgKyAnZycpO1xuICAgIH1cbiAgICBSZWdleC5wcm90b3R5cGUubWF0Y2hlc182YnVsMmMkID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICByZXNldCh0aGlzLm5hdGl2ZVBhdHRlcm5fMCk7XG4gICAgICB2YXIgbWF0Y2ggPSB0aGlzLm5hdGl2ZVBhdHRlcm5fMC5leGVjKGlucHV0LnRvU3RyaW5nKCkpO1xuICAgICAgcmV0dXJuIG1hdGNoICE9IG51bGwgJiYgbWF0Y2guaW5kZXggPT09IDAgJiYgdGhpcy5uYXRpdmVQYXR0ZXJuXzAubGFzdEluZGV4ID09PSBpbnB1dC5sZW5ndGg7XG4gICAgfTtcbiAgICBSZWdleC5wcm90b3R5cGUuY29udGFpbnNNYXRjaEluXzZidWwyYyQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgIHJlc2V0KHRoaXMubmF0aXZlUGF0dGVybl8wKTtcbiAgICAgIHJldHVybiB0aGlzLm5hdGl2ZVBhdHRlcm5fMC50ZXN0KGlucHV0LnRvU3RyaW5nKCkpO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLmZpbmRfOTA1YXp1JCA9IGZ1bmN0aW9uIChpbnB1dCwgc3RhcnRJbmRleCkge1xuICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMClcbiAgICAgICAgc3RhcnRJbmRleCA9IDA7XG4gICAgICByZXR1cm4gZmluZE5leHQodGhpcy5uYXRpdmVQYXR0ZXJuXzAsIGlucHV0LnRvU3RyaW5nKCksIHN0YXJ0SW5kZXgpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gUmVnZXgkZmluZEFsbCRsYW1iZGEoY2xvc3VyZSRpbnB1dCwgY2xvc3VyZSRzdGFydEluZGV4LCB0aGlzJFJlZ2V4KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcyRSZWdleC5maW5kXzkwNWF6dSQoY2xvc3VyZSRpbnB1dCwgY2xvc3VyZSRzdGFydEluZGV4KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlZ2V4JGZpbmRBbGwkbGFtYmRhXzAobWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXRjaC5uZXh0KCk7XG4gICAgfVxuICAgIFJlZ2V4LnByb3RvdHlwZS5maW5kQWxsXzkwNWF6dSQgPSBmdW5jdGlvbiAoaW5wdXQsIHN0YXJ0SW5kZXgpIHtcbiAgICAgIGlmIChzdGFydEluZGV4ID09PSB2b2lkIDApXG4gICAgICAgIHN0YXJ0SW5kZXggPSAwO1xuICAgICAgcmV0dXJuIGdlbmVyYXRlU2VxdWVuY2VfMShSZWdleCRmaW5kQWxsJGxhbWJkYShpbnB1dCwgc3RhcnRJbmRleCwgdGhpcyksIFJlZ2V4JGZpbmRBbGwkbGFtYmRhXzApO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLm1hdGNoRW50aXJlXzZidWwyYyQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgIGlmIChzdGFydHNXaXRoXzEodGhpcy5wYXR0ZXJuLCA5NCkgJiYgZW5kc1dpdGhfMCh0aGlzLnBhdHRlcm4sIDM2KSlcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZF85MDVhenUkKGlucHV0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIChuZXcgUmVnZXgoJ14nICsgdHJpbUVuZF8yKHRyaW1TdGFydF8yKHRoaXMucGF0dGVybiwgS290bGluLmNoYXJBcnJheU9mKDk0KSksIEtvdGxpbi5jaGFyQXJyYXlPZigzNikpICsgJyQnLCB0aGlzLm9wdGlvbnMpKS5maW5kXzkwNWF6dSQoaW5wdXQpO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLnJlcGxhY2VfeDJ1cWV1JCA9IGZ1bmN0aW9uIChpbnB1dCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpLnJlcGxhY2UodGhpcy5uYXRpdmVQYXR0ZXJuXzAsIHJlcGxhY2VtZW50KTtcbiAgICB9O1xuICAgIFJlZ2V4LnByb3RvdHlwZS5yZXBsYWNlXzIwd3NtYSQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0LlJlZ2V4LnJlcGxhY2VfMjB3c21hJCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgU3RyaW5nQnVpbGRlcl9pbml0ID0gXy5rb3RsaW4udGV4dC5TdHJpbmdCdWlsZGVyX2luaXRfemEzbHBhJDtcbiAgICAgIHZhciBlbnN1cmVOb3ROdWxsID0gS290bGluLmVuc3VyZU5vdE51bGw7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5maW5kXzkwNWF6dSQoaW5wdXQpO1xuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbClcbiAgICAgICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIGxhc3RTdGFydCA9IDA7XG4gICAgICAgIHZhciBsZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIHZhciBzYiA9IFN0cmluZ0J1aWxkZXJfaW5pdChsZW5ndGgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyIGZvdW5kTWF0Y2ggPSBlbnN1cmVOb3ROdWxsKG1hdGNoKTtcbiAgICAgICAgICBzYi5hcHBlbmRfZXpic2RoJChpbnB1dCwgbGFzdFN0YXJ0LCBmb3VuZE1hdGNoLnJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICBzYi5hcHBlbmRfZ3cwMHY5JCh0cmFuc2Zvcm0oZm91bmRNYXRjaCkpO1xuICAgICAgICAgIGxhc3RTdGFydCA9IGZvdW5kTWF0Y2gucmFuZ2UuZW5kSW5jbHVzaXZlICsgMSB8IDA7XG4gICAgICAgICAgbWF0Y2ggPSBmb3VuZE1hdGNoLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICAgd2hpbGUgKGxhc3RTdGFydCA8IGxlbmd0aCAmJiBtYXRjaCAhPSBudWxsKTtcbiAgICAgICAgaWYgKGxhc3RTdGFydCA8IGxlbmd0aCkge1xuICAgICAgICAgIHNiLmFwcGVuZF9lemJzZGgkKGlucHV0LCBsYXN0U3RhcnQsIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG4gICAgICB9O1xuICAgIH0pKTtcbiAgICBSZWdleC5wcm90b3R5cGUucmVwbGFjZUZpcnN0X3gydXFldSQgPSBmdW5jdGlvbiAoaW5wdXQsIHJlcGxhY2VtZW50KSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXRfMChjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXIsIDEwKSk7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgaXRlbSA9IHRtcCQubmV4dCgpO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGRfMTFyYiQoaXRlbS52YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YXIgbm9uR2xvYmFsT3B0aW9ucyA9IGpvaW5Ub1N0cmluZ184KGRlc3RpbmF0aW9uLCAnJyk7XG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5wYXR0ZXJuLCBub25HbG9iYWxPcHRpb25zKSwgcmVwbGFjZW1lbnQpO1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLnNwbGl0XzkwNWF6dSQgPSBmdW5jdGlvbiAoaW5wdXQsIGxpbWl0KSB7XG4gICAgICBpZiAobGltaXQgPT09IHZvaWQgMClcbiAgICAgICAgbGltaXQgPSAwO1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAoIShsaW1pdCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdMaW1pdCBtdXN0IGJlIG5vbi1uZWdhdGl2ZSwgYnV0IHdhcyAnICsgbGltaXQ7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdCA9IHRoaXMuZmluZEFsbF85MDVhenUkKGlucHV0KTtcbiAgICAgIHZhciBtYXRjaGVzID0gbGltaXQgPT09IDAgPyBpdCA6IHRha2VfOShpdCwgbGltaXQgLSAxIHwgMCk7XG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICAgIHZhciBsYXN0U3RhcnQgPSAwO1xuICAgICAgdG1wJCA9IG1hdGNoZXMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB0bXAkLm5leHQoKTtcbiAgICAgICAgcmVzdWx0LmFkZF8xMXJiJChLb3RsaW4uc3ViU2VxdWVuY2UoaW5wdXQsIGxhc3RTdGFydCwgbWF0Y2gucmFuZ2Uuc3RhcnQpLnRvU3RyaW5nKCkpO1xuICAgICAgICBsYXN0U3RhcnQgPSBtYXRjaC5yYW5nZS5lbmRJbmNsdXNpdmUgKyAxIHwgMDtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5hZGRfMTFyYiQoS290bGluLnN1YlNlcXVlbmNlKGlucHV0LCBsYXN0U3RhcnQsIGlucHV0Lmxlbmd0aCkudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgUmVnZXgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmF0aXZlUGF0dGVybl8wLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBSZWdleCRDb21wYW5pb24oKSB7XG4gICAgICBSZWdleCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5wYXR0ZXJuRXNjYXBlXzAgPSBuZXcgUmVnRXhwKCdbLVxcXFxcXFxcXiQqKz8uKCl8W1xcXFxde31dJywgJ2cnKTtcbiAgICAgIHRoaXMucmVwbGFjZW1lbnRFc2NhcGVfMCA9IG5ldyBSZWdFeHAoJ1xcXFwkJywgJ2cnKTtcbiAgICB9XG4gICAgUmVnZXgkQ29tcGFuaW9uLnByb3RvdHlwZS5mcm9tTGl0ZXJhbF82MXpwb2UkID0gZnVuY3Rpb24gKGxpdGVyYWwpIHtcbiAgICAgIHJldHVybiBSZWdleF9pbml0XzAodGhpcy5lc2NhcGVfNjF6cG9lJChsaXRlcmFsKSk7XG4gICAgfTtcbiAgICBSZWdleCRDb21wYW5pb24ucHJvdG90eXBlLmVzY2FwZV82MXpwb2UkID0gZnVuY3Rpb24gKGxpdGVyYWwpIHtcbiAgICAgIHJldHVybiBsaXRlcmFsLnJlcGxhY2UodGhpcy5wYXR0ZXJuRXNjYXBlXzAsICdcXFxcJCYnKTtcbiAgICB9O1xuICAgIFJlZ2V4JENvbXBhbmlvbi5wcm90b3R5cGUuZXNjYXBlUmVwbGFjZW1lbnRfNjF6cG9lJCA9IGZ1bmN0aW9uIChsaXRlcmFsKSB7XG4gICAgICByZXR1cm4gbGl0ZXJhbC5yZXBsYWNlKHRoaXMucmVwbGFjZW1lbnRFc2NhcGVfMCwgJyQkJCQnKTtcbiAgICB9O1xuICAgIFJlZ2V4JENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBSZWdleCRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIFJlZ2V4JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChSZWdleCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFJlZ2V4JENvbXBhbmlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlZ2V4JENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgUmVnZXguJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUmVnZXgnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gUmVnZXhfaW5pdChwYXR0ZXJuLCBvcHRpb24sICR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoUmVnZXgucHJvdG90eXBlKTtcbiAgICAgIFJlZ2V4LmNhbGwoJHRoaXMsIHBhdHRlcm4sIHNldE9mKG9wdGlvbikpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWdleF9pbml0XzAocGF0dGVybiwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShSZWdleC5wcm90b3R5cGUpO1xuICAgICAgUmVnZXguY2FsbCgkdGhpcywgcGF0dGVybiwgZW1wdHlTZXQoKSk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwoY2xvc3VyZSRtYXRjaCwgdGhpcyRmaW5kTmV4dCwgY2xvc3VyZSRpbnB1dCwgY2xvc3VyZSRyYW5nZSkge1xuICAgICAgdGhpcy5jbG9zdXJlJG1hdGNoID0gY2xvc3VyZSRtYXRjaDtcbiAgICAgIHRoaXMudGhpcyRmaW5kTmV4dCA9IHRoaXMkZmluZE5leHQ7XG4gICAgICB0aGlzLmNsb3N1cmUkaW5wdXQgPSBjbG9zdXJlJGlucHV0O1xuICAgICAgdGhpcy5jbG9zdXJlJHJhbmdlID0gY2xvc3VyZSRyYW5nZTtcbiAgICAgIHRoaXMucmFuZ2VfY282Yjl3JF8wID0gY2xvc3VyZSRyYW5nZTtcbiAgICAgIHRoaXMuZ3JvdXBzX3FjYXp0YiRfMCA9IG5ldyBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwcyRPYmplY3RMaXRlcmFsKGNsb3N1cmUkbWF0Y2gpO1xuICAgICAgdGhpcy5ncm91cFZhbHVlc19fMCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ3JhbmdlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmFuZ2VfY282Yjl3JF8wO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmluZE5leHQkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUsICd2YWx1ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBlbnN1cmVOb3ROdWxsKHRoaXMuY2xvc3VyZSRtYXRjaFswXSk7XG4gICAgfX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2dyb3VwcycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdyb3Vwc19xY2F6dGIkXzA7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ2V0X2ZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBWYWx1ZXMkT2JqZWN0TGl0ZXJhbChjbG9zdXJlJG1hdGNoKSB7XG4gICAgICB0aGlzLmNsb3N1cmUkbWF0Y2ggPSBjbG9zdXJlJG1hdGNoO1xuICAgICAgQWJzdHJhY3RMaXN0LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkbWF0Y2gubGVuZ3RoO1xuICAgIH19KTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmdldF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiAodG1wJCA9IHRoaXMuY2xvc3VyZSRtYXRjaFtpbmRleF0pICE9IG51bGwgPyB0bXAkIDogJyc7XG4gICAgfTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdldF9maW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwVmFsdWVzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RMaXN0XX07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZpbmROZXh0JE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnZ3JvdXBWYWx1ZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5ncm91cFZhbHVlc19fMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZ3JvdXBWYWx1ZXNfXzAgPSBuZXcgZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRnZXRfZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cFZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMuY2xvc3VyZSRtYXRjaCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW5zdXJlTm90TnVsbCh0aGlzLmdyb3VwVmFsdWVzX18wKTtcbiAgICB9fSk7XG4gICAgZmluZE5leHQkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmaW5kTmV4dCh0aGlzLnRoaXMkZmluZE5leHQsIHRoaXMuY2xvc3VyZSRpbnB1dCwgdGhpcy5jbG9zdXJlJHJhbmdlLmlzRW1wdHkoKSA/IHRoaXMuY2xvc3VyZSRyYW5nZS5zdGFydCArIDEgfCAwIDogdGhpcy5jbG9zdXJlJHJhbmdlLmVuZEluY2x1c2l2ZSArIDEgfCAwKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBzJE9iamVjdExpdGVyYWwoY2xvc3VyZSRtYXRjaCkge1xuICAgICAgdGhpcy5jbG9zdXJlJG1hdGNoID0gY2xvc3VyZSRtYXRjaDtcbiAgICAgIEFic3RyYWN0Q29sbGVjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRtYXRjaC5sZW5ndGg7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0JE9iamVjdExpdGVyYWwkZ3JvdXBzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkbGFtYmRhKHRoaXMkKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzJC5nZXRfemEzbHBhJChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBtYXBfMTAoYXNTZXF1ZW5jZV84KGdldF9pbmRpY2VzXzEyKHRoaXMpKSwgZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRsYW1iZGEodGhpcykpLml0ZXJhdG9yKCk7XG4gICAgfTtcbiAgICBmaW5kTmV4dCRPYmplY3RMaXRlcmFsJGdyb3VwcyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5nZXRfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0aGlzLmNsb3N1cmUkbWF0Y2hbaW5kZXhdKSAhPSBudWxsID8gbmV3IE1hdGNoR3JvdXAodG1wJCkgOiBudWxsO1xuICAgIH07XG4gICAgZmluZE5leHQkT2JqZWN0TGl0ZXJhbCRncm91cHMkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtBYnN0cmFjdENvbGxlY3Rpb24sIE1hdGNoR3JvdXBDb2xsZWN0aW9uXX07XG4gICAgZmluZE5leHQkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtNYXRjaFJlc3VsdF19O1xuICAgIGZ1bmN0aW9uIGZpbmROZXh0KCRyZWNlaXZlciwgaW5wdXQsIGZyb20pIHtcbiAgICAgICRyZWNlaXZlci5sYXN0SW5kZXggPSBmcm9tO1xuICAgICAgdmFyIG1hdGNoID0gJHJlY2VpdmVyLmV4ZWMoaW5wdXQpO1xuICAgICAgaWYgKG1hdGNoID09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgdmFyIHJhbmdlID0gbmV3IEludFJhbmdlKG1hdGNoLmluZGV4LCAkcmVjZWl2ZXIubGFzdEluZGV4IC0gMSB8IDApO1xuICAgICAgcmV0dXJuIG5ldyBmaW5kTmV4dCRPYmplY3RMaXRlcmFsKG1hdGNoLCAkcmVjZWl2ZXIsIGlucHV0LCByYW5nZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBhcmF0b3IkT2JqZWN0TGl0ZXJhbF8wKGNsb3N1cmUkY29tcGFyaXNvbikge1xuICAgICAgdGhpcy5jbG9zdXJlJGNvbXBhcmlzb24gPSBjbG9zdXJlJGNvbXBhcmlzb247XG4gICAgfVxuICAgIENvbXBhcmF0b3IkT2JqZWN0TGl0ZXJhbF8wLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkY29tcGFyaXNvbihhLCBiKTtcbiAgICB9O1xuICAgIENvbXBhcmF0b3IkT2JqZWN0TGl0ZXJhbF8wLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0NvbXBhcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBTdHJpbmdfMihjaGFycywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKG9mZnNldCA8IDAgfHwgbGVuZ3RoIDwgMCB8fCAoY2hhcnMubGVuZ3RoIC0gb2Zmc2V0IHwgMCkgPCBsZW5ndGgpXG4gICAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKCdzaXplOiAnICsgY2hhcnMubGVuZ3RoICsgJzsgb2Zmc2V0OiAnICsgb2Zmc2V0ICsgJzsgbGVuZ3RoOiAnICsgbGVuZ3RoKTtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIHRtcCQgPSBvZmZzZXQgKyBsZW5ndGggfCAwO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSBvZmZzZXQ7IGluZGV4IDwgdG1wJDsgaW5kZXgrKykge1xuICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZVRvKCRyZWNlaXZlciwgb3RoZXIsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmIChpZ25vcmVDYXNlKSB7XG4gICAgICAgIHZhciBuMSA9ICRyZWNlaXZlci5sZW5ndGg7XG4gICAgICAgIHZhciBuMiA9IG90aGVyLmxlbmd0aDtcbiAgICAgICAgdmFyIG1pbiA9IE1hdGhfMC5taW4objEsIG4yKTtcbiAgICAgICAgaWYgKG1pbiA9PT0gMClcbiAgICAgICAgICByZXR1cm4gbjEgLSBuMiB8IDA7XG4gICAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGVuZCA9IE1hdGhfMC5taW4oc3RhcnQgKyAxNiB8IDAsIG1pbik7XG4gICAgICAgICAgdmFyIHMxID0gJHJlY2VpdmVyLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgICB2YXIgczIgPSBvdGhlci5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgaWYgKCFlcXVhbHMoczEsIHMyKSkge1xuICAgICAgICAgICAgczEgPSBzMS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgczIgPSBzMi50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKCFlcXVhbHMoczEsIHMyKSkge1xuICAgICAgICAgICAgICBzMSA9IHMxLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgIHMyID0gczIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgaWYgKCFlcXVhbHMoczEsIHMyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBLb3RsaW4uY29tcGFyZVRvKHMxLCBzMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVuZCA9PT0gbWluKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgc3RhcnQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4xIC0gbjIgfCAwO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gS290bGluLmNvbXBhcmVUbygkcmVjZWl2ZXIsIG90aGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gU1RSSU5HX0NBU0VfSU5TRU5TSVRJVkVfT1JERVIkbGFtYmRhKGEsIGIpIHtcbiAgICAgIHJldHVybiBjb21wYXJlVG8oYSwgYiwgdHJ1ZSk7XG4gICAgfVxuICAgIHZhciBTVFJJTkdfQ0FTRV9JTlNFTlNJVElWRV9PUkRFUjtcbiAgICBmdW5jdGlvbiBtYXRjaGVzKCRyZWNlaXZlciwgcmVnZXgpIHtcbiAgICAgIHZhciByZXN1bHQgPSAkcmVjZWl2ZXIubWF0Y2gocmVnZXgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCAhPSBudWxsICYmIHJlc3VsdC5sZW5ndGggIT09IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQmxhbmsoJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gJHJlY2VpdmVyLmxlbmd0aCA9PT0gMCB8fCBtYXRjaGVzKHR5cGVvZiAkcmVjZWl2ZXIgPT09ICdzdHJpbmcnID8gJHJlY2VpdmVyIDogJHJlY2VpdmVyLnRvU3RyaW5nKCksICdeW1xcXFxzXFxcXHhBMF0rJCcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlcXVhbHNfMCgkcmVjZWl2ZXIsIG90aGVyLCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICgkcmVjZWl2ZXIgPT0gbnVsbClcbiAgICAgICAgdG1wJCA9IG90aGVyID09IG51bGw7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRtcCRfMDtcbiAgICAgICAgaWYgKCFpZ25vcmVDYXNlKVxuICAgICAgICAgIHRtcCRfMCA9IGVxdWFscygkcmVjZWl2ZXIsIG90aGVyKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHRtcCRfMSA9IG90aGVyICE9IG51bGw7XG4gICAgICAgICAgaWYgKHRtcCRfMSkge1xuICAgICAgICAgICAgdG1wJF8xID0gZXF1YWxzKCRyZWNlaXZlci50b0xvd2VyQ2FzZSgpLCBvdGhlci50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG1wJF8wID0gdG1wJF8xO1xuICAgICAgICB9XG4gICAgICAgIHRtcCQgPSB0bXAkXzA7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG1wJDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaW9uTWF0Y2hlcygkcmVjZWl2ZXIsIHRoaXNPZmZzZXQsIG90aGVyLCBvdGhlck9mZnNldCwgbGVuZ3RoLCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICByZXR1cm4gcmVnaW9uTWF0Y2hlc0ltcGwoJHJlY2VpdmVyLCB0aGlzT2Zmc2V0LCBvdGhlciwgb3RoZXJPZmZzZXQsIGxlbmd0aCwgaWdub3JlQ2FzZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxhY2UoJHJlY2VpdmVyLCBvbGRWYWx1ZSwgbmV3VmFsdWUsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIucmVwbGFjZShuZXcgUmVnRXhwKFJlZ2V4JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmVzY2FwZV82MXpwb2UkKG9sZFZhbHVlKSwgaWdub3JlQ2FzZSA/ICdnaScgOiAnZycpLCBSZWdleCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5lc2NhcGVSZXBsYWNlbWVudF82MXpwb2UkKG5ld1ZhbHVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEFwcGVuZGFibGUoKSB7XG4gICAgfVxuICAgIEFwcGVuZGFibGUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0FwcGVuZGFibGUnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcihjb250ZW50KSB7XG4gICAgICBpZiAoY29udGVudCA9PT0gdm9pZCAwKVxuICAgICAgICBjb250ZW50ID0gJyc7XG4gICAgICB0aGlzLnN0cmluZ18wID0gY29udGVudDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLCAnbGVuZ3RoJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nXzAubGVuZ3RoO1xuICAgIH19KTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5jaGFyQ29kZUF0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5zdHJpbmdfMDtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPD0gZ2V0X2xhc3RJbmRleF8xMygkcmVjZWl2ZXIpKVxuICAgICAgICB0bXAkID0gJHJlY2VpdmVyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKCdpbmRleDogJyArIGluZGV4ICsgJywgbGVuZ3RoOiAnICsgdGhpcy5sZW5ndGggKyAnfScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRtcCQ7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJTZXF1ZW5jZV92dXg5ZjAkID0gZnVuY3Rpb24gKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJpbmdfMC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kX3M4aXR2aCQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgdGhpcy5zdHJpbmdfMCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmRfZ3cwMHY5JCA9IGZ1bmN0aW9uIChjc3EpIHtcbiAgICAgIHRoaXMuc3RyaW5nXzAgKz0gdG9TdHJpbmcoY3NxKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kX2V6YnNkaCQgPSBmdW5jdGlvbiAoY3NxLCBzdGFydCwgZW5kKSB7XG4gICAgICB0aGlzLnN0cmluZ18wICs9IHRvU3RyaW5nKGNzcSkuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmRfczhqeXY0JCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHRoaXMuc3RyaW5nXzAgKz0gdG9TdHJpbmcob2JqKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuc3RyaW5nXzAgPSB0aGlzLnN0cmluZ18wLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zdHJpbmdfMCA9ICcnO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmluZ18wO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTdHJpbmdCdWlsZGVyJywgaW50ZXJmYWNlczogW0NoYXJTZXF1ZW5jZSwgQXBwZW5kYWJsZV19O1xuICAgIGZ1bmN0aW9uIFN0cmluZ0J1aWxkZXJfaW5pdChjYXBhY2l0eSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShTdHJpbmdCdWlsZGVyLnByb3RvdHlwZSk7XG4gICAgICBTdHJpbmdCdWlsZGVyX2luaXRfMSgkdGhpcyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFN0cmluZ0J1aWxkZXJfaW5pdF8xKCR0aGlzKSB7XG4gICAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoU3RyaW5nQnVpbGRlci5wcm90b3R5cGUpO1xuICAgICAgU3RyaW5nQnVpbGRlci5jYWxsKCR0aGlzLCAnJyk7XG4gICAgICByZXR1cm4gJHRoaXM7XG4gICAgfVxuICAgIHZhciBNQVhfQllURVNfUEVSX0NIQVI7XG4gICAgdmFyIFJFUExBQ0VNRU5UX0JZVEVfU0VRVUVOQ0U7XG4gICAgdmFyIFJFUExBQ0VNRU5UX0NIQVI7XG4gICAgdmFyIER1cmF0aW9uVW5pdCROQU5PU0VDT05EU19pbnN0YW5jZTtcbiAgICB2YXIgRHVyYXRpb25Vbml0JE1JQ1JPU0VDT05EU19pbnN0YW5jZTtcbiAgICB2YXIgRHVyYXRpb25Vbml0JE1JTExJU0VDT05EU19pbnN0YW5jZTtcbiAgICB2YXIgRHVyYXRpb25Vbml0JFNFQ09ORFNfaW5zdGFuY2U7XG4gICAgdmFyIER1cmF0aW9uVW5pdCRNSU5VVEVTX2luc3RhbmNlO1xuICAgIHZhciBEdXJhdGlvblVuaXQkSE9VUlNfaW5zdGFuY2U7XG4gICAgdmFyIER1cmF0aW9uVW5pdCREQVlTX2luc3RhbmNlO1xuICAgIHZhciBNb25vQ2xvY2tfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBEYXRlTm93Q2xvY2tfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBFeHBlcmltZW50YWwkTGV2ZWwkV0FSTklOR19pbnN0YW5jZTtcbiAgICB2YXIgRXhwZXJpbWVudGFsJExldmVsJEVSUk9SX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0Q29sbGVjdGlvbigpIHtcbiAgICB9XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWluc18xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgYW55JHJlc3VsdDtcbiAgICAgIGFueSRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUodGhpcywgQ29sbGVjdGlvbikgJiYgdGhpcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRtcCQgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50XzAgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoZXF1YWxzKGVsZW1lbnRfMCwgZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGFueSRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbnkkcmVzdWx0O1xuICAgIH07XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWluc0FsbF9icnl3bnEkID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICB2YXIgYWxsJHJlc3VsdDtcbiAgICAgIGFsbCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudHMsIENvbGxlY3Rpb24pICYmIGVsZW1lbnRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFsbCRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gZWxlbWVudHMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbnNfMTFyYiQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGFsbCRyZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWxsJHJlc3VsdCA9IHRydWU7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbGwkcmVzdWx0O1xuICAgIH07XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZSA9PT0gMDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0Q29sbGVjdGlvbiR0b1N0cmluZyRsYW1iZGEodGhpcyRBYnN0cmFjdENvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgICAgcmV0dXJuIGl0ID09PSB0aGlzJEFic3RyYWN0Q29sbGVjdGlvbiA/ICcodGhpcyBDb2xsZWN0aW9uKScgOiB0b1N0cmluZyhpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGpvaW5Ub1N0cmluZ184KHRoaXMsICcsICcsICdbJywgJ10nLCB2b2lkIDAsIHZvaWQgMCwgQWJzdHJhY3RDb2xsZWN0aW9uJHRvU3RyaW5nJGxhbWJkYSh0aGlzKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdENvbGxlY3Rpb24ucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY29weVRvQXJyYXlJbXBsKHRoaXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RDb2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5X3JvNmRneSQgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgIHJldHVybiBjb3B5VG9BcnJheUltcGxfMCh0aGlzLCBhcnJheSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdENvbGxlY3Rpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RDb2xsZWN0aW9uJywgaW50ZXJmYWNlczogW0NvbGxlY3Rpb25dfTtcbiAgICB2YXIgU3RhdGUkUmVhZHlfaW5zdGFuY2U7XG4gICAgdmFyIFN0YXRlJE5vdFJlYWR5X2luc3RhbmNlO1xuICAgIHZhciBTdGF0ZSREb25lX2luc3RhbmNlO1xuICAgIHZhciBTdGF0ZSRGYWlsZWRfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RMaXN0KCkge1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgQWJzdHJhY3RDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TGlzdCRJdGVyYXRvckltcGwodGhpcyk7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QucHJvdG90eXBlLmluZGV4T2ZfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIGluZGV4T2ZGaXJzdCRyZXN1bHQ7XG4gICAgICBpbmRleE9mRmlyc3QkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHRtcCQgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBpdGVtID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKGVxdWFscyhpdGVtLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgaW5kZXhPZkZpcnN0JHJlc3VsdCA9IGluZGV4O1xuICAgICAgICAgICAgYnJlYWsgaW5kZXhPZkZpcnN0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbmRleCA9IGluZGV4ICsgMSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhPZkZpcnN0JHJlc3VsdCA9IC0xO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICByZXR1cm4gaW5kZXhPZkZpcnN0JHJlc3VsdDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUubGFzdEluZGV4T2ZfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgdmFyIGluZGV4T2ZMYXN0JHJlc3VsdDtcbiAgICAgIGluZGV4T2ZMYXN0JGJyZWFrOiBkbyB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMubGlzdEl0ZXJhdG9yX3phM2xwYSQodGhpcy5zaXplKTtcbiAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLmhhc1ByZXZpb3VzKCkpIHtcbiAgICAgICAgICBpZiAoZXF1YWxzKGl0ZXJhdG9yLnByZXZpb3VzKCksIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpbmRleE9mTGFzdCRyZXN1bHQgPSBpdGVyYXRvci5uZXh0SW5kZXgoKTtcbiAgICAgICAgICAgIGJyZWFrIGluZGV4T2ZMYXN0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleE9mTGFzdCRyZXN1bHQgPSAtMTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgICAgcmV0dXJuIGluZGV4T2ZMYXN0JHJlc3VsdDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUubGlzdEl0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbCh0aGlzLCAwKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUubGlzdEl0ZXJhdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHJldHVybiBuZXcgQWJzdHJhY3RMaXN0JExpc3RJdGVyYXRvckltcGwodGhpcywgaW5kZXgpO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0LnByb3RvdHlwZS5zdWJMaXN0X3Z1eDlmMCQgPSBmdW5jdGlvbiAoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TGlzdCRTdWJMaXN0KHRoaXMsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdExpc3QkU3ViTGlzdChsaXN0LCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICAgIEFic3RyYWN0TGlzdC5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5saXN0XzAgPSBsaXN0O1xuICAgICAgdGhpcy5mcm9tSW5kZXhfMCA9IGZyb21JbmRleDtcbiAgICAgIHRoaXMuX3NpemVfMCA9IDA7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tSYW5nZUluZGV4ZXNfY3ViNTFiJCh0aGlzLmZyb21JbmRleF8wLCB0b0luZGV4LCB0aGlzLmxpc3RfMC5zaXplKTtcbiAgICAgIHRoaXMuX3NpemVfMCA9IHRvSW5kZXggLSB0aGlzLmZyb21JbmRleF8wIHwgMDtcbiAgICB9XG4gICAgQWJzdHJhY3RMaXN0JFN1Ykxpc3QucHJvdG90eXBlLmdldF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuY2hlY2tFbGVtZW50SW5kZXhfNnh2bTVyJChpbmRleCwgdGhpcy5fc2l6ZV8wKTtcbiAgICAgIHJldHVybiB0aGlzLmxpc3RfMC5nZXRfemEzbHBhJCh0aGlzLmZyb21JbmRleF8wICsgaW5kZXggfCAwKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdExpc3QkU3ViTGlzdC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpemVfMDtcbiAgICB9fSk7XG4gICAgQWJzdHJhY3RMaXN0JFN1Ykxpc3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU3ViTGlzdCcsIGludGVyZmFjZXM6IFtSYW5kb21BY2Nlc3MsIEFic3RyYWN0TGlzdF19O1xuICAgIEFic3RyYWN0TGlzdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT09IHRoaXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBMaXN0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5vcmRlcmVkRXF1YWxzX2U5MmthNyQodGhpcywgb3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkub3JkZXJlZEhhc2hDb2RlX255a29pZiQodGhpcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsKCRvdXRlcikge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICB0aGlzLmluZGV4XzAgPSAwO1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5kZXhfMCA8IHRoaXMuJG91dGVyLnNpemU7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIGlmICghdGhpcy5oYXNOZXh0KCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgdG1wJF8wID0gKHRtcCQgPSB0aGlzLmluZGV4XzAsIHRoaXMuaW5kZXhfMCA9IHRtcCQgKyAxIHwgMCwgdG1wJCk7XG4gICAgICByZXR1cm4gdGhpcy4kb3V0ZXIuZ2V0X3phM2xwYSQodG1wJF8wKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRJdGVyYXRvckltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSXRlcmF0b3JJbXBsJywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RMaXN0JExpc3RJdGVyYXRvckltcGwoJG91dGVyLCBpbmRleCkge1xuICAgICAgdGhpcy4kb3V0ZXIgPSAkb3V0ZXI7XG4gICAgICBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsLmNhbGwodGhpcywgdGhpcy4kb3V0ZXIpO1xuICAgICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmNoZWNrUG9zaXRpb25JbmRleF82eHZtNXIkKGluZGV4LCB0aGlzLiRvdXRlci5zaXplKTtcbiAgICAgIHRoaXMuaW5kZXhfMCA9IGluZGV4O1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUuaGFzUHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wID4gMDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRMaXN0SXRlcmF0b3JJbXBsLnByb3RvdHlwZS5uZXh0SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleF8wO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0JExpc3RJdGVyYXRvckltcGwucHJvdG90eXBlLnByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmhhc1ByZXZpb3VzKCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgcmV0dXJuIHRoaXMuJG91dGVyLmdldF96YTNscGEkKCh0aGlzLmluZGV4XzAgPSB0aGlzLmluZGV4XzAgLSAxIHwgMCwgdGhpcy5pbmRleF8wKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkTGlzdEl0ZXJhdG9ySW1wbC5wcm90b3R5cGUucHJldmlvdXNJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgLSAxIHwgMDtcbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRMaXN0SXRlcmF0b3JJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpc3RJdGVyYXRvckltcGwnLCBpbnRlcmZhY2VzOiBbTGlzdEl0ZXJhdG9yLCBBYnN0cmFjdExpc3QkSXRlcmF0b3JJbXBsXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RMaXN0JENvbXBhbmlvbigpIHtcbiAgICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5jaGVja0VsZW1lbnRJbmRleF82eHZtNXIkID0gZnVuY3Rpb24gKGluZGV4LCBzaXplKSB7XG4gICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2luZGV4OiAnICsgaW5kZXggKyAnLCBzaXplOiAnICsgc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uSW5kZXhfNnh2bTVyJCA9IGZ1bmN0aW9uIChpbmRleCwgc2l6ZSkge1xuICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2luZGV4OiAnICsgaW5kZXggKyAnLCBzaXplOiAnICsgc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5jaGVja1JhbmdlSW5kZXhlc19jdWI1MWIkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCwgc2l6ZSkge1xuICAgICAgaWYgKGZyb21JbmRleCA8IDAgfHwgdG9JbmRleCA+IHNpemUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2Zyb21JbmRleDogJyArIGZyb21JbmRleCArICcsIHRvSW5kZXg6ICcgKyB0b0luZGV4ICsgJywgc2l6ZTogJyArIHNpemUpO1xuICAgICAgfVxuICAgICAgaWYgKGZyb21JbmRleCA+IHRvSW5kZXgpIHtcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMCgnZnJvbUluZGV4OiAnICsgZnJvbUluZGV4ICsgJyA+IHRvSW5kZXg6ICcgKyB0b0luZGV4KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0TGlzdCRDb21wYW5pb24ucHJvdG90eXBlLmNoZWNrQm91bmRzSW5kZXhlc19jdWI1MWIkID0gZnVuY3Rpb24gKHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBzaXplKSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA8IDAgfHwgZW5kSW5kZXggPiBzaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKCdzdGFydEluZGV4OiAnICsgc3RhcnRJbmRleCArICcsIGVuZEluZGV4OiAnICsgZW5kSW5kZXggKyAnLCBzaXplOiAnICsgc2l6ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnRJbmRleCA+IGVuZEluZGV4KSB7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAoJ3N0YXJ0SW5kZXg6ICcgKyBzdGFydEluZGV4ICsgJyA+IGVuZEluZGV4OiAnICsgZW5kSW5kZXgpO1xuICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbi5wcm90b3R5cGUub3JkZXJlZEhhc2hDb2RlX255a29pZiQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIHZhciBoYXNoQ29kZV8wID0gMTtcbiAgICAgIHRtcCQgPSBjLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGUgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgaGFzaENvZGVfMCA9ICgzMSAqIGhhc2hDb2RlXzAgfCAwKSArICgodG1wJF8wID0gZSAhPSBudWxsID8gaGFzaENvZGUoZSkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogMCkgfCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc2hDb2RlXzA7XG4gICAgfTtcbiAgICBBYnN0cmFjdExpc3QkQ29tcGFuaW9uLnByb3RvdHlwZS5vcmRlcmVkRXF1YWxzX2U5MmthNyQgPSBmdW5jdGlvbiAoYywgb3RoZXIpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKGMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIG90aGVySXRlcmF0b3IgPSBvdGhlci5pdGVyYXRvcigpO1xuICAgICAgdG1wJCA9IGMuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgZWxlbSA9IHRtcCQubmV4dCgpO1xuICAgICAgICB2YXIgZWxlbU90aGVyID0gb3RoZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmICghZXF1YWxzKGVsZW0sIGVsZW1PdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgQWJzdHJhY3RMaXN0JENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEFic3RyYWN0TGlzdCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEFic3RyYWN0TGlzdCRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBBYnN0cmFjdExpc3QkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBBYnN0cmFjdExpc3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RMaXN0JywgaW50ZXJmYWNlczogW0xpc3QsIEFic3RyYWN0Q29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwKCkge1xuICAgICAgQWJzdHJhY3RNYXAkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgICB0aGlzLl9rZXlzX3VwNXozeiRfMCA9IG51bGw7XG4gICAgICB0aGlzLl92YWx1ZXNfNm53MWYxJF8wID0gbnVsbDtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmNvbnRhaW5zS2V5XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW1wbEZpbmRFbnRyeV84azFpMjQkXzAoa2V5KSAhPSBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmNvbnRhaW5zVmFsdWVfMTFyYyQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgYW55JHJlc3VsdDtcbiAgICAgIGFueSRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBDb2xsZWN0aW9uKSAmJiAkcmVjZWl2ZXIuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgYW55JHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrIGFueSRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKGVxdWFscyhlbGVtZW50LnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIGFueSRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWsgYW55JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbnkkcmVzdWx0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbnkkcmVzdWx0O1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmNvbnRhaW5zRW50cnlfOGh4cXc0JCA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKGVudHJ5LCBNYXAkRW50cnkpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB2YXIga2V5ID0gZW50cnkua2V5O1xuICAgICAgdmFyIHZhbHVlID0gZW50cnkudmFsdWU7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciBvdXJWYWx1ZSA9IChLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLCBNYXApID8gdG1wJCA6IHRocm93Q0NFKCkpLmdldF8xMXJiJChrZXkpO1xuICAgICAgaWYgKCFlcXVhbHModmFsdWUsIG91clZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdG1wJF8wID0gb3VyVmFsdWUgPT0gbnVsbDtcbiAgICAgIGlmICh0bXAkXzApIHtcbiAgICAgICAgdmFyIHRtcCRfMTtcbiAgICAgICAgdG1wJF8wID0gIShLb3RsaW4uaXNUeXBlKHRtcCRfMSA9IHRoaXMsIE1hcCkgPyB0bXAkXzEgOiB0aHJvd0NDRSgpKS5jb250YWluc0tleV8xMXJiJChrZXkpO1xuICAgICAgfVxuICAgICAgaWYgKHRtcCRfMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIGlmIChvdGhlciA9PT0gdGhpcylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIE1hcCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICh0aGlzLnNpemUgIT09IG90aGVyLnNpemUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSBvdGhlci5lbnRyaWVzO1xuICAgICAgdmFyIGFsbCRyZXN1bHQ7XG4gICAgICBhbGwkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIGlmIChLb3RsaW4uaXNUeXBlKCRyZWNlaXZlciwgQ29sbGVjdGlvbikgJiYgJHJlY2VpdmVyLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFsbCRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zRW50cnlfOGh4cXc0JChlbGVtZW50KSkge1xuICAgICAgICAgICAgYWxsJHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWsgYWxsJGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhbGwkcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgICAgcmV0dXJuIGFsbCRyZXN1bHQ7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hcC5wcm90b3R5cGUuZ2V0XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gKHRtcCQgPSB0aGlzLmltcGxGaW5kRW50cnlfOGsxaTI0JF8wKGtleSkpICE9IG51bGwgPyB0bXAkLnZhbHVlIDogbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBoYXNoQ29kZSh0aGlzLmVudHJpZXMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaXplID09PSAwO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TWFwLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbnRyaWVzLnNpemU7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwodGhpcyRBYnN0cmFjdE1hcCkge1xuICAgICAgdGhpcy50aGlzJEFic3RyYWN0TWFwID0gdGhpcyRBYnN0cmFjdE1hcDtcbiAgICAgIEFic3RyYWN0U2V0LmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkQWJzdHJhY3RNYXAuY29udGFpbnNLZXlfMTFyYiQoZWxlbWVudCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAka2V5cyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRlbnRyeUl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLmNsb3N1cmUkZW50cnlJdGVyYXRvciA9IGNsb3N1cmUkZW50cnlJdGVyYXRvcjtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvc3VyZSRlbnRyeUl0ZXJhdG9yLmhhc05leHQoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb3N1cmUkZW50cnlJdGVyYXRvci5uZXh0KCkua2V5O1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbCRpdGVyYXRvciRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJGtleXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZW50cnlJdGVyYXRvciA9IHRoaXMudGhpcyRBYnN0cmFjdE1hcC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgICByZXR1cm4gbmV3IEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChlbnRyeUl0ZXJhdG9yKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAka2V5cyRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGlzJEFic3RyYWN0TWFwLnNpemU7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RTZXRdfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNYXAucHJvdG90eXBlLCAna2V5cycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLl9rZXlzX3VwNXozeiRfMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2tleXNfdXA1ejN6JF8wID0gbmV3IEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCRrZXlzJE9iamVjdExpdGVyYWwodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW5zdXJlTm90TnVsbCh0aGlzLl9rZXlzX3VwNXozeiRfMCk7XG4gICAgfX0pO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJHRvU3RyaW5nJGxhbWJkYSh0aGlzJEFic3RyYWN0TWFwKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHJldHVybiB0aGlzJEFic3RyYWN0TWFwLnRvU3RyaW5nXzU1aGU2NyRfMChpdCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBBYnN0cmFjdE1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gam9pblRvU3RyaW5nXzgodGhpcy5lbnRyaWVzLCAnLCAnLCAneycsICd9Jywgdm9pZCAwLCB2b2lkIDAsIEFic3RyYWN0TWFwJHRvU3RyaW5nJGxhbWJkYSh0aGlzKSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hcC5wcm90b3R5cGUudG9TdHJpbmdfNTVoZTY3JF8wID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICByZXR1cm4gdGhpcy50b1N0cmluZ19rdGh2OHMkXzAoZW50cnkua2V5KSArICc9JyArIHRoaXMudG9TdHJpbmdfa3RodjhzJF8wKGVudHJ5LnZhbHVlKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS50b1N0cmluZ19rdGh2OHMkXzAgPSBmdW5jdGlvbiAobykge1xuICAgICAgcmV0dXJuIG8gPT09IHRoaXMgPyAnKHRoaXMgTWFwKScgOiB0b1N0cmluZyhvKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbCh0aGlzJEFic3RyYWN0TWFwKSB7XG4gICAgICB0aGlzLnRoaXMkQWJzdHJhY3RNYXAgPSB0aGlzJEFic3RyYWN0TWFwO1xuICAgICAgQWJzdHJhY3RDb2xsZWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIEFic3RyYWN0TWFwJGdldF9BYnN0cmFjdE1hcCR2YWx1ZXMkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhpcyRBYnN0cmFjdE1hcC5jb250YWluc1ZhbHVlXzExcmMkKGVsZW1lbnQpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwoY2xvc3VyZSRlbnRyeUl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLmNsb3N1cmUkZW50cnlJdGVyYXRvciA9IGNsb3N1cmUkZW50cnlJdGVyYXRvcjtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IuaGFzTmV4dCgpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9zdXJlJGVudHJ5SXRlcmF0b3IubmV4dCgpLnZhbHVlO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVudHJ5SXRlcmF0b3IgPSB0aGlzLnRoaXMkQWJzdHJhY3RNYXAuZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgcmV0dXJuIG5ldyBBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbChlbnRyeUl0ZXJhdG9yKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1hcCRnZXRfQWJzdHJhY3RNYXAkdmFsdWVzJE9iamVjdExpdGVyYWwucHJvdG90eXBlLCAnc2l6ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkQWJzdHJhY3RNYXAuc2l6ZTtcbiAgICB9fSk7XG4gICAgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0Fic3RyYWN0Q29sbGVjdGlvbl19O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdE1hcC5wcm90b3R5cGUsICd2YWx1ZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5fdmFsdWVzXzZudzFmMSRfMCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlc182bncxZjEkXzAgPSBuZXcgQWJzdHJhY3RNYXAkZ2V0X0Fic3RyYWN0TWFwJHZhbHVlcyRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5fdmFsdWVzXzZudzFmMSRfMCk7XG4gICAgfX0pO1xuICAgIEFic3RyYWN0TWFwLnByb3RvdHlwZS5pbXBsRmluZEVudHJ5XzhrMWkyNCRfMCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgZmlyc3RPck51bGwkcmVzdWx0O1xuICAgICAgZmlyc3RPck51bGwkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgIHRtcCQgPSAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoZXF1YWxzKGVsZW1lbnQua2V5LCBrZXkpKSB7XG4gICAgICAgICAgICBmaXJzdE9yTnVsbCRyZXN1bHQgPSBlbGVtZW50O1xuICAgICAgICAgICAgYnJlYWsgZmlyc3RPck51bGwkYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpcnN0T3JOdWxsJHJlc3VsdCA9IG51bGw7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBmaXJzdE9yTnVsbCRyZXN1bHQ7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdE1hcCRDb21wYW5pb24oKSB7XG4gICAgICBBYnN0cmFjdE1hcCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdE1hcCRDb21wYW5pb24ucHJvdG90eXBlLmVudHJ5SGFzaENvZGVfOWZ0aGRuJCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzEsIHRtcCRfMjtcbiAgICAgIHJldHVybiAoKHRtcCRfMCA9ICh0bXAkID0gZS5rZXkpICE9IG51bGwgPyBoYXNoQ29kZSh0bXAkKSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiAwKSBeICgodG1wJF8yID0gKHRtcCRfMSA9IGUudmFsdWUpICE9IG51bGwgPyBoYXNoQ29kZSh0bXAkXzEpIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMiA6IDApO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkQ29tcGFuaW9uLnByb3RvdHlwZS5lbnRyeVRvU3RyaW5nXzlmdGhkbiQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKGUua2V5KSArICc9JyArIHRvU3RyaW5nKGUudmFsdWUpO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXAkQ29tcGFuaW9uLnByb3RvdHlwZS5lbnRyeUVxdWFsc19qczdmb3gkID0gZnVuY3Rpb24gKGUsIG90aGVyKSB7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIE1hcCRFbnRyeSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBlcXVhbHMoZS5rZXksIG90aGVyLmtleSkgJiYgZXF1YWxzKGUudmFsdWUsIG90aGVyLnZhbHVlKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWFwJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBBYnN0cmFjdE1hcCRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWFwJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChBYnN0cmFjdE1hcCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEFic3RyYWN0TWFwJENvbXBhbmlvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEFic3RyYWN0TWFwJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgICB9XG4gICAgQWJzdHJhY3RNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RNYXAnLCBpbnRlcmZhY2VzOiBbTWFwXX07XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RTZXQoKSB7XG4gICAgICBBYnN0cmFjdFNldCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIEFic3RyYWN0Q29sbGVjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBBYnN0cmFjdFNldC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICBpZiAob3RoZXIgPT09IHRoaXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBTZXQpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuc2V0RXF1YWxzX3k4ZjdlbiQodGhpcywgb3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RTZXQucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEFic3RyYWN0U2V0JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLnVub3JkZXJlZEhhc2hDb2RlX255a29pZiQodGhpcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFNldCRDb21wYW5pb24oKSB7XG4gICAgICBBYnN0cmFjdFNldCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdFNldCRDb21wYW5pb24ucHJvdG90eXBlLnVub3JkZXJlZEhhc2hDb2RlX255a29pZiQgPSBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgaGFzaENvZGVfMCA9IDA7XG4gICAgICB0bXAkID0gYy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIHZhciB0bXAkXzA7XG4gICAgICAgIGhhc2hDb2RlXzAgPSBoYXNoQ29kZV8wICsgKCh0bXAkXzAgPSBlbGVtZW50ICE9IG51bGwgPyBoYXNoQ29kZShlbGVtZW50KSA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiAwKSB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzaENvZGVfMDtcbiAgICB9O1xuICAgIEFic3RyYWN0U2V0JENvbXBhbmlvbi5wcm90b3R5cGUuc2V0RXF1YWxzX3k4ZjdlbiQgPSBmdW5jdGlvbiAoYywgb3RoZXIpIHtcbiAgICAgIGlmIChjLnNpemUgIT09IG90aGVyLnNpemUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBjLmNvbnRhaW5zQWxsX2JyeXducSQob3RoZXIpO1xuICAgIH07XG4gICAgQWJzdHJhY3RTZXQkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIEFic3RyYWN0U2V0JENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEFic3RyYWN0U2V0JENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgQWJzdHJhY3RTZXQkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBBYnN0cmFjdFNldC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBYnN0cmFjdFNldCcsIGludGVyZmFjZXM6IFtTZXQsIEFic3RyYWN0Q29sbGVjdGlvbl19O1xuICAgIGZ1bmN0aW9uIEVtcHR5SXRlcmF0b3IoKSB7XG4gICAgICBFbXB0eUl0ZXJhdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEVtcHR5SXRlcmF0b3IucHJvdG90eXBlLmhhc1ByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUubmV4dEluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBFbXB0eUl0ZXJhdG9yLnByb3RvdHlwZS5wcmV2aW91c0luZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgIH07XG4gICAgRW1wdHlJdGVyYXRvci5wcm90b3R5cGUucHJldmlvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICB9O1xuICAgIEVtcHR5SXRlcmF0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0VtcHR5SXRlcmF0b3InLCBpbnRlcmZhY2VzOiBbTGlzdEl0ZXJhdG9yXX07XG4gICAgdmFyIEVtcHR5SXRlcmF0b3JfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEVtcHR5SXRlcmF0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRW1wdHlJdGVyYXRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlJdGVyYXRvcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEVtcHR5SXRlcmF0b3JfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEVtcHR5TGlzdCgpIHtcbiAgICAgIEVtcHR5TGlzdF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICB0aGlzLnNlcmlhbFZlcnNpb25VSURfMCA9IExfNzM5MDQ2ODc2NDUwODA2OTgzODtcbiAgICB9XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKG90aGVyLCBMaXN0KSAmJiBvdGhlci5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICdbXSc7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlMaXN0LnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9fSk7XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuY29udGFpbnNBbGxfYnJ5d25xJCA9IGZ1bmN0aW9uIChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRzLmlzRW1wdHkoKTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuZ2V0X3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKFwiRW1wdHkgbGlzdCBkb2Vzbid0IGNvbnRhaW4gZWxlbWVudCBhdCBpbmRleCBcIiArIGluZGV4ICsgJy4nKTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuaW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICBFbXB0eUxpc3QucHJvdG90eXBlLmxhc3RJbmRleE9mXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5saXN0SXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5saXN0SXRlcmF0b3JfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgaWYgKGluZGV4ICE9PSAwKVxuICAgICAgICB0aHJvdyBuZXcgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbignSW5kZXg6ICcgKyBpbmRleCk7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlMaXN0LnByb3RvdHlwZS5zdWJMaXN0X3Z1eDlmMCQgPSBmdW5jdGlvbiAoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICBpZiAoZnJvbUluZGV4ID09PSAwICYmIHRvSW5kZXggPT09IDApXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oJ2Zyb21JbmRleDogJyArIGZyb21JbmRleCArICcsIHRvSW5kZXg6ICcgKyB0b0luZGV4KTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC5wcm90b3R5cGUucmVhZFJlc29sdmVfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eUxpc3RfZ2V0SW5zdGFuY2UoKTtcbiAgICB9O1xuICAgIEVtcHR5TGlzdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRW1wdHlMaXN0JywgaW50ZXJmYWNlczogW1JhbmRvbUFjY2VzcywgU2VyaWFsaXphYmxlLCBMaXN0XX07XG4gICAgdmFyIEVtcHR5TGlzdF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRW1wdHlMaXN0X2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEVtcHR5TGlzdF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlMaXN0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRW1wdHlMaXN0X2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc0NvbGxlY3Rpb24oJHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5QXNDb2xsZWN0aW9uKCRyZWNlaXZlciwgZmFsc2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBBcnJheUFzQ29sbGVjdGlvbih2YWx1ZXMsIGlzVmFyYXJncykge1xuICAgICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICB0aGlzLmlzVmFyYXJncyA9IGlzVmFyYXJncztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5QXNDb2xsZWN0aW9uLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgIH19KTtcbiAgICBBcnJheUFzQ29sbGVjdGlvbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlcy5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICBBcnJheUFzQ29sbGVjdGlvbi5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGNvbnRhaW5zKHRoaXMudmFsdWVzLCBlbGVtZW50KTtcbiAgICB9O1xuICAgIEFycmF5QXNDb2xsZWN0aW9uLnByb3RvdHlwZS5jb250YWluc0FsbF9icnl3bnEkID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICB2YXIgYWxsJHJlc3VsdDtcbiAgICAgIGFsbCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudHMsIENvbGxlY3Rpb24pICYmIGVsZW1lbnRzLmlzRW1wdHkoKSkge1xuICAgICAgICAgIGFsbCRyZXN1bHQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0bXAkID0gZWxlbWVudHMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbnNfMTFyYiQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGFsbCRyZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrIGFsbCRicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWxsJHJlc3VsdCA9IHRydWU7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiBhbGwkcmVzdWx0O1xuICAgIH07XG4gICAgQXJyYXlBc0NvbGxlY3Rpb24ucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5hcnJheUl0ZXJhdG9yKHRoaXMudmFsdWVzKTtcbiAgICB9O1xuICAgIEFycmF5QXNDb2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMudmFsdWVzO1xuICAgICAgcmV0dXJuIHRoaXMuaXNWYXJhcmdzID8gJHJlY2VpdmVyIDogJHJlY2VpdmVyLnNsaWNlKCk7XG4gICAgfTtcbiAgICBBcnJheUFzQ29sbGVjdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdBcnJheUFzQ29sbGVjdGlvbicsIGludGVyZmFjZXM6IFtDb2xsZWN0aW9uXX07XG4gICAgZnVuY3Rpb24gZW1wdHlMaXN0KCkge1xuICAgICAgcmV0dXJuIEVtcHR5TGlzdF9nZXRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0T2ZfMChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRzLmxlbmd0aCA+IDAgPyBhc0xpc3QoZWxlbWVudHMpIDogZW1wdHlMaXN0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG11dGFibGVMaXN0T2ZfMChlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRzLmxlbmd0aCA9PT0gMCA/IEFycmF5TGlzdF9pbml0KCkgOiBBcnJheUxpc3RfaW5pdF8xKG5ldyBBcnJheUFzQ29sbGVjdGlvbihlbGVtZW50cywgdHJ1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcnJheUxpc3RPZl8wKGVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gZWxlbWVudHMubGVuZ3RoID09PSAwID8gQXJyYXlMaXN0X2luaXQoKSA6IEFycmF5TGlzdF9pbml0XzEobmV3IEFycmF5QXNDb2xsZWN0aW9uKGVsZW1lbnRzLCB0cnVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldF9pbmRpY2VzXzEyKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBJbnRSYW5nZSgwLCAkcmVjZWl2ZXIuc2l6ZSAtIDEgfCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0X2xhc3RJbmRleF8xMigkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZSAtIDEgfCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcHRpbWl6ZVJlYWRPbmx5TGlzdCgkcmVjZWl2ZXIpIHtcbiAgICAgIHN3aXRjaCAoJHJlY2VpdmVyLnNpemUpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBsaXN0T2YoJHJlY2VpdmVyLmdldF96YTNscGEkKDApKTtcbiAgICAgICAgZGVmYXVsdDpyZXR1cm4gJHJlY2VpdmVyO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0luZGV4T3ZlcmZsb3coKSB7XG4gICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbignSW5kZXggb3ZlcmZsb3cgaGFzIGhhcHBlbmVkLicpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXIsIGRlZmF1bHRfMCkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBDb2xsZWN0aW9uKSA/ICRyZWNlaXZlci5zaXplIDogZGVmYXVsdF8wO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPckltcGxpY2l0RGVmYXVsdCgkcmVjZWl2ZXIsIGtleSkge1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBNYXBXaXRoRGVmYXVsdCkpXG4gICAgICAgIHJldHVybiAkcmVjZWl2ZXIuZ2V0T3JJbXBsaWNpdERlZmF1bHRfMTFyYiQoa2V5KTtcbiAgICAgIHZhciBnZXRPckVsc2VOdWxsYWJsZSRyZXN1bHQ7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciB2YWx1ZSA9ICRyZWNlaXZlci5nZXRfMTFyYiQoa2V5KTtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICEkcmVjZWl2ZXIuY29udGFpbnNLZXlfMTFyYiQoa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbignS2V5ICcgKyBrZXkgKyAnIGlzIG1pc3NpbmcgaW4gdGhlIG1hcC4nKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgZ2V0T3JFbHNlTnVsbGFibGUkcmVzdWx0ID0gKHRtcCQgPSB2YWx1ZSkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRPckVsc2VOdWxsYWJsZSRyZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIE1hcFdpdGhEZWZhdWx0KCkge1xuICAgIH1cbiAgICBNYXBXaXRoRGVmYXVsdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnTWFwV2l0aERlZmF1bHQnLCBpbnRlcmZhY2VzOiBbTWFwXX07XG4gICAgZnVuY3Rpb24gTXV0YWJsZU1hcFdpdGhEZWZhdWx0KCkge1xuICAgIH1cbiAgICBmdW5jdGlvbiBNYXBXaXRoRGVmYXVsdEltcGwobWFwLCBkZWZhdWx0XzApIHtcbiAgICAgIHRoaXMubWFwX3R5amVxaCRfMCA9IG1hcDtcbiAgICAgIHRoaXMuZGVmYXVsdF8wID0gZGVmYXVsdF8wO1xuICAgIH1cbiAgICBmdW5jdGlvbiBNdXRhYmxlTWFwV2l0aERlZmF1bHRJbXBsKG1hcCwgZGVmYXVsdF8wKSB7XG4gICAgICB0aGlzLm1hcF9hMDl1engkXzAgPSBtYXA7XG4gICAgICB0aGlzLmRlZmF1bHRfMCA9IGRlZmF1bHRfMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gRW1wdHlNYXAoKSB7XG4gICAgICBFbXB0eU1hcF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgICB0aGlzLnNlcmlhbFZlcnNpb25VSURfMCA9IEw4MjQ2NzE0ODI5NTQ1Njg4Mjc0O1xuICAgIH1cbiAgICBFbXB0eU1hcC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgTWFwKSAmJiBvdGhlci5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBFbXB0eU1hcC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIEVtcHR5TWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAne30nO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVtcHR5TWFwLnByb3RvdHlwZSwgJ3NpemUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9fSk7XG4gICAgRW1wdHlNYXAucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEVtcHR5TWFwLnByb3RvdHlwZS5jb250YWluc0tleV8xMXJiJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEVtcHR5TWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlXzExcmMkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBFbXB0eU1hcC5wcm90b3R5cGUuZ2V0XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlNYXAucHJvdG90eXBlLCAnZW50cmllcycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eVNldF9nZXRJbnN0YW5jZSgpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlNYXAucHJvdG90eXBlLCAna2V5cycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eVNldF9nZXRJbnN0YW5jZSgpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1wdHlNYXAucHJvdG90eXBlLCAndmFsdWVzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEVtcHR5TGlzdF9nZXRJbnN0YW5jZSgpO1xuICAgIH19KTtcbiAgICBFbXB0eU1hcC5wcm90b3R5cGUucmVhZFJlc29sdmVfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBFbXB0eU1hcF9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlNYXAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0VtcHR5TWFwJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZSwgTWFwXX07XG4gICAgdmFyIEVtcHR5TWFwX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBFbXB0eU1hcF9nZXRJbnN0YW5jZSgpIHtcbiAgICAgIGlmIChFbXB0eU1hcF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlNYXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBFbXB0eU1hcF9pbnN0YW5jZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1wdHlNYXAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCQgPSBFbXB0eU1hcF9nZXRJbnN0YW5jZSgpLCBNYXApID8gdG1wJCA6IHRocm93Q0NFXzAoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwT2ZfMChwYWlycykge1xuICAgICAgcmV0dXJuIHBhaXJzLmxlbmd0aCA+IDAgPyB0b01hcF8yKHBhaXJzLCBMaW5rZWRIYXNoTWFwX2luaXRfMihtYXBDYXBhY2l0eShwYWlycy5sZW5ndGgpKSkgOiBlbXB0eU1hcCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtdXRhYmxlTWFwT2ZfMChwYWlycykge1xuICAgICAgdmFyICRyZWNlaXZlciA9IExpbmtlZEhhc2hNYXBfaW5pdF8yKG1hcENhcGFjaXR5KHBhaXJzLmxlbmd0aCkpO1xuICAgICAgcHV0QWxsKCRyZWNlaXZlciwgcGFpcnMpO1xuICAgICAgcmV0dXJuICRyZWNlaXZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwQ2FwYWNpdHkoZXhwZWN0ZWRTaXplKSB7XG4gICAgICBpZiAoZXhwZWN0ZWRTaXplIDwgMykge1xuICAgICAgICByZXR1cm4gZXhwZWN0ZWRTaXplICsgMSB8IDA7XG4gICAgICB9XG4gICAgICBpZiAoZXhwZWN0ZWRTaXplIDwgMTA3Mzc0MTgyNCkge1xuICAgICAgICByZXR1cm4gZXhwZWN0ZWRTaXplICsgKGV4cGVjdGVkU2l6ZSAvIDMgfCAwKSB8IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gMjE0NzQ4MzY0NztcbiAgICB9XG4gICAgdmFyIElOVF9NQVhfUE9XRVJfT0ZfVFdPO1xuICAgIGZ1bmN0aW9uIGdldFZhbHVlXzIoJHJlY2VpdmVyLCBrZXkpIHtcbiAgICAgIHJldHVybiBnZXRPckltcGxpY2l0RGVmYXVsdCgkcmVjZWl2ZXIsIGtleSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1dEFsbCgkcmVjZWl2ZXIsIHBhaXJzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGZvciAodG1wJCA9IDA7IHRtcCQgIT09IHBhaXJzLmxlbmd0aDsgKyt0bXAkKSB7XG4gICAgICAgIHZhciB0bXAkXzAgPSBwYWlyc1t0bXAkXTtcbiAgICAgICAgdmFyIGtleSA9IHRtcCRfMC5jb21wb25lbnQxKCksIHZhbHVlID0gdG1wJF8wLmNvbXBvbmVudDIoKTtcbiAgICAgICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0b01hcF8yKCRyZWNlaXZlciwgZGVzdGluYXRpb24pIHtcbiAgICAgIHB1dEFsbChkZXN0aW5hdGlvbiwgJHJlY2VpdmVyKTtcbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQWxsXzEoJHJlY2VpdmVyLCBlbGVtZW50cykge1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5hZGRBbGxfYnJ5d25xJChhc0xpc3QoZWxlbWVudHMpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsXzAoJHJlY2VpdmVyLCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJJblBsYWNlKCRyZWNlaXZlciwgcHJlZGljYXRlLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsdGVySW5QbGFjZSgkcmVjZWl2ZXIsIHByZWRpY2F0ZSwgcHJlZGljYXRlUmVzdWx0VG9SZW1vdmUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7djogZmFsc2V9O1xuICAgICAgdmFyICRyZWNlaXZlcl8wID0gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAoJHJlY2VpdmVyXzAuaGFzTmV4dCgpKVxuICAgICAgICBpZiAocHJlZGljYXRlKCRyZWNlaXZlcl8wLm5leHQoKSkgPT09IHByZWRpY2F0ZVJlc3VsdFRvUmVtb3ZlKSB7XG4gICAgICAgICAgJHJlY2VpdmVyXzAucmVtb3ZlKCk7XG4gICAgICAgICAgcmVzdWx0LnYgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0LnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbF8xKCRyZWNlaXZlciwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gZmlsdGVySW5QbGFjZV8wKCRyZWNlaXZlciwgcHJlZGljYXRlLCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmlsdGVySW5QbGFjZV8wKCRyZWNlaXZlciwgcHJlZGljYXRlLCBwcmVkaWNhdGVSZXN1bHRUb1JlbW92ZSkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzI7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUoJHJlY2VpdmVyLCBSYW5kb21BY2Nlc3MpKVxuICAgICAgICByZXR1cm4gZmlsdGVySW5QbGFjZShLb3RsaW4uaXNUeXBlKHRtcCQgPSAkcmVjZWl2ZXIsIE11dGFibGVJdGVyYWJsZSkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpLCBwcmVkaWNhdGUsIHByZWRpY2F0ZVJlc3VsdFRvUmVtb3ZlKTtcbiAgICAgIHZhciB3cml0ZUluZGV4ID0gMDtcbiAgICAgIHRtcCRfMCA9IGdldF9sYXN0SW5kZXhfMTIoJHJlY2VpdmVyKTtcbiAgICAgIGZvciAodmFyIHJlYWRJbmRleCA9IDA7IHJlYWRJbmRleCA8PSB0bXAkXzA7IHJlYWRJbmRleCsrKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gJHJlY2VpdmVyLmdldF96YTNscGEkKHJlYWRJbmRleCk7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoZWxlbWVudCkgPT09IHByZWRpY2F0ZVJlc3VsdFRvUmVtb3ZlKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAod3JpdGVJbmRleCAhPT0gcmVhZEluZGV4KVxuICAgICAgICAgICRyZWNlaXZlci5zZXRfd3htNXVyJCh3cml0ZUluZGV4LCBlbGVtZW50KTtcbiAgICAgICAgd3JpdGVJbmRleCA9IHdyaXRlSW5kZXggKyAxIHwgMDtcbiAgICAgIH1cbiAgICAgIGlmICh3cml0ZUluZGV4IDwgJHJlY2VpdmVyLnNpemUpIHtcbiAgICAgICAgdG1wJF8xID0gZ2V0X2xhc3RJbmRleF8xMigkcmVjZWl2ZXIpO1xuICAgICAgICB0bXAkXzIgPSB3cml0ZUluZGV4O1xuICAgICAgICBmb3IgKHZhciByZW1vdmVJbmRleCA9IHRtcCRfMTsgcmVtb3ZlSW5kZXggPj0gdG1wJF8yOyByZW1vdmVJbmRleC0tKVxuICAgICAgICAgICRyZWNlaXZlci5yZW1vdmVBdF96YTNscGEkKHJlbW92ZUluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gU2VxdWVuY2UoKSB7XG4gICAgfVxuICAgIFNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgU3RhdGVfTm90UmVhZHk7XG4gICAgdmFyIFN0YXRlX01hbnlOb3RSZWFkeTtcbiAgICB2YXIgU3RhdGVfTWFueVJlYWR5O1xuICAgIHZhciBTdGF0ZV9SZWFkeTtcbiAgICB2YXIgU3RhdGVfRG9uZTtcbiAgICB2YXIgU3RhdGVfRmFpbGVkO1xuICAgIGZ1bmN0aW9uIGVtcHR5U2VxdWVuY2UoKSB7XG4gICAgICByZXR1cm4gRW1wdHlTZXF1ZW5jZV9nZXRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBFbXB0eVNlcXVlbmNlKCkge1xuICAgICAgRW1wdHlTZXF1ZW5jZV9pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuICAgIEVtcHR5U2VxdWVuY2UucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEVtcHR5SXRlcmF0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgICB9O1xuICAgIEVtcHR5U2VxdWVuY2UucHJvdG90eXBlLmRyb3BfemEzbHBhJCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gRW1wdHlTZXF1ZW5jZV9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlTZXF1ZW5jZS5wcm90b3R5cGUudGFrZV96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBFbXB0eVNlcXVlbmNlX2dldEluc3RhbmNlKCk7XG4gICAgfTtcbiAgICBFbXB0eVNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFbXB0eVNlcXVlbmNlJywgaW50ZXJmYWNlczogW0Ryb3BUYWtlU2VxdWVuY2UsIFNlcXVlbmNlXX07XG4gICAgdmFyIEVtcHR5U2VxdWVuY2VfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIEVtcHR5U2VxdWVuY2VfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRW1wdHlTZXF1ZW5jZV9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlTZXF1ZW5jZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEVtcHR5U2VxdWVuY2VfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRyYW5zZm9ybWluZ1NlcXVlbmNlKHNlcXVlbmNlLCB0cmFuc2Zvcm1lcikge1xuICAgICAgdGhpcy5zZXF1ZW5jZV8wID0gc2VxdWVuY2U7XG4gICAgICB0aGlzLnRyYW5zZm9ybWVyXzAgPSB0cmFuc2Zvcm1lcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gVHJhbnNmb3JtaW5nU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzJFRyYW5zZm9ybWluZ1NlcXVlbmNlKSB7XG4gICAgICB0aGlzLnRoaXMkVHJhbnNmb3JtaW5nU2VxdWVuY2UgPSB0aGlzJFRyYW5zZm9ybWluZ1NlcXVlbmNlO1xuICAgICAgdGhpcy5pdGVyYXRvciA9IHRoaXMkVHJhbnNmb3JtaW5nU2VxdWVuY2Uuc2VxdWVuY2VfMC5pdGVyYXRvcigpO1xuICAgIH1cbiAgICBUcmFuc2Zvcm1pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhpcyRUcmFuc2Zvcm1pbmdTZXF1ZW5jZS50cmFuc2Zvcm1lcl8wKHRoaXMuaXRlcmF0b3IubmV4dCgpKTtcbiAgICB9O1xuICAgIFRyYW5zZm9ybWluZ1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pdGVyYXRvci5oYXNOZXh0KCk7XG4gICAgfTtcbiAgICBUcmFuc2Zvcm1pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW0l0ZXJhdG9yXX07XG4gICAgVHJhbnNmb3JtaW5nU2VxdWVuY2UucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgIH07XG4gICAgVHJhbnNmb3JtaW5nU2VxdWVuY2UucHJvdG90eXBlLmZsYXR0ZW5fMXRnbHphJCA9IGZ1bmN0aW9uIChpdGVyYXRvcikge1xuICAgICAgcmV0dXJuIG5ldyBGbGF0dGVuaW5nU2VxdWVuY2UodGhpcy5zZXF1ZW5jZV8wLCB0aGlzLnRyYW5zZm9ybWVyXzAsIGl0ZXJhdG9yKTtcbiAgICB9O1xuICAgIFRyYW5zZm9ybWluZ1NlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1RyYW5zZm9ybWluZ1NlcXVlbmNlJywgaW50ZXJmYWNlczogW1NlcXVlbmNlXX07XG4gICAgZnVuY3Rpb24gRmxhdHRlbmluZ1NlcXVlbmNlKHNlcXVlbmNlLCB0cmFuc2Zvcm1lciwgaXRlcmF0b3IpIHtcbiAgICAgIHRoaXMuc2VxdWVuY2VfMCA9IHNlcXVlbmNlO1xuICAgICAgdGhpcy50cmFuc2Zvcm1lcl8wID0gdHJhbnNmb3JtZXI7XG4gICAgICB0aGlzLml0ZXJhdG9yXzAgPSBpdGVyYXRvcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gRmxhdHRlbmluZ1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRGbGF0dGVuaW5nU2VxdWVuY2UpIHtcbiAgICAgIHRoaXMudGhpcyRGbGF0dGVuaW5nU2VxdWVuY2UgPSB0aGlzJEZsYXR0ZW5pbmdTZXF1ZW5jZTtcbiAgICAgIHRoaXMuaXRlcmF0b3IgPSB0aGlzJEZsYXR0ZW5pbmdTZXF1ZW5jZS5zZXF1ZW5jZV8wLml0ZXJhdG9yKCk7XG4gICAgICB0aGlzLml0ZW1JdGVyYXRvciA9IG51bGw7XG4gICAgfVxuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmVuc3VyZUl0ZW1JdGVyYXRvcl8wKCkpXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgcmV0dXJuIGVuc3VyZU5vdE51bGwodGhpcy5pdGVtSXRlcmF0b3IpLm5leHQoKTtcbiAgICB9O1xuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5oYXNOZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5zdXJlSXRlbUl0ZXJhdG9yXzAoKTtcbiAgICB9O1xuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5lbnN1cmVJdGVtSXRlcmF0b3JfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKCgodG1wJCA9IHRoaXMuaXRlbUl0ZXJhdG9yKSAhPSBudWxsID8gdG1wJC5oYXNOZXh0KCkgOiBudWxsKSA9PT0gZmFsc2UpXG4gICAgICAgIHRoaXMuaXRlbUl0ZXJhdG9yID0gbnVsbDtcbiAgICAgIHdoaWxlICh0aGlzLml0ZW1JdGVyYXRvciA9PSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5pdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgdmFyIG5leHRJdGVtSXRlcmF0b3IgPSB0aGlzLnRoaXMkRmxhdHRlbmluZ1NlcXVlbmNlLml0ZXJhdG9yXzAodGhpcy50aGlzJEZsYXR0ZW5pbmdTZXF1ZW5jZS50cmFuc2Zvcm1lcl8wKGVsZW1lbnQpKTtcbiAgICAgICAgICBpZiAobmV4dEl0ZW1JdGVyYXRvci5oYXNOZXh0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbUl0ZXJhdG9yID0gbmV4dEl0ZW1JdGVyYXRvcjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBGbGF0dGVuaW5nU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIEZsYXR0ZW5pbmdTZXF1ZW5jZS5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEZsYXR0ZW5pbmdTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsKHRoaXMpO1xuICAgIH07XG4gICAgRmxhdHRlbmluZ1NlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0ZsYXR0ZW5pbmdTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtTZXF1ZW5jZV19O1xuICAgIGZ1bmN0aW9uIERyb3BUYWtlU2VxdWVuY2UoKSB7XG4gICAgfVxuICAgIERyb3BUYWtlU2VxdWVuY2UuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0Ryb3BUYWtlU2VxdWVuY2UnLCBpbnRlcmZhY2VzOiBbU2VxdWVuY2VdfTtcbiAgICBmdW5jdGlvbiBTdWJTZXF1ZW5jZShzZXF1ZW5jZSwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICAgIHRoaXMuc2VxdWVuY2VfMCA9IHNlcXVlbmNlO1xuICAgICAgdGhpcy5zdGFydEluZGV4XzAgPSBzdGFydEluZGV4O1xuICAgICAgdGhpcy5lbmRJbmRleF8wID0gZW5kSW5kZXg7XG4gICAgICBpZiAoISh0aGlzLnN0YXJ0SW5kZXhfMCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdzdGFydEluZGV4IHNob3VsZCBiZSBub24tbmVnYXRpdmUsIGJ1dCBpcyAnICsgdGhpcy5zdGFydEluZGV4XzA7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghKHRoaXMuZW5kSW5kZXhfMCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZV8wID0gJ2VuZEluZGV4IHNob3VsZCBiZSBub24tbmVnYXRpdmUsIGJ1dCBpcyAnICsgdGhpcy5lbmRJbmRleF8wO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmICghKHRoaXMuZW5kSW5kZXhfMCA+PSB0aGlzLnN0YXJ0SW5kZXhfMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VfMSA9ICdlbmRJbmRleCBzaG91bGQgYmUgbm90IGxlc3MgdGhhbiBzdGFydEluZGV4LCBidXQgd2FzICcgKyB0aGlzLmVuZEluZGV4XzAgKyAnIDwgJyArIHRoaXMuc3RhcnRJbmRleF8wO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2VfMS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YlNlcXVlbmNlLnByb3RvdHlwZSwgJ2NvdW50XzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmRJbmRleF8wIC0gdGhpcy5zdGFydEluZGV4XzAgfCAwO1xuICAgIH19KTtcbiAgICBTdWJTZXF1ZW5jZS5wcm90b3R5cGUuZHJvcF96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuID49IHRoaXMuY291bnRfMCA/IGVtcHR5U2VxdWVuY2UoKSA6IG5ldyBTdWJTZXF1ZW5jZSh0aGlzLnNlcXVlbmNlXzAsIHRoaXMuc3RhcnRJbmRleF8wICsgbiB8IDAsIHRoaXMuZW5kSW5kZXhfMCk7XG4gICAgfTtcbiAgICBTdWJTZXF1ZW5jZS5wcm90b3R5cGUudGFrZV96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuID49IHRoaXMuY291bnRfMCA/IHRoaXMgOiBuZXcgU3ViU2VxdWVuY2UodGhpcy5zZXF1ZW5jZV8wLCB0aGlzLnN0YXJ0SW5kZXhfMCwgdGhpcy5zdGFydEluZGV4XzAgKyBuIHwgMCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBTdWJTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsKHRoaXMkU3ViU2VxdWVuY2UpIHtcbiAgICAgIHRoaXMudGhpcyRTdWJTZXF1ZW5jZSA9IHRoaXMkU3ViU2VxdWVuY2U7XG4gICAgICB0aGlzLml0ZXJhdG9yID0gdGhpcyRTdWJTZXF1ZW5jZS5zZXF1ZW5jZV8wLml0ZXJhdG9yKCk7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICB9XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuZHJvcF8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2hpbGUgKHRoaXMucG9zaXRpb24gPCB0aGlzLnRoaXMkU3ViU2VxdWVuY2Uuc3RhcnRJbmRleF8wICYmIHRoaXMuaXRlcmF0b3IuaGFzTmV4dCgpKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbiArIDEgfCAwO1xuICAgICAgfVxuICAgIH07XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZHJvcF8wKCk7XG4gICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiA8IHRoaXMudGhpcyRTdWJTZXF1ZW5jZS5lbmRJbmRleF8wICYmIHRoaXMuaXRlcmF0b3IuaGFzTmV4dCgpO1xuICAgIH07XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZHJvcF8wKCk7XG4gICAgICBpZiAodGhpcy5wb3NpdGlvbiA+PSB0aGlzLnRoaXMkU3ViU2VxdWVuY2UuZW5kSW5kZXhfMClcbiAgICAgICAgdGhyb3cgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbl9pbml0KCk7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbiArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgIH07XG4gICAgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtJdGVyYXRvcl19O1xuICAgIFN1YlNlcXVlbmNlLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgU3ViU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YlNlcXVlbmNlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1N1YlNlcXVlbmNlJywgaW50ZXJmYWNlczogW0Ryb3BUYWtlU2VxdWVuY2UsIFNlcXVlbmNlXX07XG4gICAgZnVuY3Rpb24gVGFrZVNlcXVlbmNlKHNlcXVlbmNlLCBjb3VudCkge1xuICAgICAgdGhpcy5zZXF1ZW5jZV8wID0gc2VxdWVuY2U7XG4gICAgICB0aGlzLmNvdW50XzAgPSBjb3VudDtcbiAgICAgIGlmICghKHRoaXMuY291bnRfMCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdjb3VudCBtdXN0IGJlIG5vbi1uZWdhdGl2ZSwgYnV0IHdhcyAnICsgdGhpcy5jb3VudF8wICsgJy4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIFRha2VTZXF1ZW5jZS5wcm90b3R5cGUuZHJvcF96YTNscGEkID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBuID49IHRoaXMuY291bnRfMCA/IGVtcHR5U2VxdWVuY2UoKSA6IG5ldyBTdWJTZXF1ZW5jZSh0aGlzLnNlcXVlbmNlXzAsIG4sIHRoaXMuY291bnRfMCk7XG4gICAgfTtcbiAgICBUYWtlU2VxdWVuY2UucHJvdG90eXBlLnRha2VfemEzbHBhJCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICByZXR1cm4gbiA+PSB0aGlzLmNvdW50XzAgPyB0aGlzIDogbmV3IFRha2VTZXF1ZW5jZSh0aGlzLnNlcXVlbmNlXzAsIG4pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gVGFrZVNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRUYWtlU2VxdWVuY2UpIHtcbiAgICAgIHRoaXMubGVmdCA9IHRoaXMkVGFrZVNlcXVlbmNlLmNvdW50XzA7XG4gICAgICB0aGlzLml0ZXJhdG9yID0gdGhpcyRUYWtlU2VxdWVuY2Uuc2VxdWVuY2VfMC5pdGVyYXRvcigpO1xuICAgIH1cbiAgICBUYWtlU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmxlZnQgPT09IDApXG4gICAgICAgIHRocm93IE5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdCgpO1xuICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5sZWZ0IC0gMSB8IDA7XG4gICAgICByZXR1cm4gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgfTtcbiAgICBUYWtlU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlZnQgPiAwICYmIHRoaXMuaXRlcmF0b3IuaGFzTmV4dCgpO1xuICAgIH07XG4gICAgVGFrZVNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBUYWtlU2VxdWVuY2UucHJvdG90eXBlLml0ZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBUYWtlU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzKTtcbiAgICB9O1xuICAgIFRha2VTZXF1ZW5jZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUYWtlU2VxdWVuY2UnLCBpbnRlcmZhY2VzOiBbRHJvcFRha2VTZXF1ZW5jZSwgU2VxdWVuY2VdfTtcbiAgICBmdW5jdGlvbiBHZW5lcmF0b3JTZXF1ZW5jZShnZXRJbml0aWFsVmFsdWUsIGdldE5leHRWYWx1ZSkge1xuICAgICAgdGhpcy5nZXRJbml0aWFsVmFsdWVfMCA9IGdldEluaXRpYWxWYWx1ZTtcbiAgICAgIHRoaXMuZ2V0TmV4dFZhbHVlXzAgPSBnZXROZXh0VmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyRHZW5lcmF0b3JTZXF1ZW5jZSkge1xuICAgICAgdGhpcy50aGlzJEdlbmVyYXRvclNlcXVlbmNlID0gdGhpcyRHZW5lcmF0b3JTZXF1ZW5jZTtcbiAgICAgIHRoaXMubmV4dEl0ZW0gPSBudWxsO1xuICAgICAgdGhpcy5uZXh0U3RhdGUgPSAtMjtcbiAgICB9XG4gICAgR2VuZXJhdG9yU2VxdWVuY2UkaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuY2FsY05leHRfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMubmV4dEl0ZW0gPSB0aGlzLm5leHRTdGF0ZSA9PT0gLTIgPyB0aGlzLnRoaXMkR2VuZXJhdG9yU2VxdWVuY2UuZ2V0SW5pdGlhbFZhbHVlXzAoKSA6IHRoaXMudGhpcyRHZW5lcmF0b3JTZXF1ZW5jZS5nZXROZXh0VmFsdWVfMChlbnN1cmVOb3ROdWxsKHRoaXMubmV4dEl0ZW0pKTtcbiAgICAgIHRoaXMubmV4dFN0YXRlID0gdGhpcy5uZXh0SXRlbSA9PSBudWxsID8gMCA6IDE7XG4gICAgfTtcbiAgICBHZW5lcmF0b3JTZXF1ZW5jZSRpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5uZXh0U3RhdGUgPCAwKVxuICAgICAgICB0aGlzLmNhbGNOZXh0XzAoKTtcbiAgICAgIGlmICh0aGlzLm5leHRTdGF0ZSA9PT0gMClcbiAgICAgICAgdGhyb3cgTm9TdWNoRWxlbWVudEV4Y2VwdGlvbl9pbml0KCk7XG4gICAgICB2YXIgcmVzdWx0ID0gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5uZXh0SXRlbSwgQW55KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCk7XG4gICAgICB0aGlzLm5leHRTdGF0ZSA9IC0xO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5uZXh0U3RhdGUgPCAwKVxuICAgICAgICB0aGlzLmNhbGNOZXh0XzAoKTtcbiAgICAgIHJldHVybiB0aGlzLm5leHRTdGF0ZSA9PT0gMTtcbiAgICB9O1xuICAgIEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBHZW5lcmF0b3JTZXF1ZW5jZS5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEdlbmVyYXRvclNlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyk7XG4gICAgfTtcbiAgICBHZW5lcmF0b3JTZXF1ZW5jZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdHZW5lcmF0b3JTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtTZXF1ZW5jZV19O1xuICAgIGZ1bmN0aW9uIGdlbmVyYXRlU2VxdWVuY2VfMShzZWVkRnVuY3Rpb24sIG5leHRGdW5jdGlvbikge1xuICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0b3JTZXF1ZW5jZShzZWVkRnVuY3Rpb24sIG5leHRGdW5jdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEVtcHR5U2V0KCkge1xuICAgICAgRW1wdHlTZXRfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5zZXJpYWxWZXJzaW9uVUlEXzAgPSBMMzQwNjYwMzc3NDM4NzAyMDUzMjtcbiAgICB9XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUob3RoZXIsIFNldCkgJiYgb3RoZXIuaXNFbXB0eSgpO1xuICAgIH07XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBFbXB0eVNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ1tdJztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbXB0eVNldC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfX0pO1xuICAgIEVtcHR5U2V0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBFbXB0eVNldC5wcm90b3R5cGUuY29udGFpbnNfMTFyYiQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLmNvbnRhaW5zQWxsX2JyeXducSQgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBlbGVtZW50cy5pc0VtcHR5KCk7XG4gICAgfTtcbiAgICBFbXB0eVNldC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlJdGVyYXRvcl9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlTZXQucHJvdG90eXBlLnJlYWRSZXNvbHZlXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW1wdHlTZXRfZ2V0SW5zdGFuY2UoKTtcbiAgICB9O1xuICAgIEVtcHR5U2V0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFbXB0eVNldCcsIGludGVyZmFjZXM6IFtTZXJpYWxpemFibGUsIFNldF19O1xuICAgIHZhciBFbXB0eVNldF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRW1wdHlTZXRfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoRW1wdHlTZXRfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IEVtcHR5U2V0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRW1wdHlTZXRfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVtcHR5U2V0KCkge1xuICAgICAgcmV0dXJuIEVtcHR5U2V0X2dldEluc3RhbmNlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc2hTZXRPZl8wKGVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gdG9Db2xsZWN0aW9uKGVsZW1lbnRzLCBIYXNoU2V0X2luaXRfMihtYXBDYXBhY2l0eShlbGVtZW50cy5sZW5ndGgpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9wdGltaXplUmVhZE9ubHlTZXQoJHJlY2VpdmVyKSB7XG4gICAgICBzd2l0Y2ggKCRyZWNlaXZlci5zaXplKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gZW1wdHlTZXQoKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBzZXRPZigkcmVjZWl2ZXIuaXRlcmF0b3IoKS5uZXh0KCkpO1xuICAgICAgICBkZWZhdWx0OnJldHVybiAkcmVjZWl2ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBOYXR1cmFsT3JkZXJDb21wYXJhdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgUmV2ZXJzZU9yZGVyQ29tcGFyYXRvcl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIEludm9jYXRpb25LaW5kJEFUX01PU1RfT05DRV9pbnN0YW5jZTtcbiAgICB2YXIgSW52b2NhdGlvbktpbmQkQVRfTEVBU1RfT05DRV9pbnN0YW5jZTtcbiAgICB2YXIgSW52b2NhdGlvbktpbmQkRVhBQ1RMWV9PTkNFX2luc3RhbmNlO1xuICAgIHZhciBJbnZvY2F0aW9uS2luZCRVTktOT1dOX2luc3RhbmNlO1xuICAgIGZ1bmN0aW9uIENvbnRpbnVhdGlvbigpIHtcbiAgICB9XG4gICAgQ29udGludWF0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb250aW51YXRpb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5zdXNwZW5kQ29yb3V0aW5lXzkyMmF3cCQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGludGVyY2VwdGVkID0gXy5rb3RsaW4uY29yb3V0aW5lcy5pbnRyaW5zaWNzLmludGVyY2VwdGVkX2Y5bWcyNSQ7XG4gICAgICB2YXIgU2FmZUNvbnRpbnVhdGlvbl9pbml0ID0gXy5rb3RsaW4uY29yb3V0aW5lcy5TYWZlQ29udGludWF0aW9uX2luaXRfd2o4ZDgwJDtcbiAgICAgIGZ1bmN0aW9uIHN1c3BlbmRDb3JvdXRpbmUkbGFtYmRhKGNsb3N1cmUkYmxvY2spIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgdmFyIHNhZmUgPSBTYWZlQ29udGludWF0aW9uX2luaXQoaW50ZXJjZXB0ZWQoYykpO1xuICAgICAgICAgIGNsb3N1cmUkYmxvY2soc2FmZSk7XG4gICAgICAgICAgcmV0dXJuIHNhZmUuZ2V0T3JUaHJvdygpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChibG9jaywgY29udGludWF0aW9uKSB7XG4gICAgICAgIEtvdGxpbi5zdXNwZW5kQ2FsbChzdXNwZW5kQ29yb3V0aW5lJGxhbWJkYShibG9jaykoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpKTtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5jb3JvdXRpbmVSZXN1bHQoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgZnVuY3Rpb24gQ29udGludWF0aW9uSW50ZXJjZXB0b3IoKSB7XG4gICAgICBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5KCkge1xuICAgICAgQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2luc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdLZXknLCBpbnRlcmZhY2VzOiBbQ29yb3V0aW5lQ29udGV4dCRLZXldfTtcbiAgICB2YXIgQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXkoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvcm91dGluZUNvbnRleHQoKSB7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvcm91dGluZUNvbnRleHQkcGx1cyRsYW1iZGEoYWNjLCBlbGVtZW50KSB7XG4gICAgICB2YXIgcmVtb3ZlZCA9IGFjYy5taW51c0tleV95ZXFqYnkkKGVsZW1lbnQua2V5KTtcbiAgICAgIGlmIChyZW1vdmVkID09PSBFbXB0eUNvcm91dGluZUNvbnRleHRfZ2V0SW5zdGFuY2UoKSlcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gcmVtb3ZlZC5nZXRfajNyMnNuJChDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKSk7XG4gICAgICAgIGlmIChpbnRlcmNlcHRvciA9PSBudWxsKVxuICAgICAgICAgIHJldHVybiBuZXcgQ29tYmluZWRDb250ZXh0KHJlbW92ZWQsIGVsZW1lbnQpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgbGVmdCA9IHJlbW92ZWQubWludXNLZXlfeWVxamJ5JChDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfZ2V0SW5zdGFuY2UoKSk7XG4gICAgICAgICAgcmV0dXJuIGxlZnQgPT09IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpID8gbmV3IENvbWJpbmVkQ29udGV4dChlbGVtZW50LCBpbnRlcmNlcHRvcikgOiBuZXcgQ29tYmluZWRDb250ZXh0KG5ldyBDb21iaW5lZENvbnRleHQobGVmdCwgZWxlbWVudCksIGludGVyY2VwdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5wbHVzXzFmdXB1bCQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQgPT09IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpID8gdGhpcyA6IGNvbnRleHQuZm9sZF8zY2M2OWIkKHRoaXMsIENvcm91dGluZUNvbnRleHQkcGx1cyRsYW1iZGEpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lQ29udGV4dCRLZXkoKSB7XG4gICAgfVxuICAgIENvcm91dGluZUNvbnRleHQkS2V5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdLZXknLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50KCkge1xuICAgIH1cbiAgICBDb3JvdXRpbmVDb250ZXh0JEVsZW1lbnQucHJvdG90eXBlLmdldF9qM3Iyc24kID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICByZXR1cm4gZXF1YWxzKHRoaXMua2V5LCBrZXkpID8gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcywgQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50KSA/IHRtcCQgOiB0aHJvd0NDRV8wKCkgOiBudWxsO1xuICAgIH07XG4gICAgQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQgPSBmdW5jdGlvbiAoaW5pdGlhbCwgb3BlcmF0aW9uKSB7XG4gICAgICByZXR1cm4gb3BlcmF0aW9uKGluaXRpYWwsIHRoaXMpO1xuICAgIH07XG4gICAgQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIGVxdWFscyh0aGlzLmtleSwga2V5KSA/IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpIDogdGhpcztcbiAgICB9O1xuICAgIENvcm91dGluZUNvbnRleHQkRWxlbWVudC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnRWxlbWVudCcsIGludGVyZmFjZXM6IFtDb3JvdXRpbmVDb250ZXh0XX07XG4gICAgQ29yb3V0aW5lQ29udGV4dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnQ29yb3V0aW5lQ29udGV4dCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50KGtleSkge1xuICAgICAgdGhpcy5rZXlfbm80dGFzJF8wID0ga2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBFbXB0eUNvcm91dGluZUNvbnRleHQoKSB7XG4gICAgICBFbXB0eUNvcm91dGluZUNvbnRleHRfaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5zZXJpYWxWZXJzaW9uVUlEXzAgPSBMMDtcbiAgICB9XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5yZWFkUmVzb2x2ZV8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpO1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5nZXRfajNyMnNuJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQgPSBmdW5jdGlvbiAoaW5pdGlhbCwgb3BlcmF0aW9uKSB7XG4gICAgICByZXR1cm4gaW5pdGlhbDtcbiAgICB9O1xuICAgIEVtcHR5Q29yb3V0aW5lQ29udGV4dC5wcm90b3R5cGUucGx1c18xZnVwdWwkID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBFbXB0eUNvcm91dGluZUNvbnRleHQucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgICBFbXB0eUNvcm91dGluZUNvbnRleHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICdFbXB0eUNvcm91dGluZUNvbnRleHQnO1xuICAgIH07XG4gICAgRW1wdHlDb3JvdXRpbmVDb250ZXh0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFbXB0eUNvcm91dGluZUNvbnRleHQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsaXphYmxlLCBDb3JvdXRpbmVDb250ZXh0XX07XG4gICAgdmFyIEVtcHR5Q29yb3V0aW5lQ29udGV4dF9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gRW1wdHlDb3JvdXRpbmVDb250ZXh0X2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKEVtcHR5Q29yb3V0aW5lQ29udGV4dF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgRW1wdHlDb3JvdXRpbmVDb250ZXh0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gRW1wdHlDb3JvdXRpbmVDb250ZXh0X2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21iaW5lZENvbnRleHQobGVmdCwgZWxlbWVudCkge1xuICAgICAgdGhpcy5sZWZ0XzAgPSBsZWZ0O1xuICAgICAgdGhpcy5lbGVtZW50XzAgPSBlbGVtZW50O1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQucHJvdG90eXBlLmdldF9qM3Iyc24kID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgY3VyID0gdGhpcztcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICgodG1wJCA9IGN1ci5lbGVtZW50XzAuZ2V0X2ozcjJzbiQoa2V5KSkgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB0bXAkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0ID0gY3VyLmxlZnRfMDtcbiAgICAgICAgaWYgKEtvdGxpbi5pc1R5cGUobmV4dCwgQ29tYmluZWRDb250ZXh0KSkge1xuICAgICAgICAgIGN1ciA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBuZXh0LmdldF9qM3Iyc24kKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuZm9sZF8zY2M2OWIkID0gZnVuY3Rpb24gKGluaXRpYWwsIG9wZXJhdGlvbikge1xuICAgICAgcmV0dXJuIG9wZXJhdGlvbih0aGlzLmxlZnRfMC5mb2xkXzNjYzY5YiQoaW5pdGlhbCwgb3BlcmF0aW9uKSwgdGhpcy5lbGVtZW50XzApO1xuICAgIH07XG4gICAgQ29tYmluZWRDb250ZXh0LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBpZiAodGhpcy5lbGVtZW50XzAuZ2V0X2ozcjJzbiQoa2V5KSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnRfMDtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdMZWZ0ID0gdGhpcy5sZWZ0XzAubWludXNLZXlfeWVxamJ5JChrZXkpO1xuICAgICAgaWYgKG5ld0xlZnQgPT09IHRoaXMubGVmdF8wKVxuICAgICAgICB0bXAkID0gdGhpcztcbiAgICAgIGVsc2UgaWYgKG5ld0xlZnQgPT09IEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpKVxuICAgICAgICB0bXAkID0gdGhpcy5lbGVtZW50XzA7XG4gICAgICBlbHNlXG4gICAgICAgIHRtcCQgPSBuZXcgQ29tYmluZWRDb250ZXh0KG5ld0xlZnQsIHRoaXMuZWxlbWVudF8wKTtcbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH07XG4gICAgQ29tYmluZWRDb250ZXh0LnByb3RvdHlwZS5zaXplXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgICAgdmFyIGN1ciA9IHRoaXM7XG4gICAgICB2YXIgc2l6ZSA9IDI7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSBjdXIubGVmdF8wLCBDb21iaW5lZENvbnRleHQpID8gdG1wJCA6IG51bGw7XG4gICAgICAgIGlmICh0bXAkXzAgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICB9XG4gICAgICAgIGN1ciA9IHRtcCRfMDtcbiAgICAgICAgc2l6ZSA9IHNpemUgKyAxIHwgMDtcbiAgICAgIH1cbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuY29udGFpbnNfMCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZXF1YWxzKHRoaXMuZ2V0X2ozcjJzbiQoZWxlbWVudC5rZXkpLCBlbGVtZW50KTtcbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuY29udGFpbnNBbGxfMCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciBjdXIgPSBjb250ZXh0O1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zXzAoY3VyLmVsZW1lbnRfMCkpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgbmV4dCA9IGN1ci5sZWZ0XzA7XG4gICAgICAgIGlmIChLb3RsaW4uaXNUeXBlKG5leHQsIENvbWJpbmVkQ29udGV4dCkpIHtcbiAgICAgICAgICBjdXIgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb250YWluc18wKEtvdGxpbi5pc1R5cGUodG1wJCA9IG5leHQsIENvcm91dGluZUNvbnRleHQkRWxlbWVudCkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZWRDb250ZXh0LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAoS290bGluLmlzVHlwZShvdGhlciwgQ29tYmluZWRDb250ZXh0KSAmJiBvdGhlci5zaXplXzAoKSA9PT0gdGhpcy5zaXplXzAoKSAmJiBvdGhlci5jb250YWluc0FsbF8wKHRoaXMpKTtcbiAgICB9O1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaGFzaENvZGUodGhpcy5sZWZ0XzApICsgaGFzaENvZGUodGhpcy5lbGVtZW50XzApIHwgMDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIENvbWJpbmVkQ29udGV4dCR0b1N0cmluZyRsYW1iZGEoYWNjLCBlbGVtZW50KSB7XG4gICAgICByZXR1cm4gYWNjLmxlbmd0aCA9PT0gMCA/IGVsZW1lbnQudG9TdHJpbmcoKSA6IGFjYyArICcsICcgKyBlbGVtZW50O1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICdbJyArIHRoaXMuZm9sZF8zY2M2OWIkKCcnLCBDb21iaW5lZENvbnRleHQkdG9TdHJpbmckbGFtYmRhKSArICddJztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIENvbWJpbmVkQ29udGV4dCR3cml0ZVJlcGxhY2UkbGFtYmRhKGNsb3N1cmUkZWxlbWVudHMsIGNsb3N1cmUkaW5kZXgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZiwgZWxlbWVudCkge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgY2xvc3VyZSRlbGVtZW50c1t0bXAkID0gY2xvc3VyZSRpbmRleC52LCBjbG9zdXJlJGluZGV4LnYgPSB0bXAkICsgMSB8IDAsIHRtcCRdID0gZWxlbWVudDtcbiAgICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgICB9O1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQucHJvdG90eXBlLndyaXRlUmVwbGFjZV8wID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgbiA9IHRoaXMuc2l6ZV8wKCk7XG4gICAgICB2YXIgZWxlbWVudHMgPSBLb3RsaW4ubmV3QXJyYXkobiwgbnVsbCk7XG4gICAgICB2YXIgaW5kZXggPSB7djogMH07XG4gICAgICB0aGlzLmZvbGRfM2NjNjliJChVbml0X2dldEluc3RhbmNlKCksIENvbWJpbmVkQ29udGV4dCR3cml0ZVJlcGxhY2UkbGFtYmRhKGVsZW1lbnRzLCBpbmRleCkpO1xuICAgICAgaWYgKCEoaW5kZXgudiA9PT0gbikpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnQ2hlY2sgZmFpbGVkLic7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQoS290bGluLmlzQXJyYXkodG1wJCA9IGVsZW1lbnRzKSA/IHRtcCQgOiB0aHJvd0NDRV8wKCkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQoZWxlbWVudHMpIHtcbiAgICAgIENvbWJpbmVkQ29udGV4dCRTZXJpYWxpemVkJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZCRDb21wYW5pb24oKSB7XG4gICAgICBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgICAgdGhpcy5zZXJpYWxWZXJzaW9uVUlEXzAgPSBMMDtcbiAgICB9XG4gICAgQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIENvbWJpbmVkQ29udGV4dCRTZXJpYWxpemVkJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKENvbWJpbmVkQ29udGV4dCRTZXJpYWxpemVkJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgICBuZXcgQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gQ29tYmluZWRDb250ZXh0JFNlcmlhbGl6ZWQkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZC5wcm90b3R5cGUucmVhZFJlc29sdmVfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmVsZW1lbnRzO1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgYWNjdW11bGF0b3IgPSBFbXB0eUNvcm91dGluZUNvbnRleHRfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGZvciAodG1wJCA9IDA7IHRtcCQgIT09ICRyZWNlaXZlci5sZW5ndGg7ICsrdG1wJCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9ICRyZWNlaXZlclt0bXAkXTtcbiAgICAgICAgYWNjdW11bGF0b3IgPSBhY2N1bXVsYXRvci5wbHVzXzFmdXB1bCQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfTtcbiAgICBDb21iaW5lZENvbnRleHQkU2VyaWFsaXplZC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTZXJpYWxpemVkJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZV19O1xuICAgIENvbWJpbmVkQ29udGV4dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdDb21iaW5lZENvbnRleHQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsaXphYmxlLCBDb3JvdXRpbmVDb250ZXh0XX07XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5pbnRyaW5zaWNzLnN1c3BlbmRDb3JvdXRpbmVVbmludGVyY2VwdGVkT3JSZXR1cm5femIwcG15JCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0ID0gXy5rb3RsaW4uTm90SW1wbGVtZW50ZWRFcnJvcjtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYmxvY2ssIGNvbnRpbnVhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0KCdJbXBsZW1lbnRhdGlvbiBvZiBzdXNwZW5kQ29yb3V0aW5lVW5pbnRlcmNlcHRlZE9yUmV0dXJuIGlzIGludHJpbnNpYycpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgZnVuY3Rpb24gZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQoKSB7XG4gICAgICByZXR1cm4gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2dldEluc3RhbmNlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvcm91dGluZVNpbmdsZXRvbnMobmFtZSwgb3JkaW5hbCkge1xuICAgICAgRW51bS5jYWxsKHRoaXMpO1xuICAgICAgdGhpcy5uYW1lJCA9IG5hbWU7XG4gICAgICB0aGlzLm9yZGluYWwkID0gb3JkaW5hbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9uc19pbml0RmllbGRzKCkge1xuICAgICAgQ29yb3V0aW5lU2luZ2xldG9uc19pbml0RmllbGRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgfTtcbiAgICAgIENvcm91dGluZVNpbmdsZXRvbnMkQ09ST1VUSU5FX1NVU1BFTkRFRF9pbnN0YW5jZSA9IG5ldyBDb3JvdXRpbmVTaW5nbGV0b25zKCdDT1JPVVRJTkVfU1VTUEVOREVEJywgMCk7XG4gICAgICBDb3JvdXRpbmVTaW5nbGV0b25zJFVOREVDSURFRF9pbnN0YW5jZSA9IG5ldyBDb3JvdXRpbmVTaW5nbGV0b25zKCdVTkRFQ0lERUQnLCAxKTtcbiAgICAgIENvcm91dGluZVNpbmdsZXRvbnMkUkVTVU1FRF9pbnN0YW5jZSA9IG5ldyBDb3JvdXRpbmVTaW5nbGV0b25zKCdSRVNVTUVEJywgMik7XG4gICAgfVxuICAgIHZhciBDb3JvdXRpbmVTaW5nbGV0b25zJENPUk9VVElORV9TVVNQRU5ERURfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2dldEluc3RhbmNlKCkge1xuICAgICAgQ29yb3V0aW5lU2luZ2xldG9uc19pbml0RmllbGRzKCk7XG4gICAgICByZXR1cm4gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2luc3RhbmNlO1xuICAgIH1cbiAgICB2YXIgQ29yb3V0aW5lU2luZ2xldG9ucyRVTkRFQ0lERURfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyRVTkRFQ0lERURfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBDb3JvdXRpbmVTaW5nbGV0b25zX2luaXRGaWVsZHMoKTtcbiAgICAgIHJldHVybiBDb3JvdXRpbmVTaW5nbGV0b25zJFVOREVDSURFRF9pbnN0YW5jZTtcbiAgICB9XG4gICAgdmFyIENvcm91dGluZVNpbmdsZXRvbnMkUkVTVU1FRF9pbnN0YW5jZTtcbiAgICBmdW5jdGlvbiBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBDb3JvdXRpbmVTaW5nbGV0b25zX2luaXRGaWVsZHMoKTtcbiAgICAgIHJldHVybiBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfaW5zdGFuY2U7XG4gICAgfVxuICAgIENvcm91dGluZVNpbmdsZXRvbnMuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQ29yb3V0aW5lU2luZ2xldG9ucycsIGludGVyZmFjZXM6IFtFbnVtXX07XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyR2YWx1ZXMoKSB7XG4gICAgICByZXR1cm4gW0Nvcm91dGluZVNpbmdsZXRvbnMkQ09ST1VUSU5FX1NVU1BFTkRFRF9nZXRJbnN0YW5jZSgpLCBDb3JvdXRpbmVTaW5nbGV0b25zJFVOREVDSURFRF9nZXRJbnN0YW5jZSgpLCBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKV07XG4gICAgfVxuICAgIENvcm91dGluZVNpbmdsZXRvbnMudmFsdWVzID0gQ29yb3V0aW5lU2luZ2xldG9ucyR2YWx1ZXM7XG4gICAgZnVuY3Rpb24gQ29yb3V0aW5lU2luZ2xldG9ucyR2YWx1ZU9mKG5hbWUpIHtcbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICBjYXNlICdDT1JPVVRJTkVfU1VTUEVOREVEJzpcbiAgICAgICAgICByZXR1cm4gQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2dldEluc3RhbmNlKCk7XG4gICAgICAgIGNhc2UgJ1VOREVDSURFRCc6XG4gICAgICAgICAgcmV0dXJuIENvcm91dGluZVNpbmdsZXRvbnMkVU5ERUNJREVEX2dldEluc3RhbmNlKCk7XG4gICAgICAgIGNhc2UgJ1JFU1VNRUQnOlxuICAgICAgICAgIHJldHVybiBDb3JvdXRpbmVTaW5nbGV0b25zJFJFU1VNRURfZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgZGVmYXVsdDp0aHJvd0lTRSgnTm8gZW51bSBjb25zdGFudCBrb3RsaW4uY29yb3V0aW5lcy5pbnRyaW5zaWNzLkNvcm91dGluZVNpbmdsZXRvbnMuJyArIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBDb3JvdXRpbmVTaW5nbGV0b25zLnZhbHVlT2ZfNjF6cG9lJCA9IENvcm91dGluZVNpbmdsZXRvbnMkdmFsdWVPZjtcbiAgICB2YXIgUmVxdWlyZUtvdGxpblZlcnNpb25LaW5kJExBTkdVQUdFX1ZFUlNJT05faW5zdGFuY2U7XG4gICAgdmFyIFJlcXVpcmVLb3RsaW5WZXJzaW9uS2luZCRDT01QSUxFUl9WRVJTSU9OX2luc3RhbmNlO1xuICAgIHZhciBSZXF1aXJlS290bGluVmVyc2lvbktpbmQkQVBJX1ZFUlNJT05faW5zdGFuY2U7XG4gICAgdmFyIERlbGVnYXRlc19pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFJhbmRvbSREZWZhdWx0X2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgUmFuZG9tJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gQ29tcGFyYWJsZVJhbmdlKHN0YXJ0LCBlbmRJbmNsdXNpdmUpIHtcbiAgICAgIHRoaXMuc3RhcnRfcDFnc21tJF8wID0gc3RhcnQ7XG4gICAgICB0aGlzLmVuZEluY2x1c2l2ZV9qajRsZjckXzAgPSBlbmRJbmNsdXNpdmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVxdWFsc18xKCRyZWNlaXZlciwgb3RoZXIsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmICgkcmVjZWl2ZXIgPT09IG90aGVyKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICghaWdub3JlQ2FzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHRvQ2hhcihTdHJpbmcuZnJvbUNoYXJDb2RlKCRyZWNlaXZlciB8IDApLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSkgPT09IHRvQ2hhcihTdHJpbmcuZnJvbUNoYXJDb2RlKG90aGVyIHwgMCkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodG9DaGFyKFN0cmluZy5mcm9tQ2hhckNvZGUoJHJlY2VpdmVyIHwgMCkudG9Mb3dlckNhc2UoKS5jaGFyQ29kZUF0KDApKSA9PT0gdG9DaGFyKFN0cmluZy5mcm9tQ2hhckNvZGUob3RoZXIgfCAwKS50b0xvd2VyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpbUluZGVudCgkcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiByZXBsYWNlSW5kZW50KCRyZWNlaXZlciwgJycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYWNlSW5kZW50KCRyZWNlaXZlciwgbmV3SW5kZW50KSB7XG4gICAgICBpZiAobmV3SW5kZW50ID09PSB2b2lkIDApXG4gICAgICAgIG5ld0luZGVudCA9ICcnO1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB2YXIgbGluZXNfMCA9IGxpbmVzKCRyZWNlaXZlcik7XG4gICAgICB2YXIgZGVzdGluYXRpb24gPSBBcnJheUxpc3RfaW5pdCgpO1xuICAgICAgdmFyIHRtcCRfMDtcbiAgICAgIHRtcCRfMCA9IGxpbmVzXzAuaXRlcmF0b3IoKTtcbiAgICAgIHdoaWxlICh0bXAkXzAuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJF8wLm5leHQoKTtcbiAgICAgICAgaWYgKCFpc0JsYW5rKGVsZW1lbnQpKVxuICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZF8xMXJiJChlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9IGRlc3RpbmF0aW9uO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uXzAgPSBBcnJheUxpc3RfaW5pdF8wKGNvbGxlY3Rpb25TaXplT3JEZWZhdWx0KCRyZWNlaXZlcl8wLCAxMCkpO1xuICAgICAgdmFyIHRtcCRfMTtcbiAgICAgIHRtcCRfMSA9ICRyZWNlaXZlcl8wLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgaXRlbSA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgIGRlc3RpbmF0aW9uXzAuYWRkXzExcmIkKGluZGVudFdpZHRoKGl0ZW0pKTtcbiAgICAgIH1cbiAgICAgIHZhciBtaW5Db21tb25JbmRlbnQgPSAodG1wJCA9IG1pbl8xMShkZXN0aW5hdGlvbl8wKSkgIT0gbnVsbCA/IHRtcCQgOiAwO1xuICAgICAgdmFyIHJlc3VsdFNpemVFc3RpbWF0ZSA9ICRyZWNlaXZlci5sZW5ndGggKyBLb3RsaW4uaW11bChuZXdJbmRlbnQubGVuZ3RoLCBsaW5lc18wLnNpemUpIHwgMDtcbiAgICAgIHZhciBpbmRlbnRBZGRGdW5jdGlvbiA9IGdldEluZGVudEZ1bmN0aW9uKG5ld0luZGVudCk7XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZ2V0X2xhc3RJbmRleF8xMihsaW5lc18wKTtcbiAgICAgIHZhciBkZXN0aW5hdGlvbl8xID0gQXJyYXlMaXN0X2luaXQoKTtcbiAgICAgIHZhciB0bXAkXzIsIHRtcCRfMztcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB0bXAkXzIgPSBsaW5lc18wLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJF8yLmhhc05leHQoKSkge1xuICAgICAgICB2YXIgaXRlbV8wID0gdG1wJF8yLm5leHQoKTtcbiAgICAgICAgdmFyIHRtcCRfNDtcbiAgICAgICAgdmFyIGluZGV4XzAgPSBjaGVja0luZGV4T3ZlcmZsb3coKHRtcCRfMyA9IGluZGV4LCBpbmRleCA9IHRtcCRfMyArIDEgfCAwLCB0bXAkXzMpKTtcbiAgICAgICAgdmFyIHRtcCRfNSwgdG1wJF82O1xuICAgICAgICBpZiAoKHRtcCRfNCA9IChpbmRleF8wID09PSAwIHx8IGluZGV4XzAgPT09IGxhc3RJbmRleCkgJiYgaXNCbGFuayhpdGVtXzApID8gbnVsbCA6ICh0bXAkXzYgPSAodG1wJF81ID0gZHJvcF8xMShpdGVtXzAsIG1pbkNvbW1vbkluZGVudCkpICE9IG51bGwgPyBpbmRlbnRBZGRGdW5jdGlvbih0bXAkXzUpIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfNiA6IGl0ZW1fMCkgIT0gbnVsbCkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uXzEuYWRkXzExcmIkKHRtcCRfNCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBqb2luVG9fOChkZXN0aW5hdGlvbl8xLCBTdHJpbmdCdWlsZGVyX2luaXQocmVzdWx0U2l6ZUVzdGltYXRlKSwgJ1xcbicpLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGVudFdpZHRoKCRyZWNlaXZlcikge1xuICAgICAgdmFyIGluZGV4T2ZGaXJzdCRyZXN1bHQ7XG4gICAgICBpbmRleE9mRmlyc3QkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzI7XG4gICAgICAgIHRtcCQgPSBnZXRfaW5kaWNlc18xMygkcmVjZWl2ZXIpO1xuICAgICAgICB0bXAkXzAgPSB0bXAkLmZpcnN0O1xuICAgICAgICB0bXAkXzEgPSB0bXAkLmxhc3Q7XG4gICAgICAgIHRtcCRfMiA9IHRtcCQuc3RlcDtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSB0bXAkXzA7IGluZGV4IDw9IHRtcCRfMTsgaW5kZXggKz0gdG1wJF8yKSB7XG4gICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UodW5ib3hDaGFyKHRvQm94ZWRDaGFyKCRyZWNlaXZlci5jaGFyQ29kZUF0KGluZGV4KSkpKSkge1xuICAgICAgICAgICAgaW5kZXhPZkZpcnN0JHJlc3VsdCA9IGluZGV4O1xuICAgICAgICAgICAgYnJlYWsgaW5kZXhPZkZpcnN0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleE9mRmlyc3QkcmVzdWx0ID0gLTE7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHZhciBpdCA9IGluZGV4T2ZGaXJzdCRyZXN1bHQ7XG4gICAgICByZXR1cm4gaXQgPT09IC0xID8gJHJlY2VpdmVyLmxlbmd0aCA6IGl0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbmRlbnRGdW5jdGlvbiRsYW1iZGEobGluZSkge1xuICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluZGVudEZ1bmN0aW9uJGxhbWJkYV8wKGNsb3N1cmUkaW5kZW50KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGNsb3N1cmUkaW5kZW50ICsgbGluZTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluZGVudEZ1bmN0aW9uKGluZGVudCkge1xuICAgICAgaWYgKGluZGVudC5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBnZXRJbmRlbnRGdW5jdGlvbiRsYW1iZGE7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBnZXRJbmRlbnRGdW5jdGlvbiRsYW1iZGFfMChpbmRlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcHBlbmRFbGVtZW50XzAoJHJlY2VpdmVyLCBlbGVtZW50LCB0cmFuc2Zvcm0pIHtcbiAgICAgIGlmICh0cmFuc2Zvcm0gIT0gbnVsbClcbiAgICAgICAgJHJlY2VpdmVyLmFwcGVuZF9ndzAwdjkkKHRyYW5zZm9ybShlbGVtZW50KSk7XG4gICAgICBlbHNlIGlmIChlbGVtZW50ID09IG51bGwgfHwgS290bGluLmlzQ2hhclNlcXVlbmNlKGVsZW1lbnQpKVxuICAgICAgICAkcmVjZWl2ZXIuYXBwZW5kX2d3MDB2OSQoZWxlbWVudCk7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNDaGFyKGVsZW1lbnQpKVxuICAgICAgICAkcmVjZWl2ZXIuYXBwZW5kX3M4aXR2aCQodW5ib3hDaGFyKGVsZW1lbnQpKTtcbiAgICAgIGVsc2VcbiAgICAgICAgJHJlY2VpdmVyLmFwcGVuZF9ndzAwdjkkKHRvU3RyaW5nKGVsZW1lbnQpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9CeXRlT3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvQnl0ZU9yTnVsbF8wKCRyZWNlaXZlciwgMTApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0J5dGVPck51bGxfMCgkcmVjZWl2ZXIsIHJhZGl4KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHRtcCQgPSB0b0ludE9yTnVsbF8wKCRyZWNlaXZlciwgcmFkaXgpO1xuICAgICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHZhciBpbnQgPSB0bXAkO1xuICAgICAgaWYgKGludCA8IGtvdGxpbl9qc19pbnRlcm5hbF9CeXRlQ29tcGFuaW9uT2JqZWN0Lk1JTl9WQUxVRSB8fCBpbnQgPiBrb3RsaW5fanNfaW50ZXJuYWxfQnl0ZUNvbXBhbmlvbk9iamVjdC5NQVhfVkFMVUUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRvQnl0ZShpbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b1Nob3J0T3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvU2hvcnRPck51bGxfMCgkcmVjZWl2ZXIsIDEwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9TaG9ydE9yTnVsbF8wKCRyZWNlaXZlciwgcmFkaXgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9IHRvSW50T3JOdWxsXzAoJHJlY2VpdmVyLCByYWRpeCk7XG4gICAgICBpZiAodG1wJCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdmFyIGludCA9IHRtcCQ7XG4gICAgICBpZiAoaW50IDwga290bGluX2pzX2ludGVybmFsX1Nob3J0Q29tcGFuaW9uT2JqZWN0Lk1JTl9WQUxVRSB8fCBpbnQgPiBrb3RsaW5fanNfaW50ZXJuYWxfU2hvcnRDb21wYW5pb25PYmplY3QuTUFYX1ZBTFVFKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0b1Nob3J0KGludCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvSW50T3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvSW50T3JOdWxsXzAoJHJlY2VpdmVyLCAxMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvSW50T3JOdWxsXzAoJHJlY2VpdmVyLCByYWRpeCkge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICBjaGVja1JhZGl4KHJhZGl4KTtcbiAgICAgIHZhciBsZW5ndGggPSAkcmVjZWl2ZXIubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgc3RhcnQ7XG4gICAgICB2YXIgaXNOZWdhdGl2ZTtcbiAgICAgIHZhciBsaW1pdDtcbiAgICAgIHZhciBmaXJzdENoYXIgPSAkcmVjZWl2ZXIuY2hhckNvZGVBdCgwKTtcbiAgICAgIGlmIChmaXJzdENoYXIgPCA0OCkge1xuICAgICAgICBpZiAobGVuZ3RoID09PSAxKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBzdGFydCA9IDE7XG4gICAgICAgIGlmIChmaXJzdENoYXIgPT09IDQ1KSB7XG4gICAgICAgICAgaXNOZWdhdGl2ZSA9IHRydWU7XG4gICAgICAgICAgbGltaXQgPSAtMjE0NzQ4MzY0ODtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSBpZiAoZmlyc3RDaGFyID09PSA0Mykge1xuICAgICAgICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgICBsaW1pdCA9IC0yMTQ3NDgzNjQ3O1xuICAgICAgICB9XG4gICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgaXNOZWdhdGl2ZSA9IGZhbHNlO1xuICAgICAgICBsaW1pdCA9IC0yMTQ3NDgzNjQ3O1xuICAgICAgfVxuICAgICAgdmFyIGxpbWl0QmVmb3JlTXVsID0gbGltaXQgLyByYWRpeCB8IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHRtcCQgPSBsZW5ndGggLSAxIHwgMDtcbiAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSB0bXAkOyBpKyspIHtcbiAgICAgICAgdmFyIGRpZ2l0ID0gZGlnaXRPZigkcmVjZWl2ZXIuY2hhckNvZGVBdChpKSwgcmFkaXgpO1xuICAgICAgICBpZiAoZGlnaXQgPCAwKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAocmVzdWx0IDwgbGltaXRCZWZvcmVNdWwpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJlc3VsdCA9IEtvdGxpbi5pbXVsKHJlc3VsdCwgcmFkaXgpO1xuICAgICAgICBpZiAocmVzdWx0IDwgKGxpbWl0ICsgZGlnaXQgfCAwKSlcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IC0gZGlnaXQgfCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzTmVnYXRpdmUgPyByZXN1bHQgOiAtcmVzdWx0IHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Mb25nT3JOdWxsKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvTG9uZ09yTnVsbF8wKCRyZWNlaXZlciwgMTApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0b0xvbmdPck51bGxfMCgkcmVjZWl2ZXIsIHJhZGl4KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGNoZWNrUmFkaXgocmFkaXgpO1xuICAgICAgdmFyIGxlbmd0aCA9ICRyZWNlaXZlci5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBzdGFydDtcbiAgICAgIHZhciBpc05lZ2F0aXZlO1xuICAgICAgdmFyIGxpbWl0O1xuICAgICAgdmFyIGZpcnN0Q2hhciA9ICRyZWNlaXZlci5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGZpcnN0Q2hhciA8IDQ4KSB7XG4gICAgICAgIGlmIChsZW5ndGggPT09IDEpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHN0YXJ0ID0gMTtcbiAgICAgICAgaWYgKGZpcnN0Q2hhciA9PT0gNDUpIHtcbiAgICAgICAgICBpc05lZ2F0aXZlID0gdHJ1ZTtcbiAgICAgICAgICBsaW1pdCA9IExvbmckQ29tcGFuaW9uJE1JTl9WQUxVRTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSBpZiAoZmlyc3RDaGFyID09PSA0Mykge1xuICAgICAgICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgICBsaW1pdCA9IExfOTIyMzM3MjAzNjg1NDc3NTgwNztcbiAgICAgICAgfVxuICAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgbGltaXQgPSBMXzkyMjMzNzIwMzY4NTQ3NzU4MDc7XG4gICAgICB9XG4gICAgICB2YXIgbGltaXRCZWZvcmVNdWwgPSBsaW1pdC5kaXYoS290bGluLkxvbmcuZnJvbUludChyYWRpeCkpO1xuICAgICAgdmFyIHJlc3VsdCA9IEwwO1xuICAgICAgdG1wJCA9IGxlbmd0aCAtIDEgfCAwO1xuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDw9IHRtcCQ7IGkrKykge1xuICAgICAgICB2YXIgZGlnaXQgPSBkaWdpdE9mKCRyZWNlaXZlci5jaGFyQ29kZUF0KGkpLCByYWRpeCk7XG4gICAgICAgIGlmIChkaWdpdCA8IDApXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChyZXN1bHQuY29tcGFyZVRvXzExcmIkKGxpbWl0QmVmb3JlTXVsKSA8IDApXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWx0aXBseShLb3RsaW4uTG9uZy5mcm9tSW50KHJhZGl4KSk7XG4gICAgICAgIGlmIChyZXN1bHQuY29tcGFyZVRvXzExcmIkKGxpbWl0LmFkZChLb3RsaW4uTG9uZy5mcm9tSW50KGRpZ2l0KSkpIDwgMClcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnRyYWN0KEtvdGxpbi5Mb25nLmZyb21JbnQoZGlnaXQpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc05lZ2F0aXZlID8gcmVzdWx0IDogcmVzdWx0LnVuYXJ5TWludXMoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbnVtYmVyRm9ybWF0RXJyb3IoaW5wdXQpIHtcbiAgICAgIHRocm93IG5ldyBOdW1iZXJGb3JtYXRFeGNlcHRpb24oXCJJbnZhbGlkIG51bWJlciBmb3JtYXQ6ICdcIiArIGlucHV0ICsgXCInXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmltU3RhcnRfMigkcmVjZWl2ZXIsIGNoYXJzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9IEtvdGxpbi5pc0NoYXJTZXF1ZW5jZSh0bXAkID0gJHJlY2VpdmVyKSA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICAgICAgdmFyIHRyaW1TdGFydCRyZXN1bHQ7XG4gICAgICB0cmltU3RhcnQkYnJlYWs6IGRvIHtcbiAgICAgICAgdmFyIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzIsIHRtcCRfMztcbiAgICAgICAgdG1wJF8wID0gZ2V0X2luZGljZXNfMTMoJHJlY2VpdmVyXzApO1xuICAgICAgICB0bXAkXzEgPSB0bXAkXzAuZmlyc3Q7XG4gICAgICAgIHRtcCRfMiA9IHRtcCRfMC5sYXN0O1xuICAgICAgICB0bXAkXzMgPSB0bXAkXzAuc3RlcDtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSB0bXAkXzE7IGluZGV4IDw9IHRtcCRfMjsgaW5kZXggKz0gdG1wJF8zKSB7XG4gICAgICAgICAgaWYgKCFjb250YWluc183KGNoYXJzLCB1bmJveENoYXIodG9Cb3hlZENoYXIoJHJlY2VpdmVyXzAuY2hhckNvZGVBdChpbmRleCkpKSkpIHtcbiAgICAgICAgICAgIHRyaW1TdGFydCRyZXN1bHQgPSBLb3RsaW4uc3ViU2VxdWVuY2UoJHJlY2VpdmVyXzAsIGluZGV4LCAkcmVjZWl2ZXJfMC5sZW5ndGgpO1xuICAgICAgICAgICAgYnJlYWsgdHJpbVN0YXJ0JGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmltU3RhcnQkcmVzdWx0ID0gJyc7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiB0cmltU3RhcnQkcmVzdWx0LnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyaW1FbmRfMigkcmVjZWl2ZXIsIGNoYXJzKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHZhciAkcmVjZWl2ZXJfMCA9IEtvdGxpbi5pc0NoYXJTZXF1ZW5jZSh0bXAkID0gJHJlY2VpdmVyKSA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICAgICAgdmFyIHRyaW1FbmQkcmVzdWx0O1xuICAgICAgdHJpbUVuZCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJF8wO1xuICAgICAgICB0bXAkXzAgPSByZXZlcnNlZF85KGdldF9pbmRpY2VzXzEzKCRyZWNlaXZlcl8wKSkuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCRfMC5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSB0bXAkXzAubmV4dCgpO1xuICAgICAgICAgIGlmICghY29udGFpbnNfNyhjaGFycywgdW5ib3hDaGFyKHRvQm94ZWRDaGFyKCRyZWNlaXZlcl8wLmNoYXJDb2RlQXQoaW5kZXgpKSkpKSB7XG4gICAgICAgICAgICB0cmltRW5kJHJlc3VsdCA9IEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXJfMCwgMCwgaW5kZXggKyAxIHwgMCk7XG4gICAgICAgICAgICBicmVhayB0cmltRW5kJGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cmltRW5kJHJlc3VsdCA9ICcnO1xuICAgICAgfVxuICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICByZXR1cm4gdHJpbUVuZCRyZXN1bHQudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpbUVuZF8zKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRyaW1FbmQkcmVzdWx0O1xuICAgICAgdHJpbUVuZCRicmVhazogZG8ge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgdG1wJCA9IHJldmVyc2VkXzkoZ2V0X2luZGljZXNfMTMoJHJlY2VpdmVyKSkuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKCFpc1doaXRlc3BhY2UodW5ib3hDaGFyKHRvQm94ZWRDaGFyKCRyZWNlaXZlci5jaGFyQ29kZUF0KGluZGV4KSkpKSkge1xuICAgICAgICAgICAgdHJpbUVuZCRyZXN1bHQgPSBLb3RsaW4uc3ViU2VxdWVuY2UoJHJlY2VpdmVyLCAwLCBpbmRleCArIDEgfCAwKTtcbiAgICAgICAgICAgIGJyZWFrIHRyaW1FbmQkYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRyaW1FbmQkcmVzdWx0ID0gJyc7XG4gICAgICB9XG4gICAgICAgd2hpbGUgKGZhbHNlKTtcbiAgICAgIHJldHVybiB0cmltRW5kJHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbCh0aGlzJGl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLnRoaXMkaXRlcmF0b3IgPSB0aGlzJGl0ZXJhdG9yO1xuICAgICAgQ2hhckl0ZXJhdG9yLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmluZGV4XzAgPSAwO1xuICAgIH1cbiAgICBpdGVyYXRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZS5uZXh0Q2hhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICB0bXAkXzAgPSAodG1wJCA9IHRoaXMuaW5kZXhfMCwgdGhpcy5pbmRleF8wID0gdG1wJCArIDEgfCAwLCB0bXAkKTtcbiAgICAgIHJldHVybiB0aGlzLnRoaXMkaXRlcmF0b3IuY2hhckNvZGVBdCh0bXAkXzApO1xuICAgIH07XG4gICAgaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC5wcm90b3R5cGUuaGFzTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4XzAgPCB0aGlzLnRoaXMkaXRlcmF0b3IubGVuZ3RoO1xuICAgIH07XG4gICAgaXRlcmF0b3IkT2JqZWN0TGl0ZXJhbC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIGludGVyZmFjZXM6IFtDaGFySXRlcmF0b3JdfTtcbiAgICBmdW5jdGlvbiBpdGVyYXRvcl80KCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBpdGVyYXRvciRPYmplY3RMaXRlcmFsKCRyZWNlaXZlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldF9pbmRpY2VzXzEzKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIG5ldyBJbnRSYW5nZSgwLCAkcmVjZWl2ZXIubGVuZ3RoIC0gMSB8IDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRfbGFzdEluZGV4XzEzKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5sZW5ndGggLSAxIHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic3RyaW5nXzMoJHJlY2VpdmVyLCByYW5nZSkge1xuICAgICAgcmV0dXJuIEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXIsIHJhbmdlLnN0YXJ0LCByYW5nZS5lbmRJbmNsdXNpdmUgKyAxIHwgMCkudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaW9uTWF0Y2hlc0ltcGwoJHJlY2VpdmVyLCB0aGlzT2Zmc2V0LCBvdGhlciwgb3RoZXJPZmZzZXQsIGxlbmd0aCwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKG90aGVyT2Zmc2V0IDwgMCB8fCB0aGlzT2Zmc2V0IDwgMCB8fCB0aGlzT2Zmc2V0ID4gKCRyZWNlaXZlci5sZW5ndGggLSBsZW5ndGggfCAwKSB8fCBvdGhlck9mZnNldCA+IChvdGhlci5sZW5ndGggLSBsZW5ndGggfCAwKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGlmICghZXF1YWxzXzEoJHJlY2VpdmVyLmNoYXJDb2RlQXQodGhpc09mZnNldCArIGluZGV4IHwgMCksIG90aGVyLmNoYXJDb2RlQXQob3RoZXJPZmZzZXQgKyBpbmRleCB8IDApLCBpZ25vcmVDYXNlKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aF8xKCRyZWNlaXZlciwgY2hhciwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKGlnbm9yZUNhc2UgPT09IHZvaWQgMClcbiAgICAgICAgaWdub3JlQ2FzZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICRyZWNlaXZlci5sZW5ndGggPiAwICYmIGVxdWFsc18xKCRyZWNlaXZlci5jaGFyQ29kZUF0KDApLCBjaGFyLCBpZ25vcmVDYXNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5kc1dpdGhfMCgkcmVjZWl2ZXIsIGNoYXIsIGlnbm9yZUNhc2UpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIHJldHVybiAkcmVjZWl2ZXIubGVuZ3RoID4gMCAmJiBlcXVhbHNfMSgkcmVjZWl2ZXIuY2hhckNvZGVBdChnZXRfbGFzdEluZGV4XzEzKCRyZWNlaXZlcikpLCBjaGFyLCBpZ25vcmVDYXNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2ZBbnkoJHJlY2VpdmVyLCBjaGFycywgc3RhcnRJbmRleCwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMClcbiAgICAgICAgc3RhcnRJbmRleCA9IGdldF9sYXN0SW5kZXhfMTMoJHJlY2VpdmVyKTtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmICghaWdub3JlQ2FzZSAmJiBjaGFycy5sZW5ndGggPT09IDEgJiYgdHlwZW9mICRyZWNlaXZlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGNoYXIgPSBzaW5nbGVfNyhjaGFycyk7XG4gICAgICAgIHJldHVybiAkcmVjZWl2ZXIubGFzdEluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKSwgc3RhcnRJbmRleCk7XG4gICAgICB9XG4gICAgICBsb29wX2xhYmVsOiBmb3IgKHZhciBpbmRleCA9IGNvZXJjZUF0TW9zdF8yKHN0YXJ0SW5kZXgsIGdldF9sYXN0SW5kZXhfMTMoJHJlY2VpdmVyKSk7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGNoYXJBdEluZGV4ID0gJHJlY2VpdmVyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICB2YXIgYW55JHJlc3VsdDtcbiAgICAgICAgYW55JGJyZWFrOiBkbyB7XG4gICAgICAgICAgdmFyIHRtcCQ7XG4gICAgICAgICAgZm9yICh0bXAkID0gMDsgdG1wJCAhPT0gY2hhcnMubGVuZ3RoOyArK3RtcCQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdW5ib3hDaGFyKGNoYXJzW3RtcCRdKTtcbiAgICAgICAgICAgIGlmIChlcXVhbHNfMSh1bmJveENoYXIodG9Cb3hlZENoYXIoZWxlbWVudCkpLCBjaGFyQXRJbmRleCwgaWdub3JlQ2FzZSkpIHtcbiAgICAgICAgICAgICAgYW55JHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrIGFueSRicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYW55JHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgICAgICBpZiAoYW55JHJlc3VsdClcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGV4T2ZfMTUoJHJlY2VpdmVyLCBvdGhlciwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIGlnbm9yZUNhc2UsIGxhc3QpIHtcbiAgICAgIGlmIChsYXN0ID09PSB2b2lkIDApXG4gICAgICAgIGxhc3QgPSBmYWxzZTtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICB2YXIgaW5kaWNlcyA9ICFsYXN0ID8gbmV3IEludFJhbmdlKGNvZXJjZUF0TGVhc3RfMihzdGFydEluZGV4LCAwKSwgY29lcmNlQXRNb3N0XzIoZW5kSW5kZXgsICRyZWNlaXZlci5sZW5ndGgpKSA6IGRvd25Ub180KGNvZXJjZUF0TW9zdF8yKHN0YXJ0SW5kZXgsIGdldF9sYXN0SW5kZXhfMTMoJHJlY2VpdmVyKSksIGNvZXJjZUF0TGVhc3RfMihlbmRJbmRleCwgMCkpO1xuICAgICAgaWYgKHR5cGVvZiAkcmVjZWl2ZXIgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG1wJCA9IGluZGljZXMuaXRlcmF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgICAgaWYgKHJlZ2lvbk1hdGNoZXMob3RoZXIsIDAsICRyZWNlaXZlciwgaW5kZXgsIG90aGVyLmxlbmd0aCwgaWdub3JlQ2FzZSkpXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdG1wJF8wID0gaW5kaWNlcy5pdGVyYXRvcigpO1xuICAgICAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgICAgIHZhciBpbmRleF8wID0gdG1wJF8wLm5leHQoKTtcbiAgICAgICAgICBpZiAocmVnaW9uTWF0Y2hlc0ltcGwob3RoZXIsIDAsICRyZWNlaXZlciwgaW5kZXhfMCwgb3RoZXIubGVuZ3RoLCBpZ25vcmVDYXNlKSlcbiAgICAgICAgICAgIHJldHVybiBpbmRleF8wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRBbnlPZigkcmVjZWl2ZXIsIHN0cmluZ3MsIHN0YXJ0SW5kZXgsIGlnbm9yZUNhc2UsIGxhc3QpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICBpZiAoIWlnbm9yZUNhc2UgJiYgc3RyaW5ncy5zaXplID09PSAxKSB7XG4gICAgICAgIHZhciBzdHJpbmcgPSBzaW5nbGVfMTcoc3RyaW5ncyk7XG4gICAgICAgIHZhciBpbmRleCA9ICFsYXN0ID8gaW5kZXhPZl8xNygkcmVjZWl2ZXIsIHN0cmluZywgc3RhcnRJbmRleCkgOiBsYXN0SW5kZXhPZl8xNigkcmVjZWl2ZXIsIHN0cmluZywgc3RhcnRJbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogdG8oaW5kZXgsIHN0cmluZyk7XG4gICAgICB9XG4gICAgICB2YXIgaW5kaWNlcyA9ICFsYXN0ID8gbmV3IEludFJhbmdlKGNvZXJjZUF0TGVhc3RfMihzdGFydEluZGV4LCAwKSwgJHJlY2VpdmVyLmxlbmd0aCkgOiBkb3duVG9fNChjb2VyY2VBdE1vc3RfMihzdGFydEluZGV4LCBnZXRfbGFzdEluZGV4XzEzKCRyZWNlaXZlcikpLCAwKTtcbiAgICAgIGlmICh0eXBlb2YgJHJlY2VpdmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICB0bXAkID0gaW5kaWNlcy5pdGVyYXRvcigpO1xuICAgICAgICBsb29wX2xhYmVsOiB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgICB2YXIgaW5kZXhfMCA9IHRtcCQubmV4dCgpO1xuICAgICAgICAgIHZhciBmaXJzdE9yTnVsbCRyZXN1bHQ7XG4gICAgICAgICAgZmlyc3RPck51bGwkYnJlYWs6IGRvIHtcbiAgICAgICAgICAgIHZhciB0bXAkXzE7XG4gICAgICAgICAgICB0bXAkXzEgPSBzdHJpbmdzLml0ZXJhdG9yKCk7XG4gICAgICAgICAgICB3aGlsZSAodG1wJF8xLmhhc05leHQoKSkge1xuICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICAgICAgICAgIGlmIChyZWdpb25NYXRjaGVzKGVsZW1lbnQsIDAsICRyZWNlaXZlciwgaW5kZXhfMCwgZWxlbWVudC5sZW5ndGgsIGlnbm9yZUNhc2UpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RPck51bGwkcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICBicmVhayBmaXJzdE9yTnVsbCRicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3RPck51bGwkcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICAgICAgdmFyIG1hdGNoaW5nU3RyaW5nID0gZmlyc3RPck51bGwkcmVzdWx0O1xuICAgICAgICAgIGlmIChtYXRjaGluZ1N0cmluZyAhPSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRvKGluZGV4XzAsIG1hdGNoaW5nU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgIGVsc2Uge1xuICAgICAgICB0bXAkXzAgPSBpbmRpY2VzLml0ZXJhdG9yKCk7XG4gICAgICAgIGxvb3BfbGFiZWw6IHdoaWxlICh0bXAkXzAuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgdmFyIGluZGV4XzEgPSB0bXAkXzAubmV4dCgpO1xuICAgICAgICAgIHZhciBmaXJzdE9yTnVsbCRyZXN1bHRfMDtcbiAgICAgICAgICBmaXJzdE9yTnVsbCRicmVhazogZG8ge1xuICAgICAgICAgICAgdmFyIHRtcCRfMjtcbiAgICAgICAgICAgIHRtcCRfMiA9IHN0cmluZ3MuaXRlcmF0b3IoKTtcbiAgICAgICAgICAgIHdoaWxlICh0bXAkXzIuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICAgIHZhciBlbGVtZW50XzAgPSB0bXAkXzIubmV4dCgpO1xuICAgICAgICAgICAgICBpZiAocmVnaW9uTWF0Y2hlc0ltcGwoZWxlbWVudF8wLCAwLCAkcmVjZWl2ZXIsIGluZGV4XzEsIGVsZW1lbnRfMC5sZW5ndGgsIGlnbm9yZUNhc2UpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3RPck51bGwkcmVzdWx0XzAgPSBlbGVtZW50XzA7XG4gICAgICAgICAgICAgICAgYnJlYWsgZmlyc3RPck51bGwkYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpcnN0T3JOdWxsJHJlc3VsdF8wID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgIHdoaWxlIChmYWxzZSk7XG4gICAgICAgICAgdmFyIG1hdGNoaW5nU3RyaW5nXzAgPSBmaXJzdE9yTnVsbCRyZXN1bHRfMDtcbiAgICAgICAgICBpZiAobWF0Y2hpbmdTdHJpbmdfMCAhPSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRvKGluZGV4XzEsIG1hdGNoaW5nU3RyaW5nXzApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5kZXhPZl8xNygkcmVjZWl2ZXIsIHN0cmluZywgc3RhcnRJbmRleCwgaWdub3JlQ2FzZSkge1xuICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMClcbiAgICAgICAgc3RhcnRJbmRleCA9IDA7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICByZXR1cm4gaWdub3JlQ2FzZSB8fCAhKHR5cGVvZiAkcmVjZWl2ZXIgPT09ICdzdHJpbmcnKSA/IGluZGV4T2ZfMTUoJHJlY2VpdmVyLCBzdHJpbmcsIHN0YXJ0SW5kZXgsICRyZWNlaXZlci5sZW5ndGgsIGlnbm9yZUNhc2UpIDogJHJlY2VpdmVyLmluZGV4T2Yoc3RyaW5nLCBzdGFydEluZGV4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2ZfMTUoJHJlY2VpdmVyLCBjaGFyLCBzdGFydEluZGV4LCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKVxuICAgICAgICBzdGFydEluZGV4ID0gZ2V0X2xhc3RJbmRleF8xMygkcmVjZWl2ZXIpO1xuICAgICAgaWYgKGlnbm9yZUNhc2UgPT09IHZvaWQgMClcbiAgICAgICAgaWdub3JlQ2FzZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGlnbm9yZUNhc2UgfHwgISh0eXBlb2YgJHJlY2VpdmVyID09PSAnc3RyaW5nJykgPyBsYXN0SW5kZXhPZkFueSgkcmVjZWl2ZXIsIEtvdGxpbi5jaGFyQXJyYXlPZihjaGFyKSwgc3RhcnRJbmRleCwgaWdub3JlQ2FzZSkgOiAkcmVjZWl2ZXIubGFzdEluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKSwgc3RhcnRJbmRleCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mXzE2KCRyZWNlaXZlciwgc3RyaW5nLCBzdGFydEluZGV4LCBpZ25vcmVDYXNlKSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKVxuICAgICAgICBzdGFydEluZGV4ID0gZ2V0X2xhc3RJbmRleF8xMygkcmVjZWl2ZXIpO1xuICAgICAgaWYgKGlnbm9yZUNhc2UgPT09IHZvaWQgMClcbiAgICAgICAgaWdub3JlQ2FzZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGlnbm9yZUNhc2UgfHwgISh0eXBlb2YgJHJlY2VpdmVyID09PSAnc3RyaW5nJykgPyBpbmRleE9mXzE1KCRyZWNlaXZlciwgc3RyaW5nLCBzdGFydEluZGV4LCAwLCBpZ25vcmVDYXNlLCB0cnVlKSA6ICRyZWNlaXZlci5sYXN0SW5kZXhPZihzdHJpbmcsIHN0YXJ0SW5kZXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZShpbnB1dCwgc3RhcnRJbmRleCwgbGltaXQsIGdldE5leHRNYXRjaCkge1xuICAgICAgdGhpcy5pbnB1dF8wID0gaW5wdXQ7XG4gICAgICB0aGlzLnN0YXJ0SW5kZXhfMCA9IHN0YXJ0SW5kZXg7XG4gICAgICB0aGlzLmxpbWl0XzAgPSBsaW1pdDtcbiAgICAgIHRoaXMuZ2V0TmV4dE1hdGNoXzAgPSBnZXROZXh0TWF0Y2g7XG4gICAgfVxuICAgIGZ1bmN0aW9uIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZSkge1xuICAgICAgdGhpcy50aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlID0gdGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZTtcbiAgICAgIHRoaXMubmV4dFN0YXRlID0gLTE7XG4gICAgICB0aGlzLmN1cnJlbnRTdGFydEluZGV4ID0gY29lcmNlSW5fMih0aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlLnN0YXJ0SW5kZXhfMCwgMCwgdGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5pbnB1dF8wLmxlbmd0aCk7XG4gICAgICB0aGlzLm5leHRTZWFyY2hJbmRleCA9IHRoaXMuY3VycmVudFN0YXJ0SW5kZXg7XG4gICAgICB0aGlzLm5leHRJdGVtID0gbnVsbDtcbiAgICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgfVxuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNhbGNOZXh0XzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5uZXh0U2VhcmNoSW5kZXggPCAwKSB7XG4gICAgICAgIHRoaXMubmV4dFN0YXRlID0gMDtcbiAgICAgICAgdGhpcy5uZXh0SXRlbSA9IG51bGw7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnRoaXMkRGVsaW1pdGVkUmFuZ2VzU2VxdWVuY2UubGltaXRfMCA+IDAgJiYgKHRoaXMuY291bnRlciA9IHRoaXMuY291bnRlciArIDEgfCAwLCB0aGlzLmNvdW50ZXIpID49IHRoaXMudGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5saW1pdF8wIHx8IHRoaXMubmV4dFNlYXJjaEluZGV4ID4gdGhpcy50aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlLmlucHV0XzAubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5uZXh0SXRlbSA9IG5ldyBJbnRSYW5nZSh0aGlzLmN1cnJlbnRTdGFydEluZGV4LCBnZXRfbGFzdEluZGV4XzEzKHRoaXMudGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5pbnB1dF8wKSk7XG4gICAgICAgICAgdGhpcy5uZXh0U2VhcmNoSW5kZXggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0gdGhpcy50aGlzJERlbGltaXRlZFJhbmdlc1NlcXVlbmNlLmdldE5leHRNYXRjaF8wKHRoaXMudGhpcyREZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5pbnB1dF8wLCB0aGlzLm5leHRTZWFyY2hJbmRleCk7XG4gICAgICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEl0ZW0gPSBuZXcgSW50UmFuZ2UodGhpcy5jdXJyZW50U3RhcnRJbmRleCwgZ2V0X2xhc3RJbmRleF8xMyh0aGlzLnRoaXMkRGVsaW1pdGVkUmFuZ2VzU2VxdWVuY2UuaW5wdXRfMCkpO1xuICAgICAgICAgICAgdGhpcy5uZXh0U2VhcmNoSW5kZXggPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbWF0Y2guY29tcG9uZW50MSgpLCBsZW5ndGggPSBtYXRjaC5jb21wb25lbnQyKCk7XG4gICAgICAgICAgICB0aGlzLm5leHRJdGVtID0gdW50aWxfNCh0aGlzLmN1cnJlbnRTdGFydEluZGV4LCBpbmRleCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGFydEluZGV4ID0gaW5kZXggKyBsZW5ndGggfCAwO1xuICAgICAgICAgICAgdGhpcy5uZXh0U2VhcmNoSW5kZXggPSB0aGlzLmN1cnJlbnRTdGFydEluZGV4ICsgKGxlbmd0aCA9PT0gMCA/IDEgOiAwKSB8IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dFN0YXRlID0gMTtcbiAgICAgIH1cbiAgICB9O1xuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLm5leHRTdGF0ZSA9PT0gLTEpXG4gICAgICAgIHRoaXMuY2FsY05leHRfMCgpO1xuICAgICAgaWYgKHRoaXMubmV4dFN0YXRlID09PSAwKVxuICAgICAgICB0aHJvdyBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQoKTtcbiAgICAgIHZhciByZXN1bHQgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLm5leHRJdGVtLCBJbnRSYW5nZSkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpO1xuICAgICAgdGhpcy5uZXh0SXRlbSA9IG51bGw7XG4gICAgICB0aGlzLm5leHRTdGF0ZSA9IC0xO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmhhc05leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5uZXh0U3RhdGUgPT09IC0xKVxuICAgICAgICB0aGlzLmNhbGNOZXh0XzAoKTtcbiAgICAgIHJldHVybiB0aGlzLm5leHRTdGF0ZSA9PT0gMTtcbiAgICB9O1xuICAgIERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBpbnRlcmZhY2VzOiBbSXRlcmF0b3JdfTtcbiAgICBEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IERlbGltaXRlZFJhbmdlc1NlcXVlbmNlJGl0ZXJhdG9yJE9iamVjdExpdGVyYWwodGhpcyk7XG4gICAgfTtcbiAgICBEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdEZWxpbWl0ZWRSYW5nZXNTZXF1ZW5jZScsIGludGVyZmFjZXM6IFtTZXF1ZW5jZV19O1xuICAgIGZ1bmN0aW9uIHJhbmdlc0RlbGltaXRlZEJ5JGxhbWJkYV8wKGNsb3N1cmUkZGVsaW1pdGVyc0xpc3QsIGNsb3N1cmUkaWdub3JlQ2FzZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGN1cnJlbnRJbmRleCkge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgcmV0dXJuICh0bXAkID0gZmluZEFueU9mKCRyZWNlaXZlciwgY2xvc3VyZSRkZWxpbWl0ZXJzTGlzdCwgY3VycmVudEluZGV4LCBjbG9zdXJlJGlnbm9yZUNhc2UsIGZhbHNlKSkgIT0gbnVsbCA/IHRvKHRtcCQuZmlyc3QsIHRtcCQuc2Vjb25kLmxlbmd0aCkgOiBudWxsO1xuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmFuZ2VzRGVsaW1pdGVkQnlfMCgkcmVjZWl2ZXIsIGRlbGltaXRlcnMsIHN0YXJ0SW5kZXgsIGlnbm9yZUNhc2UsIGxpbWl0KSB7XG4gICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKVxuICAgICAgICBzdGFydEluZGV4ID0gMDtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmIChsaW1pdCA9PT0gdm9pZCAwKVxuICAgICAgICBsaW1pdCA9IDA7XG4gICAgICBpZiAoIShsaW1pdCA+PSAwKSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdMaW1pdCBtdXN0IGJlIG5vbi1uZWdhdGl2ZSwgYnV0IHdhcyAnICsgbGltaXQgKyAnLic7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0XzAobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWxpbWl0ZXJzTGlzdCA9IGFzTGlzdChkZWxpbWl0ZXJzKTtcbiAgICAgIHJldHVybiBuZXcgRGVsaW1pdGVkUmFuZ2VzU2VxdWVuY2UoJHJlY2VpdmVyLCBzdGFydEluZGV4LCBsaW1pdCwgcmFuZ2VzRGVsaW1pdGVkQnkkbGFtYmRhXzAoZGVsaW1pdGVyc0xpc3QsIGlnbm9yZUNhc2UpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3BsaXRUb1NlcXVlbmNlJGxhbWJkYSh0aGlzJHNwbGl0VG9TZXF1ZW5jZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgICByZXR1cm4gc3Vic3RyaW5nXzModGhpcyRzcGxpdFRvU2VxdWVuY2UsIGl0KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNwbGl0VG9TZXF1ZW5jZSgkcmVjZWl2ZXIsIGRlbGltaXRlcnMsIGlnbm9yZUNhc2UsIGxpbWl0KSB7XG4gICAgICBpZiAoaWdub3JlQ2FzZSA9PT0gdm9pZCAwKVxuICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7XG4gICAgICBpZiAobGltaXQgPT09IHZvaWQgMClcbiAgICAgICAgbGltaXQgPSAwO1xuICAgICAgcmV0dXJuIG1hcF8xMChyYW5nZXNEZWxpbWl0ZWRCeV8wKCRyZWNlaXZlciwgZGVsaW1pdGVycywgdm9pZCAwLCBpZ25vcmVDYXNlLCBsaW1pdCksIHNwbGl0VG9TZXF1ZW5jZSRsYW1iZGEoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNwbGl0KCRyZWNlaXZlciwgZGVsaW1pdGVycywgaWdub3JlQ2FzZSwgbGltaXQpIHtcbiAgICAgIGlmIChpZ25vcmVDYXNlID09PSB2b2lkIDApXG4gICAgICAgIGlnbm9yZUNhc2UgPSBmYWxzZTtcbiAgICAgIGlmIChsaW1pdCA9PT0gdm9pZCAwKVxuICAgICAgICBsaW1pdCA9IDA7XG4gICAgICBpZiAoZGVsaW1pdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGRlbGltaXRlciA9IGRlbGltaXRlcnNbMF07XG4gICAgICAgIGlmICghKGRlbGltaXRlci5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuIHNwbGl0XzEoJHJlY2VpdmVyLCBkZWxpbWl0ZXIsIGlnbm9yZUNhc2UsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyICRyZWNlaXZlcl8wID0gYXNJdGVyYWJsZV8xMChyYW5nZXNEZWxpbWl0ZWRCeV8wKCRyZWNlaXZlciwgZGVsaW1pdGVycywgdm9pZCAwLCBpZ25vcmVDYXNlLCBsaW1pdCkpO1xuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXRfMChjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCgkcmVjZWl2ZXJfMCwgMTApKTtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgdG1wJCA9ICRyZWNlaXZlcl8wLml0ZXJhdG9yKCk7XG4gICAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0bXAkLm5leHQoKTtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKHN1YnN0cmluZ18zKCRyZWNlaXZlciwgaXRlbSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzcGxpdF8xKCRyZWNlaXZlciwgZGVsaW1pdGVyLCBpZ25vcmVDYXNlLCBsaW1pdCkge1xuICAgICAgaWYgKCEobGltaXQgPj0gMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnTGltaXQgbXVzdCBiZSBub24tbmVnYXRpdmUsIGJ1dCB3YXMgJyArIGxpbWl0ICsgJy4nO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF8wKG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICB2YXIgY3VycmVudE9mZnNldCA9IDA7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gaW5kZXhPZl8xNygkcmVjZWl2ZXIsIGRlbGltaXRlciwgY3VycmVudE9mZnNldCwgaWdub3JlQ2FzZSk7XG4gICAgICBpZiAobmV4dEluZGV4ID09PSAtMSB8fCBsaW1pdCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gbGlzdE9mKCRyZWNlaXZlci50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0xpbWl0ZWQgPSBsaW1pdCA+IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXlMaXN0X2luaXRfMChpc0xpbWl0ZWQgPyBjb2VyY2VBdE1vc3RfMihsaW1pdCwgMTApIDogMTApO1xuICAgICAgZG8ge1xuICAgICAgICByZXN1bHQuYWRkXzExcmIkKEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXIsIGN1cnJlbnRPZmZzZXQsIG5leHRJbmRleCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGN1cnJlbnRPZmZzZXQgPSBuZXh0SW5kZXggKyBkZWxpbWl0ZXIubGVuZ3RoIHwgMDtcbiAgICAgICAgaWYgKGlzTGltaXRlZCAmJiByZXN1bHQuc2l6ZSA9PT0gKGxpbWl0IC0gMSB8IDApKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBuZXh0SW5kZXggPSBpbmRleE9mXzE3KCRyZWNlaXZlciwgZGVsaW1pdGVyLCBjdXJyZW50T2Zmc2V0LCBpZ25vcmVDYXNlKTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAobmV4dEluZGV4ICE9PSAtMSk7XG4gICAgICByZXN1bHQuYWRkXzExcmIkKEtvdGxpbi5zdWJTZXF1ZW5jZSgkcmVjZWl2ZXIsIGN1cnJlbnRPZmZzZXQsICRyZWNlaXZlci5sZW5ndGgpLnRvU3RyaW5nKCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGluZVNlcXVlbmNlKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHNwbGl0VG9TZXF1ZW5jZSgkcmVjZWl2ZXIsIFsnXFxyXFxuJywgJ1xcbicsICdcXHInXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpbmVzKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHRvTGlzdF8xMChsaW5lU2VxdWVuY2UoJHJlY2VpdmVyKSk7XG4gICAgfVxuICAgIHZhciBUeXBvZ3JhcGh5X2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBNYXRjaEdyb3VwQ29sbGVjdGlvbigpIHtcbiAgICB9XG4gICAgTWF0Y2hHcm91cENvbGxlY3Rpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ01hdGNoR3JvdXBDb2xsZWN0aW9uJywgaW50ZXJmYWNlczogW0NvbGxlY3Rpb25dfTtcbiAgICBmdW5jdGlvbiBNYXRjaFJlc3VsdCgpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGNoUmVzdWx0LnByb3RvdHlwZSwgJ2Rlc3RydWN0dXJlZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkKHRoaXMpO1xuICAgIH19KTtcbiAgICBmdW5jdGlvbiBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQobWF0Y2gpIHtcbiAgICAgIHRoaXMubWF0Y2ggPSBtYXRjaDtcbiAgICB9XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQxID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4udGV4dC5NYXRjaFJlc3VsdC5EZXN0cnVjdHVyZWQuY29tcG9uZW50MScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoLmdyb3VwVmFsdWVzLmdldF96YTNscGEkKDEpO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUuY29tcG9uZW50MiA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDInLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaC5ncm91cFZhbHVlcy5nZXRfemEzbHBhJCgyKTtcbiAgICB9KTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQucHJvdG90eXBlLmNvbXBvbmVudDMgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0Lk1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZC5jb21wb25lbnQzJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoMyk7XG4gICAgfSk7XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQ0ID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4udGV4dC5NYXRjaFJlc3VsdC5EZXN0cnVjdHVyZWQuY29tcG9uZW50NCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoLmdyb3VwVmFsdWVzLmdldF96YTNscGEkKDQpO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUuY29tcG9uZW50NSA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaC5ncm91cFZhbHVlcy5nZXRfemEzbHBhJCg1KTtcbiAgICB9KTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQucHJvdG90eXBlLmNvbXBvbmVudDYgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0Lk1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZC5jb21wb25lbnQ2JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoNik7XG4gICAgfSk7XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQ3ID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4udGV4dC5NYXRjaFJlc3VsdC5EZXN0cnVjdHVyZWQuY29tcG9uZW50NycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGNoLmdyb3VwVmFsdWVzLmdldF96YTNscGEkKDcpO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUuY29tcG9uZW50OCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDgnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRjaC5ncm91cFZhbHVlcy5nZXRfemEzbHBhJCg4KTtcbiAgICB9KTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQucHJvdG90eXBlLmNvbXBvbmVudDkgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi50ZXh0Lk1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZC5jb21wb25lbnQ5JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoOSk7XG4gICAgfSk7XG4gICAgTWF0Y2hSZXN1bHQkRGVzdHJ1Y3R1cmVkLnByb3RvdHlwZS5jb21wb25lbnQxMCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLnRleHQuTWF0Y2hSZXN1bHQuRGVzdHJ1Y3R1cmVkLmNvbXBvbmVudDEwJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuZ2V0X3phM2xwYSQoMTApO1xuICAgIH0pO1xuICAgIE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZC5wcm90b3R5cGUudG9MaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuc3ViTGlzdF92dXg5ZjAkKDEsIHRoaXMubWF0Y2guZ3JvdXBWYWx1ZXMuc2l6ZSk7XG4gICAgfTtcbiAgICBNYXRjaFJlc3VsdCREZXN0cnVjdHVyZWQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRGVzdHJ1Y3R1cmVkJywgaW50ZXJmYWNlczogW119O1xuICAgIE1hdGNoUmVzdWx0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdNYXRjaFJlc3VsdCcsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgRHVyYXRpb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgS290bGluVmVyc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIExhenkoKSB7XG4gICAgfVxuICAgIExhenkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0xhenknLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgdmFyIExhenlUaHJlYWRTYWZldHlNb2RlJFNZTkNIUk9OSVpFRF9pbnN0YW5jZTtcbiAgICB2YXIgTGF6eVRocmVhZFNhZmV0eU1vZGUkUFVCTElDQVRJT05faW5zdGFuY2U7XG4gICAgdmFyIExhenlUaHJlYWRTYWZldHlNb2RlJE5PTkVfaW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gVU5JTklUSUFMSVpFRF9WQUxVRSgpIHtcbiAgICAgIFVOSU5JVElBTElaRURfVkFMVUVfaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBVTklOSVRJQUxJWkVEX1ZBTFVFLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdVTklOSVRJQUxJWkVEX1ZBTFVFJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBVTklOSVRJQUxJWkVEX1ZBTFVFX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBVTklOSVRJQUxJWkVEX1ZBTFVFX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKFVOSU5JVElBTElaRURfVkFMVUVfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFVOSU5JVElBTElaRURfVkFMVUUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBVTklOSVRJQUxJWkVEX1ZBTFVFX2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbnNhZmVMYXp5SW1wbChpbml0aWFsaXplcikge1xuICAgICAgdGhpcy5pbml0aWFsaXplcl8wID0gaW5pdGlhbGl6ZXI7XG4gICAgICB0aGlzLl92YWx1ZV8wID0gVU5JTklUSUFMSVpFRF9WQUxVRV9nZXRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5zYWZlTGF6eUltcGwucHJvdG90eXBlLCAndmFsdWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIGlmICh0aGlzLl92YWx1ZV8wID09PSBVTklOSVRJQUxJWkVEX1ZBTFVFX2dldEluc3RhbmNlKCkpIHtcbiAgICAgICAgdGhpcy5fdmFsdWVfMCA9IGVuc3VyZU5vdE51bGwodGhpcy5pbml0aWFsaXplcl8wKSgpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVyXzAgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh0bXAkID0gdGhpcy5fdmFsdWVfMCkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0VfMCgpO1xuICAgIH19KTtcbiAgICBVbnNhZmVMYXp5SW1wbC5wcm90b3R5cGUuaXNJbml0aWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZV8wICE9PSBVTklOSVRJQUxJWkVEX1ZBTFVFX2dldEluc3RhbmNlKCk7XG4gICAgfTtcbiAgICBVbnNhZmVMYXp5SW1wbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc0luaXRpYWxpemVkKCkgPyB0b1N0cmluZyh0aGlzLnZhbHVlKSA6ICdMYXp5IHZhbHVlIG5vdCBpbml0aWFsaXplZCB5ZXQuJztcbiAgICB9O1xuICAgIFVuc2FmZUxhenlJbXBsLnByb3RvdHlwZS53cml0ZVJlcGxhY2VfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgSW5pdGlhbGl6ZWRMYXp5SW1wbCh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIFVuc2FmZUxhenlJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1Vuc2FmZUxhenlJbXBsJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZSwgTGF6eV19O1xuICAgIGZ1bmN0aW9uIEluaXRpYWxpemVkTGF6eUltcGwodmFsdWUpIHtcbiAgICAgIHRoaXMudmFsdWVfN3RhcTcwJF8wID0gdmFsdWU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbml0aWFsaXplZExhenlJbXBsLnByb3RvdHlwZSwgJ3ZhbHVlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVfN3RhcTcwJF8wO1xuICAgIH19KTtcbiAgICBJbml0aWFsaXplZExhenlJbXBsLnByb3RvdHlwZS5pc0luaXRpYWxpemVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBJbml0aWFsaXplZExhenlJbXBsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh0aGlzLnZhbHVlKTtcbiAgICB9O1xuICAgIEluaXRpYWxpemVkTGF6eUltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSW5pdGlhbGl6ZWRMYXp5SW1wbCcsIGludGVyZmFjZXM6IFtTZXJpYWxpemFibGUsIExhenldfTtcbiAgICBmdW5jdGlvbiBSZXN1bHQodmFsdWUpIHtcbiAgICAgIFJlc3VsdCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3VsdC5wcm90b3R5cGUsICdpc1N1Y2Nlc3MnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gIUtvdGxpbi5pc1R5cGUodGhpcy52YWx1ZSwgUmVzdWx0JEZhaWx1cmUpO1xuICAgIH19KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0LnByb3RvdHlwZSwgJ2lzRmFpbHVyZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRoaXMudmFsdWUsIFJlc3VsdCRGYWlsdXJlKTtcbiAgICB9fSk7XG4gICAgUmVzdWx0LnByb3RvdHlwZS5nZXRPck51bGwgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGluLmtvdGxpbi5SZXN1bHQuZ2V0T3JOdWxsJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBBbnkgPSBPYmplY3Q7XG4gICAgICB2YXIgdGhyb3dDQ0UgPSBLb3RsaW4udGhyb3dDQ0U7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG1wJDtcbiAgICAgICAgaWYgKHRoaXMuaXNGYWlsdXJlKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuICh0bXAkID0gdGhpcy52YWx1ZSkgPT0gbnVsbCB8fCBLb3RsaW4uaXNUeXBlKHRtcCQsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgICAgIH07XG4gICAgfSkpO1xuICAgIFJlc3VsdC5wcm90b3R5cGUuZXhjZXB0aW9uT3JOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKEtvdGxpbi5pc1R5cGUodGhpcy52YWx1ZSwgUmVzdWx0JEZhaWx1cmUpKVxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5leGNlcHRpb247XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVzdWx0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKHRoaXMudmFsdWUsIFJlc3VsdCRGYWlsdXJlKSlcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudG9TdHJpbmcoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuICdTdWNjZXNzKCcgKyB0b1N0cmluZyh0aGlzLnZhbHVlKSArICcpJztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFJlc3VsdCRDb21wYW5pb24oKSB7XG4gICAgICBSZXN1bHQkQ29tcGFuaW9uX2luc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgUmVzdWx0JENvbXBhbmlvbi5wcm90b3R5cGUuc3VjY2Vzc19taDVob3ckID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uUmVzdWx0LkNvbXBhbmlvbi5zdWNjZXNzX21oNWhvdyQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIFJlc3VsdF9pbml0ID0gXy5rb3RsaW4uUmVzdWx0O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3VsdF9pbml0KHZhbHVlKTtcbiAgICAgIH07XG4gICAgfSkpO1xuICAgIFJlc3VsdCRDb21wYW5pb24ucHJvdG90eXBlLmZhaWx1cmVfbHNxbGszJCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLlJlc3VsdC5Db21wYW5pb24uZmFpbHVyZV9sc3FsazMkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjcmVhdGVGYWlsdXJlID0gXy5rb3RsaW4uY3JlYXRlRmFpbHVyZV90Y3Y3bjckO1xuICAgICAgdmFyIFJlc3VsdF9pbml0ID0gXy5rb3RsaW4uUmVzdWx0O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHRfaW5pdChjcmVhdGVGYWlsdXJlKGV4Y2VwdGlvbikpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgUmVzdWx0JENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICAgIHZhciBSZXN1bHQkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBSZXN1bHQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgICAgaWYgKFJlc3VsdCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgbmV3IFJlc3VsdCRDb21wYW5pb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZXN1bHQkQ29tcGFuaW9uX2luc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZXN1bHQkRmFpbHVyZShleGNlcHRpb24pIHtcbiAgICAgIHRoaXMuZXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgIH1cbiAgICBSZXN1bHQkRmFpbHVyZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZShvdGhlciwgUmVzdWx0JEZhaWx1cmUpICYmIGVxdWFscyh0aGlzLmV4Y2VwdGlvbiwgb3RoZXIuZXhjZXB0aW9uKTtcbiAgICB9O1xuICAgIFJlc3VsdCRGYWlsdXJlLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBoYXNoQ29kZSh0aGlzLmV4Y2VwdGlvbik7XG4gICAgfTtcbiAgICBSZXN1bHQkRmFpbHVyZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJ0ZhaWx1cmUoJyArIHRoaXMuZXhjZXB0aW9uICsgJyknO1xuICAgIH07XG4gICAgUmVzdWx0JEZhaWx1cmUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRmFpbHVyZScsIGludGVyZmFjZXM6IFtTZXJpYWxpemFibGVdfTtcbiAgICBSZXN1bHQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUmVzdWx0JywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZV19O1xuICAgIFJlc3VsdC5wcm90b3R5cGUudW5ib3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9O1xuICAgIFJlc3VsdC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMudmFsdWUpIHwgMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBSZXN1bHQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgcmV0dXJuIHRoaXMgPT09IG90aGVyIHx8IChvdGhlciAhPT0gbnVsbCAmJiAodHlwZW9mIG90aGVyID09PSAnb2JqZWN0JyAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3RoZXIpICYmIEtvdGxpbi5lcXVhbHModGhpcy52YWx1ZSwgb3RoZXIudmFsdWUpKSkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gY3JlYXRlRmFpbHVyZShleGNlcHRpb24pIHtcbiAgICAgIHJldHVybiBuZXcgUmVzdWx0JEZhaWx1cmUoZXhjZXB0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dPbkZhaWx1cmUoJHJlY2VpdmVyKSB7XG4gICAgICBpZiAoS290bGluLmlzVHlwZSgkcmVjZWl2ZXIudmFsdWUsIFJlc3VsdCRGYWlsdXJlKSlcbiAgICAgICAgdGhyb3cgJHJlY2VpdmVyLnZhbHVlLmV4Y2VwdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gTm90SW1wbGVtZW50ZWRFcnJvcihtZXNzYWdlKSB7XG4gICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKVxuICAgICAgICBtZXNzYWdlID0gJ0FuIG9wZXJhdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQuJztcbiAgICAgIEVycm9yX2luaXRfMChtZXNzYWdlLCB0aGlzKTtcbiAgICAgIHRoaXMubmFtZSA9ICdOb3RJbXBsZW1lbnRlZEVycm9yJztcbiAgICB9XG4gICAgTm90SW1wbGVtZW50ZWRFcnJvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdOb3RJbXBsZW1lbnRlZEVycm9yJywgaW50ZXJmYWNlczogW0Vycm9yXzBdfTtcbiAgICBmdW5jdGlvbiBQYWlyKGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgIHRoaXMuZmlyc3QgPSBmaXJzdDtcbiAgICAgIHRoaXMuc2Vjb25kID0gc2Vjb25kO1xuICAgIH1cbiAgICBQYWlyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnKCcgKyB0aGlzLmZpcnN0ICsgJywgJyArIHRoaXMuc2Vjb25kICsgJyknO1xuICAgIH07XG4gICAgUGFpci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdQYWlyJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YWJsZV19O1xuICAgIFBhaXIucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5maXJzdDtcbiAgICB9O1xuICAgIFBhaXIucHJvdG90eXBlLmNvbXBvbmVudDIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWNvbmQ7XG4gICAgfTtcbiAgICBQYWlyLnByb3RvdHlwZS5jb3B5X3h3emM5cCQgPSBmdW5jdGlvbiAoZmlyc3QsIHNlY29uZCkge1xuICAgICAgcmV0dXJuIG5ldyBQYWlyKGZpcnN0ID09PSB2b2lkIDAgPyB0aGlzLmZpcnN0IDogZmlyc3QsIHNlY29uZCA9PT0gdm9pZCAwID8gdGhpcy5zZWNvbmQgOiBzZWNvbmQpO1xuICAgIH07XG4gICAgUGFpci5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuZmlyc3QpIHwgMDtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuc2Vjb25kKSB8IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgUGFpci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICByZXR1cm4gdGhpcyA9PT0gb3RoZXIgfHwgKG90aGVyICE9PSBudWxsICYmICh0eXBlb2Ygb3RoZXIgPT09ICdvYmplY3QnICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihvdGhlcikgJiYgKEtvdGxpbi5lcXVhbHModGhpcy5maXJzdCwgb3RoZXIuZmlyc3QpICYmIEtvdGxpbi5lcXVhbHModGhpcy5zZWNvbmQsIG90aGVyLnNlY29uZCkpKSkpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gdG8oJHJlY2VpdmVyLCB0aGF0KSB7XG4gICAgICByZXR1cm4gbmV3IFBhaXIoJHJlY2VpdmVyLCB0aGF0KTtcbiAgICB9XG4gICAgdmFyIFVCeXRlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFVJbnQkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgVUludFJhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFVJbnRQcm9ncmVzc2lvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBVTG9uZyRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBVTG9uZ1JhbmdlJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIFVMb25nUHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgICB2YXIgVVNob3J0JENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdmFyIHBhY2thZ2Uka290bGluID0gXy5rb3RsaW4gfHwgKF8ua290bGluID0ge30pO1xuICAgIHZhciBwYWNrYWdlJGNvbGxlY3Rpb25zID0gcGFja2FnZSRrb3RsaW4uY29sbGVjdGlvbnMgfHwgKHBhY2thZ2Uka290bGluLmNvbGxlY3Rpb25zID0ge30pO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29udGFpbnNfbWp5Nmp3JCA9IGNvbnRhaW5zO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29udGFpbnNfbzJmOW1lJCA9IGNvbnRhaW5zXzc7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRfbGFzdEluZGV4X203ejRsZyQgPSBnZXRfbGFzdEluZGV4O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuZ2V0T3JOdWxsXzh1amprOCQgPSBnZXRPck51bGw7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5pbmRleE9mX21qeTZqdyQgPSBpbmRleE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuaW5kZXhPZl9vMmY5bWUkID0gaW5kZXhPZl83O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuZ2V0X2luZGljZXNfbTd6NGxnJCA9IGdldF9pbmRpY2VzO1xuICAgIHZhciBwYWNrYWdlJHJhbmdlcyA9IHBhY2thZ2Uka290bGluLnJhbmdlcyB8fCAocGFja2FnZSRrb3RsaW4ucmFuZ2VzID0ge30pO1xuICAgIHBhY2thZ2UkcmFuZ2VzLnJldmVyc2VkX3pmMXh6YyQgPSByZXZlcnNlZF85O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubGFzdEluZGV4T2ZfbWp5Nmp3JCA9IGxhc3RJbmRleE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuc2luZ2xlXzM1NW50eiQgPSBzaW5nbGVfNztcbiAgICBwYWNrYWdlJGtvdGxpbi5JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdF9wZGwxdmokID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXRfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmVtcHR5TGlzdF8yODdlMiQgPSBlbXB0eUxpc3Q7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BcnJheUxpc3RfaW5pdF8yODdlMiQgPSBBcnJheUxpc3RfaW5pdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvTGlzdF91czBtZnUkID0gdG9MaXN0O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubWFwQ2FwYWNpdHlfemEzbHBhJCA9IG1hcENhcGFjaXR5O1xuICAgIHBhY2thZ2UkcmFuZ2VzLmNvZXJjZUF0TGVhc3RfZHFnbHJqJCA9IGNvZXJjZUF0TGVhc3RfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXBfaW5pdF9id3RjNyQgPSBMaW5rZWRIYXNoTWFwX2luaXRfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnRvQ29sbGVjdGlvbl81bjRvMnokID0gdG9Db2xsZWN0aW9uO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9NdXRhYmxlTGlzdF91czBtZnUkID0gdG9NdXRhYmxlTGlzdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXBfaW5pdF9xM2xtZnYkID0gTGlua2VkSGFzaE1hcF9pbml0O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuQXJyYXlMaXN0X2luaXRfd3c3M244JCA9IEFycmF5TGlzdF9pbml0XzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoU2V0X2luaXRfMjg3ZTIkID0gSGFzaFNldF9pbml0O1xuICAgIHBhY2thZ2Uka290bGluLlVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uX2luaXRfcGRsMXZqJCA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uX2luaXRfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmNvbGxlY3Rpb25TaXplT3JEZWZhdWx0X2JhMmxkbyQgPSBjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmdldF9sYXN0SW5kZXhfNTV0aG9jJCA9IGdldF9sYXN0SW5kZXhfMTI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRPck51bGxfeXpsbjJvJCA9IGdldE9yTnVsbF84O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY2hlY2tJbmRleE92ZXJmbG93X3phM2xwYSQgPSBjaGVja0luZGV4T3ZlcmZsb3c7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5sYXN0XzJwMWVmbSQgPSBsYXN0XzE4O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubGFzdE9yTnVsbF8ycDFlZm0kID0gbGFzdE9yTnVsbF8xODtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnNpbmdsZV83d252emEkID0gc2luZ2xlXzE3O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuc2luZ2xlXzJwMWVmbSQgPSBzaW5nbGVfMTg7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5zbGljZV82YmpiaTEkID0gc2xpY2VfMTc7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy50b0xpc3RfN3dudnphJCA9IHRvTGlzdF84O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMucmV2ZXJzZWRfN3dudnphJCA9IHJldmVyc2VkXzg7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy50b0NvbGxlY3Rpb25fNWNmeXFwJCA9IHRvQ29sbGVjdGlvbl84O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9NdXRhYmxlTGlzdF83d252emEkID0gdG9NdXRhYmxlTGlzdF84O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9NdXRhYmxlTGlzdF80Yzd5Z2UkID0gdG9NdXRhYmxlTGlzdF85O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9TZXRfN3dudnphJCA9IHRvU2V0Xzg7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5Db2xsZWN0aW9uID0gQ29sbGVjdGlvbjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLm1pbl9leGprczgkID0gbWluXzExO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuam9pblRvX2djYzcxdiQgPSBqb2luVG9fODtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmpvaW5Ub1N0cmluZ19mbXYyMzUkID0gam9pblRvU3RyaW5nXzg7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5hc1NlcXVlbmNlXzd3bnZ6YSQgPSBhc1NlcXVlbmNlXzg7XG4gICAgcGFja2FnZSRyYW5nZXMuZG93blRvX2RxZ2xyaiQgPSBkb3duVG9fNDtcbiAgICBwYWNrYWdlJHJhbmdlcy51bnRpbF9kcWdscmokID0gdW50aWxfNDtcbiAgICBwYWNrYWdlJHJhbmdlcy5jb2VyY2VBdE1vc3RfZHFnbHJqJCA9IGNvZXJjZUF0TW9zdF8yO1xuICAgIHBhY2thZ2UkcmFuZ2VzLmNvZXJjZUluX2U0eXZiMyQgPSBjb2VyY2VJbl8yO1xuICAgIHZhciBwYWNrYWdlJHNlcXVlbmNlcyA9IHBhY2thZ2Uka290bGluLnNlcXVlbmNlcyB8fCAocGFja2FnZSRrb3RsaW4uc2VxdWVuY2VzID0ge30pO1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLlNlcXVlbmNlID0gU2VxdWVuY2U7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMudGFrZV93dXdoZTIkID0gdGFrZV85O1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLnRvQ29sbGVjdGlvbl9ndHN6eHAkID0gdG9Db2xsZWN0aW9uXzk7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMudG9MaXN0X3ZlcXlpMCQgPSB0b0xpc3RfMTA7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMudG9NdXRhYmxlTGlzdF92ZXF5aTAkID0gdG9NdXRhYmxlTGlzdF8xMDtcbiAgICBwYWNrYWdlJHNlcXVlbmNlcy5tYXBfejVhdm9tJCA9IG1hcF8xMDtcbiAgICBwYWNrYWdlJHNlcXVlbmNlcy5hc0l0ZXJhYmxlX3ZlcXlpMCQgPSBhc0l0ZXJhYmxlXzEwO1xuICAgIHZhciBwYWNrYWdlJHRleHQgPSBwYWNrYWdlJGtvdGxpbi50ZXh0IHx8IChwYWNrYWdlJGtvdGxpbi50ZXh0ID0ge30pO1xuICAgIHBhY2thZ2UkdGV4dC5nZXRfbGFzdEluZGV4X2d3MDB2cCQgPSBnZXRfbGFzdEluZGV4XzEzO1xuICAgIHBhY2thZ2UkdGV4dC5pdGVyYXRvcl9ndzAwdnAkID0gaXRlcmF0b3JfNDtcbiAgICBwYWNrYWdlJHRleHQuZ2V0X2luZGljZXNfZ3cwMHZwJCA9IGdldF9pbmRpY2VzXzEzO1xuICAgIHBhY2thZ2UkdGV4dC5zaW5nbGVfZ3cwMHZwJCA9IHNpbmdsZV8yMjtcbiAgICBwYWNrYWdlJHRleHQuZHJvcF82aWMxcHAkID0gZHJvcF8xMTtcbiAgICBwYWNrYWdlJHRleHQuU3RyaW5nQnVpbGRlcl9pbml0ID0gU3RyaW5nQnVpbGRlcl9pbml0XzE7XG4gICAgdmFyIHBhY2thZ2UkbWF0aCA9IHBhY2thZ2Uka290bGluLm1hdGggfHwgKHBhY2thZ2Uka290bGluLm1hdGggPSB7fSk7XG4gICAgcGFja2FnZSRrb3RsaW4uQ2hhclNlcXVlbmNlID0gQ2hhclNlcXVlbmNlO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSXRlcmFibGUgPSBJdGVyYWJsZTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLk11dGFibGVJdGVyYWJsZSA9IE11dGFibGVJdGVyYWJsZTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLk11dGFibGVDb2xsZWN0aW9uID0gTXV0YWJsZUNvbGxlY3Rpb247XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5MaXN0ID0gTGlzdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLk11dGFibGVMaXN0ID0gTXV0YWJsZUxpc3Q7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5TZXQgPSBTZXQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NdXRhYmxlU2V0ID0gTXV0YWJsZVNldDtcbiAgICBNYXAuRW50cnkgPSBNYXAkRW50cnk7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NYXAgPSBNYXA7XG4gICAgTXV0YWJsZU1hcC5NdXRhYmxlRW50cnkgPSBNdXRhYmxlTWFwJE11dGFibGVFbnRyeTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLk11dGFibGVNYXAgPSBNdXRhYmxlTWFwO1xuICAgIHBhY2thZ2Uka290bGluLkZ1bmN0aW9uID0gRnVuY3Rpb25fMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkl0ZXJhdG9yID0gSXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NdXRhYmxlSXRlcmF0b3IgPSBNdXRhYmxlSXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5MaXN0SXRlcmF0b3IgPSBMaXN0SXRlcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5NdXRhYmxlTGlzdEl0ZXJhdG9yID0gTXV0YWJsZUxpc3RJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkJ5dGVJdGVyYXRvciA9IEJ5dGVJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkNoYXJJdGVyYXRvciA9IENoYXJJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLlNob3J0SXRlcmF0b3IgPSBTaG9ydEl0ZXJhdG9yO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSW50SXRlcmF0b3IgPSBJbnRJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxvbmdJdGVyYXRvciA9IExvbmdJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkZsb2F0SXRlcmF0b3IgPSBGbG9hdEl0ZXJhdG9yO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuRG91YmxlSXRlcmF0b3IgPSBEb3VibGVJdGVyYXRvcjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkJvb2xlYW5JdGVyYXRvciA9IEJvb2xlYW5JdGVyYXRvcjtcbiAgICBwYWNrYWdlJHJhbmdlcy5DaGFyUHJvZ3Jlc3Npb25JdGVyYXRvciA9IENoYXJQcm9ncmVzc2lvbkl0ZXJhdG9yO1xuICAgIHBhY2thZ2UkcmFuZ2VzLkludFByb2dyZXNzaW9uSXRlcmF0b3IgPSBJbnRQcm9ncmVzc2lvbkl0ZXJhdG9yO1xuICAgIHBhY2thZ2UkcmFuZ2VzLkxvbmdQcm9ncmVzc2lvbkl0ZXJhdG9yID0gTG9uZ1Byb2dyZXNzaW9uSXRlcmF0b3I7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYXJQcm9ncmVzc2lvbiwgJ0NvbXBhbmlvbicsIHtnZXQ6IENoYXJQcm9ncmVzc2lvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJHJhbmdlcy5DaGFyUHJvZ3Jlc3Npb24gPSBDaGFyUHJvZ3Jlc3Npb247XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEludFByb2dyZXNzaW9uLCAnQ29tcGFuaW9uJywge2dldDogSW50UHJvZ3Jlc3Npb24kQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRyYW5nZXMuSW50UHJvZ3Jlc3Npb24gPSBJbnRQcm9ncmVzc2lvbjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9uZ1Byb2dyZXNzaW9uLCAnQ29tcGFuaW9uJywge2dldDogTG9uZ1Byb2dyZXNzaW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkcmFuZ2VzLkxvbmdQcm9ncmVzc2lvbiA9IExvbmdQcm9ncmVzc2lvbjtcbiAgICBwYWNrYWdlJHJhbmdlcy5DbG9zZWRSYW5nZSA9IENsb3NlZFJhbmdlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFyUmFuZ2UsICdDb21wYW5pb24nLCB7Z2V0OiBDaGFyUmFuZ2UkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRyYW5nZXMuQ2hhclJhbmdlID0gQ2hhclJhbmdlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRSYW5nZSwgJ0NvbXBhbmlvbicsIHtnZXQ6IEludFJhbmdlJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkcmFuZ2VzLkludFJhbmdlID0gSW50UmFuZ2U7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvbmdSYW5nZSwgJ0NvbXBhbmlvbicsIHtnZXQ6IExvbmdSYW5nZSRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJHJhbmdlcy5Mb25nUmFuZ2UgPSBMb25nUmFuZ2U7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2Uka290bGluLCAnVW5pdCcsIHtnZXQ6IFVuaXRfZ2V0SW5zdGFuY2V9KTtcbiAgICB2YXIgcGFja2FnZSRpbnRlcm5hbCA9IHBhY2thZ2Uka290bGluLmludGVybmFsIHx8IChwYWNrYWdlJGtvdGxpbi5pbnRlcm5hbCA9IHt9KTtcbiAgICBwYWNrYWdlJGludGVybmFsLmdldFByb2dyZXNzaW9uTGFzdEVsZW1lbnRfcXQxZHIyJCA9IGdldFByb2dyZXNzaW9uTGFzdEVsZW1lbnQ7XG4gICAgcGFja2FnZSRpbnRlcm5hbC5nZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50X2I5YmQwZCQgPSBnZXRQcm9ncmVzc2lvbkxhc3RFbGVtZW50XzA7XG4gICAgdmFyIHBhY2thZ2UkcmVmbGVjdCA9IHBhY2thZ2Uka290bGluLnJlZmxlY3QgfHwgKHBhY2thZ2Uka290bGluLnJlZmxlY3QgPSB7fSk7XG4gICAgcGFja2FnZSRyZWZsZWN0LktBbm5vdGF0ZWRFbGVtZW50ID0gS0Fubm90YXRlZEVsZW1lbnQ7XG4gICAgcGFja2FnZSRyZWZsZWN0LktDYWxsYWJsZSA9IEtDYWxsYWJsZTtcbiAgICBwYWNrYWdlJHJlZmxlY3QuS0NsYXNzID0gS0NsYXNzO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LQ2xhc3NpZmllciA9IEtDbGFzc2lmaWVyO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LRGVjbGFyYXRpb25Db250YWluZXIgPSBLRGVjbGFyYXRpb25Db250YWluZXI7XG4gICAgcGFja2FnZSRyZWZsZWN0LktGdW5jdGlvbiA9IEtGdW5jdGlvbjtcbiAgICBLUHJvcGVydHkuQWNjZXNzb3IgPSBLUHJvcGVydHkkQWNjZXNzb3I7XG4gICAgS1Byb3BlcnR5LkdldHRlciA9IEtQcm9wZXJ0eSRHZXR0ZXI7XG4gICAgcGFja2FnZSRyZWZsZWN0LktQcm9wZXJ0eSA9IEtQcm9wZXJ0eTtcbiAgICBLTXV0YWJsZVByb3BlcnR5LlNldHRlciA9IEtNdXRhYmxlUHJvcGVydHkkU2V0dGVyO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LTXV0YWJsZVByb3BlcnR5ID0gS011dGFibGVQcm9wZXJ0eTtcbiAgICBLUHJvcGVydHkwLkdldHRlciA9IEtQcm9wZXJ0eTAkR2V0dGVyO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LUHJvcGVydHkwID0gS1Byb3BlcnR5MDtcbiAgICBLTXV0YWJsZVByb3BlcnR5MC5TZXR0ZXIgPSBLTXV0YWJsZVByb3BlcnR5MCRTZXR0ZXI7XG4gICAgcGFja2FnZSRyZWZsZWN0LktNdXRhYmxlUHJvcGVydHkwID0gS011dGFibGVQcm9wZXJ0eTA7XG4gICAgS1Byb3BlcnR5MS5HZXR0ZXIgPSBLUHJvcGVydHkxJEdldHRlcjtcbiAgICBwYWNrYWdlJHJlZmxlY3QuS1Byb3BlcnR5MSA9IEtQcm9wZXJ0eTE7XG4gICAgS011dGFibGVQcm9wZXJ0eTEuU2V0dGVyID0gS011dGFibGVQcm9wZXJ0eTEkU2V0dGVyO1xuICAgIHBhY2thZ2UkcmVmbGVjdC5LTXV0YWJsZVByb3BlcnR5MSA9IEtNdXRhYmxlUHJvcGVydHkxO1xuICAgIF8uYXJyYXlJdGVyYXRvciA9IGFycmF5SXRlcmF0b3I7XG4gICAgXy5ib29sZWFuQXJyYXlJdGVyYXRvciA9IGJvb2xlYW5BcnJheUl0ZXJhdG9yO1xuICAgIF8uYnl0ZUFycmF5SXRlcmF0b3IgPSBieXRlQXJyYXlJdGVyYXRvcjtcbiAgICBfLnNob3J0QXJyYXlJdGVyYXRvciA9IHNob3J0QXJyYXlJdGVyYXRvcjtcbiAgICBfLmNoYXJBcnJheUl0ZXJhdG9yID0gY2hhckFycmF5SXRlcmF0b3I7XG4gICAgXy5pbnRBcnJheUl0ZXJhdG9yID0gaW50QXJyYXlJdGVyYXRvcjtcbiAgICBfLmZsb2F0QXJyYXlJdGVyYXRvciA9IGZsb2F0QXJyYXlJdGVyYXRvcjtcbiAgICBfLmRvdWJsZUFycmF5SXRlcmF0b3IgPSBkb3VibGVBcnJheUl0ZXJhdG9yO1xuICAgIF8ubG9uZ0FycmF5SXRlcmF0b3IgPSBsb25nQXJyYXlJdGVyYXRvcjtcbiAgICBfLm5vV2hlbkJyYW5jaE1hdGNoZWQgPSBub1doZW5CcmFuY2hNYXRjaGVkO1xuICAgIF8uc3ViU2VxdWVuY2UgPSBzdWJTZXF1ZW5jZTtcbiAgICBfLmNhcHR1cmVTdGFjayA9IGNhcHR1cmVTdGFjaztcbiAgICBfLkJveGVkQ2hhciA9IEJveGVkQ2hhcjtcbiAgICBfLmNoYXJBcnJheU9mID0gY2hhckFycmF5T2Y7XG4gICAgdmFyIHBhY2thZ2UkY29yb3V0aW5lcyA9IHBhY2thZ2Uka290bGluLmNvcm91dGluZXMgfHwgKHBhY2thZ2Uka290bGluLmNvcm91dGluZXMgPSB7fSk7XG4gICAgcGFja2FnZSRjb3JvdXRpbmVzLkNvcm91dGluZUltcGwgPSBDb3JvdXRpbmVJbXBsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGNvcm91dGluZXMsICdDb21wbGV0ZWRDb250aW51YXRpb24nLCB7Z2V0OiBDb21wbGV0ZWRDb250aW51YXRpb25fZ2V0SW5zdGFuY2V9KTtcbiAgICB2YXIgcGFja2FnZSRpbnRyaW5zaWNzID0gcGFja2FnZSRjb3JvdXRpbmVzLmludHJpbnNpY3MgfHwgKHBhY2thZ2UkY29yb3V0aW5lcy5pbnRyaW5zaWNzID0ge30pO1xuICAgIHBhY2thZ2UkaW50cmluc2ljcy5pbnRlcmNlcHRlZF9mOW1nMjUkID0gaW50ZXJjZXB0ZWQ7XG4gICAgdmFyIHBhY2thZ2UkanMgPSBwYWNrYWdlJGtvdGxpbi5qcyB8fCAocGFja2FnZSRrb3RsaW4uanMgPSB7fSk7XG4gICAgcGFja2FnZSRrb3RsaW4ubGF6eV9rbGZnMDQkID0gbGF6eTtcbiAgICBwYWNrYWdlJGtvdGxpbi5maWxsRnJvbV9kZ3p1dHIkID0gZmlsbEZyb207XG4gICAgcGFja2FnZSRrb3RsaW4uYXJyYXlDb3B5UmVzaXplX3hhbzRpdSQgPSBhcnJheUNvcHlSZXNpemU7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5hc0xpc3RfdXMwbWZ1JCA9IGFzTGlzdDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmNvcHlPZl8xcXUxMmwkID0gY29weU9mXzIyO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29weU9mX2d0Y3c1aCQgPSBjb3B5T2ZfMjM7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5jb3B5T2ZSYW5nZV81ZjhsM3UkID0gY29weU9mUmFuZ2VfMztcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnJldmVyc2VfdnZ4emszJCA9IHJldmVyc2VfMTI7XG4gICAgcGFja2FnZSRrb3RsaW4uQ29tcGFyYXRvciA9IENvbXBhcmF0b3I7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5jb3B5VG9BcnJheSA9IGNvcHlUb0FycmF5O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29weVRvQXJyYXlJbXBsID0gY29weVRvQXJyYXlJbXBsO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuY29weVRvRXhpc3RpbmdBcnJheUltcGwgPSBjb3B5VG9BcnJheUltcGxfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmxpc3RPZl9taDVob3ckID0gbGlzdE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuc2V0T2ZfbWg1aG93JCA9IHNldE9mO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuQWJzdHJhY3RNdXRhYmxlQ29sbGVjdGlvbiA9IEFic3RyYWN0TXV0YWJsZUNvbGxlY3Rpb247XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BYnN0cmFjdE11dGFibGVMaXN0ID0gQWJzdHJhY3RNdXRhYmxlTGlzdDtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAuU2ltcGxlRW50cnlfaW5pdF90cndtcWckID0gQWJzdHJhY3RNdXRhYmxlTWFwJEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeV9pbml0O1xuICAgIEFic3RyYWN0TXV0YWJsZU1hcC5TaW1wbGVFbnRyeSA9IEFic3RyYWN0TXV0YWJsZU1hcCRTaW1wbGVFbnRyeTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TXV0YWJsZU1hcCA9IEFic3RyYWN0TXV0YWJsZU1hcDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TXV0YWJsZVNldCA9IEFic3RyYWN0TXV0YWJsZVNldDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFycmF5TGlzdF9pbml0X21xaWg1NyQgPSBBcnJheUxpc3RfaW5pdF8xO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuQXJyYXlMaXN0ID0gQXJyYXlMaXN0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFcXVhbGl0eUNvbXBhcmF0b3IsICdIYXNoQ29kZScsIHtnZXQ6IEVxdWFsaXR5Q29tcGFyYXRvciRIYXNoQ29kZV9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuRXF1YWxpdHlDb21wYXJhdG9yID0gRXF1YWxpdHlDb21wYXJhdG9yO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSGFzaE1hcF9pbml0X3ZhOTZkNCQgPSBIYXNoTWFwX2luaXQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoTWFwX2luaXRfcTNsbWZ2JCA9IEhhc2hNYXBfaW5pdF8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSGFzaE1hcF9pbml0X3hmNXh6MiQgPSBIYXNoTWFwX2luaXRfMTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF9id3RjNyQgPSBIYXNoTWFwX2luaXRfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF83M210cWMkID0gSGFzaE1hcF9pbml0XzM7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoTWFwID0gSGFzaE1hcDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hTZXRfaW5pdF9tcWloNTckID0gSGFzaFNldF9pbml0XzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoU2V0X2luaXRfMndvZmVyJCA9IEhhc2hTZXRfaW5pdF8xO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSGFzaFNldF9pbml0X3d3NzNuOCQgPSBIYXNoU2V0X2luaXRfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkhhc2hTZXRfaW5pdF9ubjAxaG8kID0gSGFzaFNldF9pbml0XzM7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5IYXNoU2V0ID0gSGFzaFNldDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkludGVybmFsSGFzaENvZGVNYXAgPSBJbnRlcm5hbEhhc2hDb2RlTWFwO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuSW50ZXJuYWxNYXAgPSBJbnRlcm5hbE1hcDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkludGVybmFsU3RyaW5nTWFwID0gSW50ZXJuYWxTdHJpbmdNYXA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5MaW5rZWRIYXNoTWFwX2luaXRfeGY1eHoyJCA9IExpbmtlZEhhc2hNYXBfaW5pdF8xO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcF9pbml0XzczbXRxYyQgPSBMaW5rZWRIYXNoTWFwX2luaXRfMztcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXAgPSBMaW5rZWRIYXNoTWFwO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldF9pbml0XzI4N2UyJCA9IExpbmtlZEhhc2hTZXRfaW5pdF8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldF9pbml0X21xaWg1NyQgPSBMaW5rZWRIYXNoU2V0X2luaXRfMTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkxpbmtlZEhhc2hTZXRfaW5pdF8yd29mZXIkID0gTGlua2VkSGFzaFNldF9pbml0XzI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5MaW5rZWRIYXNoU2V0X2luaXRfd3c3M244JCA9IExpbmtlZEhhc2hTZXRfaW5pdF8zO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldCA9IExpbmtlZEhhc2hTZXQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5SYW5kb21BY2Nlc3MgPSBSYW5kb21BY2Nlc3M7XG4gICAgdmFyIHBhY2thZ2UkaW8gPSBwYWNrYWdlJGtvdGxpbi5pbyB8fCAocGFja2FnZSRrb3RsaW4uaW8gPSB7fSk7XG4gICAgcGFja2FnZSRpby5CYXNlT3V0cHV0ID0gQmFzZU91dHB1dDtcbiAgICBwYWNrYWdlJGlvLk5vZGVKc091dHB1dCA9IE5vZGVKc091dHB1dDtcbiAgICBwYWNrYWdlJGlvLkJ1ZmZlcmVkT3V0cHV0ID0gQnVmZmVyZWRPdXRwdXQ7XG4gICAgcGFja2FnZSRpby5CdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZyA9IEJ1ZmZlcmVkT3V0cHV0VG9Db25zb2xlTG9nO1xuICAgIHBhY2thZ2UkaW8ucHJpbnRsbl9zOGp5djQkID0gcHJpbnRsbl8wO1xuICAgIHBhY2thZ2UkY29yb3V0aW5lcy5TYWZlQ29udGludWF0aW9uX2luaXRfd2o4ZDgwJCA9IFNhZmVDb250aW51YXRpb25faW5pdDtcbiAgICBwYWNrYWdlJGNvcm91dGluZXMuU2FmZUNvbnRpbnVhdGlvbiA9IFNhZmVDb250aW51YXRpb247XG4gICAgXy50aHJvd05QRSA9IHRocm93TlBFO1xuICAgIF8udGhyb3dDQ0UgPSB0aHJvd0NDRV8wO1xuICAgIF8udGhyb3dJU0UgPSB0aHJvd0lTRTtcbiAgICBfLnRocm93VVBBRSA9IHRocm93VVBBRTtcbiAgICBwYWNrYWdlJGtvdGxpbi5FcnJvcl9pbml0X3BkbDF2aiQgPSBFcnJvcl9pbml0XzA7XG4gICAgcGFja2FnZSRrb3RsaW4uRXJyb3IgPSBFcnJvcl8wO1xuICAgIHBhY2thZ2Uka290bGluLkV4Y2VwdGlvbl9pbml0ID0gRXhjZXB0aW9uX2luaXQ7XG4gICAgcGFja2FnZSRrb3RsaW4uRXhjZXB0aW9uID0gRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLlJ1bnRpbWVFeGNlcHRpb25faW5pdF9wZGwxdmokID0gUnVudGltZUV4Y2VwdGlvbl9pbml0XzA7XG4gICAgcGFja2FnZSRrb3RsaW4uUnVudGltZUV4Y2VwdGlvbiA9IFJ1bnRpbWVFeGNlcHRpb247XG4gICAgcGFja2FnZSRrb3RsaW4uSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLklsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0X3BkbDF2aiQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF8wO1xuICAgIHBhY2thZ2Uka290bGluLklsbGVnYWxTdGF0ZUV4Y2VwdGlvbiA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5JbmRleE91dE9mQm91bmRzRXhjZXB0aW9uID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLk51bWJlckZvcm1hdEV4Y2VwdGlvbiA9IE51bWJlckZvcm1hdEV4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5OdWxsUG9pbnRlckV4Y2VwdGlvbiA9IE51bGxQb2ludGVyRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLkNsYXNzQ2FzdEV4Y2VwdGlvbiA9IENsYXNzQ2FzdEV4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5Ob1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQgPSBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQ7XG4gICAgcGFja2FnZSRrb3RsaW4uTm9TdWNoRWxlbWVudEV4Y2VwdGlvbiA9IE5vU3VjaEVsZW1lbnRFeGNlcHRpb247XG4gICAgcGFja2FnZSRrb3RsaW4uQXJpdGhtZXRpY0V4Y2VwdGlvbiA9IEFyaXRobWV0aWNFeGNlcHRpb247XG4gICAgcGFja2FnZSRrb3RsaW4uTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbl9pbml0ID0gTm9XaGVuQnJhbmNoTWF0Y2hlZEV4Y2VwdGlvbl9pbml0O1xuICAgIHBhY2thZ2Uka290bGluLk5vV2hlbkJyYW5jaE1hdGNoZWRFeGNlcHRpb24gPSBOb1doZW5CcmFuY2hNYXRjaGVkRXhjZXB0aW9uO1xuICAgIHBhY2thZ2Uka290bGluLlVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbl9pbml0X3BkbDF2aiQgPSBVbmluaXRpYWxpemVkUHJvcGVydHlBY2Nlc3NFeGNlcHRpb25faW5pdF8wO1xuICAgIHBhY2thZ2Uka290bGluLlVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbiA9IFVuaW5pdGlhbGl6ZWRQcm9wZXJ0eUFjY2Vzc0V4Y2VwdGlvbjtcbiAgICBwYWNrYWdlJGlvLlNlcmlhbGl6YWJsZSA9IFNlcmlhbGl6YWJsZTtcbiAgICBwYWNrYWdlJGpzLmpzb25fcHl5bzE4JCA9IGpzb247XG4gICAgcGFja2FnZSRtYXRoLnJvdW5kXzE0ZHRoZSQgPSByb3VuZDtcbiAgICBwYWNrYWdlJGtvdGxpbi5pc05hTl95cndkeHIkID0gaXNOYU5fMDtcbiAgICBwYWNrYWdlJGtvdGxpbi5pc05hTl84MXN6ayQgPSBpc05hTl8xO1xuICAgIHBhY2thZ2Uka290bGluLmlzSW5maW5pdGVfeXJ3ZHhyJCA9IGlzSW5maW5pdGU7XG4gICAgcGFja2FnZSRrb3RsaW4uaXNJbmZpbml0ZV84MXN6ayQgPSBpc0luZmluaXRlXzA7XG4gICAgcGFja2FnZSRrb3RsaW4uaXNGaW5pdGVfeXJ3ZHhyJCA9IGlzRmluaXRlO1xuICAgIHBhY2thZ2Uka290bGluLmlzRmluaXRlXzgxc3prJCA9IGlzRmluaXRlXzA7XG4gICAgcGFja2FnZSRqcy5nZXRfanNfMXliOGI3JCA9IGdldF9qcztcbiAgICB2YXIgcGFja2FnZSRqc18xID0gcGFja2FnZSRyZWZsZWN0LmpzIHx8IChwYWNrYWdlJHJlZmxlY3QuanMgPSB7fSk7XG4gICAgdmFyIHBhY2thZ2UkaW50ZXJuYWxfMSA9IHBhY2thZ2UkanNfMS5pbnRlcm5hbCB8fCAocGFja2FnZSRqc18xLmludGVybmFsID0ge30pO1xuICAgIHBhY2thZ2UkaW50ZXJuYWxfMS5LQ2xhc3NJbXBsID0gS0NsYXNzSW1wbDtcbiAgICBwYWNrYWdlJGludGVybmFsXzEuU2ltcGxlS0NsYXNzSW1wbCA9IFNpbXBsZUtDbGFzc0ltcGw7XG4gICAgcGFja2FnZSRpbnRlcm5hbF8xLlByaW1pdGl2ZUtDbGFzc0ltcGwgPSBQcmltaXRpdmVLQ2xhc3NJbXBsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsXzEsICdOb3RoaW5nS0NsYXNzSW1wbCcsIHtnZXQ6IE5vdGhpbmdLQ2xhc3NJbXBsX2dldEluc3RhbmNlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWxfMSwgJ1ByaW1pdGl2ZUNsYXNzZXMnLCB7Z2V0OiBQcmltaXRpdmVDbGFzc2VzX2dldEluc3RhbmNlfSk7XG4gICAgXy5nZXRLQ2xhc3MgPSBnZXRLQ2xhc3M7XG4gICAgXy5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbiA9IGdldEtDbGFzc0Zyb21FeHByZXNzaW9uO1xuICAgIHBhY2thZ2UkanMucmVzZXRfeGpxZW5pJCA9IHJlc2V0O1xuICAgIHBhY2thZ2UkdGV4dC5pc1doaXRlc3BhY2VfbXl2MmQwJCA9IGlzV2hpdGVzcGFjZTtcbiAgICBwYWNrYWdlJHRleHQudG9Cb29sZWFuX3BkbDF2eiQgPSB0b0Jvb2xlYW47XG4gICAgcGFja2FnZSR0ZXh0LnRvQnl0ZV9wZGwxdnokID0gdG9CeXRlXzA7XG4gICAgcGFja2FnZSR0ZXh0LnRvU2hvcnRfcGRsMXZ6JCA9IHRvU2hvcnRfMDtcbiAgICBwYWNrYWdlJHRleHQudG9JbnRfcGRsMXZ6JCA9IHRvSW50O1xuICAgIHBhY2thZ2UkdGV4dC50b0xvbmdfcGRsMXZ6JCA9IHRvTG9uZztcbiAgICBwYWNrYWdlJHRleHQudG9Eb3VibGVfcGRsMXZ6JCA9IHRvRG91YmxlO1xuICAgIHBhY2thZ2UkdGV4dC50b0RvdWJsZU9yTnVsbF9wZGwxdnokID0gdG9Eb3VibGVPck51bGw7XG4gICAgcGFja2FnZSR0ZXh0LmNoZWNrUmFkaXhfemEzbHBhJCA9IGNoZWNrUmFkaXg7XG4gICAgcGFja2FnZSR0ZXh0LmRpZ2l0T2ZfeHZnOXEwJCA9IGRpZ2l0T2Y7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZ2V4T3B0aW9uLCAnSUdOT1JFX0NBU0UnLCB7Z2V0OiBSZWdleE9wdGlvbiRJR05PUkVfQ0FTRV9nZXRJbnN0YW5jZX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWdleE9wdGlvbiwgJ01VTFRJTElORScsIHtnZXQ6IFJlZ2V4T3B0aW9uJE1VTFRJTElORV9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkdGV4dC5SZWdleE9wdGlvbiA9IFJlZ2V4T3B0aW9uO1xuICAgIHBhY2thZ2UkdGV4dC5NYXRjaEdyb3VwID0gTWF0Y2hHcm91cDtcbiAgICBwYWNrYWdlJHRleHQuU3RyaW5nQnVpbGRlcl9pbml0X3phM2xwYSQgPSBTdHJpbmdCdWlsZGVyX2luaXQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZ2V4LCAnQ29tcGFuaW9uJywge2dldDogUmVnZXgkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSR0ZXh0LlJlZ2V4X2luaXRfc2IzcTIkID0gUmVnZXhfaW5pdDtcbiAgICBwYWNrYWdlJHRleHQuUmVnZXhfaW5pdF82MXpwb2UkID0gUmVnZXhfaW5pdF8wO1xuICAgIHBhY2thZ2UkdGV4dC5SZWdleCA9IFJlZ2V4O1xuICAgIHBhY2thZ2UkdGV4dC5TdHJpbmdfOGNoZm15JCA9IFN0cmluZ18yO1xuICAgIHBhY2thZ2UkdGV4dC5jb21wYXJlVG9fN2Vwb3htJCA9IGNvbXBhcmVUbztcbiAgICBwYWNrYWdlJHRleHQubWF0Y2hlc19yamt0cCQgPSBtYXRjaGVzO1xuICAgIHBhY2thZ2UkdGV4dC5pc0JsYW5rX2d3MDB2cCQgPSBpc0JsYW5rO1xuICAgIHBhY2thZ2UkdGV4dC5lcXVhbHNfaWdjeTNjJCA9IGVxdWFsc18wO1xuICAgIHBhY2thZ2UkdGV4dC5yZWdpb25NYXRjaGVzX2gzaWkycSQgPSByZWdpb25NYXRjaGVzO1xuICAgIHBhY2thZ2UkdGV4dC5yZXBsYWNlXzY4MHJtdyQgPSByZXBsYWNlO1xuICAgIHBhY2thZ2UkdGV4dC5BcHBlbmRhYmxlID0gQXBwZW5kYWJsZTtcbiAgICBwYWNrYWdlJHRleHQuU3RyaW5nQnVpbGRlciA9IFN0cmluZ0J1aWxkZXI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BYnN0cmFjdENvbGxlY3Rpb24gPSBBYnN0cmFjdENvbGxlY3Rpb247XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0TGlzdCwgJ0NvbXBhbmlvbicsIHtnZXQ6IEFic3RyYWN0TGlzdCRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TGlzdCA9IEFic3RyYWN0TGlzdDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNYXAsICdDb21wYW5pb24nLCB7Z2V0OiBBYnN0cmFjdE1hcCRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLkFic3RyYWN0TWFwID0gQWJzdHJhY3RNYXA7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0U2V0LCAnQ29tcGFuaW9uJywge2dldDogQWJzdHJhY3RTZXQkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5BYnN0cmFjdFNldCA9IEFic3RyYWN0U2V0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGNvbGxlY3Rpb25zLCAnRW1wdHlJdGVyYXRvcicsIHtnZXQ6IEVtcHR5SXRlcmF0b3JfZ2V0SW5zdGFuY2V9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRjb2xsZWN0aW9ucywgJ0VtcHR5TGlzdCcsIHtnZXQ6IEVtcHR5TGlzdF9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuYXNDb2xsZWN0aW9uX3ZqNDNhaCQgPSBhc0NvbGxlY3Rpb247XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5saXN0T2ZfaTV4MHl2JCA9IGxpc3RPZl8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMubXV0YWJsZUxpc3RPZl9pNXgweXYkID0gbXV0YWJsZUxpc3RPZl8wO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuYXJyYXlMaXN0T2ZfaTV4MHl2JCA9IGFycmF5TGlzdE9mXzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRfaW5kaWNlc19nems5MmIkID0gZ2V0X2luZGljZXNfMTI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5vcHRpbWl6ZVJlYWRPbmx5TGlzdF9xenVwdnYkID0gb3B0aW1pemVSZWFkT25seUxpc3Q7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy50aHJvd0luZGV4T3ZlcmZsb3cgPSB0aHJvd0luZGV4T3ZlcmZsb3c7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRPckltcGxpY2l0RGVmYXVsdF90OW9jaGEkID0gZ2V0T3JJbXBsaWNpdERlZmF1bHQ7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5lbXB0eU1hcF9xM2xtZnYkID0gZW1wdHlNYXA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5tYXBPZl9xZmN5YTAkID0gbWFwT2ZfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLm11dGFibGVNYXBPZl9xZmN5YTAkID0gbXV0YWJsZU1hcE9mXzA7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5nZXRWYWx1ZV90OW9jaGEkID0gZ2V0VmFsdWVfMjtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnB1dEFsbF81Z3Y0OW8kID0gcHV0QWxsO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMudG9NYXBfdWp3bmVpJCA9IHRvTWFwXzI7XG4gICAgcGFja2FnZSRjb2xsZWN0aW9ucy5hZGRBbGxfeWUxeTd2JCA9IGFkZEFsbF8xO1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMucmVtb3ZlQWxsX3VoeWVxdCQgPSByZW1vdmVBbGxfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLnJlbW92ZUFsbF9xYWZ4MWUkID0gcmVtb3ZlQWxsXzE7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuZW1wdHlTZXF1ZW5jZV8yODdlMiQgPSBlbXB0eVNlcXVlbmNlO1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLlRyYW5zZm9ybWluZ1NlcXVlbmNlID0gVHJhbnNmb3JtaW5nU2VxdWVuY2U7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuRmxhdHRlbmluZ1NlcXVlbmNlID0gRmxhdHRlbmluZ1NlcXVlbmNlO1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLkRyb3BUYWtlU2VxdWVuY2UgPSBEcm9wVGFrZVNlcXVlbmNlO1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLlN1YlNlcXVlbmNlID0gU3ViU2VxdWVuY2U7XG4gICAgcGFja2FnZSRzZXF1ZW5jZXMuVGFrZVNlcXVlbmNlID0gVGFrZVNlcXVlbmNlO1xuICAgIHBhY2thZ2Ukc2VxdWVuY2VzLmdlbmVyYXRlU2VxdWVuY2VfYzZzOWhwJCA9IGdlbmVyYXRlU2VxdWVuY2VfMTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRjb2xsZWN0aW9ucywgJ0VtcHR5U2V0Jywge2dldDogRW1wdHlTZXRfZ2V0SW5zdGFuY2V9KTtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLmVtcHR5U2V0XzI4N2UyJCA9IGVtcHR5U2V0O1xuICAgIHBhY2thZ2UkY29sbGVjdGlvbnMuaGFzaFNldE9mX2k1eDB5diQgPSBoYXNoU2V0T2ZfMDtcbiAgICBwYWNrYWdlJGNvbGxlY3Rpb25zLm9wdGltaXplUmVhZE9ubHlTZXRfOTRrZGJ0JCA9IG9wdGltaXplUmVhZE9ubHlTZXQ7XG4gICAgcGFja2FnZSRjb3JvdXRpbmVzLkNvbnRpbnVhdGlvbiA9IENvbnRpbnVhdGlvbjtcbiAgICBwYWNrYWdlJGtvdGxpbi5SZXN1bHQgPSBSZXN1bHQ7XG4gICAgcGFja2FnZSRpbnRyaW5zaWNzLmdldF9DT1JPVVRJTkVfU1VTUEVOREVEID0gZ2V0X0NPUk9VVElORV9TVVNQRU5ERUQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRpbnVhdGlvbkludGVyY2VwdG9yLCAnS2V5Jywge2dldDogQ29udGludWF0aW9uSW50ZXJjZXB0b3IkS2V5X2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRjb3JvdXRpbmVzLkNvbnRpbnVhdGlvbkludGVyY2VwdG9yID0gQ29udGludWF0aW9uSW50ZXJjZXB0b3I7XG4gICAgQ29yb3V0aW5lQ29udGV4dC5LZXkgPSBDb3JvdXRpbmVDb250ZXh0JEtleTtcbiAgICBDb3JvdXRpbmVDb250ZXh0LkVsZW1lbnQgPSBDb3JvdXRpbmVDb250ZXh0JEVsZW1lbnQ7XG4gICAgcGFja2FnZSRjb3JvdXRpbmVzLkNvcm91dGluZUNvbnRleHQgPSBDb3JvdXRpbmVDb250ZXh0O1xuICAgIHBhY2thZ2UkY29yb3V0aW5lcy5BYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50ID0gQWJzdHJhY3RDb3JvdXRpbmVDb250ZXh0RWxlbWVudDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRjb3JvdXRpbmVzLCAnRW1wdHlDb3JvdXRpbmVDb250ZXh0Jywge2dldDogRW1wdHlDb3JvdXRpbmVDb250ZXh0X2dldEluc3RhbmNlfSk7XG4gICAgcGFja2FnZSRjb3JvdXRpbmVzLkNvbWJpbmVkQ29udGV4dCA9IENvbWJpbmVkQ29udGV4dDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRyaW5zaWNzLCAnQ09ST1VUSU5FX1NVU1BFTkRFRCcsIHtnZXQ6IGdldF9DT1JPVVRJTkVfU1VTUEVOREVEfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcm91dGluZVNpbmdsZXRvbnMsICdDT1JPVVRJTkVfU1VTUEVOREVEJywge2dldDogQ29yb3V0aW5lU2luZ2xldG9ucyRDT1JPVVRJTkVfU1VTUEVOREVEX2dldEluc3RhbmNlfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvcm91dGluZVNpbmdsZXRvbnMsICdVTkRFQ0lERUQnLCB7Z2V0OiBDb3JvdXRpbmVTaW5nbGV0b25zJFVOREVDSURFRF9nZXRJbnN0YW5jZX0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb3JvdXRpbmVTaW5nbGV0b25zLCAnUkVTVU1FRCcsIHtnZXQ6IENvcm91dGluZVNpbmdsZXRvbnMkUkVTVU1FRF9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2UkaW50cmluc2ljcy5Db3JvdXRpbmVTaW5nbGV0b25zID0gQ29yb3V0aW5lU2luZ2xldG9ucztcbiAgICBwYWNrYWdlJHRleHQuZXF1YWxzXzRsdGU1cyQgPSBlcXVhbHNfMTtcbiAgICBwYWNrYWdlJHRleHQudHJpbUluZGVudF9wZGwxdnokID0gdHJpbUluZGVudDtcbiAgICBwYWNrYWdlJHRleHQucmVwbGFjZUluZGVudF9yamt0cCQgPSByZXBsYWNlSW5kZW50O1xuICAgIHBhY2thZ2UkdGV4dC5hcHBlbmRFbGVtZW50X2syemd6dCQgPSBhcHBlbmRFbGVtZW50XzA7XG4gICAgcGFja2FnZSR0ZXh0LnRvQnl0ZU9yTnVsbF9wZGwxdnokID0gdG9CeXRlT3JOdWxsO1xuICAgIHBhY2thZ2UkdGV4dC50b0J5dGVPck51bGxfNmljMXBwJCA9IHRvQnl0ZU9yTnVsbF8wO1xuICAgIHBhY2thZ2UkdGV4dC50b1Nob3J0T3JOdWxsX3BkbDF2eiQgPSB0b1Nob3J0T3JOdWxsO1xuICAgIHBhY2thZ2UkdGV4dC50b1Nob3J0T3JOdWxsXzZpYzFwcCQgPSB0b1Nob3J0T3JOdWxsXzA7XG4gICAgcGFja2FnZSR0ZXh0LnRvSW50T3JOdWxsX3BkbDF2eiQgPSB0b0ludE9yTnVsbDtcbiAgICBwYWNrYWdlJHRleHQudG9JbnRPck51bGxfNmljMXBwJCA9IHRvSW50T3JOdWxsXzA7XG4gICAgcGFja2FnZSR0ZXh0LnRvTG9uZ09yTnVsbF9wZGwxdnokID0gdG9Mb25nT3JOdWxsO1xuICAgIHBhY2thZ2UkdGV4dC50b0xvbmdPck51bGxfNmljMXBwJCA9IHRvTG9uZ09yTnVsbF8wO1xuICAgIHBhY2thZ2UkdGV4dC5udW1iZXJGb3JtYXRFcnJvcl95NHB1dGIkID0gbnVtYmVyRm9ybWF0RXJyb3I7XG4gICAgcGFja2FnZSR0ZXh0LnRyaW1TdGFydF93cXczeHIkID0gdHJpbVN0YXJ0XzI7XG4gICAgcGFja2FnZSR0ZXh0LnRyaW1FbmRfd3F3M3hyJCA9IHRyaW1FbmRfMjtcbiAgICBwYWNrYWdlJHRleHQudHJpbUVuZF9ndzAwdnAkID0gdHJpbUVuZF8zO1xuICAgIHBhY2thZ2UkdGV4dC5zdWJzdHJpbmdfaTUxMXljJCA9IHN1YnN0cmluZ18zO1xuICAgIHBhY2thZ2UkdGV4dC5yZWdpb25NYXRjaGVzSW1wbF80YzdzOHIkID0gcmVnaW9uTWF0Y2hlc0ltcGw7XG4gICAgcGFja2FnZSR0ZXh0LnN0YXJ0c1dpdGhfc2dibTI3JCA9IHN0YXJ0c1dpdGhfMTtcbiAgICBwYWNrYWdlJHRleHQuZW5kc1dpdGhfc2dibTI3JCA9IGVuZHNXaXRoXzA7XG4gICAgcGFja2FnZSR0ZXh0Lmxhc3RJbmRleE9mQW55X2p1bnFhdSQgPSBsYXN0SW5kZXhPZkFueTtcbiAgICBwYWNrYWdlJHRleHQuaW5kZXhPZl9sNXU4dWskID0gaW5kZXhPZl8xNztcbiAgICBwYWNrYWdlJHRleHQubGFzdEluZGV4T2ZfOGVvcnRkJCA9IGxhc3RJbmRleE9mXzE1O1xuICAgIHBhY2thZ2UkdGV4dC5sYXN0SW5kZXhPZl9sNXU4dWskID0gbGFzdEluZGV4T2ZfMTY7XG4gICAgcGFja2FnZSR0ZXh0LnNwbGl0VG9TZXF1ZW5jZV9pcDh5biQgPSBzcGxpdFRvU2VxdWVuY2U7XG4gICAgcGFja2FnZSR0ZXh0LnNwbGl0X2lwOHluJCA9IHNwbGl0O1xuICAgIHBhY2thZ2UkdGV4dC5saW5lU2VxdWVuY2VfZ3cwMHZwJCA9IGxpbmVTZXF1ZW5jZTtcbiAgICBwYWNrYWdlJHRleHQubGluZXNfZ3cwMHZwJCA9IGxpbmVzO1xuICAgIHBhY2thZ2UkdGV4dC5NYXRjaEdyb3VwQ29sbGVjdGlvbiA9IE1hdGNoR3JvdXBDb2xsZWN0aW9uO1xuICAgIE1hdGNoUmVzdWx0LkRlc3RydWN0dXJlZCA9IE1hdGNoUmVzdWx0JERlc3RydWN0dXJlZDtcbiAgICBwYWNrYWdlJHRleHQuTWF0Y2hSZXN1bHQgPSBNYXRjaFJlc3VsdDtcbiAgICBwYWNrYWdlJGtvdGxpbi5MYXp5ID0gTGF6eTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRrb3RsaW4sICdVTklOSVRJQUxJWkVEX1ZBTFVFJywge2dldDogVU5JTklUSUFMSVpFRF9WQUxVRV9nZXRJbnN0YW5jZX0pO1xuICAgIHBhY2thZ2Uka290bGluLlVuc2FmZUxhenlJbXBsID0gVW5zYWZlTGF6eUltcGw7XG4gICAgcGFja2FnZSRrb3RsaW4uSW5pdGlhbGl6ZWRMYXp5SW1wbCA9IEluaXRpYWxpemVkTGF6eUltcGw7XG4gICAgcGFja2FnZSRrb3RsaW4uY3JlYXRlRmFpbHVyZV90Y3Y3bjckID0gY3JlYXRlRmFpbHVyZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0LCAnQ29tcGFuaW9uJywge2dldDogUmVzdWx0JENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICAgIFJlc3VsdC5GYWlsdXJlID0gUmVzdWx0JEZhaWx1cmU7XG4gICAgcGFja2FnZSRrb3RsaW4udGhyb3dPbkZhaWx1cmVfaWFjaW9uJCA9IHRocm93T25GYWlsdXJlO1xuICAgIHBhY2thZ2Uka290bGluLk5vdEltcGxlbWVudGVkRXJyb3IgPSBOb3RJbXBsZW1lbnRlZEVycm9yO1xuICAgIHBhY2thZ2Uka290bGluLlBhaXIgPSBQYWlyO1xuICAgIHBhY2thZ2Uka290bGluLnRvX3VqenJ6NyQgPSB0bztcbiAgICBNdXRhYmxlTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IE1hcC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQ7XG4gICAgQWJzdHJhY3RNYXAucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkID0gTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJDtcbiAgICBBYnN0cmFjdE11dGFibGVNYXAucHJvdG90eXBlLnJlbW92ZV94d3pjOXAkID0gTXV0YWJsZU1hcC5wcm90b3R5cGUucmVtb3ZlX3h3emM5cCQ7XG4gICAgSW50ZXJuYWxIYXNoQ29kZU1hcC5wcm90b3R5cGUuY3JlYXRlSnNNYXAgPSBJbnRlcm5hbE1hcC5wcm90b3R5cGUuY3JlYXRlSnNNYXA7XG4gICAgSW50ZXJuYWxTdHJpbmdNYXAucHJvdG90eXBlLmNyZWF0ZUpzTWFwID0gSW50ZXJuYWxNYXAucHJvdG90eXBlLmNyZWF0ZUpzTWFwO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmaW5kTmV4dCRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2Rlc3RydWN0dXJlZCcsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWF0Y2hSZXN1bHQucHJvdG90eXBlLCAnZGVzdHJ1Y3R1cmVkJykpO1xuICAgIE1hcFdpdGhEZWZhdWx0LnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IE1hcC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQ7XG4gICAgTXV0YWJsZU1hcFdpdGhEZWZhdWx0LnByb3RvdHlwZS5yZW1vdmVfeHd6YzlwJCA9IE11dGFibGVNYXAucHJvdG90eXBlLnJlbW92ZV94d3pjOXAkO1xuICAgIE11dGFibGVNYXBXaXRoRGVmYXVsdC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQgPSBNdXRhYmxlTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJDtcbiAgICBNYXBXaXRoRGVmYXVsdEltcGwucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkID0gTWFwV2l0aERlZmF1bHQucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkO1xuICAgIE11dGFibGVNYXBXaXRoRGVmYXVsdEltcGwucHJvdG90eXBlLnJlbW92ZV94d3pjOXAkID0gTXV0YWJsZU1hcFdpdGhEZWZhdWx0LnByb3RvdHlwZS5yZW1vdmVfeHd6YzlwJDtcbiAgICBNdXRhYmxlTWFwV2l0aERlZmF1bHRJbXBsLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJCA9IE11dGFibGVNYXBXaXRoRGVmYXVsdC5wcm90b3R5cGUuZ2V0T3JEZWZhdWx0X3h3emM5cCQ7XG4gICAgRW1wdHlNYXAucHJvdG90eXBlLmdldE9yRGVmYXVsdF94d3pjOXAkID0gTWFwLnByb3RvdHlwZS5nZXRPckRlZmF1bHRfeHd6YzlwJDtcbiAgICBDb3JvdXRpbmVDb250ZXh0JEVsZW1lbnQucHJvdG90eXBlLnBsdXNfMWZ1cHVsJCA9IENvcm91dGluZUNvbnRleHQucHJvdG90eXBlLnBsdXNfMWZ1cHVsJDtcbiAgICBDb250aW51YXRpb25JbnRlcmNlcHRvci5wcm90b3R5cGUuZm9sZF8zY2M2OWIkID0gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQ7XG4gICAgQ29udGludWF0aW9uSW50ZXJjZXB0b3IucHJvdG90eXBlLnBsdXNfMWZ1cHVsJCA9IENvcm91dGluZUNvbnRleHQkRWxlbWVudC5wcm90b3R5cGUucGx1c18xZnVwdWwkO1xuICAgIEFic3RyYWN0Q29yb3V0aW5lQ29udGV4dEVsZW1lbnQucHJvdG90eXBlLmdldF9qM3Iyc24kID0gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5nZXRfajNyMnNuJDtcbiAgICBBYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50LnByb3RvdHlwZS5mb2xkXzNjYzY5YiQgPSBDb3JvdXRpbmVDb250ZXh0JEVsZW1lbnQucHJvdG90eXBlLmZvbGRfM2NjNjliJDtcbiAgICBBYnN0cmFjdENvcm91dGluZUNvbnRleHRFbGVtZW50LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkID0gQ29yb3V0aW5lQ29udGV4dCRFbGVtZW50LnByb3RvdHlwZS5taW51c0tleV95ZXFqYnkkO1xuICAgIEFic3RyYWN0Q29yb3V0aW5lQ29udGV4dEVsZW1lbnQucHJvdG90eXBlLnBsdXNfMWZ1cHVsJCA9IENvcm91dGluZUNvbnRleHQkRWxlbWVudC5wcm90b3R5cGUucGx1c18xZnVwdWwkO1xuICAgIENvbWJpbmVkQ29udGV4dC5wcm90b3R5cGUucGx1c18xZnVwdWwkID0gQ29yb3V0aW5lQ29udGV4dC5wcm90b3R5cGUucGx1c18xZnVwdWwkO1xuICAgIENvbXBhcmFibGVSYW5nZS5wcm90b3R5cGUuY29udGFpbnNfbWVmN2t4JCA9IENsb3NlZFJhbmdlLnByb3RvdHlwZS5jb250YWluc19tZWY3a3gkO1xuICAgIENvbXBhcmFibGVSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IENsb3NlZFJhbmdlLnByb3RvdHlwZS5pc0VtcHR5O1xuICAgIFBJID0gMy4xNDE1OTI2NTM1ODk3OTM7XG4gICAgRSA9IDIuNzE4MjgxODI4NDU5MDQ1O1xuICAgIF9zdGFibGVTb3J0aW5nSXNTdXBwb3J0ZWQgPSBudWxsO1xuICAgIHZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiAhIXByb2Nlc3MudmVyc2lvbnMubm9kZTtcbiAgICBvdXRwdXQgPSBpc05vZGUgPyBuZXcgTm9kZUpzT3V0cHV0KHByb2Nlc3Muc3Rkb3V0KSA6IG5ldyBCdWZmZXJlZE91dHB1dFRvQ29uc29sZUxvZygpO1xuICAgIEVtcHR5Q29udGludWF0aW9uID0gbmV3IENvbnRpbnVhdGlvbiRPYmplY3RMaXRlcmFsKEVtcHR5Q29yb3V0aW5lQ29udGV4dF9nZXRJbnN0YW5jZSgpLCBFbXB0eUNvbnRpbnVhdGlvbiRsYW1iZGEpO1xuICAgIElOVl8yXzI2ID0gTWF0aF8wLnBvdygyLjAsIC0yNik7XG4gICAgSU5WXzJfNTMgPSBNYXRoXzAucG93KDIuMCwgLTUzKTtcbiAgICBmdW5jdGlvbkNsYXNzZXMgPSBLb3RsaW4ubmV3QXJyYXkoMCwgbnVsbCk7XG4gICAgU1RSSU5HX0NBU0VfSU5TRU5TSVRJVkVfT1JERVIgPSBuZXcgQ29tcGFyYXRvciRPYmplY3RMaXRlcmFsXzAoU1RSSU5HX0NBU0VfSU5TRU5TSVRJVkVfT1JERVIkbGFtYmRhKTtcbiAgICBNQVhfQllURVNfUEVSX0NIQVIgPSAzO1xuICAgIFJFUExBQ0VNRU5UX0JZVEVfU0VRVUVOQ0UgPSBuZXcgSW50OEFycmF5KFt0b0J5dGUoMjM5KSwgdG9CeXRlKDE5MSksIHRvQnl0ZSgxODkpXSk7XG4gICAgUkVQTEFDRU1FTlRfQ0hBUiA9IDY1NTMzO1xuICAgIElOVF9NQVhfUE9XRVJfT0ZfVFdPID0gMTA3Mzc0MTgyNDtcbiAgICBTdGF0ZV9Ob3RSZWFkeSA9IDA7XG4gICAgU3RhdGVfTWFueU5vdFJlYWR5ID0gMTtcbiAgICBTdGF0ZV9NYW55UmVhZHkgPSAyO1xuICAgIFN0YXRlX1JlYWR5ID0gMztcbiAgICBTdGF0ZV9Eb25lID0gNDtcbiAgICBTdGF0ZV9GYWlsZWQgPSA1O1xuICB9KCkpO1xuICAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgS2luZF9DTEFTUyA9IEtvdGxpbi5LaW5kLkNMQVNTO1xuICAgIHZhciBBbnkgPSBPYmplY3Q7XG4gICAgdmFyIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0ID0gS290bGluLmtvdGxpbi5JbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdF9wZGwxdmokO1xuICAgIHZhciB0aHJvd0NDRSA9IEtvdGxpbi50aHJvd0NDRTtcbiAgICB2YXIgVGhyb3dhYmxlID0gRXJyb3I7XG4gICAgdmFyIGRlZmluZUlubGluZUZ1bmN0aW9uID0gS290bGluLmRlZmluZUlubGluZUZ1bmN0aW9uO1xuICAgIHZhciBLaW5kX09CSkVDVCA9IEtvdGxpbi5LaW5kLk9CSkVDVDtcbiAgICB2YXIgS2luZF9JTlRFUkZBQ0UgPSBLb3RsaW4uS2luZC5JTlRFUkZBQ0U7XG4gICAgdmFyIGVxdWFscyA9IEtvdGxpbi5lcXVhbHM7XG4gICAgdmFyIGhhc2hDb2RlID0gS290bGluLmhhc2hDb2RlO1xuICAgIHZhciB0b1N0cmluZyA9IEtvdGxpbi50b1N0cmluZztcbiAgICB2YXIgVW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5pdDtcbiAgICB2YXIgd3JhcEZ1bmN0aW9uID0gS290bGluLndyYXBGdW5jdGlvbjtcbiAgICB2YXIgQ29sbGVjdGlvbiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuQ29sbGVjdGlvbjtcbiAgICB2YXIgZW5zdXJlTm90TnVsbCA9IEtvdGxpbi5lbnN1cmVOb3ROdWxsO1xuICAgIHZhciBOb1N1Y2hFbGVtZW50RXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLk5vU3VjaEVsZW1lbnRFeGNlcHRpb25faW5pdDtcbiAgICB2YXIgSXRlcmF0b3IgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkl0ZXJhdG9yO1xuICAgIHZhciBTZXF1ZW5jZSA9IEtvdGxpbi5rb3RsaW4uc2VxdWVuY2VzLlNlcXVlbmNlO1xuICAgIHZhciBOb3RJbXBsZW1lbnRlZEVycm9yID0gS290bGluLmtvdGxpbi5Ob3RJbXBsZW1lbnRlZEVycm9yO1xuICAgIHZhciBVTkRFQ0lERUQ7XG4gICAgdmFyIFJFU1VNRUQ7XG4gICAgZnVuY3Rpb24gRmFpbChleGNlcHRpb24pIHtcbiAgICAgIHRoaXMuZXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgIH1cbiAgICBGYWlsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0ZhaWwnLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZnVuY3Rpb24gU2FmZUNvbnRpbnVhdGlvbihkZWxlZ2F0ZSwgaW5pdGlhbFJlc3VsdCkge1xuICAgICAgdGhpcy5kZWxlZ2F0ZV8wID0gZGVsZWdhdGU7XG4gICAgICB0aGlzLnJlc3VsdF8wID0gaW5pdGlhbFJlc3VsdDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlXzAuY29udGV4dDtcbiAgICB9fSk7XG4gICAgU2FmZUNvbnRpbnVhdGlvbi5wcm90b3R5cGUucmVzdW1lXzExcmIkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhpcy5yZXN1bHRfMCA9PT0gVU5ERUNJREVEKVxuICAgICAgICB0aGlzLnJlc3VsdF8wID0gdmFsdWU7XG4gICAgICBlbHNlIGlmICh0aGlzLnJlc3VsdF8wID09PSBDT1JPVVRJTkVfU1VTUEVOREVEKSB7XG4gICAgICAgIHRoaXMucmVzdWx0XzAgPSBSRVNVTUVEO1xuICAgICAgICB0aGlzLmRlbGVnYXRlXzAucmVzdW1lXzExcmIkKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQoJ0FscmVhZHkgcmVzdW1lZCcpO1xuICAgICAgfVxuICAgIH07XG4gICAgU2FmZUNvbnRpbnVhdGlvbi5wcm90b3R5cGUucmVzdW1lV2l0aEV4Y2VwdGlvbl90Y3Y3bjckID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMucmVzdWx0XzAgPT09IFVOREVDSURFRClcbiAgICAgICAgdGhpcy5yZXN1bHRfMCA9IG5ldyBGYWlsKGV4Y2VwdGlvbik7XG4gICAgICBlbHNlIGlmICh0aGlzLnJlc3VsdF8wID09PSBDT1JPVVRJTkVfU1VTUEVOREVEKSB7XG4gICAgICAgIHRoaXMucmVzdWx0XzAgPSBSRVNVTUVEO1xuICAgICAgICB0aGlzLmRlbGVnYXRlXzAucmVzdW1lV2l0aEV4Y2VwdGlvbl90Y3Y3bjckKGV4Y2VwdGlvbik7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KCdBbHJlYWR5IHJlc3VtZWQnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVDb250aW51YXRpb24ucHJvdG90eXBlLmdldFJlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0bXAkO1xuICAgICAgaWYgKHRoaXMucmVzdWx0XzAgPT09IFVOREVDSURFRCkge1xuICAgICAgICB0aGlzLnJlc3VsdF8wID0gQ09ST1VUSU5FX1NVU1BFTkRFRDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLnJlc3VsdF8wO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gUkVTVU1FRClcbiAgICAgICAgdG1wJCA9IENPUk9VVElORV9TVVNQRU5ERUQ7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKHJlc3VsdCwgRmFpbCkpXG4gICAgICAgIHRocm93IHJlc3VsdC5leGNlcHRpb247XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG1wJCA9IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkO1xuICAgIH07XG4gICAgU2FmZUNvbnRpbnVhdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTYWZlQ29udGludWF0aW9uJywgaW50ZXJmYWNlczogW0NvbnRpbnVhdGlvbl19O1xuICAgIGZ1bmN0aW9uIFNhZmVDb250aW51YXRpb25faW5pdChkZWxlZ2F0ZSwgJHRoaXMpIHtcbiAgICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShTYWZlQ29udGludWF0aW9uLnByb3RvdHlwZSk7XG4gICAgICBTYWZlQ29udGludWF0aW9uLmNhbGwoJHRoaXMsIGRlbGVnYXRlLCBVTkRFQ0lERUQpO1xuICAgICAgcmV0dXJuICR0aGlzO1xuICAgIH1cbiAgICB2YXIgQ09ST1VUSU5FX1NVU1BFTkRFRDtcbiAgICBmdW5jdGlvbiBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXIoKSB7XG4gICAgICBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0Nvcm91dGluZVN1c3BlbmRlZE1hcmtlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgICB2YXIgQ29yb3V0aW5lU3VzcGVuZGVkTWFya2VyX2luc3RhbmNlID0gbnVsbDtcbiAgICBmdW5jdGlvbiBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgICBpZiAoQ29yb3V0aW5lU3VzcGVuZGVkTWFya2VyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgIG5ldyBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXIoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfaW5zdGFuY2U7XG4gICAgfVxuICAgIHZhciBDb250aW51YXRpb25JbnRlcmNlcHRvciRLZXlfaW5zdGFuY2UgPSBudWxsO1xuICAgIHZhciBFbXB0eUNvcm91dGluZUNvbnRleHRfaW5zdGFuY2UgPSBudWxsO1xuICAgIGZ1bmN0aW9uIENvbnRpbnVhdGlvbigpIHtcbiAgICB9XG4gICAgQ29udGludWF0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdDb250aW51YXRpb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5leHBlcmltZW50YWwuc3VzcGVuZENvcm91dGluZV96M2UxdDMkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBTYWZlQ29udGludWF0aW9uX2luaXQgPSBfLmtvdGxpbi5jb3JvdXRpbmVzLmV4cGVyaW1lbnRhbC5TYWZlQ29udGludWF0aW9uX2luaXRfbjRmNTNlJDtcbiAgICAgIGZ1bmN0aW9uIHN1c3BlbmRDb3JvdXRpbmVPclJldHVybiRsYW1iZGEoY2xvc3VyZSRibG9jaykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnQpIHtcbiAgICAgICAgICByZXR1cm4gY2xvc3VyZSRibG9jayhjb250LmZhY2FkZSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzdXNwZW5kQ29yb3V0aW5lJGxhbWJkYShjbG9zdXJlJGJsb2NrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIHZhciBzYWZlID0gU2FmZUNvbnRpbnVhdGlvbl9pbml0KGMpO1xuICAgICAgICAgIGNsb3N1cmUkYmxvY2soc2FmZSk7XG4gICAgICAgICAgcmV0dXJuIHNhZmUuZ2V0UmVzdWx0KCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGJsb2NrLCBjb250aW51YXRpb24pIHtcbiAgICAgICAgS290bGluLnN1c3BlbmRDYWxsKHN1c3BlbmRDb3JvdXRpbmVPclJldHVybiRsYW1iZGEoc3VzcGVuZENvcm91dGluZSRsYW1iZGEoYmxvY2spKShLb3RsaW4uY29yb3V0aW5lUmVjZWl2ZXIoKSkpO1xuICAgICAgICByZXR1cm4gS290bGluLmNvcm91dGluZVJlc3VsdChLb3RsaW4uY29yb3V0aW5lUmVjZWl2ZXIoKSk7XG4gICAgICB9O1xuICAgIH0pKTtcbiAgICB2YXIgU3RhdGVfTm90UmVhZHk7XG4gICAgdmFyIFN0YXRlX01hbnlOb3RSZWFkeTtcbiAgICB2YXIgU3RhdGVfTWFueVJlYWR5O1xuICAgIHZhciBTdGF0ZV9SZWFkeTtcbiAgICB2YXIgU3RhdGVfRG9uZTtcbiAgICB2YXIgU3RhdGVfRmFpbGVkO1xuICAgIGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW4ua290bGluLmNvcm91dGluZXMuZXhwZXJpbWVudGFsLmludHJpbnNpY3Muc3VzcGVuZENvcm91dGluZU9yUmV0dXJuXzh1Zm4ydSQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc3VzcGVuZENvcm91dGluZU9yUmV0dXJuJGxhbWJkYShjbG9zdXJlJGJsb2NrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udCkge1xuICAgICAgICAgIHJldHVybiBjbG9zdXJlJGJsb2NrKGNvbnQuZmFjYWRlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYmxvY2ssIGNvbnRpbnVhdGlvbikge1xuICAgICAgICBLb3RsaW4uc3VzcGVuZENhbGwoc3VzcGVuZENvcm91dGluZU9yUmV0dXJuJGxhbWJkYShibG9jaykoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpKTtcbiAgICAgICAgcmV0dXJuIEtvdGxpbi5jb3JvdXRpbmVSZXN1bHQoS290bGluLmNvcm91dGluZVJlY2VpdmVyKCkpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbi5rb3RsaW4uY29yb3V0aW5lcy5leHBlcmltZW50YWwuaW50cmluc2ljcy5zdXNwZW5kQ29yb3V0aW5lVW5pbnRlcmNlcHRlZE9yUmV0dXJuXzh1Zm4ydSQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIE5vdEltcGxlbWVudGVkRXJyb3JfaW5pdCA9IEtvdGxpbi5rb3RsaW4uTm90SW1wbGVtZW50ZWRFcnJvcjtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYmxvY2ssIGNvbnRpbnVhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0KCdJbXBsZW1lbnRhdGlvbiBvZiBzdXNwZW5kQ29yb3V0aW5lVW5pbnRlcmNlcHRlZE9yUmV0dXJuIGlzIGludHJpbnNpYycpO1xuICAgICAgfTtcbiAgICB9KSk7XG4gICAgdmFyIHBhY2thZ2Uka290bGluID0gXy5rb3RsaW4gfHwgKF8ua290bGluID0ge30pO1xuICAgIHZhciBwYWNrYWdlJGNvcm91dGluZXMgPSBwYWNrYWdlJGtvdGxpbi5jb3JvdXRpbmVzIHx8IChwYWNrYWdlJGtvdGxpbi5jb3JvdXRpbmVzID0ge30pO1xuICAgIHZhciBwYWNrYWdlJGV4cGVyaW1lbnRhbCA9IHBhY2thZ2UkY29yb3V0aW5lcy5leHBlcmltZW50YWwgfHwgKHBhY2thZ2UkY29yb3V0aW5lcy5leHBlcmltZW50YWwgPSB7fSk7XG4gICAgcGFja2FnZSRleHBlcmltZW50YWwuU2FmZUNvbnRpbnVhdGlvbl9pbml0X240ZjUzZSQgPSBTYWZlQ29udGludWF0aW9uX2luaXQ7XG4gICAgcGFja2FnZSRleHBlcmltZW50YWwuU2FmZUNvbnRpbnVhdGlvbiA9IFNhZmVDb250aW51YXRpb247XG4gICAgcGFja2FnZSRleHBlcmltZW50YWwuQ29udGludWF0aW9uID0gQ29udGludWF0aW9uO1xuICAgIFVOREVDSURFRCA9IG5ldyBBbnkoKTtcbiAgICBSRVNVTUVEID0gbmV3IEFueSgpO1xuICAgIENPUk9VVElORV9TVVNQRU5ERUQgPSBDb3JvdXRpbmVTdXNwZW5kZWRNYXJrZXJfZ2V0SW5zdGFuY2UoKTtcbiAgICBTdGF0ZV9Ob3RSZWFkeSA9IDA7XG4gICAgU3RhdGVfTWFueU5vdFJlYWR5ID0gMTtcbiAgICBTdGF0ZV9NYW55UmVhZHkgPSAyO1xuICAgIFN0YXRlX1JlYWR5ID0gMztcbiAgICBTdGF0ZV9Eb25lID0gNDtcbiAgICBTdGF0ZV9GYWlsZWQgPSA1O1xuICB9KCkpO1xufSkpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1rb3RsaW4uanMubWFwXG4iLCIoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcbiAgICBkZWZpbmUoWydleHBvcnRzJywgJ2tvdGxpbiddLCBmYWN0b3J5KTtcbiAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuICAgIGZhY3RvcnkobW9kdWxlLmV4cG9ydHMsIHJlcXVpcmUoJ2tvdGxpbicpKTtcbiAgZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBrb3RsaW4gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBsb2FkaW5nIG1vZHVsZSAna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lJy4gSXRzIGRlcGVuZGVuY3kgJ2tvdGxpbicgd2FzIG5vdCBmb3VuZC4gUGxlYXNlLCBjaGVjayB3aGV0aGVyICdrb3RsaW4nIGlzIGxvYWRlZCBwcmlvciB0byAna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lJy5cIik7XG4gICAgfVxuICAgIHJvb3RbJ2tvdGxpbngtc2VyaWFsaXphdGlvbi1rb3RsaW54LXNlcmlhbGl6YXRpb24tcnVudGltZSddID0gZmFjdG9yeSh0eXBlb2YgdGhpc1sna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lJ10gPT09ICd1bmRlZmluZWQnID8ge30gOiB0aGlzWydrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUnXSwga290bGluKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoXywgS290bGluKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdmFyIEVudW0gPSBLb3RsaW4ua290bGluLkVudW07XG4gIHZhciBLaW5kX0NMQVNTID0gS290bGluLktpbmQuQ0xBU1M7XG4gIHZhciB0aHJvd0lTRSA9IEtvdGxpbi50aHJvd0lTRTtcbiAgdmFyIGdldEtDbGFzcyA9IEtvdGxpbi5nZXRLQ2xhc3M7XG4gIHZhciBLaW5kX0lOVEVSRkFDRSA9IEtvdGxpbi5LaW5kLklOVEVSRkFDRTtcbiAgdmFyIEtpbmRfT0JKRUNUID0gS290bGluLktpbmQuT0JKRUNUO1xuICB2YXIgZW1wdHlMaXN0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5lbXB0eUxpc3RfMjg3ZTIkO1xuICB2YXIgZGVmaW5lSW5saW5lRnVuY3Rpb24gPSBLb3RsaW4uZGVmaW5lSW5saW5lRnVuY3Rpb247XG4gIHZhciB3cmFwRnVuY3Rpb24gPSBLb3RsaW4ud3JhcEZ1bmN0aW9uO1xuICB2YXIgTm90SW1wbGVtZW50ZWRFcnJvcl9pbml0ID0gS290bGluLmtvdGxpbi5Ob3RJbXBsZW1lbnRlZEVycm9yO1xuICB2YXIgZW5zdXJlTm90TnVsbCA9IEtvdGxpbi5lbnN1cmVOb3ROdWxsO1xuICB2YXIgdG9Cb3hlZENoYXIgPSBLb3RsaW4udG9Cb3hlZENoYXI7XG4gIHZhciB0aHJvd0NDRSA9IEtvdGxpbi50aHJvd0NDRTtcbiAgdmFyIFJ1bnRpbWVFeGNlcHRpb24gPSBLb3RsaW4ua290bGluLlJ1bnRpbWVFeGNlcHRpb247XG4gIHZhciBnZXRWYWx1ZSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuZ2V0VmFsdWVfdDlvY2hhJDtcbiAgdmFyIExpbmtlZEhhc2hNYXBfaW5pdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcF9pbml0X3EzbG1mdiQ7XG4gIHZhciBNYXAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLk1hcDtcbiAgdmFyIHRvU3RyaW5nID0gS290bGluLnRvU3RyaW5nO1xuICB2YXIgQW55ID0gT2JqZWN0O1xuICB2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLklsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0X3BkbDF2aiQ7XG4gIHZhciBLQ2xhc3MgPSBLb3RsaW4ua290bGluLnJlZmxlY3QuS0NsYXNzO1xuICB2YXIgTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlzdDtcbiAgdmFyIGVxdWFscyA9IEtvdGxpbi5lcXVhbHM7XG4gIHZhciBNdXRhYmxlTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTXV0YWJsZUxpc3Q7XG4gIHZhciBBcnJheUxpc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkFycmF5TGlzdDtcbiAgdmFyIEhhc2hTZXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hTZXQ7XG4gIHZhciBTZXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLlNldDtcbiAgdmFyIE11dGFibGVTZXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLk11dGFibGVTZXQ7XG4gIHZhciBMaW5rZWRIYXNoU2V0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5MaW5rZWRIYXNoU2V0O1xuICB2YXIgSGFzaE1hcCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuSGFzaE1hcDtcbiAgdmFyIE11dGFibGVNYXAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLk11dGFibGVNYXA7XG4gIHZhciBMaW5rZWRIYXNoTWFwID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5MaW5rZWRIYXNoTWFwO1xuICB2YXIgTWFwJEVudHJ5ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5NYXAuRW50cnk7XG4gIHZhciBQYWlyID0gS290bGluLmtvdGxpbi5QYWlyO1xuICB2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25faW5pdF9wZGwxdmokO1xuICB2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQgPSBLb3RsaW4ua290bGluLklsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0X3BkbDF2aiQ7XG4gIHZhciBjb2xsZWN0aW9uU2l6ZU9yRGVmYXVsdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuY29sbGVjdGlvblNpemVPckRlZmF1bHRfYmEybGRvJDtcbiAgdmFyIEFycmF5TGlzdF9pbml0ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5BcnJheUxpc3RfaW5pdF93dzczbjgkO1xuICB2YXIgdW50aWwgPSBLb3RsaW4ua290bGluLnJhbmdlcy51bnRpbF9kcWdscmokO1xuICB2YXIgVW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5pdDtcbiAgdmFyIGxhc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmxhc3RfMnAxZWZtJDtcbiAgdmFyIGxhc3RPck51bGwgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmxhc3RPck51bGxfMnAxZWZtJDtcbiAgdmFyIGdldF9sYXN0SW5kZXggPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmdldF9sYXN0SW5kZXhfNTV0aG9jJDtcbiAgdmFyIGtvdGxpbiA9IEtvdGxpbi5rb3RsaW47XG4gIHZhciBBcnJheUxpc3RfaW5pdF8wID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5BcnJheUxpc3RfaW5pdF8yODdlMiQ7XG4gIHZhciB0b0J5dGUgPSBLb3RsaW4udG9CeXRlO1xuICB2YXIgSW50UmFuZ2UgPSBLb3RsaW4ua290bGluLnJhbmdlcy5JbnRSYW5nZTtcbiAgdmFyIGtvdGxpbl9qc19pbnRlcm5hbF9CeXRlQ29tcGFuaW9uT2JqZWN0ID0gS290bGluLmtvdGxpbi5qcy5pbnRlcm5hbC5CeXRlQ29tcGFuaW9uT2JqZWN0O1xuICB2YXIgdG9TaG9ydCA9IEtvdGxpbi50b1Nob3J0O1xuICB2YXIga290bGluX2pzX2ludGVybmFsX1Nob3J0Q29tcGFuaW9uT2JqZWN0ID0gS290bGluLmtvdGxpbi5qcy5pbnRlcm5hbC5TaG9ydENvbXBhbmlvbk9iamVjdDtcbiAgdmFyIEwyMTQ3NDgzNjQ4ID0gbmV3IEtvdGxpbi5Mb25nKC0yMTQ3NDgzNjQ4LCAwKTtcbiAgdmFyIExvbmckQ29tcGFuaW9uJE1BWF9WQUxVRSA9IEtvdGxpbi5Mb25nLk1BWF9WQUxVRTtcbiAgdmFyIExvbmckQ29tcGFuaW9uJE1JTl9WQUxVRSA9IEtvdGxpbi5Mb25nLk1JTl9WQUxVRTtcbiAgdmFyIHRvQ2hhciA9IEtvdGxpbi50b0NoYXI7XG4gIHZhciB0b0ludE9yTnVsbCA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0ludE9yTnVsbF9wZGwxdnokO1xuICB2YXIgaGFzaENvZGUgPSBLb3RsaW4uaGFzaENvZGU7XG4gIHZhciBhc0xpc3QgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmFzTGlzdF91czBtZnUkO1xuICB2YXIgQXJyYXlMaXN0X2luaXRfMSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuQXJyYXlMaXN0X2luaXRfbXFpaDU3JDtcbiAgdmFyIExpbmtlZEhhc2hTZXRfaW5pdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaFNldF9pbml0X21xaWg1NyQ7XG4gIHZhciBIYXNoU2V0X2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hTZXRfaW5pdF8yODdlMiQ7XG4gIHZhciBIYXNoU2V0X2luaXRfMCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuSGFzaFNldF9pbml0X21xaWg1NyQ7XG4gIHZhciBMaW5rZWRIYXNoTWFwX2luaXRfMCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuTGlua2VkSGFzaE1hcF9pbml0XzczbXRxYyQ7XG4gIHZhciBIYXNoTWFwX2luaXQgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF9xM2xtZnYkO1xuICB2YXIgSGFzaE1hcF9pbml0XzAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkhhc2hNYXBfaW5pdF83M210cWMkO1xuICB2YXIgTGlua2VkSGFzaFNldF9pbml0XzAgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hTZXRfaW5pdF8yODdlMiQ7XG4gIHZhciBpbmRleE9mID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5pbmRleE9mX21qeTZqdyQ7XG4gIHZhciBnZXRfaW5kaWNlcyA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuZ2V0X2luZGljZXNfbTd6NGxnJDtcbiAgdmFyIGNvcHlUb0FycmF5ID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5jb3B5VG9BcnJheTtcbiAgdmFyIHRvTG9uZyA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0xvbmdfcGRsMXZ6JDtcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkc3RyaW5nQ2xhc3MgPSBLb3RsaW4ua290bGluLnJlZmxlY3QuanMuaW50ZXJuYWwuUHJpbWl0aXZlQ2xhc3Nlcy5zdHJpbmdDbGFzcztcbiAgdmFyIENoYXIgPSBLb3RsaW4uQm94ZWRDaGFyO1xuICB2YXIgUHJpbWl0aXZlQ2xhc3NlcyRkb3VibGVDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLmRvdWJsZUNsYXNzO1xuICB2YXIgUHJpbWl0aXZlQ2xhc3NlcyRmbG9hdENsYXNzID0gS290bGluLmtvdGxpbi5yZWZsZWN0LmpzLmludGVybmFsLlByaW1pdGl2ZUNsYXNzZXMuZmxvYXRDbGFzcztcbiAgdmFyIExvbmcgPSBLb3RsaW4uTG9uZztcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkaW50Q2xhc3MgPSBLb3RsaW4ua290bGluLnJlZmxlY3QuanMuaW50ZXJuYWwuUHJpbWl0aXZlQ2xhc3Nlcy5pbnRDbGFzcztcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkc2hvcnRDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLnNob3J0Q2xhc3M7XG4gIHZhciBQcmltaXRpdmVDbGFzc2VzJGJ5dGVDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLmJ5dGVDbGFzcztcbiAgdmFyIFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkNsYXNzID0gS290bGluLmtvdGxpbi5yZWZsZWN0LmpzLmludGVybmFsLlByaW1pdGl2ZUNsYXNzZXMuYm9vbGVhbkNsYXNzO1xuICB2YXIgZ2V0T3JOdWxsID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5nZXRPck51bGxfOHVqams4JDtcbiAgdmFyIGdldE9yTnVsbF8wID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5nZXRPck51bGxfeXpsbjJvJDtcbiAgdmFyIGNvcHlPZiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMuY29weU9mXzFxdTEybCQ7XG4gIHZhciBqb2luVG9TdHJpbmcgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmpvaW5Ub1N0cmluZ19mbXYyMzUkO1xuICB2YXIgbGF6eSA9IEtvdGxpbi5rb3RsaW4ubGF6eV9rbGZnMDQkO1xuICB2YXIgdG8gPSBLb3RsaW4ua290bGluLnRvX3VqenJ6NyQ7XG4gIHZhciBDaGFyUmFuZ2UgPSBLb3RsaW4ua290bGluLnJhbmdlcy5DaGFyUmFuZ2U7XG4gIHZhciBTdHJpbmdCdWlsZGVyX2luaXQgPSBLb3RsaW4ua290bGluLnRleHQuU3RyaW5nQnVpbGRlcl9pbml0X3phM2xwYSQ7XG4gIHZhciB0cmltU3RhcnQgPSBLb3RsaW4ua290bGluLnRleHQudHJpbVN0YXJ0X3dxdzN4ciQ7XG4gIHZhciBMNDI5NDk2NzI5NSA9IG5ldyBLb3RsaW4uTG9uZygtMSwgMCk7XG4gIHZhciBTdHJpbmdCdWlsZGVyX2luaXRfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC5TdHJpbmdCdWlsZGVyX2luaXQ7XG4gIHZhciBtYXBPZiA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubWFwT2ZfcWZjeWEwJDtcbiAgdmFyIHRvSW50ID0gS290bGluLmtvdGxpbi50ZXh0LnRvSW50X3BkbDF2eiQ7XG4gIHZhciB0b0xvbmdPck51bGwgPSBLb3RsaW4ua290bGluLnRleHQudG9Mb25nT3JOdWxsX3BkbDF2eiQ7XG4gIHZhciB0b0RvdWJsZSA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0RvdWJsZV9wZGwxdnokO1xuICB2YXIgdG9Eb3VibGVPck51bGwgPSBLb3RsaW4ua290bGluLnRleHQudG9Eb3VibGVPck51bGxfcGRsMXZ6JDtcbiAgdmFyIHVuYm94Q2hhciA9IEtvdGxpbi51bmJveENoYXI7XG4gIHZhciBTdHJpbmdfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC5TdHJpbmdfOGNoZm15JDtcbiAgdmFyIGNvcHlPZl8wID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5jb3B5T2ZfZ3RjdzVoJDtcbiAgdmFyIGNvZXJjZUF0TGVhc3QgPSBLb3RsaW4ua290bGluLnJhbmdlcy5jb2VyY2VBdExlYXN0X2RxZ2xyaiQ7XG4gIHZhciB0b0Jvb2xlYW4gPSBLb3RsaW4ua290bGluLnRleHQudG9Cb29sZWFuX3BkbDF2eiQ7XG4gIHZhciB0b0J5dGVfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC50b0J5dGVfcGRsMXZ6JDtcbiAgdmFyIHRvU2hvcnRfMCA9IEtvdGxpbi5rb3RsaW4udGV4dC50b1Nob3J0X3BkbDF2eiQ7XG4gIHZhciBzaW5nbGUgPSBLb3RsaW4ua290bGluLnRleHQuc2luZ2xlX2d3MDB2cCQ7XG4gIHZhciBpc0Zpbml0ZSA9IEtvdGxpbi5rb3RsaW4uaXNGaW5pdGVfODFzemskO1xuICB2YXIgaXNGaW5pdGVfMCA9IEtvdGxpbi5rb3RsaW4uaXNGaW5pdGVfeXJ3ZHhyJDtcbiAgdmFyIGVxdWFsc18wID0gS290bGluLmtvdGxpbi50ZXh0LmVxdWFsc19pZ2N5M2MkO1xuICB2YXIgaXRlcmF0b3IgPSBLb3RsaW4ua290bGluLnRleHQuaXRlcmF0b3JfZ3cwMHZwJDtcbiAgdmFyIEhhc2hTZXRfaW5pdF8xID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5IYXNoU2V0X2luaXRfd3c3M244JDtcbiAgdmFyIHRvTGlzdCA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMudG9MaXN0Xzd3bnZ6YSQ7XG4gIHZhciB0aHJvd1VQQUUgPSBLb3RsaW4udGhyb3dVUEFFO1xuICB2YXIgUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcyA9IEtvdGxpbi5rb3RsaW4ucmVmbGVjdC5qcy5pbnRlcm5hbC5QcmltaXRpdmVDbGFzc2VzLmFueUNsYXNzO1xuICB2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uID0gS290bGluLmtvdGxpbi5JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb247XG4gIHZhciBtYXBDYXBhY2l0eSA9IEtvdGxpbi5rb3RsaW4uY29sbGVjdGlvbnMubWFwQ2FwYWNpdHlfemEzbHBhJDtcbiAgdmFyIExpbmtlZEhhc2hNYXBfaW5pdF8xID0gS290bGluLmtvdGxpbi5jb2xsZWN0aW9ucy5MaW5rZWRIYXNoTWFwX2luaXRfYnd0YzckO1xuICB2YXIgTF8xMjggPSBLb3RsaW4uTG9uZy5mcm9tSW50KC0xMjgpO1xuICB2YXIgTDAgPSBLb3RsaW4uTG9uZy5aRVJPO1xuICB2YXIgTDEyNyA9IEtvdGxpbi5Mb25nLmZyb21JbnQoMTI3KTtcbiAgdmFyIEwxMjggPSBLb3RsaW4uTG9uZy5mcm9tSW50KDEyOCk7XG4gIHZhciBMXzEgPSBLb3RsaW4uTG9uZy5ORUdfT05FO1xuICB2YXIgRXhjZXB0aW9uID0gS290bGluLmtvdGxpbi5FeGNlcHRpb247XG4gIHZhciBnZXRfaW5kaWNlc18wID0gS290bGluLmtvdGxpbi50ZXh0LmdldF9pbmRpY2VzX2d3MDB2cCQ7XG4gIHZhciBMOTAwNzE5OTI1NDc0MDk5MSA9IG5ldyBLb3RsaW4uTG9uZygtMSwgMjA5NzE1MSk7XG4gIHZhciBNYXRoXzAgPSBNYXRoO1xuICB2YXIgZ2V0X2pzID0gS290bGluLmtvdGxpbi5qcy5nZXRfanNfMXliOGI3JDtcbiAgVXBkYXRlTW9kZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVudW0ucHJvdG90eXBlKTtcbiAgVXBkYXRlTW9kZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVcGRhdGVNb2RlO1xuICBQcmltaXRpdmVLaW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VyaWFsS2luZC5wcm90b3R5cGUpO1xuICBQcmltaXRpdmVLaW5kLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQ7XG4gIFByaW1pdGl2ZUtpbmQkSU5ULnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlS2luZC5wcm90b3R5cGUpO1xuICBQcmltaXRpdmVLaW5kJElOVC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJElOVDtcbiAgUHJpbWl0aXZlS2luZCRVTklULnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlS2luZC5wcm90b3R5cGUpO1xuICBQcmltaXRpdmVLaW5kJFVOSVQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHJpbWl0aXZlS2luZCRVTklUO1xuICBQcmltaXRpdmVLaW5kJEJPT0xFQU4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkQk9PTEVBTi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJEJPT0xFQU47XG4gIFByaW1pdGl2ZUtpbmQkQllURS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZUtpbmQucHJvdG90eXBlKTtcbiAgUHJpbWl0aXZlS2luZCRCWVRFLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkQllURTtcbiAgUHJpbWl0aXZlS2luZCRTSE9SVC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZUtpbmQucHJvdG90eXBlKTtcbiAgUHJpbWl0aXZlS2luZCRTSE9SVC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJFNIT1JUO1xuICBQcmltaXRpdmVLaW5kJExPTkcucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkTE9ORy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJExPTkc7XG4gIFByaW1pdGl2ZUtpbmQkRkxPQVQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkRkxPQVQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUHJpbWl0aXZlS2luZCRGTE9BVDtcbiAgUHJpbWl0aXZlS2luZCRET1VCTEUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkRE9VQkxFLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByaW1pdGl2ZUtpbmQkRE9VQkxFO1xuICBQcmltaXRpdmVLaW5kJENIQVIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVLaW5kLnByb3RvdHlwZSk7XG4gIFByaW1pdGl2ZUtpbmQkQ0hBUi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJENIQVI7XG4gIFByaW1pdGl2ZUtpbmQkU1RSSU5HLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlS2luZC5wcm90b3R5cGUpO1xuICBQcmltaXRpdmVLaW5kJFNUUklORy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVLaW5kJFNUUklORztcbiAgU3RydWN0dXJlS2luZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbEtpbmQucHJvdG90eXBlKTtcbiAgU3RydWN0dXJlS2luZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdHJ1Y3R1cmVLaW5kO1xuICBTdHJ1Y3R1cmVLaW5kJENMQVNTLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RydWN0dXJlS2luZC5wcm90b3R5cGUpO1xuICBTdHJ1Y3R1cmVLaW5kJENMQVNTLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0cnVjdHVyZUtpbmQkQ0xBU1M7XG4gIFN0cnVjdHVyZUtpbmQkTElTVC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cnVjdHVyZUtpbmQucHJvdG90eXBlKTtcbiAgU3RydWN0dXJlS2luZCRMSVNULnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0cnVjdHVyZUtpbmQkTElTVDtcbiAgU3RydWN0dXJlS2luZCRNQVAucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJ1Y3R1cmVLaW5kLnByb3RvdHlwZSk7XG4gIFN0cnVjdHVyZUtpbmQkTUFQLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0cnVjdHVyZUtpbmQkTUFQO1xuICBVbmlvbktpbmQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxLaW5kLnByb3RvdHlwZSk7XG4gIFVuaW9uS2luZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVbmlvbktpbmQ7XG4gIFVuaW9uS2luZCRPQkpFQ1QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShVbmlvbktpbmQucHJvdG90eXBlKTtcbiAgVW5pb25LaW5kJE9CSkVDVC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVbmlvbktpbmQkT0JKRUNUO1xuICBVbmlvbktpbmQkRU5VTV9LSU5ELnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVW5pb25LaW5kLnByb3RvdHlwZSk7XG4gIFVuaW9uS2luZCRFTlVNX0tJTkQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVW5pb25LaW5kJEVOVU1fS0lORDtcbiAgVW5pb25LaW5kJFNFQUxFRC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFVuaW9uS2luZC5wcm90b3R5cGUpO1xuICBVbmlvbktpbmQkU0VBTEVELnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVuaW9uS2luZCRTRUFMRUQ7XG4gIFVuaW9uS2luZCRQT0xZTU9SUEhJQy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFVuaW9uS2luZC5wcm90b3R5cGUpO1xuICBVbmlvbktpbmQkUE9MWU1PUlBISUMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVW5pb25LaW5kJFBPTFlNT1JQSElDO1xuICBTZXJpYWxpemF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUnVudGltZUV4Y2VwdGlvbi5wcm90b3R5cGUpO1xuICBTZXJpYWxpemF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNlcmlhbGl6YXRpb25FeGNlcHRpb247XG4gIFVwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbGl6YXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgVXBkYXRlTm90U3VwcG9ydGVkRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFVwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbjtcbiAgTmFtZWRWYWx1ZUVuY29kZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShUYWdnZWRFbmNvZGVyLnByb3RvdHlwZSk7XG4gIE5hbWVkVmFsdWVFbmNvZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5hbWVkVmFsdWVFbmNvZGVyO1xuICBOYW1lZFZhbHVlRGVjb2Rlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFRhZ2dlZERlY29kZXIucHJvdG90eXBlKTtcbiAgTmFtZWRWYWx1ZURlY29kZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTmFtZWRWYWx1ZURlY29kZXI7XG4gIFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUpO1xuICBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvcjtcbiAgQXJyYXlMaXN0Q2xhc3NEZXNjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIEFycmF5TGlzdENsYXNzRGVzYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBcnJheUxpc3RDbGFzc0Rlc2M7XG4gIE5hbWVkTGlzdENsYXNzRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTmFtZWRMaXN0Q2xhc3NEZXNjcmlwdG9yO1xuICBMaW5rZWRIYXNoU2V0Q2xhc3NEZXNjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIExpbmtlZEhhc2hTZXRDbGFzc0Rlc2MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua2VkSGFzaFNldENsYXNzRGVzYztcbiAgSGFzaFNldENsYXNzRGVzYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBIYXNoU2V0Q2xhc3NEZXNjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhhc2hTZXRDbGFzc0Rlc2M7XG4gIE5hbWVkTWFwQ2xhc3NEZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3I7XG4gIExpbmtlZEhhc2hNYXBDbGFzc0Rlc2MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBMaW5rZWRIYXNoTWFwQ2xhc3NEZXNjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmtlZEhhc2hNYXBDbGFzc0Rlc2M7XG4gIEhhc2hNYXBDbGFzc0Rlc2MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBIYXNoTWFwQ2xhc3NEZXNjLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhhc2hNYXBDbGFzc0Rlc2M7XG4gIExpc3RMaWtlU2VyaWFsaXplci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgTGlzdExpa2VTZXJpYWxpemVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpc3RMaWtlU2VyaWFsaXplcjtcbiAgTWFwTGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyLnByb3RvdHlwZSk7XG4gIE1hcExpa2VTZXJpYWxpemVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcExpa2VTZXJpYWxpemVyO1xuICBBcnJheUxpc3RTZXJpYWxpemVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTGlzdExpa2VTZXJpYWxpemVyLnByb3RvdHlwZSk7XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXJyYXlMaXN0U2VyaWFsaXplcjtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaXN0TGlrZVNlcmlhbGl6ZXIucHJvdG90eXBlKTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlua2VkSGFzaFNldFNlcmlhbGl6ZXI7XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTGlzdExpa2VTZXJpYWxpemVyLnByb3RvdHlwZSk7XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhhc2hTZXRTZXJpYWxpemVyO1xuICBMaW5rZWRIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1hcExpa2VTZXJpYWxpemVyLnByb3RvdHlwZSk7XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmtlZEhhc2hNYXBTZXJpYWxpemVyO1xuICBIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1hcExpa2VTZXJpYWxpemVyLnByb3RvdHlwZSk7XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhhc2hNYXBTZXJpYWxpemVyO1xuICBJbnREZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBJbnREZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludERlc2NyaXB0b3I7XG4gIFVuaXREZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBVbml0RGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBVbml0RGVzY3JpcHRvcjtcbiAgQm9vbGVhbkRlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIEJvb2xlYW5EZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJvb2xlYW5EZXNjcmlwdG9yO1xuICBCeXRlRGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgQnl0ZURlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQnl0ZURlc2NyaXB0b3I7XG4gIFNob3J0RGVzY3JpcHRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlKTtcbiAgU2hvcnREZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNob3J0RGVzY3JpcHRvcjtcbiAgTG9uZ0Rlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIExvbmdEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvbmdEZXNjcmlwdG9yO1xuICBGbG9hdERlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIEZsb2F0RGVzY3JpcHRvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGbG9hdERlc2NyaXB0b3I7XG4gIERvdWJsZURlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIERvdWJsZURlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRG91YmxlRGVzY3JpcHRvcjtcbiAgQ2hhckRlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSk7XG4gIENoYXJEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENoYXJEZXNjcmlwdG9yO1xuICBTdHJpbmdEZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUpO1xuICBTdHJpbmdEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0cmluZ0Rlc2NyaXB0b3I7XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwkTWlzc2luZ0Rlc2NyaXB0b3JFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxpemF0aW9uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwkTWlzc2luZ0Rlc2NyaXB0b3JFeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2VyaWFsQ2xhc3NEZXNjSW1wbCRNaXNzaW5nRGVzY3JpcHRvckV4Y2VwdGlvbjtcbiAgTWFwRW50cnlTZXJpYWxpemVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoS2V5VmFsdWVTZXJpYWxpemVyLnByb3RvdHlwZSk7XG4gIE1hcEVudHJ5U2VyaWFsaXplci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXBFbnRyeVNlcmlhbGl6ZXI7XG4gIE1hcEVudHJ5Q2xhc3NEZXNjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUpO1xuICBNYXBFbnRyeUNsYXNzRGVzYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNYXBFbnRyeUNsYXNzRGVzYztcbiAgSnNvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0U2VyaWFsRm9ybWF0LnByb3RvdHlwZSk7XG4gIEpzb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbjtcbiAgSnNvblByaW1pdGl2ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25FbGVtZW50LnByb3RvdHlwZSk7XG4gIEpzb25QcmltaXRpdmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvblByaW1pdGl2ZTtcbiAgSnNvbkxpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShKc29uUHJpbWl0aXZlLnByb3RvdHlwZSk7XG4gIEpzb25MaXRlcmFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25MaXRlcmFsO1xuICBKc29uTnVsbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25QcmltaXRpdmUucHJvdG90eXBlKTtcbiAgSnNvbk51bGwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbk51bGw7XG4gIEpzb25PYmplY3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShKc29uRWxlbWVudC5wcm90b3R5cGUpO1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25PYmplY3Q7XG4gIEpzb25BcnJheS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25FbGVtZW50LnByb3RvdHlwZSk7XG4gIEpzb25BcnJheS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uQXJyYXk7XG4gIEpzb25FbGVtZW50U2VyaWFsaXplciRkZXNjcmlwdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSk7XG4gIEpzb25FbGVtZW50U2VyaWFsaXplciRkZXNjcmlwdG9yJE9iamVjdExpdGVyYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbkVsZW1lbnRTZXJpYWxpemVyJGRlc2NyaXB0b3IkT2JqZWN0TGl0ZXJhbDtcbiAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSk7XG4gIEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yO1xuICBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUpO1xuICBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3I7XG4gIEpzb25MaXRlcmFsU2VyaWFsaXplciRKc29uTGl0ZXJhbERlc2NyaXB0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSk7XG4gIEpzb25MaXRlcmFsU2VyaWFsaXplciRKc29uTGl0ZXJhbERlc2NyaXB0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvcjtcbiAgSnNvbkV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNlcmlhbGl6YXRpb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgSnNvbkV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uRXhjZXB0aW9uO1xuICBKc29uRGVjb2RpbmdFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShKc29uRXhjZXB0aW9uLnByb3RvdHlwZSk7XG4gIEpzb25EZWNvZGluZ0V4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uRGVjb2RpbmdFeGNlcHRpb247XG4gIEpzb25FbmNvZGluZ0V4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25FeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgSnNvbkVuY29kaW5nRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25FbmNvZGluZ0V4Y2VwdGlvbjtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUpO1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RyZWFtaW5nSnNvbklucHV0O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUpO1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0cmVhbWluZ0pzb25PdXRwdXQ7XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5hbWVkVmFsdWVEZWNvZGVyLnByb3RvdHlwZSk7XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdEpzb25UcmVlSW5wdXQ7XG4gIEpzb25QcmltaXRpdmVJbnB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUpO1xuICBKc29uUHJpbWl0aXZlSW5wdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvblByaW1pdGl2ZUlucHV0O1xuICBKc29uVHJlZUlucHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZSk7XG4gIEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvblRyZWVJbnB1dDtcbiAgSnNvblRyZWVNYXBJbnB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEpzb25UcmVlSW5wdXQucHJvdG90eXBlKTtcbiAgSnNvblRyZWVNYXBJbnB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uVHJlZU1hcElucHV0O1xuICBKc29uVHJlZUxpc3RJbnB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUpO1xuICBKc29uVHJlZUxpc3RJbnB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uVHJlZUxpc3RJbnB1dDtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5hbWVkVmFsdWVFbmNvZGVyLnByb3RvdHlwZSk7XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RKc29uVHJlZU91dHB1dDtcbiAgSnNvblByaW1pdGl2ZU91dHB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlKTtcbiAgSnNvblByaW1pdGl2ZU91dHB1dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBKc29uUHJpbWl0aXZlT3V0cHV0O1xuICBKc29uVHJlZU91dHB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlKTtcbiAgSnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvblRyZWVPdXRwdXQ7XG4gIEpzb25UcmVlTWFwT3V0cHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoSnNvblRyZWVPdXRwdXQucHJvdG90eXBlKTtcbiAgSnNvblRyZWVNYXBPdXRwdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSnNvblRyZWVNYXBPdXRwdXQ7XG4gIEpzb25UcmVlTGlzdE91dHB1dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlKTtcbiAgSnNvblRyZWVMaXN0T3V0cHV0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEpzb25UcmVlTGlzdE91dHB1dDtcbiAgV3JpdGVNb2RlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRW51bS5wcm90b3R5cGUpO1xuICBXcml0ZU1vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gV3JpdGVNb2RlO1xuICBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbjtcbiAgdmFyIEJ5dGVPcmRlciRMSVRUTEVfRU5ESUFOX2luc3RhbmNlO1xuICB2YXIgQnl0ZU9yZGVyJEJJR19FTkRJQU5faW5zdGFuY2U7XG4gIGZ1bmN0aW9uIEVuY29kZXIoKSB7XG4gIH1cbiAgRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJCA9IGZ1bmN0aW9uIChzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplX2F3ZTk3aSQodGhpcywgdmFsdWUpO1xuICB9O1xuICBFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2Y0Njg2ZyQgPSBmdW5jdGlvbiAoc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgdGhpcy5lbmNvZGVOdWxsKCk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHRoaXMuZW5jb2RlTm90TnVsbE1hcmsoKTtcbiAgICAgIHRoaXMuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChzZXJpYWxpemVyLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuICBFbmNvZGVyLnByb3RvdHlwZS5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JCA9IGZ1bmN0aW9uIChkZXNjLCBjb2xsZWN0aW9uU2l6ZSwgdHlwZVBhcmFtcykge1xuICAgIHJldHVybiB0aGlzLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQoZGVzYywgdHlwZVBhcmFtcy5zbGljZSgpKTtcbiAgfTtcbiAgRW5jb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnRW5jb2RlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gQ29tcG9zaXRlRW5jb2RlcigpIHtcbiAgfVxuICBDb21wb3NpdGVFbmNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gIH07XG4gIENvbXBvc2l0ZUVuY29kZXIucHJvdG90eXBlLnNob3VsZEVuY29kZUVsZW1lbnREZWZhdWx0XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgQ29tcG9zaXRlRW5jb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnQ29tcG9zaXRlRW5jb2RlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gRGVjb2RlcigpIHtcbiAgfVxuICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkID0gZnVuY3Rpb24gKGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemVfbnRzNXFuJCh0aGlzKTtcbiAgfTtcbiAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9hYWUzZWEkID0gZnVuY3Rpb24gKGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiB0aGlzLmRlY29kZU5vdE51bGxNYXJrKCkgPyB0aGlzLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQoZGVzZXJpYWxpemVyKSA6IHRoaXMuZGVjb2RlTnVsbCgpO1xuICB9O1xuICBEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkID0gZnVuY3Rpb24gKGRlc2VyaWFsaXplciwgb2xkKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgc3dpdGNoICh0aGlzLnVwZGF0ZU1vZGUubmFtZSkge1xuICAgICAgY2FzZSAnQkFOTkVEJzpcbiAgICAgICAgdGhyb3cgbmV3IFVwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbihkZXNlcmlhbGl6ZXIuZGVzY3JpcHRvci5uYW1lKTtcbiAgICAgIGNhc2UgJ09WRVJXUklURSc6XG4gICAgICAgIHRtcCQgPSB0aGlzLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQoZGVzZXJpYWxpemVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdVUERBVEUnOlxuICAgICAgICB0bXAkID0gZGVzZXJpYWxpemVyLnBhdGNoX215bnBpdSQodGhpcywgb2xkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OnRtcCQgPSBLb3RsaW4ubm9XaGVuQnJhbmNoTWF0Y2hlZCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIERlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJCA9IGZ1bmN0aW9uIChkZXNlcmlhbGl6ZXIsIG9sZCkge1xuICAgIHZhciB0bXAkO1xuICAgIGlmICh0aGlzLnVwZGF0ZU1vZGUgPT09IFVwZGF0ZU1vZGUkQkFOTkVEX2dldEluc3RhbmNlKCkpXG4gICAgICB0aHJvdyBuZXcgVXBkYXRlTm90U3VwcG9ydGVkRXhjZXB0aW9uKGRlc2VyaWFsaXplci5kZXNjcmlwdG9yLm5hbWUpO1xuICAgIGVsc2UgaWYgKHRoaXMudXBkYXRlTW9kZSA9PT0gVXBkYXRlTW9kZSRPVkVSV1JJVEVfZ2V0SW5zdGFuY2UoKSB8fCBvbGQgPT0gbnVsbClcbiAgICAgIHRtcCQgPSB0aGlzLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJChkZXNlcmlhbGl6ZXIpO1xuICAgIGVsc2UgaWYgKHRoaXMuZGVjb2RlTm90TnVsbE1hcmsoKSlcbiAgICAgIHRtcCQgPSBkZXNlcmlhbGl6ZXIucGF0Y2hfbXlucGl1JCh0aGlzLCBvbGQpO1xuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kZWNvZGVOdWxsKCk7XG4gICAgICB0bXAkID0gb2xkO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgRGVjb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnRGVjb2RlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gQ29tcG9zaXRlRGVjb2RlcigpIHtcbiAgICBDb21wb3NpdGVEZWNvZGVyJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIENvbXBvc2l0ZURlY29kZXIucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgfTtcbiAgZnVuY3Rpb24gQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb24oKSB7XG4gICAgQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuUkVBRF9ET05FID0gLTE7XG4gICAgdGhpcy5SRUFEX0FMTCA9IC0yO1xuICAgIHRoaXMuVU5LTk9XTl9OQU1FID0gLTM7XG4gIH1cbiAgQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NvbXBhbmlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIENvbXBvc2l0ZURlY29kZXIkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKENvbXBvc2l0ZURlY29kZXIkQ29tcGFuaW9uX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgQ29tcG9zaXRlRGVjb2RlciRDb21wYW5pb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIENvbXBvc2l0ZURlY29kZXIkQ29tcGFuaW9uX2luc3RhbmNlO1xuICB9XG4gIENvbXBvc2l0ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHJldHVybiAtMTtcbiAgfTtcbiAgQ29tcG9zaXRlRGVjb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnQ29tcG9zaXRlRGVjb2RlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gQ29udGV4dFNlcmlhbGl6ZXIoc2VyaWFsaXphYmxlQ2xhc3MpIHtcbiAgICB0aGlzLnNlcmlhbGl6YWJsZUNsYXNzXzAgPSBzZXJpYWxpemFibGVDbGFzcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfZjk4ZWpiJF8wID0gbmV3IENvbnRleHRTZXJpYWxpemVyJGRlc2NyaXB0b3IkT2JqZWN0TGl0ZXJhbCgnQ09OVEVYVCcpO1xuICB9XG4gIGZ1bmN0aW9uIFNlcmlhbERlc2NyaXB0b3IoKSB7XG4gIH1cbiAgU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RW50aXR5QW5ub3RhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICB9O1xuICBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiBlbXB0eUxpc3QoKTtcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLCAnZWxlbWVudHNDb3VudCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gMDtcbiAgfX0pO1xuICBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50RGVzY3JpcHRvcl96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXJyb3JfaW5pdCgpO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUsICdpc051bGxhYmxlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfX0pO1xuICBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5pc0VsZW1lbnRPcHRpb25hbF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBTZXJpYWxEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXJpYWxEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBTZXJpYWxpemF0aW9uU3RyYXRlZ3koKSB7XG4gIH1cbiAgU2VyaWFsaXphdGlvblN0cmF0ZWd5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXJpYWxpemF0aW9uU3RyYXRlZ3knLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIERlc2VyaWFsaXphdGlvblN0cmF0ZWd5KCkge1xuICB9XG4gIERlc2VyaWFsaXphdGlvblN0cmF0ZWd5LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdEZXNlcmlhbGl6YXRpb25TdHJhdGVneScsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gVXBkYXRlTW9kZShuYW1lLCBvcmRpbmFsKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICB9XG4gIGZ1bmN0aW9uIFVwZGF0ZU1vZGVfaW5pdEZpZWxkcygpIHtcbiAgICBVcGRhdGVNb2RlX2luaXRGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBVcGRhdGVNb2RlJEJBTk5FRF9pbnN0YW5jZSA9IG5ldyBVcGRhdGVNb2RlKCdCQU5ORUQnLCAwKTtcbiAgICBVcGRhdGVNb2RlJE9WRVJXUklURV9pbnN0YW5jZSA9IG5ldyBVcGRhdGVNb2RlKCdPVkVSV1JJVEUnLCAxKTtcbiAgICBVcGRhdGVNb2RlJFVQREFURV9pbnN0YW5jZSA9IG5ldyBVcGRhdGVNb2RlKCdVUERBVEUnLCAyKTtcbiAgfVxuICB2YXIgVXBkYXRlTW9kZSRCQU5ORURfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFVwZGF0ZU1vZGUkQkFOTkVEX2dldEluc3RhbmNlKCkge1xuICAgIFVwZGF0ZU1vZGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBVcGRhdGVNb2RlJEJBTk5FRF9pbnN0YW5jZTtcbiAgfVxuICB2YXIgVXBkYXRlTW9kZSRPVkVSV1JJVEVfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFVwZGF0ZU1vZGUkT1ZFUldSSVRFX2dldEluc3RhbmNlKCkge1xuICAgIFVwZGF0ZU1vZGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBVcGRhdGVNb2RlJE9WRVJXUklURV9pbnN0YW5jZTtcbiAgfVxuICB2YXIgVXBkYXRlTW9kZSRVUERBVEVfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFVwZGF0ZU1vZGUkVVBEQVRFX2dldEluc3RhbmNlKCkge1xuICAgIFVwZGF0ZU1vZGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBVcGRhdGVNb2RlJFVQREFURV9pbnN0YW5jZTtcbiAgfVxuICBVcGRhdGVNb2RlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1VwZGF0ZU1vZGUnLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBVcGRhdGVNb2RlJHZhbHVlcygpIHtcbiAgICByZXR1cm4gW1VwZGF0ZU1vZGUkQkFOTkVEX2dldEluc3RhbmNlKCksIFVwZGF0ZU1vZGUkT1ZFUldSSVRFX2dldEluc3RhbmNlKCksIFVwZGF0ZU1vZGUkVVBEQVRFX2dldEluc3RhbmNlKCldO1xuICB9XG4gIFVwZGF0ZU1vZGUudmFsdWVzID0gVXBkYXRlTW9kZSR2YWx1ZXM7XG4gIGZ1bmN0aW9uIFVwZGF0ZU1vZGUkdmFsdWVPZihuYW1lKSB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlICdCQU5ORUQnOlxuICAgICAgICByZXR1cm4gVXBkYXRlTW9kZSRCQU5ORURfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ09WRVJXUklURSc6XG4gICAgICAgIHJldHVybiBVcGRhdGVNb2RlJE9WRVJXUklURV9nZXRJbnN0YW5jZSgpO1xuICAgICAgY2FzZSAnVVBEQVRFJzpcbiAgICAgICAgcmV0dXJuIFVwZGF0ZU1vZGUkVVBEQVRFX2dldEluc3RhbmNlKCk7XG4gICAgICBkZWZhdWx0OnRocm93SVNFKCdObyBlbnVtIGNvbnN0YW50IGtvdGxpbnguc2VyaWFsaXphdGlvbi5VcGRhdGVNb2RlLicgKyBuYW1lKTtcbiAgICB9XG4gIH1cbiAgVXBkYXRlTW9kZS52YWx1ZU9mXzYxenBvZSQgPSBVcGRhdGVNb2RlJHZhbHVlT2Y7XG4gIGZ1bmN0aW9uIEtTZXJpYWxpemVyKCkge1xuICB9XG4gIEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gZnVuY3Rpb24gKGRlY29kZXIsIG9sZCkge1xuICAgIHRocm93IG5ldyBVcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24odGhpcy5kZXNjcmlwdG9yLm5hbWUpO1xuICB9O1xuICBLU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnS1NlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbRGVzZXJpYWxpemF0aW9uU3RyYXRlZ3ksIFNlcmlhbGl6YXRpb25TdHJhdGVneV19O1xuICBmdW5jdGlvbiBlbmNvZGVfMCgkcmVjZWl2ZXIsIHN0cmF0ZWd5LCBvYmopIHtcbiAgICAkcmVjZWl2ZXIuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChzdHJhdGVneSwgb2JqKTtcbiAgfVxuICBmdW5jdGlvbiBkZWNvZGVfMCgkcmVjZWl2ZXIsIGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJChkZXNlcmlhbGl6ZXIpO1xuICB9XG4gIHZhciBkZXByZWNhdGlvblRleHQ7XG4gIGZ1bmN0aW9uIFNlcmlhbEtpbmQoKSB7XG4gIH1cbiAgU2VyaWFsS2luZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGVuc3VyZU5vdE51bGwoS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKHRoaXMpLnNpbXBsZU5hbWUpO1xuICB9O1xuICBTZXJpYWxLaW5kLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NlcmlhbEtpbmQnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQoKSB7XG4gICAgU2VyaWFsS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkSU5UKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkSU5UX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRJTlQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0lOVCcsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJElOVF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkSU5UX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChQcmltaXRpdmVLaW5kJElOVF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkSU5UKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJElOVF9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJFVOSVQoKSB7XG4gICAgUHJpbWl0aXZlS2luZCRVTklUX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRVTklULiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdVTklUJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkVU5JVF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkVU5JVF9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUHJpbWl0aXZlS2luZCRVTklUX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRVTklUKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJFVOSVRfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRCT09MRUFOKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkQk9PTEVBTl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQkQk9PTEVBTi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQk9PTEVBTicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJEJPT0xFQU5faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJEJPT0xFQU5fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFByaW1pdGl2ZUtpbmQkQk9PTEVBTl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkQk9PTEVBTigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRCT09MRUFOX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkQllURSgpIHtcbiAgICBQcmltaXRpdmVLaW5kJEJZVEVfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZUtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBQcmltaXRpdmVLaW5kJEJZVEUuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0JZVEUnLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlS2luZF19O1xuICB2YXIgUHJpbWl0aXZlS2luZCRCWVRFX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRCWVRFX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChQcmltaXRpdmVLaW5kJEJZVEVfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBQcmltaXRpdmVLaW5kJEJZVEUoKTtcbiAgICB9XG4gICAgcmV0dXJuIFByaW1pdGl2ZUtpbmQkQllURV9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJFNIT1JUKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkU0hPUlRfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZUtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBQcmltaXRpdmVLaW5kJFNIT1JULiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdTSE9SVCcsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJFNIT1JUX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRTSE9SVF9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUHJpbWl0aXZlS2luZCRTSE9SVF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkU0hPUlQoKTtcbiAgICB9XG4gICAgcmV0dXJuIFByaW1pdGl2ZUtpbmQkU0hPUlRfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRMT05HKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkTE9OR19pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQkTE9ORy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTE9ORycsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJExPTkdfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJExPTkdfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFByaW1pdGl2ZUtpbmQkTE9OR19pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkTE9ORygpO1xuICAgIH1cbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRMT05HX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkRkxPQVQoKSB7XG4gICAgUHJpbWl0aXZlS2luZCRGTE9BVF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQkRkxPQVQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0ZMT0FUJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZUtpbmRdfTtcbiAgdmFyIFByaW1pdGl2ZUtpbmQkRkxPQVRfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJEZMT0FUX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChQcmltaXRpdmVLaW5kJEZMT0FUX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUHJpbWl0aXZlS2luZCRGTE9BVCgpO1xuICAgIH1cbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRGTE9BVF9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJERPVUJMRSgpIHtcbiAgICBQcmltaXRpdmVLaW5kJERPVUJMRV9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQkRE9VQkxFLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdET1VCTEUnLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlS2luZF19O1xuICB2YXIgUHJpbWl0aXZlS2luZCRET1VCTEVfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJERPVUJMRV9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoUHJpbWl0aXZlS2luZCRET1VCTEVfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBQcmltaXRpdmVLaW5kJERPVUJMRSgpO1xuICAgIH1cbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRET1VCTEVfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gUHJpbWl0aXZlS2luZCRDSEFSKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkQ0hBUl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFByaW1pdGl2ZUtpbmQkQ0hBUi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ0hBUicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJENIQVJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBQcmltaXRpdmVLaW5kJENIQVJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFByaW1pdGl2ZUtpbmQkQ0hBUl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkQ0hBUigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJpbWl0aXZlS2luZCRDSEFSX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkU1RSSU5HKCkge1xuICAgIFByaW1pdGl2ZUtpbmQkU1RSSU5HX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgUHJpbWl0aXZlS2luZCRTVFJJTkcuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1NUUklORycsIGludGVyZmFjZXM6IFtQcmltaXRpdmVLaW5kXX07XG4gIHZhciBQcmltaXRpdmVLaW5kJFNUUklOR19pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZUtpbmQkU1RSSU5HX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChQcmltaXRpdmVLaW5kJFNUUklOR19pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFByaW1pdGl2ZUtpbmQkU1RSSU5HKCk7XG4gICAgfVxuICAgIHJldHVybiBQcmltaXRpdmVLaW5kJFNUUklOR19pbnN0YW5jZTtcbiAgfVxuICBQcmltaXRpdmVLaW5kLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1ByaW1pdGl2ZUtpbmQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsS2luZF19O1xuICBmdW5jdGlvbiBTdHJ1Y3R1cmVLaW5kKCkge1xuICAgIFNlcmlhbEtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBmdW5jdGlvbiBTdHJ1Y3R1cmVLaW5kJENMQVNTKCkge1xuICAgIFN0cnVjdHVyZUtpbmQkQ0xBU1NfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFN0cnVjdHVyZUtpbmQuY2FsbCh0aGlzKTtcbiAgfVxuICBTdHJ1Y3R1cmVLaW5kJENMQVNTLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDTEFTUycsIGludGVyZmFjZXM6IFtTdHJ1Y3R1cmVLaW5kXX07XG4gIHZhciBTdHJ1Y3R1cmVLaW5kJENMQVNTX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3RydWN0dXJlS2luZCRDTEFTU19nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3RydWN0dXJlS2luZCRDTEFTU19pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFN0cnVjdHVyZUtpbmQkQ0xBU1MoKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cnVjdHVyZUtpbmQkQ0xBU1NfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gU3RydWN0dXJlS2luZCRMSVNUKCkge1xuICAgIFN0cnVjdHVyZUtpbmQkTElTVF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgU3RydWN0dXJlS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFN0cnVjdHVyZUtpbmQkTElTVC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnTElTVCcsIGludGVyZmFjZXM6IFtTdHJ1Y3R1cmVLaW5kXX07XG4gIHZhciBTdHJ1Y3R1cmVLaW5kJExJU1RfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBTdHJ1Y3R1cmVLaW5kJExJU1RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFN0cnVjdHVyZUtpbmQkTElTVF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFN0cnVjdHVyZUtpbmQkTElTVCgpO1xuICAgIH1cbiAgICByZXR1cm4gU3RydWN0dXJlS2luZCRMSVNUX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFN0cnVjdHVyZUtpbmQkTUFQKCkge1xuICAgIFN0cnVjdHVyZUtpbmQkTUFQX2luc3RhbmNlID0gdGhpcztcbiAgICBTdHJ1Y3R1cmVLaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgU3RydWN0dXJlS2luZCRNQVAuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ01BUCcsIGludGVyZmFjZXM6IFtTdHJ1Y3R1cmVLaW5kXX07XG4gIHZhciBTdHJ1Y3R1cmVLaW5kJE1BUF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFN0cnVjdHVyZUtpbmQkTUFQX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChTdHJ1Y3R1cmVLaW5kJE1BUF9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFN0cnVjdHVyZUtpbmQkTUFQKCk7XG4gICAgfVxuICAgIHJldHVybiBTdHJ1Y3R1cmVLaW5kJE1BUF9pbnN0YW5jZTtcbiAgfVxuICBTdHJ1Y3R1cmVLaW5kLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1N0cnVjdHVyZUtpbmQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsS2luZF19O1xuICBmdW5jdGlvbiBVbmlvbktpbmQoKSB7XG4gICAgU2VyaWFsS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRPQkpFQ1QoKSB7XG4gICAgVW5pb25LaW5kJE9CSkVDVF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgVW5pb25LaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgVW5pb25LaW5kJE9CSkVDVC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnT0JKRUNUJywgaW50ZXJmYWNlczogW1VuaW9uS2luZF19O1xuICB2YXIgVW5pb25LaW5kJE9CSkVDVF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRPQkpFQ1RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFVuaW9uS2luZCRPQkpFQ1RfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBVbmlvbktpbmQkT0JKRUNUKCk7XG4gICAgfVxuICAgIHJldHVybiBVbmlvbktpbmQkT0JKRUNUX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRFTlVNX0tJTkQoKSB7XG4gICAgVW5pb25LaW5kJEVOVU1fS0lORF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgVW5pb25LaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgVW5pb25LaW5kJEVOVU1fS0lORC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRU5VTV9LSU5EJywgaW50ZXJmYWNlczogW1VuaW9uS2luZF19O1xuICB2YXIgVW5pb25LaW5kJEVOVU1fS0lORF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRFTlVNX0tJTkRfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFVuaW9uS2luZCRFTlVNX0tJTkRfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBVbmlvbktpbmQkRU5VTV9LSU5EKCk7XG4gICAgfVxuICAgIHJldHVybiBVbmlvbktpbmQkRU5VTV9LSU5EX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRTRUFMRUQoKSB7XG4gICAgVW5pb25LaW5kJFNFQUxFRF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgVW5pb25LaW5kLmNhbGwodGhpcyk7XG4gIH1cbiAgVW5pb25LaW5kJFNFQUxFRC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU0VBTEVEJywgaW50ZXJmYWNlczogW1VuaW9uS2luZF19O1xuICB2YXIgVW5pb25LaW5kJFNFQUxFRF9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRTRUFMRURfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFVuaW9uS2luZCRTRUFMRURfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBVbmlvbktpbmQkU0VBTEVEKCk7XG4gICAgfVxuICAgIHJldHVybiBVbmlvbktpbmQkU0VBTEVEX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFVuaW9uS2luZCRQT0xZTU9SUEhJQygpIHtcbiAgICBVbmlvbktpbmQkUE9MWU1PUlBISUNfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFVuaW9uS2luZC5jYWxsKHRoaXMpO1xuICB9XG4gIFVuaW9uS2luZCRQT0xZTU9SUEhJQy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnUE9MWU1PUlBISUMnLCBpbnRlcmZhY2VzOiBbVW5pb25LaW5kXX07XG4gIHZhciBVbmlvbktpbmQkUE9MWU1PUlBISUNfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBVbmlvbktpbmQkUE9MWU1PUlBISUNfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFVuaW9uS2luZCRQT0xZTU9SUEhJQ19pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFVuaW9uS2luZCRQT0xZTU9SUEhJQygpO1xuICAgIH1cbiAgICByZXR1cm4gVW5pb25LaW5kJFBPTFlNT1JQSElDX2luc3RhbmNlO1xuICB9XG4gIFVuaW9uS2luZC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdVbmlvbktpbmQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsS2luZF19O1xuICBmdW5jdGlvbiBFbGVtZW50VmFsdWVFbmNvZGVyKCkge1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEVtcHR5TW9kdWxlX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCA9IGZ1bmN0aW9uIChkZXNjLCB0eXBlUGFyYW1zKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOb3ROdWxsTWFyayA9IGZ1bmN0aW9uICgpIHtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVmFsdWVfemEzcm1wJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKCdOb24tc2VyaWFsaXphYmxlICcgKyBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odmFsdWUpICsgJyBpcyBub3Qgc3VwcG9ydGVkIGJ5ICcgKyBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odGhpcykgKyAnIGVuY29kZXInKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbignbnVsbCBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZVVuaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVuY29kZXIgPSB0aGlzLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQoVW5pdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yLCBbXSk7XG4gICAgZW5jb2Rlci5lbmRTdHJ1Y3R1cmVfcWF0c20wJChVbml0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLmRlc2NyaXB0b3IpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCb29sZWFuXzZ0YWtudiQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCeXRlX3M4ajN0NyQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTaG9ydF9tcTIyZmwkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVWYWx1ZV96YTNybXAkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlSW50X3phM2xwYSQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVMb25nX3M4Y3hoeiQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVGbG9hdF9teDR1bHQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVWYWx1ZV96YTNybXAkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRG91YmxlXzE0ZHRoZSQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVDaGFyX3M4aXR2aCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodG9Cb3hlZENoYXIodmFsdWUpKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU3RyaW5nXzYxenBvZSQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVZhbHVlX3phM3JtcCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVFbnVtXzM5eWFocSQgPSBmdW5jdGlvbiAoZW51bURlc2NyaXB0aW9uLCBvcmRpbmFsKSB7XG4gICAgdGhpcy5lbmNvZGVWYWx1ZV96YTNybXAkKG9yZGluYWwpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOb25TZXJpYWxpemFibGVFbGVtZW50XzR3cGtkMSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlVmFsdWVfemEzcm1wJCh2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZVVuaXRFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVVbml0KCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZUJvb2xlYW5FbGVtZW50X3cxYjBubCQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlQm9vbGVhbl82dGFrbnYkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQnl0ZUVsZW1lbnRfYTN0YWRiJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVCeXRlX3M4ajN0NyQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTaG9ydEVsZW1lbnRfdGV0OWs1JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVTaG9ydF9tcTIyZmwkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlSW50RWxlbWVudF80d3BxYWckID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZUludF96YTNscGEkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTG9uZ0VsZW1lbnRfYTN6Z29qJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVMb25nX3M4Y3hoeiQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVGbG9hdEVsZW1lbnRfdDdxaGR4JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVGbG9hdF9teDR1bHQkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRG91YmxlRWxlbWVudF9pbXpyNWskID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZURvdWJsZV8xNGR0aGUkKHZhbHVlKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQ2hhckVsZW1lbnRfYTN0a2IxJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVDaGFyX3M4aXR2aCQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTdHJpbmdFbGVtZW50X2JnbTd6cyQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUpO1xuICB9O1xuICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVFbGVtZW50X2JsZWN1ZCQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlRWxlbWVudF8zenIyaXkkKGRlc2MsIGluZGV4KSlcbiAgICAgIHRoaXMuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChzZXJpYWxpemVyLCB2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudF9vcnB2dmkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJChzZXJpYWxpemVyLCB2YWx1ZSk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnRWxlbWVudFZhbHVlRW5jb2RlcicsIGludGVyZmFjZXM6IFtDb21wb3NpdGVFbmNvZGVyLCBFbmNvZGVyXX07XG4gIGZ1bmN0aW9uIEVsZW1lbnRWYWx1ZURlY29kZXIoKSB7XG4gICAgdGhpcy51cGRhdGVNb2RlX2ZtYjFhZSRfMCA9IFVwZGF0ZU1vZGUkVVBEQVRFX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRW1wdHlNb2R1bGVfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUsICd1cGRhdGVNb2RlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZU1vZGVfZm1iMWFlJF8wO1xuICB9fSk7XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICByZXR1cm4gLTI7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZU5vdE51bGxNYXJrID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbihLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odGhpcykudG9TdHJpbmcoKSArIFwiIGNhbid0IHJldHJpZXZlIHVudHlwZWQgdmFsdWVzXCIpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVVbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWFkZXIgPSB0aGlzLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQoVW5pdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yLCBbXSk7XG4gICAgcmVhZGVyLmVuZFN0cnVjdHVyZV9xYXRzbTAkKFVuaXRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkuZGVzY3JpcHRvcik7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUJvb2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVmFsdWUoKSkgPT09ICdib29sZWFuJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCeXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTaG9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVWYWx1ZSgpKSA9PT0gJ251bWJlcicgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlSW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVMb25nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCksIEtvdGxpbi5Mb25nKSA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVGbG9hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVWYWx1ZSgpKSA9PT0gJ251bWJlcicgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRG91YmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVDaGFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiBLb3RsaW4uaXNDaGFyKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVWYWx1ZSgpKSA9PT0gJ3N0cmluZycgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRW51bV93ODQ5cXMkID0gZnVuY3Rpb24gKGVudW1EZXNjcmlwdGlvbikge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVZhbHVlKCkpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5iZWdpblN0cnVjdHVyZV9yMHNhNnokID0gZnVuY3Rpb24gKGRlc2MsIHR5cGVQYXJhbXMpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVW5pdEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHRoaXMuZGVjb2RlVW5pdCgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlQm9vbGVhbigpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCeXRlRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlQnl0ZSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTaG9ydEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVNob3J0KCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUludEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZUludCgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVMb25nRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlTG9uZygpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVGbG9hdEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZUZsb2F0KCk7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZURvdWJsZUVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZURvdWJsZSgpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVDaGFyRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlQ2hhcigpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTdHJpbmdFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVTdHJpbmcoKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlU2VyaWFsaXphYmxlRWxlbWVudF9zNDRsN3IkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBkZXNlcmlhbGl6ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkKGRlc2VyaWFsaXplcik7XG4gIH07XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudF9jd2xtNGskID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBkZXNlcmlhbGl6ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2FhZTNlYSQoZGVzZXJpYWxpemVyKTtcbiAgfTtcbiAgRWxlbWVudFZhbHVlRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlRWxlbWVudF9laHVidmwkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBkZXNlcmlhbGl6ZXIsIG9sZCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVNlcmlhbGl6YWJsZVZhbHVlXzE5YzhrNSQoZGVzZXJpYWxpemVyLCBvbGQpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZUVsZW1lbnRfdTMzczAyJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgZGVzZXJpYWxpemVyLCBvbGQpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2V4bWxicyQoZGVzZXJpYWxpemVyLCBvbGQpO1xuICB9O1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0VsZW1lbnRWYWx1ZURlY29kZXInLCBpbnRlcmZhY2VzOiBbQ29tcG9zaXRlRGVjb2RlciwgRGVjb2Rlcl19O1xuICBmdW5jdGlvbiBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKG1lc3NhZ2UsIGNhdXNlKSB7XG4gICAgaWYgKGNhdXNlID09PSB2b2lkIDApXG4gICAgICBjYXVzZSA9IG51bGw7XG4gICAgUnVudGltZUV4Y2VwdGlvbi5jYWxsKHRoaXMsIG1lc3NhZ2UsIGNhdXNlKTtcbiAgICB0aGlzLm5hbWUgPSAnU2VyaWFsaXphdGlvbkV4Y2VwdGlvbic7XG4gIH1cbiAgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTZXJpYWxpemF0aW9uRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1J1bnRpbWVFeGNlcHRpb25dfTtcbiAgZnVuY3Rpb24gVXBkYXRlTm90U3VwcG9ydGVkRXhjZXB0aW9uKGNsYXNzTmFtZSkge1xuICAgIFNlcmlhbGl6YXRpb25FeGNlcHRpb24uY2FsbCh0aGlzLCAnVXBkYXRlIGlzIG5vdCBzdXBwb3J0ZWQgZm9yICcgKyBjbGFzc05hbWUpO1xuICAgIHRoaXMubmFtZSA9ICdVcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24nO1xuICB9XG4gIFVwZGF0ZU5vdFN1cHBvcnRlZEV4Y2VwdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdVcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24nLCBpbnRlcmZhY2VzOiBbU2VyaWFsaXphdGlvbkV4Y2VwdGlvbl19O1xuICB2YXIgTWFwcGVyJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZXIoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB0bXAkXzAgPSAodG1wJCA9IGNvbXBpbGVkU2VyaWFsaXplcigkcmVjZWl2ZXIpKSAhPSBudWxsID8gdG1wJCA6IGRlZmF1bHRTZXJpYWxpemVyKCRyZWNlaXZlcik7XG4gICAgaWYgKHRtcCRfMCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbihcIkNhbid0IGxvY2F0ZSBhcmd1bWVudC1sZXNzIHNlcmlhbGl6ZXIgZm9yIFwiICsgJHJlY2VpdmVyICsgJy4gRm9yIGdlbmVyaWMgY2xhc3Nlcywgc3VjaCBhcyBsaXN0cywgcGxlYXNlIHByb3ZpZGUgc2VyaWFsaXplciBleHBsaWNpdGx5LicpO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJF8wO1xuICB9XG4gIGZ1bmN0aW9uIFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yKCkge1xuICAgIFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBTZXJpYWxDbGFzc0Rlc2NJbXBsLmNhbGwodGhpcywgJ2tvdGxpbi5BbnknKTtcbiAgICB0aGlzLmtpbmRfcjI1Y3RlJF8wID0gVW5pb25LaW5kJFBPTFlNT1JQSElDX2dldEluc3RhbmNlKCk7XG4gICAgdGhpcy5hZGRFbGVtZW50X2l2eG4zciQoJ2NsYXNzJyk7XG4gICAgdGhpcy5hZGRFbGVtZW50X2l2eG4zciQoJ3ZhbHVlJyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMua2luZF9yMjVjdGUkXzA7XG4gIH19KTtcbiAgUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1BvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1NlcmlhbENsYXNzRGVzY0ltcGxdfTtcbiAgdmFyIFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIFBvbHltb3JwaGljQ2xhc3NEZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFBvbHltb3JwaGljU2VyaWFsaXplcihiYXNlQ2xhc3MpIHtcbiAgICB0aGlzLmJhc2VDbGFzcyA9IGJhc2VDbGFzcztcbiAgICB0aGlzLmRlc2NyaXB0b3Jfbm9nM3d3JF8wID0gUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG9seW1vcnBoaWNTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9ub2czd3ckXzA7XG4gIH19KTtcbiAgUG9seW1vcnBoaWNTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgYWN0dWFsU2VyaWFsaXplciA9IHRoaXMuZmluZFBvbHltb3JwaGljU2VyaWFsaXplcl85djA4dTQkKGVuY29kZXIsIG9iaik7XG4gICAgdmFyIGNvbXBvc2l0ZUVuY29kZXIgPSBlbmNvZGVyLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQodGhpcy5kZXNjcmlwdG9yLCBbXSk7XG4gICAgY29tcG9zaXRlRW5jb2Rlci5lbmNvZGVTdHJpbmdFbGVtZW50X2JnbTd6cyQodGhpcy5kZXNjcmlwdG9yLCAwLCBhY3R1YWxTZXJpYWxpemVyLmRlc2NyaXB0b3IubmFtZSk7XG4gICAgY29tcG9zaXRlRW5jb2Rlci5lbmNvZGVTZXJpYWxpemFibGVFbGVtZW50X2JsZWN1ZCQodGhpcy5kZXNjcmlwdG9yLCAxLCBLb3RsaW4uaXNUeXBlKHRtcCQgPSBhY3R1YWxTZXJpYWxpemVyLCBLU2VyaWFsaXplcikgPyB0bXAkIDogdGhyb3dDQ0UoKSwgb2JqKTtcbiAgICBjb21wb3NpdGVFbmNvZGVyLmVuZFN0cnVjdHVyZV9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gIH07XG4gIFBvbHltb3JwaGljU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIGNvbXBvc2l0ZURlY29kZXIgPSBkZWNvZGVyLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQodGhpcy5kZXNjcmlwdG9yLCBbXSk7XG4gICAgdmFyIGtsYXNzTmFtZSA9IHt2OiBudWxsfTtcbiAgICB2YXIgdmFsdWUgPSBudWxsO1xuICAgIG1haW5Mb29wOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgdmFyIGluZGV4ID0gY29tcG9zaXRlRGVjb2Rlci5kZWNvZGVFbGVtZW50SW5kZXhfcWF0c20wJCh0aGlzLmRlc2NyaXB0b3IpO1xuICAgICAgc3dpdGNoIChpbmRleCkge1xuICAgICAgICBjYXNlIC0yOlxuICAgICAgICAgIGtsYXNzTmFtZS52ID0gY29tcG9zaXRlRGVjb2Rlci5kZWNvZGVTdHJpbmdFbGVtZW50XzN6cjJpeSQodGhpcy5kZXNjcmlwdG9yLCAwKTtcbiAgICAgICAgICB2YXIgc2VyaWFsaXplciA9IHRoaXMuZmluZFBvbHltb3JwaGljU2VyaWFsaXplcl9iNjl6YWMkKGNvbXBvc2l0ZURlY29kZXIsIGtsYXNzTmFtZS52KTtcbiAgICAgICAgICB2YWx1ZSA9IGNvbXBvc2l0ZURlY29kZXIuZGVjb2RlU2VyaWFsaXphYmxlRWxlbWVudF9zNDRsN3IkKHRoaXMuZGVzY3JpcHRvciwgMSwgc2VyaWFsaXplcik7XG4gICAgICAgICAgYnJlYWsgbWFpbkxvb3A7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgICAgYnJlYWsgbWFpbkxvb3A7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBrbGFzc05hbWUudiA9IGNvbXBvc2l0ZURlY29kZXIuZGVjb2RlU3RyaW5nRWxlbWVudF8zenIyaXkkKHRoaXMuZGVzY3JpcHRvciwgaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdmFyIHZhbHVlXzAgPSBrbGFzc05hbWUudjtcbiAgICAgICAgICB2YXIgcmVxdWlyZU5vdE51bGwkcmVzdWx0O1xuICAgICAgICAgIGlmICh2YWx1ZV8wID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJ0Nhbm5vdCByZWFkIHBvbHltb3JwaGljIHZhbHVlIGJlZm9yZSBpdHMgdHlwZSB0b2tlbic7XG4gICAgICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1aXJlTm90TnVsbCRyZXN1bHQgPSB2YWx1ZV8wO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGtsYXNzTmFtZS52ID0gcmVxdWlyZU5vdE51bGwkcmVzdWx0O1xuICAgICAgICAgIHZhciBzZXJpYWxpemVyXzAgPSB0aGlzLmZpbmRQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfYjY5emFjJChjb21wb3NpdGVEZWNvZGVyLCBrbGFzc05hbWUudik7XG4gICAgICAgICAgdmFsdWUgPSBjb21wb3NpdGVEZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfczQ0bDdyJCh0aGlzLmRlc2NyaXB0b3IsIGluZGV4LCBzZXJpYWxpemVyXzApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OnRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKCdJbnZhbGlkIGluZGV4IGluIHBvbHltb3JwaGljIGRlc2VyaWFsaXphdGlvbiBvZiAnICsgKCgodG1wJCA9IGtsYXNzTmFtZS52KSAhPSBudWxsID8gdG1wJCA6ICd1bmtub3duIGNsYXNzJykgKyAnIHdpdGggYmFzZSAnICsgdGhpcy5iYXNlQ2xhc3MpICsgKCdcXG4nICsgJyBFeHBlY3RlZCAwLCAxLCBSRUFEX0FMTCgtMikgb3IgUkVBRF9ET05FKC0xKSwgYnV0IGZvdW5kICcgKyBpbmRleCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb21wb3NpdGVEZWNvZGVyLmVuZFN0cnVjdHVyZV9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gICAgdmFyIHZhbHVlXzEgPSB2YWx1ZTtcbiAgICB2YXIgcmVxdWlyZU5vdE51bGwkcmVzdWx0XzA7XG4gICAgaWYgKHZhbHVlXzEgPT0gbnVsbCkge1xuICAgICAgdmFyIG1lc3NhZ2VfMCA9ICdQb2x5bW9ycGhpYyB2YWx1ZSBoYXZlIG5vdCBiZWVuIHJlYWQgZm9yIGNsYXNzICcgKyB0b1N0cmluZyhrbGFzc05hbWUudik7XG4gICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlXzAudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHJlcXVpcmVOb3ROdWxsJHJlc3VsdF8wID0gdmFsdWVfMTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcXVpcmVOb3ROdWxsJHJlc3VsdF8wO1xuICB9O1xuICBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIucHJvdG90eXBlLmZpbmRQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfYjY5emFjJCA9IGZ1bmN0aW9uIChkZWNvZGVyLCBrbGFzc05hbWUpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gKHRtcCQgPSBkZWNvZGVyLmNvbnRleHQuZ2V0UG9seW1vcnBoaWNfNnh0c2xhJCh0aGlzLmJhc2VDbGFzcywga2xhc3NOYW1lKSkgIT0gbnVsbCA/IHRtcCQgOiB0aHJvd1N1YnR5cGVOb3RSZWdpc3RlcmVkKGtsYXNzTmFtZSwgdGhpcy5iYXNlQ2xhc3MpO1xuICB9O1xuICBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIucHJvdG90eXBlLmZpbmRQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfOXYwOHU0JCA9IGZ1bmN0aW9uIChlbmNvZGVyLCB2YWx1ZSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBlbmNvZGVyLmNvbnRleHQuZ2V0UG9seW1vcnBoaWNfYjFjZTBhJCh0aGlzLmJhc2VDbGFzcywgS290bGluLmlzVHlwZSh0bXAkID0gdmFsdWUsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKSkpICE9IG51bGwgPyB0bXAkXzAgOiB0aHJvd1N1YnR5cGVOb3RSZWdpc3RlcmVkXzAoS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKHZhbHVlKSwgdGhpcy5iYXNlQ2xhc3MpO1xuICB9O1xuICBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUG9seW1vcnBoaWNTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIHRocm93U3VidHlwZU5vdFJlZ2lzdGVyZWQoc3ViQ2xhc3NOYW1lLCBiYXNlQ2xhc3MpIHtcbiAgICB0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbihzdWJDbGFzc05hbWUgKyAnIGlzIG5vdCByZWdpc3RlcmVkIGZvciBwb2x5bW9ycGhpYyBzZXJpYWxpemF0aW9uIGluIHRoZSBzY29wZSBvZiAnICsgYmFzZUNsYXNzKTtcbiAgfVxuICBmdW5jdGlvbiB0aHJvd1N1YnR5cGVOb3RSZWdpc3RlcmVkXzAoc3ViQ2xhc3MsIGJhc2VDbGFzcykge1xuICAgIHJldHVybiB0aHJvd1N1YnR5cGVOb3RSZWdpc3RlcmVkKHN1YkNsYXNzLnRvU3RyaW5nKCksIGJhc2VDbGFzcyk7XG4gIH1cbiAgdmFyIElOU1RBTExfREVQUkVDQVRJT05fVEVYVDtcbiAgZnVuY3Rpb24gU2VyaWFsRm9ybWF0KCkge1xuICB9XG4gIFNlcmlhbEZvcm1hdC5wcm90b3R5cGUuaW5zdGFsbF9zdHB5dTQkID0gZnVuY3Rpb24gKG1vZHVsZV8wKSB7XG4gIH07XG4gIFNlcmlhbEZvcm1hdC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnU2VyaWFsRm9ybWF0JywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBBYnN0cmFjdFNlcmlhbEZvcm1hdChjb250ZXh0KSB7XG4gICAgdGhpcy5jb250ZXh0X2Z6a2NqYiRfMCA9IGNvbnRleHQ7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0U2VyaWFsRm9ybWF0LnByb3RvdHlwZSwgJ2NvbnRleHQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dF9memtjamIkXzA7XG4gIH19KTtcbiAgQWJzdHJhY3RTZXJpYWxGb3JtYXQucHJvdG90eXBlLmluc3RhbGxfc3RweXU0JCA9IGZ1bmN0aW9uIChtb2R1bGVfMCkge1xuICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEVycm9yX2luaXQoSU5TVEFMTF9ERVBSRUNBVElPTl9URVhUKTtcbiAgfTtcbiAgQWJzdHJhY3RTZXJpYWxGb3JtYXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RTZXJpYWxGb3JtYXQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsRm9ybWF0XX07XG4gIGZ1bmN0aW9uIEJpbmFyeUZvcm1hdCgpIHtcbiAgfVxuICBmdW5jdGlvbiBTdHJpbmdGb3JtYXQoKSB7XG4gIH1cbiAgU3RyaW5nRm9ybWF0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTdHJpbmdGb3JtYXQnLCBpbnRlcmZhY2VzOiBbU2VyaWFsRm9ybWF0XX07XG4gIGZ1bmN0aW9uIGVsZW1lbnREZXNjcmlwdG9ycygkcmVjZWl2ZXIpIHtcbiAgICB2YXIgJHJlY2VpdmVyXzAgPSB1bnRpbCgwLCAkcmVjZWl2ZXIuZWxlbWVudHNDb3VudCk7XG4gICAgdmFyIGRlc3RpbmF0aW9uID0gQXJyYXlMaXN0X2luaXQoY29sbGVjdGlvblNpemVPckRlZmF1bHQoJHJlY2VpdmVyXzAsIDEwKSk7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9ICRyZWNlaXZlcl8wLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgaXRlbSA9IHRtcCQubmV4dCgpO1xuICAgICAgZGVzdGluYXRpb24uYWRkXzExcmIkKCRyZWNlaXZlci5nZXRFbGVtZW50RGVzY3JpcHRvcl96YTNscGEkKGl0ZW0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICB9XG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRJbmRleE9yVGhyb3coJHJlY2VpdmVyLCBuYW1lKSB7XG4gICAgdmFyIGkgPSAkcmVjZWl2ZXIuZ2V0RWxlbWVudEluZGV4XzYxenBvZSQobmFtZSk7XG4gICAgaWYgKGkgPT09IC0zKVxuICAgICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJHJlY2VpdmVyLm5hbWUgKyBcIiBkb2VzIG5vdCBjb250YWluIGVsZW1lbnQgd2l0aCBuYW1lICdcIiArIG5hbWUgKyBcIidcIik7XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgZnVuY3Rpb24gVGFnZ2VkRW5jb2RlcigpIHtcbiAgICB0aGlzLnRhZ1N0YWNrX3M5dzU3ZCRfMCA9IEFycmF5TGlzdF9pbml0XzAoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBFbXB0eU1vZHVsZV9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKCdOb24tc2VyaWFsaXphYmxlICcgKyBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odmFsdWUpICsgJyBpcyBub3Qgc3VwcG9ydGVkIGJ5ICcgKyBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24odGhpcykgKyAnIGVuY29kZXInKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkTm90TnVsbE1hcmtfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVRhZ2dlZE51bGxfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJ251bGwgaXMgbm90IHN1cHBvcnRlZCcpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVUYWdnZWROdWxsYWJsZV92aG1ndGwkXzAgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICB0aGlzLmVuY29kZVRhZ2dlZE51bGxfMTFyYiQodGFnKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdGhpcy5lbmNvZGVUYWdnZWROb3ROdWxsTWFya18xMXJiJCh0YWcpO1xuICAgICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgdmFsdWUpO1xuICAgIH1cbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkVW5pdF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGFnLCBVbml0KTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkSW50X2RwZzF5eCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkQnl0ZV8xOXFlNDAkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGFnLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVRhZ2dlZFNob3J0X3ZlY2NqMCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkTG9uZ18xOXdrZjgkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGFnLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVRhZ2dlZEZsb2F0X3ZsZjRwOCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkRG91YmxlX2UzN3BoNSQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkQm9vbGVhbl9pdXloZmskID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQodGFnLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVRhZ2dlZENoYXJfMTlxbzFxJCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgdG9Cb3hlZENoYXIodmFsdWUpKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkU3RyaW5nX2w5bDhteCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkVmFsdWVfZHBnN3djJCh0YWcsIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkRW51bV9nM2FyYXgkID0gZnVuY3Rpb24gKHRhZywgZW51bURlc2NyaXB0aW9uLCBvcmRpbmFsKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRhZywgb3JkaW5hbCk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHZhciB0YWcgPSB0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KTtcbiAgICB2YXIgc2hvdWxkV3JpdGVFbGVtZW50ID0gdGhpcy5zaG91bGRXcml0ZUVsZW1lbnRfYTVxaWhuJChkZXNjLCB0YWcsIGluZGV4KTtcbiAgICBpZiAoc2hvdWxkV3JpdGVFbGVtZW50KSB7XG4gICAgICB0aGlzLnB1c2hUYWdfMTFyYiQodGFnKTtcbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZFdyaXRlRWxlbWVudDtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuc2hvdWxkV3JpdGVFbGVtZW50X2E1cWlobiQgPSBmdW5jdGlvbiAoZGVzYywgdGFnLCBpbmRleCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOb3ROdWxsTWFyayA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZE5vdE51bGxNYXJrXzExcmIkKHRoaXMuY3VycmVudFRhZyk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZU51bGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWROdWxsXzExcmIkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlVW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFVuaXRfMTFyYiQodGhpcy5wb3BUYWdfaHpsZTl1JF8wKCkpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCb29sZWFuXzZ0YWtudiQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZEJvb2xlYW5faXV5aGZrJCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCeXRlX3M4ajN0NyQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZEJ5dGVfMTlxZTQwJCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTaG9ydF9tcTIyZmwkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRTaG9ydF92ZWNjajAkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUludF96YTNscGEkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRJbnRfZHBnMXl4JCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVMb25nX3M4Y3hoeiQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZExvbmdfMTl3a2Y4JCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVGbG9hdF9teDR1bHQkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRGbG9hdF92bGY0cDgkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZURvdWJsZV8xNGR0aGUkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWREb3VibGVfZTM3cGg1JCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVDaGFyX3M4aXR2aCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZENoYXJfMTlxbzFxJCh0aGlzLnBvcFRhZ19oemxlOXUkXzAoKSwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTdHJpbmdfNjF6cG9lJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkU3RyaW5nX2w5bDhteCQodGhpcy5wb3BUYWdfaHpsZTl1JF8wKCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRW51bV8zOXlhaHEkID0gZnVuY3Rpb24gKGVudW1EZXNjcmlwdGlvbiwgb3JkaW5hbCkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkRW51bV9nM2FyYXgkKHRoaXMucG9wVGFnX2h6bGU5dSRfMCgpLCBlbnVtRGVzY3JpcHRpb24sIG9yZGluYWwpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5iZWdpblN0cnVjdHVyZV9yMHNhNnokID0gZnVuY3Rpb24gKGRlc2MsIHR5cGVQYXJhbXMpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIGlmICghdGhpcy50YWdTdGFja19zOXc1N2QkXzAuaXNFbXB0eSgpKVxuICAgICAgdGhpcy5wb3BUYWdfaHpsZTl1JF8wKCk7XG4gICAgdGhpcy5lbmRFbmNvZGVfcWF0c20wJChkZXNjKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5kRW5jb2RlX3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOb25TZXJpYWxpemFibGVFbGVtZW50XzR3cGtkMSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRWYWx1ZV9kcGc3d2MkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZVVuaXRFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZFVuaXRfMTFyYiQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCkpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVCb29sZWFuRWxlbWVudF93MWIwbmwkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkQm9vbGVhbl9pdXloZmskKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUJ5dGVFbGVtZW50X2EzdGFkYiQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRCeXRlXzE5cWU0MCQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2hvcnRFbGVtZW50X3RldDlrNSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRTaG9ydF92ZWNjajAkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUludEVsZW1lbnRfNHdwcWFnJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZEludF9kcGcxeXgkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUxvbmdFbGVtZW50X2EzemdvaiQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRMb25nXzE5d2tmOCQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlRmxvYXRFbGVtZW50X3Q3cWhkeCQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRGbG9hdF92bGY0cDgkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZURvdWJsZUVsZW1lbnRfaW16cjVrJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVRhZ2dlZERvdWJsZV9lMzdwaDUkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpLCB2YWx1ZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLmVuY29kZUNoYXJFbGVtZW50X2EzdGtiMSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIHZhbHVlKSB7XG4gICAgdGhpcy5lbmNvZGVUYWdnZWRDaGFyXzE5cW8xcSQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU3RyaW5nRWxlbWVudF9iZ203enMkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCB2YWx1ZSkge1xuICAgIHRoaXMuZW5jb2RlVGFnZ2VkU3RyaW5nX2w5bDhteCQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCksIHZhbHVlKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlRWxlbWVudF9ibGVjdWQkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBzZXJpYWxpemVyLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmVuY29kZUVsZW1lbnRfM3pyMml5JChkZXNjLCBpbmRleCkpXG4gICAgICB0aGlzLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQoc2VyaWFsaXplciwgdmFsdWUpO1xuICB9O1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZUVsZW1lbnRfb3JwdnZpJCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCwgc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5lbmNvZGVFbGVtZW50XzN6cjJpeSQoZGVzYywgaW5kZXgpKVxuICAgICAgdGhpcy5lbmNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2Y0Njg2ZyQoc2VyaWFsaXplciwgdmFsdWUpO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUsICdjdXJyZW50VGFnJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBsYXN0KHRoaXMudGFnU3RhY2tfczl3NTdkJF8wKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUsICdjdXJyZW50VGFnT3JOdWxsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBsYXN0T3JOdWxsKHRoaXMudGFnU3RhY2tfczl3NTdkJF8wKTtcbiAgfX0pO1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5wdXNoVGFnXzExcmIkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aGlzLnRhZ1N0YWNrX3M5dzU3ZCRfMC5hZGRfMTFyYiQobmFtZSk7XG4gIH07XG4gIFRhZ2dlZEVuY29kZXIucHJvdG90eXBlLnBvcFRhZ19oemxlOXUkXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLnRhZ1N0YWNrX3M5dzU3ZCRfMC5pc0VtcHR5KCkpXG4gICAgICByZXR1cm4gdGhpcy50YWdTdGFja19zOXc1N2QkXzAucmVtb3ZlQXRfemEzbHBhJChnZXRfbGFzdEluZGV4KHRoaXMudGFnU3RhY2tfczl3NTdkJF8wKSk7XG4gICAgZWxzZVxuICAgICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oJ05vIHRhZyBpbiBzdGFjayBmb3IgcmVxdWVzdGVkIGVsZW1lbnQnKTtcbiAgfTtcbiAgVGFnZ2VkRW5jb2Rlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdUYWdnZWRFbmNvZGVyJywgaW50ZXJmYWNlczogW0NvbXBvc2l0ZUVuY29kZXIsIEVuY29kZXJdfTtcbiAgZnVuY3Rpb24gTmFtZWRWYWx1ZUVuY29kZXIocm9vdE5hbWUpIHtcbiAgICBpZiAocm9vdE5hbWUgPT09IHZvaWQgMClcbiAgICAgIHJvb3ROYW1lID0gJyc7XG4gICAgVGFnZ2VkRW5jb2Rlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMucm9vdE5hbWUgPSByb290TmFtZTtcbiAgfVxuICBOYW1lZFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZ2V0VGFnX200N3E2ZiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLm5lc3RlZF82MXpwb2UkKHRoaXMuZWxlbWVudE5hbWVfM3pyMml5JCgkcmVjZWl2ZXIsIGluZGV4KSk7XG4gIH07XG4gIE5hbWVkVmFsdWVFbmNvZGVyLnByb3RvdHlwZS5uZXN0ZWRfNjF6cG9lJCA9IGZ1bmN0aW9uIChuZXN0ZWROYW1lKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9zZU5hbWVfcHVqN2Y0JCgodG1wJCA9IHRoaXMuY3VycmVudFRhZ09yTnVsbCkgIT0gbnVsbCA/IHRtcCQgOiB0aGlzLnJvb3ROYW1lLCBuZXN0ZWROYW1lKTtcbiAgfTtcbiAgTmFtZWRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVsZW1lbnROYW1lXzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gZGVzYy5nZXRFbGVtZW50TmFtZV96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgTmFtZWRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmNvbXBvc2VOYW1lX3B1ajdmNCQgPSBmdW5jdGlvbiAocGFyZW50TmFtZSwgY2hpbGROYW1lKSB7XG4gICAgcmV0dXJuIHBhcmVudE5hbWUubGVuZ3RoID09PSAwID8gY2hpbGROYW1lIDogcGFyZW50TmFtZSArICcuJyArIGNoaWxkTmFtZTtcbiAgfTtcbiAgTmFtZWRWYWx1ZUVuY29kZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTmFtZWRWYWx1ZUVuY29kZXInLCBpbnRlcmZhY2VzOiBbVGFnZ2VkRW5jb2Rlcl19O1xuICBmdW5jdGlvbiBUYWdnZWREZWNvZGVyKCkge1xuICAgIHRoaXMudXBkYXRlTW9kZV9tYzM5cTUkXzAgPSBVcGRhdGVNb2RlJFVQREFURV9nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMudGFnU3RhY2tfYXVvbjBoJF8wID0gQXJyYXlMaXN0X2luaXRfMCgpO1xuICAgIHRoaXMuZmxhZ18xMGEyNzEkXzAgPSBmYWxzZTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBFbXB0eU1vZHVsZV9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWdnZWREZWNvZGVyLnByb3RvdHlwZSwgJ3VwZGF0ZU1vZGUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlTW9kZV9tYzM5cTUkXzA7XG4gIH19KTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdGhyb3cgbmV3IFNlcmlhbGl6YXRpb25FeGNlcHRpb24oS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKHRoaXMpLnRvU3RyaW5nKCkgKyBcIiBjYW4ndCByZXRyaWV2ZSB1bnR5cGVkIHZhbHVlc1wiKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkTm90TnVsbE1hcmtfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZE51bGxfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZE51bGxhYmxlX3JkNzByMSRfMCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAodGhpcy5kZWNvZGVUYWdnZWROb3ROdWxsTWFya18xMXJiJCh0YWcpKSB7XG4gICAgICB0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWROdWxsXzExcmIkKHRhZyk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWRVbml0XzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkO1xuICAgIEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGtvdGxpbi5Vbml0KS5jb25zdHJ1Y3RvcikgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkQm9vbGVhbl8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpKSA9PT0gJ2Jvb2xlYW4nID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZEJ5dGVfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZFNob3J0XzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVRhZ2dlZFZhbHVlXzExcmIkKHRhZykpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWRJbnRfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZExvbmdfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSwgS290bGluLkxvbmcpID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZEZsb2F0XzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVRhZ2dlZFZhbHVlXzExcmIkKHRhZykpID09PSAnbnVtYmVyJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWREb3VibGVfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIHR5cGVvZiAodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSkgPT09ICdudW1iZXInID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVRhZ2dlZENoYXJfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc0NoYXIodG1wJCA9IHRoaXMuZGVjb2RlVGFnZ2VkVmFsdWVfMTFyYiQodGFnKSkgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkU3RyaW5nXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0eXBlb2YgKHRtcCQgPSB0aGlzLmRlY29kZVRhZ2dlZFZhbHVlXzExcmIkKHRhZykpID09PSAnc3RyaW5nJyA/IHRtcCQgOiB0aHJvd0NDRSgpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVUYWdnZWRFbnVtX3djOGhyYiQgPSBmdW5jdGlvbiAodGFnLCBlbnVtRGVzY3JpcHRpb24pIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gdHlwZW9mICh0bXAkID0gdGhpcy5kZWNvZGVUYWdnZWRWYWx1ZV8xMXJiJCh0YWcpKSA9PT0gJ251bWJlcicgPyB0bXAkIDogdGhyb3dDQ0UoKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTm90TnVsbE1hcmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkTm90TnVsbE1hcmtfMTFyYiQodGhpcy5jdXJyZW50VGFnKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTnVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlVW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlY29kZVRhZ2dlZFVuaXRfMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEJvb2xlYW5fMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCeXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEJ5dGVfMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTaG9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRTaG9ydF8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUludCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRJbnRfMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVMb25nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZExvbmdfMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVGbG9hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRGbG9hdF8xMXJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZURvdWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWREb3VibGVfMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVDaGFyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZENoYXJfMTFyYiQodGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkU3RyaW5nXzExcmIkKHRoaXMucG9wVGFnX3didGYzYSRfMCgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRW51bV93ODQ5cXMkID0gZnVuY3Rpb24gKGVudW1EZXNjcmlwdGlvbikge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEVudW1fd2M4aHJiJCh0aGlzLnBvcFRhZ193YnRmM2EkXzAoKSwgZW51bURlc2NyaXB0aW9uKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCA9IGZ1bmN0aW9uIChkZXNjLCB0eXBlUGFyYW1zKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICByZXR1cm4gLTI7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZVVuaXRFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICB0aGlzLmRlY29kZVRhZ2dlZFVuaXRfMTFyYiQodGhpcy5nZXRUYWdfbTQ3cTZmJChkZXNjLCBpbmRleCkpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkQm9vbGVhbl8xMXJiJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUJ5dGVFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRCeXRlXzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlU2hvcnRFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRTaG9ydF8xMXJiJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUludEVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZEludF8xMXJiJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUxvbmdFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRMb25nXzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlRmxvYXRFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRGbG9hdF8xMXJiJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZURvdWJsZUVsZW1lbnRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZVRhZ2dlZERvdWJsZV8xMXJiJCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZUNoYXJFbGVtZW50XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVUYWdnZWRDaGFyXzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlU3RyaW5nRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlVGFnZ2VkU3RyaW5nXzExcmIkKHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgaW5kZXgpKTtcbiAgfTtcbiAgZnVuY3Rpb24gVGFnZ2VkRGVjb2RlciRkZWNvZGVTZXJpYWxpemFibGVFbGVtZW50JGxhbWJkYShjbG9zdXJlJGRlc2VyaWFsaXplciwgdGhpcyRUYWdnZWREZWNvZGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzJFRhZ2dlZERlY29kZXIuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJChjbG9zdXJlJGRlc2VyaWFsaXplcik7XG4gICAgfTtcbiAgfVxuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVFbGVtZW50X3M0NGw3ciQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiB0aGlzLnRhZ0Jsb2NrXzZkMjZ0OSRfMCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgVGFnZ2VkRGVjb2RlciRkZWNvZGVTZXJpYWxpemFibGVFbGVtZW50JGxhbWJkYShkZXNlcmlhbGl6ZXIsIHRoaXMpKTtcbiAgfTtcbiAgZnVuY3Rpb24gVGFnZ2VkRGVjb2RlciRkZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZUVsZW1lbnQkbGFtYmRhKGNsb3N1cmUkZGVzZXJpYWxpemVyLCB0aGlzJFRhZ2dlZERlY29kZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMkVGFnZ2VkRGVjb2Rlci5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2FhZTNlYSQoY2xvc3VyZSRkZXNlcmlhbGl6ZXIpO1xuICAgIH07XG4gIH1cbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVFbGVtZW50X2N3bG00ayQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgsIGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiB0aGlzLnRhZ0Jsb2NrXzZkMjZ0OSRfMCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgVGFnZ2VkRGVjb2RlciRkZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZUVsZW1lbnQkbGFtYmRhKGRlc2VyaWFsaXplciwgdGhpcykpO1xuICB9O1xuICBmdW5jdGlvbiBUYWdnZWREZWNvZGVyJHVwZGF0ZVNlcmlhbGl6YWJsZUVsZW1lbnQkbGFtYmRhKGNsb3N1cmUkZGVzZXJpYWxpemVyLCBjbG9zdXJlJG9sZCwgdGhpcyRUYWdnZWREZWNvZGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzJFRhZ2dlZERlY29kZXIudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JChjbG9zdXJlJGRlc2VyaWFsaXplciwgY2xvc3VyZSRvbGQpO1xuICAgIH07XG4gIH1cbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlRWxlbWVudF9laHVidmwkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBkZXNlcmlhbGl6ZXIsIG9sZCkge1xuICAgIHJldHVybiB0aGlzLnRhZ0Jsb2NrXzZkMjZ0OSRfMCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgVGFnZ2VkRGVjb2RlciR1cGRhdGVTZXJpYWxpemFibGVFbGVtZW50JGxhbWJkYShkZXNlcmlhbGl6ZXIsIG9sZCwgdGhpcykpO1xuICB9O1xuICBmdW5jdGlvbiBUYWdnZWREZWNvZGVyJHVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudCRsYW1iZGEoY2xvc3VyZSRkZXNlcmlhbGl6ZXIsIGNsb3N1cmUkb2xkLCB0aGlzJFRhZ2dlZERlY29kZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMkVGFnZ2VkRGVjb2Rlci51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2V4bWxicyQoY2xvc3VyZSRkZXNlcmlhbGl6ZXIsIGNsb3N1cmUkb2xkKTtcbiAgICB9O1xuICB9XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlRWxlbWVudF91MzNzMDIkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4LCBkZXNlcmlhbGl6ZXIsIG9sZCkge1xuICAgIHJldHVybiB0aGlzLnRhZ0Jsb2NrXzZkMjZ0OSRfMCh0aGlzLmdldFRhZ19tNDdxNmYkKGRlc2MsIGluZGV4KSwgVGFnZ2VkRGVjb2RlciR1cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZUVsZW1lbnQkbGFtYmRhKGRlc2VyaWFsaXplciwgb2xkLCB0aGlzKSk7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLnRhZ0Jsb2NrXzZkMjZ0OSRfMCA9IGZ1bmN0aW9uICh0YWcsIGJsb2NrKSB7XG4gICAgdGhpcy5wdXNoVGFnXzExcmIkKHRhZyk7XG4gICAgdmFyIHIgPSBibG9jaygpO1xuICAgIGlmICghdGhpcy5mbGFnXzEwYTI3MSRfMCkge1xuICAgICAgdGhpcy5wb3BUYWdfd2J0ZjNhJF8wKCk7XG4gICAgfVxuICAgIHRoaXMuZmxhZ18xMGEyNzEkXzAgPSBmYWxzZTtcbiAgICByZXR1cm4gcjtcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhZ2dlZERlY29kZXIucHJvdG90eXBlLCAnY3VycmVudFRhZycsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbGFzdCh0aGlzLnRhZ1N0YWNrX2F1b24waCRfMCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhZ2dlZERlY29kZXIucHJvdG90eXBlLCAnY3VycmVudFRhZ09yTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbGFzdE9yTnVsbCh0aGlzLnRhZ1N0YWNrX2F1b24waCRfMCk7XG4gIH19KTtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUucHVzaFRhZ18xMXJiJCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhpcy50YWdTdGFja19hdW9uMGgkXzAuYWRkXzExcmIkKG5hbWUpO1xuICB9O1xuICBUYWdnZWREZWNvZGVyLnByb3RvdHlwZS5wb3BUYWdfd2J0ZjNhJF8wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByID0gdGhpcy50YWdTdGFja19hdW9uMGgkXzAucmVtb3ZlQXRfemEzbHBhJChnZXRfbGFzdEluZGV4KHRoaXMudGFnU3RhY2tfYXVvbjBoJF8wKSk7XG4gICAgdGhpcy5mbGFnXzEwYTI3MSRfMCA9IHRydWU7XG4gICAgcmV0dXJuIHI7XG4gIH07XG4gIFRhZ2dlZERlY29kZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnVGFnZ2VkRGVjb2RlcicsIGludGVyZmFjZXM6IFtDb21wb3NpdGVEZWNvZGVyLCBEZWNvZGVyXX07XG4gIGZ1bmN0aW9uIE5hbWVkVmFsdWVEZWNvZGVyKHJvb3ROYW1lKSB7XG4gICAgaWYgKHJvb3ROYW1lID09PSB2b2lkIDApXG4gICAgICByb290TmFtZSA9ICcnO1xuICAgIFRhZ2dlZERlY29kZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLnJvb3ROYW1lID0gcm9vdE5hbWU7XG4gIH1cbiAgTmFtZWRWYWx1ZURlY29kZXIucHJvdG90eXBlLmdldFRhZ19tNDdxNmYkID0gZnVuY3Rpb24gKCRyZWNlaXZlciwgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5uZXN0ZWRfNjF6cG9lJCh0aGlzLmVsZW1lbnROYW1lXzN6cjJpeSQoJHJlY2VpdmVyLCBpbmRleCkpO1xuICB9O1xuICBOYW1lZFZhbHVlRGVjb2Rlci5wcm90b3R5cGUubmVzdGVkXzYxenBvZSQgPSBmdW5jdGlvbiAobmVzdGVkTmFtZSkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiB0aGlzLmNvbXBvc2VOYW1lX3B1ajdmNCQoKHRtcCQgPSB0aGlzLmN1cnJlbnRUYWdPck51bGwpICE9IG51bGwgPyB0bXAkIDogdGhpcy5yb290TmFtZSwgbmVzdGVkTmFtZSk7XG4gIH07XG4gIE5hbWVkVmFsdWVEZWNvZGVyLnByb3RvdHlwZS5lbGVtZW50TmFtZV8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIGRlc2MuZ2V0RWxlbWVudE5hbWVfemEzbHBhJChpbmRleCk7XG4gIH07XG4gIE5hbWVkVmFsdWVEZWNvZGVyLnByb3RvdHlwZS5jb21wb3NlTmFtZV9wdWo3ZjQkID0gZnVuY3Rpb24gKHBhcmVudE5hbWUsIGNoaWxkTmFtZSkge1xuICAgIHJldHVybiBwYXJlbnROYW1lLmxlbmd0aCA9PT0gMCA/IGNoaWxkTmFtZSA6IHBhcmVudE5hbWUgKyAnLicgKyBjaGlsZE5hbWU7XG4gIH07XG4gIE5hbWVkVmFsdWVEZWNvZGVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ05hbWVkVmFsdWVEZWNvZGVyJywgaW50ZXJmYWNlczogW1RhZ2dlZERlY29kZXJdfTtcbiAgdmFyIENib3IkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gTGlzdExpa2VEZXNjcmlwdG9yKGVsZW1lbnREZXNjKSB7XG4gICAgdGhpcy5lbGVtZW50RGVzYyA9IGVsZW1lbnREZXNjO1xuICAgIHRoaXMuZWxlbWVudHNDb3VudF9heHIweGMkXzAgPSAxO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXN0TGlrZURlc2NyaXB0b3IucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gU3RydWN0dXJlS2luZCRMSVNUX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUsICdlbGVtZW50c0NvdW50Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzQ291bnRfYXhyMHhjJF8wO1xuICB9fSk7XG4gIExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RWxlbWVudE5hbWVfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiBpbmRleC50b1N0cmluZygpO1xuICB9O1xuICBMaXN0TGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRJbmRleF82MXpwb2UkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gdG9JbnRPck51bGwobmFtZSk7XG4gICAgaWYgKHRtcCQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobmFtZSArICcgaXMgbm90IGEgdmFsaWQgbGlzdCBpbmRleCcpO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgTGlzdExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50RGVzY3JpcHRvcl96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudERlc2M7XG4gIH07XG4gIExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBMaXN0TGlrZURlc2NyaXB0b3IpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChlcXVhbHModGhpcy5lbGVtZW50RGVzYywgb3RoZXIuZWxlbWVudERlc2MpICYmIGVxdWFscyh0aGlzLm5hbWUsIG90aGVyLm5hbWUpKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBMaXN0TGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoaGFzaENvZGUodGhpcy5lbGVtZW50RGVzYykgKiAzMSB8IDApICsgaGFzaENvZGUodGhpcy5uYW1lKSB8IDA7XG4gIH07XG4gIExpc3RMaWtlRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMaXN0TGlrZURlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbU2VyaWFsRGVzY3JpcHRvcl19O1xuICBmdW5jdGlvbiBNYXBMaWtlRGVzY3JpcHRvcihuYW1lLCBrZXlEZXNjcmlwdG9yLCB2YWx1ZURlc2NyaXB0b3IpIHtcbiAgICB0aGlzLm5hbWVfZWtvOG50JF8wID0gbmFtZTtcbiAgICB0aGlzLmtleURlc2NyaXB0b3IgPSBrZXlEZXNjcmlwdG9yO1xuICAgIHRoaXMudmFsdWVEZXNjcmlwdG9yID0gdmFsdWVEZXNjcmlwdG9yO1xuICAgIHRoaXMuZWxlbWVudHNDb3VudF9xcDJvY3EkXzAgPSAyO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUsICduYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWVfZWtvOG50JF8wO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUsICdraW5kJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBTdHJ1Y3R1cmVLaW5kJE1BUF9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUsICdlbGVtZW50c0NvdW50Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRzQ291bnRfcXAyb2NxJF8wO1xuICB9fSk7XG4gIE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50TmFtZV96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKCk7XG4gIH07XG4gIE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50SW5kZXhfNjF6cG9lJCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9IHRvSW50T3JOdWxsKG5hbWUpO1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG5hbWUgKyAnIGlzIG5vdCBhIHZhbGlkIG1hcCBpbmRleCcpO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggJSAyID09PSAwID8gdGhpcy5rZXlEZXNjcmlwdG9yIDogdGhpcy52YWx1ZURlc2NyaXB0b3I7XG4gIH07XG4gIE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIUtvdGxpbi5pc1R5cGUob3RoZXIsIE1hcExpa2VEZXNjcmlwdG9yKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWVxdWFscyh0aGlzLm5hbWUsIG90aGVyLm5hbWUpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICghZXF1YWxzKHRoaXMua2V5RGVzY3JpcHRvciwgb3RoZXIua2V5RGVzY3JpcHRvcikpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFlcXVhbHModGhpcy52YWx1ZURlc2NyaXB0b3IsIG90aGVyLnZhbHVlRGVzY3JpcHRvcikpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gaGFzaENvZGUodGhpcy5uYW1lKTtcbiAgICByZXN1bHQgPSAoMzEgKiByZXN1bHQgfCAwKSArIGhhc2hDb2RlKHRoaXMua2V5RGVzY3JpcHRvcikgfCAwO1xuICAgIHJlc3VsdCA9ICgzMSAqIHJlc3VsdCB8IDApICsgaGFzaENvZGUodGhpcy52YWx1ZURlc2NyaXB0b3IpIHwgMDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBNYXBMaWtlRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdNYXBMaWtlRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtTZXJpYWxEZXNjcmlwdG9yXX07XG4gIHZhciBBUlJBWV9OQU1FO1xuICB2YXIgQVJSQVlfTElTVF9OQU1FO1xuICB2YXIgTElOS0VEX0hBU0hfU0VUX05BTUU7XG4gIHZhciBIQVNIX1NFVF9OQU1FO1xuICB2YXIgTElOS0VEX0hBU0hfTUFQX05BTUU7XG4gIHZhciBIQVNIX01BUF9OQU1FO1xuICBmdW5jdGlvbiBBcnJheUxpc3RDbGFzc0Rlc2MoZWxlbWVudERlc2MpIHtcbiAgICBMaXN0TGlrZURlc2NyaXB0b3IuY2FsbCh0aGlzLCBlbGVtZW50RGVzYyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5TGlzdENsYXNzRGVzYy5wcm90b3R5cGUsICduYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBBUlJBWV9MSVNUX05BTUU7XG4gIH19KTtcbiAgQXJyYXlMaXN0Q2xhc3NEZXNjLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0FycmF5TGlzdENsYXNzRGVzYycsIGludGVyZmFjZXM6IFtMaXN0TGlrZURlc2NyaXB0b3JdfTtcbiAgZnVuY3Rpb24gTmFtZWRMaXN0Q2xhc3NEZXNjcmlwdG9yKG5hbWUsIGVsZW1lbnREZXNjcmlwdG9yKSB7XG4gICAgTGlzdExpa2VEZXNjcmlwdG9yLmNhbGwodGhpcywgZWxlbWVudERlc2NyaXB0b3IpO1xuICAgIHRoaXMubmFtZV8zenJ1cjckXzAgPSBuYW1lO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3IucHJvdG90eXBlLCAnbmFtZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lXzN6cnVyNyRfMDtcbiAgfX0pO1xuICBOYW1lZExpc3RDbGFzc0Rlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTmFtZWRMaXN0Q2xhc3NEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW0xpc3RMaWtlRGVzY3JpcHRvcl19O1xuICBmdW5jdGlvbiBMaW5rZWRIYXNoU2V0Q2xhc3NEZXNjKGVsZW1lbnREZXNjKSB7XG4gICAgTGlzdExpa2VEZXNjcmlwdG9yLmNhbGwodGhpcywgZWxlbWVudERlc2MpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaW5rZWRIYXNoU2V0Q2xhc3NEZXNjLnByb3RvdHlwZSwgJ25hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIExJTktFRF9IQVNIX1NFVF9OQU1FO1xuICB9fSk7XG4gIExpbmtlZEhhc2hTZXRDbGFzc0Rlc2MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTGlua2VkSGFzaFNldENsYXNzRGVzYycsIGludGVyZmFjZXM6IFtMaXN0TGlrZURlc2NyaXB0b3JdfTtcbiAgZnVuY3Rpb24gSGFzaFNldENsYXNzRGVzYyhlbGVtZW50RGVzYykge1xuICAgIExpc3RMaWtlRGVzY3JpcHRvci5jYWxsKHRoaXMsIGVsZW1lbnREZXNjKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGFzaFNldENsYXNzRGVzYy5wcm90b3R5cGUsICduYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBIQVNIX1NFVF9OQU1FO1xuICB9fSk7XG4gIEhhc2hTZXRDbGFzc0Rlc2MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSGFzaFNldENsYXNzRGVzYycsIGludGVyZmFjZXM6IFtMaXN0TGlrZURlc2NyaXB0b3JdfTtcbiAgZnVuY3Rpb24gTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3IobmFtZSwga2V5RGVzY3JpcHRvciwgdmFsdWVEZXNjcmlwdG9yKSB7XG4gICAgTWFwTGlrZURlc2NyaXB0b3IuY2FsbCh0aGlzLCBuYW1lLCBrZXlEZXNjcmlwdG9yLCB2YWx1ZURlc2NyaXB0b3IpO1xuICB9XG4gIE5hbWVkTWFwQ2xhc3NEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ05hbWVkTWFwQ2xhc3NEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW01hcExpa2VEZXNjcmlwdG9yXX07XG4gIGZ1bmN0aW9uIExpbmtlZEhhc2hNYXBDbGFzc0Rlc2Moa2V5RGVzYywgdmFsdWVEZXNjKSB7XG4gICAgTWFwTGlrZURlc2NyaXB0b3IuY2FsbCh0aGlzLCBMSU5LRURfSEFTSF9NQVBfTkFNRSwga2V5RGVzYywgdmFsdWVEZXNjKTtcbiAgfVxuICBMaW5rZWRIYXNoTWFwQ2xhc3NEZXNjLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpbmtlZEhhc2hNYXBDbGFzc0Rlc2MnLCBpbnRlcmZhY2VzOiBbTWFwTGlrZURlc2NyaXB0b3JdfTtcbiAgZnVuY3Rpb24gSGFzaE1hcENsYXNzRGVzYyhrZXlEZXNjLCB2YWx1ZURlc2MpIHtcbiAgICBNYXBMaWtlRGVzY3JpcHRvci5jYWxsKHRoaXMsIEhBU0hfTUFQX05BTUUsIGtleURlc2MsIHZhbHVlRGVzYyk7XG4gIH1cbiAgSGFzaE1hcENsYXNzRGVzYy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdIYXNoTWFwQ2xhc3NEZXNjJywgaW50ZXJmYWNlczogW01hcExpa2VEZXNjcmlwdG9yXX07XG4gIGZ1bmN0aW9uIEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIoKSB7XG4gIH1cbiAgQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IGZ1bmN0aW9uIChkZWNvZGVyLCBvbGQpIHtcbiAgICB2YXIgYnVpbGRlciA9IHRoaXMudG9CdWlsZGVyX3dpa24kKG9sZCk7XG4gICAgdmFyIHN0YXJ0SW5kZXggPSB0aGlzLmJ1aWxkZXJTaXplX3dpbGkkKGJ1aWxkZXIpO1xuICAgIHZhciBkZWNvZGVyXzAgPSBkZWNvZGVyLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQodGhpcy5kZXNjcmlwdG9yLCB0aGlzLnR5cGVQYXJhbXMuc2xpY2UoKSk7XG4gICAgdmFyIHNpemUgPSB0aGlzLnJlYWRTaXplX21lczVjZSRfMChkZWNvZGVyXzAsIGJ1aWxkZXIpO1xuICAgIG1haW5Mb29wOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgdmFyIGluZGV4ID0gZGVjb2Rlcl8wLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gICAgICBzd2l0Y2ggKGluZGV4KSB7XG4gICAgICAgIGNhc2UgLTI6XG4gICAgICAgICAgdGhpcy5yZWFkQWxsXzR4ZnoyYSRfMChkZWNvZGVyXzAsIGJ1aWxkZXIsIHN0YXJ0SW5kZXgsIHNpemUpO1xuICAgICAgICAgIGJyZWFrIG1haW5Mb29wO1xuICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgIGJyZWFrIG1haW5Mb29wO1xuICAgICAgICBkZWZhdWx0OnRoaXMucmVhZEl0ZW1faW5kMW55JChkZWNvZGVyXzAsIHN0YXJ0SW5kZXggKyBpbmRleCB8IDAsIGJ1aWxkZXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBkZWNvZGVyXzAuZW5kU3RydWN0dXJlX3FhdHNtMCQodGhpcy5kZXNjcmlwdG9yKTtcbiAgICByZXR1cm4gdGhpcy50b1Jlc3VsdF93aWxpJChidWlsZGVyKTtcbiAgfTtcbiAgQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgdmFyIGJ1aWxkZXIgPSB0aGlzLmJ1aWxkZXIoKTtcbiAgICByZXR1cm4gdGhpcy5wYXRjaF9teW5waXUkKGRlY29kZXIsIHRoaXMudG9SZXN1bHRfd2lsaSQoYnVpbGRlcikpO1xuICB9O1xuICBBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyLnByb3RvdHlwZS5yZWFkU2l6ZV9tZXM1Y2UkXzAgPSBmdW5jdGlvbiAoZGVjb2RlciwgYnVpbGRlcikge1xuICAgIHZhciBzaXplID0gZGVjb2Rlci5kZWNvZGVDb2xsZWN0aW9uU2l6ZV9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gICAgdGhpcy5jaGVja0NhcGFjaXR5X3JrN2J3OCQoYnVpbGRlciwgc2l6ZSk7XG4gICAgcmV0dXJuIHNpemU7XG4gIH07XG4gIEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIucHJvdG90eXBlLnJlYWRJdGVtX2luZDFueSQgPSBmdW5jdGlvbiAoZGVjb2RlciwgaW5kZXgsIGJ1aWxkZXIsIGNoZWNrSW5kZXgsIGNhbGxiYWNrJGRlZmF1bHQpIHtcbiAgICBpZiAoY2hlY2tJbmRleCA9PT0gdm9pZCAwKVxuICAgICAgY2hlY2tJbmRleCA9IHRydWU7XG4gICAgY2FsbGJhY2skZGVmYXVsdCA/IGNhbGxiYWNrJGRlZmF1bHQoZGVjb2RlciwgaW5kZXgsIGJ1aWxkZXIsIGNoZWNrSW5kZXgpIDogdGhpcy5yZWFkSXRlbV9pbmQxbnkkJGRlZmF1bHQoZGVjb2RlciwgaW5kZXgsIGJ1aWxkZXIsIGNoZWNrSW5kZXgpO1xuICB9O1xuICBBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyLnByb3RvdHlwZS5yZWFkQWxsXzR4ZnoyYSRfMCA9IGZ1bmN0aW9uIChkZWNvZGVyLCBidWlsZGVyLCBzdGFydEluZGV4LCBzaXplKSB7XG4gICAgaWYgKCEoc2l6ZSA+PSAwKSkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnU2l6ZSBtdXN0IGJlIGtub3duIGluIGFkdmFuY2Ugd2hlbiB1c2luZyBSRUFEX0FMTCc7XG4gICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc2l6ZTsgaW5kZXgrKylcbiAgICAgIHRoaXMucmVhZEl0ZW1faW5kMW55JChkZWNvZGVyLCBzdGFydEluZGV4ICsgaW5kZXggfCAwLCBidWlsZGVyLCBmYWxzZSk7XG4gIH07XG4gIEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBMaXN0TGlrZVNlcmlhbGl6ZXIoZWxlbWVudFNlcmlhbGl6ZXIpIHtcbiAgICBBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5lbGVtZW50U2VyaWFsaXplciA9IGVsZW1lbnRTZXJpYWxpemVyO1xuICAgIHRoaXMudHlwZVBhcmFtc190aGJoYmwkXzAgPSBbdGhpcy5lbGVtZW50U2VyaWFsaXplcl07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpc3RMaWtlU2VyaWFsaXplci5wcm90b3R5cGUsICd0eXBlUGFyYW1zJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGVQYXJhbXNfdGhiaGJsJF8wO1xuICB9fSk7XG4gIExpc3RMaWtlU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLm9ialNpemVfd2lrbiQob2JqKTtcbiAgICB2YXIgZW5jb2Rlcl8wID0gZW5jb2Rlci5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JCh0aGlzLmRlc2NyaXB0b3IsIHNpemUsIHRoaXMudHlwZVBhcmFtcy5zbGljZSgpKTtcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLm9iakl0ZXJhdG9yX3dpa24kKG9iaik7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHNpemU7IGluZGV4KyspXG4gICAgICBlbmNvZGVyXzAuZW5jb2RlU2VyaWFsaXphYmxlRWxlbWVudF9ibGVjdWQkKHRoaXMuZGVzY3JpcHRvciwgaW5kZXgsIHRoaXMuZWxlbWVudFNlcmlhbGl6ZXIsIGl0ZXJhdG9yLm5leHQoKSk7XG4gICAgZW5jb2Rlcl8wLmVuZFN0cnVjdHVyZV9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gIH07XG4gIExpc3RMaWtlU2VyaWFsaXplci5wcm90b3R5cGUucmVhZEl0ZW1faW5kMW55JCRkZWZhdWx0ID0gZnVuY3Rpb24gKGRlY29kZXIsIGluZGV4LCBidWlsZGVyLCBjaGVja0luZGV4KSB7XG4gICAgdGhpcy5pbnNlcnRfcDQyMmwkKGJ1aWxkZXIsIGluZGV4LCBkZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfczQ0bDdyJCh0aGlzLmRlc2NyaXB0b3IsIGluZGV4LCB0aGlzLmVsZW1lbnRTZXJpYWxpemVyKSk7XG4gIH07XG4gIExpc3RMaWtlU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMaXN0TGlrZVNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBNYXBMaWtlU2VyaWFsaXplcihrZXlTZXJpYWxpemVyLCB2YWx1ZVNlcmlhbGl6ZXIpIHtcbiAgICBBYnN0cmFjdENvbGxlY3Rpb25TZXJpYWxpemVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5rZXlTZXJpYWxpemVyID0ga2V5U2VyaWFsaXplcjtcbiAgICB0aGlzLnZhbHVlU2VyaWFsaXplciA9IHZhbHVlU2VyaWFsaXplcjtcbiAgICB0aGlzLnR5cGVQYXJhbXNfamRpNXBuJF8wID0gW3RoaXMua2V5U2VyaWFsaXplciwgdGhpcy52YWx1ZVNlcmlhbGl6ZXJdO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXBMaWtlU2VyaWFsaXplci5wcm90b3R5cGUsICd0eXBlUGFyYW1zJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGVQYXJhbXNfamRpNXBuJF8wO1xuICB9fSk7XG4gIE1hcExpa2VTZXJpYWxpemVyLnByb3RvdHlwZS5yZWFkSXRlbV9pbmQxbnkkJGRlZmF1bHQgPSBmdW5jdGlvbiAoZGVjb2RlciwgaW5kZXgsIGJ1aWxkZXIsIGNoZWNrSW5kZXgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBrZXkgPSBkZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfczQ0bDdyJCh0aGlzLmRlc2NyaXB0b3IsIGluZGV4LCB0aGlzLmtleVNlcmlhbGl6ZXIpO1xuICAgIGlmIChjaGVja0luZGV4KSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gZGVjb2Rlci5kZWNvZGVFbGVtZW50SW5kZXhfcWF0c20wJCh0aGlzLmRlc2NyaXB0b3IpO1xuICAgICAgaWYgKCEoJHJlY2VpdmVyID09PSAoaW5kZXggKyAxIHwgMCkpKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ1ZhbHVlIG11c3QgZm9sbG93IGtleSBpbiBhIG1hcCwgaW5kZXggZm9yIGtleTogJyArIGluZGV4ICsgJywgcmV0dXJuZWQgaW5kZXggZm9yIHZhbHVlOiAnICsgJHJlY2VpdmVyO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdG1wJCA9ICRyZWNlaXZlcjtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdG1wJCA9IGluZGV4ICsgMSB8IDA7XG4gICAgfVxuICAgIHZhciB2SW5kZXggPSB0bXAkO1xuICAgIGlmIChidWlsZGVyLmNvbnRhaW5zS2V5XzExcmIkKGtleSkgJiYgIUtvdGxpbi5pc1R5cGUodGhpcy52YWx1ZVNlcmlhbGl6ZXIuZGVzY3JpcHRvci5raW5kLCBQcmltaXRpdmVLaW5kKSkge1xuICAgICAgdG1wJF8wID0gZGVjb2Rlci51cGRhdGVTZXJpYWxpemFibGVFbGVtZW50X2VodWJ2bCQodGhpcy5kZXNjcmlwdG9yLCB2SW5kZXgsIHRoaXMudmFsdWVTZXJpYWxpemVyLCBnZXRWYWx1ZShidWlsZGVyLCBrZXkpKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdG1wJF8wID0gZGVjb2Rlci5kZWNvZGVTZXJpYWxpemFibGVFbGVtZW50X3M0NGw3ciQodGhpcy5kZXNjcmlwdG9yLCB2SW5kZXgsIHRoaXMudmFsdWVTZXJpYWxpemVyKTtcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gdG1wJF8wO1xuICAgIGJ1aWxkZXIucHV0X3h3emM5cCQoa2V5LCB2YWx1ZSk7XG4gIH07XG4gIE1hcExpa2VTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMub2JqU2l6ZV93aWtuJChvYmopO1xuICAgIHZhciBlbmNvZGVyXzAgPSBlbmNvZGVyLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkKHRoaXMuZGVzY3JpcHRvciwgc2l6ZSwgdGhpcy50eXBlUGFyYW1zLnNsaWNlKCkpO1xuICAgIHZhciBpdGVyYXRvciA9IHRoaXMub2JqSXRlcmF0b3Jfd2lrbiQob2JqKTtcbiAgICB2YXIgaW5kZXggPSB7djogMH07XG4gICAgd2hpbGUgKGl0ZXJhdG9yLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB2YXIgayA9IGVsZW1lbnQua2V5O1xuICAgICAgdmFyIHYgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIGVuY29kZXJfMC5lbmNvZGVTZXJpYWxpemFibGVFbGVtZW50X2JsZWN1ZCQodGhpcy5kZXNjcmlwdG9yLCAodG1wJCA9IGluZGV4LnYsIGluZGV4LnYgPSB0bXAkICsgMSB8IDAsIHRtcCQpLCB0aGlzLmtleVNlcmlhbGl6ZXIsIGspO1xuICAgICAgZW5jb2Rlcl8wLmVuY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfYmxlY3VkJCh0aGlzLmRlc2NyaXB0b3IsICh0bXAkXzAgPSBpbmRleC52LCBpbmRleC52ID0gdG1wJF8wICsgMSB8IDAsIHRtcCRfMCksIHRoaXMudmFsdWVTZXJpYWxpemVyLCB2KTtcbiAgICB9XG4gICAgZW5jb2Rlcl8wLmVuZFN0cnVjdHVyZV9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gIH07XG4gIE1hcExpa2VTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ01hcExpa2VTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0Fic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXJdfTtcbiAgZnVuY3Rpb24gQXJyYXlMaXN0U2VyaWFsaXplcihlbGVtZW50KSB7XG4gICAgTGlzdExpa2VTZXJpYWxpemVyLmNhbGwodGhpcywgZWxlbWVudCk7XG4gICAgdGhpcy5kZXNjcmlwdG9yXzd1d29hMiRfMCA9IG5ldyBBcnJheUxpc3RDbGFzc0Rlc2MoZWxlbWVudC5kZXNjcmlwdG9yKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlMaXN0U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfN3V3b2EyJF8wO1xuICB9fSk7XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLm9ialNpemVfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5zaXplO1xuICB9O1xuICBBcnJheUxpc3RTZXJpYWxpemVyLnByb3RvdHlwZS5vYmpJdGVyYXRvcl93aWtuJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLml0ZXJhdG9yKCk7XG4gIH07XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEFycmF5TGlzdF9pbml0XzAoKTtcbiAgfTtcbiAgQXJyYXlMaXN0U2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGRlclNpemVfd2lsaSQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5zaXplO1xuICB9O1xuICBBcnJheUxpc3RTZXJpYWxpemVyLnByb3RvdHlwZS50b1Jlc3VsdF93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyO1xuICB9O1xuICBBcnJheUxpc3RTZXJpYWxpemVyLnByb3RvdHlwZS50b0J1aWxkZXJfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9ICRyZWNlaXZlciwgQXJyYXlMaXN0KSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogQXJyYXlMaXN0X2luaXRfMSgkcmVjZWl2ZXIpO1xuICB9O1xuICBBcnJheUxpc3RTZXJpYWxpemVyLnByb3RvdHlwZS5jaGVja0NhcGFjaXR5X3JrN2J3OCQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBzaXplKSB7XG4gICAgJHJlY2VpdmVyLmVuc3VyZUNhcGFjaXR5X3phM2xwYSQoc2l6ZSk7XG4gIH07XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIucHJvdG90eXBlLmluc2VydF9wNDIybCQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBpbmRleCwgZWxlbWVudCkge1xuICAgICRyZWNlaXZlci5hZGRfd3htNXVyJChpbmRleCwgZWxlbWVudCk7XG4gIH07XG4gIEFycmF5TGlzdFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnQXJyYXlMaXN0U2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtMaXN0TGlrZVNlcmlhbGl6ZXJdfTtcbiAgZnVuY3Rpb24gTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIoZVNlcmlhbGl6ZXIpIHtcbiAgICBMaXN0TGlrZVNlcmlhbGl6ZXIuY2FsbCh0aGlzLCBlU2VyaWFsaXplcik7XG4gICAgdGhpcy5kZXNjcmlwdG9yX3ZuZmM3bSRfMCA9IG5ldyBMaW5rZWRIYXNoU2V0Q2xhc3NEZXNjKGVTZXJpYWxpemVyLmRlc2NyaXB0b3IpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3Jfdm5mYzdtJF8wO1xuICB9fSk7XG4gIExpbmtlZEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5vYmpTaXplX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZTtcbiAgfTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLm9iakl0ZXJhdG9yX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuaXRlcmF0b3IoKTtcbiAgfTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIExpbmtlZEhhc2hTZXRfaW5pdF8wKCk7XG4gIH07XG4gIExpbmtlZEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZGVyU2l6ZV93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnNpemU7XG4gIH07XG4gIExpbmtlZEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS50b1Jlc3VsdF93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyO1xuICB9O1xuICBMaW5rZWRIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUudG9CdWlsZGVyX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSAkcmVjZWl2ZXIsIExpbmtlZEhhc2hTZXQpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiBMaW5rZWRIYXNoU2V0X2luaXQoJHJlY2VpdmVyKTtcbiAgfTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLmNoZWNrQ2FwYWNpdHlfcms3Ync4JCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIHNpemUpIHtcbiAgfTtcbiAgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLmluc2VydF9wNDIybCQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBpbmRleCwgZWxlbWVudCkge1xuICAgICRyZWNlaXZlci5hZGRfMTFyYiQoZWxlbWVudCk7XG4gIH07XG4gIExpbmtlZEhhc2hTZXRTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0xpbmtlZEhhc2hTZXRTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0xpc3RMaWtlU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBIYXNoU2V0U2VyaWFsaXplcihlU2VyaWFsaXplcikge1xuICAgIExpc3RMaWtlU2VyaWFsaXplci5jYWxsKHRoaXMsIGVTZXJpYWxpemVyKTtcbiAgICB0aGlzLmRlc2NyaXB0b3JfeXFwejQ3JF8wID0gbmV3IEhhc2hTZXRDbGFzc0Rlc2MoZVNlcmlhbGl6ZXIuZGVzY3JpcHRvcik7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl95cXB6NDckXzA7XG4gIH19KTtcbiAgSGFzaFNldFNlcmlhbGl6ZXIucHJvdG90eXBlLm9ialNpemVfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5zaXplO1xuICB9O1xuICBIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUub2JqSXRlcmF0b3Jfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5pdGVyYXRvcigpO1xuICB9O1xuICBIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSGFzaFNldF9pbml0KCk7XG4gIH07XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZGVyU2l6ZV93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnNpemU7XG4gIH07XG4gIEhhc2hTZXRTZXJpYWxpemVyLnByb3RvdHlwZS50b1Jlc3VsdF93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyO1xuICB9O1xuICBIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUudG9CdWlsZGVyX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSAkcmVjZWl2ZXIsIEhhc2hTZXQpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiBIYXNoU2V0X2luaXRfMCgkcmVjZWl2ZXIpO1xuICB9O1xuICBIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUuY2hlY2tDYXBhY2l0eV9yazdidzgkID0gZnVuY3Rpb24gKCRyZWNlaXZlciwgc2l6ZSkge1xuICB9O1xuICBIYXNoU2V0U2VyaWFsaXplci5wcm90b3R5cGUuaW5zZXJ0X3A0MjJsJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGluZGV4LCBlbGVtZW50KSB7XG4gICAgJHJlY2VpdmVyLmFkZF8xMXJiJChlbGVtZW50KTtcbiAgfTtcbiAgSGFzaFNldFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSGFzaFNldFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbTGlzdExpa2VTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyKGtTZXJpYWxpemVyLCB2U2VyaWFsaXplcikge1xuICAgIE1hcExpa2VTZXJpYWxpemVyLmNhbGwodGhpcywga1NlcmlhbGl6ZXIsIHZTZXJpYWxpemVyKTtcbiAgICB0aGlzLmRlc2NyaXB0b3JfcGl4cDBvJF8wID0gbmV3IExpbmtlZEhhc2hNYXBDbGFzc0Rlc2Moa1NlcmlhbGl6ZXIuZGVzY3JpcHRvciwgdlNlcmlhbGl6ZXIuZGVzY3JpcHRvcik7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9waXhwMG8kXzA7XG4gIH19KTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLm9ialNpemVfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5zaXplO1xuICB9O1xuICBMaW5rZWRIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUub2JqSXRlcmF0b3Jfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gIH07XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgfTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLmJ1aWxkZXJTaXplX3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZTtcbiAgfTtcbiAgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLnRvUmVzdWx0X3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXI7XG4gIH07XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS50b0J1aWxkZXJfd2lrbiQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9ICRyZWNlaXZlciwgTGlua2VkSGFzaE1hcCkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IExpbmtlZEhhc2hNYXBfaW5pdF8wKCRyZWNlaXZlcik7XG4gIH07XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5jaGVja0NhcGFjaXR5X3JrN2J3OCQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBzaXplKSB7XG4gIH07XG4gIExpbmtlZEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5pbnNlcnRLZXlWYWx1ZVBhaXJfZmJyNThsJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgJHJlY2VpdmVyLnB1dF94d3pjOXAkKGtleSwgdmFsdWUpO1xuICB9O1xuICBMaW5rZWRIYXNoTWFwU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdMaW5rZWRIYXNoTWFwU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtNYXBMaWtlU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBIYXNoTWFwU2VyaWFsaXplcihrU2VyaWFsaXplciwgdlNlcmlhbGl6ZXIpIHtcbiAgICBNYXBMaWtlU2VyaWFsaXplci5jYWxsKHRoaXMsIGtTZXJpYWxpemVyLCB2U2VyaWFsaXplcik7XG4gICAgdGhpcy5kZXNjcmlwdG9yX2t2eXlkZCRfMCA9IG5ldyBIYXNoTWFwQ2xhc3NEZXNjKGtTZXJpYWxpemVyLmRlc2NyaXB0b3IsIHZTZXJpYWxpemVyLmRlc2NyaXB0b3IpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3Jfa3Z5eWRkJF8wO1xuICB9fSk7XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5vYmpTaXplX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuc2l6ZTtcbiAgfTtcbiAgSGFzaE1hcFNlcmlhbGl6ZXIucHJvdG90eXBlLm9iakl0ZXJhdG9yX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIuZW50cmllcy5pdGVyYXRvcigpO1xuICB9O1xuICBIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUuYnVpbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSGFzaE1hcF9pbml0KCk7XG4gIH07XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS5idWlsZGVyU2l6ZV93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyLnNpemU7XG4gIH07XG4gIEhhc2hNYXBTZXJpYWxpemVyLnByb3RvdHlwZS50b1Jlc3VsdF93aWxpJCA9IGZ1bmN0aW9uICgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gJHJlY2VpdmVyO1xuICB9O1xuICBIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUudG9CdWlsZGVyX3dpa24kID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSAkcmVjZWl2ZXIsIEhhc2hNYXApID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiBIYXNoTWFwX2luaXRfMCgkcmVjZWl2ZXIpO1xuICB9O1xuICBIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUuY2hlY2tDYXBhY2l0eV9yazdidzgkID0gZnVuY3Rpb24gKCRyZWNlaXZlciwgc2l6ZSkge1xuICB9O1xuICBIYXNoTWFwU2VyaWFsaXplci5wcm90b3R5cGUuaW5zZXJ0S2V5VmFsdWVQYWlyX2ZicjU4bCQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyLCBpbmRleCwga2V5LCB2YWx1ZSkge1xuICAgICRyZWNlaXZlci5wdXRfeHd6YzlwJChrZXksIHZhbHVlKTtcbiAgfTtcbiAgSGFzaE1hcFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSGFzaE1hcFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbTWFwTGlrZVNlcmlhbGl6ZXJdfTtcbiAgZnVuY3Rpb24gQ29tbW9uRW51bVNlcmlhbGl6ZXIoc2VyaWFsTmFtZSwgY2hvaWNlcywgY2hvaWNlc05hbWVzKSB7XG4gICAgdGhpcy5zZXJpYWxOYW1lID0gc2VyaWFsTmFtZTtcbiAgICB0aGlzLmNob2ljZXMgPSBjaG9pY2VzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl9qMnpnZGwkXzAgPSBuZXcgRW51bURlc2NyaXB0b3IodGhpcy5zZXJpYWxOYW1lLCBjaG9pY2VzTmFtZXMpO1xuICB9XG4gIGZ1bmN0aW9uIEdlbmVyYXRlZFNlcmlhbGl6ZXIoKSB7XG4gIH1cbiAgZnVuY3Rpb24gTG9uZ0FzU3RyaW5nU2VyaWFsaXplcigpIHtcbiAgICBMb25nQXNTdHJpbmdTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfOWF4OHVpJF8wID0gU3RyaW5nRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIHZhciBMb25nQXNTdHJpbmdTZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gbWFrZU51bGxhYmxlKGFjdHVhbFNlcmlhbGl6ZXIpIHtcbiAgICByZXR1cm4gbmV3IE51bGxhYmxlU2VyaWFsaXplcihhY3R1YWxTZXJpYWxpemVyKTtcbiAgfVxuICBmdW5jdGlvbiBOdWxsYWJsZVNlcmlhbGl6ZXIoYWN0dWFsU2VyaWFsaXplcikge1xuICAgIHRoaXMuYWN0dWFsU2VyaWFsaXplciA9IGFjdHVhbFNlcmlhbGl6ZXI7XG4gICAgdGhpcy5kZXNjcmlwdG9yX2tidmwyayRfMCA9IG5ldyBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlKHRoaXMuYWN0dWFsU2VyaWFsaXplci5kZXNjcmlwdG9yKTtcbiAgfVxuICBmdW5jdGlvbiBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlKG9yaWdpbmFsKSB7XG4gICAgdGhpcy5vcmlnaW5hbCA9IG9yaWdpbmFsO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH19KTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFLb3RsaW4uaXNUeXBlKG90aGVyLCBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWVxdWFscyh0aGlzLm9yaWdpbmFsLCBvdGhlci5vcmlnaW5hbCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoYXNoQ29kZSh0aGlzLm9yaWdpbmFsKSAqIDMxIHwgMDtcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLCAnZWxlbWVudHNDb3VudCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC5lbGVtZW50c0NvdW50O1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwua2luZDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUsICduYW1lJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLm5hbWU7XG4gIH19KTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUuZ2V0RWxlbWVudEFubm90YXRpb25zX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJChpbmRleCk7XG4gIH07XG4gIE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC5nZXRFbGVtZW50RGVzY3JpcHRvcl96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS5wcm90b3R5cGUuZ2V0RWxlbWVudEluZGV4XzYxenBvZSQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmdldEVsZW1lbnRJbmRleF82MXpwb2UkKG5hbWUpO1xuICB9O1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIkU2VyaWFsRGVzY3JpcHRvckZvck51bGxhYmxlLnByb3RvdHlwZS5nZXRFbGVtZW50TmFtZV96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWwuZ2V0RWxlbWVudE5hbWVfemEzbHBhJChpbmRleCk7XG4gIH07XG4gIE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLmdldEVudGl0eUFubm90YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9yaWdpbmFsLmdldEVudGl0eUFubm90YXRpb25zKCk7XG4gIH07XG4gIE51bGxhYmxlU2VyaWFsaXplciRTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUucHJvdG90eXBlLmlzRWxlbWVudE9wdGlvbmFsX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnaW5hbC5pc0VsZW1lbnRPcHRpb25hbF96YTNscGEkKGluZGV4KTtcbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyJFNlcmlhbERlc2NyaXB0b3JGb3JOdWxsYWJsZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTZXJpYWxEZXNjcmlwdG9yRm9yTnVsbGFibGUnLCBpbnRlcmZhY2VzOiBbU2VyaWFsRGVzY3JpcHRvcl19O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTnVsbGFibGVTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9rYnZsMmskXzA7XG4gIH19KTtcbiAgTnVsbGFibGVTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICBpZiAob2JqICE9IG51bGwpIHtcbiAgICAgIGVuY29kZXIuZW5jb2RlTm90TnVsbE1hcmsoKTtcbiAgICAgIGVuY29kZXIuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJCh0aGlzLmFjdHVhbFNlcmlhbGl6ZXIsIG9iaik7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIGVuY29kZXIuZW5jb2RlTnVsbCgpO1xuICAgIH1cbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVOb3ROdWxsTWFyaygpID8gZGVjb2Rlci5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkKHRoaXMuYWN0dWFsU2VyaWFsaXplcikgOiBkZWNvZGVyLmRlY29kZU51bGwoKTtcbiAgfTtcbiAgTnVsbGFibGVTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gZnVuY3Rpb24gKGRlY29kZXIsIG9sZCkge1xuICAgIHZhciB0bXAkO1xuICAgIGlmIChvbGQgPT0gbnVsbClcbiAgICAgIHRtcCQgPSB0aGlzLmRlc2VyaWFsaXplX250czVxbiQoZGVjb2Rlcik7XG4gICAgZWxzZSBpZiAoZGVjb2Rlci5kZWNvZGVOb3ROdWxsTWFyaygpKVxuICAgICAgdG1wJCA9IGRlY29kZXIudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JCh0aGlzLmFjdHVhbFNlcmlhbGl6ZXIsIG9sZCk7XG4gICAgZWxzZSB7XG4gICAgICBkZWNvZGVyLmRlY29kZU51bGwoKTtcbiAgICAgIHRtcCQgPSBvbGQ7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBOdWxsYWJsZVNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnTnVsbGFibGVTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIFByaW1pdGl2ZURlc2NyaXB0b3IobmFtZSwga2luZCkge1xuICAgIHRoaXMubmFtZV9yOWh0NmokXzAgPSBuYW1lO1xuICAgIHRoaXMua2luZF9yN3prMGkkXzAgPSBraW5kO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ25hbWUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZV9yOWh0NmokXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLCAna2luZCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5raW5kX3I3emswaSRfMDtcbiAgfX0pO1xuICBQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZS5lcnJvcl9iNno2dDYkXzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQoJ1ByaW1pdGl2ZXMgZG9lcyBub3QgaGF2ZSBlbGVtZW50cycpO1xuICB9O1xuICBQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50TmFtZV96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfYjZ6NnQ2JF8wKCk7XG4gIH07XG4gIFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRJbmRleF82MXpwb2UkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5lcnJvcl9iNno2dDYkXzAoKTtcbiAgfTtcbiAgUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUuaXNFbGVtZW50T3B0aW9uYWxfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmVycm9yX2I2ejZ0NiRfMCgpO1xuICB9O1xuICBQcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50RGVzY3JpcHRvcl96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JfYjZ6NnQ2JF8wKCk7XG4gIH07XG4gIFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG4gIFByaW1pdGl2ZURlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUHJpbWl0aXZlRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtTZXJpYWxEZXNjcmlwdG9yXX07XG4gIGZ1bmN0aW9uIEludERlc2NyaXB0b3IoKSB7XG4gICAgSW50RGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uSW50JywgUHJpbWl0aXZlS2luZCRJTlRfZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgSW50RGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSW50RGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVEZXNjcmlwdG9yXX07XG4gIHZhciBJbnREZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSW50RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSW50RGVzY3JpcHRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEludERlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIEludERlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gVW5pdERlc2NyaXB0b3IoKSB7XG4gICAgVW5pdERlc2NyaXB0b3JfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZURlc2NyaXB0b3IuY2FsbCh0aGlzLCAna290bGluLlVuaXQnLCBQcmltaXRpdmVLaW5kJFVOSVRfZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgVW5pdERlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1VuaXREZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIFVuaXREZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVW5pdERlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFVuaXREZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgVW5pdERlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIFVuaXREZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEJvb2xlYW5EZXNjcmlwdG9yKCkge1xuICAgIEJvb2xlYW5EZXNjcmlwdG9yX2luc3RhbmNlID0gdGhpcztcbiAgICBQcmltaXRpdmVEZXNjcmlwdG9yLmNhbGwodGhpcywgJ2tvdGxpbi5Cb29sZWFuJywgUHJpbWl0aXZlS2luZCRCT09MRUFOX2dldEluc3RhbmNlKCkpO1xuICB9XG4gIEJvb2xlYW5EZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdCb29sZWFuRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVEZXNjcmlwdG9yXX07XG4gIHZhciBCb29sZWFuRGVzY3JpcHRvcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEJvb2xlYW5EZXNjcmlwdG9yX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChCb29sZWFuRGVzY3JpcHRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEJvb2xlYW5EZXNjcmlwdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBCb29sZWFuRGVzY3JpcHRvcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBCeXRlRGVzY3JpcHRvcigpIHtcbiAgICBCeXRlRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uQnl0ZScsIFByaW1pdGl2ZUtpbmQkQllURV9nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBCeXRlRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQnl0ZURlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbUHJpbWl0aXZlRGVzY3JpcHRvcl19O1xuICB2YXIgQnl0ZURlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBCeXRlRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoQnl0ZURlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBCeXRlRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gQnl0ZURlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gU2hvcnREZXNjcmlwdG9yKCkge1xuICAgIFNob3J0RGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uU2hvcnQnLCBQcmltaXRpdmVLaW5kJFNIT1JUX2dldEluc3RhbmNlKCkpO1xuICB9XG4gIFNob3J0RGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU2hvcnREZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIFNob3J0RGVzY3JpcHRvcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFNob3J0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU2hvcnREZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU2hvcnREZXNjcmlwdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBTaG9ydERlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gTG9uZ0Rlc2NyaXB0b3IoKSB7XG4gICAgTG9uZ0Rlc2NyaXB0b3JfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZURlc2NyaXB0b3IuY2FsbCh0aGlzLCAna290bGluLkxvbmcnLCBQcmltaXRpdmVLaW5kJExPTkdfZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgTG9uZ0Rlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0xvbmdEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIExvbmdEZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gTG9uZ0Rlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKExvbmdEZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgTG9uZ0Rlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIExvbmdEZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEZsb2F0RGVzY3JpcHRvcigpIHtcbiAgICBGbG9hdERlc2NyaXB0b3JfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZURlc2NyaXB0b3IuY2FsbCh0aGlzLCAna290bGluLkZsb2F0JywgUHJpbWl0aXZlS2luZCRGTE9BVF9nZXRJbnN0YW5jZSgpKTtcbiAgfVxuICBGbG9hdERlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0Zsb2F0RGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVEZXNjcmlwdG9yXX07XG4gIHZhciBGbG9hdERlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBGbG9hdERlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEZsb2F0RGVzY3JpcHRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEZsb2F0RGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gRmxvYXREZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIERvdWJsZURlc2NyaXB0b3IoKSB7XG4gICAgRG91YmxlRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uRG91YmxlJywgUHJpbWl0aXZlS2luZCRET1VCTEVfZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgRG91YmxlRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRG91YmxlRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVEZXNjcmlwdG9yXX07XG4gIHZhciBEb3VibGVEZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gRG91YmxlRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoRG91YmxlRGVzY3JpcHRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IERvdWJsZURlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIERvdWJsZURlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gQ2hhckRlc2NyaXB0b3IoKSB7XG4gICAgQ2hhckRlc2NyaXB0b3JfaW5zdGFuY2UgPSB0aGlzO1xuICAgIFByaW1pdGl2ZURlc2NyaXB0b3IuY2FsbCh0aGlzLCAna290bGluLkNoYXInLCBQcmltaXRpdmVLaW5kJENIQVJfZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgQ2hhckRlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0NoYXJEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1ByaW1pdGl2ZURlc2NyaXB0b3JdfTtcbiAgdmFyIENoYXJEZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gQ2hhckRlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKENoYXJEZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgQ2hhckRlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIENoYXJEZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIFN0cmluZ0Rlc2NyaXB0b3IoKSB7XG4gICAgU3RyaW5nRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgUHJpbWl0aXZlRGVzY3JpcHRvci5jYWxsKHRoaXMsICdrb3RsaW4uU3RyaW5nJywgUHJpbWl0aXZlS2luZCRTVFJJTkdfZ2V0SW5zdGFuY2UoKSk7XG4gIH1cbiAgU3RyaW5nRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU3RyaW5nRGVzY3JpcHRvcicsIGludGVyZmFjZXM6IFtQcmltaXRpdmVEZXNjcmlwdG9yXX07XG4gIHZhciBTdHJpbmdEZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gU3RyaW5nRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3RyaW5nRGVzY3JpcHRvcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFN0cmluZ0Rlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZ0Rlc2NyaXB0b3JfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gVW5pdFNlcmlhbGl6ZXIoKSB7XG4gICAgVW5pdFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl9ndnZpNXQkXzAgPSBVbml0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfZ3Z2aTV0JF8wO1xuICB9fSk7XG4gIFVuaXRTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICBlbmNvZGVyLmVuY29kZVVuaXQoKTtcbiAgfTtcbiAgVW5pdFNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIGRlY29kZXIuZGVjb2RlVW5pdCgpO1xuICB9O1xuICBVbml0U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnVW5pdFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIFVuaXRTZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVW5pdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFVuaXRTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgVW5pdFNlcmlhbGl6ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIFVuaXRTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEJvb2xlYW5TZXJpYWxpemVyKCkge1xuICAgIEJvb2xlYW5TZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3JfdmR0dmF6JF8wID0gQm9vbGVhbkRlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQm9vbGVhblNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX3ZkdHZheiRfMDtcbiAgfX0pO1xuICBCb29sZWFuU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVCb29sZWFuXzZ0YWtudiQob2JqKTtcbiAgfTtcbiAgQm9vbGVhblNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZUJvb2xlYW4oKTtcbiAgfTtcbiAgQm9vbGVhblNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0Jvb2xlYW5TZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBCb29sZWFuU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEJvb2xlYW5TZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChCb29sZWFuU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEJvb2xlYW5TZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBCb29sZWFuU2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBCeXRlU2VyaWFsaXplcigpIHtcbiAgICBCeXRlU2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX2Y2dmxmMSRfMCA9IEJ5dGVEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ5dGVTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9mNnZsZjEkXzA7XG4gIH19KTtcbiAgQnl0ZVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlQnl0ZV9zOGozdDckKG9iaik7XG4gIH07XG4gIEJ5dGVTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVCeXRlKCk7XG4gIH07XG4gIEJ5dGVTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdCeXRlU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgQnl0ZVNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBCeXRlU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoQnl0ZVNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBCeXRlU2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gQnl0ZVNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gU2hvcnRTZXJpYWxpemVyKCkge1xuICAgIFNob3J0U2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX3l2amV1cCRfMCA9IFNob3J0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaG9ydFNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX3l2amV1cCRfMDtcbiAgfX0pO1xuICBTaG9ydFNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlU2hvcnRfbXEyMmZsJChvYmopO1xuICB9O1xuICBTaG9ydFNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZVNob3J0KCk7XG4gIH07XG4gIFNob3J0U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU2hvcnRTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBTaG9ydFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBTaG9ydFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFNob3J0U2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IFNob3J0U2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gU2hvcnRTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEludFNlcmlhbGl6ZXIoKSB7XG4gICAgSW50U2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX3hyamZscSRfMCA9IEludERlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW50U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfeHJqZmxxJF8wO1xuICB9fSk7XG4gIEludFNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlSW50X3phM2xwYSQob2JqKTtcbiAgfTtcbiAgSW50U2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlSW50KCk7XG4gIH07XG4gIEludFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0ludFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIEludFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBJbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChJbnRTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSW50U2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gSW50U2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBMb25nU2VyaWFsaXplcigpIHtcbiAgICBMb25nU2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX3E0ejY4NyRfMCA9IExvbmdEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvbmdTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9xNHo2ODckXzA7XG4gIH19KTtcbiAgTG9uZ1NlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlTG9uZ19zOGN4aHokKG9iaik7XG4gIH07XG4gIExvbmdTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVMb25nKCk7XG4gIH07XG4gIExvbmdTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdMb25nU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgTG9uZ1NlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBMb25nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoTG9uZ1NlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBMb25nU2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gTG9uZ1NlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gRmxvYXRTZXJpYWxpemVyKCkge1xuICAgIEZsb2F0U2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yXzdtdzFzaCRfMCA9IEZsb2F0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdFNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yXzdtdzFzaCRfMDtcbiAgfX0pO1xuICBGbG9hdFNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlRmxvYXRfbXg0dWx0JChvYmopO1xuICB9O1xuICBGbG9hdFNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZUZsb2F0KCk7XG4gIH07XG4gIEZsb2F0U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRmxvYXRTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBGbG9hdFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBGbG9hdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEZsb2F0U2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEZsb2F0U2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gRmxvYXRTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIERvdWJsZVNlcmlhbGl6ZXIoKSB7XG4gICAgRG91YmxlU2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yXzJobjJzYyRfMCA9IERvdWJsZURlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRG91YmxlU2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfMmhuMnNjJF8wO1xuICB9fSk7XG4gIERvdWJsZVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlRG91YmxlXzE0ZHRoZSQob2JqKTtcbiAgfTtcbiAgRG91YmxlU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlRG91YmxlKCk7XG4gIH07XG4gIERvdWJsZVNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0RvdWJsZVNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIERvdWJsZVNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBEb3VibGVTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChEb3VibGVTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgRG91YmxlU2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gRG91YmxlU2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBDaGFyU2VyaWFsaXplcigpIHtcbiAgICBDaGFyU2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yXzVtcHk4eCRfMCA9IENoYXJEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENoYXJTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl81bXB5OHgkXzA7XG4gIH19KTtcbiAgQ2hhclNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIGVuY29kZXIuZW5jb2RlQ2hhcl9zOGl0dmgkKG9iaik7XG4gIH07XG4gIENoYXJTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVDaGFyKCk7XG4gIH07XG4gIENoYXJTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDaGFyU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgQ2hhclNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBDaGFyU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoQ2hhclNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBDaGFyU2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gQ2hhclNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gU3RyaW5nU2VyaWFsaXplcigpIHtcbiAgICBTdHJpbmdTZXJpYWxpemVyX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLmRlc2NyaXB0b3Jfc3VtNzE4JF8wID0gU3RyaW5nRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9zdW03MTgkXzA7XG4gIH19KTtcbiAgU3RyaW5nU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgZW5jb2Rlci5lbmNvZGVTdHJpbmdfNjF6cG9lJChvYmopO1xuICB9O1xuICBTdHJpbmdTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVTdHJpbmcoKTtcbiAgfTtcbiAgU3RyaW5nU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnU3RyaW5nU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgU3RyaW5nU2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFN0cmluZ1NlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKFN0cmluZ1NlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBTdHJpbmdTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmdTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIGRlZmF1bHRTZXJpYWxpemVyKCRyZWNlaXZlcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgaWYgKGVxdWFscygkcmVjZWl2ZXIsIFByaW1pdGl2ZUNsYXNzZXMkc3RyaW5nQ2xhc3MpKVxuICAgICAgdG1wJCA9IFN0cmluZ1NlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgICBlbHNlIGlmIChlcXVhbHMoJHJlY2VpdmVyLCBnZXRLQ2xhc3MoQ2hhcikpKVxuICAgICAgdG1wJCA9IENoYXJTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKCRyZWNlaXZlciwgUHJpbWl0aXZlQ2xhc3NlcyRkb3VibGVDbGFzcykpXG4gICAgICB0bXAkID0gRG91YmxlU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscygkcmVjZWl2ZXIsIFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRDbGFzcykpXG4gICAgICB0bXAkID0gRmxvYXRTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKCRyZWNlaXZlciwgZ2V0S0NsYXNzKExvbmcpKSlcbiAgICAgIHRtcCQgPSBMb25nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscygkcmVjZWl2ZXIsIFByaW1pdGl2ZUNsYXNzZXMkaW50Q2xhc3MpKVxuICAgICAgdG1wJCA9IEludFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgICBlbHNlIGlmIChlcXVhbHMoJHJlY2VpdmVyLCBQcmltaXRpdmVDbGFzc2VzJHNob3J0Q2xhc3MpKVxuICAgICAgdG1wJCA9IFNob3J0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscygkcmVjZWl2ZXIsIFByaW1pdGl2ZUNsYXNzZXMkYnl0ZUNsYXNzKSlcbiAgICAgIHRtcCQgPSBCeXRlU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscygkcmVjZWl2ZXIsIFByaW1pdGl2ZUNsYXNzZXMkYm9vbGVhbkNsYXNzKSlcbiAgICAgIHRtcCQgPSBCb29sZWFuU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscygkcmVjZWl2ZXIsIGdldEtDbGFzcyhPYmplY3QuZ2V0UHJvdG90eXBlT2Yoa290bGluLlVuaXQpLmNvbnN0cnVjdG9yKSkpXG4gICAgICB0bXAkID0gVW5pdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgICBlbHNlXG4gICAgICB0bXAkID0gbnVsbDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IHRtcCQpID09IG51bGwgfHwgS290bGluLmlzVHlwZSh0bXAkXzAsIEtTZXJpYWxpemVyKSA/IHRtcCRfMCA6IHRocm93Q0NFKCk7XG4gIH1cbiAgZnVuY3Rpb24gU2VyaWFsQ2xhc3NEZXNjSW1wbChuYW1lLCBnZW5lcmF0ZWRTZXJpYWxpemVyKSB7XG4gICAgaWYgKGdlbmVyYXRlZFNlcmlhbGl6ZXIgPT09IHZvaWQgMClcbiAgICAgIGdlbmVyYXRlZFNlcmlhbGl6ZXIgPSBudWxsO1xuICAgIHRoaXMubmFtZV9sNWluYzYkXzAgPSBuYW1lO1xuICAgIHRoaXMuZ2VuZXJhdGVkU2VyaWFsaXplcl8xdnlleTYkXzAgPSBnZW5lcmF0ZWRTZXJpYWxpemVyO1xuICAgIHRoaXMubmFtZXNfZ2gxa2FoJF8wID0gQXJyYXlMaXN0X2luaXRfMCgpO1xuICAgIHRoaXMuYW5ub3RhdGlvbnNfNGppZ2EzJF8wID0gQXJyYXlMaXN0X2luaXRfMCgpO1xuICAgIHRoaXMuY2xhc3NBbm5vdGF0aW9uc18zY2xtOXokXzAgPSBBcnJheUxpc3RfaW5pdF8wKCk7XG4gICAgdGhpcy5mbGFnc19rM2tmYTAkXzAgPSBLb3RsaW4uYm9vbGVhbkFycmF5KDQpO1xuICAgIHRoaXMuZGVzY3JpcHRvcnNfdmU2c3dsJF8wID0gQXJyYXlMaXN0X2luaXRfMCgpO1xuICAgIHRoaXMuaW5kaWNlc19qbTV0cTAkXzdkcnY1byRfMCA9IGxhenkoU2VyaWFsQ2xhc3NEZXNjSW1wbCRpbmRpY2VzJGxhbWJkYSh0aGlzKSk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLCAnbmFtZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lX2w1aW5jNiRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUsICdraW5kJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBTdHJ1Y3R1cmVLaW5kJENMQVNTX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLCAnZWxlbWVudHNDb3VudCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hbm5vdGF0aW9uc180amlnYTMkXzAuc2l6ZTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUsICdpbmRpY2VzX2ptNXRxMCRfMCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbmRpY2VzX2ptNXRxMCRfN2RydjVvJF8wLnZhbHVlO1xuICB9fSk7XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmFkZEVsZW1lbnRfaXZ4bjNyJCA9IGZ1bmN0aW9uIChuYW1lLCBpc09wdGlvbmFsKSB7XG4gICAgaWYgKGlzT3B0aW9uYWwgPT09IHZvaWQgMClcbiAgICAgIGlzT3B0aW9uYWwgPSBmYWxzZTtcbiAgICB0aGlzLm5hbWVzX2doMWthaCRfMC5hZGRfMTFyYiQobmFtZSk7XG4gICAgdmFyIGlkeCA9IHRoaXMubmFtZXNfZ2gxa2FoJF8wLnNpemUgLSAxIHwgMDtcbiAgICB0aGlzLmVuc3VyZUZsYWdzQ2FwYWNpdHlfcWh0cmltJF8wKGlkeCk7XG4gICAgdGhpcy5mbGFnc19rM2tmYTAkXzBbaWR4XSA9IGlzT3B0aW9uYWw7XG4gICAgdGhpcy5hbm5vdGF0aW9uc180amlnYTMkXzAuYWRkXzExcmIkKEFycmF5TGlzdF9pbml0XzAoKSk7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLnB1c2hBbm5vdGF0aW9uX3lqOTIxdyQgPSBmdW5jdGlvbiAoYSkge1xuICAgIGxhc3QodGhpcy5hbm5vdGF0aW9uc180amlnYTMkXzApLmFkZF8xMXJiJChhKTtcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUucHVzaENsYXNzQW5ub3RhdGlvbl95ajkyMXckID0gZnVuY3Rpb24gKGEpIHtcbiAgICB0aGlzLmNsYXNzQW5ub3RhdGlvbnNfM2NsbTl6JF8wLmFkZF8xMXJiJChhKTtcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUucHVzaERlc2NyaXB0b3JfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gICAgdGhpcy5kZXNjcmlwdG9yc192ZTZzd2wkXzAuYWRkXzExcmIkKGRlc2MpO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5nZXRFbGVtZW50RGVzY3JpcHRvcl96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzIsIHRtcCRfMztcbiAgICB0bXAkXzMgPSAodG1wJF8yID0gKHRtcCRfMSA9ICh0bXAkXzAgPSAodG1wJCA9IHRoaXMuZ2VuZXJhdGVkU2VyaWFsaXplcl8xdnlleTYkXzApICE9IG51bGwgPyB0bXAkLmNoaWxkU2VyaWFsaXplcnMoKSA6IG51bGwpICE9IG51bGwgPyBnZXRPck51bGwodG1wJF8wLCBpbmRleCkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8xLmRlc2NyaXB0b3IgOiBudWxsKSAhPSBudWxsID8gdG1wJF8yIDogZ2V0T3JOdWxsXzAodGhpcy5kZXNjcmlwdG9yc192ZTZzd2wkXzAsIGluZGV4KTtcbiAgICBpZiAodG1wJF8zID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBTZXJpYWxDbGFzc0Rlc2NJbXBsJE1pc3NpbmdEZXNjcmlwdG9yRXhjZXB0aW9uKGluZGV4LCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCRfMztcbiAgfTtcbiAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5wcm90b3R5cGUuaXNFbGVtZW50T3B0aW9uYWxfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmZsYWdzX2sza2ZhMCRfMFtpbmRleF07XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmdldEVudGl0eUFubm90YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNsYXNzQW5ub3RhdGlvbnNfM2NsbTl6JF8wO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmFubm90YXRpb25zXzRqaWdhMyRfMC5nZXRfemEzbHBhJChpbmRleCk7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmdldEVsZW1lbnROYW1lX3phM2xwYSQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lc19naDFrYWgkXzAuZ2V0X3phM2xwYSQoaW5kZXgpO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5nZXRFbGVtZW50SW5kZXhfNjF6cG9lJCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuICh0bXAkID0gdGhpcy5pbmRpY2VzX2ptNXRxMCRfMC5nZXRfMTFyYiQobmFtZSkpICE9IG51bGwgPyB0bXAkIDogLTM7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmVuc3VyZUZsYWdzQ2FwYWNpdHlfcWh0cmltJF8wID0gZnVuY3Rpb24gKGkpIHtcbiAgICBpZiAodGhpcy5mbGFnc19rM2tmYTAkXzAubGVuZ3RoIDw9IGkpXG4gICAgICB0aGlzLmZsYWdzX2sza2ZhMCRfMCA9IGNvcHlPZih0aGlzLmZsYWdzX2sza2ZhMCRfMCwgdGhpcy5mbGFnc19rM2tmYTAkXzAubGVuZ3RoICogMiB8IDApO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5idWlsZEluZGljZXNfNTg1cjJrJF8wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBpbmRpY2VzID0gSGFzaE1hcF9pbml0KCk7XG4gICAgdG1wJCA9IHRoaXMubmFtZXNfZ2gxa2FoJF8wLnNpemU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0bXAkOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLm5hbWVzX2doMWthaCRfMC5nZXRfemEzbHBhJChpKTtcbiAgICAgIGluZGljZXMucHV0X3h3emM5cCQoa2V5LCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGljZXM7XG4gIH07XG4gIFNlcmlhbENsYXNzRGVzY0ltcGwucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIGlmICh0aGlzID09PSBvdGhlcilcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICghS290bGluLmlzVHlwZShvdGhlciwgU2VyaWFsQ2xhc3NEZXNjSW1wbCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFlcXVhbHModGhpcy5uYW1lLCBvdGhlci5uYW1lKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWVxdWFscyhlbGVtZW50RGVzY3JpcHRvcnModGhpcyksIGVsZW1lbnREZXNjcmlwdG9ycyhvdGhlcikpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gaGFzaENvZGUodGhpcy5uYW1lKTtcbiAgICByZXN1bHQgPSAoMzEgKiByZXN1bHQgfCAwKSArIGhhc2hDb2RlKGVsZW1lbnREZXNjcmlwdG9ycyh0aGlzKSkgfCAwO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIGZ1bmN0aW9uIFNlcmlhbENsYXNzRGVzY0ltcGwkdG9TdHJpbmckbGFtYmRhKHRoaXMkU2VyaWFsQ2xhc3NEZXNjSW1wbCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHJldHVybiBpdC5rZXkgKyAnOiAnICsgdGhpcyRTZXJpYWxDbGFzc0Rlc2NJbXBsLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQoaXQudmFsdWUpLm5hbWU7XG4gICAgfTtcbiAgfVxuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gam9pblRvU3RyaW5nKHRoaXMuaW5kaWNlc19qbTV0cTAkXzAuZW50cmllcywgJywgJywgdGhpcy5uYW1lICsgJygnLCAnKScsIHZvaWQgMCwgdm9pZCAwLCBTZXJpYWxDbGFzc0Rlc2NJbXBsJHRvU3RyaW5nJGxhbWJkYSh0aGlzKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFNlcmlhbENsYXNzRGVzY0ltcGwkTWlzc2luZ0Rlc2NyaXB0b3JFeGNlcHRpb24oaW5kZXgsIG9yaWdpbikge1xuICAgIFNlcmlhbGl6YXRpb25FeGNlcHRpb24uY2FsbCh0aGlzLCAnRWxlbWVudCBkZXNjcmlwdG9yIGF0IGluZGV4ICcgKyBpbmRleCArICcgaGFzIG5vdCBiZWVuIGZvdW5kIGluICcgKyBvcmlnaW4pO1xuICAgIHRoaXMubmFtZSA9ICdTZXJpYWxDbGFzc0Rlc2NJbXBsJE1pc3NpbmdEZXNjcmlwdG9yRXhjZXB0aW9uJztcbiAgfVxuICBTZXJpYWxDbGFzc0Rlc2NJbXBsJE1pc3NpbmdEZXNjcmlwdG9yRXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ01pc3NpbmdEZXNjcmlwdG9yRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW1NlcmlhbGl6YXRpb25FeGNlcHRpb25dfTtcbiAgZnVuY3Rpb24gU2VyaWFsQ2xhc3NEZXNjSW1wbCRpbmRpY2VzJGxhbWJkYSh0aGlzJFNlcmlhbENsYXNzRGVzY0ltcGwpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMkU2VyaWFsQ2xhc3NEZXNjSW1wbC5idWlsZEluZGljZXNfNTg1cjJrJF8wKCk7XG4gICAgfTtcbiAgfVxuICBTZXJpYWxDbGFzc0Rlc2NJbXBsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NlcmlhbENsYXNzRGVzY0ltcGwnLCBpbnRlcmZhY2VzOiBbU2VyaWFsRGVzY3JpcHRvcl19O1xuICB2YXIgS0VZX0lOREVYO1xuICB2YXIgVkFMVUVfSU5ERVg7XG4gIGZ1bmN0aW9uIEtleVZhbHVlU2VyaWFsaXplcihrU2VyaWFsaXplciwgdlNlcmlhbGl6ZXIpIHtcbiAgICB0aGlzLmtTZXJpYWxpemVyID0ga1NlcmlhbGl6ZXI7XG4gICAgdGhpcy52U2VyaWFsaXplciA9IHZTZXJpYWxpemVyO1xuICB9XG4gIEtleVZhbHVlU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgdmFyIGVuY29kZXJfMCA9IGVuY29kZXIuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCh0aGlzLmRlc2NyaXB0b3IsIFt0aGlzLmtTZXJpYWxpemVyLCB0aGlzLnZTZXJpYWxpemVyXSk7XG4gICAgZW5jb2Rlcl8wLmVuY29kZVNlcmlhbGl6YWJsZUVsZW1lbnRfYmxlY3VkJCh0aGlzLmRlc2NyaXB0b3IsIDAsIHRoaXMua1NlcmlhbGl6ZXIsIHRoaXMuZ2V0X2tleV93aWxpJChvYmopKTtcbiAgICBlbmNvZGVyXzAuZW5jb2RlU2VyaWFsaXphYmxlRWxlbWVudF9ibGVjdWQkKHRoaXMuZGVzY3JpcHRvciwgMSwgdGhpcy52U2VyaWFsaXplciwgdGhpcy5nZXRfdmFsdWVfd2lsaSQob2JqKSk7XG4gICAgZW5jb2Rlcl8wLmVuZFN0cnVjdHVyZV9xYXRzbTAkKHRoaXMuZGVzY3JpcHRvcik7XG4gIH07XG4gIEtleVZhbHVlU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB2YXIgaW5wdXQgPSBkZWNvZGVyLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQodGhpcy5kZXNjcmlwdG9yLCBbdGhpcy5rU2VyaWFsaXplciwgdGhpcy52U2VyaWFsaXplcl0pO1xuICAgIHZhciBrU2V0ID0gZmFsc2U7XG4gICAgdmFyIHZTZXQgPSBmYWxzZTtcbiAgICB2YXIgayA9IG51bGw7XG4gICAgdmFyIHYgPSBudWxsO1xuICAgIG1haW5Mb29wOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgc3dpdGNoIChpbnB1dC5kZWNvZGVFbGVtZW50SW5kZXhfcWF0c20wJCh0aGlzLmRlc2NyaXB0b3IpKSB7XG4gICAgICAgIGNhc2UgLTI6XG4gICAgICAgICAgayA9IHRoaXMucmVhZEtleV9lajZrYjYkKGlucHV0KTtcbiAgICAgICAgICBrU2V0ID0gdHJ1ZTtcbiAgICAgICAgICB2ID0gdGhpcy5yZWFkVmFsdWVfZ3F5dTckKGlucHV0LCBrLCBrU2V0KTtcbiAgICAgICAgICB2U2V0ID0gdHJ1ZTtcbiAgICAgICAgICBicmVhayBtYWluTG9vcDtcbiAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgICBicmVhayBtYWluTG9vcDtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGsgPSB0aGlzLnJlYWRLZXlfZWo2a2I2JChpbnB1dCk7XG4gICAgICAgICAga1NldCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB2ID0gdGhpcy5yZWFkVmFsdWVfZ3F5dTckKGlucHV0LCBrLCBrU2V0KTtcbiAgICAgICAgICB2U2V0ID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDp0aHJvdyBuZXcgU2VyaWFsaXphdGlvbkV4Y2VwdGlvbignSW52YWxpZCBpbmRleCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnB1dC5lbmRTdHJ1Y3R1cmVfcWF0c20wJCh0aGlzLmRlc2NyaXB0b3IpO1xuICAgIGlmICgha1NldClcbiAgICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKCdSZXF1aXJlZCBrZXkgaXMgbWlzc2luZycpO1xuICAgIGlmICghdlNldClcbiAgICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKCdSZXF1aXJlZCB2YWx1ZSBpcyBtaXNzaW5nJyk7XG4gICAgcmV0dXJuIHRoaXMudG9SZXN1bHRfeHd6YzlwJCgodG1wJCA9IGspID09IG51bGwgfHwgS290bGluLmlzVHlwZSh0bXAkLCBBbnkpID8gdG1wJCA6IHRocm93Q0NFKCksICh0bXAkXzAgPSB2KSA9PSBudWxsIHx8IEtvdGxpbi5pc1R5cGUodG1wJF8wLCBBbnkpID8gdG1wJF8wIDogdGhyb3dDQ0UoKSk7XG4gIH07XG4gIEtleVZhbHVlU2VyaWFsaXplci5wcm90b3R5cGUucmVhZEtleV9lajZrYjYkID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVTZXJpYWxpemFibGVFbGVtZW50X3M0NGw3ciQodGhpcy5kZXNjcmlwdG9yLCAwLCB0aGlzLmtTZXJpYWxpemVyKTtcbiAgfTtcbiAgS2V5VmFsdWVTZXJpYWxpemVyLnByb3RvdHlwZS5yZWFkVmFsdWVfZ3F5dTckID0gZnVuY3Rpb24gKGRlY29kZXIsIGssIGtTZXQpIHtcbiAgICByZXR1cm4gZGVjb2Rlci5kZWNvZGVTZXJpYWxpemFibGVFbGVtZW50X3M0NGw3ciQodGhpcy5kZXNjcmlwdG9yLCAxLCB0aGlzLnZTZXJpYWxpemVyKTtcbiAgfTtcbiAgS2V5VmFsdWVTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0tleVZhbHVlU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICBmdW5jdGlvbiBNYXBFbnRyeVNlcmlhbGl6ZXIoa1NlcmlhbGl6ZXIsIHZTZXJpYWxpemVyKSB7XG4gICAgS2V5VmFsdWVTZXJpYWxpemVyLmNhbGwodGhpcywga1NlcmlhbGl6ZXIsIHZTZXJpYWxpemVyKTtcbiAgICB0aGlzLmRlc2NyaXB0b3JfY25tazc1JF8wID0gTWFwRW50cnlDbGFzc0Rlc2NfZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwRW50cnlTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl9jbm1rNzUkXzA7XG4gIH19KTtcbiAgTWFwRW50cnlTZXJpYWxpemVyLnByb3RvdHlwZS50b1Jlc3VsdF94d3pjOXAkID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IE1hcEVudHJ5KGtleSwgdmFsdWUpO1xuICB9O1xuICBNYXBFbnRyeVNlcmlhbGl6ZXIucHJvdG90eXBlLmdldF9rZXlfd2lsaSQgPSBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuICRyZWNlaXZlci5rZXk7XG4gIH07XG4gIE1hcEVudHJ5U2VyaWFsaXplci5wcm90b3R5cGUuZ2V0X3ZhbHVlX3dpbGkkID0gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIudmFsdWU7XG4gIH07XG4gIE1hcEVudHJ5U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdNYXBFbnRyeVNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS2V5VmFsdWVTZXJpYWxpemVyXX07XG4gIGZ1bmN0aW9uIE1hcEVudHJ5KGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLmtleV9xZjYxNWokXzAgPSBrZXk7XG4gICAgdGhpcy52YWx1ZV94MTc3OTckXzAgPSB2YWx1ZTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwRW50cnkucHJvdG90eXBlLCAna2V5Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmtleV9xZjYxNWokXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcEVudHJ5LnByb3RvdHlwZSwgJ3ZhbHVlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlX3gxNzc5NyRfMDtcbiAgfX0pO1xuICBNYXBFbnRyeS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdNYXBFbnRyeScsIGludGVyZmFjZXM6IFtNYXAkRW50cnldfTtcbiAgTWFwRW50cnkucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5O1xuICB9O1xuICBNYXBFbnRyeS5wcm90b3R5cGUuY29tcG9uZW50MiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfTtcbiAgTWFwRW50cnkucHJvdG90eXBlLmNvcHlfeHd6YzlwJCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBNYXBFbnRyeShrZXkgPT09IHZvaWQgMCA/IHRoaXMua2V5IDoga2V5LCB2YWx1ZSA9PT0gdm9pZCAwID8gdGhpcy52YWx1ZSA6IHZhbHVlKTtcbiAgfTtcbiAgTWFwRW50cnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnTWFwRW50cnkoa2V5PScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5rZXkpICsgKCcsIHZhbHVlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy52YWx1ZSkpICsgJyknO1xuICB9O1xuICBNYXBFbnRyeS5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy5rZXkpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnZhbHVlKSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgTWFwRW50cnkucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiB0aGlzID09PSBvdGhlciB8fCAob3RoZXIgIT09IG51bGwgJiYgKHR5cGVvZiBvdGhlciA9PT0gJ29iamVjdCcgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG90aGVyKSAmJiAoS290bGluLmVxdWFscyh0aGlzLmtleSwgb3RoZXIua2V5KSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudmFsdWUsIG90aGVyLnZhbHVlKSkpKSk7XG4gIH07XG4gIGZ1bmN0aW9uIE1hcEVudHJ5Q2xhc3NEZXNjKCkge1xuICAgIE1hcEVudHJ5Q2xhc3NEZXNjX2luc3RhbmNlID0gdGhpcztcbiAgICBTZXJpYWxDbGFzc0Rlc2NJbXBsLmNhbGwodGhpcywgJ2tvdGxpbi5jb2xsZWN0aW9ucy5NYXAuRW50cnknKTtcbiAgICB0aGlzLmtpbmRfNm8wMmt4JF8wID0gU3RydWN0dXJlS2luZCRNQVBfZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLmFkZEVsZW1lbnRfaXZ4bjNyJCgna2V5Jyk7XG4gICAgdGhpcy5hZGRFbGVtZW50X2l2eG4zciQoJ3ZhbHVlJyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcEVudHJ5Q2xhc3NEZXNjLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMua2luZF82bzAya3gkXzA7XG4gIH19KTtcbiAgTWFwRW50cnlDbGFzc0Rlc2MuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ01hcEVudHJ5Q2xhc3NEZXNjJywgaW50ZXJmYWNlczogW1NlcmlhbENsYXNzRGVzY0ltcGxdfTtcbiAgdmFyIE1hcEVudHJ5Q2xhc3NEZXNjX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gTWFwRW50cnlDbGFzc0Rlc2NfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKE1hcEVudHJ5Q2xhc3NEZXNjX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgTWFwRW50cnlDbGFzc0Rlc2MoKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hcEVudHJ5Q2xhc3NEZXNjX2luc3RhbmNlO1xuICB9XG4gIHZhciBQYWlyQ2xhc3NEZXNjX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gVHJpcGxlU2VyaWFsaXplcihhU2VyaWFsaXplciwgYlNlcmlhbGl6ZXIsIGNTZXJpYWxpemVyKSB7XG4gICAgdGhpcy5hU2VyaWFsaXplcl8wID0gYVNlcmlhbGl6ZXI7XG4gICAgdGhpcy5iU2VyaWFsaXplcl8wID0gYlNlcmlhbGl6ZXI7XG4gICAgdGhpcy5jU2VyaWFsaXplcl8wID0gY1NlcmlhbGl6ZXI7XG4gICAgdGhpcy5kZXNjcmlwdG9yXzczYTZ2ciRfMCA9IFRyaXBsZVNlcmlhbGl6ZXIkVHJpcGxlRGVzY19nZXRJbnN0YW5jZSgpO1xuICB9XG4gIHZhciBUcmlwbGVTZXJpYWxpemVyJFRyaXBsZURlc2NfaW5zdGFuY2UgPSBudWxsO1xuICB2YXIgSGV4Q29udmVydGVyX2luc3RhbmNlID0gbnVsbDtcbiAgdmFyIEpzb25UcmVlUGFyc2VyJENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb24oY29uZmlndXJhdGlvbiwgY29udGV4dCkge1xuICAgIEpzb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24gPT09IHZvaWQgMClcbiAgICAgIGNvbmZpZ3VyYXRpb24gPSBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKS5TdGFibGU7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMClcbiAgICAgIGNvbnRleHQgPSBFbXB0eU1vZHVsZV9nZXRJbnN0YW5jZSgpO1xuICAgIEFic3RyYWN0U2VyaWFsRm9ybWF0LmNhbGwodGhpcywgcGx1cyhjb250ZXh0LCBkZWZhdWx0SnNvbk1vZHVsZSkpO1xuICAgIHRoaXMuY29uZmlndXJhdGlvbl84YmUydngkID0gY29uZmlndXJhdGlvbjtcbiAgfVxuICBKc29uLnByb3RvdHlwZS5zdHJpbmdpZnlfdGYwM2VqJCA9IGZ1bmN0aW9uIChzZXJpYWxpemVyLCBvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0gU3RyaW5nQnVpbGRlcl9pbml0XzAoKTtcbiAgICB2YXIgZW5jb2RlciA9IFN0cmVhbWluZ0pzb25PdXRwdXRfaW5pdChyZXN1bHQsIHRoaXMsIFdyaXRlTW9kZSRPQkpfZ2V0SW5zdGFuY2UoKSwgS290bGluLm5ld0FycmF5KFdyaXRlTW9kZSR2YWx1ZXMoKS5sZW5ndGgsIG51bGwpKTtcbiAgICBlbmNvZGVfMChlbmNvZGVyLCBzZXJpYWxpemVyLCBvYmopO1xuICAgIHJldHVybiByZXN1bHQudG9TdHJpbmcoKTtcbiAgfTtcbiAgSnNvbi5wcm90b3R5cGUudG9Kc29uX3RmMDNlaiQgPSBmdW5jdGlvbiAoc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgICByZXR1cm4gd3JpdGVKc29uKHRoaXMsIHZhbHVlLCBzZXJpYWxpemVyKTtcbiAgfTtcbiAgSnNvbi5wcm90b3R5cGUudG9Kc29uX2lzc2RndCQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLkpzb24udG9Kc29uX2lzc2RndCQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZXRLQ2xhc3MgPSBLb3RsaW4uZ2V0S0NsYXNzO1xuICAgIHZhciBnZXRDb250ZXh0dWFsT3JEZWZhdWx0ID0gXy5rb3RsaW54LnNlcmlhbGl6YXRpb24ubW9kdWxlcy5nZXRDb250ZXh0dWFsT3JEZWZhdWx0XzZ6YTlrdCQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChUXzAsIGlzVCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvSnNvbl90ZjAzZWokKGdldENvbnRleHR1YWxPckRlZmF1bHQodGhpcy5jb250ZXh0LCBnZXRLQ2xhc3MoVF8wKSksIHZhbHVlKTtcbiAgICB9O1xuICB9KSk7XG4gIEpzb24ucHJvdG90eXBlLnBhcnNlX2F3aWY1diQgPSBmdW5jdGlvbiAoZGVzZXJpYWxpemVyLCBzdHJpbmcpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEpzb25SZWFkZXIoc3RyaW5nKTtcbiAgICB2YXIgaW5wdXQgPSBuZXcgU3RyZWFtaW5nSnNvbklucHV0KHRoaXMsIFdyaXRlTW9kZSRPQkpfZ2V0SW5zdGFuY2UoKSwgcmVhZGVyKTtcbiAgICB2YXIgcmVzdWx0ID0gZGVjb2RlXzAoaW5wdXQsIGRlc2VyaWFsaXplcik7XG4gICAgaWYgKCFyZWFkZXIuaXNEb25lKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdCgoJ1JlYWRlciBoYXMgbm90IGNvbnN1bWVkIHRoZSB3aG9sZSBpbnB1dDogJyArIHJlYWRlcikudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIEpzb24ucHJvdG90eXBlLnBhcnNlSnNvbl82MXpwb2UkID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnBhcnNlX2F3aWY1diQoSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCksIHN0cmluZyk7XG4gIH07XG4gIEpzb24ucHJvdG90eXBlLmZyb21Kc29uX2h0dDJ0cSQgPSBmdW5jdGlvbiAoZGVzZXJpYWxpemVyLCBqc29uKSB7XG4gICAgcmV0dXJuIHJlYWRKc29uKHRoaXMsIGpzb24sIGRlc2VyaWFsaXplcik7XG4gIH07XG4gIEpzb24ucHJvdG90eXBlLmZyb21Kc29uXzY1cmYxeSQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLkpzb24uZnJvbUpzb25fNjVyZjF5JCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdldEtDbGFzcyA9IEtvdGxpbi5nZXRLQ2xhc3M7XG4gICAgdmFyIGdldENvbnRleHR1YWxPckRlZmF1bHQgPSBfLmtvdGxpbnguc2VyaWFsaXphdGlvbi5tb2R1bGVzLmdldENvbnRleHR1YWxPckRlZmF1bHRfNnphOWt0JDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKFRfMCwgaXNULCB0cmVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5mcm9tSnNvbl9odHQydHEkKGdldENvbnRleHR1YWxPckRlZmF1bHQodGhpcy5jb250ZXh0LCBnZXRLQ2xhc3MoVF8wKSksIHRyZWUpO1xuICAgIH07XG4gIH0pKTtcbiAgZnVuY3Rpb24gSnNvbiRDb21wYW5pb24oKSB7XG4gICAgSnNvbiRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMucGxhaW4gPSBuZXcgSnNvbihuZXcgSnNvbkNvbmZpZ3VyYXRpb24odm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgdHJ1ZSkpO1xuICAgIHRoaXMudW5xdW90ZWQgPSBuZXcgSnNvbihuZXcgSnNvbkNvbmZpZ3VyYXRpb24odm9pZCAwLCB2b2lkIDAsIHRydWUsIHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHRydWUpKTtcbiAgICB0aGlzLmluZGVudGVkID0gbmV3IEpzb24obmV3IEpzb25Db25maWd1cmF0aW9uKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgdHJ1ZSwgdm9pZCAwLCB0cnVlKSk7XG4gICAgdGhpcy5ub25zdHJpY3QgPSBuZXcgSnNvbihuZXcgSnNvbkNvbmZpZ3VyYXRpb24odm9pZCAwLCBmYWxzZSwgdm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCB0cnVlKSk7XG4gIH1cbiAgSnNvbiRDb21wYW5pb24ucHJvdG90eXBlLmluc3RhbGxfc3RweXU0JCA9IGZ1bmN0aW9uIChtb2R1bGVfMCkge1xuICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KCdZb3Ugc2hvdWxkIG5vdCBpbnN0YWxsIGFueXRoaW5nIHRvIGdsb2JhbCBpbnN0YW5jZScpO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbiRDb21wYW5pb24ucHJvdG90eXBlLCAnY29udGV4dCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wbGFpbi5jb250ZXh0O1xuICB9fSk7XG4gIEpzb24kQ29tcGFuaW9uLnByb3RvdHlwZS5zdHJpbmdpZnlfdGYwM2VqJCA9IGZ1bmN0aW9uIChzZXJpYWxpemVyLCBvYmopIHtcbiAgICByZXR1cm4gdGhpcy5wbGFpbi5zdHJpbmdpZnlfdGYwM2VqJChzZXJpYWxpemVyLCBvYmopO1xuICB9O1xuICBKc29uJENvbXBhbmlvbi5wcm90b3R5cGUucGFyc2VfYXdpZjV2JCA9IGZ1bmN0aW9uIChkZXNlcmlhbGl6ZXIsIHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnBsYWluLnBhcnNlX2F3aWY1diQoZGVzZXJpYWxpemVyLCBzdHJpbmcpO1xuICB9O1xuICBKc29uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW1N0cmluZ0Zvcm1hdF19O1xuICB2YXIgSnNvbiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbiRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgSnNvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uJywgaW50ZXJmYWNlczogW1N0cmluZ0Zvcm1hdCwgQWJzdHJhY3RTZXJpYWxGb3JtYXRdfTtcbiAgdmFyIGRlZmF1bHRKc29uTW9kdWxlO1xuICBmdW5jdGlvbiBKc29uQ29uZmlndXJhdGlvbihlbmNvZGVEZWZhdWx0cywgc3RyaWN0TW9kZSwgdW5xdW90ZWQsIGFsbG93U3RydWN0dXJlZE1hcEtleXMsIHByZXR0eVByaW50LCBpbmRlbnQsIHVzZUFycmF5UG9seW1vcnBoaXNtLCBjbGFzc0Rpc2NyaW1pbmF0b3IsIHVwZGF0ZU1vZGUpIHtcbiAgICBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoZW5jb2RlRGVmYXVsdHMgPT09IHZvaWQgMClcbiAgICAgIGVuY29kZURlZmF1bHRzID0gdHJ1ZTtcbiAgICBpZiAoc3RyaWN0TW9kZSA9PT0gdm9pZCAwKVxuICAgICAgc3RyaWN0TW9kZSA9IHRydWU7XG4gICAgaWYgKHVucXVvdGVkID09PSB2b2lkIDApXG4gICAgICB1bnF1b3RlZCA9IGZhbHNlO1xuICAgIGlmIChhbGxvd1N0cnVjdHVyZWRNYXBLZXlzID09PSB2b2lkIDApXG4gICAgICBhbGxvd1N0cnVjdHVyZWRNYXBLZXlzID0gZmFsc2U7XG4gICAgaWYgKHByZXR0eVByaW50ID09PSB2b2lkIDApXG4gICAgICBwcmV0dHlQcmludCA9IGZhbHNlO1xuICAgIGlmIChpbmRlbnQgPT09IHZvaWQgMClcbiAgICAgIGluZGVudCA9IEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmRlZmF1bHRJbmRlbnRfMDtcbiAgICBpZiAodXNlQXJyYXlQb2x5bW9ycGhpc20gPT09IHZvaWQgMClcbiAgICAgIHVzZUFycmF5UG9seW1vcnBoaXNtID0gZmFsc2U7XG4gICAgaWYgKGNsYXNzRGlzY3JpbWluYXRvciA9PT0gdm9pZCAwKVxuICAgICAgY2xhc3NEaXNjcmltaW5hdG9yID0gSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkuZGVmYXVsdERpc2NyaW1pbmF0b3JfMDtcbiAgICBpZiAodXBkYXRlTW9kZSA9PT0gdm9pZCAwKVxuICAgICAgdXBkYXRlTW9kZSA9IFVwZGF0ZU1vZGUkT1ZFUldSSVRFX2dldEluc3RhbmNlKCk7XG4gICAgdGhpcy5lbmNvZGVEZWZhdWx0c184YmUydngkID0gZW5jb2RlRGVmYXVsdHM7XG4gICAgdGhpcy5zdHJpY3RNb2RlXzhiZTJ2eCQgPSBzdHJpY3RNb2RlO1xuICAgIHRoaXMudW5xdW90ZWRfOGJlMnZ4JCA9IHVucXVvdGVkO1xuICAgIHRoaXMuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkID0gYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5cztcbiAgICB0aGlzLnByZXR0eVByaW50XzhiZTJ2eCQgPSBwcmV0dHlQcmludDtcbiAgICB0aGlzLmluZGVudF84YmUydngkID0gaW5kZW50O1xuICAgIHRoaXMudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JCA9IHVzZUFycmF5UG9seW1vcnBoaXNtO1xuICAgIHRoaXMuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQgPSBjbGFzc0Rpc2NyaW1pbmF0b3I7XG4gICAgdGhpcy51cGRhdGVNb2RlXzhiZTJ2eCQgPSB1cGRhdGVNb2RlO1xuICAgIGlmICh0aGlzLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQpIHtcbiAgICAgIGlmICghZXF1YWxzKHRoaXMuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQsIEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmRlZmF1bHREaXNjcmltaW5hdG9yXzApKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0NsYXNzIGRpc2NyaW1pbmF0b3Igc2hvdWxkIG5vdCBiZSBzcGVjaWZpZWQgd2hlbiBhcnJheSBwb2x5bW9ycGhpc20gaXMgc3BlY2lmaWVkJztcbiAgICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnByZXR0eVByaW50XzhiZTJ2eCQpIHtcbiAgICAgIGlmICghZXF1YWxzKHRoaXMuaW5kZW50XzhiZTJ2eCQsIEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpLmRlZmF1bHRJbmRlbnRfMCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VfMCA9ICdJbmRlbnQgc2hvdWxkIG5vdCBiZSBzcGVjaWZpZWQgd2hlbiBkZWZhdWx0IHByaW50aW5nIG1vZGUgaXMgdXNlZCc7XG4gICAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uKCkge1xuICAgIEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZWZhdWx0SW5kZW50XzAgPSAnICAgICc7XG4gICAgdGhpcy5kZWZhdWx0RGlzY3JpbWluYXRvcl8wID0gJ3R5cGUnO1xuICAgIHRoaXMuRGVmYXVsdCA9IG5ldyBKc29uQ29uZmlndXJhdGlvbigpO1xuICAgIHRoaXMuU3RhYmxlID0gbmV3IEpzb25Db25maWd1cmF0aW9uKHRydWUsIHRydWUsIGZhbHNlLCB0cnVlLCBmYWxzZSwgdGhpcy5kZWZhdWx0SW5kZW50XzAsIGZhbHNlLCB0aGlzLmRlZmF1bHREaXNjcmltaW5hdG9yXzApO1xuICB9XG4gIEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbkNvbmZpZ3VyYXRpb24kQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25Db25maWd1cmF0aW9uJENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBKc29uQ29uZmlndXJhdGlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uQ29uZmlndXJhdGlvbicsIGludGVyZmFjZXM6IFtdfTtcbiAgSnNvbkNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudDFfOGJlMnZ4JCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbmNvZGVEZWZhdWx0c184YmUydngkO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29tcG9uZW50Ml84YmUydngkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnN0cmljdE1vZGVfOGJlMnZ4JDtcbiAgfTtcbiAgSnNvbkNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudDNfOGJlMnZ4JCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51bnF1b3RlZF84YmUydngkO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29tcG9uZW50NF84YmUydngkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFsbG93U3RydWN0dXJlZE1hcEtleXNfOGJlMnZ4JDtcbiAgfTtcbiAgSnNvbkNvbmZpZ3VyYXRpb24ucHJvdG90eXBlLmNvbXBvbmVudDVfOGJlMnZ4JCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wcmV0dHlQcmludF84YmUydngkO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29tcG9uZW50Nl84YmUydngkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmluZGVudF84YmUydngkO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29tcG9uZW50N184YmUydngkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnQ4XzhiZTJ2eCQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQ7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS5jb21wb25lbnQ5XzhiZTJ2eCQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlTW9kZV84YmUydngkO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuY29weV91NWw1ejMkID0gZnVuY3Rpb24gKGVuY29kZURlZmF1bHRzLCBzdHJpY3RNb2RlLCB1bnF1b3RlZCwgYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5cywgcHJldHR5UHJpbnQsIGluZGVudCwgdXNlQXJyYXlQb2x5bW9ycGhpc20sIGNsYXNzRGlzY3JpbWluYXRvciwgdXBkYXRlTW9kZSkge1xuICAgIHJldHVybiBuZXcgSnNvbkNvbmZpZ3VyYXRpb24oZW5jb2RlRGVmYXVsdHMgPT09IHZvaWQgMCA/IHRoaXMuZW5jb2RlRGVmYXVsdHNfOGJlMnZ4JCA6IGVuY29kZURlZmF1bHRzLCBzdHJpY3RNb2RlID09PSB2b2lkIDAgPyB0aGlzLnN0cmljdE1vZGVfOGJlMnZ4JCA6IHN0cmljdE1vZGUsIHVucXVvdGVkID09PSB2b2lkIDAgPyB0aGlzLnVucXVvdGVkXzhiZTJ2eCQgOiB1bnF1b3RlZCwgYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5cyA9PT0gdm9pZCAwID8gdGhpcy5hbGxvd1N0cnVjdHVyZWRNYXBLZXlzXzhiZTJ2eCQgOiBhbGxvd1N0cnVjdHVyZWRNYXBLZXlzLCBwcmV0dHlQcmludCA9PT0gdm9pZCAwID8gdGhpcy5wcmV0dHlQcmludF84YmUydngkIDogcHJldHR5UHJpbnQsIGluZGVudCA9PT0gdm9pZCAwID8gdGhpcy5pbmRlbnRfOGJlMnZ4JCA6IGluZGVudCwgdXNlQXJyYXlQb2x5bW9ycGhpc20gPT09IHZvaWQgMCA/IHRoaXMudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JCA6IHVzZUFycmF5UG9seW1vcnBoaXNtLCBjbGFzc0Rpc2NyaW1pbmF0b3IgPT09IHZvaWQgMCA/IHRoaXMuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQgOiBjbGFzc0Rpc2NyaW1pbmF0b3IsIHVwZGF0ZU1vZGUgPT09IHZvaWQgMCA/IHRoaXMudXBkYXRlTW9kZV84YmUydngkIDogdXBkYXRlTW9kZSk7XG4gIH07XG4gIEpzb25Db25maWd1cmF0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ0pzb25Db25maWd1cmF0aW9uKGVuY29kZURlZmF1bHRzPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5lbmNvZGVEZWZhdWx0c184YmUydngkKSArICgnLCBzdHJpY3RNb2RlPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5zdHJpY3RNb2RlXzhiZTJ2eCQpKSArICgnLCB1bnF1b3RlZD0nICsgS290bGluLnRvU3RyaW5nKHRoaXMudW5xdW90ZWRfOGJlMnZ4JCkpICsgKCcsIGFsbG93U3RydWN0dXJlZE1hcEtleXM9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLmFsbG93U3RydWN0dXJlZE1hcEtleXNfOGJlMnZ4JCkpICsgKCcsIHByZXR0eVByaW50PScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5wcmV0dHlQcmludF84YmUydngkKSkgKyAoJywgaW5kZW50PScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5pbmRlbnRfOGJlMnZ4JCkpICsgKCcsIHVzZUFycmF5UG9seW1vcnBoaXNtPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy51c2VBcnJheVBvbHltb3JwaGlzbV84YmUydngkKSkgKyAoJywgY2xhc3NEaXNjcmltaW5hdG9yPScgKyBLb3RsaW4udG9TdHJpbmcodGhpcy5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JCkpICsgKCcsIHVwZGF0ZU1vZGU9JyArIEtvdGxpbi50b1N0cmluZyh0aGlzLnVwZGF0ZU1vZGVfOGJlMnZ4JCkpICsgJyknO1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy5lbmNvZGVEZWZhdWx0c184YmUydngkKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy5zdHJpY3RNb2RlXzhiZTJ2eCQpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnVucXVvdGVkXzhiZTJ2eCQpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmFsbG93U3RydWN0dXJlZE1hcEtleXNfOGJlMnZ4JCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMucHJldHR5UHJpbnRfOGJlMnZ4JCkgfCAwO1xuICAgIHJlc3VsdCA9IHJlc3VsdCAqIDMxICsgS290bGluLmhhc2hDb2RlKHRoaXMuaW5kZW50XzhiZTJ2eCQpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQpIHwgMDtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAzMSArIEtvdGxpbi5oYXNoQ29kZSh0aGlzLmNsYXNzRGlzY3JpbWluYXRvcl84YmUydngkKSB8IDA7XG4gICAgcmVzdWx0ID0gcmVzdWx0ICogMzEgKyBLb3RsaW4uaGFzaENvZGUodGhpcy51cGRhdGVNb2RlXzhiZTJ2eCQpIHwgMDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBKc29uQ29uZmlndXJhdGlvbi5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgcmV0dXJuIHRoaXMgPT09IG90aGVyIHx8IChvdGhlciAhPT0gbnVsbCAmJiAodHlwZW9mIG90aGVyID09PSAnb2JqZWN0JyAmJiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3RoZXIpICYmIChLb3RsaW4uZXF1YWxzKHRoaXMuZW5jb2RlRGVmYXVsdHNfOGJlMnZ4JCwgb3RoZXIuZW5jb2RlRGVmYXVsdHNfOGJlMnZ4JCkgJiYgS290bGluLmVxdWFscyh0aGlzLnN0cmljdE1vZGVfOGJlMnZ4JCwgb3RoZXIuc3RyaWN0TW9kZV84YmUydngkKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMudW5xdW90ZWRfOGJlMnZ4JCwgb3RoZXIudW5xdW90ZWRfOGJlMnZ4JCkgJiYgS290bGluLmVxdWFscyh0aGlzLmFsbG93U3RydWN0dXJlZE1hcEtleXNfOGJlMnZ4JCwgb3RoZXIuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkKSAmJiBLb3RsaW4uZXF1YWxzKHRoaXMucHJldHR5UHJpbnRfOGJlMnZ4JCwgb3RoZXIucHJldHR5UHJpbnRfOGJlMnZ4JCkgJiYgS290bGluLmVxdWFscyh0aGlzLmluZGVudF84YmUydngkLCBvdGhlci5pbmRlbnRfOGJlMnZ4JCkgJiYgS290bGluLmVxdWFscyh0aGlzLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQsIG90aGVyLnVzZUFycmF5UG9seW1vcnBoaXNtXzhiZTJ2eCQpICYmIEtvdGxpbi5lcXVhbHModGhpcy5jbGFzc0Rpc2NyaW1pbmF0b3JfOGJlMnZ4JCwgb3RoZXIuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQpICYmIEtvdGxpbi5lcXVhbHModGhpcy51cGRhdGVNb2RlXzhiZTJ2eCQsIG90aGVyLnVwZGF0ZU1vZGVfOGJlMnZ4JCkpKSkpO1xuICB9O1xuICBmdW5jdGlvbiBKc29uRWxlbWVudCgpIHtcbiAgICBKc29uRWxlbWVudCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkVsZW1lbnQucHJvdG90eXBlLCAncHJpbWl0aXZlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVycm9yX2F6ZnlhbiRfMCgnSnNvbkxpdGVyYWwnKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkVsZW1lbnQucHJvdG90eXBlLCAnanNvbk9iamVjdCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lcnJvcl9hemZ5YW4kXzAoJ0pzb25PYmplY3QnKTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkVsZW1lbnQucHJvdG90eXBlLCAnanNvbkFycmF5Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVycm9yX2F6ZnlhbiRfMCgnSnNvbkFycmF5Jyk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25FbGVtZW50LnByb3RvdHlwZSwgJ2pzb25OdWxsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVycm9yX2F6ZnlhbiRfMCgnSnNvblByaW1pdGl2ZScpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uRWxlbWVudC5wcm90b3R5cGUsICdpc051bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMgPT09IEpzb25OdWxsX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgSnNvbkVsZW1lbnQucHJvdG90eXBlLmVycm9yX2F6ZnlhbiRfMCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEpzb25FeGNlcHRpb24oJ0VsZW1lbnQgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbih0aGlzKS50b1N0cmluZygpICsgJyBpcyBub3QgYSAnICsgZWxlbWVudCk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25FbGVtZW50JENvbXBhbmlvbigpIHtcbiAgICBKc29uRWxlbWVudCRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICB9XG4gIEpzb25FbGVtZW50JENvbXBhbmlvbi5wcm90b3R5cGUuc2VyaWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gIH07XG4gIEpzb25FbGVtZW50JENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgSnNvbkVsZW1lbnQkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbkVsZW1lbnQkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uRWxlbWVudCRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uRWxlbWVudCRDb21wYW5pb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25FbGVtZW50JENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBKc29uRWxlbWVudC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uRWxlbWVudCcsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gSnNvblByaW1pdGl2ZSgpIHtcbiAgICBKc29uUHJpbWl0aXZlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIEpzb25FbGVtZW50LmNhbGwodGhpcyk7XG4gICAgdGhpcy5wcmltaXRpdmVfYXdmcGU1JF8wID0gdGhpcztcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdwcmltaXRpdmUnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJpbWl0aXZlX2F3ZnBlNSRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdpbnQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvSW50KHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnaW50T3JOdWxsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0ludE9yTnVsbCh0aGlzLmNvbnRlbnQpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUHJpbWl0aXZlLnByb3RvdHlwZSwgJ2xvbmcnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvTG9uZyh0aGlzLmNvbnRlbnQpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUHJpbWl0aXZlLnByb3RvdHlwZSwgJ2xvbmdPck51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvTG9uZ09yTnVsbCh0aGlzLmNvbnRlbnQpO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUHJpbWl0aXZlLnByb3RvdHlwZSwgJ2RvdWJsZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Eb3VibGUodGhpcy5jb250ZW50KTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblByaW1pdGl2ZS5wcm90b3R5cGUsICdkb3VibGVPck51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvRG91YmxlT3JOdWxsKHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnZmxvYXQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvRG91YmxlKHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnZmxvYXRPck51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvRG91YmxlT3JOdWxsKHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnYm9vbGVhbicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Cb29sZWFuU3RyaWN0KHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUucHJvdG90eXBlLCAnYm9vbGVhbk9yTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Cb29sZWFuU3RyaWN0T3JOdWxsKHRoaXMuY29udGVudCk7XG4gIH19KTtcbiAgSnNvblByaW1pdGl2ZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvblByaW1pdGl2ZSRDb21wYW5pb24oKSB7XG4gICAgSnNvblByaW1pdGl2ZSRDb21wYW5pb25faW5zdGFuY2UgPSB0aGlzO1xuICB9XG4gIEpzb25QcmltaXRpdmUkQ29tcGFuaW9uLnByb3RvdHlwZS5zZXJpYWxpemVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBKc29uUHJpbWl0aXZlU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICB9O1xuICBKc29uUHJpbWl0aXZlJENvbXBhbmlvbi4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnQ29tcGFuaW9uJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgSnNvblByaW1pdGl2ZSRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlJENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvblByaW1pdGl2ZSRDb21wYW5pb25faW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uUHJpbWl0aXZlJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvblByaW1pdGl2ZSRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgSnNvblByaW1pdGl2ZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uUHJpbWl0aXZlJywgaW50ZXJmYWNlczogW0pzb25FbGVtZW50XX07XG4gIGZ1bmN0aW9uIEpzb25MaXRlcmFsKGJvZHksIGlzU3RyaW5nKSB7XG4gICAgSnNvbkxpdGVyYWwkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgSnNvblByaW1pdGl2ZS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgdGhpcy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuICAgIHRoaXMuY29udGVudF9wcnJqdHokXzAgPSB0aGlzLmJvZHkudG9TdHJpbmcoKTtcbiAgICB0aGlzLmNvbnRlbnRPck51bGxfbXg4NmdmJF8wID0gdGhpcy5jb250ZW50O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uTGl0ZXJhbC5wcm90b3R5cGUsICdjb250ZW50Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRfcHJyanR6JF8wO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uTGl0ZXJhbC5wcm90b3R5cGUsICdjb250ZW50T3JOdWxsJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRPck51bGxfbXg4NmdmJF8wO1xuICB9fSk7XG4gIEpzb25MaXRlcmFsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAodGhpcy5pc1N0cmluZykge1xuICAgICAgdmFyICRyZWNlaXZlciA9IFN0cmluZ0J1aWxkZXJfaW5pdF8wKCk7XG4gICAgICBwcmludFF1b3RlZCgkcmVjZWl2ZXIsIHRoaXMuY29udGVudCk7XG4gICAgICB0bXAkID0gJHJlY2VpdmVyLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgICBlbHNlXG4gICAgICB0bXAkID0gdGhpcy5jb250ZW50O1xuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBKc29uTGl0ZXJhbC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICBpZiAodGhpcyA9PT0gb3RoZXIpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAob3RoZXIgPT0gbnVsbCB8fCAhKCh0bXAkID0gS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKHRoaXMpKSAhPSBudWxsID8gdG1wJC5lcXVhbHMoS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKG90aGVyKSkgOiBudWxsKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBLb3RsaW4uaXNUeXBlKHRtcCRfMCA9IG90aGVyLCBKc29uTGl0ZXJhbCkgPyB0bXAkXzAgOiB0aHJvd0NDRSgpO1xuICAgIGlmICh0aGlzLmlzU3RyaW5nICE9PSBvdGhlci5pc1N0cmluZylcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoIWVxdWFscyh0aGlzLmNvbnRlbnQsIG90aGVyLmNvbnRlbnQpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBKc29uTGl0ZXJhbC5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9IGhhc2hDb2RlKHRoaXMuaXNTdHJpbmcpO1xuICAgIHJlc3VsdCA9ICgzMSAqIHJlc3VsdCB8IDApICsgaGFzaENvZGUodGhpcy5jb250ZW50KSB8IDA7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWwkQ29tcGFuaW9uKCkge1xuICAgIEpzb25MaXRlcmFsJENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgSnNvbkxpdGVyYWwkQ29tcGFuaW9uLnByb3RvdHlwZS5zZXJpYWxpemVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBKc29uTGl0ZXJhbFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKTtcbiAgfTtcbiAgSnNvbkxpdGVyYWwkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBKc29uTGl0ZXJhbCRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uTGl0ZXJhbCRDb21wYW5pb25fZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25MaXRlcmFsJENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25MaXRlcmFsJENvbXBhbmlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkxpdGVyYWwkQ29tcGFuaW9uX2luc3RhbmNlO1xuICB9XG4gIEpzb25MaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25MaXRlcmFsJywgaW50ZXJmYWNlczogW0pzb25QcmltaXRpdmVdfTtcbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWxfaW5pdChudW1iZXIsICR0aGlzKSB7XG4gICAgJHRoaXMgPSAkdGhpcyB8fCBPYmplY3QuY3JlYXRlKEpzb25MaXRlcmFsLnByb3RvdHlwZSk7XG4gICAgSnNvbkxpdGVyYWwuY2FsbCgkdGhpcywgbnVtYmVyLCBmYWxzZSk7XG4gICAgcmV0dXJuICR0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25MaXRlcmFsX2luaXRfMChib29sZWFuLCAkdGhpcykge1xuICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShKc29uTGl0ZXJhbC5wcm90b3R5cGUpO1xuICAgIEpzb25MaXRlcmFsLmNhbGwoJHRoaXMsIGJvb2xlYW4sIGZhbHNlKTtcbiAgICByZXR1cm4gJHRoaXM7XG4gIH1cbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWxfaW5pdF8xKHN0cmluZywgJHRoaXMpIHtcbiAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoSnNvbkxpdGVyYWwucHJvdG90eXBlKTtcbiAgICBKc29uTGl0ZXJhbC5jYWxsKCR0aGlzLCBzdHJpbmcsIHRydWUpO1xuICAgIHJldHVybiAkdGhpcztcbiAgfVxuICBmdW5jdGlvbiBKc29uTnVsbCgpIHtcbiAgICBKc29uTnVsbF9pbnN0YW5jZSA9IHRoaXM7XG4gICAgSnNvblByaW1pdGl2ZS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuanNvbk51bGxfYzh5amliJF8wID0gdGhpcztcbiAgICB0aGlzLmNvbnRlbnRfdzF2a29mJF8wID0gJ251bGwnO1xuICAgIHRoaXMuY29udGVudE9yTnVsbF9lZ3ZjdWQkXzAgPSBudWxsO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uTnVsbC5wcm90b3R5cGUsICdqc29uTnVsbCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5qc29uTnVsbF9jOHlqaWIkXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25OdWxsLnByb3RvdHlwZSwgJ2NvbnRlbnQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudF93MXZrb2YkXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25OdWxsLnByb3RvdHlwZSwgJ2NvbnRlbnRPck51bGwnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudE9yTnVsbF9lZ3ZjdWQkXzA7XG4gIH19KTtcbiAgSnNvbk51bGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0pzb25OdWxsJywgaW50ZXJmYWNlczogW0pzb25QcmltaXRpdmVdfTtcbiAgdmFyIEpzb25OdWxsX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbk51bGxfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25OdWxsX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbk51bGwoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25OdWxsX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25PYmplY3QoY29udGVudCkge1xuICAgIEpzb25PYmplY3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCk7XG4gICAgSnNvbkVsZW1lbnQuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuICAgIHRoaXMuanNvbk9iamVjdF9qczR5cm4kXzAgPSB0aGlzO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uT2JqZWN0LnByb3RvdHlwZSwgJ2pzb25PYmplY3QnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbk9iamVjdF9qczR5cm4kXzA7XG4gIH19KTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0UHJpbWl0aXZlXzYxenBvZSQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IGdldFZhbHVlKHRoaXMsIGtleSksIEpzb25QcmltaXRpdmUpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB1bmV4cGVjdGVkSnNvbihrZXksICdKc29uUHJpbWl0aXZlJyk7XG4gIH07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmdldE9iamVjdF82MXpwb2UkID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSBnZXRWYWx1ZSh0aGlzLCBrZXkpLCBKc29uT2JqZWN0KSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogdW5leHBlY3RlZEpzb24oa2V5LCAnSnNvbk9iamVjdCcpO1xuICB9O1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5nZXRBcnJheV82MXpwb2UkID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSBnZXRWYWx1ZSh0aGlzLCBrZXkpLCBKc29uQXJyYXkpID8gdG1wJCA6IG51bGwpICE9IG51bGwgPyB0bXAkXzAgOiB1bmV4cGVjdGVkSnNvbihrZXksICdKc29uQXJyYXknKTtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0UHJpbWl0aXZlT3JOdWxsXzYxenBvZSQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuY29udGVudC5nZXRfMTFyYiQoa2V5KSwgSnNvblByaW1pdGl2ZSkgPyB0bXAkIDogbnVsbDtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0T2JqZWN0T3JOdWxsXzYxenBvZSQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuY29udGVudC5nZXRfMTFyYiQoa2V5KSwgSnNvbk9iamVjdCkgPyB0bXAkIDogbnVsbDtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0QXJyYXlPck51bGxfNjF6cG9lJCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgdG1wJDtcbiAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkID0gdGhpcy5jb250ZW50LmdldF8xMXJiJChrZXkpLCBKc29uQXJyYXkpID8gdG1wJCA6IG51bGw7XG4gIH07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmdldEFzX2owNjlwMyQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLkpzb25PYmplY3QuZ2V0QXNfajA2OXAzJCcsIHdyYXBGdW5jdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGdldEtDbGFzcyA9IEtvdGxpbi5nZXRLQ2xhc3M7XG4gICAgdmFyIHVuZXhwZWN0ZWRKc29uID0gXy5rb3RsaW54LnNlcmlhbGl6YXRpb24uanNvbi51bmV4cGVjdGVkSnNvbl9wdWo3ZjQkO1xuICAgIHJldHVybiBmdW5jdGlvbiAoSl8wLCBpc0osIGtleSkge1xuICAgICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICAgIHJldHVybiAodG1wJF8wID0gaXNKKHRtcCQgPSB0aGlzLmdldF8xMXJiJChrZXkpKSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogdW5leHBlY3RlZEpzb24oa2V5LCBnZXRLQ2xhc3MoSl8wKS50b1N0cmluZygpKTtcbiAgICB9O1xuICB9KSk7XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmdldEFzT3JOdWxsX2owNjlwMyQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLkpzb25PYmplY3QuZ2V0QXNPck51bGxfajA2OXAzJCcsIGZ1bmN0aW9uIChKXzAsIGlzSiwga2V5KSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIGlzSih0bXAkID0gdGhpcy5jb250ZW50LmdldF8xMXJiJChrZXkpKSA/IHRtcCQgOiBudWxsO1xuICB9KTtcbiAgZnVuY3Rpb24gSnNvbk9iamVjdCR0b1N0cmluZyRsYW1iZGEoZikge1xuICAgIHZhciBrID0gZi5rZXk7XG4gICAgdmFyIHYgPSBmLnZhbHVlO1xuICAgIHJldHVybiAnXCInICsgayArICdcIicgKyAnOicgKyB2O1xuICB9XG4gIEpzb25PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBqb2luVG9TdHJpbmcodGhpcy5jb250ZW50LmVudHJpZXMsICcsJywgJ3snLCAnfScsIHZvaWQgMCwgdm9pZCAwLCBKc29uT2JqZWN0JHRvU3RyaW5nJGxhbWJkYSk7XG4gIH07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiBlcXVhbHModGhpcy5jb250ZW50LCBvdGhlcik7XG4gIH07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoYXNoQ29kZSh0aGlzLmNvbnRlbnQpO1xuICB9O1xuICBmdW5jdGlvbiBKc29uT2JqZWN0JENvbXBhbmlvbigpIHtcbiAgICBKc29uT2JqZWN0JENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgSnNvbk9iamVjdCRDb21wYW5pb24ucHJvdG90eXBlLnNlcmlhbGl6ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEpzb25PYmplY3RTZXJpYWxpemVyX2dldEluc3RhbmNlKCk7XG4gIH07XG4gIEpzb25PYmplY3QkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBKc29uT2JqZWN0JENvbXBhbmlvbl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25PYmplY3QkQ29tcGFuaW9uX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uT2JqZWN0JENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25PYmplY3QkQ29tcGFuaW9uKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uT2JqZWN0JENvbXBhbmlvbl9pbnN0YW5jZTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk9iamVjdC5wcm90b3R5cGUsICdlbnRyaWVzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZW50cmllcztcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk9iamVjdC5wcm90b3R5cGUsICdrZXlzJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQua2V5cztcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk9iamVjdC5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuc2l6ZTtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk9iamVjdC5wcm90b3R5cGUsICd2YWx1ZXMnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC52YWx1ZXM7XG4gIH19KTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuY29udGFpbnNLZXlfMTFyYiQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5jb250YWluc0tleV8xMXJiJChrZXkpO1xuICB9O1xuICBKc29uT2JqZWN0LnByb3RvdHlwZS5jb250YWluc1ZhbHVlXzExcmMkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5jb250YWluc1ZhbHVlXzExcmMkKHZhbHVlKTtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuZ2V0XzExcmIkID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZ2V0XzExcmIkKGtleSk7XG4gIH07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5pc0VtcHR5KCk7XG4gIH07XG4gIEpzb25PYmplY3QuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvbk9iamVjdCcsIGludGVyZmFjZXM6IFtNYXAsIEpzb25FbGVtZW50XX07XG4gIEpzb25PYmplY3QucHJvdG90eXBlLmNvbXBvbmVudDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudDtcbiAgfTtcbiAgSnNvbk9iamVjdC5wcm90b3R5cGUuY29weV9mbmQ5MTgkID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICByZXR1cm4gbmV3IEpzb25PYmplY3QoY29udGVudCA9PT0gdm9pZCAwID8gdGhpcy5jb250ZW50IDogY29udGVudCk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25BcnJheShjb250ZW50KSB7XG4gICAgSnNvbkFycmF5JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpO1xuICAgIEpzb25FbGVtZW50LmNhbGwodGhpcyk7XG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICB0aGlzLmpzb25BcnJheV91MWdzcnQkXzAgPSB0aGlzO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uQXJyYXkucHJvdG90eXBlLCAnanNvbkFycmF5Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmpzb25BcnJheV91MWdzcnQkXzA7XG4gIH19KTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRQcmltaXRpdmVfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLmNvbnRlbnQuZ2V0X3phM2xwYSQoaW5kZXgpLCBKc29uUHJpbWl0aXZlKSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogdW5leHBlY3RlZEpzb24oJ2F0ICcgKyBpbmRleCwgJ0pzb25QcmltaXRpdmUnKTtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRPYmplY3RfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgcmV0dXJuICh0bXAkXzAgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLmNvbnRlbnQuZ2V0X3phM2xwYSQoaW5kZXgpLCBKc29uT2JqZWN0KSA/IHRtcCQgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogdW5leHBlY3RlZEpzb24oJ2F0ICcgKyBpbmRleCwgJ0pzb25PYmplY3QnKTtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRBcnJheV96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICByZXR1cm4gKHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuY29udGVudC5nZXRfemEzbHBhJChpbmRleCksIEpzb25BcnJheSkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IHVuZXhwZWN0ZWRKc29uKCdhdCAnICsgaW5kZXgsICdKc29uQXJyYXknKTtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRQcmltaXRpdmVPck51bGxfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCQgPSBnZXRPck51bGxfMCh0aGlzLmNvbnRlbnQsIGluZGV4KSwgSnNvblByaW1pdGl2ZSkgPyB0bXAkIDogbnVsbDtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRPYmplY3RPck51bGxfemEzbHBhJCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCQgPSBnZXRPck51bGxfMCh0aGlzLmNvbnRlbnQsIGluZGV4KSwgSnNvbk9iamVjdCkgPyB0bXAkIDogbnVsbDtcbiAgfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRBcnJheU9yTnVsbF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IGdldE9yTnVsbF8wKHRoaXMuY29udGVudCwgaW5kZXgpLCBKc29uQXJyYXkpID8gdG1wJCA6IG51bGw7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuZ2V0QXNfbjg2cTUkID0gZGVmaW5lSW5saW5lRnVuY3Rpb24oJ2tvdGxpbngtc2VyaWFsaXphdGlvbi1rb3RsaW54LXNlcmlhbGl6YXRpb24tcnVudGltZS5rb3RsaW54LnNlcmlhbGl6YXRpb24uanNvbi5Kc29uQXJyYXkuZ2V0QXNfbjg2cTUkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZ2V0S0NsYXNzID0gS290bGluLmdldEtDbGFzcztcbiAgICB2YXIgdW5leHBlY3RlZEpzb24gPSBfLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLnVuZXhwZWN0ZWRKc29uX3B1ajdmNCQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChKXzAsIGlzSiwgaW5kZXgpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICByZXR1cm4gKHRtcCRfMCA9IGlzSih0bXAkID0gdGhpcy5jb250ZW50LmdldF96YTNscGEkKGluZGV4KSkgPyB0bXAkIDogbnVsbCkgIT0gbnVsbCA/IHRtcCRfMCA6IHVuZXhwZWN0ZWRKc29uKCdhdCAnICsgaW5kZXgsIGdldEtDbGFzcyhKXzApLnRvU3RyaW5nKCkpO1xuICAgIH07XG4gIH0pKTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5nZXRBc09yTnVsbF9uODZxNSQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLkpzb25BcnJheS5nZXRBc09yTnVsbF9uODZxNSQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZXRPck51bGwgPSBLb3RsaW4ua290bGluLmNvbGxlY3Rpb25zLmdldE9yTnVsbF95emxuMm8kO1xuICAgIHJldHVybiBmdW5jdGlvbiAoSl8wLCBpc0osIGluZGV4KSB7XG4gICAgICB2YXIgdG1wJDtcbiAgICAgIHJldHVybiBpc0oodG1wJCA9IGdldE9yTnVsbCh0aGlzLmNvbnRlbnQsIGluZGV4KSkgPyB0bXAkIDogbnVsbDtcbiAgICB9O1xuICB9KSk7XG4gIEpzb25BcnJheS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGpvaW5Ub1N0cmluZyh0aGlzLmNvbnRlbnQsICcsJywgJ1snLCAnXScpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgIHJldHVybiBlcXVhbHModGhpcy5jb250ZW50LCBvdGhlcik7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuaGFzaENvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGhhc2hDb2RlKHRoaXMuY29udGVudCk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25BcnJheSRDb21wYW5pb24oKSB7XG4gICAgSnNvbkFycmF5JENvbXBhbmlvbl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgSnNvbkFycmF5JENvbXBhbmlvbi5wcm90b3R5cGUuc2VyaWFsaXplciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSnNvbkFycmF5U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpO1xuICB9O1xuICBKc29uQXJyYXkkQ29tcGFuaW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdDb21wYW5pb24nLCBpbnRlcmZhY2VzOiBbXX07XG4gIHZhciBKc29uQXJyYXkkQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbkFycmF5JENvbXBhbmlvbl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbkFycmF5JENvbXBhbmlvbl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25BcnJheSRDb21wYW5pb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25BcnJheSRDb21wYW5pb25faW5zdGFuY2U7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25BcnJheS5wcm90b3R5cGUsICdzaXplJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuc2l6ZTtcbiAgfX0pO1xuICBKc29uQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmNvbnRhaW5zXzExcmIkKGVsZW1lbnQpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zQWxsX2JyeXducSQgPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50LmNvbnRhaW5zQWxsX2JyeXducSQoZWxlbWVudHMpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmdldF96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5nZXRfemEzbHBhJChpbmRleCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuaW5kZXhPZl8xMXJiJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5pbmRleE9mXzExcmIkKGVsZW1lbnQpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5pc0VtcHR5KCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5pdGVyYXRvcigpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mXzExcmIkID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxhc3RJbmRleE9mXzExcmIkKGVsZW1lbnQpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmxpc3RJdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50Lmxpc3RJdGVyYXRvcigpO1xuICB9O1xuICBKc29uQXJyYXkucHJvdG90eXBlLmxpc3RJdGVyYXRvcl96YTNscGEkID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudC5saXN0SXRlcmF0b3JfemEzbHBhJChpbmRleCk7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuc3ViTGlzdF92dXg5ZjAkID0gZnVuY3Rpb24gKGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQuc3ViTGlzdF92dXg5ZjAkKGZyb21JbmRleCwgdG9JbmRleCk7XG4gIH07XG4gIEpzb25BcnJheS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uQXJyYXknLCBpbnRlcmZhY2VzOiBbTGlzdCwgSnNvbkVsZW1lbnRdfTtcbiAgSnNvbkFycmF5LnByb3RvdHlwZS5jb21wb25lbnQxID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7XG4gIH07XG4gIEpzb25BcnJheS5wcm90b3R5cGUuY29weV9hZHA0amMkID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICByZXR1cm4gbmV3IEpzb25BcnJheShjb250ZW50ID09PSB2b2lkIDAgPyB0aGlzLmNvbnRlbnQgOiBjb250ZW50KTtcbiAgfTtcbiAgZnVuY3Rpb24gdW5leHBlY3RlZEpzb24oa2V5LCBleHBlY3RlZCkge1xuICAgIHRocm93IG5ldyBKc29uRXhjZXB0aW9uKCdFbGVtZW50ICcgKyBrZXkgKyAnIGlzIG5vdCBhICcgKyBleHBlY3RlZCk7XG4gIH1cbiAgZnVuY3Rpb24gSnNvbkVsZW1lbnRTZXJpYWxpemVyKCkge1xuICAgIEpzb25FbGVtZW50U2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX3U4a3BzZSRfMCA9IG5ldyBKc29uRWxlbWVudFNlcmlhbGl6ZXIkZGVzY3JpcHRvciRPYmplY3RMaXRlcmFsKCdKc29uRWxlbWVudFNlcmlhbGl6ZXInKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZSwgJ2Rlc2NyaXB0b3InLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVzY3JpcHRvcl91OGtwc2UkXzA7XG4gIH19KTtcbiAgSnNvbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2ZXJpZnkoZW5jb2Rlcik7XG4gICAgaWYgKEtvdGxpbi5pc1R5cGUob2JqLCBKc29uUHJpbWl0aXZlKSlcbiAgICAgIGVuY29kZXIuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChKc29uUHJpbWl0aXZlU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBvYmopO1xuICAgIGVsc2UgaWYgKEtvdGxpbi5pc1R5cGUob2JqLCBKc29uT2JqZWN0KSlcbiAgICAgIGVuY29kZXIuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChKc29uT2JqZWN0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBvYmopO1xuICAgIGVsc2UgaWYgKEtvdGxpbi5pc1R5cGUob2JqLCBKc29uQXJyYXkpKVxuICAgICAgZW5jb2Rlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKEpzb25BcnJheVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSwgb2JqKTtcbiAgfTtcbiAgSnNvbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2ZXJpZnlfMChkZWNvZGVyKTtcbiAgICB2YXIgaW5wdXQgPSBLb3RsaW4uaXNUeXBlKHRtcCQgPSBkZWNvZGVyLCBKc29uSW5wdXQpID8gdG1wJCA6IHRocm93Q0NFKCk7XG4gICAgcmV0dXJuIGlucHV0LmRlY29kZUpzb24oKTtcbiAgfTtcbiAgZnVuY3Rpb24gSnNvbkVsZW1lbnRTZXJpYWxpemVyJGRlc2NyaXB0b3IkT2JqZWN0TGl0ZXJhbChuYW1lLCBnZW5lcmF0ZWRTZXJpYWxpemVyKSB7XG4gICAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5jYWxsKHRoaXMsIG5hbWUsIGdlbmVyYXRlZFNlcmlhbGl6ZXIpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uRWxlbWVudFNlcmlhbGl6ZXIkZGVzY3JpcHRvciRPYmplY3RMaXRlcmFsLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFVuaW9uS2luZCRTRUFMRURfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBKc29uRWxlbWVudFNlcmlhbGl6ZXIkZGVzY3JpcHRvciRPYmplY3RMaXRlcmFsLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgaW50ZXJmYWNlczogW1NlcmlhbENsYXNzRGVzY0ltcGxdfTtcbiAgSnNvbkVsZW1lbnRTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdKc29uRWxlbWVudFNlcmlhbGl6ZXInLCBpbnRlcmZhY2VzOiBbS1NlcmlhbGl6ZXJdfTtcbiAgdmFyIEpzb25FbGVtZW50U2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25FbGVtZW50U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvbkVsZW1lbnRTZXJpYWxpemVyX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbkVsZW1lbnRTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uRWxlbWVudFNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIoKSB7XG4gICAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUHJpbWl0aXZlU2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBKc29uUHJpbWl0aXZlU2VyaWFsaXplciRKc29uUHJpbWl0aXZlRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIEpzb25QcmltaXRpdmVTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZlcmlmeShlbmNvZGVyKTtcbiAgICBpZiAoS290bGluLmlzVHlwZShvYmosIEpzb25OdWxsKSkge1xuICAgICAgdG1wJF8wID0gZW5jb2Rlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKEpzb25OdWxsU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBKc29uTnVsbF9nZXRJbnN0YW5jZSgpKTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdG1wJF8wID0gZW5jb2Rlci5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKEpzb25MaXRlcmFsU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBLb3RsaW4uaXNUeXBlKHRtcCQgPSBvYmosIEpzb25MaXRlcmFsKSA/IHRtcCQgOiB0aHJvd0NDRSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCRfMDtcbiAgfTtcbiAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHZlcmlmeV8wKGRlY29kZXIpO1xuICAgIHJldHVybiBkZWNvZGVyLmRlY29kZU5vdE51bGxNYXJrKCkgPyBKc29uUHJpbWl0aXZlXzIoZGVjb2Rlci5kZWNvZGVTdHJpbmcoKSkgOiBkZWNvZGVyLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQoSnNvbk51bGxTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpO1xuICB9O1xuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlU2VyaWFsaXplciRKc29uUHJpbWl0aXZlRGVzY3JpcHRvcigpIHtcbiAgICBKc29uUHJpbWl0aXZlU2VyaWFsaXplciRKc29uUHJpbWl0aXZlRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5jYWxsKHRoaXMsICdKc29uUHJpbWl0aXZlJyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFByaW1pdGl2ZUtpbmQkU1RSSU5HX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3IuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0pzb25QcmltaXRpdmVEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1NlcmlhbENsYXNzRGVzY0ltcGxdfTtcbiAgdmFyIEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXIkSnNvblByaW1pdGl2ZURlc2NyaXB0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25QcmltaXRpdmVTZXJpYWxpemVyJEpzb25QcmltaXRpdmVEZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIEpzb25QcmltaXRpdmVTZXJpYWxpemVyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdKc29uUHJpbWl0aXZlU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uUHJpbWl0aXZlU2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvblByaW1pdGl2ZVNlcmlhbGl6ZXJfaW5zdGFuY2U7XG4gIH1cbiAgZnVuY3Rpb24gSnNvbk51bGxTZXJpYWxpemVyKCkge1xuICAgIEpzb25OdWxsU2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25OdWxsU2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgSnNvbk51bGxTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVfYXdlOTdpJCA9IGZ1bmN0aW9uIChlbmNvZGVyLCBvYmopIHtcbiAgICB2ZXJpZnkoZW5jb2Rlcik7XG4gICAgZW5jb2Rlci5lbmNvZGVOdWxsKCk7XG4gIH07XG4gIEpzb25OdWxsU2VyaWFsaXplci5wcm90b3R5cGUuZGVzZXJpYWxpemVfbnRzNXFuJCA9IGZ1bmN0aW9uIChkZWNvZGVyKSB7XG4gICAgdmVyaWZ5XzAoZGVjb2Rlcik7XG4gICAgZGVjb2Rlci5kZWNvZGVOdWxsKCk7XG4gICAgcmV0dXJuIEpzb25OdWxsX2dldEluc3RhbmNlKCk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3IoKSB7XG4gICAgSnNvbk51bGxTZXJpYWxpemVyJEpzb25OdWxsRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5jYWxsKHRoaXMsICdKc29uTnVsbCcpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFVuaW9uS2luZCRFTlVNX0tJTkRfZ2V0SW5zdGFuY2UoKTtcbiAgfX0pO1xuICBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdKc29uTnVsbERlc2NyaXB0b3InLCBpbnRlcmZhY2VzOiBbU2VyaWFsQ2xhc3NEZXNjSW1wbF19O1xuICB2YXIgSnNvbk51bGxTZXJpYWxpemVyJEpzb25OdWxsRGVzY3JpcHRvcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3JfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25OdWxsU2VyaWFsaXplciRKc29uTnVsbERlc2NyaXB0b3JfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uTnVsbFNlcmlhbGl6ZXIkSnNvbk51bGxEZXNjcmlwdG9yX2luc3RhbmNlO1xuICB9XG4gIEpzb25OdWxsU2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSnNvbk51bGxTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBKc29uTnVsbFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uTnVsbFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25OdWxsU2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25OdWxsU2VyaWFsaXplcigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbk51bGxTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIEpzb25MaXRlcmFsU2VyaWFsaXplcigpIHtcbiAgICBKc29uTGl0ZXJhbFNlcmlhbGl6ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uTGl0ZXJhbFNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvcl9nZXRJbnN0YW5jZSgpO1xuICB9fSk7XG4gIEpzb25MaXRlcmFsU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgdmVyaWZ5KGVuY29kZXIpO1xuICAgIGlmIChvYmouaXNTdHJpbmcpIHtcbiAgICAgIHJldHVybiBlbmNvZGVyLmVuY29kZVN0cmluZ182MXpwb2UkKG9iai5jb250ZW50KTtcbiAgICB9XG4gICAgdmFyIGxvbmcgPSBvYmoubG9uZ09yTnVsbDtcbiAgICBpZiAobG9uZyAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGVMb25nX3M4Y3hoeiQobG9uZyk7XG4gICAgfVxuICAgIHZhciBkb3VibGUgPSBvYmouZG91YmxlT3JOdWxsO1xuICAgIGlmIChkb3VibGUgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVuY29kZXIuZW5jb2RlRG91YmxlXzE0ZHRoZSQoZG91YmxlKTtcbiAgICB9XG4gICAgdmFyIGJvb2xlYW4gPSBvYmouYm9vbGVhbk9yTnVsbDtcbiAgICBpZiAoYm9vbGVhbiAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gZW5jb2Rlci5lbmNvZGVCb29sZWFuXzZ0YWtudiQoYm9vbGVhbik7XG4gICAgfVxuICAgIGVuY29kZXIuZW5jb2RlU3RyaW5nXzYxenBvZSQob2JqLmNvbnRlbnQpO1xuICB9O1xuICBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHZlcmlmeV8wKGRlY29kZXIpO1xuICAgIHJldHVybiBKc29uTGl0ZXJhbF9pbml0XzEoZGVjb2Rlci5kZWNvZGVTdHJpbmcoKSk7XG4gIH07XG4gIGZ1bmN0aW9uIEpzb25MaXRlcmFsU2VyaWFsaXplciRKc29uTGl0ZXJhbERlc2NyaXB0b3IoKSB7XG4gICAgSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgU2VyaWFsQ2xhc3NEZXNjSW1wbC5jYWxsKHRoaXMsICdKc29uTGl0ZXJhbCcpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2tpbmQnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFByaW1pdGl2ZUtpbmQkU1RSSU5HX2dldEluc3RhbmNlKCk7XG4gIH19KTtcbiAgSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSnNvbkxpdGVyYWxEZXNjcmlwdG9yJywgaW50ZXJmYWNlczogW1NlcmlhbENsYXNzRGVzY0ltcGxdfTtcbiAgdmFyIEpzb25MaXRlcmFsU2VyaWFsaXplciRKc29uTGl0ZXJhbERlc2NyaXB0b3JfaW5zdGFuY2UgPSBudWxsO1xuICBmdW5jdGlvbiBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uTGl0ZXJhbFNlcmlhbGl6ZXIkSnNvbkxpdGVyYWxEZXNjcmlwdG9yX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvcigpO1xuICAgIH1cbiAgICByZXR1cm4gSnNvbkxpdGVyYWxTZXJpYWxpemVyJEpzb25MaXRlcmFsRGVzY3JpcHRvcl9pbnN0YW5jZTtcbiAgfVxuICBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0pzb25MaXRlcmFsU2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgSnNvbkxpdGVyYWxTZXJpYWxpemVyX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gSnNvbkxpdGVyYWxTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uTGl0ZXJhbFNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpzb25MaXRlcmFsU2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBKc29uT2JqZWN0U2VyaWFsaXplcigpIHtcbiAgICBKc29uT2JqZWN0U2VyaWFsaXplcl9pbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5kZXNjcmlwdG9yX2E5OTJ0aiRfMCA9IG5ldyBOYW1lZE1hcENsYXNzRGVzY3JpcHRvcignSnNvbk9iamVjdCcsIFN0cmluZ1NlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yLCBKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbk9iamVjdFNlcmlhbGl6ZXIucHJvdG90eXBlLCAnZGVzY3JpcHRvcicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNjcmlwdG9yX2E5OTJ0aiRfMDtcbiAgfX0pO1xuICBKc29uT2JqZWN0U2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplX2F3ZTk3aSQgPSBmdW5jdGlvbiAoZW5jb2Rlciwgb2JqKSB7XG4gICAgdmVyaWZ5KGVuY29kZXIpO1xuICAgIChuZXcgTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXIoU3RyaW5nU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSkpLnNlcmlhbGl6ZV9hd2U5N2kkKGVuY29kZXIsIG9iai5jb250ZW50KTtcbiAgfTtcbiAgSnNvbk9iamVjdFNlcmlhbGl6ZXIucHJvdG90eXBlLmRlc2VyaWFsaXplX250czVxbiQgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgIHZlcmlmeV8wKGRlY29kZXIpO1xuICAgIHJldHVybiBuZXcgSnNvbk9iamVjdCgobmV3IExpbmtlZEhhc2hNYXBTZXJpYWxpemVyKFN0cmluZ1NlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSwgSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpKS5kZXNlcmlhbGl6ZV9udHM1cW4kKGRlY29kZXIpKTtcbiAgfTtcbiAgSnNvbk9iamVjdFNlcmlhbGl6ZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ0pzb25PYmplY3RTZXJpYWxpemVyJywgaW50ZXJmYWNlczogW0tTZXJpYWxpemVyXX07XG4gIHZhciBKc29uT2JqZWN0U2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25PYmplY3RTZXJpYWxpemVyX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChKc29uT2JqZWN0U2VyaWFsaXplcl9pbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgbmV3IEpzb25PYmplY3RTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uT2JqZWN0U2VyaWFsaXplcl9pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBKc29uQXJyYXlTZXJpYWxpemVyKCkge1xuICAgIEpzb25BcnJheVNlcmlhbGl6ZXJfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuZGVzY3JpcHRvcl85MzVpdmokXzAgPSBuZXcgTmFtZWRMaXN0Q2xhc3NEZXNjcmlwdG9yKCdKc29uQXJyYXknLCBKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKS5kZXNjcmlwdG9yKTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkFycmF5U2VyaWFsaXplci5wcm90b3R5cGUsICdkZXNjcmlwdG9yJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRlc2NyaXB0b3JfOTM1aXZqJF8wO1xuICB9fSk7XG4gIEpzb25BcnJheVNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZV9hd2U5N2kkID0gZnVuY3Rpb24gKGVuY29kZXIsIG9iaikge1xuICAgIHZlcmlmeShlbmNvZGVyKTtcbiAgICAobmV3IEFycmF5TGlzdFNlcmlhbGl6ZXIoSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpKS5zZXJpYWxpemVfYXdlOTdpJChlbmNvZGVyLCBvYmopO1xuICB9O1xuICBKc29uQXJyYXlTZXJpYWxpemVyLnByb3RvdHlwZS5kZXNlcmlhbGl6ZV9udHM1cW4kID0gZnVuY3Rpb24gKGRlY29kZXIpIHtcbiAgICB2ZXJpZnlfMChkZWNvZGVyKTtcbiAgICByZXR1cm4gbmV3IEpzb25BcnJheSgobmV3IEFycmF5TGlzdFNlcmlhbGl6ZXIoSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpKS5kZXNlcmlhbGl6ZV9udHM1cW4kKGRlY29kZXIpKTtcbiAgfTtcbiAgSnNvbkFycmF5U2VyaWFsaXplci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnSnNvbkFycmF5U2VyaWFsaXplcicsIGludGVyZmFjZXM6IFtLU2VyaWFsaXplcl19O1xuICB2YXIgSnNvbkFycmF5U2VyaWFsaXplcl9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIEpzb25BcnJheVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEpzb25BcnJheVNlcmlhbGl6ZXJfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBKc29uQXJyYXlTZXJpYWxpemVyKCk7XG4gICAgfVxuICAgIHJldHVybiBKc29uQXJyYXlTZXJpYWxpemVyX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIHZlcmlmeShlbmNvZGVyKSB7XG4gICAgaWYgKCFLb3RsaW4uaXNUeXBlKGVuY29kZXIsIEpzb25PdXRwdXQpKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdCgnSnNvbiBlbGVtZW50IHNlcmlhbGl6ZXIgY2FuIGJlIHVzZWQgb25seSBieSBKc29uIGZvcm1hdCcudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHZlcmlmeV8wKGRlY29kZXIpIHtcbiAgICBpZiAoIUtvdGxpbi5pc1R5cGUoZGVjb2RlciwgSnNvbklucHV0KSkge1xuICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQoJ0pzb24gZWxlbWVudCBzZXJpYWxpemVyIGNhbiBiZSB1c2VkIG9ubHkgYnkgSnNvbiBmb3JtYXQnLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBKc29uUHJpbWl0aXZlXzIodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgIHJldHVybiBKc29uTnVsbF9nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBKc29uTGl0ZXJhbF9pbml0XzEodmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIGdldF9jb250ZW50KCRyZWNlaXZlcikge1xuICAgIHJldHVybiAkcmVjZWl2ZXIucHJpbWl0aXZlLmNvbnRlbnQ7XG4gIH1cbiAgZnVuY3Rpb24gSW52YWxpZEZsb2F0aW5nUG9pbnQodmFsdWUsIHR5cGUpIHtcbiAgICByZXR1cm4gbmV3IEpzb25FbmNvZGluZ0V4Y2VwdGlvbih2YWx1ZS50b1N0cmluZygpICsgJyBpcyBub3QgYSB2YWxpZCAnICsgdHlwZSArICcgYXMgcGVyIEpTT04gc3BlY2lmaWNhdGlvbi4gJyArICdZb3UgY2FuIGRpc2FibGUgc3RyaWN0IG1vZGUgdG8gc2VyaWFsaXplIHN1Y2ggdmFsdWVzJyk7XG4gIH1cbiAgZnVuY3Rpb24gSW52YWxpZEZsb2F0aW5nUG9pbnRfMCh2YWx1ZSwga2V5LCB0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBKc29uRW5jb2RpbmdFeGNlcHRpb24odmFsdWUudG9TdHJpbmcoKSArICcgd2l0aCBrZXkgJyArIGtleSArICcgaXMgbm90IGEgdmFsaWQgJyArIHR5cGUgKyAnIGFzIHBlciBKU09OIHNwZWNpZmljYXRpb24uICcgKyAnWW91IGNhbiBkaXNhYmxlIHN0cmljdCBtb2RlIHRvIHNlcmlhbGl6ZSBzdWNoIHZhbHVlcycpO1xuICB9XG4gIGZ1bmN0aW9uIGpzb25Vbmtub3duS2V5RXhjZXB0aW9uKHBvc2l0aW9uLCBrZXkpIHtcbiAgICByZXR1cm4gbmV3IEpzb25EZWNvZGluZ0V4Y2VwdGlvbihwb3NpdGlvbiwgJ1N0cmljdCBKU09OIGVuY291bnRlcmVkIHVua25vd24ga2V5OiAnICsga2V5ICsgJ1xcbicgKyAnWW91IGNhbiBkaXNhYmxlIHN0cmljdCBtb2RlIHRvIHNraXAgdW5rbm93biBrZXlzJyk7XG4gIH1cbiAgZnVuY3Rpb24gSnNvbk1hcEludmFsaWRLZXlLaW5kKGtleURlc2NyaXB0b3IpIHtcbiAgICByZXR1cm4gbmV3IEpzb25FeGNlcHRpb24oJ1ZhbHVlIG9mIHR5cGUgJyArIGtleURlc2NyaXB0b3IubmFtZSArIFwiIGNhbid0IGJlIHVzZWQgaW4ganNvbiBhcyBtYXAga2V5LiBcIiArICgnSXQgc2hvdWxkIGhhdmUgZWl0aGVyIHByaW1pdGl2ZSBvciBlbnVtIGtpbmQsIGJ1dCBpdHMga2luZCBpcyAnICsga2V5RGVzY3JpcHRvci5raW5kICsgJy4nICsgJ1xcbicpICsgXCJZb3UgY2FuIGNvbnZlcnQgc3VjaCBtYXBzIHRvIGFycmF5cyBba2V5MSwgdmFsdWUxLCBrZXkyLCB2YWx1ZTIsLi4uXSB3aXRoICdhbGxvd1N0cnVjdHVyZWRNYXBLZXlzJyBmbGFnIGluIEpzb25Db25maWd1cmF0aW9uLlwiKTtcbiAgfVxuICBmdW5jdGlvbiBKc29uRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICBTZXJpYWxpemF0aW9uRXhjZXB0aW9uLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ0pzb25FeGNlcHRpb24nO1xuICB9XG4gIEpzb25FeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvbkV4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtTZXJpYWxpemF0aW9uRXhjZXB0aW9uXX07XG4gIGZ1bmN0aW9uIEpzb25EZWNvZGluZ0V4Y2VwdGlvbihwb3NpdGlvbiwgbWVzc2FnZSkge1xuICAgIEpzb25FeGNlcHRpb24uY2FsbCh0aGlzLCAnSW52YWxpZCBKU09OIGF0ICcgKyBwb3NpdGlvbiArICc6ICcgKyBtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnSnNvbkRlY29kaW5nRXhjZXB0aW9uJztcbiAgfVxuICBKc29uRGVjb2RpbmdFeGNlcHRpb24uJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvbkRlY29kaW5nRXhjZXB0aW9uJywgaW50ZXJmYWNlczogW0pzb25FeGNlcHRpb25dfTtcbiAgZnVuY3Rpb24gSnNvbkVuY29kaW5nRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICBKc29uRXhjZXB0aW9uLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ0pzb25FbmNvZGluZ0V4Y2VwdGlvbic7XG4gIH1cbiAgSnNvbkVuY29kaW5nRXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25FbmNvZGluZ0V4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtKc29uRXhjZXB0aW9uXX07XG4gIGZ1bmN0aW9uIEpzb25JbnB1dCgpIHtcbiAgfVxuICBKc29uSW5wdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0lOVEVSRkFDRSwgc2ltcGxlTmFtZTogJ0pzb25JbnB1dCcsIGludGVyZmFjZXM6IFtDb21wb3NpdGVEZWNvZGVyLCBEZWNvZGVyXX07XG4gIGZ1bmN0aW9uIEpzb25PdXRwdXQoKSB7XG4gIH1cbiAgSnNvbk91dHB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfSU5URVJGQUNFLCBzaW1wbGVOYW1lOiAnSnNvbk91dHB1dCcsIGludGVyZmFjZXM6IFtDb21wb3NpdGVFbmNvZGVyLCBFbmNvZGVyXX07XG4gIGZ1bmN0aW9uIEpzb25QYXJzZXIocmVhZGVyKSB7XG4gICAgdGhpcy5yZWFkZXJfMCA9IHJlYWRlcjtcbiAgfVxuICBKc29uUGFyc2VyLnByb3RvdHlwZS5yZWFkT2JqZWN0XzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gdGhpcy5yZWFkZXJfMDtcbiAgICBpZiAoJHRoaXMudG9rZW5DbGFzcyAhPT0gVENfQkVHSU5fT0JKKSB7XG4gICAgICB0b0JveGVkQ2hhcih0b0NoYXIoJHRoaXMudG9rZW5DbGFzcykpO1xuICAgICAgJHRoaXMuZmFpbF9ibTRseHMkKCdFeHBlY3RlZCBzdGFydCBvZiB0aGUgb2JqZWN0JywgJHRoaXMudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICB9XG4gICAgdGhpcy5yZWFkZXJfMC5uZXh0VG9rZW4oKTtcbiAgICB2YXIgJHRoaXNfMCA9IHRoaXMucmVhZGVyXzA7XG4gICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMucmVhZGVyXzAudG9rZW5DbGFzcyAhPT0gVENfQ09NTUE7XG4gICAgdmFyIHBvc2l0aW9uID0gdGhpcy5yZWFkZXJfMC5jdXJyZW50UG9zaXRpb247XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICR0aGlzXzAuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIGxlYWRpbmcgY29tbWEnLCBwb3NpdGlvbik7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgICB2YXIgdmFsdWVFeHBlY3RlZCA9IGZhbHNlO1xuICAgIHdoaWxlICh0aGlzLnJlYWRlcl8wLmNhbkJlZ2luVmFsdWUpIHtcbiAgICAgIHZhbHVlRXhwZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHZhciBrZXkgPSB0aGlzLnJlYWRlcl8wLnRha2VTdHJpbmcoKTtcbiAgICAgIHZhciAkdGhpc18xID0gdGhpcy5yZWFkZXJfMDtcbiAgICAgIGlmICgkdGhpc18xLnRva2VuQ2xhc3MgIT09IFRDX0NPTE9OKSB7XG4gICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpc18xLnRva2VuQ2xhc3MpKTtcbiAgICAgICAgJHRoaXNfMS5mYWlsX2JtNGx4cyQoXCJFeHBlY3RlZCAnOidcIiwgJHRoaXNfMS50b2tlblBvc2l0aW9uXzApO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFkZXJfMC5uZXh0VG9rZW4oKTtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5yZWFkKCk7XG4gICAgICByZXN1bHQucHV0X3h3emM5cCQoa2V5LCBlbGVtZW50KTtcbiAgICAgIGlmICh0aGlzLnJlYWRlcl8wLnRva2VuQ2xhc3MgIT09IFRDX0NPTU1BKSB7XG4gICAgICAgIHZhciAkdGhpc18yID0gdGhpcy5yZWFkZXJfMDtcbiAgICAgICAgaWYgKCR0aGlzXzIudG9rZW5DbGFzcyAhPT0gVENfRU5EX09CSikge1xuICAgICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpc18yLnRva2VuQ2xhc3MpKTtcbiAgICAgICAgICAkdGhpc18yLmZhaWxfYm00bHhzJCgnRXhwZWN0ZWQgZW5kIG9mIHRoZSBvYmplY3Qgb3IgY29tbWEnLCAkdGhpc18yLnRva2VuUG9zaXRpb25fMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdmFsdWVFeHBlY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVhZGVyXzAubmV4dFRva2VuKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciAkdGhpc18zID0gdGhpcy5yZWFkZXJfMDtcbiAgICB2YXIgY29uZGl0aW9uXzAgPSAhdmFsdWVFeHBlY3RlZCAmJiB0aGlzLnJlYWRlcl8wLnRva2VuQ2xhc3MgPT09IFRDX0VORF9PQko7XG4gICAgdmFyIHBvc2l0aW9uXzAgPSB0aGlzLnJlYWRlcl8wLmN1cnJlbnRQb3NpdGlvbjtcbiAgICBpZiAoIWNvbmRpdGlvbl8wKSB7XG4gICAgICAkdGhpc18zLmZhaWxfYm00bHhzJCgnRXhwZWN0ZWQgZW5kIG9mIHRoZSBvYmplY3QnLCBwb3NpdGlvbl8wKTtcbiAgICB9XG4gICAgdGhpcy5yZWFkZXJfMC5uZXh0VG9rZW4oKTtcbiAgICByZXR1cm4gbmV3IEpzb25PYmplY3QocmVzdWx0KTtcbiAgfTtcbiAgSnNvblBhcnNlci5wcm90b3R5cGUucmVhZFZhbHVlXzAgPSBmdW5jdGlvbiAoaXNTdHJpbmcpIHtcbiAgICB2YXIgc3RyID0gdGhpcy5yZWFkZXJfMC50YWtlU3RyaW5nKCk7XG4gICAgcmV0dXJuIG5ldyBKc29uTGl0ZXJhbChzdHIsIGlzU3RyaW5nKTtcbiAgfTtcbiAgSnNvblBhcnNlci5wcm90b3R5cGUucmVhZEFycmF5XzAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gdGhpcy5yZWFkZXJfMDtcbiAgICBpZiAoJHRoaXMudG9rZW5DbGFzcyAhPT0gVENfQkVHSU5fTElTVCkge1xuICAgICAgdG9Cb3hlZENoYXIodG9DaGFyKCR0aGlzLnRva2VuQ2xhc3MpKTtcbiAgICAgICR0aGlzLmZhaWxfYm00bHhzJCgnRXhwZWN0ZWQgc3RhcnQgb2YgdGhlIGFycmF5JywgJHRoaXMudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICB9XG4gICAgdGhpcy5yZWFkZXJfMC5uZXh0VG9rZW4oKTtcbiAgICB2YXIgJHRoaXNfMCA9IHRoaXMucmVhZGVyXzA7XG4gICAgdmFyIGNvbmRpdGlvbiA9IHRoaXMucmVhZGVyXzAudG9rZW5DbGFzcyAhPT0gVENfQ09NTUE7XG4gICAgdmFyIHBvc2l0aW9uID0gdGhpcy5yZWFkZXJfMC5jdXJyZW50UG9zaXRpb247XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICR0aGlzXzAuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIGxlYWRpbmcgY29tbWEnLCBwb3NpdGlvbik7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBBcnJheUxpc3RfaW5pdF8wKCk7XG4gICAgdmFyIHZhbHVlRXhwZWN0ZWQgPSBmYWxzZTtcbiAgICB3aGlsZSAodGhpcy5yZWFkZXJfMC5jYW5CZWdpblZhbHVlKSB7XG4gICAgICB2YWx1ZUV4cGVjdGVkID0gZmFsc2U7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMucmVhZCgpO1xuICAgICAgcmVzdWx0LmFkZF8xMXJiJChlbGVtZW50KTtcbiAgICAgIGlmICh0aGlzLnJlYWRlcl8wLnRva2VuQ2xhc3MgIT09IFRDX0NPTU1BKSB7XG4gICAgICAgIHZhciAkdGhpc18xID0gdGhpcy5yZWFkZXJfMDtcbiAgICAgICAgaWYgKCR0aGlzXzEudG9rZW5DbGFzcyAhPT0gVENfRU5EX0xJU1QpIHtcbiAgICAgICAgICB0b0JveGVkQ2hhcih0b0NoYXIoJHRoaXNfMS50b2tlbkNsYXNzKSk7XG4gICAgICAgICAgJHRoaXNfMS5mYWlsX2JtNGx4cyQoJ0V4cGVjdGVkIGVuZCBvZiB0aGUgYXJyYXkgb3IgY29tbWEnLCAkdGhpc18xLnRva2VuUG9zaXRpb25fMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdmFsdWVFeHBlY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVhZGVyXzAubmV4dFRva2VuKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciAkdGhpc18yID0gdGhpcy5yZWFkZXJfMDtcbiAgICB2YXIgY29uZGl0aW9uXzAgPSAhdmFsdWVFeHBlY3RlZDtcbiAgICB2YXIgcG9zaXRpb25fMCA9IHRoaXMucmVhZGVyXzAuY3VycmVudFBvc2l0aW9uO1xuICAgIGlmICghY29uZGl0aW9uXzApIHtcbiAgICAgICR0aGlzXzIuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIHRyYWlsaW5nIGNvbW1hJywgcG9zaXRpb25fMCk7XG4gICAgfVxuICAgIHRoaXMucmVhZGVyXzAubmV4dFRva2VuKCk7XG4gICAgcmV0dXJuIG5ldyBKc29uQXJyYXkocmVzdWx0KTtcbiAgfTtcbiAgSnNvblBhcnNlci5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAoIXRoaXMucmVhZGVyXzAuY2FuQmVnaW5WYWx1ZSlcbiAgICAgIHRoaXMucmVhZGVyXzAuZmFpbF9ibTRseHMkKFwiQ2FuJ3QgYmVnaW4gcmVhZGluZyB2YWx1ZSBmcm9tIGhlcmVcIik7XG4gICAgc3dpdGNoICh0aGlzLnJlYWRlcl8wLnRva2VuQ2xhc3MpIHtcbiAgICAgIGNhc2UgMTA6XG4gICAgICAgIHZhciAkcmVjZWl2ZXIgPSBKc29uTnVsbF9nZXRJbnN0YW5jZSgpO1xuICAgICAgICB0aGlzLnJlYWRlcl8wLm5leHRUb2tlbigpO1xuICAgICAgICB0bXAkID0gJHJlY2VpdmVyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgdG1wJCA9IHRoaXMucmVhZFZhbHVlXzAodHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAwOlxuICAgICAgICB0bXAkID0gdGhpcy5yZWFkVmFsdWVfMChmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2OlxuICAgICAgICB0bXAkID0gdGhpcy5yZWFkT2JqZWN0XzAoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDg6XG4gICAgICAgIHRtcCQgPSB0aGlzLnJlYWRBcnJheV8wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDp0bXAkID0gdGhpcy5yZWFkZXJfMC5mYWlsX2JtNGx4cyQoXCJDYW4ndCBiZWdpbiByZWFkaW5nIGVsZW1lbnQsIHVuZXhwZWN0ZWQgdG9rZW5cIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgSnNvblBhcnNlci4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uUGFyc2VyJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgTlVMTDtcbiAgdmFyIENPTU1BO1xuICB2YXIgQ09MT047XG4gIHZhciBCRUdJTl9PQko7XG4gIHZhciBFTkRfT0JKO1xuICB2YXIgQkVHSU5fTElTVDtcbiAgdmFyIEVORF9MSVNUO1xuICB2YXIgU1RSSU5HO1xuICB2YXIgU1RSSU5HX0VTQztcbiAgdmFyIElOVkFMSUQ7XG4gIHZhciBVTklDT0RFX0VTQztcbiAgdmFyIFRDX09USEVSO1xuICB2YXIgVENfU1RSSU5HO1xuICB2YXIgVENfU1RSSU5HX0VTQztcbiAgdmFyIFRDX1dTO1xuICB2YXIgVENfQ09NTUE7XG4gIHZhciBUQ19DT0xPTjtcbiAgdmFyIFRDX0JFR0lOX09CSjtcbiAgdmFyIFRDX0VORF9PQko7XG4gIHZhciBUQ19CRUdJTl9MSVNUO1xuICB2YXIgVENfRU5EX0xJU1Q7XG4gIHZhciBUQ19OVUxMO1xuICB2YXIgVENfSU5WQUxJRDtcbiAgdmFyIFRDX0VPRjtcbiAgdmFyIENUQ19NQVg7XG4gIHZhciBFU0MyQ19NQVg7XG4gIHZhciBDMlRDO1xuICBmdW5jdGlvbiBFc2NhcGVDaGFyTWFwcGluZ3MoKSB7XG4gICAgRXNjYXBlQ2hhck1hcHBpbmdzX2luc3RhbmNlID0gdGhpcztcbiAgICB0aGlzLkVTQ0FQRV8yX0NIQVIgPSBLb3RsaW4uY2hhckFycmF5KDExNyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gMzE7IGkrKykge1xuICAgICAgdGhpcy5pbml0QzJFU0NfMChpLCBVTklDT0RFX0VTQyk7XG4gICAgfVxuICAgIHRoaXMuaW5pdEMyRVNDXzAoOCwgOTgpO1xuICAgIHRoaXMuaW5pdEMyRVNDXzAoOSwgMTE2KTtcbiAgICB0aGlzLmluaXRDMkVTQ18wKDEwLCAxMTApO1xuICAgIHRoaXMuaW5pdEMyRVNDXzAoMTIsIDEwMik7XG4gICAgdGhpcy5pbml0QzJFU0NfMCgxMywgMTE0KTtcbiAgICB0aGlzLmluaXRDMkVTQ18xKDQ3LCA0Nyk7XG4gICAgdGhpcy5pbml0QzJFU0NfMShTVFJJTkcsIFNUUklORyk7XG4gICAgdGhpcy5pbml0QzJFU0NfMShTVFJJTkdfRVNDLCBTVFJJTkdfRVNDKTtcbiAgfVxuICBFc2NhcGVDaGFyTWFwcGluZ3MucHJvdG90eXBlLmluaXRDMkVTQ18wID0gZnVuY3Rpb24gKGMsIGVzYykge1xuICAgIGlmIChlc2MgIT09IFVOSUNPREVfRVNDKVxuICAgICAgdGhpcy5FU0NBUEVfMl9DSEFSW2VzYyB8IDBdID0gdG9DaGFyKGMpO1xuICB9O1xuICBFc2NhcGVDaGFyTWFwcGluZ3MucHJvdG90eXBlLmluaXRDMkVTQ18xID0gZnVuY3Rpb24gKGMsIGVzYykge1xuICAgIHRoaXMuaW5pdEMyRVNDXzAoYyB8IDAsIGVzYyk7XG4gIH07XG4gIEVzY2FwZUNoYXJNYXBwaW5ncy4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfT0JKRUNULCBzaW1wbGVOYW1lOiAnRXNjYXBlQ2hhck1hcHBpbmdzJywgaW50ZXJmYWNlczogW119O1xuICB2YXIgRXNjYXBlQ2hhck1hcHBpbmdzX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gRXNjYXBlQ2hhck1hcHBpbmdzX2dldEluc3RhbmNlKCkge1xuICAgIGlmIChFc2NhcGVDaGFyTWFwcGluZ3NfaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgIG5ldyBFc2NhcGVDaGFyTWFwcGluZ3MoKTtcbiAgICB9XG4gICAgcmV0dXJuIEVzY2FwZUNoYXJNYXBwaW5nc19pbnN0YW5jZTtcbiAgfVxuICBmdW5jdGlvbiBpbml0QzJUQygkcmVjZWl2ZXIsIGMsIGNsKSB7XG4gICAgJHJlY2VpdmVyW2NdID0gY2w7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdEMyVENfMCgkcmVjZWl2ZXIsIGMsIGNsKSB7XG4gICAgaW5pdEMyVEMoJHJlY2VpdmVyLCBjIHwgMCwgY2wpO1xuICB9XG4gIGZ1bmN0aW9uIGNoYXJUb1Rva2VuQ2xhc3MoYykge1xuICAgIHJldHVybiAoYyB8IDApIDwgMTI2ID8gQzJUQ1tjIHwgMF0gOiBUQ19PVEhFUjtcbiAgfVxuICBmdW5jdGlvbiBlc2NhcGVUb0NoYXIoYykge1xuICAgIHJldHVybiB1bmJveENoYXIoYyA8IDExNyA/IEVzY2FwZUNoYXJNYXBwaW5nc19nZXRJbnN0YW5jZSgpLkVTQ0FQRV8yX0NIQVJbY10gOiBJTlZBTElEKTtcbiAgfVxuICBmdW5jdGlvbiBKc29uUmVhZGVyKHNvdXJjZSkge1xuICAgIHRoaXMuc291cmNlXzAgPSBzb3VyY2U7XG4gICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSAwO1xuICAgIHRoaXMudG9rZW5DbGFzcyA9IFRDX0VPRjtcbiAgICB0aGlzLnRva2VuUG9zaXRpb25fMCA9IDA7XG4gICAgdGhpcy5vZmZzZXRfMCA9IC0xO1xuICAgIHRoaXMubGVuZ3RoXzAgPSAwO1xuICAgIHRoaXMuYnVmXzAgPSBLb3RsaW4uY2hhckFycmF5KDE2KTtcbiAgICB0aGlzLm5leHRUb2tlbigpO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uUmVhZGVyLnByb3RvdHlwZSwgJ2lzRG9uZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50b2tlbkNsYXNzID09PSBUQ19FT0Y7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25SZWFkZXIucHJvdG90eXBlLCAnY2FuQmVnaW5WYWx1ZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBzd2l0Y2ggKHRoaXMudG9rZW5DbGFzcykge1xuICAgICAgY2FzZSA4OlxuICAgICAgY2FzZSA2OlxuICAgICAgY2FzZSAwOlxuICAgICAgY2FzZSAxOlxuICAgICAgY2FzZSAxMDpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OnJldHVybiBmYWxzZTtcbiAgICB9XG4gIH19KTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUucmVxdWlyZVRva2VuQ2xhc3NfbXZmbmYzJCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uaW50ZXJuYWwuSnNvblJlYWRlci5yZXF1aXJlVG9rZW5DbGFzc19tdmZuZjMkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG9DaGFyID0gS290bGluLnRvQ2hhcjtcbiAgICB2YXIgdG9Cb3hlZENoYXIgPSBLb3RsaW4udG9Cb3hlZENoYXI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChleHBlY3RlZCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICBpZiAodGhpcy50b2tlbkNsYXNzICE9PSBleHBlY3RlZClcbiAgICAgICAgdGhpcy5mYWlsX2JtNGx4cyQoZXJyb3JNZXNzYWdlKHRvQm94ZWRDaGFyKHRvQ2hhcih0aGlzLnRva2VuQ2xhc3MpKSksIHRoaXMudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICB9O1xuICB9KSk7XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLnRha2VTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudG9rZW5DbGFzcyAhPT0gVENfT1RIRVIgJiYgdGhpcy50b2tlbkNsYXNzICE9PSBUQ19TVFJJTkcpXG4gICAgICB0aGlzLmZhaWxfYm00bHhzJCgnRXhwZWN0ZWQgc3RyaW5nIG9yIG5vbi1udWxsIGxpdGVyYWwnLCB0aGlzLnRva2VuUG9zaXRpb25fMCk7XG4gICAgdmFyIHRtcCQ7XG4gICAgaWYgKHRoaXMub2Zmc2V0XzAgPCAwKVxuICAgICAgdG1wJCA9IFN0cmluZ18wKHRoaXMuYnVmXzAsIDAsIHRoaXMubGVuZ3RoXzApO1xuICAgIGVsc2Uge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuc291cmNlXzA7XG4gICAgICB2YXIgc3RhcnRJbmRleCA9IHRoaXMub2Zmc2V0XzA7XG4gICAgICB2YXIgZW5kSW5kZXggPSB0aGlzLm9mZnNldF8wICsgdGhpcy5sZW5ndGhfMCB8IDA7XG4gICAgICB0bXAkID0gJHJlY2VpdmVyLnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgfVxuICAgIHZhciBwcmV2U3RyID0gdG1wJDtcbiAgICB0aGlzLm5leHRUb2tlbigpO1xuICAgIHJldHVybiBwcmV2U3RyO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5hcHBlbmRfMCA9IGZ1bmN0aW9uIChjaCkge1xuICAgIHZhciB0bXAkO1xuICAgIGlmICh0aGlzLmxlbmd0aF8wID49IHRoaXMuYnVmXzAubGVuZ3RoKVxuICAgICAgdGhpcy5idWZfMCA9IGNvcHlPZl8wKHRoaXMuYnVmXzAsIDIgKiB0aGlzLmJ1Zl8wLmxlbmd0aCB8IDApO1xuICAgIHRoaXMuYnVmXzBbdG1wJCA9IHRoaXMubGVuZ3RoXzAsIHRoaXMubGVuZ3RoXzAgPSB0bXAkICsgMSB8IDAsIHRtcCRdID0gY2g7XG4gIH07XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLmFwcGVuZFJhbmdlXzAgPSBmdW5jdGlvbiAoc291cmNlLCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgICB2YXIgYWRkTGVuID0gdG9JbmRleCAtIGZyb21JbmRleCB8IDA7XG4gICAgdmFyIG9sZExlbiA9IHRoaXMubGVuZ3RoXzA7XG4gICAgdmFyIG5ld0xlbiA9IG9sZExlbiArIGFkZExlbiB8IDA7XG4gICAgaWYgKG5ld0xlbiA+IHRoaXMuYnVmXzAubGVuZ3RoKVxuICAgICAgdGhpcy5idWZfMCA9IGNvcHlPZl8wKHRoaXMuYnVmXzAsIGNvZXJjZUF0TGVhc3QobmV3TGVuLCAyICogdGhpcy5idWZfMC5sZW5ndGggfCAwKSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZGRMZW47IGkrKylcbiAgICAgIHRoaXMuYnVmXzBbb2xkTGVuICsgaSB8IDBdID0gc291cmNlLmNoYXJDb2RlQXQoZnJvbUluZGV4ICsgaSB8IDApO1xuICAgIHRoaXMubGVuZ3RoXzAgPSB0aGlzLmxlbmd0aF8wICsgYWRkTGVuIHwgMDtcbiAgfTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUubmV4dFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZV8wO1xuICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRQb3NpdGlvbjtcbiAgICB3aGlsZSAoY3VycmVudFBvc2l0aW9uIDwgc291cmNlLmxlbmd0aCkge1xuICAgICAgdmFyIGNoID0gc291cmNlLmNoYXJDb2RlQXQoY3VycmVudFBvc2l0aW9uKTtcbiAgICAgIHZhciB0YyA9IGNoYXJUb1Rva2VuQ2xhc3MoY2gpO1xuICAgICAgc3dpdGNoICh0Yykge1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY3VycmVudFBvc2l0aW9uID0gY3VycmVudFBvc2l0aW9uICsgMSB8IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICB0aGlzLm5leHRMaXRlcmFsXzAoc291cmNlLCBjdXJyZW50UG9zaXRpb24pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRoaXMubmV4dFN0cmluZ18wKHNvdXJjZSwgY3VycmVudFBvc2l0aW9uKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRlZmF1bHQ6dGhpcy50b2tlblBvc2l0aW9uXzAgPSBjdXJyZW50UG9zaXRpb247XG4gICAgICAgICAgdGhpcy50b2tlbkNsYXNzID0gdGM7XG4gICAgICAgICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb24gKyAxIHwgMDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudG9rZW5Qb3NpdGlvbl8wID0gY3VycmVudFBvc2l0aW9uO1xuICAgIHRoaXMudG9rZW5DbGFzcyA9IFRDX0VPRjtcbiAgfTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUubmV4dExpdGVyYWxfMCA9IGZ1bmN0aW9uIChzb3VyY2UsIHN0YXJ0UG9zKSB7XG4gICAgdGhpcy50b2tlblBvc2l0aW9uXzAgPSBzdGFydFBvcztcbiAgICB0aGlzLm9mZnNldF8wID0gc3RhcnRQb3M7XG4gICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHN0YXJ0UG9zO1xuICAgIHdoaWxlIChjdXJyZW50UG9zaXRpb24gPCBzb3VyY2UubGVuZ3RoICYmIGNoYXJUb1Rva2VuQ2xhc3Moc291cmNlLmNoYXJDb2RlQXQoY3VycmVudFBvc2l0aW9uKSkgPT09IFRDX09USEVSKSB7XG4gICAgICBjdXJyZW50UG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb24gKyAxIHwgMDtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb247XG4gICAgdGhpcy5sZW5ndGhfMCA9IGN1cnJlbnRQb3NpdGlvbiAtIHRoaXMub2Zmc2V0XzAgfCAwO1xuICAgIHRoaXMudG9rZW5DbGFzcyA9IHJhbmdlRXF1YWxzKHNvdXJjZSwgdGhpcy5vZmZzZXRfMCwgdGhpcy5sZW5ndGhfMCwgTlVMTCkgPyBUQ19OVUxMIDogVENfT1RIRVI7XG4gIH07XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLm5leHRTdHJpbmdfMCA9IGZ1bmN0aW9uIChzb3VyY2UsIHN0YXJ0UG9zaXRpb24pIHtcbiAgICB0aGlzLnRva2VuUG9zaXRpb25fMCA9IHN0YXJ0UG9zaXRpb247XG4gICAgdGhpcy5sZW5ndGhfMCA9IDA7XG4gICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IHN0YXJ0UG9zaXRpb24gKyAxIHwgMDtcbiAgICB2YXIgbGFzdFBvc2l0aW9uID0gY3VycmVudFBvc2l0aW9uO1xuICAgIHZhciBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuICAgIHdoaWxlIChzb3VyY2UuY2hhckNvZGVBdChjdXJyZW50UG9zaXRpb24pICE9PSBTVFJJTkcpIHtcbiAgICAgIGlmIChjdXJyZW50UG9zaXRpb24gPj0gbGVuZ3RoKVxuICAgICAgICB0aGlzLmZhaWxfYm00bHhzJCgnVW5leHBlY3RlZCBFT0YnLCBjdXJyZW50UG9zaXRpb24pO1xuICAgICAgaWYgKHNvdXJjZS5jaGFyQ29kZUF0KGN1cnJlbnRQb3NpdGlvbikgPT09IFNUUklOR19FU0MpIHtcbiAgICAgICAgdGhpcy5hcHBlbmRSYW5nZV8wKHNvdXJjZSwgbGFzdFBvc2l0aW9uLCBjdXJyZW50UG9zaXRpb24pO1xuICAgICAgICB2YXIgbmV3UG9zaXRpb24gPSB0aGlzLmFwcGVuZEVzY18wKHNvdXJjZSwgY3VycmVudFBvc2l0aW9uICsgMSB8IDApO1xuICAgICAgICBjdXJyZW50UG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcbiAgICAgICAgbGFzdFBvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IGN1cnJlbnRQb3NpdGlvbiArIDEgfCAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGFzdFBvc2l0aW9uID09PSAoc3RhcnRQb3NpdGlvbiArIDEgfCAwKSkge1xuICAgICAgdGhpcy5vZmZzZXRfMCA9IGxhc3RQb3NpdGlvbjtcbiAgICAgIHRoaXMubGVuZ3RoXzAgPSBjdXJyZW50UG9zaXRpb24gLSBsYXN0UG9zaXRpb24gfCAwO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0aGlzLmFwcGVuZFJhbmdlXzAoc291cmNlLCBsYXN0UG9zaXRpb24sIGN1cnJlbnRQb3NpdGlvbik7XG4gICAgICB0aGlzLm9mZnNldF8wID0gLTE7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gY3VycmVudFBvc2l0aW9uICsgMSB8IDA7XG4gICAgdGhpcy50b2tlbkNsYXNzID0gVENfU1RSSU5HO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5hcHBlbmRFc2NfMCA9IGZ1bmN0aW9uIChzb3VyY2UsIHN0YXJ0UG9zaXRpb24pIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgY3VycmVudFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICB2YXIgY29uZGl0aW9uID0gY3VycmVudFBvc2l0aW9uIDwgc291cmNlLmxlbmd0aDtcbiAgICB2YXIgcG9zaXRpb24gPSBjdXJyZW50UG9zaXRpb247XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHRoaXMuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIEVPRiBhZnRlciBlc2NhcGUgY2hhcmFjdGVyJywgcG9zaXRpb24pO1xuICAgIH1cbiAgICB2YXIgY3VycmVudENoYXIgPSBzb3VyY2UuY2hhckNvZGVBdCgodG1wJCA9IGN1cnJlbnRQb3NpdGlvbiwgY3VycmVudFBvc2l0aW9uID0gdG1wJCArIDEgfCAwLCB0bXAkKSk7XG4gICAgaWYgKGN1cnJlbnRDaGFyID09PSBVTklDT0RFX0VTQykge1xuICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kSGV4XzAoc291cmNlLCBjdXJyZW50UG9zaXRpb24pO1xuICAgIH1cbiAgICB2YXIgYyA9IGVzY2FwZVRvQ2hhcihjdXJyZW50Q2hhciB8IDApO1xuICAgIHZhciBjb25kaXRpb25fMCA9IGMgIT09IElOVkFMSUQ7XG4gICAgdmFyIHBvc2l0aW9uXzAgPSBjdXJyZW50UG9zaXRpb247XG4gICAgaWYgKCFjb25kaXRpb25fMCkge1xuICAgICAgdGhpcy5mYWlsX2JtNGx4cyQoXCJJbnZhbGlkIGVzY2FwZWQgY2hhciAnXCIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGN1cnJlbnRDaGFyKSArIFwiJ1wiLCBwb3NpdGlvbl8wKTtcbiAgICB9XG4gICAgdGhpcy5hcHBlbmRfMChjKTtcbiAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5hcHBlbmRIZXhfMCA9IGZ1bmN0aW9uIChzb3VyY2UsIHN0YXJ0UG9zKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMCwgdG1wJF8xLCB0bXAkXzI7XG4gICAgdmFyIGN1clBvcyA9IHN0YXJ0UG9zO1xuICAgIHRoaXMuYXBwZW5kXzAodG9DaGFyKCh0aGlzLmZyb21IZXhDaGFyXzAoc291cmNlLCAodG1wJCA9IGN1clBvcywgY3VyUG9zID0gdG1wJCArIDEgfCAwLCB0bXAkKSkgPDwgMTIpICsgKHRoaXMuZnJvbUhleENoYXJfMChzb3VyY2UsICh0bXAkXzAgPSBjdXJQb3MsIGN1clBvcyA9IHRtcCRfMCArIDEgfCAwLCB0bXAkXzApKSA8PCA4KSArICh0aGlzLmZyb21IZXhDaGFyXzAoc291cmNlLCAodG1wJF8xID0gY3VyUG9zLCBjdXJQb3MgPSB0bXAkXzEgKyAxIHwgMCwgdG1wJF8xKSkgPDwgNCkgKyB0aGlzLmZyb21IZXhDaGFyXzAoc291cmNlLCAodG1wJF8yID0gY3VyUG9zLCBjdXJQb3MgPSB0bXAkXzIgKyAxIHwgMCwgdG1wJF8yKSkgfCAwKSk7XG4gICAgcmV0dXJuIGN1clBvcztcbiAgfTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUuc2tpcEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudG9rZW5DbGFzcyAhPT0gVENfQkVHSU5fT0JKICYmIHRoaXMudG9rZW5DbGFzcyAhPT0gVENfQkVHSU5fTElTVCkge1xuICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRva2VuU3RhY2sgPSBBcnJheUxpc3RfaW5pdF8wKCk7XG4gICAgZG8ge1xuICAgICAgc3dpdGNoICh0aGlzLnRva2VuQ2xhc3MpIHtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgdG9rZW5TdGFjay5hZGRfMTFyYiQodGhpcy50b2tlbkNsYXNzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIGlmIChsYXN0KHRva2VuU3RhY2spICE9PSBUQ19CRUdJTl9MSVNUKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEpzb25EZWNvZGluZ0V4Y2VwdGlvbih0aGlzLmN1cnJlbnRQb3NpdGlvbiwgJ2ZvdW5kIF0gaW5zdGVhZCBvZiB9Jyk7XG4gICAgICAgICAgdG9rZW5TdGFjay5yZW1vdmVBdF96YTNscGEkKHRva2VuU3RhY2suc2l6ZSAtIDEgfCAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIGlmIChsYXN0KHRva2VuU3RhY2spICE9PSBUQ19CRUdJTl9PQkopXG4gICAgICAgICAgICB0aHJvdyBuZXcgSnNvbkRlY29kaW5nRXhjZXB0aW9uKHRoaXMuY3VycmVudFBvc2l0aW9uLCAnZm91bmQgfSBpbnN0ZWFkIG9mIF0nKTtcbiAgICAgICAgICB0b2tlblN0YWNrLnJlbW92ZUF0X3phM2xwYSQodG9rZW5TdGFjay5zaXplIC0gMSB8IDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcbiAgICAgIHZhciBpc05vdEVtcHR5JHJlc3VsdDtcbiAgICAgIGlzTm90RW1wdHkkcmVzdWx0ID0gIXRva2VuU3RhY2suaXNFbXB0eSgpO1xuICAgIH1cbiAgICAgd2hpbGUgKGlzTm90RW1wdHkkcmVzdWx0KTtcbiAgfTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiSnNvblJlYWRlcihzb3VyY2U9J1wiICsgdGhpcy5zb3VyY2VfMCArIFwiJywgY3VycmVudFBvc2l0aW9uPVwiICsgdGhpcy5jdXJyZW50UG9zaXRpb24gKyAnLCB0b2tlbkNsYXNzPScgKyB0aGlzLnRva2VuQ2xhc3MgKyAnLCB0b2tlblBvc2l0aW9uPScgKyB0aGlzLnRva2VuUG9zaXRpb25fMCArICcsIG9mZnNldD0nICsgdGhpcy5vZmZzZXRfMCArICcpJztcbiAgfTtcbiAgSnNvblJlYWRlci5wcm90b3R5cGUuZmFpbF9ibTRseHMkID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHBvc2l0aW9uKSB7XG4gICAgaWYgKHBvc2l0aW9uID09PSB2b2lkIDApXG4gICAgICBwb3NpdGlvbiA9IHRoaXMuY3VycmVudFBvc2l0aW9uO1xuICAgIHRocm93IG5ldyBKc29uRGVjb2RpbmdFeGNlcHRpb24ocG9zaXRpb24sIG1lc3NhZ2UpO1xuICB9O1xuICBKc29uUmVhZGVyLnByb3RvdHlwZS5yZXF1aXJlX3dxbjJkcyQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5qc29uLmludGVybmFsLkpzb25SZWFkZXIucmVxdWlyZV93cW4yZHMkJywgZnVuY3Rpb24gKGNvbmRpdGlvbiwgcG9zaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAocG9zaXRpb24gPT09IHZvaWQgMClcbiAgICAgIHBvc2l0aW9uID0gdGhpcy5jdXJyZW50UG9zaXRpb247XG4gICAgaWYgKCFjb25kaXRpb24pXG4gICAgICB0aGlzLmZhaWxfYm00bHhzJChtZXNzYWdlKCksIHBvc2l0aW9uKTtcbiAgfSk7XG4gIEpzb25SZWFkZXIucHJvdG90eXBlLmZyb21IZXhDaGFyXzAgPSBmdW5jdGlvbiAoc291cmNlLCBjdXJyZW50UG9zaXRpb24pIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAoIShjdXJyZW50UG9zaXRpb24gPCBzb3VyY2UubGVuZ3RoKSkge1xuICAgICAgdGhpcy5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgRU9GIGR1cmluZyB1bmljb2RlIGVzY2FwZScsIGN1cnJlbnRQb3NpdGlvbik7XG4gICAgfVxuICAgIHZhciBjdXJDaGFyID0gc291cmNlLmNoYXJDb2RlQXQoY3VycmVudFBvc2l0aW9uKTtcbiAgICBpZiAoKG5ldyBDaGFyUmFuZ2UoNDgsIDU3KSkuY29udGFpbnNfbWVmN2t4JChjdXJDaGFyKSlcbiAgICAgIHRtcCQgPSAoY3VyQ2hhciB8IDApIC0gNDggfCAwO1xuICAgIGVsc2UgaWYgKChuZXcgQ2hhclJhbmdlKDk3LCAxMDIpKS5jb250YWluc19tZWY3a3gkKGN1ckNoYXIpKVxuICAgICAgdG1wJCA9IChjdXJDaGFyIHwgMCkgLSA5NyArIDEwIHwgMDtcbiAgICBlbHNlIGlmICgobmV3IENoYXJSYW5nZSg2NSwgNzApKS5jb250YWluc19tZWY3a3gkKGN1ckNoYXIpKVxuICAgICAgdG1wJCA9IChjdXJDaGFyIHwgMCkgLSA2NSArIDEwIHwgMDtcbiAgICBlbHNlXG4gICAgICB0bXAkID0gdGhpcy5mYWlsX2JtNGx4cyQoXCJJbnZhbGlkIHRvSGV4Q2hhciBjaGFyICdcIiArIFN0cmluZy5mcm9tQ2hhckNvZGUoY3VyQ2hhcikgKyBcIicgaW4gdW5pY29kZSBlc2NhcGVcIik7XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIEpzb25SZWFkZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvblJlYWRlcicsIGludGVyZmFjZXM6IFtdfTtcbiAgZnVuY3Rpb24gcmFuZ2VFcXVhbHMoc291cmNlLCBzdGFydCwgbGVuZ3RoLCBzdHIpIHtcbiAgICB2YXIgbiA9IHN0ci5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gbilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKylcbiAgICAgIGlmIChzb3VyY2UuY2hhckNvZGVBdChzdGFydCArIGkgfCAwKSAhPT0gc3RyLmNoYXJDb2RlQXQoaSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0tpbmQoa2luZCkge1xuICAgIGlmIChLb3RsaW4uaXNUeXBlKGtpbmQsIFVuaW9uS2luZCRFTlVNX0tJTkQpKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdChcIkVudW1zIGNhbm5vdCBiZSBzZXJpYWxpemVkIHBvbHltb3JwaGljYWxseSB3aXRoICd0eXBlJyBwYXJhbWV0ZXIuIFlvdSBjYW4gdXNlICdKc29uQ29uZmlndXJhdGlvbi51c2VBcnJheVBvbHltb3JwaGlzbScgaW5zdGVhZFwiLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBpZiAoS290bGluLmlzVHlwZShraW5kLCBQcmltaXRpdmVLaW5kKSkge1xuICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQoXCJQcmltaXRpdmVzIGNhbm5vdCBiZSBzZXJpYWxpemVkIHBvbHltb3JwaGljYWxseSB3aXRoICd0eXBlJyBwYXJhbWV0ZXIuIFlvdSBjYW4gdXNlICdKc29uQ29uZmlndXJhdGlvbi51c2VBcnJheVBvbHltb3JwaGlzbScgaW5zdGVhZFwiLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBpZiAoS290bGluLmlzVHlwZShraW5kLCBVbmlvbktpbmQkUE9MWU1PUlBISUMpKSB7XG4gICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdCgnQWN0dWFsIHNlcmlhbGl6ZXIgZm9yIHBvbHltb3JwaGljIGNhbm5vdCBiZSBwb2x5bW9ycGhpYyBpdHNlbGYnLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkZWNvZGVTZXJpYWxpemFibGVWYWx1ZVBvbHltb3JwaGljKCRyZWNlaXZlciwgZGVzZXJpYWxpemVyKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICBpZiAoIUtvdGxpbi5pc1R5cGUoZGVzZXJpYWxpemVyLCBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIpIHx8ICRyZWNlaXZlci5qc29uLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC51c2VBcnJheVBvbHltb3JwaGlzbV84YmUydngkKSB7XG4gICAgICByZXR1cm4gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplX250czVxbiQoJHJlY2VpdmVyKTtcbiAgICB9XG4gICAgdmFyIG9iaiA9ICRyZWNlaXZlci5kZWNvZGVKc29uKCk7XG4gICAgdmFyIHRtcCRfMTtcbiAgICBpZiAoIUtvdGxpbi5pc1R5cGUob2JqLCBKc29uT2JqZWN0KSkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnRXhwZWN0ZWQgJyArIGdldEtDbGFzcyhKc29uT2JqZWN0KSArICcgYnV0IGZvdW5kICcgKyBLb3RsaW4uZ2V0S0NsYXNzRnJvbUV4cHJlc3Npb24ob2JqKTtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHZhciBqc29uVHJlZSA9IEtvdGxpbi5pc1R5cGUodG1wJF8xID0gb2JqLCBKc29uT2JqZWN0KSA/IHRtcCRfMSA6IHRocm93Q0NFKCk7XG4gICAgdmFyIHR5cGUgPSBnZXRfY29udGVudChnZXRWYWx1ZShqc29uVHJlZSwgJHJlY2VpdmVyLmpzb24uY29uZmlndXJhdGlvbl84YmUydngkLmNsYXNzRGlzY3JpbWluYXRvcl84YmUydngkKSk7XG4gICAgKEtvdGxpbi5pc1R5cGUodG1wJCA9IGpzb25UcmVlLmNvbnRlbnQsIE11dGFibGVNYXApID8gdG1wJCA6IHRocm93Q0NFKCkpLnJlbW92ZV8xMXJiJCgkcmVjZWl2ZXIuanNvbi5jb25maWd1cmF0aW9uXzhiZTJ2eCQuY2xhc3NEaXNjcmltaW5hdG9yXzhiZTJ2eCQpO1xuICAgIHZhciBhY3R1YWxTZXJpYWxpemVyID0gS290bGluLmlzVHlwZSh0bXAkXzAgPSBkZXNlcmlhbGl6ZXIuZmluZFBvbHltb3JwaGljU2VyaWFsaXplcl9iNjl6YWMkKCRyZWNlaXZlciwgdHlwZSksIEtTZXJpYWxpemVyKSA/IHRtcCRfMCA6IHRocm93Q0NFKCk7XG4gICAgcmV0dXJuIHJlYWRKc29uKCRyZWNlaXZlci5qc29uLCBqc29uVHJlZSwgYWN0dWFsU2VyaWFsaXplcik7XG4gIH1cbiAgZnVuY3Rpb24gU3RyZWFtaW5nSnNvbklucHV0KGpzb24sIG1vZGUsIHJlYWRlcikge1xuICAgIEVsZW1lbnRWYWx1ZURlY29kZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmpzb25fMmV2NWM0JF8wID0ganNvbjtcbiAgICB0aGlzLm1vZGVfMCA9IG1vZGU7XG4gICAgdGhpcy5yZWFkZXJfOGJlMnZ4JCA9IHJlYWRlcjtcbiAgICB0aGlzLmNvbnRleHRfbmVtZjk1JF8wID0gdGhpcy5qc29uLmNvbnRleHQ7XG4gICAgdGhpcy5jdXJyZW50SW5kZXhfMCA9IC0xO1xuICAgIHRoaXMuY29uZmlndXJhdGlvbl8wID0gdGhpcy5qc29uLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JDtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZSwgJ2pzb24nLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuanNvbl8yZXY1YzQkXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHRfbmVtZjk1JF8wO1xuICB9fSk7XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKG5ldyBKc29uUGFyc2VyKHRoaXMucmVhZGVyXzhiZTJ2eCQpKS5yZWFkKCk7XG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLCAndXBkYXRlTW9kZScsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uXzAudXBkYXRlTW9kZV84YmUydngkO1xuICB9fSk7XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJCA9IGZ1bmN0aW9uIChkZXNlcmlhbGl6ZXIpIHtcbiAgICByZXR1cm4gZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVQb2x5bW9ycGhpYyh0aGlzLCBkZXNlcmlhbGl6ZXIpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQgPSBmdW5jdGlvbiAoZGVzYywgdHlwZVBhcmFtcykge1xuICAgIHZhciB0bXAkO1xuICAgIHZhciBuZXdNb2RlID0gc3dpdGNoTW9kZSh0aGlzLmpzb24sIGRlc2MpO1xuICAgIGlmICh1bmJveENoYXIobmV3TW9kZS5iZWdpbikgIT09IElOVkFMSUQpIHtcbiAgICAgIHZhciAkdGhpcyA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICBpZiAoJHRoaXMudG9rZW5DbGFzcyAhPT0gbmV3TW9kZS5iZWdpblRjKSB7XG4gICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpcy50b2tlbkNsYXNzKSk7XG4gICAgICAgICR0aGlzLmZhaWxfYm00bHhzJChcIkV4cGVjdGVkICdcIiArIFN0cmluZy5mcm9tQ2hhckNvZGUodW5ib3hDaGFyKG5ld01vZGUuYmVnaW4pKSArICcsIGtpbmQ6ICcgKyBkZXNjLmtpbmQgKyBcIidcIiwgJHRoaXMudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVhZGVyXzhiZTJ2eCQubmV4dFRva2VuKCk7XG4gICAgfVxuICAgIHN3aXRjaCAobmV3TW9kZS5uYW1lKSB7XG4gICAgICBjYXNlICdMSVNUJzpcbiAgICAgIGNhc2UgJ01BUCc6XG4gICAgICBjYXNlICdQT0xZX09CSic6XG4gICAgICAgIHRtcCQgPSBuZXcgU3RyZWFtaW5nSnNvbklucHV0KHRoaXMuanNvbiwgbmV3TW9kZSwgdGhpcy5yZWFkZXJfOGJlMnZ4JCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDp0bXAkID0gdGhpcy5tb2RlXzAgPT09IG5ld01vZGUgPyB0aGlzIDogbmV3IFN0cmVhbWluZ0pzb25JbnB1dCh0aGlzLmpzb24sIG5ld01vZGUsIHRoaXMucmVhZGVyXzhiZTJ2eCQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIGlmICh1bmJveENoYXIodGhpcy5tb2RlXzAuZW5kKSAhPT0gSU5WQUxJRCkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgIGlmICgkdGhpcy50b2tlbkNsYXNzICE9PSB0aGlzLm1vZGVfMC5lbmRUYykge1xuICAgICAgICB0b0JveGVkQ2hhcih0b0NoYXIoJHRoaXMudG9rZW5DbGFzcykpO1xuICAgICAgICAkdGhpcy5mYWlsX2JtNGx4cyQoXCJFeHBlY3RlZCAnXCIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHVuYm94Q2hhcih0aGlzLm1vZGVfMC5lbmQpKSArIFwiJ1wiLCAkdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFkZXJfOGJlMnZ4JC5uZXh0VG9rZW4oKTtcbiAgICB9XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlTm90TnVsbE1hcmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZGVyXzhiZTJ2eCQudG9rZW5DbGFzcyAhPT0gVENfTlVMTDtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVOdWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgaWYgKCR0aGlzLnRva2VuQ2xhc3MgIT09IFRDX05VTEwpIHtcbiAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpcy50b2tlbkNsYXNzKSk7XG4gICAgICAkdGhpcy5mYWlsX2JtNGx4cyQoXCJFeHBlY3RlZCAnbnVsbCcgbGl0ZXJhbFwiLCAkdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgIH1cbiAgICB0aGlzLnJlYWRlcl84YmUydngkLm5leHRUb2tlbigpO1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgdG9rZW5DbGFzcyA9IHRoaXMucmVhZGVyXzhiZTJ2eCQudG9rZW5DbGFzcztcbiAgICBpZiAodG9rZW5DbGFzcyA9PT0gVENfQ09NTUEpIHtcbiAgICAgIHZhciAkdGhpcyA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5jdXJyZW50SW5kZXhfMCAhPT0gLTE7XG4gICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLnJlYWRlcl84YmUydngkLmN1cnJlbnRQb3NpdGlvbjtcbiAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgICR0aGlzLmZhaWxfYm00bHhzJCgnVW5leHBlY3RlZCBsZWFkaW5nIGNvbW1hJywgcG9zaXRpb24pO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFkZXJfOGJlMnZ4JC5uZXh0VG9rZW4oKTtcbiAgICB9XG4gICAgc3dpdGNoICh0aGlzLm1vZGVfMC5uYW1lKSB7XG4gICAgICBjYXNlICdMSVNUJzpcbiAgICAgICAgdG1wJCA9IHRoaXMuZGVjb2RlTGlzdEluZGV4XzAodG9rZW5DbGFzcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTUFQJzpcbiAgICAgICAgdG1wJCA9IHRoaXMuZGVjb2RlTWFwSW5kZXhfMCh0b2tlbkNsYXNzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQT0xZX09CSic6XG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50SW5kZXhfMCA9IHRoaXMuY3VycmVudEluZGV4XzAgKyAxIHwgMCwgdGhpcy5jdXJyZW50SW5kZXhfMCkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHRtcCQgPSAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdG1wJCA9IDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OnRtcCQgPSAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OnRtcCQgPSB0aGlzLmRlY29kZU9iamVjdEluZGV4XzAodG9rZW5DbGFzcywgZGVzYyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVNYXBJbmRleF8wID0gZnVuY3Rpb24gKHRva2VuQ2xhc3MpIHtcbiAgICB2YXIgdG1wJDtcbiAgICBpZiAodG9rZW5DbGFzcyAhPT0gVENfQ09NTUEgJiYgdGhpcy5jdXJyZW50SW5kZXhfMCAlIDIgPT09IDEpIHtcbiAgICAgIHZhciAkdGhpcyA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICBpZiAoJHRoaXMudG9rZW5DbGFzcyAhPT0gVENfRU5EX09CSikge1xuICAgICAgICB0b0JveGVkQ2hhcih0b0NoYXIoJHRoaXMudG9rZW5DbGFzcykpO1xuICAgICAgICAkdGhpcy5mYWlsX2JtNGx4cyQoJ0V4cGVjdGVkIGVuZCBvZiB0aGUgb2JqZWN0IG9yIGNvbW1hJywgJHRoaXMudG9rZW5Qb3NpdGlvbl8wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuY3VycmVudEluZGV4XzAgJSAyID09PSAwKSB7XG4gICAgICB2YXIgJHRoaXNfMCA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICBpZiAoJHRoaXNfMC50b2tlbkNsYXNzICE9PSBUQ19DT0xPTikge1xuICAgICAgICB0b0JveGVkQ2hhcih0b0NoYXIoJHRoaXNfMC50b2tlbkNsYXNzKSk7XG4gICAgICAgICR0aGlzXzAuZmFpbF9ibTRseHMkKFwiRXhwZWN0ZWQgJzonIGFmdGVyIHRoZSBrZXlcIiwgJHRoaXNfMC50b2tlblBvc2l0aW9uXzApO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFkZXJfOGJlMnZ4JC5uZXh0VG9rZW4oKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnJlYWRlcl84YmUydngkLmNhbkJlZ2luVmFsdWUpIHtcbiAgICAgIHZhciAkdGhpc18xID0gdGhpcy5yZWFkZXJfOGJlMnZ4JDtcbiAgICAgIHZhciBjb25kaXRpb24gPSB0b2tlbkNsYXNzICE9PSBUQ19DT01NQTtcbiAgICAgIHZhciBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uID0gJHRoaXNfMS5jdXJyZW50UG9zaXRpb247XG4gICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAkdGhpc18xLmZhaWxfYm00bHhzJCgnVW5leHBlY3RlZCB0cmFpbGluZyBjb21tYScsIHBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICAgIHRtcCQgPSAtMTtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdG1wJCA9ICh0aGlzLmN1cnJlbnRJbmRleF8wID0gdGhpcy5jdXJyZW50SW5kZXhfMCArIDEgfCAwLCB0aGlzLmN1cnJlbnRJbmRleF8wKTtcbiAgICB9XG4gICAgcmV0dXJuIHRtcCQ7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlT2JqZWN0SW5kZXhfMCA9IGZ1bmN0aW9uICh0b2tlbkNsYXNzLCBkZXNjKSB7XG4gICAgaWYgKHRva2VuQ2xhc3MgPT09IFRDX0NPTU1BICYmICF0aGlzLnJlYWRlcl84YmUydngkLmNhbkJlZ2luVmFsdWUpIHtcbiAgICAgIHRoaXMucmVhZGVyXzhiZTJ2eCQuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIHRyYWlsaW5nIGNvbW1hJyk7XG4gICAgfVxuICAgIHdoaWxlICh0aGlzLnJlYWRlcl84YmUydngkLmNhbkJlZ2luVmFsdWUpIHtcbiAgICAgIHRoaXMuY3VycmVudEluZGV4XzAgPSB0aGlzLmN1cnJlbnRJbmRleF8wICsgMSB8IDA7XG4gICAgICB2YXIga2V5ID0gdGhpcy5yZWFkZXJfOGJlMnZ4JC50YWtlU3RyaW5nKCk7XG4gICAgICB2YXIgJHRoaXMgPSB0aGlzLnJlYWRlcl84YmUydngkO1xuICAgICAgaWYgKCR0aGlzLnRva2VuQ2xhc3MgIT09IFRDX0NPTE9OKSB7XG4gICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpcy50b2tlbkNsYXNzKSk7XG4gICAgICAgICR0aGlzLmZhaWxfYm00bHhzJChcIkV4cGVjdGVkICc6J1wiLCAkdGhpcy50b2tlblBvc2l0aW9uXzApO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFkZXJfOGJlMnZ4JC5uZXh0VG9rZW4oKTtcbiAgICAgIHZhciBpbmRleCA9IGRlc2MuZ2V0RWxlbWVudEluZGV4XzYxenBvZSQoa2V5KTtcbiAgICAgIGlmIChpbmRleCAhPT0gLTMpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbl8wLnN0cmljdE1vZGVfOGJlMnZ4JClcbiAgICAgICAgdGhpcy5yZWFkZXJfOGJlMnZ4JC5mYWlsX2JtNGx4cyQoJ0VuY291bnRlcmVkIGFuIHVua25vd24ga2V5ICcgKyBrZXkpO1xuICAgICAgZWxzZVxuICAgICAgICB0aGlzLnJlYWRlcl84YmUydngkLnNraXBFbGVtZW50KCk7XG4gICAgICBpZiAodGhpcy5yZWFkZXJfOGJlMnZ4JC50b2tlbkNsYXNzID09PSBUQ19DT01NQSkge1xuICAgICAgICB0aGlzLnJlYWRlcl84YmUydngkLm5leHRUb2tlbigpO1xuICAgICAgICB2YXIgJHRoaXNfMCA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICAgIHZhciBjb25kaXRpb24gPSB0aGlzLnJlYWRlcl84YmUydngkLmNhbkJlZ2luVmFsdWU7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucmVhZGVyXzhiZTJ2eCQuY3VycmVudFBvc2l0aW9uO1xuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgICR0aGlzXzAuZmFpbF9ibTRseHMkKCdVbmV4cGVjdGVkIHRyYWlsaW5nIGNvbW1hJywgcG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVMaXN0SW5kZXhfMCA9IGZ1bmN0aW9uICh0b2tlbkNsYXNzKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgaWYgKHRva2VuQ2xhc3MgIT09IFRDX0NPTU1BICYmIHRoaXMuY3VycmVudEluZGV4XzAgIT09IC0xKSB7XG4gICAgICB2YXIgJHRoaXMgPSB0aGlzLnJlYWRlcl84YmUydngkO1xuICAgICAgaWYgKCR0aGlzLnRva2VuQ2xhc3MgIT09IFRDX0VORF9MSVNUKSB7XG4gICAgICAgIHRvQm94ZWRDaGFyKHRvQ2hhcigkdGhpcy50b2tlbkNsYXNzKSk7XG4gICAgICAgICR0aGlzLmZhaWxfYm00bHhzJCgnRXhwZWN0ZWQgZW5kIG9mIHRoZSBhcnJheSBvciBjb21tYScsICR0aGlzLnRva2VuUG9zaXRpb25fMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdGhpcy5yZWFkZXJfOGJlMnZ4JC5jYW5CZWdpblZhbHVlKSB7XG4gICAgICB2YXIgJHRoaXNfMCA9IHRoaXMucmVhZGVyXzhiZTJ2eCQ7XG4gICAgICB2YXIgY29uZGl0aW9uID0gdG9rZW5DbGFzcyAhPT0gVENfQ09NTUE7XG4gICAgICB2YXIgcG9zaXRpb247XG4gICAgICBwb3NpdGlvbiA9ICR0aGlzXzAuY3VycmVudFBvc2l0aW9uO1xuICAgICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgJHRoaXNfMC5mYWlsX2JtNGx4cyQoJ1VuZXhwZWN0ZWQgdHJhaWxpbmcgY29tbWEnLCBwb3NpdGlvbik7XG4gICAgICB9XG4gICAgICB0bXAkID0gLTE7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHRtcCQgPSAodGhpcy5jdXJyZW50SW5kZXhfMCA9IHRoaXMuY3VycmVudEluZGV4XzAgKyAxIHwgMCwgdGhpcy5jdXJyZW50SW5kZXhfMCk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUJvb2xlYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRyZWNlaXZlciA9IHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpO1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25fMC5zdHJpY3RNb2RlXzhiZTJ2eCQgPyB0b0Jvb2xlYW5TdHJpY3QoJHJlY2VpdmVyKSA6IHRvQm9vbGVhbigkcmVjZWl2ZXIpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUJ5dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvQnl0ZV8wKHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVTaG9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9TaG9ydF8wKHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVJbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRvSW50KHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVMb25nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0xvbmcodGhpcy5yZWFkZXJfOGJlMnZ4JC50YWtlU3RyaW5nKCkpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZUZsb2F0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0RvdWJsZSh0aGlzLnJlYWRlcl84YmUydngkLnRha2VTdHJpbmcoKSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlRG91YmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0b0RvdWJsZSh0aGlzLnJlYWRlcl84YmUydngkLnRha2VTdHJpbmcoKSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlQ2hhciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9Cb3hlZENoYXIoc2luZ2xlKHRoaXMucmVhZGVyXzhiZTJ2eCQudGFrZVN0cmluZygpKSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRlcl84YmUydngkLnRha2VTdHJpbmcoKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVFbnVtX3c4NDlxcyQgPSBmdW5jdGlvbiAoZW51bURlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIGdldEVsZW1lbnRJbmRleE9yVGhyb3coZW51bURlc2NyaXB0aW9uLCB0aGlzLnJlYWRlcl84YmUydngkLnRha2VTdHJpbmcoKSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25JbnB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdTdHJlYW1pbmdKc29uSW5wdXQnLCBpbnRlcmZhY2VzOiBbRWxlbWVudFZhbHVlRGVjb2RlciwgSnNvbklucHV0XX07XG4gIGZ1bmN0aW9uIFN0cmVhbWluZ0pzb25PdXRwdXQoY29tcG9zZXIsIGpzb24sIG1vZGUsIG1vZGVSZXVzZUNhY2hlKSB7XG4gICAgRWxlbWVudFZhbHVlRW5jb2Rlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuY29tcG9zZXJfMCA9IGNvbXBvc2VyO1xuICAgIHRoaXMuanNvbl9scGRvZHQkXzAgPSBqc29uO1xuICAgIHRoaXMubW9kZV8wID0gbW9kZTtcbiAgICB0aGlzLm1vZGVSZXVzZUNhY2hlXzAgPSBtb2RlUmV1c2VDYWNoZTtcbiAgICB0aGlzLmNvbnRleHRfNDFqZHFtJF8wID0gdGhpcy5qc29uLmNvbnRleHQ7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uXzAgPSB0aGlzLmpzb24uY29uZmlndXJhdGlvbl84YmUydngkO1xuICAgIHRoaXMuZm9yY2VRdW90aW5nXzAgPSBmYWxzZTtcbiAgICB0aGlzLndyaXRlUG9seW1vcnBoaWNfMCA9IGZhbHNlO1xuICAgIHZhciBpID0gdGhpcy5tb2RlXzAub3JkaW5hbDtcbiAgICBpZiAodGhpcy5tb2RlUmV1c2VDYWNoZV8wW2ldICE9PSBudWxsIHx8IHRoaXMubW9kZVJldXNlQ2FjaGVfMFtpXSAhPT0gdGhpcylcbiAgICAgIHRoaXMubW9kZVJldXNlQ2FjaGVfMFtpXSA9IHRoaXM7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLCAnanNvbicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5qc29uX2xwZG9kdCRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHRfNDFqZHFtJF8wO1xuICB9fSk7XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZUpzb25fcWl3MGNkJCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdGhpcy5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokKEpzb25FbGVtZW50U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpLCBlbGVtZW50KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JCA9IGZ1bmN0aW9uIChkZXNjLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25fMC5lbmNvZGVEZWZhdWx0c184YmUydngkO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokID0gZnVuY3Rpb24gKHNlcmlhbGl6ZXIsIHZhbHVlKSB7XG4gICAgZW5jb2RlUG9seW1vcnBoaWNhbGx5JGJyZWFrOiBkbyB7XG4gICAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgICAgaWYgKCFLb3RsaW4uaXNUeXBlKHNlcmlhbGl6ZXIsIFBvbHltb3JwaGljU2VyaWFsaXplcikgfHwgdGhpcy5qc29uLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC51c2VBcnJheVBvbHltb3JwaGlzbV84YmUydngkKSB7XG4gICAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplX2F3ZTk3aSQodGhpcywgdmFsdWUpO1xuICAgICAgICBicmVhayBlbmNvZGVQb2x5bW9ycGhpY2FsbHkkYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgYWN0dWFsU2VyaWFsaXplciA9IEtvdGxpbi5pc1R5cGUodG1wJF8wID0gc2VyaWFsaXplci5maW5kUG9seW1vcnBoaWNTZXJpYWxpemVyXzl2MDh1NCQodGhpcywgS290bGluLmlzVHlwZSh0bXAkID0gdmFsdWUsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKSksIEtTZXJpYWxpemVyKSA/IHRtcCRfMCA6IHRocm93Q0NFKCk7XG4gICAgICB2YXIga2luZCA9IGFjdHVhbFNlcmlhbGl6ZXIuZGVzY3JpcHRvci5raW5kO1xuICAgICAgY2hlY2tLaW5kKGtpbmQpO1xuICAgICAgdGhpcy53cml0ZVBvbHltb3JwaGljXzAgPSB0cnVlO1xuICAgICAgYWN0dWFsU2VyaWFsaXplci5zZXJpYWxpemVfYXdlOTdpJCh0aGlzLCB2YWx1ZSk7XG4gICAgfVxuICAgICB3aGlsZSAoZmFsc2UpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVUeXBlSW5mb18wID0gZnVuY3Rpb24gKGRlc2NyaXB0b3IpIHtcbiAgICB0aGlzLmNvbXBvc2VyXzAubmV4dEl0ZW0oKTtcbiAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKHRoaXMuY29uZmlndXJhdGlvbl8wLmNsYXNzRGlzY3JpbWluYXRvcl84YmUydngkKTtcbiAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfczhpdHZoJChDT0xPTik7XG4gICAgdGhpcy5jb21wb3Nlcl8wLnNwYWNlKCk7XG4gICAgdGhpcy5lbmNvZGVTdHJpbmdfNjF6cG9lJChkZXNjcmlwdG9yLm5hbWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5iZWdpblN0cnVjdHVyZV9yMHNhNnokID0gZnVuY3Rpb24gKGRlc2MsIHR5cGVQYXJhbXMpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgbmV3TW9kZSA9IHN3aXRjaE1vZGUodGhpcy5qc29uLCBkZXNjKTtcbiAgICBpZiAodW5ib3hDaGFyKG5ld01vZGUuYmVnaW4pICE9PSBJTlZBTElEKSB7XG4gICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfczhpdHZoJCh1bmJveENoYXIobmV3TW9kZS5iZWdpbikpO1xuICAgICAgdGhpcy5jb21wb3Nlcl8wLmluZGVudCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy53cml0ZVBvbHltb3JwaGljXzApIHtcbiAgICAgIHRoaXMud3JpdGVQb2x5bW9ycGhpY18wID0gZmFsc2U7XG4gICAgICB0aGlzLmVuY29kZVR5cGVJbmZvXzAoZGVzYyk7XG4gICAgfVxuICAgIGlmICh0aGlzLm1vZGVfMCA9PT0gbmV3TW9kZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAodG1wJCA9IHRoaXMubW9kZVJldXNlQ2FjaGVfMFtuZXdNb2RlLm9yZGluYWxdKSAhPSBudWxsID8gdG1wJCA6IG5ldyBTdHJlYW1pbmdKc29uT3V0cHV0KHRoaXMuY29tcG9zZXJfMCwgdGhpcy5qc29uLCBuZXdNb2RlLCB0aGlzLm1vZGVSZXVzZUNhY2hlXzApO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gICAgaWYgKHVuYm94Q2hhcih0aGlzLm1vZGVfMC5lbmQpICE9PSBJTlZBTElEKSB7XG4gICAgICB0aGlzLmNvbXBvc2VyXzAudW5JbmRlbnQoKTtcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5uZXh0SXRlbSgpO1xuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4aXR2aCQodW5ib3hDaGFyKHRoaXMubW9kZV8wLmVuZCkpO1xuICAgIH1cbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlRWxlbWVudF8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgc3dpdGNoICh0aGlzLm1vZGVfMC5uYW1lKSB7XG4gICAgICBjYXNlICdMSVNUJzpcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvc2VyXzAud3JpdGluZ0ZpcnN0KVxuICAgICAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGl0dmgkKENPTU1BKTtcbiAgICAgICAgdGhpcy5jb21wb3Nlcl8wLm5leHRJdGVtKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnTUFQJzpcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvc2VyXzAud3JpdGluZ0ZpcnN0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4aXR2aCQoQ09NTUEpO1xuICAgICAgICAgICAgdGhpcy5jb21wb3Nlcl8wLm5leHRJdGVtKCk7XG4gICAgICAgICAgICB0aGlzLmZvcmNlUXVvdGluZ18wID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X3M4aXR2aCQoQ09MT04pO1xuICAgICAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnNwYWNlKCk7XG4gICAgICAgICAgICB0aGlzLmZvcmNlUXVvdGluZ18wID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvcmNlUXVvdGluZ18wID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmNvbXBvc2VyXzAubmV4dEl0ZW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnUE9MWV9PQkonOlxuICAgICAgICBpZiAoaW5kZXggPT09IDApXG4gICAgICAgICAgdGhpcy5mb3JjZVF1b3RpbmdfMCA9IHRydWU7XG4gICAgICAgIGlmIChpbmRleCA9PT0gMSkge1xuICAgICAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGl0dmgkKENPTU1BKTtcbiAgICAgICAgICB0aGlzLmNvbXBvc2VyXzAuc3BhY2UoKTtcbiAgICAgICAgICB0aGlzLmZvcmNlUXVvdGluZ18wID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6aWYgKCF0aGlzLmNvbXBvc2VyXzAud3JpdGluZ0ZpcnN0KVxuICAgICAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGl0dmgkKENPTU1BKTtcbiAgICAgICAgdGhpcy5jb21wb3Nlcl8wLm5leHRJdGVtKCk7XG4gICAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQoZGVzYy5nZXRFbGVtZW50TmFtZV96YTNscGEkKGluZGV4KSk7XG4gICAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGl0dmgkKENPTE9OKTtcbiAgICAgICAgdGhpcy5jb21wb3Nlcl8wLnNwYWNlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlTnVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfNjF6cG9lJChOVUxMKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlQm9vbGVhbl82dGFrbnYkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZm9yY2VRdW90aW5nXzApXG4gICAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF82dGFrbnYkKHZhbHVlKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlQnl0ZV9zOGozdDckID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZm9yY2VRdW90aW5nXzApXG4gICAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGozdDckKHZhbHVlKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlU2hvcnRfbXEyMmZsJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmZvcmNlUXVvdGluZ18wKVxuICAgICAgdGhpcy5lbmNvZGVTdHJpbmdfNjF6cG9lJCh2YWx1ZS50b1N0cmluZygpKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfbXEyMmZsJCh2YWx1ZSk7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZUludF96YTNscGEkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZm9yY2VRdW90aW5nXzApXG4gICAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF96YTNscGEkKHZhbHVlKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlTG9uZ19zOGN4aHokID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZm9yY2VRdW90aW5nXzApXG4gICAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludF9zOGN4aHokKHZhbHVlKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlRmxvYXRfbXg0dWx0JCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb25fMC5zdHJpY3RNb2RlXzhiZTJ2eCQgJiYgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgdGhyb3cgSW52YWxpZEZsb2F0aW5nUG9pbnQodmFsdWUsICdmbG9hdCcpO1xuICAgIH1cbiAgICBpZiAodGhpcy5mb3JjZVF1b3RpbmdfMClcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50X214NHVsdCQodmFsdWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVEb3VibGVfMTRkdGhlJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb25fMC5zdHJpY3RNb2RlXzhiZTJ2eCQgJiYgIWlzRmluaXRlXzAodmFsdWUpKSB7XG4gICAgICB0aHJvdyBJbnZhbGlkRmxvYXRpbmdQb2ludCh2YWx1ZSwgJ2RvdWJsZScpO1xuICAgIH1cbiAgICBpZiAodGhpcy5mb3JjZVF1b3RpbmdfMClcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUudG9TdHJpbmcoKSk7XG4gICAgZWxzZVxuICAgICAgdGhpcy5jb21wb3Nlcl8wLnByaW50XzE0ZHRoZSQodmFsdWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVDaGFyX3M4aXR2aCQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKFN0cmluZy5mcm9tQ2hhckNvZGUodmFsdWUpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlU3RyaW5nXzYxenBvZSQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uXzAudW5xdW90ZWRfOGJlMnZ4JCAmJiAhc2hvdWxkQmVRdW90ZWQodmFsdWUpKSB7XG4gICAgICB0aGlzLmNvbXBvc2VyXzAucHJpbnRfNjF6cG9lJCh2YWx1ZSk7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHRoaXMuY29tcG9zZXJfMC5wcmludFF1b3RlZF82MXpwb2UkKHZhbHVlKTtcbiAgICB9XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZUVudW1fMzl5YWhxJCA9IGZ1bmN0aW9uIChlbnVtRGVzY3JpcHRpb24sIG9yZGluYWwpIHtcbiAgICB0aGlzLmVuY29kZVN0cmluZ182MXpwb2UkKGVudW1EZXNjcmlwdGlvbi5nZXRFbGVtZW50TmFtZV96YTNscGEkKG9yZGluYWwpKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlVmFsdWVfemEzcm1wJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb25fMC5zdHJpY3RNb2RlXzhiZTJ2eCQpXG4gICAgICBFbGVtZW50VmFsdWVFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVWYWx1ZV96YTNybXAkLmNhbGwodGhpcywgdmFsdWUpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuZW5jb2RlU3RyaW5nXzYxenBvZSQodmFsdWUudG9TdHJpbmcoKSk7XG4gIH07XG4gIGZ1bmN0aW9uIFN0cmVhbWluZ0pzb25PdXRwdXQkQ29tcG9zZXIoc2IsIGpzb24pIHtcbiAgICB0aGlzLnNiXzhiZTJ2eCQgPSBzYjtcbiAgICB0aGlzLmpzb25fMCA9IGpzb247XG4gICAgdGhpcy5sZXZlbF8wID0gMDtcbiAgICB0aGlzLndyaXRpbmdGaXJzdF91dzVmcXokXzAgPSB0cnVlO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLnByb3RvdHlwZSwgJ3dyaXRpbmdGaXJzdCcsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53cml0aW5nRmlyc3RfdXc1ZnF6JF8wO1xuICB9LCBzZXQ6IGZ1bmN0aW9uICh3cml0aW5nRmlyc3QpIHtcbiAgICB0aGlzLndyaXRpbmdGaXJzdF91dzVmcXokXzAgPSB3cml0aW5nRmlyc3Q7XG4gIH19KTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUuaW5kZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMud3JpdGluZ0ZpcnN0ID0gdHJ1ZTtcbiAgICB0aGlzLmxldmVsXzAgPSB0aGlzLmxldmVsXzAgKyAxIHwgMDtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUudW5JbmRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5sZXZlbF8wID0gdGhpcy5sZXZlbF8wIC0gMSB8IDA7XG4gIH07XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQkQ29tcG9zZXIucHJvdG90eXBlLm5leHRJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMud3JpdGluZ0ZpcnN0ID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuanNvbl8wLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC5wcmV0dHlQcmludF84YmUydngkKSB7XG4gICAgICB0aGlzLnByaW50XzYxenBvZSQoJ1xcbicpO1xuICAgICAgdmFyIHRpbWVzID0gdGhpcy5sZXZlbF8wO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRpbWVzOyBpbmRleCsrKSB7XG4gICAgICAgIHRoaXMucHJpbnRfNjF6cG9lJCh0aGlzLmpzb25fMC5jb25maWd1cmF0aW9uXzhiZTJ2eCQuaW5kZW50XzhiZTJ2eCQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUuc3BhY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuanNvbl8wLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC5wcmV0dHlQcmludF84YmUydngkKVxuICAgICAgdGhpcy5wcmludF9zOGl0dmgkKDMyKTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfczhpdHZoJCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhpdHZoJCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfNjF6cG9lJCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfZ3cwMHY5JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfbXg0dWx0JCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhqeXY0JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfMTRkdGhlJCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhqeXY0JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfczhqM3Q3JCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhqeXY0JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfbXEyMmZsJCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhqeXY0JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfemEzbHBhJCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhqeXY0JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfczhjeGh6JCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhqeXY0JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRfNnRha252JCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgcmV0dXJuIHRoaXMuc2JfOGJlMnZ4JC5hcHBlbmRfczhqeXY0JCh2KTtcbiAgfTtcbiAgU3RyZWFtaW5nSnNvbk91dHB1dCRDb21wb3Nlci5wcm90b3R5cGUucHJpbnRRdW90ZWRfNjF6cG9lJCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHByaW50UXVvdGVkKHRoaXMuc2JfOGJlMnZ4JCwgdmFsdWUpO1xuICB9O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0NvbXBvc2VyJywgaW50ZXJmYWNlczogW119O1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1N0cmVhbWluZ0pzb25PdXRwdXQnLCBpbnRlcmZhY2VzOiBbRWxlbWVudFZhbHVlRW5jb2RlciwgSnNvbk91dHB1dF19O1xuICBmdW5jdGlvbiBTdHJlYW1pbmdKc29uT3V0cHV0X2luaXQob3V0cHV0LCBqc29uLCBtb2RlLCBtb2RlUmV1c2VDYWNoZSwgJHRoaXMpIHtcbiAgICAkdGhpcyA9ICR0aGlzIHx8IE9iamVjdC5jcmVhdGUoU3RyZWFtaW5nSnNvbk91dHB1dC5wcm90b3R5cGUpO1xuICAgIFN0cmVhbWluZ0pzb25PdXRwdXQuY2FsbCgkdGhpcywgbmV3IFN0cmVhbWluZ0pzb25PdXRwdXQkQ29tcG9zZXIob3V0cHV0LCBqc29uKSwganNvbiwgbW9kZSwgbW9kZVJldXNlQ2FjaGUpO1xuICAgIHJldHVybiAkdGhpcztcbiAgfVxuICBmdW5jdGlvbiB0b0hleENoYXIoaSkge1xuICAgIHZhciBkID0gaSAmIDE1O1xuICAgIHJldHVybiBkIDwgMTAgPyB0b0NoYXIoZCArIDQ4IHwgMCkgOiB0b0NoYXIoZCAtIDEwICsgOTcgfCAwKTtcbiAgfVxuICB2YXIgRVNDQVBFX0NIQVJTO1xuICBmdW5jdGlvbiBwcmludFF1b3RlZCgkcmVjZWl2ZXIsIHZhbHVlKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgJHJlY2VpdmVyLmFwcGVuZF9zOGl0dmgkKFNUUklORyk7XG4gICAgdmFyIGxhc3RQb3MgPSAwO1xuICAgIHZhciBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGMgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpIHwgMDtcbiAgICAgIGlmIChjID49IEVTQ0FQRV9DSEFSUy5sZW5ndGgpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdG1wJCA9IEVTQ0FQRV9DSEFSU1tjXTtcbiAgICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgZXNjID0gdG1wJDtcbiAgICAgICRyZWNlaXZlci5hcHBlbmRfZXpic2RoJCh2YWx1ZSwgbGFzdFBvcywgaSk7XG4gICAgICAkcmVjZWl2ZXIuYXBwZW5kX2d3MDB2OSQoZXNjKTtcbiAgICAgIGxhc3RQb3MgPSBpICsgMSB8IDA7XG4gICAgfVxuICAgICRyZWNlaXZlci5hcHBlbmRfZXpic2RoJCh2YWx1ZSwgbGFzdFBvcywgbGVuZ3RoKTtcbiAgICAkcmVjZWl2ZXIuYXBwZW5kX3M4aXR2aCQoU1RSSU5HKTtcbiAgfVxuICBmdW5jdGlvbiB0b0Jvb2xlYW5TdHJpY3QoJHJlY2VpdmVyKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9IHRvQm9vbGVhblN0cmljdE9yTnVsbCgkcmVjZWl2ZXIpO1xuICAgIGlmICh0bXAkID09IG51bGwpIHtcbiAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KCRyZWNlaXZlciArICcgZG9lcyBub3QgcmVwcmVzZW50IGEgQm9vbGVhbicpO1xuICAgIH1cbiAgICByZXR1cm4gdG1wJDtcbiAgfVxuICBmdW5jdGlvbiB0b0Jvb2xlYW5TdHJpY3RPck51bGwoJHJlY2VpdmVyKSB7XG4gICAgaWYgKGVxdWFsc18wKCRyZWNlaXZlciwgJ3RydWUnLCB0cnVlKSlcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGVsc2UgaWYgKGVxdWFsc18wKCRyZWNlaXZlciwgJ2ZhbHNlJywgdHJ1ZSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gc2hvdWxkQmVRdW90ZWQoc3RyKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgaWYgKGVxdWFscyhzdHIsIE5VTEwpKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgdG1wJCA9IGl0ZXJhdG9yKHN0cik7XG4gICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgY2ggPSB1bmJveENoYXIodG1wJC5uZXh0KCkpO1xuICAgICAgaWYgKGNoYXJUb1Rva2VuQ2xhc3MoY2gpICE9PSBUQ19PVEhFUilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiByZWFkSnNvbigkcmVjZWl2ZXIsIGVsZW1lbnQsIGRlc2VyaWFsaXplcikge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudCwgSnNvbk9iamVjdCkpXG4gICAgICB0bXAkXzAgPSBuZXcgSnNvblRyZWVJbnB1dCgkcmVjZWl2ZXIsIGVsZW1lbnQpO1xuICAgIGVsc2UgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudCwgSnNvbkFycmF5KSlcbiAgICAgIHRtcCRfMCA9IG5ldyBKc29uVHJlZUxpc3RJbnB1dCgkcmVjZWl2ZXIsIGVsZW1lbnQpO1xuICAgIGVsc2UgaWYgKEtvdGxpbi5pc1R5cGUoZWxlbWVudCwgSnNvbkxpdGVyYWwpIHx8IGVxdWFscyhlbGVtZW50LCBKc29uTnVsbF9nZXRJbnN0YW5jZSgpKSkge1xuICAgICAgdG1wJF8wID0gbmV3IEpzb25QcmltaXRpdmVJbnB1dCgkcmVjZWl2ZXIsIEtvdGxpbi5pc1R5cGUodG1wJCA9IGVsZW1lbnQsIEpzb25QcmltaXRpdmUpID8gdG1wJCA6IHRocm93Q0NFKCkpO1xuICAgIH1cbiAgICAgZWxzZVxuICAgICAgdG1wJF8wID0gS290bGluLm5vV2hlbkJyYW5jaE1hdGNoZWQoKTtcbiAgICB2YXIgaW5wdXQgPSB0bXAkXzA7XG4gICAgcmV0dXJuIGRlY29kZV8wKGlucHV0LCBkZXNlcmlhbGl6ZXIpO1xuICB9XG4gIGZ1bmN0aW9uIEFic3RyYWN0SnNvblRyZWVJbnB1dChqc29uLCBvYmopIHtcbiAgICBOYW1lZFZhbHVlRGVjb2Rlci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuanNvbl9zYTYxdHkkXzAgPSBqc29uO1xuICAgIHRoaXMub2JqX2d5YzJzdiRfMCA9IG9iajtcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb25fMCA9IHRoaXMuanNvbi5jb25maWd1cmF0aW9uXzhiZTJ2eCQ7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUsICdqc29uJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmpzb25fc2E2MXR5JF8wO1xuICB9fSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLCAnb2JqJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm9ial9neWMyc3YkXzA7XG4gIH19KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmpzb24uY29udGV4dDtcbiAgfX0pO1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmN1cnJlbnRPYmplY3RfMCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHJldHVybiAodG1wJF8wID0gKHRtcCQgPSB0aGlzLmN1cnJlbnRUYWdPck51bGwpICE9IG51bGwgPyB0aGlzLmN1cnJlbnRFbGVtZW50XzYxenBvZSQodG1wJCkgOiBudWxsKSAhPSBudWxsID8gdG1wJF8wIDogdGhpcy5vYmo7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50T2JqZWN0XzAoKTtcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUsICd1cGRhdGVNb2RlJywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25fMC51cGRhdGVNb2RlXzhiZTJ2eCQ7XG4gIH19KTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkID0gZnVuY3Rpb24gKGRlc2VyaWFsaXplcikge1xuICAgIHJldHVybiBkZWNvZGVTZXJpYWxpemFibGVWYWx1ZVBvbHltb3JwaGljKHRoaXMsIGRlc2VyaWFsaXplcik7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuY29tcG9zZU5hbWVfcHVqN2Y0JCA9IGZ1bmN0aW9uIChwYXJlbnROYW1lLCBjaGlsZE5hbWUpIHtcbiAgICByZXR1cm4gY2hpbGROYW1lO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmJlZ2luU3RydWN0dXJlX3Iwc2E2eiQgPSBmdW5jdGlvbiAoZGVzYywgdHlwZVBhcmFtcykge1xuICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzLmN1cnJlbnRPYmplY3RfMCgpO1xuICAgIHRtcCQgPSBkZXNjLmtpbmQ7XG4gICAgaWYgKGVxdWFscyh0bXAkLCBTdHJ1Y3R1cmVLaW5kJExJU1RfZ2V0SW5zdGFuY2UoKSkgfHwgZXF1YWxzKHRtcCQsIFVuaW9uS2luZCRQT0xZTU9SUEhJQ19nZXRJbnN0YW5jZSgpKSkge1xuICAgICAgdmFyIHRtcCRfMSA9IHRoaXMuanNvbjtcbiAgICAgIHZhciB0bXAkXzI7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUoY3VycmVudE9iamVjdCwgSnNvbkFycmF5KSkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICdFeHBlY3RlZCAnICsgZ2V0S0NsYXNzKEpzb25BcnJheSkgKyAnIGJ1dCBmb3VuZCAnICsgS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKGN1cnJlbnRPYmplY3QpO1xuICAgICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdG1wJF8wID0gbmV3IEpzb25UcmVlTGlzdElucHV0KHRtcCRfMSwgS290bGluLmlzVHlwZSh0bXAkXzIgPSBjdXJyZW50T2JqZWN0LCBKc29uQXJyYXkpID8gdG1wJF8yIDogdGhyb3dDQ0UoKSk7XG4gICAgfVxuICAgICBlbHNlIGlmIChlcXVhbHModG1wJCwgU3RydWN0dXJlS2luZCRNQVBfZ2V0SW5zdGFuY2UoKSkpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmpzb247XG4gICAgICB2YXIgdG1wJF8zO1xuICAgICAgdmFyIGtleURlc2NyaXB0b3IgPSBkZXNjLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQoMCk7XG4gICAgICB2YXIga2V5S2luZCA9IGtleURlc2NyaXB0b3Iua2luZDtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKGtleUtpbmQsIFByaW1pdGl2ZUtpbmQpIHx8IGVxdWFscyhrZXlLaW5kLCBVbmlvbktpbmQuRU5VTV9LSU5EKSkge1xuICAgICAgICB2YXIgdG1wJF80ID0gdGhpcy5qc29uO1xuICAgICAgICB2YXIgdG1wJF81O1xuICAgICAgICBpZiAoIUtvdGxpbi5pc1R5cGUoY3VycmVudE9iamVjdCwgSnNvbk9iamVjdCkpIHtcbiAgICAgICAgICB2YXIgbWVzc2FnZV8wID0gJ0V4cGVjdGVkICcgKyBnZXRLQ2xhc3MoSnNvbk9iamVjdCkgKyAnIGJ1dCBmb3VuZCAnICsgS290bGluLmdldEtDbGFzc0Zyb21FeHByZXNzaW9uKGN1cnJlbnRPYmplY3QpO1xuICAgICAgICAgIHRocm93IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbl9pbml0KG1lc3NhZ2VfMC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICB0bXAkXzMgPSBuZXcgSnNvblRyZWVNYXBJbnB1dCh0bXAkXzQsIEtvdGxpbi5pc1R5cGUodG1wJF81ID0gY3VycmVudE9iamVjdCwgSnNvbk9iamVjdCkgPyB0bXAkXzUgOiB0aHJvd0NDRSgpKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIGlmICgkcmVjZWl2ZXIuY29uZmlndXJhdGlvbl84YmUydngkLmFsbG93U3RydWN0dXJlZE1hcEtleXNfOGJlMnZ4JCkge1xuICAgICAgICB2YXIgdG1wJF82ID0gdGhpcy5qc29uO1xuICAgICAgICB2YXIgdG1wJF83O1xuICAgICAgICBpZiAoIUtvdGxpbi5pc1R5cGUoY3VycmVudE9iamVjdCwgSnNvbkFycmF5KSkge1xuICAgICAgICAgIHZhciBtZXNzYWdlXzEgPSAnRXhwZWN0ZWQgJyArIGdldEtDbGFzcyhKc29uQXJyYXkpICsgJyBidXQgZm91bmQgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbihjdXJyZW50T2JqZWN0KTtcbiAgICAgICAgICB0aHJvdyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25faW5pdChtZXNzYWdlXzEudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdG1wJF8zID0gbmV3IEpzb25UcmVlTGlzdElucHV0KHRtcCRfNiwgS290bGluLmlzVHlwZSh0bXAkXzcgPSBjdXJyZW50T2JqZWN0LCBKc29uQXJyYXkpID8gdG1wJF83IDogdGhyb3dDQ0UoKSk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IEpzb25NYXBJbnZhbGlkS2V5S2luZChrZXlEZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICAgIHRtcCRfMCA9IHRtcCRfMztcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdmFyIHRtcCRfOCA9IHRoaXMuanNvbjtcbiAgICAgIHZhciB0bXAkXzk7XG4gICAgICBpZiAoIUtvdGxpbi5pc1R5cGUoY3VycmVudE9iamVjdCwgSnNvbk9iamVjdCkpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VfMiA9ICdFeHBlY3RlZCAnICsgZ2V0S0NsYXNzKEpzb25PYmplY3QpICsgJyBidXQgZm91bmQgJyArIEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbihjdXJyZW50T2JqZWN0KTtcbiAgICAgICAgdGhyb3cgSWxsZWdhbFN0YXRlRXhjZXB0aW9uX2luaXQobWVzc2FnZV8yLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgdG1wJF8wID0gbmV3IEpzb25UcmVlSW5wdXQodG1wJF84LCBLb3RsaW4uaXNUeXBlKHRtcCRfOSA9IGN1cnJlbnRPYmplY3QsIEpzb25PYmplY3QpID8gdG1wJF85IDogdGhyb3dDQ0UoKSk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkXzA7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZ2V0VmFsdWVfNjF6cG9lJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHZhciBjdXJyZW50RWxlbWVudCA9IHRoaXMuY3VycmVudEVsZW1lbnRfNjF6cG9lJCh0YWcpO1xuICAgIHRtcCRfMCA9IEtvdGxpbi5pc1R5cGUodG1wJCA9IGN1cnJlbnRFbGVtZW50LCBKc29uUHJpbWl0aXZlKSA/IHRtcCQgOiBudWxsO1xuICAgIGlmICh0bXAkXzAgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEpzb25EZWNvZGluZ0V4Y2VwdGlvbigtMSwgJ0V4cGVjdGVkIEpzb25QcmltaXRpdmUgYXQgJyArIHRhZyArICcsIGZvdW5kICcgKyBjdXJyZW50RWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiB0bXAkXzA7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkQ2hhcl8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB2YXIgbyA9IHRoaXMuZ2V0VmFsdWVfNjF6cG9lJCh0YWcpO1xuICAgIGlmIChvLmNvbnRlbnQubGVuZ3RoID09PSAxKVxuICAgICAgdG1wJCA9IG8uY29udGVudC5jaGFyQ29kZUF0KDApO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBTZXJpYWxpemF0aW9uRXhjZXB0aW9uKG8udG9TdHJpbmcoKSArIFwiIGNhbid0IGJlIHJlcHJlc2VudGVkIGFzIENoYXJcIik7XG4gICAgcmV0dXJuIHRvQm94ZWRDaGFyKHRtcCQpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZEVudW1fd2M4aHJiJCA9IGZ1bmN0aW9uICh0YWcsIGVudW1EZXNjcmlwdGlvbikge1xuICAgIHJldHVybiBnZXRFbGVtZW50SW5kZXhPclRocm93KGVudW1EZXNjcmlwdGlvbiwgdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykuY29udGVudCk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkTnVsbF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWROb3ROdWxsTWFya18xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50RWxlbWVudF82MXpwb2UkKHRhZykgIT09IEpzb25OdWxsX2dldEluc3RhbmNlKCk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkVW5pdF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm47XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkQm9vbGVhbl8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykuYm9vbGVhbjtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWRCeXRlXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0b0J5dGUodGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykuaW50KTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LnByb3RvdHlwZS5kZWNvZGVUYWdnZWRTaG9ydF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdG9TaG9ydCh0aGlzLmdldFZhbHVlXzYxenBvZSQodGFnKS5pbnQpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZEludF8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykuaW50O1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZExvbmdfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVfNjF6cG9lJCh0YWcpLmxvbmc7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVJbnB1dC5wcm90b3R5cGUuZGVjb2RlVGFnZ2VkRmxvYXRfMTFyYiQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVfNjF6cG9lJCh0YWcpLmZsb2F0O1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZERvdWJsZV8xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykuZG91YmxlO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZVRhZ2dlZFN0cmluZ18xMXJiJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZV82MXpwb2UkKHRhZykuY29udGVudDtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZUlucHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0Fic3RyYWN0SnNvblRyZWVJbnB1dCcsIGludGVyZmFjZXM6IFtKc29uSW5wdXQsIE5hbWVkVmFsdWVEZWNvZGVyXX07XG4gIGZ1bmN0aW9uIEpzb25QcmltaXRpdmVJbnB1dChqc29uLCBvYmopIHtcbiAgICBBYnN0cmFjdEpzb25UcmVlSW5wdXQuY2FsbCh0aGlzLCBqc29uLCBvYmopO1xuICAgIHRoaXMub2JqX2RxajBwbSRfMCA9IG9iajtcbiAgICB0aGlzLnB1c2hUYWdfMTFyYiQoUFJJTUlUSVZFX1RBRyk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmVJbnB1dC5wcm90b3R5cGUsICdvYmonLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqX2RxajBwbSRfMDtcbiAgfX0pO1xuICBKc29uUHJpbWl0aXZlSW5wdXQucHJvdG90eXBlLmN1cnJlbnRFbGVtZW50XzYxenBvZSQgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgaWYgKCEodGFnID09PSBQUklNSVRJVkVfVEFHKSkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSBcIlRoaXMgaW5wdXQgY2FuIG9ubHkgaGFuZGxlIHByaW1pdGl2ZXMgd2l0aCAncHJpbWl0aXZlJyB0YWdcIjtcbiAgICAgIHRocm93IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1lc3NhZ2UudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9iajtcbiAgfTtcbiAgSnNvblByaW1pdGl2ZUlucHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25QcmltaXRpdmVJbnB1dCcsIGludGVyZmFjZXM6IFtBYnN0cmFjdEpzb25UcmVlSW5wdXRdfTtcbiAgZnVuY3Rpb24gSnNvblRyZWVJbnB1dChqc29uLCBvYmopIHtcbiAgICBBYnN0cmFjdEpzb25UcmVlSW5wdXQuY2FsbCh0aGlzLCBqc29uLCBvYmopO1xuICAgIHRoaXMub2JqX3Bpa28waiRfMCA9IG9iajtcbiAgICB0aGlzLnBvc2l0aW9uXzAgPSAwO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uVHJlZUlucHV0LnByb3RvdHlwZSwgJ29iaicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmpfcGlrbzBqJF8wO1xuICB9fSk7XG4gIEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICB2YXIgdG1wJDtcbiAgICB3aGlsZSAodGhpcy5wb3NpdGlvbl8wIDwgZGVzYy5lbGVtZW50c0NvdW50KSB7XG4gICAgICB2YXIgbmFtZSA9IHRoaXMuZ2V0VGFnX200N3E2ZiQoZGVzYywgKHRtcCQgPSB0aGlzLnBvc2l0aW9uXzAsIHRoaXMucG9zaXRpb25fMCA9IHRtcCQgKyAxIHwgMCwgdG1wJCkpO1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMub2JqO1xuICAgICAgdmFyIHRtcCRfMDtcbiAgICAgIGlmICgoS290bGluLmlzVHlwZSh0bXAkXzAgPSAkcmVjZWl2ZXIsIE1hcCkgPyB0bXAkXzAgOiB0aHJvd0NDRSgpKS5jb250YWluc0tleV8xMXJiJChuYW1lKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbl8wIC0gMSB8IDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcbiAgSnNvblRyZWVJbnB1dC5wcm90b3R5cGUuY3VycmVudEVsZW1lbnRfNjF6cG9lJCA9IGZ1bmN0aW9uICh0YWcpIHtcbiAgICByZXR1cm4gZ2V0VmFsdWUodGhpcy5vYmosIHRhZyk7XG4gIH07XG4gIEpzb25UcmVlSW5wdXQucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIGlmICghdGhpcy5jb25maWd1cmF0aW9uXzAuc3RyaWN0TW9kZV84YmUydngkIHx8IEtvdGxpbi5pc1R5cGUoZGVzYywgUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3IpKVxuICAgICAgcmV0dXJuO1xuICAgIHZhciBuYW1lcyA9IEhhc2hTZXRfaW5pdF8xKGRlc2MuZWxlbWVudHNDb3VudCk7XG4gICAgdG1wJCA9IGRlc2MuZWxlbWVudHNDb3VudDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRtcCQ7IGkrKykge1xuICAgICAgdmFyIGVsZW1lbnQgPSBkZXNjLmdldEVsZW1lbnROYW1lX3phM2xwYSQoaSk7XG4gICAgICBuYW1lcy5hZGRfMTFyYiQoZWxlbWVudCk7XG4gICAgfVxuICAgIHRtcCRfMCA9IHRoaXMub2JqLmtleXMuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJF8wLmhhc05leHQoKSkge1xuICAgICAgdmFyIGtleSA9IHRtcCRfMC5uZXh0KCk7XG4gICAgICBpZiAoIW5hbWVzLmNvbnRhaW5zXzExcmIkKGtleSkpXG4gICAgICAgIHRocm93IGpzb25Vbmtub3duS2V5RXhjZXB0aW9uKC0xLCBrZXkpO1xuICAgIH1cbiAgfTtcbiAgSnNvblRyZWVJbnB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uVHJlZUlucHV0JywgaW50ZXJmYWNlczogW0Fic3RyYWN0SnNvblRyZWVJbnB1dF19O1xuICBmdW5jdGlvbiBKc29uVHJlZU1hcElucHV0KGpzb24sIG9iaikge1xuICAgIEpzb25UcmVlSW5wdXQuY2FsbCh0aGlzLCBqc29uLCBvYmopO1xuICAgIHRoaXMub2JqX3JlZzdvZCRfMCA9IG9iajtcbiAgICB0aGlzLmtleXNfMCA9IHRvTGlzdCh0aGlzLm9iai5rZXlzKTtcbiAgICB0aGlzLnNpemVfMCA9IHRoaXMua2V5c18wLnNpemUgKiAyIHwgMDtcbiAgICB0aGlzLnBvc2l0aW9uXzEgPSAtMTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblRyZWVNYXBJbnB1dC5wcm90b3R5cGUsICdvYmonLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JqX3JlZzdvZCRfMDtcbiAgfX0pO1xuICBKc29uVHJlZU1hcElucHV0LnByb3RvdHlwZS5lbGVtZW50TmFtZV8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgdmFyIGkgPSBpbmRleCAvIDIgfCAwO1xuICAgIHJldHVybiB0aGlzLmtleXNfMC5nZXRfemEzbHBhJChpKTtcbiAgfTtcbiAgSnNvblRyZWVNYXBJbnB1dC5wcm90b3R5cGUuZGVjb2RlRWxlbWVudEluZGV4X3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICAgIHdoaWxlICh0aGlzLnBvc2l0aW9uXzEgPCAodGhpcy5zaXplXzAgLSAxIHwgMCkpIHtcbiAgICAgIHRoaXMucG9zaXRpb25fMSA9IHRoaXMucG9zaXRpb25fMSArIDEgfCAwO1xuICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb25fMTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuICBKc29uVHJlZU1hcElucHV0LnByb3RvdHlwZS5jdXJyZW50RWxlbWVudF82MXpwb2UkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uXzEgJSAyID09PSAwID8gSnNvbkxpdGVyYWxfaW5pdF8xKHRhZykgOiBnZXRWYWx1ZSh0aGlzLm9iaiwgdGFnKTtcbiAgfTtcbiAgSnNvblRyZWVNYXBJbnB1dC5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBmdW5jdGlvbiAoZGVzYykge1xuICB9O1xuICBKc29uVHJlZU1hcElucHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25UcmVlTWFwSW5wdXQnLCBpbnRlcmZhY2VzOiBbSnNvblRyZWVJbnB1dF19O1xuICBmdW5jdGlvbiBKc29uVHJlZUxpc3RJbnB1dChqc29uLCBvYmopIHtcbiAgICBBYnN0cmFjdEpzb25UcmVlSW5wdXQuY2FsbCh0aGlzLCBqc29uLCBvYmopO1xuICAgIHRoaXMub2JqX2VsN2U1MSRfMCA9IG9iajtcbiAgICB0aGlzLnNpemVfMCA9IHRoaXMub2JqLmNvbnRlbnQuc2l6ZTtcbiAgICB0aGlzLmN1cnJlbnRJbmRleF8wID0gLTE7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25UcmVlTGlzdElucHV0LnByb3RvdHlwZSwgJ29iaicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5vYmpfZWw3ZTUxJF8wO1xuICB9fSk7XG4gIEpzb25UcmVlTGlzdElucHV0LnByb3RvdHlwZS5lbGVtZW50TmFtZV8zenIyaXkkID0gZnVuY3Rpb24gKGRlc2MsIGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4LnRvU3RyaW5nKCk7XG4gIH07XG4gIEpzb25UcmVlTGlzdElucHV0LnByb3RvdHlwZS5jdXJyZW50RWxlbWVudF82MXpwb2UkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHJldHVybiB0aGlzLm9iai5nZXRfemEzbHBhJCh0b0ludCh0YWcpKTtcbiAgfTtcbiAgSnNvblRyZWVMaXN0SW5wdXQucHJvdG90eXBlLmRlY29kZUVsZW1lbnRJbmRleF9xYXRzbTAkID0gZnVuY3Rpb24gKGRlc2MpIHtcbiAgICB3aGlsZSAodGhpcy5jdXJyZW50SW5kZXhfMCA8ICh0aGlzLnNpemVfMCAtIDEgfCAwKSkge1xuICAgICAgdGhpcy5jdXJyZW50SW5kZXhfMCA9IHRoaXMuY3VycmVudEluZGV4XzAgKyAxIHwgMDtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJbmRleF8wO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG4gIEpzb25UcmVlTGlzdElucHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25UcmVlTGlzdElucHV0JywgaW50ZXJmYWNlczogW0Fic3RyYWN0SnNvblRyZWVJbnB1dF19O1xuICBmdW5jdGlvbiB3cml0ZUpzb24kbGFtYmRhKGNsb3N1cmUkcmVzdWx0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgY2xvc3VyZSRyZXN1bHQudiA9IGl0O1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB3cml0ZUpzb24oJHJlY2VpdmVyLCB2YWx1ZSwgc2VyaWFsaXplcikge1xuICAgIHZhciByZXN1bHQgPSB7djogbnVsbH07XG4gICAgdmFyIGVuY29kZXIgPSBuZXcgSnNvblRyZWVPdXRwdXQoJHJlY2VpdmVyLCB3cml0ZUpzb24kbGFtYmRhKHJlc3VsdCkpO1xuICAgIGVuY29kZV8wKGVuY29kZXIsIHNlcmlhbGl6ZXIsIHZhbHVlKTtcbiAgICByZXR1cm4gcmVzdWx0LnYgPT0gbnVsbCA/IHRocm93VVBBRSgncmVzdWx0JykgOiByZXN1bHQudjtcbiAgfVxuICBmdW5jdGlvbiBBYnN0cmFjdEpzb25UcmVlT3V0cHV0KGpzb24sIG5vZGVDb25zdW1lcikge1xuICAgIE5hbWVkVmFsdWVFbmNvZGVyLmNhbGwodGhpcyk7XG4gICAgdGhpcy5qc29uXzEzOGFyNyRfMCA9IGpzb247XG4gICAgdGhpcy5ub2RlQ29uc3VtZXIgPSBub2RlQ29uc3VtZXI7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uXzAgPSB0aGlzLmpzb24uY29uZmlndXJhdGlvbl84YmUydngkO1xuICAgIHRoaXMud3JpdGVQb2x5bW9ycGhpY18wID0gZmFsc2U7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLCAnanNvbicsIHtnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5qc29uXzEzOGFyNyRfMDtcbiAgfX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUsICdjb250ZXh0Jywge2dldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmpzb24uY29udGV4dDtcbiAgfX0pO1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVKc29uX3FpdzBjZCQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHRoaXMuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChKc29uRWxlbWVudFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSwgZWxlbWVudCk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLnNob3VsZEVuY29kZUVsZW1lbnREZWZhdWx0XzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uXzAuZW5jb2RlRGVmYXVsdHNfOGJlMnZ4JDtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuY29tcG9zZU5hbWVfcHVqN2Y0JCA9IGZ1bmN0aW9uIChwYXJlbnROYW1lLCBjaGlsZE5hbWUpIHtcbiAgICByZXR1cm4gY2hpbGROYW1lO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVUYWdnZWROdWxsXzExcmIkID0gZnVuY3Rpb24gKHRhZykge1xuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbk51bGxfZ2V0SW5zdGFuY2UoKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZEludF9kcGcxeXgkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLnB1dEVsZW1lbnRfemFmdTI5JCh0YWcsIEpzb25MaXRlcmFsX2luaXQodmFsdWUpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkQnl0ZV8xOXFlNDAkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICB0aGlzLnB1dEVsZW1lbnRfemFmdTI5JCh0YWcsIEpzb25MaXRlcmFsX2luaXQodmFsdWUpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkU2hvcnRfdmVjY2owJCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0KHZhbHVlKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZExvbmdfMTl3a2Y4JCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0KHZhbHVlKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZEZsb2F0X3ZsZjRwOCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb25fMC5zdHJpY3RNb2RlXzhiZTJ2eCQgJiYgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgICAgdGhyb3cgSW52YWxpZEZsb2F0aW5nUG9pbnRfMCh2YWx1ZSwgdGFnLCAnZmxvYXQnKTtcbiAgICB9XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0KHZhbHVlKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQgPSBmdW5jdGlvbiAoc2VyaWFsaXplciwgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50VGFnT3JOdWxsICE9IG51bGwgfHwgKCFLb3RsaW4uaXNUeXBlKHNlcmlhbGl6ZXIuZGVzY3JpcHRvci5raW5kLCBQcmltaXRpdmVLaW5kKSAmJiBzZXJpYWxpemVyLmRlc2NyaXB0b3Iua2luZCAhPT0gVW5pb25LaW5kJEVOVU1fS0lORF9nZXRJbnN0YW5jZSgpKSkge1xuICAgICAgZW5jb2RlUG9seW1vcnBoaWNhbGx5JGJyZWFrOiBkbyB7XG4gICAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICAgIGlmICghS290bGluLmlzVHlwZShzZXJpYWxpemVyLCBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIpIHx8IHRoaXMuanNvbi5jb25maWd1cmF0aW9uXzhiZTJ2eCQudXNlQXJyYXlQb2x5bW9ycGhpc21fOGJlMnZ4JCkge1xuICAgICAgICAgIHNlcmlhbGl6ZXIuc2VyaWFsaXplX2F3ZTk3aSQodGhpcywgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrIGVuY29kZVBvbHltb3JwaGljYWxseSRicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0dWFsU2VyaWFsaXplciA9IEtvdGxpbi5pc1R5cGUodG1wJF8wID0gc2VyaWFsaXplci5maW5kUG9seW1vcnBoaWNTZXJpYWxpemVyXzl2MDh1NCQodGhpcywgS290bGluLmlzVHlwZSh0bXAkID0gdmFsdWUsIEFueSkgPyB0bXAkIDogdGhyb3dDQ0UoKSksIEtTZXJpYWxpemVyKSA/IHRtcCRfMCA6IHRocm93Q0NFKCk7XG4gICAgICAgIHZhciBraW5kID0gYWN0dWFsU2VyaWFsaXplci5kZXNjcmlwdG9yLmtpbmQ7XG4gICAgICAgIGNoZWNrS2luZChraW5kKTtcbiAgICAgICAgdGhpcy53cml0ZVBvbHltb3JwaGljXzAgPSB0cnVlO1xuICAgICAgICBhY3R1YWxTZXJpYWxpemVyLnNlcmlhbGl6ZV9hd2U5N2kkKHRoaXMsIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgICB3aGlsZSAoZmFsc2UpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB2YXIgJHJlY2VpdmVyID0gbmV3IEpzb25QcmltaXRpdmVPdXRwdXQodGhpcy5qc29uLCB0aGlzLm5vZGVDb25zdW1lcik7XG4gICAgICAkcmVjZWl2ZXIuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJChzZXJpYWxpemVyLCB2YWx1ZSk7XG4gICAgICAkcmVjZWl2ZXIuZW5kRW5jb2RlX3FhdHNtMCQoc2VyaWFsaXplci5kZXNjcmlwdG9yKTtcbiAgICB9XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZERvdWJsZV9lMzdwaDUkID0gZnVuY3Rpb24gKHRhZywgdmFsdWUpIHtcbiAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uXzAuc3RyaWN0TW9kZV84YmUydngkICYmICFpc0Zpbml0ZV8wKHZhbHVlKSkge1xuICAgICAgdGhyb3cgSW52YWxpZEZsb2F0aW5nUG9pbnRfMCh2YWx1ZSwgdGFnLCAnZG91YmxlJyk7XG4gICAgfVxuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbkxpdGVyYWxfaW5pdCh2YWx1ZSkpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVUYWdnZWRCb29sZWFuX2l1eWhmayQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbkxpdGVyYWxfaW5pdF8wKHZhbHVlKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZENoYXJfMTlxbzFxJCA9IGZ1bmN0aW9uICh0YWcsIHZhbHVlKSB7XG4gICAgdGhpcy5wdXRFbGVtZW50X3phZnUyOSQodGFnLCBKc29uTGl0ZXJhbF9pbml0XzEoU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSkpKTtcbiAgfTtcbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuZW5jb2RlVGFnZ2VkU3RyaW5nX2w5bDhteCQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbkxpdGVyYWxfaW5pdF8xKHZhbHVlKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZEVudW1fZzNhcmF4JCA9IGZ1bmN0aW9uICh0YWcsIGVudW1EZXNjcmlwdGlvbiwgb3JkaW5hbCkge1xuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbkxpdGVyYWxfaW5pdF8xKGVudW1EZXNjcmlwdGlvbi5nZXRFbGVtZW50TmFtZV96YTNscGEkKG9yZGluYWwpKSk7XG4gIH07XG4gIEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHJvdG90eXBlLmVuY29kZVRhZ2dlZFZhbHVlX2RwZzd3YyQgPSBmdW5jdGlvbiAodGFnLCB2YWx1ZSkge1xuICAgIHRoaXMucHV0RWxlbWVudF96YWZ1MjkkKHRhZywgSnNvbkxpdGVyYWxfaW5pdF8xKHZhbHVlLnRvU3RyaW5nKCkpKTtcbiAgfTtcbiAgZnVuY3Rpb24gQWJzdHJhY3RKc29uVHJlZU91dHB1dCRiZWdpblN0cnVjdHVyZSRsYW1iZGEodGhpcyRBYnN0cmFjdEpzb25UcmVlT3V0cHV0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICB0aGlzJEFic3RyYWN0SnNvblRyZWVPdXRwdXQucHV0RWxlbWVudF96YWZ1MjkkKHRoaXMkQWJzdHJhY3RKc29uVHJlZU91dHB1dC5jdXJyZW50VGFnLCBub2RlKTtcbiAgICAgIHJldHVybiBVbml0O1xuICAgIH07XG4gIH1cbiAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5wcm90b3R5cGUuYmVnaW5TdHJ1Y3R1cmVfcjBzYTZ6JCA9IGZ1bmN0aW9uIChkZXNjLCB0eXBlUGFyYW1zKSB7XG4gICAgdmFyIHRtcCQsIHRtcCRfMDtcbiAgICB2YXIgY29uc3VtZXIgPSB0aGlzLmN1cnJlbnRUYWdPck51bGwgPT0gbnVsbCA/IHRoaXMubm9kZUNvbnN1bWVyIDogQWJzdHJhY3RKc29uVHJlZU91dHB1dCRiZWdpblN0cnVjdHVyZSRsYW1iZGEodGhpcyk7XG4gICAgdG1wJCA9IGRlc2Mua2luZDtcbiAgICBpZiAoZXF1YWxzKHRtcCQsIFN0cnVjdHVyZUtpbmQkTElTVF9nZXRJbnN0YW5jZSgpKSB8fCBlcXVhbHModG1wJCwgVW5pb25LaW5kJFBPTFlNT1JQSElDX2dldEluc3RhbmNlKCkpKVxuICAgICAgdG1wJF8wID0gbmV3IEpzb25UcmVlTGlzdE91dHB1dCh0aGlzLmpzb24sIGNvbnN1bWVyKTtcbiAgICBlbHNlIGlmIChlcXVhbHModG1wJCwgU3RydWN0dXJlS2luZCRNQVBfZ2V0SW5zdGFuY2UoKSkpIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmpzb247XG4gICAgICB2YXIgdG1wJF8xO1xuICAgICAgdmFyIGtleURlc2NyaXB0b3IgPSBkZXNjLmdldEVsZW1lbnREZXNjcmlwdG9yX3phM2xwYSQoMCk7XG4gICAgICB2YXIga2V5S2luZCA9IGtleURlc2NyaXB0b3Iua2luZDtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKGtleUtpbmQsIFByaW1pdGl2ZUtpbmQpIHx8IGVxdWFscyhrZXlLaW5kLCBVbmlvbktpbmQuRU5VTV9LSU5EKSkge1xuICAgICAgICB0bXAkXzEgPSBuZXcgSnNvblRyZWVNYXBPdXRwdXQodGhpcy5qc29uLCBjb25zdW1lcik7XG4gICAgICB9XG4gICAgICAgZWxzZSBpZiAoJHJlY2VpdmVyLmNvbmZpZ3VyYXRpb25fOGJlMnZ4JC5hbGxvd1N0cnVjdHVyZWRNYXBLZXlzXzhiZTJ2eCQpIHtcbiAgICAgICAgdG1wJF8xID0gbmV3IEpzb25UcmVlTGlzdE91dHB1dCh0aGlzLmpzb24sIGNvbnN1bWVyKTtcbiAgICAgIH1cbiAgICAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgSnNvbk1hcEludmFsaWRLZXlLaW5kKGtleURlc2NyaXB0b3IpO1xuICAgICAgfVxuICAgICAgdG1wJF8wID0gdG1wJF8xO1xuICAgIH1cbiAgICAgZWxzZVxuICAgICAgdG1wJF8wID0gbmV3IEpzb25UcmVlT3V0cHV0KHRoaXMuanNvbiwgY29uc3VtZXIpO1xuICAgIHZhciBlbmNvZGVyID0gdG1wJF8wO1xuICAgIGlmICh0aGlzLndyaXRlUG9seW1vcnBoaWNfMCkge1xuICAgICAgdGhpcy53cml0ZVBvbHltb3JwaGljXzAgPSBmYWxzZTtcbiAgICAgIGVuY29kZXIucHV0RWxlbWVudF96YWZ1MjkkKHRoaXMuY29uZmlndXJhdGlvbl8wLmNsYXNzRGlzY3JpbWluYXRvcl84YmUydngkLCBKc29uUHJpbWl0aXZlXzIoZGVzYy5uYW1lKSk7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGVyO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5lbmRFbmNvZGVfcWF0c20wJCA9IGZ1bmN0aW9uIChkZXNjKSB7XG4gICAgdGhpcy5ub2RlQ29uc3VtZXIodGhpcy5nZXRDdXJyZW50KCkpO1xuICB9O1xuICBBYnN0cmFjdEpzb25UcmVlT3V0cHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0Fic3RyYWN0SnNvblRyZWVPdXRwdXQnLCBpbnRlcmZhY2VzOiBbSnNvbk91dHB1dCwgTmFtZWRWYWx1ZUVuY29kZXJdfTtcbiAgdmFyIFBSSU1JVElWRV9UQUc7XG4gIGZ1bmN0aW9uIEpzb25QcmltaXRpdmVPdXRwdXQoanNvbiwgbm9kZUNvbnN1bWVyKSB7XG4gICAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5jYWxsKHRoaXMsIGpzb24sIG5vZGVDb25zdW1lcik7XG4gICAgdGhpcy5jb250ZW50XzAgPSBudWxsO1xuICAgIHRoaXMucHVzaFRhZ18xMXJiJChQUklNSVRJVkVfVEFHKTtcbiAgfVxuICBKc29uUHJpbWl0aXZlT3V0cHV0LnByb3RvdHlwZS5wdXRFbGVtZW50X3phZnUyOSQgPSBmdW5jdGlvbiAoa2V5LCBlbGVtZW50KSB7XG4gICAgaWYgKCEoa2V5ID09PSBQUklNSVRJVkVfVEFHKSkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSBcIlRoaXMgb3V0cHV0IGNhbiBvbmx5IGNvbnN1bWUgcHJpbWl0aXZlcyB3aXRoICdwcmltaXRpdmUnIHRhZ1wiO1xuICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgaWYgKCEodGhpcy5jb250ZW50XzAgPT0gbnVsbCkpIHtcbiAgICAgIHZhciBtZXNzYWdlXzAgPSAnUHJpbWl0aXZlIGVsZW1lbnQgd2FzIGFscmVhZHkgcmVjb3JkZWQuIERvZXMgY2FsbCB0byAuZW5jb2RlWHh4IGhhcHBlbiBtb3JlIHRoYW4gb25jZT8nO1xuICAgICAgdGhyb3cgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uX2luaXQobWVzc2FnZV8wLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRlbnRfMCA9IGVsZW1lbnQ7XG4gIH07XG4gIEpzb25QcmltaXRpdmVPdXRwdXQucHJvdG90eXBlLmdldEN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5jb250ZW50XzA7XG4gICAgdmFyIHJlcXVpcmVOb3ROdWxsJHJlc3VsdDtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnUHJpbWl0aXZlIGVsZW1lbnQgaGFzIG5vdCBiZWVuIHJlY29yZGVkLiBJcyBjYWxsIHRvIC5lbmNvZGVYeHggaXMgbWlzc2luZyBpbiBzZXJpYWxpemVyPyc7XG4gICAgICB0aHJvdyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25faW5pdChtZXNzYWdlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICByZXF1aXJlTm90TnVsbCRyZXN1bHQgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcXVpcmVOb3ROdWxsJHJlc3VsdDtcbiAgfTtcbiAgSnNvblByaW1pdGl2ZU91dHB1dC4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdKc29uUHJpbWl0aXZlT3V0cHV0JywgaW50ZXJmYWNlczogW0Fic3RyYWN0SnNvblRyZWVPdXRwdXRdfTtcbiAgZnVuY3Rpb24gSnNvblRyZWVPdXRwdXQoanNvbiwgbm9kZUNvbnN1bWVyKSB7XG4gICAgQWJzdHJhY3RKc29uVHJlZU91dHB1dC5jYWxsKHRoaXMsIGpzb24sIG5vZGVDb25zdW1lcik7XG4gICAgdGhpcy5jb250ZW50XzAgPSBMaW5rZWRIYXNoTWFwX2luaXQoKTtcbiAgfVxuICBKc29uVHJlZU91dHB1dC5wcm90b3R5cGUucHV0RWxlbWVudF96YWZ1MjkkID0gZnVuY3Rpb24gKGtleSwgZWxlbWVudCkge1xuICAgIHRoaXMuY29udGVudF8wLnB1dF94d3pjOXAkKGtleSwgZWxlbWVudCk7XG4gIH07XG4gIEpzb25UcmVlT3V0cHV0LnByb3RvdHlwZS5nZXRDdXJyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgSnNvbk9iamVjdCh0aGlzLmNvbnRlbnRfMCk7XG4gIH07XG4gIEpzb25UcmVlT3V0cHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25UcmVlT3V0cHV0JywgaW50ZXJmYWNlczogW0Fic3RyYWN0SnNvblRyZWVPdXRwdXRdfTtcbiAgZnVuY3Rpb24gSnNvblRyZWVNYXBPdXRwdXQoanNvbiwgbm9kZUNvbnN1bWVyKSB7XG4gICAgSnNvblRyZWVPdXRwdXQuY2FsbCh0aGlzLCBqc29uLCBub2RlQ29uc3VtZXIpO1xuICAgIHRoaXMudGFnXzVjcDZjNyRfMCA9IHRoaXMudGFnXzVjcDZjNyRfMDtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvblRyZWVNYXBPdXRwdXQucHJvdG90eXBlLCAndGFnXzAnLCB7Z2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudGFnXzVjcDZjNyRfMCA9PSBudWxsKVxuICAgICAgcmV0dXJuIHRocm93VVBBRSgndGFnJyk7XG4gICAgcmV0dXJuIHRoaXMudGFnXzVjcDZjNyRfMDtcbiAgfSwgc2V0OiBmdW5jdGlvbiAodGFnKSB7XG4gICAgdGhpcy50YWdfNWNwNmM3JF8wID0gdGFnO1xuICB9fSk7XG4gIEpzb25UcmVlTWFwT3V0cHV0LnByb3RvdHlwZS5wdXRFbGVtZW50X3phZnUyOSQgPSBmdW5jdGlvbiAoa2V5LCBlbGVtZW50KSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIGlkeCA9IHRvSW50KGtleSk7XG4gICAgaWYgKGlkeCAlIDIgPT09IDApIHtcbiAgICAgIGlmIChLb3RsaW4uaXNUeXBlKGVsZW1lbnQsIEpzb25QcmltaXRpdmUpKVxuICAgICAgICB0bXAkID0gZWxlbWVudC5jb250ZW50O1xuICAgICAgZWxzZSBpZiAoS290bGluLmlzVHlwZShlbGVtZW50LCBKc29uT2JqZWN0KSlcbiAgICAgICAgdGhyb3cgSnNvbk1hcEludmFsaWRLZXlLaW5kKEpzb25PYmplY3RTZXJpYWxpemVyX2dldEluc3RhbmNlKCkuZGVzY3JpcHRvcik7XG4gICAgICBlbHNlIGlmIChLb3RsaW4uaXNUeXBlKGVsZW1lbnQsIEpzb25BcnJheSkpXG4gICAgICAgIHRocm93IEpzb25NYXBJbnZhbGlkS2V5S2luZChKc29uQXJyYXlTZXJpYWxpemVyX2dldEluc3RhbmNlKCkuZGVzY3JpcHRvcik7XG4gICAgICBlbHNlXG4gICAgICAgIHRtcCQgPSBLb3RsaW4ubm9XaGVuQnJhbmNoTWF0Y2hlZCgpO1xuICAgICAgdGhpcy50YWdfMCA9IHRtcCQ7XG4gICAgfVxuICAgICBlbHNlIHtcbiAgICAgIHZhciAkcmVjZWl2ZXIgPSB0aGlzLmNvbnRlbnRfMDtcbiAgICAgIHZhciBrZXlfMCA9IHRoaXMudGFnXzA7XG4gICAgICAkcmVjZWl2ZXIucHV0X3h3emM5cCQoa2V5XzAsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbiAgSnNvblRyZWVNYXBPdXRwdXQucHJvdG90eXBlLmdldEN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBKc29uT2JqZWN0KHRoaXMuY29udGVudF8wKTtcbiAgfTtcbiAgSnNvblRyZWVNYXBPdXRwdXQucHJvdG90eXBlLnNob3VsZFdyaXRlRWxlbWVudF9hNXFpaG4kID0gZnVuY3Rpb24gKGRlc2MsIHRhZywgaW5kZXgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgSnNvblRyZWVNYXBPdXRwdXQuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnSnNvblRyZWVNYXBPdXRwdXQnLCBpbnRlcmZhY2VzOiBbSnNvblRyZWVPdXRwdXRdfTtcbiAgZnVuY3Rpb24gSnNvblRyZWVMaXN0T3V0cHV0KGpzb24sIG5vZGVDb25zdW1lcikge1xuICAgIEFic3RyYWN0SnNvblRyZWVPdXRwdXQuY2FsbCh0aGlzLCBqc29uLCBub2RlQ29uc3VtZXIpO1xuICAgIHRoaXMuYXJyYXlfMCA9IEFycmF5TGlzdF9pbml0XzAoKTtcbiAgfVxuICBKc29uVHJlZUxpc3RPdXRwdXQucHJvdG90eXBlLmVsZW1lbnROYW1lXzN6cjJpeSQgPSBmdW5jdGlvbiAoZGVzYywgaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXgudG9TdHJpbmcoKTtcbiAgfTtcbiAgSnNvblRyZWVMaXN0T3V0cHV0LnByb3RvdHlwZS5zaG91bGRXcml0ZUVsZW1lbnRfYTVxaWhuJCA9IGZ1bmN0aW9uIChkZXNjLCB0YWcsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIEpzb25UcmVlTGlzdE91dHB1dC5wcm90b3R5cGUucHV0RWxlbWVudF96YWZ1MjkkID0gZnVuY3Rpb24gKGtleSwgZWxlbWVudCkge1xuICAgIHZhciBpZHggPSB0b0ludChrZXkpO1xuICAgIHRoaXMuYXJyYXlfMC5hZGRfd3htNXVyJChpZHgsIGVsZW1lbnQpO1xuICB9O1xuICBKc29uVHJlZUxpc3RPdXRwdXQucHJvdG90eXBlLmdldEN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBKc29uQXJyYXkodGhpcy5hcnJheV8wKTtcbiAgfTtcbiAgSnNvblRyZWVMaXN0T3V0cHV0LiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ0pzb25UcmVlTGlzdE91dHB1dCcsIGludGVyZmFjZXM6IFtBYnN0cmFjdEpzb25UcmVlT3V0cHV0XX07XG4gIGZ1bmN0aW9uIFdyaXRlTW9kZShuYW1lLCBvcmRpbmFsLCBiZWdpbiwgZW5kKSB7XG4gICAgRW51bS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuYmVnaW4gPSB0b0JveGVkQ2hhcihiZWdpbik7XG4gICAgdGhpcy5lbmQgPSB0b0JveGVkQ2hhcihlbmQpO1xuICAgIHRoaXMubmFtZSQgPSBuYW1lO1xuICAgIHRoaXMub3JkaW5hbCQgPSBvcmRpbmFsO1xuICAgIHRoaXMuYmVnaW5UYyA9IGNoYXJUb1Rva2VuQ2xhc3ModW5ib3hDaGFyKHRoaXMuYmVnaW4pKTtcbiAgICB0aGlzLmVuZFRjID0gY2hhclRvVG9rZW5DbGFzcyh1bmJveENoYXIodGhpcy5lbmQpKTtcbiAgfVxuICBmdW5jdGlvbiBXcml0ZU1vZGVfaW5pdEZpZWxkcygpIHtcbiAgICBXcml0ZU1vZGVfaW5pdEZpZWxkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFdyaXRlTW9kZSRPQkpfaW5zdGFuY2UgPSBuZXcgV3JpdGVNb2RlKCdPQkonLCAwLCBCRUdJTl9PQkosIEVORF9PQkopO1xuICAgIFdyaXRlTW9kZSRMSVNUX2luc3RhbmNlID0gbmV3IFdyaXRlTW9kZSgnTElTVCcsIDEsIEJFR0lOX0xJU1QsIEVORF9MSVNUKTtcbiAgICBXcml0ZU1vZGUkTUFQX2luc3RhbmNlID0gbmV3IFdyaXRlTW9kZSgnTUFQJywgMiwgQkVHSU5fT0JKLCBFTkRfT0JKKTtcbiAgICBXcml0ZU1vZGUkUE9MWV9PQkpfaW5zdGFuY2UgPSBuZXcgV3JpdGVNb2RlKCdQT0xZX09CSicsIDMsIEJFR0lOX0xJU1QsIEVORF9MSVNUKTtcbiAgfVxuICB2YXIgV3JpdGVNb2RlJE9CSl9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gV3JpdGVNb2RlJE9CSl9nZXRJbnN0YW5jZSgpIHtcbiAgICBXcml0ZU1vZGVfaW5pdEZpZWxkcygpO1xuICAgIHJldHVybiBXcml0ZU1vZGUkT0JKX2luc3RhbmNlO1xuICB9XG4gIHZhciBXcml0ZU1vZGUkTElTVF9pbnN0YW5jZTtcbiAgZnVuY3Rpb24gV3JpdGVNb2RlJExJU1RfZ2V0SW5zdGFuY2UoKSB7XG4gICAgV3JpdGVNb2RlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gV3JpdGVNb2RlJExJU1RfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFdyaXRlTW9kZSRNQVBfaW5zdGFuY2U7XG4gIGZ1bmN0aW9uIFdyaXRlTW9kZSRNQVBfZ2V0SW5zdGFuY2UoKSB7XG4gICAgV3JpdGVNb2RlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gV3JpdGVNb2RlJE1BUF9pbnN0YW5jZTtcbiAgfVxuICB2YXIgV3JpdGVNb2RlJFBPTFlfT0JKX2luc3RhbmNlO1xuICBmdW5jdGlvbiBXcml0ZU1vZGUkUE9MWV9PQkpfZ2V0SW5zdGFuY2UoKSB7XG4gICAgV3JpdGVNb2RlX2luaXRGaWVsZHMoKTtcbiAgICByZXR1cm4gV3JpdGVNb2RlJFBPTFlfT0JKX2luc3RhbmNlO1xuICB9XG4gIFdyaXRlTW9kZS4kbWV0YWRhdGEkID0ge2tpbmQ6IEtpbmRfQ0xBU1MsIHNpbXBsZU5hbWU6ICdXcml0ZU1vZGUnLCBpbnRlcmZhY2VzOiBbRW51bV19O1xuICBmdW5jdGlvbiBXcml0ZU1vZGUkdmFsdWVzKCkge1xuICAgIHJldHVybiBbV3JpdGVNb2RlJE9CSl9nZXRJbnN0YW5jZSgpLCBXcml0ZU1vZGUkTElTVF9nZXRJbnN0YW5jZSgpLCBXcml0ZU1vZGUkTUFQX2dldEluc3RhbmNlKCksIFdyaXRlTW9kZSRQT0xZX09CSl9nZXRJbnN0YW5jZSgpXTtcbiAgfVxuICBXcml0ZU1vZGUudmFsdWVzID0gV3JpdGVNb2RlJHZhbHVlcztcbiAgZnVuY3Rpb24gV3JpdGVNb2RlJHZhbHVlT2YobmFtZSkge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSAnT0JKJzpcbiAgICAgICAgcmV0dXJuIFdyaXRlTW9kZSRPQkpfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ0xJU1QnOlxuICAgICAgICByZXR1cm4gV3JpdGVNb2RlJExJU1RfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGNhc2UgJ01BUCc6XG4gICAgICAgIHJldHVybiBXcml0ZU1vZGUkTUFQX2dldEluc3RhbmNlKCk7XG4gICAgICBjYXNlICdQT0xZX09CSic6XG4gICAgICAgIHJldHVybiBXcml0ZU1vZGUkUE9MWV9PQkpfZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGRlZmF1bHQ6dGhyb3dJU0UoJ05vIGVudW0gY29uc3RhbnQga290bGlueC5zZXJpYWxpemF0aW9uLmpzb24uaW50ZXJuYWwuV3JpdGVNb2RlLicgKyBuYW1lKTtcbiAgICB9XG4gIH1cbiAgV3JpdGVNb2RlLnZhbHVlT2ZfNjF6cG9lJCA9IFdyaXRlTW9kZSR2YWx1ZU9mO1xuICBmdW5jdGlvbiBzd2l0Y2hNb2RlKCRyZWNlaXZlciwgZGVzYykge1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSBkZXNjLmtpbmQ7XG4gICAgaWYgKGVxdWFscyh0bXAkLCBVbmlvbktpbmQkUE9MWU1PUlBISUNfZ2V0SW5zdGFuY2UoKSkpXG4gICAgICByZXR1cm4gV3JpdGVNb2RlJFBPTFlfT0JKX2dldEluc3RhbmNlKCk7XG4gICAgZWxzZSBpZiAoZXF1YWxzKHRtcCQsIFN0cnVjdHVyZUtpbmQkTElTVF9nZXRJbnN0YW5jZSgpKSlcbiAgICAgIHJldHVybiBXcml0ZU1vZGUkTElTVF9nZXRJbnN0YW5jZSgpO1xuICAgIGVsc2UgaWYgKGVxdWFscyh0bXAkLCBTdHJ1Y3R1cmVLaW5kJE1BUF9nZXRJbnN0YW5jZSgpKSkge1xuICAgICAgdmFyIHRtcCRfMDtcbiAgICAgIHZhciBrZXlEZXNjcmlwdG9yID0gZGVzYy5nZXRFbGVtZW50RGVzY3JpcHRvcl96YTNscGEkKDApO1xuICAgICAgdmFyIGtleUtpbmQgPSBrZXlEZXNjcmlwdG9yLmtpbmQ7XG4gICAgICBpZiAoS290bGluLmlzVHlwZShrZXlLaW5kLCBQcmltaXRpdmVLaW5kKSB8fCBlcXVhbHMoa2V5S2luZCwgVW5pb25LaW5kLkVOVU1fS0lORCkpIHtcbiAgICAgICAgdG1wJF8wID0gV3JpdGVNb2RlJE1BUF9nZXRJbnN0YW5jZSgpO1xuICAgICAgfVxuICAgICAgIGVsc2UgaWYgKCRyZWNlaXZlci5jb25maWd1cmF0aW9uXzhiZTJ2eCQuYWxsb3dTdHJ1Y3R1cmVkTWFwS2V5c184YmUydngkKSB7XG4gICAgICAgIHRtcCRfMCA9IFdyaXRlTW9kZSRMSVNUX2dldEluc3RhbmNlKCk7XG4gICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgIHRocm93IEpzb25NYXBJbnZhbGlkS2V5S2luZChrZXlEZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0bXAkXzA7XG4gICAgfVxuICAgICBlbHNlXG4gICAgICByZXR1cm4gV3JpdGVNb2RlJE9CSl9nZXRJbnN0YW5jZSgpO1xuICB9XG4gIGZ1bmN0aW9uIFBvbHltb3JwaGljTW9kdWxlQnVpbGRlcihiYXNlQ2xhc3MsIGJhc2VTZXJpYWxpemVyKSB7XG4gICAgaWYgKGJhc2VTZXJpYWxpemVyID09PSB2b2lkIDApXG4gICAgICBiYXNlU2VyaWFsaXplciA9IG51bGw7XG4gICAgdGhpcy5iYXNlQ2xhc3NfMCA9IGJhc2VDbGFzcztcbiAgICB0aGlzLmJhc2VTZXJpYWxpemVyXzAgPSBiYXNlU2VyaWFsaXplcjtcbiAgICB0aGlzLnN1YmNsYXNzZXNfMCA9IEFycmF5TGlzdF9pbml0XzAoKTtcbiAgfVxuICBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkVG9fNTIyNGFoJCA9IGZ1bmN0aW9uIChtb2R1bGVfMCkge1xuICAgIGlmICh0aGlzLmJhc2VTZXJpYWxpemVyXzAgIT0gbnVsbClcbiAgICAgIG1vZHVsZV8wLnJlZ2lzdGVyUG9seW1vcnBoaWNTZXJpYWxpemVyX3ljYTEydyQodGhpcy5iYXNlQ2xhc3NfMCwgdGhpcy5iYXNlQ2xhc3NfMCwgdGhpcy5iYXNlU2VyaWFsaXplcl8wKTtcbiAgICB2YXIgdG1wJDtcbiAgICB0bXAkID0gdGhpcy5zdWJjbGFzc2VzXzAuaXRlcmF0b3IoKTtcbiAgICB3aGlsZSAodG1wJC5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICB2YXIga2NsYXNzID0gZWxlbWVudC5jb21wb25lbnQxKCksIHNlcmlhbGl6ZXIgPSBlbGVtZW50LmNvbXBvbmVudDIoKTtcbiAgICAgIHZhciB0bXAkXzAsIHRtcCRfMTtcbiAgICAgIG1vZHVsZV8wLnJlZ2lzdGVyUG9seW1vcnBoaWNTZXJpYWxpemVyX3ljYTEydyQodGhpcy5iYXNlQ2xhc3NfMCwgS290bGluLmlzVHlwZSh0bXAkXzAgPSBrY2xhc3MsIEtDbGFzcykgPyB0bXAkXzAgOiB0aHJvd0NDRSgpLCBLb3RsaW4uaXNUeXBlKHRtcCRfMSA9IHNlcmlhbGl6ZXIsIEtTZXJpYWxpemVyKSA/IHRtcCRfMSA6IHRocm93Q0NFKCkpO1xuICAgIH1cbiAgfTtcbiAgUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyLnByb3RvdHlwZS5hZGRTdWJjbGFzc19nOGY5bnMkID0gZnVuY3Rpb24gKHN1YmNsYXNzLCBzZXJpYWxpemVyKSB7XG4gICAgdGhpcy5zdWJjbGFzc2VzXzAuYWRkXzExcmIkKHRvKHN1YmNsYXNzLCBzZXJpYWxpemVyKSk7XG4gIH07XG4gIFBvbHltb3JwaGljTW9kdWxlQnVpbGRlci5wcm90b3R5cGUuYWRkU3ViY2xhc3NfOTdhdXp2JCA9IGRlZmluZUlubGluZUZ1bmN0aW9uKCdrb3RsaW54LXNlcmlhbGl6YXRpb24ta290bGlueC1zZXJpYWxpemF0aW9uLXJ1bnRpbWUua290bGlueC5zZXJpYWxpemF0aW9uLm1vZHVsZXMuUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyLmFkZFN1YmNsYXNzXzk3YXV6diQnLCB3cmFwRnVuY3Rpb24oZnVuY3Rpb24gKCkge1xuICAgIHZhciBnZXRLQ2xhc3MgPSBLb3RsaW4uZ2V0S0NsYXNzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoVF8wLCBpc1QsIHNlcmlhbGl6ZXIpIHtcbiAgICAgIHRoaXMuYWRkU3ViY2xhc3NfZzhmOW5zJChnZXRLQ2xhc3MoVF8wKSwgc2VyaWFsaXplcik7XG4gICAgfTtcbiAgfSkpO1xuICBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLmFkZFN1YmNsYXNzX244eWcyeCQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5tb2R1bGVzLlBvbHltb3JwaGljTW9kdWxlQnVpbGRlci5hZGRTdWJjbGFzc19uOHlnMngkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZ2V0S0NsYXNzID0gS290bGluLmdldEtDbGFzcztcbiAgICB2YXIgc2VyaWFsaXplciA9IF8ua290bGlueC5zZXJpYWxpemF0aW9uLnNlcmlhbGl6ZXJfMXliOGI3JDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKFRfMCwgaXNUKSB7XG4gICAgICB0aGlzLmFkZFN1YmNsYXNzX2c4ZjlucyQoZ2V0S0NsYXNzKFRfMCksIHNlcmlhbGl6ZXIoZ2V0S0NsYXNzKFRfMCkpKTtcbiAgICB9O1xuICB9KSk7XG4gIFBvbHltb3JwaGljTW9kdWxlQnVpbGRlci5wcm90b3R5cGUud2l0aF9rbXBpMmokID0gZnVuY3Rpb24gKCRyZWNlaXZlciwgc2VyaWFsaXplcikge1xuICAgIHRoaXMuYWRkU3ViY2xhc3NfZzhmOW5zJCgkcmVjZWl2ZXIsIHNlcmlhbGl6ZXIpO1xuICB9O1xuICBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLmNoYW5nZUJhc2VfYTNwM2YwJCA9IGZ1bmN0aW9uIChuZXdCYXNlQ2xhc3MsIG5ld0Jhc2VDbGFzc1NlcmlhbGl6ZXIpIHtcbiAgICBpZiAobmV3QmFzZUNsYXNzU2VyaWFsaXplciA9PT0gdm9pZCAwKVxuICAgICAgbmV3QmFzZUNsYXNzU2VyaWFsaXplciA9IG51bGw7XG4gICAgdmFyIG5ld01vZHVsZSA9IG5ldyBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIobmV3QmFzZUNsYXNzLCBuZXdCYXNlQ2xhc3NTZXJpYWxpemVyKTtcbiAgICBpZiAodGhpcy5iYXNlU2VyaWFsaXplcl8wICE9IG51bGwpIHtcbiAgICAgIHZhciB0bXAkLCB0bXAkXzA7XG4gICAgICBuZXdNb2R1bGUuYWRkU3ViY2xhc3NfZzhmOW5zJChLb3RsaW4uaXNUeXBlKHRtcCQgPSB0aGlzLmJhc2VDbGFzc18wLCBLQ2xhc3MpID8gdG1wJCA6IHRocm93Q0NFKCksIEtvdGxpbi5pc1R5cGUodG1wJF8wID0gdGhpcy5iYXNlU2VyaWFsaXplcl8wLCBLU2VyaWFsaXplcikgPyB0bXAkXzAgOiB0aHJvd0NDRSgpKTtcbiAgICB9XG4gICAgdmFyIHRtcCRfMTtcbiAgICB0bXAkXzEgPSB0aGlzLnN1YmNsYXNzZXNfMC5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkXzEuaGFzTmV4dCgpKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRtcCRfMS5uZXh0KCk7XG4gICAgICB2YXIgayA9IGVsZW1lbnQuY29tcG9uZW50MSgpLCB2ID0gZWxlbWVudC5jb21wb25lbnQyKCk7XG4gICAgICB2YXIgdG1wJF8yLCB0bXAkXzM7XG4gICAgICBuZXdNb2R1bGUuYWRkU3ViY2xhc3NfZzhmOW5zJChLb3RsaW4uaXNUeXBlKHRtcCRfMiA9IGssIEtDbGFzcykgPyB0bXAkXzIgOiB0aHJvd0NDRSgpLCBLb3RsaW4uaXNUeXBlKHRtcCRfMyA9IHYsIEtTZXJpYWxpemVyKSA/IHRtcCRfMyA6IHRocm93Q0NFKCkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3TW9kdWxlO1xuICB9O1xuICBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyJywgaW50ZXJmYWNlczogW119O1xuICBmdW5jdGlvbiBTZXJpYWxNb2R1bGUoKSB7XG4gIH1cbiAgU2VyaWFsTW9kdWxlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXJpYWxNb2R1bGUnLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIEVtcHR5TW9kdWxlKCkge1xuICAgIEVtcHR5TW9kdWxlX2luc3RhbmNlID0gdGhpcztcbiAgfVxuICBFbXB0eU1vZHVsZS5wcm90b3R5cGUuZ2V0Q29udGV4dHVhbF9sbXNod3ckID0gZnVuY3Rpb24gKGtjbGFzcykge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBFbXB0eU1vZHVsZS5wcm90b3R5cGUuZ2V0UG9seW1vcnBoaWNfYjFjZTBhJCA9IGZ1bmN0aW9uIChiYXNlQ2xhc3MsIHZhbHVlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIEVtcHR5TW9kdWxlLnByb3RvdHlwZS5nZXRQb2x5bW9ycGhpY182eHRzbGEkID0gZnVuY3Rpb24gKGJhc2VDbGFzcywgc2VyaWFsaXplZENsYXNzTmFtZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBFbXB0eU1vZHVsZS5wcm90b3R5cGUuZHVtcFRvXzI0N3JkZCQgPSBmdW5jdGlvbiAoY29sbGVjdG9yKSB7XG4gIH07XG4gIEVtcHR5TW9kdWxlLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9PQkpFQ1QsIHNpbXBsZU5hbWU6ICdFbXB0eU1vZHVsZScsIGludGVyZmFjZXM6IFtTZXJpYWxNb2R1bGVdfTtcbiAgdmFyIEVtcHR5TW9kdWxlX2luc3RhbmNlID0gbnVsbDtcbiAgZnVuY3Rpb24gRW1wdHlNb2R1bGVfZ2V0SW5zdGFuY2UoKSB7XG4gICAgaWYgKEVtcHR5TW9kdWxlX2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgRW1wdHlNb2R1bGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIEVtcHR5TW9kdWxlX2luc3RhbmNlO1xuICB9XG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZXJzTW9kdWxlT2YkbGFtYmRhXzAoY2xvc3VyZSRtYXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCRyZWNlaXZlcikge1xuICAgICAgdmFyIHRtcCQ7XG4gICAgICB0bXAkID0gY2xvc3VyZSRtYXAuZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCQuaGFzTmV4dCgpKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdG1wJC5uZXh0KCk7XG4gICAgICAgIHZhciBrY2xhc3MgPSBlbGVtZW50LmtleTtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZXIgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgICB2YXIgdG1wJF8wLCB0bXAkXzE7XG4gICAgICAgICRyZWNlaXZlci5jb250ZXh0dWFsX2NmaGtiYSQoS290bGluLmlzVHlwZSh0bXAkXzAgPSBrY2xhc3MsIEtDbGFzcykgPyB0bXAkXzAgOiB0aHJvd0NDRSgpLCBLb3RsaW4uaXNUeXBlKHRtcCRfMSA9IHNlcmlhbGl6ZXIsIEtTZXJpYWxpemVyKSA/IHRtcCRfMSA6IHRocm93Q0NFKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBzZXJpYWxpemVyc01vZHVsZU9mXzAobWFwKSB7XG4gICAgcmV0dXJuIFNlcmlhbGl6ZXJzTW9kdWxlKHNlcmlhbGl6ZXJzTW9kdWxlT2YkbGFtYmRhXzAobWFwKSk7XG4gIH1cbiAgZnVuY3Rpb24gU2VyaWFsaXplcnNNb2R1bGUoYnVpbGRBY3Rpb24pIHtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIobmV3IFNlcmlhbE1vZHVsZUltcGwoKSk7XG4gICAgYnVpbGRBY3Rpb24oYnVpbGRlcik7XG4gICAgcmV0dXJuIGJ1aWxkZXIuaW1wbF84YmUydngkO1xuICB9XG4gIGZ1bmN0aW9uIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlcihpbXBsKSB7XG4gICAgdGhpcy5pbXBsXzhiZTJ2eCQgPSBpbXBsO1xuICB9XG4gIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlci5wcm90b3R5cGUuY29udGV4dHVhbF9jZmhrYmEkID0gZnVuY3Rpb24gKGtDbGFzcywgc2VyaWFsaXplcikge1xuICAgIHRoaXMuaW1wbF84YmUydngkLnJlZ2lzdGVyU2VyaWFsaXplcl96M2JremckKGtDbGFzcywgc2VyaWFsaXplcik7XG4gIH07XG4gIFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlci5wcm90b3R5cGUucG9seW1vcnBoaWNfa2Z5aWRpJCA9IGZ1bmN0aW9uIChiYXNlQ2xhc3MsIGFjdHVhbENsYXNzLCBhY3R1YWxTZXJpYWxpemVyKSB7XG4gICAgdGhpcy5pbXBsXzhiZTJ2eCQucmVnaXN0ZXJQb2x5bW9ycGhpY1NlcmlhbGl6ZXJfeWNhMTJ3JChiYXNlQ2xhc3MsIGFjdHVhbENsYXNzLCBhY3R1YWxTZXJpYWxpemVyKTtcbiAgfTtcbiAgU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyLnByb3RvdHlwZS5pbmNsdWRlX3N0cHl1NCQgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBvdGhlci5kdW1wVG9fMjQ3cmRkJCh0aGlzKTtcbiAgfTtcbiAgZnVuY3Rpb24gU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyJHBvbHltb3JwaGljJGxhbWJkYSgkcmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gVW5pdDtcbiAgfVxuICBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLnBvbHltb3JwaGljX3Y1Y2l0aiQgPSBmdW5jdGlvbiAoYmFzZUNsYXNzLCBiYXNlU2VyaWFsaXplciwgYnVpbGRBY3Rpb24pIHtcbiAgICBpZiAoYmFzZVNlcmlhbGl6ZXIgPT09IHZvaWQgMClcbiAgICAgIGJhc2VTZXJpYWxpemVyID0gbnVsbDtcbiAgICBpZiAoYnVpbGRBY3Rpb24gPT09IHZvaWQgMClcbiAgICAgIGJ1aWxkQWN0aW9uID0gU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyJHBvbHltb3JwaGljJGxhbWJkYTtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBQb2x5bW9ycGhpY01vZHVsZUJ1aWxkZXIoYmFzZUNsYXNzLCBiYXNlU2VyaWFsaXplcik7XG4gICAgYnVpbGRBY3Rpb24oYnVpbGRlcik7XG4gICAgYnVpbGRlci5idWlsZFRvXzUyMjRhaCQodGhpcy5pbXBsXzhiZTJ2eCQpO1xuICB9O1xuICBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIucHJvdG90eXBlLnBvbHltb3JwaGljX2N6bHV5cyQgPSBkZWZpbmVJbmxpbmVGdW5jdGlvbigna290bGlueC1zZXJpYWxpemF0aW9uLWtvdGxpbngtc2VyaWFsaXphdGlvbi1ydW50aW1lLmtvdGxpbnguc2VyaWFsaXphdGlvbi5tb2R1bGVzLlNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlci5wb2x5bW9ycGhpY19jemx1eXMkJywgd3JhcEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgVW5pdCA9IEtvdGxpbi5rb3RsaW4uVW5pdDtcbiAgICB2YXIgZ2V0S0NsYXNzID0gS290bGluLmdldEtDbGFzcztcbiAgICBmdW5jdGlvbiBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIkcG9seW1vcnBoaWMkbGFtYmRhKCRyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoQmFzZV8wLCBpc0Jhc2UsIGJhc2VTZXJpYWxpemVyLCBidWlsZEFjdGlvbikge1xuICAgICAgaWYgKGJhc2VTZXJpYWxpemVyID09PSB2b2lkIDApXG4gICAgICAgIGJhc2VTZXJpYWxpemVyID0gbnVsbDtcbiAgICAgIGlmIChidWlsZEFjdGlvbiA9PT0gdm9pZCAwKVxuICAgICAgICBidWlsZEFjdGlvbiA9IFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlciRwb2x5bW9ycGhpYyRsYW1iZGE7XG4gICAgICB0aGlzLnBvbHltb3JwaGljX3Y1Y2l0aiQoZ2V0S0NsYXNzKEJhc2VfMCksIGJhc2VTZXJpYWxpemVyLCBidWlsZEFjdGlvbik7XG4gICAgfTtcbiAgfSkpO1xuICBmdW5jdGlvbiBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIkcG9seW1vcnBoaWMkbGFtYmRhXzAoJHJlY2VpdmVyKSB7XG4gICAgcmV0dXJuIFVuaXQ7XG4gIH1cbiAgU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyLnByb3RvdHlwZS5wb2x5bW9ycGhpY19teXI2c3UkID0gZnVuY3Rpb24gKGJhc2VDbGFzcywgYmFzZUNsYXNzZXMsIGJ1aWxkQWN0aW9uKSB7XG4gICAgaWYgKGJ1aWxkQWN0aW9uID09PSB2b2lkIDApXG4gICAgICBidWlsZEFjdGlvbiA9IFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlciRwb2x5bW9ycGhpYyRsYW1iZGFfMDtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzE7XG4gICAgdmFyIGJ1aWxkZXIgPSBuZXcgUG9seW1vcnBoaWNNb2R1bGVCdWlsZGVyKEtvdGxpbi5pc1R5cGUodG1wJCA9IGJhc2VDbGFzcywgS0NsYXNzKSA/IHRtcCQgOiB0aHJvd0NDRSgpLCBudWxsKTtcbiAgICBidWlsZEFjdGlvbihidWlsZGVyKTtcbiAgICBidWlsZGVyLmJ1aWxkVG9fNTIyNGFoJCh0aGlzLmltcGxfOGJlMnZ4JCk7XG4gICAgZm9yICh0bXAkXzAgPSAwOyB0bXAkXzAgIT09IGJhc2VDbGFzc2VzLmxlbmd0aDsgKyt0bXAkXzApIHtcbiAgICAgIHZhciBiYXNlID0gYmFzZUNsYXNzZXNbdG1wJF8wXTtcbiAgICAgIGJ1aWxkZXIuY2hhbmdlQmFzZV9hM3AzZjAkKEtvdGxpbi5pc1R5cGUodG1wJF8xID0gYmFzZSwgS0NsYXNzKSA/IHRtcCRfMSA6IHRocm93Q0NFKCksIG51bGwpLmJ1aWxkVG9fNTIyNGFoJCh0aGlzLmltcGxfOGJlMnZ4JCk7XG4gICAgfVxuICB9O1xuICBTZXJpYWxpemVyc01vZHVsZUJ1aWxkZXIuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU2VyaWFsaXplcnNNb2R1bGVCdWlsZGVyJywgaW50ZXJmYWNlczogW1NlcmlhbE1vZHVsZUNvbGxlY3Rvcl19O1xuICBmdW5jdGlvbiBTZXJpYWxNb2R1bGVDb2xsZWN0b3IoKSB7XG4gIH1cbiAgU2VyaWFsTW9kdWxlQ29sbGVjdG9yLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9JTlRFUkZBQ0UsIHNpbXBsZU5hbWU6ICdTZXJpYWxNb2R1bGVDb2xsZWN0b3InLCBpbnRlcmZhY2VzOiBbXX07XG4gIGZ1bmN0aW9uIGdldENvbnRleHR1YWxPckRlZmF1bHQoJHJlY2VpdmVyLCBrbGFzcykge1xuICAgIHZhciB0bXAkO1xuICAgIHJldHVybiAodG1wJCA9ICRyZWNlaXZlci5nZXRDb250ZXh0dWFsX2xtc2h3dyQoa2xhc3MpKSAhPSBudWxsID8gdG1wJCA6IHNlcmlhbGl6ZXIoa2xhc3MpO1xuICB9XG4gIGZ1bmN0aW9uIHBsdXMkbGFtYmRhKHRoaXMkcGx1cywgY2xvc3VyZSRvdGhlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoJHJlY2VpdmVyKSB7XG4gICAgICAkcmVjZWl2ZXIuaW5jbHVkZV9zdHB5dTQkKHRoaXMkcGx1cyk7XG4gICAgICAkcmVjZWl2ZXIuaW5jbHVkZV9zdHB5dTQkKGNsb3N1cmUkb3RoZXIpO1xuICAgICAgcmV0dXJuIFVuaXQ7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBwbHVzKCRyZWNlaXZlciwgb3RoZXIpIHtcbiAgICByZXR1cm4gU2VyaWFsaXplcnNNb2R1bGUocGx1cyRsYW1iZGEoJHJlY2VpdmVyLCBvdGhlcikpO1xuICB9XG4gIGZ1bmN0aW9uIFNlcmlhbE1vZHVsZUltcGwoKSB7XG4gICAgdGhpcy5jbGFzc01hcF8wID0gSGFzaE1hcF9pbml0KCk7XG4gICAgdGhpcy5wb2x5TWFwXzAgPSBIYXNoTWFwX2luaXQoKTtcbiAgICB0aGlzLmludmVyc2VDbGFzc05hbWVNYXBfMCA9IEhhc2hNYXBfaW5pdCgpO1xuICB9XG4gIFNlcmlhbE1vZHVsZUltcGwucHJvdG90eXBlLnJlZ2lzdGVyU2VyaWFsaXplcl96M2JremckID0gZnVuY3Rpb24gKGZvckNsYXNzLCBzZXJpYWxpemVyLCBhbGxvd092ZXJ3cml0ZSkge1xuICAgIGlmIChhbGxvd092ZXJ3cml0ZSA9PT0gdm9pZCAwKVxuICAgICAgYWxsb3dPdmVyd3JpdGUgPSBmYWxzZTtcbiAgICB2YXIgdG1wJCA9ICFhbGxvd092ZXJ3cml0ZTtcbiAgICBpZiAodG1wJCkge1xuICAgICAgdmFyICRyZWNlaXZlciA9IHRoaXMuY2xhc3NNYXBfMDtcbiAgICAgIHZhciB0bXAkXzA7XG4gICAgICB0bXAkID0gKEtvdGxpbi5pc1R5cGUodG1wJF8wID0gJHJlY2VpdmVyLCBNYXApID8gdG1wJF8wIDogdGhyb3dDQ0UoKSkuY29udGFpbnNLZXlfMTFyYiQoZm9yQ2xhc3MpO1xuICAgIH1cbiAgICBpZiAodG1wJClcbiAgICAgIHRocm93IFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbl9pbml0XzAoZm9yQ2xhc3MpO1xuICAgIHRoaXMuY2xhc3NNYXBfMC5wdXRfeHd6YzlwJChmb3JDbGFzcywgc2VyaWFsaXplcik7XG4gIH07XG4gIFNlcmlhbE1vZHVsZUltcGwucHJvdG90eXBlLnJlZ2lzdGVyUG9seW1vcnBoaWNTZXJpYWxpemVyX3ljYTEydyQgPSBmdW5jdGlvbiAoYmFzZUNsYXNzLCBjb25jcmV0ZUNsYXNzLCBjb25jcmV0ZVNlcmlhbGl6ZXIsIGFsbG93T3ZlcndyaXRlKSB7XG4gICAgaWYgKGFsbG93T3ZlcndyaXRlID09PSB2b2lkIDApXG4gICAgICBhbGxvd092ZXJ3cml0ZSA9IGZhbHNlO1xuICAgIHZhciBuYW1lID0gY29uY3JldGVTZXJpYWxpemVyLmRlc2NyaXB0b3IubmFtZTtcbiAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5wb2x5TWFwXzA7XG4gICAgdmFyIHRtcCQ7XG4gICAgdmFyIHZhbHVlID0gJHJlY2VpdmVyLmdldF8xMXJiJChiYXNlQ2xhc3MpO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICB2YXIgYW5zd2VyID0gSGFzaE1hcF9pbml0KCk7XG4gICAgICAkcmVjZWl2ZXIucHV0X3h3emM5cCQoYmFzZUNsYXNzLCBhbnN3ZXIpO1xuICAgICAgdG1wJCA9IGFuc3dlcjtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdG1wJCA9IHZhbHVlO1xuICAgIH1cbiAgICB2YXIgYmFzZUNsYXNzTWFwID0gdG1wJDtcbiAgICB2YXIgdG1wJF8wID0gIWFsbG93T3ZlcndyaXRlO1xuICAgIGlmICh0bXAkXzApIHtcbiAgICAgIHZhciB0bXAkXzE7XG4gICAgICB0bXAkXzAgPSAoS290bGluLmlzVHlwZSh0bXAkXzEgPSBiYXNlQ2xhc3NNYXAsIE1hcCkgPyB0bXAkXzEgOiB0aHJvd0NDRSgpKS5jb250YWluc0tleV8xMXJiJChjb25jcmV0ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKHRtcCRfMClcbiAgICAgIHRocm93IFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbl9pbml0KGJhc2VDbGFzcywgY29uY3JldGVDbGFzcyk7XG4gICAgYmFzZUNsYXNzTWFwLnB1dF94d3pjOXAkKGNvbmNyZXRlQ2xhc3MsIGNvbmNyZXRlU2VyaWFsaXplcik7XG4gICAgdmFyICRyZWNlaXZlcl8wID0gdGhpcy5pbnZlcnNlQ2xhc3NOYW1lTWFwXzA7XG4gICAgdmFyIHRtcCRfMjtcbiAgICB2YXIgdmFsdWVfMCA9ICRyZWNlaXZlcl8wLmdldF8xMXJiJChiYXNlQ2xhc3MpO1xuICAgIGlmICh2YWx1ZV8wID09IG51bGwpIHtcbiAgICAgIHZhciBhbnN3ZXJfMCA9IEhhc2hNYXBfaW5pdCgpO1xuICAgICAgJHJlY2VpdmVyXzAucHV0X3h3emM5cCQoYmFzZUNsYXNzLCBhbnN3ZXJfMCk7XG4gICAgICB0bXAkXzIgPSBhbnN3ZXJfMDtcbiAgICB9XG4gICAgIGVsc2Uge1xuICAgICAgdG1wJF8yID0gdmFsdWVfMDtcbiAgICB9XG4gICAgdG1wJF8yLnB1dF94d3pjOXAkKG5hbWUsIGNvbmNyZXRlU2VyaWFsaXplcik7XG4gIH07XG4gIFNlcmlhbE1vZHVsZUltcGwucHJvdG90eXBlLmdldFBvbHltb3JwaGljX2IxY2UwYSQgPSBmdW5jdGlvbiAoYmFzZUNsYXNzLCB2YWx1ZSkge1xuICAgIHZhciB0bXAkLCB0bXAkXzAsIHRtcCRfMTtcbiAgICBpZiAoIWlzSW5zdGFuY2VPZih2YWx1ZSwgYmFzZUNsYXNzKSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGlmICgodG1wJCA9IChiYXNlQ2xhc3MgIT0gbnVsbCA/IGJhc2VDbGFzcy5lcXVhbHMoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykgOiBudWxsKSA/IFN0YW5kYXJkU3VidHlwZXNPZkFueV9nZXRJbnN0YW5jZSgpLmdldFN1YmNsYXNzU2VyaWFsaXplcl9rY213eG8kKHZhbHVlKSA6IG51bGwpICE9IG51bGwpIHtcbiAgICAgIHZhciB0bXAkXzI7XG4gICAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkXzIgPSB0bXAkLCBLU2VyaWFsaXplcikgPyB0bXAkXzIgOiB0aHJvd0NDRSgpO1xuICAgIH1cbiAgICByZXR1cm4gS290bGluLmlzVHlwZSh0bXAkXzEgPSAodG1wJF8wID0gdGhpcy5wb2x5TWFwXzAuZ2V0XzExcmIkKGJhc2VDbGFzcykpICE9IG51bGwgPyB0bXAkXzAuZ2V0XzExcmIkKEtvdGxpbi5nZXRLQ2xhc3NGcm9tRXhwcmVzc2lvbih2YWx1ZSkpIDogbnVsbCwgS1NlcmlhbGl6ZXIpID8gdG1wJF8xIDogbnVsbDtcbiAgfTtcbiAgU2VyaWFsTW9kdWxlSW1wbC5wcm90b3R5cGUuZ2V0UG9seW1vcnBoaWNfNnh0c2xhJCA9IGZ1bmN0aW9uIChiYXNlQ2xhc3MsIHNlcmlhbGl6ZWRDbGFzc05hbWUpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wLCB0bXAkXzE7XG4gICAgaWYgKCh0bXAkID0gKGJhc2VDbGFzcyAhPSBudWxsID8gYmFzZUNsYXNzLmVxdWFscyhQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSA6IG51bGwpID8gU3RhbmRhcmRTdWJ0eXBlc09mQW55X2dldEluc3RhbmNlKCkuZ2V0RGVmYXVsdERlc2VyaWFsaXplcl95NHB1dGIkKHNlcmlhbGl6ZWRDbGFzc05hbWUpIDogbnVsbCkgIT0gbnVsbCkge1xuICAgICAgdmFyIHRtcCRfMjtcbiAgICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCRfMiA9IHRtcCQsIEtTZXJpYWxpemVyKSA/IHRtcCRfMiA6IHRocm93Q0NFKCk7XG4gICAgfVxuICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCRfMSA9ICh0bXAkXzAgPSB0aGlzLmludmVyc2VDbGFzc05hbWVNYXBfMC5nZXRfMTFyYiQoYmFzZUNsYXNzKSkgIT0gbnVsbCA/IHRtcCRfMC5nZXRfMTFyYiQoc2VyaWFsaXplZENsYXNzTmFtZSkgOiBudWxsLCBLU2VyaWFsaXplcikgPyB0bXAkXzEgOiBudWxsO1xuICB9O1xuICBTZXJpYWxNb2R1bGVJbXBsLnByb3RvdHlwZS5nZXRDb250ZXh0dWFsX2xtc2h3dyQgPSBmdW5jdGlvbiAoa2NsYXNzKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgcmV0dXJuIEtvdGxpbi5pc1R5cGUodG1wJCA9IHRoaXMuY2xhc3NNYXBfMC5nZXRfMTFyYiQoa2NsYXNzKSwgS1NlcmlhbGl6ZXIpID8gdG1wJCA6IG51bGw7XG4gIH07XG4gIFNlcmlhbE1vZHVsZUltcGwucHJvdG90eXBlLmR1bXBUb18yNDdyZGQkID0gZnVuY3Rpb24gKGNvbGxlY3Rvcikge1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSB0aGlzLmNsYXNzTWFwXzAuZW50cmllcy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgIHZhciBrY2xhc3MgPSBlbGVtZW50LmtleTtcbiAgICAgIHZhciBzZXJpYWwgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgdmFyIHRtcCRfMCwgdG1wJF8xO1xuICAgICAgY29sbGVjdG9yLmNvbnRleHR1YWxfY2Zoa2JhJChLb3RsaW4uaXNUeXBlKHRtcCRfMCA9IGtjbGFzcywgS0NsYXNzKSA/IHRtcCRfMCA6IHRocm93Q0NFKCksIEtvdGxpbi5pc1R5cGUodG1wJF8xID0gc2VyaWFsLCBLU2VyaWFsaXplcikgPyB0bXAkXzEgOiB0aHJvd0NDRSgpKTtcbiAgICB9XG4gICAgdmFyIHRtcCRfMjtcbiAgICB0bXAkXzIgPSB0aGlzLnBvbHlNYXBfMC5lbnRyaWVzLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUgKHRtcCRfMi5oYXNOZXh0KCkpIHtcbiAgICAgIHZhciBlbGVtZW50XzAgPSB0bXAkXzIubmV4dCgpO1xuICAgICAgdmFyIGJhc2VDbGFzcyA9IGVsZW1lbnRfMC5rZXk7XG4gICAgICB2YXIgY2xhc3NNYXAgPSBlbGVtZW50XzAudmFsdWU7XG4gICAgICB2YXIgdG1wJF8zO1xuICAgICAgdG1wJF8zID0gY2xhc3NNYXAuZW50cmllcy5pdGVyYXRvcigpO1xuICAgICAgd2hpbGUgKHRtcCRfMy5oYXNOZXh0KCkpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRfMSA9IHRtcCRfMy5uZXh0KCk7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzcyA9IGVsZW1lbnRfMS5rZXk7XG4gICAgICAgIHZhciBzZXJpYWxpemVyID0gZWxlbWVudF8xLnZhbHVlO1xuICAgICAgICB2YXIgdG1wJF80LCB0bXAkXzUsIHRtcCRfNjtcbiAgICAgICAgY29sbGVjdG9yLnBvbHltb3JwaGljX2tmeWlkaSQoS290bGluLmlzVHlwZSh0bXAkXzQgPSBiYXNlQ2xhc3MsIEtDbGFzcykgPyB0bXAkXzQgOiB0aHJvd0NDRSgpLCBLb3RsaW4uaXNUeXBlKHRtcCRfNSA9IGFjdHVhbENsYXNzLCBLQ2xhc3MpID8gdG1wJF81IDogdGhyb3dDQ0UoKSwgS290bGluLmlzVHlwZSh0bXAkXzYgPSBzZXJpYWxpemVyLCBLU2VyaWFsaXplcikgPyB0bXAkXzYgOiB0aHJvd0NDRSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFNlcmlhbE1vZHVsZUltcGwuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX0NMQVNTLCBzaW1wbGVOYW1lOiAnU2VyaWFsTW9kdWxlSW1wbCcsIGludGVyZmFjZXM6IFtTZXJpYWxNb2R1bGVdfTtcbiAgZnVuY3Rpb24gU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uKG1zZykge1xuICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl9pbml0KG1zZywgdGhpcyk7XG4gICAgdGhpcy5uYW1lID0gJ1NlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbic7XG4gIH1cbiAgU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uLiRtZXRhZGF0YSQgPSB7a2luZDogS2luZF9DTEFTUywgc2ltcGxlTmFtZTogJ1NlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbicsIGludGVyZmFjZXM6IFtJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25dfTtcbiAgZnVuY3Rpb24gU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uX2luaXQoYmFzZUNsYXNzLCBjb25jcmV0ZUNsYXNzLCAkdGhpcykge1xuICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24uY2FsbCgkdGhpcywgJ1NlcmlhbGl6ZXIgZm9yICcgKyBjb25jcmV0ZUNsYXNzICsgJyBhbHJlYWR5IHJlZ2lzdGVyZWQgaW4gdGhlIHNjb3BlIG9mICcgKyBiYXNlQ2xhc3MpO1xuICAgIHJldHVybiAkdGhpcztcbiAgfVxuICBmdW5jdGlvbiBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb25faW5pdF8wKGZvckNsYXNzLCAkdGhpcykge1xuICAgICR0aGlzID0gJHRoaXMgfHwgT2JqZWN0LmNyZWF0ZShTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24ucHJvdG90eXBlKTtcbiAgICBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24uY2FsbCgkdGhpcywgJ1NlcmlhbGl6ZXIgZm9yICcgKyBmb3JDbGFzcyArICcgYWxyZWFkeSByZWdpc3RlcmVkIGluIHRoaXMgbW9kdWxlJyk7XG4gICAgcmV0dXJuICR0aGlzO1xuICB9XG4gIGZ1bmN0aW9uIFN0YW5kYXJkU3VidHlwZXNPZkFueSgpIHtcbiAgICBTdGFuZGFyZFN1YnR5cGVzT2ZBbnlfaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMubWFwXzAgPSBtYXBPZihbdG8oZ2V0S0NsYXNzKExpc3QpLCBuZXcgQXJyYXlMaXN0U2VyaWFsaXplcihtYWtlTnVsbGFibGUobmV3IFBvbHltb3JwaGljU2VyaWFsaXplcihQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSkpKSwgdG8oZ2V0S0NsYXNzKExpbmtlZEhhc2hTZXQpLCBuZXcgTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIobWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpKSksIHRvKGdldEtDbGFzcyhIYXNoU2V0KSwgbmV3IEhhc2hTZXRTZXJpYWxpemVyKG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSkpLCB0byhnZXRLQ2xhc3MoU2V0KSwgbmV3IExpbmtlZEhhc2hTZXRTZXJpYWxpemVyKG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSkpLCB0byhnZXRLQ2xhc3MoTGlua2VkSGFzaE1hcCksIG5ldyBMaW5rZWRIYXNoTWFwU2VyaWFsaXplcihtYWtlTnVsbGFibGUobmV3IFBvbHltb3JwaGljU2VyaWFsaXplcihQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSksIG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSkpLCB0byhnZXRLQ2xhc3MoSGFzaE1hcCksIG5ldyBIYXNoTWFwU2VyaWFsaXplcihtYWtlTnVsbGFibGUobmV3IFBvbHltb3JwaGljU2VyaWFsaXplcihQcmltaXRpdmVDbGFzc2VzJGFueUNsYXNzKSksIG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSkpLCB0byhnZXRLQ2xhc3MoTWFwKSwgbmV3IExpbmtlZEhhc2hNYXBTZXJpYWxpemVyKG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSwgbWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpKSksIHRvKGdldEtDbGFzcyhNYXAkRW50cnkpLCBuZXcgTWFwRW50cnlTZXJpYWxpemVyKG1ha2VOdWxsYWJsZShuZXcgUG9seW1vcnBoaWNTZXJpYWxpemVyKFByaW1pdGl2ZUNsYXNzZXMkYW55Q2xhc3MpKSwgbWFrZU51bGxhYmxlKG5ldyBQb2x5bW9ycGhpY1NlcmlhbGl6ZXIoUHJpbWl0aXZlQ2xhc3NlcyRhbnlDbGFzcykpKSksIHRvKFByaW1pdGl2ZUNsYXNzZXMkc3RyaW5nQ2xhc3MsIFN0cmluZ1NlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKGdldEtDbGFzcyhDaGFyKSwgQ2hhclNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKFByaW1pdGl2ZUNsYXNzZXMkZG91YmxlQ2xhc3MsIERvdWJsZVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKFByaW1pdGl2ZUNsYXNzZXMkZmxvYXRDbGFzcywgRmxvYXRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhnZXRLQ2xhc3MoTG9uZyksIExvbmdTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhQcmltaXRpdmVDbGFzc2VzJGludENsYXNzLCBJbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhQcmltaXRpdmVDbGFzc2VzJHNob3J0Q2xhc3MsIFNob3J0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oUHJpbWl0aXZlQ2xhc3NlcyRieXRlQ2xhc3MsIEJ5dGVTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhQcmltaXRpdmVDbGFzc2VzJGJvb2xlYW5DbGFzcywgQm9vbGVhblNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKGdldEtDbGFzcyhPYmplY3QuZ2V0UHJvdG90eXBlT2Yoa290bGluLlVuaXQpLmNvbnN0cnVjdG9yKSwgVW5pdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSldKTtcbiAgICB2YXIgJHJlY2VpdmVyID0gdGhpcy5tYXBfMDtcbiAgICB2YXIgZGVzdGluYXRpb24gPSBMaW5rZWRIYXNoTWFwX2luaXRfMShtYXBDYXBhY2l0eSgkcmVjZWl2ZXIuc2l6ZSkpO1xuICAgIHZhciB0bXAkO1xuICAgIHRtcCQgPSAkcmVjZWl2ZXIuZW50cmllcy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0bXAkLm5leHQoKTtcbiAgICAgIHZhciB0bXAkXzAgPSBkZXN0aW5hdGlvbi5wdXRfeHd6YzlwJDtcbiAgICAgIHZhciBzID0gZWxlbWVudC52YWx1ZTtcbiAgICAgIHRtcCRfMC5jYWxsKGRlc3RpbmF0aW9uLCBzLmRlc2NyaXB0b3IubmFtZSwgZWxlbWVudC52YWx1ZSk7XG4gICAgfVxuICAgIHRoaXMuZGVzZXJpYWxpemluZ01hcF8wID0gZGVzdGluYXRpb247XG4gIH1cbiAgU3RhbmRhcmRTdWJ0eXBlc09mQW55LnByb3RvdHlwZS5nZXRTdWJjbGFzc1NlcmlhbGl6ZXJfa2Ntd3hvJCA9IGZ1bmN0aW9uIChvYmplY3RUb0NoZWNrKSB7XG4gICAgdmFyIHRtcCQ7XG4gICAgdG1wJCA9IHRoaXMubWFwXzAuZW50cmllcy5pdGVyYXRvcigpO1xuICAgIHdoaWxlICh0bXAkLmhhc05leHQoKSkge1xuICAgICAgdmFyIHRtcCRfMCA9IHRtcCQubmV4dCgpO1xuICAgICAgdmFyIGsgPSB0bXAkXzAua2V5O1xuICAgICAgdmFyIHYgPSB0bXAkXzAudmFsdWU7XG4gICAgICBpZiAoaXNJbnN0YW5jZU9mKG9iamVjdFRvQ2hlY2ssIGspKVxuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIFN0YW5kYXJkU3VidHlwZXNPZkFueS5wcm90b3R5cGUuZ2V0RGVmYXVsdERlc2VyaWFsaXplcl95NHB1dGIkID0gZnVuY3Rpb24gKHNlcmlhbGl6ZWRDbGFzc05hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5kZXNlcmlhbGl6aW5nTWFwXzAuZ2V0XzExcmIkKHNlcmlhbGl6ZWRDbGFzc05hbWUpO1xuICB9O1xuICBTdGFuZGFyZFN1YnR5cGVzT2ZBbnkuJG1ldGFkYXRhJCA9IHtraW5kOiBLaW5kX09CSkVDVCwgc2ltcGxlTmFtZTogJ1N0YW5kYXJkU3VidHlwZXNPZkFueScsIGludGVyZmFjZXM6IFtdfTtcbiAgdmFyIFN0YW5kYXJkU3VidHlwZXNPZkFueV9pbnN0YW5jZSA9IG51bGw7XG4gIGZ1bmN0aW9uIFN0YW5kYXJkU3VidHlwZXNPZkFueV9nZXRJbnN0YW5jZSgpIHtcbiAgICBpZiAoU3RhbmRhcmRTdWJ0eXBlc09mQW55X2luc3RhbmNlID09PSBudWxsKSB7XG4gICAgICBuZXcgU3RhbmRhcmRTdWJ0eXBlc09mQW55KCk7XG4gICAgfVxuICAgIHJldHVybiBTdGFuZGFyZFN1YnR5cGVzT2ZBbnlfaW5zdGFuY2U7XG4gIH1cbiAgdmFyIFByb3RvQnVmJFZhcmludF9pbnN0YW5jZSA9IG51bGw7XG4gIHZhciBQcm90b0J1ZiRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICB2YXIgUHJvdG9OdW1iZXJUeXBlJERFRkFVTFRfaW5zdGFuY2U7XG4gIHZhciBQcm90b051bWJlclR5cGUkU0lHTkVEX2luc3RhbmNlO1xuICB2YXIgUHJvdG9OdW1iZXJUeXBlJEZJWEVEX2luc3RhbmNlO1xuICB2YXIgQnl0ZUJ1ZmZlciRDb21wYW5pb25faW5zdGFuY2UgPSBudWxsO1xuICB2YXIgSW5wdXRTdHJlYW0kQ29tcGFuaW9uX2luc3RhbmNlID0gbnVsbDtcbiAgdmFyIE1BWF9TQUZFX0lOVEVHRVI7XG4gIGZ1bmN0aW9uIGNvbXBpbGVkU2VyaWFsaXplcigkcmVjZWl2ZXIpIHtcbiAgICB2YXIgdG1wJCwgdG1wJF8wO1xuICAgIHJldHVybiBLb3RsaW4uaXNUeXBlKHRtcCRfMCA9ICh0bXAkID0gZ2V0X2pzKCRyZWNlaXZlcikuQ29tcGFuaW9uKSAhPSBudWxsID8gdG1wJC5zZXJpYWxpemVyKCkgOiBudWxsLCBLU2VyaWFsaXplcikgPyB0bXAkXzAgOiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGlzSW5zdGFuY2VPZigkcmVjZWl2ZXIsIGtjbGFzcykge1xuICAgIHJldHVybiBrY2xhc3MuaXNJbnN0YW5jZV9zOGp5djQkKCRyZWNlaXZlcik7XG4gIH1cbiAgdmFyIHBhY2thZ2Uka290bGlueCA9IF8ua290bGlueCB8fCAoXy5rb3RsaW54ID0ge30pO1xuICB2YXIgcGFja2FnZSRzZXJpYWxpemF0aW9uID0gcGFja2FnZSRrb3RsaW54LnNlcmlhbGl6YXRpb24gfHwgKHBhY2thZ2Uka290bGlueC5zZXJpYWxpemF0aW9uID0ge30pO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uRW5jb2RlciA9IEVuY29kZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5Db21wb3NpdGVFbmNvZGVyID0gQ29tcG9zaXRlRW5jb2RlcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkRlY29kZXIgPSBEZWNvZGVyO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9zaXRlRGVjb2RlciwgJ0NvbXBhbmlvbicsIHtnZXQ6IENvbXBvc2l0ZURlY29kZXIkQ29tcGFuaW9uX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5Db21wb3NpdGVEZWNvZGVyID0gQ29tcG9zaXRlRGVjb2RlcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkNvbnRleHRTZXJpYWxpemVyID0gQ29udGV4dFNlcmlhbGl6ZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5TZXJpYWxEZXNjcmlwdG9yID0gU2VyaWFsRGVzY3JpcHRvcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlNlcmlhbGl6YXRpb25TdHJhdGVneSA9IFNlcmlhbGl6YXRpb25TdHJhdGVneTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkRlc2VyaWFsaXphdGlvblN0cmF0ZWd5ID0gRGVzZXJpYWxpemF0aW9uU3RyYXRlZ3k7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVcGRhdGVNb2RlLCAnQkFOTkVEJywge2dldDogVXBkYXRlTW9kZSRCQU5ORURfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVwZGF0ZU1vZGUsICdPVkVSV1JJVEUnLCB7Z2V0OiBVcGRhdGVNb2RlJE9WRVJXUklURV9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVXBkYXRlTW9kZSwgJ1VQREFURScsIHtnZXQ6IFVwZGF0ZU1vZGUkVVBEQVRFX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5VcGRhdGVNb2RlID0gVXBkYXRlTW9kZTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLktTZXJpYWxpemVyID0gS1NlcmlhbGl6ZXI7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5zZXJpYWxpemVyXzF5YjhiNyQgPSBzZXJpYWxpemVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uZW5jb2RlX2R0M3VnZCQgPSBlbmNvZGVfMDtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLmRlY29kZV9jbXN3aTckID0gZGVjb2RlXzA7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5TZXJpYWxLaW5kID0gU2VyaWFsS2luZDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZUtpbmQsICdJTlQnLCB7Z2V0OiBQcmltaXRpdmVLaW5kJElOVF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ1VOSVQnLCB7Z2V0OiBQcmltaXRpdmVLaW5kJFVOSVRfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZUtpbmQsICdCT09MRUFOJywge2dldDogUHJpbWl0aXZlS2luZCRCT09MRUFOX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcmltaXRpdmVLaW5kLCAnQllURScsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkQllURV9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ1NIT1JUJywge2dldDogUHJpbWl0aXZlS2luZCRTSE9SVF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ0xPTkcnLCB7Z2V0OiBQcmltaXRpdmVLaW5kJExPTkdfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZUtpbmQsICdGTE9BVCcsIHtnZXQ6IFByaW1pdGl2ZUtpbmQkRkxPQVRfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZUtpbmQsICdET1VCTEUnLCB7Z2V0OiBQcmltaXRpdmVLaW5kJERPVUJMRV9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlS2luZCwgJ0NIQVInLCB7Z2V0OiBQcmltaXRpdmVLaW5kJENIQVJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZUtpbmQsICdTVFJJTkcnLCB7Z2V0OiBQcmltaXRpdmVLaW5kJFNUUklOR19nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uUHJpbWl0aXZlS2luZCA9IFByaW1pdGl2ZUtpbmQ7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJ1Y3R1cmVLaW5kLCAnQ0xBU1MnLCB7Z2V0OiBTdHJ1Y3R1cmVLaW5kJENMQVNTX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJ1Y3R1cmVLaW5kLCAnTElTVCcsIHtnZXQ6IFN0cnVjdHVyZUtpbmQkTElTVF9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RydWN0dXJlS2luZCwgJ01BUCcsIHtnZXQ6IFN0cnVjdHVyZUtpbmQkTUFQX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5TdHJ1Y3R1cmVLaW5kID0gU3RydWN0dXJlS2luZDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaW9uS2luZCwgJ09CSkVDVCcsIHtnZXQ6IFVuaW9uS2luZCRPQkpFQ1RfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaW9uS2luZCwgJ0VOVU1fS0lORCcsIHtnZXQ6IFVuaW9uS2luZCRFTlVNX0tJTkRfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaW9uS2luZCwgJ1NFQUxFRCcsIHtnZXQ6IFVuaW9uS2luZCRTRUFMRURfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaW9uS2luZCwgJ1BPTFlNT1JQSElDJywge2dldDogVW5pb25LaW5kJFBPTFlNT1JQSElDX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5VbmlvbktpbmQgPSBVbmlvbktpbmQ7XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5FbGVtZW50VmFsdWVFbmNvZGVyID0gRWxlbWVudFZhbHVlRW5jb2RlcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkVsZW1lbnRWYWx1ZURlY29kZXIgPSBFbGVtZW50VmFsdWVEZWNvZGVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uU2VyaWFsaXphdGlvbkV4Y2VwdGlvbiA9IFNlcmlhbGl6YXRpb25FeGNlcHRpb247XG4gIHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5VcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb24gPSBVcGRhdGVOb3RTdXBwb3J0ZWRFeGNlcHRpb247XG4gIHZhciBwYWNrYWdlJG1vZHVsZXMgPSBwYWNrYWdlJHNlcmlhbGl6YXRpb24ubW9kdWxlcyB8fCAocGFja2FnZSRzZXJpYWxpemF0aW9uLm1vZHVsZXMgPSB7fSk7XG4gIHBhY2thZ2UkbW9kdWxlcy5nZXRDb250ZXh0dWFsT3JEZWZhdWx0XzZ6YTlrdCQgPSBnZXRDb250ZXh0dWFsT3JEZWZhdWx0O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRzZXJpYWxpemF0aW9uLCAnUG9seW1vcnBoaWNDbGFzc0Rlc2NyaXB0b3InLCB7Z2V0OiBQb2x5bW9ycGhpY0NsYXNzRGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uUG9seW1vcnBoaWNTZXJpYWxpemVyID0gUG9seW1vcnBoaWNTZXJpYWxpemVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uU2VyaWFsRm9ybWF0ID0gU2VyaWFsRm9ybWF0O1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uQWJzdHJhY3RTZXJpYWxGb3JtYXQgPSBBYnN0cmFjdFNlcmlhbEZvcm1hdDtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLkJpbmFyeUZvcm1hdCA9IEJpbmFyeUZvcm1hdDtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlN0cmluZ0Zvcm1hdCA9IFN0cmluZ0Zvcm1hdDtcbiAgdmFyIHBhY2thZ2UkaW50ZXJuYWwgPSBwYWNrYWdlJHNlcmlhbGl6YXRpb24uaW50ZXJuYWwgfHwgKHBhY2thZ2Ukc2VyaWFsaXphdGlvbi5pbnRlcm5hbCA9IHt9KTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLmVsZW1lbnREZXNjcmlwdG9yc194emYxOTMkID0gZWxlbWVudERlc2NyaXB0b3JzO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uZ2V0RWxlbWVudEluZGV4T3JUaHJvd18yN3Zhd3AkID0gZ2V0RWxlbWVudEluZGV4T3JUaHJvdztcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlRhZ2dlZEVuY29kZXIgPSBUYWdnZWRFbmNvZGVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uTmFtZWRWYWx1ZUVuY29kZXIgPSBOYW1lZFZhbHVlRW5jb2RlcjtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLlRhZ2dlZERlY29kZXIgPSBUYWdnZWREZWNvZGVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uTmFtZWRWYWx1ZURlY29kZXIgPSBOYW1lZFZhbHVlRGVjb2RlcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5MaXN0TGlrZURlc2NyaXB0b3IgPSBMaXN0TGlrZURlc2NyaXB0b3I7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTWFwTGlrZURlc2NyaXB0b3IgPSBNYXBMaWtlRGVzY3JpcHRvcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5BcnJheUxpc3RDbGFzc0Rlc2MgPSBBcnJheUxpc3RDbGFzc0Rlc2M7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTmFtZWRMaXN0Q2xhc3NEZXNjcmlwdG9yID0gTmFtZWRMaXN0Q2xhc3NEZXNjcmlwdG9yO1xuICBwYWNrYWdlJGludGVybmFsLkxpbmtlZEhhc2hTZXRDbGFzc0Rlc2MgPSBMaW5rZWRIYXNoU2V0Q2xhc3NEZXNjO1xuICBwYWNrYWdlJGludGVybmFsLkhhc2hTZXRDbGFzc0Rlc2MgPSBIYXNoU2V0Q2xhc3NEZXNjO1xuICBwYWNrYWdlJGludGVybmFsLk5hbWVkTWFwQ2xhc3NEZXNjcmlwdG9yID0gTmFtZWRNYXBDbGFzc0Rlc2NyaXB0b3I7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTGlua2VkSGFzaE1hcENsYXNzRGVzYyA9IExpbmtlZEhhc2hNYXBDbGFzc0Rlc2M7XG4gIHBhY2thZ2UkaW50ZXJuYWwuSGFzaE1hcENsYXNzRGVzYyA9IEhhc2hNYXBDbGFzc0Rlc2M7XG4gIHBhY2thZ2UkaW50ZXJuYWwuQWJzdHJhY3RDb2xsZWN0aW9uU2VyaWFsaXplciA9IEFic3RyYWN0Q29sbGVjdGlvblNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTGlzdExpa2VTZXJpYWxpemVyID0gTGlzdExpa2VTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLk1hcExpa2VTZXJpYWxpemVyID0gTWFwTGlrZVNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuQXJyYXlMaXN0U2VyaWFsaXplciA9IEFycmF5TGlzdFNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTGlua2VkSGFzaFNldFNlcmlhbGl6ZXIgPSBMaW5rZWRIYXNoU2V0U2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5IYXNoU2V0U2VyaWFsaXplciA9IEhhc2hTZXRTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLkxpbmtlZEhhc2hNYXBTZXJpYWxpemVyID0gTGlua2VkSGFzaE1hcFNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuSGFzaE1hcFNlcmlhbGl6ZXIgPSBIYXNoTWFwU2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5Db21tb25FbnVtU2VyaWFsaXplciA9IENvbW1vbkVudW1TZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLkdlbmVyYXRlZFNlcmlhbGl6ZXIgPSBHZW5lcmF0ZWRTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLm1ha2VOdWxsYWJsZV9ld2FjcjEkID0gbWFrZU51bGxhYmxlO1xuICBwYWNrYWdlJGludGVybmFsLk51bGxhYmxlU2VyaWFsaXplciA9IE51bGxhYmxlU2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5QcmltaXRpdmVEZXNjcmlwdG9yID0gUHJpbWl0aXZlRGVzY3JpcHRvcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdJbnREZXNjcmlwdG9yJywge2dldDogSW50RGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ1VuaXREZXNjcmlwdG9yJywge2dldDogVW5pdERlc2NyaXB0b3JfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdCb29sZWFuRGVzY3JpcHRvcicsIHtnZXQ6IEJvb2xlYW5EZXNjcmlwdG9yX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnQnl0ZURlc2NyaXB0b3InLCB7Z2V0OiBCeXRlRGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ1Nob3J0RGVzY3JpcHRvcicsIHtnZXQ6IFNob3J0RGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0xvbmdEZXNjcmlwdG9yJywge2dldDogTG9uZ0Rlc2NyaXB0b3JfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdGbG9hdERlc2NyaXB0b3InLCB7Z2V0OiBGbG9hdERlc2NyaXB0b3JfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdEb3VibGVEZXNjcmlwdG9yJywge2dldDogRG91YmxlRGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0NoYXJEZXNjcmlwdG9yJywge2dldDogQ2hhckRlc2NyaXB0b3JfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdTdHJpbmdEZXNjcmlwdG9yJywge2dldDogU3RyaW5nRGVzY3JpcHRvcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ1VuaXRTZXJpYWxpemVyJywge2dldDogVW5pdFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdCb29sZWFuU2VyaWFsaXplcicsIHtnZXQ6IEJvb2xlYW5TZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnQnl0ZVNlcmlhbGl6ZXInLCB7Z2V0OiBCeXRlU2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ1Nob3J0U2VyaWFsaXplcicsIHtnZXQ6IFNob3J0U2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0ludFNlcmlhbGl6ZXInLCB7Z2V0OiBJbnRTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnTG9uZ1NlcmlhbGl6ZXInLCB7Z2V0OiBMb25nU2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0Zsb2F0U2VyaWFsaXplcicsIHtnZXQ6IEZsb2F0U2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ0RvdWJsZVNlcmlhbGl6ZXInLCB7Z2V0OiBEb3VibGVTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGludGVybmFsLCAnQ2hhclNlcmlhbGl6ZXInLCB7Z2V0OiBDaGFyU2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRpbnRlcm5hbCwgJ1N0cmluZ1NlcmlhbGl6ZXInLCB7Z2V0OiBTdHJpbmdTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkaW50ZXJuYWwuZGVmYXVsdFNlcmlhbGl6ZXJfMXliOGI3JCA9IGRlZmF1bHRTZXJpYWxpemVyO1xuICBwYWNrYWdlJGludGVybmFsLlNlcmlhbENsYXNzRGVzY0ltcGwgPSBTZXJpYWxDbGFzc0Rlc2NJbXBsO1xuICBwYWNrYWdlJGludGVybmFsLktleVZhbHVlU2VyaWFsaXplciA9IEtleVZhbHVlU2VyaWFsaXplcjtcbiAgcGFja2FnZSRpbnRlcm5hbC5NYXBFbnRyeVNlcmlhbGl6ZXIgPSBNYXBFbnRyeVNlcmlhbGl6ZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWwuTWFwRW50cnkgPSBNYXBFbnRyeTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWwsICdNYXBFbnRyeUNsYXNzRGVzYycsIHtnZXQ6IE1hcEVudHJ5Q2xhc3NEZXNjX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkaW50ZXJuYWwuVHJpcGxlU2VyaWFsaXplciA9IFRyaXBsZVNlcmlhbGl6ZXI7XG4gIHZhciBwYWNrYWdlJGpzb24gPSBwYWNrYWdlJHNlcmlhbGl6YXRpb24uanNvbiB8fCAocGFja2FnZSRzZXJpYWxpemF0aW9uLmpzb24gPSB7fSk7XG4gIHBhY2thZ2UkanNvbi5Kc29uID0gSnNvbjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb24sICdDb21wYW5pb24nLCB7Z2V0OiBKc29uJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkNvbmZpZ3VyYXRpb24sICdDb21wYW5pb24nLCB7Z2V0OiBKc29uQ29uZmlndXJhdGlvbiRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRqc29uLkpzb25Db25maWd1cmF0aW9uID0gSnNvbkNvbmZpZ3VyYXRpb247XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uRWxlbWVudCwgJ0NvbXBhbmlvbicsIHtnZXQ6IEpzb25FbGVtZW50JENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGpzb24uSnNvbkVsZW1lbnQgPSBKc29uRWxlbWVudDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEpzb25QcmltaXRpdmUsICdDb21wYW5pb24nLCB7Z2V0OiBKc29uUHJpbWl0aXZlJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGpzb24uSnNvblByaW1pdGl2ZSA9IEpzb25QcmltaXRpdmU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uTGl0ZXJhbCwgJ0NvbXBhbmlvbicsIHtnZXQ6IEpzb25MaXRlcmFsJENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGpzb24uSnNvbkxpdGVyYWxfaW5pdF8zcDgxeXUkID0gSnNvbkxpdGVyYWxfaW5pdDtcbiAgcGFja2FnZSRqc29uLkpzb25MaXRlcmFsX2luaXRfNnRha252JCA9IEpzb25MaXRlcmFsX2luaXRfMDtcbiAgcGFja2FnZSRqc29uLkpzb25MaXRlcmFsX2luaXRfNjF6cG9lJCA9IEpzb25MaXRlcmFsX2luaXRfMTtcbiAgcGFja2FnZSRqc29uLkpzb25MaXRlcmFsID0gSnNvbkxpdGVyYWw7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGpzb24sICdKc29uTnVsbCcsIHtnZXQ6IEpzb25OdWxsX2dldEluc3RhbmNlfSk7XG4gIHBhY2thZ2UkanNvbi51bmV4cGVjdGVkSnNvbl9wdWo3ZjQkID0gdW5leHBlY3RlZEpzb247XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShKc29uT2JqZWN0LCAnQ29tcGFuaW9uJywge2dldDogSnNvbk9iamVjdCRDb21wYW5pb25fZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRqc29uLkpzb25PYmplY3QgPSBKc29uT2JqZWN0O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSnNvbkFycmF5LCAnQ29tcGFuaW9uJywge2dldDogSnNvbkFycmF5JENvbXBhbmlvbl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGpzb24uSnNvbkFycmF5ID0gSnNvbkFycmF5O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRqc29uLCAnSnNvbkVsZW1lbnRTZXJpYWxpemVyJywge2dldDogSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGpzb24sICdKc29uUHJpbWl0aXZlU2VyaWFsaXplcicsIHtnZXQ6IEpzb25QcmltaXRpdmVTZXJpYWxpemVyX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJGpzb24sICdKc29uTnVsbFNlcmlhbGl6ZXInLCB7Z2V0OiBKc29uTnVsbFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkanNvbiwgJ0pzb25MaXRlcmFsU2VyaWFsaXplcicsIHtnZXQ6IEpzb25MaXRlcmFsU2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRqc29uLCAnSnNvbk9iamVjdFNlcmlhbGl6ZXInLCB7Z2V0OiBKc29uT2JqZWN0U2VyaWFsaXplcl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocGFja2FnZSRqc29uLCAnSnNvbkFycmF5U2VyaWFsaXplcicsIHtnZXQ6IEpzb25BcnJheVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRqc29uLkpzb25QcmltaXRpdmVfcGRsMXZqJCA9IEpzb25QcmltaXRpdmVfMjtcbiAgcGFja2FnZSRqc29uLmdldF9jb250ZW50X3Uzc2QzZyQgPSBnZXRfY29udGVudDtcbiAgcGFja2FnZSRqc29uLkludmFsaWRGbG9hdGluZ1BvaW50X3F3aWJwMSQgPSBJbnZhbGlkRmxvYXRpbmdQb2ludDtcbiAgcGFja2FnZSRqc29uLkludmFsaWRGbG9hdGluZ1BvaW50X3gweGIxOSQgPSBJbnZhbGlkRmxvYXRpbmdQb2ludF8wO1xuICBwYWNrYWdlJGpzb24uanNvblVua25vd25LZXlFeGNlcHRpb25fZjBuMDlkJCA9IGpzb25Vbmtub3duS2V5RXhjZXB0aW9uO1xuICBwYWNrYWdlJGpzb24uSnNvbk1hcEludmFsaWRLZXlLaW5kXzRiOGZoeCQgPSBKc29uTWFwSW52YWxpZEtleUtpbmQ7XG4gIHBhY2thZ2UkanNvbi5Kc29uRXhjZXB0aW9uID0gSnNvbkV4Y2VwdGlvbjtcbiAgcGFja2FnZSRqc29uLkpzb25EZWNvZGluZ0V4Y2VwdGlvbiA9IEpzb25EZWNvZGluZ0V4Y2VwdGlvbjtcbiAgcGFja2FnZSRqc29uLkpzb25FbmNvZGluZ0V4Y2VwdGlvbiA9IEpzb25FbmNvZGluZ0V4Y2VwdGlvbjtcbiAgcGFja2FnZSRqc29uLkpzb25JbnB1dCA9IEpzb25JbnB1dDtcbiAgcGFja2FnZSRqc29uLkpzb25PdXRwdXQgPSBKc29uT3V0cHV0O1xuICB2YXIgcGFja2FnZSRpbnRlcm5hbF8wID0gcGFja2FnZSRqc29uLmludGVybmFsIHx8IChwYWNrYWdlJGpzb24uaW50ZXJuYWwgPSB7fSk7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5Kc29uUGFyc2VyID0gSnNvblBhcnNlcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkaW50ZXJuYWxfMCwgJ0VzY2FwZUNoYXJNYXBwaW5ncycsIHtnZXQ6IEVzY2FwZUNoYXJNYXBwaW5nc19nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGludGVybmFsXzAuY2hhclRvVG9rZW5DbGFzc184ZTh6cXkkID0gY2hhclRvVG9rZW5DbGFzcztcbiAgcGFja2FnZSRpbnRlcm5hbF8wLmVzY2FwZVRvQ2hhcl9rY24ydjMkID0gZXNjYXBlVG9DaGFyO1xuICBwYWNrYWdlJGludGVybmFsXzAuSnNvblJlYWRlciA9IEpzb25SZWFkZXI7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5jaGVja0tpbmRfeTdibnliJCA9IGNoZWNrS2luZDtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlUG9seW1vcnBoaWNfb2psZG1hJCA9IGRlY29kZVNlcmlhbGl6YWJsZVZhbHVlUG9seW1vcnBoaWM7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5TdHJlYW1pbmdKc29uSW5wdXQgPSBTdHJlYW1pbmdKc29uSW5wdXQ7XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQuQ29tcG9zZXIgPSBTdHJlYW1pbmdKc29uT3V0cHV0JENvbXBvc2VyO1xuICBwYWNrYWdlJGludGVybmFsXzAuU3RyZWFtaW5nSnNvbk91dHB1dF9pbml0X2VrNW9ncCQgPSBTdHJlYW1pbmdKc29uT3V0cHV0X2luaXQ7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC5TdHJlYW1pbmdKc29uT3V0cHV0ID0gU3RyZWFtaW5nSnNvbk91dHB1dDtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLnByaW50UXVvdGVkX2ppZ3ZjJCA9IHByaW50UXVvdGVkO1xuICBwYWNrYWdlJGludGVybmFsXzAudG9Cb29sZWFuU3RyaWN0XzdlZmFmaSQgPSB0b0Jvb2xlYW5TdHJpY3Q7XG4gIHBhY2thZ2UkaW50ZXJuYWxfMC50b0Jvb2xlYW5TdHJpY3RPck51bGxfN2VmYWZpJCA9IHRvQm9vbGVhblN0cmljdE9yTnVsbDtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLnNob3VsZEJlUXVvdGVkX3k0cHV0YiQgPSBzaG91bGRCZVF1b3RlZDtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLnJlYWRKc29uX2lqaGFlZiQgPSByZWFkSnNvbjtcbiAgcGFja2FnZSRpbnRlcm5hbF8wLndyaXRlSnNvbl80ZGl4ZXckID0gd3JpdGVKc29uO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGVNb2RlLCAnT0JKJywge2dldDogV3JpdGVNb2RlJE9CSl9nZXRJbnN0YW5jZX0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGVNb2RlLCAnTElTVCcsIHtnZXQ6IFdyaXRlTW9kZSRMSVNUX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0ZU1vZGUsICdNQVAnLCB7Z2V0OiBXcml0ZU1vZGUkTUFQX2dldEluc3RhbmNlfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0ZU1vZGUsICdQT0xZX09CSicsIHtnZXQ6IFdyaXRlTW9kZSRQT0xZX09CSl9nZXRJbnN0YW5jZX0pO1xuICBwYWNrYWdlJGludGVybmFsXzAuV3JpdGVNb2RlID0gV3JpdGVNb2RlO1xuICBwYWNrYWdlJGludGVybmFsXzAuc3dpdGNoTW9kZV8yeno2YnYkID0gc3dpdGNoTW9kZTtcbiAgcGFja2FnZSRtb2R1bGVzLlBvbHltb3JwaGljTW9kdWxlQnVpbGRlciA9IFBvbHltb3JwaGljTW9kdWxlQnVpbGRlcjtcbiAgcGFja2FnZSRtb2R1bGVzLlNlcmlhbE1vZHVsZSA9IFNlcmlhbE1vZHVsZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhY2thZ2UkbW9kdWxlcywgJ0VtcHR5TW9kdWxlJywge2dldDogRW1wdHlNb2R1bGVfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRtb2R1bGVzLnNlcmlhbGl6ZXJzTW9kdWxlT2ZfYXptMTA0JCA9IHNlcmlhbGl6ZXJzTW9kdWxlT2ZfMDtcbiAgcGFja2FnZSRtb2R1bGVzLlNlcmlhbGl6ZXJzTW9kdWxlX3E0dGNlbCQgPSBTZXJpYWxpemVyc01vZHVsZTtcbiAgcGFja2FnZSRtb2R1bGVzLlNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlciA9IFNlcmlhbGl6ZXJzTW9kdWxlQnVpbGRlcjtcbiAgcGFja2FnZSRtb2R1bGVzLlNlcmlhbE1vZHVsZUNvbGxlY3RvciA9IFNlcmlhbE1vZHVsZUNvbGxlY3RvcjtcbiAgcGFja2FnZSRtb2R1bGVzLnBsdXNfN243Y2YkID0gcGx1cztcbiAgcGFja2FnZSRtb2R1bGVzLlNlcmlhbE1vZHVsZUltcGwgPSBTZXJpYWxNb2R1bGVJbXBsO1xuICBwYWNrYWdlJG1vZHVsZXMuU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uX2luaXRfZ2ZnYWljJCA9IFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbl9pbml0O1xuICBwYWNrYWdlJG1vZHVsZXMuU2VyaWFsaXplckFscmVhZHlSZWdpc3RlcmVkRXhjZXB0aW9uX2luaXRfeG8xb2dyJCA9IFNlcmlhbGl6ZXJBbHJlYWR5UmVnaXN0ZXJlZEV4Y2VwdGlvbl9pbml0XzA7XG4gIHBhY2thZ2UkbW9kdWxlcy5TZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb24gPSBTZXJpYWxpemVyQWxyZWFkeVJlZ2lzdGVyZWRFeGNlcHRpb247XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWNrYWdlJG1vZHVsZXMsICdTdGFuZGFyZFN1YnR5cGVzT2ZBbnknLCB7Z2V0OiBTdGFuZGFyZFN1YnR5cGVzT2ZBbnlfZ2V0SW5zdGFuY2V9KTtcbiAgcGFja2FnZSRzZXJpYWxpemF0aW9uLmNvbXBpbGVkU2VyaWFsaXplcl8xeWI4YjckID0gY29tcGlsZWRTZXJpYWxpemVyO1xuICBwYWNrYWdlJHNlcmlhbGl6YXRpb24uaXNJbnN0YW5jZU9mX29mY3Z4ayQgPSBpc0luc3RhbmNlT2Y7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJpYWxDbGFzc0Rlc2NJbXBsLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLCAnaXNOdWxsYWJsZScpKTtcbiAgQ29udGV4dFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJCA9IEVuY29kZXIucHJvdG90eXBlLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQ7XG4gIEVsZW1lbnRWYWx1ZUVuY29kZXIucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJCA9IEVuY29kZXIucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJDtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuYmVnaW5Db2xsZWN0aW9uX2dseTF4NSQgPSBFbmNvZGVyLnByb3RvdHlwZS5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JDtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBDb21wb3NpdGVFbmNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJDtcbiAgRWxlbWVudFZhbHVlRW5jb2Rlci5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JCA9IENvbXBvc2l0ZUVuY29kZXIucHJvdG90eXBlLnNob3VsZEVuY29kZUVsZW1lbnREZWZhdWx0XzN6cjJpeSQ7XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQgPSBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkO1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2FhZTNlYSQgPSBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2FhZTNlYSQ7XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLnVwZGF0ZVNlcmlhbGl6YWJsZVZhbHVlXzE5YzhrNSQgPSBEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkO1xuICBFbGVtZW50VmFsdWVEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2V4bWxicyQgPSBEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2V4bWxicyQ7XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmVuZFN0cnVjdHVyZV9xYXRzbTAkID0gQ29tcG9zaXRlRGVjb2Rlci5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQ7XG4gIEVsZW1lbnRWYWx1ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQgPSBDb21wb3NpdGVEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVDb2xsZWN0aW9uU2l6ZV9xYXRzbTAkO1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGVTZXJpYWxpemFibGVWYWx1ZV90ZjAzZWokID0gRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJDtcbiAgVGFnZ2VkRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9mNDY4NmckID0gRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9mNDY4NmckO1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JCA9IEVuY29kZXIucHJvdG90eXBlLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkO1xuICBUYWdnZWRFbmNvZGVyLnByb3RvdHlwZS5zaG91bGRFbmNvZGVFbGVtZW50RGVmYXVsdF8zenIyaXkkID0gQ29tcG9zaXRlRW5jb2Rlci5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JDtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlU2VyaWFsaXphYmxlVmFsdWVfdzYzczBmJCA9IERlY29kZXIucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQ7XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJCA9IERlY29kZXIucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJDtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JCA9IERlY29kZXIucHJvdG90eXBlLnVwZGF0ZVNlcmlhbGl6YWJsZVZhbHVlXzE5YzhrNSQ7XG4gIFRhZ2dlZERlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJCA9IERlY29kZXIucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJDtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBDb21wb3NpdGVEZWNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJDtcbiAgVGFnZ2VkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQ29sbGVjdGlvblNpemVfcWF0c20wJCA9IENvbXBvc2l0ZURlY29kZXIucHJvdG90eXBlLmRlY29kZUNvbGxlY3Rpb25TaXplX3FhdHNtMCQ7XG4gIFBvbHltb3JwaGljU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBCaW5hcnlGb3JtYXQucHJvdG90eXBlLmluc3RhbGxfc3RweXU0JCA9IFNlcmlhbEZvcm1hdC5wcm90b3R5cGUuaW5zdGFsbF9zdHB5dTQkO1xuICBTdHJpbmdGb3JtYXQucHJvdG90eXBlLmluc3RhbGxfc3RweXU0JCA9IFNlcmlhbEZvcm1hdC5wcm90b3R5cGUuaW5zdGFsbF9zdHB5dTQkO1xuICBMaXN0TGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmdldEVudGl0eUFubm90YXRpb25zID0gU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RW50aXR5QW5ub3RhdGlvbnM7XG4gIExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RWxlbWVudEFubm90YXRpb25zX3phM2xwYSQgPSBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUsICdpc051bGxhYmxlJywgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnKSk7XG4gIExpc3RMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuaXNFbGVtZW50T3B0aW9uYWxfemEzbHBhJCA9IFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmlzRWxlbWVudE9wdGlvbmFsX3phM2xwYSQ7XG4gIE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbnRpdHlBbm5vdGF0aW9ucyA9IFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLmdldEVudGl0eUFubm90YXRpb25zO1xuICBNYXBMaWtlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RWxlbWVudEFubm90YXRpb25zX3phM2xwYSQgPSBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcExpa2VEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFNlcmlhbERlc2NyaXB0b3IucHJvdG90eXBlLCAnaXNOdWxsYWJsZScpKTtcbiAgTWFwTGlrZURlc2NyaXB0b3IucHJvdG90eXBlLmlzRWxlbWVudE9wdGlvbmFsX3phM2xwYSQgPSBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5pc0VsZW1lbnRPcHRpb25hbF96YTNscGEkO1xuICBDb21tb25FbnVtU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBHZW5lcmF0ZWRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIExvbmdBc1N0cmluZ1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RW50aXR5QW5ub3RhdGlvbnMgPSBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbnRpdHlBbm5vdGF0aW9ucztcbiAgUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUuZ2V0RWxlbWVudEFubm90YXRpb25zX3phM2xwYSQgPSBTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZS5nZXRFbGVtZW50QW5ub3RhdGlvbnNfemEzbHBhJDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByaW1pdGl2ZURlc2NyaXB0b3IucHJvdG90eXBlLCAnZWxlbWVudHNDb3VudCcsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2VyaWFsRGVzY3JpcHRvci5wcm90b3R5cGUsICdlbGVtZW50c0NvdW50JykpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJpbWl0aXZlRGVzY3JpcHRvci5wcm90b3R5cGUsICdpc051bGxhYmxlJywgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihTZXJpYWxEZXNjcmlwdG9yLnByb3RvdHlwZSwgJ2lzTnVsbGFibGUnKSk7XG4gIFVuaXRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEJvb2xlYW5TZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEJ5dGVTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIFNob3J0U2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBJbnRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIExvbmdTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEZsb2F0U2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBEb3VibGVTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIENoYXJTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIFN0cmluZ1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgS2V5VmFsdWVTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIFRyaXBsZVNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgSnNvbkVsZW1lbnRTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEpzb25QcmltaXRpdmVTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkID0gS1NlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQ7XG4gIEpzb25OdWxsU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBKc29uTGl0ZXJhbFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgSnNvbk9iamVjdFNlcmlhbGl6ZXIucHJvdG90eXBlLnBhdGNoX215bnBpdSQgPSBLU2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JDtcbiAgSnNvbkFycmF5U2VyaWFsaXplci5wcm90b3R5cGUucGF0Y2hfbXlucGl1JCA9IEtTZXJpYWxpemVyLnByb3RvdHlwZS5wYXRjaF9teW5waXUkO1xuICBKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZVNlcmlhbGl6YWJsZVZhbHVlX3c2M3MwZiQgPSBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVTZXJpYWxpemFibGVWYWx1ZV93NjNzMGYkO1xuICBKc29uSW5wdXQucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJCA9IERlY29kZXIucHJvdG90eXBlLmRlY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfYWFlM2VhJDtcbiAgSnNvbklucHV0LnByb3RvdHlwZS51cGRhdGVTZXJpYWxpemFibGVWYWx1ZV8xOWM4azUkID0gRGVjb2Rlci5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JDtcbiAgSnNvbklucHV0LnByb3RvdHlwZS51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2V4bWxicyQgPSBEZWNvZGVyLnByb3RvdHlwZS51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2V4bWxicyQ7XG4gIEpzb25JbnB1dC5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBDb21wb3NpdGVEZWNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJDtcbiAgSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVDb2xsZWN0aW9uU2l6ZV9xYXRzbTAkID0gQ29tcG9zaXRlRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQ29sbGVjdGlvblNpemVfcWF0c20wJDtcbiAgSnNvbk91dHB1dC5wcm90b3R5cGUuZW5jb2RlU2VyaWFsaXphYmxlVmFsdWVfdGYwM2VqJCA9IEVuY29kZXIucHJvdG90eXBlLmVuY29kZVNlcmlhbGl6YWJsZVZhbHVlX3RmMDNlaiQ7XG4gIEpzb25PdXRwdXQucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJCA9IEVuY29kZXIucHJvdG90eXBlLmVuY29kZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZjQ2ODZnJDtcbiAgSnNvbk91dHB1dC5wcm90b3R5cGUuYmVnaW5Db2xsZWN0aW9uX2dseTF4NSQgPSBFbmNvZGVyLnByb3RvdHlwZS5iZWdpbkNvbGxlY3Rpb25fZ2x5MXg1JDtcbiAgSnNvbk91dHB1dC5wcm90b3R5cGUuZW5kU3RydWN0dXJlX3FhdHNtMCQgPSBDb21wb3NpdGVFbmNvZGVyLnByb3RvdHlwZS5lbmRTdHJ1Y3R1cmVfcWF0c20wJDtcbiAgSnNvbk91dHB1dC5wcm90b3R5cGUuc2hvdWxkRW5jb2RlRWxlbWVudERlZmF1bHRfM3pyMml5JCA9IENvbXBvc2l0ZUVuY29kZXIucHJvdG90eXBlLnNob3VsZEVuY29kZUVsZW1lbnREZWZhdWx0XzN6cjJpeSQ7XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUuZGVjb2RlTnVsbGFibGVTZXJpYWxpemFibGVWYWx1ZV9hYWUzZWEkID0gSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2FhZTNlYSQ7XG4gIFN0cmVhbWluZ0pzb25JbnB1dC5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JCA9IEpzb25JbnB1dC5wcm90b3R5cGUudXBkYXRlU2VyaWFsaXphYmxlVmFsdWVfMTljOGs1JDtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS51cGRhdGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2V4bWxicyQgPSBKc29uSW5wdXQucHJvdG90eXBlLnVwZGF0ZU51bGxhYmxlU2VyaWFsaXphYmxlVmFsdWVfZXhtbGJzJDtcbiAgU3RyZWFtaW5nSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVDb2xsZWN0aW9uU2l6ZV9xYXRzbTAkID0gSnNvbklucHV0LnByb3RvdHlwZS5kZWNvZGVDb2xsZWN0aW9uU2l6ZV9xYXRzbTAkO1xuICBTdHJlYW1pbmdKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2Y0Njg2ZyQgPSBKc29uT3V0cHV0LnByb3RvdHlwZS5lbmNvZGVOdWxsYWJsZVNlcmlhbGl6YWJsZVZhbHVlX2Y0Njg2ZyQ7XG4gIFN0cmVhbWluZ0pzb25PdXRwdXQucHJvdG90eXBlLmJlZ2luQ29sbGVjdGlvbl9nbHkxeDUkID0gSnNvbk91dHB1dC5wcm90b3R5cGUuYmVnaW5Db2xsZWN0aW9uX2dseTF4NSQ7XG4gIGRlcHJlY2F0aW9uVGV4dCA9ICdPYnNvbGV0ZSBuYW1lIGZyb20gdGhlIHByZXZpZXcgdmVyc2lvbiBvZiBsaWJyYXJ5Lic7XG4gIElOU1RBTExfREVQUkVDQVRJT05fVEVYVCA9ICdJbnN0YWxsIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQsIG1vZHVsZSBjYW4gYmUgYWRkZWQgdG8gZm9ybWF0IG9ubHkgaW4gY29uc3RydWN0b3InO1xuICBBUlJBWV9OQU1FID0gJ2tvdGxpbi5BcnJheSc7XG4gIEFSUkFZX0xJU1RfTkFNRSA9ICdrb3RsaW4uY29sbGVjdGlvbnMuQXJyYXlMaXN0JztcbiAgTElOS0VEX0hBU0hfU0VUX05BTUUgPSAna290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hTZXQnO1xuICBIQVNIX1NFVF9OQU1FID0gJ2tvdGxpbi5jb2xsZWN0aW9ucy5IYXNoU2V0JztcbiAgTElOS0VEX0hBU0hfTUFQX05BTUUgPSAna290bGluLmNvbGxlY3Rpb25zLkxpbmtlZEhhc2hNYXAnO1xuICBIQVNIX01BUF9OQU1FID0gJ2tvdGxpbi5jb2xsZWN0aW9ucy5IYXNoTWFwJztcbiAgS0VZX0lOREVYID0gMDtcbiAgVkFMVUVfSU5ERVggPSAxO1xuICBkZWZhdWx0SnNvbk1vZHVsZSA9IHNlcmlhbGl6ZXJzTW9kdWxlT2ZfMChtYXBPZihbdG8oZ2V0S0NsYXNzKEpzb25FbGVtZW50KSwgSnNvbkVsZW1lbnRTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhnZXRLQ2xhc3MoSnNvblByaW1pdGl2ZSksIEpzb25QcmltaXRpdmVTZXJpYWxpemVyX2dldEluc3RhbmNlKCkpLCB0byhnZXRLQ2xhc3MoSnNvbkxpdGVyYWwpLCBKc29uTGl0ZXJhbFNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSksIHRvKGdldEtDbGFzcyhKc29uTnVsbCksIEpzb25OdWxsU2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oZ2V0S0NsYXNzKEpzb25PYmplY3QpLCBKc29uT2JqZWN0U2VyaWFsaXplcl9nZXRJbnN0YW5jZSgpKSwgdG8oZ2V0S0NsYXNzKEpzb25BcnJheSksIEpzb25BcnJheVNlcmlhbGl6ZXJfZ2V0SW5zdGFuY2UoKSldKSk7XG4gIE5VTEwgPSAnbnVsbCc7XG4gIENPTU1BID0gNDQ7XG4gIENPTE9OID0gNTg7XG4gIEJFR0lOX09CSiA9IDEyMztcbiAgRU5EX09CSiA9IDEyNTtcbiAgQkVHSU5fTElTVCA9IDkxO1xuICBFTkRfTElTVCA9IDkzO1xuICBTVFJJTkcgPSAzNDtcbiAgU1RSSU5HX0VTQyA9IDkyO1xuICBJTlZBTElEID0gdG9DaGFyKDApO1xuICBVTklDT0RFX0VTQyA9IDExNztcbiAgVENfT1RIRVIgPSAwO1xuICBUQ19TVFJJTkcgPSAxO1xuICBUQ19TVFJJTkdfRVNDID0gMjtcbiAgVENfV1MgPSAzO1xuICBUQ19DT01NQSA9IDQ7XG4gIFRDX0NPTE9OID0gNTtcbiAgVENfQkVHSU5fT0JKID0gNjtcbiAgVENfRU5EX09CSiA9IDc7XG4gIFRDX0JFR0lOX0xJU1QgPSA4O1xuICBUQ19FTkRfTElTVCA9IDk7XG4gIFRDX05VTEwgPSAxMDtcbiAgVENfSU5WQUxJRCA9IDExO1xuICBUQ19FT0YgPSAxMjtcbiAgQ1RDX01BWCA9IDEyNjtcbiAgRVNDMkNfTUFYID0gMTE3O1xuICB2YXIgJHJlY2VpdmVyID0gbmV3IEludDhBcnJheSgxMjYpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8PSAzMjsgaSsrKSB7XG4gICAgaW5pdEMyVEMoJHJlY2VpdmVyLCBpLCBUQ19JTlZBTElEKTtcbiAgfVxuICBpbml0QzJUQygkcmVjZWl2ZXIsIDksIFRDX1dTKTtcbiAgaW5pdEMyVEMoJHJlY2VpdmVyLCAxMCwgVENfV1MpO1xuICBpbml0QzJUQygkcmVjZWl2ZXIsIDEzLCBUQ19XUyk7XG4gIGluaXRDMlRDKCRyZWNlaXZlciwgMzIsIFRDX1dTKTtcbiAgaW5pdEMyVENfMCgkcmVjZWl2ZXIsIENPTU1BLCBUQ19DT01NQSk7XG4gIGluaXRDMlRDXzAoJHJlY2VpdmVyLCBDT0xPTiwgVENfQ09MT04pO1xuICBpbml0QzJUQ18wKCRyZWNlaXZlciwgQkVHSU5fT0JKLCBUQ19CRUdJTl9PQkopO1xuICBpbml0QzJUQ18wKCRyZWNlaXZlciwgRU5EX09CSiwgVENfRU5EX09CSik7XG4gIGluaXRDMlRDXzAoJHJlY2VpdmVyLCBCRUdJTl9MSVNULCBUQ19CRUdJTl9MSVNUKTtcbiAgaW5pdEMyVENfMCgkcmVjZWl2ZXIsIEVORF9MSVNULCBUQ19FTkRfTElTVCk7XG4gIGluaXRDMlRDXzAoJHJlY2VpdmVyLCBTVFJJTkcsIFRDX1NUUklORyk7XG4gIGluaXRDMlRDXzAoJHJlY2VpdmVyLCBTVFJJTkdfRVNDLCBUQ19TVFJJTkdfRVNDKTtcbiAgQzJUQyA9ICRyZWNlaXZlcjtcbiAgdmFyICRyZWNlaXZlcl8wID0gS290bGluLm5ld0FycmF5KDEyOCwgbnVsbCk7XG4gIGZvciAodmFyIGMgPSAwOyBjIDw9IDMxOyBjKyspIHtcbiAgICB2YXIgYzEgPSB0b0hleENoYXIoYyA+PiAxMik7XG4gICAgdmFyIGMyID0gdG9IZXhDaGFyKGMgPj4gOCk7XG4gICAgdmFyIGMzID0gdG9IZXhDaGFyKGMgPj4gNCk7XG4gICAgdmFyIGM0ID0gdG9IZXhDaGFyKGMpO1xuICAgICRyZWNlaXZlcl8wW2NdID0gJ1xcXFwnICsgJ3UnICsgU3RyaW5nLmZyb21DaGFyQ29kZShjMSkgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGMyKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoYzMpICsgU3RyaW5nLmZyb21DaGFyQ29kZShjNCk7XG4gIH1cbiAgJHJlY2VpdmVyXzBbMzRdID0gJ1xcXFxcIic7XG4gICRyZWNlaXZlcl8wWzkyXSA9ICdcXFxcXFxcXCc7XG4gICRyZWNlaXZlcl8wWzldID0gJ1xcXFx0JztcbiAgJHJlY2VpdmVyXzBbOF0gPSAnXFxcXGInO1xuICAkcmVjZWl2ZXJfMFsxMF0gPSAnXFxcXG4nO1xuICAkcmVjZWl2ZXJfMFsxM10gPSAnXFxcXHInO1xuICAkcmVjZWl2ZXJfMFsxMl0gPSAnXFxcXGYnO1xuICBFU0NBUEVfQ0hBUlMgPSAkcmVjZWl2ZXJfMDtcbiAgUFJJTUlUSVZFX1RBRyA9ICdwcmltaXRpdmUnO1xuICBNQVhfU0FGRV9JTlRFR0VSID0gTDkwMDcxOTkyNTQ3NDA5OTEudG9OdW1iZXIoKTtcbiAgcmV0dXJuIF87XG59KSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtvdGxpbngtc2VyaWFsaXphdGlvbi1rb3RsaW54LXNlcmlhbGl6YXRpb24tcnVudGltZS5qcy5tYXBcbiIsIi8qIVxuICogalF1ZXJ5IEphdmFTY3JpcHQgTGlicmFyeSB2My41LjBcbiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS9cbiAqXG4gKiBJbmNsdWRlcyBTaXp6bGUuanNcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBKUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDIwLTA0LTEwVDE1OjA3WlxuICovXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdC8vIEZvciBDb21tb25KUyBhbmQgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgd2hlcmUgYSBwcm9wZXIgYHdpbmRvd2Bcblx0XHQvLyBpcyBwcmVzZW50LCBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5LlxuXHRcdC8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgaGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgXG5cdFx0Ly8gKHN1Y2ggYXMgTm9kZS5qcyksIGV4cG9zZSBhIGZhY3RvcnkgYXMgbW9kdWxlLmV4cG9ydHMuXG5cdFx0Ly8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCBgd2luZG93YC5cblx0XHQvLyBlLmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKFwianF1ZXJ5XCIpKHdpbmRvdyk7XG5cdFx0Ly8gU2VlIHRpY2tldCAjMTQ1NDkgZm9yIG1vcmUgaW5mby5cblx0XHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/XG5cdFx0XHRmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XG5cdFx0XHRmdW5jdGlvbiggdyApIHtcblx0XHRcdFx0aWYgKCAhdy5kb2N1bWVudCApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoIFwialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhY3RvcnkoIHcgKTtcblx0XHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0ZmFjdG9yeSggZ2xvYmFsICk7XG5cdH1cblxuLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXRcbn0gKSggdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCB3aW5kb3csIG5vR2xvYmFsICkge1xuXG4vLyBFZGdlIDw9IDEyIC0gMTMrLCBGaXJlZm94IDw9MTggLSA0NSssIElFIDEwIC0gMTEsIFNhZmFyaSA1LjEgLSA5KywgaU9TIDYgLSA5LjFcbi8vIHRocm93IGV4Y2VwdGlvbnMgd2hlbiBub24tc3RyaWN0IGNvZGUgKGUuZy4sIEFTUC5ORVQgNC41KSBhY2Nlc3NlcyBzdHJpY3QgbW9kZVxuLy8gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIgKHRyYWMtMTMzMzUpLiBCdXQgYXMgb2YgalF1ZXJ5IDMuMCAoMjAxNiksIHN0cmljdCBtb2RlIHNob3VsZCBiZSBjb21tb25cbi8vIGVub3VnaCB0aGF0IGFsbCBzdWNoIGF0dGVtcHRzIGFyZSBndWFyZGVkIGluIGEgdHJ5IGJsb2NrLlxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBhcnIgPSBbXTtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBmbGF0ID0gYXJyLmZsYXQgPyBmdW5jdGlvbiggYXJyYXkgKSB7XG5cdHJldHVybiBhcnIuZmxhdC5jYWxsKCBhcnJheSApO1xufSA6IGZ1bmN0aW9uKCBhcnJheSApIHtcblx0cmV0dXJuIGFyci5jb25jYXQuYXBwbHkoIFtdLCBhcnJheSApO1xufTtcblxuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD01NywgRmlyZWZveCA8PTUyXG4gICAgICAvLyBJbiBzb21lIGJyb3dzZXJzLCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgPG9iamVjdD4gZWxlbWVudHNcbiAgICAgIC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG4gICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGNsYXNzaWZ5ICphbnkqIERPTSBub2RlIGFzIGEgZnVuY3Rpb24uXG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09IFwibnVtYmVyXCI7XG4gIH07XG5cblxudmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3coIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9O1xuXG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxuXG5cblx0dmFyIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgPSB7XG5cdFx0dHlwZTogdHJ1ZSxcblx0XHRzcmM6IHRydWUsXG5cdFx0bm9uY2U6IHRydWUsXG5cdFx0bm9Nb2R1bGU6IHRydWVcblx0fTtcblxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBub2RlLCBkb2MgKSB7XG5cdFx0ZG9jID0gZG9jIHx8IGRvY3VtZW50O1xuXG5cdFx0dmFyIGksIHZhbCxcblx0XHRcdHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0aWYgKCBub2RlICkge1xuXHRcdFx0Zm9yICggaSBpbiBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNjQrLCBFZGdlIDE4K1xuXHRcdFx0XHQvLyBTb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIFwibm9uY2VcIiBwcm9wZXJ0eSBvbiBzY3JpcHRzLlxuXHRcdFx0XHQvLyBPbiB0aGUgb3RoZXIgaGFuZCwganVzdCB1c2luZyBgZ2V0QXR0cmlidXRlYCBpcyBub3QgZW5vdWdoIGFzXG5cdFx0XHRcdC8vIHRoZSBgbm9uY2VgIGF0dHJpYnV0ZSBpcyByZXNldCB0byBhbiBlbXB0eSBzdHJpbmcgd2hlbmV2ZXIgaXRcblx0XHRcdFx0Ly8gYmVjb21lcyBicm93c2luZy1jb250ZXh0IGNvbm5lY3RlZC5cblx0XHRcdFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvaHRtbC9pc3N1ZXMvMjM2OVxuXHRcdFx0XHQvLyBTZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy8jbm9uY2UtYXR0cmlidXRlc1xuXHRcdFx0XHQvLyBUaGUgYG5vZGUuZ2V0QXR0cmlidXRlYCBjaGVjayB3YXMgYWRkZWQgZm9yIHRoZSBzYWtlIG9mXG5cdFx0XHRcdC8vIGBqUXVlcnkuZ2xvYmFsRXZhbGAgc28gdGhhdCBpdCBjYW4gZmFrZSBhIG5vbmNlLWNvbnRhaW5pbmcgbm9kZVxuXHRcdFx0XHQvLyB2aWEgYW4gb2JqZWN0LlxuXHRcdFx0XHR2YWwgPSBub2RlWyBpIF0gfHwgbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoIGkgKTtcblx0XHRcdFx0aWYgKCB2YWwgKSB7XG5cdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZSggaSwgdmFsICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHR9XG5cblxuZnVuY3Rpb24gdG9UeXBlKCBvYmogKSB7XG5cdGlmICggb2JqID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cClcblx0cmV0dXJuIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiID9cblx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFwib2JqZWN0XCIgOlxuXHRcdHR5cGVvZiBvYmo7XG59XG4vKiBnbG9iYWwgU3ltYm9sICovXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxuLy8gdW5ndWFyZGVkIGluIGFub3RoZXIgcGxhY2UsIGl0IHNlZW1zIHNhZmVyIHRvIGRlZmluZSBnbG9iYWwgb25seSBmb3IgdGhpcyBtb2R1bGVcblxuXG5cbnZhclxuXHR2ZXJzaW9uID0gXCIzLjUuMFwiLFxuXG5cdC8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5XG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblxuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblxuXHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0cmV0dXJuIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF07XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXZlbjogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkuZ3JlcCggdGhpcywgZnVuY3Rpb24oIF9lbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuICggaSArIDEgKSAlIDI7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0b2RkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5ncmVwKCB0aGlzLCBmdW5jdGlvbiggX2VsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gaSAlIDI7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWlzRnVuY3Rpb24oIHRhcmdldCApICkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Ly8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG5cdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0aS0tO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKCAoIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSApICE9IG51bGwgKSB7XG5cblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0Y29weSA9IG9wdGlvbnNbIG5hbWUgXTtcblxuXHRcdFx0XHQvLyBQcmV2ZW50IE9iamVjdC5wcm90b3R5cGUgcG9sbHV0aW9uXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCBuYW1lID09PSBcIl9fcHJvdG9fX1wiIHx8IHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheSggY29weSApICkgKSApIHtcblx0XHRcdFx0XHRzcmMgPSB0YXJnZXRbIG5hbWUgXTtcblxuXHRcdFx0XHRcdC8vIEVuc3VyZSBwcm9wZXIgdHlwZSBmb3IgdGhlIHNvdXJjZSB2YWx1ZVxuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgJiYgIUFycmF5LmlzQXJyYXkoIHNyYyApICkge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBbXTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAhY29weUlzQXJyYXkgJiYgIWpRdWVyeS5pc1BsYWluT2JqZWN0KCBzcmMgKSApIHtcblx0XHRcdFx0XHRcdGNsb25lID0ge307XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBuYW1lO1xuXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIHByb3ZpZGVkIGNvbnRleHQ7IGZhbGxzIGJhY2sgdG8gdGhlIGdsb2JhbCBvbmVcblx0Ly8gaWYgbm90IHNwZWNpZmllZC5cblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUsIG9wdGlvbnMsIGRvYyApIHtcblx0XHRET01FdmFsKCBjb2RlLCB7IG5vbmNlOiBvcHRpb25zICYmIG9wdGlvbnMubm9uY2UgfSwgZG9jICk7XG5cdH0sXG5cblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGxlbmd0aCwgaSA9IDA7XG5cblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcblx0XHRcdGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcblx0XHR2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcblxuXHRcdGlmICggYXJyICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGlzQXJyYXlMaWtlKCBPYmplY3QoIGFyciApICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFsgYXJyIF0gOiBhcnJcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guY2FsbCggcmV0LCBhcnIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgbGVuZ3RoLCB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0cmV0ID0gW107XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgdHJhbnNsYXRpbmcgZWFjaCBvZiB0aGUgaXRlbXMgdG8gdGhlaXIgbmV3IHZhbHVlc1xuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGZsYXQoIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59ICk7XG5cbmlmICggdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRqUXVlcnkuZm5bIFN5bWJvbC5pdGVyYXRvciBdID0gYXJyWyBTeW1ib2wuaXRlcmF0b3IgXTtcbn1cblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxuZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IHRvVHlwZSggb2JqICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBvYmogKSB8fCBpc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuNVxuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pzLmZvdW5kYXRpb24vXG4gKlxuICogRGF0ZTogMjAyMC0wMy0xNFxuICovXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG52YXIgaSxcblx0c3VwcG9ydCxcblx0RXhwcixcblx0Z2V0VGV4dCxcblx0aXNYTUwsXG5cdHRva2VuaXplLFxuXHRjb21waWxlLFxuXHRzZWxlY3QsXG5cdG91dGVybW9zdENvbnRleHQsXG5cdHNvcnRJbnB1dCxcblx0aGFzRHVwbGljYXRlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0c2V0RG9jdW1lbnQsXG5cdGRvY3VtZW50LFxuXHRkb2NFbGVtLFxuXHRkb2N1bWVudElzSFRNTCxcblx0cmJ1Z2d5UVNBLFxuXHRyYnVnZ3lNYXRjaGVzLFxuXHRtYXRjaGVzLFxuXHRjb250YWlucyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXG5cdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRub25uYXRpdmVTZWxlY3RvckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gSW5zdGFuY2UgbWV0aG9kc1xuXHRoYXNPd24gPSAoIHt9ICkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoTmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cblx0Ly8gVXNlIGEgc3RyaXBwZWQtZG93biBpbmRleE9mIGFzIGl0J3MgZmFzdGVyIHRoYW4gbmF0aXZlXG5cdC8vIGh0dHBzOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCBsaXN0WyBpIF0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxcIiArXG5cdFx0XCJpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cblx0Ly8gaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgtMy8jaWRlbnQtdG9rZW4tZGlhZ3JhbVxuXHRpZGVudGlmaWVyID0gXCIoPzpcXFxcXFxcXFtcXFxcZGEtZkEtRl17MSw2fVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCI/fFxcXFxcXFxcW15cXFxcclxcXFxuXFxcXGZdfFtcXFxcdy1dfFteXFwwLVxcXFx4N2ZdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblxuXHRcdC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXG5cdFx0XCIqKFsqXiR8IX5dPz0pXCIgKyB3aGl0ZXNwYWNlICtcblxuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XVxuXHRcdC8vIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICtcblx0XHR3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblxuXHRcdC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XG5cdFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXG5cdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXG5cblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgK1xuXHRcdHdoaXRlc3BhY2UgKyBcIiskXCIsIFwiZ1wiICksXG5cblx0cmNvbW1hID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqLFwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cdHJjb21iaW5hdG9ycyA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlwiICksXG5cdHJkZXNjZW5kID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFwifD5cIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgK1xuXHRcdFx0d2hpdGVzcGFjZSArIFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblxuXHRcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxuXHRcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcblx0XHRcIm5lZWRzQ29udGV4dFwiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJodG1sID0gL0hUTUwkL2ksXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcW1xcXFxkYS1mQS1GXXsxLDZ9XCIgKyB3aGl0ZXNwYWNlICsgXCI/fFxcXFxcXFxcKFteXFxcXHJcXFxcblxcXFxmXSlcIiwgXCJnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIGVzY2FwZSwgbm9uSGV4ICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlLnNsaWNlKCAxICkgLSAweDEwMDAwO1xuXG5cdFx0cmV0dXJuIG5vbkhleCA/XG5cblx0XHRcdC8vIFN0cmlwIHRoZSBiYWNrc2xhc2ggcHJlZml4IGZyb20gYSBub24taGV4IGVzY2FwZSBzZXF1ZW5jZVxuXHRcdFx0bm9uSGV4IDpcblxuXHRcdFx0Ly8gUmVwbGFjZSBhIGhleGFkZWNpbWFsIGVzY2FwZSBzZXF1ZW5jZSB3aXRoIHRoZSBlbmNvZGVkIFVuaWNvZGUgY29kZSBwb2ludFxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMStcblx0XHRcdC8vIEZvciB2YWx1ZXMgb3V0c2lkZSB0aGUgQmFzaWMgTXVsdGlsaW5ndWFsIFBsYW5lIChCTVApLCBtYW51YWxseSBjb25zdHJ1Y3QgYVxuXHRcdFx0Ly8gc3Vycm9nYXRlIHBhaXJcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgK1xuXHRcdFx0XHRjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0aW5EaXNhYmxlZEZpZWxkc2V0ID0gYWRkQ29tYmluYXRvcihcblx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmaWVsZHNldFwiO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KCBhcnIgPSBzbGljZS5jYWxsKCBwcmVmZXJyZWREb2MuY2hpbGROb2RlcyApICksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxuXHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hOYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbCggZWxzICkgKTtcblx0XHR9IDpcblxuXHRcdC8vIFN1cHBvcnQ6IElFPDlcblx0XHQvLyBPdGhlcndpc2UgYXBwZW5kIGRpcmVjdGx5XG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0dmFyIGogPSB0YXJnZXQubGVuZ3RoLFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICggdGFyZ2V0WyBqKysgXSA9IGVsc1sgaSsrIF0gKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG5cdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAoIG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApICkgKSB7XG5cblx0XHRcdFx0Ly8gSUQgc2VsZWN0b3Jcblx0XHRcdFx0aWYgKCAoIG0gPSBtYXRjaFsgMSBdICkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XG5cdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRWxlbWVudCBjb250ZXh0XG5cdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIG5ld0NvbnRleHQgJiYgKCBlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApICkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsgMiBdICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAoIG0gPSBtYXRjaFsgMyBdICkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFub25uYXRpdmVTZWxlY3RvckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCAhcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSApICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOCBvbmx5XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRcdCggbm9kZVR5cGUgIT09IDEgfHwgY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcIm9iamVjdFwiICkgKSB7XG5cblx0XHRcdFx0bmV3U2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0XHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cblx0XHRcdFx0Ly8gcVNBIGNvbnNpZGVycyBlbGVtZW50cyBvdXRzaWRlIGEgc2NvcGluZyByb290IHdoZW4gZXZhbHVhdGluZyBjaGlsZCBvclxuXHRcdFx0XHQvLyBkZXNjZW5kYW50IGNvbWJpbmF0b3JzLCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50LlxuXHRcdFx0XHQvLyBJbiBzdWNoIGNhc2VzLCB3ZSB3b3JrIGFyb3VuZCB0aGUgYmVoYXZpb3IgYnkgcHJlZml4aW5nIGV2ZXJ5IHNlbGVjdG9yIGluIHRoZVxuXHRcdFx0XHQvLyBsaXN0IHdpdGggYW4gSUQgc2VsZWN0b3IgcmVmZXJlbmNpbmcgdGhlIHNjb3BlIGNvbnRleHQuXG5cdFx0XHRcdC8vIFRoZSB0ZWNobmlxdWUgaGFzIHRvIGJlIHVzZWQgYXMgd2VsbCB3aGVuIGEgbGVhZGluZyBjb21iaW5hdG9yIGlzIHVzZWRcblx0XHRcdFx0Ly8gYXMgc3VjaCBzZWxlY3RvcnMgYXJlIG5vdCByZWNvZ25pemVkIGJ5IHF1ZXJ5U2VsZWN0b3JBbGwuXG5cdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHRlY2huaXF1ZS5cblx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdCggcmRlc2NlbmQudGVzdCggc2VsZWN0b3IgKSB8fCByY29tYmluYXRvcnMudGVzdCggc2VsZWN0b3IgKSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XG5cdFx0XHRcdFx0XHRjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gV2UgY2FuIHVzZSA6c2NvcGUgaW5zdGVhZCBvZiB0aGUgSUQgaGFjayBpZiB0aGUgYnJvd3NlclxuXHRcdFx0XHRcdC8vIHN1cHBvcnRzIGl0ICYgaWYgd2UncmUgbm90IGNoYW5naW5nIHRoZSBjb250ZXh0LlxuXHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAhPT0gY29udGV4dCB8fCAhc3VwcG9ydC5zY29wZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3Nhcnlcblx0XHRcdFx0XHRcdGlmICggKCBuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXCJpZFwiICkgKSApIHtcblx0XHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsICggbmlkID0gZXhwYW5kbyApICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJlZml4IGV2ZXJ5IHNlbGVjdG9yIGluIHRoZSBsaXN0XG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0XHRcdFx0aSA9IGdyb3Vwcy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRncm91cHNbIGkgXSA9ICggbmlkID8gXCIjXCIgKyBuaWQgOiBcIjpzY29wZVwiICkgKyBcIiBcIiArXG5cdFx0XHRcdFx0XHRcdHRvU2VsZWN0b3IoIGdyb3Vwc1sgaSBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIFwiLFwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XG5cdFx0XHRcdFx0bm9ubmF0aXZlU2VsZWN0b3JDYWNoZSggc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcblx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XG5cdFx0fVxuXHRcdHJldHVybiAoIGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUgKTtcblx0fVxuXHRyZXR1cm4gY2FjaGU7XG59XG5cbi8qKlxuICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJmaWVsZHNldFwiICk7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cblx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdGVsID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoIFwifFwiICksXG5cdFx0aSA9IGFyci5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbIGkgXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5uZXh0U2libGluZyApICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuICggbmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIgKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZGlzYWJsZWQgdHJ1ZSBmb3IgOmRpc2FibGVkOyBmYWxzZSBmb3IgOmVuYWJsZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xuXG5cdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxlZFxuXHRcdGlmICggXCJmb3JtXCIgaW4gZWxlbSApIHtcblxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOlxuXHRcdFx0Ly8gKiBsaXN0ZWQgZm9ybS1hc3NvY2lhdGVkIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgZmllbGRzZXRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjYXRlZ29yeS1saXN0ZWRcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkXG5cdFx0XHQvLyAqIG9wdGlvbiBlbGVtZW50cyBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1vcHRpb24tZGlzYWJsZWRcblx0XHRcdC8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSBcImZvcm1cIiBwcm9wZXJ0eS5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdC8vIE9wdGlvbiBlbGVtZW50cyBkZWZlciB0byBhIHBhcmVudCBvcHRncm91cCBpZiBwcmVzZW50XG5cdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0ucGFyZW50Tm9kZS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gMTFcblx0XHRcdFx0Ly8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnNcblx0XHRcdFx0cmV0dXJuIGVsZW0uaXNEaXNhYmxlZCA9PT0gZGlzYWJsZWQgfHxcblxuXHRcdFx0XHRcdC8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5XG5cdFx0XHRcdFx0LyoganNoaW50IC1XMDE4ICovXG5cdFx0XHRcdFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRpbkRpc2FibGVkRmllbGRzZXQoIGVsZW0gKSA9PT0gZGlzYWJsZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblxuXHRcdC8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVmb3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS5cblx0XHQvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3Rcblx0XHQvLyBldmVuIGV4aXN0IG9uIHRoZW0sIGxldCBhbG9uZSBoYXZlIGEgYm9vbGVhbiB2YWx1ZS5cblx0XHR9IGVsc2UgaWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHR9XG5cblx0XHQvLyBSZW1haW5pbmcgZWxlbWVudHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZFxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHtcblx0cmV0dXJuIG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbICggaiA9IG1hdGNoSW5kZXhlc1sgaSBdICkgXSApIHtcblx0XHRcdFx0XHRzZWVkWyBqIF0gPSAhKCBtYXRjaGVzWyBqIF0gPSBzZWVkWyBqIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSApO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblxuLyoqXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcbiAqL1xuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5hbWVzcGFjZSA9IGVsZW0ubmFtZXNwYWNlVVJJLFxuXHRcdGRvY0VsZW0gPSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkuZG9jdW1lbnRFbGVtZW50O1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHQvLyBBc3N1bWUgSFRNTCB3aGVuIGRvY3VtZW50RWxlbWVudCBkb2Vzbid0IHlldCBleGlzdCwgc3VjaCBhcyBpbnNpZGUgbG9hZGluZyBpZnJhbWVzXG5cdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC80ODMzXG5cdHJldHVybiAhcmh0bWwudGVzdCggbmFtZXNwYWNlIHx8IGRvY0VsZW0gJiYgZG9jRWxlbS5ub2RlTmFtZSB8fCBcIkhUTUxcIiApO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggZG9jID09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuXHRkb2N1bWVudCA9IGRvYztcblx0ZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4K1xuXHQvLyBBY2Nlc3NpbmcgaWZyYW1lIGRvY3VtZW50cyBhZnRlciB1bmxvYWQgdGhyb3dzIFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvcnMgKGpRdWVyeSAjMTM5MzYpXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggcHJlZmVycmVkRG9jICE9IGRvY3VtZW50ICYmXG5cdFx0KCBzdWJXaW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldyApICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSAxMSssIEVkZ2UgMTIgLSAxOCssIENocm9tZSA8PTE2IC0gMjUgb25seSwgRmlyZWZveCA8PTMuNiAtIDMxIG9ubHksXG5cdC8vIFNhZmFyaSA0IC0gNSBvbmx5LCBPcGVyYSA8PTExLjYgLSAxMi54IG9ubHlcblx0Ly8gSUUvRWRnZSAmIG9sZGVyIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIDpzY29wZSBwc2V1ZG8tY2xhc3MuXG5cdC8vIFN1cHBvcnQ6IFNhZmFyaSA2LjAgb25seVxuXHQvLyBTYWZhcmkgNi4wIHN1cHBvcnRzIDpzY29wZSBidXQgaXQncyBhbiBhbGlhcyBvZiA6cm9vdCB0aGVyZS5cblx0c3VwcG9ydC5zY29wZSA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXHRcdHJldHVybiB0eXBlb2YgZWwucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0IWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOnNjb3BlIGZpZWxkc2V0IGRpdlwiICkubGVuZ3RoO1xuXHR9ICk7XG5cblx0LyogQXR0cmlidXRlc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gU3VwcG9ydDogSUU8OFxuXHQvLyBWZXJpZnkgdGhhdCBnZXRBdHRyaWJ1dGUgcmVhbGx5IHJldHVybnMgYXR0cmlidXRlcyBhbmQgbm90IHByb3BlcnRpZXNcblx0Ly8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpXG5cdHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKCBcImNsYXNzTmFtZVwiICk7XG5cdH0gKTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRlbC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlQ29tbWVudCggXCJcIiApICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCIqXCIgKS5sZW5ndGg7XG5cdH0gKTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaWQgPSBleHBhbmRvO1xuXHRcdHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoO1xuXHR9ICk7XG5cblx0Ly8gSUQgZmlsdGVyIGFuZCBmaW5kXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmlsdGVyWyBcIklEXCIgXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0RXhwci5maW5kWyBcIklEXCIgXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPyBbIGVsZW0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0RXhwci5maWx0ZXJbIFwiSURcIiBdID0gIGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIFwiaWRcIiApO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdEV4cHIuZmluZFsgXCJJRFwiIF0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgbm9kZSwgaSwgZWxlbXMsXG5cdFx0XHRcdFx0ZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0Ly8gVmVyaWZ5IHRoZSBpZCBhdHRyaWJ1dGVcblx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRpZiAoIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRmFsbCBiYWNrIG9uIGdldEVsZW1lbnRzQnlOYW1lXG5cdFx0XHRcdFx0ZWxlbXMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlOYW1lKCBpZCApO1xuXHRcdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBlbGVtID0gZWxlbXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFsgZWxlbSBdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0Ly8gVGFnXG5cdEV4cHIuZmluZFsgXCJUQUdcIiBdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblxuXHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0aWYgKCB0YWcgPT09IFwiKlwiICkge1xuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IHJlc3VsdHNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbIFwiQ0xBU1NcIiBdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM3OFxuXHRyYnVnZ3lRU0EgPSBbXTtcblxuXHRpZiAoICggc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSApICkge1xuXG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXG5cdFx0XHR2YXIgaW5wdXQ7XG5cblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0Ly8gc2V0dGluZyBhIGJvb2xlYW4gY29udGVudCBhdHRyaWJ1dGUsXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlubmVySFRNTCA9IFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHQvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcblx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIlttc2FsbG93Y2FwdHVyZV49JyddXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlsqXiRdPVwiICsgd2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gQm9vbGVhbiBhdHRyaWJ1dGVzIGFuZCBcInZhbHVlXCIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseVxuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbc2VsZWN0ZWRdXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwifj1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTUgLSAxOCtcblx0XHRcdC8vIElFIDExL0VkZ2UgZG9uJ3QgZmluZCBlbGVtZW50cyBvbiBhIGBbbmFtZT0nJ11gIHF1ZXJ5IGluIHNvbWUgY2FzZXMuXG5cdFx0XHQvLyBBZGRpbmcgYSB0ZW1wb3JhcnkgYXR0cmlidXRlIHRvIHRoZSBkb2N1bWVudCBiZWZvcmUgdGhlIHNlbGVjdGlvbiB3b3Jrc1xuXHRcdFx0Ly8gYXJvdW5kIHRoZSBpc3N1ZS5cblx0XHRcdC8vIEludGVyZXN0aW5nbHksIElFIDEwICYgb2xkZXIgZG9uJ3Qgc2VlbSB0byBoYXZlIHRoZSBpc3N1ZS5cblx0XHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIlwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKTtcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiW25hbWU9JyddXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqbmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKj1cIiArXG5cdFx0XHRcdFx0d2hpdGVzcGFjZSArIFwiKig/OicnfFxcXCJcXFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdlYmtpdC9PcGVyYSAtIDpjaGVja2VkIHNob3VsZCByZXR1cm4gc2VsZWN0ZWQgb3B0aW9uIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOmNoZWNrZWRcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiOmNoZWNrZWRcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4K1xuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiLiMuK1srfl1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9My42IC0gNSBvbmx5XG5cdFx0XHQvLyBPbGQgRmlyZWZveCBkb2Vzbid0IHRocm93IG9uIGEgYmFkbHktZXNjYXBlZCBpZGVudGlmaWVyLlxuXHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbCggXCJcXFxcXFxmXCIgKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKCBcIltcXFxcclxcXFxuXFxcXGZdXCIgKTtcblx0XHR9ICk7XG5cblx0XHRhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjwvYT5cIiArXG5cdFx0XHRcdFwiPHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcblx0XHRcdC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxuXHRcdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltuYW1lPWRdXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIipbKl4kfCF+XT89XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRkYgMy41IC0gOmVuYWJsZWQvOmRpc2FibGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGhpZGRlbiBlbGVtZW50cyBhcmUgc3RpbGwgZW5hYmxlZClcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiOmVuYWJsZWRcIiApLmxlbmd0aCAhPT0gMiApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiOmVuYWJsZWRcIiwgXCI6ZGlzYWJsZWRcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTktMTErXG5cdFx0XHQvLyBJRSdzIDpkaXNhYmxlZCBzZWxlY3RvciBkb2VzIG5vdCBwaWNrIHVwIHRoZSBjaGlsZHJlbiBvZiBkaXNhYmxlZCBmaWVsZHNldHNcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuZGlzYWJsZWQgPSB0cnVlO1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIjpkaXNhYmxlZFwiICkubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IE9wZXJhIDEwIC0gMTEgb25seVxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiKiw6eFwiICk7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaCggXCIsLio6XCIgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoICggbWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yICkgKSApICkge1xuXG5cdFx0YXNzZXJ0KCBmdW5jdGlvbiggZWwgKSB7XG5cblx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRtYXRjaGVzLmNhbGwoIGVsLCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oIFwifFwiICkgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbiggXCJ8XCIgKSApO1xuXG5cdC8qIENvbnRhaW5zXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblx0aGFzQ29tcGFyZSA9IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApO1xuXG5cdC8vIEVsZW1lbnQgY29udGFpbnMgYW5vdGhlclxuXHQvLyBQdXJwb3NlZnVsbHkgc2VsZi1leGNsdXNpdmVcblx0Ly8gQXMgaW4sIGFuIGVsZW1lbnQgZG9lcyBub3QgY29udGFpbiBpdHNlbGZcblx0Y29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdHZhciBhZG93biA9IGEubm9kZVR5cGUgPT09IDkgPyBhLmRvY3VtZW50RWxlbWVudCA6IGEsXG5cdFx0XHRcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuXHRcdFx0cmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoXG5cdFx0XHRcdGFkb3duLmNvbnRhaW5zID9cblx0XHRcdFx0XHRhZG93bi5jb250YWlucyggYnVwICkgOlxuXHRcdFx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxuXHRcdFx0KSApO1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHR3aGlsZSAoICggYiA9IGIucGFyZW50Tm9kZSApICkge1xuXHRcdFx0XHRcdGlmICggYiA9PT0gYSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG5cblx0LyogU29ydGluZ1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xuXHRzb3J0T3JkZXIgPSBoYXNDb21wYXJlID9cblx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cblx0XHQvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHQvLyBTb3J0IG9uIG1ldGhvZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG5cdFx0dmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO1xuXHRcdGlmICggY29tcGFyZSApIHtcblx0XHRcdHJldHVybiBjb21wYXJlO1xuXHRcdH1cblxuXHRcdC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpZiBib3RoIGlucHV0cyBiZWxvbmcgdG8gdGhlIHNhbWUgZG9jdW1lbnRcblx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0MTtcblxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdCggIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSApICkge1xuXG5cdFx0XHQvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRpZiAoIGEgPT0gZG9jdW1lbnQgfHwgYS5vd25lckRvY3VtZW50ID09IHByZWZlcnJlZERvYyAmJlxuXHRcdFx0XHRjb250YWlucyggcHJlZmVycmVkRG9jLCBhICkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErLCBFZGdlIDE3IC0gMTgrXG5cdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcblx0XHRcdGlmICggYiA9PSBkb2N1bWVudCB8fCBiLm93bmVyRG9jdW1lbnQgPT0gcHJlZmVycmVkRG9jICYmXG5cdFx0XHRcdGNvbnRhaW5zKCBwcmVmZXJyZWREb2MsIGIgKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRXhpdCBlYXJseSBpZiB0aGUgbm9kZXMgYXJlIGlkZW50aWNhbFxuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRhdXAgPSBhLnBhcmVudE5vZGUsXG5cdFx0XHRidXAgPSBiLnBhcmVudE5vZGUsXG5cdFx0XHRhcCA9IFsgYSBdLFxuXHRcdFx0YnAgPSBbIGIgXTtcblxuXHRcdC8vIFBhcmVudGxlc3Mgbm9kZXMgYXJlIGVpdGhlciBkb2N1bWVudHMgb3IgZGlzY29ubmVjdGVkXG5cdFx0aWYgKCAhYXVwIHx8ICFidXAgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cblx0XHRcdHJldHVybiBhID09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRiID09IGRvY3VtZW50ID8gMSA6XG5cdFx0XHRcdC8qIGVzbGludC1lbmFibGUgZXFlcWVxICovXG5cdFx0XHRcdGF1cCA/IC0xIDpcblx0XHRcdFx0YnVwID8gMSA6XG5cdFx0XHRcdHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblxuXHRcdC8vIElmIHRoZSBub2RlcyBhcmUgc2libGluZ3MsIHdlIGNhbiBkbyBhIHF1aWNrIGNoZWNrXG5cdFx0fSBlbHNlIGlmICggYXVwID09PSBidXAgKSB7XG5cdFx0XHRyZXR1cm4gc2libGluZ0NoZWNrKCBhLCBiICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlIHdlIG5lZWQgZnVsbCBsaXN0cyBvZiB0aGVpciBhbmNlc3RvcnMgZm9yIGNvbXBhcmlzb25cblx0XHRjdXIgPSBhO1xuXHRcdHdoaWxlICggKCBjdXIgPSBjdXIucGFyZW50Tm9kZSApICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGN1ci5wYXJlbnROb2RlICkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbIGkgXSA9PT0gYnBbIGkgXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFsgaSBdLCBicFsgaSBdICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cblx0XHRcdGFwWyBpIF0gPT0gcHJlZmVycmVkRG9jID8gLTEgOlxuXHRcdFx0YnBbIGkgXSA9PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdC8qIGVzbGludC1lbmFibGUgZXFlcWVxICovXG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHRzZXREb2N1bWVudCggZWxlbSApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhbm9ubmF0aXZlU2VsZWN0b3JDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXG5cdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdC8vIGZyYWdtZW50IGluIElFIDlcblx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdG5vbm5hdGl2ZVNlbGVjdG9yQ2FjaGUoIGV4cHIsIHRydWUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gU2l6emxlKCBleHByLCBkb2N1bWVudCwgbnVsbCwgWyBlbGVtIF0gKS5sZW5ndGggPiAwO1xufTtcblxuU2l6emxlLmNvbnRhaW5zID0gZnVuY3Rpb24oIGNvbnRleHQsIGVsZW0gKSB7XG5cblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0Ly8gSUUvRWRnZSBzb21ldGltZXMgdGhyb3cgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3Igd2hlbiBzdHJpY3QtY29tcGFyaW5nXG5cdC8vIHR3byBkb2N1bWVudHM7IHNoYWxsb3cgY29tcGFyaXNvbnMgd29yay5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQoIHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApICkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0cmV0dXJuICggc2VsICsgXCJcIiApLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoICggZWxlbSA9IHJlc3VsdHNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKCBub2RlID0gZWxlbVsgaSsrIF0gKSApIHtcblxuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cblx0XHQvLyBVc2UgdGV4dENvbnRlbnQgZm9yIGVsZW1lbnRzXG5cdFx0Ly8gaW5uZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5ICMxMTE1Mylcblx0XHRpZiAoIHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbIDEgXSA9IG1hdGNoWyAxIF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWyAzIF0gPSAoIG1hdGNoWyAzIF0gfHwgbWF0Y2hbIDQgXSB8fFxuXHRcdFx0XHRtYXRjaFsgNSBdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWyAyIF0gPT09IFwifj1cIiApIHtcblx0XHRcdFx0bWF0Y2hbIDMgXSA9IFwiIFwiICsgbWF0Y2hbIDMgXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cblx0XHRcdC8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbXCJDSElMRFwiXVxuXHRcdFx0XHQxIHR5cGUgKG9ubHl8bnRofC4uLilcblx0XHRcdFx0MiB3aGF0IChjaGlsZHxvZi10eXBlKVxuXHRcdFx0XHQzIGFyZ3VtZW50IChldmVufG9kZHxcXGQqfFxcZCpuKFsrLV1cXGQrKT98Li4uKVxuXHRcdFx0XHQ0IHhuLWNvbXBvbmVudCBvZiB4bit5IGFyZ3VtZW50IChbKy1dP1xcZCpufClcblx0XHRcdFx0NSBzaWduIG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ2IHggb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDcgc2lnbiBvZiB5LWNvbXBvbmVudFxuXHRcdFx0XHQ4IHkgb2YgeS1jb21wb25lbnRcblx0XHRcdCovXG5cdFx0XHRtYXRjaFsgMSBdID0gbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWyAxIF0uc2xpY2UoIDAsIDMgKSA9PT0gXCJudGhcIiApIHtcblxuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFsgMyBdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbIDAgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gbnVtZXJpYyB4IGFuZCB5IHBhcmFtZXRlcnMgZm9yIEV4cHIuZmlsdGVyLkNISUxEXG5cdFx0XHRcdC8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAwLzFcblx0XHRcdFx0bWF0Y2hbIDQgXSA9ICsoIG1hdGNoWyA0IF0gP1xuXHRcdFx0XHRcdG1hdGNoWyA1IF0gKyAoIG1hdGNoWyA2IF0gfHwgMSApIDpcblx0XHRcdFx0XHQyICogKCBtYXRjaFsgMyBdID09PSBcImV2ZW5cIiB8fCBtYXRjaFsgMyBdID09PSBcIm9kZFwiICkgKTtcblx0XHRcdFx0bWF0Y2hbIDUgXSA9ICsoICggbWF0Y2hbIDcgXSArIG1hdGNoWyA4IF0gKSB8fCBtYXRjaFsgMyBdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsgMyBdICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFsgNiBdICYmIG1hdGNoWyAyIF07XG5cblx0XHRcdGlmICggbWF0Y2hFeHByWyBcIkNISUxEXCIgXS50ZXN0KCBtYXRjaFsgMCBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFsgMyBdICkge1xuXHRcdFx0XHRtYXRjaFsgMiBdID0gbWF0Y2hbIDQgXSB8fCBtYXRjaFsgNSBdIHx8IFwiXCI7XG5cblx0XHRcdC8vIFN0cmlwIGV4Y2VzcyBjaGFyYWN0ZXJzIGZyb20gdW5xdW90ZWQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiZcblxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoIGV4Y2VzcyA9IHRva2VuaXplKCB1bnF1b3RlZCwgdHJ1ZSApICkgJiZcblxuXHRcdFx0XHQvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcblx0XHRcdFx0KCBleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGggKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFsgMCBdID0gbWF0Y2hbIDAgXS5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHRcdG1hdGNoWyAyIF0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQoIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcdFx0XCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkgKSAmJiBjbGFzc0NhY2hlKFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdChcblx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZWxlbS5jbGFzc05hbWUgfHxcblx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiZcblx0XHRcdFx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fFxuXHRcdFx0XHRcdFx0XHRcdFwiXCJcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0fSApO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuXHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiPVwiID8gcmVzdWx0ID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiIT1cIiA/IHJlc3VsdCAhPT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIl49XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA9PT0gMCA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiKj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID4gLTEgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiQ9XCIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIn49XCIgPyAoIFwiIFwiICsgcmVzdWx0LnJlcGxhY2UoIHJ3aGl0ZXNwYWNlLCBcIiBcIiApICsgXCIgXCIgKS5pbmRleE9mKCBjaGVjayApID4gLTEgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcInw9XCIgPyByZXN1bHQgPT09IGNoZWNrIHx8IHJlc3VsdC5zbGljZSggMCwgY2hlY2subGVuZ3RoICsgMSApID09PSBjaGVjayArIFwiLVwiIDpcblx0XHRcdFx0XHRmYWxzZTtcblx0XHRcdFx0LyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cblx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIHR5cGUsIHdoYXQsIF9hcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBfY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG5vZGUgPSBub2RlWyBkaXIgXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBSZXZlcnNlIGRpcmVjdGlvbiBmb3IgOm9ubHktKiAoaWYgd2UgaGF2ZW4ndCB5ZXQgZG9uZSBzbylcblx0XHRcdFx0XHRcdFx0XHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHN0YXJ0ID0gWyBmb3J3YXJkID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkIF07XG5cblx0XHRcdFx0XHRcdC8vIG5vbi14bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgXG5cdFx0XHRcdFx0XHRpZiAoIGZvcndhcmQgJiYgdXNlQ2FjaGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRub2RlID0gcGFyZW50O1xuXHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8ICggbm9kZVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KCBkaWZmID0gbm9kZUluZGV4ID0gMCApIHx8IHN0YXJ0LnBvcCgpICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAoIG5vZGVbIGV4cGFuZG8gXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdCggb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdCggZGlmZiA9IG5vZGVJbmRleCA9IDAgKSB8fCBzdGFydC5wb3AoKSApICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KCBub2RlWyBleHBhbmRvIF0gPSB7fSApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQoIG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIG5vZGUgPT09IGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcblx0XHRcdFx0XHRcdGRpZmYgLT0gbGFzdDtcblx0XHRcdFx0XHRcdHJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoIGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJQU0VVRE9cIjogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7XG5cblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgaWR4LFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkID0gZm4oIHNlZWQsIGFyZ3VtZW50ICksXG5cdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZHggPSBpbmRleE9mKCBzZWVkLCBtYXRjaGVkWyBpIF0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbIGkgXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblxuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgX2NvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHRcdHVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSxcblx0XHRcdFx0XHRcdGkgPSBzZWVkLmxlbmd0aDtcblxuXHRcdFx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKCBlbGVtID0gdW5tYXRjaGVkWyBpIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaSBdID0gISggbWF0Y2hlc1sgaSBdID0gZWxlbSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIF9jb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0aW5wdXRbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRpbnB1dFsgMCBdID0gbnVsbDtcblx0XHRcdFx0XHRyZXR1cm4gIXJlc3VsdHMucG9wKCk7XG5cdFx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0XCJjb250YWluc1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdH07XG5cdFx0fSApLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblxuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdCggbGFuZyB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcgKTtcblx0XHRcdH1cblx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIGVsZW1MYW5nO1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0aWYgKCAoIGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBcInhtbDpsYW5nXCIgKSB8fCBlbGVtLmdldEF0dHJpYnV0ZSggXCJsYW5nXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHRlbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IHdoaWxlICggKCBlbGVtID0gZWxlbS5wYXJlbnROb2RlICkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0gKSxcblxuXHRcdC8vIE1pc2NlbGxhbmVvdXNcblx0XHRcInRhcmdldFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0cmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xuXHRcdH0sXG5cblx0XHRcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTtcblx0XHR9LFxuXG5cdFx0XCJmb2N1c1wiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmXG5cdFx0XHRcdCggIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkgKSAmJlxuXHRcdFx0XHQhISggZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCApO1xuXHRcdH0sXG5cblx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcImVuYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGZhbHNlICksXG5cdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXG5cdFx0XCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkICkgfHxcblx0XHRcdFx0KCBub2RlTmFtZSA9PT0gXCJvcHRpb25cIiAmJiAhIWVsZW0uc2VsZWN0ZWQgKTtcblx0XHR9LFxuXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuXHRcdFx0Ly8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHQvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1sgXCJlbXB0eVwiIF0oIGVsZW0gKTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xuXHRcdFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImlucHV0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIjtcblx0XHR9LFxuXG5cdFx0XCJ0ZXh0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGF0dHI7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcblx0XHRcdFx0ZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHRcdFx0Ly8gTmV3IEhUTUw1IGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4sIFwic2VhcmNoXCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCJcblx0XHRcdFx0KCAoIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSApID09IG51bGwgfHxcblx0XHRcdFx0XHRhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG5cdFx0fSxcblxuXHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cblx0XHRcImZpcnN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0gKSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggX21hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdH0gKSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIF9tYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XG5cdFx0fSApLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9ICksXG5cblx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApLFxuXG5cdFx0XCJsdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgP1xuXHRcdFx0XHRhcmd1bWVudCArIGxlbmd0aCA6XG5cdFx0XHRcdGFyZ3VtZW50ID4gbGVuZ3RoID9cblx0XHRcdFx0XHRsZW5ndGggOlxuXHRcdFx0XHRcdGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyAtLWkgPj0gMDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0gKSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSApXG5cdH1cbn07XG5cbkV4cHIucHNldWRvc1sgXCJudGhcIiBdID0gRXhwci5wc2V1ZG9zWyBcImVxXCIgXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKCBtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApICkgKSB7XG5cdFx0XHRpZiAoIG1hdGNoICkge1xuXG5cdFx0XHRcdC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWyAwIF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKCB0b2tlbnMgPSBbXSApICk7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ29tYmluYXRvcnNcblx0XHRpZiAoICggbWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSApICkge1xuXHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHR0b2tlbnMucHVzaCgge1xuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblxuXHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2Vcblx0XHRcdFx0dHlwZTogbWF0Y2hbIDAgXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSApO1xuXHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGaWx0ZXJzXG5cdFx0Zm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHtcblx0XHRcdGlmICggKCBtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkgKSAmJiAoICFwcmVGaWx0ZXJzWyB0eXBlIF0gfHxcblx0XHRcdFx0KCBtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSApICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0XHR0b2tlbnMucHVzaCgge1xuXHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufTtcblxuZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1sgaSBdLnZhbHVlO1xuXHR9XG5cdHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHtcblx0dmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLFxuXHRcdHNraXAgPSBjb21iaW5hdG9yLm5leHQsXG5cdFx0a2V5ID0gc2tpcCB8fCBkaXIsXG5cdFx0Y2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYga2V5ID09PSBcInBhcmVudE5vZGVcIixcblx0XHRkb25lTmFtZSA9IGRvbmUrKztcblxuXHRyZXR1cm4gY29tYmluYXRvci5maXJzdCA/XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IDpcblxuXHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLFxuXHRcdFx0XHRuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcblxuXHRcdFx0Ly8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG5cdFx0XHRpZiAoIHhtbCApIHtcblx0XHRcdFx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8ICggZWxlbVsgZXhwYW5kbyBdID0ge30gKTtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHQoIG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9ICk7XG5cblx0XHRcdFx0XHRcdGlmICggc2tpcCAmJiBza2lwID09PSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdGVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmICggKCBvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSApICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuICggbmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsga2V5IF0gPSBuZXdDYWNoZTtcblxuXHRcdFx0XHRcdFx0XHQvLyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAgY2hlY2tpbmdcblx0XHRcdFx0XHRcdFx0aWYgKCAoIG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzWyBpIF0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSA6XG5cdFx0bWF0Y2hlcnNbIDAgXTtcbn1cblxuZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gY29udGV4dHMubGVuZ3RoO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0c1sgaSBdLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoIGVsZW0gPSB1bm1hdGNoZWRbIGkgXSApICkge1xuXHRcdFx0aWYgKCAhZmlsdGVyIHx8IGZpbHRlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdGlmICggbWFwcGVkICkge1xuXHRcdFx0XHRcdG1hcC5wdXNoKCBpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbmV3VW5tYXRjaGVkO1xufVxuXG5mdW5jdGlvbiBzZXRNYXRjaGVyKCBwcmVGaWx0ZXIsIHNlbGVjdG9yLCBtYXRjaGVyLCBwb3N0RmlsdGVyLCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKSB7XG5cdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XG5cdH1cblx0aWYgKCBwb3N0RmluZGVyICYmICFwb3N0RmluZGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xuXHR9XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIHRlbXAsIGksIGVsZW0sXG5cdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsXG5cblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRlbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cyhcblx0XHRcdFx0c2VsZWN0b3IgfHwgXCIqXCIsXG5cdFx0XHRcdGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsXG5cdFx0XHRcdFtdXG5cdFx0XHQpLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcblx0XHRcdFx0cG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xuXG5cdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0W10gOlxuXG5cdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdFx0cmVzdWx0cyA6XG5cdFx0XHRcdG1hdGNoZXJJbjtcblxuXHRcdC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG5cdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXG5cdFx0aWYgKCBwb3N0RmlsdGVyICkge1xuXHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XG5cblx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoICggZWxlbSA9IHRlbXBbIGkgXSApICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbIGkgXSBdID0gISggbWF0Y2hlckluWyBwb3N0TWFwWyBpIF0gXSA9IGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblxuXHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdHRlbXAgPSBbXTtcblx0XHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZWxlbSA9IG1hdGNoZXJPdXRbIGkgXSApICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXG5cdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKCBtYXRjaGVySW5bIGkgXSA9IGVsZW0gKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAoIG1hdGNoZXJPdXQgPSBbXSApLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAoIGVsZW0gPSBtYXRjaGVyT3V0WyBpIF0gKSAmJlxuXHRcdFx0XHRcdFx0KCB0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFsgaSBdICkgPiAtMSApIHtcblxuXHRcdFx0XHRcdFx0c2VlZFsgdGVtcCBdID0gISggcmVzdWx0c1sgdGVtcCBdID0gZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXJPdXQgPSBjb25kZW5zZShcblx0XHRcdFx0bWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XG5cdFx0XHRcdFx0bWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDpcblx0XHRcdFx0XHRtYXRjaGVyT3V0XG5cdFx0XHQpO1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCByZXN1bHRzLCBtYXRjaGVyT3V0LCB4bWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIG1hdGNoZXJPdXQgKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gKTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1sgMCBdLnR5cGUgXSxcblx0XHRpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbIFwiIFwiIF0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdCggY2hlY2tDb250ZXh0ID0gY29udGV4dCApLm5vZGVUeXBlID9cblx0XHRcdFx0XHRtYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cblx0XHRcdC8vIEF2b2lkIGhhbmdpbmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0Y2hlY2tDb250ZXh0ID0gbnVsbDtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSBdO1xuXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdGlmICggKCBtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyBpIF0udHlwZSBdICkgKSB7XG5cdFx0XHRtYXRjaGVycyA9IFsgYWRkQ29tYmluYXRvciggZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIgKSBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1sgaSBdLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zWyBpIF0ubWF0Y2hlcyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XG5cblx0XHRcdFx0Ly8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nXG5cdFx0XHRcdGogPSArK2k7XG5cdFx0XHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zWyBqIF0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cblx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdHRva2Vuc1xuXHRcdFx0XHRcdFx0LnNsaWNlKCAwLCBpIC0gMSApXG5cdFx0XHRcdFx0XHQuY29uY2F0KCB7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSApXG5cdFx0XHRcdFx0KS5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksXG5cdFx0XHRcdFx0bWF0Y2hlcixcblx0XHRcdFx0XHRpIDwgaiAmJiBtYXRjaGVyRnJvbVRva2VucyggdG9rZW5zLnNsaWNlKCBpLCBqICkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAoIHRva2VucyA9IHRva2Vucy5zbGljZSggaiApICkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblxuXHRcdFx0XHQvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0XG5cdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kWyBcIlRBR1wiIF0oIFwiKlwiLCBvdXRlcm1vc3QgKSxcblxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKCBkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSApLFxuXHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExKywgRWRnZSAxNyAtIDE4K1xuXHRcdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdFx0Ly8gdHdvIGRvY3VtZW50czsgc2hhbGxvdyBjb21wYXJpc29ucyB3b3JrLlxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0ID09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSssIEVkZ2UgMTcgLSAxOCtcblx0XHRcdFx0XHQvLyBJRS9FZGdlIHNvbWV0aW1lcyB0aHJvdyBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIHN0cmljdC1jb21wYXJpbmdcblx0XHRcdFx0XHQvLyB0d28gZG9jdW1lbnRzOyBzaGFsbG93IGNvbXBhcmlzb25zIHdvcmsuXG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9IGRvY3VtZW50ICkge1xuXHRcdFx0XHRcdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0XHRcdFx0XHRcdHhtbCA9ICFkb2N1bWVudElzSFRNTDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKCBlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSApICkge1xuXHRcdFx0XHRcdFx0bWF0Y2hlZENvdW50LS07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTGVuZ3RoZW4gdGhlIGFycmF5IGZvciBldmVyeSBlbGVtZW50LCBtYXRjaGVkIG9yIG5vdFxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHRcdHVubWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuXG5cdFx0XHRtYXRjaGVkQ291bnQgKz0gaTtcblxuXHRcdFx0Ly8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBOT1RFOiBUaGlzIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyB1bm1hdGNoZWQgZWxlbWVudHMgKGkuZS4sIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcblx0XHRcdC8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuXG5cdFx0XHQvLyBJbmNyZW1lbnRpbmcgYW4gaW5pdGlhbGx5LXN0cmluZyBcIjBcIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25seSBpbiB0aGF0XG5cdFx0XHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cblx0XHRcdC8vIG51bWVyaWNhbGx5IHplcm8uXG5cdFx0XHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcblx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdHdoaWxlICggKCBtYXRjaGVyID0gc2V0TWF0Y2hlcnNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblxuXHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCAhKCB1bm1hdGNoZWRbIGkgXSB8fCBzZXRNYXRjaGVkWyBpIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRNYXRjaGVkWyBpIF0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblxuXHRcdC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuXHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHR9XG5cdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFsgaSBdICk7XG5cdFx0XHRpZiAoIGNhY2hlZFsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWNoZSB0aGUgY29tcGlsZWQgZnVuY3Rpb25cblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlKFxuXHRcdFx0c2VsZWN0b3IsXG5cdFx0XHRtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKVxuXHRcdCk7XG5cblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0fVxuXHRyZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcblx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoICggc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvciApICk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcblx0Ly8gKHRoZSBsYXR0ZXIgb2Ygd2hpY2ggZ3VhcmFudGVlcyB1cyBjb250ZXh0KVxuXHRpZiAoIG1hdGNoLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdC8vIFJlZHVjZSBjb250ZXh0IGlmIHRoZSBsZWFkaW5nIGNvbXBvdW5kIHNlbGVjdG9yIGlzIGFuIElEXG5cdFx0dG9rZW5zID0gbWF0Y2hbIDAgXSA9IG1hdGNoWyAwIF0uc2xpY2UoIDAgKTtcblx0XHRpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICggdG9rZW4gPSB0b2tlbnNbIDAgXSApLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0Y29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJiBFeHByLnJlbGF0aXZlWyB0b2tlbnNbIDEgXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFsgXCJJRFwiIF0oIHRva2VuLm1hdGNoZXNbIDAgXVxuXHRcdFx0XHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSwgY29udGV4dCApIHx8IFtdIClbIDAgXTtcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcblx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdGkgPSBtYXRjaEV4cHJbIFwibmVlZHNDb250ZXh0XCIgXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0b2tlbiA9IHRva2Vuc1sgaSBdO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICggdHlwZSA9IHRva2VuLnR5cGUgKSBdICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggKCBmaW5kID0gRXhwci5maW5kWyB0eXBlIF0gKSApIHtcblxuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoIHNlZWQgPSBmaW5kKFxuXHRcdFx0XHRcdHRva2VuLm1hdGNoZXNbIDAgXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1sgMCBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHxcblx0XHRcdFx0XHRcdGNvbnRleHRcblx0XHRcdFx0KSApICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG5cdFx0XHRcdFx0dG9rZW5zLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdHNlbGVjdG9yID0gc2VlZC5sZW5ndGggJiYgdG9TZWxlY3RvciggdG9rZW5zICk7XG5cdFx0XHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuXHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG5cdCggY29tcGlsZWQgfHwgY29tcGlsZSggc2VsZWN0b3IsIG1hdGNoICkgKShcblx0XHRzZWVkLFxuXHRcdGNvbnRleHQsXG5cdFx0IWRvY3VtZW50SXNIVE1MLFxuXHRcdHJlc3VsdHMsXG5cdFx0IWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXG5cbi8vIFNvcnQgc3RhYmlsaXR5XG5zdXBwb3J0LnNvcnRTdGFibGUgPSBleHBhbmRvLnNwbGl0KCBcIlwiICkuc29ydCggc29ydE9yZGVyICkuam9pbiggXCJcIiApID09PSBleHBhbmRvO1xuXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZmllbGRzZXRcIiApICkgJiAxO1xufSApO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIWFzc2VydCggZnVuY3Rpb24oIGVsICkge1xuXHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCBcImhyZWZcIiApID09PSBcIiNcIjtcbn0gKSApIHtcblx0YWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHR9XG5cdH0gKTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKVxuaWYgKCAhc3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0ZWwuaW5uZXJIVE1MID0gXCI8aW5wdXQvPlwiO1xuXHRlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG59ICkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgX25hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xuXHRcdH1cblx0fSApO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXG5pZiAoICFhc3NlcnQoIGZ1bmN0aW9uKCBlbCApIHtcblx0cmV0dXJuIGVsLmdldEF0dHJpYnV0ZSggXCJkaXNhYmxlZFwiICkgPT0gbnVsbDtcbn0gKSApIHtcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciB2YWw7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0KCB2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSApICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdFx0bnVsbDtcblx0XHR9XG5cdH0gKTtcbn1cblxucmV0dXJuIFNpenpsZTtcblxufSApKCB3aW5kb3cgKTtcblxuXG5cbmpRdWVyeS5maW5kID0gU2l6emxlO1xualF1ZXJ5LmV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzO1xuXG4vLyBEZXByZWNhdGVkXG5qUXVlcnkuZXhwclsgXCI6XCIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlxdWUgPSBTaXp6bGUudW5pcXVlU29ydDtcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XG5qUXVlcnkuY29udGFpbnMgPSBTaXp6bGUuY29udGFpbnM7XG5qUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlO1xuXG5cblxuXG52YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdHZhciBtYXRjaGVkID0gW10sXG5cdFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xuXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICkuaXMoIHVudGlsICkgKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0bWF0Y2hlZC5wdXNoKCBlbGVtICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcblx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xuXHRcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xuXHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBybmVlZHNDb250ZXh0ID0galF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0O1xuXG5cblxuZnVuY3Rpb24gbm9kZU5hbWUoIGVsZW0sIG5hbWUgKSB7XG5cbiAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cbn07XG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcblxuXG5cbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XG5mdW5jdGlvbiB3aW5ub3coIGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHtcblx0aWYgKCBpc0Z1bmN0aW9uKCBxdWFsaWZpZXIgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBTaW5nbGUgZWxlbWVudFxuXHRpZiAoIHF1YWxpZmllci5ub2RlVHlwZSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gQXJyYXlsaWtlIG9mIGVsZW1lbnRzIChqUXVlcnksIGFyZ3VtZW50cywgQXJyYXkpXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRmlsdGVyZWQgZGlyZWN0bHkgZm9yIGJvdGggc2ltcGxlIGFuZCBjb21wbGV4IHNlbGVjdG9yc1xuXHRyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7XG59XG5cbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xuXG5cdGlmICggbm90ICkge1xuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XG5cdH1cblxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0fSApICk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgaSwgcmV0LFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZWxmID0gdGhpcztcblxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH1cblxuXHRcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGpRdWVyeS5maW5kKCBzZWxlY3Rvciwgc2VsZlsgaSBdLCByZXQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcblx0fSxcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSApICk7XG5cdH0sXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgdHJ1ZSApICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSApO1xuXG5cbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XG5cblxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXG52YXIgcm9vdGpRdWVyeSxcblxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xuXHQvLyBQcmlvcml0aXplICNpZCBvdmVyIDx0YWc+IHRvIGF2b2lkIFhTUyB2aWEgbG9jYXRpb24uaGFzaCAoIzk1MjEpXG5cdC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KVxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0rKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBNZXRob2QgaW5pdCgpIGFjY2VwdHMgYW4gYWx0ZXJuYXRlIHJvb3RqUXVlcnlcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXG5cdFx0cm9vdCA9IHJvb3QgfHwgcm9vdGpRdWVyeTtcblxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3Ncblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGlmICggc2VsZWN0b3JbIDAgXSA9PT0gXCI8XCIgJiZcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcblx0XHRcdFx0c2VsZWN0b3IubGVuZ3RoID49IDMgKSB7XG5cblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxuXHRcdFx0XHRpZiAoIG1hdGNoWyAxIF0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xuXG5cdFx0XHRcdFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXG5cdFx0XHRcdFx0XHRtYXRjaFsgMSBdLFxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRcdHRydWVcblx0XHRcdFx0XHQpICk7XG5cblx0XHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCwgcHJvcHMpXG5cdFx0XHRcdFx0aWYgKCByc2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBQcm9wZXJ0aWVzIG9mIGNvbnRleHQgYXJlIGNhbGxlZCBhcyBtZXRob2RzIGlmIHBvc3NpYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhpc1sgbWF0Y2ggXSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgb3RoZXJ3aXNlIHNldCBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hdHRyKCBtYXRjaCwgY29udGV4dFsgbWF0Y2ggXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKCNpZClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1hdGNoWyAyIF0gKTtcblxuXHRcdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XG5cdFx0XHRcdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXG5cdFx0XHR9IGVsc2UgaWYgKCAhY29udGV4dCB8fCBjb250ZXh0LmpxdWVyeSApIHtcblx0XHRcdFx0cmV0dXJuICggY29udGV4dCB8fCByb290ICkuZmluZCggc2VsZWN0b3IgKTtcblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXG5cdFx0XHQvLyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcilcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKCBjb250ZXh0ICkuZmluZCggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xuXHRcdFx0dGhpc1sgMCBdID0gc2VsZWN0b3I7XG5cdFx0XHR0aGlzLmxlbmd0aCA9IDE7XG5cdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdC8vIEhBTkRMRTogJChmdW5jdGlvbilcblx0XHQvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHlcblx0XHR9IGVsc2UgaWYgKCBpc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJvb3QucmVhZHkoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBqUXVlcnkubWFrZUFycmF5KCBzZWxlY3RvciwgdGhpcyApO1xuXHR9O1xuXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXG5pbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjtcblxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxucm9vdGpRdWVyeSA9IGpRdWVyeSggZG9jdW1lbnQgKTtcblxuXG52YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sXG5cblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XG5cdFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFwic3RyaW5nXCIgJiYgalF1ZXJ5KCBzZWxlY3RvcnMgKTtcblxuXHRcdC8vIFBvc2l0aW9uYWwgc2VsZWN0b3JzIG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHRcblx0XHRpZiAoICFybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9ycyApICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRleHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXG5cdFx0XHRcdFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xuXHRcdFx0XHRcdFx0dGFyZ2V0cy5pbmRleCggY3VyICkgPiAtMSA6XG5cblx0XHRcdFx0XHRcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxuXHRcdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xuXG5cdFx0XHRcdFx0XHRtYXRjaGVkLnB1c2goIGN1ciApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xuXHR9LFxuXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxuXHRpbmRleDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxuXHRcdGlmICggIWVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCB0aGlzWyAwIF0gJiYgdGhpc1sgMCBdLnBhcmVudE5vZGUgKSA/IHRoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoIDogLTE7XG5cdFx0fVxuXG5cdFx0Ly8gSW5kZXggaW4gc2VsZWN0b3Jcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRoaXNbIDAgXSApO1xuXHRcdH1cblxuXHRcdC8vIExvY2F0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGRlc2lyZWQgZWxlbWVudFxuXHRcdHJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsXG5cblx0XHRcdC8vIElmIGl0IHJlY2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZFxuXHRcdFx0ZWxlbS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtXG5cdFx0KTtcblx0fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soXG5cdFx0XHRqUXVlcnkudW5pcXVlU29ydChcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKCBzZWxlY3RvciApXG5cdFx0KTtcblx0fVxufSApO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxuXHRyZXR1cm4gY3VyO1xufVxuXG5qUXVlcnkuZWFjaCgge1xuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0cmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IDExID8gcGFyZW50IDogbnVsbDtcblx0fSxcblx0cGFyZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIgKTtcblx0fSxcblx0cGFyZW50c1VudGlsOiBmdW5jdGlvbiggZWxlbSwgX2ksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuXHR9LFxuXHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIF9pLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcblx0fSxcblx0Y2hpbGRyZW46IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggZWxlbS5maXJzdENoaWxkICk7XG5cdH0sXG5cdGNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRpZiAoIGVsZW0uY29udGVudERvY3VtZW50ICE9IG51bGwgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTErXG5cdFx0XHQvLyA8b2JqZWN0PiBlbGVtZW50cyB3aXRoIG5vIGBkYXRhYCBhdHRyaWJ1dGUgaGFzIGFuIG9iamVjdFxuXHRcdFx0Ly8gYGNvbnRlbnREb2N1bWVudGAgd2l0aCBhIGBudWxsYCBwcm90b3R5cGUuXG5cdFx0XHRnZXRQcm90byggZWxlbS5jb250ZW50RG9jdW1lbnQgKSApIHtcblxuXHRcdFx0cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seVxuXHRcdC8vIFRyZWF0IHRoZSB0ZW1wbGF0ZSBlbGVtZW50IGFzIGEgcmVndWxhciBvbmUgaW4gYnJvd3NlcnMgdGhhdFxuXHRcdC8vIGRvbid0IHN1cHBvcnQgaXQuXG5cdFx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0ZW1wbGF0ZVwiICkgKSB7XG5cdFx0XHRlbGVtID0gZWxlbS5jb250ZW50IHx8IGVsZW07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHR9XG59LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzXG5cdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHR9O1xufSApO1xudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyApO1xuXG5cblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXNcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdHZhciBvYmplY3QgPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHR9ICk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRtZW1vcnksXG5cblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXG5cdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdGxvY2tlZCxcblxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXG5cdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRxdWV1ZSA9IFtdLFxuXG5cdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXggPSAtMSxcblxuXHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdGxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LnB1c2goIGFyZyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0LCBub1ZhbHVlICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnByb21pc2UgKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgdGhlbmFibGVzXG5cdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuXHRcdFx0Ly8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuXHRcdFx0Ly8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcblx0XHRcdHJlc29sdmUuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdLnNsaWNlKCBub1ZhbHVlICkgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBfaSwgdHVwbGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTWFwIHR1cGxlcyAocHJvZ3Jlc3MsIGRvbmUsIGZhaWwpIHRvIGFyZ3VtZW50cyAoZG9uZSwgZmFpbCwgcHJvZ3Jlc3MpXG5cdFx0XHRcdFx0XHRcdHZhciBmbiA9IGlzRnVuY3Rpb24oIGZuc1sgdHVwbGVbIDQgXSBdICkgJiYgZm5zWyB0dXBsZVsgNCBdIF07XG5cblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5mYWlsKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlamVjdCB9KVxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBpc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC5wcm9taXNlKClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZG9uZSggbmV3RGVmZXIucmVzb2x2ZSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXJbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdGZucyA9IG51bGw7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0dGhlbjogZnVuY3Rpb24oIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzICkge1xuXHRcdFx0XHRcdHZhciBtYXhEZXB0aCA9IDA7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0YXJncyA9IGFyZ3VtZW50cyxcblx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQsIHRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIGRvdWJsZS1yZXNvbHV0aW9uIGF0dGVtcHRzXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoIDwgbWF4RGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KCB0aGF0LCBhcmdzICk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjFcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoIFwiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uXCIgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NFxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2Vcblx0XHRcdFx0XHRcdFx0XHRcdHRoZW4gPSByZXR1cm5lZCAmJlxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBjaGVjayBvYmplY3RzIGFuZCBmdW5jdGlvbnMgZm9yIHRoZW5hYmlsaXR5XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggdHlwZW9mIHJldHVybmVkID09PSBcIm9iamVjdFwiIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHJldHVybmVkID09PSBcImZ1bmN0aW9uXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZC50aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGVuICkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gTm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGFsc28gaG9vayBpbnRvIHByb2dyZXNzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAuLi5hbmQgZGlzcmVnYXJkIG9sZGVyIHJlc29sdXRpb24gdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWF4RGVwdGgrKztcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJuZWQgdmFsdWVzXG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyByZXR1cm5lZCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gUHJvY2VzcyB0aGUgdmFsdWUocylcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBub3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xuXHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKCBlLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgcG9zdC1yZXNvbHV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IFRocm93ZXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xuXHRcdFx0XHRcdFx0XHQvLyBSZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBmcm9tXG5cdFx0XHRcdFx0XHRcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcygpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ2FsbCBhbiBvcHRpb25hbCBob29rIHRvIHJlY29yZCB0aGUgc3RhY2ssIGluIGNhc2Ugb2YgZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0Ly8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2VzIGFzeW5jXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblxuXHRcdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblByb2dyZXNzICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlci5ub3RpZnlXaXRoXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25GdWxmaWxsZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHlcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAyIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgP1xuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRUaHJvd2VyXG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXG5cdFx0XHRcdC8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRoZSBvYmplY3Rcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWZlcnJlZCA9IHt9O1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xuXG5cdFx0XHQvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbIDEgXSBdID0gbGlzdC5hZGQ7XG5cblx0XHRcdC8vIEhhbmRsZSBzdGF0ZVxuXHRcdFx0aWYgKCBzdGF0ZVN0cmluZyApIHtcblx0XHRcdFx0bGlzdC5hZGQoXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVqZWN0ZWRcIlxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzdGF0ZVN0cmluZztcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAzIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2NhbGxiYWNrcy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDIgXS5sb2NrLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0ubG9ja1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXG5cdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxuXHRcdFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVqZWN0V2l0aCguLi4pIH1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdKCB0aGlzID09PSBkZWZlcnJlZCA/IHVuZGVmaW5lZCA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0gPSBsaXN0LmZpcmVXaXRoO1xuXHRcdH0gKTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xuXHRcdHZhclxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xuXHRcdFx0aSA9IHJlbWFpbmluZyxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxuXHRcdFx0cmVzb2x2ZUNvbnRleHRzID0gQXJyYXkoIGkgKSxcblx0XHRcdHJlc29sdmVWYWx1ZXMgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblxuXHRcdFx0Ly8gdGhlIG1hc3RlciBEZWZlcnJlZFxuXHRcdFx0bWFzdGVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGNhbGxiYWNrIGZhY3Rvcnlcblx0XHRcdHVwZGF0ZUZ1bmMgPSBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXNvbHZlQ29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlO1xuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcblx0XHRcdFx0XHRcdG1hc3Rlci5yZXNvbHZlV2l0aCggcmVzb2x2ZUNvbnRleHRzLCByZXNvbHZlVmFsdWVzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fTtcblxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxuXHRcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCBzaW5nbGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5yZWplY3QsXG5cdFx0XHRcdCFyZW1haW5pbmcgKTtcblxuXHRcdFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxuXHRcdFx0aWYgKCBtYXN0ZXIuc3RhdGUoKSA9PT0gXCJwZW5kaW5nXCIgfHxcblx0XHRcdFx0aXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7XG5cblx0XHRcdFx0cmV0dXJuIG1hc3Rlci50aGVuKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gTXVsdGlwbGUgYXJndW1lbnRzIGFyZSBhZ2dyZWdhdGVkIGxpa2UgUHJvbWlzZS5hbGwgYXJyYXkgZWxlbWVudHNcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGFkb3B0VmFsdWUoIHJlc29sdmVWYWx1ZXNbIGkgXSwgdXBkYXRlRnVuYyggaSApLCBtYXN0ZXIucmVqZWN0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hc3Rlci5wcm9taXNlKCk7XG5cdH1cbn0gKTtcblxuXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcbi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxsb3dpbmcgdGhlbSBieSBkZWZhdWx0LlxudmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87XG5cbmpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA4IC0gOSBvbmx5XG5cdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXG5cdGlmICggd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBlcnJvci5uYW1lICkgKSB7XG5cdFx0d2luZG93LmNvbnNvbGUud2FybiggXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBzdGFjayApO1xuXHR9XG59O1xuXG5cblxuXG5qUXVlcnkucmVhZHlFeGNlcHRpb24gPSBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHR0aHJvdyBlcnJvcjtcblx0fSApO1xufTtcblxuXG5cblxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XG52YXIgcmVhZHlMaXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblxuXHRyZWFkeUxpc3Rcblx0XHQudGhlbiggZm4gKVxuXG5cdFx0Ly8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXBcblx0XHQvLyBoYXBwZW5zIGF0IHRoZSB0aW1lIG9mIGVycm9yIGhhbmRsaW5nIGluc3RlYWQgb2YgY2FsbGJhY2tcblx0XHQvLyByZWdpc3RyYXRpb24uXG5cdFx0LmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7XG5cdFx0XHRqUXVlcnkucmVhZHlFeGNlcHRpb24oIGVycm9yICk7XG5cdFx0fSApO1xuXG5cdHJldHVybiB0aGlzO1xufTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXG5cdGlzUmVhZHk6IGZhbHNlLFxuXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcblx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcblx0cmVhZHlXYWl0OiAxLFxuXG5cdC8vIEhhbmRsZSB3aGVuIHRoZSBET00gaXMgcmVhZHlcblx0cmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkge1xuXG5cdFx0Ly8gQWJvcnQgaWYgdGhlcmUgYXJlIHBlbmRpbmcgaG9sZHMgb3Igd2UncmUgYWxyZWFkeSByZWFkeVxuXHRcdGlmICggd2FpdCA9PT0gdHJ1ZSA/IC0talF1ZXJ5LnJlYWR5V2FpdCA6IGpRdWVyeS5pc1JlYWR5ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxuXHRcdGpRdWVyeS5pc1JlYWR5ID0gdHJ1ZTtcblxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXG5cdFx0aWYgKCB3YWl0ICE9PSB0cnVlICYmIC0talF1ZXJ5LnJlYWR5V2FpdCA+IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZVxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xuXG4vLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuZnVuY3Rpb24gY29tcGxldGVkKCkge1xuXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG5cdGpRdWVyeS5yZWFkeSgpO1xufVxuXG4vLyBDYXRjaCBjYXNlcyB3aGVyZSAkKGRvY3VtZW50KS5yZWFkeSgpIGlzIGNhbGxlZFxuLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMCBvbmx5XG4vLyBPbGRlciBJRSBzb21ldGltZXMgc2lnbmFscyBcImludGVyYWN0aXZlXCIgdG9vIHNvb25cbmlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG5cdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xuXG5cdC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuXHR3aW5kb3cuc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cbn0gZWxzZSB7XG5cblx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xuXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkICk7XG5cblx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcbn1cblxuXG5cblxuLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXG4vLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb25cbnZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVlLCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBlbGVtcy5sZW5ndGgsXG5cdFx0YnVsayA9IGtleSA9PSBudWxsO1xuXG5cdC8vIFNldHMgbWFueSB2YWx1ZXNcblx0aWYgKCB0b1R5cGUoIGtleSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cdFx0Zm9yICggaSBpbiBrZXkgKSB7XG5cdFx0XHRhY2Nlc3MoIGVsZW1zLCBmbiwgaSwga2V5WyBpIF0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJhdyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBidWxrICkge1xuXG5cdFx0XHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcblx0XHRcdGlmICggcmF3ICkge1xuXHRcdFx0XHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcblx0XHRcdFx0Zm4gPSBudWxsO1xuXG5cdFx0XHQvLyAuLi5leGNlcHQgd2hlbiBleGVjdXRpbmcgZnVuY3Rpb24gdmFsdWVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRidWxrID0gZm47XG5cdFx0XHRcdGZuID0gZnVuY3Rpb24oIGVsZW0sIF9rZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggY2hhaW5hYmxlICkge1xuXHRcdHJldHVybiBlbGVtcztcblx0fVxuXG5cdC8vIEdldHNcblx0aWYgKCBidWxrICkge1xuXHRcdHJldHVybiBmbi5jYWxsKCBlbGVtcyApO1xuXHR9XG5cblx0cmV0dXJuIGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcblxuXG4vLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcbnZhciBybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2c7XG5cbi8vIFVzZWQgYnkgY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuZnVuY3Rpb24gZmNhbWVsQ2FzZSggX2FsbCwgbGV0dGVyICkge1xuXHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTVcbi8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3MilcbmZ1bmN0aW9uIGNhbWVsQ2FzZSggc3RyaW5nICkge1xuXHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcbn1cbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSBPYmplY3QuY3JlYXRlKCBudWxsICk7XG5cblx0XHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cblx0XHRcdC8vIEFsd2F5cyByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuXHRcdFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xuXG5cdFx0XHRcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcblx0XHRcdFx0Ly8gdXNlIHBsYWluIGFzc2lnbm1lbnRcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB2YWx1ZTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcblx0XHRcdFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcblx0XHRcdFx0Ly8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhwYW5kbywge1xuXHRcdFx0XHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRzZXQ6IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7XG5cdFx0dmFyIHByb3AsXG5cdFx0XHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXG5cdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBkYXRhICkgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG9uZS1ieS1vbmUgdG8gdGhlIGNhY2hlIG9iamVjdFxuXHRcdFx0Zm9yICggcHJvcCBpbiBkYXRhICkge1xuXHRcdFx0XHRjYWNoZVsgY2FtZWxDYXNlKCBwcm9wICkgXSA9IGRhdGFbIHByb3AgXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNhY2hlO1xuXHR9LFxuXHRnZXQ6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcblxuXHRcdFx0Ly8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KVxuXHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgY2FtZWxDYXNlKCBrZXkgKSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblxuXHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWRcblx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHQvL1xuXHRcdC8vIFRha2UgdGhlIFwicmVhZFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxuXHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3Rcblx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0Ly9cblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0KCBvd25lciwga2V5ICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vXG5cdFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XG5cblx0XHQvLyBTaW5jZSB0aGUgXCJzZXRcIiBwYXRoIGNhbiBoYXZlIHR3byBwb3NzaWJsZSBlbnRyeSBwb2ludHNcblx0XHQvLyByZXR1cm4gdGhlIGV4cGVjdGVkIGRhdGEgYmFzZWQgb24gd2hpY2ggcGF0aCB3YXMgdGFrZW5bKl1cblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xuXHR9LFxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xuXHRcdHZhciBpLFxuXHRcdFx0Y2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cblx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBrZXkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSgga2V5ICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYga2V5IGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXG5cdFx0XHRcdGtleSA9IGtleS5tYXAoIGNhbWVsQ2FzZSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0a2V5ID0gY2FtZWxDYXNlKCBrZXkgKTtcblxuXHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSwgY3JlYXRlIGFuIGFycmF5IGJ5IG1hdGNoaW5nIG5vbi13aGl0ZXNwYWNlXG5cdFx0XHRcdGtleSA9IGtleSBpbiBjYWNoZSA/XG5cdFx0XHRcdFx0WyBrZXkgXSA6XG5cdFx0XHRcdFx0KCBrZXkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpID0ga2V5Lmxlbmd0aDtcblxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsga2V5WyBpIF0gXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1XG5cdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xuXHRcdFx0Ly8gZnJvbSBET00gbm9kZXMsIHNvIHNldCB0byB1bmRlZmluZWQgaW5zdGVhZFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mzc4NjA3IChidWcgcmVzdHJpY3RlZClcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0dmFyIGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcblx0fVxufTtcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XG5cbnZhciBkYXRhVXNlciA9IG5ldyBEYXRhKCk7XG5cblxuXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxuLy9cbi8vXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXG4vL1x0XHRwYXRocyB0byBhIHNpbmdsZSBtZWNoYW5pc20uXG4vL1x0My4gVXNlIHRoZSBzYW1lIHNpbmdsZSBtZWNoYW5pc20gdG8gc3VwcG9ydCBcInByaXZhdGVcIiBhbmQgXCJ1c2VyXCIgZGF0YS5cbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXG4vL1x0NS4gQXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVnLiBleHBhbmRvIHByb3BlcnRpZXMpXG4vL1x0Ni4gUHJvdmlkZSBhIGNsZWFyIHBhdGggZm9yIGltcGxlbWVudGF0aW9uIHVwZ3JhZGUgdG8gV2Vha01hcCBpbiAyMDE0XG5cbnZhciByYnJhY2UgPSAvXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sXG5cdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcblxuZnVuY3Rpb24gZ2V0RGF0YSggZGF0YSApIHtcblx0aWYgKCBkYXRhID09PSBcInRydWVcIiApIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJmYWxzZVwiICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmICggZGF0YSA9PT0gXCJudWxsXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRpZiAoIGRhdGEgPT09ICtkYXRhICsgXCJcIiApIHtcblx0XHRyZXR1cm4gK2RhdGE7XG5cdH1cblxuXHRpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTtcblx0fVxuXG5cdHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBkYXRhQXR0ciggZWxlbSwga2V5LCBkYXRhICkge1xuXHR2YXIgbmFtZTtcblxuXHQvLyBJZiBub3RoaW5nIHdhcyBmb3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55XG5cdC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxuXHRpZiAoIGRhdGEgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdG5hbWUgPSBcImRhdGEtXCIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFzaCwgXCItJCZcIiApLnRvTG93ZXJDYXNlKCk7XG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0YSA9IGdldERhdGEoIGRhdGEgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge31cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXG5cdFx0XHRkYXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZGF0YTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRoYXNEYXRhOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVVzZXIuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH0sXG5cblx0Ly8gVE9ETzogTm93IHRoYXQgYWxsIGNhbGxzIHRvIF9kYXRhIGFuZCBfcmVtb3ZlRGF0YSBoYXZlIGJlZW4gcmVwbGFjZWRcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XG5cdH0sXG5cblx0X3JlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcblx0XHRcdFx0XHRpID0gYXR0cnMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGF0dHJzWyBpIF0ubmFtZTtcblx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBjYW1lbENhc2UoIG5hbWUuc2xpY2UoIDUgKSApO1xuXHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cblx0XHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBkYXRhO1xuXG5cdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxuXHRcdFx0Ly8gKGFuZCB0aGVyZWZvcmUgaGFzIGFuIGVsZW1lbnQgYXBwZWFycyBhdCB0aGlzWyAwIF0pIGFuZCB0aGVcblx0XHRcdC8vIGB2YWx1ZWAgcGFyYW1ldGVyIHdhcyBub3QgdW5kZWZpbmVkLiBBbiBlbXB0eSBqUXVlcnkgb2JqZWN0XG5cdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXG5cdFx0XHQvLyB0aHJvdyBhbiBleGNlcHRpb24gaWYgYW4gYXR0ZW1wdCB0byByZWFkIGEgZGF0YSBjYWNoZSBpcyBtYWRlLlxuXHRcdFx0aWYgKCBlbGVtICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyBUaGUga2V5IHdpbGwgYWx3YXlzIGJlIGNhbWVsQ2FzZWQgaW4gRGF0YVxuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCB0aGUgZGF0YS4uLlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc3RvcmUgdGhlIGNhbWVsQ2FzZWQga2V5XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xuXHRcdFx0fSApO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSwgbnVsbCwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRkYXRhVXNlci5yZW1vdmUoIHRoaXMsIGtleSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBxdWV1ZTtcblxuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmdldCggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHQvLyBTcGVlZCB1cCBkZXF1ZXVlIGJ5IGdldHRpbmcgb3V0IHF1aWNrbHkgaWYgdGhpcyBpcyBqdXN0IGEgbG9va3VwXG5cdFx0XHRpZiAoIGRhdGEgKSB7XG5cdFx0XHRcdGlmICggIXF1ZXVlIHx8IEFycmF5LmlzQXJyYXkoIGRhdGEgKSApIHtcblx0XHRcdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheSggZGF0YSApICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XG5cdFx0fVxuXHR9LFxuXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxuXHRcdFx0c3RhcnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXG5cdFx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxuXHRcdFx0bmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xuXHRcdFx0fTtcblxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcblx0XHRpZiAoIGZuID09PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBmbiApIHtcblxuXHRcdFx0Ly8gQWRkIGEgcHJvZ3Jlc3Mgc2VudGluZWwgdG8gcHJldmVudCB0aGUgZnggcXVldWUgZnJvbSBiZWluZ1xuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxuXHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgKSB7XG5cdFx0XHRcdHF1ZXVlLnVuc2hpZnQoIFwiaW5wcm9ncmVzc1wiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENsZWFyIHVwIHRoZSBsYXN0IHF1ZXVlIHN0b3AgZnVuY3Rpb25cblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0Zm4uY2FsbCggZWxlbSwgbmV4dCwgaG9va3MgKTtcblx0XHR9XG5cblx0XHRpZiAoICFzdGFydExlbmd0aCAmJiBob29rcyApIHtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcblx0X3F1ZXVlSG9va3M6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkge1xuXHRcdHZhciBrZXkgPSB0eXBlICsgXCJxdWV1ZUhvb2tzXCI7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKS5hZGQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFwicXVldWVcIiwga2V5IF0gKTtcblx0XHRcdH0gKVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWyAwIF0sIHR5cGUgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMgOlxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0fSApO1xuXHR9LFxuXHRjbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdH0sXG5cblx0Ly8gR2V0IGEgcHJvbWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZVxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcblx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcblx0XHR2YXIgdG1wLFxuXHRcdFx0Y291bnQgPSAxLFxuXHRcdFx0ZGVmZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGVsZW1lbnRzID0gdGhpcyxcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcblx0XHRcdHJlc29sdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhKCAtLWNvdW50ICkgKSB7XG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRvYmogPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0bXAgPSBkYXRhUHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0gKTtcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcblxudmFyIHJjc3NOdW0gPSBuZXcgUmVnRXhwKCBcIl4oPzooWystXSk9fCkoXCIgKyBwbnVtICsgXCIpKFthLXolXSopJFwiLCBcImlcIiApO1xuXG5cbnZhciBjc3NFeHBhbmQgPSBbIFwiVG9wXCIsIFwiUmlnaHRcIiwgXCJCb3R0b21cIiwgXCJMZWZ0XCIgXTtcblxudmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG5cblx0dmFyIGlzQXR0YWNoZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXHRcdH0sXG5cdFx0Y29tcG9zZWQgPSB7IGNvbXBvc2VkOiB0cnVlIH07XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExKywgRWRnZSAxMiAtIDE4KywgaU9TIDEwLjAgLSAxMC4yIG9ubHlcblx0Ly8gQ2hlY2sgYXR0YWNobWVudCBhY3Jvc3Mgc2hhZG93IERPTSBib3VuZGFyaWVzIHdoZW4gcG9zc2libGUgKGdoLTM1MDQpXG5cdC8vIFN1cHBvcnQ6IGlPUyAxMC4wLTEwLjIgb25seVxuXHQvLyBFYXJseSBpT1MgMTAgdmVyc2lvbnMgc3VwcG9ydCBgYXR0YWNoU2hhZG93YCBidXQgbm90IGBnZXRSb290Tm9kZWAsXG5cdC8vIGxlYWRpbmcgdG8gZXJyb3JzLiBXZSBuZWVkIHRvIGNoZWNrIGZvciBgZ2V0Um9vdE5vZGVgLlxuXHRpZiAoIGRvY3VtZW50RWxlbWVudC5nZXRSb290Tm9kZSApIHtcblx0XHRpc0F0dGFjaGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSB8fFxuXHRcdFx0XHRlbGVtLmdldFJvb3ROb2RlKCBjb21wb3NlZCApID09PSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0fTtcblx0fVxudmFyIGlzSGlkZGVuV2l0aGluVHJlZSA9IGZ1bmN0aW9uKCBlbGVtLCBlbCApIHtcblxuXHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xuXHRcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxuXHRcdGVsZW0gPSBlbCB8fCBlbGVtO1xuXG5cdFx0Ly8gSW5saW5lIHN0eWxlIHRydW1wcyBhbGxcblx0XHRyZXR1cm4gZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fFxuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXG5cblx0XHRcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XG5cdFx0XHQvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9uZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXNcblx0XHRcdC8vIGluIHRoZSBkb2N1bWVudC5cblx0XHRcdGlzQXR0YWNoZWQoIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxuXG5cbmZ1bmN0aW9uIGFkanVzdENTUyggZWxlbSwgcHJvcCwgdmFsdWVQYXJ0cywgdHdlZW4gKSB7XG5cdHZhciBhZGp1c3RlZCwgc2NhbGUsXG5cdFx0bWF4SXRlcmF0aW9ucyA9IDIwLFxuXHRcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uY3VyKCk7XG5cdFx0XHR9IDpcblx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgcHJvcCwgXCJcIiApO1xuXHRcdFx0fSxcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXG5cdFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcblx0XHRpbml0aWFsSW5Vbml0ID0gZWxlbS5ub2RlVHlwZSAmJlxuXHRcdFx0KCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICtpbml0aWFsICkgJiZcblx0XHRcdHJjc3NOdW0uZXhlYyggalF1ZXJ5LmNzcyggZWxlbSwgcHJvcCApICk7XG5cblx0aWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMgXSAhPT0gdW5pdCApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuXHRcdC8vIEhhbHZlIHRoZSBpdGVyYXRpb24gdGFyZ2V0IHZhbHVlIHRvIHByZXZlbnQgaW50ZXJmZXJlbmNlIGZyb20gQ1NTIHVwcGVyIGJvdW5kcyAoZ2gtMjE0NClcblx0XHRpbml0aWFsID0gaW5pdGlhbCAvIDI7XG5cblx0XHQvLyBUcnVzdCB1bml0cyByZXBvcnRlZCBieSBqUXVlcnkuY3NzXG5cdFx0dW5pdCA9IHVuaXQgfHwgaW5pdGlhbEluVW5pdFsgMyBdO1xuXG5cdFx0Ly8gSXRlcmF0aXZlbHkgYXBwcm94aW1hdGUgZnJvbSBhIG5vbnplcm8gc3RhcnRpbmcgcG9pbnRcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWwgfHwgMTtcblxuXHRcdHdoaWxlICggbWF4SXRlcmF0aW9ucy0tICkge1xuXG5cdFx0XHQvLyBFdmFsdWF0ZSBhbmQgdXBkYXRlIG91ciBiZXN0IGd1ZXNzIChkb3VibGluZyBndWVzc2VzIHRoYXQgemVybyBvdXQpLlxuXHRcdFx0Ly8gRmluaXNoIGlmIHRoZSBzY2FsZSBlcXVhbHMgb3IgY3Jvc3NlcyAxIChtYWtpbmcgdGhlIG9sZCpuZXcgcHJvZHVjdCBub24tcG9zaXRpdmUpLlxuXHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXHRcdFx0aWYgKCAoIDEgLSBzY2FsZSApICogKCAxIC0gKCBzY2FsZSA9IGN1cnJlbnRWYWx1ZSgpIC8gaW5pdGlhbCB8fCAwLjUgKSApIDw9IDAgKSB7XG5cdFx0XHRcdG1heEl0ZXJhdGlvbnMgPSAwO1xuXHRcdFx0fVxuXHRcdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgLyBzY2FsZTtcblxuXHRcdH1cblxuXHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0ICogMjtcblx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXG5cdFx0dmFsdWVQYXJ0cyA9IHZhbHVlUGFydHMgfHwgW107XG5cdH1cblxuXHRpZiAoIHZhbHVlUGFydHMgKSB7XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7XG5cblx0XHQvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWRcblx0XHRhZGp1c3RlZCA9IHZhbHVlUGFydHNbIDEgXSA/XG5cdFx0XHRpbml0aWFsSW5Vbml0ICsgKCB2YWx1ZVBhcnRzWyAxIF0gKyAxICkgKiB2YWx1ZVBhcnRzWyAyIF0gOlxuXHRcdFx0K3ZhbHVlUGFydHNbIDIgXTtcblx0XHRpZiAoIHR3ZWVuICkge1xuXHRcdFx0dHdlZW4udW5pdCA9IHVuaXQ7XG5cdFx0XHR0d2Vlbi5zdGFydCA9IGluaXRpYWxJblVuaXQ7XG5cdFx0XHR0d2Vlbi5lbmQgPSBhZGp1c3RlZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGFkanVzdGVkO1xufVxuXG5cbnZhciBkZWZhdWx0RGlzcGxheU1hcCA9IHt9O1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApIHtcblx0dmFyIHRlbXAsXG5cdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxuXHRcdG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSxcblx0XHRkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07XG5cblx0aWYgKCBkaXNwbGF5ICkge1xuXHRcdHJldHVybiBkaXNwbGF5O1xuXHR9XG5cblx0dGVtcCA9IGRvYy5ib2R5LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlRWxlbWVudCggbm9kZU5hbWUgKSApO1xuXHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggdGVtcCwgXCJkaXNwbGF5XCIgKTtcblxuXHR0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRlbXAgKTtcblxuXHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdGRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdH1cblx0ZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF0gPSBkaXNwbGF5O1xuXG5cdHJldHVybiBkaXNwbGF5O1xufVxuXG5mdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XG5cdHZhciBkaXNwbGF5LCBlbGVtLFxuXHRcdHZhbHVlcyA9IFtdLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cblx0Ly8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRkaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5O1xuXHRcdGlmICggc2hvdyApIHtcblxuXHRcdFx0Ly8gU2luY2Ugd2UgZm9yY2UgdmlzaWJpbGl0eSB1cG9uIGNhc2NhZGUtaGlkZGVuIGVsZW1lbnRzLCBhbiBpbW1lZGlhdGUgKGFuZCBzbG93KVxuXHRcdFx0Ly8gY2hlY2sgaXMgcmVxdWlyZWQgaW4gdGhpcyBmaXJzdCBsb29wIHVubGVzcyB3ZSBoYXZlIGEgbm9uZW1wdHkgZGlzcGxheSB2YWx1ZSAoZWl0aGVyXG5cdFx0XHQvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpXG5cdFx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICkgfHwgbnVsbDtcblx0XHRcdFx0aWYgKCAhdmFsdWVzWyBpbmRleCBdICkge1xuXHRcdFx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIGRpc3BsYXkgIT09IFwibm9uZVwiICkge1xuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBcIm5vbmVcIjtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nXG5cdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJkaXNwbGF5XCIsIGRpc3BsYXkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93XG5cdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCB2YWx1ZXNbIGluZGV4IF0gIT0gbnVsbCApIHtcblx0XHRcdGVsZW1lbnRzWyBpbmRleCBdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbIGluZGV4IF07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRzO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdHNob3c6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHR9LFxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0fSxcblx0dG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggaXNIaWRkZW5XaXRoaW5UcmVlKCB0aGlzICkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmhpZGUoKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH1cbn0gKTtcbnZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTtcblxudmFyIHJ0YWdOYW1lID0gKCAvPChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopL2kgKTtcblxudmFyIHJzY3JpcHRUeXBlID0gKCAvXiR8Xm1vZHVsZSR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pICk7XG5cblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLFxuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0Ly8gSUUgPD05IHJlcGxhY2VzIDxvcHRpb24+IHRhZ3Mgd2l0aCB0aGVpciBjb250ZW50cyB3aGVuIGluc2VydGVkIG91dHNpZGUgb2Zcblx0Ly8gdGhlIHNlbGVjdCBlbGVtZW50LlxuXHRkaXYuaW5uZXJIVE1MID0gXCI8b3B0aW9uPjwvb3B0aW9uPlwiO1xuXHRzdXBwb3J0Lm9wdGlvbiA9ICEhZGl2Lmxhc3RDaGlsZDtcbn0gKSgpO1xuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbmlmICggIXN1cHBvcnQub3B0aW9uICkge1xuXHR3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb24gPSBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF07XG59XG5cblxuZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHQvLyBVc2UgdHlwZW9mIHRvIGF2b2lkIHplcm8tYXJndW1lbnQgbWV0aG9kIGludm9jYXRpb24gb24gaG9zdCBvYmplY3RzICgjMTUxNTEpXG5cdHZhciByZXQ7XG5cblx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgfHwgXCIqXCIgKTtcblxuXHR9IGVsc2UgaWYgKCB0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdHJldCA9IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIHtcblx0XHRyZXQgPSBbXTtcblx0fVxuXG5cdGlmICggdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIG5vZGVOYW1lKCBjb250ZXh0LCB0YWcgKSApIHtcblx0XHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgcmV0ICk7XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufVxuXG5cbi8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZGF0YVByaXYuc2V0KFxuXHRcdFx0ZWxlbXNbIGkgXSxcblx0XHRcdFwiZ2xvYmFsRXZhbFwiLFxuXHRcdFx0IXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldCggcmVmRWxlbWVudHNbIGkgXSwgXCJnbG9iYWxFdmFsXCIgKVxuXHRcdCk7XG5cdH1cbn1cblxuXG52YXIgcmh0bWwgPSAvPHwmIz9cXHcrOy87XG5cbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7XG5cdHZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgYXR0YWNoZWQsIGosXG5cdFx0ZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRub2RlcyA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXG5cdFx0aWYgKCBlbGVtIHx8IGVsZW0gPT09IDAgKSB7XG5cblx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxuXHRcdFx0aWYgKCB0b1R5cGUoIGVsZW0gKSA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XG5cblx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcblx0XHRcdFx0bm9kZXMucHVzaCggY29udGV4dC5jcmVhdGVUZXh0Tm9kZSggZWxlbSApICk7XG5cblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxkKCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHRcdC8vIERlc2VyaWFsaXplIGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb25cblx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuXHRcdFx0XHR0bXAuaW5uZXJIVE1MID0gd3JhcFsgMSBdICsgalF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIGVsZW0gKSArIHdyYXBbIDIgXTtcblxuXHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0aiA9IHdyYXBbIDAgXTtcblx0XHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgdGhlIHRvcC1sZXZlbCBjb250YWluZXJcblx0XHRcdFx0dG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuXHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICgjMTIzOTIpXG5cdFx0XHRcdHRtcC50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxuXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0aSA9IDA7XG5cdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XG5cblx0XHQvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAodHJhYy00MDg3KVxuXHRcdGlmICggc2VsZWN0aW9uICYmIGpRdWVyeS5pbkFycmF5KCBlbGVtLCBzZWxlY3Rpb24gKSA+IC0xICkge1xuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xuXHRcdFx0XHRpZ25vcmVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGF0dGFjaGVkID0gaXNBdHRhY2hlZCggZWxlbSApO1xuXG5cdFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XG5cdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBhdHRhY2hlZCApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cblxudmFyXG5cdHJrZXlFdmVudCA9IC9ea2V5Lyxcblx0cm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sXG5cdHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFwuKC4rKXwpLztcblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExK1xuLy8gZm9jdXMoKSBhbmQgYmx1cigpIGFyZSBhc3luY2hyb25vdXMsIGV4Y2VwdCB3aGVuIHRoZXkgYXJlIG5vLW9wLlxuLy8gU28gZXhwZWN0IGZvY3VzIHRvIGJlIHN5bmNocm9ub3VzIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWxyZWFkeSBhY3RpdmUsXG4vLyBhbmQgYmx1ciB0byBiZSBzeW5jaHJvbm91cyB3aGVuIHRoZSBlbGVtZW50IGlzIG5vdCBhbHJlYWR5IGFjdGl2ZS5cbi8vIChmb2N1cyBhbmQgYmx1ciBhcmUgYWx3YXlzIHN5bmNocm9ub3VzIGluIG90aGVyIHN1cHBvcnRlZCBicm93c2Vycyxcbi8vIHRoaXMganVzdCBkZWZpbmVzIHdoZW4gd2UgY2FuIGNvdW50IG9uIGl0KS5cbmZ1bmN0aW9uIGV4cGVjdFN5bmMoIGVsZW0sIHR5cGUgKSB7XG5cdHJldHVybiAoIGVsZW0gPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgKSA9PT0gKCB0eXBlID09PSBcImZvY3VzXCIgKTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIEFjY2Vzc2luZyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGNhbiB0aHJvdyB1bmV4cGVjdGVkbHlcbi8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM5M1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBPbmx5IGF0dGFjaCBldmVudHMgdG8gb2JqZWN0cyB0aGF0IGFjY2VwdCBkYXRhXG5cdFx0aWYgKCAhYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcblx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IE9iamVjdC5jcmVhdGUoIG51bGwgKTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG5cdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0fVxuXG5cdH0sXG5cblx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cblx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG5cdFx0XHR0bXAgPSB0bXBbIDIgXSAmJlxuXHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50c1xuXHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdO1xuXG5cdFx0XHRcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcblx0XHRcdFx0XHQoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxuXHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XG5cdFx0XHRcdFx0XHRzZWxlY3RvciA9PT0gXCIqKlwiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXG5cdFx0XHRcdFx0aWYgKCBoYW5kbGVPYmouc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggc3BlY2lhbC5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxuXHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVsZXRlIGV2ZW50c1sgdHlwZSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG5cdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiaGFuZGxlIGV2ZW50c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblxuXHRcdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XG5cdFx0XHRldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICksXG5cblx0XHRcdGhhbmRsZXJzID0gKFxuXHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJldmVudHNcIiApIHx8IE9iamVjdC5jcmVhdGUoIG51bGwgKVxuXHRcdFx0XHQpWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdH1cblxuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBJZiB0aGUgZXZlbnQgaXMgbmFtZXNwYWNlZCwgdGhlbiBlYWNoIGhhbmRsZXIgaXMgb25seSBpbnZva2VkIGlmIGl0IGlzXG5cdFx0XHRcdC8vIHNwZWNpYWxseSB1bml2ZXJzYWwgb3IgaXRzIG5hbWVzcGFjZXMgYXJlIGEgc3VwZXJzZXQgb2YgdGhlIGV2ZW50J3MuXG5cdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgaGFuZGxlT2JqLm5hbWVzcGFjZSA9PT0gZmFsc2UgfHxcblx0XHRcdFx0XHRldmVudC5ybmFtZXNwYWNlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHtcblxuXHRcdFx0XHRcdGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcblx0XHRcdFx0XHRldmVudC5kYXRhID0gaGFuZGxlT2JqLmRhdGE7XG5cblx0XHRcdFx0XHRyZXQgPSAoICggalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhhbmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9ICkuaGFuZGxlIHx8XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlciApLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZXZlbnQucmVzdWx0ID0gcmV0ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBwb3N0RGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlXG5cdFx0aWYgKCBzcGVjaWFsLnBvc3REaXNwYXRjaCApIHtcblx0XHRcdHNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHRoYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgaSwgaGFuZGxlT2JqLCBzZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycyxcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50ICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OVxuXHRcdFx0Ly8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKHRyYWMtMTMxODApXG5cdFx0XHRjdXIubm9kZVR5cGUgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQyXG5cdFx0XHQvLyBTdXBwcmVzcyBzcGVjLXZpb2xhdGluZyBjbGlja3MgaW5kaWNhdGluZyBhIG5vbi1wcmltYXJ5IHBvaW50ZXIgYnV0dG9uICh0cmFjLTM4NjEpXG5cdFx0XHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudC10eXBlLWNsaWNrXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHQvLyAuLi5idXQgbm90IGFycm93IGtleSBcImNsaWNrc1wiIG9mIHJhZGlvIGlucHV0cywgd2hpY2ggY2FuIGhhdmUgYGJ1dHRvbmAgLTEgKGdoLTIzNDMpXG5cdFx0XHQhKCBldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgZXZlbnQuYnV0dG9uID49IDEgKSApIHtcblxuXHRcdFx0Zm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICgjNjkxMSwgIzgxNjUsICMxMTM4MiwgIzExNzY0KVxuXHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA9PT0gMSAmJiAhKCBldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgY3VyLmRpc2FibGVkID09PSB0cnVlICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzID0gW107XG5cdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9ycyA9IHt9O1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkSGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlZEhhbmRsZXJzIH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0Y3VyID0gdGhpcztcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFuZGxlclF1ZXVlO1xuXHR9LFxuXG5cdGFkZFByb3A6IGZ1bmN0aW9uKCBuYW1lLCBob29rICkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSwgbmFtZSwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblxuXHRcdFx0Z2V0OiBpc0Z1bmN0aW9uKCBob29rICkgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcblx0XHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Y2xpY2s6IHtcblxuXHRcdFx0Ly8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgdG8gZW5zdXJlIGNvcnJlY3Qgc3RhdGUgZm9yIGNoZWNrYWJsZSBpbnB1dHNcblx0XHRcdHNldHVwOiBmdW5jdGlvbiggZGF0YSApIHtcblxuXHRcdFx0XHQvLyBGb3IgbXV0dWFsIGNvbXByZXNzaWJpbGl0eSB3aXRoIF9kZWZhdWx0LCByZXBsYWNlIGB0aGlzYCBhY2Nlc3Mgd2l0aCBhIGxvY2FsIHZhci5cblx0XHRcdFx0Ly8gYHx8IGRhdGFgIGlzIGRlYWQgY29kZSBtZWFudCBvbmx5IHRvIHByZXNlcnZlIHRoZSB2YXJpYWJsZSB0aHJvdWdoIG1pbmlmaWNhdGlvbi5cblx0XHRcdFx0dmFyIGVsID0gdGhpcyB8fCBkYXRhO1xuXG5cdFx0XHRcdC8vIENsYWltIHRoZSBmaXJzdCBoYW5kbGVyXG5cdFx0XHRcdGlmICggcmNoZWNrYWJsZVR5cGUudGVzdCggZWwudHlwZSApICYmXG5cdFx0XHRcdFx0ZWwuY2xpY2sgJiYgbm9kZU5hbWUoIGVsLCBcImlucHV0XCIgKSApIHtcblxuXHRcdFx0XHRcdC8vIGRhdGFQcml2LnNldCggZWwsIFwiY2xpY2tcIiwgLi4uIClcblx0XHRcdFx0XHRsZXZlcmFnZU5hdGl2ZSggZWwsIFwiY2xpY2tcIiwgcmV0dXJuVHJ1ZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmV0dXJuIGZhbHNlIHRvIGFsbG93IG5vcm1hbCBwcm9jZXNzaW5nIGluIHRoZSBjYWxsZXJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSxcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCBkYXRhICkge1xuXG5cdFx0XHRcdC8vIEZvciBtdXR1YWwgY29tcHJlc3NpYmlsaXR5IHdpdGggX2RlZmF1bHQsIHJlcGxhY2UgYHRoaXNgIGFjY2VzcyB3aXRoIGEgbG9jYWwgdmFyLlxuXHRcdFx0XHQvLyBgfHwgZGF0YWAgaXMgZGVhZCBjb2RlIG1lYW50IG9ubHkgdG8gcHJlc2VydmUgdGhlIHZhcmlhYmxlIHRocm91Z2ggbWluaWZpY2F0aW9uLlxuXHRcdFx0XHR2YXIgZWwgPSB0aGlzIHx8IGRhdGE7XG5cblx0XHRcdFx0Ly8gRm9yY2Ugc2V0dXAgYmVmb3JlIHRyaWdnZXJpbmcgYSBjbGlja1xuXHRcdFx0XHRpZiAoIHJjaGVja2FibGVUeXBlLnRlc3QoIGVsLnR5cGUgKSAmJlxuXHRcdFx0XHRcdGVsLmNsaWNrICYmIG5vZGVOYW1lKCBlbCwgXCJpbnB1dFwiICkgKSB7XG5cblx0XHRcdFx0XHRsZXZlcmFnZU5hdGl2ZSggZWwsIFwiY2xpY2tcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH0sXG5cblx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBzdXBwcmVzcyBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3Ncblx0XHRcdC8vIEFsc28gcHJldmVudCBpdCBpZiB3ZSdyZSBjdXJyZW50bHkgaW5zaWRlIGEgbGV2ZXJhZ2VkIG5hdGl2ZS1ldmVudCBzdGFja1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcblx0XHRcdFx0cmV0dXJuIHJjaGVja2FibGVUeXBlLnRlc3QoIHRhcmdldC50eXBlICkgJiZcblx0XHRcdFx0XHR0YXJnZXQuY2xpY2sgJiYgbm9kZU5hbWUoIHRhcmdldCwgXCJpbnB1dFwiICkgJiZcblx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRhcmdldCwgXCJjbGlja1wiICkgfHxcblx0XHRcdFx0XHRub2RlTmFtZSggdGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIEVuc3VyZSB0aGUgcHJlc2VuY2Ugb2YgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBoYW5kbGVzIG1hbnVhbGx5LXRyaWdnZXJlZFxuLy8gc3ludGhldGljIGV2ZW50cyBieSBpbnRlcnJ1cHRpbmcgcHJvZ3Jlc3MgdW50aWwgcmVpbnZva2VkIGluIHJlc3BvbnNlIHRvXG4vLyAqbmF0aXZlKiBldmVudHMgdGhhdCBpdCBmaXJlcyBkaXJlY3RseSwgZW5zdXJpbmcgdGhhdCBzdGF0ZSBjaGFuZ2VzIGhhdmVcbi8vIGFscmVhZHkgb2NjdXJyZWQgYmVmb3JlIG90aGVyIGxpc3RlbmVycyBhcmUgaW52b2tlZC5cbmZ1bmN0aW9uIGxldmVyYWdlTmF0aXZlKCBlbCwgdHlwZSwgZXhwZWN0U3luYyApIHtcblxuXHQvLyBNaXNzaW5nIGV4cGVjdFN5bmMgaW5kaWNhdGVzIGEgdHJpZ2dlciBjYWxsLCB3aGljaCBtdXN0IGZvcmNlIHNldHVwIHRocm91Z2ggalF1ZXJ5LmV2ZW50LmFkZFxuXHRpZiAoICFleHBlY3RTeW5jICkge1xuXHRcdGlmICggZGF0YVByaXYuZ2V0KCBlbCwgdHlwZSApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBlbCwgdHlwZSwgcmV0dXJuVHJ1ZSApO1xuXHRcdH1cblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZWdpc3RlciB0aGUgY29udHJvbGxlciBhcyBhIHNwZWNpYWwgdW5pdmVyc2FsIGhhbmRsZXIgZm9yIGFsbCBldmVudCBuYW1lc3BhY2VzXG5cdGRhdGFQcml2LnNldCggZWwsIHR5cGUsIGZhbHNlICk7XG5cdGpRdWVyeS5ldmVudC5hZGQoIGVsLCB0eXBlLCB7XG5cdFx0bmFtZXNwYWNlOiBmYWxzZSxcblx0XHRoYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgbm90QXN5bmMsIHJlc3VsdCxcblx0XHRcdFx0c2F2ZWQgPSBkYXRhUHJpdi5nZXQoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0aWYgKCAoIGV2ZW50LmlzVHJpZ2dlciAmIDEgKSAmJiB0aGlzWyB0eXBlIF0gKSB7XG5cblx0XHRcdFx0Ly8gSW50ZXJydXB0IHByb2Nlc3Npbmcgb2YgdGhlIG91dGVyIHN5bnRoZXRpYyAudHJpZ2dlcigpZWQgZXZlbnRcblx0XHRcdFx0Ly8gU2F2ZWQgZGF0YSBzaG91bGQgYmUgZmFsc2UgaW4gc3VjaCBjYXNlcywgYnV0IG1pZ2h0IGJlIGEgbGVmdG92ZXIgY2FwdHVyZSBvYmplY3Rcblx0XHRcdFx0Ly8gZnJvbSBhbiBhc3luYyBuYXRpdmUgaGFuZGxlciAoZ2gtNDM1MClcblx0XHRcdFx0aWYgKCAhc2F2ZWQubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgYXJndW1lbnRzIGZvciB1c2Ugd2hlbiBoYW5kbGluZyB0aGUgaW5uZXIgbmF0aXZlIGV2ZW50XG5cdFx0XHRcdFx0Ly8gVGhlcmUgd2lsbCBhbHdheXMgYmUgYXQgbGVhc3Qgb25lIGFyZ3VtZW50IChhbiBldmVudCBvYmplY3QpLCBzbyB0aGlzIGFycmF5XG5cdFx0XHRcdFx0Ly8gd2lsbCBub3QgYmUgY29uZnVzZWQgd2l0aCBhIGxlZnRvdmVyIGNhcHR1cmUgb2JqZWN0LlxuXHRcdFx0XHRcdHNhdmVkID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCBzYXZlZCApO1xuXG5cdFx0XHRcdFx0Ly8gVHJpZ2dlciB0aGUgbmF0aXZlIGV2ZW50IGFuZCBjYXB0dXJlIGl0cyByZXN1bHRcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMStcblx0XHRcdFx0XHQvLyBmb2N1cygpIGFuZCBibHVyKCkgYXJlIGFzeW5jaHJvbm91c1xuXHRcdFx0XHRcdG5vdEFzeW5jID0gZXhwZWN0U3luYyggdGhpcywgdHlwZSApO1xuXHRcdFx0XHRcdHRoaXNbIHR5cGUgXSgpO1xuXHRcdFx0XHRcdHJlc3VsdCA9IGRhdGFQcml2LmdldCggdGhpcywgdHlwZSApO1xuXHRcdFx0XHRcdGlmICggc2F2ZWQgIT09IHJlc3VsdCB8fCBub3RBc3luYyApIHtcblx0XHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgdHlwZSwgZmFsc2UgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmVzdWx0ID0ge307XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggc2F2ZWQgIT09IHJlc3VsdCApIHtcblxuXHRcdFx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSBvdXRlciBzeW50aGV0aWMgZXZlbnRcblx0XHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQudmFsdWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoaXMgaXMgYW4gaW5uZXIgc3ludGhldGljIGV2ZW50IGZvciBhbiBldmVudCB3aXRoIGEgYnViYmxpbmcgc3Vycm9nYXRlXG5cdFx0XHRcdC8vIChmb2N1cyBvciBibHVyKSwgYXNzdW1lIHRoYXQgdGhlIHN1cnJvZ2F0ZSBhbHJlYWR5IHByb3BhZ2F0ZWQgZnJvbSB0cmlnZ2VyaW5nIHRoZVxuXHRcdFx0XHQvLyBuYXRpdmUgZXZlbnQgYW5kIHByZXZlbnQgdGhhdCBmcm9tIGhhcHBlbmluZyBhZ2FpbiBoZXJlLlxuXHRcdFx0XHQvLyBUaGlzIHRlY2huaWNhbGx5IGdldHMgdGhlIG9yZGVyaW5nIHdyb25nIHcuci50LiB0byBgLnRyaWdnZXIoKWAgKGluIHdoaWNoIHRoZVxuXHRcdFx0XHQvLyBidWJibGluZyBzdXJyb2dhdGUgcHJvcGFnYXRlcyAqYWZ0ZXIqIHRoZSBub24tYnViYmxpbmcgYmFzZSksIGJ1dCB0aGF0IHNlZW1zXG5cdFx0XHRcdC8vIGxlc3MgYmFkIHRoYW4gZHVwbGljYXRpb24uXG5cdFx0XHRcdH0gZWxzZSBpZiAoICggalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fSApLmRlbGVnYXRlVHlwZSApIHtcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgbmF0aXZlIGV2ZW50IHRyaWdnZXJlZCBhYm92ZSwgZXZlcnl0aGluZyBpcyBub3cgaW4gb3JkZXJcblx0XHRcdC8vIEZpcmUgYW4gaW5uZXIgc3ludGhldGljIGV2ZW50IHdpdGggdGhlIG9yaWdpbmFsIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggc2F2ZWQubGVuZ3RoICkge1xuXG5cdFx0XHRcdC8vIC4uLmFuZCBjYXB0dXJlIHRoZSByZXN1bHRcblx0XHRcdFx0ZGF0YVByaXYuc2V0KCB0aGlzLCB0eXBlLCB7XG5cdFx0XHRcdFx0dmFsdWU6IGpRdWVyeS5ldmVudC50cmlnZ2VyKFxuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMStcblx0XHRcdFx0XHRcdC8vIEV4dGVuZCB3aXRoIHRoZSBwcm90b3R5cGUgdG8gcmVzZXQgdGhlIGFib3ZlIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpXG5cdFx0XHRcdFx0XHRqUXVlcnkuZXh0ZW5kKCBzYXZlZFsgMCBdLCBqUXVlcnkuRXZlbnQucHJvdG90eXBlICksXG5cdFx0XHRcdFx0XHRzYXZlZC5zbGljZSggMSApLFxuXHRcdFx0XHRcdFx0dGhpc1xuXHRcdFx0XHRcdClcblx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdC8vIEFib3J0IGhhbmRsaW5nIG9mIHRoZSBuYXRpdmUgZXZlbnRcblx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9ICk7XG59XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG5cblx0Ly8gTWFyayBpdCBhcyBmaXhlZFxuXHR0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTtcbn07XG5cbi8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxualF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcblx0aXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcblx0aXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzU2ltdWxhdGVkOiBmYWxzZSxcblxuXHRwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBJbmNsdWRlcyBhbGwgY29tbW9uIGV2ZW50IHByb3BzIGluY2x1ZGluZyBLZXlFdmVudCBhbmQgTW91c2VFdmVudCBzcGVjaWZpYyBwcm9wc1xualF1ZXJ5LmVhY2goIHtcblx0YWx0S2V5OiB0cnVlLFxuXHRidWJibGVzOiB0cnVlLFxuXHRjYW5jZWxhYmxlOiB0cnVlLFxuXHRjaGFuZ2VkVG91Y2hlczogdHJ1ZSxcblx0Y3RybEtleTogdHJ1ZSxcblx0ZGV0YWlsOiB0cnVlLFxuXHRldmVudFBoYXNlOiB0cnVlLFxuXHRtZXRhS2V5OiB0cnVlLFxuXHRwYWdlWDogdHJ1ZSxcblx0cGFnZVk6IHRydWUsXG5cdHNoaWZ0S2V5OiB0cnVlLFxuXHR2aWV3OiB0cnVlLFxuXHRcImNoYXJcIjogdHJ1ZSxcblx0Y29kZTogdHJ1ZSxcblx0Y2hhckNvZGU6IHRydWUsXG5cdGtleTogdHJ1ZSxcblx0a2V5Q29kZTogdHJ1ZSxcblx0YnV0dG9uOiB0cnVlLFxuXHRidXR0b25zOiB0cnVlLFxuXHRjbGllbnRYOiB0cnVlLFxuXHRjbGllbnRZOiB0cnVlLFxuXHRvZmZzZXRYOiB0cnVlLFxuXHRvZmZzZXRZOiB0cnVlLFxuXHRwb2ludGVySWQ6IHRydWUsXG5cdHBvaW50ZXJUeXBlOiB0cnVlLFxuXHRzY3JlZW5YOiB0cnVlLFxuXHRzY3JlZW5ZOiB0cnVlLFxuXHR0YXJnZXRUb3VjaGVzOiB0cnVlLFxuXHR0b0VsZW1lbnQ6IHRydWUsXG5cdHRvdWNoZXM6IHRydWUsXG5cblx0d2hpY2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuXG5cdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0aWYgKCBldmVudC53aGljaCA9PSBudWxsICYmIHJrZXlFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRyZXR1cm4gZXZlbnQuY2hhckNvZGUgIT0gbnVsbCA/IGV2ZW50LmNoYXJDb2RlIDogZXZlbnQua2V5Q29kZTtcblx0XHR9XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XG5cdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgcm1vdXNlRXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0aWYgKCBidXR0b24gJiAxICkge1xuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBidXR0b24gJiAyICkge1xuXHRcdFx0XHRyZXR1cm4gMztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBidXR0b24gJiA0ICkge1xuXHRcdFx0XHRyZXR1cm4gMjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LndoaWNoO1xuXHR9XG59LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApO1xuXG5qUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggdHlwZSwgZGVsZWdhdGVUeXBlICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdID0ge1xuXG5cdFx0Ly8gVXRpbGl6ZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBDbGFpbSB0aGUgZmlyc3QgaGFuZGxlclxuXHRcdFx0Ly8gZGF0YVByaXYuc2V0KCB0aGlzLCBcImZvY3VzXCIsIC4uLiApXG5cdFx0XHQvLyBkYXRhUHJpdi5zZXQoIHRoaXMsIFwiYmx1clwiLCAuLi4gKVxuXHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUsIGV4cGVjdFN5bmMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIGZhbHNlIHRvIGFsbG93IG5vcm1hbCBwcm9jZXNzaW5nIGluIHRoZSBjYWxsZXJcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBGb3JjZSBzZXR1cCBiZWZvcmUgdHJpZ2dlclxuXHRcdFx0bGV2ZXJhZ2VOYXRpdmUoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIG5vbi1mYWxzZSB0byBhbGxvdyBub3JtYWwgZXZlbnQtcGF0aCBwcm9wYWdhdGlvblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdGRlbGVnYXRlVHlwZTogZGVsZWdhdGVUeXBlXG5cdH07XG59ICk7XG5cbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cbi8vIERvIHRoZSBzYW1lIGZvciBwb2ludGVyZW50ZXIvcG9pbnRlcmxlYXZlIGFuZCBwb2ludGVyb3Zlci9wb2ludGVyb3V0XG4vL1xuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxuLy8gU2FmYXJpIHNlbmRzIG1vdXNlZW50ZXIgdG9vIG9mdGVuOyBzZWU6XG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXG5qUXVlcnkuZWFjaCgge1xuXHRtb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLFxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXG5cdHBvaW50ZXJlbnRlcjogXCJwb2ludGVyb3ZlclwiLFxuXHRwb2ludGVybGVhdmU6IFwicG9pbnRlcm91dFwiXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3JpZyBdID0ge1xuXHRcdGRlbGVnYXRlVHlwZTogZml4LFxuXHRcdGJpbmRUeXBlOiBmaXgsXG5cblx0XHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdHZhciByZXQsXG5cdFx0XHRcdHRhcmdldCA9IHRoaXMsXG5cdFx0XHRcdHJlbGF0ZWQgPSBldmVudC5yZWxhdGVkVGFyZ2V0LFxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XG5cblx0XHRcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5zKCB0YXJnZXQsIHJlbGF0ZWQgKSApICkge1xuXHRcdFx0XHRldmVudC50eXBlID0gaGFuZGxlT2JqLm9yaWdUeXBlO1xuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBmaXg7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0b25lOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIDEgKTtcblx0fSxcblx0b2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHtcblx0XHR2YXIgaGFuZGxlT2JqLCB0eXBlO1xuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xuXG5cdFx0XHQvLyAoIGV2ZW50ICkgIGRpc3BhdGNoZWQgalF1ZXJ5LkV2ZW50XG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XG5cdFx0XHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxuXHRcdFx0XHRoYW5kbGVPYmoubmFtZXNwYWNlID9cblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSxcblx0XHRcdFx0aGFuZGxlT2JqLnNlbGVjdG9yLFxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxuXHRcdFx0KTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcblx0XHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XG5cdFx0XHRcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxudmFyXG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTMgb25seVxuXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxuXHQvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy8xNzM2NTEyL1xuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcblxuXHQvLyBjaGVja2VkPVwiY2hlY2tlZFwiIG9yIGNoZWNrZWRcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxuXHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7XG5cbi8vIFByZWZlciBhIHRib2R5IG92ZXIgaXRzIHBhcmVudCB0YWJsZSBmb3IgY29udGFpbmluZyBuZXcgcm93c1xuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xuXHRpZiAoIG5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxuXHRcdG5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApICkge1xuXG5cdFx0cmV0dXJuIGpRdWVyeSggZWxlbSApLmNoaWxkcmVuKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcblx0ZWxlbS50eXBlID0gKCBlbGVtLmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSAhPT0gbnVsbCApICsgXCIvXCIgKyBlbGVtLnR5cGU7XG5cdHJldHVybiBlbGVtO1xufVxuZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHtcblx0aWYgKCAoIGVsZW0udHlwZSB8fCBcIlwiICkuc2xpY2UoIDAsIDUgKSA9PT0gXCJ0cnVlL1wiICkge1xuXHRcdGVsZW0udHlwZSA9IGVsZW0udHlwZS5zbGljZSggNSApO1xuXHR9IGVsc2Uge1xuXHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcInR5cGVcIiApO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cblx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5nZXQoIHNyYyApO1xuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcblxuXHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkZXN0LCBcImhhbmRsZSBldmVudHNcIiApO1xuXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0fVxufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRhcmdzID0gZmxhdCggYXJncyApO1xuXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcblx0XHRpID0gMCxcblx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIHZhbHVlSXNGdW5jdGlvbiB8fFxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0fVxuXHRcdFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCBsICkge1xuXHRcdGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudCggYXJncywgY29sbGVjdGlvblsgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkICk7XG5cdFx0Zmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXG5cdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xuXHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHQvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcblx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdG5vZGUgPSBmcmFnbWVudDtcblxuXHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIEtlZXAgcmVmZXJlbmNlcyB0byBjbG9uZWQgc2NyaXB0cyBmb3IgbGF0ZXIgcmVzdG9yYXRpb25cblx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdFx0Ly8gUmVlbmFibGUgc2NyaXB0c1xuXHRcdFx0XHRqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7XG5cblx0XHRcdFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gc2NyaXB0c1sgaSBdO1xuXHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuXHRcdFx0XHRcdFx0IWRhdGFQcml2LmFjY2Vzcyggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCBub2RlLnNyYyAmJiAoIG5vZGUudHlwZSB8fCBcIlwiICkudG9Mb3dlckNhc2UoKSAgIT09IFwibW9kdWxlXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgJiYgIW5vZGUubm9Nb2R1bGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYywge1xuXHRcdFx0XHRcdFx0XHRcdFx0bm9uY2U6IG5vZGUubm9uY2UgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoIFwibm9uY2VcIiApXG5cdFx0XHRcdFx0XHRcdFx0fSwgZG9jICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdERPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICksIG5vZGUsIGRvYyApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjb2xsZWN0aW9uO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHtcblx0dmFyIG5vZGUsXG5cdFx0bm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBlbGVtICkgOiBlbGVtLFxuXHRcdGkgPSAwO1xuXG5cdGZvciAoIDsgKCBub2RlID0gbm9kZXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRpZiAoICFrZWVwRGF0YSAmJiBub2RlLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG5vZGUucGFyZW50Tm9kZSApIHtcblx0XHRcdGlmICgga2VlcERhdGEgJiYgaXNBdHRhY2hlZCggbm9kZSApICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0fVxuXHRcdFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0cmV0dXJuIGh0bWw7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGlzQXR0YWNoZWQoIGVsZW0gKTtcblxuXHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcblx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcblx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG5cdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcblx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcblx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9LFxuXG5cdGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBkYXRhLCBlbGVtLCB0eXBlLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPT0gdW5kZWZpbmVkOyBpKysgKSB7XG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRcdFx0aWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0Zm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHR9LFxuXG5cdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZ25vcmVkID0gW107XG5cblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHR9LCBpZ25vcmVkICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIHtcblx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG5cdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG59LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBlbGVtcyxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xuXHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHQvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcblx0fTtcbn0gKTtcbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2sgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5jYWxsKCBlbGVtICk7XG5cblx0Ly8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59O1xuXG5cbnZhciByYm94U3R5bGUgPSBuZXcgUmVnRXhwKCBjc3NFeHBhbmQuam9pbiggXCJ8XCIgKSwgXCJpXCIgKTtcblxuXG5cbiggZnVuY3Rpb24oKSB7XG5cblx0Ly8gRXhlY3V0aW5nIGJvdGggcGl4ZWxQb3NpdGlvbiAmIGJveFNpemluZ1JlbGlhYmxlIHRlc3RzIHJlcXVpcmUgb25seSBvbmUgbGF5b3V0XG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXG5cdGZ1bmN0aW9uIGNvbXB1dGVTdHlsZVRlc3RzKCkge1xuXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxuXHRcdGlmICggIWRpdiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O1wiICtcblx0XHRcdFwibWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowXCI7XG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxuXHRcdFx0XCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7XCIgK1xuXHRcdFx0XCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1wiICtcblx0XHRcdFwid2lkdGg6NjAlO3RvcDoxJVwiO1xuXHRcdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggY29udGFpbmVyICkuYXBwZW5kQ2hpbGQoIGRpdiApO1xuXG5cdFx0dmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiApO1xuXHRcdHBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09IFwiMSVcIjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIEZpcmVmb3ggPD0zIC0gNDRcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLm1hcmdpbkxlZnQgKSA9PT0gMTI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBTYWZhcmkgPD05LjEgLSAxMC4xLCBpT1MgPD03LjAgLSA5LjNcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3Rcblx0XHRkaXYuc3R5bGUucmlnaHQgPSBcIjYwJVwiO1xuXHRcdHBpeGVsQm94U3R5bGVzVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5yaWdodCApID09PSAzNjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5XG5cdFx0Ly8gRGV0ZWN0IG1pc3JlcG9ydGluZyBvZiBjb250ZW50IGRpbWVuc2lvbnMgZm9yIGJveC1zaXppbmc6Ym9yZGVyLWJveCBlbGVtZW50c1xuXHRcdGJveFNpemluZ1JlbGlhYmxlVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS53aWR0aCApID09PSAzNjtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdC8vIERldGVjdCBvdmVyZmxvdzpzY3JvbGwgc2NyZXdpbmVzcyAoZ2gtMzY5OSlcblx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD02NFxuXHRcdC8vIERvbid0IGdldCB0cmlja2VkIHdoZW4gem9vbSBhZmZlY3RzIG9mZnNldFdpZHRoIChnaC00MDI5KVxuXHRcdGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblx0XHRzY3JvbGxib3hTaXplVmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXYub2Zmc2V0V2lkdGggLyAzICkgPT09IDEyO1xuXG5cdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcblxuXHRcdC8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9yeSBhbmRcblx0XHQvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkXG5cdFx0ZGl2ID0gbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIHJvdW5kUGl4ZWxNZWFzdXJlcyggbWVhc3VyZSApIHtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZCggcGFyc2VGbG9hdCggbWVhc3VyZSApICk7XG5cdH1cblxuXHR2YXIgcGl4ZWxQb3NpdGlvblZhbCwgYm94U2l6aW5nUmVsaWFibGVWYWwsIHNjcm9sbGJveFNpemVWYWwsIHBpeGVsQm94U3R5bGVzVmFsLFxuXHRcdHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsLCByZWxpYWJsZU1hcmdpbkxlZnRWYWwsXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcblx0XHR9LFxuXHRcdHBpeGVsQm94U3R5bGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxCb3hTdHlsZXNWYWw7XG5cdFx0fSxcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9LFxuXHRcdHNjcm9sbGJveFNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBzY3JvbGxib3hTaXplVmFsO1xuXHRcdH0sXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTErLCBFZGdlIDE1IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHRcblx0XHQvLyBzZXQgaW4gQ1NTIHdoaWxlIGBvZmZzZXQqYCBwcm9wZXJ0aWVzIHJlcG9ydCBjb3JyZWN0IHZhbHVlcy5cblx0XHQvLyBCZWhhdmlvciBpbiBJRSA5IGlzIG1vcmUgc3VidGxlIHRoYW4gaW4gbmV3ZXIgdmVyc2lvbnMgJiBpdCBwYXNzZXNcblx0XHQvLyBzb21lIHZlcnNpb25zIG9mIHRoaXMgdGVzdDsgbWFrZSBzdXJlIG5vdCB0byBtYWtlIGl0IHBhc3MgdGhlcmUhXG5cdFx0cmVsaWFibGVUckRpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHRhYmxlLCB0ciwgdHJDaGlsZCwgdHJTdHlsZTtcblx0XHRcdGlmICggcmVsaWFibGVUckRpbWVuc2lvbnNWYWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInRhYmxlXCIgKTtcblx0XHRcdFx0dHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInRyXCIgKTtcblx0XHRcdFx0dHJDaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHRcdFx0XHR0YWJsZS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4XCI7XG5cdFx0XHRcdHRyLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG5cdFx0XHRcdHRyQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gXCI5cHhcIjtcblxuXHRcdFx0XHRkb2N1bWVudEVsZW1lbnRcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRhYmxlIClcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRyIClcblx0XHRcdFx0XHQuYXBwZW5kQ2hpbGQoIHRyQ2hpbGQgKTtcblxuXHRcdFx0XHR0clN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIHRyICk7XG5cdFx0XHRcdHJlbGlhYmxlVHJEaW1lbnNpb25zVmFsID0gcGFyc2VJbnQoIHRyU3R5bGUuaGVpZ2h0ICkgPiAzO1xuXG5cdFx0XHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggdGFibGUgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZWxpYWJsZVRyRGltZW5zaW9uc1ZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuXHRcdC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcblx0XHQvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG5cdFx0Ly8gb24gZGV0YWNoZWQgZWxlbWVudHNcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG5cdC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgIzEyNTM3KVxuXHQvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NClcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFpc0F0dGFjaGVkKCBlbGVtICkgKSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0Ly8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsXG5cdFx0Ly8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cblx0XHQvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG5cdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoICFzdXBwb3J0LnBpeGVsQm94U3R5bGVzKCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJib3hTdHlsZS50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuXHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcblx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XG5cblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbnZhciBjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGUsXG5cdHZlbmRvclByb3BzID0ge307XG5cbi8vIFJldHVybiBhIHZlbmRvci1wcmVmaXhlZCBwcm9wZXJ0eSBvciB1bmRlZmluZWRcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQgbmFtZXNcblx0dmFyIGNhcE5hbWUgPSBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEgKSxcblx0XHRpID0gY3NzUHJlZml4ZXMubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdG5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTtcblx0XHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRcdHJldHVybiBuYW1lO1xuXHRcdH1cblx0fVxufVxuXG4vLyBSZXR1cm4gYSBwb3RlbnRpYWxseS1tYXBwZWQgalF1ZXJ5LmNzc1Byb3BzIG9yIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuZnVuY3Rpb24gZmluYWxQcm9wTmFtZSggbmFtZSApIHtcblx0dmFyIGZpbmFsID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF0gfHwgdmVuZG9yUHJvcHNbIG5hbWUgXTtcblxuXHRpZiAoIGZpbmFsICkge1xuXHRcdHJldHVybiBmaW5hbDtcblx0fVxuXHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcblx0XHRyZXR1cm4gbmFtZTtcblx0fVxuXHRyZXR1cm4gdmVuZG9yUHJvcHNbIG5hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBuYW1lICkgfHwgbmFtZTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRyY3VzdG9tUHJvcCA9IC9eLS0vLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fTtcblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIF9lbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBib3gsIGlzQm9yZGVyQm94LCBzdHlsZXMsIGNvbXB1dGVkVmFsICkge1xuXHR2YXIgaSA9IGRpbWVuc2lvbiA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cdFx0ZXh0cmEgPSAwLFxuXHRcdGRlbHRhID0gMDtcblxuXHQvLyBBZGp1c3RtZW50IG1heSBub3QgYmUgbmVjZXNzYXJ5XG5cdGlmICggYm94ID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW5cblx0XHRpZiAoIGJveCA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIGJveCArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgY29udGVudC1ib3gsIHdlJ3JlIHNlZWtpbmcgXCJwYWRkaW5nXCIgb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiXG5cdFx0aWYgKCAhaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIEFkZCBwYWRkaW5nXG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gRm9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIiwgYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBib3ggIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBCdXQgc3RpbGwga2VlcCB0cmFjayBvZiBpdCBvdGhlcndpc2Vcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV4dHJhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgYm9yZGVyLWJveCAoY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIpLCB3ZSdyZSBzZWVraW5nIFwiY29udGVudFwiIG9yXG5cdFx0Ly8gXCJwYWRkaW5nXCIgb3IgXCJtYXJnaW5cIlxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiwgc3VidHJhY3QgcGFkZGluZ1xuXHRcdFx0aWYgKCBib3ggPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yIFwiY29udGVudFwiIG9yIFwicGFkZGluZ1wiLCBzdWJ0cmFjdCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFjY291bnQgZm9yIHBvc2l0aXZlIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIgd2hlbiByZXF1ZXN0ZWQgYnkgcHJvdmlkaW5nIGNvbXB1dGVkVmFsXG5cdGlmICggIWlzQm9yZGVyQm94ICYmIGNvbXB1dGVkVmFsID49IDAgKSB7XG5cblx0XHQvLyBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgYSByb3VuZGVkIHN1bSBvZiBjb250ZW50LCBwYWRkaW5nLCBzY3JvbGwgZ3V0dGVyLCBhbmQgYm9yZGVyXG5cdFx0Ly8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93blxuXHRcdGRlbHRhICs9IE1hdGgubWF4KCAwLCBNYXRoLmNlaWwoXG5cdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0Y29tcHV0ZWRWYWwgLVxuXHRcdFx0ZGVsdGEgLVxuXHRcdFx0ZXh0cmEgLVxuXHRcdFx0MC41XG5cblx0XHQvLyBJZiBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgdW5rbm93biwgdGhlbiB3ZSBjYW4ndCBkZXRlcm1pbmUgY29udGVudC1ib3ggc2Nyb2xsIGd1dHRlclxuXHRcdC8vIFVzZSBhbiBleHBsaWNpdCB6ZXJvIHRvIGF2b2lkIE5hTiAoZ2gtMzk2NClcblx0XHQpICkgfHwgMDtcblx0fVxuXG5cdHJldHVybiBkZWx0YTtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIGNvbXB1dGVkIHN0eWxlXG5cdHZhciBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblxuXHRcdC8vIFRvIGF2b2lkIGZvcmNpbmcgYSByZWZsb3csIG9ubHkgZmV0Y2ggYm94U2l6aW5nIGlmIHdlIG5lZWQgaXQgKGdoLTQzMjIpLlxuXHRcdC8vIEZha2UgY29udGVudC1ib3ggdW50aWwgd2Uga25vdyBpdCdzIG5lZWRlZCB0byBrbm93IHRoZSB0cnVlIHZhbHVlLlxuXHRcdGJveFNpemluZ05lZWRlZCA9ICFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgZXh0cmEsXG5cdFx0aXNCb3JkZXJCb3ggPSBib3hTaXppbmdOZWVkZWQgJiZcblx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94LFxuXG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBkaW1lbnNpb24sIHN0eWxlcyApLFxuXHRcdG9mZnNldFByb3AgPSBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApO1xuXG5cdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuXHQvLyBSZXR1cm4gYSBjb25mb3VuZGluZyBub24tcGl4ZWwgdmFsdWUgb3IgZmVpZ24gaWdub3JhbmNlLCBhcyBhcHByb3ByaWF0ZS5cblx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0aWYgKCAhZXh0cmEgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblx0XHR2YWwgPSBcImF1dG9cIjtcblx0fVxuXG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gVXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3Igd2hlbiBib3ggc2l6aW5nIGlzIHVucmVsaWFibGUuXG5cdC8vIEluIHRob3NlIGNhc2VzLCB0aGUgY29tcHV0ZWQgdmFsdWUgY2FuIGJlIHRydXN0ZWQgdG8gYmUgYm9yZGVyLWJveC5cblx0aWYgKCAoICFzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgJiYgaXNCb3JkZXJCb3ggfHxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDEwIC0gMTErLCBFZGdlIDE1IC0gMTgrXG5cdFx0Ly8gSUUvRWRnZSBtaXNyZXBvcnQgYGdldENvbXB1dGVkU3R5bGVgIG9mIHRhYmxlIHJvd3Mgd2l0aCB3aWR0aC9oZWlnaHRcblx0XHQvLyBzZXQgaW4gQ1NTIHdoaWxlIGBvZmZzZXQqYCBwcm9wZXJ0aWVzIHJlcG9ydCBjb3JyZWN0IHZhbHVlcy5cblx0XHQvLyBJbnRlcmVzdGluZ2x5LCBpbiBzb21lIGNhc2VzIElFIDkgZG9lc24ndCBzdWZmZXIgZnJvbSB0aGlzIGlzc3VlLlxuXHRcdCFzdXBwb3J0LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkgJiYgbm9kZU5hbWUoIGVsZW0sIFwidHJcIiApIHx8XG5cblx0XHQvLyBGYWxsIGJhY2sgdG8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IHdoZW4gdmFsdWUgaXMgXCJhdXRvXCJcblx0XHQvLyBUaGlzIGhhcHBlbnMgZm9yIGlubGluZSBlbGVtZW50cyB3aXRoIG5vIGV4cGxpY2l0IHNldHRpbmcgKGdoLTM1NzEpXG5cdFx0dmFsID09PSBcImF1dG9cIiB8fFxuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSAtIDQuMyBvbmx5XG5cdFx0Ly8gQWxzbyB1c2Ugb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGZvciBtaXNyZXBvcnRlZCBpbmxpbmUgZGltZW5zaW9ucyAoZ2gtMzYwMilcblx0XHQhcGFyc2VGbG9hdCggdmFsICkgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJpbmxpbmVcIiApICYmXG5cblx0XHQvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSAmIGNvbm5lY3RlZFxuXHRcdGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XG5cblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCI7XG5cblx0XHQvLyBXaGVyZSBhdmFpbGFibGUsIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBhcHByb3hpbWF0ZSBib3JkZXIgYm94IGRpbWVuc2lvbnMuXG5cdFx0Ly8gV2hlcmUgbm90IGF2YWlsYWJsZSAoZS5nLiwgU1ZHKSwgYXNzdW1lIHVucmVsaWFibGUgYm94LXNpemluZyBhbmQgaW50ZXJwcmV0IHRoZVxuXHRcdC8vIHJldHJpZXZlZCB2YWx1ZSBhcyBhIGNvbnRlbnQgYm94IGRpbWVuc2lvbi5cblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gb2Zmc2V0UHJvcCBpbiBlbGVtO1xuXHRcdGlmICggdmFsdWVJc0JvcmRlckJveCApIHtcblx0XHRcdHZhbCA9IGVsZW1bIG9mZnNldFByb3AgXTtcblx0XHR9XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgXCJcIiBhbmQgYXV0b1xuXHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXG5cdC8vIEFkanVzdCBmb3IgdGhlIGVsZW1lbnQncyBib3ggbW9kZWxcblx0cmV0dXJuICggdmFsICtcblx0XHRib3hNb2RlbEFkanVzdG1lbnQoXG5cdFx0XHRlbGVtLFxuXHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlcyxcblxuXHRcdFx0Ly8gUHJvdmlkZSB0aGUgY3VycmVudCBjb21wdXRlZCBzaXplIHRvIHJlcXVlc3Qgc2Nyb2xsIGd1dHRlciBjYWxjdWxhdGlvbiAoZ2gtMzU4OSlcblx0XHRcdHZhbFxuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwiZ3JpZEFyZWFcIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5cIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5FbmRcIjogdHJ1ZSxcblx0XHRcImdyaWRDb2x1bW5TdGFydFwiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd1wiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd0VuZFwiOiB0cnVlLFxuXHRcdFwiZ3JpZFJvd1N0YXJ0XCI6IHRydWUsXG5cdFx0XCJsaW5lSGVpZ2h0XCI6IHRydWUsXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFwib3JwaGFuc1wiOiB0cnVlLFxuXHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcInpvb21cIjogdHJ1ZVxuXHR9LFxuXG5cdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRjc3NQcm9wczoge30sXG5cblx0Ly8gR2V0IGFuZCBzZXQgdGhlIHN0eWxlIHByb3BlcnR5IG9uIGEgRE9NIE5vZGVcblx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cblx0XHQvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHR2YXIgcmV0LCB0eXBlLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICksXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBxdWVyeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHQvLyBUaGUgaXNDdXN0b21Qcm9wIGNoZWNrIGNhbiBiZSByZW1vdmVkIGluIGpRdWVyeSA0LjAgd2hlbiB3ZSBvbmx5IGF1dG8tYXBwZW5kXG5cdFx0XHQvLyBcInB4XCIgdG8gYSBmZXcgaGFyZGNvZGVkIHZhbHVlcy5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiAmJiAhaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0XHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoIFwiYmFja2dyb3VuZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSBcImluaGVyaXRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcblx0XHRcdFx0KCB2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGlmICggaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0XHRcdHN0eWxlLnNldFByb3BlcnR5KCBuYW1lLCB2YWx1ZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuXHRcdFx0dmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sIGZ1bmN0aW9uKCBfaSwgZGltZW5zaW9uICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIGRpbWVuc2lvbiBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmXG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcblx0XHRcdFx0XHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xuXHRcdFx0XHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdFx0XHRcdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxuXHRcdFx0XHRcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xuXHRcdFx0XHRcdFx0c3dhcCggZWxlbSwgY3NzU2hvdywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7XG5cdFx0XHRcdFx0XHR9ICkgOlxuXHRcdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHR2YXIgbWF0Y2hlcyxcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksXG5cblx0XHRcdFx0Ly8gT25seSByZWFkIHN0eWxlcy5wb3NpdGlvbiBpZiB0aGUgdGVzdCBoYXMgYSBjaGFuY2UgdG8gZmFpbFxuXHRcdFx0XHQvLyB0byBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LlxuXHRcdFx0XHRzY3JvbGxib3hTaXplQnVnZ3kgPSAhc3VwcG9ydC5zY3JvbGxib3hTaXplKCkgJiZcblx0XHRcdFx0XHRzdHlsZXMucG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIixcblxuXHRcdFx0XHQvLyBUbyBhdm9pZCBmb3JjaW5nIGEgcmVmbG93LCBvbmx5IGZldGNoIGJveFNpemluZyBpZiB3ZSBuZWVkIGl0IChnaC0zOTkxKVxuXHRcdFx0XHRib3hTaXppbmdOZWVkZWQgPSBzY3JvbGxib3hTaXplQnVnZ3kgfHwgZXh0cmEsXG5cdFx0XHRcdGlzQm9yZGVyQm94ID0gYm94U2l6aW5nTmVlZGVkICYmXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcblx0XHRcdFx0c3VidHJhY3QgPSBleHRyYSA/XG5cdFx0XHRcdFx0Ym94TW9kZWxBZGp1c3RtZW50KFxuXHRcdFx0XHRcdFx0ZWxlbSxcblx0XHRcdFx0XHRcdGRpbWVuc2lvbixcblx0XHRcdFx0XHRcdGV4dHJhLFxuXHRcdFx0XHRcdFx0aXNCb3JkZXJCb3gsXG5cdFx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0XHQpIDpcblx0XHRcdFx0XHQwO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB1bnJlbGlhYmxlIGJvcmRlci1ib3ggZGltZW5zaW9ucyBieSBjb21wYXJpbmcgb2Zmc2V0KiB0byBjb21wdXRlZCBhbmRcblx0XHRcdC8vIGZha2luZyBhIGNvbnRlbnQtYm94IHRvIGdldCBib3JkZXIgYW5kIHBhZGRpbmcgKGdoLTM2OTkpXG5cdFx0XHRpZiAoIGlzQm9yZGVyQm94ICYmIHNjcm9sbGJveFNpemVCdWdneSApIHtcblx0XHRcdFx0c3VidHJhY3QgLT0gTWF0aC5jZWlsKFxuXHRcdFx0XHRcdGVsZW1bIFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICkgXSAtXG5cdFx0XHRcdFx0cGFyc2VGbG9hdCggc3R5bGVzWyBkaW1lbnNpb24gXSApIC1cblx0XHRcdFx0XHRib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgXCJib3JkZXJcIiwgZmFsc2UsIHN0eWxlcyApIC1cblx0XHRcdFx0XHQwLjVcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcblx0XHRcdGlmICggc3VidHJhY3QgJiYgKCBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiZcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcblxuXHRcdFx0XHRlbGVtLnN0eWxlWyBkaW1lbnNpb24gXSA9IHZhbHVlO1xuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5jc3MoIGVsZW0sIGRpbWVuc2lvbiApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApO1xuXHRcdH1cblx0fTtcbn0gKTtcblxualF1ZXJ5LmNzc0hvb2tzLm1hcmdpbkxlZnQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5MZWZ0LFxuXHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdHJldHVybiAoIHBhcnNlRmxvYXQoIGN1ckNTUyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIgKSApIHx8XG5cdFx0XHRcdGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtXG5cdFx0XHRcdFx0c3dhcCggZWxlbSwgeyBtYXJnaW5MZWZ0OiAwIH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcblx0XHRcdFx0XHR9IClcblx0XHRcdFx0KSArIFwicHhcIjtcblx0XHR9XG5cdH1cbik7XG5cbi8vIFRoZXNlIGhvb2tzIGFyZSB1c2VkIGJ5IGFuaW1hdGUgdG8gZXhwYW5kIHByb3BlcnRpZXNcbmpRdWVyeS5lYWNoKCB7XG5cdG1hcmdpbjogXCJcIixcblx0cGFkZGluZzogXCJcIixcblx0Ym9yZGVyOiBcIldpZHRoXCJcbn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXSA9IHtcblx0XHRleHBhbmQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBpID0gMCxcblx0XHRcdFx0ZXhwYW5kZWQgPSB7fSxcblxuXHRcdFx0XHQvLyBBc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcblx0XHRcdFx0cGFydHMgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZS5zcGxpdCggXCIgXCIgKSA6IFsgdmFsdWUgXTtcblxuXHRcdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xuXHRcdFx0XHRleHBhbmRlZFsgcHJlZml4ICsgY3NzRXhwYW5kWyBpIF0gKyBzdWZmaXggXSA9XG5cdFx0XHRcdFx0cGFydHNbIGkgXSB8fCBwYXJ0c1sgaSAtIDIgXSB8fCBwYXJ0c1sgMCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZXhwYW5kZWQ7XG5cdFx0fVxuXHR9O1xuXG5cdGlmICggcHJlZml4ICE9PSBcIm1hcmdpblwiICkge1xuXHRcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRjc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdG1hcCA9IHt9LFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBuYW1lICkgKSB7XG5cdFx0XHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApO1xuXHRcdFx0XHRsZW4gPSBuYW1lLmxlbmd0aDtcblxuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0XHRtYXBbIG5hbWVbIGkgXSBdID0galF1ZXJ5LmNzcyggZWxlbSwgbmFtZVsgaSBdLCBmYWxzZSwgc3R5bGVzICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gbWFwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSwgdmFsdWUgKSA6XG5cdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKTtcblx0XHR9LCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fVxufSApO1xuXG5cbmZ1bmN0aW9uIFR3ZWVuKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApIHtcblx0cmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTtcbn1cbmpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xuXG5Ud2Vlbi5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBUd2Vlbixcblx0aW5pdDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0ICkge1xuXHRcdHRoaXMuZWxlbSA9IGVsZW07XG5cdFx0dGhpcy5wcm9wID0gcHJvcDtcblx0XHR0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0O1xuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cdFx0dGhpcy5zdGFydCA9IHRoaXMubm93ID0gdGhpcy5jdXIoKTtcblx0XHR0aGlzLmVuZCA9IGVuZDtcblx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xuXHR9LFxuXHRjdXI6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cblx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5nZXQoIHRoaXMgKTtcblx0fSxcblx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcblx0XHR2YXIgZWFzZWQsXG5cdFx0XHRob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kdXJhdGlvbiApIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKFxuXHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xuXHRcdH1cblx0XHR0aGlzLm5vdyA9ICggdGhpcy5lbmQgLSB0aGlzLnN0YXJ0ICkgKiBlYXNlZCArIHRoaXMuc3RhcnQ7XG5cblx0XHRpZiAoIHRoaXMub3B0aW9ucy5zdGVwICkge1xuXHRcdFx0dGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggaG9va3MgJiYgaG9va3Muc2V0ICkge1xuXHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn07XG5cblR3ZWVuLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTtcblxuVHdlZW4ucHJvcEhvb2tzID0ge1xuXHRfZGVmYXVsdDoge1xuXHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdFx0dmFyIHJlc3VsdDtcblxuXHRcdFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcblx0XHRcdC8vIG9yIHdoZW4gdGhlcmUgaXMgbm8gbWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuXG5cdFx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgIT09IDEgfHxcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF07XG5cdFx0XHR9XG5cblx0XHRcdC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxuXHRcdFx0Ly8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy5cblx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuXHRcdFx0Ly8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyBcInJvdGF0ZSgxcmFkKVwiIGFyZSByZXR1cm5lZCBhcy1pcy5cblx0XHRcdHJlc3VsdCA9IGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIFwiXCIgKTtcblxuXHRcdFx0Ly8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcImF1dG9cIiBhcmUgY29udmVydGVkIHRvIDAuXG5cdFx0XHRyZXR1cm4gIXJlc3VsdCB8fCByZXN1bHQgPT09IFwiYXV0b1wiID8gMCA6IHJlc3VsdDtcblx0XHR9LFxuXHRcdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXG5cdFx0XHQvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cblx0XHRcdC8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS5cblx0XHRcdC8vIFVzZSAuc3R5bGUgaWYgYXZhaWxhYmxlIGFuZCB1c2UgcGxhaW4gcHJvcGVydGllcyB3aGVyZSBhdmFpbGFibGUuXG5cdFx0XHRpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0oIHR3ZWVuICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSB8fFxuXHRcdFx0XHRcdHR3ZWVuLmVsZW0uc3R5bGVbIGZpbmFsUHJvcE5hbWUoIHR3ZWVuLnByb3AgKSBdICE9IG51bGwgKSApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuLy8gUGFuaWMgYmFzZWQgYXBwcm9hY2ggdG8gc2V0dGluZyB0aGluZ3Mgb24gZGlzY29ubmVjdGVkIG5vZGVzXG5Ud2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XG5cdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xuXHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAmJiB0d2Vlbi5lbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkuZWFzaW5nID0ge1xuXHRsaW5lYXI6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiBwO1xuXHR9LFxuXHRzd2luZzogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIDAuNSAtIE1hdGguY29zKCBwICogTWF0aC5QSSApIC8gMjtcblx0fSxcblx0X2RlZmF1bHQ6IFwic3dpbmdcIlxufTtcblxualF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XG5cbi8vIEJhY2sgY29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50XG5qUXVlcnkuZnguc3RlcCA9IHt9O1xuXG5cblxuXG52YXJcblx0ZnhOb3csIGluUHJvZ3Jlc3MsXG5cdHJmeHR5cGVzID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFxuXHRycnVuID0gL3F1ZXVlSG9va3MkLztcblxuZnVuY3Rpb24gc2NoZWR1bGUoKSB7XG5cdGlmICggaW5Qcm9ncmVzcyApIHtcblx0XHRpZiAoIGRvY3VtZW50LmhpZGRlbiA9PT0gZmFsc2UgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSApIHtcblx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHNjaGVkdWxlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBzY2hlZHVsZSwgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdFx0fVxuXG5cdFx0alF1ZXJ5LmZ4LnRpY2soKTtcblx0fVxufVxuXG4vLyBBbmltYXRpb25zIGNyZWF0ZWQgc3luY2hyb25vdXNseSB3aWxsIHJ1biBzeW5jaHJvbm91c2x5XG5mdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdGZ4Tm93ID0gdW5kZWZpbmVkO1xuXHR9ICk7XG5cdHJldHVybiAoIGZ4Tm93ID0gRGF0ZS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGkgPSAwLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblxuXHQvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgLSBpbmNsdWRlV2lkdGggKSB7XG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcblx0XHRhdHRyc1sgXCJtYXJnaW5cIiArIHdoaWNoIF0gPSBhdHRyc1sgXCJwYWRkaW5nXCIgKyB3aGljaCBdID0gdHlwZTtcblx0fVxuXG5cdGlmICggaW5jbHVkZVdpZHRoICkge1xuXHRcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XG5cdH1cblxuXHRyZXR1cm4gYXR0cnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwgcHJvcCwgYW5pbWF0aW9uICkge1xuXHR2YXIgdHdlZW4sXG5cdFx0Y29sbGVjdGlvbiA9ICggQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIEFuaW1hdGlvbi50d2VlbmVyc1sgXCIqXCIgXSApLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoICggdHdlZW4gPSBjb2xsZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkge1xuXG5cdFx0XHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcblx0dmFyIHByb3AsIHZhbHVlLCB0b2dnbGUsIGhvb2tzLCBvbGRmaXJlLCBwcm9wVHdlZW4sIHJlc3RvcmVEaXNwbGF5LCBkaXNwbGF5LFxuXHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXG5cdFx0YW5pbSA9IHRoaXMsXG5cdFx0b3JpZyA9IHt9LFxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGluVHJlZSggZWxlbSApLFxuXHRcdGRhdGFTaG93ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cblx0Ly8gUXVldWUtc2tpcHBpbmcgYW5pbWF0aW9ucyBoaWphY2sgdGhlIGZ4IGhvb2tzXG5cdGlmICggIW9wdHMucXVldWUgKSB7XG5cdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xuXHRcdGlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHtcblx0XHRcdGhvb2tzLnVucXVldWVkID0gMDtcblx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICFob29rcy51bnF1ZXVlZCApIHtcblx0XHRcdFx0XHRvbGRmaXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHRcdGhvb2tzLnVucXVldWVkKys7XG5cblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEVuc3VyZSB0aGUgY29tcGxldGUgaGFuZGxlciBpcyBjYWxsZWQgYmVmb3JlIHRoaXMgY29tcGxldGVzXG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRmb3IgKCBwcm9wIGluIHByb3BzICkge1xuXHRcdHZhbHVlID0gcHJvcHNbIHByb3AgXTtcblx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XG5cdFx0XHRkZWxldGUgcHJvcHNbIHByb3AgXTtcblx0XHRcdHRvZ2dsZSA9IHRvZ2dsZSB8fCB2YWx1ZSA9PT0gXCJ0b2dnbGVcIjtcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xuXG5cdFx0XHRcdC8vIFByZXRlbmQgdG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSBcInNob3dcIiBhbmRcblx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IHRydWU7XG5cblx0XHRcdFx0Ly8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hpZGUgZGF0YVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIEJhaWwgb3V0IGlmIHRoaXMgaXMgYSBuby1vcCBsaWtlIC5oaWRlKCkuaGlkZSgpXG5cdHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTtcblx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gUmVzdHJpY3QgXCJvdmVyZmxvd1wiIGFuZCBcImRpc3BsYXlcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXG5cdGlmICggaXNCb3ggJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTVcblx0XHQvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90IGluZmVyIHRoZSBzaG9ydGhhbmRcblx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WSBhbmQgRWRnZSBqdXN0IG1pcnJvcnNcblx0XHQvLyB0aGUgb3ZlcmZsb3dYIHZhbHVlIHRoZXJlLlxuXHRcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xuXG5cdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXG5cdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhU2hvdyAmJiBkYXRhU2hvdy5kaXNwbGF5O1xuXHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdH1cblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSApIHtcblx0XHRcdFx0ZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheSB8fCByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFuaW1hdGUgaW5saW5lIGVsZW1lbnRzIGFzIGlubGluZS1ibG9ja1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJpbmxpbmVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS1ibG9ja1wiICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblxuXHRcdFx0XHQvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlIGF0IHRoZSBlbmQgb2YgcHVyZSBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0ZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7XG5cdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggb3B0cy5vdmVyZmxvdyApIHtcblx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0c3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XG5cdFx0XHRzdHlsZS5vdmVyZmxvd1kgPSBvcHRzLm92ZXJmbG93WyAyIF07XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gSW1wbGVtZW50IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdHByb3BUd2VlbiA9IGZhbHNlO1xuXHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cblx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxuXHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdGlmICggZGF0YVNob3cgKSB7XG5cdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBcImZ4c2hvd1wiLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAgXCJyZXZlcnNlc1wiXG5cdFx0XHRpZiAoIHRvZ2dsZSApIHtcblx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdFx0Ly8gVGhlIGZpbmFsIHN0ZXAgb2YgYSBcImhpZGVcIiBhbmltYXRpb24gaXMgYWN0dWFsbHkgaGlkaW5nIHRoZSBlbGVtZW50XG5cdFx0XHRcdGlmICggIWhpZGRlbiApIHtcblx0XHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdFx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgb3JpZ1sgcHJvcCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBQZXItcHJvcGVydHkgc2V0dXBcblx0XHRwcm9wVHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3dbIHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTtcblx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdGRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdFx0cHJvcFR3ZWVuLnN0YXJ0ID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gcHJvcEZpbHRlciggcHJvcHMsIHNwZWNpYWxFYXNpbmcgKSB7XG5cdHZhciBpbmRleCwgbmFtZSwgZWFzaW5nLCB2YWx1ZSwgaG9va3M7XG5cblx0Ly8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9vayBwYXNzXG5cdGZvciAoIGluZGV4IGluIHByb3BzICkge1xuXHRcdG5hbWUgPSBjYW1lbENhc2UoIGluZGV4ICk7XG5cdFx0ZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdO1xuXHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF07XG5cdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XG5cdFx0XHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRkZWxldGUgcHJvcHNbIGluZGV4IF07XG5cdFx0fVxuXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXTtcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWx1ZSA9IGhvb2tzLmV4cGFuZCggdmFsdWUgKTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgbmFtZSBdO1xuXG5cdFx0XHQvLyBOb3QgcXVpdGUgJC5leHRlbmQsIHRoaXMgd29uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGtleXMuXG5cdFx0XHQvLyBSZXVzaW5nICdpbmRleCcgYmVjYXVzZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IFwibmFtZVwiXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xuXHRcdFx0XHRcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcblx0dmFyIHJlc3VsdCxcblx0XHRzdG9wcGVkLFxuXHRcdGluZGV4ID0gMCxcblx0XHRsZW5ndGggPSBBbmltYXRpb24ucHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5pbWF0ZWQgc2VsZWN0b3Jcblx0XHRcdGRlbGV0ZSB0aWNrLmVsZW07XG5cdFx0fSApLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHlcblx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxuXHRcdFx0XHR0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0aW9uIHx8IDAsXG5cdFx0XHRcdHBlcmNlbnQgPSAxIC0gdGVtcCxcblx0XHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0XHRsZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDtcblxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIHBlcmNlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZyBdICk7XG5cblx0XHRcdC8vIElmIHRoZXJlJ3MgbW9yZSB0byBkbywgeWllbGRcblx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xuXHRcdFx0XHRyZXR1cm4gcmVtYWluaW5nO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGlzIHdhcyBhbiBlbXB0eSBhbmltYXRpb24sIHN5bnRoZXNpemUgYSBmaW5hbCBwcm9ncmVzcyBub3RpZmljYXRpb25cblx0XHRcdGlmICggIWxlbmd0aCApIHtcblx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXNvbHZlIHRoZSBhbmltYXRpb24gYW5kIHJlcG9ydCBpdHMgY29uY2x1c2lvblxuXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdGFuaW1hdGlvbiA9IGRlZmVycmVkLnByb21pc2UoIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRwcm9wczogalF1ZXJ5LmV4dGVuZCgge30sIHByb3BlcnRpZXMgKSxcblx0XHRcdG9wdHM6IGpRdWVyeS5leHRlbmQoIHRydWUsIHtcblx0XHRcdFx0c3BlY2lhbEVhc2luZzoge30sXG5cdFx0XHRcdGVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdFxuXHRcdFx0fSwgb3B0aW9ucyApLFxuXHRcdFx0b3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxuXHRcdFx0b3JpZ2luYWxPcHRpb25zOiBvcHRpb25zLFxuXHRcdFx0c3RhcnRUaW1lOiBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHR0d2VlbnM6IFtdLFxuXHRcdFx0Y3JlYXRlVHdlZW46IGZ1bmN0aW9uKCBwcm9wLCBlbmQgKSB7XG5cdFx0XHRcdHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCxcblx0XHRcdFx0XHRcdGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVucy5wdXNoKCB0d2VlbiApO1xuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGdvdG9FbmQgKSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IDAsXG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2VlbnNcblx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcblx0XHRcdFx0XHRsZW5ndGggPSBnb3RvRW5kID8gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGggOiAwO1xuXHRcdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcHBlZCA9IHRydWU7XG5cdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlc29sdmUgd2hlbiB3ZSBwbGF5ZWQgdGhlIGxhc3QgZnJhbWU7IG90aGVyd2lzZSwgcmVqZWN0XG5cdFx0XHRcdGlmICggZ290b0VuZCApIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0fSApLFxuXHRcdHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xuXG5cdHByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRyZXN1bHQgPSBBbmltYXRpb24ucHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdGlmICggcmVzdWx0ICkge1xuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkge1xuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxuXHRcdFx0XHRcdHJlc3VsdC5zdG9wLmJpbmQoIHJlc3VsdCApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggaXNGdW5jdGlvbiggYW5pbWF0aW9uLm9wdHMuc3RhcnQgKSApIHtcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcblx0fVxuXG5cdC8vIEF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXG5cdGFuaW1hdGlvblxuXHRcdC5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xuXG5cdGpRdWVyeS5meC50aW1lcihcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aWNrLCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxuXHRcdFx0cXVldWU6IGFuaW1hdGlvbi5vcHRzLnF1ZXVlXG5cdFx0fSApXG5cdCk7XG5cblx0cmV0dXJuIGFuaW1hdGlvbjtcbn1cblxualF1ZXJ5LkFuaW1hdGlvbiA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwge1xuXG5cdHR3ZWVuZXJzOiB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH0gXVxuXHR9LFxuXG5cdHR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XG5cdFx0fVxuXG5cdFx0dmFyIHByb3AsXG5cdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnB1c2goIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRpc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxuXHRcdGR1cmF0aW9uOiBzcGVlZCxcblx0XHRlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZ1xuXHR9O1xuXG5cdC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZlxuXHRpZiAoIGpRdWVyeS5meC5vZmYgKSB7XG5cdFx0b3B0LmR1cmF0aW9uID0gMDtcblxuXHR9IGVsc2Uge1xuXHRcdGlmICggdHlwZW9mIG9wdC5kdXJhdGlvbiAhPT0gXCJudW1iZXJcIiApIHtcblx0XHRcdGlmICggb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgKSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFwiZnhcIlxuXHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcblx0XHRvcHQucXVldWUgPSBcImZ4XCI7XG5cdH1cblxuXHQvLyBRdWV1ZWluZ1xuXHRvcHQub2xkID0gb3B0LmNvbXBsZXRlO1xuXG5cdG9wdC5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xuXHRcdFx0b3B0Lm9sZC5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHQucXVldWUgKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiBvcHQ7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGZhZGVUbzogZnVuY3Rpb24oIHNwZWVkLCB0bywgZWFzaW5nLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMFxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggaXNIaWRkZW5XaXRoaW5UcmVlICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXG5cdFx0XHQvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcblx0XHRcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH0sXG5cdGFuaW1hdGU6IGZ1bmN0aW9uKCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHR2YXIgZW1wdHkgPSBqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcCApLFxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxuXHRcdFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHR2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7XG5cblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdGlmICggZW1wdHkgfHwgZGF0YVByaXYuZ2V0KCB0aGlzLCBcImZpbmlzaFwiICkgKSB7XG5cdFx0XHRcdFx0YW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcblxuXHRcdHJldHVybiBlbXB0eSB8fCBvcHRhbGwucXVldWUgPT09IGZhbHNlID9cblx0XHRcdHRoaXMuZWFjaCggZG9BbmltYXRpb24gKSA6XG5cdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XG5cdH0sXG5cdHN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkge1xuXHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XG5cdFx0XHR2YXIgc3RvcCA9IGhvb2tzLnN0b3A7XG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcblx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGdvdG9FbmQgPSBjbGVhclF1ZXVlO1xuXHRcdFx0Y2xlYXJRdWV1ZSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGNsZWFyUXVldWUgKSB7XG5cdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICk7XG5cblx0XHRcdGlmICggaW5kZXggKSB7XG5cdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XG5cdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGluZGV4IGluIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XG5cdFx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJlxuXHRcdFx0XHRcdCggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkge1xuXG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggZ290b0VuZCApO1xuXHRcdFx0XHRcdGRlcXVldWUgPSBmYWxzZTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXJ0IHRoZSBuZXh0IGluIHRoZSBxdWV1ZSBpZiB0aGUgbGFzdCBzdGVwIHdhc24ndCBmb3JjZWQuXG5cdFx0XHQvLyBUaW1lcnMgY3VycmVudGx5IHdpbGwgY2FsbCB0aGVpciBjb21wbGV0ZSBjYWxsYmFja3MsIHdoaWNoXG5cdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXG5cdFx0XHRpZiAoIGRlcXVldWUgfHwgIWdvdG9FbmQgKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGluZGV4LFxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIF9pLCBuYW1lICkge1xuXHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxuXHRcdFx0dGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCgge1xuXHRzbGlkZURvd246IGdlbkZ4KCBcInNob3dcIiApLFxuXHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXG5cdGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkudGltZXJzID0gW107XG5qUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdGltZXIsXG5cdFx0aSA9IDAsXG5cdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblxuXHRmeE5vdyA9IERhdGUubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cblx0XHQvLyBSdW4gdGhlIHRpbWVyIGFuZCBzYWZlbHkgcmVtb3ZlIGl0IHdoZW4gZG9uZSAoYWxsb3dpbmcgZm9yIGV4dGVybmFsIHJlbW92YWwpXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0alF1ZXJ5LmZ4LnN0YXJ0KCk7XG59O1xuXG5qUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcbmpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aW5Qcm9ncmVzcyA9IHRydWU7XG5cdHNjaGVkdWxlKCk7XG59O1xuXG5qUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRpblByb2dyZXNzID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXG5cdC8vIERlZmF1bHQgc3BlZWRcblx0X2RlZmF1bHQ6IDQwMFxufTtcblxuXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG4vLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxuXHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApID8gYm9vbEhvb2sgOiB1bmRlZmluZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuXHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSxcblx0XHRcdGkgPSAwLFxuXG5cdFx0XHQvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzXG5cdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XG5cblx0XHRpZiAoIGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0d2hpbGUgKCAoIG5hbWUgPSBhdHRyTmFtZXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcbmJvb2xIb29rID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcblx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZVxuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cbn07XG5cbmpRdWVyeS5lYWNoKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCggL1xcdysvZyApLCBmdW5jdGlvbiggX2ksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0bG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHRcdC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxuXHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdGlmICggdGFiaW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmXG5cdFx0XHRcdFx0ZWxlbS5ocmVmXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG4vLyBlc2xpbnQgcnVsZSBcIm5vLXVudXNlZC1leHByZXNzaW9uc1wiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGVcbi8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cblx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIEhUTUwgc3BlY1xuXHQvLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLWFzY2lpLXdoaXRlc3BhY2Vcblx0ZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7XG5cdFx0dmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdFx0cmV0dXJuIHRva2Vucy5qb2luKCBcIiBcIiApO1xuXHR9XG5cblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxuZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICkge1xuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHR9XG5cdHJldHVybiBbXTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRjbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIGNsYXNzZXMubGVuZ3RoICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3Nlcy5sZW5ndGggKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUsXG5cdFx0XHRpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgaXNWYWxpZFZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cblx0XHRcdGlmICggaXNWYWxpZFZhbHVlICkge1xuXG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRzZWxmID0galF1ZXJ5KCB0aGlzICk7XG5cdFx0XHRcdGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFwiIFwiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIHJyZXR1cm4gPSAvXFxyL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIHZhbHVlSXNGdW5jdGlvbixcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHxcblx0XHRcdFx0XHRqUXVlcnkudmFsSG9va3NbIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHRcdGlmICggaG9va3MgJiZcblx0XHRcdFx0XHRcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIFwidmFsdWVcIiApICkgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0ID0gZWxlbS52YWx1ZTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXG5cdFx0XHRcdGlmICggdHlwZW9mIHJldCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0LnJlcGxhY2UoIHJyZXR1cm4sIFwiXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsdWVJc0Z1bmN0aW9uICkge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0dmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKyBcIlwiO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHQvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8IGhvb2tzLnNldCggdGhpcywgdmFsLCBcInZhbHVlXCIgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR0aGlzLnZhbHVlID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHZhbEhvb2tzOiB7XG5cdFx0b3B0aW9uOiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcblx0XHRcdFx0cmV0dXJuIHZhbCAhPSBudWxsID9cblx0XHRcdFx0XHR2YWwgOlxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHlcblx0XHRcdFx0XHQvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAoIzE0Njg2LCAjMTQ4NTgpXG5cdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRcdFx0XHRcdHN0cmlwQW5kQ29sbGFwc2UoIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNlbGVjdDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sIGksXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiLFxuXHRcdFx0XHRcdHZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSxcblx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHRpZiAoIGluZGV4IDwgMCApIHtcblx0XHRcdFx0XHRpID0gbWF4O1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aSA9IG9uZSA/IGluZGV4IDogMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHQvLyBJRTgtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICgjMjU1MSlcblx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcblxuXHRcdFx0XHRcdFx0XHQvLyBEb24ndCByZXR1cm4gb3B0aW9ucyB0aGF0IGFyZSBkaXNhYmxlZCBvciBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0KCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHxcblx0XHRcdFx0XHRcdFx0XHQhbm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgb3B0aW9uU2V0LCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdGkgPSBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXG5cdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KCBvcHRpb24gKSwgdmFsdWVzICkgPiAtMVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0ZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKCBbIFwicmFkaW9cIiwgXCJjaGVja2JveFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbnZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxcblx0c3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbiggZSApIHtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9O1xuXG5qUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZXZlbnQsIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsIGxhc3RFbGVtZW50LFxuXHRcdFx0ZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcIi5cIiApIDogW107XG5cblx0XHRjdXIgPSBsYXN0RWxlbWVudCA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlLmluZGV4T2YoIFwiLlwiICkgPiAtMSApIHtcblxuXHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoIFwiLlwiICk7XG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0fVxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0ZXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50ICk7XG5cblx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0ZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICkgOlxuXHRcdFx0bnVsbDtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3Rcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuXHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdGxhc3RFbGVtZW50ID0gY3VyO1xuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IChcblx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IE9iamVjdC5jcmVhdGUoIG51bGwgKVxuXHRcdFx0XHQpWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC5cblx0XHRcdFx0Ly8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBpc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRcdFx0bGFzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHQvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkge1xuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHR9XG5cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9ICk7XG5cdH0sXG5cdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG4vLyBTdXBwb3J0OiBGaXJlZm94IDw9NDRcbi8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4vL1xuLy8gU3VwcG9ydDogQ2hyb21lIDw9NDggLSA0OSwgU2FmYXJpIDw9OS4wIC0gOS4xXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcbi8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XG5cdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQvLyBIYW5kbGU6IHJlZ3VsYXIgbm9kZXMgKHZpYSBgdGhpcy5vd25lckRvY3VtZW50YCksIHdpbmRvd1xuXHRcdFx0XHQvLyAodmlhIGB0aGlzLmRvY3VtZW50YCkgJiBkb2N1bWVudCAodmlhIGB0aGlzYCkuXG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcy5kb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xufVxudmFyIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuXG52YXIgbm9uY2UgPSB7IGd1aWQ6IERhdGUubm93KCkgfTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sO1xuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgdGhyb3dzIG9uIHBhcnNlRnJvbVN0cmluZyB3aXRoIGludmFsaWQgaW5wdXQuXG5cdHRyeSB7XG5cdFx0eG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0eG1sID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiB0b1R5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0dmFyIHZhbHVlID0gaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0aWYgKCBhID09IG51bGwgKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSApXG5cdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0gKVxuXHRcdC5tYXAoIGZ1bmN0aW9uKCBfaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0gKS5nZXQoKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyMjAgPSAvJTIwL2csXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0aWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblxuXHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblxuXHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblxuXHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdGZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0dG1wID0gY29udjIuc3BsaXQoIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdGlmICggY29udiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG5cdFx0XHRcdGlmICggY29udiAhPT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cblx0XHRcdFx0XHRpZiAoIGNvbnYgJiYgcy50aHJvd3MgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdGFjdGl2ZTogMCxcblxuXHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdGxhc3RNb2RpZmllZDoge30sXG5cdGV0YWc6IHt9LFxuXG5cdGFqYXhTZXR0aW5nczoge1xuXHRcdHVybDogbG9jYXRpb24uaHJlZixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXG5cdFx0Lypcblx0XHR0aW1lb3V0OiAwLFxuXHRcdGRhdGE6IG51bGwsXG5cdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0Y2FjaGU6IG51bGwsXG5cdFx0dGhyb3dzOiBmYWxzZSxcblx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0aGVhZGVyczoge30sXG5cdFx0Ki9cblxuXHRcdGFjY2VwdHM6IHtcblx0XHRcdFwiKlwiOiBhbGxUeXBlcyxcblx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG5cdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0fSxcblxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxuXHRcdFx0aHRtbDogL1xcYmh0bWwvLFxuXHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0fSxcblxuXHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG5cdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0fSxcblxuXHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRjb252ZXJ0ZXJzOiB7XG5cblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XCIqIHRleHRcIjogU3RyaW5nLFxuXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFwidGV4dCBodG1sXCI6IHRydWUsXG5cblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFwidGV4dCBqc29uXCI6IEpTT04ucGFyc2UsXG5cblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuXHRcdH0sXG5cblx0XHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuXHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuXHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRjb250ZXh0OiB0cnVlXG5cdFx0fVxuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0Ly8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cblx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXG5cdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXG5cdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0fSxcblxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0YWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksXG5cblx0Ly8gTWFpbiBtZXRob2Rcblx0YWpheDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcblxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0aWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dmFyIHRyYW5zcG9ydCxcblxuXHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0Y2FjaGVVUkwsXG5cblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblxuXHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXG5cdFx0XHR1cmxBbmNob3IsXG5cblx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcblx0XHRcdGNvbXBsZXRlZCxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG5cdFx0XHR1bmNhY2hlZCxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblxuXHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRyZWFkeVN0YXRlOiAwLFxuXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSArIFwiIFwiIF0gPVxuXHRcdFx0XHRcdFx0XHRcdFx0KCByZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSArIFwiIFwiIF0gfHwgW10gKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuY29uY2F0KCBtYXRjaFsgMiBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG1hdGNoID0gcmVzcG9uc2VIZWFkZXJzWyBrZXkudG9Mb3dlckNhc2UoKSArIFwiIFwiIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoLmpvaW4oIFwiLCBcIiApO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuXHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXG5cdFx0Ly8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XG5cdFx0XHR1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSwgRWRnZSAxMiAtIDE1XG5cdFx0XHQvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuXHRcdFx0Ly8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XG5cdFx0XHRcdC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7XG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT1cblx0XHRcdFx0XHR1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuXHRcdFx0XHQvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkXG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xuXHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcblx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdHJldHVybiBqcVhIUjtcblx0XHR9XG5cblx0XHQvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xuXHRcdC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICgjMTUxMTgpXG5cdFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG5cblx0XHQvLyBXYXRjaCBmb3IgYSBuZXcgc2V0IG9mIHJlcXVlc3RzXG5cdFx0aWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RhcnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuXHRcdHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcblx0XHRzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcblxuXHRcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuXHRcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuXHRcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cblx0XHRjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cblx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdGlmICggIXMuaGFzQ29udGVudCApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG5cdFx0XHR1bmNhY2hlZCA9IHMudXJsLnNsaWNlKCBjYWNoZVVSTC5sZW5ndGggKTtcblxuXHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHNob3VsZCBiZSBwcm9jZXNzZWQsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0aWYgKCBzLmRhdGEgJiYgKCBzLnByb2Nlc3NEYXRhIHx8IHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgKSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YTtcblxuXHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdGRlbGV0ZSBzLmRhdGE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvciB1cGRhdGUgYW50aS1jYWNoZSBwYXJhbSBpZiBuZWVkZWRcblx0XHRcdGlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcmFudGlDYWNoZSwgXCIkMVwiICk7XG5cdFx0XHRcdHVuY2FjaGVkID0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArICggbm9uY2UuZ3VpZCsrICkgK1xuXHRcdFx0XHRcdHVuY2FjaGVkO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQdXQgaGFzaCBhbmQgYW50aS1jYWNoZSBvbiB0aGUgVVJMIHRoYXQgd2lsbCBiZSByZXF1ZXN0ZWQgKGdoLTE3MzIpXG5cdFx0XHRzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7XG5cblx0XHQvLyBDaGFuZ2UgJyUyMCcgdG8gJysnIGlmIHRoaXMgaXMgZW5jb2RlZCBmb3JtIGJvZHkgY29udGVudCAoZ2gtMjY1OClcblx0XHR9IGVsc2UgaWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJlxuXHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKS5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgKSB7XG5cdFx0XHRzLmRhdGEgPSBzLmRhdGEucmVwbGFjZSggcjIwLCBcIitcIiApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRpZiAoIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTW9kaWZpZWQtU2luY2VcIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Ob25lLU1hdGNoXCIsIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiLCBzLmNvbnRlbnRUeXBlICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZVxuXHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXG5cdFx0XHRcIkFjY2VwdFwiLFxuXHRcdFx0cy5kYXRhVHlwZXNbIDAgXSAmJiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/XG5cdFx0XHRcdHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdICtcblx0XHRcdFx0XHQoIHMuZGF0YVR5cGVzWyAwIF0gIT09IFwiKlwiID8gXCIsIFwiICsgYWxsVHlwZXMgKyBcIjsgcT0wLjAxXCIgOiBcIlwiICkgOlxuXHRcdFx0XHRzLmFjY2VwdHNbIFwiKlwiIF1cblx0XHQpO1xuXG5cdFx0Ly8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uXG5cdFx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBzLmhlYWRlcnNbIGkgXSApO1xuXHRcdH1cblxuXHRcdC8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnRcblx0XHRpZiAoIHMuYmVmb3JlU2VuZCAmJlxuXHRcdFx0KCBzLmJlZm9yZVNlbmQuY2FsbCggY2FsbGJhY2tDb250ZXh0LCBqcVhIUiwgcyApID09PSBmYWxzZSB8fCBjb21wbGV0ZWQgKSApIHtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXG5cdFx0XHRyZXR1cm4ganFYSFIuYWJvcnQoKTtcblx0XHR9XG5cblx0XHQvLyBBYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb25cblx0XHRzdHJBYm9ydCA9IFwiYWJvcnRcIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVycmVkc1xuXHRcdGNvbXBsZXRlRGVmZXJyZWQuYWRkKCBzLmNvbXBsZXRlICk7XG5cdFx0anFYSFIuZG9uZSggcy5zdWNjZXNzICk7XG5cdFx0anFYSFIuZmFpbCggcy5lcnJvciApO1xuXG5cdFx0Ly8gR2V0IHRyYW5zcG9ydFxuXHRcdHRyYW5zcG9ydCA9IGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0XG5cdFx0aWYgKCAhdHJhbnNwb3J0ICkge1xuXHRcdFx0ZG9uZSggLTEsIFwiTm8gVHJhbnNwb3J0XCIgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IDE7XG5cblx0XHRcdC8vIFNlbmQgZ2xvYmFsIGV2ZW50XG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4U2VuZFwiLCBbIGpxWEhSLCBzIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmVcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm4ganFYSFI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRpbWVvdXRcblx0XHRcdGlmICggcy5hc3luYyAmJiBzLnRpbWVvdXQgPiAwICkge1xuXHRcdFx0XHR0aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0anFYSFIuYWJvcnQoIFwidGltZW91dFwiICk7XG5cdFx0XHRcdH0sIHMudGltZW91dCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb21wbGV0ZWQgPSBmYWxzZTtcblx0XHRcdFx0dHJhbnNwb3J0LnNlbmQoIHJlcXVlc3RIZWFkZXJzLCBkb25lICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHQvLyBSZXRocm93IHBvc3QtY29tcGxldGlvbiBleGNlcHRpb25zXG5cdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHNcblx0XHRcdFx0ZG9uZSggLTEsIGUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsYmFjayBmb3Igd2hlbiBldmVyeXRoaW5nIGlzIGRvbmVcblx0XHRmdW5jdGlvbiBkb25lKCBzdGF0dXMsIG5hdGl2ZVN0YXR1c1RleHQsIHJlc3BvbnNlcywgaGVhZGVycyApIHtcblx0XHRcdHZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsXG5cdFx0XHRcdHN0YXR1c1RleHQgPSBuYXRpdmVTdGF0dXNUZXh0O1xuXG5cdFx0XHQvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb21wbGV0ZWQgPSB0cnVlO1xuXG5cdFx0XHQvLyBDbGVhciB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuXHRcdFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XG5cdFx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuXHRcdFx0Ly8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcblx0XHRcdHRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Ly8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTZXQgcmVhZHlTdGF0ZVxuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDtcblxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWxcblx0XHRcdGlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0O1xuXG5cdFx0XHQvLyBHZXQgcmVzcG9uc2UgZGF0YVxuXHRcdFx0aWYgKCByZXNwb25zZXMgKSB7XG5cdFx0XHRcdHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBVc2UgYSBub29wIGNvbnZlcnRlciBmb3IgbWlzc2luZyBzY3JpcHRcblx0XHRcdGlmICggIWlzU3VjY2VzcyAmJiBqUXVlcnkuaW5BcnJheSggXCJzY3JpcHRcIiwgcy5kYXRhVHlwZXMgKSA+IC0xICkge1xuXHRcdFx0XHRzLmNvbnZlcnRlcnNbIFwidGV4dCBzY3JpcHRcIiBdID0gZnVuY3Rpb24oKSB7fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggX2ksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGlzRnVuY3Rpb24oIGRhdGEgKSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xuXHR2YXIgaTtcblx0Zm9yICggaSBpbiBzLmhlYWRlcnMgKSB7XG5cdFx0aWYgKCBpLnRvTG93ZXJDYXNlKCkgPT09IFwiY29udGVudC10eXBlXCIgKSB7XG5cdFx0XHRzLmNvbnRlbnRUeXBlID0gcy5oZWFkZXJzWyBpIF0gfHwgXCJcIjtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsLCBvcHRpb25zLCBkb2MgKSB7XG5cdHJldHVybiBqUXVlcnkuYWpheCgge1xuXHRcdHVybDogdXJsLFxuXG5cdFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRjYWNoZTogdHJ1ZSxcblx0XHRhc3luYzogZmFsc2UsXG5cdFx0Z2xvYmFsOiBmYWxzZSxcblxuXHRcdC8vIE9ubHkgZXZhbHVhdGUgdGhlIHJlc3BvbnNlIGlmIGl0IGlzIHN1Y2Nlc3NmdWwgKGdoLTQxMjYpXG5cdFx0Ly8gZGF0YUZpbHRlciBpcyBub3QgaW52b2tlZCBmb3IgZmFpbHVyZSByZXNwb25zZXMsIHNvIHVzaW5nIGl0IGluc3RlYWRcblx0XHQvLyBvZiB0aGUgZGVmYXVsdCBjb252ZXJ0ZXIgaXMga2x1ZGd5IGJ1dCBpdCB3b3Jrcy5cblx0XHRjb252ZXJ0ZXJzOiB7XG5cdFx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCkge31cblx0XHR9LFxuXHRcdGRhdGFGaWx0ZXI6IGZ1bmN0aW9uKCByZXNwb25zZSApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCByZXNwb25zZSwgb3B0aW9ucywgZG9jICk7XG5cdFx0fVxuXHR9ICk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0XHRodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcblx0XHRcdHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50ICkuZXEoIDAgKS5jbG9uZSggdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHdyYXAubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdEVsZW1lbnRDaGlsZCApIHtcblx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSApLmFwcGVuZCggdGhpcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBodG1sSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaHRtbElzRnVuY3Rpb24gPyBodG1sLmNhbGwoIHRoaXMsIGkgKSA6IGh0bWwgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0dW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcImJvZHlcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKCBlbGVtICk7XG59O1xualF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7XG59O1xuXG5cblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2ggKCBlICkge31cbn07XG5cbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcblx0XHQwOiAyMDAsXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdC8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuXHRcdDEyMjM6IDIwNFxuXHR9LFxuXHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuXG5zdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoIFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkICk7XG5zdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHR2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7XG5cblx0Ly8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxuXHRpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBoZWFkZXJzLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0dmFyIGksXG5cdFx0XHRcdFx0eGhyID0gb3B0aW9ucy54aHIoKTtcblxuXHRcdFx0XHR4aHIub3Blbihcblx0XHRcdFx0XHRvcHRpb25zLnR5cGUsXG5cdFx0XHRcdFx0b3B0aW9ucy51cmwsXG5cdFx0XHRcdFx0b3B0aW9ucy5hc3luYyxcblx0XHRcdFx0XHRvcHRpb25zLnVzZXJuYW1lLFxuXHRcdFx0XHRcdG9wdGlvbnMucGFzc3dvcmRcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0Zm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRcdHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSApIHtcblx0XHRcdFx0XHR4aHIub3ZlcnJpZGVNaW1lVHlwZSggb3B0aW9ucy5taW1lVHlwZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcblx0XHRcdFx0Ly8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuXHRcdFx0XHQvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuXHRcdFx0XHQvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcblx0XHRcdFx0Ly8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG5cdFx0XHRcdGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSA9IFwiWE1MSHR0cFJlcXVlc3RcIjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFNldCBoZWFkZXJzXG5cdFx0XHRcdGZvciAoIGkgaW4gaGVhZGVycyApIHtcblx0XHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPVxuXHRcdFx0XHRcdFx0XHRcdHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub250aW1lb3V0ID1cblx0XHRcdFx0XHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXG5cdFx0XHRcdFx0XHRcdGlmICggdHlwZSA9PT0gXCJhYm9ydFwiICkge1xuXHRcdFx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcImVycm9yXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gY2FsbGJhY2soIFwiZXJyb3JcIiApO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHQvLyBVc2Ugb25yZWFkeXN0YXRlY2hhbmdlIHRvIHJlcGxhY2Ugb25hYm9ydFxuXHRcdFx0XHQvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzXG5cdFx0XHRcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXNcblx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWxsb3cgb25lcnJvciB0byBiZSBjYWxsZWQgZmlyc3QsXG5cdFx0XHRcdFx0XHRcdC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuXHRcdFx0XHRcdFx0XHQvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxuXHRcdFx0XHRcdFx0XHQvLyBhcyB4aHIub25lcnJvciBjYW5ub3QgYmUgYWNjZXNzZWRcblx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvckNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayggXCJhYm9ydFwiICk7XG5cblx0XHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRcdC8vIERvIHNlbmQgdGhlIHJlcXVlc3QgKHRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbilcblx0XHRcdFx0XHR4aHIuc2VuZCggb3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsICk7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gIzE0NjgzOiBPbmx5IHJldGhyb3cgaWYgdGhpcyBoYXNuJ3QgYmVlbiBub3RpZmllZCBhcyBhbiBlcnJvciB5ZXRcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKVxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTtcblx0fVxufSApO1xuXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRhY2NlcHRzOiB7XG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgXCIgK1xuXHRcdFx0XCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHR9LFxuXHRjb250ZW50czoge1xuXHRcdHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG5cdH0sXG5cdGNvbnZlcnRlcnM6IHtcblx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcblx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0fVxuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy50eXBlID0gXCJHRVRcIjtcblx0fVxufSApO1xuXG4vLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblxuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIG9yIGZvcmNlZC1ieS1hdHRycyByZXF1ZXN0c1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gfHwgcy5zY3JpcHRBdHRycyApIHtcblx0XHR2YXIgc2NyaXB0LCBjYWxsYmFjaztcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRzY3JpcHQgPSBqUXVlcnkoIFwiPHNjcmlwdD5cIiApXG5cdFx0XHRcdFx0LmF0dHIoIHMuc2NyaXB0QXR0cnMgfHwge30gKVxuXHRcdFx0XHRcdC5wcm9wKCB7IGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCwgc3JjOiBzLnVybCB9IClcblx0XHRcdFx0XHQub24oIFwibG9hZCBlcnJvclwiLCBjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UuZ3VpZCsrICkgKTtcblx0XHR0aGlzWyBjYWxsYmFjayBdID0gdHJ1ZTtcblx0XHRyZXR1cm4gY2FsbGJhY2s7XG5cdH1cbn0gKTtcblxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJqc29uIGpzb25wXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcblxuXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXG5cdFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cblx0XHRcdFwidXJsXCIgOlxuXHRcdFx0dHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApXG5cdFx0XHRcdFx0LmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCAmJlxuXHRcdFx0XHRyanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcblx0XHQpO1xuXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcblx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG5cdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0gaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgP1xuXHRcdFx0cy5qc29ucENhbGxiYWNrKCkgOlxuXHRcdFx0cy5qc29ucENhbGxiYWNrO1xuXG5cdFx0Ly8gSW5zZXJ0IGNhbGxiYWNrIGludG8gdXJsIG9yIGZvcm0gZGF0YVxuXHRcdGlmICgganNvblByb3AgKSB7XG5cdFx0XHRzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsIFwiJDFcIiArIGNhbGxiYWNrTmFtZSApO1xuXHRcdH0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkge1xuXHRcdFx0cy51cmwgKz0gKCBycXVlcnkudGVzdCggcy51cmwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuanNvbnAgKyBcIj1cIiArIGNhbGxiYWNrTmFtZTtcblx0XHR9XG5cblx0XHQvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXG5cdFx0cy5jb252ZXJ0ZXJzWyBcInNjcmlwdCBqc29uXCIgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCAhcmVzcG9uc2VDb250YWluZXIgKSB7XG5cdFx0XHRcdGpRdWVyeS5lcnJvciggY2FsbGJhY2tOYW1lICsgXCIgd2FzIG5vdCBjYWxsZWRcIiApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlQ29udGFpbmVyWyAwIF07XG5cdFx0fTtcblxuXHRcdC8vIEZvcmNlIGpzb24gZGF0YVR5cGVcblx0XHRzLmRhdGFUeXBlc1sgMCBdID0gXCJqc29uXCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrXG5cdFx0b3ZlcndyaXR0ZW4gPSB3aW5kb3dbIGNhbGxiYWNrTmFtZSBdO1xuXHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gYXJndW1lbnRzO1xuXHRcdH07XG5cblx0XHQvLyBDbGVhbi11cCBmdW5jdGlvbiAoZmlyZXMgYWZ0ZXIgY29udmVydGVycylcblx0XHRqcVhIUi5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBJZiBwcmV2aW91cyB2YWx1ZSBkaWRuJ3QgZXhpc3QgLSByZW1vdmUgaXRcblx0XHRcdGlmICggb3ZlcndyaXR0ZW4gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0alF1ZXJ5KCB3aW5kb3cgKS5yZW1vdmVQcm9wKCBjYWxsYmFja05hbWUgKTtcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2F2ZSBiYWNrIGFzIGZyZWVcblx0XHRcdGlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7XG5cblx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgcmUtdXNpbmcgdGhlIG9wdGlvbnMgZG9lc24ndCBzY3JldyB0aGluZ3MgYXJvdW5kXG5cdFx0XHRcdHMuanNvbnBDYWxsYmFjayA9IG9yaWdpbmFsU2V0dGluZ3MuanNvbnBDYWxsYmFjaztcblxuXHRcdFx0XHQvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1cmUgdXNlXG5cdFx0XHRcdG9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXG5cdFx0XHRpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGlzRnVuY3Rpb24oIG92ZXJ3cml0dGVuICkgKSB7XG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XG5cdFx0fSApO1xuXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XG5cdFx0cmV0dXJuIFwic2NyaXB0XCI7XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gU3VwcG9ydDogU2FmYXJpIDggb25seVxuLy8gSW4gU2FmYXJpIDggZG9jdW1lbnRzIGNyZWF0ZWQgdmlhIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudFxuLy8gY29sbGFwc2Ugc2libGluZyBmb3JtczogdGhlIHNlY29uZCBvbmUgYmVjb21lcyBhIGNoaWxkIG9mIHRoZSBmaXJzdCBvbmUuXG4vLyBCZWNhdXNlIG9mIHRoYXQsIHRoaXMgc2VjdXJpdHkgbWVhc3VyZSBoYXMgdG8gYmUgZGlzYWJsZWQgaW4gU2FmYXJpIDguXG4vLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3MzM3XG5zdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCA9ICggZnVuY3Rpb24oKSB7XG5cdHZhciBib2R5ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICkuYm9keTtcblx0Ym9keS5pbm5lckhUTUwgPSBcIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCI7XG5cdHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xufSApKCk7XG5cblxuLy8gQXJndW1lbnQgXCJkYXRhXCIgc2hvdWxkIGJlIHN0cmluZyBvZiBodG1sXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXG4vLyBkZWZhdWx0cyB0byBkb2N1bWVudFxuLy8ga2VlcFNjcmlwdHMgKG9wdGlvbmFsKTogSWYgdHJ1ZSwgd2lsbCBpbmNsdWRlIHNjcmlwdHMgcGFzc2VkIGluIHRoZSBodG1sIHN0cmluZ1xualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcblx0aWYgKCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0a2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuXHRcdGNvbnRleHQgPSBmYWxzZTtcblx0fVxuXG5cdHZhciBiYXNlLCBwYXJzZWQsIHNjcmlwdHM7XG5cblx0aWYgKCAhY29udGV4dCApIHtcblxuXHRcdC8vIFN0b3Agc2NyaXB0cyBvciBpbmxpbmUgZXZlbnQgaGFuZGxlcnMgZnJvbSBiZWluZyBleGVjdXRlZCBpbW1lZGlhdGVseVxuXHRcdC8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVudGF0aW9uXG5cdFx0aWYgKCBzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCApIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKTtcblxuXHRcdFx0Ly8gU2V0IHRoZSBiYXNlIGhyZWYgZm9yIHRoZSBjcmVhdGVkIGRvY3VtZW50XG5cdFx0XHQvLyBzbyBhbnkgcGFyc2VkIGVsZW1lbnRzIHdpdGggVVJMc1xuXHRcdFx0Ly8gYXJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCdzIFVSTCAoZ2gtMjk2NSlcblx0XHRcdGJhc2UgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiYmFzZVwiICk7XG5cdFx0XHRiYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuXHRcdFx0Y29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnRleHQgPSBkb2N1bWVudDtcblx0XHR9XG5cdH1cblxuXHRwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTtcblx0c2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcblxuXHQvLyBTaW5nbGUgdGFnXG5cdGlmICggcGFyc2VkICkge1xuXHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWyAxIF0gKSBdO1xuXHR9XG5cblx0cGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcblxuXHRpZiAoIHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgcGFyc2VkLmNoaWxkTm9kZXMgKTtcbn07XG5cblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0dmFyIHNlbGVjdG9yLCB0eXBlLCByZXNwb25zZSxcblx0XHRzZWxmID0gdGhpcyxcblx0XHRvZmYgPSB1cmwuaW5kZXhPZiggXCIgXCIgKTtcblxuXHRpZiAoIG9mZiA+IC0xICkge1xuXHRcdHNlbGVjdG9yID0gc3RyaXBBbmRDb2xsYXBzZSggdXJsLnNsaWNlKCBvZmYgKSApO1xuXHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XG5cdH1cblxuXHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cblx0aWYgKCBpc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHtcblxuXHRcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXG5cdFx0Y2FsbGJhY2sgPSBwYXJhbXM7XG5cdFx0cGFyYW1zID0gdW5kZWZpbmVkO1xuXG5cdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcblx0fSBlbHNlIGlmICggcGFyYW1zICYmIHR5cGVvZiBwYXJhbXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0dHlwZSA9IFwiUE9TVFwiO1xuXHR9XG5cblx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3Rcblx0aWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7XG5cdFx0alF1ZXJ5LmFqYXgoIHtcblx0XHRcdHVybDogdXJsLFxuXG5cdFx0XHQvLyBJZiBcInR5cGVcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXCJHRVRcIiBtZXRob2Qgd2lsbCBiZSB1c2VkLlxuXHRcdFx0Ly8gTWFrZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGV4cGxpY2l0IHNpbmNlXG5cdFx0XHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2Rcblx0XHRcdHR5cGU6IHR5cGUgfHwgXCJHRVRcIixcblx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdH0gKS5kb25lKCBmdW5jdGlvbiggcmVzcG9uc2VUZXh0ICkge1xuXG5cdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcblx0XHRcdHJlc3BvbnNlID0gYXJndW1lbnRzO1xuXG5cdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cblxuXHRcdFx0XHQvLyBJZiBhIHNlbGVjdG9yIHdhcyBzcGVjaWZpZWQsIGxvY2F0ZSB0aGUgcmlnaHQgZWxlbWVudHMgaW4gYSBkdW1teSBkaXZcblx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXG5cdFx0XHRcdGpRdWVyeSggXCI8ZGl2PlwiICkuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOlxuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XG5cdFx0XHRcdHJlc3BvbnNlVGV4dCApO1xuXG5cdFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXG5cdFx0Ly8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLlxuXHRcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJqcVhIUlwiLCBcInN0YXR1c1wiLCBcImVycm9yXCJcblx0XHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcblx0XHRcdHNlbGYuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5cblxuXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiBqUXVlcnkuZ3JlcCggalF1ZXJ5LnRpbWVycywgZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiBlbGVtID09PSBmbi5lbGVtO1xuXHR9ICkubGVuZ3RoO1xufTtcblxuXG5cblxualF1ZXJ5Lm9mZnNldCA9IHtcblx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcblx0XHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcblx0XHRcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcblx0XHRcdHByb3BzID0ge307XG5cblx0XHQvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG5cdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5cdFx0fVxuXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcblx0XHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcInRvcFwiICk7XG5cdFx0Y3VyQ1NTTGVmdCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwibGVmdFwiICk7XG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXG5cdFx0XHQoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRleE9mKCBcImF1dG9cIiApID4gLTE7XG5cblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxuXHRcdC8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9uIGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZFxuXHRcdGlmICggY2FsY3VsYXRlUG9zaXRpb24gKSB7XG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcblx0XHRcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcblx0XHRcdGN1ckxlZnQgPSBjdXJQb3NpdGlvbi5sZWZ0O1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cblx0XHRcdC8vIFVzZSBqUXVlcnkuZXh0ZW5kIGhlcmUgdG8gYWxsb3cgbW9kaWZpY2F0aW9uIG9mIGNvb3JkaW5hdGVzIGFyZ3VtZW50IChnaC0xODQ4KVxuXHRcdFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25zLnRvcCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcblx0XHR9XG5cdFx0aWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xuXHRcdH1cblxuXHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCB0eXBlb2YgcHJvcHMudG9wID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRwcm9wcy50b3AgKz0gXCJweFwiO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0eXBlb2YgcHJvcHMubGVmdCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0cHJvcHMubGVmdCArPSBcInB4XCI7XG5cdFx0XHR9XG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHQvLyBvZmZzZXQoKSByZWxhdGVzIGFuIGVsZW1lbnQncyBib3JkZXIgYm94IHRvIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHRcdC8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXJcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQoIHRoaXMsIG9wdGlvbnMsIGkgKTtcblx0XHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHZhciByZWN0LCB3aW4sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIChkaXNwbGF5OiBub25lKSBlbGVtZW50cyAoZ2gtMjMxMClcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG5cdFx0Ly8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG5cdFx0aWYgKCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBkb2N1bWVudC1yZWxhdGl2ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmlld3BvcnQgc2Nyb2xsIHRvIHZpZXdwb3J0LXJlbGF0aXZlIGdCQ1Jcblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR3aW4gPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQsXG5cdFx0XHRsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXRcblx0XHR9O1xuXHR9LFxuXG5cdC8vIHBvc2l0aW9uKCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgbWFyZ2luIGJveCB0byBpdHMgb2Zmc2V0IHBhcmVudCdzIHBhZGRpbmcgYm94XG5cdC8vIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIGJlaGF2aW9yIG9mIENTUyBhYnNvbHV0ZSBwb3NpdGlvbmluZ1xuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCwgZG9jLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBwb3NpdGlvbjpmaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gdGhlIHZpZXdwb3J0LCB3aGljaCBpdHNlbGYgYWx3YXlzIGhhcyB6ZXJvIG9mZnNldFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIHBvc2l0aW9uOmZpeGVkIGltcGxpZXMgYXZhaWxhYmlsaXR5IG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB0aGUgKnJlYWwqIG9mZnNldCBwYXJlbnQsIHdoaWNoIGNhbiBiZSB0aGUgZG9jdW1lbnQgb3IgaXRzIHJvb3QgZWxlbWVudFxuXHRcdFx0Ly8gd2hlbiBhIHN0YXRpY2FsbHkgcG9zaXRpb25lZCBlbGVtZW50IGlzIGlkZW50aWZpZWRcblx0XHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRcdG9mZnNldFBhcmVudCA9IGVsZW0ub2Zmc2V0UGFyZW50IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJlxuXHRcdFx0XHQoIG9mZnNldFBhcmVudCA9PT0gZG9jLmJvZHkgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2MuZG9jdW1lbnRFbGVtZW50ICkgJiZcblx0XHRcdFx0alF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblxuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGlmICggb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZWxlbSAmJiBvZmZzZXRQYXJlbnQubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgYm9yZGVycyBpbnRvIGl0cyBvZmZzZXQsIHNpbmNlIHRoZXkgYXJlIG91dHNpZGUgaXRzIGNvbnRlbnQgb3JpZ2luXG5cdFx0XHRcdHBhcmVudE9mZnNldCA9IGpRdWVyeSggb2Zmc2V0UGFyZW50ICkub2Zmc2V0KCk7XG5cdFx0XHRcdHBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlclRvcFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlckxlZnRXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgLSBwYXJlbnRPZmZzZXQudG9wIC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5Ub3BcIiwgdHJ1ZSApLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luTGVmdFwiLCB0cnVlIClcblx0XHR9O1xuXHR9LFxuXG5cdC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuXHQvLyAxKSBGb3IgdGhlIGVsZW1lbnQgaW5zaWRlIHRoZSBpZnJhbWUgd2l0aG91dCBvZmZzZXRQYXJlbnQsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuXG5cdC8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvd1xuXHQvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XG5cdC8vIDMpIEZvciBib2R5IG9yIGh0bWwgZWxlbWVudCwgaS5lLiBpbiBjYXNlIG9mIHRoZSBodG1sIG5vZGUgLSBpdCB3aWxsIHJldHVybiBpdHNlbGZcblx0Ly9cblx0Ly8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXG5cdC8vIGFuZCBtaWdodCBiZSBjb25zaWRlcmVkIGFzIG1vcmUgcHJlZmVyYWJsZSByZXN1bHRzLlxuXHQvL1xuXHQvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxuXHRvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XG5cblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0dmFyIHRvcCA9IFwicGFnZVlPZmZzZXRcIiA9PT0gcHJvcDtcblxuXHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7XG5cblx0XHRcdC8vIENvYWxlc2NlIGRvY3VtZW50cyBhbmQgd2luZG93c1xuXHRcdFx0dmFyIHdpbjtcblx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XHRcdFx0d2luID0gZWxlbTtcblx0XHRcdH0gZWxzZSBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH07XG59ICk7XG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcbi8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBfaSwgcHJvcCApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcblx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0XHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xuXG5cdFx0XHRcdC8vIElmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxuXHRcdFx0XHRyZXR1cm4gcm51bW5vbnB4LnRlc3QoIGNvbXB1dGVkICkgP1xuXHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XG5cdFx0XHRcdFx0Y29tcHV0ZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xufSApO1xuXG5cbi8vIENyZWF0ZSBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgaGVpZ2h0LCB3aWR0aCwgb3V0ZXJIZWlnaHQgYW5kIG91dGVyV2lkdGggbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkge1xuXHRqUXVlcnkuZWFjaCggeyBwYWRkaW5nOiBcImlubmVyXCIgKyBuYW1lLCBjb250ZW50OiB0eXBlLCBcIlwiOiBcIm91dGVyXCIgKyBuYW1lIH0sXG5cdFx0ZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XG5cblx0XHQvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcblx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZG9jO1xuXG5cdFx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vICQoIHdpbmRvdyApLm91dGVyV2lkdGgvSGVpZ2h0IHJldHVybiB3L2ggaW5jbHVkaW5nIHNjcm9sbGJhcnMgKGdoLTE3MjkpXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoIFwib3V0ZXJcIiApID09PSAwID9cblx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XG5cdFx0XHRcdFx0XHRlbGVtLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsgXCJjbGllbnRcIiArIG5hbWUgXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEdldCBkb2N1bWVudCB3aWR0aCBvciBoZWlnaHRcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdFx0Ly8gRWl0aGVyIHNjcm9sbFtXaWR0aC9IZWlnaHRdIG9yIG9mZnNldFtXaWR0aC9IZWlnaHRdIG9yIGNsaWVudFtXaWR0aC9IZWlnaHRdLFxuXHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxuXHRcdFx0XHRcdHJldHVybiBNYXRoLm1heChcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJzY3JvbGxcIiArIG5hbWUgXSwgZG9jWyBcInNjcm9sbFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRkb2NbIFwiY2xpZW50XCIgKyBuYW1lIF1cblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xuXG5cdFx0XHRcdFx0Ly8gR2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdFxuXHRcdFx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIHR5cGUsIGV4dHJhICkgOlxuXG5cdFx0XHRcdFx0Ly8gU2V0IHdpZHRoIG9yIGhlaWdodCBvbiB0aGUgZWxlbWVudFxuXHRcdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwgdmFsdWUsIGV4dHJhICk7XG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xuXHRcdH07XG5cdH0gKTtcbn0gKTtcblxuXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggX2ksIHR5cGUgKSB7XG5cdGpRdWVyeS5mblsgdHlwZSBdID0gZnVuY3Rpb24oIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApO1xuXHR9O1xufSApO1xuXG5cblxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuYmluZDogZnVuY3Rpb24oIHR5cGVzLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xuXHR9LFxuXG5cdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcblxuXHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XG5cdFx0XHR0aGlzLm9mZiggc2VsZWN0b3IsIFwiKipcIiApIDpcblx0XHRcdHRoaXMub2ZmKCB0eXBlcywgc2VsZWN0b3IgfHwgXCIqKlwiLCBmbiApO1xuXHR9LFxuXG5cdGhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggKCBcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFwiICtcblx0XCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcIiArXG5cdFwiY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudVwiICkuc3BsaXQoIFwiIFwiICksXG5cdGZ1bmN0aW9uKCBfaSwgbmFtZSApIHtcblxuXHRcdC8vIEhhbmRsZSBldmVudCBiaW5kaW5nXG5cdFx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0XHR0aGlzLm9uKCBuYW1lLCBudWxsLCBkYXRhLCBmbiApIDpcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdFx0fTtcblx0fSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcbi8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxudmFyIHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nO1xuXG4vLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcbi8vIGFyZ3VtZW50cy5cbi8vIGpRdWVyeS5wcm94eSBpcyBkZXByZWNhdGVkIHRvIHByb21vdGUgc3RhbmRhcmRzIChzcGVjaWZpY2FsbHkgRnVuY3Rpb24jYmluZClcbi8vIEhvd2V2ZXIsIGl0IGlzIG5vdCBzbGF0ZWQgZm9yIHJlbW92YWwgYW55IHRpbWUgc29vblxualF1ZXJ5LnByb3h5ID0gZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuXHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0Y29udGV4dCA9IGZuO1xuXHRcdGZuID0gdG1wO1xuXHR9XG5cblx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0aWYgKCAhaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHR9O1xuXG5cdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRyZXR1cm4gcHJveHk7XG59O1xuXG5qUXVlcnkuaG9sZFJlYWR5ID0gZnVuY3Rpb24oIGhvbGQgKSB7XG5cdGlmICggaG9sZCApIHtcblx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XG5cdH1cbn07XG5qUXVlcnkuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5qUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTtcbmpRdWVyeS5ub2RlTmFtZSA9IG5vZGVOYW1lO1xualF1ZXJ5LmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xualF1ZXJ5LmlzV2luZG93ID0gaXNXaW5kb3c7XG5qUXVlcnkuY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xualF1ZXJ5LnR5cGUgPSB0b1R5cGU7XG5cbmpRdWVyeS5ub3cgPSBEYXRlLm5vdztcblxualF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0Ly8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cblx0Ly8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxuXHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblx0cmV0dXJuICggdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcInN0cmluZ1wiICkgJiZcblxuXHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHQvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU5cblx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG59O1xuXG5qUXVlcnkudHJpbSA9IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcIlwiIDpcblx0XHQoIHRleHQgKyBcIlwiICkucmVwbGFjZSggcnRyaW0sIFwiXCIgKTtcbn07XG5cblxuXG4vLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcbn1cblxuXG5cblxudmFyXG5cblx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXG5cdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF8kID0gd2luZG93LiQ7XG5cbmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cuJCA9IF8kO1xuXHR9XG5cblx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnk7XG59O1xuXG4vLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuLy8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KVxuaWYgKCB0eXBlb2Ygbm9HbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5cblxucmV0dXJuIGpRdWVyeTtcbn0gKTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuS290bGluUGxheWdyb3VuZD1lKCk6dC5Lb3RsaW5QbGF5Z3JvdW5kPWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4ocil7aWYoZVtyXSlyZXR1cm4gZVtyXS5leHBvcnRzO3ZhciBpPWVbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiB0W3JdLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUscil7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQocixpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiByfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MTYyKX0oW2Z1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgdD1uYXZpZ2F0b3IudXNlckFnZW50LGU9bmF2aWdhdG9yLnBsYXRmb3JtLG49L2dlY2tvXFwvXFxkL2kudGVzdCh0KSxyPS9NU0lFIFxcZC8udGVzdCh0KSxpPS9UcmlkZW50XFwvKD86WzctOV18XFxkezIsfSlcXC4uKnJ2OihcXGQrKS8uZXhlYyh0KSxvPS9FZGdlXFwvKFxcZCspLy5leGVjKHQpLGE9cnx8aXx8byxzPWEmJihyP2RvY3VtZW50LmRvY3VtZW50TW9kZXx8NjorKG98fGkpWzFdKSxsPSFvJiYvV2ViS2l0XFwvLy50ZXN0KHQpLGM9bCYmL1F0XFwvXFxkK1xcLlxcZCsvLnRlc3QodCksdT0hbyYmL0Nocm9tZVxcLy8udGVzdCh0KSxmPS9PcGVyYVxcLy8udGVzdCh0KSxkPS9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxoPS9NYWMgT1MgWCAxXFxkXFxEKFs4LTldfFxcZFxcZClcXEQvLnRlc3QodCkscD0vUGhhbnRvbUpTLy50ZXN0KHQpLG09IW8mJi9BcHBsZVdlYktpdC8udGVzdCh0KSYmL01vYmlsZVxcL1xcdysvLnRlc3QodCksZz0vQW5kcm9pZC8udGVzdCh0KSx2PW18fGd8fC93ZWJPU3xCbGFja0JlcnJ5fE9wZXJhIE1pbml8T3BlcmEgTW9iaXxJRU1vYmlsZS9pLnRlc3QodCkseT1tfHwvTWFjLy50ZXN0KGUpLGI9L1xcYkNyT1NcXGIvLnRlc3QodCkseD0vd2luL2kudGVzdChlKSx3PWYmJnQubWF0Y2goL1ZlcnNpb25cXC8oXFxkKlxcLlxcZCopLyk7dyYmKHc9TnVtYmVyKHdbMV0pKSx3JiZ3Pj0xNSYmKGY9ITEsbD0hMCk7dmFyIEM9eSYmKGN8fGYmJihudWxsPT13fHx3PDEyLjExKSksaz1ufHxhJiZzPj05O2Z1bmN0aW9uIF8odCl7cmV0dXJuIG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIit0K1wiKD86JHxcXFxccylcXFxccypcIil9dmFyIFMsRT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY2xhc3NOYW1lLHI9XyhlKS5leGVjKG4pO2lmKHIpe3ZhciBpPW4uc2xpY2Uoci5pbmRleCtyWzBdLmxlbmd0aCk7dC5jbGFzc05hbWU9bi5zbGljZSgwLHIuaW5kZXgpKyhpP3JbMV0raTpcIlwiKX19O2Z1bmN0aW9uIFQodCl7Zm9yKHZhciBlPXQuY2hpbGROb2Rlcy5sZW5ndGg7ZT4wOy0tZSl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7cmV0dXJuIHR9ZnVuY3Rpb24gTyh0LGUpe3JldHVybiBUKHQpLmFwcGVuZENoaWxkKGUpfWZ1bmN0aW9uIE0odCxlLG4scil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KTtpZihuJiYoaS5jbGFzc05hbWU9biksciYmKGkuc3R5bGUuY3NzVGV4dD1yKSxcInN0cmluZ1wiPT10eXBlb2YgZSlpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKTtlbHNlIGlmKGUpZm9yKHZhciBvPTA7bzxlLmxlbmd0aDsrK28paS5hcHBlbmRDaGlsZChlW29dKTtyZXR1cm4gaX1mdW5jdGlvbiBMKHQsZSxuLHIpe3ZhciBpPU0odCxlLG4scik7cmV0dXJuIGkuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicHJlc2VudGF0aW9uXCIpLGl9ZnVuY3Rpb24gQSh0LGUpe2lmKDM9PWUubm9kZVR5cGUmJihlPWUucGFyZW50Tm9kZSksdC5jb250YWlucylyZXR1cm4gdC5jb250YWlucyhlKTtkb3tpZigxMT09ZS5ub2RlVHlwZSYmKGU9ZS5ob3N0KSxlPT10KXJldHVybiEwfXdoaWxlKGU9ZS5wYXJlbnROb2RlKX1mdW5jdGlvbiBOKCl7dmFyIHQ7dHJ5e3Q9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt0PWRvY3VtZW50LmJvZHl8fG51bGx9Zm9yKDt0JiZ0LnNoYWRvd1Jvb3QmJnQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50Oyl0PXQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50O3JldHVybiB0fWZ1bmN0aW9uIFAodCxlKXt2YXIgbj10LmNsYXNzTmFtZTtfKGUpLnRlc3Qobil8fCh0LmNsYXNzTmFtZSs9KG4/XCIgXCI6XCJcIikrZSl9ZnVuY3Rpb24gRih0LGUpe2Zvcih2YXIgbj10LnNwbGl0KFwiIFwiKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXSYmIV8obltyXSkudGVzdChlKSYmKGUrPVwiIFwiK25bcl0pO3JldHVybiBlfVM9ZG9jdW1lbnQuY3JlYXRlUmFuZ2U/ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gaS5zZXRFbmQocnx8dCxuKSxpLnNldFN0YXJ0KHQsZSksaX06ZnVuY3Rpb24odCxlLG4pe3ZhciByPWRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e3IubW92ZVRvRWxlbWVudFRleHQodC5wYXJlbnROb2RlKX1jYXRjaCh0KXtyZXR1cm4gcn1yZXR1cm4gci5jb2xsYXBzZSghMCksci5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsbiksci5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIixlKSxyfTt2YXIgST1mdW5jdGlvbih0KXt0LnNlbGVjdCgpfTtmdW5jdGlvbiBqKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShudWxsLGUpfX1mdW5jdGlvbiBEKHQsZSxuKXtmb3IodmFyIHIgaW4gZXx8KGU9e30pLHQpIXQuaGFzT3duUHJvcGVydHkocil8fCExPT09biYmZS5oYXNPd25Qcm9wZXJ0eShyKXx8KGVbcl09dFtyXSk7cmV0dXJuIGV9ZnVuY3Rpb24geih0LGUsbixyLGkpe251bGw9PWUmJi0xPT0oZT10LnNlYXJjaCgvW15cXHNcXHUwMGEwXS8pKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbz1yfHwwLGE9aXx8MDs7KXt2YXIgcz10LmluZGV4T2YoXCJcXHRcIixvKTtpZihzPDB8fHM+PWUpcmV0dXJuIGErKGUtbyk7YSs9cy1vLGErPW4tYSVuLG89cysxfX1tP0k9ZnVuY3Rpb24odCl7dC5zZWxlY3Rpb25TdGFydD0wLHQuc2VsZWN0aW9uRW5kPXQudmFsdWUubGVuZ3RofTphJiYoST1mdW5jdGlvbih0KXt0cnl7dC5zZWxlY3QoKX1jYXRjaCh0KXt9fSk7dmFyIFI9ZnVuY3Rpb24oKXt0aGlzLmlkPW51bGx9O2Z1bmN0aW9uIEIodCxlKXtmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbilpZih0W25dPT1lKXJldHVybiBuO3JldHVybi0xfVIucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe2NsZWFyVGltZW91dCh0aGlzLmlkKSx0aGlzLmlkPXNldFRpbWVvdXQoZSx0KX07dmFyIEg9MzAsVz17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIkNvZGVNaXJyb3IuUGFzc1wifX0sVT17c2Nyb2xsOiExfSxWPXtvcmlnaW46XCIqbW91c2VcIn0sRz17b3JpZ2luOlwiK21vdmVcIn07ZnVuY3Rpb24gSyh0LGUsbil7Zm9yKHZhciByPTAsaT0wOzspe3ZhciBvPXQuaW5kZXhPZihcIlxcdFwiLHIpOy0xPT1vJiYobz10Lmxlbmd0aCk7dmFyIGE9by1yO2lmKG89PXQubGVuZ3RofHxpK2E+PWUpcmV0dXJuIHIrTWF0aC5taW4oYSxlLWkpO2lmKGkrPW8tcixyPW8rMSwoaSs9bi1pJW4pPj1lKXJldHVybiByfX12YXIgJD1bXCJcIl07ZnVuY3Rpb24gcSh0KXtmb3IoOyQubGVuZ3RoPD10OykkLnB1c2goWSgkKStcIiBcIik7cmV0dXJuICRbdF19ZnVuY3Rpb24gWSh0KXtyZXR1cm4gdFt0Lmxlbmd0aC0xXX1mdW5jdGlvbiBKKHQsZSl7Zm9yKHZhciBuPVtdLHI9MDtyPHQubGVuZ3RoO3IrKyluW3JdPWUodFtyXSxyKTtyZXR1cm4gbn1mdW5jdGlvbiBYKCl7fWZ1bmN0aW9uIFoodCxlKXt2YXIgbjtyZXR1cm4gT2JqZWN0LmNyZWF0ZT9uPU9iamVjdC5jcmVhdGUodCk6KFgucHJvdG90eXBlPXQsbj1uZXcgWCksZSYmRChlLG4pLG59dmFyIFE9L1tcXHUwMGRmXFx1MDU4N1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTMwNDAtXFx1MzA5ZlxcdTMwYTAtXFx1MzBmZlxcdTM0MDAtXFx1NGRiNVxcdTRlMDAtXFx1OWZjY1xcdWFjMDAtXFx1ZDdhZl0vO2Z1bmN0aW9uIHR0KHQpe3JldHVybi9cXHcvLnRlc3QodCl8fHQ+XCLCgFwiJiYodC50b1VwcGVyQ2FzZSgpIT10LnRvTG93ZXJDYXNlKCl8fFEudGVzdCh0KSl9ZnVuY3Rpb24gZXQodCxlKXtyZXR1cm4gZT8hIShlLnNvdXJjZS5pbmRleE9mKFwiXFxcXHdcIik+LTEmJnR0KHQpKXx8ZS50ZXN0KHQpOnR0KHQpfWZ1bmN0aW9uIG50KHQpe2Zvcih2YXIgZSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoZSkmJnRbZV0pcmV0dXJuITE7cmV0dXJuITB9dmFyIHJ0PS9bXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDY0Yi1cXHUwNjVlXFx1MDY3MFxcdTA2ZDYtXFx1MDZkY1xcdTA2ZGUtXFx1MDZlNFxcdTA2ZTdcXHUwNmU4XFx1MDZlYS1cXHUwNmVkXFx1MDcxMVxcdTA3MzAtXFx1MDc0YVxcdTA3YTYtXFx1MDdiMFxcdTA3ZWItXFx1MDdmM1xcdTA4MTYtXFx1MDgxOVxcdTA4MWItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyZFxcdTA5MDAtXFx1MDkwMlxcdTA5M2NcXHUwOTQxLVxcdTA5NDhcXHUwOTRkXFx1MDk1MS1cXHUwOTU1XFx1MDk2MlxcdTA5NjNcXHUwOTgxXFx1MDliY1xcdTA5YmVcXHUwOWMxLVxcdTA5YzRcXHUwOWNkXFx1MDlkN1xcdTA5ZTJcXHUwOWUzXFx1MGEwMVxcdTBhMDJcXHUwYTNjXFx1MGE0MVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTcwXFx1MGE3MVxcdTBhNzVcXHUwYTgxXFx1MGE4MlxcdTBhYmNcXHUwYWMxLVxcdTBhYzVcXHUwYWM3XFx1MGFjOFxcdTBhY2RcXHUwYWUyXFx1MGFlM1xcdTBiMDFcXHUwYjNjXFx1MGIzZVxcdTBiM2ZcXHUwYjQxLVxcdTBiNDRcXHUwYjRkXFx1MGI1NlxcdTBiNTdcXHUwYjYyXFx1MGI2M1xcdTBiODJcXHUwYmJlXFx1MGJjMFxcdTBiY2RcXHUwYmQ3XFx1MGMzZS1cXHUwYzQwXFx1MGM0Ni1cXHUwYzQ4XFx1MGM0YS1cXHUwYzRkXFx1MGM1NVxcdTBjNTZcXHUwYzYyXFx1MGM2M1xcdTBjYmNcXHUwY2JmXFx1MGNjMlxcdTBjYzZcXHUwY2NjXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMlxcdTBjZTNcXHUwZDNlXFx1MGQ0MS1cXHUwZDQ0XFx1MGQ0ZFxcdTBkNTdcXHUwZDYyXFx1MGQ2M1xcdTBkY2FcXHUwZGNmXFx1MGRkMi1cXHUwZGQ0XFx1MGRkNlxcdTBkZGZcXHUwZTMxXFx1MGUzNC1cXHUwZTNhXFx1MGU0Ny1cXHUwZTRlXFx1MGViMVxcdTBlYjQtXFx1MGViOVxcdTBlYmJcXHUwZWJjXFx1MGVjOC1cXHUwZWNkXFx1MGYxOFxcdTBmMTlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjcxLVxcdTBmN2VcXHUwZjgwLVxcdTBmODRcXHUwZjg2XFx1MGY4N1xcdTBmOTAtXFx1MGY5N1xcdTBmOTktXFx1MGZiY1xcdTBmYzZcXHUxMDJkLVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzYVxcdTEwM2RcXHUxMDNlXFx1MTA1OFxcdTEwNTlcXHUxMDVlLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhkXFx1MTA5ZFxcdTEzNWZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdiNy1cXHUxN2JkXFx1MTdjNlxcdTE3YzktXFx1MTdkM1xcdTE3ZGRcXHUxODBiLVxcdTE4MGRcXHUxOGE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNiXFx1MWExN1xcdTFhMThcXHUxYTU2XFx1MWE1OC1cXHUxYTVlXFx1MWE2MFxcdTFhNjJcXHUxYTY1LVxcdTFhNmNcXHUxYTczLVxcdTFhN2NcXHUxYTdmXFx1MWIwMC1cXHUxYjAzXFx1MWIzNFxcdTFiMzYtXFx1MWIzYVxcdTFiM2NcXHUxYjQyXFx1MWI2Yi1cXHUxYjczXFx1MWI4MFxcdTFiODFcXHUxYmEyLVxcdTFiYTVcXHUxYmE4XFx1MWJhOVxcdTFjMmMtXFx1MWMzM1xcdTFjMzZcXHUxYzM3XFx1MWNkMC1cXHUxY2QyXFx1MWNkNC1cXHUxY2UwXFx1MWNlMi1cXHUxY2U4XFx1MWNlZFxcdTFkYzAtXFx1MWRlNlxcdTFkZmQtXFx1MWRmZlxcdTIwMGNcXHUyMDBkXFx1MjBkMC1cXHUyMGYwXFx1MmNlZi1cXHUyY2YxXFx1MmRlMC1cXHUyZGZmXFx1MzAyYS1cXHUzMDJmXFx1MzA5OVxcdTMwOWFcXHVhNjZmLVxcdWE2NzJcXHVhNjdjXFx1YTY3ZFxcdWE2ZjBcXHVhNmYxXFx1YTgwMlxcdWE4MDZcXHVhODBiXFx1YTgyNVxcdWE4MjZcXHVhOGM0XFx1YThlMC1cXHVhOGYxXFx1YTkyNi1cXHVhOTJkXFx1YTk0Ny1cXHVhOTUxXFx1YTk4MC1cXHVhOTgyXFx1YTliM1xcdWE5YjYtXFx1YTliOVxcdWE5YmNcXHVhYTI5LVxcdWFhMmVcXHVhYTMxXFx1YWEzMlxcdWFhMzVcXHVhYTM2XFx1YWE0M1xcdWFhNGNcXHVhYWIwXFx1YWFiMi1cXHVhYWI0XFx1YWFiN1xcdWFhYjhcXHVhYWJlXFx1YWFiZlxcdWFhYzFcXHVhYmU1XFx1YWJlOFxcdWFiZWRcXHVkYzAwLVxcdWRmZmZcXHVmYjFlXFx1ZmUwMC1cXHVmZTBmXFx1ZmUyMC1cXHVmZTI2XFx1ZmY5ZVxcdWZmOWZdLztmdW5jdGlvbiBpdCh0KXtyZXR1cm4gdC5jaGFyQ29kZUF0KDApPj03NjgmJnJ0LnRlc3QodCl9ZnVuY3Rpb24gb3QodCxlLG4pe2Zvcig7KG48MD9lPjA6ZTx0Lmxlbmd0aCkmJml0KHQuY2hhckF0KGUpKTspZSs9bjtyZXR1cm4gZX1mdW5jdGlvbiBhdCh0LGUsbil7Zm9yKHZhciByPWU+bj8tMToxOzspe2lmKGU9PW4pcmV0dXJuIGU7dmFyIGk9KGUrbikvMixvPXI8MD9NYXRoLmNlaWwoaSk6TWF0aC5mbG9vcihpKTtpZihvPT1lKXJldHVybiB0KG8pP2U6bjt0KG8pP249bzplPW8rcn19dmFyIHN0PW51bGw7ZnVuY3Rpb24gbHQodCxlLG4pe3ZhciByO3N0PW51bGw7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDsrK2kpe3ZhciBvPXRbaV07aWYoby5mcm9tPGUmJm8udG8+ZSlyZXR1cm4gaTtvLnRvPT1lJiYoby5mcm9tIT1vLnRvJiZcImJlZm9yZVwiPT1uP3I9aTpzdD1pKSxvLmZyb209PWUmJihvLmZyb20hPW8udG8mJlwiYmVmb3JlXCIhPW4/cj1pOnN0PWkpfXJldHVybiBudWxsIT1yP3I6c3R9dmFyIGN0PWZ1bmN0aW9uKCl7dmFyIHQ9XCJiYmJiYmJiYmJ0c3R3c2JiYmJiYmJiYmJiYmJic3NzdHdOTiUlJU5OTk5OTixOLE4xMTExMTExMTExTk5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OYmJiYmJic2JiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiLE4lJSUlTk5OTkxOTk5OTiUlMTFOTE5OTjFMTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTE5MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTlwiLGU9XCJubm5ubm5OTnIlJXIsck5ObW1tbW1tbW1tbW1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJtbW1tbW1tbW1tbW1tbW1tbW1tbW1ubm5ubm5ubm5uJW5ucnJybXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW5ObW1tbW1tcnJtbU5tbW1tcnIxMTExMTExMTExXCI7dmFyIG49L1tcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUwNzAwLVxcdTA4YWNdLyxyPS9bc3R3Tl0vLGk9L1tMUnJdLyxvPS9bTGIxbl0vLGE9L1sxbl0vO2Z1bmN0aW9uIHModCxlLG4pe3RoaXMubGV2ZWw9dCx0aGlzLmZyb209ZSx0aGlzLnRvPW59cmV0dXJuIGZ1bmN0aW9uKGwsYyl7dmFyIHUsZj1cImx0clwiPT1jP1wiTFwiOlwiUlwiO2lmKDA9PWwubGVuZ3RofHxcImx0clwiPT1jJiYhbi50ZXN0KGwpKXJldHVybiExO2Zvcih2YXIgZD1sLmxlbmd0aCxoPVtdLHA9MDtwPGQ7KytwKWgucHVzaCgodT1sLmNoYXJDb2RlQXQocCkpPD0yNDc/dC5jaGFyQXQodSk6MTQyNDw9dSYmdTw9MTUyND9cIlJcIjoxNTM2PD11JiZ1PD0xNzg1P2UuY2hhckF0KHUtMTUzNik6MTc3NDw9dSYmdTw9MjIyMD9cInJcIjo4MTkyPD11JiZ1PD04MjAzP1wid1wiOjgyMDQ9PXU/XCJiXCI6XCJMXCIpO2Zvcih2YXIgbT0wLGc9ZjttPGQ7KyttKXt2YXIgdj1oW21dO1wibVwiPT12P2hbbV09ZzpnPXZ9Zm9yKHZhciB5PTAsYj1mO3k8ZDsrK3kpe3ZhciB4PWhbeV07XCIxXCI9PXgmJlwiclwiPT1iP2hbeV09XCJuXCI6aS50ZXN0KHgpJiYoYj14LFwiclwiPT14JiYoaFt5XT1cIlJcIikpfWZvcih2YXIgdz0xLEM9aFswXTt3PGQtMTsrK3cpe3ZhciBrPWhbd107XCIrXCI9PWsmJlwiMVwiPT1DJiZcIjFcIj09aFt3KzFdP2hbd109XCIxXCI6XCIsXCIhPWt8fEMhPWhbdysxXXx8XCIxXCIhPUMmJlwiblwiIT1DfHwoaFt3XT1DKSxDPWt9Zm9yKHZhciBfPTA7XzxkOysrXyl7dmFyIFM9aFtfXTtpZihcIixcIj09UyloW19dPVwiTlwiO2Vsc2UgaWYoXCIlXCI9PVMpe3ZhciBFPXZvaWQgMDtmb3IoRT1fKzE7RTxkJiZcIiVcIj09aFtFXTsrK0UpO2Zvcih2YXIgVD1fJiZcIiFcIj09aFtfLTFdfHxFPGQmJlwiMVwiPT1oW0VdP1wiMVwiOlwiTlwiLE89XztPPEU7KytPKWhbT109VDtfPUUtMX19Zm9yKHZhciBNPTAsTD1mO008ZDsrK00pe3ZhciBBPWhbTV07XCJMXCI9PUwmJlwiMVwiPT1BP2hbTV09XCJMXCI6aS50ZXN0KEEpJiYoTD1BKX1mb3IodmFyIE49MDtOPGQ7KytOKWlmKHIudGVzdChoW05dKSl7dmFyIFA9dm9pZCAwO2ZvcihQPU4rMTtQPGQmJnIudGVzdChoW1BdKTsrK1ApO2Zvcih2YXIgRj1cIkxcIj09KE4/aFtOLTFdOmYpLEk9XCJMXCI9PShQPGQ/aFtQXTpmKSxqPUY9PUk/Rj9cIkxcIjpcIlJcIjpmLEQ9TjtEPFA7KytEKWhbRF09ajtOPVAtMX1mb3IodmFyIHosUj1bXSxCPTA7QjxkOylpZihvLnRlc3QoaFtCXSkpe3ZhciBIPUI7Zm9yKCsrQjtCPGQmJm8udGVzdChoW0JdKTsrK0IpO1IucHVzaChuZXcgcygwLEgsQikpfWVsc2V7dmFyIFc9QixVPVIubGVuZ3RoO2ZvcigrK0I7QjxkJiZcIkxcIiE9aFtCXTsrK0IpO2Zvcih2YXIgVj1XO1Y8QjspaWYoYS50ZXN0KGhbVl0pKXtXPFYmJlIuc3BsaWNlKFUsMCxuZXcgcygxLFcsVikpO3ZhciBHPVY7Zm9yKCsrVjtWPEImJmEudGVzdChoW1ZdKTsrK1YpO1Iuc3BsaWNlKFUsMCxuZXcgcygyLEcsVikpLFc9Vn1lbHNlKytWO1c8QiYmUi5zcGxpY2UoVSwwLG5ldyBzKDEsVyxCKSl9cmV0dXJuXCJsdHJcIj09YyYmKDE9PVJbMF0ubGV2ZWwmJih6PWwubWF0Y2goL15cXHMrLykpJiYoUlswXS5mcm9tPXpbMF0ubGVuZ3RoLFIudW5zaGlmdChuZXcgcygwLDAselswXS5sZW5ndGgpKSksMT09WShSKS5sZXZlbCYmKHo9bC5tYXRjaCgvXFxzKyQvKSkmJihZKFIpLnRvLT16WzBdLmxlbmd0aCxSLnB1c2gobmV3IHMoMCxkLXpbMF0ubGVuZ3RoLGQpKSkpLFwicnRsXCI9PWM/Ui5yZXZlcnNlKCk6Un19KCk7ZnVuY3Rpb24gdXQodCxlKXt2YXIgbj10Lm9yZGVyO3JldHVybiBudWxsPT1uJiYobj10Lm9yZGVyPWN0KHQudGV4dCxlKSksbn12YXIgZnQ9W10sZHQ9ZnVuY3Rpb24odCxlLG4pe2lmKHQuYWRkRXZlbnRMaXN0ZW5lcil0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKTtlbHNlIGlmKHQuYXR0YWNoRXZlbnQpdC5hdHRhY2hFdmVudChcIm9uXCIrZSxuKTtlbHNle3ZhciByPXQuX2hhbmRsZXJzfHwodC5faGFuZGxlcnM9e30pO3JbZV09KHJbZV18fGZ0KS5jb25jYXQobil9fTtmdW5jdGlvbiBodCh0LGUpe3JldHVybiB0Ll9oYW5kbGVycyYmdC5faGFuZGxlcnNbZV18fGZ0fWZ1bmN0aW9uIHB0KHQsZSxuKXtpZih0LnJlbW92ZUV2ZW50TGlzdGVuZXIpdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbiwhMSk7ZWxzZSBpZih0LmRldGFjaEV2ZW50KXQuZGV0YWNoRXZlbnQoXCJvblwiK2Usbik7ZWxzZXt2YXIgcj10Ll9oYW5kbGVycyxpPXImJnJbZV07aWYoaSl7dmFyIG89QihpLG4pO28+LTEmJihyW2VdPWkuc2xpY2UoMCxvKS5jb25jYXQoaS5zbGljZShvKzEpKSl9fX1mdW5jdGlvbiBtdCh0LGUpe3ZhciBuPWh0KHQsZSk7aWYobi5sZW5ndGgpZm9yKHZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxpPTA7aTxuLmxlbmd0aDsrK2kpbltpXS5hcHBseShudWxsLHIpfWZ1bmN0aW9uIGd0KHQsZSxuKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e3R5cGU6ZSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH19KSxtdCh0LG58fGUudHlwZSx0LGUpLEN0KGUpfHxlLmNvZGVtaXJyb3JJZ25vcmV9ZnVuY3Rpb24gdnQodCl7dmFyIGU9dC5faGFuZGxlcnMmJnQuX2hhbmRsZXJzLmN1cnNvckFjdGl2aXR5O2lmKGUpZm9yKHZhciBuPXQuY3VyT3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVyc3x8KHQuY3VyT3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVycz1bXSkscj0wO3I8ZS5sZW5ndGg7KytyKS0xPT1CKG4sZVtyXSkmJm4ucHVzaChlW3JdKX1mdW5jdGlvbiB5dCh0LGUpe3JldHVybiBodCh0LGUpLmxlbmd0aD4wfWZ1bmN0aW9uIGJ0KHQpe3QucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSl7ZHQodGhpcyx0LGUpfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXtwdCh0aGlzLHQsZSl9fWZ1bmN0aW9uIHh0KHQpe3QucHJldmVudERlZmF1bHQ/dC5wcmV2ZW50RGVmYXVsdCgpOnQucmV0dXJuVmFsdWU9ITF9ZnVuY3Rpb24gd3QodCl7dC5zdG9wUHJvcGFnYXRpb24/dC5zdG9wUHJvcGFnYXRpb24oKTp0LmNhbmNlbEJ1YmJsZT0hMH1mdW5jdGlvbiBDdCh0KXtyZXR1cm4gbnVsbCE9dC5kZWZhdWx0UHJldmVudGVkP3QuZGVmYXVsdFByZXZlbnRlZDowPT10LnJldHVyblZhbHVlfWZ1bmN0aW9uIGt0KHQpe3h0KHQpLHd0KHQpfWZ1bmN0aW9uIF90KHQpe3JldHVybiB0LnRhcmdldHx8dC5zcmNFbGVtZW50fWZ1bmN0aW9uIFN0KHQpe3ZhciBlPXQud2hpY2g7cmV0dXJuIG51bGw9PWUmJigxJnQuYnV0dG9uP2U9MToyJnQuYnV0dG9uP2U9Mzo0JnQuYnV0dG9uJiYoZT0yKSkseSYmdC5jdHJsS2V5JiYxPT1lJiYoZT0zKSxlfXZhciBFdCxUdCxPdD1mdW5jdGlvbigpe2lmKGEmJnM8OSlyZXR1cm4hMTt2YXIgdD1NKFwiZGl2XCIpO3JldHVyblwiZHJhZ2dhYmxlXCJpbiB0fHxcImRyYWdEcm9wXCJpbiB0fSgpO2Z1bmN0aW9uIE10KHQpe2lmKG51bGw9PUV0KXt2YXIgZT1NKFwic3BhblwiLFwi4oCLXCIpO08odCxNKFwic3BhblwiLFtlLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKV0pKSwwIT10LmZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0JiYoRXQ9ZS5vZmZzZXRXaWR0aDw9MSYmZS5vZmZzZXRIZWlnaHQ+MiYmIShhJiZzPDgpKX12YXIgbj1FdD9NKFwic3BhblwiLFwi4oCLXCIpOk0oXCJzcGFuXCIsXCLCoFwiLG51bGwsXCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiAxcHg7IG1hcmdpbi1yaWdodDogLTFweFwiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIsXCJcIiksbn1mdW5jdGlvbiBMdCh0KXtpZihudWxsIT1UdClyZXR1cm4gVHQ7dmFyIGU9Tyh0LGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQdiuQVwiKSksbj1TKGUsMCwxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPVMoZSwxLDIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBUKHQpLCEoIW58fG4ubGVmdD09bi5yaWdodCkmJihUdD1yLnJpZ2h0LW4ucmlnaHQ8Myl9dmFyIEF0LE50PTMhPVwiXFxuXFxuYlwiLnNwbGl0KC9cXG4vKS5sZW5ndGg/ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1bXSxyPXQubGVuZ3RoO2U8PXI7KXt2YXIgaT10LmluZGV4T2YoXCJcXG5cIixlKTstMT09aSYmKGk9dC5sZW5ndGgpO3ZhciBvPXQuc2xpY2UoZSxcIlxcclwiPT10LmNoYXJBdChpLTEpP2ktMTppKSxhPW8uaW5kZXhPZihcIlxcclwiKTstMSE9YT8obi5wdXNoKG8uc2xpY2UoMCxhKSksZSs9YSsxKToobi5wdXNoKG8pLGU9aSsxKX1yZXR1cm4gbn06ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQoL1xcclxcbj98XFxuLyl9LFB0PXdpbmRvdy5nZXRTZWxlY3Rpb24/ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0LnNlbGVjdGlvblN0YXJ0IT10LnNlbGVjdGlvbkVuZH1jYXRjaCh0KXtyZXR1cm4hMX19OmZ1bmN0aW9uKHQpe3ZhciBlO3RyeXtlPXQub3duZXJEb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX1jYXRjaCh0KXt9cmV0dXJuISghZXx8ZS5wYXJlbnRFbGVtZW50KCkhPXQpJiYwIT1lLmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvRW5kXCIsZSl9LEZ0PVwib25jb3B5XCJpbihBdD1NKFwiZGl2XCIpKXx8KEF0LnNldEF0dHJpYnV0ZShcIm9uY29weVwiLFwicmV0dXJuO1wiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBBdC5vbmNvcHkpLEl0PW51bGwsanQ9e30sRHQ9e307ZnVuY3Rpb24genQodCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJkR0Lmhhc093blByb3BlcnR5KHQpKXQ9RHRbdF07ZWxzZSBpZih0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5uYW1lJiZEdC5oYXNPd25Qcm9wZXJ0eSh0Lm5hbWUpKXt2YXIgZT1EdFt0Lm5hbWVdO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT17bmFtZTplfSksKHQ9WihlLHQpKS5uYW1lPWUubmFtZX1lbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYvXltcXHdcXC1dK1xcL1tcXHdcXC1dK1xcK3htbCQvLnRlc3QodCkpcmV0dXJuIHp0KFwiYXBwbGljYXRpb24veG1sXCIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYvXltcXHdcXC1dK1xcL1tcXHdcXC1dK1xcK2pzb24kLy50ZXN0KHQpKXJldHVybiB6dChcImFwcGxpY2F0aW9uL2pzb25cIil9cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/e25hbWU6dH06dHx8e25hbWU6XCJudWxsXCJ9fWZ1bmN0aW9uIFJ0KHQsZSl7ZT16dChlKTt2YXIgbj1qdFtlLm5hbWVdO2lmKCFuKXJldHVybiBSdCh0LFwidGV4dC9wbGFpblwiKTt2YXIgcj1uKHQsZSk7aWYoQnQuaGFzT3duUHJvcGVydHkoZS5uYW1lKSl7dmFyIGk9QnRbZS5uYW1lXTtmb3IodmFyIG8gaW4gaSlpLmhhc093blByb3BlcnR5KG8pJiYoci5oYXNPd25Qcm9wZXJ0eShvKSYmKHJbXCJfXCIrb109cltvXSkscltvXT1pW29dKX1pZihyLm5hbWU9ZS5uYW1lLGUuaGVscGVyVHlwZSYmKHIuaGVscGVyVHlwZT1lLmhlbHBlclR5cGUpLGUubW9kZVByb3BzKWZvcih2YXIgYSBpbiBlLm1vZGVQcm9wcylyW2FdPWUubW9kZVByb3BzW2FdO3JldHVybiByfXZhciBCdD17fTtmdW5jdGlvbiBIdCh0LGUpe3ZhciBuPUJ0Lmhhc093blByb3BlcnR5KHQpP0J0W3RdOkJ0W3RdPXt9O0QoZSxuKX1mdW5jdGlvbiBXdCh0LGUpe2lmKCEwPT09ZSlyZXR1cm4gZTtpZih0LmNvcHlTdGF0ZSlyZXR1cm4gdC5jb3B5U3RhdGUoZSk7dmFyIG49e307Zm9yKHZhciByIGluIGUpe3ZhciBpPWVbcl07aSBpbnN0YW5jZW9mIEFycmF5JiYoaT1pLmNvbmNhdChbXSkpLG5bcl09aX1yZXR1cm4gbn1mdW5jdGlvbiBVdCh0LGUpe2Zvcih2YXIgbjt0LmlubmVyTW9kZSYmKG49dC5pbm5lck1vZGUoZSkpJiZuLm1vZGUhPXQ7KWU9bi5zdGF0ZSx0PW4ubW9kZTtyZXR1cm4gbnx8e21vZGU6dCxzdGF0ZTplfX1mdW5jdGlvbiBWdCh0LGUsbil7cmV0dXJuIXQuc3RhcnRTdGF0ZXx8dC5zdGFydFN0YXRlKGUsbil9dmFyIEd0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnBvcz10aGlzLnN0YXJ0PTAsdGhpcy5zdHJpbmc9dCx0aGlzLnRhYlNpemU9ZXx8OCx0aGlzLmxhc3RDb2x1bW5Qb3M9dGhpcy5sYXN0Q29sdW1uVmFsdWU9MCx0aGlzLmxpbmVTdGFydD0wLHRoaXMubGluZU9yYWNsZT1ufTtmdW5jdGlvbiBLdCh0LGUpe2lmKChlLT10LmZpcnN0KTwwfHxlPj10LnNpemUpdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gbGluZSBcIisoZSt0LmZpcnN0KStcIiBpbiB0aGUgZG9jdW1lbnQuXCIpO2Zvcih2YXIgbj10OyFuLmxpbmVzOylmb3IodmFyIHI9MDs7KytyKXt2YXIgaT1uLmNoaWxkcmVuW3JdLG89aS5jaHVua1NpemUoKTtpZihlPG8pe249aTticmVha31lLT1vfXJldHVybiBuLmxpbmVzW2VdfWZ1bmN0aW9uICR0KHQsZSxuKXt2YXIgcj1bXSxpPWUubGluZTtyZXR1cm4gdC5pdGVyKGUubGluZSxuLmxpbmUrMSxmdW5jdGlvbih0KXt2YXIgbz10LnRleHQ7aT09bi5saW5lJiYobz1vLnNsaWNlKDAsbi5jaCkpLGk9PWUubGluZSYmKG89by5zbGljZShlLmNoKSksci5wdXNoKG8pLCsraX0pLHJ9ZnVuY3Rpb24gcXQodCxlLG4pe3ZhciByPVtdO3JldHVybiB0Lml0ZXIoZSxuLGZ1bmN0aW9uKHQpe3IucHVzaCh0LnRleHQpfSkscn1mdW5jdGlvbiBZdCh0LGUpe3ZhciBuPWUtdC5oZWlnaHQ7aWYobilmb3IodmFyIHI9dDtyO3I9ci5wYXJlbnQpci5oZWlnaHQrPW59ZnVuY3Rpb24gSnQodCl7aWYobnVsbD09dC5wYXJlbnQpcmV0dXJuIG51bGw7Zm9yKHZhciBlPXQucGFyZW50LG49QihlLmxpbmVzLHQpLHI9ZS5wYXJlbnQ7cjtlPXIscj1yLnBhcmVudClmb3IodmFyIGk9MDtyLmNoaWxkcmVuW2ldIT1lOysraSluKz1yLmNoaWxkcmVuW2ldLmNodW5rU2l6ZSgpO3JldHVybiBuK2UuZmlyc3R9ZnVuY3Rpb24gWHQodCxlKXt2YXIgbj10LmZpcnN0O3Q6ZG97Zm9yKHZhciByPTA7cjx0LmNoaWxkcmVuLmxlbmd0aDsrK3Ipe3ZhciBpPXQuY2hpbGRyZW5bcl0sbz1pLmhlaWdodDtpZihlPG8pe3Q9aTtjb250aW51ZSB0fWUtPW8sbis9aS5jaHVua1NpemUoKX1yZXR1cm4gbn13aGlsZSghdC5saW5lcyk7Zm9yKHZhciBhPTA7YTx0LmxpbmVzLmxlbmd0aDsrK2Epe3ZhciBzPXQubGluZXNbYV0sbD1zLmhlaWdodDtpZihlPGwpYnJlYWs7ZS09bH1yZXR1cm4gbithfWZ1bmN0aW9uIFp0KHQsZSl7cmV0dXJuIGU+PXQuZmlyc3QmJmU8dC5maXJzdCt0LnNpemV9ZnVuY3Rpb24gUXQodCxlKXtyZXR1cm4gU3RyaW5nKHQubGluZU51bWJlckZvcm1hdHRlcihlK3QuZmlyc3RMaW5lTnVtYmVyKSl9ZnVuY3Rpb24gdGUodCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPW51bGwpLCEodGhpcyBpbnN0YW5jZW9mIHRlKSlyZXR1cm4gbmV3IHRlKHQsZSxuKTt0aGlzLmxpbmU9dCx0aGlzLmNoPWUsdGhpcy5zdGlja3k9bn1mdW5jdGlvbiBlZSh0LGUpe3JldHVybiB0LmxpbmUtZS5saW5lfHx0LmNoLWUuY2h9ZnVuY3Rpb24gbmUodCxlKXtyZXR1cm4gdC5zdGlja3k9PWUuc3RpY2t5JiYwPT1lZSh0LGUpfWZ1bmN0aW9uIHJlKHQpe3JldHVybiB0ZSh0LmxpbmUsdC5jaCl9ZnVuY3Rpb24gaWUodCxlKXtyZXR1cm4gZWUodCxlKTwwP2U6dH1mdW5jdGlvbiBvZSh0LGUpe3JldHVybiBlZSh0LGUpPDA/dDplfWZ1bmN0aW9uIGFlKHQsZSl7cmV0dXJuIE1hdGgubWF4KHQuZmlyc3QsTWF0aC5taW4oZSx0LmZpcnN0K3Quc2l6ZS0xKSl9ZnVuY3Rpb24gc2UodCxlKXtpZihlLmxpbmU8dC5maXJzdClyZXR1cm4gdGUodC5maXJzdCwwKTt2YXIgbj10LmZpcnN0K3Quc2l6ZS0xO3JldHVybiBlLmxpbmU+bj90ZShuLEt0KHQsbikudGV4dC5sZW5ndGgpOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jaDtyZXR1cm4gbnVsbD09bnx8bj5lP3RlKHQubGluZSxlKTpuPDA/dGUodC5saW5lLDApOnR9KGUsS3QodCxlLmxpbmUpLnRleHQubGVuZ3RoKX1mdW5jdGlvbiBsZSh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspbltyXT1zZSh0LGVbcl0pO3JldHVybiBufUd0LnByb3RvdHlwZS5lb2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3M+PXRoaXMuc3RyaW5nLmxlbmd0aH0sR3QucHJvdG90eXBlLnNvbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcz09dGhpcy5saW5lU3RhcnR9LEd0LnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcyl8fHZvaWQgMH0sR3QucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBvczx0aGlzLnN0cmluZy5sZW5ndGgpcmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcysrKX0sR3QucHJvdG90eXBlLmVhdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0P2U9PXQ6ZSYmKHQudGVzdD90LnRlc3QoZSk6dChlKSkpcmV0dXJuKyt0aGlzLnBvcyxlfSxHdC5wcm90b3R5cGUuZWF0V2hpbGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucG9zO3RoaXMuZWF0KHQpOyk7cmV0dXJuIHRoaXMucG9zPmV9LEd0LnByb3RvdHlwZS5lYXRTcGFjZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBvczsvW1xcc1xcdTAwYTBdLy50ZXN0KHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykpOykrK3RoaXMucG9zO3JldHVybiB0aGlzLnBvcz50fSxHdC5wcm90b3R5cGUuc2tpcFRvRW5kPWZ1bmN0aW9uKCl7dGhpcy5wb3M9dGhpcy5zdHJpbmcubGVuZ3RofSxHdC5wcm90b3R5cGUuc2tpcFRvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RyaW5nLmluZGV4T2YodCx0aGlzLnBvcyk7aWYoZT4tMSlyZXR1cm4gdGhpcy5wb3M9ZSwhMH0sR3QucHJvdG90eXBlLmJhY2tVcD1mdW5jdGlvbih0KXt0aGlzLnBvcy09dH0sR3QucHJvdG90eXBlLmNvbHVtbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RDb2x1bW5Qb3M8dGhpcy5zdGFydCYmKHRoaXMubGFzdENvbHVtblZhbHVlPXoodGhpcy5zdHJpbmcsdGhpcy5zdGFydCx0aGlzLnRhYlNpemUsdGhpcy5sYXN0Q29sdW1uUG9zLHRoaXMubGFzdENvbHVtblZhbHVlKSx0aGlzLmxhc3RDb2x1bW5Qb3M9dGhpcy5zdGFydCksdGhpcy5sYXN0Q29sdW1uVmFsdWUtKHRoaXMubGluZVN0YXJ0P3oodGhpcy5zdHJpbmcsdGhpcy5saW5lU3RhcnQsdGhpcy50YWJTaXplKTowKX0sR3QucHJvdG90eXBlLmluZGVudGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHoodGhpcy5zdHJpbmcsbnVsbCx0aGlzLnRhYlNpemUpLSh0aGlzLmxpbmVTdGFydD96KHRoaXMuc3RyaW5nLHRoaXMubGluZVN0YXJ0LHRoaXMudGFiU2l6ZSk6MCl9LEd0LnByb3RvdHlwZS5tYXRjaD1mdW5jdGlvbih0LGUsbil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpe3ZhciByPXRoaXMuc3RyaW5nLnNsaWNlKHRoaXMucG9zKS5tYXRjaCh0KTtyZXR1cm4gciYmci5pbmRleD4wP251bGw6KHImJiExIT09ZSYmKHRoaXMucG9zKz1yWzBdLmxlbmd0aCkscil9dmFyIGk9ZnVuY3Rpb24odCl7cmV0dXJuIG4/dC50b0xvd2VyQ2FzZSgpOnR9LG89dGhpcy5zdHJpbmcuc3Vic3RyKHRoaXMucG9zLHQubGVuZ3RoKTtpZihpKG8pPT1pKHQpKXJldHVybiExIT09ZSYmKHRoaXMucG9zKz10Lmxlbmd0aCksITB9LEd0LnByb3RvdHlwZS5jdXJyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMuc3RhcnQsdGhpcy5wb3MpfSxHdC5wcm90b3R5cGUuaGlkZUZpcnN0Q2hhcnM9ZnVuY3Rpb24odCxlKXt0aGlzLmxpbmVTdGFydCs9dDt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e3RoaXMubGluZVN0YXJ0LT10fX0sR3QucHJvdG90eXBlLmxvb2tBaGVhZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxpbmVPcmFjbGU7cmV0dXJuIGUmJmUubG9va0FoZWFkKHQpfSxHdC5wcm90b3R5cGUuYmFzZVRva2VuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5saW5lT3JhY2xlO3JldHVybiB0JiZ0LmJhc2VUb2tlbih0aGlzLnBvcyl9O3ZhciBjZT1mdW5jdGlvbih0LGUpe3RoaXMuc3RhdGU9dCx0aGlzLmxvb2tBaGVhZD1lfSx1ZT1mdW5jdGlvbih0LGUsbixyKXt0aGlzLnN0YXRlPWUsdGhpcy5kb2M9dCx0aGlzLmxpbmU9bix0aGlzLm1heExvb2tBaGVhZD1yfHwwLHRoaXMuYmFzZVRva2Vucz1udWxsLHRoaXMuYmFzZVRva2VuUG9zPTF9O2Z1bmN0aW9uIGZlKHQsZSxuLHIpe3ZhciBpPVt0LnN0YXRlLm1vZGVHZW5dLG89e307eGUodCxlLnRleHQsdC5kb2MubW9kZSxuLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkucHVzaCh0LGUpfSxvLHIpO2Zvcih2YXIgYT1uLnN0YXRlLHM9ZnVuY3Rpb24ocil7bi5iYXNlVG9rZW5zPWk7dmFyIHM9dC5zdGF0ZS5vdmVybGF5c1tyXSxsPTEsYz0wO24uc3RhdGU9ITAseGUodCxlLnRleHQscy5tb2RlLG4sZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bDtjPHQ7KXt2YXIgcj1pW2xdO3I+dCYmaS5zcGxpY2UobCwxLHQsaVtsKzFdLHIpLGwrPTIsYz1NYXRoLm1pbih0LHIpfWlmKGUpaWYocy5vcGFxdWUpaS5zcGxpY2UobixsLW4sdCxcIm92ZXJsYXkgXCIrZSksbD1uKzI7ZWxzZSBmb3IoO248bDtuKz0yKXt2YXIgbz1pW24rMV07aVtuKzFdPShvP28rXCIgXCI6XCJcIikrXCJvdmVybGF5IFwiK2V9fSxvKSxuLnN0YXRlPWEsbi5iYXNlVG9rZW5zPW51bGwsbi5iYXNlVG9rZW5Qb3M9MX0sbD0wO2w8dC5zdGF0ZS5vdmVybGF5cy5sZW5ndGg7KytsKXMobCk7cmV0dXJue3N0eWxlczppLGNsYXNzZXM6by5iZ0NsYXNzfHxvLnRleHRDbGFzcz9vOm51bGx9fWZ1bmN0aW9uIGRlKHQsZSxuKXtpZighZS5zdHlsZXN8fGUuc3R5bGVzWzBdIT10LnN0YXRlLm1vZGVHZW4pe3ZhciByPWhlKHQsSnQoZSkpLGk9ZS50ZXh0Lmxlbmd0aD50Lm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoJiZXdCh0LmRvYy5tb2RlLHIuc3RhdGUpLG89ZmUodCxlLHIpO2kmJihyLnN0YXRlPWkpLGUuc3RhdGVBZnRlcj1yLnNhdmUoIWkpLGUuc3R5bGVzPW8uc3R5bGVzLG8uY2xhc3Nlcz9lLnN0eWxlQ2xhc3Nlcz1vLmNsYXNzZXM6ZS5zdHlsZUNsYXNzZXMmJihlLnN0eWxlQ2xhc3Nlcz1udWxsKSxuPT09dC5kb2MuaGlnaGxpZ2h0RnJvbnRpZXImJih0LmRvYy5tb2RlRnJvbnRpZXI9TWF0aC5tYXgodC5kb2MubW9kZUZyb250aWVyLCsrdC5kb2MuaGlnaGxpZ2h0RnJvbnRpZXIpKX1yZXR1cm4gZS5zdHlsZXN9ZnVuY3Rpb24gaGUodCxlLG4pe3ZhciByPXQuZG9jLGk9dC5kaXNwbGF5O2lmKCFyLm1vZGUuc3RhcnRTdGF0ZSlyZXR1cm4gbmV3IHVlKHIsITAsZSk7dmFyIG89ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcixpLG89dC5kb2MsYT1uPy0xOmUtKHQuZG9jLm1vZGUuaW5uZXJNb2RlPzFlMzoxMDApLHM9ZTtzPmE7LS1zKXtpZihzPD1vLmZpcnN0KXJldHVybiBvLmZpcnN0O3ZhciBsPUt0KG8scy0xKSxjPWwuc3RhdGVBZnRlcjtpZihjJiYoIW58fHMrKGMgaW5zdGFuY2VvZiBjZT9jLmxvb2tBaGVhZDowKTw9by5tb2RlRnJvbnRpZXIpKXJldHVybiBzO3ZhciB1PXoobC50ZXh0LG51bGwsdC5vcHRpb25zLnRhYlNpemUpOyhudWxsPT1pfHxyPnUpJiYoaT1zLTEscj11KX1yZXR1cm4gaX0odCxlLG4pLGE9bz5yLmZpcnN0JiZLdChyLG8tMSkuc3RhdGVBZnRlcixzPWE/dWUuZnJvbVNhdmVkKHIsYSxvKTpuZXcgdWUocixWdChyLm1vZGUpLG8pO3JldHVybiByLml0ZXIobyxlLGZ1bmN0aW9uKG4pe3BlKHQsbi50ZXh0LHMpO3ZhciByPXMubGluZTtuLnN0YXRlQWZ0ZXI9cj09ZS0xfHxyJTU9PTB8fHI+PWkudmlld0Zyb20mJnI8aS52aWV3VG8/cy5zYXZlKCk6bnVsbCxzLm5leHRMaW5lKCl9KSxuJiYoci5tb2RlRnJvbnRpZXI9cy5saW5lKSxzfWZ1bmN0aW9uIHBlKHQsZSxuLHIpe3ZhciBpPXQuZG9jLm1vZGUsbz1uZXcgR3QoZSx0Lm9wdGlvbnMudGFiU2l6ZSxuKTtmb3Ioby5zdGFydD1vLnBvcz1yfHwwLFwiXCI9PWUmJm1lKGksbi5zdGF0ZSk7IW8uZW9sKCk7KWdlKGksbyxuLnN0YXRlKSxvLnN0YXJ0PW8ucG9zfWZ1bmN0aW9uIG1lKHQsZSl7aWYodC5ibGFua0xpbmUpcmV0dXJuIHQuYmxhbmtMaW5lKGUpO2lmKHQuaW5uZXJNb2RlKXt2YXIgbj1VdCh0LGUpO3JldHVybiBuLm1vZGUuYmxhbmtMaW5lP24ubW9kZS5ibGFua0xpbmUobi5zdGF0ZSk6dm9pZCAwfX1mdW5jdGlvbiBnZSh0LGUsbixyKXtmb3IodmFyIGk9MDtpPDEwO2krKyl7ciYmKHJbMF09VXQodCxuKS5tb2RlKTt2YXIgbz10LnRva2VuKGUsbik7aWYoZS5wb3M+ZS5zdGFydClyZXR1cm4gb310aHJvdyBuZXcgRXJyb3IoXCJNb2RlIFwiK3QubmFtZStcIiBmYWlsZWQgdG8gYWR2YW5jZSBzdHJlYW0uXCIpfXVlLnByb3RvdHlwZS5sb29rQWhlYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2MuZ2V0TGluZSh0aGlzLmxpbmUrdCk7cmV0dXJuIG51bGwhPWUmJnQ+dGhpcy5tYXhMb29rQWhlYWQmJih0aGlzLm1heExvb2tBaGVhZD10KSxlfSx1ZS5wcm90b3R5cGUuYmFzZVRva2VuPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmJhc2VUb2tlbnMpcmV0dXJuIG51bGw7Zm9yKDt0aGlzLmJhc2VUb2tlbnNbdGhpcy5iYXNlVG9rZW5Qb3NdPD10Oyl0aGlzLmJhc2VUb2tlblBvcys9Mjt2YXIgZT10aGlzLmJhc2VUb2tlbnNbdGhpcy5iYXNlVG9rZW5Qb3MrMV07cmV0dXJue3R5cGU6ZSYmZS5yZXBsYWNlKC8oIHxeKW92ZXJsYXkgLiovLFwiXCIpLHNpemU6dGhpcy5iYXNlVG9rZW5zW3RoaXMuYmFzZVRva2VuUG9zXS10fX0sdWUucHJvdG90eXBlLm5leHRMaW5lPWZ1bmN0aW9uKCl7dGhpcy5saW5lKyssdGhpcy5tYXhMb29rQWhlYWQ+MCYmdGhpcy5tYXhMb29rQWhlYWQtLX0sdWUuZnJvbVNhdmVkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGNlP25ldyB1ZSh0LFd0KHQubW9kZSxlLnN0YXRlKSxuLGUubG9va0FoZWFkKTpuZXcgdWUodCxXdCh0Lm1vZGUsZSksbil9LHVlLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe3ZhciBlPSExIT09dD9XdCh0aGlzLmRvYy5tb2RlLHRoaXMuc3RhdGUpOnRoaXMuc3RhdGU7cmV0dXJuIHRoaXMubWF4TG9va0FoZWFkPjA/bmV3IGNlKGUsdGhpcy5tYXhMb29rQWhlYWQpOmV9O3ZhciB2ZT1mdW5jdGlvbih0LGUsbil7dGhpcy5zdGFydD10LnN0YXJ0LHRoaXMuZW5kPXQucG9zLHRoaXMuc3RyaW5nPXQuY3VycmVudCgpLHRoaXMudHlwZT1lfHxudWxsLHRoaXMuc3RhdGU9bn07ZnVuY3Rpb24geWUodCxlLG4scil7dmFyIGksbz10LmRvYyxhPW8ubW9kZTtlPXNlKG8sZSk7dmFyIHMsbD1LdChvLGUubGluZSksYz1oZSh0LGUubGluZSxuKSx1PW5ldyBHdChsLnRleHQsdC5vcHRpb25zLnRhYlNpemUsYyk7Zm9yKHImJihzPVtdKTsocnx8dS5wb3M8ZS5jaCkmJiF1LmVvbCgpOyl1LnN0YXJ0PXUucG9zLGk9Z2UoYSx1LGMuc3RhdGUpLHImJnMucHVzaChuZXcgdmUodSxpLFd0KG8ubW9kZSxjLnN0YXRlKSkpO3JldHVybiByP3M6bmV3IHZlKHUsaSxjLnN0YXRlKX1mdW5jdGlvbiBiZSh0LGUpe2lmKHQpZm9yKDs7KXt2YXIgbj10Lm1hdGNoKC8oPzpefFxccyspbGluZS0oYmFja2dyb3VuZC0pPyhcXFMrKS8pO2lmKCFuKWJyZWFrO3Q9dC5zbGljZSgwLG4uaW5kZXgpK3Quc2xpY2Uobi5pbmRleCtuWzBdLmxlbmd0aCk7dmFyIHI9blsxXT9cImJnQ2xhc3NcIjpcInRleHRDbGFzc1wiO251bGw9PWVbcl0/ZVtyXT1uWzJdOm5ldyBSZWdFeHAoXCIoPzpefHMpXCIrblsyXStcIig/OiR8cylcIikudGVzdChlW3JdKXx8KGVbcl0rPVwiIFwiK25bMl0pfXJldHVybiB0fWZ1bmN0aW9uIHhlKHQsZSxuLHIsaSxvLGEpe3ZhciBzPW4uZmxhdHRlblNwYW5zO251bGw9PXMmJihzPXQub3B0aW9ucy5mbGF0dGVuU3BhbnMpO3ZhciBsLGM9MCx1PW51bGwsZj1uZXcgR3QoZSx0Lm9wdGlvbnMudGFiU2l6ZSxyKSxkPXQub3B0aW9ucy5hZGRNb2RlQ2xhc3MmJltudWxsXTtmb3IoXCJcIj09ZSYmYmUobWUobixyLnN0YXRlKSxvKTshZi5lb2woKTspe2lmKGYucG9zPnQub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGg/KHM9ITEsYSYmcGUodCxlLHIsZi5wb3MpLGYucG9zPWUubGVuZ3RoLGw9bnVsbCk6bD1iZShnZShuLGYsci5zdGF0ZSxkKSxvKSxkKXt2YXIgaD1kWzBdLm5hbWU7aCYmKGw9XCJtLVwiKyhsP2grXCIgXCIrbDpoKSl9aWYoIXN8fHUhPWwpe2Zvcig7YzxmLnN0YXJ0OyljPU1hdGgubWluKGYuc3RhcnQsYys1ZTMpLGkoYyx1KTt1PWx9Zi5zdGFydD1mLnBvc31mb3IoO2M8Zi5wb3M7KXt2YXIgcD1NYXRoLm1pbihmLnBvcyxjKzVlMyk7aShwLHUpLGM9cH19dmFyIHdlPSExLENlPSExO2Z1bmN0aW9uIGtlKHQsZSxuKXt0aGlzLm1hcmtlcj10LHRoaXMuZnJvbT1lLHRoaXMudG89bn1mdW5jdGlvbiBfZSh0LGUpe2lmKHQpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXRbbl07aWYoci5tYXJrZXI9PWUpcmV0dXJuIHJ9fWZ1bmN0aW9uIFNlKHQsZSl7Zm9yKHZhciBuLHI9MDtyPHQubGVuZ3RoOysrcil0W3JdIT1lJiYobnx8KG49W10pKS5wdXNoKHRbcl0pO3JldHVybiBufWZ1bmN0aW9uIEVlKHQsZSl7aWYoZS5mdWxsKXJldHVybiBudWxsO3ZhciBuPVp0KHQsZS5mcm9tLmxpbmUpJiZLdCh0LGUuZnJvbS5saW5lKS5tYXJrZWRTcGFucyxyPVp0KHQsZS50by5saW5lKSYmS3QodCxlLnRvLmxpbmUpLm1hcmtlZFNwYW5zO2lmKCFuJiYhcilyZXR1cm4gbnVsbDt2YXIgaT1lLmZyb20uY2gsbz1lLnRvLmNoLGE9MD09ZWUoZS5mcm9tLGUudG8pLHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByO2lmKHQpZm9yKHZhciBpPTA7aTx0Lmxlbmd0aDsrK2kpe3ZhciBvPXRbaV0sYT1vLm1hcmtlcixzPW51bGw9PW8uZnJvbXx8KGEuaW5jbHVzaXZlTGVmdD9vLmZyb208PWU6by5mcm9tPGUpO2lmKHN8fG8uZnJvbT09ZSYmXCJib29rbWFya1wiPT1hLnR5cGUmJighbnx8IW8ubWFya2VyLmluc2VydExlZnQpKXt2YXIgbD1udWxsPT1vLnRvfHwoYS5pbmNsdXNpdmVSaWdodD9vLnRvPj1lOm8udG8+ZSk7KHJ8fChyPVtdKSkucHVzaChuZXcga2UoYSxvLmZyb20sbD9udWxsOm8udG8pKX19cmV0dXJuIHJ9KG4saSxhKSxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcjtpZih0KWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbz10W2ldLGE9by5tYXJrZXIscz1udWxsPT1vLnRvfHwoYS5pbmNsdXNpdmVSaWdodD9vLnRvPj1lOm8udG8+ZSk7aWYoc3x8by5mcm9tPT1lJiZcImJvb2ttYXJrXCI9PWEudHlwZSYmKCFufHxvLm1hcmtlci5pbnNlcnRMZWZ0KSl7dmFyIGw9bnVsbD09by5mcm9tfHwoYS5pbmNsdXNpdmVMZWZ0P28uZnJvbTw9ZTpvLmZyb208ZSk7KHJ8fChyPVtdKSkucHVzaChuZXcga2UoYSxsP251bGw6by5mcm9tLWUsbnVsbD09by50bz9udWxsOm8udG8tZSkpfX1yZXR1cm4gcn0ocixvLGEpLGM9MT09ZS50ZXh0Lmxlbmd0aCx1PVkoZS50ZXh0KS5sZW5ndGgrKGM/aTowKTtpZihzKWZvcih2YXIgZj0wO2Y8cy5sZW5ndGg7KytmKXt2YXIgZD1zW2ZdO2lmKG51bGw9PWQudG8pe3ZhciBoPV9lKGwsZC5tYXJrZXIpO2g/YyYmKGQudG89bnVsbD09aC50bz9udWxsOmgudG8rdSk6ZC50bz1pfX1pZihsKWZvcih2YXIgcD0wO3A8bC5sZW5ndGg7KytwKXt2YXIgbT1sW3BdO2lmKG51bGwhPW0udG8mJihtLnRvKz11KSxudWxsPT1tLmZyb20pe3ZhciBnPV9lKHMsbS5tYXJrZXIpO2d8fChtLmZyb209dSxjJiYoc3x8KHM9W10pKS5wdXNoKG0pKX1lbHNlIG0uZnJvbSs9dSxjJiYoc3x8KHM9W10pKS5wdXNoKG0pfXMmJihzPVRlKHMpKSxsJiZsIT1zJiYobD1UZShsKSk7dmFyIHY9W3NdO2lmKCFjKXt2YXIgeSxiPWUudGV4dC5sZW5ndGgtMjtpZihiPjAmJnMpZm9yKHZhciB4PTA7eDxzLmxlbmd0aDsrK3gpbnVsbD09c1t4XS50byYmKHl8fCh5PVtdKSkucHVzaChuZXcga2Uoc1t4XS5tYXJrZXIsbnVsbCxudWxsKSk7Zm9yKHZhciB3PTA7dzxiOysrdyl2LnB1c2goeSk7di5wdXNoKGwpfXJldHVybiB2fWZ1bmN0aW9uIFRlKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKXt2YXIgbj10W2VdO251bGwhPW4uZnJvbSYmbi5mcm9tPT1uLnRvJiYhMSE9PW4ubWFya2VyLmNsZWFyV2hlbkVtcHR5JiZ0LnNwbGljZShlLS0sMSl9cmV0dXJuIHQubGVuZ3RoP3Q6bnVsbH1mdW5jdGlvbiBPZSh0KXt2YXIgZT10Lm1hcmtlZFNwYW5zO2lmKGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWVbbl0ubWFya2VyLmRldGFjaExpbmUodCk7dC5tYXJrZWRTcGFucz1udWxsfX1mdW5jdGlvbiBNZSh0LGUpe2lmKGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKWVbbl0ubWFya2VyLmF0dGFjaExpbmUodCk7dC5tYXJrZWRTcGFucz1lfX1mdW5jdGlvbiBMZSh0KXtyZXR1cm4gdC5pbmNsdXNpdmVMZWZ0Py0xOjB9ZnVuY3Rpb24gQWUodCl7cmV0dXJuIHQuaW5jbHVzaXZlUmlnaHQ/MTowfWZ1bmN0aW9uIE5lKHQsZSl7dmFyIG49dC5saW5lcy5sZW5ndGgtZS5saW5lcy5sZW5ndGg7aWYoMCE9bilyZXR1cm4gbjt2YXIgcj10LmZpbmQoKSxpPWUuZmluZCgpLG89ZWUoci5mcm9tLGkuZnJvbSl8fExlKHQpLUxlKGUpO2lmKG8pcmV0dXJuLW87dmFyIGE9ZWUoci50byxpLnRvKXx8QWUodCktQWUoZSk7cmV0dXJuIGF8fGUuaWQtdC5pZH1mdW5jdGlvbiBQZSh0LGUpe3ZhciBuLHI9Q2UmJnQubWFya2VkU3BhbnM7aWYocilmb3IodmFyIGk9dm9pZCAwLG89MDtvPHIubGVuZ3RoOysrbykoaT1yW29dKS5tYXJrZXIuY29sbGFwc2VkJiZudWxsPT0oZT9pLmZyb206aS50bykmJighbnx8TmUobixpLm1hcmtlcik8MCkmJihuPWkubWFya2VyKTtyZXR1cm4gbn1mdW5jdGlvbiBGZSh0KXtyZXR1cm4gUGUodCwhMCl9ZnVuY3Rpb24gSWUodCl7cmV0dXJuIFBlKHQsITEpfWZ1bmN0aW9uIGplKHQsZSl7dmFyIG4scj1DZSYmdC5tYXJrZWRTcGFucztpZihyKWZvcih2YXIgaT0wO2k8ci5sZW5ndGg7KytpKXt2YXIgbz1yW2ldO28ubWFya2VyLmNvbGxhcHNlZCYmKG51bGw9PW8uZnJvbXx8by5mcm9tPGUpJiYobnVsbD09by50b3x8by50bz5lKSYmKCFufHxOZShuLG8ubWFya2VyKTwwKSYmKG49by5tYXJrZXIpfXJldHVybiBufWZ1bmN0aW9uIERlKHQsZSxuLHIsaSl7dmFyIG89S3QodCxlKSxhPUNlJiZvLm1hcmtlZFNwYW5zO2lmKGEpZm9yKHZhciBzPTA7czxhLmxlbmd0aDsrK3Mpe3ZhciBsPWFbc107aWYobC5tYXJrZXIuY29sbGFwc2VkKXt2YXIgYz1sLm1hcmtlci5maW5kKDApLHU9ZWUoYy5mcm9tLG4pfHxMZShsLm1hcmtlciktTGUoaSksZj1lZShjLnRvLHIpfHxBZShsLm1hcmtlciktQWUoaSk7aWYoISh1Pj0wJiZmPD0wfHx1PD0wJiZmPj0wKSYmKHU8PTAmJihsLm1hcmtlci5pbmNsdXNpdmVSaWdodCYmaS5pbmNsdXNpdmVMZWZ0P2VlKGMudG8sbik+PTA6ZWUoYy50byxuKT4wKXx8dT49MCYmKGwubWFya2VyLmluY2x1c2l2ZVJpZ2h0JiZpLmluY2x1c2l2ZUxlZnQ/ZWUoYy5mcm9tLHIpPD0wOmVlKGMuZnJvbSxyKTwwKSkpcmV0dXJuITB9fX1mdW5jdGlvbiB6ZSh0KXtmb3IodmFyIGU7ZT1GZSh0KTspdD1lLmZpbmQoLTEsITApLmxpbmU7cmV0dXJuIHR9ZnVuY3Rpb24gUmUodCxlKXt2YXIgbj1LdCh0LGUpLHI9emUobik7cmV0dXJuIG49PXI/ZTpKdChyKX1mdW5jdGlvbiBCZSh0LGUpe2lmKGU+dC5sYXN0TGluZSgpKXJldHVybiBlO3ZhciBuLHI9S3QodCxlKTtpZighSGUodCxyKSlyZXR1cm4gZTtmb3IoO249SWUocik7KXI9bi5maW5kKDEsITApLmxpbmU7cmV0dXJuIEp0KHIpKzF9ZnVuY3Rpb24gSGUodCxlKXt2YXIgbj1DZSYmZS5tYXJrZWRTcGFucztpZihuKWZvcih2YXIgcj12b2lkIDAsaT0wO2k8bi5sZW5ndGg7KytpKWlmKChyPW5baV0pLm1hcmtlci5jb2xsYXBzZWQpe2lmKG51bGw9PXIuZnJvbSlyZXR1cm4hMDtpZighci5tYXJrZXIud2lkZ2V0Tm9kZSYmMD09ci5mcm9tJiZyLm1hcmtlci5pbmNsdXNpdmVMZWZ0JiZXZSh0LGUscikpcmV0dXJuITB9fWZ1bmN0aW9uIFdlKHQsZSxuKXtpZihudWxsPT1uLnRvKXt2YXIgcj1uLm1hcmtlci5maW5kKDEsITApO3JldHVybiBXZSh0LHIubGluZSxfZShyLmxpbmUubWFya2VkU3BhbnMsbi5tYXJrZXIpKX1pZihuLm1hcmtlci5pbmNsdXNpdmVSaWdodCYmbi50bz09ZS50ZXh0Lmxlbmd0aClyZXR1cm4hMDtmb3IodmFyIGk9dm9pZCAwLG89MDtvPGUubWFya2VkU3BhbnMubGVuZ3RoOysrbylpZigoaT1lLm1hcmtlZFNwYW5zW29dKS5tYXJrZXIuY29sbGFwc2VkJiYhaS5tYXJrZXIud2lkZ2V0Tm9kZSYmaS5mcm9tPT1uLnRvJiYobnVsbD09aS50b3x8aS50byE9bi5mcm9tKSYmKGkubWFya2VyLmluY2x1c2l2ZUxlZnR8fG4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0KSYmV2UodCxlLGkpKXJldHVybiEwfWZ1bmN0aW9uIFVlKHQpe3Q9emUodCk7Zm9yKHZhciBlPTAsbj10LnBhcmVudCxyPTA7cjxuLmxpbmVzLmxlbmd0aDsrK3Ipe3ZhciBpPW4ubGluZXNbcl07aWYoaT09dClicmVhaztlKz1pLmhlaWdodH1mb3IodmFyIG89bi5wYXJlbnQ7bztvPShuPW8pLnBhcmVudClmb3IodmFyIGE9MDthPG8uY2hpbGRyZW4ubGVuZ3RoOysrYSl7dmFyIHM9by5jaGlsZHJlblthXTtpZihzPT1uKWJyZWFrO2UrPXMuaGVpZ2h0fXJldHVybiBlfWZ1bmN0aW9uIFZlKHQpe2lmKDA9PXQuaGVpZ2h0KXJldHVybiAwO2Zvcih2YXIgZSxuPXQudGV4dC5sZW5ndGgscj10O2U9RmUocik7KXt2YXIgaT1lLmZpbmQoMCwhMCk7cj1pLmZyb20ubGluZSxuKz1pLmZyb20uY2gtaS50by5jaH1mb3Iocj10O2U9SWUocik7KXt2YXIgbz1lLmZpbmQoMCwhMCk7bi09ci50ZXh0Lmxlbmd0aC1vLmZyb20uY2gscj1vLnRvLmxpbmUsbis9ci50ZXh0Lmxlbmd0aC1vLnRvLmNofXJldHVybiBufWZ1bmN0aW9uIEdlKHQpe3ZhciBlPXQuZGlzcGxheSxuPXQuZG9jO2UubWF4TGluZT1LdChuLG4uZmlyc3QpLGUubWF4TGluZUxlbmd0aD1WZShlLm1heExpbmUpLGUubWF4TGluZUNoYW5nZWQ9ITAsbi5pdGVyKGZ1bmN0aW9uKHQpe3ZhciBuPVZlKHQpO24+ZS5tYXhMaW5lTGVuZ3RoJiYoZS5tYXhMaW5lTGVuZ3RoPW4sZS5tYXhMaW5lPXQpfSl9dmFyIEtlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnRleHQ9dCxNZSh0aGlzLGUpLHRoaXMuaGVpZ2h0PW4/bih0aGlzKToxfTtmdW5jdGlvbiAkZSh0KXt0LnBhcmVudD1udWxsLE9lKHQpfUtlLnByb3RvdHlwZS5saW5lTm89ZnVuY3Rpb24oKXtyZXR1cm4gSnQodGhpcyl9LGJ0KEtlKTt2YXIgcWU9e30sWWU9e307ZnVuY3Rpb24gSmUodCxlKXtpZighdHx8L15cXHMqJC8udGVzdCh0KSlyZXR1cm4gbnVsbDt2YXIgbj1lLmFkZE1vZGVDbGFzcz9ZZTpxZTtyZXR1cm4gblt0XXx8KG5bdF09dC5yZXBsYWNlKC9cXFMrL2csXCJjbS0kJlwiKSl9ZnVuY3Rpb24gWGUodCxlKXt2YXIgbj1MKFwic3BhblwiLG51bGwsbnVsbCxsP1wicGFkZGluZy1yaWdodDogLjFweFwiOm51bGwpLHI9e3ByZTpMKFwicHJlXCIsW25dLFwiQ29kZU1pcnJvci1saW5lXCIpLGNvbnRlbnQ6bixjb2w6MCxwb3M6MCxjbTp0LHRyYWlsaW5nU3BhY2U6ITEsc3BsaXRTcGFjZXM6dC5nZXRPcHRpb24oXCJsaW5lV3JhcHBpbmdcIil9O2UubWVhc3VyZT17fTtmb3IodmFyIGk9MDtpPD0oZS5yZXN0P2UucmVzdC5sZW5ndGg6MCk7aSsrKXt2YXIgbz1pP2UucmVzdFtpLTFdOmUubGluZSxhPXZvaWQgMDtyLnBvcz0wLHIuYWRkVG9rZW49UWUsTHQodC5kaXNwbGF5Lm1lYXN1cmUpJiYoYT11dChvLHQuZG9jLmRpcmVjdGlvbikpJiYoci5hZGRUb2tlbj10bihyLmFkZFRva2VuLGEpKSxyLm1hcD1bXTt2YXIgcz1lIT10LmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCYmSnQobyk7bm4obyxyLGRlKHQsbyxzKSksby5zdHlsZUNsYXNzZXMmJihvLnN0eWxlQ2xhc3Nlcy5iZ0NsYXNzJiYoci5iZ0NsYXNzPUYoby5zdHlsZUNsYXNzZXMuYmdDbGFzcyxyLmJnQ2xhc3N8fFwiXCIpKSxvLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MmJihyLnRleHRDbGFzcz1GKG8uc3R5bGVDbGFzc2VzLnRleHRDbGFzcyxyLnRleHRDbGFzc3x8XCJcIikpKSwwPT1yLm1hcC5sZW5ndGgmJnIubWFwLnB1c2goMCwwLHIuY29udGVudC5hcHBlbmRDaGlsZChNdCh0LmRpc3BsYXkubWVhc3VyZSkpKSwwPT1pPyhlLm1lYXN1cmUubWFwPXIubWFwLGUubWVhc3VyZS5jYWNoZT17fSk6KChlLm1lYXN1cmUubWFwc3x8KGUubWVhc3VyZS5tYXBzPVtdKSkucHVzaChyLm1hcCksKGUubWVhc3VyZS5jYWNoZXN8fChlLm1lYXN1cmUuY2FjaGVzPVtdKSkucHVzaCh7fSkpfWlmKGwpe3ZhciBjPXIuY29udGVudC5sYXN0Q2hpbGQ7KC9cXGJjbS10YWJcXGIvLnRlc3QoYy5jbGFzc05hbWUpfHxjLnF1ZXJ5U2VsZWN0b3ImJmMucXVlcnlTZWxlY3RvcihcIi5jbS10YWJcIikpJiYoci5jb250ZW50LmNsYXNzTmFtZT1cImNtLXRhYi13cmFwLWhhY2tcIil9cmV0dXJuIG10KHQsXCJyZW5kZXJMaW5lXCIsdCxlLmxpbmUsci5wcmUpLHIucHJlLmNsYXNzTmFtZSYmKHIudGV4dENsYXNzPUYoci5wcmUuY2xhc3NOYW1lLHIudGV4dENsYXNzfHxcIlwiKSkscn1mdW5jdGlvbiBaZSh0KXt2YXIgZT1NKFwic3BhblwiLFwi4oCiXCIsXCJjbS1pbnZhbGlkY2hhclwiKTtyZXR1cm4gZS50aXRsZT1cIlxcXFx1XCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSxlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlLnRpdGxlKSxlfWZ1bmN0aW9uIFFlKHQsZSxuLHIsaSxvLGwpe2lmKGUpe3ZhciBjLHU9dC5zcGxpdFNwYWNlcz9mdW5jdGlvbih0LGUpe2lmKHQubGVuZ3RoPjEmJiEvICAvLnRlc3QodCkpcmV0dXJuIHQ7Zm9yKHZhciBuPWUscj1cIlwiLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG89dC5jaGFyQXQoaSk7XCIgXCIhPW98fCFufHxpIT10Lmxlbmd0aC0xJiYzMiE9dC5jaGFyQ29kZUF0KGkrMSl8fChvPVwiwqBcIikscis9byxuPVwiIFwiPT1vfXJldHVybiByfShlLHQudHJhaWxpbmdTcGFjZSk6ZSxmPXQuY20uc3RhdGUuc3BlY2lhbENoYXJzLGQ9ITE7aWYoZi50ZXN0KGUpKXtjPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IodmFyIGg9MDs7KXtmLmxhc3RJbmRleD1oO3ZhciBwPWYuZXhlYyhlKSxtPXA/cC5pbmRleC1oOmUubGVuZ3RoLWg7aWYobSl7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodS5zbGljZShoLGgrbSkpO2EmJnM8OT9jLmFwcGVuZENoaWxkKE0oXCJzcGFuXCIsW2ddKSk6Yy5hcHBlbmRDaGlsZChnKSx0Lm1hcC5wdXNoKHQucG9zLHQucG9zK20sZyksdC5jb2wrPW0sdC5wb3MrPW19aWYoIXApYnJlYWs7aCs9bSsxO3ZhciB2PXZvaWQgMDtpZihcIlxcdFwiPT1wWzBdKXt2YXIgeT10LmNtLm9wdGlvbnMudGFiU2l6ZSxiPXktdC5jb2wleTsodj1jLmFwcGVuZENoaWxkKE0oXCJzcGFuXCIscShiKSxcImNtLXRhYlwiKSkpLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByZXNlbnRhdGlvblwiKSx2LnNldEF0dHJpYnV0ZShcImNtLXRleHRcIixcIlxcdFwiKSx0LmNvbCs9Yn1lbHNlXCJcXHJcIj09cFswXXx8XCJcXG5cIj09cFswXT8oKHY9Yy5hcHBlbmRDaGlsZChNKFwic3BhblwiLFwiXFxyXCI9PXBbMF0/XCLikI1cIjpcIuKQpFwiLFwiY20taW52YWxpZGNoYXJcIikpKS5zZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIscFswXSksdC5jb2wrPTEpOigodj10LmNtLm9wdGlvbnMuc3BlY2lhbENoYXJQbGFjZWhvbGRlcihwWzBdKSkuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLHBbMF0pLGEmJnM8OT9jLmFwcGVuZENoaWxkKE0oXCJzcGFuXCIsW3ZdKSk6Yy5hcHBlbmRDaGlsZCh2KSx0LmNvbCs9MSk7dC5tYXAucHVzaCh0LnBvcyx0LnBvcysxLHYpLHQucG9zKyt9fWVsc2UgdC5jb2wrPWUubGVuZ3RoLGM9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodSksdC5tYXAucHVzaCh0LnBvcyx0LnBvcytlLmxlbmd0aCxjKSxhJiZzPDkmJihkPSEwKSx0LnBvcys9ZS5sZW5ndGg7aWYodC50cmFpbGluZ1NwYWNlPTMyPT11LmNoYXJDb2RlQXQoZS5sZW5ndGgtMSksbnx8cnx8aXx8ZHx8byl7dmFyIHg9bnx8XCJcIjtyJiYoeCs9ciksaSYmKHgrPWkpO3ZhciB3PU0oXCJzcGFuXCIsW2NdLHgsbyk7aWYobClmb3IodmFyIEMgaW4gbClsLmhhc093blByb3BlcnR5KEMpJiZcInN0eWxlXCIhPUMmJlwiY2xhc3NcIiE9QyYmdy5zZXRBdHRyaWJ1dGUoQyxsW0NdKTtyZXR1cm4gdC5jb250ZW50LmFwcGVuZENoaWxkKHcpfXQuY29udGVudC5hcHBlbmRDaGlsZChjKX19ZnVuY3Rpb24gdG4odCxlKXtyZXR1cm4gZnVuY3Rpb24obixyLGksbyxhLHMsbCl7aT1pP2krXCIgY20tZm9yY2UtYm9yZGVyXCI6XCJjbS1mb3JjZS1ib3JkZXJcIjtmb3IodmFyIGM9bi5wb3MsdT1jK3IubGVuZ3RoOzspe2Zvcih2YXIgZj12b2lkIDAsZD0wO2Q8ZS5sZW5ndGgmJiEoKGY9ZVtkXSkudG8+YyYmZi5mcm9tPD1jKTtkKyspO2lmKGYudG8+PXUpcmV0dXJuIHQobixyLGksbyxhLHMsbCk7dChuLHIuc2xpY2UoMCxmLnRvLWMpLGksbyxudWxsLHMsbCksbz1udWxsLHI9ci5zbGljZShmLnRvLWMpLGM9Zi50b319fWZ1bmN0aW9uIGVuKHQsZSxuLHIpe3ZhciBpPSFyJiZuLndpZGdldE5vZGU7aSYmdC5tYXAucHVzaCh0LnBvcyx0LnBvcytlLGkpLCFyJiZ0LmNtLmRpc3BsYXkuaW5wdXQubmVlZHNDb250ZW50QXR0cmlidXRlJiYoaXx8KGk9dC5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKSksaS5zZXRBdHRyaWJ1dGUoXCJjbS1tYXJrZXJcIixuLmlkKSksaSYmKHQuY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGkpLHQuY29udGVudC5hcHBlbmRDaGlsZChpKSksdC5wb3MrPWUsdC50cmFpbGluZ1NwYWNlPSExfWZ1bmN0aW9uIG5uKHQsZSxuKXt2YXIgcj10Lm1hcmtlZFNwYW5zLGk9dC50ZXh0LG89MDtpZihyKWZvcih2YXIgYSxzLGwsYyx1LGYsZCxoPWkubGVuZ3RoLHA9MCxtPTEsZz1cIlwiLHY9MDs7KXtpZih2PT1wKXtsPWM9dT1zPVwiXCIsZD1udWxsLGY9bnVsbCx2PTEvMDtmb3IodmFyIHk9W10sYj12b2lkIDAseD0wO3g8ci5sZW5ndGg7Kyt4KXt2YXIgdz1yW3hdLEM9dy5tYXJrZXI7aWYoXCJib29rbWFya1wiPT1DLnR5cGUmJncuZnJvbT09cCYmQy53aWRnZXROb2RlKXkucHVzaChDKTtlbHNlIGlmKHcuZnJvbTw9cCYmKG51bGw9PXcudG98fHcudG8+cHx8Qy5jb2xsYXBzZWQmJncudG89PXAmJncuZnJvbT09cCkpe2lmKG51bGwhPXcudG8mJncudG8hPXAmJnY+dy50byYmKHY9dy50byxjPVwiXCIpLEMuY2xhc3NOYW1lJiYobCs9XCIgXCIrQy5jbGFzc05hbWUpLEMuY3NzJiYocz0ocz9zK1wiO1wiOlwiXCIpK0MuY3NzKSxDLnN0YXJ0U3R5bGUmJncuZnJvbT09cCYmKHUrPVwiIFwiK0Muc3RhcnRTdHlsZSksQy5lbmRTdHlsZSYmdy50bz09diYmKGJ8fChiPVtdKSkucHVzaChDLmVuZFN0eWxlLHcudG8pLEMudGl0bGUmJigoZHx8KGQ9e30pKS50aXRsZT1DLnRpdGxlKSxDLmF0dHJpYnV0ZXMpZm9yKHZhciBrIGluIEMuYXR0cmlidXRlcykoZHx8KGQ9e30pKVtrXT1DLmF0dHJpYnV0ZXNba107Qy5jb2xsYXBzZWQmJighZnx8TmUoZi5tYXJrZXIsQyk8MCkmJihmPXcpfWVsc2Ugdy5mcm9tPnAmJnY+dy5mcm9tJiYodj13LmZyb20pfWlmKGIpZm9yKHZhciBfPTA7XzxiLmxlbmd0aDtfKz0yKWJbXysxXT09diYmKGMrPVwiIFwiK2JbX10pO2lmKCFmfHxmLmZyb209PXApZm9yKHZhciBTPTA7Uzx5Lmxlbmd0aDsrK1MpZW4oZSwwLHlbU10pO2lmKGYmJihmLmZyb218fDApPT1wKXtpZihlbihlLChudWxsPT1mLnRvP2grMTpmLnRvKS1wLGYubWFya2VyLG51bGw9PWYuZnJvbSksbnVsbD09Zi50bylyZXR1cm47Zi50bz09cCYmKGY9ITEpfX1pZihwPj1oKWJyZWFrO2Zvcih2YXIgRT1NYXRoLm1pbihoLHYpOzspe2lmKGcpe3ZhciBUPXArZy5sZW5ndGg7aWYoIWYpe3ZhciBPPVQ+RT9nLnNsaWNlKDAsRS1wKTpnO2UuYWRkVG9rZW4oZSxPLGE/YStsOmwsdSxwK08ubGVuZ3RoPT12P2M6XCJcIixzLGQpfWlmKFQ+PUUpe2c9Zy5zbGljZShFLXApLHA9RTticmVha31wPVQsdT1cIlwifWc9aS5zbGljZShvLG89blttKytdKSxhPUplKG5bbSsrXSxlLmNtLm9wdGlvbnMpfX1lbHNlIGZvcih2YXIgTT0xO008bi5sZW5ndGg7TSs9MillLmFkZFRva2VuKGUsaS5zbGljZShvLG89bltNXSksSmUobltNKzFdLGUuY20ub3B0aW9ucykpfWZ1bmN0aW9uIHJuKHQsZSxuKXt0aGlzLmxpbmU9ZSx0aGlzLnJlc3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG47ZT1JZSh0KTspdD1lLmZpbmQoMSwhMCkubGluZSwobnx8KG49W10pKS5wdXNoKHQpO3JldHVybiBufShlKSx0aGlzLnNpemU9dGhpcy5yZXN0P0p0KFkodGhpcy5yZXN0KSktbisxOjEsdGhpcy5ub2RlPXRoaXMudGV4dD1udWxsLHRoaXMuaGlkZGVuPUhlKHQsZSl9ZnVuY3Rpb24gb24odCxlLG4pe2Zvcih2YXIgcixpPVtdLG89ZTtvPG47bz1yKXt2YXIgYT1uZXcgcm4odC5kb2MsS3QodC5kb2Msbyksbyk7cj1vK2Euc2l6ZSxpLnB1c2goYSl9cmV0dXJuIGl9dmFyIGFuPW51bGwsc249bnVsbDtmdW5jdGlvbiBsbih0LGUpe3ZhciBuPWh0KHQsZSk7aWYobi5sZW5ndGgpe3ZhciByLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO2FuP3I9YW4uZGVsYXllZENhbGxiYWNrczpzbj9yPXNuOihyPXNuPVtdLHNldFRpbWVvdXQoY24sMCkpO2Zvcih2YXIgbz1mdW5jdGlvbih0KXtyLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gblt0XS5hcHBseShudWxsLGkpfSl9LGE9MDthPG4ubGVuZ3RoOysrYSlvKGEpfX1mdW5jdGlvbiBjbigpe3ZhciB0PXNuO3NuPW51bGw7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDsrK2UpdFtlXSgpfWZ1bmN0aW9uIHVuKHQsZSxuLHIpe2Zvcih2YXIgaT0wO2k8ZS5jaGFuZ2VzLmxlbmd0aDtpKyspe3ZhciBvPWUuY2hhbmdlc1tpXTtcInRleHRcIj09bz9obih0LGUpOlwiZ3V0dGVyXCI9PW8/bW4odCxlLG4scik6XCJjbGFzc1wiPT1vP3BuKHQsZSk6XCJ3aWRnZXRcIj09byYmZ24odCxlLHIpfWUuY2hhbmdlcz1udWxsfWZ1bmN0aW9uIGZuKHQpe3JldHVybiB0Lm5vZGU9PXQudGV4dCYmKHQubm9kZT1NKFwiZGl2XCIsbnVsbCxudWxsLFwicG9zaXRpb246IHJlbGF0aXZlXCIpLHQudGV4dC5wYXJlbnROb2RlJiZ0LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodC5ub2RlLHQudGV4dCksdC5ub2RlLmFwcGVuZENoaWxkKHQudGV4dCksYSYmczw4JiYodC5ub2RlLnN0eWxlLnpJbmRleD0yKSksdC5ub2RlfWZ1bmN0aW9uIGRuKHQsZSl7dmFyIG49dC5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ7cmV0dXJuIG4mJm4ubGluZT09ZS5saW5lPyh0LmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZD1udWxsLGUubWVhc3VyZT1uLm1lYXN1cmUsbi5idWlsdCk6WGUodCxlKX1mdW5jdGlvbiBobih0LGUpe3ZhciBuPWUudGV4dC5jbGFzc05hbWUscj1kbih0LGUpO2UudGV4dD09ZS5ub2RlJiYoZS5ub2RlPXIucHJlKSxlLnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoci5wcmUsZS50ZXh0KSxlLnRleHQ9ci5wcmUsci5iZ0NsYXNzIT1lLmJnQ2xhc3N8fHIudGV4dENsYXNzIT1lLnRleHRDbGFzcz8oZS5iZ0NsYXNzPXIuYmdDbGFzcyxlLnRleHRDbGFzcz1yLnRleHRDbGFzcyxwbih0LGUpKTpuJiYoZS50ZXh0LmNsYXNzTmFtZT1uKX1mdW5jdGlvbiBwbih0LGUpeyFmdW5jdGlvbih0LGUpe3ZhciBuPWUuYmdDbGFzcz9lLmJnQ2xhc3MrXCIgXCIrKGUubGluZS5iZ0NsYXNzfHxcIlwiKTplLmxpbmUuYmdDbGFzcztpZihuJiYobis9XCIgQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZFwiKSxlLmJhY2tncm91bmQpbj9lLmJhY2tncm91bmQuY2xhc3NOYW1lPW46KGUuYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUuYmFja2dyb3VuZCksZS5iYWNrZ3JvdW5kPW51bGwpO2Vsc2UgaWYobil7dmFyIHI9Zm4oZSk7ZS5iYWNrZ3JvdW5kPXIuaW5zZXJ0QmVmb3JlKE0oXCJkaXZcIixudWxsLG4pLHIuZmlyc3RDaGlsZCksdC5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUoZS5iYWNrZ3JvdW5kKX19KHQsZSksZS5saW5lLndyYXBDbGFzcz9mbihlKS5jbGFzc05hbWU9ZS5saW5lLndyYXBDbGFzczplLm5vZGUhPWUudGV4dCYmKGUubm9kZS5jbGFzc05hbWU9XCJcIik7dmFyIG49ZS50ZXh0Q2xhc3M/ZS50ZXh0Q2xhc3MrXCIgXCIrKGUubGluZS50ZXh0Q2xhc3N8fFwiXCIpOmUubGluZS50ZXh0Q2xhc3M7ZS50ZXh0LmNsYXNzTmFtZT1ufHxcIlwifWZ1bmN0aW9uIG1uKHQsZSxuLHIpe2lmKGUuZ3V0dGVyJiYoZS5ub2RlLnJlbW92ZUNoaWxkKGUuZ3V0dGVyKSxlLmd1dHRlcj1udWxsKSxlLmd1dHRlckJhY2tncm91bmQmJihlLm5vZGUucmVtb3ZlQ2hpbGQoZS5ndXR0ZXJCYWNrZ3JvdW5kKSxlLmd1dHRlckJhY2tncm91bmQ9bnVsbCksZS5saW5lLmd1dHRlckNsYXNzKXt2YXIgaT1mbihlKTtlLmd1dHRlckJhY2tncm91bmQ9TShcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWd1dHRlci1iYWNrZ3JvdW5kIFwiK2UubGluZS5ndXR0ZXJDbGFzcyxcImxlZnQ6IFwiKyh0Lm9wdGlvbnMuZml4ZWRHdXR0ZXI/ci5maXhlZFBvczotci5ndXR0ZXJUb3RhbFdpZHRoKStcInB4OyB3aWR0aDogXCIrci5ndXR0ZXJUb3RhbFdpZHRoK1wicHhcIiksdC5kaXNwbGF5LmlucHV0LnNldFVuZWRpdGFibGUoZS5ndXR0ZXJCYWNrZ3JvdW5kKSxpLmluc2VydEJlZm9yZShlLmd1dHRlckJhY2tncm91bmQsZS50ZXh0KX12YXIgbz1lLmxpbmUuZ3V0dGVyTWFya2VycztpZih0Lm9wdGlvbnMubGluZU51bWJlcnN8fG8pe3ZhciBhPWZuKGUpLHM9ZS5ndXR0ZXI9TShcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWd1dHRlci13cmFwcGVyXCIsXCJsZWZ0OiBcIisodC5vcHRpb25zLmZpeGVkR3V0dGVyP3IuZml4ZWRQb3M6LXIuZ3V0dGVyVG90YWxXaWR0aCkrXCJweFwiKTtpZih0LmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShzKSxhLmluc2VydEJlZm9yZShzLGUudGV4dCksZS5saW5lLmd1dHRlckNsYXNzJiYocy5jbGFzc05hbWUrPVwiIFwiK2UubGluZS5ndXR0ZXJDbGFzcyksIXQub3B0aW9ucy5saW5lTnVtYmVyc3x8byYmb1tcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl18fChlLmxpbmVOdW1iZXI9cy5hcHBlbmRDaGlsZChNKFwiZGl2XCIsUXQodC5vcHRpb25zLG4pLFwiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiLFwibGVmdDogXCIrci5ndXR0ZXJMZWZ0W1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXStcInB4OyB3aWR0aDogXCIrdC5kaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoK1wicHhcIikpKSxvKWZvcih2YXIgbD0wO2w8dC5kaXNwbGF5Lmd1dHRlclNwZWNzLmxlbmd0aDsrK2wpe3ZhciBjPXQuZGlzcGxheS5ndXR0ZXJTcGVjc1tsXS5jbGFzc05hbWUsdT1vLmhhc093blByb3BlcnR5KGMpJiZvW2NdO3UmJnMuYXBwZW5kQ2hpbGQoTShcImRpdlwiLFt1XSxcIkNvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiLFwibGVmdDogXCIrci5ndXR0ZXJMZWZ0W2NdK1wicHg7IHdpZHRoOiBcIityLmd1dHRlcldpZHRoW2NdK1wicHhcIikpfX19ZnVuY3Rpb24gZ24odCxlLG4pe2UuYWxpZ25hYmxlJiYoZS5hbGlnbmFibGU9bnVsbCk7Zm9yKHZhciByPWUubm9kZS5maXJzdENoaWxkLGk9dm9pZCAwO3I7cj1pKWk9ci5uZXh0U2libGluZyxcIkNvZGVNaXJyb3ItbGluZXdpZGdldFwiPT1yLmNsYXNzTmFtZSYmZS5ub2RlLnJlbW92ZUNoaWxkKHIpO3luKHQsZSxuKX1mdW5jdGlvbiB2bih0LGUsbixyKXt2YXIgaT1kbih0LGUpO3JldHVybiBlLnRleHQ9ZS5ub2RlPWkucHJlLGkuYmdDbGFzcyYmKGUuYmdDbGFzcz1pLmJnQ2xhc3MpLGkudGV4dENsYXNzJiYoZS50ZXh0Q2xhc3M9aS50ZXh0Q2xhc3MpLHBuKHQsZSksbW4odCxlLG4scikseW4odCxlLHIpLGUubm9kZX1mdW5jdGlvbiB5bih0LGUsbil7aWYoYm4odCxlLmxpbmUsZSxuLCEwKSxlLnJlc3QpZm9yKHZhciByPTA7cjxlLnJlc3QubGVuZ3RoO3IrKylibih0LGUucmVzdFtyXSxlLG4sITEpfWZ1bmN0aW9uIGJuKHQsZSxuLHIsaSl7aWYoZS53aWRnZXRzKWZvcih2YXIgbz1mbihuKSxhPTAscz1lLndpZGdldHM7YTxzLmxlbmd0aDsrK2Epe3ZhciBsPXNbYV0sYz1NKFwiZGl2XCIsW2wubm9kZV0sXCJDb2RlTWlycm9yLWxpbmV3aWRnZXRcIik7bC5oYW5kbGVNb3VzZUV2ZW50c3x8Yy5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsXCJ0cnVlXCIpLHhuKGwsYyxuLHIpLHQuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGMpLGkmJmwuYWJvdmU/by5pbnNlcnRCZWZvcmUoYyxuLmd1dHRlcnx8bi50ZXh0KTpvLmFwcGVuZENoaWxkKGMpLGxuKGwsXCJyZWRyYXdcIil9fWZ1bmN0aW9uIHhuKHQsZSxuLHIpe2lmKHQubm9IU2Nyb2xsKXsobi5hbGlnbmFibGV8fChuLmFsaWduYWJsZT1bXSkpLnB1c2goZSk7dmFyIGk9ci53cmFwcGVyV2lkdGg7ZS5zdHlsZS5sZWZ0PXIuZml4ZWRQb3MrXCJweFwiLHQuY292ZXJHdXR0ZXJ8fChpLT1yLmd1dHRlclRvdGFsV2lkdGgsZS5zdHlsZS5wYWRkaW5nTGVmdD1yLmd1dHRlclRvdGFsV2lkdGgrXCJweFwiKSxlLnN0eWxlLndpZHRoPWkrXCJweFwifXQuY292ZXJHdXR0ZXImJihlLnN0eWxlLnpJbmRleD01LGUuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHQubm9IU2Nyb2xsfHwoZS5zdHlsZS5tYXJnaW5MZWZ0PS1yLmd1dHRlclRvdGFsV2lkdGgrXCJweFwiKSl9ZnVuY3Rpb24gd24odCl7aWYobnVsbCE9dC5oZWlnaHQpcmV0dXJuIHQuaGVpZ2h0O3ZhciBlPXQuZG9jLmNtO2lmKCFlKXJldHVybiAwO2lmKCFBKGRvY3VtZW50LmJvZHksdC5ub2RlKSl7dmFyIG49XCJwb3NpdGlvbjogcmVsYXRpdmU7XCI7dC5jb3Zlckd1dHRlciYmKG4rPVwibWFyZ2luLWxlZnQ6IC1cIitlLmRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCtcInB4O1wiKSx0Lm5vSFNjcm9sbCYmKG4rPVwid2lkdGg6IFwiK2UuZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoK1wicHg7XCIpLE8oZS5kaXNwbGF5Lm1lYXN1cmUsTShcImRpdlwiLFt0Lm5vZGVdLG51bGwsbikpfXJldHVybiB0LmhlaWdodD10Lm5vZGUucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHR9ZnVuY3Rpb24gQ24odCxlKXtmb3IodmFyIG49X3QoZSk7biE9dC53cmFwcGVyO249bi5wYXJlbnROb2RlKWlmKCFufHwxPT1uLm5vZGVUeXBlJiZcInRydWVcIj09bi5nZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIpfHxuLnBhcmVudE5vZGU9PXQuc2l6ZXImJm4hPXQubW92ZXIpcmV0dXJuITB9ZnVuY3Rpb24ga24odCl7cmV0dXJuIHQubGluZVNwYWNlLm9mZnNldFRvcH1mdW5jdGlvbiBfbih0KXtyZXR1cm4gdC5tb3Zlci5vZmZzZXRIZWlnaHQtdC5saW5lU3BhY2Uub2Zmc2V0SGVpZ2h0fWZ1bmN0aW9uIFNuKHQpe2lmKHQuY2FjaGVkUGFkZGluZ0gpcmV0dXJuIHQuY2FjaGVkUGFkZGluZ0g7dmFyIGU9Tyh0Lm1lYXN1cmUsTShcInByZVwiLFwieFwiLFwiQ29kZU1pcnJvci1saW5lLWxpa2VcIikpLG49d2luZG93LmdldENvbXB1dGVkU3R5bGU/d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSk6ZS5jdXJyZW50U3R5bGUscj17bGVmdDpwYXJzZUludChuLnBhZGRpbmdMZWZ0KSxyaWdodDpwYXJzZUludChuLnBhZGRpbmdSaWdodCl9O3JldHVybiBpc05hTihyLmxlZnQpfHxpc05hTihyLnJpZ2h0KXx8KHQuY2FjaGVkUGFkZGluZ0g9cikscn1mdW5jdGlvbiBFbih0KXtyZXR1cm4gSC10LmRpc3BsYXkubmF0aXZlQmFyV2lkdGh9ZnVuY3Rpb24gVG4odCl7cmV0dXJuIHQuZGlzcGxheS5zY3JvbGxlci5jbGllbnRXaWR0aC1Fbih0KS10LmRpc3BsYXkuYmFyV2lkdGh9ZnVuY3Rpb24gT24odCl7cmV0dXJuIHQuZGlzcGxheS5zY3JvbGxlci5jbGllbnRIZWlnaHQtRW4odCktdC5kaXNwbGF5LmJhckhlaWdodH1mdW5jdGlvbiBNbih0LGUsbil7aWYodC5saW5lPT1lKXJldHVybnttYXA6dC5tZWFzdXJlLm1hcCxjYWNoZTp0Lm1lYXN1cmUuY2FjaGV9O2Zvcih2YXIgcj0wO3I8dC5yZXN0Lmxlbmd0aDtyKyspaWYodC5yZXN0W3JdPT1lKXJldHVybnttYXA6dC5tZWFzdXJlLm1hcHNbcl0sY2FjaGU6dC5tZWFzdXJlLmNhY2hlc1tyXX07Zm9yKHZhciBpPTA7aTx0LnJlc3QubGVuZ3RoO2krKylpZihKdCh0LnJlc3RbaV0pPm4pcmV0dXJue21hcDp0Lm1lYXN1cmUubWFwc1tpXSxjYWNoZTp0Lm1lYXN1cmUuY2FjaGVzW2ldLGJlZm9yZTohMH19ZnVuY3Rpb24gTG4odCxlLG4scil7cmV0dXJuIFBuKHQsTm4odCxlKSxuLHIpfWZ1bmN0aW9uIEFuKHQsZSl7aWYoZT49dC5kaXNwbGF5LnZpZXdGcm9tJiZlPHQuZGlzcGxheS52aWV3VG8pcmV0dXJuIHQuZGlzcGxheS52aWV3W2xyKHQsZSldO3ZhciBuPXQuZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO3JldHVybiBuJiZlPj1uLmxpbmVOJiZlPG4ubGluZU4rbi5zaXplP246dm9pZCAwfWZ1bmN0aW9uIE5uKHQsZSl7dmFyIG49SnQoZSkscj1Bbih0LG4pO3ImJiFyLnRleHQ/cj1udWxsOnImJnIuY2hhbmdlcyYmKHVuKHQscixuLHJyKHQpKSx0LmN1ck9wLmZvcmNlVXBkYXRlPSEwKSxyfHwocj1mdW5jdGlvbih0LGUpe3ZhciBuPUp0KGU9emUoZSkpLHI9dC5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQ9bmV3IHJuKHQuZG9jLGUsbik7ci5saW5lTj1uO3ZhciBpPXIuYnVpbHQ9WGUodCxyKTtyZXR1cm4gci50ZXh0PWkucHJlLE8odC5kaXNwbGF5LmxpbmVNZWFzdXJlLGkucHJlKSxyfSh0LGUpKTt2YXIgaT1NbihyLGUsbik7cmV0dXJue2xpbmU6ZSx2aWV3OnIscmVjdDpudWxsLG1hcDppLm1hcCxjYWNoZTppLmNhY2hlLGJlZm9yZTppLmJlZm9yZSxoYXNIZWlnaHRzOiExfX1mdW5jdGlvbiBQbih0LGUsbixyLGkpe2UuYmVmb3JlJiYobj0tMSk7dmFyIG8sbD1uKyhyfHxcIlwiKTtyZXR1cm4gZS5jYWNoZS5oYXNPd25Qcm9wZXJ0eShsKT9vPWUuY2FjaGVbbF06KGUucmVjdHx8KGUucmVjdD1lLnZpZXcudGV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksZS5oYXNIZWlnaHRzfHwoZnVuY3Rpb24odCxlLG4pe3ZhciByPXQub3B0aW9ucy5saW5lV3JhcHBpbmcsaT1yJiZUbih0KTtpZighZS5tZWFzdXJlLmhlaWdodHN8fHImJmUubWVhc3VyZS53aWR0aCE9aSl7dmFyIG89ZS5tZWFzdXJlLmhlaWdodHM9W107aWYocil7ZS5tZWFzdXJlLndpZHRoPWk7Zm9yKHZhciBhPWUudGV4dC5maXJzdENoaWxkLmdldENsaWVudFJlY3RzKCkscz0wO3M8YS5sZW5ndGgtMTtzKyspe3ZhciBsPWFbc10sYz1hW3MrMV07TWF0aC5hYnMobC5ib3R0b20tYy5ib3R0b20pPjImJm8ucHVzaCgobC5ib3R0b20rYy50b3ApLzItbi50b3ApfX1vLnB1c2gobi5ib3R0b20tbi50b3ApfX0odCxlLnZpZXcsZS5yZWN0KSxlLmhhc0hlaWdodHM9ITApLChvPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89am4oZS5tYXAsbixyKSxsPW8ubm9kZSxjPW8uc3RhcnQsdT1vLmVuZCxmPW8uY29sbGFwc2U7aWYoMz09bC5ub2RlVHlwZSl7Zm9yKHZhciBkPTA7ZDw0O2QrKyl7Zm9yKDtjJiZpdChlLmxpbmUudGV4dC5jaGFyQXQoby5jb3ZlclN0YXJ0K2MpKTspLS1jO2Zvcig7by5jb3ZlclN0YXJ0K3U8by5jb3ZlckVuZCYmaXQoZS5saW5lLnRleHQuY2hhckF0KG8uY292ZXJTdGFydCt1KSk7KSsrdTtpZigoaT1hJiZzPDkmJjA9PWMmJnU9PW8uY292ZXJFbmQtby5jb3ZlclN0YXJ0P2wucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpEbihTKGwsYyx1KS5nZXRDbGllbnRSZWN0cygpLHIpKS5sZWZ0fHxpLnJpZ2h0fHwwPT1jKWJyZWFrO3U9YyxjLT0xLGY9XCJyaWdodFwifWEmJnM8MTEmJihpPWZ1bmN0aW9uKHQsZSl7aWYoIXdpbmRvdy5zY3JlZW58fG51bGw9PXNjcmVlbi5sb2dpY2FsWERQSXx8c2NyZWVuLmxvZ2ljYWxYRFBJPT1zY3JlZW4uZGV2aWNlWERQSXx8IWZ1bmN0aW9uKHQpe2lmKG51bGwhPUl0KXJldHVybiBJdDt2YXIgZT1PKHQsTShcInNwYW5cIixcInhcIikpLG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPVMoZSwwLDEpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBJdD1NYXRoLmFicyhuLmxlZnQtci5sZWZ0KT4xfSh0KSlyZXR1cm4gZTt2YXIgbj1zY3JlZW4ubG9naWNhbFhEUEkvc2NyZWVuLmRldmljZVhEUEkscj1zY3JlZW4ubG9naWNhbFlEUEkvc2NyZWVuLmRldmljZVlEUEk7cmV0dXJue2xlZnQ6ZS5sZWZ0Km4scmlnaHQ6ZS5yaWdodCpuLHRvcDplLnRvcCpyLGJvdHRvbTplLmJvdHRvbSpyfX0odC5kaXNwbGF5Lm1lYXN1cmUsaSkpfWVsc2V7dmFyIGg7Yz4wJiYoZj1yPVwicmlnaHRcIiksaT10Lm9wdGlvbnMubGluZVdyYXBwaW5nJiYoaD1sLmdldENsaWVudFJlY3RzKCkpLmxlbmd0aD4xP2hbXCJyaWdodFwiPT1yP2gubGVuZ3RoLTE6MF06bC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1pZihhJiZzPDkmJiFjJiYoIWl8fCFpLmxlZnQmJiFpLnJpZ2h0KSl7dmFyIHA9bC5wYXJlbnROb2RlLmdldENsaWVudFJlY3RzKClbMF07aT1wP3tsZWZ0OnAubGVmdCxyaWdodDpwLmxlZnQrbnIodC5kaXNwbGF5KSx0b3A6cC50b3AsYm90dG9tOnAuYm90dG9tfTpJbn1mb3IodmFyIG09aS50b3AtZS5yZWN0LnRvcCxnPWkuYm90dG9tLWUucmVjdC50b3Asdj0obStnKS8yLHk9ZS52aWV3Lm1lYXN1cmUuaGVpZ2h0cyxiPTA7Yjx5Lmxlbmd0aC0xJiYhKHY8eVtiXSk7YisrKTt2YXIgeD1iP3lbYi0xXTowLHc9eVtiXSxDPXtsZWZ0OihcInJpZ2h0XCI9PWY/aS5yaWdodDppLmxlZnQpLWUucmVjdC5sZWZ0LHJpZ2h0OihcImxlZnRcIj09Zj9pLmxlZnQ6aS5yaWdodCktZS5yZWN0LmxlZnQsdG9wOngsYm90dG9tOnd9O3JldHVybiBpLmxlZnR8fGkucmlnaHR8fChDLmJvZ3VzPSEwKSx0Lm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZXx8KEMucnRvcD1tLEMucmJvdHRvbT1nKSxDfSh0LGUsbixyKSkuYm9ndXN8fChlLmNhY2hlW2xdPW8pKSx7bGVmdDpvLmxlZnQscmlnaHQ6by5yaWdodCx0b3A6aT9vLnJ0b3A6by50b3AsYm90dG9tOmk/by5yYm90dG9tOm8uYm90dG9tfX12YXIgRm4sSW49e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTowfTtmdW5jdGlvbiBqbih0LGUsbil7Zm9yKHZhciByLGksbyxhLHMsbCxjPTA7Yzx0Lmxlbmd0aDtjKz0zKWlmKHM9dFtjXSxsPXRbYysxXSxlPHM/KGk9MCxvPTEsYT1cImxlZnRcIik6ZTxsP289MSsoaT1lLXMpOihjPT10Lmxlbmd0aC0zfHxlPT1sJiZ0W2MrM10+ZSkmJihpPShvPWwtcyktMSxlPj1sJiYoYT1cInJpZ2h0XCIpKSxudWxsIT1pKXtpZihyPXRbYysyXSxzPT1sJiZuPT0oci5pbnNlcnRMZWZ0P1wibGVmdFwiOlwicmlnaHRcIikmJihhPW4pLFwibGVmdFwiPT1uJiYwPT1pKWZvcig7YyYmdFtjLTJdPT10W2MtM10mJnRbYy0xXS5pbnNlcnRMZWZ0OylyPXRbMisoYy09MyldLGE9XCJsZWZ0XCI7aWYoXCJyaWdodFwiPT1uJiZpPT1sLXMpZm9yKDtjPHQubGVuZ3RoLTMmJnRbYyszXT09dFtjKzRdJiYhdFtjKzVdLmluc2VydExlZnQ7KXI9dFsoYys9MykrMl0sYT1cInJpZ2h0XCI7YnJlYWt9cmV0dXJue25vZGU6cixzdGFydDppLGVuZDpvLGNvbGxhcHNlOmEsY292ZXJTdGFydDpzLGNvdmVyRW5kOmx9fWZ1bmN0aW9uIERuKHQsZSl7dmFyIG49SW47aWYoXCJsZWZ0XCI9PWUpZm9yKHZhciByPTA7cjx0Lmxlbmd0aCYmKG49dFtyXSkubGVmdD09bi5yaWdodDtyKyspO2Vsc2UgZm9yKHZhciBpPXQubGVuZ3RoLTE7aT49MCYmKG49dFtpXSkubGVmdD09bi5yaWdodDtpLS0pO3JldHVybiBufWZ1bmN0aW9uIHpuKHQpe2lmKHQubWVhc3VyZSYmKHQubWVhc3VyZS5jYWNoZT17fSx0Lm1lYXN1cmUuaGVpZ2h0cz1udWxsLHQucmVzdCkpZm9yKHZhciBlPTA7ZTx0LnJlc3QubGVuZ3RoO2UrKyl0Lm1lYXN1cmUuY2FjaGVzW2VdPXt9fWZ1bmN0aW9uIFJuKHQpe3QuZGlzcGxheS5leHRlcm5hbE1lYXN1cmU9bnVsbCxUKHQuZGlzcGxheS5saW5lTWVhc3VyZSk7Zm9yKHZhciBlPTA7ZTx0LmRpc3BsYXkudmlldy5sZW5ndGg7ZSsrKXpuKHQuZGlzcGxheS52aWV3W2VdKX1mdW5jdGlvbiBCbih0KXtSbih0KSx0LmRpc3BsYXkuY2FjaGVkQ2hhcldpZHRoPXQuZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0PXQuZGlzcGxheS5jYWNoZWRQYWRkaW5nSD1udWxsLHQub3B0aW9ucy5saW5lV3JhcHBpbmd8fCh0LmRpc3BsYXkubWF4TGluZUNoYW5nZWQ9ITApLHQuZGlzcGxheS5saW5lTnVtQ2hhcnM9bnVsbH1mdW5jdGlvbiBIbigpe3JldHVybiB1JiZnPy0oZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LXBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkubWFyZ2luTGVmdCkpOndpbmRvdy5wYWdlWE9mZnNldHx8KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keSkuc2Nyb2xsTGVmdH1mdW5jdGlvbiBXbigpe3JldHVybiB1JiZnPy0oZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AtcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5tYXJnaW5Ub3ApKTp3aW5kb3cucGFnZVlPZmZzZXR8fChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcH1mdW5jdGlvbiBVbih0KXt2YXIgZT0wO2lmKHQud2lkZ2V0cylmb3IodmFyIG49MDtuPHQud2lkZ2V0cy5sZW5ndGg7KytuKXQud2lkZ2V0c1tuXS5hYm92ZSYmKGUrPXduKHQud2lkZ2V0c1tuXSkpO3JldHVybiBlfWZ1bmN0aW9uIFZuKHQsZSxuLHIsaSl7aWYoIWkpe3ZhciBvPVVuKGUpO24udG9wKz1vLG4uYm90dG9tKz1vfWlmKFwibGluZVwiPT1yKXJldHVybiBuO3J8fChyPVwibG9jYWxcIik7dmFyIGE9VWUoZSk7aWYoXCJsb2NhbFwiPT1yP2ErPWtuKHQuZGlzcGxheSk6YS09dC5kaXNwbGF5LnZpZXdPZmZzZXQsXCJwYWdlXCI9PXJ8fFwid2luZG93XCI9PXIpe3ZhciBzPXQuZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YSs9cy50b3ArKFwid2luZG93XCI9PXI/MDpXbigpKTt2YXIgbD1zLmxlZnQrKFwid2luZG93XCI9PXI/MDpIbigpKTtuLmxlZnQrPWwsbi5yaWdodCs9bH1yZXR1cm4gbi50b3ArPWEsbi5ib3R0b20rPWEsbn1mdW5jdGlvbiBHbih0LGUsbil7aWYoXCJkaXZcIj09bilyZXR1cm4gZTt2YXIgcj1lLmxlZnQsaT1lLnRvcDtpZihcInBhZ2VcIj09bilyLT1IbigpLGktPVduKCk7ZWxzZSBpZihcImxvY2FsXCI9PW58fCFuKXt2YXIgbz10LmRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cis9by5sZWZ0LGkrPW8udG9wfXZhciBhPXQuZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue2xlZnQ6ci1hLmxlZnQsdG9wOmktYS50b3B9fWZ1bmN0aW9uIEtuKHQsZSxuLHIsaSl7cmV0dXJuIHJ8fChyPUt0KHQuZG9jLGUubGluZSkpLFZuKHQscixMbih0LHIsZS5jaCxpKSxuKX1mdW5jdGlvbiAkbih0LGUsbixyLGksbyl7ZnVuY3Rpb24gYShlLGEpe3ZhciBzPVBuKHQsaSxlLGE/XCJyaWdodFwiOlwibGVmdFwiLG8pO3JldHVybiBhP3MubGVmdD1zLnJpZ2h0OnMucmlnaHQ9cy5sZWZ0LFZuKHQscixzLG4pfXI9cnx8S3QodC5kb2MsZS5saW5lKSxpfHwoaT1Obih0LHIpKTt2YXIgcz11dChyLHQuZG9jLmRpcmVjdGlvbiksbD1lLmNoLGM9ZS5zdGlja3k7aWYobD49ci50ZXh0Lmxlbmd0aD8obD1yLnRleHQubGVuZ3RoLGM9XCJiZWZvcmVcIik6bDw9MCYmKGw9MCxjPVwiYWZ0ZXJcIiksIXMpcmV0dXJuIGEoXCJiZWZvcmVcIj09Yz9sLTE6bCxcImJlZm9yZVwiPT1jKTtmdW5jdGlvbiB1KHQsZSxuKXt2YXIgcj1zW2VdLGk9MT09ci5sZXZlbDtyZXR1cm4gYShuP3QtMTp0LGkhPW4pfXZhciBmPWx0KHMsbCxjKSxkPXN0LGg9dShsLGYsXCJiZWZvcmVcIj09Yyk7cmV0dXJuIG51bGwhPWQmJihoLm90aGVyPXUobCxkLFwiYmVmb3JlXCIhPWMpKSxofWZ1bmN0aW9uIHFuKHQsZSl7dmFyIG49MDtlPXNlKHQuZG9jLGUpLHQub3B0aW9ucy5saW5lV3JhcHBpbmd8fChuPW5yKHQuZGlzcGxheSkqZS5jaCk7dmFyIHI9S3QodC5kb2MsZS5saW5lKSxpPVVlKHIpK2tuKHQuZGlzcGxheSk7cmV0dXJue2xlZnQ6bixyaWdodDpuLHRvcDppLGJvdHRvbTppK3IuaGVpZ2h0fX1mdW5jdGlvbiBZbih0LGUsbixyLGkpe3ZhciBvPXRlKHQsZSxuKTtyZXR1cm4gby54UmVsPWksciYmKG8ub3V0c2lkZT1yKSxvfWZ1bmN0aW9uIEpuKHQsZSxuKXt2YXIgcj10LmRvYztpZigobis9dC5kaXNwbGF5LnZpZXdPZmZzZXQpPDApcmV0dXJuIFluKHIuZmlyc3QsMCxudWxsLC0xLC0xKTt2YXIgaT1YdChyLG4pLG89ci5maXJzdCtyLnNpemUtMTtpZihpPm8pcmV0dXJuIFluKHIuZmlyc3Qrci5zaXplLTEsS3QocixvKS50ZXh0Lmxlbmd0aCxudWxsLDEsMSk7ZTwwJiYoZT0wKTtmb3IodmFyIGE9S3QocixpKTs7KXt2YXIgcz10cih0LGEsaSxlLG4pLGw9amUoYSxzLmNoKyhzLnhSZWw+MHx8cy5vdXRzaWRlPjA/MTowKSk7aWYoIWwpcmV0dXJuIHM7dmFyIGM9bC5maW5kKDEpO2lmKGMubGluZT09aSlyZXR1cm4gYzthPUt0KHIsaT1jLmxpbmUpfX1mdW5jdGlvbiBYbih0LGUsbixyKXtyLT1VbihlKTt2YXIgaT1lLnRleHQubGVuZ3RoLG89YXQoZnVuY3Rpb24oZSl7cmV0dXJuIFBuKHQsbixlLTEpLmJvdHRvbTw9cn0saSwwKTtyZXR1cm4gaT1hdChmdW5jdGlvbihlKXtyZXR1cm4gUG4odCxuLGUpLnRvcD5yfSxvLGkpLHtiZWdpbjpvLGVuZDppfX1mdW5jdGlvbiBabih0LGUsbixyKXtufHwobj1Obih0LGUpKTt2YXIgaT1Wbih0LGUsUG4odCxuLHIpLFwibGluZVwiKS50b3A7cmV0dXJuIFhuKHQsZSxuLGkpfWZ1bmN0aW9uIFFuKHQsZSxuLHIpe3JldHVybiEodC5ib3R0b208PW4pJiYodC50b3A+bnx8KHI/dC5sZWZ0OnQucmlnaHQpPmUpfWZ1bmN0aW9uIHRyKHQsZSxuLHIsaSl7aS09VWUoZSk7dmFyIG89Tm4odCxlKSxhPVVuKGUpLHM9MCxsPWUudGV4dC5sZW5ndGgsYz0hMCx1PXV0KGUsdC5kb2MuZGlyZWN0aW9uKTtpZih1KXt2YXIgZj0odC5vcHRpb25zLmxpbmVXcmFwcGluZz9mdW5jdGlvbih0LGUsbixyLGksbyxhKXt2YXIgcz1Ybih0LGUscixhKSxsPXMuYmVnaW4sYz1zLmVuZDsvXFxzLy50ZXN0KGUudGV4dC5jaGFyQXQoYy0xKSkmJmMtLTtmb3IodmFyIHU9bnVsbCxmPW51bGwsZD0wO2Q8aS5sZW5ndGg7ZCsrKXt2YXIgaD1pW2RdO2lmKCEoaC5mcm9tPj1jfHxoLnRvPD1sKSl7dmFyIHA9MSE9aC5sZXZlbCxtPVBuKHQscixwP01hdGgubWluKGMsaC50byktMTpNYXRoLm1heChsLGguZnJvbSkpLnJpZ2h0LGc9bTxvP28tbSsxZTk6bS1vOyghdXx8Zj5nKSYmKHU9aCxmPWcpfX1yZXR1cm4gdXx8KHU9aVtpLmxlbmd0aC0xXSksdS5mcm9tPGwmJih1PXtmcm9tOmwsdG86dS50byxsZXZlbDp1LmxldmVsfSksdS50bz5jJiYodT17ZnJvbTp1LmZyb20sdG86YyxsZXZlbDp1LmxldmVsfSksdX06ZnVuY3Rpb24odCxlLG4scixpLG8sYSl7dmFyIHM9YXQoZnVuY3Rpb24ocyl7dmFyIGw9aVtzXSxjPTEhPWwubGV2ZWw7cmV0dXJuIFFuKCRuKHQsdGUobixjP2wudG86bC5mcm9tLGM/XCJiZWZvcmVcIjpcImFmdGVyXCIpLFwibGluZVwiLGUsciksbyxhLCEwKX0sMCxpLmxlbmd0aC0xKSxsPWlbc107aWYocz4wKXt2YXIgYz0xIT1sLmxldmVsLHU9JG4odCx0ZShuLGM/bC5mcm9tOmwudG8sYz9cImFmdGVyXCI6XCJiZWZvcmVcIiksXCJsaW5lXCIsZSxyKTtRbih1LG8sYSwhMCkmJnUudG9wPmEmJihsPWlbcy0xXSl9cmV0dXJuIGx9KSh0LGUsbixvLHUscixpKTtjPTEhPWYubGV2ZWwscz1jP2YuZnJvbTpmLnRvLTEsbD1jP2YudG86Zi5mcm9tLTF9dmFyIGQsaCxwPW51bGwsbT1udWxsLGc9YXQoZnVuY3Rpb24oZSl7dmFyIG49UG4odCxvLGUpO3JldHVybiBuLnRvcCs9YSxuLmJvdHRvbSs9YSwhIVFuKG4scixpLCExKSYmKG4udG9wPD1pJiZuLmxlZnQ8PXImJihwPWUsbT1uKSwhMCl9LHMsbCksdj0hMTtpZihtKXt2YXIgeT1yLW0ubGVmdDxtLnJpZ2h0LXIsYj15PT1jO2c9cCsoYj8wOjEpLGg9Yj9cImFmdGVyXCI6XCJiZWZvcmVcIixkPXk/bS5sZWZ0Om0ucmlnaHR9ZWxzZXtjfHxnIT1sJiZnIT1zfHxnKyssaD0wPT1nP1wiYWZ0ZXJcIjpnPT1lLnRleHQubGVuZ3RoP1wiYmVmb3JlXCI6UG4odCxvLGctKGM/MTowKSkuYm90dG9tK2E8PWk9PWM/XCJhZnRlclwiOlwiYmVmb3JlXCI7dmFyIHg9JG4odCx0ZShuLGcsaCksXCJsaW5lXCIsZSxvKTtkPXgubGVmdCx2PWk8eC50b3A/LTE6aT49eC5ib3R0b20/MTowfXJldHVybiBnPW90KGUudGV4dCxnLDEpLFluKG4sZyxoLHYsci1kKX1mdW5jdGlvbiBlcih0KXtpZihudWxsIT10LmNhY2hlZFRleHRIZWlnaHQpcmV0dXJuIHQuY2FjaGVkVGV4dEhlaWdodDtpZihudWxsPT1Gbil7Rm49TShcInByZVwiLG51bGwsXCJDb2RlTWlycm9yLWxpbmUtbGlrZVwiKTtmb3IodmFyIGU9MDtlPDQ5OysrZSlGbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpLEZuLmFwcGVuZENoaWxkKE0oXCJiclwiKSk7Rm4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpKX1PKHQubWVhc3VyZSxGbik7dmFyIG49Rm4ub2Zmc2V0SGVpZ2h0LzUwO3JldHVybiBuPjMmJih0LmNhY2hlZFRleHRIZWlnaHQ9biksVCh0Lm1lYXN1cmUpLG58fDF9ZnVuY3Rpb24gbnIodCl7aWYobnVsbCE9dC5jYWNoZWRDaGFyV2lkdGgpcmV0dXJuIHQuY2FjaGVkQ2hhcldpZHRoO3ZhciBlPU0oXCJzcGFuXCIsXCJ4eHh4eHh4eHh4XCIpLG49TShcInByZVwiLFtlXSxcIkNvZGVNaXJyb3ItbGluZS1saWtlXCIpO08odC5tZWFzdXJlLG4pO3ZhciByPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT0oci5yaWdodC1yLmxlZnQpLzEwO3JldHVybiBpPjImJih0LmNhY2hlZENoYXJXaWR0aD1pKSxpfHwxMH1mdW5jdGlvbiBycih0KXtmb3IodmFyIGU9dC5kaXNwbGF5LG49e30scj17fSxpPWUuZ3V0dGVycy5jbGllbnRMZWZ0LG89ZS5ndXR0ZXJzLmZpcnN0Q2hpbGQsYT0wO287bz1vLm5leHRTaWJsaW5nLCsrYSl7dmFyIHM9dC5kaXNwbGF5Lmd1dHRlclNwZWNzW2FdLmNsYXNzTmFtZTtuW3NdPW8ub2Zmc2V0TGVmdCtvLmNsaWVudExlZnQraSxyW3NdPW8uY2xpZW50V2lkdGh9cmV0dXJue2ZpeGVkUG9zOmlyKGUpLGd1dHRlclRvdGFsV2lkdGg6ZS5ndXR0ZXJzLm9mZnNldFdpZHRoLGd1dHRlckxlZnQ6bixndXR0ZXJXaWR0aDpyLHdyYXBwZXJXaWR0aDplLndyYXBwZXIuY2xpZW50V2lkdGh9fWZ1bmN0aW9uIGlyKHQpe3JldHVybiB0LnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtdC5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fWZ1bmN0aW9uIG9yKHQpe3ZhciBlPWVyKHQuZGlzcGxheSksbj10Lm9wdGlvbnMubGluZVdyYXBwaW5nLHI9biYmTWF0aC5tYXgoNSx0LmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgvbnIodC5kaXNwbGF5KS0zKTtyZXR1cm4gZnVuY3Rpb24oaSl7aWYoSGUodC5kb2MsaSkpcmV0dXJuIDA7dmFyIG89MDtpZihpLndpZGdldHMpZm9yKHZhciBhPTA7YTxpLndpZGdldHMubGVuZ3RoO2ErKylpLndpZGdldHNbYV0uaGVpZ2h0JiYobys9aS53aWRnZXRzW2FdLmhlaWdodCk7cmV0dXJuIG4/bysoTWF0aC5jZWlsKGkudGV4dC5sZW5ndGgvcil8fDEpKmU6bytlfX1mdW5jdGlvbiBhcih0KXt2YXIgZT10LmRvYyxuPW9yKHQpO2UuaXRlcihmdW5jdGlvbih0KXt2YXIgZT1uKHQpO2UhPXQuaGVpZ2h0JiZZdCh0LGUpfSl9ZnVuY3Rpb24gc3IodCxlLG4scil7dmFyIGk9dC5kaXNwbGF5O2lmKCFuJiZcInRydWVcIj09X3QoZSkuZ2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIikpcmV0dXJuIG51bGw7dmFyIG8sYSxzPWkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RyeXtvPWUuY2xpZW50WC1zLmxlZnQsYT1lLmNsaWVudFktcy50b3B9Y2F0Y2goZSl7cmV0dXJuIG51bGx9dmFyIGwsYz1Kbih0LG8sYSk7aWYociYmMT09Yy54UmVsJiYobD1LdCh0LmRvYyxjLmxpbmUpLnRleHQpLmxlbmd0aD09Yy5jaCl7dmFyIHU9eihsLGwubGVuZ3RoLHQub3B0aW9ucy50YWJTaXplKS1sLmxlbmd0aDtjPXRlKGMubGluZSxNYXRoLm1heCgwLE1hdGgucm91bmQoKG8tU24odC5kaXNwbGF5KS5sZWZ0KS9ucih0LmRpc3BsYXkpKS11KSl9cmV0dXJuIGN9ZnVuY3Rpb24gbHIodCxlKXtpZihlPj10LmRpc3BsYXkudmlld1RvKXJldHVybiBudWxsO2lmKChlLT10LmRpc3BsYXkudmlld0Zyb20pPDApcmV0dXJuIG51bGw7Zm9yKHZhciBuPXQuZGlzcGxheS52aWV3LHI9MDtyPG4ubGVuZ3RoO3IrKylpZigoZS09bltyXS5zaXplKTwwKXJldHVybiByfWZ1bmN0aW9uIGNyKHQsZSxuLHIpe251bGw9PWUmJihlPXQuZG9jLmZpcnN0KSxudWxsPT1uJiYobj10LmRvYy5maXJzdCt0LmRvYy5zaXplKSxyfHwocj0wKTt2YXIgaT10LmRpc3BsYXk7aWYociYmbjxpLnZpZXdUbyYmKG51bGw9PWkudXBkYXRlTGluZU51bWJlcnN8fGkudXBkYXRlTGluZU51bWJlcnM+ZSkmJihpLnVwZGF0ZUxpbmVOdW1iZXJzPWUpLHQuY3VyT3Audmlld0NoYW5nZWQ9ITAsZT49aS52aWV3VG8pQ2UmJlJlKHQuZG9jLGUpPGkudmlld1RvJiZmcih0KTtlbHNlIGlmKG48PWkudmlld0Zyb20pQ2UmJkJlKHQuZG9jLG4rcik+aS52aWV3RnJvbT9mcih0KTooaS52aWV3RnJvbSs9cixpLnZpZXdUbys9cik7ZWxzZSBpZihlPD1pLnZpZXdGcm9tJiZuPj1pLnZpZXdUbylmcih0KTtlbHNlIGlmKGU8PWkudmlld0Zyb20pe3ZhciBvPWRyKHQsbixuK3IsMSk7bz8oaS52aWV3PWkudmlldy5zbGljZShvLmluZGV4KSxpLnZpZXdGcm9tPW8ubGluZU4saS52aWV3VG8rPXIpOmZyKHQpfWVsc2UgaWYobj49aS52aWV3VG8pe3ZhciBhPWRyKHQsZSxlLC0xKTthPyhpLnZpZXc9aS52aWV3LnNsaWNlKDAsYS5pbmRleCksaS52aWV3VG89YS5saW5lTik6ZnIodCl9ZWxzZXt2YXIgcz1kcih0LGUsZSwtMSksbD1kcih0LG4sbityLDEpO3MmJmw/KGkudmlldz1pLnZpZXcuc2xpY2UoMCxzLmluZGV4KS5jb25jYXQob24odCxzLmxpbmVOLGwubGluZU4pKS5jb25jYXQoaS52aWV3LnNsaWNlKGwuaW5kZXgpKSxpLnZpZXdUbys9cik6ZnIodCl9dmFyIGM9aS5leHRlcm5hbE1lYXN1cmVkO2MmJihuPGMubGluZU4/Yy5saW5lTis9cjplPGMubGluZU4rYy5zaXplJiYoaS5leHRlcm5hbE1lYXN1cmVkPW51bGwpKX1mdW5jdGlvbiB1cih0LGUsbil7dC5jdXJPcC52aWV3Q2hhbmdlZD0hMDt2YXIgcj10LmRpc3BsYXksaT10LmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtpZihpJiZlPj1pLmxpbmVOJiZlPGkubGluZU4raS5zaXplJiYoci5leHRlcm5hbE1lYXN1cmVkPW51bGwpLCEoZTxyLnZpZXdGcm9tfHxlPj1yLnZpZXdUbykpe3ZhciBvPXIudmlld1tscih0LGUpXTtpZihudWxsIT1vLm5vZGUpe3ZhciBhPW8uY2hhbmdlc3x8KG8uY2hhbmdlcz1bXSk7LTE9PUIoYSxuKSYmYS5wdXNoKG4pfX19ZnVuY3Rpb24gZnIodCl7dC5kaXNwbGF5LnZpZXdGcm9tPXQuZGlzcGxheS52aWV3VG89dC5kb2MuZmlyc3QsdC5kaXNwbGF5LnZpZXc9W10sdC5kaXNwbGF5LnZpZXdPZmZzZXQ9MH1mdW5jdGlvbiBkcih0LGUsbixyKXt2YXIgaSxvPWxyKHQsZSksYT10LmRpc3BsYXkudmlldztpZighQ2V8fG49PXQuZG9jLmZpcnN0K3QuZG9jLnNpemUpcmV0dXJue2luZGV4Om8sbGluZU46bn07Zm9yKHZhciBzPXQuZGlzcGxheS52aWV3RnJvbSxsPTA7bDxvO2wrKylzKz1hW2xdLnNpemU7aWYocyE9ZSl7aWYocj4wKXtpZihvPT1hLmxlbmd0aC0xKXJldHVybiBudWxsO2k9cythW29dLnNpemUtZSxvKyt9ZWxzZSBpPXMtZTtlKz1pLG4rPWl9Zm9yKDtSZSh0LmRvYyxuKSE9bjspe2lmKG89PShyPDA/MDphLmxlbmd0aC0xKSlyZXR1cm4gbnVsbDtuKz1yKmFbby0ocjwwPzE6MCldLnNpemUsbys9cn1yZXR1cm57aW5kZXg6byxsaW5lTjpufX1mdW5jdGlvbiBocih0KXtmb3IodmFyIGU9dC5kaXNwbGF5LnZpZXcsbj0wLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTtpLmhpZGRlbnx8aS5ub2RlJiYhaS5jaGFuZ2VzfHwrK259cmV0dXJuIG59ZnVuY3Rpb24gcHIodCl7dC5kaXNwbGF5LmlucHV0LnNob3dTZWxlY3Rpb24odC5kaXNwbGF5LmlucHV0LnByZXBhcmVTZWxlY3Rpb24oKSl9ZnVuY3Rpb24gbXIodCxlKXt2b2lkIDA9PT1lJiYoZT0hMCk7Zm9yKHZhciBuPXQuZG9jLHI9e30saT1yLmN1cnNvcnM9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG89ci5zZWxlY3Rpb249ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGE9MDthPG4uc2VsLnJhbmdlcy5sZW5ndGg7YSsrKWlmKGV8fGEhPW4uc2VsLnByaW1JbmRleCl7dmFyIHM9bi5zZWwucmFuZ2VzW2FdO2lmKCEocy5mcm9tKCkubGluZT49dC5kaXNwbGF5LnZpZXdUb3x8cy50bygpLmxpbmU8dC5kaXNwbGF5LnZpZXdGcm9tKSl7dmFyIGw9cy5lbXB0eSgpOyhsfHx0Lm9wdGlvbnMuc2hvd0N1cnNvcldoZW5TZWxlY3RpbmcpJiZncih0LHMuaGVhZCxpKSxsfHx5cih0LHMsbyl9fXJldHVybiByfWZ1bmN0aW9uIGdyKHQsZSxuKXt2YXIgcj0kbih0LGUsXCJkaXZcIixudWxsLG51bGwsIXQub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lKSxpPW4uYXBwZW5kQ2hpbGQoTShcImRpdlwiLFwiwqBcIixcIkNvZGVNaXJyb3ItY3Vyc29yXCIpKTtpZihpLnN0eWxlLmxlZnQ9ci5sZWZ0K1wicHhcIixpLnN0eWxlLnRvcD1yLnRvcCtcInB4XCIsaS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxyLmJvdHRvbS1yLnRvcCkqdC5vcHRpb25zLmN1cnNvckhlaWdodCtcInB4XCIsci5vdGhlcil7dmFyIG89bi5hcHBlbmRDaGlsZChNKFwiZGl2XCIsXCLCoFwiLFwiQ29kZU1pcnJvci1jdXJzb3IgQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3JcIikpO28uc3R5bGUuZGlzcGxheT1cIlwiLG8uc3R5bGUubGVmdD1yLm90aGVyLmxlZnQrXCJweFwiLG8uc3R5bGUudG9wPXIub3RoZXIudG9wK1wicHhcIixvLnN0eWxlLmhlaWdodD0uODUqKHIub3RoZXIuYm90dG9tLXIub3RoZXIudG9wKStcInB4XCJ9fWZ1bmN0aW9uIHZyKHQsZSl7cmV0dXJuIHQudG9wLWUudG9wfHx0LmxlZnQtZS5sZWZ0fWZ1bmN0aW9uIHlyKHQsZSxuKXt2YXIgcj10LmRpc3BsYXksaT10LmRvYyxvPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxhPVNuKHQuZGlzcGxheSkscz1hLmxlZnQsbD1NYXRoLm1heChyLnNpemVyV2lkdGgsVG4odCktci5zaXplci5vZmZzZXRMZWZ0KS1hLnJpZ2h0LGM9XCJsdHJcIj09aS5kaXJlY3Rpb247ZnVuY3Rpb24gdSh0LGUsbixyKXtlPDAmJihlPTApLGU9TWF0aC5yb3VuZChlKSxyPU1hdGgucm91bmQociksby5hcHBlbmRDaGlsZChNKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3Itc2VsZWN0ZWRcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogXCIrdCtcInB4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIitlK1wicHg7IHdpZHRoOiBcIisobnVsbD09bj9sLXQ6bikrXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIrKHItZSkrXCJweFwiKSl9ZnVuY3Rpb24gZihlLG4scil7dmFyIG8sYSxmPUt0KGksZSksZD1mLnRleHQubGVuZ3RoO2Z1bmN0aW9uIGgobixyKXtyZXR1cm4gS24odCx0ZShlLG4pLFwiZGl2XCIsZixyKX1mdW5jdGlvbiBwKGUsbixyKXt2YXIgaT1abih0LGYsbnVsbCxlKSxvPVwibHRyXCI9PW49PShcImFmdGVyXCI9PXIpP1wibGVmdFwiOlwicmlnaHRcIixhPVwiYWZ0ZXJcIj09cj9pLmJlZ2luOmkuZW5kLSgvXFxzLy50ZXN0KGYudGV4dC5jaGFyQXQoaS5lbmQtMSkpPzI6MSk7cmV0dXJuIGgoYSxvKVtvXX12YXIgbT11dChmLGkuZGlyZWN0aW9uKTtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7aWYoIXQpcmV0dXJuIHIoZSxuLFwibHRyXCIsMCk7Zm9yKHZhciBpPSExLG89MDtvPHQubGVuZ3RoOysrbyl7dmFyIGE9dFtvXTsoYS5mcm9tPG4mJmEudG8+ZXx8ZT09biYmYS50bz09ZSkmJihyKE1hdGgubWF4KGEuZnJvbSxlKSxNYXRoLm1pbihhLnRvLG4pLDE9PWEubGV2ZWw/XCJydGxcIjpcImx0clwiLG8pLGk9ITApfWl8fHIoZSxuLFwibHRyXCIpfShtLG58fDAsbnVsbD09cj9kOnIsZnVuY3Rpb24odCxlLGksZil7dmFyIGc9XCJsdHJcIj09aSx2PWgodCxnP1wibGVmdFwiOlwicmlnaHRcIikseT1oKGUtMSxnP1wicmlnaHRcIjpcImxlZnRcIiksYj1udWxsPT1uJiYwPT10LHg9bnVsbD09ciYmZT09ZCx3PTA9PWYsQz0hbXx8Zj09bS5sZW5ndGgtMTtpZih5LnRvcC12LnRvcDw9Myl7dmFyIGs9KGM/Yjp4KSYmdyxfPShjP3g6YikmJkMsUz1rP3M6KGc/djp5KS5sZWZ0LEU9Xz9sOihnP3k6dikucmlnaHQ7dShTLHYudG9wLEUtUyx2LmJvdHRvbSl9ZWxzZXt2YXIgVCxPLE0sTDtnPyhUPWMmJmImJnc/czp2LmxlZnQsTz1jP2w6cCh0LGksXCJiZWZvcmVcIiksTT1jP3M6cChlLGksXCJhZnRlclwiKSxMPWMmJngmJkM/bDp5LnJpZ2h0KTooVD1jP3AodCxpLFwiYmVmb3JlXCIpOnMsTz0hYyYmYiYmdz9sOnYucmlnaHQsTT0hYyYmeCYmQz9zOnkubGVmdCxMPWM/cChlLGksXCJhZnRlclwiKTpsKSx1KFQsdi50b3AsTy1ULHYuYm90dG9tKSx2LmJvdHRvbTx5LnRvcCYmdShzLHYuYm90dG9tLG51bGwseS50b3ApLHUoTSx5LnRvcCxMLU0seS5ib3R0b20pfSghb3x8dnIodixvKTwwKSYmKG89diksdnIoeSxvKTwwJiYobz15KSwoIWF8fHZyKHYsYSk8MCkmJihhPXYpLHZyKHksYSk8MCYmKGE9eSl9KSx7c3RhcnQ6byxlbmQ6YX19dmFyIGQ9ZS5mcm9tKCksaD1lLnRvKCk7aWYoZC5saW5lPT1oLmxpbmUpZihkLmxpbmUsZC5jaCxoLmNoKTtlbHNle3ZhciBwPUt0KGksZC5saW5lKSxtPUt0KGksaC5saW5lKSxnPXplKHApPT16ZShtKSx2PWYoZC5saW5lLGQuY2gsZz9wLnRleHQubGVuZ3RoKzE6bnVsbCkuZW5kLHk9ZihoLmxpbmUsZz8wOm51bGwsaC5jaCkuc3RhcnQ7ZyYmKHYudG9wPHkudG9wLTI/KHUodi5yaWdodCx2LnRvcCxudWxsLHYuYm90dG9tKSx1KHMseS50b3AseS5sZWZ0LHkuYm90dG9tKSk6dSh2LnJpZ2h0LHYudG9wLHkubGVmdC12LnJpZ2h0LHYuYm90dG9tKSksdi5ib3R0b208eS50b3AmJnUocyx2LmJvdHRvbSxudWxsLHkudG9wKX1uLmFwcGVuZENoaWxkKG8pfWZ1bmN0aW9uIGJyKHQpe2lmKHQuc3RhdGUuZm9jdXNlZCl7dmFyIGU9dC5kaXNwbGF5O2NsZWFySW50ZXJ2YWwoZS5ibGlua2VyKTt2YXIgbj0hMDtlLmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5PVwiXCIsdC5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZT4wP2UuYmxpbmtlcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JldHVybiBlLmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5PShuPSFuKT9cIlwiOlwiaGlkZGVuXCJ9LHQub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUpOnQub3B0aW9ucy5jdXJzb3JCbGlua1JhdGU8MCYmKGUuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIil9fWZ1bmN0aW9uIHhyKHQpe3Quc3RhdGUuZm9jdXNlZHx8KHQuZGlzcGxheS5pbnB1dC5mb2N1cygpLENyKHQpKX1mdW5jdGlvbiB3cih0KXt0LnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50JiYodC5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudD0hMSxrcih0KSl9LDEwMCl9ZnVuY3Rpb24gQ3IodCxlKXt0LnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50JiYodC5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudD0hMSksXCJub2N1cnNvclwiIT10Lm9wdGlvbnMucmVhZE9ubHkmJih0LnN0YXRlLmZvY3VzZWR8fChtdCh0LFwiZm9jdXNcIix0LGUpLHQuc3RhdGUuZm9jdXNlZD0hMCxQKHQuZGlzcGxheS53cmFwcGVyLFwiQ29kZU1pcnJvci1mb2N1c2VkXCIpLHQuY3VyT3B8fHQuZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudT09dC5kb2Muc2VsfHwodC5kaXNwbGF5LmlucHV0LnJlc2V0KCksbCYmc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LmRpc3BsYXkuaW5wdXQucmVzZXQoITApfSwyMCkpLHQuZGlzcGxheS5pbnB1dC5yZWNlaXZlZEZvY3VzKCkpLGJyKHQpKX1mdW5jdGlvbiBrcih0LGUpe3Quc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnR8fCh0LnN0YXRlLmZvY3VzZWQmJihtdCh0LFwiYmx1clwiLHQsZSksdC5zdGF0ZS5mb2N1c2VkPSExLEUodC5kaXNwbGF5LndyYXBwZXIsXCJDb2RlTWlycm9yLWZvY3VzZWRcIikpLGNsZWFySW50ZXJ2YWwodC5kaXNwbGF5LmJsaW5rZXIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnN0YXRlLmZvY3VzZWR8fCh0LmRpc3BsYXkuc2hpZnQ9ITEpfSwxNTApKX1mdW5jdGlvbiBfcih0KXtmb3IodmFyIGU9dC5kaXNwbGF5LG49ZS5saW5lRGl2Lm9mZnNldFRvcCxyPTA7cjxlLnZpZXcubGVuZ3RoO3IrKyl7dmFyIGk9ZS52aWV3W3JdLG89dC5vcHRpb25zLmxpbmVXcmFwcGluZyxsPXZvaWQgMCxjPTA7aWYoIWkuaGlkZGVuKXtpZihhJiZzPDgpe3ZhciB1PWkubm9kZS5vZmZzZXRUb3AraS5ub2RlLm9mZnNldEhlaWdodDtsPXUtbixuPXV9ZWxzZXt2YXIgZj1pLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bD1mLmJvdHRvbS1mLnRvcCwhbyYmaS50ZXh0LmZpcnN0Q2hpbGQmJihjPWkudGV4dC5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0LWYubGVmdC0xKX12YXIgZD1pLmxpbmUuaGVpZ2h0LWw7aWYoKGQ+LjAwNXx8ZDwtLjAwNSkmJihZdChpLmxpbmUsbCksU3IoaS5saW5lKSxpLnJlc3QpKWZvcih2YXIgaD0wO2g8aS5yZXN0Lmxlbmd0aDtoKyspU3IoaS5yZXN0W2hdKTtpZihjPnQuZGlzcGxheS5zaXplcldpZHRoKXt2YXIgcD1NYXRoLmNlaWwoYy9ucih0LmRpc3BsYXkpKTtwPnQuZGlzcGxheS5tYXhMaW5lTGVuZ3RoJiYodC5kaXNwbGF5Lm1heExpbmVMZW5ndGg9cCx0LmRpc3BsYXkubWF4TGluZT1pLmxpbmUsdC5kaXNwbGF5Lm1heExpbmVDaGFuZ2VkPSEwKX19fX1mdW5jdGlvbiBTcih0KXtpZih0LndpZGdldHMpZm9yKHZhciBlPTA7ZTx0LndpZGdldHMubGVuZ3RoOysrZSl7dmFyIG49dC53aWRnZXRzW2VdLHI9bi5ub2RlLnBhcmVudE5vZGU7ciYmKG4uaGVpZ2h0PXIub2Zmc2V0SGVpZ2h0KX19ZnVuY3Rpb24gRXIodCxlLG4pe3ZhciByPW4mJm51bGwhPW4udG9wP01hdGgubWF4KDAsbi50b3ApOnQuc2Nyb2xsZXIuc2Nyb2xsVG9wO3I9TWF0aC5mbG9vcihyLWtuKHQpKTt2YXIgaT1uJiZudWxsIT1uLmJvdHRvbT9uLmJvdHRvbTpyK3Qud3JhcHBlci5jbGllbnRIZWlnaHQsbz1YdChlLHIpLGE9WHQoZSxpKTtpZihuJiZuLmVuc3VyZSl7dmFyIHM9bi5lbnN1cmUuZnJvbS5saW5lLGw9bi5lbnN1cmUudG8ubGluZTtzPG8/KG89cyxhPVh0KGUsVWUoS3QoZSxzKSkrdC53cmFwcGVyLmNsaWVudEhlaWdodCkpOk1hdGgubWluKGwsZS5sYXN0TGluZSgpKT49YSYmKG89WHQoZSxVZShLdChlLGwpKS10LndyYXBwZXIuY2xpZW50SGVpZ2h0KSxhPWwpfXJldHVybntmcm9tOm8sdG86TWF0aC5tYXgoYSxvKzEpfX1mdW5jdGlvbiBUcih0LGUpe3ZhciBuPXQuZGlzcGxheSxyPWVyKHQuZGlzcGxheSk7ZS50b3A8MCYmKGUudG9wPTApO3ZhciBpPXQuY3VyT3AmJm51bGwhPXQuY3VyT3Auc2Nyb2xsVG9wP3QuY3VyT3Auc2Nyb2xsVG9wOm4uc2Nyb2xsZXIuc2Nyb2xsVG9wLG89T24odCksYT17fTtlLmJvdHRvbS1lLnRvcD5vJiYoZS5ib3R0b209ZS50b3Arbyk7dmFyIHM9dC5kb2MuaGVpZ2h0K19uKG4pLGw9ZS50b3A8cixjPWUuYm90dG9tPnMtcjtpZihlLnRvcDxpKWEuc2Nyb2xsVG9wPWw/MDplLnRvcDtlbHNlIGlmKGUuYm90dG9tPmkrbyl7dmFyIHU9TWF0aC5taW4oZS50b3AsKGM/czplLmJvdHRvbSktbyk7dSE9aSYmKGEuc2Nyb2xsVG9wPXUpfXZhciBmPXQuY3VyT3AmJm51bGwhPXQuY3VyT3Auc2Nyb2xsTGVmdD90LmN1ck9wLnNjcm9sbExlZnQ6bi5zY3JvbGxlci5zY3JvbGxMZWZ0LGQ9VG4odCktKHQub3B0aW9ucy5maXhlZEd1dHRlcj9uLmd1dHRlcnMub2Zmc2V0V2lkdGg6MCksaD1lLnJpZ2h0LWUubGVmdD5kO3JldHVybiBoJiYoZS5yaWdodD1lLmxlZnQrZCksZS5sZWZ0PDEwP2Euc2Nyb2xsTGVmdD0wOmUubGVmdDxmP2Euc2Nyb2xsTGVmdD1NYXRoLm1heCgwLGUubGVmdC0oaD8wOjEwKSk6ZS5yaWdodD5kK2YtMyYmKGEuc2Nyb2xsTGVmdD1lLnJpZ2h0KyhoPzA6MTApLWQpLGF9ZnVuY3Rpb24gT3IodCxlKXtudWxsIT1lJiYoQXIodCksdC5jdXJPcC5zY3JvbGxUb3A9KG51bGw9PXQuY3VyT3Auc2Nyb2xsVG9wP3QuZG9jLnNjcm9sbFRvcDp0LmN1ck9wLnNjcm9sbFRvcCkrZSl9ZnVuY3Rpb24gTXIodCl7QXIodCk7dmFyIGU9dC5nZXRDdXJzb3IoKTt0LmN1ck9wLnNjcm9sbFRvUG9zPXtmcm9tOmUsdG86ZSxtYXJnaW46dC5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbn19ZnVuY3Rpb24gTHIodCxlLG4pe251bGw9PWUmJm51bGw9PW58fEFyKHQpLG51bGwhPWUmJih0LmN1ck9wLnNjcm9sbExlZnQ9ZSksbnVsbCE9biYmKHQuY3VyT3Auc2Nyb2xsVG9wPW4pfWZ1bmN0aW9uIEFyKHQpe3ZhciBlPXQuY3VyT3Auc2Nyb2xsVG9Qb3M7aWYoZSl7dC5jdXJPcC5zY3JvbGxUb1Bvcz1udWxsO3ZhciBuPXFuKHQsZS5mcm9tKSxyPXFuKHQsZS50byk7TnIodCxuLHIsZS5tYXJnaW4pfX1mdW5jdGlvbiBOcih0LGUsbixyKXt2YXIgaT1Ucih0LHtsZWZ0Ok1hdGgubWluKGUubGVmdCxuLmxlZnQpLHRvcDpNYXRoLm1pbihlLnRvcCxuLnRvcCktcixyaWdodDpNYXRoLm1heChlLnJpZ2h0LG4ucmlnaHQpLGJvdHRvbTpNYXRoLm1heChlLmJvdHRvbSxuLmJvdHRvbSkrcn0pO0xyKHQsaS5zY3JvbGxMZWZ0LGkuc2Nyb2xsVG9wKX1mdW5jdGlvbiBQcih0LGUpe01hdGguYWJzKHQuZG9jLnNjcm9sbFRvcC1lKTwyfHwobnx8b2kodCx7dG9wOmV9KSxGcih0LGUsITApLG4mJm9pKHQpLHRpKHQsMTAwKSl9ZnVuY3Rpb24gRnIodCxlLG4pe2U9TWF0aC5taW4odC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbEhlaWdodC10LmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LGUpLCh0LmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wIT1lfHxuKSYmKHQuZG9jLnNjcm9sbFRvcD1lLHQuZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcChlKSx0LmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wIT1lJiYodC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcD1lKSl9ZnVuY3Rpb24gSXIodCxlLG4scil7ZT1NYXRoLm1pbihlLHQuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aC10LmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgpLChuP2U9PXQuZG9jLnNjcm9sbExlZnQ6TWF0aC5hYnModC5kb2Muc2Nyb2xsTGVmdC1lKTwyKSYmIXJ8fCh0LmRvYy5zY3JvbGxMZWZ0PWUsbGkodCksdC5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQhPWUmJih0LmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdD1lKSx0LmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGUpKX1mdW5jdGlvbiBqcih0KXt2YXIgZT10LmRpc3BsYXksbj1lLmd1dHRlcnMub2Zmc2V0V2lkdGgscj1NYXRoLnJvdW5kKHQuZG9jLmhlaWdodCtfbih0LmRpc3BsYXkpKTtyZXR1cm57Y2xpZW50SGVpZ2h0OmUuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LHZpZXdIZWlnaHQ6ZS53cmFwcGVyLmNsaWVudEhlaWdodCxzY3JvbGxXaWR0aDplLnNjcm9sbGVyLnNjcm9sbFdpZHRoLGNsaWVudFdpZHRoOmUuc2Nyb2xsZXIuY2xpZW50V2lkdGgsdmlld1dpZHRoOmUud3JhcHBlci5jbGllbnRXaWR0aCxiYXJMZWZ0OnQub3B0aW9ucy5maXhlZEd1dHRlcj9uOjAsZG9jSGVpZ2h0OnIsc2Nyb2xsSGVpZ2h0OnIrRW4odCkrZS5iYXJIZWlnaHQsbmF0aXZlQmFyV2lkdGg6ZS5uYXRpdmVCYXJXaWR0aCxndXR0ZXJXaWR0aDpufX12YXIgRHI9ZnVuY3Rpb24odCxlLG4pe3RoaXMuY209bjt2YXIgcj10aGlzLnZlcnQ9TShcImRpdlwiLFtNKFwiZGl2XCIsbnVsbCxudWxsLFwibWluLXdpZHRoOiAxcHhcIildLFwiQ29kZU1pcnJvci12c2Nyb2xsYmFyXCIpLGk9dGhpcy5ob3Jpej1NKFwiZGl2XCIsW00oXCJkaXZcIixudWxsLG51bGwsXCJoZWlnaHQ6IDEwMCU7IG1pbi1oZWlnaHQ6IDFweFwiKV0sXCJDb2RlTWlycm9yLWhzY3JvbGxiYXJcIik7ci50YWJJbmRleD1pLnRhYkluZGV4PS0xLHQociksdChpKSxkdChyLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXtyLmNsaWVudEhlaWdodCYmZShyLnNjcm9sbFRvcCxcInZlcnRpY2FsXCIpfSksZHQoaSxcInNjcm9sbFwiLGZ1bmN0aW9uKCl7aS5jbGllbnRXaWR0aCYmZShpLnNjcm9sbExlZnQsXCJob3Jpem9udGFsXCIpfSksdGhpcy5jaGVja2VkWmVyb1dpZHRoPSExLGEmJnM8OCYmKHRoaXMuaG9yaXouc3R5bGUubWluSGVpZ2h0PXRoaXMudmVydC5zdHlsZS5taW5XaWR0aD1cIjE4cHhcIil9O0RyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dC5zY3JvbGxXaWR0aD50LmNsaWVudFdpZHRoKzEsbj10LnNjcm9sbEhlaWdodD50LmNsaWVudEhlaWdodCsxLHI9dC5uYXRpdmVCYXJXaWR0aDtpZihuKXt0aGlzLnZlcnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy52ZXJ0LnN0eWxlLmJvdHRvbT1lP3IrXCJweFwiOlwiMFwiO3ZhciBpPXQudmlld0hlaWdodC0oZT9yOjApO3RoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodD1NYXRoLm1heCgwLHQuc2Nyb2xsSGVpZ2h0LXQuY2xpZW50SGVpZ2h0K2kpK1wicHhcIn1lbHNlIHRoaXMudmVydC5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0PVwiMFwiO2lmKGUpe3RoaXMuaG9yaXouc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5ob3Jpei5zdHlsZS5yaWdodD1uP3IrXCJweFwiOlwiMFwiLHRoaXMuaG9yaXouc3R5bGUubGVmdD10LmJhckxlZnQrXCJweFwiO3ZhciBvPXQudmlld1dpZHRoLXQuYmFyTGVmdC0obj9yOjApO3RoaXMuaG9yaXouZmlyc3RDaGlsZC5zdHlsZS53aWR0aD1NYXRoLm1heCgwLHQuc2Nyb2xsV2lkdGgtdC5jbGllbnRXaWR0aCtvKStcInB4XCJ9ZWxzZSB0aGlzLmhvcml6LnN0eWxlLmRpc3BsYXk9XCJcIix0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGg9XCIwXCI7cmV0dXJuIXRoaXMuY2hlY2tlZFplcm9XaWR0aCYmdC5jbGllbnRIZWlnaHQ+MCYmKDA9PXImJnRoaXMuemVyb1dpZHRoSGFjaygpLHRoaXMuY2hlY2tlZFplcm9XaWR0aD0hMCkse3JpZ2h0Om4/cjowLGJvdHRvbTplP3I6MH19LERyLnByb3RvdHlwZS5zZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKHQpe3RoaXMuaG9yaXouc2Nyb2xsTGVmdCE9dCYmKHRoaXMuaG9yaXouc2Nyb2xsTGVmdD10KSx0aGlzLmRpc2FibGVIb3JpeiYmdGhpcy5lbmFibGVaZXJvV2lkdGhCYXIodGhpcy5ob3Jpeix0aGlzLmRpc2FibGVIb3JpeixcImhvcml6XCIpfSxEci5wcm90b3R5cGUuc2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKHQpe3RoaXMudmVydC5zY3JvbGxUb3AhPXQmJih0aGlzLnZlcnQuc2Nyb2xsVG9wPXQpLHRoaXMuZGlzYWJsZVZlcnQmJnRoaXMuZW5hYmxlWmVyb1dpZHRoQmFyKHRoaXMudmVydCx0aGlzLmRpc2FibGVWZXJ0LFwidmVydFwiKX0sRHIucHJvdG90eXBlLnplcm9XaWR0aEhhY2s9ZnVuY3Rpb24oKXt2YXIgdD15JiYhaD9cIjEycHhcIjpcIjE4cHhcIjt0aGlzLmhvcml6LnN0eWxlLmhlaWdodD10aGlzLnZlcnQuc3R5bGUud2lkdGg9dCx0aGlzLmhvcml6LnN0eWxlLnBvaW50ZXJFdmVudHM9dGhpcy52ZXJ0LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsdGhpcy5kaXNhYmxlSG9yaXo9bmV3IFIsdGhpcy5kaXNhYmxlVmVydD1uZXcgUn0sRHIucHJvdG90eXBlLmVuYWJsZVplcm9XaWR0aEJhcj1mdW5jdGlvbih0LGUsbil7dC5zdHlsZS5wb2ludGVyRXZlbnRzPVwiYXV0b1wiLGUuc2V0KDFlMyxmdW5jdGlvbiByKCl7dmFyIGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPVwidmVydFwiPT1uP2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoaS5yaWdodC0xLChpLnRvcCtpLmJvdHRvbSkvMik6ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCgoaS5yaWdodCtpLmxlZnQpLzIsaS5ib3R0b20tMSk7byE9dD90LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCI6ZS5zZXQoMWUzLHIpfSl9LERyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaG9yaXoucGFyZW50Tm9kZTt0LnJlbW92ZUNoaWxkKHRoaXMuaG9yaXopLHQucmVtb3ZlQ2hpbGQodGhpcy52ZXJ0KX07dmFyIHpyPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBScih0LGUpe2V8fChlPWpyKHQpKTt2YXIgbj10LmRpc3BsYXkuYmFyV2lkdGgscj10LmRpc3BsYXkuYmFySGVpZ2h0O0JyKHQsZSk7Zm9yKHZhciBpPTA7aTw0JiZuIT10LmRpc3BsYXkuYmFyV2lkdGh8fHIhPXQuZGlzcGxheS5iYXJIZWlnaHQ7aSsrKW4hPXQuZGlzcGxheS5iYXJXaWR0aCYmdC5vcHRpb25zLmxpbmVXcmFwcGluZyYmX3IodCksQnIodCxqcih0KSksbj10LmRpc3BsYXkuYmFyV2lkdGgscj10LmRpc3BsYXkuYmFySGVpZ2h0fWZ1bmN0aW9uIEJyKHQsZSl7dmFyIG49dC5kaXNwbGF5LHI9bi5zY3JvbGxiYXJzLnVwZGF0ZShlKTtuLnNpemVyLnN0eWxlLnBhZGRpbmdSaWdodD0obi5iYXJXaWR0aD1yLnJpZ2h0KStcInB4XCIsbi5zaXplci5zdHlsZS5wYWRkaW5nQm90dG9tPShuLmJhckhlaWdodD1yLmJvdHRvbSkrXCJweFwiLG4uaGVpZ2h0Rm9yY2VyLnN0eWxlLmJvcmRlckJvdHRvbT1yLmJvdHRvbStcInB4IHNvbGlkIHRyYW5zcGFyZW50XCIsci5yaWdodCYmci5ib3R0b20/KG4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLG4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmhlaWdodD1yLmJvdHRvbStcInB4XCIsbi5zY3JvbGxiYXJGaWxsZXIuc3R5bGUud2lkdGg9ci5yaWdodCtcInB4XCIpOm4uc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJcIixyLmJvdHRvbSYmdC5vcHRpb25zLmNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyJiZ0Lm9wdGlvbnMuZml4ZWRHdXR0ZXI/KG4uZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLG4uZ3V0dGVyRmlsbGVyLnN0eWxlLmhlaWdodD1yLmJvdHRvbStcInB4XCIsbi5ndXR0ZXJGaWxsZXIuc3R5bGUud2lkdGg9ZS5ndXR0ZXJXaWR0aCtcInB4XCIpOm4uZ3V0dGVyRmlsbGVyLnN0eWxlLmRpc3BsYXk9XCJcIn16ci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJue2JvdHRvbTowLHJpZ2h0OjB9fSx6ci5wcm90b3R5cGUuc2V0U2Nyb2xsTGVmdD1mdW5jdGlvbigpe30senIucHJvdG90eXBlLnNldFNjcm9sbFRvcD1mdW5jdGlvbigpe30senIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7fTt2YXIgSHI9e25hdGl2ZTpEcixudWxsOnpyfTtmdW5jdGlvbiBXcih0KXt0LmRpc3BsYXkuc2Nyb2xsYmFycyYmKHQuZGlzcGxheS5zY3JvbGxiYXJzLmNsZWFyKCksdC5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MmJkUodC5kaXNwbGF5LndyYXBwZXIsdC5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpKSx0LmRpc3BsYXkuc2Nyb2xsYmFycz1uZXcgSHJbdC5vcHRpb25zLnNjcm9sbGJhclN0eWxlXShmdW5jdGlvbihlKXt0LmRpc3BsYXkud3JhcHBlci5pbnNlcnRCZWZvcmUoZSx0LmRpc3BsYXkuc2Nyb2xsYmFyRmlsbGVyKSxkdChlLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt0LnN0YXRlLmZvY3VzZWQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwbGF5LmlucHV0LmZvY3VzKCl9LDApfSksZS5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLFwidHJ1ZVwiKX0sZnVuY3Rpb24oZSxuKXtcImhvcml6b250YWxcIj09bj9Jcih0LGUpOlByKHQsZSl9LHQpLHQuZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzJiZQKHQuZGlzcGxheS53cmFwcGVyLHQuZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKX12YXIgVXI9MDtmdW5jdGlvbiBWcih0KXt2YXIgZTt0LmN1ck9wPXtjbTp0LHZpZXdDaGFuZ2VkOiExLHN0YXJ0SGVpZ2h0OnQuZG9jLmhlaWdodCxmb3JjZVVwZGF0ZTohMSx1cGRhdGVJbnB1dDowLHR5cGluZzohMSxjaGFuZ2VPYmpzOm51bGwsY3Vyc29yQWN0aXZpdHlIYW5kbGVyczpudWxsLGN1cnNvckFjdGl2aXR5Q2FsbGVkOjAsc2VsZWN0aW9uQ2hhbmdlZDohMSx1cGRhdGVNYXhMaW5lOiExLHNjcm9sbExlZnQ6bnVsbCxzY3JvbGxUb3A6bnVsbCxzY3JvbGxUb1BvczpudWxsLGZvY3VzOiExLGlkOisrVXJ9LGU9dC5jdXJPcCxhbj9hbi5vcHMucHVzaChlKTplLm93bnNHcm91cD1hbj17b3BzOltlXSxkZWxheWVkQ2FsbGJhY2tzOltdfX1mdW5jdGlvbiBHcih0KXt2YXIgZT10LmN1ck9wO2UmJmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5vd25zR3JvdXA7aWYobil0cnl7IWZ1bmN0aW9uKHQpe3ZhciBlPXQuZGVsYXllZENhbGxiYWNrcyxuPTA7ZG97Zm9yKDtuPGUubGVuZ3RoO24rKyllW25dLmNhbGwobnVsbCk7Zm9yKHZhciByPTA7cjx0Lm9wcy5sZW5ndGg7cisrKXt2YXIgaT10Lm9wc1tyXTtpZihpLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMpZm9yKDtpLmN1cnNvckFjdGl2aXR5Q2FsbGVkPGkuY3Vyc29yQWN0aXZpdHlIYW5kbGVycy5sZW5ndGg7KWkuY3Vyc29yQWN0aXZpdHlIYW5kbGVyc1tpLmN1cnNvckFjdGl2aXR5Q2FsbGVkKytdLmNhbGwobnVsbCxpLmNtKX19d2hpbGUobjxlLmxlbmd0aCl9KG4pfWZpbmFsbHl7YW49bnVsbCxlKG4pfX0oZSxmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQub3BzLmxlbmd0aDtlKyspdC5vcHNbZV0uY20uY3VyT3A9bnVsbDshZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQub3BzLG49MDtuPGUubGVuZ3RoO24rKylLcihlW25dKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKykoaT1lW3JdKS51cGRhdGVkRGlzcGxheT1pLm11c3RVcGRhdGUmJnJpKGkuY20saS51cGRhdGUpO2Zvcih2YXIgaSxvPTA7bzxlLmxlbmd0aDtvKyspJHIoZVtvXSk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspcXIoZVthXSk7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspWXIoZVtzXSl9KHQpfSl9ZnVuY3Rpb24gS3IodCl7dmFyIGU9dC5jbSxuPWUuZGlzcGxheTshZnVuY3Rpb24odCl7dmFyIGU9dC5kaXNwbGF5OyFlLnNjcm9sbGJhcnNDbGlwcGVkJiZlLnNjcm9sbGVyLm9mZnNldFdpZHRoJiYoZS5uYXRpdmVCYXJXaWR0aD1lLnNjcm9sbGVyLm9mZnNldFdpZHRoLWUuc2Nyb2xsZXIuY2xpZW50V2lkdGgsZS5oZWlnaHRGb3JjZXIuc3R5bGUuaGVpZ2h0PUVuKHQpK1wicHhcIixlLnNpemVyLnN0eWxlLm1hcmdpbkJvdHRvbT0tZS5uYXRpdmVCYXJXaWR0aCtcInB4XCIsZS5zaXplci5zdHlsZS5ib3JkZXJSaWdodFdpZHRoPUVuKHQpK1wicHhcIixlLnNjcm9sbGJhcnNDbGlwcGVkPSEwKX0oZSksdC51cGRhdGVNYXhMaW5lJiZHZShlKSx0Lm11c3RVcGRhdGU9dC52aWV3Q2hhbmdlZHx8dC5mb3JjZVVwZGF0ZXx8bnVsbCE9dC5zY3JvbGxUb3B8fHQuc2Nyb2xsVG9Qb3MmJih0LnNjcm9sbFRvUG9zLmZyb20ubGluZTxuLnZpZXdGcm9tfHx0LnNjcm9sbFRvUG9zLnRvLmxpbmU+PW4udmlld1RvKXx8bi5tYXhMaW5lQ2hhbmdlZCYmZS5vcHRpb25zLmxpbmVXcmFwcGluZyx0LnVwZGF0ZT10Lm11c3RVcGRhdGUmJm5ldyBuaShlLHQubXVzdFVwZGF0ZSYme3RvcDp0LnNjcm9sbFRvcCxlbnN1cmU6dC5zY3JvbGxUb1Bvc30sdC5mb3JjZVVwZGF0ZSl9ZnVuY3Rpb24gJHIodCl7dmFyIGU9dC5jbSxuPWUuZGlzcGxheTt0LnVwZGF0ZWREaXNwbGF5JiZfcihlKSx0LmJhck1lYXN1cmU9anIoZSksbi5tYXhMaW5lQ2hhbmdlZCYmIWUub3B0aW9ucy5saW5lV3JhcHBpbmcmJih0LmFkanVzdFdpZHRoVG89TG4oZSxuLm1heExpbmUsbi5tYXhMaW5lLnRleHQubGVuZ3RoKS5sZWZ0KzMsZS5kaXNwbGF5LnNpemVyV2lkdGg9dC5hZGp1c3RXaWR0aFRvLHQuYmFyTWVhc3VyZS5zY3JvbGxXaWR0aD1NYXRoLm1heChuLnNjcm9sbGVyLmNsaWVudFdpZHRoLG4uc2l6ZXIub2Zmc2V0TGVmdCt0LmFkanVzdFdpZHRoVG8rRW4oZSkrZS5kaXNwbGF5LmJhcldpZHRoKSx0Lm1heFNjcm9sbExlZnQ9TWF0aC5tYXgoMCxuLnNpemVyLm9mZnNldExlZnQrdC5hZGp1c3RXaWR0aFRvLVRuKGUpKSksKHQudXBkYXRlZERpc3BsYXl8fHQuc2VsZWN0aW9uQ2hhbmdlZCkmJih0LnByZXBhcmVkU2VsZWN0aW9uPW4uaW5wdXQucHJlcGFyZVNlbGVjdGlvbigpKX1mdW5jdGlvbiBxcih0KXt2YXIgZT10LmNtO251bGwhPXQuYWRqdXN0V2lkdGhUbyYmKGUuZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aD10LmFkanVzdFdpZHRoVG8rXCJweFwiLHQubWF4U2Nyb2xsTGVmdDxlLmRvYy5zY3JvbGxMZWZ0JiZJcihlLE1hdGgubWluKGUuZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0LHQubWF4U2Nyb2xsTGVmdCksITApLGUuZGlzcGxheS5tYXhMaW5lQ2hhbmdlZD0hMSk7dmFyIG49dC5mb2N1cyYmdC5mb2N1cz09TigpO3QucHJlcGFyZWRTZWxlY3Rpb24mJmUuZGlzcGxheS5pbnB1dC5zaG93U2VsZWN0aW9uKHQucHJlcGFyZWRTZWxlY3Rpb24sbiksKHQudXBkYXRlZERpc3BsYXl8fHQuc3RhcnRIZWlnaHQhPWUuZG9jLmhlaWdodCkmJlJyKGUsdC5iYXJNZWFzdXJlKSx0LnVwZGF0ZWREaXNwbGF5JiZzaShlLHQuYmFyTWVhc3VyZSksdC5zZWxlY3Rpb25DaGFuZ2VkJiZicihlKSxlLnN0YXRlLmZvY3VzZWQmJnQudXBkYXRlSW5wdXQmJmUuZGlzcGxheS5pbnB1dC5yZXNldCh0LnR5cGluZyksbiYmeHIodC5jbSl9ZnVuY3Rpb24gWXIodCl7dmFyIGU9dC5jbSxuPWUuZGlzcGxheSxyPWUuZG9jO2lmKHQudXBkYXRlZERpc3BsYXkmJmlpKGUsdC51cGRhdGUpLG51bGw9PW4ud2hlZWxTdGFydFh8fG51bGw9PXQuc2Nyb2xsVG9wJiZudWxsPT10LnNjcm9sbExlZnQmJiF0LnNjcm9sbFRvUG9zfHwobi53aGVlbFN0YXJ0WD1uLndoZWVsU3RhcnRZPW51bGwpLG51bGwhPXQuc2Nyb2xsVG9wJiZGcihlLHQuc2Nyb2xsVG9wLHQuZm9yY2VTY3JvbGwpLG51bGwhPXQuc2Nyb2xsTGVmdCYmSXIoZSx0LnNjcm9sbExlZnQsITAsITApLHQuc2Nyb2xsVG9Qb3Mpe3ZhciBpPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO251bGw9PXImJihyPTApLHQub3B0aW9ucy5saW5lV3JhcHBpbmd8fGUhPW58fChlPWUuY2g/dGUoZS5saW5lLFwiYmVmb3JlXCI9PWUuc3RpY2t5P2UuY2gtMTplLmNoLFwiYWZ0ZXJcIik6ZSxuPVwiYmVmb3JlXCI9PWUuc3RpY2t5P3RlKGUubGluZSxlLmNoKzEsXCJiZWZvcmVcIik6ZSk7Zm9yKHZhciBvPTA7bzw1O28rKyl7dmFyIGE9ITEscz0kbih0LGUpLGw9biYmbiE9ZT8kbih0LG4pOnM7aT17bGVmdDpNYXRoLm1pbihzLmxlZnQsbC5sZWZ0KSx0b3A6TWF0aC5taW4ocy50b3AsbC50b3ApLXIscmlnaHQ6TWF0aC5tYXgocy5sZWZ0LGwubGVmdCksYm90dG9tOk1hdGgubWF4KHMuYm90dG9tLGwuYm90dG9tKStyfTt2YXIgYz1Ucih0LGkpLHU9dC5kb2Muc2Nyb2xsVG9wLGY9dC5kb2Muc2Nyb2xsTGVmdDtpZihudWxsIT1jLnNjcm9sbFRvcCYmKFByKHQsYy5zY3JvbGxUb3ApLE1hdGguYWJzKHQuZG9jLnNjcm9sbFRvcC11KT4xJiYoYT0hMCkpLG51bGwhPWMuc2Nyb2xsTGVmdCYmKElyKHQsYy5zY3JvbGxMZWZ0KSxNYXRoLmFicyh0LmRvYy5zY3JvbGxMZWZ0LWYpPjEmJihhPSEwKSksIWEpYnJlYWt9cmV0dXJuIGl9KGUsc2Uocix0LnNjcm9sbFRvUG9zLmZyb20pLHNlKHIsdC5zY3JvbGxUb1Bvcy50byksdC5zY3JvbGxUb1Bvcy5tYXJnaW4pOyFmdW5jdGlvbih0LGUpe2lmKCFndCh0LFwic2Nyb2xsQ3Vyc29ySW50b1ZpZXdcIikpe3ZhciBuPXQuZGlzcGxheSxyPW4uc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1udWxsO2lmKGUudG9wK3IudG9wPDA/aT0hMDplLmJvdHRvbStyLnRvcD4od2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSYmKGk9ITEpLG51bGwhPWkmJiFwKXt2YXIgbz1NKFwiZGl2XCIsXCLigItcIixudWxsLFwicG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiKyhlLnRvcC1uLnZpZXdPZmZzZXQta24odC5kaXNwbGF5KSkrXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIisoZS5ib3R0b20tZS50b3ArRW4odCkrbi5iYXJIZWlnaHQpK1wicHg7XFxuICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiK2UubGVmdCtcInB4OyB3aWR0aDogXCIrTWF0aC5tYXgoMixlLnJpZ2h0LWUubGVmdCkrXCJweDtcIik7dC5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChvKSxvLnNjcm9sbEludG9WaWV3KGkpLHQuZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQobyl9fX0oZSxpKX12YXIgbz10Lm1heWJlSGlkZGVuTWFya2VycyxhPXQubWF5YmVVbmhpZGRlbk1hcmtlcnM7aWYobylmb3IodmFyIHM9MDtzPG8ubGVuZ3RoOysrcylvW3NdLmxpbmVzLmxlbmd0aHx8bXQob1tzXSxcImhpZGVcIik7aWYoYSlmb3IodmFyIGw9MDtsPGEubGVuZ3RoOysrbClhW2xdLmxpbmVzLmxlbmd0aCYmbXQoYVtsXSxcInVuaGlkZVwiKTtuLndyYXBwZXIub2Zmc2V0SGVpZ2h0JiYoci5zY3JvbGxUb3A9ZS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCksdC5jaGFuZ2VPYmpzJiZtdChlLFwiY2hhbmdlc1wiLGUsdC5jaGFuZ2VPYmpzKSx0LnVwZGF0ZSYmdC51cGRhdGUuZmluaXNoKCl9ZnVuY3Rpb24gSnIodCxlKXtpZih0LmN1ck9wKXJldHVybiBlKCk7VnIodCk7dHJ5e3JldHVybiBlKCl9ZmluYWxseXtHcih0KX19ZnVuY3Rpb24gWHIodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtpZih0LmN1ck9wKXJldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKTtWcih0KTt0cnl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfWZpbmFsbHl7R3IodCl9fX1mdW5jdGlvbiBacih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZih0aGlzLmN1ck9wKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtWcih0aGlzKTt0cnl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7R3IodGhpcyl9fX1mdW5jdGlvbiBRcih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNtO2lmKCFlfHxlLmN1ck9wKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtWcihlKTt0cnl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7R3IoZSl9fX1mdW5jdGlvbiB0aSh0LGUpe3QuZG9jLmhpZ2hsaWdodEZyb250aWVyPHQuZGlzcGxheS52aWV3VG8mJnQuc3RhdGUuaGlnaGxpZ2h0LnNldChlLGooZWksdCkpfWZ1bmN0aW9uIGVpKHQpe3ZhciBlPXQuZG9jO2lmKCEoZS5oaWdobGlnaHRGcm9udGllcj49dC5kaXNwbGF5LnZpZXdUbykpe3ZhciBuPStuZXcgRGF0ZSt0Lm9wdGlvbnMud29ya1RpbWUscj1oZSh0LGUuaGlnaGxpZ2h0RnJvbnRpZXIpLGk9W107ZS5pdGVyKHIubGluZSxNYXRoLm1pbihlLmZpcnN0K2Uuc2l6ZSx0LmRpc3BsYXkudmlld1RvKzUwMCksZnVuY3Rpb24obyl7aWYoci5saW5lPj10LmRpc3BsYXkudmlld0Zyb20pe3ZhciBhPW8uc3R5bGVzLHM9by50ZXh0Lmxlbmd0aD50Lm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoP1d0KGUubW9kZSxyLnN0YXRlKTpudWxsLGw9ZmUodCxvLHIsITApO3MmJihyLnN0YXRlPXMpLG8uc3R5bGVzPWwuc3R5bGVzO3ZhciBjPW8uc3R5bGVDbGFzc2VzLHU9bC5jbGFzc2VzO3U/by5zdHlsZUNsYXNzZXM9dTpjJiYoby5zdHlsZUNsYXNzZXM9bnVsbCk7Zm9yKHZhciBmPSFhfHxhLmxlbmd0aCE9by5zdHlsZXMubGVuZ3RofHxjIT11JiYoIWN8fCF1fHxjLmJnQ2xhc3MhPXUuYmdDbGFzc3x8Yy50ZXh0Q2xhc3MhPXUudGV4dENsYXNzKSxkPTA7IWYmJmQ8YS5sZW5ndGg7KytkKWY9YVtkXSE9by5zdHlsZXNbZF07ZiYmaS5wdXNoKHIubGluZSksby5zdGF0ZUFmdGVyPXIuc2F2ZSgpLHIubmV4dExpbmUoKX1lbHNlIG8udGV4dC5sZW5ndGg8PXQub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGgmJnBlKHQsby50ZXh0LHIpLG8uc3RhdGVBZnRlcj1yLmxpbmUlNT09MD9yLnNhdmUoKTpudWxsLHIubmV4dExpbmUoKTtpZigrbmV3IERhdGU+bilyZXR1cm4gdGkodCx0Lm9wdGlvbnMud29ya0RlbGF5KSwhMH0pLGUuaGlnaGxpZ2h0RnJvbnRpZXI9ci5saW5lLGUubW9kZUZyb250aWVyPU1hdGgubWF4KGUubW9kZUZyb250aWVyLHIubGluZSksaS5sZW5ndGgmJkpyKHQsZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPGkubGVuZ3RoO2UrKyl1cih0LGlbZV0sXCJ0ZXh0XCIpfSl9fXZhciBuaT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5kaXNwbGF5O3RoaXMudmlld3BvcnQ9ZSx0aGlzLnZpc2libGU9RXIocix0LmRvYyxlKSx0aGlzLmVkaXRvcklzSGlkZGVuPSFyLndyYXBwZXIub2Zmc2V0V2lkdGgsdGhpcy53cmFwcGVySGVpZ2h0PXIud3JhcHBlci5jbGllbnRIZWlnaHQsdGhpcy53cmFwcGVyV2lkdGg9ci53cmFwcGVyLmNsaWVudFdpZHRoLHRoaXMub2xkRGlzcGxheVdpZHRoPVRuKHQpLHRoaXMuZm9yY2U9bix0aGlzLmRpbXM9cnIodCksdGhpcy5ldmVudHM9W119O2Z1bmN0aW9uIHJpKHQsZSl7dmFyIG49dC5kaXNwbGF5LHI9dC5kb2M7aWYoZS5lZGl0b3JJc0hpZGRlbilyZXR1cm4gZnIodCksITE7aWYoIWUuZm9yY2UmJmUudmlzaWJsZS5mcm9tPj1uLnZpZXdGcm9tJiZlLnZpc2libGUudG88PW4udmlld1RvJiYobnVsbD09bi51cGRhdGVMaW5lTnVtYmVyc3x8bi51cGRhdGVMaW5lTnVtYmVycz49bi52aWV3VG8pJiZuLnJlbmRlcmVkVmlldz09bi52aWV3JiYwPT1ocih0KSlyZXR1cm4hMTtjaSh0KSYmKGZyKHQpLGUuZGltcz1ycih0KSk7dmFyIGk9ci5maXJzdCtyLnNpemUsbz1NYXRoLm1heChlLnZpc2libGUuZnJvbS10Lm9wdGlvbnMudmlld3BvcnRNYXJnaW4sci5maXJzdCksYT1NYXRoLm1pbihpLGUudmlzaWJsZS50byt0Lm9wdGlvbnMudmlld3BvcnRNYXJnaW4pO24udmlld0Zyb208byYmby1uLnZpZXdGcm9tPDIwJiYobz1NYXRoLm1heChyLmZpcnN0LG4udmlld0Zyb20pKSxuLnZpZXdUbz5hJiZuLnZpZXdUby1hPDIwJiYoYT1NYXRoLm1pbihpLG4udmlld1RvKSksQ2UmJihvPVJlKHQuZG9jLG8pLGE9QmUodC5kb2MsYSkpO3ZhciBzPW8hPW4udmlld0Zyb218fGEhPW4udmlld1RvfHxuLmxhc3RXcmFwSGVpZ2h0IT1lLndyYXBwZXJIZWlnaHR8fG4ubGFzdFdyYXBXaWR0aCE9ZS53cmFwcGVyV2lkdGg7IWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmRpc3BsYXk7MD09ci52aWV3Lmxlbmd0aHx8ZT49ci52aWV3VG98fG48PXIudmlld0Zyb20/KHIudmlldz1vbih0LGUsbiksci52aWV3RnJvbT1lKTooci52aWV3RnJvbT5lP3Iudmlldz1vbih0LGUsci52aWV3RnJvbSkuY29uY2F0KHIudmlldyk6ci52aWV3RnJvbTxlJiYoci52aWV3PXIudmlldy5zbGljZShscih0LGUpKSksci52aWV3RnJvbT1lLHIudmlld1RvPG4/ci52aWV3PXIudmlldy5jb25jYXQob24odCxyLnZpZXdUbyxuKSk6ci52aWV3VG8+biYmKHIudmlldz1yLnZpZXcuc2xpY2UoMCxscih0LG4pKSkpLHIudmlld1RvPW59KHQsbyxhKSxuLnZpZXdPZmZzZXQ9VWUoS3QodC5kb2Msbi52aWV3RnJvbSkpLHQuZGlzcGxheS5tb3Zlci5zdHlsZS50b3A9bi52aWV3T2Zmc2V0K1wicHhcIjt2YXIgYz1ocih0KTtpZighcyYmMD09YyYmIWUuZm9yY2UmJm4ucmVuZGVyZWRWaWV3PT1uLnZpZXcmJihudWxsPT1uLnVwZGF0ZUxpbmVOdW1iZXJzfHxuLnVwZGF0ZUxpbmVOdW1iZXJzPj1uLnZpZXdUbykpcmV0dXJuITE7dmFyIHU9ZnVuY3Rpb24odCl7aWYodC5oYXNGb2N1cygpKXJldHVybiBudWxsO3ZhciBlPU4oKTtpZighZXx8IUEodC5kaXNwbGF5LmxpbmVEaXYsZSkpcmV0dXJuIG51bGw7dmFyIG49e2FjdGl2ZUVsdDplfTtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgcj13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7ci5hbmNob3JOb2RlJiZyLmV4dGVuZCYmQSh0LmRpc3BsYXkubGluZURpdixyLmFuY2hvck5vZGUpJiYobi5hbmNob3JOb2RlPXIuYW5jaG9yTm9kZSxuLmFuY2hvck9mZnNldD1yLmFuY2hvck9mZnNldCxuLmZvY3VzTm9kZT1yLmZvY3VzTm9kZSxuLmZvY3VzT2Zmc2V0PXIuZm9jdXNPZmZzZXQpfXJldHVybiBufSh0KTtyZXR1cm4gYz40JiYobi5saW5lRGl2LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmRpc3BsYXksaT10Lm9wdGlvbnMubGluZU51bWJlcnMsbz1yLmxpbmVEaXYsYT1vLmZpcnN0Q2hpbGQ7ZnVuY3Rpb24gcyhlKXt2YXIgbj1lLm5leHRTaWJsaW5nO3JldHVybiBsJiZ5JiZ0LmRpc3BsYXkuY3VycmVudFdoZWVsVGFyZ2V0PT1lP2Uuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjplLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksbn1mb3IodmFyIGM9ci52aWV3LHU9ci52aWV3RnJvbSxmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBkPWNbZl07aWYoZC5oaWRkZW4pO2Vsc2UgaWYoZC5ub2RlJiZkLm5vZGUucGFyZW50Tm9kZT09byl7Zm9yKDthIT1kLm5vZGU7KWE9cyhhKTt2YXIgaD1pJiZudWxsIT1lJiZlPD11JiZkLmxpbmVOdW1iZXI7ZC5jaGFuZ2VzJiYoQihkLmNoYW5nZXMsXCJndXR0ZXJcIik+LTEmJihoPSExKSx1bih0LGQsdSxuKSksaCYmKFQoZC5saW5lTnVtYmVyKSxkLmxpbmVOdW1iZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoUXQodC5vcHRpb25zLHUpKSkpLGE9ZC5ub2RlLm5leHRTaWJsaW5nfWVsc2V7dmFyIHA9dm4odCxkLHUsbik7by5pbnNlcnRCZWZvcmUocCxhKX11Kz1kLnNpemV9Zm9yKDthOylhPXMoYSl9KHQsbi51cGRhdGVMaW5lTnVtYmVycyxlLmRpbXMpLGM+NCYmKG4ubGluZURpdi5zdHlsZS5kaXNwbGF5PVwiXCIpLG4ucmVuZGVyZWRWaWV3PW4udmlldyxmdW5jdGlvbih0KXtpZih0JiZ0LmFjdGl2ZUVsdCYmdC5hY3RpdmVFbHQhPU4oKSYmKHQuYWN0aXZlRWx0LmZvY3VzKCksdC5hbmNob3JOb2RlJiZBKGRvY3VtZW50LmJvZHksdC5hbmNob3JOb2RlKSYmQShkb2N1bWVudC5ib2R5LHQuZm9jdXNOb2RlKSkpe3ZhciBlPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7bi5zZXRFbmQodC5hbmNob3JOb2RlLHQuYW5jaG9yT2Zmc2V0KSxuLmNvbGxhcHNlKCExKSxlLnJlbW92ZUFsbFJhbmdlcygpLGUuYWRkUmFuZ2UobiksZS5leHRlbmQodC5mb2N1c05vZGUsdC5mb2N1c09mZnNldCl9fSh1KSxUKG4uY3Vyc29yRGl2KSxUKG4uc2VsZWN0aW9uRGl2KSxuLmd1dHRlcnMuc3R5bGUuaGVpZ2h0PW4uc2l6ZXIuc3R5bGUubWluSGVpZ2h0PTAscyYmKG4ubGFzdFdyYXBIZWlnaHQ9ZS53cmFwcGVySGVpZ2h0LG4ubGFzdFdyYXBXaWR0aD1lLndyYXBwZXJXaWR0aCx0aSh0LDQwMCkpLG4udXBkYXRlTGluZU51bWJlcnM9bnVsbCwhMH1mdW5jdGlvbiBpaSh0LGUpe2Zvcih2YXIgbj1lLnZpZXdwb3J0LHI9ITA7KHImJnQub3B0aW9ucy5saW5lV3JhcHBpbmcmJmUub2xkRGlzcGxheVdpZHRoIT1Ubih0KXx8KG4mJm51bGwhPW4udG9wJiYobj17dG9wOk1hdGgubWluKHQuZG9jLmhlaWdodCtfbih0LmRpc3BsYXkpLU9uKHQpLG4udG9wKX0pLGUudmlzaWJsZT1Fcih0LmRpc3BsYXksdC5kb2MsbiksIShlLnZpc2libGUuZnJvbT49dC5kaXNwbGF5LnZpZXdGcm9tJiZlLnZpc2libGUudG88PXQuZGlzcGxheS52aWV3VG8pKSkmJnJpKHQsZSk7cj0hMSl7X3IodCk7dmFyIGk9anIodCk7cHIodCksUnIodCxpKSxzaSh0LGkpLGUuZm9yY2U9ITF9ZS5zaWduYWwodCxcInVwZGF0ZVwiLHQpLHQuZGlzcGxheS52aWV3RnJvbT09dC5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb20mJnQuZGlzcGxheS52aWV3VG89PXQuZGlzcGxheS5yZXBvcnRlZFZpZXdUb3x8KGUuc2lnbmFsKHQsXCJ2aWV3cG9ydENoYW5nZVwiLHQsdC5kaXNwbGF5LnZpZXdGcm9tLHQuZGlzcGxheS52aWV3VG8pLHQuZGlzcGxheS5yZXBvcnRlZFZpZXdGcm9tPXQuZGlzcGxheS52aWV3RnJvbSx0LmRpc3BsYXkucmVwb3J0ZWRWaWV3VG89dC5kaXNwbGF5LnZpZXdUbyl9ZnVuY3Rpb24gb2kodCxlKXt2YXIgbj1uZXcgbmkodCxlKTtpZihyaSh0LG4pKXtfcih0KSxpaSh0LG4pO3ZhciByPWpyKHQpO3ByKHQpLFJyKHQsciksc2kodCxyKSxuLmZpbmlzaCgpfX1mdW5jdGlvbiBhaSh0KXt2YXIgZT10Lmd1dHRlcnMub2Zmc2V0V2lkdGg7dC5zaXplci5zdHlsZS5tYXJnaW5MZWZ0PWUrXCJweFwifWZ1bmN0aW9uIHNpKHQsZSl7dC5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbkhlaWdodD1lLmRvY0hlaWdodCtcInB4XCIsdC5kaXNwbGF5LmhlaWdodEZvcmNlci5zdHlsZS50b3A9ZS5kb2NIZWlnaHQrXCJweFwiLHQuZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodD1lLmRvY0hlaWdodCt0LmRpc3BsYXkuYmFySGVpZ2h0K0VuKHQpK1wicHhcIn1mdW5jdGlvbiBsaSh0KXt2YXIgZT10LmRpc3BsYXksbj1lLnZpZXc7aWYoZS5hbGlnbldpZGdldHN8fGUuZ3V0dGVycy5maXJzdENoaWxkJiZ0Lm9wdGlvbnMuZml4ZWRHdXR0ZXIpe2Zvcih2YXIgcj1pcihlKS1lLnNjcm9sbGVyLnNjcm9sbExlZnQrdC5kb2Muc2Nyb2xsTGVmdCxpPWUuZ3V0dGVycy5vZmZzZXRXaWR0aCxvPXIrXCJweFwiLGE9MDthPG4ubGVuZ3RoO2ErKylpZighblthXS5oaWRkZW4pe3Qub3B0aW9ucy5maXhlZEd1dHRlciYmKG5bYV0uZ3V0dGVyJiYoblthXS5ndXR0ZXIuc3R5bGUubGVmdD1vKSxuW2FdLmd1dHRlckJhY2tncm91bmQmJihuW2FdLmd1dHRlckJhY2tncm91bmQuc3R5bGUubGVmdD1vKSk7dmFyIHM9blthXS5hbGlnbmFibGU7aWYocylmb3IodmFyIGw9MDtsPHMubGVuZ3RoO2wrKylzW2xdLnN0eWxlLmxlZnQ9b310Lm9wdGlvbnMuZml4ZWRHdXR0ZXImJihlLmd1dHRlcnMuc3R5bGUubGVmdD1yK2krXCJweFwiKX19ZnVuY3Rpb24gY2kodCl7aWYoIXQub3B0aW9ucy5saW5lTnVtYmVycylyZXR1cm4hMTt2YXIgZT10LmRvYyxuPVF0KHQub3B0aW9ucyxlLmZpcnN0K2Uuc2l6ZS0xKSxyPXQuZGlzcGxheTtpZihuLmxlbmd0aCE9ci5saW5lTnVtQ2hhcnMpe3ZhciBpPXIubWVhc3VyZS5hcHBlbmRDaGlsZChNKFwiZGl2XCIsW00oXCJkaXZcIixuKV0sXCJDb2RlTWlycm9yLWxpbmVudW1iZXIgQ29kZU1pcnJvci1ndXR0ZXItZWx0XCIpKSxvPWkuZmlyc3RDaGlsZC5vZmZzZXRXaWR0aCxhPWkub2Zmc2V0V2lkdGgtbztyZXR1cm4gci5saW5lR3V0dGVyLnN0eWxlLndpZHRoPVwiXCIsci5saW5lTnVtSW5uZXJXaWR0aD1NYXRoLm1heChvLHIubGluZUd1dHRlci5vZmZzZXRXaWR0aC1hKSsxLHIubGluZU51bVdpZHRoPXIubGluZU51bUlubmVyV2lkdGgrYSxyLmxpbmVOdW1DaGFycz1yLmxpbmVOdW1Jbm5lcldpZHRoP24ubGVuZ3RoOi0xLHIubGluZUd1dHRlci5zdHlsZS53aWR0aD1yLmxpbmVOdW1XaWR0aCtcInB4XCIsYWkodC5kaXNwbGF5KSwhMH1yZXR1cm4hMX1mdW5jdGlvbiB1aSh0LGUpe2Zvcih2YXIgbj1bXSxyPSExLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG89dFtpXSxhPW51bGw7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG8mJihhPW8uc3R5bGUsbz1vLmNsYXNzTmFtZSksXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCI9PW8pe2lmKCFlKWNvbnRpbnVlO3I9ITB9bi5wdXNoKHtjbGFzc05hbWU6byxzdHlsZTphfSl9cmV0dXJuIGUmJiFyJiZuLnB1c2goe2NsYXNzTmFtZTpcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIixzdHlsZTpudWxsfSksbn1mdW5jdGlvbiBmaSh0KXt2YXIgZT10Lmd1dHRlcnMsbj10Lmd1dHRlclNwZWNzO1QoZSksdC5saW5lR3V0dGVyPW51bGw7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDsrK3Ipe3ZhciBpPW5bcl0sbz1pLmNsYXNzTmFtZSxhPWkuc3R5bGUscz1lLmFwcGVuZENoaWxkKE0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1ndXR0ZXIgXCIrbykpO2EmJihzLnN0eWxlLmNzc1RleHQ9YSksXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCI9PW8mJih0LmxpbmVHdXR0ZXI9cyxzLnN0eWxlLndpZHRoPSh0LmxpbmVOdW1XaWR0aHx8MSkrXCJweFwiKX1lLnN0eWxlLmRpc3BsYXk9bi5sZW5ndGg/XCJcIjpcIm5vbmVcIixhaSh0KX1mdW5jdGlvbiBkaSh0KXtmaSh0LmRpc3BsYXkpLGNyKHQpLGxpKHQpfWZ1bmN0aW9uIGhpKHQsZSxyLGkpe3ZhciBvPXRoaXM7dGhpcy5pbnB1dD1yLG8uc2Nyb2xsYmFyRmlsbGVyPU0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyXCIpLG8uc2Nyb2xsYmFyRmlsbGVyLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsXCJ0cnVlXCIpLG8uZ3V0dGVyRmlsbGVyPU0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyXCIpLG8uZ3V0dGVyRmlsbGVyLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsXCJ0cnVlXCIpLG8ubGluZURpdj1MKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItY29kZVwiKSxvLnNlbGVjdGlvbkRpdj1NKFwiZGl2XCIsbnVsbCxudWxsLFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAxXCIpLG8uY3Vyc29yRGl2PU0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1jdXJzb3JzXCIpLG8ubWVhc3VyZT1NKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItbWVhc3VyZVwiKSxvLmxpbmVNZWFzdXJlPU0oXCJkaXZcIixudWxsLFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpLG8ubGluZVNwYWNlPUwoXCJkaXZcIixbby5tZWFzdXJlLG8ubGluZU1lYXN1cmUsby5zZWxlY3Rpb25EaXYsby5jdXJzb3JEaXYsby5saW5lRGl2XSxudWxsLFwicG9zaXRpb246IHJlbGF0aXZlOyBvdXRsaW5lOiBub25lXCIpO3ZhciBjPUwoXCJkaXZcIixbby5saW5lU3BhY2VdLFwiQ29kZU1pcnJvci1saW5lc1wiKTtvLm1vdmVyPU0oXCJkaXZcIixbY10sbnVsbCxcInBvc2l0aW9uOiByZWxhdGl2ZVwiKSxvLnNpemVyPU0oXCJkaXZcIixbby5tb3Zlcl0sXCJDb2RlTWlycm9yLXNpemVyXCIpLG8uc2l6ZXJXaWR0aD1udWxsLG8uaGVpZ2h0Rm9yY2VyPU0oXCJkaXZcIixudWxsLG51bGwsXCJwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogXCIrSCtcInB4OyB3aWR0aDogMXB4O1wiKSxvLmd1dHRlcnM9TShcImRpdlwiLG51bGwsXCJDb2RlTWlycm9yLWd1dHRlcnNcIiksby5saW5lR3V0dGVyPW51bGwsby5zY3JvbGxlcj1NKFwiZGl2XCIsW28uc2l6ZXIsby5oZWlnaHRGb3JjZXIsby5ndXR0ZXJzXSxcIkNvZGVNaXJyb3Itc2Nyb2xsXCIpLG8uc2Nyb2xsZXIuc2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIixcIi0xXCIpLG8ud3JhcHBlcj1NKFwiZGl2XCIsW28uc2Nyb2xsYmFyRmlsbGVyLG8uZ3V0dGVyRmlsbGVyLG8uc2Nyb2xsZXJdLFwiQ29kZU1pcnJvclwiKSxhJiZzPDgmJihvLmd1dHRlcnMuc3R5bGUuekluZGV4PS0xLG8uc2Nyb2xsZXIuc3R5bGUucGFkZGluZ1JpZ2h0PTApLGx8fG4mJnZ8fChvLnNjcm9sbGVyLmRyYWdnYWJsZT0hMCksdCYmKHQuYXBwZW5kQ2hpbGQ/dC5hcHBlbmRDaGlsZChvLndyYXBwZXIpOnQoby53cmFwcGVyKSksby52aWV3RnJvbT1vLnZpZXdUbz1lLmZpcnN0LG8ucmVwb3J0ZWRWaWV3RnJvbT1vLnJlcG9ydGVkVmlld1RvPWUuZmlyc3Qsby52aWV3PVtdLG8ucmVuZGVyZWRWaWV3PW51bGwsby5leHRlcm5hbE1lYXN1cmVkPW51bGwsby52aWV3T2Zmc2V0PTAsby5sYXN0V3JhcEhlaWdodD1vLmxhc3RXcmFwV2lkdGg9MCxvLnVwZGF0ZUxpbmVOdW1iZXJzPW51bGwsby5uYXRpdmVCYXJXaWR0aD1vLmJhckhlaWdodD1vLmJhcldpZHRoPTAsby5zY3JvbGxiYXJzQ2xpcHBlZD0hMSxvLmxpbmVOdW1XaWR0aD1vLmxpbmVOdW1Jbm5lcldpZHRoPW8ubGluZU51bUNoYXJzPW51bGwsby5hbGlnbldpZGdldHM9ITEsby5jYWNoZWRDaGFyV2lkdGg9by5jYWNoZWRUZXh0SGVpZ2h0PW8uY2FjaGVkUGFkZGluZ0g9bnVsbCxvLm1heExpbmU9bnVsbCxvLm1heExpbmVMZW5ndGg9MCxvLm1heExpbmVDaGFuZ2VkPSExLG8ud2hlZWxEWD1vLndoZWVsRFk9by53aGVlbFN0YXJ0WD1vLndoZWVsU3RhcnRZPW51bGwsby5zaGlmdD0hMSxvLnNlbEZvckNvbnRleHRNZW51PW51bGwsby5hY3RpdmVUb3VjaD1udWxsLG8uZ3V0dGVyU3BlY3M9dWkoaS5ndXR0ZXJzLGkubGluZU51bWJlcnMpLGZpKG8pLHIuaW5pdChvKX1uaS5wcm90b3R5cGUuc2lnbmFsPWZ1bmN0aW9uKHQsZSl7eXQodCxlKSYmdGhpcy5ldmVudHMucHVzaChhcmd1bWVudHMpfSxuaS5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmV2ZW50cy5sZW5ndGg7dCsrKW10LmFwcGx5KG51bGwsdGhpcy5ldmVudHNbdF0pfTt2YXIgcGk9MCxtaT1udWxsO2Z1bmN0aW9uIGdpKHQpe3ZhciBlPXQud2hlZWxEZWx0YVgsbj10LndoZWVsRGVsdGFZO3JldHVybiBudWxsPT1lJiZ0LmRldGFpbCYmdC5heGlzPT10LkhPUklaT05UQUxfQVhJUyYmKGU9dC5kZXRhaWwpLG51bGw9PW4mJnQuZGV0YWlsJiZ0LmF4aXM9PXQuVkVSVElDQUxfQVhJUz9uPXQuZGV0YWlsOm51bGw9PW4mJihuPXQud2hlZWxEZWx0YSkse3g6ZSx5Om59fWZ1bmN0aW9uIHZpKHQpe3ZhciBlPWdpKHQpO3JldHVybiBlLngqPW1pLGUueSo9bWksZX1mdW5jdGlvbiB5aSh0LGUpe3ZhciByPWdpKGUpLGk9ci54LG89ci55LGE9dC5kaXNwbGF5LHM9YS5zY3JvbGxlcixjPXMuc2Nyb2xsV2lkdGg+cy5jbGllbnRXaWR0aCx1PXMuc2Nyb2xsSGVpZ2h0PnMuY2xpZW50SGVpZ2h0O2lmKGkmJmN8fG8mJnUpe2lmKG8mJnkmJmwpdDpmb3IodmFyIGQ9ZS50YXJnZXQsaD1hLnZpZXc7ZCE9cztkPWQucGFyZW50Tm9kZSlmb3IodmFyIHA9MDtwPGgubGVuZ3RoO3ArKylpZihoW3BdLm5vZGU9PWQpe3QuZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQ9ZDticmVhayB0fWlmKGkmJiFuJiYhZiYmbnVsbCE9bWkpcmV0dXJuIG8mJnUmJlByKHQsTWF0aC5tYXgoMCxzLnNjcm9sbFRvcCtvKm1pKSksSXIodCxNYXRoLm1heCgwLHMuc2Nyb2xsTGVmdCtpKm1pKSksKCFvfHxvJiZ1KSYmeHQoZSksdm9pZChhLndoZWVsU3RhcnRYPW51bGwpO2lmKG8mJm51bGwhPW1pKXt2YXIgbT1vKm1pLGc9dC5kb2Muc2Nyb2xsVG9wLHY9ZythLndyYXBwZXIuY2xpZW50SGVpZ2h0O208MD9nPU1hdGgubWF4KDAsZyttLTUwKTp2PU1hdGgubWluKHQuZG9jLmhlaWdodCx2K20rNTApLG9pKHQse3RvcDpnLGJvdHRvbTp2fSl9cGk8MjAmJihudWxsPT1hLndoZWVsU3RhcnRYPyhhLndoZWVsU3RhcnRYPXMuc2Nyb2xsTGVmdCxhLndoZWVsU3RhcnRZPXMuc2Nyb2xsVG9wLGEud2hlZWxEWD1pLGEud2hlZWxEWT1vLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihudWxsIT1hLndoZWVsU3RhcnRYKXt2YXIgdD1zLnNjcm9sbExlZnQtYS53aGVlbFN0YXJ0WCxlPXMuc2Nyb2xsVG9wLWEud2hlZWxTdGFydFksbj1lJiZhLndoZWVsRFkmJmUvYS53aGVlbERZfHx0JiZhLndoZWVsRFgmJnQvYS53aGVlbERYO2Eud2hlZWxTdGFydFg9YS53aGVlbFN0YXJ0WT1udWxsLG4mJihtaT0obWkqcGkrbikvKHBpKzEpLCsrcGkpfX0sMjAwKSk6KGEud2hlZWxEWCs9aSxhLndoZWVsRFkrPW8pKX19YT9taT0tLjUzOm4/bWk9MTU6dT9taT0tLjc6ZCYmKG1pPS0xLzMpO3ZhciBiaT1mdW5jdGlvbih0LGUpe3RoaXMucmFuZ2VzPXQsdGhpcy5wcmltSW5kZXg9ZX07YmkucHJvdG90eXBlLnByaW1hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZXNbdGhpcy5wcmltSW5kZXhdfSxiaS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKHQ9PXRoaXMpcmV0dXJuITA7aWYodC5wcmltSW5kZXghPXRoaXMucHJpbUluZGV4fHx0LnJhbmdlcy5sZW5ndGghPXRoaXMucmFuZ2VzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMucmFuZ2VzLmxlbmd0aDtlKyspe3ZhciBuPXRoaXMucmFuZ2VzW2VdLHI9dC5yYW5nZXNbZV07aWYoIW5lKG4uYW5jaG9yLHIuYW5jaG9yKXx8IW5lKG4uaGVhZCxyLmhlYWQpKXJldHVybiExfXJldHVybiEwfSxiaS5wcm90b3R5cGUuZGVlcENvcHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy5yYW5nZXMubGVuZ3RoO2UrKyl0W2VdPW5ldyB4aShyZSh0aGlzLnJhbmdlc1tlXS5hbmNob3IpLHJlKHRoaXMucmFuZ2VzW2VdLmhlYWQpKTtyZXR1cm4gbmV3IGJpKHQsdGhpcy5wcmltSW5kZXgpfSxiaS5wcm90b3R5cGUuc29tZXRoaW5nU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMucmFuZ2VzLmxlbmd0aDt0KyspaWYoIXRoaXMucmFuZ2VzW3RdLmVtcHR5KCkpcmV0dXJuITA7cmV0dXJuITF9LGJpLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0LGUpe2V8fChlPXQpO2Zvcih2YXIgbj0wO248dGhpcy5yYW5nZXMubGVuZ3RoO24rKyl7dmFyIHI9dGhpcy5yYW5nZXNbbl07aWYoZWUoZSxyLmZyb20oKSk+PTAmJmVlKHQsci50bygpKTw9MClyZXR1cm4gbn1yZXR1cm4tMX07dmFyIHhpPWZ1bmN0aW9uKHQsZSl7dGhpcy5hbmNob3I9dCx0aGlzLmhlYWQ9ZX07ZnVuY3Rpb24gd2kodCxlLG4pe3ZhciByPXQmJnQub3B0aW9ucy5zZWxlY3Rpb25zTWF5VG91Y2gsaT1lW25dO2Uuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiBlZSh0LmZyb20oKSxlLmZyb20oKSl9KSxuPUIoZSxpKTtmb3IodmFyIG89MTtvPGUubGVuZ3RoO28rKyl7dmFyIGE9ZVtvXSxzPWVbby0xXSxsPWVlKHMudG8oKSxhLmZyb20oKSk7aWYociYmIWEuZW1wdHkoKT9sPjA6bD49MCl7dmFyIGM9b2Uocy5mcm9tKCksYS5mcm9tKCkpLHU9aWUocy50bygpLGEudG8oKSksZj1zLmVtcHR5KCk/YS5mcm9tKCk9PWEuaGVhZDpzLmZyb20oKT09cy5oZWFkO288PW4mJi0tbixlLnNwbGljZSgtLW8sMixuZXcgeGkoZj91OmMsZj9jOnUpKX19cmV0dXJuIG5ldyBiaShlLG4pfWZ1bmN0aW9uIENpKHQsZSl7cmV0dXJuIG5ldyBiaShbbmV3IHhpKHQsZXx8dCldLDApfWZ1bmN0aW9uIGtpKHQpe3JldHVybiB0LnRleHQ/dGUodC5mcm9tLmxpbmUrdC50ZXh0Lmxlbmd0aC0xLFkodC50ZXh0KS5sZW5ndGgrKDE9PXQudGV4dC5sZW5ndGg/dC5mcm9tLmNoOjApKTp0LnRvfWZ1bmN0aW9uIF9pKHQsZSl7aWYoZWUodCxlLmZyb20pPDApcmV0dXJuIHQ7aWYoZWUodCxlLnRvKTw9MClyZXR1cm4ga2koZSk7dmFyIG49dC5saW5lK2UudGV4dC5sZW5ndGgtKGUudG8ubGluZS1lLmZyb20ubGluZSktMSxyPXQuY2g7cmV0dXJuIHQubGluZT09ZS50by5saW5lJiYocis9a2koZSkuY2gtZS50by5jaCksdGUobixyKX1mdW5jdGlvbiBTaSh0LGUpe2Zvcih2YXIgbj1bXSxyPTA7cjx0LnNlbC5yYW5nZXMubGVuZ3RoO3IrKyl7dmFyIGk9dC5zZWwucmFuZ2VzW3JdO24ucHVzaChuZXcgeGkoX2koaS5hbmNob3IsZSksX2koaS5oZWFkLGUpKSl9cmV0dXJuIHdpKHQuY20sbix0LnNlbC5wcmltSW5kZXgpfWZ1bmN0aW9uIEVpKHQsZSxuKXtyZXR1cm4gdC5saW5lPT1lLmxpbmU/dGUobi5saW5lLHQuY2gtZS5jaCtuLmNoKTp0ZShuLmxpbmUrKHQubGluZS1lLmxpbmUpLHQuY2gpfWZ1bmN0aW9uIFRpKHQpe3QuZG9jLm1vZGU9UnQodC5vcHRpb25zLHQuZG9jLm1vZGVPcHRpb24pLE9pKHQpfWZ1bmN0aW9uIE9pKHQpe3QuZG9jLml0ZXIoZnVuY3Rpb24odCl7dC5zdGF0ZUFmdGVyJiYodC5zdGF0ZUFmdGVyPW51bGwpLHQuc3R5bGVzJiYodC5zdHlsZXM9bnVsbCl9KSx0LmRvYy5tb2RlRnJvbnRpZXI9dC5kb2MuaGlnaGxpZ2h0RnJvbnRpZXI9dC5kb2MuZmlyc3QsdGkodCwxMDApLHQuc3RhdGUubW9kZUdlbisrLHQuY3VyT3AmJmNyKHQpfWZ1bmN0aW9uIE1pKHQsZSl7cmV0dXJuIDA9PWUuZnJvbS5jaCYmMD09ZS50by5jaCYmXCJcIj09WShlLnRleHQpJiYoIXQuY218fHQuY20ub3B0aW9ucy53aG9sZUxpbmVVcGRhdGVCZWZvcmUpfWZ1bmN0aW9uIExpKHQsZSxuLHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIG4/blt0XTpudWxsfWZ1bmN0aW9uIG8odCxuLGkpeyFmdW5jdGlvbih0LGUsbixyKXt0LnRleHQ9ZSx0LnN0YXRlQWZ0ZXImJih0LnN0YXRlQWZ0ZXI9bnVsbCksdC5zdHlsZXMmJih0LnN0eWxlcz1udWxsKSxudWxsIT10Lm9yZGVyJiYodC5vcmRlcj1udWxsKSxPZSh0KSxNZSh0LG4pO3ZhciBpPXI/cih0KToxO2khPXQuaGVpZ2h0JiZZdCh0LGkpfSh0LG4saSxyKSxsbih0LFwiY2hhbmdlXCIsdCxlKX1mdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciBuPVtdLG89dDtvPGU7KytvKW4ucHVzaChuZXcgS2UoY1tvXSxpKG8pLHIpKTtyZXR1cm4gbn12YXIgcz1lLmZyb20sbD1lLnRvLGM9ZS50ZXh0LHU9S3QodCxzLmxpbmUpLGY9S3QodCxsLmxpbmUpLGQ9WShjKSxoPWkoYy5sZW5ndGgtMSkscD1sLmxpbmUtcy5saW5lO2lmKGUuZnVsbCl0Lmluc2VydCgwLGEoMCxjLmxlbmd0aCkpLHQucmVtb3ZlKGMubGVuZ3RoLHQuc2l6ZS1jLmxlbmd0aCk7ZWxzZSBpZihNaSh0LGUpKXt2YXIgbT1hKDAsYy5sZW5ndGgtMSk7byhmLGYudGV4dCxoKSxwJiZ0LnJlbW92ZShzLmxpbmUscCksbS5sZW5ndGgmJnQuaW5zZXJ0KHMubGluZSxtKX1lbHNlIGlmKHU9PWYpaWYoMT09Yy5sZW5ndGgpbyh1LHUudGV4dC5zbGljZSgwLHMuY2gpK2QrdS50ZXh0LnNsaWNlKGwuY2gpLGgpO2Vsc2V7dmFyIGc9YSgxLGMubGVuZ3RoLTEpO2cucHVzaChuZXcgS2UoZCt1LnRleHQuc2xpY2UobC5jaCksaCxyKSksbyh1LHUudGV4dC5zbGljZSgwLHMuY2gpK2NbMF0saSgwKSksdC5pbnNlcnQocy5saW5lKzEsZyl9ZWxzZSBpZigxPT1jLmxlbmd0aClvKHUsdS50ZXh0LnNsaWNlKDAscy5jaCkrY1swXStmLnRleHQuc2xpY2UobC5jaCksaSgwKSksdC5yZW1vdmUocy5saW5lKzEscCk7ZWxzZXtvKHUsdS50ZXh0LnNsaWNlKDAscy5jaCkrY1swXSxpKDApKSxvKGYsZCtmLnRleHQuc2xpY2UobC5jaCksaCk7dmFyIHY9YSgxLGMubGVuZ3RoLTEpO3A+MSYmdC5yZW1vdmUocy5saW5lKzEscC0xKSx0Lmluc2VydChzLmxpbmUrMSx2KX1sbih0LFwiY2hhbmdlXCIsdCxlKX1mdW5jdGlvbiBBaSh0LGUsbil7IWZ1bmN0aW9uIHQocixpLG8pe2lmKHIubGlua2VkKWZvcih2YXIgYT0wO2E8ci5saW5rZWQubGVuZ3RoOysrYSl7dmFyIHM9ci5saW5rZWRbYV07aWYocy5kb2MhPWkpe3ZhciBsPW8mJnMuc2hhcmVkSGlzdDtuJiYhbHx8KGUocy5kb2MsbCksdChzLmRvYyxyLGwpKX19fSh0LG51bGwsITApfWZ1bmN0aW9uIE5pKHQsZSl7aWYoZS5jbSl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRvY3VtZW50IGlzIGFscmVhZHkgaW4gdXNlLlwiKTt0LmRvYz1lLGUuY209dCxhcih0KSxUaSh0KSxQaSh0KSx0Lm9wdGlvbnMubGluZVdyYXBwaW5nfHxHZSh0KSx0Lm9wdGlvbnMubW9kZT1lLm1vZGVPcHRpb24sY3IodCl9ZnVuY3Rpb24gUGkodCl7KFwicnRsXCI9PXQuZG9jLmRpcmVjdGlvbj9QOkUpKHQuZGlzcGxheS5saW5lRGl2LFwiQ29kZU1pcnJvci1ydGxcIil9ZnVuY3Rpb24gRmkodCl7dGhpcy5kb25lPVtdLHRoaXMudW5kb25lPVtdLHRoaXMudW5kb0RlcHRoPTEvMCx0aGlzLmxhc3RNb2RUaW1lPXRoaXMubGFzdFNlbFRpbWU9MCx0aGlzLmxhc3RPcD10aGlzLmxhc3RTZWxPcD1udWxsLHRoaXMubGFzdE9yaWdpbj10aGlzLmxhc3RTZWxPcmlnaW49bnVsbCx0aGlzLmdlbmVyYXRpb249dGhpcy5tYXhHZW5lcmF0aW9uPXR8fDF9ZnVuY3Rpb24gSWkodCxlKXt2YXIgbj17ZnJvbTpyZShlLmZyb20pLHRvOmtpKGUpLHRleHQ6JHQodCxlLmZyb20sZS50byl9O3JldHVybiBCaSh0LG4sZS5mcm9tLmxpbmUsZS50by5saW5lKzEpLEFpKHQsZnVuY3Rpb24odCl7cmV0dXJuIEJpKHQsbixlLmZyb20ubGluZSxlLnRvLmxpbmUrMSl9LCEwKSxufWZ1bmN0aW9uIGppKHQpe2Zvcig7dC5sZW5ndGg7KXt2YXIgZT1ZKHQpO2lmKCFlLnJhbmdlcylicmVhazt0LnBvcCgpfX1mdW5jdGlvbiBEaSh0LGUsbixyKXt2YXIgaT10Lmhpc3Rvcnk7aS51bmRvbmUubGVuZ3RoPTA7dmFyIG8sYSxzPStuZXcgRGF0ZTtpZigoaS5sYXN0T3A9PXJ8fGkubGFzdE9yaWdpbj09ZS5vcmlnaW4mJmUub3JpZ2luJiYoXCIrXCI9PWUub3JpZ2luLmNoYXJBdCgwKSYmaS5sYXN0TW9kVGltZT5zLSh0LmNtP3QuY20ub3B0aW9ucy5oaXN0b3J5RXZlbnREZWxheTo1MDApfHxcIipcIj09ZS5vcmlnaW4uY2hhckF0KDApKSkmJihvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/KGppKHQuZG9uZSksWSh0LmRvbmUpKTp0LmRvbmUubGVuZ3RoJiYhWSh0LmRvbmUpLnJhbmdlcz9ZKHQuZG9uZSk6dC5kb25lLmxlbmd0aD4xJiYhdC5kb25lW3QuZG9uZS5sZW5ndGgtMl0ucmFuZ2VzPyh0LmRvbmUucG9wKCksWSh0LmRvbmUpKTp2b2lkIDB9KGksaS5sYXN0T3A9PXIpKSlhPVkoby5jaGFuZ2VzKSwwPT1lZShlLmZyb20sZS50bykmJjA9PWVlKGUuZnJvbSxhLnRvKT9hLnRvPWtpKGUpOm8uY2hhbmdlcy5wdXNoKElpKHQsZSkpO2Vsc2V7dmFyIGw9WShpLmRvbmUpO2ZvcihsJiZsLnJhbmdlc3x8UmkodC5zZWwsaS5kb25lKSxvPXtjaGFuZ2VzOltJaSh0LGUpXSxnZW5lcmF0aW9uOmkuZ2VuZXJhdGlvbn0saS5kb25lLnB1c2gobyk7aS5kb25lLmxlbmd0aD5pLnVuZG9EZXB0aDspaS5kb25lLnNoaWZ0KCksaS5kb25lWzBdLnJhbmdlc3x8aS5kb25lLnNoaWZ0KCl9aS5kb25lLnB1c2gobiksaS5nZW5lcmF0aW9uPSsraS5tYXhHZW5lcmF0aW9uLGkubGFzdE1vZFRpbWU9aS5sYXN0U2VsVGltZT1zLGkubGFzdE9wPWkubGFzdFNlbE9wPXIsaS5sYXN0T3JpZ2luPWkubGFzdFNlbE9yaWdpbj1lLm9yaWdpbixhfHxtdCh0LFwiaGlzdG9yeUFkZGVkXCIpfWZ1bmN0aW9uIHppKHQsZSxuLHIpe3ZhciBpPXQuaGlzdG9yeSxvPXImJnIub3JpZ2luO249PWkubGFzdFNlbE9wfHxvJiZpLmxhc3RTZWxPcmlnaW49PW8mJihpLmxhc3RNb2RUaW1lPT1pLmxhc3RTZWxUaW1lJiZpLmxhc3RPcmlnaW49PW98fGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWUuY2hhckF0KDApO3JldHVyblwiKlwiPT1pfHxcIitcIj09aSYmbi5yYW5nZXMubGVuZ3RoPT1yLnJhbmdlcy5sZW5ndGgmJm4uc29tZXRoaW5nU2VsZWN0ZWQoKT09ci5zb21ldGhpbmdTZWxlY3RlZCgpJiZuZXcgRGF0ZS10Lmhpc3RvcnkubGFzdFNlbFRpbWU8PSh0LmNtP3QuY20ub3B0aW9ucy5oaXN0b3J5RXZlbnREZWxheTo1MDApfSh0LG8sWShpLmRvbmUpLGUpKT9pLmRvbmVbaS5kb25lLmxlbmd0aC0xXT1lOlJpKGUsaS5kb25lKSxpLmxhc3RTZWxUaW1lPStuZXcgRGF0ZSxpLmxhc3RTZWxPcmlnaW49byxpLmxhc3RTZWxPcD1uLHImJiExIT09ci5jbGVhclJlZG8mJmppKGkudW5kb25lKX1mdW5jdGlvbiBSaSh0LGUpe3ZhciBuPVkoZSk7biYmbi5yYW5nZXMmJm4uZXF1YWxzKHQpfHxlLnB1c2godCl9ZnVuY3Rpb24gQmkodCxlLG4scil7dmFyIGk9ZVtcInNwYW5zX1wiK3QuaWRdLG89MDt0Lml0ZXIoTWF0aC5tYXgodC5maXJzdCxuKSxNYXRoLm1pbih0LmZpcnN0K3Quc2l6ZSxyKSxmdW5jdGlvbihuKXtuLm1hcmtlZFNwYW5zJiYoKGl8fChpPWVbXCJzcGFuc19cIit0LmlkXT17fSkpW29dPW4ubWFya2VkU3BhbnMpLCsrb30pfWZ1bmN0aW9uIEhpKHQpe2lmKCF0KXJldHVybiBudWxsO2Zvcih2YXIgZSxuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXS5tYXJrZXIuZXhwbGljaXRseUNsZWFyZWQ/ZXx8KGU9dC5zbGljZSgwLG4pKTplJiZlLnB1c2godFtuXSk7cmV0dXJuIGU/ZS5sZW5ndGg/ZTpudWxsOnR9ZnVuY3Rpb24gV2kodCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuPWVbXCJzcGFuc19cIit0LmlkXTtpZighbilyZXR1cm4gbnVsbDtmb3IodmFyIHI9W10saT0wO2k8ZS50ZXh0Lmxlbmd0aDsrK2kpci5wdXNoKEhpKG5baV0pKTtyZXR1cm4gcn0odCxlKSxyPUVlKHQsZSk7aWYoIW4pcmV0dXJuIHI7aWYoIXIpcmV0dXJuIG47Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDsrK2kpe3ZhciBvPW5baV0sYT1yW2ldO2lmKG8mJmEpdDpmb3IodmFyIHM9MDtzPGEubGVuZ3RoOysrcyl7Zm9yKHZhciBsPWFbc10sYz0wO2M8by5sZW5ndGg7KytjKWlmKG9bY10ubWFya2VyPT1sLm1hcmtlciljb250aW51ZSB0O28ucHVzaChsKX1lbHNlIGEmJihuW2ldPWEpfXJldHVybiBufWZ1bmN0aW9uIFVpKHQsZSxuKXtmb3IodmFyIHI9W10saT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbz10W2ldO2lmKG8ucmFuZ2VzKXIucHVzaChuP2JpLnByb3RvdHlwZS5kZWVwQ29weS5jYWxsKG8pOm8pO2Vsc2V7dmFyIGE9by5jaGFuZ2VzLHM9W107ci5wdXNoKHtjaGFuZ2VzOnN9KTtmb3IodmFyIGw9MDtsPGEubGVuZ3RoOysrbCl7dmFyIGM9YVtsXSx1PXZvaWQgMDtpZihzLnB1c2goe2Zyb206Yy5mcm9tLHRvOmMudG8sdGV4dDpjLnRleHR9KSxlKWZvcih2YXIgZiBpbiBjKSh1PWYubWF0Y2goL15zcGFuc18oXFxkKykkLykpJiZCKGUsTnVtYmVyKHVbMV0pKT4tMSYmKFkocylbZl09Y1tmXSxkZWxldGUgY1tmXSl9fX1yZXR1cm4gcn1mdW5jdGlvbiBWaSh0LGUsbixyKXtpZihyKXt2YXIgaT10LmFuY2hvcjtpZihuKXt2YXIgbz1lZShlLGkpPDA7byE9ZWUobixpKTwwPyhpPWUsZT1uKTpvIT1lZShlLG4pPDAmJihlPW4pfXJldHVybiBuZXcgeGkoaSxlKX1yZXR1cm4gbmV3IHhpKG58fGUsZSl9ZnVuY3Rpb24gR2kodCxlLG4scixpKXtudWxsPT1pJiYoaT10LmNtJiYodC5jbS5kaXNwbGF5LnNoaWZ0fHx0LmV4dGVuZCkpLEppKHQsbmV3IGJpKFtWaSh0LnNlbC5wcmltYXJ5KCksZSxuLGkpXSwwKSxyKX1mdW5jdGlvbiBLaSh0LGUsbil7Zm9yKHZhciByPVtdLGk9dC5jbSYmKHQuY20uZGlzcGxheS5zaGlmdHx8dC5leHRlbmQpLG89MDtvPHQuc2VsLnJhbmdlcy5sZW5ndGg7bysrKXJbb109VmkodC5zZWwucmFuZ2VzW29dLGVbb10sbnVsbCxpKTt2YXIgYT13aSh0LmNtLHIsdC5zZWwucHJpbUluZGV4KTtKaSh0LGEsbil9ZnVuY3Rpb24gJGkodCxlLG4scil7dmFyIGk9dC5zZWwucmFuZ2VzLnNsaWNlKDApO2lbZV09bixKaSh0LHdpKHQuY20saSx0LnNlbC5wcmltSW5kZXgpLHIpfWZ1bmN0aW9uIHFpKHQsZSxuLHIpe0ppKHQsQ2koZSxuKSxyKX1mdW5jdGlvbiBZaSh0LGUsbil7dmFyIHI9dC5oaXN0b3J5LmRvbmUsaT1ZKHIpO2kmJmkucmFuZ2VzPyhyW3IubGVuZ3RoLTFdPWUsWGkodCxlLG4pKTpKaSh0LGUsbil9ZnVuY3Rpb24gSmkodCxlLG4pe1hpKHQsZSxuKSx6aSh0LHQuc2VsLHQuY20/dC5jbS5jdXJPcC5pZDpOYU4sbil9ZnVuY3Rpb24gWGkodCxlLG4peyh5dCh0LFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIpfHx0LmNtJiZ5dCh0LmNtLFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIpKSYmKGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXtyYW5nZXM6ZS5yYW5nZXMsdXBkYXRlOmZ1bmN0aW9uKGUpe3RoaXMucmFuZ2VzPVtdO2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMucmFuZ2VzW25dPW5ldyB4aShzZSh0LGVbbl0uYW5jaG9yKSxzZSh0LGVbbl0uaGVhZCkpfSxvcmlnaW46biYmbi5vcmlnaW59O3JldHVybiBtdCh0LFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsdCxyKSx0LmNtJiZtdCh0LmNtLFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsdC5jbSxyKSxyLnJhbmdlcyE9ZS5yYW5nZXM/d2kodC5jbSxyLnJhbmdlcyxyLnJhbmdlcy5sZW5ndGgtMSk6ZX0odCxlLG4pKTt2YXIgcj1uJiZuLmJpYXN8fChlZShlLnByaW1hcnkoKS5oZWFkLHQuc2VsLnByaW1hcnkoKS5oZWFkKTwwPy0xOjEpO1ppKHQsdG8odCxlLHIsITApKSxuJiYhMT09PW4uc2Nyb2xsfHwhdC5jbXx8TXIodC5jbSl9ZnVuY3Rpb24gWmkodCxlKXtlLmVxdWFscyh0LnNlbCl8fCh0LnNlbD1lLHQuY20mJih0LmNtLmN1ck9wLnVwZGF0ZUlucHV0PTEsdC5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwLHZ0KHQuY20pKSxsbih0LFwiY3Vyc29yQWN0aXZpdHlcIix0KSl9ZnVuY3Rpb24gUWkodCl7WmkodCx0byh0LHQuc2VsLG51bGwsITEpKX1mdW5jdGlvbiB0byh0LGUsbixyKXtmb3IodmFyIGksbz0wO288ZS5yYW5nZXMubGVuZ3RoO28rKyl7dmFyIGE9ZS5yYW5nZXNbb10scz1lLnJhbmdlcy5sZW5ndGg9PXQuc2VsLnJhbmdlcy5sZW5ndGgmJnQuc2VsLnJhbmdlc1tvXSxsPW5vKHQsYS5hbmNob3IscyYmcy5hbmNob3IsbixyKSxjPW5vKHQsYS5oZWFkLHMmJnMuaGVhZCxuLHIpOyhpfHxsIT1hLmFuY2hvcnx8YyE9YS5oZWFkKSYmKGl8fChpPWUucmFuZ2VzLnNsaWNlKDAsbykpLGlbb109bmV3IHhpKGwsYykpfXJldHVybiBpP3dpKHQuY20saSxlLnByaW1JbmRleCk6ZX1mdW5jdGlvbiBlbyh0LGUsbixyLGkpe3ZhciBvPUt0KHQsZS5saW5lKTtpZihvLm1hcmtlZFNwYW5zKWZvcih2YXIgYT0wO2E8by5tYXJrZWRTcGFucy5sZW5ndGg7KythKXt2YXIgcz1vLm1hcmtlZFNwYW5zW2FdLGw9cy5tYXJrZXIsYz1cInNlbGVjdExlZnRcImluIGw/IWwuc2VsZWN0TGVmdDpsLmluY2x1c2l2ZUxlZnQsdT1cInNlbGVjdFJpZ2h0XCJpbiBsPyFsLnNlbGVjdFJpZ2h0OmwuaW5jbHVzaXZlUmlnaHQ7aWYoKG51bGw9PXMuZnJvbXx8KGM/cy5mcm9tPD1lLmNoOnMuZnJvbTxlLmNoKSkmJihudWxsPT1zLnRvfHwodT9zLnRvPj1lLmNoOnMudG8+ZS5jaCkpKXtpZihpJiYobXQobCxcImJlZm9yZUN1cnNvckVudGVyXCIpLGwuZXhwbGljaXRseUNsZWFyZWQpKXtpZihvLm1hcmtlZFNwYW5zKXstLWE7Y29udGludWV9YnJlYWt9aWYoIWwuYXRvbWljKWNvbnRpbnVlO2lmKG4pe3ZhciBmPWwuZmluZChyPDA/MTotMSksZD12b2lkIDA7aWYoKHI8MD91OmMpJiYoZj1ybyh0LGYsLXIsZiYmZi5saW5lPT1lLmxpbmU/bzpudWxsKSksZiYmZi5saW5lPT1lLmxpbmUmJihkPWVlKGYsbikpJiYocjwwP2Q8MDpkPjApKXJldHVybiBlbyh0LGYsZSxyLGkpfXZhciBoPWwuZmluZChyPDA/LTE6MSk7cmV0dXJuKHI8MD9jOnUpJiYoaD1ybyh0LGgscixoLmxpbmU9PWUubGluZT9vOm51bGwpKSxoP2VvKHQsaCxlLHIsaSk6bnVsbH19cmV0dXJuIGV9ZnVuY3Rpb24gbm8odCxlLG4scixpKXt2YXIgbz1yfHwxLGE9ZW8odCxlLG4sbyxpKXx8IWkmJmVvKHQsZSxuLG8sITApfHxlbyh0LGUsbiwtbyxpKXx8IWkmJmVvKHQsZSxuLC1vLCEwKTtyZXR1cm4gYXx8KHQuY2FudEVkaXQ9ITAsdGUodC5maXJzdCwwKSl9ZnVuY3Rpb24gcm8odCxlLG4scil7cmV0dXJuIG48MCYmMD09ZS5jaD9lLmxpbmU+dC5maXJzdD9zZSh0LHRlKGUubGluZS0xKSk6bnVsbDpuPjAmJmUuY2g9PShyfHxLdCh0LGUubGluZSkpLnRleHQubGVuZ3RoP2UubGluZTx0LmZpcnN0K3Quc2l6ZS0xP3RlKGUubGluZSsxLDApOm51bGw6bmV3IHRlKGUubGluZSxlLmNoK24pfWZ1bmN0aW9uIGlvKHQpe3Quc2V0U2VsZWN0aW9uKHRlKHQuZmlyc3RMaW5lKCksMCksdGUodC5sYXN0TGluZSgpKSxVKX1mdW5jdGlvbiBvbyh0LGUsbil7dmFyIHI9e2NhbmNlbGVkOiExLGZyb206ZS5mcm9tLHRvOmUudG8sdGV4dDplLnRleHQsb3JpZ2luOmUub3JpZ2luLGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiByLmNhbmNlbGVkPSEwfX07cmV0dXJuIG4mJihyLnVwZGF0ZT1mdW5jdGlvbihlLG4saSxvKXtlJiYoci5mcm9tPXNlKHQsZSkpLG4mJihyLnRvPXNlKHQsbikpLGkmJihyLnRleHQ9aSksdm9pZCAwIT09byYmKHIub3JpZ2luPW8pfSksbXQodCxcImJlZm9yZUNoYW5nZVwiLHQsciksdC5jbSYmbXQodC5jbSxcImJlZm9yZUNoYW5nZVwiLHQuY20sciksci5jYW5jZWxlZD8odC5jbSYmKHQuY20uY3VyT3AudXBkYXRlSW5wdXQ9MiksbnVsbCk6e2Zyb206ci5mcm9tLHRvOnIudG8sdGV4dDpyLnRleHQsb3JpZ2luOnIub3JpZ2lufX1mdW5jdGlvbiBhbyh0LGUsbil7aWYodC5jbSl7aWYoIXQuY20uY3VyT3ApcmV0dXJuIFhyKHQuY20sYW8pKHQsZSxuKTtpZih0LmNtLnN0YXRlLnN1cHByZXNzRWRpdHMpcmV0dXJufWlmKCEoeXQodCxcImJlZm9yZUNoYW5nZVwiKXx8dC5jbSYmeXQodC5jbSxcImJlZm9yZUNoYW5nZVwiKSl8fChlPW9vKHQsZSwhMCkpKXt2YXIgcj13ZSYmIW4mJmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsO2lmKHQuaXRlcihlLmxpbmUsbi5saW5lKzEsZnVuY3Rpb24odCl7aWYodC5tYXJrZWRTcGFucylmb3IodmFyIGU9MDtlPHQubWFya2VkU3BhbnMubGVuZ3RoOysrZSl7dmFyIG49dC5tYXJrZWRTcGFuc1tlXS5tYXJrZXI7IW4ucmVhZE9ubHl8fHImJi0xIT1CKHIsbil8fChyfHwocj1bXSkpLnB1c2gobil9fSksIXIpcmV0dXJuIG51bGw7Zm9yKHZhciBpPVt7ZnJvbTplLHRvOm59XSxvPTA7bzxyLmxlbmd0aDsrK28pZm9yKHZhciBhPXJbb10scz1hLmZpbmQoMCksbD0wO2w8aS5sZW5ndGg7KytsKXt2YXIgYz1pW2xdO2lmKCEoZWUoYy50byxzLmZyb20pPDB8fGVlKGMuZnJvbSxzLnRvKT4wKSl7dmFyIHU9W2wsMV0sZj1lZShjLmZyb20scy5mcm9tKSxkPWVlKGMudG8scy50byk7KGY8MHx8IWEuaW5jbHVzaXZlTGVmdCYmIWYpJiZ1LnB1c2goe2Zyb206Yy5mcm9tLHRvOnMuZnJvbX0pLChkPjB8fCFhLmluY2x1c2l2ZVJpZ2h0JiYhZCkmJnUucHVzaCh7ZnJvbTpzLnRvLHRvOmMudG99KSxpLnNwbGljZS5hcHBseShpLHUpLGwrPXUubGVuZ3RoLTN9fXJldHVybiBpfSh0LGUuZnJvbSxlLnRvKTtpZihyKWZvcih2YXIgaT1yLmxlbmd0aC0xO2k+PTA7LS1pKXNvKHQse2Zyb206cltpXS5mcm9tLHRvOnJbaV0udG8sdGV4dDppP1tcIlwiXTplLnRleHQsb3JpZ2luOmUub3JpZ2lufSk7ZWxzZSBzbyh0LGUpfX1mdW5jdGlvbiBzbyh0LGUpe2lmKDEhPWUudGV4dC5sZW5ndGh8fFwiXCIhPWUudGV4dFswXXx8MCE9ZWUoZS5mcm9tLGUudG8pKXt2YXIgbj1TaSh0LGUpO0RpKHQsZSxuLHQuY20/dC5jbS5jdXJPcC5pZDpOYU4pLHVvKHQsZSxuLEVlKHQsZSkpO3ZhciByPVtdO0FpKHQsZnVuY3Rpb24odCxuKXtufHwtMSE9QihyLHQuaGlzdG9yeSl8fChtbyh0Lmhpc3RvcnksZSksci5wdXNoKHQuaGlzdG9yeSkpLHVvKHQsZSxudWxsLEVlKHQsZSkpfSl9fWZ1bmN0aW9uIGxvKHQsZSxuKXt2YXIgcj10LmNtJiZ0LmNtLnN0YXRlLnN1cHByZXNzRWRpdHM7aWYoIXJ8fG4pe2Zvcih2YXIgaSxvPXQuaGlzdG9yeSxhPXQuc2VsLHM9XCJ1bmRvXCI9PWU/by5kb25lOm8udW5kb25lLGw9XCJ1bmRvXCI9PWU/by51bmRvbmU6by5kb25lLGM9MDtjPHMubGVuZ3RoJiYoaT1zW2NdLG4/IWkucmFuZ2VzfHxpLmVxdWFscyh0LnNlbCk6aS5yYW5nZXMpO2MrKyk7aWYoYyE9cy5sZW5ndGgpe2ZvcihvLmxhc3RPcmlnaW49by5sYXN0U2VsT3JpZ2luPW51bGw7Oyl7aWYoIShpPXMucG9wKCkpLnJhbmdlcyl7aWYocilyZXR1cm4gdm9pZCBzLnB1c2goaSk7YnJlYWt9aWYoUmkoaSxsKSxuJiYhaS5lcXVhbHModC5zZWwpKXJldHVybiB2b2lkIEppKHQsaSx7Y2xlYXJSZWRvOiExfSk7YT1pfXZhciB1PVtdO1JpKGEsbCksbC5wdXNoKHtjaGFuZ2VzOnUsZ2VuZXJhdGlvbjpvLmdlbmVyYXRpb259KSxvLmdlbmVyYXRpb249aS5nZW5lcmF0aW9ufHwrK28ubWF4R2VuZXJhdGlvbjtmb3IodmFyIGY9eXQodCxcImJlZm9yZUNoYW5nZVwiKXx8dC5jbSYmeXQodC5jbSxcImJlZm9yZUNoYW5nZVwiKSxkPWZ1bmN0aW9uKG4pe3ZhciByPWkuY2hhbmdlc1tuXTtpZihyLm9yaWdpbj1lLGYmJiFvbyh0LHIsITEpKXJldHVybiBzLmxlbmd0aD0wLHt9O3UucHVzaChJaSh0LHIpKTt2YXIgbz1uP1NpKHQscik6WShzKTt1byh0LHIsbyxXaSh0LHIpKSwhbiYmdC5jbSYmdC5jbS5zY3JvbGxJbnRvVmlldyh7ZnJvbTpyLmZyb20sdG86a2kocil9KTt2YXIgYT1bXTtBaSh0LGZ1bmN0aW9uKHQsZSl7ZXx8LTEhPUIoYSx0Lmhpc3RvcnkpfHwobW8odC5oaXN0b3J5LHIpLGEucHVzaCh0Lmhpc3RvcnkpKSx1byh0LHIsbnVsbCxXaSh0LHIpKX0pfSxoPWkuY2hhbmdlcy5sZW5ndGgtMTtoPj0wOy0taCl7dmFyIHA9ZChoKTtpZihwKXJldHVybiBwLnZ9fX19ZnVuY3Rpb24gY28odCxlKXtpZigwIT1lJiYodC5maXJzdCs9ZSx0LnNlbD1uZXcgYmkoSih0LnNlbC5yYW5nZXMsZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB4aSh0ZSh0LmFuY2hvci5saW5lK2UsdC5hbmNob3IuY2gpLHRlKHQuaGVhZC5saW5lK2UsdC5oZWFkLmNoKSl9KSx0LnNlbC5wcmltSW5kZXgpLHQuY20pKXtjcih0LmNtLHQuZmlyc3QsdC5maXJzdC1lLGUpO2Zvcih2YXIgbj10LmNtLmRpc3BsYXkscj1uLnZpZXdGcm9tO3I8bi52aWV3VG87cisrKXVyKHQuY20scixcImd1dHRlclwiKX19ZnVuY3Rpb24gdW8odCxlLG4scil7aWYodC5jbSYmIXQuY20uY3VyT3ApcmV0dXJuIFhyKHQuY20sdW8pKHQsZSxuLHIpO2lmKGUudG8ubGluZTx0LmZpcnN0KWNvKHQsZS50ZXh0Lmxlbmd0aC0xLShlLnRvLmxpbmUtZS5mcm9tLmxpbmUpKTtlbHNlIGlmKCEoZS5mcm9tLmxpbmU+dC5sYXN0TGluZSgpKSl7aWYoZS5mcm9tLmxpbmU8dC5maXJzdCl7dmFyIGk9ZS50ZXh0Lmxlbmd0aC0xLSh0LmZpcnN0LWUuZnJvbS5saW5lKTtjbyh0LGkpLGU9e2Zyb206dGUodC5maXJzdCwwKSx0bzp0ZShlLnRvLmxpbmUraSxlLnRvLmNoKSx0ZXh0OltZKGUudGV4dCldLG9yaWdpbjplLm9yaWdpbn19dmFyIG89dC5sYXN0TGluZSgpO2UudG8ubGluZT5vJiYoZT17ZnJvbTplLmZyb20sdG86dGUobyxLdCh0LG8pLnRleHQubGVuZ3RoKSx0ZXh0OltlLnRleHRbMF1dLG9yaWdpbjplLm9yaWdpbn0pLGUucmVtb3ZlZD0kdCh0LGUuZnJvbSxlLnRvKSxufHwobj1TaSh0LGUpKSx0LmNtP2Z1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmRvYyxpPXQuZGlzcGxheSxvPWUuZnJvbSxhPWUudG8scz0hMSxsPW8ubGluZTt0Lm9wdGlvbnMubGluZVdyYXBwaW5nfHwobD1KdCh6ZShLdChyLG8ubGluZSkpKSxyLml0ZXIobCxhLmxpbmUrMSxmdW5jdGlvbih0KXtpZih0PT1pLm1heExpbmUpcmV0dXJuIHM9ITAsITB9KSksci5zZWwuY29udGFpbnMoZS5mcm9tLGUudG8pPi0xJiZ2dCh0KSxMaShyLGUsbixvcih0KSksdC5vcHRpb25zLmxpbmVXcmFwcGluZ3x8KHIuaXRlcihsLG8ubGluZStlLnRleHQubGVuZ3RoLGZ1bmN0aW9uKHQpe3ZhciBlPVZlKHQpO2U+aS5tYXhMaW5lTGVuZ3RoJiYoaS5tYXhMaW5lPXQsaS5tYXhMaW5lTGVuZ3RoPWUsaS5tYXhMaW5lQ2hhbmdlZD0hMCxzPSExKX0pLHMmJih0LmN1ck9wLnVwZGF0ZU1heExpbmU9ITApKSxmdW5jdGlvbih0LGUpe2lmKHQubW9kZUZyb250aWVyPU1hdGgubWluKHQubW9kZUZyb250aWVyLGUpLCEodC5oaWdobGlnaHRGcm9udGllcjxlLTEwKSl7Zm9yKHZhciBuPXQuZmlyc3Qscj1lLTE7cj5uO3ItLSl7dmFyIGk9S3QodCxyKS5zdGF0ZUFmdGVyO2lmKGkmJighKGkgaW5zdGFuY2VvZiBjZSl8fHIraS5sb29rQWhlYWQ8ZSkpe249cisxO2JyZWFrfX10LmhpZ2hsaWdodEZyb250aWVyPU1hdGgubWluKHQuaGlnaGxpZ2h0RnJvbnRpZXIsbil9fShyLG8ubGluZSksdGkodCw0MDApO3ZhciBjPWUudGV4dC5sZW5ndGgtKGEubGluZS1vLmxpbmUpLTE7ZS5mdWxsP2NyKHQpOm8ubGluZSE9YS5saW5lfHwxIT1lLnRleHQubGVuZ3RofHxNaSh0LmRvYyxlKT9jcih0LG8ubGluZSxhLmxpbmUrMSxjKTp1cih0LG8ubGluZSxcInRleHRcIik7dmFyIHU9eXQodCxcImNoYW5nZXNcIiksZj15dCh0LFwiY2hhbmdlXCIpO2lmKGZ8fHUpe3ZhciBkPXtmcm9tOm8sdG86YSx0ZXh0OmUudGV4dCxyZW1vdmVkOmUucmVtb3ZlZCxvcmlnaW46ZS5vcmlnaW59O2YmJmxuKHQsXCJjaGFuZ2VcIix0LGQpLHUmJih0LmN1ck9wLmNoYW5nZU9ianN8fCh0LmN1ck9wLmNoYW5nZU9ianM9W10pKS5wdXNoKGQpfXQuZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudT1udWxsfSh0LmNtLGUscik6TGkodCxlLHIpLFhpKHQsbixVKSx0LmNhbnRFZGl0JiZubyh0LHRlKHQuZmlyc3RMaW5lKCksMCkpJiYodC5jYW50RWRpdD0hMSl9fWZ1bmN0aW9uIGZvKHQsZSxuLHIsaSl7dmFyIG87cnx8KHI9biksZWUocixuKTwwJiYobj0obz1bcixuXSlbMF0scj1vWzFdKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dC5zcGxpdExpbmVzKGUpKSxhbyh0LHtmcm9tOm4sdG86cix0ZXh0OmUsb3JpZ2luOml9KX1mdW5jdGlvbiBobyh0LGUsbixyKXtuPHQubGluZT90LmxpbmUrPXI6ZTx0LmxpbmUmJih0LmxpbmU9ZSx0LmNoPTApfWZ1bmN0aW9uIHBvKHQsZSxuLHIpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbz10W2ldLGE9ITA7aWYoby5yYW5nZXMpe28uY29waWVkfHwoKG89dFtpXT1vLmRlZXBDb3B5KCkpLmNvcGllZD0hMCk7Zm9yKHZhciBzPTA7czxvLnJhbmdlcy5sZW5ndGg7cysrKWhvKG8ucmFuZ2VzW3NdLmFuY2hvcixlLG4sciksaG8oby5yYW5nZXNbc10uaGVhZCxlLG4scil9ZWxzZXtmb3IodmFyIGw9MDtsPG8uY2hhbmdlcy5sZW5ndGg7KytsKXt2YXIgYz1vLmNoYW5nZXNbbF07aWYobjxjLmZyb20ubGluZSljLmZyb209dGUoYy5mcm9tLmxpbmUrcixjLmZyb20uY2gpLGMudG89dGUoYy50by5saW5lK3IsYy50by5jaCk7ZWxzZSBpZihlPD1jLnRvLmxpbmUpe2E9ITE7YnJlYWt9fWF8fCh0LnNwbGljZSgwLGkrMSksaT0wKX19fWZ1bmN0aW9uIG1vKHQsZSl7dmFyIG49ZS5mcm9tLmxpbmUscj1lLnRvLmxpbmUsaT1lLnRleHQubGVuZ3RoLShyLW4pLTE7cG8odC5kb25lLG4scixpKSxwbyh0LnVuZG9uZSxuLHIsaSl9ZnVuY3Rpb24gZ28odCxlLG4scil7dmFyIGk9ZSxvPWU7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGU/bz1LdCh0LGFlKHQsZSkpOmk9SnQoZSksbnVsbD09aT9udWxsOihyKG8saSkmJnQuY20mJnVyKHQuY20saSxuKSxvKX1mdW5jdGlvbiB2byh0KXt0aGlzLmxpbmVzPXQsdGhpcy5wYXJlbnQ9bnVsbDtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXS5wYXJlbnQ9dGhpcyxlKz10W25dLmhlaWdodDt0aGlzLmhlaWdodD1lfWZ1bmN0aW9uIHlvKHQpe3RoaXMuY2hpbGRyZW49dDtmb3IodmFyIGU9MCxuPTAscj0wO3I8dC5sZW5ndGg7KytyKXt2YXIgaT10W3JdO2UrPWkuY2h1bmtTaXplKCksbis9aS5oZWlnaHQsaS5wYXJlbnQ9dGhpc310aGlzLnNpemU9ZSx0aGlzLmhlaWdodD1uLHRoaXMucGFyZW50PW51bGx9eGkucHJvdG90eXBlLmZyb209ZnVuY3Rpb24oKXtyZXR1cm4gb2UodGhpcy5hbmNob3IsdGhpcy5oZWFkKX0seGkucHJvdG90eXBlLnRvPWZ1bmN0aW9uKCl7cmV0dXJuIGllKHRoaXMuYW5jaG9yLHRoaXMuaGVhZCl9LHhpLnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWQubGluZT09dGhpcy5hbmNob3IubGluZSYmdGhpcy5oZWFkLmNoPT10aGlzLmFuY2hvci5jaH0sdm8ucHJvdG90eXBlPXtjaHVua1NpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lcy5sZW5ndGh9LHJlbW92ZUlubmVyOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQscj10K2U7bjxyOysrbil7dmFyIGk9dGhpcy5saW5lc1tuXTt0aGlzLmhlaWdodC09aS5oZWlnaHQsJGUoaSksbG4oaSxcImRlbGV0ZVwiKX10aGlzLmxpbmVzLnNwbGljZSh0LGUpfSxjb2xsYXBzZTpmdW5jdGlvbih0KXt0LnB1c2guYXBwbHkodCx0aGlzLmxpbmVzKX0saW5zZXJ0SW5uZXI6ZnVuY3Rpb24odCxlLG4pe3RoaXMuaGVpZ2h0Kz1uLHRoaXMubGluZXM9dGhpcy5saW5lcy5zbGljZSgwLHQpLmNvbmNhdChlKS5jb25jYXQodGhpcy5saW5lcy5zbGljZSh0KSk7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDsrK3IpZVtyXS5wYXJlbnQ9dGhpc30saXRlck46ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10K2U7dDxyOysrdClpZihuKHRoaXMubGluZXNbdF0pKXJldHVybiEwfX0seW8ucHJvdG90eXBlPXtjaHVua1NpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaXplfSxyZW1vdmVJbm5lcjpmdW5jdGlvbih0LGUpe3RoaXMuc2l6ZS09ZTtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrbil7dmFyIHI9dGhpcy5jaGlsZHJlbltuXSxpPXIuY2h1bmtTaXplKCk7aWYodDxpKXt2YXIgbz1NYXRoLm1pbihlLGktdCksYT1yLmhlaWdodDtpZihyLnJlbW92ZUlubmVyKHQsbyksdGhpcy5oZWlnaHQtPWEtci5oZWlnaHQsaT09byYmKHRoaXMuY2hpbGRyZW4uc3BsaWNlKG4tLSwxKSxyLnBhcmVudD1udWxsKSwwPT0oZS09bykpYnJlYWs7dD0wfWVsc2UgdC09aX1pZih0aGlzLnNpemUtZTwyNSYmKHRoaXMuY2hpbGRyZW4ubGVuZ3RoPjF8fCEodGhpcy5jaGlsZHJlblswXWluc3RhbmNlb2Ygdm8pKSl7dmFyIHM9W107dGhpcy5jb2xsYXBzZShzKSx0aGlzLmNoaWxkcmVuPVtuZXcgdm8ocyldLHRoaXMuY2hpbGRyZW5bMF0ucGFyZW50PXRoaXN9fSxjb2xsYXBzZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrZSl0aGlzLmNoaWxkcmVuW2VdLmNvbGxhcHNlKHQpfSxpbnNlcnRJbm5lcjpmdW5jdGlvbih0LGUsbil7dGhpcy5zaXplKz1lLmxlbmd0aCx0aGlzLmhlaWdodCs9bjtmb3IodmFyIHI9MDtyPHRoaXMuY2hpbGRyZW4ubGVuZ3RoOysrcil7dmFyIGk9dGhpcy5jaGlsZHJlbltyXSxvPWkuY2h1bmtTaXplKCk7aWYodDw9byl7aWYoaS5pbnNlcnRJbm5lcih0LGUsbiksaS5saW5lcyYmaS5saW5lcy5sZW5ndGg+NTApe2Zvcih2YXIgYT1pLmxpbmVzLmxlbmd0aCUyNSsyNSxzPWE7czxpLmxpbmVzLmxlbmd0aDspe3ZhciBsPW5ldyB2byhpLmxpbmVzLnNsaWNlKHMscys9MjUpKTtpLmhlaWdodC09bC5oZWlnaHQsdGhpcy5jaGlsZHJlbi5zcGxpY2UoKytyLDAsbCksbC5wYXJlbnQ9dGhpc31pLmxpbmVzPWkubGluZXMuc2xpY2UoMCxhKSx0aGlzLm1heWJlU3BpbGwoKX1icmVha310LT1vfX0sbWF5YmVTcGlsbDpmdW5jdGlvbigpe2lmKCEodGhpcy5jaGlsZHJlbi5sZW5ndGg8PTEwKSl7dmFyIHQ9dGhpcztkb3t2YXIgZT10LmNoaWxkcmVuLnNwbGljZSh0LmNoaWxkcmVuLmxlbmd0aC01LDUpLG49bmV3IHlvKGUpO2lmKHQucGFyZW50KXt0LnNpemUtPW4uc2l6ZSx0LmhlaWdodC09bi5oZWlnaHQ7dmFyIHI9Qih0LnBhcmVudC5jaGlsZHJlbix0KTt0LnBhcmVudC5jaGlsZHJlbi5zcGxpY2UocisxLDAsbil9ZWxzZXt2YXIgaT1uZXcgeW8odC5jaGlsZHJlbik7aS5wYXJlbnQ9dCx0LmNoaWxkcmVuPVtpLG5dLHQ9aX1uLnBhcmVudD10LnBhcmVudH13aGlsZSh0LmNoaWxkcmVuLmxlbmd0aD4xMCk7dC5wYXJlbnQubWF5YmVTcGlsbCgpfX0saXRlck46ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7KytyKXt2YXIgaT10aGlzLmNoaWxkcmVuW3JdLG89aS5jaHVua1NpemUoKTtpZih0PG8pe3ZhciBhPU1hdGgubWluKGUsby10KTtpZihpLml0ZXJOKHQsYSxuKSlyZXR1cm4hMDtpZigwPT0oZS09YSkpYnJlYWs7dD0wfWVsc2UgdC09b319fTt2YXIgYm89ZnVuY3Rpb24odCxlLG4pe2lmKG4pZm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHRoaXNbcl09bltyXSk7dGhpcy5kb2M9dCx0aGlzLm5vZGU9ZX07ZnVuY3Rpb24geG8odCxlLG4pe1VlKGUpPCh0LmN1ck9wJiZ0LmN1ck9wLnNjcm9sbFRvcHx8dC5kb2Muc2Nyb2xsVG9wKSYmT3IodCxuKX1iby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRvYy5jbSxlPXRoaXMubGluZS53aWRnZXRzLG49dGhpcy5saW5lLHI9SnQobik7aWYobnVsbCE9ciYmZSl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDsrK2kpZVtpXT09dGhpcyYmZS5zcGxpY2UoaS0tLDEpO2UubGVuZ3RofHwobi53aWRnZXRzPW51bGwpO3ZhciBvPXduKHRoaXMpO1l0KG4sTWF0aC5tYXgoMCxuLmhlaWdodC1vKSksdCYmKEpyKHQsZnVuY3Rpb24oKXt4byh0LG4sLW8pLHVyKHQscixcIndpZGdldFwiKX0pLGxuKHQsXCJsaW5lV2lkZ2V0Q2xlYXJlZFwiLHQsdGhpcyxyKSl9fSxiby5wcm90b3R5cGUuY2hhbmdlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmhlaWdodCxuPXRoaXMuZG9jLmNtLHI9dGhpcy5saW5lO3RoaXMuaGVpZ2h0PW51bGw7dmFyIGk9d24odGhpcyktZTtpJiYoSGUodGhpcy5kb2Mscil8fFl0KHIsci5oZWlnaHQraSksbiYmSnIobixmdW5jdGlvbigpe24uY3VyT3AuZm9yY2VVcGRhdGU9ITAseG8obixyLGkpLGxuKG4sXCJsaW5lV2lkZ2V0Q2hhbmdlZFwiLG4sdCxKdChyKSl9KSl9LGJ0KGJvKTt2YXIgd289MCxDbz1mdW5jdGlvbih0LGUpe3RoaXMubGluZXM9W10sdGhpcy50eXBlPWUsdGhpcy5kb2M9dCx0aGlzLmlkPSsrd299O2Z1bmN0aW9uIGtvKHQsZSxuLHIsaSl7aWYociYmci5zaGFyZWQpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsaSl7KHI9RChyKSkuc2hhcmVkPSExO3ZhciBvPVtrbyh0LGUsbixyLGkpXSxhPW9bMF0scz1yLndpZGdldE5vZGU7cmV0dXJuIEFpKHQsZnVuY3Rpb24odCl7cyYmKHIud2lkZ2V0Tm9kZT1zLmNsb25lTm9kZSghMCkpLG8ucHVzaChrbyh0LHNlKHQsZSksc2UodCxuKSxyLGkpKTtmb3IodmFyIGw9MDtsPHQubGlua2VkLmxlbmd0aDsrK2wpaWYodC5saW5rZWRbbF0uaXNQYXJlbnQpcmV0dXJuO2E9WShvKX0pLG5ldyBfbyhvLGEpfSh0LGUsbixyLGkpO2lmKHQuY20mJiF0LmNtLmN1ck9wKXJldHVybiBYcih0LmNtLGtvKSh0LGUsbixyLGkpO3ZhciBvPW5ldyBDbyh0LGkpLGE9ZWUoZSxuKTtpZihyJiZEKHIsbywhMSksYT4wfHwwPT1hJiYhMSE9PW8uY2xlYXJXaGVuRW1wdHkpcmV0dXJuIG87aWYoby5yZXBsYWNlZFdpdGgmJihvLmNvbGxhcHNlZD0hMCxvLndpZGdldE5vZGU9TChcInNwYW5cIixbby5yZXBsYWNlZFdpdGhdLFwiQ29kZU1pcnJvci13aWRnZXRcIiksci5oYW5kbGVNb3VzZUV2ZW50c3x8by53aWRnZXROb2RlLnNldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIixcInRydWVcIiksci5pbnNlcnRMZWZ0JiYoby53aWRnZXROb2RlLmluc2VydExlZnQ9ITApKSxvLmNvbGxhcHNlZCl7aWYoRGUodCxlLmxpbmUsZSxuLG8pfHxlLmxpbmUhPW4ubGluZSYmRGUodCxuLmxpbmUsZSxuLG8pKXRocm93IG5ldyBFcnJvcihcIkluc2VydGluZyBjb2xsYXBzZWQgbWFya2VyIHBhcnRpYWxseSBvdmVybGFwcGluZyBhbiBleGlzdGluZyBvbmVcIik7Q2U9ITB9by5hZGRUb0hpc3RvcnkmJkRpKHQse2Zyb206ZSx0bzpuLG9yaWdpbjpcIm1hcmtUZXh0XCJ9LHQuc2VsLE5hTik7dmFyIHMsbD1lLmxpbmUsYz10LmNtO2lmKHQuaXRlcihsLG4ubGluZSsxLGZ1bmN0aW9uKHQpe2MmJm8uY29sbGFwc2VkJiYhYy5vcHRpb25zLmxpbmVXcmFwcGluZyYmemUodCk9PWMuZGlzcGxheS5tYXhMaW5lJiYocz0hMCksby5jb2xsYXBzZWQmJmwhPWUubGluZSYmWXQodCwwKSxmdW5jdGlvbih0LGUpe3QubWFya2VkU3BhbnM9dC5tYXJrZWRTcGFucz90Lm1hcmtlZFNwYW5zLmNvbmNhdChbZV0pOltlXSxlLm1hcmtlci5hdHRhY2hMaW5lKHQpfSh0LG5ldyBrZShvLGw9PWUubGluZT9lLmNoOm51bGwsbD09bi5saW5lP24uY2g6bnVsbCkpLCsrbH0pLG8uY29sbGFwc2VkJiZ0Lml0ZXIoZS5saW5lLG4ubGluZSsxLGZ1bmN0aW9uKGUpe0hlKHQsZSkmJll0KGUsMCl9KSxvLmNsZWFyT25FbnRlciYmZHQobyxcImJlZm9yZUN1cnNvckVudGVyXCIsZnVuY3Rpb24oKXtyZXR1cm4gby5jbGVhcigpfSksby5yZWFkT25seSYmKHdlPSEwLCh0Lmhpc3RvcnkuZG9uZS5sZW5ndGh8fHQuaGlzdG9yeS51bmRvbmUubGVuZ3RoKSYmdC5jbGVhckhpc3RvcnkoKSksby5jb2xsYXBzZWQmJihvLmlkPSsrd28sby5hdG9taWM9ITApLGMpe2lmKHMmJihjLmN1ck9wLnVwZGF0ZU1heExpbmU9ITApLG8uY29sbGFwc2VkKWNyKGMsZS5saW5lLG4ubGluZSsxKTtlbHNlIGlmKG8uY2xhc3NOYW1lfHxvLnN0YXJ0U3R5bGV8fG8uZW5kU3R5bGV8fG8uY3NzfHxvLmF0dHJpYnV0ZXN8fG8udGl0bGUpZm9yKHZhciB1PWUubGluZTt1PD1uLmxpbmU7dSsrKXVyKGMsdSxcInRleHRcIik7by5hdG9taWMmJlFpKGMuZG9jKSxsbihjLFwibWFya2VyQWRkZWRcIixjLG8pfXJldHVybiBvfUNvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2lmKCF0aGlzLmV4cGxpY2l0bHlDbGVhcmVkKXt2YXIgdD10aGlzLmRvYy5jbSxlPXQmJiF0LmN1ck9wO2lmKGUmJlZyKHQpLHl0KHRoaXMsXCJjbGVhclwiKSl7dmFyIG49dGhpcy5maW5kKCk7biYmbG4odGhpcyxcImNsZWFyXCIsbi5mcm9tLG4udG8pfWZvcih2YXIgcj1udWxsLGk9bnVsbCxvPTA7bzx0aGlzLmxpbmVzLmxlbmd0aDsrK28pe3ZhciBhPXRoaXMubGluZXNbb10scz1fZShhLm1hcmtlZFNwYW5zLHRoaXMpO3QmJiF0aGlzLmNvbGxhcHNlZD91cih0LEp0KGEpLFwidGV4dFwiKTp0JiYobnVsbCE9cy50byYmKGk9SnQoYSkpLG51bGwhPXMuZnJvbSYmKHI9SnQoYSkpKSxhLm1hcmtlZFNwYW5zPVNlKGEubWFya2VkU3BhbnMscyksbnVsbD09cy5mcm9tJiZ0aGlzLmNvbGxhcHNlZCYmIUhlKHRoaXMuZG9jLGEpJiZ0JiZZdChhLGVyKHQuZGlzcGxheSkpfWlmKHQmJnRoaXMuY29sbGFwc2VkJiYhdC5vcHRpb25zLmxpbmVXcmFwcGluZylmb3IodmFyIGw9MDtsPHRoaXMubGluZXMubGVuZ3RoOysrbCl7dmFyIGM9emUodGhpcy5saW5lc1tsXSksdT1WZShjKTt1PnQuZGlzcGxheS5tYXhMaW5lTGVuZ3RoJiYodC5kaXNwbGF5Lm1heExpbmU9Yyx0LmRpc3BsYXkubWF4TGluZUxlbmd0aD11LHQuZGlzcGxheS5tYXhMaW5lQ2hhbmdlZD0hMCl9bnVsbCE9ciYmdCYmdGhpcy5jb2xsYXBzZWQmJmNyKHQscixpKzEpLHRoaXMubGluZXMubGVuZ3RoPTAsdGhpcy5leHBsaWNpdGx5Q2xlYXJlZD0hMCx0aGlzLmF0b21pYyYmdGhpcy5kb2MuY2FudEVkaXQmJih0aGlzLmRvYy5jYW50RWRpdD0hMSx0JiZRaSh0LmRvYykpLHQmJmxuKHQsXCJtYXJrZXJDbGVhcmVkXCIsdCx0aGlzLHIsaSksZSYmR3IodCksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmNsZWFyKCl9fSxDby5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0LGUpe3ZhciBuLHI7bnVsbD09dCYmXCJib29rbWFya1wiPT10aGlzLnR5cGUmJih0PTEpO2Zvcih2YXIgaT0wO2k8dGhpcy5saW5lcy5sZW5ndGg7KytpKXt2YXIgbz10aGlzLmxpbmVzW2ldLGE9X2Uoby5tYXJrZWRTcGFucyx0aGlzKTtpZihudWxsIT1hLmZyb20mJihuPXRlKGU/bzpKdChvKSxhLmZyb20pLC0xPT10KSlyZXR1cm4gbjtpZihudWxsIT1hLnRvJiYocj10ZShlP286SnQobyksYS50byksMT09dCkpcmV0dXJuIHJ9cmV0dXJuIG4mJntmcm9tOm4sdG86cn19LENvLnByb3RvdHlwZS5jaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZmluZCgtMSwhMCksbj10aGlzLHI9dGhpcy5kb2MuY207ZSYmciYmSnIocixmdW5jdGlvbigpe3ZhciBpPWUubGluZSxvPUp0KGUubGluZSksYT1BbihyLG8pO2lmKGEmJih6bihhKSxyLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQ9ci5jdXJPcC5mb3JjZVVwZGF0ZT0hMCksci5jdXJPcC51cGRhdGVNYXhMaW5lPSEwLCFIZShuLmRvYyxpKSYmbnVsbCE9bi5oZWlnaHQpe3ZhciBzPW4uaGVpZ2h0O24uaGVpZ2h0PW51bGw7dmFyIGw9d24obiktcztsJiZZdChpLGkuaGVpZ2h0K2wpfWxuKHIsXCJtYXJrZXJDaGFuZ2VkXCIscix0KX0pfSxDby5wcm90b3R5cGUuYXR0YWNoTGluZT1mdW5jdGlvbih0KXtpZighdGhpcy5saW5lcy5sZW5ndGgmJnRoaXMuZG9jLmNtKXt2YXIgZT10aGlzLmRvYy5jbS5jdXJPcDtlLm1heWJlSGlkZGVuTWFya2VycyYmLTEhPUIoZS5tYXliZUhpZGRlbk1hcmtlcnMsdGhpcyl8fChlLm1heWJlVW5oaWRkZW5NYXJrZXJzfHwoZS5tYXliZVVuaGlkZGVuTWFya2Vycz1bXSkpLnB1c2godGhpcyl9dGhpcy5saW5lcy5wdXNoKHQpfSxDby5wcm90b3R5cGUuZGV0YWNoTGluZT1mdW5jdGlvbih0KXtpZih0aGlzLmxpbmVzLnNwbGljZShCKHRoaXMubGluZXMsdCksMSksIXRoaXMubGluZXMubGVuZ3RoJiZ0aGlzLmRvYy5jbSl7dmFyIGU9dGhpcy5kb2MuY20uY3VyT3A7KGUubWF5YmVIaWRkZW5NYXJrZXJzfHwoZS5tYXliZUhpZGRlbk1hcmtlcnM9W10pKS5wdXNoKHRoaXMpfX0sYnQoQ28pO3ZhciBfbz1mdW5jdGlvbih0LGUpe3RoaXMubWFya2Vycz10LHRoaXMucHJpbWFyeT1lO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKXRbbl0ucGFyZW50PXRoaXN9O2Z1bmN0aW9uIFNvKHQpe3JldHVybiB0LmZpbmRNYXJrcyh0ZSh0LmZpcnN0LDApLHQuY2xpcFBvcyh0ZSh0Lmxhc3RMaW5lKCkpKSxmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJlbnR9KX1mdW5jdGlvbiBFbyh0KXtmb3IodmFyIGU9ZnVuY3Rpb24oZSl7dmFyIG49dFtlXSxyPVtuLnByaW1hcnkuZG9jXTtBaShuLnByaW1hcnkuZG9jLGZ1bmN0aW9uKHQpe3JldHVybiByLnB1c2godCl9KTtmb3IodmFyIGk9MDtpPG4ubWFya2Vycy5sZW5ndGg7aSsrKXt2YXIgbz1uLm1hcmtlcnNbaV07LTE9PUIocixvLmRvYykmJihvLnBhcmVudD1udWxsLG4ubWFya2Vycy5zcGxpY2UoaS0tLDEpKX19LG49MDtuPHQubGVuZ3RoO24rKyllKG4pfV9vLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2lmKCF0aGlzLmV4cGxpY2l0bHlDbGVhcmVkKXt0aGlzLmV4cGxpY2l0bHlDbGVhcmVkPSEwO2Zvcih2YXIgdD0wO3Q8dGhpcy5tYXJrZXJzLmxlbmd0aDsrK3QpdGhpcy5tYXJrZXJzW3RdLmNsZWFyKCk7bG4odGhpcyxcImNsZWFyXCIpfX0sX28ucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wcmltYXJ5LmZpbmQodCxlKX0sYnQoX28pO3ZhciBUbz0wLE9vPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoISh0aGlzIGluc3RhbmNlb2YgT28pKXJldHVybiBuZXcgT28odCxlLG4scixpKTtudWxsPT1uJiYobj0wKSx5by5jYWxsKHRoaXMsW25ldyB2byhbbmV3IEtlKFwiXCIsbnVsbCldKV0pLHRoaXMuZmlyc3Q9bix0aGlzLnNjcm9sbFRvcD10aGlzLnNjcm9sbExlZnQ9MCx0aGlzLmNhbnRFZGl0PSExLHRoaXMuY2xlYW5HZW5lcmF0aW9uPTEsdGhpcy5tb2RlRnJvbnRpZXI9dGhpcy5oaWdobGlnaHRGcm9udGllcj1uO3ZhciBvPXRlKG4sMCk7dGhpcy5zZWw9Q2kobyksdGhpcy5oaXN0b3J5PW5ldyBGaShudWxsKSx0aGlzLmlkPSsrVG8sdGhpcy5tb2RlT3B0aW9uPWUsdGhpcy5saW5lU2VwPXIsdGhpcy5kaXJlY3Rpb249XCJydGxcIj09aT9cInJ0bFwiOlwibHRyXCIsdGhpcy5leHRlbmQ9ITEsXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXRoaXMuc3BsaXRMaW5lcyh0KSksTGkodGhpcyx7ZnJvbTpvLHRvOm8sdGV4dDp0fSksSmkodGhpcyxDaShvKSxVKX07T28ucHJvdG90eXBlPVooeW8ucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpPbyxpdGVyOmZ1bmN0aW9uKHQsZSxuKXtuP3RoaXMuaXRlck4odC10aGlzLmZpcnN0LGUtdCxuKTp0aGlzLml0ZXJOKHRoaXMuZmlyc3QsdGhpcy5maXJzdCt0aGlzLnNpemUsdCl9LGluc2VydDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9MDtyPGUubGVuZ3RoOysrciluKz1lW3JdLmhlaWdodDt0aGlzLmluc2VydElubmVyKHQtdGhpcy5maXJzdCxlLG4pfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLnJlbW92ZUlubmVyKHQtdGhpcy5maXJzdCxlKX0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9cXQodGhpcyx0aGlzLmZpcnN0LHRoaXMuZmlyc3QrdGhpcy5zaXplKTtyZXR1cm4hMT09PXQ/ZTplLmpvaW4odHx8dGhpcy5saW5lU2VwYXJhdG9yKCkpfSxzZXRWYWx1ZTpRcihmdW5jdGlvbih0KXt2YXIgZT10ZSh0aGlzLmZpcnN0LDApLG49dGhpcy5maXJzdCt0aGlzLnNpemUtMTthbyh0aGlzLHtmcm9tOmUsdG86dGUobixLdCh0aGlzLG4pLnRleHQubGVuZ3RoKSx0ZXh0OnRoaXMuc3BsaXRMaW5lcyh0KSxvcmlnaW46XCJzZXRWYWx1ZVwiLGZ1bGw6ITB9LCEwKSx0aGlzLmNtJiZMcih0aGlzLmNtLDAsMCksSmkodGhpcyxDaShlKSxVKX0pLHJlcGxhY2VSYW5nZTpmdW5jdGlvbih0LGUsbixyKXtlPXNlKHRoaXMsZSksbj1uP3NlKHRoaXMsbik6ZSxmbyh0aGlzLHQsZSxuLHIpfSxnZXRSYW5nZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9JHQodGhpcyxzZSh0aGlzLHQpLHNlKHRoaXMsZSkpO3JldHVybiExPT09bj9yOnIuam9pbihufHx0aGlzLmxpbmVTZXBhcmF0b3IoKSl9LGdldExpbmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRMaW5lSGFuZGxlKHQpO3JldHVybiBlJiZlLnRleHR9LGdldExpbmVIYW5kbGU6ZnVuY3Rpb24odCl7aWYoWnQodGhpcyx0KSlyZXR1cm4gS3QodGhpcyx0KX0sZ2V0TGluZU51bWJlcjpmdW5jdGlvbih0KXtyZXR1cm4gSnQodCl9LGdldExpbmVIYW5kbGVWaXN1YWxTdGFydDpmdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmKHQ9S3QodGhpcyx0KSksemUodCl9LGxpbmVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9LGZpcnN0TGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0fSxsYXN0TGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0K3RoaXMuc2l6ZS0xfSxjbGlwUG9zOmZ1bmN0aW9uKHQpe3JldHVybiBzZSh0aGlzLHQpfSxnZXRDdXJzb3I6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZWwucHJpbWFyeSgpO3JldHVybiBudWxsPT10fHxcImhlYWRcIj09dD9lLmhlYWQ6XCJhbmNob3JcIj09dD9lLmFuY2hvcjpcImVuZFwiPT10fHxcInRvXCI9PXR8fCExPT09dD9lLnRvKCk6ZS5mcm9tKCl9LGxpc3RTZWxlY3Rpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsLnJhbmdlc30sc29tZXRoaW5nU2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWwuc29tZXRoaW5nU2VsZWN0ZWQoKX0sc2V0Q3Vyc29yOlFyKGZ1bmN0aW9uKHQsZSxuKXtxaSh0aGlzLHNlKHRoaXMsXCJudW1iZXJcIj09dHlwZW9mIHQ/dGUodCxlfHwwKTp0KSxudWxsLG4pfSksc2V0U2VsZWN0aW9uOlFyKGZ1bmN0aW9uKHQsZSxuKXtxaSh0aGlzLHNlKHRoaXMsdCksc2UodGhpcyxlfHx0KSxuKX0pLGV4dGVuZFNlbGVjdGlvbjpRcihmdW5jdGlvbih0LGUsbil7R2kodGhpcyxzZSh0aGlzLHQpLGUmJnNlKHRoaXMsZSksbil9KSxleHRlbmRTZWxlY3Rpb25zOlFyKGZ1bmN0aW9uKHQsZSl7S2kodGhpcyxsZSh0aGlzLHQpLGUpfSksZXh0ZW5kU2VsZWN0aW9uc0J5OlFyKGZ1bmN0aW9uKHQsZSl7dmFyIG49Sih0aGlzLnNlbC5yYW5nZXMsdCk7S2kodGhpcyxsZSh0aGlzLG4pLGUpfSksc2V0U2VsZWN0aW9uczpRcihmdW5jdGlvbih0LGUsbil7aWYodC5sZW5ndGgpe2Zvcih2YXIgcj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspcltpXT1uZXcgeGkoc2UodGhpcyx0W2ldLmFuY2hvciksc2UodGhpcyx0W2ldLmhlYWQpKTtudWxsPT1lJiYoZT1NYXRoLm1pbih0Lmxlbmd0aC0xLHRoaXMuc2VsLnByaW1JbmRleCkpLEppKHRoaXMsd2kodGhpcy5jbSxyLGUpLG4pfX0pLGFkZFNlbGVjdGlvbjpRcihmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5zZWwucmFuZ2VzLnNsaWNlKDApO3IucHVzaChuZXcgeGkoc2UodGhpcyx0KSxzZSh0aGlzLGV8fHQpKSksSmkodGhpcyx3aSh0aGlzLmNtLHIsci5sZW5ndGgtMSksbil9KSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcy5zZWwucmFuZ2VzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9JHQodGhpcyxuW3JdLmZyb20oKSxuW3JdLnRvKCkpO2U9ZT9lLmNvbmNhdChpKTppfXJldHVybiExPT09dD9lOmUuam9pbih0fHx0aGlzLmxpbmVTZXBhcmF0b3IoKSl9LGdldFNlbGVjdGlvbnM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dGhpcy5zZWwucmFuZ2VzLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9JHQodGhpcyxuW3JdLmZyb20oKSxuW3JdLnRvKCkpOyExIT09dCYmKGk9aS5qb2luKHR8fHRoaXMubGluZVNlcGFyYXRvcigpKSksZVtyXT1pfXJldHVybiBlfSxyZXBsYWNlU2VsZWN0aW9uOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10saT0wO2k8dGhpcy5zZWwucmFuZ2VzLmxlbmd0aDtpKyspcltpXT10O3RoaXMucmVwbGFjZVNlbGVjdGlvbnMocixlLG58fFwiK2lucHV0XCIpfSxyZXBsYWNlU2VsZWN0aW9uczpRcihmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9dGhpcy5zZWwsbz0wO288aS5yYW5nZXMubGVuZ3RoO28rKyl7dmFyIGE9aS5yYW5nZXNbb107cltvXT17ZnJvbTphLmZyb20oKSx0bzphLnRvKCksdGV4dDp0aGlzLnNwbGl0TGluZXModFtvXSksb3JpZ2luOm59fWZvcih2YXIgcz1lJiZcImVuZFwiIT1lJiZmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9dGUodC5maXJzdCwwKSxvPWksYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgcz1lW2FdLGw9RWkocy5mcm9tLGksbyksYz1FaShraShzKSxpLG8pO2lmKGk9cy50byxvPWMsXCJhcm91bmRcIj09bil7dmFyIHU9dC5zZWwucmFuZ2VzW2FdLGY9ZWUodS5oZWFkLHUuYW5jaG9yKTwwO3JbYV09bmV3IHhpKGY/YzpsLGY/bDpjKX1lbHNlIHJbYV09bmV3IHhpKGwsbCl9cmV0dXJuIG5ldyBiaShyLHQuc2VsLnByaW1JbmRleCl9KHRoaXMscixlKSxsPXIubGVuZ3RoLTE7bD49MDtsLS0pYW8odGhpcyxyW2xdKTtzP1lpKHRoaXMscyk6dGhpcy5jbSYmTXIodGhpcy5jbSl9KSx1bmRvOlFyKGZ1bmN0aW9uKCl7bG8odGhpcyxcInVuZG9cIil9KSxyZWRvOlFyKGZ1bmN0aW9uKCl7bG8odGhpcyxcInJlZG9cIil9KSx1bmRvU2VsZWN0aW9uOlFyKGZ1bmN0aW9uKCl7bG8odGhpcyxcInVuZG9cIiwhMCl9KSxyZWRvU2VsZWN0aW9uOlFyKGZ1bmN0aW9uKCl7bG8odGhpcyxcInJlZG9cIiwhMCl9KSxzZXRFeHRlbmRpbmc6ZnVuY3Rpb24odCl7dGhpcy5leHRlbmQ9dH0sZ2V0RXh0ZW5kaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5kfSxoaXN0b3J5U2l6ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmhpc3RvcnksZT0wLG49MCxyPTA7cjx0LmRvbmUubGVuZ3RoO3IrKyl0LmRvbmVbcl0ucmFuZ2VzfHwrK2U7Zm9yKHZhciBpPTA7aTx0LnVuZG9uZS5sZW5ndGg7aSsrKXQudW5kb25lW2ldLnJhbmdlc3x8KytuO3JldHVybnt1bmRvOmUscmVkbzpufX0sY2xlYXJIaXN0b3J5OmZ1bmN0aW9uKCl7dGhpcy5oaXN0b3J5PW5ldyBGaSh0aGlzLmhpc3RvcnkubWF4R2VuZXJhdGlvbil9LG1hcmtDbGVhbjpmdW5jdGlvbigpe3RoaXMuY2xlYW5HZW5lcmF0aW9uPXRoaXMuY2hhbmdlR2VuZXJhdGlvbighMCl9LGNoYW5nZUdlbmVyYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLmhpc3RvcnkubGFzdE9wPXRoaXMuaGlzdG9yeS5sYXN0U2VsT3A9dGhpcy5oaXN0b3J5Lmxhc3RPcmlnaW49bnVsbCksdGhpcy5oaXN0b3J5LmdlbmVyYXRpb259LGlzQ2xlYW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGlzdG9yeS5nZW5lcmF0aW9uPT0odHx8dGhpcy5jbGVhbkdlbmVyYXRpb24pfSxnZXRIaXN0b3J5OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6VWkodGhpcy5oaXN0b3J5LmRvbmUpLHVuZG9uZTpVaSh0aGlzLmhpc3RvcnkudW5kb25lKX19LHNldEhpc3Rvcnk6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5oaXN0b3J5PW5ldyBGaSh0aGlzLmhpc3RvcnkubWF4R2VuZXJhdGlvbik7ZS5kb25lPVVpKHQuZG9uZS5zbGljZSgwKSxudWxsLCEwKSxlLnVuZG9uZT1VaSh0LnVuZG9uZS5zbGljZSgwKSxudWxsLCEwKX0sc2V0R3V0dGVyTWFya2VyOlFyKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZ28odGhpcyx0LFwiZ3V0dGVyXCIsZnVuY3Rpb24odCl7dmFyIHI9dC5ndXR0ZXJNYXJrZXJzfHwodC5ndXR0ZXJNYXJrZXJzPXt9KTtyZXR1cm4gcltlXT1uLCFuJiZudChyKSYmKHQuZ3V0dGVyTWFya2Vycz1udWxsKSwhMH0pfSksY2xlYXJHdXR0ZXI6UXIoZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLml0ZXIoZnVuY3Rpb24obil7bi5ndXR0ZXJNYXJrZXJzJiZuLmd1dHRlck1hcmtlcnNbdF0mJmdvKGUsbixcImd1dHRlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ3V0dGVyTWFya2Vyc1t0XT1udWxsLG50KG4uZ3V0dGVyTWFya2VycykmJihuLmd1dHRlck1hcmtlcnM9bnVsbCksITB9KX0pfSksbGluZUluZm86ZnVuY3Rpb24odCl7dmFyIGU7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2lmKCFadCh0aGlzLHQpKXJldHVybiBudWxsO2lmKGU9dCwhKHQ9S3QodGhpcyx0KSkpcmV0dXJuIG51bGx9ZWxzZSBpZihudWxsPT0oZT1KdCh0KSkpcmV0dXJuIG51bGw7cmV0dXJue2xpbmU6ZSxoYW5kbGU6dCx0ZXh0OnQudGV4dCxndXR0ZXJNYXJrZXJzOnQuZ3V0dGVyTWFya2Vycyx0ZXh0Q2xhc3M6dC50ZXh0Q2xhc3MsYmdDbGFzczp0LmJnQ2xhc3Msd3JhcENsYXNzOnQud3JhcENsYXNzLHdpZGdldHM6dC53aWRnZXRzfX0sYWRkTGluZUNsYXNzOlFyKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZ28odGhpcyx0LFwiZ3V0dGVyXCI9PWU/XCJndXR0ZXJcIjpcImNsYXNzXCIsZnVuY3Rpb24odCl7dmFyIHI9XCJ0ZXh0XCI9PWU/XCJ0ZXh0Q2xhc3NcIjpcImJhY2tncm91bmRcIj09ZT9cImJnQ2xhc3NcIjpcImd1dHRlclwiPT1lP1wiZ3V0dGVyQ2xhc3NcIjpcIndyYXBDbGFzc1wiO2lmKHRbcl0pe2lmKF8obikudGVzdCh0W3JdKSlyZXR1cm4hMTt0W3JdKz1cIiBcIitufWVsc2UgdFtyXT1uO3JldHVybiEwfSl9KSxyZW1vdmVMaW5lQ2xhc3M6UXIoZnVuY3Rpb24odCxlLG4pe3JldHVybiBnbyh0aGlzLHQsXCJndXR0ZXJcIj09ZT9cImd1dHRlclwiOlwiY2xhc3NcIixmdW5jdGlvbih0KXt2YXIgcj1cInRleHRcIj09ZT9cInRleHRDbGFzc1wiOlwiYmFja2dyb3VuZFwiPT1lP1wiYmdDbGFzc1wiOlwiZ3V0dGVyXCI9PWU/XCJndXR0ZXJDbGFzc1wiOlwid3JhcENsYXNzXCIsaT10W3JdO2lmKCFpKXJldHVybiExO2lmKG51bGw9PW4pdFtyXT1udWxsO2Vsc2V7dmFyIG89aS5tYXRjaChfKG4pKTtpZighbylyZXR1cm4hMTt2YXIgYT1vLmluZGV4K29bMF0ubGVuZ3RoO3Rbcl09aS5zbGljZSgwLG8uaW5kZXgpKyhvLmluZGV4JiZhIT1pLmxlbmd0aD9cIiBcIjpcIlwiKStpLnNsaWNlKGEpfHxudWxsfXJldHVybiEwfSl9KSxhZGRMaW5lV2lkZ2V0OlFyKGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bmV3IGJvKHQsbixyKSxvPXQuY207cmV0dXJuIG8mJmkubm9IU2Nyb2xsJiYoby5kaXNwbGF5LmFsaWduV2lkZ2V0cz0hMCksZ28odCxlLFwid2lkZ2V0XCIsZnVuY3Rpb24oZSl7dmFyIG49ZS53aWRnZXRzfHwoZS53aWRnZXRzPVtdKTtpZihudWxsPT1pLmluc2VydEF0P24ucHVzaChpKTpuLnNwbGljZShNYXRoLm1pbihuLmxlbmd0aC0xLE1hdGgubWF4KDAsaS5pbnNlcnRBdCkpLDAsaSksaS5saW5lPWUsbyYmIUhlKHQsZSkpe3ZhciByPVVlKGUpPHQuc2Nyb2xsVG9wO1l0KGUsZS5oZWlnaHQrd24oaSkpLHImJk9yKG8saS5oZWlnaHQpLG8uY3VyT3AuZm9yY2VVcGRhdGU9ITB9cmV0dXJuITB9KSxvJiZsbihvLFwibGluZVdpZGdldEFkZGVkXCIsbyxpLFwibnVtYmVyXCI9PXR5cGVvZiBlP2U6SnQoZSkpLGl9KHRoaXMsdCxlLG4pfSkscmVtb3ZlTGluZVdpZGdldDpmdW5jdGlvbih0KXt0LmNsZWFyKCl9LG1hcmtUZXh0OmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4ga28odGhpcyxzZSh0aGlzLHQpLHNlKHRoaXMsZSksbixuJiZuLnR5cGV8fFwicmFuZ2VcIil9LHNldEJvb2ttYXJrOmZ1bmN0aW9uKHQsZSl7dmFyIG49e3JlcGxhY2VkV2l0aDplJiYobnVsbD09ZS5ub2RlVHlwZT9lLndpZGdldDplKSxpbnNlcnRMZWZ0OmUmJmUuaW5zZXJ0TGVmdCxjbGVhcldoZW5FbXB0eTohMSxzaGFyZWQ6ZSYmZS5zaGFyZWQsaGFuZGxlTW91c2VFdmVudHM6ZSYmZS5oYW5kbGVNb3VzZUV2ZW50c307cmV0dXJuIGtvKHRoaXMsdD1zZSh0aGlzLHQpLHQsbixcImJvb2ttYXJrXCIpfSxmaW5kTWFya3NBdDpmdW5jdGlvbih0KXt0PXNlKHRoaXMsdCk7dmFyIGU9W10sbj1LdCh0aGlzLHQubGluZSkubWFya2VkU3BhbnM7aWYobilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoOysrcil7dmFyIGk9bltyXTsobnVsbD09aS5mcm9tfHxpLmZyb208PXQuY2gpJiYobnVsbD09aS50b3x8aS50bz49dC5jaCkmJmUucHVzaChpLm1hcmtlci5wYXJlbnR8fGkubWFya2VyKX1yZXR1cm4gZX0sZmluZE1hcmtzOmZ1bmN0aW9uKHQsZSxuKXt0PXNlKHRoaXMsdCksZT1zZSh0aGlzLGUpO3ZhciByPVtdLGk9dC5saW5lO3JldHVybiB0aGlzLml0ZXIodC5saW5lLGUubGluZSsxLGZ1bmN0aW9uKG8pe3ZhciBhPW8ubWFya2VkU3BhbnM7aWYoYSlmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTtudWxsIT1sLnRvJiZpPT10LmxpbmUmJnQuY2g+PWwudG98fG51bGw9PWwuZnJvbSYmaSE9dC5saW5lfHxudWxsIT1sLmZyb20mJmk9PWUubGluZSYmbC5mcm9tPj1lLmNofHxuJiYhbihsLm1hcmtlcil8fHIucHVzaChsLm1hcmtlci5wYXJlbnR8fGwubWFya2VyKX0rK2l9KSxyfSxnZXRBbGxNYXJrczpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLml0ZXIoZnVuY3Rpb24oZSl7dmFyIG49ZS5tYXJrZWRTcGFucztpZihuKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7KytyKW51bGwhPW5bcl0uZnJvbSYmdC5wdXNoKG5bcl0ubWFya2VyKX0pLHR9LHBvc0Zyb21JbmRleDpmdW5jdGlvbih0KXt2YXIgZSxuPXRoaXMuZmlyc3Qscj10aGlzLmxpbmVTZXBhcmF0b3IoKS5sZW5ndGg7cmV0dXJuIHRoaXMuaXRlcihmdW5jdGlvbihpKXt2YXIgbz1pLnRleHQubGVuZ3RoK3I7aWYobz50KXJldHVybiBlPXQsITA7dC09bywrK259KSxzZSh0aGlzLHRlKG4sZSkpfSxpbmRleEZyb21Qb3M6ZnVuY3Rpb24odCl7dmFyIGU9KHQ9c2UodGhpcyx0KSkuY2g7aWYodC5saW5lPHRoaXMuZmlyc3R8fHQuY2g8MClyZXR1cm4gMDt2YXIgbj10aGlzLmxpbmVTZXBhcmF0b3IoKS5sZW5ndGg7cmV0dXJuIHRoaXMuaXRlcih0aGlzLmZpcnN0LHQubGluZSxmdW5jdGlvbih0KXtlKz10LnRleHQubGVuZ3RoK259KSxlfSxjb3B5OmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBPbyhxdCh0aGlzLHRoaXMuZmlyc3QsdGhpcy5maXJzdCt0aGlzLnNpemUpLHRoaXMubW9kZU9wdGlvbix0aGlzLmZpcnN0LHRoaXMubGluZVNlcCx0aGlzLmRpcmVjdGlvbik7cmV0dXJuIGUuc2Nyb2xsVG9wPXRoaXMuc2Nyb2xsVG9wLGUuc2Nyb2xsTGVmdD10aGlzLnNjcm9sbExlZnQsZS5zZWw9dGhpcy5zZWwsZS5leHRlbmQ9ITEsdCYmKGUuaGlzdG9yeS51bmRvRGVwdGg9dGhpcy5oaXN0b3J5LnVuZG9EZXB0aCxlLnNldEhpc3RvcnkodGhpcy5nZXRIaXN0b3J5KCkpKSxlfSxsaW5rZWREb2M6ZnVuY3Rpb24odCl7dHx8KHQ9e30pO3ZhciBlPXRoaXMuZmlyc3Qsbj10aGlzLmZpcnN0K3RoaXMuc2l6ZTtudWxsIT10LmZyb20mJnQuZnJvbT5lJiYoZT10LmZyb20pLG51bGwhPXQudG8mJnQudG88biYmKG49dC50byk7dmFyIHI9bmV3IE9vKHF0KHRoaXMsZSxuKSx0Lm1vZGV8fHRoaXMubW9kZU9wdGlvbixlLHRoaXMubGluZVNlcCx0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHQuc2hhcmVkSGlzdCYmKHIuaGlzdG9yeT10aGlzLmhpc3RvcnkpLCh0aGlzLmxpbmtlZHx8KHRoaXMubGlua2VkPVtdKSkucHVzaCh7ZG9jOnIsc2hhcmVkSGlzdDp0LnNoYXJlZEhpc3R9KSxyLmxpbmtlZD1be2RvYzp0aGlzLGlzUGFyZW50OiEwLHNoYXJlZEhpc3Q6dC5zaGFyZWRIaXN0fV0sZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXSxpPXIuZmluZCgpLG89dC5jbGlwUG9zKGkuZnJvbSksYT10LmNsaXBQb3MoaS50byk7aWYoZWUobyxhKSl7dmFyIHM9a28odCxvLGEsci5wcmltYXJ5LHIucHJpbWFyeS50eXBlKTtyLm1hcmtlcnMucHVzaChzKSxzLnBhcmVudD1yfX19KHIsU28odGhpcykpLHJ9LHVubGlua0RvYzpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgX2EmJih0PXQuZG9jKSx0aGlzLmxpbmtlZClmb3IodmFyIGU9MDtlPHRoaXMubGlua2VkLmxlbmd0aDsrK2Upe3ZhciBuPXRoaXMubGlua2VkW2VdO2lmKG4uZG9jPT10KXt0aGlzLmxpbmtlZC5zcGxpY2UoZSwxKSx0LnVubGlua0RvYyh0aGlzKSxFbyhTbyh0aGlzKSk7YnJlYWt9fWlmKHQuaGlzdG9yeT09dGhpcy5oaXN0b3J5KXt2YXIgcj1bdC5pZF07QWkodCxmdW5jdGlvbih0KXtyZXR1cm4gci5wdXNoKHQuaWQpfSwhMCksdC5oaXN0b3J5PW5ldyBGaShudWxsKSx0Lmhpc3RvcnkuZG9uZT1VaSh0aGlzLmhpc3RvcnkuZG9uZSxyKSx0Lmhpc3RvcnkudW5kb25lPVVpKHRoaXMuaGlzdG9yeS51bmRvbmUscil9fSxpdGVyTGlua2VkRG9jczpmdW5jdGlvbih0KXtBaSh0aGlzLHQpfSxnZXRNb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZX0sZ2V0RWRpdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY219LHNwbGl0TGluZXM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGluZVNlcD90LnNwbGl0KHRoaXMubGluZVNlcCk6TnQodCl9LGxpbmVTZXBhcmF0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW5lU2VwfHxcIlxcblwifSxzZXREaXJlY3Rpb246UXIoZnVuY3Rpb24odCl7dmFyIGU7XCJydGxcIiE9dCYmKHQ9XCJsdHJcIiksdCE9dGhpcy5kaXJlY3Rpb24mJih0aGlzLmRpcmVjdGlvbj10LHRoaXMuaXRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5vcmRlcj1udWxsfSksdGhpcy5jbSYmSnIoZT10aGlzLmNtLGZ1bmN0aW9uKCl7UGkoZSksY3IoZSl9KSl9KX0pLE9vLnByb3RvdHlwZS5lYWNoTGluZT1Pby5wcm90b3R5cGUuaXRlcjt2YXIgTW89MDtmdW5jdGlvbiBMbyh0KXt2YXIgZT10aGlzO2lmKEFvKGUpLCFndChlLHQpJiYhQ24oZS5kaXNwbGF5LHQpKXt4dCh0KSxhJiYoTW89K25ldyBEYXRlKTt2YXIgbj1zcihlLHQsITApLHI9dC5kYXRhVHJhbnNmZXIuZmlsZXM7aWYobiYmIWUuaXNSZWFkT25seSgpKWlmKHImJnIubGVuZ3RoJiZ3aW5kb3cuRmlsZVJlYWRlciYmd2luZG93LkZpbGUpZm9yKHZhciBpPXIubGVuZ3RoLG89QXJyYXkoaSkscz0wLGw9ZnVuY3Rpb24odCxyKXtpZighZS5vcHRpb25zLmFsbG93RHJvcEZpbGVUeXBlc3x8LTEhPUIoZS5vcHRpb25zLmFsbG93RHJvcEZpbGVUeXBlcyx0LnR5cGUpKXt2YXIgYT1uZXcgRmlsZVJlYWRlcjthLm9ubG9hZD1YcihlLGZ1bmN0aW9uKCl7dmFyIHQ9YS5yZXN1bHQ7aWYoL1tcXHgwMC1cXHgwOFxceDBlLVxceDFmXXsyfS8udGVzdCh0KSYmKHQ9XCJcIiksb1tyXT10LCsrcz09aSl7dmFyIGw9e2Zyb206bj1zZShlLmRvYyxuKSx0bzpuLHRleHQ6ZS5kb2Muc3BsaXRMaW5lcyhvLmpvaW4oZS5kb2MubGluZVNlcGFyYXRvcigpKSksb3JpZ2luOlwicGFzdGVcIn07YW8oZS5kb2MsbCksWWkoZS5kb2MsQ2kobixraShsKSkpfX0pLGEucmVhZEFzVGV4dCh0KX19LGM9MDtjPGk7KytjKWwocltjXSxjKTtlbHNle2lmKGUuc3RhdGUuZHJhZ2dpbmdUZXh0JiZlLmRvYy5zZWwuY29udGFpbnMobik+LTEpcmV0dXJuIGUuc3RhdGUuZHJhZ2dpbmdUZXh0KHQpLHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLmRpc3BsYXkuaW5wdXQuZm9jdXMoKX0sMjApO3RyeXt2YXIgdT10LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiVGV4dFwiKTtpZih1KXt2YXIgZjtpZihlLnN0YXRlLmRyYWdnaW5nVGV4dCYmIWUuc3RhdGUuZHJhZ2dpbmdUZXh0LmNvcHkmJihmPWUubGlzdFNlbGVjdGlvbnMoKSksWGkoZS5kb2MsQ2kobixuKSksZilmb3IodmFyIGQ9MDtkPGYubGVuZ3RoOysrZClmbyhlLmRvYyxcIlwiLGZbZF0uYW5jaG9yLGZbZF0uaGVhZCxcImRyYWdcIik7ZS5yZXBsYWNlU2VsZWN0aW9uKHUsXCJhcm91bmRcIixcInBhc3RlXCIpLGUuZGlzcGxheS5pbnB1dC5mb2N1cygpfX1jYXRjaCh0KXt9fX19ZnVuY3Rpb24gQW8odCl7dC5kaXNwbGF5LmRyYWdDdXJzb3ImJih0LmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKHQuZGlzcGxheS5kcmFnQ3Vyc29yKSx0LmRpc3BsYXkuZHJhZ0N1cnNvcj1udWxsKX1mdW5jdGlvbiBObyh0KXtpZihkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXtmb3IodmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkNvZGVNaXJyb3JcIiksbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl0uQ29kZU1pcnJvcjtpJiZuLnB1c2goaSl9bi5sZW5ndGgmJm5bMF0ub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuLmxlbmd0aDtlKyspdChuW2VdKX0pfX12YXIgUG89ITE7ZnVuY3Rpb24gRm8oKXt2YXIgdDtQb3x8KGR0KHdpbmRvdyxcInJlc2l6ZVwiLGZ1bmN0aW9uKCl7bnVsbD09dCYmKHQ9c2V0VGltZW91dChmdW5jdGlvbigpe3Q9bnVsbCxObyhJbyl9LDEwMCkpfSksZHQod2luZG93LFwiYmx1clwiLGZ1bmN0aW9uKCl7cmV0dXJuIE5vKGtyKX0pLFBvPSEwKX1mdW5jdGlvbiBJbyh0KXt2YXIgZT10LmRpc3BsYXk7ZS5jYWNoZWRDaGFyV2lkdGg9ZS5jYWNoZWRUZXh0SGVpZ2h0PWUuY2FjaGVkUGFkZGluZ0g9bnVsbCxlLnNjcm9sbGJhcnNDbGlwcGVkPSExLHQuc2V0U2l6ZSgpfWZvcih2YXIgam89ezM6XCJQYXVzZVwiLDg6XCJCYWNrc3BhY2VcIiw5OlwiVGFiXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkN0cmxcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NcIiwzMjpcIlNwYWNlXCIsMzM6XCJQYWdlVXBcIiwzNDpcIlBhZ2VEb3duXCIsMzU6XCJFbmRcIiwzNjpcIkhvbWVcIiwzNzpcIkxlZnRcIiwzODpcIlVwXCIsMzk6XCJSaWdodFwiLDQwOlwiRG93blwiLDQ0OlwiUHJpbnRTY3JuXCIsNDU6XCJJbnNlcnRcIiw0NjpcIkRlbGV0ZVwiLDU5OlwiO1wiLDYxOlwiPVwiLDkxOlwiTW9kXCIsOTI6XCJNb2RcIiw5MzpcIk1vZFwiLDEwNjpcIipcIiwxMDc6XCI9XCIsMTA5OlwiLVwiLDExMDpcIi5cIiwxMTE6XCIvXCIsMTQ1OlwiU2Nyb2xsTG9ja1wiLDE3MzpcIi1cIiwxODY6XCI7XCIsMTg3OlwiPVwiLDE4ODpcIixcIiwxODk6XCItXCIsMTkwOlwiLlwiLDE5MTpcIi9cIiwxOTI6XCJgXCIsMjE5OlwiW1wiLDIyMDpcIlxcXFxcIiwyMjE6XCJdXCIsMjIyOlwiJ1wiLDYzMjMyOlwiVXBcIiw2MzIzMzpcIkRvd25cIiw2MzIzNDpcIkxlZnRcIiw2MzIzNTpcIlJpZ2h0XCIsNjMyNzI6XCJEZWxldGVcIiw2MzI3MzpcIkhvbWVcIiw2MzI3NTpcIkVuZFwiLDYzMjc2OlwiUGFnZVVwXCIsNjMyNzc6XCJQYWdlRG93blwiLDYzMzAyOlwiSW5zZXJ0XCJ9LERvPTA7RG88MTA7RG8rKylqb1tEbys0OF09am9bRG8rOTZdPVN0cmluZyhEbyk7Zm9yKHZhciB6bz02NTt6bzw9OTA7em8rKylqb1t6b109U3RyaW5nLmZyb21DaGFyQ29kZSh6byk7Zm9yKHZhciBSbz0xO1JvPD0xMjtSbysrKWpvW1JvKzExMV09am9bUm8rNjMyMzVdPVwiRlwiK1JvO3ZhciBCbz17fTtmdW5jdGlvbiBIbyh0KXt2YXIgZSxuLHIsaSxvPXQuc3BsaXQoLy0oPyEkKS8pO3Q9b1tvLmxlbmd0aC0xXTtmb3IodmFyIGE9MDthPG8ubGVuZ3RoLTE7YSsrKXt2YXIgcz1vW2FdO2lmKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QocykpaT0hMDtlbHNlIGlmKC9eYShsdCk/JC9pLnRlc3QocykpZT0hMDtlbHNlIGlmKC9eKGN8Y3RybHxjb250cm9sKSQvaS50ZXN0KHMpKW49ITA7ZWxzZXtpZighL15zKGhpZnQpPyQvaS50ZXN0KHMpKXRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIitzKTtyPSEwfX1yZXR1cm4gZSYmKHQ9XCJBbHQtXCIrdCksbiYmKHQ9XCJDdHJsLVwiK3QpLGkmJih0PVwiQ21kLVwiK3QpLHImJih0PVwiU2hpZnQtXCIrdCksdH1mdW5jdGlvbiBXbyh0KXt2YXIgZT17fTtmb3IodmFyIG4gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG4pKXt2YXIgcj10W25dO2lmKC9eKG5hbWV8ZmFsbHRocm91Z2h8KGRlfGF0KXRhY2gpJC8udGVzdChuKSljb250aW51ZTtpZihcIi4uLlwiPT1yKXtkZWxldGUgdFtuXTtjb250aW51ZX1mb3IodmFyIGk9SihuLnNwbGl0KFwiIFwiKSxIbyksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgYT12b2lkIDAscz12b2lkIDA7bz09aS5sZW5ndGgtMT8ocz1pLmpvaW4oXCIgXCIpLGE9cik6KHM9aS5zbGljZSgwLG8rMSkuam9pbihcIiBcIiksYT1cIi4uLlwiKTt2YXIgbD1lW3NdO2lmKGwpe2lmKGwhPWEpdGhyb3cgbmV3IEVycm9yKFwiSW5jb25zaXN0ZW50IGJpbmRpbmdzIGZvciBcIitzKX1lbHNlIGVbc109YX1kZWxldGUgdFtuXX1mb3IodmFyIGMgaW4gZSl0W2NdPWVbY107cmV0dXJuIHR9ZnVuY3Rpb24gVW8odCxlLG4scil7dmFyIGk9KGU9JG8oZSkpLmNhbGw/ZS5jYWxsKHQscik6ZVt0XTtpZighMT09PWkpcmV0dXJuXCJub3RoaW5nXCI7aWYoXCIuLi5cIj09PWkpcmV0dXJuXCJtdWx0aVwiO2lmKG51bGwhPWkmJm4oaSkpcmV0dXJuXCJoYW5kbGVkXCI7aWYoZS5mYWxsdGhyb3VnaCl7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5mYWxsdGhyb3VnaCkpcmV0dXJuIFVvKHQsZS5mYWxsdGhyb3VnaCxuLHIpO2Zvcih2YXIgbz0wO288ZS5mYWxsdGhyb3VnaC5sZW5ndGg7bysrKXt2YXIgYT1Vbyh0LGUuZmFsbHRocm91Z2hbb10sbixyKTtpZihhKXJldHVybiBhfX19ZnVuY3Rpb24gVm8odCl7dmFyIGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpqb1t0LmtleUNvZGVdO3JldHVyblwiQ3RybFwiPT1lfHxcIkFsdFwiPT1lfHxcIlNoaWZ0XCI9PWV8fFwiTW9kXCI9PWV9ZnVuY3Rpb24gR28odCxlLG4pe3ZhciByPXQ7cmV0dXJuIGUuYWx0S2V5JiZcIkFsdFwiIT1yJiYodD1cIkFsdC1cIit0KSwoQz9lLm1ldGFLZXk6ZS5jdHJsS2V5KSYmXCJDdHJsXCIhPXImJih0PVwiQ3RybC1cIit0KSwoQz9lLmN0cmxLZXk6ZS5tZXRhS2V5KSYmXCJDbWRcIiE9ciYmKHQ9XCJDbWQtXCIrdCksIW4mJmUuc2hpZnRLZXkmJlwiU2hpZnRcIiE9ciYmKHQ9XCJTaGlmdC1cIit0KSx0fWZ1bmN0aW9uIEtvKHQsZSl7aWYoZiYmMzQ9PXQua2V5Q29kZSYmdC5jaGFyKXJldHVybiExO3ZhciBuPWpvW3Qua2V5Q29kZV07cmV0dXJuIG51bGwhPW4mJiF0LmFsdEdyYXBoS2V5JiYoMz09dC5rZXlDb2RlJiZ0LmNvZGUmJihuPXQuY29kZSksR28obix0LGUpKX1mdW5jdGlvbiAkbyh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9Cb1t0XTp0fWZ1bmN0aW9uIHFvKHQsZSl7Zm9yKHZhciBuPXQuZG9jLnNlbC5yYW5nZXMscj1bXSxpPTA7aTxuLmxlbmd0aDtpKyspe2Zvcih2YXIgbz1lKG5baV0pO3IubGVuZ3RoJiZlZShvLmZyb20sWShyKS50byk8PTA7KXt2YXIgYT1yLnBvcCgpO2lmKGVlKGEuZnJvbSxvLmZyb20pPDApe28uZnJvbT1hLmZyb207YnJlYWt9fXIucHVzaChvKX1Kcih0LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXIubGVuZ3RoLTE7ZT49MDtlLS0pZm8odC5kb2MsXCJcIixyW2VdLmZyb20scltlXS50byxcIitkZWxldGVcIik7TXIodCl9KX1mdW5jdGlvbiBZbyh0LGUsbil7dmFyIHI9b3QodC50ZXh0LGUrbixuKTtyZXR1cm4gcjwwfHxyPnQudGV4dC5sZW5ndGg/bnVsbDpyfWZ1bmN0aW9uIEpvKHQsZSxuKXt2YXIgcj1Zbyh0LGUuY2gsbik7cmV0dXJuIG51bGw9PXI/bnVsbDpuZXcgdGUoZS5saW5lLHIsbjwwP1wiYWZ0ZXJcIjpcImJlZm9yZVwiKX1mdW5jdGlvbiBYbyh0LGUsbixyLGkpe2lmKHQpe3ZhciBvPXV0KG4sZS5kb2MuZGlyZWN0aW9uKTtpZihvKXt2YXIgYSxzPWk8MD9ZKG8pOm9bMF0sbD1pPDA9PSgxPT1zLmxldmVsKSxjPWw/XCJhZnRlclwiOlwiYmVmb3JlXCI7aWYocy5sZXZlbD4wfHxcInJ0bFwiPT1lLmRvYy5kaXJlY3Rpb24pe3ZhciB1PU5uKGUsbik7YT1pPDA/bi50ZXh0Lmxlbmd0aC0xOjA7dmFyIGY9UG4oZSx1LGEpLnRvcDthPWF0KGZ1bmN0aW9uKHQpe3JldHVybiBQbihlLHUsdCkudG9wPT1mfSxpPDA9PSgxPT1zLmxldmVsKT9zLmZyb206cy50by0xLGEpLFwiYmVmb3JlXCI9PWMmJihhPVlvKG4sYSwxKSl9ZWxzZSBhPWk8MD9zLnRvOnMuZnJvbTtyZXR1cm4gbmV3IHRlKHIsYSxjKX19cmV0dXJuIG5ldyB0ZShyLGk8MD9uLnRleHQubGVuZ3RoOjAsaTwwP1wiYmVmb3JlXCI6XCJhZnRlclwiKX1Cby5iYXNpYz17TGVmdDpcImdvQ2hhckxlZnRcIixSaWdodDpcImdvQ2hhclJpZ2h0XCIsVXA6XCJnb0xpbmVVcFwiLERvd246XCJnb0xpbmVEb3duXCIsRW5kOlwiZ29MaW5lRW5kXCIsSG9tZTpcImdvTGluZVN0YXJ0U21hcnRcIixQYWdlVXA6XCJnb1BhZ2VVcFwiLFBhZ2VEb3duOlwiZ29QYWdlRG93blwiLERlbGV0ZTpcImRlbENoYXJBZnRlclwiLEJhY2tzcGFjZTpcImRlbENoYXJCZWZvcmVcIixcIlNoaWZ0LUJhY2tzcGFjZVwiOlwiZGVsQ2hhckJlZm9yZVwiLFRhYjpcImRlZmF1bHRUYWJcIixcIlNoaWZ0LVRhYlwiOlwiaW5kZW50QXV0b1wiLEVudGVyOlwibmV3bGluZUFuZEluZGVudFwiLEluc2VydDpcInRvZ2dsZU92ZXJ3cml0ZVwiLEVzYzpcInNpbmdsZVNlbGVjdGlvblwifSxCby5wY0RlZmF1bHQ9e1wiQ3RybC1BXCI6XCJzZWxlY3RBbGxcIixcIkN0cmwtRFwiOlwiZGVsZXRlTGluZVwiLFwiQ3RybC1aXCI6XCJ1bmRvXCIsXCJTaGlmdC1DdHJsLVpcIjpcInJlZG9cIixcIkN0cmwtWVwiOlwicmVkb1wiLFwiQ3RybC1Ib21lXCI6XCJnb0RvY1N0YXJ0XCIsXCJDdHJsLUVuZFwiOlwiZ29Eb2NFbmRcIixcIkN0cmwtVXBcIjpcImdvTGluZVVwXCIsXCJDdHJsLURvd25cIjpcImdvTGluZURvd25cIixcIkN0cmwtTGVmdFwiOlwiZ29Hcm91cExlZnRcIixcIkN0cmwtUmlnaHRcIjpcImdvR3JvdXBSaWdodFwiLFwiQWx0LUxlZnRcIjpcImdvTGluZVN0YXJ0XCIsXCJBbHQtUmlnaHRcIjpcImdvTGluZUVuZFwiLFwiQ3RybC1CYWNrc3BhY2VcIjpcImRlbEdyb3VwQmVmb3JlXCIsXCJDdHJsLURlbGV0ZVwiOlwiZGVsR3JvdXBBZnRlclwiLFwiQ3RybC1TXCI6XCJzYXZlXCIsXCJDdHJsLUZcIjpcImZpbmRcIixcIkN0cmwtR1wiOlwiZmluZE5leHRcIixcIlNoaWZ0LUN0cmwtR1wiOlwiZmluZFByZXZcIixcIlNoaWZ0LUN0cmwtRlwiOlwicmVwbGFjZVwiLFwiU2hpZnQtQ3RybC1SXCI6XCJyZXBsYWNlQWxsXCIsXCJDdHJsLVtcIjpcImluZGVudExlc3NcIixcIkN0cmwtXVwiOlwiaW5kZW50TW9yZVwiLFwiQ3RybC1VXCI6XCJ1bmRvU2VsZWN0aW9uXCIsXCJTaGlmdC1DdHJsLVVcIjpcInJlZG9TZWxlY3Rpb25cIixcIkFsdC1VXCI6XCJyZWRvU2VsZWN0aW9uXCIsZmFsbHRocm91Z2g6XCJiYXNpY1wifSxCby5lbWFjc3k9e1wiQ3RybC1GXCI6XCJnb0NoYXJSaWdodFwiLFwiQ3RybC1CXCI6XCJnb0NoYXJMZWZ0XCIsXCJDdHJsLVBcIjpcImdvTGluZVVwXCIsXCJDdHJsLU5cIjpcImdvTGluZURvd25cIixcIkFsdC1GXCI6XCJnb1dvcmRSaWdodFwiLFwiQWx0LUJcIjpcImdvV29yZExlZnRcIixcIkN0cmwtQVwiOlwiZ29MaW5lU3RhcnRcIixcIkN0cmwtRVwiOlwiZ29MaW5lRW5kXCIsXCJDdHJsLVZcIjpcImdvUGFnZURvd25cIixcIlNoaWZ0LUN0cmwtVlwiOlwiZ29QYWdlVXBcIixcIkN0cmwtRFwiOlwiZGVsQ2hhckFmdGVyXCIsXCJDdHJsLUhcIjpcImRlbENoYXJCZWZvcmVcIixcIkFsdC1EXCI6XCJkZWxXb3JkQWZ0ZXJcIixcIkFsdC1CYWNrc3BhY2VcIjpcImRlbFdvcmRCZWZvcmVcIixcIkN0cmwtS1wiOlwia2lsbExpbmVcIixcIkN0cmwtVFwiOlwidHJhbnNwb3NlQ2hhcnNcIixcIkN0cmwtT1wiOlwib3BlbkxpbmVcIn0sQm8ubWFjRGVmYXVsdD17XCJDbWQtQVwiOlwic2VsZWN0QWxsXCIsXCJDbWQtRFwiOlwiZGVsZXRlTGluZVwiLFwiQ21kLVpcIjpcInVuZG9cIixcIlNoaWZ0LUNtZC1aXCI6XCJyZWRvXCIsXCJDbWQtWVwiOlwicmVkb1wiLFwiQ21kLUhvbWVcIjpcImdvRG9jU3RhcnRcIixcIkNtZC1VcFwiOlwiZ29Eb2NTdGFydFwiLFwiQ21kLUVuZFwiOlwiZ29Eb2NFbmRcIixcIkNtZC1Eb3duXCI6XCJnb0RvY0VuZFwiLFwiQWx0LUxlZnRcIjpcImdvR3JvdXBMZWZ0XCIsXCJBbHQtUmlnaHRcIjpcImdvR3JvdXBSaWdodFwiLFwiQ21kLUxlZnRcIjpcImdvTGluZUxlZnRcIixcIkNtZC1SaWdodFwiOlwiZ29MaW5lUmlnaHRcIixcIkFsdC1CYWNrc3BhY2VcIjpcImRlbEdyb3VwQmVmb3JlXCIsXCJDdHJsLUFsdC1CYWNrc3BhY2VcIjpcImRlbEdyb3VwQWZ0ZXJcIixcIkFsdC1EZWxldGVcIjpcImRlbEdyb3VwQWZ0ZXJcIixcIkNtZC1TXCI6XCJzYXZlXCIsXCJDbWQtRlwiOlwiZmluZFwiLFwiQ21kLUdcIjpcImZpbmROZXh0XCIsXCJTaGlmdC1DbWQtR1wiOlwiZmluZFByZXZcIixcIkNtZC1BbHQtRlwiOlwicmVwbGFjZVwiLFwiU2hpZnQtQ21kLUFsdC1GXCI6XCJyZXBsYWNlQWxsXCIsXCJDbWQtW1wiOlwiaW5kZW50TGVzc1wiLFwiQ21kLV1cIjpcImluZGVudE1vcmVcIixcIkNtZC1CYWNrc3BhY2VcIjpcImRlbFdyYXBwZWRMaW5lTGVmdFwiLFwiQ21kLURlbGV0ZVwiOlwiZGVsV3JhcHBlZExpbmVSaWdodFwiLFwiQ21kLVVcIjpcInVuZG9TZWxlY3Rpb25cIixcIlNoaWZ0LUNtZC1VXCI6XCJyZWRvU2VsZWN0aW9uXCIsXCJDdHJsLVVwXCI6XCJnb0RvY1N0YXJ0XCIsXCJDdHJsLURvd25cIjpcImdvRG9jRW5kXCIsZmFsbHRocm91Z2g6W1wiYmFzaWNcIixcImVtYWNzeVwiXX0sQm8uZGVmYXVsdD15P0JvLm1hY0RlZmF1bHQ6Qm8ucGNEZWZhdWx0O3ZhciBabz17c2VsZWN0QWxsOmlvLHNpbmdsZVNlbGVjdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5zZXRTZWxlY3Rpb24odC5nZXRDdXJzb3IoXCJhbmNob3JcIiksdC5nZXRDdXJzb3IoXCJoZWFkXCIpLFUpfSxraWxsTGluZTpmdW5jdGlvbih0KXtyZXR1cm4gcW8odCxmdW5jdGlvbihlKXtpZihlLmVtcHR5KCkpe3ZhciBuPUt0KHQuZG9jLGUuaGVhZC5saW5lKS50ZXh0Lmxlbmd0aDtyZXR1cm4gZS5oZWFkLmNoPT1uJiZlLmhlYWQubGluZTx0Lmxhc3RMaW5lKCk/e2Zyb206ZS5oZWFkLHRvOnRlKGUuaGVhZC5saW5lKzEsMCl9Ontmcm9tOmUuaGVhZCx0bzp0ZShlLmhlYWQubGluZSxuKX19cmV0dXJue2Zyb206ZS5mcm9tKCksdG86ZS50bygpfX0pfSxkZWxldGVMaW5lOmZ1bmN0aW9uKHQpe3JldHVybiBxbyh0LGZ1bmN0aW9uKGUpe3JldHVybntmcm9tOnRlKGUuZnJvbSgpLmxpbmUsMCksdG86c2UodC5kb2MsdGUoZS50bygpLmxpbmUrMSwwKSl9fSl9LGRlbExpbmVMZWZ0OmZ1bmN0aW9uKHQpe3JldHVybiBxbyh0LGZ1bmN0aW9uKHQpe3JldHVybntmcm9tOnRlKHQuZnJvbSgpLmxpbmUsMCksdG86dC5mcm9tKCl9fSl9LGRlbFdyYXBwZWRMaW5lTGVmdDpmdW5jdGlvbih0KXtyZXR1cm4gcW8odCxmdW5jdGlvbihlKXt2YXIgbj10LmNoYXJDb29yZHMoZS5oZWFkLFwiZGl2XCIpLnRvcCs1LHI9dC5jb29yZHNDaGFyKHtsZWZ0OjAsdG9wOm59LFwiZGl2XCIpO3JldHVybntmcm9tOnIsdG86ZS5mcm9tKCl9fSl9LGRlbFdyYXBwZWRMaW5lUmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHFvKHQsZnVuY3Rpb24oZSl7dmFyIG49dC5jaGFyQ29vcmRzKGUuaGVhZCxcImRpdlwiKS50b3ArNSxyPXQuY29vcmRzQ2hhcih7bGVmdDp0LmRpc3BsYXkubGluZURpdi5vZmZzZXRXaWR0aCsxMDAsdG9wOm59LFwiZGl2XCIpO3JldHVybntmcm9tOmUuZnJvbSgpLHRvOnJ9fSl9LHVuZG86ZnVuY3Rpb24odCl7cmV0dXJuIHQudW5kbygpfSxyZWRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZG8oKX0sdW5kb1NlbGVjdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC51bmRvU2VsZWN0aW9uKCl9LHJlZG9TZWxlY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkb1NlbGVjdGlvbigpfSxnb0RvY1N0YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmV4dGVuZFNlbGVjdGlvbih0ZSh0LmZpcnN0TGluZSgpLDApKX0sZ29Eb2NFbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZXh0ZW5kU2VsZWN0aW9uKHRlKHQubGFzdExpbmUoKSkpfSxnb0xpbmVTdGFydDpmdW5jdGlvbih0KXtyZXR1cm4gdC5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24oZSl7cmV0dXJuIFFvKHQsZS5oZWFkLmxpbmUpfSx7b3JpZ2luOlwiK21vdmVcIixiaWFzOjF9KX0sZ29MaW5lU3RhcnRTbWFydDpmdW5jdGlvbih0KXtyZXR1cm4gdC5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24oZSl7cmV0dXJuIHRhKHQsZS5oZWFkKX0se29yaWdpbjpcIittb3ZlXCIsYmlhczoxfSl9LGdvTGluZUVuZDpmdW5jdGlvbih0KXtyZXR1cm4gdC5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49S3QodC5kb2MsZSkscj1mdW5jdGlvbih0KXtmb3IodmFyIGU7ZT1JZSh0KTspdD1lLmZpbmQoMSwhMCkubGluZTtyZXR1cm4gdH0obik7cmV0dXJuIHIhPW4mJihlPUp0KHIpKSxYbyghMCx0LG4sZSwtMSl9KHQsZS5oZWFkLmxpbmUpfSx7b3JpZ2luOlwiK21vdmVcIixiaWFzOi0xfSl9LGdvTGluZVJpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihlKXt2YXIgbj10LmN1cnNvckNvb3JkcyhlLmhlYWQsXCJkaXZcIikudG9wKzU7cmV0dXJuIHQuY29vcmRzQ2hhcih7bGVmdDp0LmRpc3BsYXkubGluZURpdi5vZmZzZXRXaWR0aCsxMDAsdG9wOm59LFwiZGl2XCIpfSxHKX0sZ29MaW5lTGVmdDpmdW5jdGlvbih0KXtyZXR1cm4gdC5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24oZSl7dmFyIG49dC5jdXJzb3JDb29yZHMoZS5oZWFkLFwiZGl2XCIpLnRvcCs1O3JldHVybiB0LmNvb3Jkc0NoYXIoe2xlZnQ6MCx0b3A6bn0sXCJkaXZcIil9LEcpfSxnb0xpbmVMZWZ0U21hcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uKGUpe3ZhciBuPXQuY3Vyc29yQ29vcmRzKGUuaGVhZCxcImRpdlwiKS50b3ArNSxyPXQuY29vcmRzQ2hhcih7bGVmdDowLHRvcDpufSxcImRpdlwiKTtyZXR1cm4gci5jaDx0LmdldExpbmUoci5saW5lKS5zZWFyY2goL1xcUy8pP3RhKHQsZS5oZWFkKTpyfSxHKX0sZ29MaW5lVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZVYoLTEsXCJsaW5lXCIpfSxnb0xpbmVEb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVWKDEsXCJsaW5lXCIpfSxnb1BhZ2VVcDpmdW5jdGlvbih0KXtyZXR1cm4gdC5tb3ZlVigtMSxcInBhZ2VcIil9LGdvUGFnZURvd246ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZVYoMSxcInBhZ2VcIil9LGdvQ2hhckxlZnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZUgoLTEsXCJjaGFyXCIpfSxnb0NoYXJSaWdodDpmdW5jdGlvbih0KXtyZXR1cm4gdC5tb3ZlSCgxLFwiY2hhclwiKX0sZ29Db2x1bW5MZWZ0OmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVIKC0xLFwiY29sdW1uXCIpfSxnb0NvbHVtblJpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiB0Lm1vdmVIKDEsXCJjb2x1bW5cIil9LGdvV29yZExlZnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZUgoLTEsXCJ3b3JkXCIpfSxnb0dyb3VwUmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQubW92ZUgoMSxcImdyb3VwXCIpfSxnb0dyb3VwTGVmdDpmdW5jdGlvbih0KXtyZXR1cm4gdC5tb3ZlSCgtMSxcImdyb3VwXCIpfSxnb1dvcmRSaWdodDpmdW5jdGlvbih0KXtyZXR1cm4gdC5tb3ZlSCgxLFwid29yZFwiKX0sZGVsQ2hhckJlZm9yZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5kZWxldGVIKC0xLFwiY2hhclwiKX0sZGVsQ2hhckFmdGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0LmRlbGV0ZUgoMSxcImNoYXJcIil9LGRlbFdvcmRCZWZvcmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlSCgtMSxcIndvcmRcIil9LGRlbFdvcmRBZnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5kZWxldGVIKDEsXCJ3b3JkXCIpfSxkZWxHcm91cEJlZm9yZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5kZWxldGVIKC0xLFwiZ3JvdXBcIil9LGRlbEdyb3VwQWZ0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVsZXRlSCgxLFwiZ3JvdXBcIil9LGluZGVudEF1dG86ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZW50U2VsZWN0aW9uKFwic21hcnRcIil9LGluZGVudE1vcmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZW50U2VsZWN0aW9uKFwiYWRkXCIpfSxpbmRlbnRMZXNzOmZ1bmN0aW9uKHQpe3JldHVybiB0LmluZGVudFNlbGVjdGlvbihcInN1YnRyYWN0XCIpfSxpbnNlcnRUYWI6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZVNlbGVjdGlvbihcIlxcdFwiKX0saW5zZXJ0U29mdFRhYjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10Lmxpc3RTZWxlY3Rpb25zKCkscj10Lm9wdGlvbnMudGFiU2l6ZSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBvPW5baV0uZnJvbSgpLGE9eih0LmdldExpbmUoby5saW5lKSxvLmNoLHIpO2UucHVzaChxKHItYSVyKSl9dC5yZXBsYWNlU2VsZWN0aW9ucyhlKX0sZGVmYXVsdFRhYjpmdW5jdGlvbih0KXt0LnNvbWV0aGluZ1NlbGVjdGVkKCk/dC5pbmRlbnRTZWxlY3Rpb24oXCJhZGRcIik6dC5leGVjQ29tbWFuZChcImluc2VydFRhYlwiKX0sdHJhbnNwb3NlQ2hhcnM6ZnVuY3Rpb24odCl7cmV0dXJuIEpyKHQsZnVuY3Rpb24oKXtmb3IodmFyIGU9dC5saXN0U2VsZWN0aW9ucygpLG49W10scj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uZW1wdHkoKSl7dmFyIGk9ZVtyXS5oZWFkLG89S3QodC5kb2MsaS5saW5lKS50ZXh0O2lmKG8paWYoaS5jaD09by5sZW5ndGgmJihpPW5ldyB0ZShpLmxpbmUsaS5jaC0xKSksaS5jaD4wKWk9bmV3IHRlKGkubGluZSxpLmNoKzEpLHQucmVwbGFjZVJhbmdlKG8uY2hhckF0KGkuY2gtMSkrby5jaGFyQXQoaS5jaC0yKSx0ZShpLmxpbmUsaS5jaC0yKSxpLFwiK3RyYW5zcG9zZVwiKTtlbHNlIGlmKGkubGluZT50LmRvYy5maXJzdCl7dmFyIGE9S3QodC5kb2MsaS5saW5lLTEpLnRleHQ7YSYmKGk9bmV3IHRlKGkubGluZSwxKSx0LnJlcGxhY2VSYW5nZShvLmNoYXJBdCgwKSt0LmRvYy5saW5lU2VwYXJhdG9yKCkrYS5jaGFyQXQoYS5sZW5ndGgtMSksdGUoaS5saW5lLTEsYS5sZW5ndGgtMSksaSxcIit0cmFuc3Bvc2VcIikpfW4ucHVzaChuZXcgeGkoaSxpKSl9dC5zZXRTZWxlY3Rpb25zKG4pfSl9LG5ld2xpbmVBbmRJbmRlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIEpyKHQsZnVuY3Rpb24oKXtmb3IodmFyIGU9dC5saXN0U2VsZWN0aW9ucygpLG49ZS5sZW5ndGgtMTtuPj0wO24tLSl0LnJlcGxhY2VSYW5nZSh0LmRvYy5saW5lU2VwYXJhdG9yKCksZVtuXS5hbmNob3IsZVtuXS5oZWFkLFwiK2lucHV0XCIpO2U9dC5saXN0U2VsZWN0aW9ucygpO2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQuaW5kZW50TGluZShlW3JdLmZyb20oKS5saW5lLG51bGwsITApO01yKHQpfSl9LG9wZW5MaW5lOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2VTZWxlY3Rpb24oXCJcXG5cIixcInN0YXJ0XCIpfSx0b2dnbGVPdmVyd3JpdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudG9nZ2xlT3ZlcndyaXRlKCl9fTtmdW5jdGlvbiBRbyh0LGUpe3ZhciBuPUt0KHQuZG9jLGUpLHI9emUobik7cmV0dXJuIHIhPW4mJihlPUp0KHIpKSxYbyghMCx0LHIsZSwxKX1mdW5jdGlvbiB0YSh0LGUpe3ZhciBuPVFvKHQsZS5saW5lKSxyPUt0KHQuZG9jLG4ubGluZSksaT11dChyLHQuZG9jLmRpcmVjdGlvbik7aWYoIWl8fDA9PWlbMF0ubGV2ZWwpe3ZhciBvPU1hdGgubWF4KDAsci50ZXh0LnNlYXJjaCgvXFxTLykpLGE9ZS5saW5lPT1uLmxpbmUmJmUuY2g8PW8mJmUuY2g7cmV0dXJuIHRlKG4ubGluZSxhPzA6byxuLnN0aWNreSl9cmV0dXJuIG59ZnVuY3Rpb24gZWEodCxlLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYhKGU9Wm9bZV0pKXJldHVybiExO3QuZGlzcGxheS5pbnB1dC5lbnN1cmVQb2xsZWQoKTt2YXIgcj10LmRpc3BsYXkuc2hpZnQsaT0hMTt0cnl7dC5pc1JlYWRPbmx5KCkmJih0LnN0YXRlLnN1cHByZXNzRWRpdHM9ITApLG4mJih0LmRpc3BsYXkuc2hpZnQ9ITEpLGk9ZSh0KSE9V31maW5hbGx5e3QuZGlzcGxheS5zaGlmdD1yLHQuc3RhdGUuc3VwcHJlc3NFZGl0cz0hMX1yZXR1cm4gaX12YXIgbmE9bmV3IFI7ZnVuY3Rpb24gcmEodCxlLG4scil7dmFyIGk9dC5zdGF0ZS5rZXlTZXE7aWYoaSl7aWYoVm8oZSkpcmV0dXJuXCJoYW5kbGVkXCI7aWYoL1xcJyQvLnRlc3QoZSk/dC5zdGF0ZS5rZXlTZXE9bnVsbDpuYS5zZXQoNTAsZnVuY3Rpb24oKXt0LnN0YXRlLmtleVNlcT09aSYmKHQuc3RhdGUua2V5U2VxPW51bGwsdC5kaXNwbGF5LmlucHV0LnJlc2V0KCkpfSksaWEodCxpK1wiIFwiK2UsbixyKSlyZXR1cm4hMH1yZXR1cm4gaWEodCxlLG4scil9ZnVuY3Rpb24gaWEodCxlLG4scil7dmFyIGk9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8dC5zdGF0ZS5rZXlNYXBzLmxlbmd0aDtyKyspe3ZhciBpPVVvKGUsdC5zdGF0ZS5rZXlNYXBzW3JdLG4sdCk7aWYoaSlyZXR1cm4gaX1yZXR1cm4gdC5vcHRpb25zLmV4dHJhS2V5cyYmVW8oZSx0Lm9wdGlvbnMuZXh0cmFLZXlzLG4sdCl8fFVvKGUsdC5vcHRpb25zLmtleU1hcCxuLHQpfSh0LGUscik7cmV0dXJuXCJtdWx0aVwiPT1pJiYodC5zdGF0ZS5rZXlTZXE9ZSksXCJoYW5kbGVkXCI9PWkmJmxuKHQsXCJrZXlIYW5kbGVkXCIsdCxlLG4pLFwiaGFuZGxlZFwiIT1pJiZcIm11bHRpXCIhPWl8fCh4dChuKSxicih0KSksISFpfWZ1bmN0aW9uIG9hKHQsZSl7dmFyIG49S28oZSwhMCk7cmV0dXJuISFuJiYoZS5zaGlmdEtleSYmIXQuc3RhdGUua2V5U2VxP3JhKHQsXCJTaGlmdC1cIituLGUsZnVuY3Rpb24oZSl7cmV0dXJuIGVhKHQsZSwhMCl9KXx8cmEodCxuLGUsZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGU/L15nb1tBLVpdLy50ZXN0KGUpOmUubW90aW9uKXJldHVybiBlYSh0LGUpfSk6cmEodCxuLGUsZnVuY3Rpb24oZSl7cmV0dXJuIGVhKHQsZSl9KSl9dmFyIGFhPW51bGw7ZnVuY3Rpb24gc2EodCl7dmFyIGU9dGhpcztpZihlLmN1ck9wLmZvY3VzPU4oKSwhZ3QoZSx0KSl7YSYmczwxMSYmMjc9PXQua2V5Q29kZSYmKHQucmV0dXJuVmFsdWU9ITEpO3ZhciBuPXQua2V5Q29kZTtlLmRpc3BsYXkuc2hpZnQ9MTY9PW58fHQuc2hpZnRLZXk7dmFyIHI9b2EoZSx0KTtmJiYoYWE9cj9uOm51bGwsIXImJjg4PT1uJiYhRnQmJih5P3QubWV0YUtleTp0LmN0cmxLZXkpJiZlLnJlcGxhY2VTZWxlY3Rpb24oXCJcIixudWxsLFwiY3V0XCIpKSwxOCE9bnx8L1xcYkNvZGVNaXJyb3ItY3Jvc3NoYWlyXFxiLy50ZXN0KGUuZGlzcGxheS5saW5lRGl2LmNsYXNzTmFtZSl8fGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGlzcGxheS5saW5lRGl2O2Z1bmN0aW9uIG4odCl7MTghPXQua2V5Q29kZSYmdC5hbHRLZXl8fChFKGUsXCJDb2RlTWlycm9yLWNyb3NzaGFpclwiKSxwdChkb2N1bWVudCxcImtleXVwXCIsbikscHQoZG9jdW1lbnQsXCJtb3VzZW92ZXJcIixuKSl9UChlLFwiQ29kZU1pcnJvci1jcm9zc2hhaXJcIiksZHQoZG9jdW1lbnQsXCJrZXl1cFwiLG4pLGR0KGRvY3VtZW50LFwibW91c2VvdmVyXCIsbil9KGUpfX1mdW5jdGlvbiBsYSh0KXsxNj09dC5rZXlDb2RlJiYodGhpcy5kb2Muc2VsLnNoaWZ0PSExKSxndCh0aGlzLHQpfWZ1bmN0aW9uIGNhKHQpe3ZhciBlPXRoaXM7aWYoIShDbihlLmRpc3BsYXksdCl8fGd0KGUsdCl8fHQuY3RybEtleSYmIXQuYWx0S2V5fHx5JiZ0Lm1ldGFLZXkpKXt2YXIgbj10LmtleUNvZGUscj10LmNoYXJDb2RlO2lmKGYmJm49PWFhKXJldHVybiBhYT1udWxsLHZvaWQgeHQodCk7aWYoIWZ8fHQud2hpY2gmJiEodC53aGljaDwxMCl8fCFvYShlLHQpKXt2YXIgaT1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXI/bjpyKTtcIlxcYlwiIT1pJiYoZnVuY3Rpb24odCxlLG4pe3JldHVybiByYSh0LFwiJ1wiK24rXCInXCIsZSxmdW5jdGlvbihlKXtyZXR1cm4gZWEodCxlLCEwKX0pfShlLHQsaSl8fGUuZGlzcGxheS5pbnB1dC5vbktleVByZXNzKHQpKX19fXZhciB1YSxmYSxkYT1mdW5jdGlvbih0LGUsbil7dGhpcy50aW1lPXQsdGhpcy5wb3M9ZSx0aGlzLmJ1dHRvbj1ufTtmdW5jdGlvbiBoYSh0KXt2YXIgZT10aGlzLG49ZS5kaXNwbGF5O2lmKCEoZ3QoZSx0KXx8bi5hY3RpdmVUb3VjaCYmbi5pbnB1dC5zdXBwb3J0c1RvdWNoKCkpKWlmKG4uaW5wdXQuZW5zdXJlUG9sbGVkKCksbi5zaGlmdD10LnNoaWZ0S2V5LENuKG4sdCkpbHx8KG4uc2Nyb2xsZXIuZHJhZ2dhYmxlPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbi5zY3JvbGxlci5kcmFnZ2FibGU9ITB9LDEwMCkpO2Vsc2UgaWYoIWdhKGUsdCkpe3ZhciByPXNyKGUsdCksaT1TdCh0KSxvPXI/ZnVuY3Rpb24odCxlKXt2YXIgbj0rbmV3IERhdGU7cmV0dXJuIGZhJiZmYS5jb21wYXJlKG4sdCxlKT8odWE9ZmE9bnVsbCxcInRyaXBsZVwiKTp1YSYmdWEuY29tcGFyZShuLHQsZSk/KGZhPW5ldyBkYShuLHQsZSksdWE9bnVsbCxcImRvdWJsZVwiKToodWE9bmV3IGRhKG4sdCxlKSxmYT1udWxsLFwic2luZ2xlXCIpfShyLGkpOlwic2luZ2xlXCI7d2luZG93LmZvY3VzKCksMT09aSYmZS5zdGF0ZS5zZWxlY3RpbmdUZXh0JiZlLnN0YXRlLnNlbGVjdGluZ1RleHQodCksciYmZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz1cIkNsaWNrXCI7cmV0dXJuXCJkb3VibGVcIj09cj9vPVwiRG91YmxlXCIrbzpcInRyaXBsZVwiPT1yJiYobz1cIlRyaXBsZVwiK28pLHJhKHQsR28obz0oMT09ZT9cIkxlZnRcIjoyPT1lP1wiTWlkZGxlXCI6XCJSaWdodFwiKStvLGkpLGksZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVpvW2VdKSwhZSlyZXR1cm4hMTt2YXIgcj0hMTt0cnl7dC5pc1JlYWRPbmx5KCkmJih0LnN0YXRlLnN1cHByZXNzRWRpdHM9ITApLHI9ZSh0LG4pIT1XfWZpbmFsbHl7dC5zdGF0ZS5zdXBwcmVzc0VkaXRzPSExfXJldHVybiByfSl9KGUsaSxyLG8sdCl8fCgxPT1pP3I/ZnVuY3Rpb24odCxlLG4scil7YT9zZXRUaW1lb3V0KGooeHIsdCksMCk6dC5jdXJPcC5mb2N1cz1OKCk7dmFyIGksbz1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5nZXRPcHRpb24oXCJjb25maWd1cmVNb3VzZVwiKSxpPXI/cih0LGUsbik6e307aWYobnVsbD09aS51bml0KXt2YXIgbz1iP24uc2hpZnRLZXkmJm4ubWV0YUtleTpuLmFsdEtleTtpLnVuaXQ9bz9cInJlY3RhbmdsZVwiOlwic2luZ2xlXCI9PWU/XCJjaGFyXCI6XCJkb3VibGVcIj09ZT9cIndvcmRcIjpcImxpbmVcIn1yZXR1cm4obnVsbD09aS5leHRlbmR8fHQuZG9jLmV4dGVuZCkmJihpLmV4dGVuZD10LmRvYy5leHRlbmR8fG4uc2hpZnRLZXkpLG51bGw9PWkuYWRkTmV3JiYoaS5hZGROZXc9eT9uLm1ldGFLZXk6bi5jdHJsS2V5KSxudWxsPT1pLm1vdmVPbkRyYWcmJihpLm1vdmVPbkRyYWc9ISh5P24uYWx0S2V5Om4uY3RybEtleSkpLGl9KHQsbixyKSxjPXQuZG9jLnNlbDt0Lm9wdGlvbnMuZHJhZ0Ryb3AmJk90JiYhdC5pc1JlYWRPbmx5KCkmJlwic2luZ2xlXCI9PW4mJihpPWMuY29udGFpbnMoZSkpPi0xJiYoZWUoKGk9Yy5yYW5nZXNbaV0pLmZyb20oKSxlKTwwfHxlLnhSZWw+MCkmJihlZShpLnRvKCksZSk+MHx8ZS54UmVsPDApP2Z1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXQuZGlzcGxheSxvPSExLGM9WHIodCxmdW5jdGlvbihlKXtsJiYoaS5zY3JvbGxlci5kcmFnZ2FibGU9ITEpLHQuc3RhdGUuZHJhZ2dpbmdUZXh0PSExLHB0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2V1cFwiLGMpLHB0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2Vtb3ZlXCIsdSkscHQoaS5zY3JvbGxlcixcImRyYWdzdGFydFwiLGYpLHB0KGkuc2Nyb2xsZXIsXCJkcm9wXCIsYyksb3x8KHh0KGUpLHIuYWRkTmV3fHxHaSh0LmRvYyxuLG51bGwsbnVsbCxyLmV4dGVuZCksbHx8YSYmOT09cz9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS53cmFwcGVyLm93bmVyRG9jdW1lbnQuYm9keS5mb2N1cygpLGkuaW5wdXQuZm9jdXMoKX0sMjApOmkuaW5wdXQuZm9jdXMoKSl9KSx1PWZ1bmN0aW9uKHQpe289b3x8TWF0aC5hYnMoZS5jbGllbnRYLXQuY2xpZW50WCkrTWF0aC5hYnMoZS5jbGllbnRZLXQuY2xpZW50WSk+PTEwfSxmPWZ1bmN0aW9uKCl7cmV0dXJuIG89ITB9O2wmJihpLnNjcm9sbGVyLmRyYWdnYWJsZT0hMCksdC5zdGF0ZS5kcmFnZ2luZ1RleHQ9YyxjLmNvcHk9IXIubW92ZU9uRHJhZyxpLnNjcm9sbGVyLmRyYWdEcm9wJiZpLnNjcm9sbGVyLmRyYWdEcm9wKCksZHQoaS53cmFwcGVyLm93bmVyRG9jdW1lbnQsXCJtb3VzZXVwXCIsYyksZHQoaS53cmFwcGVyLm93bmVyRG9jdW1lbnQsXCJtb3VzZW1vdmVcIix1KSxkdChpLnNjcm9sbGVyLFwiZHJhZ3N0YXJ0XCIsZiksZHQoaS5zY3JvbGxlcixcImRyb3BcIixjKSx3cih0KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGkuaW5wdXQuZm9jdXMoKX0sMjApfSh0LHIsZSxvKTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LmRpc3BsYXksbz10LmRvYzt4dChlKTt2YXIgYSxzLGw9by5zZWwsYz1sLnJhbmdlcztpZihyLmFkZE5ldyYmIXIuZXh0ZW5kPyhzPW8uc2VsLmNvbnRhaW5zKG4pLGE9cz4tMT9jW3NdOm5ldyB4aShuLG4pKTooYT1vLnNlbC5wcmltYXJ5KCkscz1vLnNlbC5wcmltSW5kZXgpLFwicmVjdGFuZ2xlXCI9PXIudW5pdClyLmFkZE5ld3x8KGE9bmV3IHhpKG4sbikpLG49c3IodCxlLCEwLCEwKSxzPS0xO2Vsc2V7dmFyIHU9cGEodCxuLHIudW5pdCk7YT1yLmV4dGVuZD9WaShhLHUuYW5jaG9yLHUuaGVhZCxyLmV4dGVuZCk6dX1yLmFkZE5ldz8tMT09cz8ocz1jLmxlbmd0aCxKaShvLHdpKHQsYy5jb25jYXQoW2FdKSxzKSx7c2Nyb2xsOiExLG9yaWdpbjpcIiptb3VzZVwifSkpOmMubGVuZ3RoPjEmJmNbc10uZW1wdHkoKSYmXCJjaGFyXCI9PXIudW5pdCYmIXIuZXh0ZW5kPyhKaShvLHdpKHQsYy5zbGljZSgwLHMpLmNvbmNhdChjLnNsaWNlKHMrMSkpLDApLHtzY3JvbGw6ITEsb3JpZ2luOlwiKm1vdXNlXCJ9KSxsPW8uc2VsKTokaShvLHMsYSxWKToocz0wLEppKG8sbmV3IGJpKFthXSwwKSxWKSxsPW8uc2VsKTt2YXIgZj1uO2Z1bmN0aW9uIGQoZSl7aWYoMCE9ZWUoZixlKSlpZihmPWUsXCJyZWN0YW5nbGVcIj09ci51bml0KXtmb3IodmFyIGk9W10sYz10Lm9wdGlvbnMudGFiU2l6ZSx1PXooS3QobyxuLmxpbmUpLnRleHQsbi5jaCxjKSxkPXooS3QobyxlLmxpbmUpLnRleHQsZS5jaCxjKSxoPU1hdGgubWluKHUsZCkscD1NYXRoLm1heCh1LGQpLG09TWF0aC5taW4obi5saW5lLGUubGluZSksZz1NYXRoLm1pbih0Lmxhc3RMaW5lKCksTWF0aC5tYXgobi5saW5lLGUubGluZSkpO208PWc7bSsrKXt2YXIgdj1LdChvLG0pLnRleHQseT1LKHYsaCxjKTtoPT1wP2kucHVzaChuZXcgeGkodGUobSx5KSx0ZShtLHkpKSk6di5sZW5ndGg+eSYmaS5wdXNoKG5ldyB4aSh0ZShtLHkpLHRlKG0sSyh2LHAsYykpKSl9aS5sZW5ndGh8fGkucHVzaChuZXcgeGkobixuKSksSmkobyx3aSh0LGwucmFuZ2VzLnNsaWNlKDAscykuY29uY2F0KGkpLHMpLHtvcmlnaW46XCIqbW91c2VcIixzY3JvbGw6ITF9KSx0LnNjcm9sbEludG9WaWV3KGUpfWVsc2V7dmFyIGIseD1hLHc9cGEodCxlLHIudW5pdCksQz14LmFuY2hvcjtlZSh3LmFuY2hvcixDKT4wPyhiPXcuaGVhZCxDPW9lKHguZnJvbSgpLHcuYW5jaG9yKSk6KGI9dy5hbmNob3IsQz1pZSh4LnRvKCksdy5oZWFkKSk7dmFyIGs9bC5yYW5nZXMuc2xpY2UoMCk7a1tzXT1mdW5jdGlvbih0LGUpe3ZhciBuPWUuYW5jaG9yLHI9ZS5oZWFkLGk9S3QodC5kb2Msbi5saW5lKTtpZigwPT1lZShuLHIpJiZuLnN0aWNreT09ci5zdGlja3kpcmV0dXJuIGU7dmFyIG89dXQoaSk7aWYoIW8pcmV0dXJuIGU7dmFyIGE9bHQobyxuLmNoLG4uc3RpY2t5KSxzPW9bYV07aWYocy5mcm9tIT1uLmNoJiZzLnRvIT1uLmNoKXJldHVybiBlO3ZhciBsLGM9YSsocy5mcm9tPT1uLmNoPT0oMSE9cy5sZXZlbCk/MDoxKTtpZigwPT1jfHxjPT1vLmxlbmd0aClyZXR1cm4gZTtpZihyLmxpbmUhPW4ubGluZSlsPShyLmxpbmUtbi5saW5lKSooXCJsdHJcIj09dC5kb2MuZGlyZWN0aW9uPzE6LTEpPjA7ZWxzZXt2YXIgdT1sdChvLHIuY2gsci5zdGlja3kpLGY9dS1hfHwoci5jaC1uLmNoKSooMT09cy5sZXZlbD8tMToxKTtsPXU9PWMtMXx8dT09Yz9mPDA6Zj4wfXZhciBkPW9bYysobD8tMTowKV0saD1sPT0oMT09ZC5sZXZlbCkscD1oP2QuZnJvbTpkLnRvLG09aD9cImFmdGVyXCI6XCJiZWZvcmVcIjtyZXR1cm4gbi5jaD09cCYmbi5zdGlja3k9PW0/ZTpuZXcgeGkobmV3IHRlKG4ubGluZSxwLG0pLHIpfSh0LG5ldyB4aShzZShvLEMpLGIpKSxKaShvLHdpKHQsayxzKSxWKX19dmFyIGg9aS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHA9MDtmdW5jdGlvbiBtKGUpe3Quc3RhdGUuc2VsZWN0aW5nVGV4dD0hMSxwPTEvMCxlJiYoeHQoZSksaS5pbnB1dC5mb2N1cygpKSxwdChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNlbW92ZVwiLGcpLHB0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2V1cFwiLHYpLG8uaGlzdG9yeS5sYXN0U2VsT3JpZ2luPW51bGx9dmFyIGc9WHIodCxmdW5jdGlvbihlKXswIT09ZS5idXR0b25zJiZTdChlKT9mdW5jdGlvbiBlKG4pe3ZhciBhPSsrcCxzPXNyKHQsbiwhMCxcInJlY3RhbmdsZVwiPT1yLnVuaXQpO2lmKHMpaWYoMCE9ZWUocyxmKSl7dC5jdXJPcC5mb2N1cz1OKCksZChzKTt2YXIgbD1FcihpLG8pOyhzLmxpbmU+PWwudG98fHMubGluZTxsLmZyb20pJiZzZXRUaW1lb3V0KFhyKHQsZnVuY3Rpb24oKXtwPT1hJiZlKG4pfSksMTUwKX1lbHNle3ZhciBjPW4uY2xpZW50WTxoLnRvcD8tMjA6bi5jbGllbnRZPmguYm90dG9tPzIwOjA7YyYmc2V0VGltZW91dChYcih0LGZ1bmN0aW9uKCl7cD09YSYmKGkuc2Nyb2xsZXIuc2Nyb2xsVG9wKz1jLGUobikpfSksNTApfX0oZSk6bShlKX0pLHY9WHIodCxtKTt0LnN0YXRlLnNlbGVjdGluZ1RleHQ9dixkdChpLndyYXBwZXIub3duZXJEb2N1bWVudCxcIm1vdXNlbW92ZVwiLGcpLGR0KGkud3JhcHBlci5vd25lckRvY3VtZW50LFwibW91c2V1cFwiLHYpfSh0LHIsZSxvKX0oZSxyLG8sdCk6X3QodCk9PW4uc2Nyb2xsZXImJnh0KHQpOjI9PWk/KHImJkdpKGUuZG9jLHIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnB1dC5mb2N1cygpfSwyMCkpOjM9PWkmJihrP2UuZGlzcGxheS5pbnB1dC5vbkNvbnRleHRNZW51KHQpOndyKGUpKSl9fWZ1bmN0aW9uIHBhKHQsZSxuKXtpZihcImNoYXJcIj09bilyZXR1cm4gbmV3IHhpKGUsZSk7aWYoXCJ3b3JkXCI9PW4pcmV0dXJuIHQuZmluZFdvcmRBdChlKTtpZihcImxpbmVcIj09bilyZXR1cm4gbmV3IHhpKHRlKGUubGluZSwwKSxzZSh0LmRvYyx0ZShlLmxpbmUrMSwwKSkpO3ZhciByPW4odCxlKTtyZXR1cm4gbmV3IHhpKHIuZnJvbSxyLnRvKX1mdW5jdGlvbiBtYSh0LGUsbixyKXt2YXIgaSxvO2lmKGUudG91Y2hlcylpPWUudG91Y2hlc1swXS5jbGllbnRYLG89ZS50b3VjaGVzWzBdLmNsaWVudFk7ZWxzZSB0cnl7aT1lLmNsaWVudFgsbz1lLmNsaWVudFl9Y2F0Y2goZSl7cmV0dXJuITF9aWYoaT49TWF0aC5mbG9vcih0LmRpc3BsYXkuZ3V0dGVycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkpcmV0dXJuITE7ciYmeHQoZSk7dmFyIGE9dC5kaXNwbGF5LHM9YS5saW5lRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKG8+cy5ib3R0b218fCF5dCh0LG4pKXJldHVybiBDdChlKTtvLT1zLnRvcC1hLnZpZXdPZmZzZXQ7Zm9yKHZhciBsPTA7bDx0LmRpc3BsYXkuZ3V0dGVyU3BlY3MubGVuZ3RoOysrbCl7dmFyIGM9YS5ndXR0ZXJzLmNoaWxkTm9kZXNbbF07aWYoYyYmYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodD49aSl7dmFyIHU9WHQodC5kb2MsbyksZj10LmRpc3BsYXkuZ3V0dGVyU3BlY3NbbF07cmV0dXJuIG10KHQsbix0LHUsZi5jbGFzc05hbWUsZSksQ3QoZSl9fX1mdW5jdGlvbiBnYSh0LGUpe3JldHVybiBtYSh0LGUsXCJndXR0ZXJDbGlja1wiLCEwKX1mdW5jdGlvbiB2YSh0LGUpe0NuKHQuZGlzcGxheSxlKXx8ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXl0KHQsXCJndXR0ZXJDb250ZXh0TWVudVwiKSYmbWEodCxlLFwiZ3V0dGVyQ29udGV4dE1lbnVcIiwhMSl9KHQsZSl8fGd0KHQsZSxcImNvbnRleHRtZW51XCIpfHxrfHx0LmRpc3BsYXkuaW5wdXQub25Db250ZXh0TWVudShlKX1mdW5jdGlvbiB5YSh0KXt0LmRpc3BsYXkud3JhcHBlci5jbGFzc05hbWU9dC5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lLnJlcGxhY2UoL1xccypjbS1zLVxcUysvZyxcIlwiKSt0Lm9wdGlvbnMudGhlbWUucmVwbGFjZSgvKF58XFxzKVxccyovZyxcIiBjbS1zLVwiKSxCbih0KX1kYS5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMudGltZSs0MDA+dCYmMD09ZWUoZSx0aGlzLnBvcykmJm49PXRoaXMuYnV0dG9ufTt2YXIgYmE9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJDb2RlTWlycm9yLkluaXRcIn19LHhhPXt9LHdhPXt9O2Z1bmN0aW9uIENhKHQsZSxuKXt2YXIgcj1uJiZuIT1iYTtpZighZSE9IXIpe3ZhciBpPXQuZGlzcGxheS5kcmFnRnVuY3Rpb25zLG89ZT9kdDpwdDtvKHQuZGlzcGxheS5zY3JvbGxlcixcImRyYWdzdGFydFwiLGkuc3RhcnQpLG8odC5kaXNwbGF5LnNjcm9sbGVyLFwiZHJhZ2VudGVyXCIsaS5lbnRlciksbyh0LmRpc3BsYXkuc2Nyb2xsZXIsXCJkcmFnb3ZlclwiLGkub3Zlciksbyh0LmRpc3BsYXkuc2Nyb2xsZXIsXCJkcmFnbGVhdmVcIixpLmxlYXZlKSxvKHQuZGlzcGxheS5zY3JvbGxlcixcImRyb3BcIixpLmRyb3ApfX1mdW5jdGlvbiBrYSh0KXt0Lm9wdGlvbnMubGluZVdyYXBwaW5nPyhQKHQuZGlzcGxheS53cmFwcGVyLFwiQ29kZU1pcnJvci13cmFwXCIpLHQuZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aD1cIlwiLHQuZGlzcGxheS5zaXplcldpZHRoPW51bGwpOihFKHQuZGlzcGxheS53cmFwcGVyLFwiQ29kZU1pcnJvci13cmFwXCIpLEdlKHQpKSxhcih0KSxjcih0KSxCbih0KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIFJyKHQpfSwxMDApfWZ1bmN0aW9uIF9hKHQsZSl7dmFyIG49dGhpcztpZighKHRoaXMgaW5zdGFuY2VvZiBfYSkpcmV0dXJuIG5ldyBfYSh0LGUpO3RoaXMub3B0aW9ucz1lPWU/RChlKTp7fSxEKHhhLGUsITEpO3ZhciByPWUudmFsdWU7XCJzdHJpbmdcIj09dHlwZW9mIHI/cj1uZXcgT28ocixlLm1vZGUsbnVsbCxlLmxpbmVTZXBhcmF0b3IsZS5kaXJlY3Rpb24pOmUubW9kZSYmKHIubW9kZU9wdGlvbj1lLm1vZGUpLHRoaXMuZG9jPXI7dmFyIGk9bmV3IF9hLmlucHV0U3R5bGVzW2UuaW5wdXRTdHlsZV0odGhpcyksbz10aGlzLmRpc3BsYXk9bmV3IGhpKHQscixpLGUpO2Zvcih2YXIgYyBpbiBvLndyYXBwZXIuQ29kZU1pcnJvcj10aGlzLHlhKHRoaXMpLGUubGluZVdyYXBwaW5nJiYodGhpcy5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lKz1cIiBDb2RlTWlycm9yLXdyYXBcIiksV3IodGhpcyksdGhpcy5zdGF0ZT17a2V5TWFwczpbXSxvdmVybGF5czpbXSxtb2RlR2VuOjAsb3ZlcndyaXRlOiExLGRlbGF5aW5nQmx1ckV2ZW50OiExLGZvY3VzZWQ6ITEsc3VwcHJlc3NFZGl0czohMSxwYXN0ZUluY29taW5nOi0xLGN1dEluY29taW5nOi0xLHNlbGVjdGluZ1RleHQ6ITEsZHJhZ2dpbmdUZXh0OiExLGhpZ2hsaWdodDpuZXcgUixrZXlTZXE6bnVsbCxzcGVjaWFsQ2hhcnM6bnVsbH0sZS5hdXRvZm9jdXMmJiF2JiZvLmlucHV0LmZvY3VzKCksYSYmczwxMSYmc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLmRpc3BsYXkuaW5wdXQucmVzZXQoITApfSwyMCksZnVuY3Rpb24odCl7dmFyIGU9dC5kaXNwbGF5O2R0KGUuc2Nyb2xsZXIsXCJtb3VzZWRvd25cIixYcih0LGhhKSksZHQoZS5zY3JvbGxlcixcImRibGNsaWNrXCIsYSYmczwxMT9Ycih0LGZ1bmN0aW9uKGUpe2lmKCFndCh0LGUpKXt2YXIgbj1zcih0LGUpO2lmKG4mJiFnYSh0LGUpJiYhQ24odC5kaXNwbGF5LGUpKXt4dChlKTt2YXIgcj10LmZpbmRXb3JkQXQobik7R2kodC5kb2Msci5hbmNob3Isci5oZWFkKX19fSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGd0KHQsZSl8fHh0KGUpfSksZHQoZS5zY3JvbGxlcixcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oZSl7cmV0dXJuIHZhKHQsZSl9KTt2YXIgbixyPXtlbmQ6MH07ZnVuY3Rpb24gaSgpe2UuYWN0aXZlVG91Y2gmJihuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5hY3RpdmVUb3VjaD1udWxsfSwxZTMpLChyPWUuYWN0aXZlVG91Y2gpLmVuZD0rbmV3IERhdGUpfWZ1bmN0aW9uIG8odCxlKXtpZihudWxsPT1lLmxlZnQpcmV0dXJuITA7dmFyIG49ZS5sZWZ0LXQubGVmdCxyPWUudG9wLXQudG9wO3JldHVybiBuKm4rcipyPjQwMH1kdChlLnNjcm9sbGVyLFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKGkpe2lmKCFndCh0LGkpJiYhZnVuY3Rpb24odCl7aWYoMSE9dC50b3VjaGVzLmxlbmd0aClyZXR1cm4hMTt2YXIgZT10LnRvdWNoZXNbMF07cmV0dXJuIGUucmFkaXVzWDw9MSYmZS5yYWRpdXNZPD0xfShpKSYmIWdhKHQsaSkpe2UuaW5wdXQuZW5zdXJlUG9sbGVkKCksY2xlYXJUaW1lb3V0KG4pO3ZhciBvPStuZXcgRGF0ZTtlLmFjdGl2ZVRvdWNoPXtzdGFydDpvLG1vdmVkOiExLHByZXY6by1yLmVuZDw9MzAwP3I6bnVsbH0sMT09aS50b3VjaGVzLmxlbmd0aCYmKGUuYWN0aXZlVG91Y2gubGVmdD1pLnRvdWNoZXNbMF0ucGFnZVgsZS5hY3RpdmVUb3VjaC50b3A9aS50b3VjaGVzWzBdLnBhZ2VZKX19KSxkdChlLnNjcm9sbGVyLFwidG91Y2htb3ZlXCIsZnVuY3Rpb24oKXtlLmFjdGl2ZVRvdWNoJiYoZS5hY3RpdmVUb3VjaC5tb3ZlZD0hMCl9KSxkdChlLnNjcm9sbGVyLFwidG91Y2hlbmRcIixmdW5jdGlvbihuKXt2YXIgcj1lLmFjdGl2ZVRvdWNoO2lmKHImJiFDbihlLG4pJiZudWxsIT1yLmxlZnQmJiFyLm1vdmVkJiZuZXcgRGF0ZS1yLnN0YXJ0PDMwMCl7dmFyIGEscz10LmNvb3Jkc0NoYXIoZS5hY3RpdmVUb3VjaCxcInBhZ2VcIik7YT0hci5wcmV2fHxvKHIsci5wcmV2KT9uZXcgeGkocyxzKTohci5wcmV2LnByZXZ8fG8ocixyLnByZXYucHJldik/dC5maW5kV29yZEF0KHMpOm5ldyB4aSh0ZShzLmxpbmUsMCksc2UodC5kb2MsdGUocy5saW5lKzEsMCkpKSx0LnNldFNlbGVjdGlvbihhLmFuY2hvcixhLmhlYWQpLHQuZm9jdXMoKSx4dChuKX1pKCl9KSxkdChlLnNjcm9sbGVyLFwidG91Y2hjYW5jZWxcIixpKSxkdChlLnNjcm9sbGVyLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXtlLnNjcm9sbGVyLmNsaWVudEhlaWdodCYmKFByKHQsZS5zY3JvbGxlci5zY3JvbGxUb3ApLElyKHQsZS5zY3JvbGxlci5zY3JvbGxMZWZ0LCEwKSxtdCh0LFwic2Nyb2xsXCIsdCkpfSksZHQoZS5zY3JvbGxlcixcIm1vdXNld2hlZWxcIixmdW5jdGlvbihlKXtyZXR1cm4geWkodCxlKX0pLGR0KGUuc2Nyb2xsZXIsXCJET01Nb3VzZVNjcm9sbFwiLGZ1bmN0aW9uKGUpe3JldHVybiB5aSh0LGUpfSksZHQoZS53cmFwcGVyLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXtyZXR1cm4gZS53cmFwcGVyLnNjcm9sbFRvcD1lLndyYXBwZXIuc2Nyb2xsTGVmdD0wfSksZS5kcmFnRnVuY3Rpb25zPXtlbnRlcjpmdW5jdGlvbihlKXtndCh0LGUpfHxrdChlKX0sb3ZlcjpmdW5jdGlvbihlKXtndCh0LGUpfHwoZnVuY3Rpb24odCxlKXt2YXIgbj1zcih0LGUpO2lmKG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtncih0LG4sciksdC5kaXNwbGF5LmRyYWdDdXJzb3J8fCh0LmRpc3BsYXkuZHJhZ0N1cnNvcj1NKFwiZGl2XCIsbnVsbCxcIkNvZGVNaXJyb3ItY3Vyc29ycyBDb2RlTWlycm9yLWRyYWdjdXJzb3JzXCIpLHQuZGlzcGxheS5saW5lU3BhY2UuaW5zZXJ0QmVmb3JlKHQuZGlzcGxheS5kcmFnQ3Vyc29yLHQuZGlzcGxheS5jdXJzb3JEaXYpKSxPKHQuZGlzcGxheS5kcmFnQ3Vyc29yLHIpfX0odCxlKSxrdChlKSl9LHN0YXJ0OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGUpe2lmKGEmJighdC5zdGF0ZS5kcmFnZ2luZ1RleHR8fCtuZXcgRGF0ZS1NbzwxMDApKWt0KGUpO2Vsc2UgaWYoIWd0KHQsZSkmJiFDbih0LmRpc3BsYXksZSkmJihlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLHQuZ2V0U2VsZWN0aW9uKCkpLGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQ9XCJjb3B5TW92ZVwiLGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSYmIWQpKXt2YXIgbj1NKFwiaW1nXCIsbnVsbCxudWxsLFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAwOyB0b3A6IDA7XCIpO24uc3JjPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT1cIixmJiYobi53aWR0aD1uLmhlaWdodD0xLHQuZGlzcGxheS53cmFwcGVyLmFwcGVuZENoaWxkKG4pLG4uX3RvcD1uLm9mZnNldFRvcCksZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKG4sMCwwKSxmJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9fSh0LGUpfSxkcm9wOlhyKHQsTG8pLGxlYXZlOmZ1bmN0aW9uKGUpe2d0KHQsZSl8fEFvKHQpfX07dmFyIGw9ZS5pbnB1dC5nZXRGaWVsZCgpO2R0KGwsXCJrZXl1cFwiLGZ1bmN0aW9uKGUpe3JldHVybiBsYS5jYWxsKHQsZSl9KSxkdChsLFwia2V5ZG93blwiLFhyKHQsc2EpKSxkdChsLFwia2V5cHJlc3NcIixYcih0LGNhKSksZHQobCxcImZvY3VzXCIsZnVuY3Rpb24oZSl7cmV0dXJuIENyKHQsZSl9KSxkdChsLFwiYmx1clwiLGZ1bmN0aW9uKGUpe3JldHVybiBrcih0LGUpfSl9KHRoaXMpLEZvKCksVnIodGhpcyksdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZT0hMCxOaSh0aGlzLHIpLGUuYXV0b2ZvY3VzJiYhdnx8dGhpcy5oYXNGb2N1cygpP3NldFRpbWVvdXQoaihDcix0aGlzKSwyMCk6a3IodGhpcyksd2Epd2EuaGFzT3duUHJvcGVydHkoYykmJndhW2NdKG4sZVtjXSxiYSk7Y2kodGhpcyksZS5maW5pc2hJbml0JiZlLmZpbmlzaEluaXQodGhpcyk7Zm9yKHZhciB1PTA7dTxTYS5sZW5ndGg7Kyt1KVNhW3VdKG4pO0dyKHRoaXMpLGwmJmUubGluZVdyYXBwaW5nJiZcIm9wdGltaXplbGVnaWJpbGl0eVwiPT1nZXRDb21wdXRlZFN0eWxlKG8ubGluZURpdikudGV4dFJlbmRlcmluZyYmKG8ubGluZURpdi5zdHlsZS50ZXh0UmVuZGVyaW5nPVwiYXV0b1wiKX1fYS5kZWZhdWx0cz14YSxfYS5vcHRpb25IYW5kbGVycz13YTt2YXIgU2E9W107ZnVuY3Rpb24gRWEodCxlLG4scil7dmFyIGksbz10LmRvYztudWxsPT1uJiYobj1cImFkZFwiKSxcInNtYXJ0XCI9PW4mJihvLm1vZGUuaW5kZW50P2k9aGUodCxlKS5zdGF0ZTpuPVwicHJldlwiKTt2YXIgYT10Lm9wdGlvbnMudGFiU2l6ZSxzPUt0KG8sZSksbD16KHMudGV4dCxudWxsLGEpO3Muc3RhdGVBZnRlciYmKHMuc3RhdGVBZnRlcj1udWxsKTt2YXIgYyx1PXMudGV4dC5tYXRjaCgvXlxccyovKVswXTtpZihyfHwvXFxTLy50ZXN0KHMudGV4dCkpe2lmKFwic21hcnRcIj09biYmKChjPW8ubW9kZS5pbmRlbnQoaSxzLnRleHQuc2xpY2UodS5sZW5ndGgpLHMudGV4dCkpPT1XfHxjPjE1MCkpe2lmKCFyKXJldHVybjtuPVwicHJldlwifX1lbHNlIGM9MCxuPVwibm90XCI7XCJwcmV2XCI9PW4/Yz1lPm8uZmlyc3Q/eihLdChvLGUtMSkudGV4dCxudWxsLGEpOjA6XCJhZGRcIj09bj9jPWwrdC5vcHRpb25zLmluZGVudFVuaXQ6XCJzdWJ0cmFjdFwiPT1uP2M9bC10Lm9wdGlvbnMuaW5kZW50VW5pdDpcIm51bWJlclwiPT10eXBlb2YgbiYmKGM9bCtuKSxjPU1hdGgubWF4KDAsYyk7dmFyIGY9XCJcIixkPTA7aWYodC5vcHRpb25zLmluZGVudFdpdGhUYWJzKWZvcih2YXIgaD1NYXRoLmZsb29yKGMvYSk7aDstLWgpZCs9YSxmKz1cIlxcdFwiO2lmKGQ8YyYmKGYrPXEoYy1kKSksZiE9dSlyZXR1cm4gZm8obyxmLHRlKGUsMCksdGUoZSx1Lmxlbmd0aCksXCIraW5wdXRcIikscy5zdGF0ZUFmdGVyPW51bGwsITA7Zm9yKHZhciBwPTA7cDxvLnNlbC5yYW5nZXMubGVuZ3RoO3ArKyl7dmFyIG09by5zZWwucmFuZ2VzW3BdO2lmKG0uaGVhZC5saW5lPT1lJiZtLmhlYWQuY2g8dS5sZW5ndGgpe3ZhciBnPXRlKGUsdS5sZW5ndGgpOyRpKG8scCxuZXcgeGkoZyxnKSk7YnJlYWt9fX1fYS5kZWZpbmVJbml0SG9vaz1mdW5jdGlvbih0KXtyZXR1cm4gU2EucHVzaCh0KX07dmFyIFRhPW51bGw7ZnVuY3Rpb24gT2EodCl7VGE9dH1mdW5jdGlvbiBNYSh0LGUsbixyLGkpe3ZhciBvPXQuZG9jO3QuZGlzcGxheS5zaGlmdD0hMSxyfHwocj1vLnNlbCk7dmFyIGE9K25ldyBEYXRlLTIwMCxzPVwicGFzdGVcIj09aXx8dC5zdGF0ZS5wYXN0ZUluY29taW5nPmEsbD1OdChlKSxjPW51bGw7aWYocyYmci5yYW5nZXMubGVuZ3RoPjEpaWYoVGEmJlRhLnRleHQuam9pbihcIlxcblwiKT09ZSl7aWYoci5yYW5nZXMubGVuZ3RoJVRhLnRleHQubGVuZ3RoPT0wKXtjPVtdO2Zvcih2YXIgdT0wO3U8VGEudGV4dC5sZW5ndGg7dSsrKWMucHVzaChvLnNwbGl0TGluZXMoVGEudGV4dFt1XSkpfX1lbHNlIGwubGVuZ3RoPT1yLnJhbmdlcy5sZW5ndGgmJnQub3B0aW9ucy5wYXN0ZUxpbmVzUGVyU2VsZWN0aW9uJiYoYz1KKGwsZnVuY3Rpb24odCl7cmV0dXJuW3RdfSkpO2Zvcih2YXIgZj10LmN1ck9wLnVwZGF0ZUlucHV0LGQ9ci5yYW5nZXMubGVuZ3RoLTE7ZD49MDtkLS0pe3ZhciBoPXIucmFuZ2VzW2RdLHA9aC5mcm9tKCksbT1oLnRvKCk7aC5lbXB0eSgpJiYobiYmbj4wP3A9dGUocC5saW5lLHAuY2gtbik6dC5zdGF0ZS5vdmVyd3JpdGUmJiFzP209dGUobS5saW5lLE1hdGgubWluKEt0KG8sbS5saW5lKS50ZXh0Lmxlbmd0aCxtLmNoK1kobCkubGVuZ3RoKSk6cyYmVGEmJlRhLmxpbmVXaXNlJiZUYS50ZXh0LmpvaW4oXCJcXG5cIik9PWUmJihwPW09dGUocC5saW5lLDApKSk7dmFyIGc9e2Zyb206cCx0bzptLHRleHQ6Yz9jW2QlYy5sZW5ndGhdOmwsb3JpZ2luOml8fChzP1wicGFzdGVcIjp0LnN0YXRlLmN1dEluY29taW5nPmE/XCJjdXRcIjpcIitpbnB1dFwiKX07YW8odC5kb2MsZyksbG4odCxcImlucHV0UmVhZFwiLHQsZyl9ZSYmIXMmJkFhKHQsZSksTXIodCksdC5jdXJPcC51cGRhdGVJbnB1dDwyJiYodC5jdXJPcC51cGRhdGVJbnB1dD1mKSx0LmN1ck9wLnR5cGluZz0hMCx0LnN0YXRlLnBhc3RlSW5jb21pbmc9dC5zdGF0ZS5jdXRJbmNvbWluZz0tMX1mdW5jdGlvbiBMYSh0LGUpe3ZhciBuPXQuY2xpcGJvYXJkRGF0YSYmdC5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpO2lmKG4pcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxlLmlzUmVhZE9ubHkoKXx8ZS5vcHRpb25zLmRpc2FibGVJbnB1dHx8SnIoZSxmdW5jdGlvbigpe3JldHVybiBNYShlLG4sMCxudWxsLFwicGFzdGVcIil9KSwhMH1mdW5jdGlvbiBBYSh0LGUpe2lmKHQub3B0aW9ucy5lbGVjdHJpY0NoYXJzJiZ0Lm9wdGlvbnMuc21hcnRJbmRlbnQpZm9yKHZhciBuPXQuZG9jLnNlbCxyPW4ucmFuZ2VzLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgaT1uLnJhbmdlc1tyXTtpZighKGkuaGVhZC5jaD4xMDB8fHImJm4ucmFuZ2VzW3ItMV0uaGVhZC5saW5lPT1pLmhlYWQubGluZSkpe3ZhciBvPXQuZ2V0TW9kZUF0KGkuaGVhZCksYT0hMTtpZihvLmVsZWN0cmljQ2hhcnMpe2Zvcih2YXIgcz0wO3M8by5lbGVjdHJpY0NoYXJzLmxlbmd0aDtzKyspaWYoZS5pbmRleE9mKG8uZWxlY3RyaWNDaGFycy5jaGFyQXQocykpPi0xKXthPUVhKHQsaS5oZWFkLmxpbmUsXCJzbWFydFwiKTticmVha319ZWxzZSBvLmVsZWN0cmljSW5wdXQmJm8uZWxlY3RyaWNJbnB1dC50ZXN0KEt0KHQuZG9jLGkuaGVhZC5saW5lKS50ZXh0LnNsaWNlKDAsaS5oZWFkLmNoKSkmJihhPUVhKHQsaS5oZWFkLmxpbmUsXCJzbWFydFwiKSk7YSYmbG4odCxcImVsZWN0cmljSW5wdXRcIix0LGkuaGVhZC5saW5lKX19fWZ1bmN0aW9uIE5hKHQpe2Zvcih2YXIgZT1bXSxuPVtdLHI9MDtyPHQuZG9jLnNlbC5yYW5nZXMubGVuZ3RoO3IrKyl7dmFyIGk9dC5kb2Muc2VsLnJhbmdlc1tyXS5oZWFkLmxpbmUsbz17YW5jaG9yOnRlKGksMCksaGVhZDp0ZShpKzEsMCl9O24ucHVzaChvKSxlLnB1c2godC5nZXRSYW5nZShvLmFuY2hvcixvLmhlYWQpKX1yZXR1cm57dGV4dDplLHJhbmdlczpufX1mdW5jdGlvbiBQYSh0LGUsbixyKXt0LnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsbj9cIlwiOlwib2ZmXCIpLHQuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIixyP1wiXCI6XCJvZmZcIiksdC5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsISFlKX1mdW5jdGlvbiBGYSgpe3ZhciB0PU0oXCJ0ZXh0YXJlYVwiLG51bGwsbnVsbCxcInBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAtMWVtOyBwYWRkaW5nOiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFlbTsgb3V0bGluZTogbm9uZVwiKSxlPU0oXCJkaXZcIixbdF0sbnVsbCxcIm92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsgd2lkdGg6IDNweDsgaGVpZ2h0OiAwcHg7XCIpO3JldHVybiBsP3Quc3R5bGUud2lkdGg9XCIxMDAwcHhcIjp0LnNldEF0dHJpYnV0ZShcIndyYXBcIixcIm9mZlwiKSxtJiYodC5zdHlsZS5ib3JkZXI9XCIxcHggc29saWQgYmxhY2tcIiksUGEodCksZX1mdW5jdGlvbiBJYSh0LGUsbixyLGkpe3ZhciBvPWUsYT1uLHM9S3QodCxlLmxpbmUpO2Z1bmN0aW9uIGwocil7dmFyIG8sYTtpZihudWxsPT0obz1pP2Z1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXV0KGUsdC5kb2MuZGlyZWN0aW9uKTtpZighaSlyZXR1cm4gSm8oZSxuLHIpO24uY2g+PWUudGV4dC5sZW5ndGg/KG4uY2g9ZS50ZXh0Lmxlbmd0aCxuLnN0aWNreT1cImJlZm9yZVwiKTpuLmNoPD0wJiYobi5jaD0wLG4uc3RpY2t5PVwiYWZ0ZXJcIik7dmFyIG89bHQoaSxuLmNoLG4uc3RpY2t5KSxhPWlbb107aWYoXCJsdHJcIj09dC5kb2MuZGlyZWN0aW9uJiZhLmxldmVsJTI9PTAmJihyPjA/YS50bz5uLmNoOmEuZnJvbTxuLmNoKSlyZXR1cm4gSm8oZSxuLHIpO3ZhciBzLGw9ZnVuY3Rpb24odCxuKXtyZXR1cm4gWW8oZSx0IGluc3RhbmNlb2YgdGU/dC5jaDp0LG4pfSxjPWZ1bmN0aW9uKG4pe3JldHVybiB0Lm9wdGlvbnMubGluZVdyYXBwaW5nPyhzPXN8fE5uKHQsZSksWm4odCxlLHMsbikpOntiZWdpbjowLGVuZDplLnRleHQubGVuZ3RofX0sdT1jKFwiYmVmb3JlXCI9PW4uc3RpY2t5P2wobiwtMSk6bi5jaCk7aWYoXCJydGxcIj09dC5kb2MuZGlyZWN0aW9ufHwxPT1hLmxldmVsKXt2YXIgZj0xPT1hLmxldmVsPT1yPDAsZD1sKG4sZj8xOi0xKTtpZihudWxsIT1kJiYoZj9kPD1hLnRvJiZkPD11LmVuZDpkPj1hLmZyb20mJmQ+PXUuYmVnaW4pKXt2YXIgaD1mP1wiYmVmb3JlXCI6XCJhZnRlclwiO3JldHVybiBuZXcgdGUobi5saW5lLGQsaCl9fXZhciBwPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT9uZXcgdGUobi5saW5lLGwodCwxKSxcImJlZm9yZVwiKTpuZXcgdGUobi5saW5lLHQsXCJhZnRlclwiKX07dD49MCYmdDxpLmxlbmd0aDt0Kz1lKXt2YXIgYT1pW3RdLHM9ZT4wPT0oMSE9YS5sZXZlbCksYz1zP3IuYmVnaW46bChyLmVuZCwtMSk7aWYoYS5mcm9tPD1jJiZjPGEudG8pcmV0dXJuIG8oYyxzKTtpZihjPXM/YS5mcm9tOmwoYS50bywtMSksci5iZWdpbjw9YyYmYzxyLmVuZClyZXR1cm4gbyhjLHMpfX0sbT1wKG8rcixyLHUpO2lmKG0pcmV0dXJuIG07dmFyIGc9cj4wP3UuZW5kOmwodS5iZWdpbiwtMSk7cmV0dXJuIG51bGw9PWd8fHI+MCYmZz09ZS50ZXh0Lmxlbmd0aHx8IShtPXAocj4wPzA6aS5sZW5ndGgtMSxyLGMoZykpKT9udWxsOm19KHQuY20scyxlLG4pOkpvKHMsZSxuKSkpe2lmKHJ8fCgoYT1lLmxpbmUrbik8dC5maXJzdHx8YT49dC5maXJzdCt0LnNpemV8fChlPW5ldyB0ZShhLGUuY2gsZS5zdGlja3kpLCEocz1LdCh0LGEpKSkpKXJldHVybiExO2U9WG8oaSx0LmNtLHMsZS5saW5lLG4pfWVsc2UgZT1vO3JldHVybiEwfWlmKFwiY2hhclwiPT1yKWwoKTtlbHNlIGlmKFwiY29sdW1uXCI9PXIpbCghMCk7ZWxzZSBpZihcIndvcmRcIj09cnx8XCJncm91cFwiPT1yKWZvcih2YXIgYz1udWxsLHU9XCJncm91cFwiPT1yLGY9dC5jbSYmdC5jbS5nZXRIZWxwZXIoZSxcIndvcmRDaGFyc1wiKSxkPSEwOyEobjwwKXx8bCghZCk7ZD0hMSl7dmFyIGg9cy50ZXh0LmNoYXJBdChlLmNoKXx8XCJcXG5cIixwPWV0KGgsZik/XCJ3XCI6dSYmXCJcXG5cIj09aD9cIm5cIjohdXx8L1xccy8udGVzdChoKT9udWxsOlwicFwiO2lmKCF1fHxkfHxwfHwocD1cInNcIiksYyYmYyE9cCl7bjwwJiYobj0xLGwoKSxlLnN0aWNreT1cImFmdGVyXCIpO2JyZWFrfWlmKHAmJihjPXApLG4+MCYmIWwoIWQpKWJyZWFrfXZhciBtPW5vKHQsZSxvLGEsITApO3JldHVybiBuZShvLG0pJiYobS5oaXRTaWRlPSEwKSxtfWZ1bmN0aW9uIGphKHQsZSxuLHIpe3ZhciBpLG8sYT10LmRvYyxzPWUubGVmdDtpZihcInBhZ2VcIj09cil7dmFyIGw9TWF0aC5taW4odC5kaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCksYz1NYXRoLm1heChsLS41KmVyKHQuZGlzcGxheSksMyk7aT0obj4wP2UuYm90dG9tOmUudG9wKStuKmN9ZWxzZVwibGluZVwiPT1yJiYoaT1uPjA/ZS5ib3R0b20rMzplLnRvcC0zKTtmb3IoOyhvPUpuKHQscyxpKSkub3V0c2lkZTspe2lmKG48MD9pPD0wOmk+PWEuaGVpZ2h0KXtvLmhpdFNpZGU9ITA7YnJlYWt9aSs9NSpufXJldHVybiBvfXZhciBEYT1mdW5jdGlvbih0KXt0aGlzLmNtPXQsdGhpcy5sYXN0QW5jaG9yTm9kZT10aGlzLmxhc3RBbmNob3JPZmZzZXQ9dGhpcy5sYXN0Rm9jdXNOb2RlPXRoaXMubGFzdEZvY3VzT2Zmc2V0PW51bGwsdGhpcy5wb2xsaW5nPW5ldyBSLHRoaXMuY29tcG9zaW5nPW51bGwsdGhpcy5ncmFjZVBlcmlvZD0hMSx0aGlzLnJlYWRET01UaW1lb3V0PW51bGx9O2Z1bmN0aW9uIHphKHQsZSl7dmFyIG49QW4odCxlLmxpbmUpO2lmKCFufHxuLmhpZGRlbilyZXR1cm4gbnVsbDt2YXIgcj1LdCh0LmRvYyxlLmxpbmUpLGk9TW4obixyLGUubGluZSksbz11dChyLHQuZG9jLmRpcmVjdGlvbiksYT1cImxlZnRcIjtpZihvKXt2YXIgcz1sdChvLGUuY2gpO2E9cyUyP1wicmlnaHRcIjpcImxlZnRcIn12YXIgbD1qbihpLm1hcCxlLmNoLGEpO3JldHVybiBsLm9mZnNldD1cInJpZ2h0XCI9PWwuY29sbGFwc2U/bC5lbmQ6bC5zdGFydCxsfWZ1bmN0aW9uIFJhKHQsZSl7cmV0dXJuIGUmJih0LmJhZD0hMCksdH1mdW5jdGlvbiBCYSh0LGUsbil7dmFyIHI7aWYoZT09dC5kaXNwbGF5LmxpbmVEaXYpe2lmKCEocj10LmRpc3BsYXkubGluZURpdi5jaGlsZE5vZGVzW25dKSlyZXR1cm4gUmEodC5jbGlwUG9zKHRlKHQuZGlzcGxheS52aWV3VG8tMSkpLCEwKTtlPW51bGwsbj0wfWVsc2UgZm9yKHI9ZTs7cj1yLnBhcmVudE5vZGUpe2lmKCFyfHxyPT10LmRpc3BsYXkubGluZURpdilyZXR1cm4gbnVsbDtpZihyLnBhcmVudE5vZGUmJnIucGFyZW50Tm9kZT09dC5kaXNwbGF5LmxpbmVEaXYpYnJlYWt9Zm9yKHZhciBpPTA7aTx0LmRpc3BsYXkudmlldy5sZW5ndGg7aSsrKXt2YXIgbz10LmRpc3BsYXkudmlld1tpXTtpZihvLm5vZGU9PXIpcmV0dXJuIEhhKG8sZSxuKX19ZnVuY3Rpb24gSGEodCxlLG4pe3ZhciByPXQudGV4dC5maXJzdENoaWxkLGk9ITE7aWYoIWV8fCFBKHIsZSkpcmV0dXJuIFJhKHRlKEp0KHQubGluZSksMCksITApO2lmKGU9PXImJihpPSEwLGU9ci5jaGlsZE5vZGVzW25dLG49MCwhZSkpe3ZhciBvPXQucmVzdD9ZKHQucmVzdCk6dC5saW5lO3JldHVybiBSYSh0ZShKdChvKSxvLnRleHQubGVuZ3RoKSxpKX12YXIgYT0zPT1lLm5vZGVUeXBlP2U6bnVsbCxzPWU7Zm9yKGF8fDEhPWUuY2hpbGROb2Rlcy5sZW5ndGh8fDMhPWUuZmlyc3RDaGlsZC5ub2RlVHlwZXx8KGE9ZS5maXJzdENoaWxkLG4mJihuPWEubm9kZVZhbHVlLmxlbmd0aCkpO3MucGFyZW50Tm9kZSE9cjspcz1zLnBhcmVudE5vZGU7dmFyIGw9dC5tZWFzdXJlLGM9bC5tYXBzO2Z1bmN0aW9uIHUoZSxuLHIpe2Zvcih2YXIgaT0tMTtpPChjP2MubGVuZ3RoOjApO2krKylmb3IodmFyIG89aTwwP2wubWFwOmNbaV0sYT0wO2E8by5sZW5ndGg7YSs9Myl7dmFyIHM9b1thKzJdO2lmKHM9PWV8fHM9PW4pe3ZhciB1PUp0KGk8MD90LmxpbmU6dC5yZXN0W2ldKSxmPW9bYV0rcjtyZXR1cm4ocjwwfHxzIT1lKSYmKGY9b1thKyhyPzE6MCldKSx0ZSh1LGYpfX19dmFyIGY9dShhLHMsbik7aWYoZilyZXR1cm4gUmEoZixpKTtmb3IodmFyIGQ9cy5uZXh0U2libGluZyxoPWE/YS5ub2RlVmFsdWUubGVuZ3RoLW46MDtkO2Q9ZC5uZXh0U2libGluZyl7aWYoZj11KGQsZC5maXJzdENoaWxkLDApKXJldHVybiBSYSh0ZShmLmxpbmUsZi5jaC1oKSxpKTtoKz1kLnRleHRDb250ZW50Lmxlbmd0aH1mb3IodmFyIHA9cy5wcmV2aW91c1NpYmxpbmcsbT1uO3A7cD1wLnByZXZpb3VzU2libGluZyl7aWYoZj11KHAscC5maXJzdENoaWxkLC0xKSlyZXR1cm4gUmEodGUoZi5saW5lLGYuY2grbSksaSk7bSs9cC50ZXh0Q29udGVudC5sZW5ndGh9fURhLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLHI9bi5jbSxpPW4uZGl2PXQubGluZURpdjtmdW5jdGlvbiBvKHQpe2lmKCFndChyLHQpKXtpZihyLnNvbWV0aGluZ1NlbGVjdGVkKCkpT2Eoe2xpbmVXaXNlOiExLHRleHQ6ci5nZXRTZWxlY3Rpb25zKCl9KSxcImN1dFwiPT10LnR5cGUmJnIucmVwbGFjZVNlbGVjdGlvbihcIlwiLG51bGwsXCJjdXRcIik7ZWxzZXtpZighci5vcHRpb25zLmxpbmVXaXNlQ29weUN1dClyZXR1cm47dmFyIGU9TmEocik7T2Eoe2xpbmVXaXNlOiEwLHRleHQ6ZS50ZXh0fSksXCJjdXRcIj09dC50eXBlJiZyLm9wZXJhdGlvbihmdW5jdGlvbigpe3Iuc2V0U2VsZWN0aW9ucyhlLnJhbmdlcywwLFUpLHIucmVwbGFjZVNlbGVjdGlvbihcIlwiLG51bGwsXCJjdXRcIil9KX1pZih0LmNsaXBib2FyZERhdGEpe3QuY2xpcGJvYXJkRGF0YS5jbGVhckRhdGEoKTt2YXIgbz1UYS50ZXh0LmpvaW4oXCJcXG5cIik7aWYodC5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJUZXh0XCIsbyksdC5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpPT1vKXJldHVybiB2b2lkIHQucHJldmVudERlZmF1bHQoKX12YXIgYT1GYSgpLHM9YS5maXJzdENoaWxkO3IuZGlzcGxheS5saW5lU3BhY2UuaW5zZXJ0QmVmb3JlKGEsci5kaXNwbGF5LmxpbmVTcGFjZS5maXJzdENoaWxkKSxzLnZhbHVlPVRhLnRleHQuam9pbihcIlxcblwiKTt2YXIgbD1kb2N1bWVudC5hY3RpdmVFbGVtZW50O0kocyksc2V0VGltZW91dChmdW5jdGlvbigpe3IuZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoYSksbC5mb2N1cygpLGw9PWkmJm4uc2hvd1ByaW1hcnlTZWxlY3Rpb24oKX0sNTApfX1QYShpLHIub3B0aW9ucy5zcGVsbGNoZWNrLHIub3B0aW9ucy5hdXRvY29ycmVjdCxyLm9wdGlvbnMuYXV0b2NhcGl0YWxpemUpLGR0KGksXCJwYXN0ZVwiLGZ1bmN0aW9uKHQpe2d0KHIsdCl8fExhKHQscil8fHM8PTExJiZzZXRUaW1lb3V0KFhyKHIsZnVuY3Rpb24oKXtyZXR1cm4gZS51cGRhdGVGcm9tRE9NKCl9KSwyMCl9KSxkdChpLFwiY29tcG9zaXRpb25zdGFydFwiLGZ1bmN0aW9uKHQpe2UuY29tcG9zaW5nPXtkYXRhOnQuZGF0YSxkb25lOiExfX0pLGR0KGksXCJjb21wb3NpdGlvbnVwZGF0ZVwiLGZ1bmN0aW9uKHQpe2UuY29tcG9zaW5nfHwoZS5jb21wb3Npbmc9e2RhdGE6dC5kYXRhLGRvbmU6ITF9KX0pLGR0KGksXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKHQpe2UuY29tcG9zaW5nJiYodC5kYXRhIT1lLmNvbXBvc2luZy5kYXRhJiZlLnJlYWRGcm9tRE9NU29vbigpLGUuY29tcG9zaW5nLmRvbmU9ITApfSksZHQoaSxcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe3JldHVybiBuLmZvcmNlQ29tcG9zaXRpb25FbmQoKX0pLGR0KGksXCJpbnB1dFwiLGZ1bmN0aW9uKCl7ZS5jb21wb3Npbmd8fGUucmVhZEZyb21ET01Tb29uKCl9KSxkdChpLFwiY29weVwiLG8pLGR0KGksXCJjdXRcIixvKX0sRGEucHJvdG90eXBlLnByZXBhcmVTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD1tcih0aGlzLmNtLCExKTtyZXR1cm4gdC5mb2N1cz10aGlzLmNtLnN0YXRlLmZvY3VzZWQsdH0sRGEucHJvdG90eXBlLnNob3dTZWxlY3Rpb249ZnVuY3Rpb24odCxlKXt0JiZ0aGlzLmNtLmRpc3BsYXkudmlldy5sZW5ndGgmJigodC5mb2N1c3x8ZSkmJnRoaXMuc2hvd1ByaW1hcnlTZWxlY3Rpb24oKSx0aGlzLnNob3dNdWx0aXBsZVNlbGVjdGlvbnModCkpfSxEYS5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY20uZGlzcGxheS53cmFwcGVyLm93bmVyRG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCl9LERhLnByb3RvdHlwZS5zaG93UHJpbWFyeVNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uKCksZT10aGlzLmNtLHI9ZS5kb2Muc2VsLnByaW1hcnkoKSxpPXIuZnJvbSgpLG89ci50bygpO2lmKGUuZGlzcGxheS52aWV3VG89PWUuZGlzcGxheS52aWV3RnJvbXx8aS5saW5lPj1lLmRpc3BsYXkudmlld1RvfHxvLmxpbmU8ZS5kaXNwbGF5LnZpZXdGcm9tKXQucmVtb3ZlQWxsUmFuZ2VzKCk7ZWxzZXt2YXIgYT1CYShlLHQuYW5jaG9yTm9kZSx0LmFuY2hvck9mZnNldCkscz1CYShlLHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQpO2lmKCFhfHxhLmJhZHx8IXN8fHMuYmFkfHwwIT1lZShvZShhLHMpLGkpfHwwIT1lZShpZShhLHMpLG8pKXt2YXIgbD1lLmRpc3BsYXkudmlldyxjPWkubGluZT49ZS5kaXNwbGF5LnZpZXdGcm9tJiZ6YShlLGkpfHx7bm9kZTpsWzBdLm1lYXN1cmUubWFwWzJdLG9mZnNldDowfSx1PW8ubGluZTxlLmRpc3BsYXkudmlld1RvJiZ6YShlLG8pO2lmKCF1KXt2YXIgZj1sW2wubGVuZ3RoLTFdLm1lYXN1cmUsZD1mLm1hcHM/Zi5tYXBzW2YubWFwcy5sZW5ndGgtMV06Zi5tYXA7dT17bm9kZTpkW2QubGVuZ3RoLTFdLG9mZnNldDpkW2QubGVuZ3RoLTJdLWRbZC5sZW5ndGgtM119fWlmKGMmJnUpe3ZhciBoLHA9dC5yYW5nZUNvdW50JiZ0LmdldFJhbmdlQXQoMCk7dHJ5e2g9UyhjLm5vZGUsYy5vZmZzZXQsdS5vZmZzZXQsdS5ub2RlKX1jYXRjaCh0KXt9aCYmKCFuJiZlLnN0YXRlLmZvY3VzZWQ/KHQuY29sbGFwc2UoYy5ub2RlLGMub2Zmc2V0KSxoLmNvbGxhcHNlZHx8KHQucmVtb3ZlQWxsUmFuZ2VzKCksdC5hZGRSYW5nZShoKSkpOih0LnJlbW92ZUFsbFJhbmdlcygpLHQuYWRkUmFuZ2UoaCkpLHAmJm51bGw9PXQuYW5jaG9yTm9kZT90LmFkZFJhbmdlKHApOm4mJnRoaXMuc3RhcnRHcmFjZVBlcmlvZCgpKSx0aGlzLnJlbWVtYmVyU2VsZWN0aW9uKCl9ZWxzZSB0LnJlbW92ZUFsbFJhbmdlcygpfX19LERhLnByb3RvdHlwZS5zdGFydEdyYWNlUGVyaW9kPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztjbGVhclRpbWVvdXQodGhpcy5ncmFjZVBlcmlvZCksdGhpcy5ncmFjZVBlcmlvZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5ncmFjZVBlcmlvZD0hMSx0LnNlbGVjdGlvbkNoYW5nZWQoKSYmdC5jbS5vcGVyYXRpb24oZnVuY3Rpb24oKXtyZXR1cm4gdC5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwfSl9LDIwKX0sRGEucHJvdG90eXBlLnNob3dNdWx0aXBsZVNlbGVjdGlvbnM9ZnVuY3Rpb24odCl7Tyh0aGlzLmNtLmRpc3BsYXkuY3Vyc29yRGl2LHQuY3Vyc29ycyksTyh0aGlzLmNtLmRpc3BsYXkuc2VsZWN0aW9uRGl2LHQuc2VsZWN0aW9uKX0sRGEucHJvdG90eXBlLnJlbWVtYmVyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb24oKTt0aGlzLmxhc3RBbmNob3JOb2RlPXQuYW5jaG9yTm9kZSx0aGlzLmxhc3RBbmNob3JPZmZzZXQ9dC5hbmNob3JPZmZzZXQsdGhpcy5sYXN0Rm9jdXNOb2RlPXQuZm9jdXNOb2RlLHRoaXMubGFzdEZvY3VzT2Zmc2V0PXQuZm9jdXNPZmZzZXR9LERhLnByb3RvdHlwZS5zZWxlY3Rpb25JbkVkaXRvcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoIXQucmFuZ2VDb3VudClyZXR1cm4hMTt2YXIgZT10LmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXI7cmV0dXJuIEEodGhpcy5kaXYsZSl9LERhLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe1wibm9jdXJzb3JcIiE9dGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5JiYodGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpfHx0aGlzLnNob3dTZWxlY3Rpb24odGhpcy5wcmVwYXJlU2VsZWN0aW9uKCksITApLHRoaXMuZGl2LmZvY3VzKCkpfSxEYS5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe3RoaXMuZGl2LmJsdXIoKX0sRGEucHJvdG90eXBlLmdldEZpZWxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2fSxEYS5wcm90b3R5cGUuc3VwcG9ydHNUb3VjaD1mdW5jdGlvbigpe3JldHVybiEwfSxEYS5wcm90b3R5cGUucmVjZWl2ZWRGb2N1cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5zZWxlY3Rpb25JbkVkaXRvcigpP3RoaXMucG9sbFNlbGVjdGlvbigpOkpyKHRoaXMuY20sZnVuY3Rpb24oKXtyZXR1cm4gdC5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkPSEwfSksdGhpcy5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLGZ1bmN0aW9uIGUoKXt0LmNtLnN0YXRlLmZvY3VzZWQmJih0LnBvbGxTZWxlY3Rpb24oKSx0LnBvbGxpbmcuc2V0KHQuY20ub3B0aW9ucy5wb2xsSW50ZXJ2YWwsZSkpfSl9LERhLnByb3RvdHlwZS5zZWxlY3Rpb25DaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gdC5hbmNob3JOb2RlIT10aGlzLmxhc3RBbmNob3JOb2RlfHx0LmFuY2hvck9mZnNldCE9dGhpcy5sYXN0QW5jaG9yT2Zmc2V0fHx0LmZvY3VzTm9kZSE9dGhpcy5sYXN0Rm9jdXNOb2RlfHx0LmZvY3VzT2Zmc2V0IT10aGlzLmxhc3RGb2N1c09mZnNldH0sRGEucHJvdG90eXBlLnBvbGxTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLnJlYWRET01UaW1lb3V0JiYhdGhpcy5ncmFjZVBlcmlvZCYmdGhpcy5zZWxlY3Rpb25DaGFuZ2VkKCkpe3ZhciB0PXRoaXMuZ2V0U2VsZWN0aW9uKCksZT10aGlzLmNtO2lmKGcmJnUmJnRoaXMuY20uZGlzcGxheS5ndXR0ZXJTcGVjcy5sZW5ndGgmJmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10O2U7ZT1lLnBhcmVudE5vZGUpaWYoL0NvZGVNaXJyb3ItZ3V0dGVyLXdyYXBwZXIvLnRlc3QoZS5jbGFzc05hbWUpKXJldHVybiEwO3JldHVybiExfSh0LmFuY2hvck5vZGUpKXJldHVybiB0aGlzLmNtLnRyaWdnZXJPbktleURvd24oe3R5cGU6XCJrZXlkb3duXCIsa2V5Q29kZTo4LHByZXZlbnREZWZhdWx0Ok1hdGguYWJzfSksdGhpcy5ibHVyKCksdm9pZCB0aGlzLmZvY3VzKCk7aWYoIXRoaXMuY29tcG9zaW5nKXt0aGlzLnJlbWVtYmVyU2VsZWN0aW9uKCk7dmFyIG49QmEoZSx0LmFuY2hvck5vZGUsdC5hbmNob3JPZmZzZXQpLHI9QmEoZSx0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0KTtuJiZyJiZKcihlLGZ1bmN0aW9uKCl7SmkoZS5kb2MsQ2kobixyKSxVKSwobi5iYWR8fHIuYmFkKSYmKGUuY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZD0hMCl9KX19fSxEYS5wcm90b3R5cGUucG9sbENvbnRlbnQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnJlYWRET01UaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMucmVhZERPTVRpbWVvdXQpLHRoaXMucmVhZERPTVRpbWVvdXQ9bnVsbCk7dmFyIHQsZSxuLHI9dGhpcy5jbSxpPXIuZGlzcGxheSxvPXIuZG9jLnNlbC5wcmltYXJ5KCksYT1vLmZyb20oKSxzPW8udG8oKTtpZigwPT1hLmNoJiZhLmxpbmU+ci5maXJzdExpbmUoKSYmKGE9dGUoYS5saW5lLTEsS3Qoci5kb2MsYS5saW5lLTEpLmxlbmd0aCkpLHMuY2g9PUt0KHIuZG9jLHMubGluZSkudGV4dC5sZW5ndGgmJnMubGluZTxyLmxhc3RMaW5lKCkmJihzPXRlKHMubGluZSsxLDApKSxhLmxpbmU8aS52aWV3RnJvbXx8cy5saW5lPmkudmlld1RvLTEpcmV0dXJuITE7YS5saW5lPT1pLnZpZXdGcm9tfHwwPT0odD1scihyLGEubGluZSkpPyhlPUp0KGkudmlld1swXS5saW5lKSxuPWkudmlld1swXS5ub2RlKTooZT1KdChpLnZpZXdbdF0ubGluZSksbj1pLnZpZXdbdC0xXS5ub2RlLm5leHRTaWJsaW5nKTt2YXIgbCxjLHU9bHIocixzLmxpbmUpO2lmKHU9PWkudmlldy5sZW5ndGgtMT8obD1pLnZpZXdUby0xLGM9aS5saW5lRGl2Lmxhc3RDaGlsZCk6KGw9SnQoaS52aWV3W3UrMV0ubGluZSktMSxjPWkudmlld1t1KzFdLm5vZGUucHJldmlvdXNTaWJsaW5nKSwhbilyZXR1cm4hMTtmb3IodmFyIGY9ci5kb2Muc3BsaXRMaW5lcyhmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPVwiXCIsYT0hMSxzPXQuZG9jLmxpbmVTZXBhcmF0b3IoKSxsPSExO2Z1bmN0aW9uIGMoKXthJiYobys9cyxsJiYobys9cyksYT1sPSExKX1mdW5jdGlvbiB1KHQpe3QmJihjKCksbys9dCl9ZnVuY3Rpb24gZihlKXtpZigxPT1lLm5vZGVUeXBlKXt2YXIgbj1lLmdldEF0dHJpYnV0ZShcImNtLXRleHRcIik7aWYobilyZXR1cm4gdm9pZCB1KG4pO3ZhciBvLGQ9ZS5nZXRBdHRyaWJ1dGUoXCJjbS1tYXJrZXJcIik7aWYoZCl7dmFyIGg9dC5maW5kTWFya3ModGUociwwKSx0ZShpKzEsMCksKGc9K2QsZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PWd9KSk7cmV0dXJuIHZvaWQoaC5sZW5ndGgmJihvPWhbMF0uZmluZCgwKSkmJnUoJHQodC5kb2Msby5mcm9tLG8udG8pLmpvaW4ocykpKX1pZihcImZhbHNlXCI9PWUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybjt2YXIgcD0vXihwcmV8ZGl2fHB8bGl8dGFibGV8YnIpJC9pLnRlc3QoZS5ub2RlTmFtZSk7aWYoIS9eYnIkL2kudGVzdChlLm5vZGVOYW1lKSYmMD09ZS50ZXh0Q29udGVudC5sZW5ndGgpcmV0dXJuO3AmJmMoKTtmb3IodmFyIG09MDttPGUuY2hpbGROb2Rlcy5sZW5ndGg7bSsrKWYoZS5jaGlsZE5vZGVzW21dKTsvXihwcmV8cCkkL2kudGVzdChlLm5vZGVOYW1lKSYmKGw9ITApLHAmJihhPSEwKX1lbHNlIDM9PWUubm9kZVR5cGUmJnUoZS5ub2RlVmFsdWUucmVwbGFjZSgvXFx1MjAwYi9nLFwiXCIpLnJlcGxhY2UoL1xcdTAwYTAvZyxcIiBcIikpO3ZhciBnfWZvcig7ZihlKSxlIT1uOyllPWUubmV4dFNpYmxpbmcsbD0hMTtyZXR1cm4gb30ocixuLGMsZSxsKSksZD0kdChyLmRvYyx0ZShlLDApLHRlKGwsS3Qoci5kb2MsbCkudGV4dC5sZW5ndGgpKTtmLmxlbmd0aD4xJiZkLmxlbmd0aD4xOylpZihZKGYpPT1ZKGQpKWYucG9wKCksZC5wb3AoKSxsLS07ZWxzZXtpZihmWzBdIT1kWzBdKWJyZWFrO2Yuc2hpZnQoKSxkLnNoaWZ0KCksZSsrfWZvcih2YXIgaD0wLHA9MCxtPWZbMF0sZz1kWzBdLHY9TWF0aC5taW4obS5sZW5ndGgsZy5sZW5ndGgpO2g8diYmbS5jaGFyQ29kZUF0KGgpPT1nLmNoYXJDb2RlQXQoaCk7KSsraDtmb3IodmFyIHk9WShmKSxiPVkoZCkseD1NYXRoLm1pbih5Lmxlbmd0aC0oMT09Zi5sZW5ndGg/aDowKSxiLmxlbmd0aC0oMT09ZC5sZW5ndGg/aDowKSk7cDx4JiZ5LmNoYXJDb2RlQXQoeS5sZW5ndGgtcC0xKT09Yi5jaGFyQ29kZUF0KGIubGVuZ3RoLXAtMSk7KSsrcDtpZigxPT1mLmxlbmd0aCYmMT09ZC5sZW5ndGgmJmU9PWEubGluZSlmb3IoO2gmJmg+YS5jaCYmeS5jaGFyQ29kZUF0KHkubGVuZ3RoLXAtMSk9PWIuY2hhckNvZGVBdChiLmxlbmd0aC1wLTEpOyloLS0scCsrO2ZbZi5sZW5ndGgtMV09eS5zbGljZSgwLHkubGVuZ3RoLXApLnJlcGxhY2UoL15cXHUyMDBiKy8sXCJcIiksZlswXT1mWzBdLnNsaWNlKGgpLnJlcGxhY2UoL1xcdTIwMGIrJC8sXCJcIik7dmFyIHc9dGUoZSxoKSxDPXRlKGwsZC5sZW5ndGg/WShkKS5sZW5ndGgtcDowKTtyZXR1cm4gZi5sZW5ndGg+MXx8ZlswXXx8ZWUodyxDKT8oZm8oci5kb2MsZix3LEMsXCIraW5wdXRcIiksITApOnZvaWQgMH0sRGEucHJvdG90eXBlLmVuc3VyZVBvbGxlZD1mdW5jdGlvbigpe3RoaXMuZm9yY2VDb21wb3NpdGlvbkVuZCgpfSxEYS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmZvcmNlQ29tcG9zaXRpb25FbmQoKX0sRGEucHJvdG90eXBlLmZvcmNlQ29tcG9zaXRpb25FbmQ9ZnVuY3Rpb24oKXt0aGlzLmNvbXBvc2luZyYmKGNsZWFyVGltZW91dCh0aGlzLnJlYWRET01UaW1lb3V0KSx0aGlzLmNvbXBvc2luZz1udWxsLHRoaXMudXBkYXRlRnJvbURPTSgpLHRoaXMuZGl2LmJsdXIoKSx0aGlzLmRpdi5mb2N1cygpKX0sRGEucHJvdG90eXBlLnJlYWRGcm9tRE9NU29vbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bnVsbD09dGhpcy5yZWFkRE9NVGltZW91dCYmKHRoaXMucmVhZERPTVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKHQucmVhZERPTVRpbWVvdXQ9bnVsbCx0LmNvbXBvc2luZyl7aWYoIXQuY29tcG9zaW5nLmRvbmUpcmV0dXJuO3QuY29tcG9zaW5nPW51bGx9dC51cGRhdGVGcm9tRE9NKCl9LDgwKSl9LERhLnByb3RvdHlwZS51cGRhdGVGcm9tRE9NPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczshdGhpcy5jbS5pc1JlYWRPbmx5KCkmJnRoaXMucG9sbENvbnRlbnQoKXx8SnIodGhpcy5jbSxmdW5jdGlvbigpe3JldHVybiBjcih0LmNtKX0pfSxEYS5wcm90b3R5cGUuc2V0VW5lZGl0YWJsZT1mdW5jdGlvbih0KXt0LmNvbnRlbnRFZGl0YWJsZT1cImZhbHNlXCJ9LERhLnByb3RvdHlwZS5vbktleVByZXNzPWZ1bmN0aW9uKHQpezA9PXQuY2hhckNvZGV8fHRoaXMuY29tcG9zaW5nfHwodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY20uaXNSZWFkT25seSgpfHxYcih0aGlzLmNtLE1hKSh0aGlzLmNtLFN0cmluZy5mcm9tQ2hhckNvZGUobnVsbD09dC5jaGFyQ29kZT90LmtleUNvZGU6dC5jaGFyQ29kZSksMCkpfSxEYS5wcm90b3R5cGUucmVhZE9ubHlDaGFuZ2VkPWZ1bmN0aW9uKHQpe3RoaXMuZGl2LmNvbnRlbnRFZGl0YWJsZT1TdHJpbmcoXCJub2N1cnNvclwiIT10KX0sRGEucHJvdG90eXBlLm9uQ29udGV4dE1lbnU9ZnVuY3Rpb24oKXt9LERhLnByb3RvdHlwZS5yZXNldFBvc2l0aW9uPWZ1bmN0aW9uKCl7fSxEYS5wcm90b3R5cGUubmVlZHNDb250ZW50QXR0cmlidXRlPSEwO3ZhciBXYT1mdW5jdGlvbih0KXt0aGlzLmNtPXQsdGhpcy5wcmV2SW5wdXQ9XCJcIix0aGlzLnBvbGxpbmdGYXN0PSExLHRoaXMucG9sbGluZz1uZXcgUix0aGlzLmhhc1NlbGVjdGlvbj0hMSx0aGlzLmNvbXBvc2luZz1udWxsfTtXYS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcyxyPXRoaXMuY207dGhpcy5jcmVhdGVGaWVsZCh0KTt2YXIgaT10aGlzLnRleHRhcmVhO2Z1bmN0aW9uIG8odCl7aWYoIWd0KHIsdCkpe2lmKHIuc29tZXRoaW5nU2VsZWN0ZWQoKSlPYSh7bGluZVdpc2U6ITEsdGV4dDpyLmdldFNlbGVjdGlvbnMoKX0pO2Vsc2V7aWYoIXIub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpcmV0dXJuO3ZhciBlPU5hKHIpO09hKHtsaW5lV2lzZTohMCx0ZXh0OmUudGV4dH0pLFwiY3V0XCI9PXQudHlwZT9yLnNldFNlbGVjdGlvbnMoZS5yYW5nZXMsbnVsbCxVKToobi5wcmV2SW5wdXQ9XCJcIixpLnZhbHVlPWUudGV4dC5qb2luKFwiXFxuXCIpLEkoaSkpfVwiY3V0XCI9PXQudHlwZSYmKHIuc3RhdGUuY3V0SW5jb21pbmc9K25ldyBEYXRlKX19dC53cmFwcGVyLmluc2VydEJlZm9yZSh0aGlzLndyYXBwZXIsdC53cmFwcGVyLmZpcnN0Q2hpbGQpLG0mJihpLnN0eWxlLndpZHRoPVwiMHB4XCIpLGR0KGksXCJpbnB1dFwiLGZ1bmN0aW9uKCl7YSYmcz49OSYmZS5oYXNTZWxlY3Rpb24mJihlLmhhc1NlbGVjdGlvbj1udWxsKSxuLnBvbGwoKX0pLGR0KGksXCJwYXN0ZVwiLGZ1bmN0aW9uKHQpe2d0KHIsdCl8fExhKHQscil8fChyLnN0YXRlLnBhc3RlSW5jb21pbmc9K25ldyBEYXRlLG4uZmFzdFBvbGwoKSl9KSxkdChpLFwiY3V0XCIsbyksZHQoaSxcImNvcHlcIixvKSxkdCh0LnNjcm9sbGVyLFwicGFzdGVcIixmdW5jdGlvbihlKXtpZighQ24odCxlKSYmIWd0KHIsZSkpe2lmKCFpLmRpc3BhdGNoRXZlbnQpcmV0dXJuIHIuc3RhdGUucGFzdGVJbmNvbWluZz0rbmV3IERhdGUsdm9pZCBuLmZvY3VzKCk7dmFyIG89bmV3IEV2ZW50KFwicGFzdGVcIik7by5jbGlwYm9hcmREYXRhPWUuY2xpcGJvYXJkRGF0YSxpLmRpc3BhdGNoRXZlbnQobyl9fSksZHQodC5saW5lU3BhY2UsXCJzZWxlY3RzdGFydFwiLGZ1bmN0aW9uKGUpe0NuKHQsZSl8fHh0KGUpfSksZHQoaSxcImNvbXBvc2l0aW9uc3RhcnRcIixmdW5jdGlvbigpe3ZhciB0PXIuZ2V0Q3Vyc29yKFwiZnJvbVwiKTtuLmNvbXBvc2luZyYmbi5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKSxuLmNvbXBvc2luZz17c3RhcnQ6dCxyYW5nZTpyLm1hcmtUZXh0KHQsci5nZXRDdXJzb3IoXCJ0b1wiKSx7Y2xhc3NOYW1lOlwiQ29kZU1pcnJvci1jb21wb3NpbmdcIn0pfX0pLGR0KGksXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7bi5jb21wb3NpbmcmJihuLnBvbGwoKSxuLmNvbXBvc2luZy5yYW5nZS5jbGVhcigpLG4uY29tcG9zaW5nPW51bGwpfSl9LFdhLnByb3RvdHlwZS5jcmVhdGVGaWVsZD1mdW5jdGlvbih0KXt0aGlzLndyYXBwZXI9RmEoKSx0aGlzLnRleHRhcmVhPXRoaXMud3JhcHBlci5maXJzdENoaWxkfSxXYS5wcm90b3R5cGUucHJlcGFyZVNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY20sZT10LmRpc3BsYXksbj10LmRvYyxyPW1yKHQpO2lmKHQub3B0aW9ucy5tb3ZlSW5wdXRXaXRoQ3Vyc29yKXt2YXIgaT0kbih0LG4uc2VsLnByaW1hcnkoKS5oZWFkLFwiZGl2XCIpLG89ZS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9ZS5saW5lRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3IudGVUb3A9TWF0aC5tYXgoMCxNYXRoLm1pbihlLndyYXBwZXIuY2xpZW50SGVpZ2h0LTEwLGkudG9wK2EudG9wLW8udG9wKSksci50ZUxlZnQ9TWF0aC5tYXgoMCxNYXRoLm1pbihlLndyYXBwZXIuY2xpZW50V2lkdGgtMTAsaS5sZWZ0K2EubGVmdC1vLmxlZnQpKX1yZXR1cm4gcn0sV2EucHJvdG90eXBlLnNob3dTZWxlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jbSxuPWUuZGlzcGxheTtPKG4uY3Vyc29yRGl2LHQuY3Vyc29ycyksTyhuLnNlbGVjdGlvbkRpdix0LnNlbGVjdGlvbiksbnVsbCE9dC50ZVRvcCYmKHRoaXMud3JhcHBlci5zdHlsZS50b3A9dC50ZVRvcCtcInB4XCIsdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQ9dC50ZUxlZnQrXCJweFwiKX0sV2EucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmNvbnRleHRNZW51UGVuZGluZyYmIXRoaXMuY29tcG9zaW5nKXt2YXIgZT10aGlzLmNtO2lmKGUuc29tZXRoaW5nU2VsZWN0ZWQoKSl7dGhpcy5wcmV2SW5wdXQ9XCJcIjt2YXIgbj1lLmdldFNlbGVjdGlvbigpO3RoaXMudGV4dGFyZWEudmFsdWU9bixlLnN0YXRlLmZvY3VzZWQmJkkodGhpcy50ZXh0YXJlYSksYSYmcz49OSYmKHRoaXMuaGFzU2VsZWN0aW9uPW4pfWVsc2UgdHx8KHRoaXMucHJldklucHV0PXRoaXMudGV4dGFyZWEudmFsdWU9XCJcIixhJiZzPj05JiYodGhpcy5oYXNTZWxlY3Rpb249bnVsbCkpfX0sV2EucHJvdG90eXBlLmdldEZpZWxkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dGFyZWF9LFdhLnByb3RvdHlwZS5zdXBwb3J0c1RvdWNoPWZ1bmN0aW9uKCl7cmV0dXJuITF9LFdhLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2lmKFwibm9jdXJzb3JcIiE9dGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5JiYoIXZ8fE4oKSE9dGhpcy50ZXh0YXJlYSkpdHJ5e3RoaXMudGV4dGFyZWEuZm9jdXMoKX1jYXRjaCh0KXt9fSxXYS5wcm90b3R5cGUuYmx1cj1mdW5jdGlvbigpe3RoaXMudGV4dGFyZWEuYmx1cigpfSxXYS5wcm90b3R5cGUucmVzZXRQb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMud3JhcHBlci5zdHlsZS50b3A9dGhpcy53cmFwcGVyLnN0eWxlLmxlZnQ9MH0sV2EucHJvdG90eXBlLnJlY2VpdmVkRm9jdXM9ZnVuY3Rpb24oKXt0aGlzLnNsb3dQb2xsKCl9LFdhLnByb3RvdHlwZS5zbG93UG9sbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5wb2xsaW5nRmFzdHx8dGhpcy5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLGZ1bmN0aW9uKCl7dC5wb2xsKCksdC5jbS5zdGF0ZS5mb2N1c2VkJiZ0LnNsb3dQb2xsKCl9KX0sV2EucHJvdG90eXBlLmZhc3RQb2xsPWZ1bmN0aW9uKCl7dmFyIHQ9ITEsZT10aGlzO2UucG9sbGluZ0Zhc3Q9ITAsZS5wb2xsaW5nLnNldCgyMCxmdW5jdGlvbiBuKCl7dmFyIHI9ZS5wb2xsKCk7cnx8dD8oZS5wb2xsaW5nRmFzdD0hMSxlLnNsb3dQb2xsKCkpOih0PSEwLGUucG9sbGluZy5zZXQoNjAsbikpfSl9LFdhLnByb3RvdHlwZS5wb2xsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuY20sbj10aGlzLnRleHRhcmVhLHI9dGhpcy5wcmV2SW5wdXQ7aWYodGhpcy5jb250ZXh0TWVudVBlbmRpbmd8fCFlLnN0YXRlLmZvY3VzZWR8fFB0KG4pJiYhciYmIXRoaXMuY29tcG9zaW5nfHxlLmlzUmVhZE9ubHkoKXx8ZS5vcHRpb25zLmRpc2FibGVJbnB1dHx8ZS5zdGF0ZS5rZXlTZXEpcmV0dXJuITE7dmFyIGk9bi52YWx1ZTtpZihpPT1yJiYhZS5zb21ldGhpbmdTZWxlY3RlZCgpKXJldHVybiExO2lmKGEmJnM+PTkmJnRoaXMuaGFzU2VsZWN0aW9uPT09aXx8eSYmL1tcXHVmNzAwLVxcdWY3ZmZdLy50ZXN0KGkpKXJldHVybiBlLmRpc3BsYXkuaW5wdXQucmVzZXQoKSwhMTtpZihlLmRvYy5zZWw9PWUuZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSl7dmFyIG89aS5jaGFyQ29kZUF0KDApO2lmKDgyMDMhPW98fHJ8fChyPVwi4oCLXCIpLDg2NjY9PW8pcmV0dXJuIHRoaXMucmVzZXQoKSx0aGlzLmNtLmV4ZWNDb21tYW5kKFwidW5kb1wiKX1mb3IodmFyIGw9MCxjPU1hdGgubWluKHIubGVuZ3RoLGkubGVuZ3RoKTtsPGMmJnIuY2hhckNvZGVBdChsKT09aS5jaGFyQ29kZUF0KGwpOykrK2w7cmV0dXJuIEpyKGUsZnVuY3Rpb24oKXtNYShlLGkuc2xpY2UobCksci5sZW5ndGgtbCxudWxsLHQuY29tcG9zaW5nP1wiKmNvbXBvc2VcIjpudWxsKSxpLmxlbmd0aD4xZTN8fGkuaW5kZXhPZihcIlxcblwiKT4tMT9uLnZhbHVlPXQucHJldklucHV0PVwiXCI6dC5wcmV2SW5wdXQ9aSx0LmNvbXBvc2luZyYmKHQuY29tcG9zaW5nLnJhbmdlLmNsZWFyKCksdC5jb21wb3NpbmcucmFuZ2U9ZS5tYXJrVGV4dCh0LmNvbXBvc2luZy5zdGFydCxlLmdldEN1cnNvcihcInRvXCIpLHtjbGFzc05hbWU6XCJDb2RlTWlycm9yLWNvbXBvc2luZ1wifSkpfSksITB9LFdhLnByb3RvdHlwZS5lbnN1cmVQb2xsZWQ9ZnVuY3Rpb24oKXt0aGlzLnBvbGxpbmdGYXN0JiZ0aGlzLnBvbGwoKSYmKHRoaXMucG9sbGluZ0Zhc3Q9ITEpfSxXYS5wcm90b3R5cGUub25LZXlQcmVzcz1mdW5jdGlvbigpe2EmJnM+PTkmJih0aGlzLmhhc1NlbGVjdGlvbj1udWxsKSx0aGlzLmZhc3RQb2xsKCl9LFdhLnByb3RvdHlwZS5vbkNvbnRleHRNZW51PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1lLmNtLHI9bi5kaXNwbGF5LGk9ZS50ZXh0YXJlYTtlLmNvbnRleHRNZW51UGVuZGluZyYmZS5jb250ZXh0TWVudVBlbmRpbmcoKTt2YXIgbz1zcihuLHQpLGM9ci5zY3JvbGxlci5zY3JvbGxUb3A7aWYobyYmIWYpe3ZhciB1PW4ub3B0aW9ucy5yZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnU7dSYmLTE9PW4uZG9jLnNlbC5jb250YWlucyhvKSYmWHIobixKaSkobi5kb2MsQ2kobyksVSk7dmFyIGQsaD1pLnN0eWxlLmNzc1RleHQscD1lLndyYXBwZXIuc3R5bGUuY3NzVGV4dCxtPWUud3JhcHBlci5vZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZS53cmFwcGVyLnN0eWxlLmNzc1RleHQ9XCJwb3NpdGlvbjogc3RhdGljXCIsaS5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMzBweDsgaGVpZ2h0OiAzMHB4O1xcbiAgICAgIHRvcDogXCIrKHQuY2xpZW50WS1tLnRvcC01KStcInB4OyBsZWZ0OiBcIisodC5jbGllbnRYLW0ubGVmdC01KStcInB4O1xcbiAgICAgIHotaW5kZXg6IDEwMDA7IGJhY2tncm91bmQ6IFwiKyhhP1wicmdiYSgyNTUsIDI1NSwgMjU1LCAuMDUpXCI6XCJ0cmFuc3BhcmVudFwiKStcIjtcXG4gICAgICBvdXRsaW5lOiBub25lOyBib3JkZXItd2lkdGg6IDA7IG91dGxpbmU6IG5vbmU7IG92ZXJmbG93OiBoaWRkZW47IG9wYWNpdHk6IC4wNTsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUpO1wiLGwmJihkPXdpbmRvdy5zY3JvbGxZKSxyLmlucHV0LmZvY3VzKCksbCYmd2luZG93LnNjcm9sbFRvKG51bGwsZCksci5pbnB1dC5yZXNldCgpLG4uc29tZXRoaW5nU2VsZWN0ZWQoKXx8KGkudmFsdWU9ZS5wcmV2SW5wdXQ9XCIgXCIpLGUuY29udGV4dE1lbnVQZW5kaW5nPXksci5zZWxGb3JDb250ZXh0TWVudT1uLmRvYy5zZWwsY2xlYXJUaW1lb3V0KHIuZGV0ZWN0aW5nU2VsZWN0QWxsKSxhJiZzPj05JiZ2KCksayl7a3QodCk7dmFyIGc9ZnVuY3Rpb24oKXtwdCh3aW5kb3csXCJtb3VzZXVwXCIsZyksc2V0VGltZW91dCh5LDIwKX07ZHQod2luZG93LFwibW91c2V1cFwiLGcpfWVsc2Ugc2V0VGltZW91dCh5LDUwKX1mdW5jdGlvbiB2KCl7aWYobnVsbCE9aS5zZWxlY3Rpb25TdGFydCl7dmFyIHQ9bi5zb21ldGhpbmdTZWxlY3RlZCgpLG89XCLigItcIisodD9pLnZhbHVlOlwiXCIpO2kudmFsdWU9XCLih5pcIixpLnZhbHVlPW8sZS5wcmV2SW5wdXQ9dD9cIlwiOlwi4oCLXCIsaS5zZWxlY3Rpb25TdGFydD0xLGkuc2VsZWN0aW9uRW5kPW8ubGVuZ3RoLHIuc2VsRm9yQ29udGV4dE1lbnU9bi5kb2Muc2VsfX1mdW5jdGlvbiB5KCl7aWYoZS5jb250ZXh0TWVudVBlbmRpbmc9PXkmJihlLmNvbnRleHRNZW51UGVuZGluZz0hMSxlLndyYXBwZXIuc3R5bGUuY3NzVGV4dD1wLGkuc3R5bGUuY3NzVGV4dD1oLGEmJnM8OSYmci5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcChyLnNjcm9sbGVyLnNjcm9sbFRvcD1jKSxudWxsIT1pLnNlbGVjdGlvblN0YXJ0KSl7KCFhfHxhJiZzPDkpJiZ2KCk7dmFyIHQ9MCxvPWZ1bmN0aW9uKCl7ci5zZWxGb3JDb250ZXh0TWVudT09bi5kb2Muc2VsJiYwPT1pLnNlbGVjdGlvblN0YXJ0JiZpLnNlbGVjdGlvbkVuZD4wJiZcIuKAi1wiPT1lLnByZXZJbnB1dD9YcihuLGlvKShuKTp0Kys8MTA/ci5kZXRlY3RpbmdTZWxlY3RBbGw9c2V0VGltZW91dChvLDUwMCk6KHIuc2VsRm9yQ29udGV4dE1lbnU9bnVsbCxyLmlucHV0LnJlc2V0KCkpfTtyLmRldGVjdGluZ1NlbGVjdEFsbD1zZXRUaW1lb3V0KG8sMjAwKX19fSxXYS5wcm90b3R5cGUucmVhZE9ubHlDaGFuZ2VkPWZ1bmN0aW9uKHQpe3R8fHRoaXMucmVzZXQoKSx0aGlzLnRleHRhcmVhLmRpc2FibGVkPVwibm9jdXJzb3JcIj09dH0sV2EucHJvdG90eXBlLnNldFVuZWRpdGFibGU9ZnVuY3Rpb24oKXt9LFdhLnByb3RvdHlwZS5uZWVkc0NvbnRlbnRBdHRyaWJ1dGU9ITEsZnVuY3Rpb24odCl7dmFyIGU9dC5vcHRpb25IYW5kbGVycztmdW5jdGlvbiBuKG4scixpLG8pe3QuZGVmYXVsdHNbbl09cixpJiYoZVtuXT1vP2Z1bmN0aW9uKHQsZSxuKXtuIT1iYSYmaSh0LGUsbil9OmkpfXQuZGVmaW5lT3B0aW9uPW4sdC5Jbml0PWJhLG4oXCJ2YWx1ZVwiLFwiXCIsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zZXRWYWx1ZShlKX0sITApLG4oXCJtb2RlXCIsbnVsbCxmdW5jdGlvbih0LGUpe3QuZG9jLm1vZGVPcHRpb249ZSxUaSh0KX0sITApLG4oXCJpbmRlbnRVbml0XCIsMixUaSwhMCksbihcImluZGVudFdpdGhUYWJzXCIsITEpLG4oXCJzbWFydEluZGVudFwiLCEwKSxuKFwidGFiU2l6ZVwiLDQsZnVuY3Rpb24odCl7T2kodCksQm4odCksY3IodCl9LCEwKSxuKFwibGluZVNlcGFyYXRvclwiLG51bGwsZnVuY3Rpb24odCxlKXtpZih0LmRvYy5saW5lU2VwPWUsZSl7dmFyIG49W10scj10LmRvYy5maXJzdDt0LmRvYy5pdGVyKGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wOzspe3ZhciBvPXQudGV4dC5pbmRleE9mKGUsaSk7aWYoLTE9PW8pYnJlYWs7aT1vK2UubGVuZ3RoLG4ucHVzaCh0ZShyLG8pKX1yKyt9KTtmb3IodmFyIGk9bi5sZW5ndGgtMTtpPj0wO2ktLSlmbyh0LmRvYyxlLG5baV0sdGUobltpXS5saW5lLG5baV0uY2grZS5sZW5ndGgpKX19KSxuKFwic3BlY2lhbENoYXJzXCIsL1tcXHUwMDAwLVxcdTAwMWZcXHUwMDdmLVxcdTAwOWZcXHUwMGFkXFx1MDYxY1xcdTIwMGItXFx1MjAwZlxcdTIwMjhcXHUyMDI5XFx1ZmVmZlxcdWZmZjktXFx1ZmZmY10vZyxmdW5jdGlvbih0LGUsbil7dC5zdGF0ZS5zcGVjaWFsQ2hhcnM9bmV3IFJlZ0V4cChlLnNvdXJjZSsoZS50ZXN0KFwiXFx0XCIpP1wiXCI6XCJ8XFx0XCIpLFwiZ1wiKSxuIT1iYSYmdC5yZWZyZXNoKCl9KSxuKFwic3BlY2lhbENoYXJQbGFjZWhvbGRlclwiLFplLGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZnJlc2goKX0sITApLG4oXCJlbGVjdHJpY0NoYXJzXCIsITApLG4oXCJpbnB1dFN0eWxlXCIsdj9cImNvbnRlbnRlZGl0YWJsZVwiOlwidGV4dGFyZWFcIixmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcImlucHV0U3R5bGUgY2FuIG5vdCAoeWV0KSBiZSBjaGFuZ2VkIGluIGEgcnVubmluZyBlZGl0b3JcIil9LCEwKSxuKFwic3BlbGxjaGVja1wiLCExLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0SW5wdXRGaWVsZCgpLnNwZWxsY2hlY2s9ZX0sITApLG4oXCJhdXRvY29ycmVjdFwiLCExLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0SW5wdXRGaWVsZCgpLmF1dG9jb3JyZWN0PWV9LCEwKSxuKFwiYXV0b2NhcGl0YWxpemVcIiwhMSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmdldElucHV0RmllbGQoKS5hdXRvY2FwaXRhbGl6ZT1lfSwhMCksbihcInJ0bE1vdmVWaXN1YWxseVwiLCF4KSxuKFwid2hvbGVMaW5lVXBkYXRlQmVmb3JlXCIsITApLG4oXCJ0aGVtZVwiLFwiZGVmYXVsdFwiLGZ1bmN0aW9uKHQpe3lhKHQpLGRpKHQpfSwhMCksbihcImtleU1hcFwiLFwiZGVmYXVsdFwiLGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0kbyhlKSxpPW4hPWJhJiYkbyhuKTtpJiZpLmRldGFjaCYmaS5kZXRhY2godCxyKSxyLmF0dGFjaCYmci5hdHRhY2godCxpfHxudWxsKX0pLG4oXCJleHRyYUtleXNcIixudWxsKSxuKFwiY29uZmlndXJlTW91c2VcIixudWxsKSxuKFwibGluZVdyYXBwaW5nXCIsITEsa2EsITApLG4oXCJndXR0ZXJzXCIsW10sZnVuY3Rpb24odCxlKXt0LmRpc3BsYXkuZ3V0dGVyU3BlY3M9dWkoZSx0Lm9wdGlvbnMubGluZU51bWJlcnMpLGRpKHQpfSwhMCksbihcImZpeGVkR3V0dGVyXCIsITAsZnVuY3Rpb24odCxlKXt0LmRpc3BsYXkuZ3V0dGVycy5zdHlsZS5sZWZ0PWU/aXIodC5kaXNwbGF5KStcInB4XCI6XCIwXCIsdC5yZWZyZXNoKCl9LCEwKSxuKFwiY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXJcIiwhMSxmdW5jdGlvbih0KXtyZXR1cm4gUnIodCl9LCEwKSxuKFwic2Nyb2xsYmFyU3R5bGVcIixcIm5hdGl2ZVwiLGZ1bmN0aW9uKHQpe1dyKHQpLFJyKHQpLHQuZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcCh0LmRvYy5zY3JvbGxUb3ApLHQuZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbExlZnQodC5kb2Muc2Nyb2xsTGVmdCl9LCEwKSxuKFwibGluZU51bWJlcnNcIiwhMSxmdW5jdGlvbih0LGUpe3QuZGlzcGxheS5ndXR0ZXJTcGVjcz11aSh0Lm9wdGlvbnMuZ3V0dGVycyxlKSxkaSh0KX0sITApLG4oXCJmaXJzdExpbmVOdW1iZXJcIiwxLGRpLCEwKSxuKFwibGluZU51bWJlckZvcm1hdHRlclwiLGZ1bmN0aW9uKHQpe3JldHVybiB0fSxkaSwhMCksbihcInNob3dDdXJzb3JXaGVuU2VsZWN0aW5nXCIsITEscHIsITApLG4oXCJyZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnVcIiwhMCksbihcImxpbmVXaXNlQ29weUN1dFwiLCEwKSxuKFwicGFzdGVMaW5lc1BlclNlbGVjdGlvblwiLCEwKSxuKFwic2VsZWN0aW9uc01heVRvdWNoXCIsITEpLG4oXCJyZWFkT25seVwiLCExLGZ1bmN0aW9uKHQsZSl7XCJub2N1cnNvclwiPT1lJiYoa3IodCksdC5kaXNwbGF5LmlucHV0LmJsdXIoKSksdC5kaXNwbGF5LmlucHV0LnJlYWRPbmx5Q2hhbmdlZChlKX0pLG4oXCJkaXNhYmxlSW5wdXRcIiwhMSxmdW5jdGlvbih0LGUpe2V8fHQuZGlzcGxheS5pbnB1dC5yZXNldCgpfSwhMCksbihcImRyYWdEcm9wXCIsITAsQ2EpLG4oXCJhbGxvd0Ryb3BGaWxlVHlwZXNcIixudWxsKSxuKFwiY3Vyc29yQmxpbmtSYXRlXCIsNTMwKSxuKFwiY3Vyc29yU2Nyb2xsTWFyZ2luXCIsMCksbihcImN1cnNvckhlaWdodFwiLDEscHIsITApLG4oXCJzaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lXCIsITAscHIsITApLG4oXCJ3b3JrVGltZVwiLDEwMCksbihcIndvcmtEZWxheVwiLDEwMCksbihcImZsYXR0ZW5TcGFuc1wiLCEwLE9pLCEwKSxuKFwiYWRkTW9kZUNsYXNzXCIsITEsT2ksITApLG4oXCJwb2xsSW50ZXJ2YWxcIiwxMDApLG4oXCJ1bmRvRGVwdGhcIiwyMDAsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kb2MuaGlzdG9yeS51bmRvRGVwdGg9ZX0pLG4oXCJoaXN0b3J5RXZlbnREZWxheVwiLDEyNTApLG4oXCJ2aWV3cG9ydE1hcmdpblwiLDEwLGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZnJlc2goKX0sITApLG4oXCJtYXhIaWdobGlnaHRMZW5ndGhcIiwxZTQsT2ksITApLG4oXCJtb3ZlSW5wdXRXaXRoQ3Vyc29yXCIsITAsZnVuY3Rpb24odCxlKXtlfHx0LmRpc3BsYXkuaW5wdXQucmVzZXRQb3NpdGlvbigpfSksbihcInRhYmluZGV4XCIsbnVsbCxmdW5jdGlvbih0LGUpe3JldHVybiB0LmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKS50YWJJbmRleD1lfHxcIlwifSksbihcImF1dG9mb2N1c1wiLG51bGwpLG4oXCJkaXJlY3Rpb25cIixcImx0clwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZG9jLnNldERpcmVjdGlvbihlKX0sITApLG4oXCJwaHJhc2VzXCIsbnVsbCl9KF9hKSxmdW5jdGlvbih0KXt2YXIgZT10Lm9wdGlvbkhhbmRsZXJzLG49dC5oZWxwZXJzPXt9O3QucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp0LGZvY3VzOmZ1bmN0aW9uKCl7d2luZG93LmZvY3VzKCksdGhpcy5kaXNwbGF5LmlucHV0LmZvY3VzKCl9LHNldE9wdGlvbjpmdW5jdGlvbih0LG4pe3ZhciByPXRoaXMub3B0aW9ucyxpPXJbdF07clt0XT09biYmXCJtb2RlXCIhPXR8fChyW3RdPW4sZS5oYXNPd25Qcm9wZXJ0eSh0KSYmWHIodGhpcyxlW3RdKSh0aGlzLG4saSksbXQodGhpcyxcIm9wdGlvbkNoYW5nZVwiLHRoaXMsdCkpfSxnZXRPcHRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9uc1t0XX0sZ2V0RG9jOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jfSxhZGRLZXlNYXA6ZnVuY3Rpb24odCxlKXt0aGlzLnN0YXRlLmtleU1hcHNbZT9cInB1c2hcIjpcInVuc2hpZnRcIl0oJG8odCkpfSxyZW1vdmVLZXlNYXA6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuc3RhdGUua2V5TWFwcyxuPTA7bjxlLmxlbmd0aDsrK24paWYoZVtuXT09dHx8ZVtuXS5uYW1lPT10KXJldHVybiBlLnNwbGljZShuLDEpLCEwfSxhZGRPdmVybGF5OlpyKGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS50b2tlbj9lOnQuZ2V0TW9kZSh0aGlzLm9wdGlvbnMsZSk7aWYoci5zdGFydFN0YXRlKXRocm93IG5ldyBFcnJvcihcIk92ZXJsYXlzIG1heSBub3QgYmUgc3RhdGVmdWwuXCIpOyFmdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTAsaT1uKGUpO3I8dC5sZW5ndGgmJm4odFtyXSk8PWk7KXIrKzt0LnNwbGljZShyLDAsZSl9KHRoaXMuc3RhdGUub3ZlcmxheXMse21vZGU6cixtb2RlU3BlYzplLG9wYXF1ZTpuJiZuLm9wYXF1ZSxwcmlvcml0eTpuJiZuLnByaW9yaXR5fHwwfSxmdW5jdGlvbih0KXtyZXR1cm4gdC5wcmlvcml0eX0pLHRoaXMuc3RhdGUubW9kZUdlbisrLGNyKHRoaXMpfSkscmVtb3ZlT3ZlcmxheTpacihmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5zdGF0ZS5vdmVybGF5cyxuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciByPWVbbl0ubW9kZVNwZWM7aWYocj09dHx8XCJzdHJpbmdcIj09dHlwZW9mIHQmJnIubmFtZT09dClyZXR1cm4gZS5zcGxpY2UobiwxKSx0aGlzLnN0YXRlLm1vZGVHZW4rKyx2b2lkIGNyKHRoaXMpfX0pLGluZGVudExpbmU6WnIoZnVuY3Rpb24odCxlLG4pe1wic3RyaW5nXCIhPXR5cGVvZiBlJiZcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9bnVsbD09ZT90aGlzLm9wdGlvbnMuc21hcnRJbmRlbnQ/XCJzbWFydFwiOlwicHJldlwiOmU/XCJhZGRcIjpcInN1YnRyYWN0XCIpLFp0KHRoaXMuZG9jLHQpJiZFYSh0aGlzLHQsZSxuKX0pLGluZGVudFNlbGVjdGlvbjpacihmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kb2Muc2VsLnJhbmdlcyxuPS0xLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZVtyXTtpZihpLmVtcHR5KCkpaS5oZWFkLmxpbmU+biYmKEVhKHRoaXMsaS5oZWFkLmxpbmUsdCwhMCksbj1pLmhlYWQubGluZSxyPT10aGlzLmRvYy5zZWwucHJpbUluZGV4JiZNcih0aGlzKSk7ZWxzZXt2YXIgbz1pLmZyb20oKSxhPWkudG8oKSxzPU1hdGgubWF4KG4sby5saW5lKTtuPU1hdGgubWluKHRoaXMubGFzdExpbmUoKSxhLmxpbmUtKGEuY2g/MDoxKSkrMTtmb3IodmFyIGw9cztsPG47KytsKUVhKHRoaXMsbCx0KTt2YXIgYz10aGlzLmRvYy5zZWwucmFuZ2VzOzA9PW8uY2gmJmUubGVuZ3RoPT1jLmxlbmd0aCYmY1tyXS5mcm9tKCkuY2g+MCYmJGkodGhpcy5kb2MscixuZXcgeGkobyxjW3JdLnRvKCkpLFUpfX19KSxnZXRUb2tlbkF0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHllKHRoaXMsdCxlKX0sZ2V0TGluZVRva2VuczpmdW5jdGlvbih0LGUpe3JldHVybiB5ZSh0aGlzLHRlKHQpLGUsITApfSxnZXRUb2tlblR5cGVBdDpmdW5jdGlvbih0KXt0PXNlKHRoaXMuZG9jLHQpO3ZhciBlLG49ZGUodGhpcyxLdCh0aGlzLmRvYyx0LmxpbmUpKSxyPTAsaT0obi5sZW5ndGgtMSkvMixvPXQuY2g7aWYoMD09byllPW5bMl07ZWxzZSBmb3IoOzspe3ZhciBhPXIraT4+MTtpZigoYT9uWzIqYS0xXTowKT49bylpPWE7ZWxzZXtpZighKG5bMiphKzFdPG8pKXtlPW5bMiphKzJdO2JyZWFrfXI9YSsxfX12YXIgcz1lP2UuaW5kZXhPZihcIm92ZXJsYXkgXCIpOi0xO3JldHVybiBzPDA/ZTowPT1zP251bGw6ZS5zbGljZSgwLHMtMSl9LGdldE1vZGVBdDpmdW5jdGlvbihlKXt2YXIgbj10aGlzLmRvYy5tb2RlO3JldHVybiBuLmlubmVyTW9kZT90LmlubmVyTW9kZShuLHRoaXMuZ2V0VG9rZW5BdChlKS5zdGF0ZSkubW9kZTpufSxnZXRIZWxwZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5nZXRIZWxwZXJzKHQsZSlbMF19LGdldEhlbHBlcnM6ZnVuY3Rpb24odCxlKXt2YXIgcj1bXTtpZighbi5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gcjt2YXIgaT1uW2VdLG89dGhpcy5nZXRNb2RlQXQodCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG9bZV0paVtvW2VdXSYmci5wdXNoKGlbb1tlXV0pO2Vsc2UgaWYob1tlXSlmb3IodmFyIGE9MDthPG9bZV0ubGVuZ3RoO2ErKyl7dmFyIHM9aVtvW2VdW2FdXTtzJiZyLnB1c2gocyl9ZWxzZSBvLmhlbHBlclR5cGUmJmlbby5oZWxwZXJUeXBlXT9yLnB1c2goaVtvLmhlbHBlclR5cGVdKTppW28ubmFtZV0mJnIucHVzaChpW28ubmFtZV0pO2Zvcih2YXIgbD0wO2w8aS5fZ2xvYmFsLmxlbmd0aDtsKyspe3ZhciBjPWkuX2dsb2JhbFtsXTtjLnByZWQobyx0aGlzKSYmLTE9PUIocixjLnZhbCkmJnIucHVzaChjLnZhbCl9cmV0dXJuIHJ9LGdldFN0YXRlQWZ0ZXI6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRvYztyZXR1cm4gaGUodGhpcywodD1hZShuLG51bGw9PXQ/bi5maXJzdCtuLnNpemUtMTp0KSkrMSxlKS5zdGF0ZX0sY3Vyc29yQ29vcmRzOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5kb2Muc2VsLnByaW1hcnkoKTtyZXR1cm4gJG4odGhpcyxudWxsPT10P24uaGVhZDpcIm9iamVjdFwiPT10eXBlb2YgdD9zZSh0aGlzLmRvYyx0KTp0P24uZnJvbSgpOm4udG8oKSxlfHxcInBhZ2VcIil9LGNoYXJDb29yZHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gS24odGhpcyxzZSh0aGlzLmRvYyx0KSxlfHxcInBhZ2VcIil9LGNvb3Jkc0NoYXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gSm4odGhpcywodD1Hbih0aGlzLHQsZXx8XCJwYWdlXCIpKS5sZWZ0LHQudG9wKX0sbGluZUF0SGVpZ2h0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9R24odGhpcyx7dG9wOnQsbGVmdDowfSxlfHxcInBhZ2VcIikudG9wLFh0KHRoaXMuZG9jLHQrdGhpcy5kaXNwbGF5LnZpZXdPZmZzZXQpfSxoZWlnaHRBdExpbmU6ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9ITE7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe3ZhciBvPXRoaXMuZG9jLmZpcnN0K3RoaXMuZG9jLnNpemUtMTt0PHRoaXMuZG9jLmZpcnN0P3Q9dGhpcy5kb2MuZmlyc3Q6dD5vJiYodD1vLGk9ITApLHI9S3QodGhpcy5kb2MsdCl9ZWxzZSByPXQ7cmV0dXJuIFZuKHRoaXMscix7dG9wOjAsbGVmdDowfSxlfHxcInBhZ2VcIixufHxpKS50b3ArKGk/dGhpcy5kb2MuaGVpZ2h0LVVlKHIpOjApfSxkZWZhdWx0VGV4dEhlaWdodDpmdW5jdGlvbigpe3JldHVybiBlcih0aGlzLmRpc3BsYXkpfSxkZWZhdWx0Q2hhcldpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIG5yKHRoaXMuZGlzcGxheSl9LGdldFZpZXdwb3J0OmZ1bmN0aW9uKCl7cmV0dXJue2Zyb206dGhpcy5kaXNwbGF5LnZpZXdGcm9tLHRvOnRoaXMuZGlzcGxheS52aWV3VG99fSxhZGRXaWRnZXQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsbD10aGlzLmRpc3BsYXksYz0odD0kbih0aGlzLHNlKHRoaXMuZG9jLHQpKSkuYm90dG9tLHU9dC5sZWZ0O2lmKGUuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuc2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiLFwidHJ1ZVwiKSx0aGlzLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShlKSxsLnNpemVyLmFwcGVuZENoaWxkKGUpLFwib3ZlclwiPT1yKWM9dC50b3A7ZWxzZSBpZihcImFib3ZlXCI9PXJ8fFwibmVhclwiPT1yKXt2YXIgZj1NYXRoLm1heChsLndyYXBwZXIuY2xpZW50SGVpZ2h0LHRoaXMuZG9jLmhlaWdodCksZD1NYXRoLm1heChsLnNpemVyLmNsaWVudFdpZHRoLGwubGluZVNwYWNlLmNsaWVudFdpZHRoKTsoXCJhYm92ZVwiPT1yfHx0LmJvdHRvbStlLm9mZnNldEhlaWdodD5mKSYmdC50b3A+ZS5vZmZzZXRIZWlnaHQ/Yz10LnRvcC1lLm9mZnNldEhlaWdodDp0LmJvdHRvbStlLm9mZnNldEhlaWdodDw9ZiYmKGM9dC5ib3R0b20pLHUrZS5vZmZzZXRXaWR0aD5kJiYodT1kLWUub2Zmc2V0V2lkdGgpfWUuc3R5bGUudG9wPWMrXCJweFwiLGUuc3R5bGUubGVmdD1lLnN0eWxlLnJpZ2h0PVwiXCIsXCJyaWdodFwiPT1pPyh1PWwuc2l6ZXIuY2xpZW50V2lkdGgtZS5vZmZzZXRXaWR0aCxlLnN0eWxlLnJpZ2h0PVwiMHB4XCIpOihcImxlZnRcIj09aT91PTA6XCJtaWRkbGVcIj09aSYmKHU9KGwuc2l6ZXIuY2xpZW50V2lkdGgtZS5vZmZzZXRXaWR0aCkvMiksZS5zdHlsZS5sZWZ0PXUrXCJweFwiKSxuJiYobz10aGlzLGE9e2xlZnQ6dSx0b3A6YyxyaWdodDp1K2Uub2Zmc2V0V2lkdGgsYm90dG9tOmMrZS5vZmZzZXRIZWlnaHR9LG51bGwhPShzPVRyKG8sYSkpLnNjcm9sbFRvcCYmUHIobyxzLnNjcm9sbFRvcCksbnVsbCE9cy5zY3JvbGxMZWZ0JiZJcihvLHMuc2Nyb2xsTGVmdCkpfSx0cmlnZ2VyT25LZXlEb3duOlpyKHNhKSx0cmlnZ2VyT25LZXlQcmVzczpacihjYSksdHJpZ2dlck9uS2V5VXA6bGEsdHJpZ2dlck9uTW91c2VEb3duOlpyKGhhKSxleGVjQ29tbWFuZDpmdW5jdGlvbih0KXtpZihaby5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4gWm9bdF0uY2FsbChudWxsLHRoaXMpfSx0cmlnZ2VyRWxlY3RyaWM6WnIoZnVuY3Rpb24odCl7QWEodGhpcyx0KX0pLGZpbmRQb3NIOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPTE7ZTwwJiYoaT0tMSxlPS1lKTtmb3IodmFyIG89c2UodGhpcy5kb2MsdCksYT0wO2E8ZSYmIShvPUlhKHRoaXMuZG9jLG8saSxuLHIpKS5oaXRTaWRlOysrYSk7cmV0dXJuIG99LG1vdmVIOlpyKGZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbihyKXtyZXR1cm4gbi5kaXNwbGF5LnNoaWZ0fHxuLmRvYy5leHRlbmR8fHIuZW1wdHkoKT9JYShuLmRvYyxyLmhlYWQsdCxlLG4ub3B0aW9ucy5ydGxNb3ZlVmlzdWFsbHkpOnQ8MD9yLmZyb20oKTpyLnRvKCl9LEcpfSksZGVsZXRlSDpacihmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZG9jLnNlbCxyPXRoaXMuZG9jO24uc29tZXRoaW5nU2VsZWN0ZWQoKT9yLnJlcGxhY2VTZWxlY3Rpb24oXCJcIixudWxsLFwiK2RlbGV0ZVwiKTpxbyh0aGlzLGZ1bmN0aW9uKG4pe3ZhciBpPUlhKHIsbi5oZWFkLHQsZSwhMSk7cmV0dXJuIHQ8MD97ZnJvbTppLHRvOm4uaGVhZH06e2Zyb206bi5oZWFkLHRvOml9fSl9KSxmaW5kUG9zVjpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT0xLG89cjtlPDAmJihpPS0xLGU9LWUpO2Zvcih2YXIgYT1zZSh0aGlzLmRvYyx0KSxzPTA7czxlOysrcyl7dmFyIGw9JG4odGhpcyxhLFwiZGl2XCIpO2lmKG51bGw9PW8/bz1sLmxlZnQ6bC5sZWZ0PW8sKGE9amEodGhpcyxsLGksbikpLmhpdFNpZGUpYnJlYWt9cmV0dXJuIGF9LG1vdmVWOlpyKGZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXRoaXMuZG9jLGk9W10sbz0hdGhpcy5kaXNwbGF5LnNoaWZ0JiYhci5leHRlbmQmJnIuc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCk7aWYoci5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24oYSl7aWYobylyZXR1cm4gdDwwP2EuZnJvbSgpOmEudG8oKTt2YXIgcz0kbihuLGEuaGVhZCxcImRpdlwiKTtudWxsIT1hLmdvYWxDb2x1bW4mJihzLmxlZnQ9YS5nb2FsQ29sdW1uKSxpLnB1c2gocy5sZWZ0KTt2YXIgbD1qYShuLHMsdCxlKTtyZXR1cm5cInBhZ2VcIj09ZSYmYT09ci5zZWwucHJpbWFyeSgpJiZPcihuLEtuKG4sbCxcImRpdlwiKS50b3Atcy50b3ApLGx9LEcpLGkubGVuZ3RoKWZvcih2YXIgYT0wO2E8ci5zZWwucmFuZ2VzLmxlbmd0aDthKyspci5zZWwucmFuZ2VzW2FdLmdvYWxDb2x1bW49aVthXX0pLGZpbmRXb3JkQXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2Msbj1LdChlLHQubGluZSkudGV4dCxyPXQuY2gsaT10LmNoO2lmKG4pe3ZhciBvPXRoaXMuZ2V0SGVscGVyKHQsXCJ3b3JkQ2hhcnNcIik7XCJiZWZvcmVcIiE9dC5zdGlja3kmJmkhPW4ubGVuZ3RofHwhcj8rK2k6LS1yO2Zvcih2YXIgYT1uLmNoYXJBdChyKSxzPWV0KGEsbyk/ZnVuY3Rpb24odCl7cmV0dXJuIGV0KHQsbyl9Oi9cXHMvLnRlc3QoYSk/ZnVuY3Rpb24odCl7cmV0dXJuL1xccy8udGVzdCh0KX06ZnVuY3Rpb24odCl7cmV0dXJuIS9cXHMvLnRlc3QodCkmJiFldCh0KX07cj4wJiZzKG4uY2hhckF0KHItMSkpOyktLXI7Zm9yKDtpPG4ubGVuZ3RoJiZzKG4uY2hhckF0KGkpKTspKytpfXJldHVybiBuZXcgeGkodGUodC5saW5lLHIpLHRlKHQubGluZSxpKSl9LHRvZ2dsZU92ZXJ3cml0ZTpmdW5jdGlvbih0KXtudWxsIT10JiZ0PT10aGlzLnN0YXRlLm92ZXJ3cml0ZXx8KCh0aGlzLnN0YXRlLm92ZXJ3cml0ZT0hdGhpcy5zdGF0ZS5vdmVyd3JpdGUpP1AodGhpcy5kaXNwbGF5LmN1cnNvckRpdixcIkNvZGVNaXJyb3Itb3ZlcndyaXRlXCIpOkUodGhpcy5kaXNwbGF5LmN1cnNvckRpdixcIkNvZGVNaXJyb3Itb3ZlcndyaXRlXCIpLG10KHRoaXMsXCJvdmVyd3JpdGVUb2dnbGVcIix0aGlzLHRoaXMuc3RhdGUub3ZlcndyaXRlKSl9LGhhc0ZvY3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpPT1OKCl9LGlzUmVhZE9ubHk6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLm9wdGlvbnMucmVhZE9ubHkmJiF0aGlzLmRvYy5jYW50RWRpdCl9LHNjcm9sbFRvOlpyKGZ1bmN0aW9uKHQsZSl7THIodGhpcyx0LGUpfSksZ2V0U2Nyb2xsSW5mbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGlzcGxheS5zY3JvbGxlcjtyZXR1cm57bGVmdDp0LnNjcm9sbExlZnQsdG9wOnQuc2Nyb2xsVG9wLGhlaWdodDp0LnNjcm9sbEhlaWdodC1Fbih0aGlzKS10aGlzLmRpc3BsYXkuYmFySGVpZ2h0LHdpZHRoOnQuc2Nyb2xsV2lkdGgtRW4odGhpcyktdGhpcy5kaXNwbGF5LmJhcldpZHRoLGNsaWVudEhlaWdodDpPbih0aGlzKSxjbGllbnRXaWR0aDpUbih0aGlzKX19LHNjcm9sbEludG9WaWV3OlpyKGZ1bmN0aW9uKHQsZSl7bnVsbD09dD8odD17ZnJvbTp0aGlzLmRvYy5zZWwucHJpbWFyeSgpLmhlYWQsdG86bnVsbH0sbnVsbD09ZSYmKGU9dGhpcy5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbikpOlwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9e2Zyb206dGUodCwwKSx0bzpudWxsfTpudWxsPT10LmZyb20mJih0PXtmcm9tOnQsdG86bnVsbH0pLHQudG98fCh0LnRvPXQuZnJvbSksdC5tYXJnaW49ZXx8MCxudWxsIT10LmZyb20ubGluZT9mdW5jdGlvbih0LGUpe0FyKHQpLHQuY3VyT3Auc2Nyb2xsVG9Qb3M9ZX0odGhpcyx0KTpOcih0aGlzLHQuZnJvbSx0LnRvLHQubWFyZ2luKX0pLHNldFNpemU6WnIoZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR8fC9eXFxkKyQvLnRlc3QoU3RyaW5nKHQpKT90K1wicHhcIjp0fTtudWxsIT10JiYodGhpcy5kaXNwbGF5LndyYXBwZXIuc3R5bGUud2lkdGg9cih0KSksbnVsbCE9ZSYmKHRoaXMuZGlzcGxheS53cmFwcGVyLnN0eWxlLmhlaWdodD1yKGUpKSx0aGlzLm9wdGlvbnMubGluZVdyYXBwaW5nJiZSbih0aGlzKTt2YXIgaT10aGlzLmRpc3BsYXkudmlld0Zyb207dGhpcy5kb2MuaXRlcihpLHRoaXMuZGlzcGxheS52aWV3VG8sZnVuY3Rpb24odCl7aWYodC53aWRnZXRzKWZvcih2YXIgZT0wO2U8dC53aWRnZXRzLmxlbmd0aDtlKyspaWYodC53aWRnZXRzW2VdLm5vSFNjcm9sbCl7dXIobixpLFwid2lkZ2V0XCIpO2JyZWFrfSsraX0pLHRoaXMuY3VyT3AuZm9yY2VVcGRhdGU9ITAsbXQodGhpcyxcInJlZnJlc2hcIix0aGlzKX0pLG9wZXJhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gSnIodGhpcyx0KX0sc3RhcnRPcGVyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gVnIodGhpcyl9LGVuZE9wZXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiBHcih0aGlzKX0scmVmcmVzaDpacihmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0O2NyKHRoaXMpLHRoaXMuY3VyT3AuZm9yY2VVcGRhdGU9ITAsQm4odGhpcyksTHIodGhpcyx0aGlzLmRvYy5zY3JvbGxMZWZ0LHRoaXMuZG9jLnNjcm9sbFRvcCksYWkodGhpcy5kaXNwbGF5KSwobnVsbD09dHx8TWF0aC5hYnModC1lcih0aGlzLmRpc3BsYXkpKT4uNSkmJmFyKHRoaXMpLG10KHRoaXMsXCJyZWZyZXNoXCIsdGhpcyl9KSxzd2FwRG9jOlpyKGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZG9jO3JldHVybiBlLmNtPW51bGwsdGhpcy5zdGF0ZS5zZWxlY3RpbmdUZXh0JiZ0aGlzLnN0YXRlLnNlbGVjdGluZ1RleHQoKSxOaSh0aGlzLHQpLEJuKHRoaXMpLHRoaXMuZGlzcGxheS5pbnB1dC5yZXNldCgpLExyKHRoaXMsdC5zY3JvbGxMZWZ0LHQuc2Nyb2xsVG9wKSx0aGlzLmN1ck9wLmZvcmNlU2Nyb2xsPSEwLGxuKHRoaXMsXCJzd2FwRG9jXCIsdGhpcyxlKSxlfSkscGhyYXNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5waHJhc2VzO3JldHVybiBlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KT9lW3RdOnR9LGdldElucHV0RmllbGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCl9LGdldFdyYXBwZXJFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS53cmFwcGVyfSxnZXRTY3JvbGxlckVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LnNjcm9sbGVyfSxnZXRHdXR0ZXJFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5ndXR0ZXJzfX0sYnQodCksdC5yZWdpc3RlckhlbHBlcj1mdW5jdGlvbihlLHIsaSl7bi5oYXNPd25Qcm9wZXJ0eShlKXx8KG5bZV09dFtlXT17X2dsb2JhbDpbXX0pLG5bZV1bcl09aX0sdC5yZWdpc3Rlckdsb2JhbEhlbHBlcj1mdW5jdGlvbihlLHIsaSxvKXt0LnJlZ2lzdGVySGVscGVyKGUscixvKSxuW2VdLl9nbG9iYWwucHVzaCh7cHJlZDppLHZhbDpvfSl9fShfYSk7dmFyIFVhPVwiaXRlciBpbnNlcnQgcmVtb3ZlIGNvcHkgZ2V0RWRpdG9yIGNvbnN0cnVjdG9yXCIuc3BsaXQoXCIgXCIpO2Zvcih2YXIgVmEgaW4gT28ucHJvdG90eXBlKU9vLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShWYSkmJkIoVWEsVmEpPDAmJihfYS5wcm90b3R5cGVbVmFdPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMuZG9jLGFyZ3VtZW50cyl9fShPby5wcm90b3R5cGVbVmFdKSk7cmV0dXJuIGJ0KE9vKSxfYS5pbnB1dFN0eWxlcz17dGV4dGFyZWE6V2EsY29udGVudGVkaXRhYmxlOkRhfSxfYS5kZWZpbmVNb2RlPWZ1bmN0aW9uKHQpe19hLmRlZmF1bHRzLm1vZGV8fFwibnVsbFwiPT10fHwoX2EuZGVmYXVsdHMubW9kZT10KSxmdW5jdGlvbih0LGUpe2FyZ3VtZW50cy5sZW5ndGg+MiYmKGUuZGVwZW5kZW5jaWVzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSksanRbdF09ZX0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfYS5kZWZpbmVNSU1FPWZ1bmN0aW9uKHQsZSl7RHRbdF09ZX0sX2EuZGVmaW5lTW9kZShcIm51bGxcIixmdW5jdGlvbigpe3JldHVybnt0b2tlbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5za2lwVG9FbmQoKX19fSksX2EuZGVmaW5lTUlNRShcInRleHQvcGxhaW5cIixcIm51bGxcIiksX2EuZGVmaW5lRXh0ZW5zaW9uPWZ1bmN0aW9uKHQsZSl7X2EucHJvdG90eXBlW3RdPWV9LF9hLmRlZmluZURvY0V4dGVuc2lvbj1mdW5jdGlvbih0LGUpe09vLnByb3RvdHlwZVt0XT1lfSxfYS5mcm9tVGV4dEFyZWE9ZnVuY3Rpb24odCxlKXtpZigoZT1lP0QoZSk6e30pLnZhbHVlPXQudmFsdWUsIWUudGFiaW5kZXgmJnQudGFiSW5kZXgmJihlLnRhYmluZGV4PXQudGFiSW5kZXgpLCFlLnBsYWNlaG9sZGVyJiZ0LnBsYWNlaG9sZGVyJiYoZS5wbGFjZWhvbGRlcj10LnBsYWNlaG9sZGVyKSxudWxsPT1lLmF1dG9mb2N1cyl7dmFyIG49TigpO2UuYXV0b2ZvY3VzPW49PXR8fG51bGwhPXQuZ2V0QXR0cmlidXRlKFwiYXV0b2ZvY3VzXCIpJiZuPT1kb2N1bWVudC5ib2R5fWZ1bmN0aW9uIHIoKXt0LnZhbHVlPXMuZ2V0VmFsdWUoKX12YXIgaTtpZih0LmZvcm0mJihkdCh0LmZvcm0sXCJzdWJtaXRcIixyKSwhZS5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lKSl7dmFyIG89dC5mb3JtO2k9by5zdWJtaXQ7dHJ5e3ZhciBhPW8uc3VibWl0PWZ1bmN0aW9uKCl7cigpLG8uc3VibWl0PWksby5zdWJtaXQoKSxvLnN1Ym1pdD1hfX1jYXRjaCh0KXt9fWUuZmluaXNoSW5pdD1mdW5jdGlvbihuKXtuLnNhdmU9cixuLmdldFRleHRBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LG4udG9UZXh0QXJlYT1mdW5jdGlvbigpe24udG9UZXh0QXJlYT1pc05hTixyKCksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4uZ2V0V3JhcHBlckVsZW1lbnQoKSksdC5zdHlsZS5kaXNwbGF5PVwiXCIsdC5mb3JtJiYocHQodC5mb3JtLFwic3VibWl0XCIsciksZS5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmZvcm0uc3VibWl0fHwodC5mb3JtLnN1Ym1pdD1pKSl9fSx0LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIHM9X2EoZnVuY3Rpb24oZSl7cmV0dXJuIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0Lm5leHRTaWJsaW5nKX0sZSk7cmV0dXJuIHN9LGZ1bmN0aW9uKHQpe3Qub2ZmPXB0LHQub249ZHQsdC53aGVlbEV2ZW50UGl4ZWxzPXZpLHQuRG9jPU9vLHQuc3BsaXRMaW5lcz1OdCx0LmNvdW50Q29sdW1uPXosdC5maW5kQ29sdW1uPUssdC5pc1dvcmRDaGFyPXR0LHQuUGFzcz1XLHQuc2lnbmFsPW10LHQuTGluZT1LZSx0LmNoYW5nZUVuZD1raSx0LnNjcm9sbGJhck1vZGVsPUhyLHQuUG9zPXRlLHQuY21wUG9zPWVlLHQubW9kZXM9anQsdC5taW1lTW9kZXM9RHQsdC5yZXNvbHZlTW9kZT16dCx0LmdldE1vZGU9UnQsdC5tb2RlRXh0ZW5zaW9ucz1CdCx0LmV4dGVuZE1vZGU9SHQsdC5jb3B5U3RhdGU9V3QsdC5zdGFydFN0YXRlPVZ0LHQuaW5uZXJNb2RlPVV0LHQuY29tbWFuZHM9Wm8sdC5rZXlNYXA9Qm8sdC5rZXlOYW1lPUtvLHQuaXNNb2RpZmllcktleT1Wbyx0Lmxvb2t1cEtleT1Vbyx0Lm5vcm1hbGl6ZUtleU1hcD1Xbyx0LlN0cmluZ1N0cmVhbT1HdCx0LlNoYXJlZFRleHRNYXJrZXI9X28sdC5UZXh0TWFya2VyPUNvLHQuTGluZVdpZGdldD1ibyx0LmVfcHJldmVudERlZmF1bHQ9eHQsdC5lX3N0b3BQcm9wYWdhdGlvbj13dCx0LmVfc3RvcD1rdCx0LmFkZENsYXNzPVAsdC5jb250YWlucz1BLHQucm1DbGFzcz1FLHQua2V5TmFtZXM9am99KF9hKSxfYS52ZXJzaW9uPVwiNS40OS4wXCIsX2F9KCl9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOlwiMi42LjlcIn07XCJudW1iZXJcIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksaT1uKDEpLG89bigyNiksYT1uKDIxKSxzPW4oMTUpLGw9ZnVuY3Rpb24odCxlLG4pe3ZhciBjLHUsZixkPXQmbC5GLGg9dCZsLkcscD10JmwuUyxtPXQmbC5QLGc9dCZsLkIsdj10JmwuVyx5PWg/aTppW2VdfHwoaVtlXT17fSksYj15LnByb3RvdHlwZSx4PWg/cjpwP3JbZV06KHJbZV18fHt9KS5wcm90b3R5cGU7Zm9yKGMgaW4gaCYmKG49ZSksbikodT0hZCYmeCYmdm9pZCAwIT09eFtjXSkmJnMoeSxjKXx8KGY9dT94W2NdOm5bY10seVtjXT1oJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB4W2NdP25bY106ZyYmdT9vKGYscik6diYmeFtjXT09Zj9mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlLG4scil7aWYodGhpcyBpbnN0YW5jZW9mIHQpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZSk7Y2FzZSAyOnJldHVybiBuZXcgdChlLG4pfXJldHVybiBuZXcgdChlLG4scil9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gZS5wcm90b3R5cGU9dC5wcm90b3R5cGUsZX0oZik6bSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZj9vKEZ1bmN0aW9uLmNhbGwsZik6ZixtJiYoKHkudmlydHVhbHx8KHkudmlydHVhbD17fSkpW2NdPWYsdCZsLlImJmImJiFiW2NdJiZhKGIsYyxmKSkpfTtsLkY9MSxsLkc9MixsLlM9NCxsLlA9OCxsLkI9MTYsbC5XPTMyLGwuVT02NCxsLlI9MTI4LHQuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUpe3ZhciBuPXQuZXhwb3J0cz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTWF0aD09TWF0aD93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcIm51bWJlclwiPT10eXBlb2YgX19nJiYoX19nPW4pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big2OCkoXCJ3a3NcIiksaT1uKDQ4KSxvPW4oMykuU3ltYm9sLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgbzsodC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1hJiZvW3RdfHwoYT9vOmkpKFwiU3ltYm9sLlwiK3QpKX0pLnN0b3JlPXJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExNCk7ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxyKHQsaS5rZXksaSl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUmJmkodC5wcm90b3R5cGUsZSksbiYmaSh0LG4pLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhbiBvYmplY3QhXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbigyMCkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDgxKShcIndrc1wiKSxpPW4oODMpLG89bigyMykuU3ltYm9sLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgbzsodC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByW3RdfHwoclt0XT1hJiZvW3RdfHwoYT9vOmkpKFwiU3ltYm9sLlwiK3QpKX0pLnN0b3JlPXJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9bigxMDYpLG89big2NyksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oOCk/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxuKXtpZihyKHQpLGU9byhlLCEwKSxyKG4pLGkpdHJ5e3JldHVybiBhKHQsZSxuKX1jYXRjaCh0KXt9aWYoXCJnZXRcImluIG58fFwic2V0XCJpbiBuKXRocm93IFR5cGVFcnJvcihcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIVwiKTtyZXR1cm5cInZhbHVlXCJpbiBuJiYodFtlXT1uLnZhbHVlKSx0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6XCJmdW5jdGlvblwiPT10eXBlb2YgdH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMjQpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCFyKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY2FsbCh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTA5KSxpPW4oNTApO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcihpKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjcyKSgpP1N5bWJvbDpuKDI3Myl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwNSksaT1uKDE0Nyk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdC5leHBvcnRzPW89aT9yOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8cih0KX0sbyhlKX10LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKHQpe3JldHVybiEwfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKSxpPW4oMzgpO3QuZXhwb3J0cz1uKDgpP2Z1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5mKHQsZSxpKDEsbikpfTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHRbZV09bix0fX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6XCJmdW5jdGlvblwiPT10eXBlb2YgdH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1wibnVtYmVyXCI9PXR5cGVvZiBfX2cmJihfX2c9bil9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big5OCksaT1uKDE0MSksbz1uKDI2OCksYT1uKDk5KTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbyxzLGwsYztyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyfHxcInN0cmluZ1wiIT10eXBlb2YgdD8obD1lLGU9dCx0PW51bGwpOmw9YXJndW1lbnRzWzJdLG51bGw9PXQ/KG49cz0hMCxvPSExKToobj1hLmNhbGwodCxcImNcIiksbz1hLmNhbGwodCxcImVcIikscz1hLmNhbGwodCxcIndcIikpLGM9e3ZhbHVlOmUsY29uZmlndXJhYmxlOm4sZW51bWVyYWJsZTpvLHdyaXRhYmxlOnN9LGw/cihpKGwpLGMpOmN9KS5ncz1mdW5jdGlvbih0LGUsbil7dmFyIHMsbCxjLHU7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHQ/KGM9bixuPWUsZT10LHQ9bnVsbCk6Yz1hcmd1bWVudHNbM10sbnVsbD09ZT9lPXZvaWQgMDpvKGUpP251bGw9PW4/bj12b2lkIDA6byhuKXx8KGM9bixuPXZvaWQgMCk6KGM9ZSxlPW49dm9pZCAwKSxudWxsPT10PyhzPSEwLGw9ITEpOihzPWEuY2FsbCh0LFwiY1wiKSxsPWEuY2FsbCh0LFwiZVwiKSksdT17Z2V0OmUsc2V0Om4sY29uZmlndXJhYmxlOnMsZW51bWVyYWJsZTpsfSxjP3IoaShjKSx1KTp1fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYocih0KSx2b2lkIDA9PT1lKXJldHVybiB0O3N3aXRjaChuKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0LmNhbGwoZSxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiB0LmNhbGwoZSxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gdC5jYWxsKGUsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTA4KSxpPW4oNzQpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChyKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUyKSxpPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2kocih0KSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrdCk7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMyksaT1uKDgyKSxvPW4oNTUpLGE9big0Mykscz1uKDg3KSxsPWZ1bmN0aW9uKHQsZSxuKXt2YXIgYyx1LGYsZCxoPXQmbC5GLHA9dCZsLkcsbT10JmwuUyxnPXQmbC5QLHY9dCZsLkIseT1wP3I6bT9yW2VdfHwocltlXT17fSk6KHJbZV18fHt9KS5wcm90b3R5cGUsYj1wP2k6aVtlXXx8KGlbZV09e30pLHg9Yi5wcm90b3R5cGV8fChiLnByb3RvdHlwZT17fSk7Zm9yKGMgaW4gcCYmKG49ZSksbilmPSgodT0haCYmeSYmdm9pZCAwIT09eVtjXSk/eTpuKVtjXSxkPXYmJnU/cyhmLHIpOmcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGY/cyhGdW5jdGlvbi5jYWxsLGYpOmYseSYmYSh5LGMsZix0JmwuVSksYltjXSE9ZiYmbyhiLGMsZCksZyYmeFtjXSE9ZiYmKHhbY109Zil9O3IuY29yZT1pLGwuRj0xLGwuRz0yLGwuUz00LGwuUD04LGwuQj0xNixsLlc9MzIsbC5VPTY0LGwuUj0xMjgsdC5leHBvcnRzPWx9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPXt9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMzcpKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0IT09ciYmbnVsbCE9PXR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKHQsZSl7dmFyIG49dFsxXXx8XCJcIixyPXRbM107aWYoIXIpcmV0dXJuIG47aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIGk9KGE9cixcIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShhKSkpKStcIiAqL1wiKSxvPXIuc291cmNlcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiK3Iuc291cmNlUm9vdCt0K1wiICovXCJ9KTtyZXR1cm5bbl0uY29uY2F0KG8pLmNvbmNhdChbaV0pLmpvaW4oXCJcXG5cIil9dmFyIGE7cmV0dXJuW25dLmpvaW4oXCJcXG5cIil9KGUsdCk7cmV0dXJuIGVbMl0/XCJAbWVkaWEgXCIrZVsyXStcIntcIituK1wifVwiOm59KS5qb2luKFwiXCIpfSxlLmk9ZnVuY3Rpb24odCxuKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9W1tudWxsLHQsXCJcIl1dKTtmb3IodmFyIHI9e30saT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzW2ldWzBdO251bGwhPW8mJihyW29dPSEwKX1mb3IoaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgYT10W2ldO251bGwhPWFbMF0mJnJbYVswXV18fChuJiYhYVsyXT9hWzJdPW46biYmKGFbMl09XCIoXCIrYVsyXStcIikgYW5kIChcIituK1wiKVwiKSxlLnB1c2goYSkpfX0sZX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxNzEpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmXCJvYmplY3RcIj09dHlwZW9mIHR9KHQpJiYhZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpO3JldHVyblwiW29iamVjdCBSZWdFeHBdXCI9PT1lfHxcIltvYmplY3QgRGF0ZV1cIj09PWV8fGZ1bmN0aW9uKHQpe3JldHVybiB0LiQkdHlwZW9mPT09aX0odCl9KHQpfTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3I/U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIik6NjAxMDM7ZnVuY3Rpb24gbyh0LGUpe3ZhciBuO3JldHVybiBlJiYhMD09PWUuY2xvbmUmJnIodCk/cygobj10LEFycmF5LmlzQXJyYXkobik/W106e30pLHQsZSk6dH1mdW5jdGlvbiBhKHQsZSxuKXt2YXIgaT10LnNsaWNlKCk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLGEpe3ZvaWQgMD09PWlbYV0/aVthXT1vKGUsbik6cihlKT9pW2FdPXModFthXSxlLG4pOi0xPT09dC5pbmRleE9mKGUpJiZpLnB1c2gobyhlLG4pKX0pLGl9ZnVuY3Rpb24gcyh0LGUsbil7dmFyIGk9QXJyYXkuaXNBcnJheShlKTtyZXR1cm4gaT09PUFycmF5LmlzQXJyYXkodCk/aT8oKG58fHthcnJheU1lcmdlOmF9KS5hcnJheU1lcmdlfHxhKSh0LGUsbik6ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXt9O3JldHVybiByKHQpJiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lbZV09byh0W2VdLG4pfSksT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihhKXtyKGVbYV0pJiZ0W2FdP2lbYV09cyh0W2FdLGVbYV0sbik6aVthXT1vKGVbYV0sbil9KSxpfSh0LGUsbik6byhlLG4pfXMuYWxsPWZ1bmN0aW9uKHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJndW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5IHdpdGggYXQgbGVhc3QgdHdvIGVsZW1lbnRzXCIpO3JldHVybiB0LnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiBzKHQsbixlKX0pfTt2YXIgbD1zO3QuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTk1KX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMH0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSl7ZS5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNyksaT1uKDExNiksbz1uKDExNyksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7ZS5mPW4oMTIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsbil7aWYocih0KSxlPW8oZSwhMCkscihuKSxpKXRyeXtyZXR1cm4gYSh0LGUsbil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiBufHxcInNldFwiaW4gbil0aHJvdyBUeXBlRXJyb3IoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCFcIik7cmV0dXJuXCJ2YWx1ZVwiaW4gbiYmKHRbZV09bi52YWx1ZSksdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIzKSxpPW4oNTUpLG89big4NiksYT1uKDgzKShcInNyY1wiKSxzPW4oMTgyKSxsPShcIlwiK3MpLnNwbGl0KFwidG9TdHJpbmdcIik7big4MikuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbih0KXtyZXR1cm4gcy5jYWxsKHQpfSwodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHMpe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIG47YyYmKG8obixcIm5hbWVcIil8fGkobixcIm5hbWVcIixlKSksdFtlXSE9PW4mJihjJiYobyhuLGEpfHxpKG4sYSx0W2VdP1wiXCIrdFtlXTpsLmpvaW4oU3RyaW5nKGUpKSkpLHQ9PT1yP3RbZV09bjpzP3RbZV0/dFtlXT1uOmkodCxlLG4pOihkZWxldGUgdFtlXSxpKHQsZSxuKSkpfSkoRnVuY3Rpb24ucHJvdG90eXBlLFwidG9TdHJpbmdcIixmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMmJnRoaXNbYV18fHMuY2FsbCh0aGlzKX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxOTYpKCEwKTtuKDEyNykoU3RyaW5nLFwiU3RyaW5nXCIsZnVuY3Rpb24odCl7dGhpcy5fdD1TdHJpbmcodCksdGhpcy5faT0wfSxmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5fdCxuPXRoaXMuX2k7cmV0dXJuIG4+PWUubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KHQ9cihlLG4pLHRoaXMuX2krPXQubGVuZ3RoLHt2YWx1ZTp0LGRvbmU6ITF9KX0pfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oKXt0aGlzLnBhcmVudD1udWxsLHRoaXMubmVzdGVkPVtdLHRoaXMubm9kZXM9W10sdGhpcy5maWx0ZXJzPW51bGwsdGhpcy5kaXJlY3RpdmVzPW51bGwsdGhpcy5jb250ZXh0PW51bGwsdGhpcy51bmJpbmQ9bnVsbCx0aGlzLm9uUmVuZGVyPW51bGwsdGhpcy5vblVwZGF0ZT1udWxsLHRoaXMub25SZW1vdmU9bnVsbCx0aGlzLm5vQ2FjaGU9ITF9ZnVuY3Rpb24gcigpe3RoaXMuaXRlbXM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmxlbmd0aD0wLHRoaXMubmV4dD0wfWZ1bmN0aW9uIGkodCxlLG4scil7aWYocil7dmFyIGk9e19faW5kZXhfXzpufTtyZXR1cm4gaVtyLnZhbHVlXT10W25dLHIua2V5JiYoaVtyLmtleV09biksaX1yZXR1cm4gdFtuXX1mdW5jdGlvbiBvKHQsZSxuLHIpe2lmKHIpe3ZhciBpPXtfX2luZGV4X186bn07cmV0dXJuIGlbci52YWx1ZV09dFtlW25dXSxyLmtleSYmKGlbci5rZXldPWVbbl0pLGl9cmV0dXJuIHRbZVtuXV19bi5yZW5kZXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3JldHVybiByPW4mJm4ubm9DYWNoZT9uZXcgdDp0LnBvb2wucG9wKCl8fG5ldyB0LDg9PWUubm9kZVR5cGU/ci5pbnNlcnRCZWZvcmUoZSk6ci5hcHBlbmRUbyhlKSxuJiYobi5wYXJlbnQmJihyLnBhcmVudD1uLnBhcmVudCksbi5jb250ZXh0JiYoci5jb250ZXh0PW4uY29udGV4dCksbi5maWx0ZXJzJiYoci5maWx0ZXJzPW4uZmlsdGVycyksbi5kaXJlY3RpdmVzJiYoci5kaXJlY3RpdmVzPW4uZGlyZWN0aXZlcyksbi5ub0NhY2hlJiYoci5ub0NhY2hlPW4ubm9DYWNoZSkpLHIub25SZW5kZXImJnIub25SZW5kZXIoKSxyfSxuLnByZXJlbmRlcj1mdW5jdGlvbih0LGUpe2Zvcig7ZS0tOyl0LnBvb2wucHVzaChuZXcgdCl9LG4ubG9vcD1mdW5jdGlvbih0LGUscixhLHMsbCl7dmFyIGMsdSxmLGQsaCxwLG09ci5sZW5ndGg7Zm9yKGMgaW4gQXJyYXkuaXNBcnJheShzKT8oaD1pLHA9cy5sZW5ndGgpOihoPW8scD0oZD1PYmplY3Qua2V5cyhzKSkubGVuZ3RoKSxmPW0tcCxyLml0ZW1zKXtpZighKGYtLSA+MCkpYnJlYWs7ci5pdGVtc1tjXS5yZW1vdmUoKX1mb3IoYyBpbiB1PTAsci5pdGVtcylyLml0ZW1zW2NdLl9fc3RhdGVfXz1oKHMsZCx1LGwpLHUrKztmb3IodT1tLGY9cDt1PGY7dSsrKXt2YXIgZz1uLnJlbmRlcihhLGUse3BhcmVudDp0LGNvbnRleHQ6dC5jb250ZXh0LGZpbHRlcnM6dC5maWx0ZXJzLGRpcmVjdGl2ZXM6dC5kaXJlY3RpdmVzLG5vQ2FjaGU6dC5ub0NhY2hlfSk7dC5uZXN0ZWQucHVzaChnKSxjPXIucHVzaChnKSxnLnVuYmluZD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyLnJlbW92ZSh0KX19KGMpLGcuX19zdGF0ZV9fPWgocyxkLHUsbCl9fSxuLmNvbmQ9ZnVuY3Rpb24odCxlLHIsaSxvKXtpZihyLnJlZilvfHxyLnJlZi5yZW1vdmUoKTtlbHNlIGlmKG8pe3ZhciBhPW4ucmVuZGVyKGksZSx7cGFyZW50OnQsY29udGV4dDp0LmNvbnRleHQsZmlsdGVyczp0LmZpbHRlcnMsZGlyZWN0aXZlczp0LmRpcmVjdGl2ZXMsbm9DYWNoZTp0Lm5vQ2FjaGV9KTt0Lm5lc3RlZC5wdXNoKGEpLHIucmVmPWEsYS51bmJpbmQ9ZnVuY3Rpb24oKXtyLnJlZj1udWxsfX1yZXR1cm4gb30sbi5pbnNlcnQ9ZnVuY3Rpb24odCxlLHIsaSxvKXtpZihyLnJlZilyLnJlZi51cGRhdGUobyk7ZWxzZXt2YXIgYT1uLnJlbmRlcihpLGUse3BhcmVudDp0LGNvbnRleHQ6dC5jb250ZXh0LGZpbHRlcnM6dC5maWx0ZXJzLGRpcmVjdGl2ZXM6dC5kaXJlY3RpdmVzLG5vQ2FjaGU6dC5ub0NhY2hlfSk7dC5uZXN0ZWQucHVzaChhKSxyLnJlZj1hLGEudW5iaW5kPWZ1bmN0aW9uKCl7ci5yZWY9bnVsbH0sYS51cGRhdGUobyl9fSxuLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5ub2Rlcy5sZW5ndGg7dC0tOyl0aGlzLm5vZGVzW3RdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2Rlc1t0XSk7Zm9yKHRoaXMudW5iaW5kJiZ0aGlzLnVuYmluZCgpLHQ9dGhpcy5uZXN0ZWQubGVuZ3RoO3QtLTspdGhpcy5uZXN0ZWRbdF0ucmVtb3ZlKCk7dGhpcy5wYXJlbnQmJih0PXRoaXMucGFyZW50Lm5lc3RlZC5pbmRleE9mKHRoaXMpLHRoaXMucGFyZW50Lm5lc3RlZC5zcGxpY2UodCwxKSx0aGlzLnBhcmVudD1udWxsKSx0aGlzLm9uUmVtb3ZlJiZ0aGlzLm9uUmVtb3ZlKCksdGhpcy5ub0NhY2hlfHx0aGlzLmNvbnN0cnVjdG9yLnBvb2wucHVzaCh0aGlzKX0sbi5wcm90b3R5cGUuYXBwZW5kVG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLm5vZGVzLmxlbmd0aDtlPG47ZSsrKXQuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlc1tlXSl9LG4ucHJvdG90eXBlLmluc2VydEJlZm9yZT1mdW5jdGlvbih0KXtpZighdC5wYXJlbnROb2RlKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgaW5zZXJ0IGNoaWxkIHZpZXcgaW50byBwYXJlbnQgbm9kZS4gWW91IG5lZWQgYXBwZW5kIHlvdXIgdmlldyBmaXJzdCBhbmQgdGhlbiB1cGRhdGUuXCIpO2Zvcih2YXIgZT0wLG49dGhpcy5ub2Rlcy5sZW5ndGg7ZTxuO2UrKyl0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZXNbZV0sdCl9LG4ucHJvdG90eXBlLmNyZWF0ZURvY3VtZW50PWZ1bmN0aW9uKCl7aWYoMT09dGhpcy5ub2Rlcy5sZW5ndGgpcmV0dXJuIHRoaXMubm9kZXNbMF07Zm9yKHZhciB0PWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG49MCxyPXRoaXMubm9kZXMubGVuZ3RoO248cjtuKyspdC5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzW25dKTtyZXR1cm4gdH0sbi5wcm90b3R5cGUucXVlcnlTZWxlY3Rvcj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMubm9kZXMubGVuZ3RoO2UrKyl7aWYodGhpcy5ub2Rlc1tlXS5tYXRjaGVzJiZ0aGlzLm5vZGVzW2VdLm1hdGNoZXModCkpcmV0dXJuIHRoaXMubm9kZXNbZV07aWYoOD09PXRoaXMubm9kZXNbZV0ubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCB1c2UgcXVlcnlTZWxlY3RvciB3aXRoIG5vbi1lbGVtZW50IG5vZGVzIG9uIGZpcnN0IGxldmVsLlwiKTtpZih0aGlzLm5vZGVzW2VdLnF1ZXJ5U2VsZWN0b3Ipe3ZhciBuPXRoaXMubm9kZXNbZV0ucXVlcnlTZWxlY3Rvcih0KTtpZihuKXJldHVybiBufX1yZXR1cm4gbnVsbH0sci5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pdGVtc1t0aGlzLm5leHRdPXQsdGhpcy5sZW5ndGgrPTEsdGhpcy5uZXh0Kz0xLHRoaXMubmV4dC0xfSxyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7aWYoISh0IGluIHRoaXMuaXRlbXMpKXRocm93IG5ldyBFcnJvcignWW91IGFyZSB0cnlpbmcgdG8gZGVsZXRlIG5vdCBleGlzdGluZyBlbGVtZW50IFwiJyt0KydcIiBmb3JtIG1hcC4nKTtkZWxldGUgdGhpcy5pdGVtc1t0XSx0aGlzLmxlbmd0aC09MX0sci5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5pdGVtcyl0KHRoaXMuaXRlbXNbZV0pfSxuLk1hcD1yLHQuZXhwb3J0cz1ufSh3aW5kb3cuZG9jdW1lbnQpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlLG4pe3ZhciByLGksbyxhLHM7ZnVuY3Rpb24gbCgpe3ZhciBjPURhdGUubm93KCktYTtjPGUmJmM+PTA/cj1zZXRUaW1lb3V0KGwsZS1jKToocj1udWxsLG58fChzPXQuYXBwbHkobyxpKSxvPWk9bnVsbCkpfW51bGw9PWUmJihlPTEwMCk7dmFyIGM9ZnVuY3Rpb24oKXtvPXRoaXMsaT1hcmd1bWVudHMsYT1EYXRlLm5vdygpO3ZhciBjPW4mJiFyO3JldHVybiByfHwocj1zZXRUaW1lb3V0KGwsZSkpLGMmJihzPXQuYXBwbHkobyxpKSxvPWk9bnVsbCksc307cmV0dXJuIGMuY2xlYXI9ZnVuY3Rpb24oKXtyJiYoY2xlYXJUaW1lb3V0KHIpLHI9bnVsbCl9LGMuZmx1c2g9ZnVuY3Rpb24oKXtyJiYocz10LmFwcGx5KG8saSksbz1pPW51bGwsY2xlYXJUaW1lb3V0KHIpLHI9bnVsbCl9LGN9bi5kZWJvdW5jZT1uLHQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT10P1wiXCI6dCxcIilfXCIsKCsrbityKS50b1N0cmluZygzNikpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTApLmYsaT1uKDE1KSxvPW4oNCkoXCJ0b1N0cmluZ1RhZ1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3QmJiFpKHQ9bj90OnQucHJvdG90eXBlLG8pJiZyKHQsbyx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiK3QpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDEpLGk9bigzOCksbz1uKDE2KSxhPW4oNjcpLHM9bigxNSksbD1uKDEwNiksYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2UuZj1uKDgpP2M6ZnVuY3Rpb24odCxlKXtpZih0PW8odCksZT1hKGUsITApLGwpdHJ5e3JldHVybiBjKHQsZSl9Y2F0Y2godCl7fWlmKHModCxlKSlyZXR1cm4gaSghci5mLmNhbGwodCxlKSx0W2VdKX19LGZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQ9K3QpPzA6KHQ+MD9yOm4pKHQpfX0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS50b1N0cmluZzt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG4uY2FsbCh0KS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE3KTt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMpLGU9XCJcIjtyZXR1cm4gdC5nbG9iYWwmJihlKz1cImdcIiksdC5pZ25vcmVDYXNlJiYoZSs9XCJpXCIpLHQubXVsdGlsaW5lJiYoZSs9XCJtXCIpLHQudW5pY29kZSYmKGUrPVwidVwiKSx0LnN0aWNreSYmKGUrPVwieVwiKSxlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNDIpLGk9bigxMTgpO3QuZXhwb3J0cz1uKDEyKT9mdW5jdGlvbih0LGUsbil7cmV0dXJuIHIuZih0LGUsaSgxLG4pKX06ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDkwKSxpPW4oMTcpLG89bigxOTQpLGE9big3OSkscz1uKDI5KSxsPW4oODApLGM9big4NSksdT1uKDI0KSxmPU1hdGgubWluLGQ9W10ucHVzaCxoPSF1KGZ1bmN0aW9uKCl7UmVnRXhwKDQyOTQ5NjcyOTUsXCJ5XCIpfSk7big4NCkoXCJzcGxpdFwiLDIsZnVuY3Rpb24odCxlLG4sdSl7dmFyIHA7cmV0dXJuIHA9XCJjXCI9PVwiYWJiY1wiLnNwbGl0KC8oYikqLylbMV18fDQhPVwidGVzdFwiLnNwbGl0KC8oPzopLywtMSkubGVuZ3RofHwyIT1cImFiXCIuc3BsaXQoLyg/OmFiKSovKS5sZW5ndGh8fDQhPVwiLlwiLnNwbGl0KC8oLj8pKC4/KS8pLmxlbmd0aHx8XCIuXCIuc3BsaXQoLygpKCkvKS5sZW5ndGg+MXx8XCJcIi5zcGxpdCgvLj8vKS5sZW5ndGg/ZnVuY3Rpb24odCxlKXt2YXIgaT1TdHJpbmcodGhpcyk7aWYodm9pZCAwPT09dCYmMD09PWUpcmV0dXJuW107aWYoIXIodCkpcmV0dXJuIG4uY2FsbChpLHQsZSk7Zm9yKHZhciBvLGEscyxsPVtdLHU9KHQuaWdub3JlQ2FzZT9cImlcIjpcIlwiKSsodC5tdWx0aWxpbmU/XCJtXCI6XCJcIikrKHQudW5pY29kZT9cInVcIjpcIlwiKSsodC5zdGlja3k/XCJ5XCI6XCJcIiksZj0wLGg9dm9pZCAwPT09ZT80Mjk0OTY3Mjk1OmU+Pj4wLHA9bmV3IFJlZ0V4cCh0LnNvdXJjZSx1K1wiZ1wiKTsobz1jLmNhbGwocCxpKSkmJiEoKGE9cC5sYXN0SW5kZXgpPmYmJihsLnB1c2goaS5zbGljZShmLG8uaW5kZXgpKSxvLmxlbmd0aD4xJiZvLmluZGV4PGkubGVuZ3RoJiZkLmFwcGx5KGwsby5zbGljZSgxKSkscz1vWzBdLmxlbmd0aCxmPWEsbC5sZW5ndGg+PWgpKTspcC5sYXN0SW5kZXg9PT1vLmluZGV4JiZwLmxhc3RJbmRleCsrO3JldHVybiBmPT09aS5sZW5ndGg/IXMmJnAudGVzdChcIlwiKXx8bC5wdXNoKFwiXCIpOmwucHVzaChpLnNsaWNlKGYpKSxsLmxlbmd0aD5oP2wuc2xpY2UoMCxoKTpsfTpcIjBcIi5zcGxpdCh2b2lkIDAsMCkubGVuZ3RoP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJjA9PT1lP1tdOm4uY2FsbCh0aGlzLHQsZSl9Om4sW2Z1bmN0aW9uKG4scil7dmFyIGk9dCh0aGlzKSxvPW51bGw9PW4/dm9pZCAwOm5bZV07cmV0dXJuIHZvaWQgMCE9PW8/by5jYWxsKG4saSxyKTpwLmNhbGwoU3RyaW5nKGkpLG4scil9LGZ1bmN0aW9uKHQsZSl7dmFyIHI9dShwLHQsdGhpcyxlLHAhPT1uKTtpZihyLmRvbmUpcmV0dXJuIHIudmFsdWU7dmFyIGM9aSh0KSxkPVN0cmluZyh0aGlzKSxtPW8oYyxSZWdFeHApLGc9Yy51bmljb2RlLHY9KGMuaWdub3JlQ2FzZT9cImlcIjpcIlwiKSsoYy5tdWx0aWxpbmU/XCJtXCI6XCJcIikrKGMudW5pY29kZT9cInVcIjpcIlwiKSsoaD9cInlcIjpcImdcIikseT1uZXcgbShoP2M6XCJeKD86XCIrYy5zb3VyY2UrXCIpXCIsdiksYj12b2lkIDA9PT1lPzQyOTQ5NjcyOTU6ZT4+PjA7aWYoMD09PWIpcmV0dXJuW107aWYoMD09PWQubGVuZ3RoKXJldHVybiBudWxsPT09bCh5LGQpP1tkXTpbXTtmb3IodmFyIHg9MCx3PTAsQz1bXTt3PGQubGVuZ3RoOyl7eS5sYXN0SW5kZXg9aD93OjA7dmFyIGssXz1sKHksaD9kOmQuc2xpY2UodykpO2lmKG51bGw9PT1ffHwoaz1mKHMoeS5sYXN0SW5kZXgrKGg/MDp3KSksZC5sZW5ndGgpKT09PXgpdz1hKGQsdyxnKTtlbHNle2lmKEMucHVzaChkLnNsaWNlKHgsdykpLEMubGVuZ3RoPT09YilyZXR1cm4gQztmb3IodmFyIFM9MTtTPD1fLmxlbmd0aC0xO1MrKylpZihDLnB1c2goX1tTXSksQy5sZW5ndGg9PT1iKXJldHVybiBDO3c9eD1rfX1yZXR1cm4gQy5wdXNoKGQuc2xpY2UoeCkpLEN9XX0pfSxmdW5jdGlvbih0LGUsbil7bigxOTgpO2Zvcih2YXIgcj1uKDMpLGk9bigyMSksbz1uKDMyKSxhPW4oNCkoXCJ0b1N0cmluZ1RhZ1wiKSxzPVwiQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3RcIi5zcGxpdChcIixcIiksbD0wO2w8cy5sZW5ndGg7bCsrKXt2YXIgYz1zW2xdLHU9cltjXSxmPXUmJnUucHJvdG90eXBlO2YmJiFmW2FdJiZpKGYsYSxjKSxvW2NdPW8uQXJyYXl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMTM5KSgpP09iamVjdC5zZXRQcm90b3R5cGVPZjpuKDE0MCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGk9ci5jYWxsKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByLmNhbGwodCk9PT1pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsaT1yLmNhbGwoXCJcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fHx0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKHQgaW5zdGFuY2VvZiBTdHJpbmd8fHIuY2FsbCh0KT09PWkpfHwhMX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyMzApfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMDEpLGk9bigzMDQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiFlfHxcIm9iamVjdFwiIT09cihlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT9pKHQpOmV9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTMpLGk9bigzMTEpLG89KG4oMTkpLG4oMzE0KSk7ZnVuY3Rpb24gYShlLG4scyl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJmk/dC5leHBvcnRzPWE9aTp0LmV4cG9ydHM9YT1mdW5jdGlvbih0LGUsbil7dmFyIGk9byh0LGUpO2lmKGkpe3ZhciBhPXIoaSxlKTtyZXR1cm4gYS5nZXQ/YS5nZXQuY2FsbChuKTphLnZhbHVlfX0sYShlLG4sc3x8ZSl9dC5leHBvcnRzPWF9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxNSksaT1uKDMxOCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPXIoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZpKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjMzKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpLGk9bigzKS5kb2N1bWVudCxvPXIoaSkmJnIoaS5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIG8/aS5jcmVhdGVFbGVtZW50KHQpOnt9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTEpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCFyKHQpKXJldHVybiB0O3ZhciBuLGk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC52YWx1ZU9mKSYmIXIoaT1uLmNhbGwodCkpKXJldHVybiBpO2lmKCFlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMSksaT1uKDMpLG89aVtcIl9fY29yZS1qc19zaGFyZWRfX1wiXXx8KGlbXCJfX2NvcmUtanNfc2hhcmVkX19cIl09e30pOyh0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gb1t0XXx8KG9bdF09dm9pZCAwIT09ZT9lOnt9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpyLnZlcnNpb24sbW9kZTpuKDM5KT9cInB1cmVcIjpcImdsb2JhbFwiLGNvcHlyaWdodDpcIsKpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSlcIn0pfSxmdW5jdGlvbih0LGUsbil7ZS5mPW4oNCl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLGk9bigxKSxvPW4oMzkpLGE9big2OSkscz1uKDEwKS5mO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1pLlN5bWJvbHx8KGkuU3ltYm9sPW8/e306ci5TeW1ib2x8fHt9KTtcIl9cIj09dC5jaGFyQXQoMCl8fHQgaW4gZXx8cyhlLHQse3ZhbHVlOmEuZih0KX0pfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzIpLGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/aShyKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSxmdW5jdGlvbih0LGUpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0PSt0KT8wOih0PjA/cjpuKSh0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDY4KShcImtleXNcIiksaT1uKDQ4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHJbdF18fChyW3RdPWkodCkpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2ZcIi5zcGxpdChcIixcIil9LGZ1bmN0aW9uKHQsZSl7ZS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpLGk9bigxNjgpLG89big3NCksYT1uKDczKShcIklFX1BST1RPXCIpLHM9ZnVuY3Rpb24oKXt9LGw9ZnVuY3Rpb24oKXt2YXIgdCxlPW4oNjYpKFwiaWZyYW1lXCIpLHI9by5sZW5ndGg7Zm9yKGUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixuKDExMSkuYXBwZW5kQ2hpbGQoZSksZS5zcmM9XCJqYXZhc2NyaXB0OlwiLCh0PWUuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLHQud3JpdGUoXCI8c2NyaXB0PmRvY3VtZW50LkY9T2JqZWN0PFxcL3NjcmlwdD5cIiksdC5jbG9zZSgpLGw9dC5GO3ItLTspZGVsZXRlIGwucHJvdG90eXBlW29bcl1dO3JldHVybiBsKCl9O3QuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBudWxsIT09dD8ocy5wcm90b3R5cGU9cih0KSxuPW5ldyBzLHMucHJvdG90eXBlPW51bGwsblthXT10KTpuPWwoKSx2b2lkIDA9PT1lP246aShuLGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMiksaT1uKDEpLG89bigyMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49KGkuT2JqZWN0fHx7fSlbdF18fE9iamVjdFt0XSxhPXt9O2FbdF09ZShuKSxyKHIuUytyLkYqbyhmdW5jdGlvbigpe24oMSl9KSxcIk9iamVjdFwiLGEpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTcpLGk9bigyOSksbz1uKDc5KSxhPW4oODApO24oODQpKFwibWF0Y2hcIiwxLGZ1bmN0aW9uKHQsZSxuLHMpe3JldHVybltmdW5jdGlvbihuKXt2YXIgcj10KHRoaXMpLGk9bnVsbD09bj92b2lkIDA6bltlXTtyZXR1cm4gdm9pZCAwIT09aT9pLmNhbGwobixyKTpuZXcgUmVnRXhwKG4pW2VdKFN0cmluZyhyKSl9LGZ1bmN0aW9uKHQpe3ZhciBlPXMobix0LHRoaXMpO2lmKGUuZG9uZSlyZXR1cm4gZS52YWx1ZTt2YXIgbD1yKHQpLGM9U3RyaW5nKHRoaXMpO2lmKCFsLmdsb2JhbClyZXR1cm4gYShsLGMpO3ZhciB1PWwudW5pY29kZTtsLmxhc3RJbmRleD0wO2Zvcih2YXIgZixkPVtdLGg9MDtudWxsIT09KGY9YShsLGMpKTspe3ZhciBwPVN0cmluZyhmWzBdKTtkW2hdPXAsXCJcIj09PXAmJihsLmxhc3RJbmRleD1vKGMsaShsLmxhc3RJbmRleCksdSkpLGgrK31yZXR1cm4gMD09PWg/bnVsbDpkfV19KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTc4KSghMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZSsobj9yKHQsZSkubGVuZ3RoOjEpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTE1KSxpPVJlZ0V4cC5wcm90b3R5cGUuZXhlYzt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmV4ZWM7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbil7dmFyIG89bi5jYWxsKHQsZSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlJlZ0V4cCBleGVjIG1ldGhvZCByZXR1cm5lZCBzb21ldGhpbmcgb3RoZXIgdGhhbiBhbiBPYmplY3Qgb3IgbnVsbFwiKTtyZXR1cm4gb31pZihcIlJlZ0V4cFwiIT09cih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUmVnRXhwI2V4ZWMgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlclwiKTtyZXR1cm4gaS5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4MiksaT1uKDIzKSxvPWlbXCJfX2NvcmUtanNfc2hhcmVkX19cIl18fChpW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdPXt9KTsodC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG9bdF18fChvW3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246ci52ZXJzaW9uLG1vZGU6bigxNzkpP1wicHVyZVwiOlwiZ2xvYmFsXCIsY29weXJpZ2h0OlwiwqkgMjAxOSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KVwifSl9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOlwiMi42LjlcIn07XCJudW1iZXJcIj09dHlwZW9mIF9fZSYmKF9fZT1uKX0sZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9TWF0aC5yYW5kb20oKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIuY29uY2F0KHZvaWQgMD09PXQ/XCJcIjp0LFwiKV9cIiwoKytuK3IpLnRvU3RyaW5nKDM2KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bigxODApO3ZhciByPW4oNDMpLGk9big1NSksbz1uKDI0KSxhPW4oMzApLHM9big5KSxsPW4oODUpLGM9cyhcInNwZWNpZXNcIiksdT0hbyhmdW5jdGlvbigpe3ZhciB0PS8uLztyZXR1cm4gdC5leGVjPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHQuZ3JvdXBzPXthOlwiN1wifSx0fSxcIjdcIiE9PVwiXCIucmVwbGFjZSh0LFwiJDxhPlwiKX0pLGY9ZnVuY3Rpb24oKXt2YXIgdD0vKD86KS8sZT10LmV4ZWM7dC5leGVjPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbj1cImFiXCIuc3BsaXQodCk7cmV0dXJuIDI9PT1uLmxlbmd0aCYmXCJhXCI9PT1uWzBdJiZcImJcIj09PW5bMV19KCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgZD1zKHQpLGg9IW8oZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZVtkXT1mdW5jdGlvbigpe3JldHVybiA3fSw3IT1cIlwiW3RdKGUpfSkscD1oPyFvKGZ1bmN0aW9uKCl7dmFyIGU9ITEsbj0vYS87cmV0dXJuIG4uZXhlYz1mdW5jdGlvbigpe3JldHVybiBlPSEwLG51bGx9LFwic3BsaXRcIj09PXQmJihuLmNvbnN0cnVjdG9yPXt9LG4uY29uc3RydWN0b3JbY109ZnVuY3Rpb24oKXtyZXR1cm4gbn0pLG5bZF0oXCJcIiksIWV9KTp2b2lkIDA7aWYoIWh8fCFwfHxcInJlcGxhY2VcIj09PXQmJiF1fHxcInNwbGl0XCI9PT10JiYhZil7dmFyIG09Ly4vW2RdLGc9bihhLGQsXCJcIlt0XSxmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiBlLmV4ZWM9PT1sP2gmJiFpP3tkb25lOiEwLHZhbHVlOm0uY2FsbChlLG4scil9Ontkb25lOiEwLHZhbHVlOnQuY2FsbChuLGUscil9Ontkb25lOiExfX0pLHY9Z1swXSx5PWdbMV07cihTdHJpbmcucHJvdG90eXBlLHQsdiksaShSZWdFeHAucHJvdG90eXBlLGQsMj09ZT9mdW5jdGlvbih0LGUpe3JldHVybiB5LmNhbGwodCx0aGlzLGUpfTpmdW5jdGlvbih0KXtyZXR1cm4geS5jYWxsKHQsdGhpcyl9KX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvPW4oNTQpLGE9UmVnRXhwLnByb3RvdHlwZS5leGVjLHM9U3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlLGw9YSxjPShyPS9hLyxpPS9iKi9nLGEuY2FsbChyLFwiYVwiKSxhLmNhbGwoaSxcImFcIiksMCE9PXIubGFzdEluZGV4fHwwIT09aS5sYXN0SW5kZXgpLHU9dm9pZCAwIT09LygpPz8vLmV4ZWMoXCJcIilbMV07KGN8fHUpJiYobD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxsPXRoaXM7cmV0dXJuIHUmJihuPW5ldyBSZWdFeHAoXCJeXCIrbC5zb3VyY2UrXCIkKD8hXFxcXHMpXCIsby5jYWxsKGwpKSksYyYmKGU9bC5sYXN0SW5kZXgpLHI9YS5jYWxsKGwsdCksYyYmciYmKGwubGFzdEluZGV4PWwuZ2xvYmFsP3IuaW5kZXgrclswXS5sZW5ndGg6ZSksdSYmciYmci5sZW5ndGg+MSYmcy5jYWxsKHJbMF0sbixmdW5jdGlvbigpe2ZvcihpPTE7aTxhcmd1bWVudHMubGVuZ3RoLTI7aSsrKXZvaWQgMD09PWFyZ3VtZW50c1tpXSYmKHJbaV09dm9pZCAwKX0pLHJ9KSx0LmV4cG9ydHM9bH0sZnVuY3Rpb24odCxlKXt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jYWxsKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTkpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7aWYocih0KSx2b2lkIDA9PT1lKXJldHVybiB0O3N3aXRjaChuKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0LmNhbGwoZSxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiB0LmNhbGwoZSxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gdC5jYWxsKGUsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjMpLGk9bigxODMpLG89big0MikuZixhPW4oMTg3KS5mLHM9big5MCksbD1uKDU0KSxjPXIuUmVnRXhwLHU9YyxmPWMucHJvdG90eXBlLGQ9L2EvZyxoPS9hL2cscD1uZXcgYyhkKSE9PWQ7aWYobigxMikmJighcHx8bigyNCkoZnVuY3Rpb24oKXtyZXR1cm4gaFtuKDkpKFwibWF0Y2hcIildPSExLGMoZCkhPWR8fGMoaCk9PWh8fFwiL2EvaVwiIT1jKGQsXCJpXCIpfSkpKXtjPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyBpbnN0YW5jZW9mIGMscj1zKHQpLG89dm9pZCAwPT09ZTtyZXR1cm4hbiYmciYmdC5jb25zdHJ1Y3Rvcj09PWMmJm8/dDppKHA/bmV3IHUociYmIW8/dC5zb3VyY2U6dCxlKTp1KChyPXQgaW5zdGFuY2VvZiBjKT90LnNvdXJjZTp0LHImJm8/bC5jYWxsKHQpOmUpLG4/dGhpczpmLGMpfTtmb3IodmFyIG09ZnVuY3Rpb24odCl7dCBpbiBjfHxvKGMsdCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7dVt0XT1lfX0pfSxnPWEodSksdj0wO2cubGVuZ3RoPnY7KW0oZ1t2KytdKTtmLmNvbnN0cnVjdG9yPWMsYy5wcm90b3R5cGU9ZixuKDQzKShyLFwiUmVnRXhwXCIsYyl9bigxOTIpKFwiUmVnRXhwXCIpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMjApLGk9bigzMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByKGkodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjIpLGk9big1Myksbz1uKDkpKFwibWF0Y2hcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiByKHQpJiYodm9pZCAwIT09KGU9dFtvXSk/ISFlOlwiUmVnRXhwXCI9PWkodCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTcpLGk9bigxMjIpLG89bigyOSksYT1uKDUyKSxzPW4oNzkpLGw9big4MCksYz1NYXRoLm1heCx1PU1hdGgubWluLGY9TWF0aC5mbG9vcixkPS9cXCQoWyQmYCddfFxcZFxcZD98PFtePl0qPikvZyxoPS9cXCQoWyQmYCddfFxcZFxcZD8pL2c7big4NCkoXCJyZXBsYWNlXCIsMixmdW5jdGlvbih0LGUsbixwKXtyZXR1cm5bZnVuY3Rpb24ocixpKXt2YXIgbz10KHRoaXMpLGE9bnVsbD09cj92b2lkIDA6cltlXTtyZXR1cm4gdm9pZCAwIT09YT9hLmNhbGwocixvLGkpOm4uY2FsbChTdHJpbmcobykscixpKX0sZnVuY3Rpb24odCxlKXt2YXIgaT1wKG4sdCx0aGlzLGUpO2lmKGkuZG9uZSlyZXR1cm4gaS52YWx1ZTt2YXIgZj1yKHQpLGQ9U3RyaW5nKHRoaXMpLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgZTtofHwoZT1TdHJpbmcoZSkpO3ZhciBnPWYuZ2xvYmFsO2lmKGcpe3ZhciB2PWYudW5pY29kZTtmLmxhc3RJbmRleD0wfWZvcih2YXIgeT1bXTs7KXt2YXIgYj1sKGYsZCk7aWYobnVsbD09PWIpYnJlYWs7aWYoeS5wdXNoKGIpLCFnKWJyZWFrO1wiXCI9PT1TdHJpbmcoYlswXSkmJihmLmxhc3RJbmRleD1zKGQsbyhmLmxhc3RJbmRleCksdikpfWZvcih2YXIgeCx3PVwiXCIsQz0wLGs9MDtrPHkubGVuZ3RoO2srKyl7Yj15W2tdO2Zvcih2YXIgXz1TdHJpbmcoYlswXSksUz1jKHUoYShiLmluZGV4KSxkLmxlbmd0aCksMCksRT1bXSxUPTE7VDxiLmxlbmd0aDtUKyspRS5wdXNoKHZvaWQgMD09PSh4PWJbVF0pP3g6U3RyaW5nKHgpKTt2YXIgTz1iLmdyb3VwcztpZihoKXt2YXIgTT1bX10uY29uY2F0KEUsUyxkKTt2b2lkIDAhPT1PJiZNLnB1c2goTyk7dmFyIEw9U3RyaW5nKGUuYXBwbHkodm9pZCAwLE0pKX1lbHNlIEw9bShfLGQsUyxFLE8sZSk7Uz49QyYmKHcrPWQuc2xpY2UoQyxTKStMLEM9UytfLmxlbmd0aCl9cmV0dXJuIHcrZC5zbGljZShDKX1dO2Z1bmN0aW9uIG0odCxlLHIsbyxhLHMpe3ZhciBsPXIrdC5sZW5ndGgsYz1vLmxlbmd0aCx1PWg7cmV0dXJuIHZvaWQgMCE9PWEmJihhPWkoYSksdT1kKSxuLmNhbGwocyx1LGZ1bmN0aW9uKG4saSl7dmFyIHM7c3dpdGNoKGkuY2hhckF0KDApKXtjYXNlXCIkXCI6cmV0dXJuXCIkXCI7Y2FzZVwiJlwiOnJldHVybiB0O2Nhc2VcImBcIjpyZXR1cm4gZS5zbGljZSgwLHIpO2Nhc2VcIidcIjpyZXR1cm4gZS5zbGljZShsKTtjYXNlXCI8XCI6cz1hW2kuc2xpY2UoMSwtMSldO2JyZWFrO2RlZmF1bHQ6dmFyIHU9K2k7aWYoMD09PXUpcmV0dXJuIG47aWYodT5jKXt2YXIgZD1mKHUvMTApO3JldHVybiAwPT09ZD9uOmQ8PWM/dm9pZCAwPT09b1tkLTFdP2kuY2hhckF0KDEpOm9bZC0xXStpLmNoYXJBdCgxKTpufXM9b1t1LTFdfXJldHVybiB2b2lkIDA9PT1zP1wiXCI6c30pfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzMSksaT1uKDEyMSkoITApO3Ioci5QLFwiQXJyYXlcIix7aW5jbHVkZXM6ZnVuY3Rpb24odCl7cmV0dXJuIGkodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxuKDEyMykoXCJpbmNsdWRlc1wiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLGk9bigxMjQpO3Ioci5QK3IuRipuKDEyNSkoXCJpbmNsdWRlc1wiKSxcIlN0cmluZ1wiLHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4hIX5pKHRoaXMsdCxcImluY2x1ZGVzXCIpLmluZGV4T2YodCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE1KSxpPW4oMjgpLG89big3MykoXCJJRV9QUk9UT1wiKSxhPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQ9aSh0KSxyKHQsbyk/dFtvXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnN0cnVjdG9yJiZ0IGluc3RhbmNlb2YgdC5jb25zdHJ1Y3Rvcj90LmNvbnN0cnVjdG9yLnByb3RvdHlwZTp0IGluc3RhbmNlb2YgT2JqZWN0P2E6bnVsbH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDQwKSxpPW4oNCkoXCJ0b1N0cmluZ1RhZ1wiKSxvPVwiQXJndW1lbnRzXCI9PXIoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbixhO3JldHVybiB2b2lkIDA9PT10P1wiVW5kZWZpbmVkXCI6bnVsbD09PXQ/XCJOdWxsXCI6XCJzdHJpbmdcIj09dHlwZW9mKG49ZnVuY3Rpb24odCxlKXt0cnl7cmV0dXJuIHRbZV19Y2F0Y2godCl7fX0oZT1PYmplY3QodCksaSkpP246bz9yKGUpOlwiT2JqZWN0XCI9PShhPXIoZSkpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbGxlZT9cIkFyZ3VtZW50c1wiOmF9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5NSksaT1uKDQpKFwiaXRlcmF0b3JcIiksbz1uKDMyKTt0LmV4cG9ydHM9bigxKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbih0KXtpZihudWxsIT10KXJldHVybiB0W2ldfHx0W1wiQEBpdGVyYXRvclwiXXx8b1tyKHQpXX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDQ3KTtmdW5jdGlvbiBpKHQpe3ZhciBlLG47dGhpcy5wcm9taXNlPW5ldyB0KGZ1bmN0aW9uKHQscil7aWYodm9pZCAwIT09ZXx8dm9pZCAwIT09bil0aHJvdyBUeXBlRXJyb3IoXCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvclwiKTtlPXQsbj1yfSksdGhpcy5yZXNvbHZlPXIoZSksdGhpcy5yZWplY3Q9cihuKX10LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkodCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjYzKSgpP09iamVjdC5hc3NpZ246bigyNjQpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjY5KSgpP1N0cmluZy5wcm90b3R5cGUuY29udGFpbnM6bigyNzApfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT1uKDEzNiksbz1uKDk4KSxhPW4oMTQpLHM9bigxMyksbD1uKDI1KSxjPW4oMjgwKSx1PW4oMTgpLGY9T2JqZWN0LmRlZmluZVByb3BlcnR5LGQ9T2JqZWN0LmRlZmluZVByb3BlcnRpZXM7dC5leHBvcnRzPXI9ZnVuY3Rpb24odCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiByKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29uc3RydWN0b3IgcmVxdWlyZXMgJ25ldydcIik7ZCh0aGlzLHtfX2xpc3RfXzpsKFwid1wiLHModCkpLF9fY29udGV4dF9fOmwoXCJ3XCIsZSksX19uZXh0SW5kZXhfXzpsKFwid1wiLDApfSksZSYmKGEoZS5vbiksZS5vbihcIl9hZGRcIix0aGlzLl9vbkFkZCksZS5vbihcIl9kZWxldGVcIix0aGlzLl9vbkRlbGV0ZSksZS5vbihcIl9jbGVhclwiLHRoaXMuX29uQ2xlYXIpKX0sZGVsZXRlIHIucHJvdG90eXBlLmNvbnN0cnVjdG9yLGQoci5wcm90b3R5cGUsbyh7X25leHQ6bChmdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuX19saXN0X18pcmV0dXJuIHRoaXMuX19yZWRvX18mJnZvaWQgMCE9PSh0PXRoaXMuX19yZWRvX18uc2hpZnQoKSk/dDp0aGlzLl9fbmV4dEluZGV4X188dGhpcy5fX2xpc3RfXy5sZW5ndGg/dGhpcy5fX25leHRJbmRleF9fKys6dm9pZCB0aGlzLl91bkJpbmQoKX0pLG5leHQ6bChmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVSZXN1bHQodGhpcy5fbmV4dCgpKX0pLF9jcmVhdGVSZXN1bHQ6bChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD97ZG9uZTohMCx2YWx1ZTp2b2lkIDB9Ontkb25lOiExLHZhbHVlOnRoaXMuX3Jlc29sdmUodCl9fSksX3Jlc29sdmU6bChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2xpc3RfX1t0XX0pLF91bkJpbmQ6bChmdW5jdGlvbigpe3RoaXMuX19saXN0X189bnVsbCxkZWxldGUgdGhpcy5fX3JlZG9fXyx0aGlzLl9fY29udGV4dF9fJiYodGhpcy5fX2NvbnRleHRfXy5vZmYoXCJfYWRkXCIsdGhpcy5fb25BZGQpLHRoaXMuX19jb250ZXh0X18ub2ZmKFwiX2RlbGV0ZVwiLHRoaXMuX29uRGVsZXRlKSx0aGlzLl9fY29udGV4dF9fLm9mZihcIl9jbGVhclwiLHRoaXMuX29uQ2xlYXIpLHRoaXMuX19jb250ZXh0X189bnVsbCl9KSx0b1N0cmluZzpsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFwiKyh0aGlzW3UudG9TdHJpbmdUYWddfHxcIk9iamVjdFwiKStcIl1cIn0pfSxjKHtfb25BZGQ6bChmdW5jdGlvbih0KXt0Pj10aGlzLl9fbmV4dEluZGV4X198fCgrK3RoaXMuX19uZXh0SW5kZXhfXyx0aGlzLl9fcmVkb19fPyh0aGlzLl9fcmVkb19fLmZvckVhY2goZnVuY3Rpb24oZSxuKXtlPj10JiYodGhpcy5fX3JlZG9fX1tuXT0rK2UpfSx0aGlzKSx0aGlzLl9fcmVkb19fLnB1c2godCkpOmYodGhpcyxcIl9fcmVkb19fXCIsbChcImNcIixbdF0pKSl9KSxfb25EZWxldGU6bChmdW5jdGlvbih0KXt2YXIgZTt0Pj10aGlzLl9fbmV4dEluZGV4X198fCgtLXRoaXMuX19uZXh0SW5kZXhfXyx0aGlzLl9fcmVkb19fJiYoLTEhPT0oZT10aGlzLl9fcmVkb19fLmluZGV4T2YodCkpJiZ0aGlzLl9fcmVkb19fLnNwbGljZShlLDEpLHRoaXMuX19yZWRvX18uZm9yRWFjaChmdW5jdGlvbihlLG4pe2U+dCYmKHRoaXMuX19yZWRvX19bbl09LS1lKX0sdGhpcykpKX0pLF9vbkNsZWFyOmwoZnVuY3Rpb24oKXt0aGlzLl9fcmVkb19fJiZpLmNhbGwodGhpcy5fX3JlZG9fXyksdGhpcy5fX25leHRJbmRleF9fPTB9KX0pKSksZihyLnByb3RvdHlwZSx1Lml0ZXJhdG9yLGwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjExKSxpPW4oMjEzKTtmdW5jdGlvbiBvKHQpe3JldHVybihvPVwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJlwic3ltYm9sXCI9PXR5cGVvZiByP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJnQuY29uc3RydWN0b3I9PT1pJiZ0IT09aS5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmXCJzeW1ib2xcIj09PW8ocik/dC5leHBvcnRzPWE9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCl9OnQuZXhwb3J0cz1hPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZ0LmNvbnN0cnVjdG9yPT09aSYmdCE9PWkucHJvdG90eXBlP1wic3ltYm9sXCI6byh0KX0sYShlKX10LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDI5NCl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGU9XCJudW1iZXJcIj09dHlwZW9mIGU/ZToxLzApP2Z1bmN0aW9uIHQobixyKXtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24obixpKXtyZXR1cm4gQXJyYXkuaXNBcnJheShpKSYmcjxlP24uY29uY2F0KHQoaSxyKzEpKTpuLmNvbmNhdChpKX0sW10pfSh0LDEpOkFycmF5LmlzQXJyYXkodCk/dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHR9KTp0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDE2Myl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMpLGk9bigxNSksbz1uKDgpLGE9bigyKSxzPW4oMTA3KSxsPW4oMTY0KS5LRVksYz1uKDIwKSx1PW4oNjgpLGY9big0OSksZD1uKDQ4KSxoPW4oNCkscD1uKDY5KSxtPW4oNzApLGc9bigxNjUpLHY9bigxMTApLHk9big3KSxiPW4oMTEpLHg9bigyOCksdz1uKDE2KSxDPW4oNjcpLGs9bigzOCksXz1uKDc2KSxTPW4oMTY5KSxFPW4oNTEpLFQ9big3NSksTz1uKDEwKSxNPW4oMjcpLEw9RS5mLEE9Ty5mLE49Uy5mLFA9ci5TeW1ib2wsRj1yLkpTT04sST1GJiZGLnN0cmluZ2lmeSxqPWgoXCJfaGlkZGVuXCIpLEQ9aChcInRvUHJpbWl0aXZlXCIpLHo9e30ucHJvcGVydHlJc0VudW1lcmFibGUsUj11KFwic3ltYm9sLXJlZ2lzdHJ5XCIpLEI9dShcInN5bWJvbHNcIiksSD11KFwib3Atc3ltYm9sc1wiKSxXPU9iamVjdC5wcm90b3R5cGUsVT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBQJiYhIVQuZixWPXIuUU9iamVjdCxHPSFWfHwhVi5wcm90b3R5cGV8fCFWLnByb3RvdHlwZS5maW5kQ2hpbGQsSz1vJiZjKGZ1bmN0aW9uKCl7cmV0dXJuIDchPV8oQSh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEEodGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbih0LGUsbil7dmFyIHI9TChXLGUpO3ImJmRlbGV0ZSBXW2VdLEEodCxlLG4pLHImJnQhPT1XJiZBKFcsZSxyKX06QSwkPWZ1bmN0aW9uKHQpe3ZhciBlPUJbdF09XyhQLnByb3RvdHlwZSk7cmV0dXJuIGUuX2s9dCxlfSxxPVUmJlwic3ltYm9sXCI9PXR5cGVvZiBQLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFB9LFk9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0PT09VyYmWShILGUsbikseSh0KSxlPUMoZSwhMCkseShuKSxpKEIsZSk/KG4uZW51bWVyYWJsZT8oaSh0LGopJiZ0W2pdW2VdJiYodFtqXVtlXT0hMSksbj1fKG4se2VudW1lcmFibGU6aygwLCExKX0pKTooaSh0LGopfHxBKHQsaixrKDEse30pKSx0W2pdW2VdPSEwKSxLKHQsZSxuKSk6QSh0LGUsbil9LEo9ZnVuY3Rpb24odCxlKXt5KHQpO2Zvcih2YXIgbixyPWcoZT13KGUpKSxpPTAsbz1yLmxlbmd0aDtvPmk7KVkodCxuPXJbaSsrXSxlW25dKTtyZXR1cm4gdH0sWD1mdW5jdGlvbih0KXt2YXIgZT16LmNhbGwodGhpcyx0PUModCwhMCkpO3JldHVybiEodGhpcz09PVcmJmkoQix0KSYmIWkoSCx0KSkmJighKGV8fCFpKHRoaXMsdCl8fCFpKEIsdCl8fGkodGhpcyxqKSYmdGhpc1tqXVt0XSl8fGUpfSxaPWZ1bmN0aW9uKHQsZSl7aWYodD13KHQpLGU9QyhlLCEwKSx0IT09V3x8IWkoQixlKXx8aShILGUpKXt2YXIgbj1MKHQsZSk7cmV0dXJuIW58fCFpKEIsZSl8fGkodCxqKSYmdFtqXVtlXXx8KG4uZW51bWVyYWJsZT0hMCksbn19LFE9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49Tih3KHQpKSxyPVtdLG89MDtuLmxlbmd0aD5vOylpKEIsZT1uW28rK10pfHxlPT1qfHxlPT1sfHxyLnB1c2goZSk7cmV0dXJuIHJ9LHR0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXQ9PT1XLHI9TihuP0g6dyh0KSksbz1bXSxhPTA7ci5sZW5ndGg+YTspIWkoQixlPXJbYSsrXSl8fG4mJiFpKFcsZSl8fG8ucHVzaChCW2VdKTtyZXR1cm4gb307VXx8KHMoKFA9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgUCl0aHJvdyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhXCIpO3ZhciB0PWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLGU9ZnVuY3Rpb24obil7dGhpcz09PVcmJmUuY2FsbChILG4pLGkodGhpcyxqKSYmaSh0aGlzW2pdLHQpJiYodGhpc1tqXVt0XT0hMSksSyh0aGlzLHQsaygxLG4pKX07cmV0dXJuIG8mJkcmJksoVyx0LHtjb25maWd1cmFibGU6ITAsc2V0OmV9KSwkKHQpfSkucHJvdG90eXBlLFwidG9TdHJpbmdcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksRS5mPVosTy5mPVksbigxMTIpLmY9Uy5mPVEsbig0MSkuZj1YLFQuZj10dCxvJiYhbigzOSkmJnMoVyxcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsWCwhMCkscC5mPWZ1bmN0aW9uKHQpe3JldHVybiAkKGgodCkpfSksYShhLkcrYS5XK2EuRiohVSx7U3ltYm9sOlB9KTtmb3IodmFyIGV0PVwiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXNcIi5zcGxpdChcIixcIiksbnQ9MDtldC5sZW5ndGg+bnQ7KWgoZXRbbnQrK10pO2Zvcih2YXIgcnQ9TShoLnN0b3JlKSxpdD0wO3J0Lmxlbmd0aD5pdDspbShydFtpdCsrXSk7YShhLlMrYS5GKiFVLFwiU3ltYm9sXCIse2ZvcjpmdW5jdGlvbih0KXtyZXR1cm4gaShSLHQrPVwiXCIpP1JbdF06Ult0XT1QKHQpfSxrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIXEodCkpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgc3ltYm9sIVwiKTtmb3IodmFyIGUgaW4gUilpZihSW2VdPT09dClyZXR1cm4gZX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Rz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Rz0hMX19KSxhKGEuUythLkYqIVUsXCJPYmplY3RcIix7Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/Xyh0KTpKKF8odCksZSl9LGRlZmluZVByb3BlcnR5OlksZGVmaW5lUHJvcGVydGllczpKLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpaLGdldE93blByb3BlcnR5TmFtZXM6USxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6dHR9KTt2YXIgb3Q9YyhmdW5jdGlvbigpe1QuZigxKX0pO2EoYS5TK2EuRipvdCxcIk9iamVjdFwiLHtnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ZnVuY3Rpb24odCl7cmV0dXJuIFQuZih4KHQpKX19KSxGJiZhKGEuUythLkYqKCFVfHxjKGZ1bmN0aW9uKCl7dmFyIHQ9UCgpO3JldHVyblwiW251bGxdXCIhPUkoW3RdKXx8XCJ7fVwiIT1JKHthOnR9KXx8XCJ7fVwiIT1JKE9iamVjdCh0KSl9KSksXCJKU09OXCIse3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbixyPVt0XSxpPTE7YXJndW1lbnRzLmxlbmd0aD5pOylyLnB1c2goYXJndW1lbnRzW2krK10pO2lmKG49ZT1yWzFdLChiKGUpfHx2b2lkIDAhPT10KSYmIXEodCkpcmV0dXJuIHYoZSl8fChlPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKGU9bi5jYWxsKHRoaXMsdCxlKSksIXEoZSkpcmV0dXJuIGV9KSxyWzFdPWUsSS5hcHBseShGLHIpfX0pLFAucHJvdG90eXBlW0RdfHxuKDIxKShQLnByb3RvdHlwZSxELFAucHJvdG90eXBlLnZhbHVlT2YpLGYoUCxcIlN5bWJvbFwiKSxmKE1hdGgsXCJNYXRoXCIsITApLGYoci5KU09OLFwiSlNPTlwiLCEwKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz0hbig4KSYmIW4oMjApKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuKDY2KShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjEpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxNSksaT1uKDE2KSxvPW4oMTY2KSghMSksYT1uKDczKShcIklFX1BST1RPXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHM9aSh0KSxsPTAsYz1bXTtmb3IobiBpbiBzKW4hPWEmJnIocyxuKSYmYy5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+bDspcihzLG49ZVtsKytdKSYmKH5vKGMsbil8fGMucHVzaChuKSk7cmV0dXJuIGN9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MCk7dC5leHBvcnRzPU9iamVjdChcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCk/T2JqZWN0OmZ1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PXIodCk/dC5zcGxpdChcIlwiKTpPYmplY3QodCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MCk7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiQXJyYXlcIj09cih0KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLmRvY3VtZW50O3QuZXhwb3J0cz1yJiZyLmRvY3VtZW50RWxlbWVudH0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTA4KSxpPW4oNzQpLmNvbmNhdChcImxlbmd0aFwiLFwicHJvdG90eXBlXCIpO2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxpKX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxNzMpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMTc2KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTMpLGk9big5KShcInRvU3RyaW5nVGFnXCIpLG89XCJBcmd1bWVudHNcIj09cihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuLGE7cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2Yobj1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fShlPU9iamVjdCh0KSxpKSk/bjpvP3IoZSk6XCJPYmplY3RcIj09KGE9cihlKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FsbGVlP1wiQXJndW1lbnRzXCI6YX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9IW4oMTIpJiYhbigyNCkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4oMTgxKShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXIodCkpcmV0dXJuIHQ7dmFyIG4saTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZihuPXQudG9TdHJpbmcpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Yobj10LnZhbHVlT2YpJiYhcihpPW4uY2FsbCh0KSkpcmV0dXJuIGk7aWYoIWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC50b1N0cmluZykmJiFyKGk9bi5jYWxsKHQpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybntlbnVtZXJhYmxlOiEoMSZ0KSxjb25maWd1cmFibGU6ISgyJnQpLHdyaXRhYmxlOiEoNCZ0KSx2YWx1ZTplfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTMpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIlN0cmluZ1wiPT1yKHQpP3Quc3BsaXQoXCJcIik6T2JqZWN0KHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oODkpLGk9bigyOSksbz1uKDE4OSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLG4sYSl7dmFyIHMsbD1yKGUpLGM9aShsLmxlbmd0aCksdT1vKGEsYyk7aWYodCYmbiE9bil7Zm9yKDtjPnU7KWlmKChzPWxbdSsrXSkhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO2M+dTt1KyspaWYoKHR8fHUgaW4gbCkmJmxbdV09PT1uKXJldHVybiB0fHx1fHwwO3JldHVybiF0JiYtMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qocih0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5KShcInVuc2NvcGFibGVzXCIpLGk9QXJyYXkucHJvdG90eXBlO251bGw9PWlbcl0mJm4oNTUpKGkscix7fSksdC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lbcl1bdF09ITB9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5MCksaT1uKDMwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKHIoZSkpdGhyb3cgVHlwZUVycm9yKFwiU3RyaW5nI1wiK24rXCIgZG9lc24ndCBhY2NlcHQgcmVnZXghXCIpO3JldHVybiBTdHJpbmcoaSh0KSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big5KShcIm1hdGNoXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT0vLi87dHJ5e1wiLy4vXCJbdF0oZSl9Y2F0Y2gobil7dHJ5e3JldHVybiBlW3JdPSExLCFcIi8uL1wiW3RdKGUpfWNhdGNoKHQpe319cmV0dXJuITB9fSxmdW5jdGlvbih0LGUpe30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzkpLGk9bigyKSxvPW4oMTA3KSxhPW4oMjEpLHM9bigzMiksbD1uKDE5NyksYz1uKDQ5KSx1PW4oOTQpLGY9big0KShcIml0ZXJhdG9yXCIpLGQ9IShbXS5rZXlzJiZcIm5leHRcImluW10ua2V5cygpKSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixwLG0sZyx2KXtsKG4sZSxwKTt2YXIgeSxiLHgsdz1mdW5jdGlvbih0KXtpZighZCYmdCBpbiBTKXJldHVybiBTW3RdO3N3aXRjaCh0KXtjYXNlXCJrZXlzXCI6Y2FzZVwidmFsdWVzXCI6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLHQpfX0sQz1lK1wiIEl0ZXJhdG9yXCIsaz1cInZhbHVlc1wiPT1tLF89ITEsUz10LnByb3RvdHlwZSxFPVNbZl18fFNbXCJAQGl0ZXJhdG9yXCJdfHxtJiZTW21dLFQ9RXx8dyhtKSxPPW0/az93KFwiZW50cmllc1wiKTpUOnZvaWQgMCxNPVwiQXJyYXlcIj09ZSYmUy5lbnRyaWVzfHxFO2lmKE0mJih4PXUoTS5jYWxsKG5ldyB0KSkpIT09T2JqZWN0LnByb3RvdHlwZSYmeC5uZXh0JiYoYyh4LEMsITApLHJ8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHhbZl18fGEoeCxmLGgpKSxrJiZFJiZcInZhbHVlc1wiIT09RS5uYW1lJiYoXz0hMCxUPWZ1bmN0aW9uKCl7cmV0dXJuIEUuY2FsbCh0aGlzKX0pLHImJiF2fHwhZCYmIV8mJlNbZl18fGEoUyxmLFQpLHNbZV09VCxzW0NdPWgsbSlpZih5PXt2YWx1ZXM6az9UOncoXCJ2YWx1ZXNcIiksa2V5czpnP1Q6dyhcImtleXNcIiksZW50cmllczpPfSx2KWZvcihiIGluIHkpYiBpbiBTfHxvKFMsYix5W2JdKTtlbHNlIGkoaS5QK2kuRiooZHx8XyksZSx5KTtyZXR1cm4geX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixpKXt0cnl7cmV0dXJuIGk/ZShyKG4pWzBdLG5bMV0pOmUobil9Y2F0Y2goZSl7dmFyIG89dC5yZXR1cm47dGhyb3cgdm9pZCAwIT09byYmcihvLmNhbGwodCkpLGV9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzIpLGk9big0KShcIml0ZXJhdG9yXCIpLG89QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmKHIuQXJyYXk9PT10fHxvW2ldPT09dCl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3KSxpPW4oNDcpLG89big0KShcInNwZWNpZXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sYT1yKHQpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT0obj1yKGEpW29dKT9lOmkobil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLGE9bigyNikscz1uKDIwNCksbD1uKDExMSksYz1uKDY2KSx1PW4oMyksZj11LnByb2Nlc3MsZD11LnNldEltbWVkaWF0ZSxoPXUuY2xlYXJJbW1lZGlhdGUscD11Lk1lc3NhZ2VDaGFubmVsLG09dS5EaXNwYXRjaCxnPTAsdj17fSx5PWZ1bmN0aW9uKCl7dmFyIHQ9K3RoaXM7aWYodi5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGU9dlt0XTtkZWxldGUgdlt0XSxlKCl9fSxiPWZ1bmN0aW9uKHQpe3kuY2FsbCh0LmRhdGEpfTtkJiZofHwoZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0xO2FyZ3VtZW50cy5sZW5ndGg+bjspZS5wdXNoKGFyZ3VtZW50c1tuKytdKTtyZXR1cm4gdlsrK2ddPWZ1bmN0aW9uKCl7cyhcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6RnVuY3Rpb24odCksZSl9LHIoZyksZ30saD1mdW5jdGlvbih0KXtkZWxldGUgdlt0XX0sXCJwcm9jZXNzXCI9PW4oNDApKGYpP3I9ZnVuY3Rpb24odCl7Zi5uZXh0VGljayhhKHksdCwxKSl9Om0mJm0ubm93P3I9ZnVuY3Rpb24odCl7bS5ub3coYSh5LHQsMSkpfTpwPyhvPShpPW5ldyBwKS5wb3J0MixpLnBvcnQxLm9ubWVzc2FnZT1iLHI9YShvLnBvc3RNZXNzYWdlLG8sMSkpOnUuYWRkRXZlbnRMaXN0ZW5lciYmXCJmdW5jdGlvblwiPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiF1LmltcG9ydFNjcmlwdHM/KHI9ZnVuY3Rpb24odCl7dS5wb3N0TWVzc2FnZSh0K1wiXCIsXCIqXCIpfSx1LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsYiwhMSkpOnI9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGMoXCJzY3JpcHRcIik/ZnVuY3Rpb24odCl7bC5hcHBlbmRDaGlsZChjKFwic2NyaXB0XCIpKS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtsLnJlbW92ZUNoaWxkKHRoaXMpLHkuY2FsbCh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoYSh5LHQsMSksMCl9KSx0LmV4cG9ydHM9e3NldDpkLGNsZWFyOmh9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt0cnl7cmV0dXJue2U6ITEsdjp0KCl9fWNhdGNoKHQpe3JldHVybntlOiEwLHY6dH19fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1uKDExKSxvPW4oOTcpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKHIodCksaShlKSYmZS5jb25zdHJ1Y3Rvcj09PXQpcmV0dXJuIGU7dmFyIG49by5mKHQpO3JldHVybigwLG4ucmVzb2x2ZSkoZSksbi5wcm9taXNlfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNCkoXCJpdGVyYXRvclwiKSxpPSExO3RyeXt2YXIgbz1bN11bcl0oKTtvLnJldHVybj1mdW5jdGlvbigpe2k9ITB9LEFycmF5LmZyb20obyxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaCh0KXt9dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoIWUmJiFpKXJldHVybiExO3ZhciBuPSExO3RyeXt2YXIgbz1bN10sYT1vW3JdKCk7YS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19LG9bcl09ZnVuY3Rpb24oKXtyZXR1cm4gYX0sdChvKX1jYXRjaCh0KXt9cmV0dXJuIG59fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcdFxcblxcdlxcZlxcciDCoOGagOGgjuKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwifSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxMyk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcykubGVuZ3RoPTAsdGhpc319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyNTcpLGk9TWF0aC5tYXg7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpKDAscih0KSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9T2JqZWN0LmNyZWF0ZSxpPU9iamVjdC5nZXRQcm90b3R5cGVPZixvPXt9O3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0PU9iamVjdC5zZXRQcm90b3R5cGVPZixlPWFyZ3VtZW50c1swXXx8cjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZpKHQoZShudWxsKSxvKSk9PT1vfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbyxhLHM9bigyNjEpLGw9bigxMyksYz1PYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YsdT1PYmplY3QuZGVmaW5lUHJvcGVydHksZj17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfTtyPWZ1bmN0aW9uKHQsZSl7aWYobCh0KSxudWxsPT09ZXx8cyhlKSlyZXR1cm4gdDt0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvdG90eXBlIG11c3QgYmUgbnVsbCBvciBhbiBvYmplY3RcIil9LHQuZXhwb3J0cz0oaT1mdW5jdGlvbigpe3ZhciB0LGU9T2JqZWN0LmNyZWF0ZShudWxsKSxuPXt9LHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIpO2lmKHIpe3RyeXsodD1yLnNldCkuY2FsbChlLG4pfWNhdGNoKHQpe31pZihPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1uKXJldHVybntzZXQ6dCxsZXZlbDoyfX1yZXR1cm4gZS5fX3Byb3RvX189bixPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1uP3tsZXZlbDoyfTooKGU9e30pLl9fcHJvdG9fXz1uLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PW4mJntsZXZlbDoxfSl9KCkpPygyPT09aS5sZXZlbD9pLnNldD8oYT1pLnNldCxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEuY2FsbChyKHQsZSksZSksdH0pOm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0LGUpLl9fcHJvdG9fXz1lLHR9Om89ZnVuY3Rpb24gdChlLG4pe3ZhciBpO3JldHVybiByKGUsbiksKGk9Yy5jYWxsKHQubnVsbFBvbHlmaWxsLGUpKSYmZGVsZXRlIHQubnVsbFBvbHlmaWxsLl9fcHJvdG9fXyxudWxsPT09biYmKG49dC5udWxsUG9seWZpbGwpLGUuX19wcm90b19fPW4saSYmdSh0Lm51bGxQb2x5ZmlsbCxcIl9fcHJvdG9fX1wiLGYpLGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwibGV2ZWxcIix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITEsdmFsdWU6aS5sZXZlbH0pKTpudWxsLG4oMjYyKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzMpLGk9QXJyYXkucHJvdG90eXBlLmZvckVhY2gsbz1PYmplY3QuY3JlYXRlO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1vKG51bGwpO3JldHVybiBpLmNhbGwoYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3IodCkmJmZ1bmN0aW9uKHQsZSl7dmFyIG47Zm9yKG4gaW4gdCllW25dPXRbbl19KE9iamVjdCh0KSxlKX0pLGV9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyNzYpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZighcih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrXCIgaXMgbm90IGl0ZXJhYmxlXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24oMjkyKTt2YXIgcj1uKDE3KSxpPW4oNTQpLG89bigxMiksYT0vLi8udG9TdHJpbmcscz1mdW5jdGlvbih0KXtuKDQzKShSZWdFeHAucHJvdG90eXBlLFwidG9TdHJpbmdcIix0LCEwKX07bigyNCkoZnVuY3Rpb24oKXtyZXR1cm5cIi9hL2JcIiE9YS5jYWxsKHtzb3VyY2U6XCJhXCIsZmxhZ3M6XCJiXCJ9KX0pP3MoZnVuY3Rpb24oKXt2YXIgdD1yKHRoaXMpO3JldHVyblwiL1wiLmNvbmNhdCh0LnNvdXJjZSxcIi9cIixcImZsYWdzXCJpbiB0P3QuZmxhZ3M6IW8mJnQgaW5zdGFuY2VvZiBSZWdFeHA/aS5jYWxsKHQpOnZvaWQgMCl9KTpcInRvU3RyaW5nXCIhPWEubmFtZSYmcyhmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcyl9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTE1KSxpPXt9O2lbbig5KShcInRvU3RyaW5nVGFnXCIpXT1cInpcIixpK1wiXCIhPVwiW29iamVjdCB6XVwiJiZuKDQzKShPYmplY3QucHJvdG90eXBlLFwidG9TdHJpbmdcIixmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBcIityKHRoaXMpK1wiXVwifSwhMCl9LGZ1bmN0aW9uKHQsZSl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLGk9bigyOSksbz1uKDEyNCksYT1cIlwiLmVuZHNXaXRoO3Ioci5QK3IuRipuKDEyNSkoXCJlbmRzV2l0aFwiKSxcIlN0cmluZ1wiLHtlbmRzV2l0aDpmdW5jdGlvbih0KXt2YXIgZT1vKHRoaXMsdCxcImVuZHNXaXRoXCIpLG49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1pKGUubGVuZ3RoKSxzPXZvaWQgMD09PW4/cjpNYXRoLm1pbihpKG4pLHIpLGw9U3RyaW5nKHQpO3JldHVybiBhP2EuY2FsbChlLGwscyk6ZS5zbGljZShzLWwubGVuZ3RoLHMpPT09bH19KX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDMwOCl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpLG89e30sYT0ocj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cmJmRvY3VtZW50JiZkb2N1bWVudC5hbGwmJiF3aW5kb3cuYXRvYn0sZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ci5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGl9KSxzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbih0LG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIHQoKTtpZih2b2lkIDA9PT1lW3RdKXt2YXIgcj1mdW5jdGlvbih0LGUpe3JldHVybiBlP2UucXVlcnlTZWxlY3Rvcih0KTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfS5jYWxsKHRoaXMsdCxuKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJnIgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e3I9ci5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaCh0KXtyPW51bGx9ZVt0XT1yfXJldHVybiBlW3RdfX0oKSxsPW51bGwsYz0wLHU9W10sZj1uKDMzMCk7ZnVuY3Rpb24gZCh0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLGk9b1tyLmlkXTtpZihpKXtpLnJlZnMrKztmb3IodmFyIGE9MDthPGkucGFydHMubGVuZ3RoO2ErKylpLnBhcnRzW2FdKHIucGFydHNbYV0pO2Zvcig7YTxyLnBhcnRzLmxlbmd0aDthKyspaS5wYXJ0cy5wdXNoKHkoci5wYXJ0c1thXSxlKSl9ZWxzZXt2YXIgcz1bXTtmb3IoYT0wO2E8ci5wYXJ0cy5sZW5ndGg7YSsrKXMucHVzaCh5KHIucGFydHNbYV0sZSkpO29bci5pZF09e2lkOnIuaWQscmVmczoxLHBhcnRzOnN9fX19ZnVuY3Rpb24gaCh0LGUpe2Zvcih2YXIgbj1bXSxyPXt9LGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG89dFtpXSxhPWUuYmFzZT9vWzBdK2UuYmFzZTpvWzBdLHM9e2NzczpvWzFdLG1lZGlhOm9bMl0sc291cmNlTWFwOm9bM119O3JbYV0/clthXS5wYXJ0cy5wdXNoKHMpOm4ucHVzaChyW2FdPXtpZDphLHBhcnRzOltzXX0pfXJldHVybiBufWZ1bmN0aW9uIHAodCxlKXt2YXIgbj1zKHQuaW5zZXJ0SW50byk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7dmFyIHI9dVt1Lmxlbmd0aC0xXTtpZihcInRvcFwiPT09dC5pbnNlcnRBdClyP3IubmV4dFNpYmxpbmc/bi5pbnNlcnRCZWZvcmUoZSxyLm5leHRTaWJsaW5nKTpuLmFwcGVuZENoaWxkKGUpOm4uaW5zZXJ0QmVmb3JlKGUsbi5maXJzdENoaWxkKSx1LnB1c2goZSk7ZWxzZSBpZihcImJvdHRvbVwiPT09dC5pbnNlcnRBdCluLmFwcGVuZENoaWxkKGUpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQuaW5zZXJ0QXR8fCF0Lmluc2VydEF0LmJlZm9yZSl0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTt2YXIgaT1zKHQuaW5zZXJ0QXQuYmVmb3JlLG4pO24uaW5zZXJ0QmVmb3JlKGUsaSl9fWZ1bmN0aW9uIG0odCl7aWYobnVsbD09PXQucGFyZW50Tm9kZSlyZXR1cm4hMTt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dmFyIGU9dS5pbmRleE9mKHQpO2U+PTAmJnUuc3BsaWNlKGUsMSl9ZnVuY3Rpb24gZyh0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYodm9pZCAwPT09dC5hdHRycy50eXBlJiYodC5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdm9pZCAwPT09dC5hdHRycy5ub25jZSl7dmFyIHI9ZnVuY3Rpb24oKXswO3JldHVybiBuLm5jfSgpO3ImJih0LmF0dHJzLm5vbmNlPXIpfXJldHVybiB2KGUsdC5hdHRycykscCh0LGUpLGV9ZnVuY3Rpb24gdih0LGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24obil7dC5zZXRBdHRyaWJ1dGUobixlW25dKX0pfWZ1bmN0aW9uIHkodCxlKXt2YXIgbixyLGksbztpZihlLnRyYW5zZm9ybSYmdC5jc3Mpe2lmKCEobz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRyYW5zZm9ybT9lLnRyYW5zZm9ybSh0LmNzcyk6ZS50cmFuc2Zvcm0uZGVmYXVsdCh0LmNzcykpKXJldHVybiBmdW5jdGlvbigpe307dC5jc3M9b31pZihlLnNpbmdsZXRvbil7dmFyIGE9YysrO249bHx8KGw9ZyhlKSkscj13LmJpbmQobnVsbCxuLGEsITEpLGk9dy5iaW5kKG51bGwsbixhLCEwKX1lbHNlIHQuc291cmNlTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVUkwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEJsb2ImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2E/KG49ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7cmV0dXJuIHZvaWQgMD09PXQuYXR0cnMudHlwZSYmKHQuYXR0cnMudHlwZT1cInRleHQvY3NzXCIpLHQuYXR0cnMucmVsPVwic3R5bGVzaGVldFwiLHYoZSx0LmF0dHJzKSxwKHQsZSksZX0oZSkscj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bi5jc3MsaT1uLnNvdXJjZU1hcCxvPXZvaWQgMD09PWUuY29udmVydFRvQWJzb2x1dGVVcmxzJiZpOyhlLmNvbnZlcnRUb0Fic29sdXRlVXJsc3x8bykmJihyPWYocikpO2kmJihyKz1cIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKSkrXCIgKi9cIik7dmFyIGE9bmV3IEJsb2IoW3JdLHt0eXBlOlwidGV4dC9jc3NcIn0pLHM9dC5ocmVmO3QuaHJlZj1VUkwuY3JlYXRlT2JqZWN0VVJMKGEpLHMmJlVSTC5yZXZva2VPYmplY3RVUkwocyl9LmJpbmQobnVsbCxuLGUpLGk9ZnVuY3Rpb24oKXttKG4pLG4uaHJlZiYmVVJMLnJldm9rZU9iamVjdFVSTChuLmhyZWYpfSk6KG49ZyhlKSxyPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5jc3Mscj1lLm1lZGlhO3ImJnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIixyKTtpZih0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9bjtlbHNle2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fS5iaW5kKG51bGwsbiksaT1mdW5jdGlvbigpe20obil9KTtyZXR1cm4gcih0KSxmdW5jdGlvbihlKXtpZihlKXtpZihlLmNzcz09PXQuY3NzJiZlLm1lZGlhPT09dC5tZWRpYSYmZS5zb3VyY2VNYXA9PT10LnNvdXJjZU1hcClyZXR1cm47cih0PWUpfWVsc2UgaSgpfX10LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpOyhlPWV8fHt9KS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgZS5hdHRycz9lLmF0dHJzOnt9LGUuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIGUuc2luZ2xldG9ufHwoZS5zaW5nbGV0b249YSgpKSxlLmluc2VydEludG98fChlLmluc2VydEludG89XCJoZWFkXCIpLGUuaW5zZXJ0QXR8fChlLmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciBuPWgodCxlKTtyZXR1cm4gZChuLGUpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bXSxpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBhPW5baV07KHM9b1thLmlkXSkucmVmcy0tLHIucHVzaChzKX10JiZkKGgodCxlKSxlKTtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgcztpZigwPT09KHM9cltpXSkucmVmcyl7Zm9yKHZhciBsPTA7bDxzLnBhcnRzLmxlbmd0aDtsKyspcy5wYXJ0c1tsXSgpO2RlbGV0ZSBvW3MuaWRdfX19fTt2YXIgYix4PShiPVtdLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJbdF09ZSxiLmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfSk7ZnVuY3Rpb24gdyh0LGUsbixyKXt2YXIgaT1uP1wiXCI6ci5jc3M7aWYodC5zdHlsZVNoZWV0KXQuc3R5bGVTaGVldC5jc3NUZXh0PXgoZSxpKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGkpLGE9dC5jaGlsZE5vZGVzO2FbZV0mJnQucmVtb3ZlQ2hpbGQoYVtlXSksYS5sZW5ndGg/dC5pbnNlcnRCZWZvcmUobyxhW2VdKTp0LmFwcGVuZENoaWxkKG8pfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwNCksaT1uKDE3MCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgbixvLGE9aSh0LGUpO2lmKHIpe3ZhciBzPXIodCk7Zm9yKG89MDtvPHMubGVuZ3RoO28rKyluPXNbb10sZS5pbmRleE9mKG4pPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodCxuKSYmKGFbbl09dFtuXSl9cmV0dXJuIGF9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxMTMpLGk9bigxMDQpLG89bigzNSksYT1uKDE3NSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e30scz1vKG4pO1wiZnVuY3Rpb25cIj09dHlwZW9mIGkmJihzPXMuY29uY2F0KGkobikuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiByKG4sdCkuZW51bWVyYWJsZX0pKSkscy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EodCxlLG5bZV0pfSl9cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMTcpLGk9bigyMjEpLG89bigyMjkpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KXx8aSh0KXx8bygpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbyxhPW4oMTM2KSxzPW4oMjUzKSxsPW4oNTgpLGM9bigxNCksdT1uKDI1KSxmPW4oMjcxKSxkPW4oMTgpLGg9bigxNDIpLHA9bigyNzcpLG09bigyOTApLGc9bigyOTEpLHY9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwseT1PYmplY3QuZGVmaW5lUHJvcGVydHksYj1PYmplY3QuZ2V0UHJvdG90eXBlT2Y7ZyYmKG89U2V0KSx0LmV4cG9ydHM9cj1mdW5jdGlvbigpe3ZhciB0LGU9YXJndW1lbnRzWzBdO2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciByZXF1aXJlcyAnbmV3J1wiKTtyZXR1cm4gdD1nJiZsP2wobmV3IG8sYih0aGlzKSk6dGhpcyxudWxsIT1lJiZoKGUpLHkodCxcIl9fc2V0RGF0YV9fXCIsdShcImNcIixbXSkpLGU/KHAoZSxmdW5jdGlvbih0KXstMT09PXMuY2FsbCh0aGlzLHQpJiZ0aGlzLnB1c2godCl9LHQuX19zZXREYXRhX18pLHQpOnR9LGcmJihsJiZsKHIsbyksci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6dShyKX0pKSxmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHIucHJvdG90eXBlLHthZGQ6dShmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYXModCk/dGhpczoodGhpcy5lbWl0KFwiX2FkZFwiLHRoaXMuX19zZXREYXRhX18ucHVzaCh0KS0xLHQpLHRoaXMpfSksY2xlYXI6dShmdW5jdGlvbigpe3RoaXMuX19zZXREYXRhX18ubGVuZ3RoJiYoYS5jYWxsKHRoaXMuX19zZXREYXRhX18pLHRoaXMuZW1pdChcIl9jbGVhclwiKSl9KSxkZWxldGU6dShmdW5jdGlvbih0KXt2YXIgZT1zLmNhbGwodGhpcy5fX3NldERhdGFfXyx0KTtyZXR1cm4tMSE9PWUmJih0aGlzLl9fc2V0RGF0YV9fLnNwbGljZShlLDEpLHRoaXMuZW1pdChcIl9kZWxldGVcIixlLHQpLCEwKX0pLGVudHJpZXM6dShmdW5jdGlvbigpe3JldHVybiBuZXcgbSh0aGlzLFwia2V5K3ZhbHVlXCIpfSksZm9yRWFjaDp1KGZ1bmN0aW9uKHQpe3ZhciBlLG4scixpPWFyZ3VtZW50c1sxXTtmb3IoYyh0KSxuPShlPXRoaXMudmFsdWVzKCkpLl9uZXh0KCk7dm9pZCAwIT09bjspcj1lLl9yZXNvbHZlKG4pLHYuY2FsbCh0LGkscixyLHRoaXMpLG49ZS5fbmV4dCgpfSksaGFzOnUoZnVuY3Rpb24odCl7cmV0dXJuLTEhPT1zLmNhbGwodGhpcy5fX3NldERhdGFfXyx0KX0pLGtleXM6dShpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9KSxzaXplOnUuZ3MoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX3NldERhdGFfXy5sZW5ndGh9KSx2YWx1ZXM6dShmdW5jdGlvbigpe3JldHVybiBuZXcgbSh0aGlzKX0pLHRvU3RyaW5nOnUoZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgU2V0XVwifSl9KSkseShyLnByb3RvdHlwZSxkLml0ZXJhdG9yLHUoaSkpLHkoci5wcm90b3R5cGUsZC50b1N0cmluZ1RhZyx1KFwiY1wiLFwiU2V0XCIpKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDI5Myl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7XG4vKiFcbkNvcHlyaWdodCAoQykgMjAxNS0yMDE3IEFuZHJlYSBHaWFtbWFyY2hpIC0gQFdlYlJlZmxlY3Rpb25cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuZnVuY3Rpb24gbih0KXt2YXIgZSxuLGksbyxhLHMsbD1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHRoaXNbY109bCx0KWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KWZvcihcIj9cIj09PXQuY2hhckF0KDApJiYodD10LnNsaWNlKDEpKSxhPTAscz0obz10LnNwbGl0KFwiJlwiKSkubGVuZ3RoO2E8czthKyspLTE8KGU9KGk9b1thXSkuaW5kZXhPZihcIj1cIikpP2YobCxkKGkuc2xpY2UoMCxlKSksZChpLnNsaWNlKGUrMSkpKTppLmxlbmd0aCYmZihsLGQoaSksXCJcIik7ZWxzZSBpZihyKHQpKWZvcihhPTAscz10Lmxlbmd0aDthPHM7YSsrKWYobCwoaT10W2FdKVswXSxpWzFdKTtlbHNlIGlmKHQuZm9yRWFjaCl0LmZvckVhY2godSxsKTtlbHNlIGZvcihuIGluIHQpZihsLG4sdFtuXSl9dmFyIHI9QXJyYXkuaXNBcnJheSxpPW4ucHJvdG90eXBlLG89L1shJ1xcKFxcKX5dfCUyMHwlMDAvZyxhPS9cXCsvZyxzPXtcIiFcIjpcIiUyMVwiLFwiJ1wiOlwiJTI3XCIsXCIoXCI6XCIlMjhcIixcIilcIjpcIiUyOVwiLFwiflwiOlwiJTdFXCIsXCIlMjBcIjpcIitcIixcIiUwMFwiOlwiXFwwXCJ9LGw9ZnVuY3Rpb24odCl7cmV0dXJuIHNbdF19LGM9XCJfX1VSTFNlYXJjaFBhcmFtc19fOlwiK01hdGgucmFuZG9tKCk7ZnVuY3Rpb24gdSh0LGUpe2YodGhpcyxlLHQpfWZ1bmN0aW9uIGYodCxlLG4pe3ZhciBpPXIobik/bi5qb2luKFwiLFwiKTpuO2UgaW4gdD90W2VdLnB1c2goaSk6dFtlXT1baV19ZnVuY3Rpb24gZCh0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQucmVwbGFjZShhLFwiIFwiKSl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQpLnJlcGxhY2UobyxsKX1pLmFwcGVuZD1mdW5jdGlvbih0LGUpe2YodGhpc1tjXSx0LGUpfSxpLmRlbGV0ZT1mdW5jdGlvbih0KXtkZWxldGUgdGhpc1tjXVt0XX0saS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpc1tjXTtyZXR1cm4gdCBpbiBlP2VbdF1bMF06bnVsbH0saS5nZXRBbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpc1tjXTtyZXR1cm4gdCBpbiBlP2VbdF0uc2xpY2UoMCk6W119LGkuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluIHRoaXNbY119LGkuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpc1tjXVt0XT1bXCJcIitlXX0saS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpc1tjXTtPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhuKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe25bcl0uZm9yRWFjaChmdW5jdGlvbihuKXt0LmNhbGwoZSxuLHIsdGhpcyl9LHRoaXMpfSx0aGlzKX0saS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57fX0saS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk9dGhpc1tjXSxvPVtdO2ZvcihlIGluIGkpZm9yKG49aChlKSx0PTAscj1pW2VdO3Q8ci5sZW5ndGg7dCsrKW8ucHVzaChuK1wiPVwiK2goclt0XSkpO3JldHVybiBvLmpvaW4oXCImXCIpfSxmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4hIVN5bWJvbC5pdGVyYXRvcn1jYXRjaCh0KXtyZXR1cm4hMX19KCk7XCJmb3JFYWNoXCJpbiB0fHwodC5mb3JFYWNoPWZ1bmN0aW9uKHQsZSl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLnRvU3RyaW5nKCkucmVwbGFjZSgvPVtcXHNcXFNdKj8oPzomfCQpL2csXCI9XCIpLnNwbGl0KFwiPVwiKS5mb3JFYWNoKGZ1bmN0aW9uKHIpeyFyLmxlbmd0aHx8ciBpbiBufHwobltyXT10aGlzLmdldEFsbChyKSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LmNhbGwoZSxuLHIsdGhpcyl9LHRoaXMpfSx0aGlzKX0pLFwia2V5c1wiaW4gdHx8KHQua2V5cz1mdW5jdGlvbigpe3ZhciB0PVtdO3RoaXMuZm9yRWFjaChmdW5jdGlvbihlLG4pe3QucHVzaChuKX0pO3ZhciBuPXtuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dC5zaGlmdCgpO3JldHVybntkb25lOnZvaWQgMD09PWUsdmFsdWU6ZX19fTtyZXR1cm4gZSYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBufSksbn0pLFwidmFsdWVzXCJpbiB0fHwodC52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTt0aGlzLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSk7dmFyIG49e25leHQ6ZnVuY3Rpb24oKXt2YXIgZT10LnNoaWZ0KCk7cmV0dXJue2RvbmU6dm9pZCAwPT09ZSx2YWx1ZTplfX19O3JldHVybiBlJiYobltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIG59KSxufSksXCJlbnRyaWVzXCJpbiB0fHwodC5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9W107dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dC5wdXNoKFtuLGVdKX0pO3ZhciBuPXtuZXh0OmZ1bmN0aW9uKCl7dmFyIGU9dC5zaGlmdCgpO3JldHVybntkb25lOnZvaWQgMD09PWUsdmFsdWU6ZX19fTtyZXR1cm4gZSYmKG5bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBufSksbn0pLCFlfHxTeW1ib2wuaXRlcmF0b3IgaW4gdHx8KHRbU3ltYm9sLml0ZXJhdG9yXT10LmVudHJpZXMpLFwic29ydFwiaW4gdHx8KHQuc29ydD1mdW5jdGlvbigpe2Zvcih2YXIgdCxlLG4scj10aGlzLmVudHJpZXMoKSxpPXIubmV4dCgpLG89aS5kb25lLGE9W10scz1PYmplY3QuY3JlYXRlKG51bGwpOyFvOyllPShuPWkudmFsdWUpWzBdLGEucHVzaChlKSxlIGluIHN8fChzW2VdPVtdKSxzW2VdLnB1c2goblsxXSksbz0oaT1yLm5leHQoKSkuZG9uZTtmb3IoYS5zb3J0KCksdD0wO3Q8YS5sZW5ndGg7dCsrKXRoaXMuZGVsZXRlKGFbdF0pO2Zvcih0PTA7dDxhLmxlbmd0aDt0KyspZT1hW3RdLHRoaXMuYXBwZW5kKGUsc1tlXS5zaGlmdCgpKX0pfSgobj10LmV4cG9ydHM9ZS5VUkxTZWFyY2hQYXJhbXN8fG4pLnByb3RvdHlwZSl9KS5jYWxsKHRoaXMsbigxNDUpKX0sZnVuY3Rpb24odCxlKXt2YXIgbj1BcnJheS5pc0FycmF5O3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdHx8bih0KXx8T2JqZWN0LmtleXModCkubGVuZ3RoKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtcbi8qIVxuICogZXNjYXBlLWh0bWxcbiAqIENvcHlyaWdodChjKSAyMDEyLTIwMTMgVEogSG9sb3dheWNodWtcbiAqIENvcHlyaWdodChjKSAyMDE1IEFuZHJlYXMgTHViYmVcbiAqIENvcHlyaWdodChjKSAyMDE1IFRpYW5jaGVuZyBcIlRpbW90aHlcIiBHdVxuICogTUlUIExpY2Vuc2VkXG4gKi92YXIgcj0vW1wiJyY8Pl0vO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuPVwiXCIrdCxpPXIuZXhlYyhuKTtpZighaSlyZXR1cm4gbjt2YXIgbz1cIlwiLGE9MCxzPTA7Zm9yKGE9aS5pbmRleDthPG4ubGVuZ3RoO2ErKyl7c3dpdGNoKG4uY2hhckNvZGVBdChhKSl7Y2FzZSAzNDplPVwiJnF1b3Q7XCI7YnJlYWs7Y2FzZSAzODplPVwiJmFtcDtcIjticmVhaztjYXNlIDM5OmU9XCImIzM5O1wiO2JyZWFrO2Nhc2UgNjA6ZT1cIiZsdDtcIjticmVhaztjYXNlIDYyOmU9XCImZ3Q7XCI7YnJlYWs7ZGVmYXVsdDpjb250aW51ZX1zIT09YSYmKG8rPW4uc3Vic3RyaW5nKHMsYSkpLHM9YSsxLG8rPWV9cmV0dXJuIHMhPT1hP28rbi5zdWJzdHJpbmcocyxhKTpvfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByLGk9bigzMTkpLG89bigzMjApLGE9bigzMjEpLHM9KHI9YSkmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9O2Z1bmN0aW9uIGwodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGModCxlKXtpZighdCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlP3Q6ZX1mdW5jdGlvbiB1KHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIGUpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLGUmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsZSk6dC5fX3Byb3RvX189ZSl9ZS5kZWZhdWx0PXtzaG93OmkuU2hvdyxoaWRlOmkuSGlkZSxmYWRlSW46by5GYWRlSW4sb25jbGljazpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImNsaWNrXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmNvbnRleHRtZW51OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiY29udGV4dG1lbnVcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uZGJsY2xpY2s6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJkYmxjbGlja1wiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25tb3VzZWRvd246ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJtb3VzZWRvd25cIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ubW91c2VlbnRlcjpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcIm1vdXNlZW50ZXJcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ubW91c2VsZWF2ZTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcIm1vdXNlbGVhdmVcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ubW91c2Vtb3ZlOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwibW91c2Vtb3ZlXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbm1vdXNlb3ZlcjpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcIm1vdXNlb3ZlclwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25tb3VzZW91dDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcIm1vdXNlb3V0XCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbm1vdXNldXA6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJtb3VzZXVwXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmtleWRvd246ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJrZXlkb3duXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmtleXByZXNzOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwia2V5cHJlc3NcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9ua2V5dXA6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJrZXl1cFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25sb2FkOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwibG9hZFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25yZXNpemU6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJyZXNpemVcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uc2Nyb2xsOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwic2Nyb2xsXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmJsdXI6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJibHVyXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmNoYW5nZTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImNoYW5nZVwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25mb2N1czpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImZvY3VzXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmZvY3VzaW46ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJmb2N1c2luXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmZvY3Vzb3V0OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiZm9jdXNvdXRcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uaW5wdXQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJpbnB1dFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25yZXNldDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcInJlc2V0XCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbnNlbGVjdDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcInNlbGVjdFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25zdWJtaXQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJzdWJtaXRcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uZHJhZzpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImRyYWdcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uZHJhZ2VuZDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImRyYWdlbmRcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLG9uZHJhZ2VudGVyOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiZHJhZ2VudGVyXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmRyYWdsZWF2ZTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImRyYWdsZWF2ZVwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25kcmFnb3ZlcjpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImRyYWdvdmVyXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbmRyYWdzdGFydDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIGwodGhpcyxlKSxjKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLmNhbGwodGhpcyxcImRyYWdzdGFydFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksb25kcm9wOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiZHJvcFwiKSl9cmV0dXJuIHUoZSxzLmRlZmF1bHQpLGV9KCksYW5pbWF0aW9uZW5kOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiYW5pbWF0aW9uZW5kXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxhbmltYXRpb25pdGVyYXRpb246ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJhbmltYXRpb25pdGVyYXRpb25cIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLGFuaW1hdGlvbnN0YXJ0OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwiYW5pbWF0aW9uc3RhcnRcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpLHRyYW5zaXRpb25lbmQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbm1lc3NhZ2U6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJtZXNzYWdlXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbm9wZW46ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBsKHRoaXMsZSksYyh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZihlKS5jYWxsKHRoaXMsXCJvcGVuXCIpKX1yZXR1cm4gdShlLHMuZGVmYXVsdCksZX0oKSxvbndoZWVsOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbCh0aGlzLGUpLGModGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkuY2FsbCh0aGlzLFwid2hlZWxcIikpfXJldHVybiB1KGUscy5kZWZhdWx0KSxlfSgpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9big0NSksbz0ocj1uKDMyNSkpJiZyLl9fZXNNb2R1bGU/ci5kZWZhdWx0OnI7dmFyIGE9ZnVuY3Rpb24odCxlLG4pe3ZhciByLGk9ZS5sZW5ndGgsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2ZvcihvLmlubmVySFRNTD1uO2ktLSA+MDspZVtpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUucG9wKCkpO2ZvcihpPXI9by5jaGlsZE5vZGVzLmxlbmd0aC0xO3I+PTA7ci0tKWUucHVzaChvLmNoaWxkTm9kZXNbcl0pO2lmKCsraSw4PT10Lm5vZGVUeXBlKXtpZighdC5wYXJlbnROb2RlKXRocm93XCJDYW4gbm90IGluc2VydCBjaGlsZCB2aWV3IGludG8gcGFyZW50IG5vZGUuIFlvdSBuZWVkIGFwcGVuZCB5b3VyIHZpZXcgZmlyc3QgYW5kIHRoZW4gdXBkYXRlLlwiO2Zvcig7aS0tID4wOyl0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVbaV0sdCl9ZWxzZSBmb3IoO2ktLSA+MDspdC5hcHBlbmRDaGlsZChlW2ldKX07ZnVuY3Rpb24gcygpe2kuY2FsbCh0aGlzKTt2YXIgdD10aGlzLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscj1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIiksbz17fSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscz1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIiksaD17fSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKSxnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdj1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIikseT17fSxiPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJpZlwiKSx4PXt9LHc9e30sQz1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIiksaz17fTthLmFwcGVuZENoaWxkKHMpLGEuYXBwZW5kQ2hpbGQocCksYS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiY29kZS1hcmVhIFwiKSxnLmFwcGVuZENoaWxkKHYpLGcuYXBwZW5kQ2hpbGQoYiksZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwianMtY29kZS1vdXRwdXQtZXhlY3V0b3IgXCIpLG4uYXBwZW5kQ2hpbGQociksbi5hcHBlbmRDaGlsZChhKSxuLmFwcGVuZENoaWxkKGcpLG4uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImV4ZWN1dGFibGUtZnJhZ21lbnQgXCIpLGUuYXBwZW5kQ2hpbGQobiksZS5hcHBlbmRDaGlsZChDKSxlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJleGVjdXRhYmxlLWZyYWdtZW50LXdyYXBwZXJcIiksdGhpcy5fX3VwZGF0ZV9fPXtoaWdobGlnaHRPbmx5OmZ1bmN0aW9uKGUpe2kuY29uZCh0LHIsbyxsLCFlKSxpLmNvbmQodCxDLGssbSwhZSl9LGlzU2hvdWxkQmVGb2xkZWQ6ZnVuY3Rpb24oZSl7aS5jb25kKHQscyxoLGMsZSl9LGZvbGRlZDpmdW5jdGlvbih0KXthLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJjb2RlLWFyZWEgXCIrKHQ/XCJfZm9sZGVkXCI6XCJfdW5mb2xkZWRcIikpfSxvcGVuQ29uc29sZTpmdW5jdGlvbihlKXtpLmNvbmQodCx2LHksdSxlKX0sd2FpdGluZ0Zvck91dHB1dDpmdW5jdGlvbihlKXt2YXIgbjtuPWkuY29uZCh0LGIseCxmLGUpLGkuY29uZCh0LGIsdyxkLCFuKX0sdGhlbWU6ZnVuY3Rpb24odCl7Zy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwianMtY29kZS1vdXRwdXQtZXhlY3V0b3IgXCIrdCksbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZXhlY3V0YWJsZS1mcmFnbWVudCBcIit0KX19LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24odCl7by5yZWYmJm8ucmVmLnVwZGF0ZSh0KSxoLnJlZiYmaC5yZWYudXBkYXRlKHQpLHkucmVmJiZ5LnJlZi51cGRhdGUodCkseC5yZWYmJngucmVmLnVwZGF0ZSh0KSx3LnJlZiYmdy5yZWYudXBkYXRlKHQpLGsucmVmJiZrLnJlZi51cGRhdGUodCl9LHRoaXMubm9kZXM9W2VdfWZ1bmN0aW9uIGwoKXtpLmNhbGwodGhpcyk7dmFyIHQsZT10aGlzLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJydW4tYnV0dG9uIFwiKSx0aGlzLl9fdXBkYXRlX189e3dhaXRpbmdGb3JPdXRwdXQ6ZnVuY3Rpb24odCl7bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwicnVuLWJ1dHRvbiBcIisodD9cIl9kaXNhYmxlZFwiOlwiXCIpKX19LHRoaXMub25SZW5kZXI9ZnVuY3Rpb24oKXt2b2lkIDA9PT10JiYodD1uZXcgZS5kaXJlY3RpdmVzLm9uY2xpY2spLHQuYmluZChuKSx0LnVwZGF0ZShlLnBhcmVudC5leGVjdXRlLmJpbmQoZS5wYXJlbnQpKX0sdGhpcy5vblJlbW92ZT1mdW5jdGlvbihlKXt0LnVuYmluZChuKX0sdGhpcy5ub2Rlcz1bbl19ZnVuY3Rpb24gYygpe2kuY2FsbCh0aGlzKSx0aGlzLl9fY2FjaGVfXz17fTt2YXIgdCxlLG49dGhpcyxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZm9sZC1idXR0b24gIFwiKSx0aGlzLl9fdXBkYXRlX189e2ZvbGRCdXR0b25Ib3Zlcl90aGVtZTpmdW5jdGlvbih0LGUpe3Iuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImZvbGQtYnV0dG9uIFwiKyh0P1wiX2hvdmVyXCI6XCJcIikrXCIgXCIrZSl9fSx0aGlzLm9uUmVuZGVyPWZ1bmN0aW9uKCl7dm9pZCAwPT09dCYmKHQ9bmV3IG4uZGlyZWN0aXZlcy5vbm1vdXNlZW50ZXIpLHQuYmluZChyKSx0LnVwZGF0ZShuLnBhcmVudC5vbkZvbGRCdXR0b25Nb3VzZUVudGVyLmJpbmQobi5wYXJlbnQpKSx2b2lkIDA9PT1lJiYoZT1uZXcgbi5kaXJlY3RpdmVzLm9ubW91c2VsZWF2ZSksZS5iaW5kKHIpLGUudXBkYXRlKG4ucGFyZW50Lm9uRm9sZEJ1dHRvbk1vdXNlTGVhdmUuYmluZChuLnBhcmVudCkpfSx0aGlzLm9uUmVtb3ZlPWZ1bmN0aW9uKG4pe3QudW5iaW5kKHIpLGUudW5iaW5kKHIpfSx0aGlzLm5vZGVzPVtyXX1mdW5jdGlvbiB1KCl7aS5jYWxsKHRoaXMpO3ZhciB0LGU9dGhpcyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiY29uc29sZS1jbG9zZSBcIiksdGhpcy5fX3VwZGF0ZV9fPXt0aGVtZTpmdW5jdGlvbih0KXtuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJjb25zb2xlLWNsb3NlIFwiK3QpfX0sdGhpcy5vblJlbmRlcj1mdW5jdGlvbigpe3ZvaWQgMD09PXQmJih0PW5ldyBlLmRpcmVjdGl2ZXMub25jbGljayksdC5iaW5kKG4pLHQudXBkYXRlKGUucGFyZW50Lm9uQ29uc29sZUNsb3NlQnV0dG9uRW50ZXIuYmluZChlLnBhcmVudCkpfSx0aGlzLm9uUmVtb3ZlPWZ1bmN0aW9uKGUpe3QudW5iaW5kKG4pfSx0aGlzLm5vZGVzPVtuXX1mdW5jdGlvbiBmKCl7aS5jYWxsKHRoaXMpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImxvYWRlciBcIiksdC5hcHBlbmRDaGlsZChlKSx0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJvdXRwdXQtd3JhcHBlciBcIiksdGhpcy5fX3VwZGF0ZV9fPXt0aGVtZTpmdW5jdGlvbihuKXtlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJsb2FkZXIgXCIrbiksdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwib3V0cHV0LXdyYXBwZXIgXCIrbil9fSx0aGlzLm5vZGVzPVt0XX1mdW5jdGlvbiBkKCl7aS5jYWxsKHRoaXMpLHRoaXMuX19jYWNoZV9fPXt9O3ZhciB0PXRoaXMsZT1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIiksbj17fTt0aGlzLl9fdXBkYXRlX189e2V4Y2VwdGlvbl9vdXRwdXQ6ZnVuY3Rpb24ocixvKXtpLmNvbmQodCxlLG4saCxvJiZcIlwiIT1vfHxyKX19LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24odCl7bi5yZWYmJm4ucmVmLnVwZGF0ZSh0KX0sdGhpcy5ub2Rlcz1bZV19ZnVuY3Rpb24gaCgpe2kuY2FsbCh0aGlzKTt2YXIgdD10aGlzLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscj1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwidW5zYWZlXCIpLG89W10scz1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIiksbD17fTtuLmFwcGVuZENoaWxkKHIpLG4uYXBwZW5kQ2hpbGQocyksbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiY29kZS1vdXRwdXRcIiksZS5hcHBlbmRDaGlsZChuKSxlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJvdXRwdXQtd3JhcHBlciBcIiksdGhpcy5fX3VwZGF0ZV9fPXtvdXRwdXQ6ZnVuY3Rpb24odCl7YShyLG8sdCl9LGV4Y2VwdGlvbjpmdW5jdGlvbihlKXtpLmNvbmQodCxzLGwscCxlKX0sdGhlbWU6ZnVuY3Rpb24odCl7ZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwib3V0cHV0LXdyYXBwZXIgXCIrdCl9fSx0aGlzLm9uVXBkYXRlPWZ1bmN0aW9uKHQpe2wucmVmJiZsLnJlZi51cGRhdGUodCl9LHRoaXMubm9kZXM9W2VdfWZ1bmN0aW9uIHAoKXtpLmNhbGwodGhpcyk7dmFyIHQ9dGhpcyxlPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJFeGNlcHRpb25cIiksbj17fTt0aGlzLl9fdXBkYXRlX189e2V4Y2VwdGlvbjpmdW5jdGlvbihyKXtpLmluc2VydCh0LGUsbixvLHIpfX0sdGhpcy5vblJlbmRlcj1mdW5jdGlvbigpe2kuaW5zZXJ0KHQsZSxuLG8se29yaWdpbmFsRXhjZXB0aW9uOiEwLG9uRXhjZXB0aW9uQ2xpY2s6dC5wYXJlbnQucGFyZW50LnBhcmVudC5vbkV4Y2VwdGlvbkNsaWNrLmJpbmQodC5wYXJlbnQucGFyZW50LnBhcmVudCl9KX0sdGhpcy5ub2Rlcz1bZV19ZnVuY3Rpb24gbSgpe2kuY2FsbCh0aGlzKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksbj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLG89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlRhcmdldCBwbGF0Zm9ybTogXCIpKSxlLmFwcGVuZENoaWxkKG4pLHIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJSdW5uaW5nIG9uIGtvdGxpbiB2LiBcIikpLHIuYXBwZW5kQ2hpbGQobyksdC5hcHBlbmRDaGlsZChlKSx0LmFwcGVuZENoaWxkKHIpLHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImNvbXBpbGVyLWluZm9cIiksdGhpcy5fX3VwZGF0ZV9fPXt0YXJnZXRQbGF0Zm9ybTpmdW5jdGlvbih0KXtuLnRleHRDb250ZW50PXQucHJpbnRhYmxlTmFtZX0sY29tcGlsZXJWZXJzaW9uOmZ1bmN0aW9uKHQpe28udGV4dENvbnRlbnQ9dH19LHRoaXMubm9kZXM9W3RdfXMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHMucHJvdG90eXBlLmNvbnN0cnVjdG9yPXMscy5wb29sPVtdLHMucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LmhpZ2hsaWdodE9ubHkmJnRoaXMuX191cGRhdGVfXy5oaWdobGlnaHRPbmx5KHQuaGlnaGxpZ2h0T25seSksdm9pZCAwIT09dC5pc1Nob3VsZEJlRm9sZGVkJiZ0aGlzLl9fdXBkYXRlX18uaXNTaG91bGRCZUZvbGRlZCh0LmlzU2hvdWxkQmVGb2xkZWQpLHZvaWQgMCE9PXQuZm9sZGVkJiZ0aGlzLl9fdXBkYXRlX18uZm9sZGVkKHQuZm9sZGVkKSx2b2lkIDAhPT10Lm9wZW5Db25zb2xlJiZ0aGlzLl9fdXBkYXRlX18ub3BlbkNvbnNvbGUodC5vcGVuQ29uc29sZSksdm9pZCAwIT09dC53YWl0aW5nRm9yT3V0cHV0JiZ0aGlzLl9fdXBkYXRlX18ud2FpdGluZ0Zvck91dHB1dCh0LndhaXRpbmdGb3JPdXRwdXQpLHZvaWQgMCE9PXQudGhlbWUmJnRoaXMuX191cGRhdGVfXy50aGVtZSh0LnRoZW1lKSx0aGlzLm9uVXBkYXRlKHQpfSxsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1sLGwucG9vbD1bXSxsLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC53YWl0aW5nRm9yT3V0cHV0JiZ0aGlzLl9fdXBkYXRlX18ud2FpdGluZ0Zvck91dHB1dCh0LndhaXRpbmdGb3JPdXRwdXQpfSxjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxjLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jLGMucG9vbD1bXSxjLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5mb2xkQnV0dG9uSG92ZXImJih0aGlzLl9fY2FjaGVfXy5mb2xkQnV0dG9uSG92ZXI9dC5mb2xkQnV0dG9uSG92ZXIpLHZvaWQgMCE9PXQudGhlbWUmJih0aGlzLl9fY2FjaGVfXy50aGVtZT10LnRoZW1lKSx2b2lkIDAhPT10aGlzLl9fY2FjaGVfXy5mb2xkQnV0dG9uSG92ZXImJnZvaWQgMCE9PXRoaXMuX19jYWNoZV9fLnRoZW1lJiZ0aGlzLl9fdXBkYXRlX18uZm9sZEJ1dHRvbkhvdmVyX3RoZW1lKHRoaXMuX19jYWNoZV9fLmZvbGRCdXR0b25Ib3Zlcix0aGlzLl9fY2FjaGVfXy50aGVtZSl9LHUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLHUucHJvdG90eXBlLmNvbnN0cnVjdG9yPXUsdS5wb29sPVtdLHUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LnRoZW1lJiZ0aGlzLl9fdXBkYXRlX18udGhlbWUodC50aGVtZSl9LGYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLGYucHJvdG90eXBlLmNvbnN0cnVjdG9yPWYsZi5wb29sPVtdLGYucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LnRoZW1lJiZ0aGlzLl9fdXBkYXRlX18udGhlbWUodC50aGVtZSl9LGQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQsZC5wb29sPVtdLGQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LmV4Y2VwdGlvbiYmKHRoaXMuX19jYWNoZV9fLmV4Y2VwdGlvbj10LmV4Y2VwdGlvbiksdm9pZCAwIT09dC5vdXRwdXQmJih0aGlzLl9fY2FjaGVfXy5vdXRwdXQ9dC5vdXRwdXQpLHZvaWQgMCE9PXRoaXMuX19jYWNoZV9fLmV4Y2VwdGlvbiYmdm9pZCAwIT09dGhpcy5fX2NhY2hlX18ub3V0cHV0JiZ0aGlzLl9fdXBkYXRlX18uZXhjZXB0aW9uX291dHB1dCh0aGlzLl9fY2FjaGVfXy5leGNlcHRpb24sdGhpcy5fX2NhY2hlX18ub3V0cHV0KSx0aGlzLm9uVXBkYXRlKHQpfSxoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1oLGgucG9vbD1bXSxoLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5vdXRwdXQmJnRoaXMuX191cGRhdGVfXy5vdXRwdXQodC5vdXRwdXQpLHZvaWQgMCE9PXQuZXhjZXB0aW9uJiZ0aGlzLl9fdXBkYXRlX18uZXhjZXB0aW9uKHQuZXhjZXB0aW9uKSx2b2lkIDAhPT10LnRoZW1lJiZ0aGlzLl9fdXBkYXRlX18udGhlbWUodC50aGVtZSksdGhpcy5vblVwZGF0ZSh0KX0scC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSkscC5wcm90b3R5cGUuY29uc3RydWN0b3I9cCxwLnBvb2w9W10scC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuZXhjZXB0aW9uJiZ0aGlzLl9fdXBkYXRlX18uZXhjZXB0aW9uKHQuZXhjZXB0aW9uKX0sbS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSksbS5wcm90b3R5cGUuY29uc3RydWN0b3I9bSxtLnBvb2w9W10sbS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQudGFyZ2V0UGxhdGZvcm0mJnRoaXMuX191cGRhdGVfXy50YXJnZXRQbGF0Zm9ybSh0LnRhcmdldFBsYXRmb3JtKSx2b2lkIDAhPT10LmNvbXBpbGVyVmVyc2lvbiYmdGhpcy5fX3VwZGF0ZV9fLmNvbXBpbGVyVmVyc2lvbih0LmNvbXBpbGVyVmVyc2lvbil9LHQuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0NSk7ZnVuY3Rpb24gaSgpe3IuY2FsbCh0aGlzKTt2YXIgdD10aGlzLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksbj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxpPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJpZlwiKSxsPXt9LGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpLHU9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImZvclwiKSxmPW5ldyByLk1hcCxkPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJmb3JcIiksaD1uZXcgci5NYXA7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnRXhjZXB0aW9uIGluIHRocmVhZCBcIm1haW5cIiAnKSksZS5hcHBlbmRDaGlsZChuKSxlLmFwcGVuZENoaWxkKGkpLGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImVycm9yLW91dHB1dFwiKSx0aGlzLl9fdXBkYXRlX189e2Z1bGxOYW1lOmZ1bmN0aW9uKHQpe24udGV4dENvbnRlbnQ9dH0sbWVzc2FnZTpmdW5jdGlvbihlKXtyLmNvbmQodCxpLGwsbyxlKX0sc3RhY2tUcmFjZTpmdW5jdGlvbihlKXtyLmxvb3AodCx1LGYsYSxlLHt2YWx1ZTpcInN0YWNrdHJhY2VFbGVtZW50XCJ9KX0sY2F1c2VzOmZ1bmN0aW9uKGUpe3IubG9vcCh0LGQsaCxzLGUse3ZhbHVlOlwiY2F1c2VcIn0pfX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbih0KXtsLnJlZiYmbC5yZWYudXBkYXRlKHQpLGYuZm9yRWFjaChmdW5jdGlvbihlKXtlLnVwZGF0ZShlLl9fc3RhdGVfXyksZS51cGRhdGUodCksZS51cGRhdGUoZS5fX3N0YXRlX18pfSksaC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudXBkYXRlKGUuX19zdGF0ZV9fKSxlLnVwZGF0ZSh0KSxlLnVwZGF0ZShlLl9fc3RhdGVfXyl9KX0sdGhpcy5ub2Rlcz1bZSxjLHUsZF19ZnVuY3Rpb24gbygpe3IuY2FsbCh0aGlzKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTt0aGlzLl9fdXBkYXRlX189e21lc3NhZ2U6ZnVuY3Rpb24oZSl7dC50ZXh0Q29udGVudD1lfX0sdGhpcy5ub2Rlcz1bZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCI6IFwiKSx0XX1mdW5jdGlvbiBhKCl7ci5jYWxsKHRoaXMpLHRoaXMuX19zdGF0ZV9fPXt9O3ZhciB0LGU9dGhpcyxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLGk9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksbz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHM9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksbD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKTthLmFwcGVuZENoaWxkKHMpLGEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCI6XCIpKSxhLmFwcGVuZENoaWxkKGwpLGEuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcInN0YWNrdHJhY2UtbGlua1wiKSxuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIGF0IFwiKSksbi5hcHBlbmRDaGlsZChpKSxuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiLlwiKSksbi5hcHBlbmRDaGlsZChvKSxuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIChcIikpLG4uYXBwZW5kQ2hpbGQoYSksbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIikgXCIpKSxuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJzdGFja3RyYWNlLWVsZW1lbnQgZXJyb3Itb3V0cHV0XCIpLHRoaXMuX191cGRhdGVfXz17c3RhY2t0cmFjZUVsZW1lbnQ6ZnVuY3Rpb24obil7aS50ZXh0Q29udGVudD1uLmNsYXNzTmFtZSxvLnRleHRDb250ZW50PW4ubWV0aG9kTmFtZSxzLnRleHRDb250ZW50PW4uZmlsZU5hbWUsbC50ZXh0Q29udGVudD1uLmxpbmVOdW1iZXIsdC51cGRhdGUoZS5wYXJlbnQub25TdGFja1RyYWNlQ2xpY2suYmluZChlLnBhcmVudCxuLmZpbGVOYW1lLG4ubGluZU51bWJlcikpfX0sdGhpcy5vblJlbmRlcj1mdW5jdGlvbigpe3ZvaWQgMD09PXQmJih0PW5ldyBlLmRpcmVjdGl2ZXMub25jbGljayksdC5iaW5kKGEpfSx0aGlzLm9uUmVtb3ZlPWZ1bmN0aW9uKGUpe3QudW5iaW5kKGEpfSx0aGlzLm5vZGVzPVtuLGNdfWZ1bmN0aW9uIHMoKXtyLmNhbGwodGhpcyksdGhpcy5fX3N0YXRlX189e307dmFyIHQ9dGhpcyxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLG49ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksaT1kb2N1bWVudC5jcmVhdGVDb21tZW50KFwiaWZcIiksbz17fSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSxzPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJmb3JcIiksdT1uZXcgci5NYXA7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkNhdXNlZCBieTogXCIpKSxlLmFwcGVuZENoaWxkKG4pLGUuYXBwZW5kQ2hpbGQoaSksZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwiZXJyb3Itb3V0cHV0XCIpLHRoaXMuX191cGRhdGVfXz17ZnVsbE5hbWU6ZnVuY3Rpb24odCl7bi50ZXh0Q29udGVudD10fSxtZXNzYWdlOmZ1bmN0aW9uKGUpe3IuY29uZCh0LGksbyxsLGUpfSxzdGFja1RyYWNlOmZ1bmN0aW9uKGUpe3IubG9vcCh0LHMsdSxjLGUse3ZhbHVlOlwic3RhY2t0cmFjZUVsZW1lbnRcIn0pfX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbih0KXtvLnJlZiYmby5yZWYudXBkYXRlKHQpLHUuZm9yRWFjaChmdW5jdGlvbihlKXtlLnVwZGF0ZShlLl9fc3RhdGVfXyksZS51cGRhdGUodCksZS51cGRhdGUoZS5fX3N0YXRlX18pfSl9LHRoaXMubm9kZXM9W2UsYSxzXX1mdW5jdGlvbiBsKCl7ci5jYWxsKHRoaXMpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO3RoaXMuX191cGRhdGVfXz17bWVzc2FnZTpmdW5jdGlvbihlKXt0LnRleHRDb250ZW50PWV9fSx0aGlzLm5vZGVzPVtkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIjogXCIpLHRdfWZ1bmN0aW9uIGMoKXtyLmNhbGwodGhpcyksdGhpcy5fX3N0YXRlX189e307dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxuPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLGk9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksbz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiYXQgXCIpKSx0LmFwcGVuZENoaWxkKGUpLHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgLlwiKSksdC5hcHBlbmRDaGlsZChuKSx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiKFwiKSksdC5hcHBlbmRDaGlsZChpKSx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiOlwiKSksdC5hcHBlbmRDaGlsZChvKSx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiKVwiKSksdC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwic3RhY2t0cmFjZS1lbGVtZW50IGVycm9yLW91dHB1dFwiKSx0aGlzLl9fdXBkYXRlX189e3N0YWNrdHJhY2VFbGVtZW50OmZ1bmN0aW9uKHQpe2UudGV4dENvbnRlbnQ9dC5jbGFzc05hbWUsbi50ZXh0Q29udGVudD10Lm1ldGhvZE5hbWUsaS50ZXh0Q29udGVudD10LmZpbGVOYW1lLG8udGV4dENvbnRlbnQ9dC5saW5lTnVtYmVyfX0sdGhpcy5ub2Rlcz1bdCxhXX1pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkucG9vbD1bXSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5mdWxsTmFtZSYmdGhpcy5fX3VwZGF0ZV9fLmZ1bGxOYW1lKHQuZnVsbE5hbWUpLHZvaWQgMCE9PXQubWVzc2FnZSYmdGhpcy5fX3VwZGF0ZV9fLm1lc3NhZ2UodC5tZXNzYWdlKSx2b2lkIDAhPT10LnN0YWNrVHJhY2UmJnRoaXMuX191cGRhdGVfXy5zdGFja1RyYWNlKHQuc3RhY2tUcmFjZSksdm9pZCAwIT09dC5jYXVzZXMmJnRoaXMuX191cGRhdGVfXy5jYXVzZXModC5jYXVzZXMpLHRoaXMub25VcGRhdGUodCl9LG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLG8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW8sby5wb29sPVtdLG8ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10Lm1lc3NhZ2UmJnRoaXMuX191cGRhdGVfXy5tZXNzYWdlKHQubWVzc2FnZSl9LGEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpLGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEsYS5wb29sPVtdLGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXt2b2lkIDAhPT10LnN0YWNrdHJhY2VFbGVtZW50JiZ2b2lkIDAhPT10Ll9faW5kZXhfXyYmdGhpcy5fX3VwZGF0ZV9fLnN0YWNrdHJhY2VFbGVtZW50KHQuc3RhY2t0cmFjZUVsZW1lbnQpfSxzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHIucHJvdG90eXBlKSxzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1zLHMucG9vbD1bXSxzLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dm9pZCAwIT09dC5mdWxsTmFtZSYmdGhpcy5fX3VwZGF0ZV9fLmZ1bGxOYW1lKHQuZnVsbE5hbWUpLHZvaWQgMCE9PXQubWVzc2FnZSYmdGhpcy5fX3VwZGF0ZV9fLm1lc3NhZ2UodC5tZXNzYWdlKSx2b2lkIDAhPT10LnN0YWNrVHJhY2UmJnRoaXMuX191cGRhdGVfXy5zdGFja1RyYWNlKHQuc3RhY2tUcmFjZSksdm9pZCAwIT09dC5jYXVzZSYmdC5fX2luZGV4X18sdGhpcy5vblVwZGF0ZSh0KX0sbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSksbC5wcm90b3R5cGUuY29uc3RydWN0b3I9bCxsLnBvb2w9W10sbC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQubWVzc2FnZSYmdGhpcy5fX3VwZGF0ZV9fLm1lc3NhZ2UodC5tZXNzYWdlKX0sYy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSksYy5wcm90b3R5cGUuY29uc3RydWN0b3I9YyxjLnBvb2w9W10sYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuc3RhY2t0cmFjZUVsZW1lbnQmJnZvaWQgMCE9PXQuX19pbmRleF9fJiZ0aGlzLl9fdXBkYXRlX18uc3RhY2t0cmFjZUVsZW1lbnQodC5zdGFja3RyYWNlRWxlbWVudCl9LHQuZXhwb3J0cz1pfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMzI2KX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlLG4pe1xuLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICB2NC4yLjYrOTg2OWE0YmNcbiAqL3ZhciByO3I9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9dmFyIHI9QXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5OmZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0saT0wLG89dm9pZCAwLGE9dm9pZCAwLHM9ZnVuY3Rpb24odCxlKXtwW2ldPXQscFtpKzFdPWUsMj09PShpKz0yKSYmKGE/YShtKTp4KCkpfSxsPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxjPWx8fHt9LHU9Yy5NdXRhdGlvbk9ic2VydmVyfHxjLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsZj1cInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZiYmdm9pZCAwIT09ZSYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKGUpLGQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaW1wb3J0U2NyaXB0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsO2Z1bmN0aW9uIGgoKXt2YXIgdD1zZXRUaW1lb3V0O3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0KG0sMSl9fXZhciBwPW5ldyBBcnJheSgxZTMpO2Z1bmN0aW9uIG0oKXtmb3IodmFyIHQ9MDt0PGk7dCs9Mil7KDAscFt0XSkocFt0KzFdKSxwW3RdPXZvaWQgMCxwW3QrMV09dm9pZCAwfWk9MH12YXIgZyx2LHksYix4PXZvaWQgMDtmdW5jdGlvbiB3KHQsZSl7dmFyIG49dGhpcyxyPW5ldyB0aGlzLmNvbnN0cnVjdG9yKF8pO3ZvaWQgMD09PXJba10mJlIocik7dmFyIGk9bi5fc3RhdGU7aWYoaSl7dmFyIG89YXJndW1lbnRzW2ktMV07cyhmdW5jdGlvbigpe3JldHVybiBEKGkscixvLG4uX3Jlc3VsdCl9KX1lbHNlIEkobixyLHQsZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gQyh0KXtpZih0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PXRoaXMpcmV0dXJuIHQ7dmFyIGU9bmV3IHRoaXMoXyk7cmV0dXJuIEEoZSx0KSxlfWY/eD1mdW5jdGlvbigpe3JldHVybiBlLm5leHRUaWNrKG0pfTp1Pyh2PTAseT1uZXcgdShtKSxiPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLHkub2JzZXJ2ZShiLHtjaGFyYWN0ZXJEYXRhOiEwfSkseD1mdW5jdGlvbigpe2IuZGF0YT12PSsrdiUyfSk6ZD8oKGc9bmV3IE1lc3NhZ2VDaGFubmVsKS5wb3J0MS5vbm1lc3NhZ2U9bSx4PWZ1bmN0aW9uKCl7cmV0dXJuIGcucG9ydDIucG9zdE1lc3NhZ2UoMCl9KTp4PXZvaWQgMD09PWw/ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLnJlcXVpcmUoXCJ2ZXJ0eFwiKTtyZXR1cm4gdm9pZCAwIT09KG89dC5ydW5Pbkxvb3B8fHQucnVuT25Db250ZXh0KT9mdW5jdGlvbigpe28obSl9OmgoKX1jYXRjaCh0KXtyZXR1cm4gaCgpfX0oKTpoKCk7dmFyIGs9TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIpO2Z1bmN0aW9uIF8oKXt9dmFyIFM9dm9pZCAwLEU9MSxUPTIsTz17ZXJyb3I6bnVsbH07ZnVuY3Rpb24gTSh0KXt0cnl7cmV0dXJuIHQudGhlbn1jYXRjaCh0KXtyZXR1cm4gTy5lcnJvcj10LE99fWZ1bmN0aW9uIEwoZSxuLHIpe24uY29uc3RydWN0b3I9PT1lLmNvbnN0cnVjdG9yJiZyPT09dyYmbi5jb25zdHJ1Y3Rvci5yZXNvbHZlPT09Qz9mdW5jdGlvbih0LGUpe2UuX3N0YXRlPT09RT9QKHQsZS5fcmVzdWx0KTplLl9zdGF0ZT09PVQ/Rih0LGUuX3Jlc3VsdCk6SShlLHZvaWQgMCxmdW5jdGlvbihlKXtyZXR1cm4gQSh0LGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gRih0LGUpfSl9KGUsbik6cj09PU8/KEYoZSxPLmVycm9yKSxPLmVycm9yPW51bGwpOnZvaWQgMD09PXI/UChlLG4pOnQocik/ZnVuY3Rpb24odCxlLG4pe3MoZnVuY3Rpb24odCl7dmFyIHI9ITEsaT1mdW5jdGlvbih0LGUsbixyKXt0cnl7dC5jYWxsKGUsbixyKX1jYXRjaCh0KXtyZXR1cm4gdH19KG4sZSxmdW5jdGlvbihuKXtyfHwocj0hMCxlIT09bj9BKHQsbik6UCh0LG4pKX0sZnVuY3Rpb24oZSl7cnx8KHI9ITAsRih0LGUpKX0sdC5fbGFiZWwpOyFyJiZpJiYocj0hMCxGKHQsaSkpfSx0KX0oZSxuLHIpOlAoZSxuKX1mdW5jdGlvbiBBKHQsZSl7dmFyIG4scjt0PT09ZT9GKHQsbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIikpOihyPXR5cGVvZihuPWUpLG51bGw9PT1ufHxcIm9iamVjdFwiIT09ciYmXCJmdW5jdGlvblwiIT09cj9QKHQsZSk6TCh0LGUsTShlKSkpfWZ1bmN0aW9uIE4odCl7dC5fb25lcnJvciYmdC5fb25lcnJvcih0Ll9yZXN1bHQpLGoodCl9ZnVuY3Rpb24gUCh0LGUpe3QuX3N0YXRlPT09UyYmKHQuX3Jlc3VsdD1lLHQuX3N0YXRlPUUsMCE9PXQuX3N1YnNjcmliZXJzLmxlbmd0aCYmcyhqLHQpKX1mdW5jdGlvbiBGKHQsZSl7dC5fc3RhdGU9PT1TJiYodC5fc3RhdGU9VCx0Ll9yZXN1bHQ9ZSxzKE4sdCkpfWZ1bmN0aW9uIEkodCxlLG4scil7dmFyIGk9dC5fc3Vic2NyaWJlcnMsbz1pLmxlbmd0aDt0Ll9vbmVycm9yPW51bGwsaVtvXT1lLGlbbytFXT1uLGlbbytUXT1yLDA9PT1vJiZ0Ll9zdGF0ZSYmcyhqLHQpfWZ1bmN0aW9uIGoodCl7dmFyIGU9dC5fc3Vic2NyaWJlcnMsbj10Ll9zdGF0ZTtpZigwIT09ZS5sZW5ndGgpe2Zvcih2YXIgcj12b2lkIDAsaT12b2lkIDAsbz10Ll9yZXN1bHQsYT0wO2E8ZS5sZW5ndGg7YSs9MylyPWVbYV0saT1lW2Erbl0scj9EKG4scixpLG8pOmkobyk7dC5fc3Vic2NyaWJlcnMubGVuZ3RoPTB9fWZ1bmN0aW9uIEQoZSxuLHIsaSl7dmFyIG89dChyKSxhPXZvaWQgMCxzPXZvaWQgMCxsPXZvaWQgMCxjPXZvaWQgMDtpZihvKXtpZigoYT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdChlKX1jYXRjaCh0KXtyZXR1cm4gTy5lcnJvcj10LE99fShyLGkpKT09PU8/KGM9ITAscz1hLmVycm9yLGEuZXJyb3I9bnVsbCk6bD0hMCxuPT09YSlyZXR1cm4gdm9pZCBGKG4sbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS5cIikpfWVsc2UgYT1pLGw9ITA7bi5fc3RhdGUhPT1TfHwobyYmbD9BKG4sYSk6Yz9GKG4scyk6ZT09PUU/UChuLGEpOmU9PT1UJiZGKG4sYSkpfXZhciB6PTA7ZnVuY3Rpb24gUih0KXt0W2tdPXorKyx0Ll9zdGF0ZT12b2lkIDAsdC5fcmVzdWx0PXZvaWQgMCx0Ll9zdWJzY3JpYmVycz1bXX12YXIgQj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yPXQsdGhpcy5wcm9taXNlPW5ldyB0KF8pLHRoaXMucHJvbWlzZVtrXXx8Uih0aGlzLnByb21pc2UpLHIoZSk/KHRoaXMubGVuZ3RoPWUubGVuZ3RoLHRoaXMuX3JlbWFpbmluZz1lLmxlbmd0aCx0aGlzLl9yZXN1bHQ9bmV3IEFycmF5KHRoaXMubGVuZ3RoKSwwPT09dGhpcy5sZW5ndGg/UCh0aGlzLnByb21pc2UsdGhpcy5fcmVzdWx0KToodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGh8fDAsdGhpcy5fZW51bWVyYXRlKGUpLDA9PT10aGlzLl9yZW1haW5pbmcmJlAodGhpcy5wcm9taXNlLHRoaXMuX3Jlc3VsdCkpKTpGKHRoaXMucHJvbWlzZSxuZXcgRXJyb3IoXCJBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXlcIikpfXJldHVybiB0LnByb3RvdHlwZS5fZW51bWVyYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO3RoaXMuX3N0YXRlPT09UyYmZTx0Lmxlbmd0aDtlKyspdGhpcy5fZWFjaEVudHJ5KHRbZV0sZSl9LHQucHJvdG90eXBlLl9lYWNoRW50cnk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yLHI9bi5yZXNvbHZlO2lmKHI9PT1DKXt2YXIgaT1NKHQpO2lmKGk9PT13JiZ0Ll9zdGF0ZSE9PVMpdGhpcy5fc2V0dGxlZEF0KHQuX3N0YXRlLGUsdC5fcmVzdWx0KTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpdGhpcy5fcmVtYWluaW5nLS0sdGhpcy5fcmVzdWx0W2VdPXQ7ZWxzZSBpZihuPT09SCl7dmFyIG89bmV3IG4oXyk7TChvLHQsaSksdGhpcy5fd2lsbFNldHRsZUF0KG8sZSl9ZWxzZSB0aGlzLl93aWxsU2V0dGxlQXQobmV3IG4oZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KSxlKX1lbHNlIHRoaXMuX3dpbGxTZXR0bGVBdChyKHQpLGUpfSx0LnByb3RvdHlwZS5fc2V0dGxlZEF0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLnByb21pc2U7ci5fc3RhdGU9PT1TJiYodGhpcy5fcmVtYWluaW5nLS0sdD09PVQ/RihyLG4pOnRoaXMuX3Jlc3VsdFtlXT1uKSwwPT09dGhpcy5fcmVtYWluaW5nJiZQKHIsdGhpcy5fcmVzdWx0KX0sdC5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7SSh0LHZvaWQgMCxmdW5jdGlvbih0KXtyZXR1cm4gbi5fc2V0dGxlZEF0KEUsZSx0KX0sZnVuY3Rpb24odCl7cmV0dXJuIG4uX3NldHRsZWRBdChULGUsdCl9KX0sdH0oKSxIPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt0aGlzW2tdPXorKyx0aGlzLl9yZXN1bHQ9dGhpcy5fc3RhdGU9dm9pZCAwLHRoaXMuX3N1YnNjcmliZXJzPVtdLF8hPT10JiYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvclwiKX0oKSx0aGlzIGluc3RhbmNlb2YgZT9mdW5jdGlvbih0LGUpe3RyeXtlKGZ1bmN0aW9uKGUpe0EodCxlKX0sZnVuY3Rpb24oZSl7Rih0LGUpfSl9Y2F0Y2goZSl7Rih0LGUpfX0odGhpcyx0KTpmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIil9KCkpfXJldHVybiBlLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LGUucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdChlKT90aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVzb2x2ZShlKCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSxmdW5jdGlvbih0KXtyZXR1cm4gbi5yZXNvbHZlKGUoKSkudGhlbihmdW5jdGlvbigpe3Rocm93IHR9KX0pOnRoaXMudGhlbihlLGUpfSxlfSgpO3JldHVybiBILnByb3RvdHlwZS50aGVuPXcsSC5hbGw9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCKHRoaXMsdCkucHJvbWlzZX0sSC5yYWNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHIodCk/bmV3IGUoZnVuY3Rpb24obixyKXtmb3IodmFyIGk9dC5sZW5ndGgsbz0wO288aTtvKyspZS5yZXNvbHZlKHRbb10pLnRoZW4obixyKX0pOm5ldyBlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUobmV3IFR5cGVFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS5cIikpfSl9LEgucmVzb2x2ZT1DLEgucmVqZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0aGlzKF8pO3JldHVybiBGKGUsdCksZX0sSC5fc2V0U2NoZWR1bGVyPWZ1bmN0aW9uKHQpe2E9dH0sSC5fc2V0QXNhcD1mdW5jdGlvbih0KXtzPXR9LEguX2FzYXA9cyxILnBvbHlmaWxsPWZ1bmN0aW9uKCl7dmFyIHQ9dm9pZCAwO2lmKHZvaWQgMCE9PW4pdD1uO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYpdD1zZWxmO2Vsc2UgdHJ5e3Q9RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcInBvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudFwiKX12YXIgZT10LlByb21pc2U7aWYoZSl7dmFyIHI9bnVsbDt0cnl7cj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZS5yZXNvbHZlKCkpfWNhdGNoKHQpe31pZihcIltvYmplY3QgUHJvbWlzZV1cIj09PXImJiFlLmNhc3QpcmV0dXJufXQuUHJvbWlzZT1IfSxILlByb21pc2U9SCxIfSx0LmV4cG9ydHM9cigpfSkuY2FsbCh0aGlzLG4oMzUxKSxuKDE0NSkpfSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMzU1KX0sZnVuY3Rpb24odCxlLG4pe24oMTA1KSx0LmV4cG9ydHM9bigxKS5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0OCkoXCJtZXRhXCIpLGk9bigxMSksbz1uKDE1KSxhPW4oMTApLmYscz0wLGw9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYz0hbigyMCkoZnVuY3Rpb24oKXtyZXR1cm4gbChPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLHU9ZnVuY3Rpb24odCl7YSh0LHIse3ZhbHVlOntpOlwiT1wiKyArK3Msdzp7fX19KX0sZj10LmV4cG9ydHM9e0tFWTpyLE5FRUQ6ITEsZmFzdEtleTpmdW5jdGlvbih0LGUpe2lmKCFpKHQpKXJldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6KFwic3RyaW5nXCI9PXR5cGVvZiB0P1wiU1wiOlwiUFwiKSt0O2lmKCFvKHQscikpe2lmKCFsKHQpKXJldHVyblwiRlwiO2lmKCFlKXJldHVyblwiRVwiO3UodCl9cmV0dXJuIHRbcl0uaX0sZ2V0V2VhazpmdW5jdGlvbih0LGUpe2lmKCFvKHQscikpe2lmKCFsKHQpKXJldHVybiEwO2lmKCFlKXJldHVybiExO3UodCl9cmV0dXJuIHRbcl0ud30sb25GcmVlemU6ZnVuY3Rpb24odCl7cmV0dXJuIGMmJmYuTkVFRCYmbCh0KSYmIW8odCxyKSYmdSh0KSx0fX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI3KSxpPW4oNzUpLG89big0MSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXIodCksbj1pLmY7aWYobilmb3IodmFyIGEscz1uKHQpLGw9by5mLGM9MDtzLmxlbmd0aD5jOylsLmNhbGwodCxhPXNbYysrXSkmJmUucHVzaChhKTtyZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE2KSxpPW4oNzEpLG89bigxNjcpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuLGEpe3ZhciBzLGw9cihlKSxjPWkobC5sZW5ndGgpLHU9byhhLGMpO2lmKHQmJm4hPW4pe2Zvcig7Yz51OylpZigocz1sW3UrK10pIT1zKXJldHVybiEwfWVsc2UgZm9yKDtjPnU7dSsrKWlmKCh0fHx1IGluIGwpJiZsW3VdPT09bilyZXR1cm4gdHx8dXx8MDtyZXR1cm4hdCYmLTF9fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNzIpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4odD1yKHQpKTwwP2kodCtlLDApOm8odCxlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDEwKSxpPW4oNyksbz1uKDI3KTt0LmV4cG9ydHM9big4KT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbih0LGUpe2kodCk7Zm9yKHZhciBuLGE9byhlKSxzPWEubGVuZ3RoLGw9MDtzPmw7KXIuZih0LG49YVtsKytdLGVbbl0pO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYpLGk9bigxMTIpLmYsbz17fS50b1N0cmluZyxhPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTt0LmV4cG9ydHMuZj1mdW5jdGlvbih0KXtyZXR1cm4gYSYmXCJbb2JqZWN0IFdpbmRvd11cIj09by5jYWxsKHQpP2Z1bmN0aW9uKHQpe3RyeXtyZXR1cm4gaSh0KX1jYXRjaCh0KXtyZXR1cm4gYS5zbGljZSgpfX0odCk6aShyKHQpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDM1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybnt9O3ZhciBuLGksbz17fSxhPXIodCk7Zm9yKGk9MDtpPGEubGVuZ3RoO2krKyluPWFbaV0sZS5pbmRleE9mKG4pPj0wfHwob1tuXT10W25dKTtyZXR1cm4gb319LGZ1bmN0aW9uKHQsZSxuKXtuKDE3MiksdC5leHBvcnRzPW4oMSkuT2JqZWN0LmtleXN9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI4KSxpPW4oMjcpO24oNzcpKFwia2V5c1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBpKHIodCkpfX0pfSxmdW5jdGlvbih0LGUsbil7bigxNzQpO3ZhciByPW4oMSkuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiByLmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTYpLGk9big1MSkuZjtuKDc3KShcImdldE93blByb3BlcnR5RGVzY3JpcHRvclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkocih0KSxlKX19KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTE0KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlIGluIHQ/cih0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPW4sdH19LGZ1bmN0aW9uKHQsZSxuKXtuKDE3Nyk7dmFyIHI9bigxKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5kZWZpbmVQcm9wZXJ0eSh0LGUsbil9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKTtyKHIuUytyLkYqIW4oOCksXCJPYmplY3RcIix7ZGVmaW5lUHJvcGVydHk6bigxMCkuZn0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MiksaT1uKDMwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIG8sYSxzPVN0cmluZyhpKGUpKSxsPXIobiksYz1zLmxlbmd0aDtyZXR1cm4gbDwwfHxsPj1jP3Q/XCJcIjp2b2lkIDA6KG89cy5jaGFyQ29kZUF0KGwpKTw1NTI5Nnx8bz41NjMxOXx8bCsxPT09Y3x8KGE9cy5jaGFyQ29kZUF0KGwrMSkpPDU2MzIwfHxhPjU3MzQzP3Q/cy5jaGFyQXQobCk6bzp0P3Muc2xpY2UobCxsKzIpOmEtNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNn19fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0hMX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oODUpO24oMzEpKHt0YXJnZXQ6XCJSZWdFeHBcIixwcm90bzohMCxmb3JjZWQ6ciE9PS8uLy5leGVjfSx7ZXhlYzpyfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyKSxpPW4oMjMpLmRvY3VtZW50LG89cihpKSYmcihpLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQodCk6e319fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oODEpKFwibmF0aXZlLWZ1bmN0aW9uLXRvLXN0cmluZ1wiLEZ1bmN0aW9uLnRvU3RyaW5nKX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjIpLGk9bigxODQpLnNldDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvLGE9ZS5jb25zdHJ1Y3RvcjtyZXR1cm4gYSE9PW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihvPWEucHJvdG90eXBlKSE9PW4ucHJvdG90eXBlJiZyKG8pJiZpJiZpKHQsbyksdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyKSxpPW4oMTcpLG89ZnVuY3Rpb24odCxlKXtpZihpKHQpLCFyKGUpJiZudWxsIT09ZSl0aHJvdyBUeXBlRXJyb3IoZStcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIil9O3QuZXhwb3J0cz17c2V0Ok9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKHQsZSxyKXt0cnl7KHI9big4NykoRnVuY3Rpb24uY2FsbCxuKDE4NSkuZihPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIpLnNldCwyKSkodCxbXSksZT0hKHQgaW5zdGFuY2VvZiBBcnJheSl9Y2F0Y2godCl7ZT0hMH1yZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gbyh0LG4pLGU/dC5fX3Byb3RvX189bjpyKHQsbiksdH19KHt9LCExKTp2b2lkIDApLGNoZWNrOm99fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxODYpLGk9bigxMTgpLG89big4OSksYT1uKDExNykscz1uKDg2KSxsPW4oMTE2KSxjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ZS5mPW4oMTIpP2M6ZnVuY3Rpb24odCxlKXtpZih0PW8odCksZT1hKGUsITApLGwpdHJ5e3JldHVybiBjKHQsZSl9Y2F0Y2godCl7fWlmKHModCxlKSlyZXR1cm4gaSghci5mLmNhbGwodCxlKSx0W2VdKX19LGZ1bmN0aW9uKHQsZSl7ZS5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigxODgpLGk9bigxOTEpLmNvbmNhdChcImxlbmd0aFwiLFwicHJvdG90eXBlXCIpO2UuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24odCl7cmV0dXJuIHIodCxpKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDg2KSxpPW4oODkpLG89bigxMjEpKCExKSxhPW4oMTkwKShcIklFX1BST1RPXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLHM9aSh0KSxsPTAsYz1bXTtmb3IobiBpbiBzKW4hPWEmJnIocyxuKSYmYy5wdXNoKG4pO2Zvcig7ZS5sZW5ndGg+bDspcihzLG49ZVtsKytdKSYmKH5vKGMsbil8fGMucHVzaChuKSk7cmV0dXJuIGN9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big1MiksaT1NYXRoLm1heCxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybih0PXIodCkpPDA/aSh0K2UsMCk6byh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oODEpKFwia2V5c1wiKSxpPW4oODMpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gclt0XXx8KHJbdF09aSh0KSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZlwiLnNwbGl0KFwiLFwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjMpLGk9big0Miksbz1uKDEyKSxhPW4oOSkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1yW3RdO28mJmUmJiFlW2FdJiZpLmYoZSxhLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big0MikuZixpPUZ1bmN0aW9uLnByb3RvdHlwZSxvPS9eXFxzKmZ1bmN0aW9uIChbXiAoXSopLztcIm5hbWVcImluIGl8fG4oMTIpJiZyKGksXCJuYW1lXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuKFwiXCIrdGhpcykubWF0Y2gobylbMV19Y2F0Y2godCl7cmV0dXJuXCJcIn19fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE3KSxpPW4oMTE5KSxvPW4oOSkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGE9cih0KS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/ZTppKG4pfX0sZnVuY3Rpb24odCxlLG4pe24oMTI2KSxuKDQ0KSxuKDU3KSxuKDIwMSksbigyMDkpLG4oMjEwKSx0LmV4cG9ydHM9bigxKS5Qcm9taXNlfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big3MiksaT1uKDUwKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIG8sYSxzPVN0cmluZyhpKGUpKSxsPXIobiksYz1zLmxlbmd0aDtyZXR1cm4gbDwwfHxsPj1jP3Q/XCJcIjp2b2lkIDA6KG89cy5jaGFyQ29kZUF0KGwpKTw1NTI5Nnx8bz41NjMxOXx8bCsxPT09Y3x8KGE9cy5jaGFyQ29kZUF0KGwrMSkpPDU2MzIwfHxhPjU3MzQzP3Q/cy5jaGFyQXQobCk6bzp0P3Muc2xpY2UobCxsKzIpOmEtNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNn19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big3NiksaT1uKDM4KSxvPW4oNDkpLGE9e307bigyMSkoYSxuKDQpKFwiaXRlcmF0b3JcIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dC5wcm90b3R5cGU9cihhLHtuZXh0OmkoMSxuKX0pLG8odCxlK1wiIEl0ZXJhdG9yXCIpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTk5KSxpPW4oMjAwKSxvPW4oMzIpLGE9bigxNik7dC5leHBvcnRzPW4oMTI3KShBcnJheSxcIkFycmF5XCIsZnVuY3Rpb24odCxlKXt0aGlzLl90PWEodCksdGhpcy5faT0wLHRoaXMuX2s9ZX0sZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90LGU9dGhpcy5fayxuPXRoaXMuX2krKztyZXR1cm4hdHx8bj49dC5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLGkoMSkpOmkoMCxcImtleXNcIj09ZT9uOlwidmFsdWVzXCI9PWU/dFtuXTpbbix0W25dXSl9LFwidmFsdWVzXCIpLG8uQXJndW1lbnRzPW8uQXJyYXkscihcImtleXNcIikscihcInZhbHVlc1wiKSxyKFwiZW50cmllc1wiKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTplLGRvbmU6ISF0fX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpLG8sYSxzPW4oMzkpLGw9bigzKSxjPW4oMjYpLHU9big5NSksZj1uKDIpLGQ9bigxMSksaD1uKDQ3KSxwPW4oMjAyKSxtPW4oMjAzKSxnPW4oMTMwKSx2PW4oMTMxKS5zZXQseT1uKDIwNSkoKSxiPW4oOTcpLHg9bigxMzIpLHc9bigyMDYpLEM9bigxMzMpLGs9bC5UeXBlRXJyb3IsXz1sLnByb2Nlc3MsUz1fJiZfLnZlcnNpb25zLEU9UyYmUy52OHx8XCJcIixUPWwuUHJvbWlzZSxPPVwicHJvY2Vzc1wiPT11KF8pLE09ZnVuY3Rpb24oKXt9LEw9aT1iLmYsQT0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PVQucmVzb2x2ZSgxKSxlPSh0LmNvbnN0cnVjdG9yPXt9KVtuKDQpKFwic3BlY2llc1wiKV09ZnVuY3Rpb24odCl7dChNLE0pfTtyZXR1cm4oT3x8XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKE0paW5zdGFuY2VvZiBlJiYwIT09RS5pbmRleE9mKFwiNi42XCIpJiYtMT09PXcuaW5kZXhPZihcIkNocm9tZS82NlwiKX1jYXRjaCh0KXt9fSgpLE49ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuISghZCh0KXx8XCJmdW5jdGlvblwiIT10eXBlb2YoZT10LnRoZW4pKSYmZX0sUD1mdW5jdGlvbih0LGUpe2lmKCF0Ll9uKXt0Ll9uPSEwO3ZhciBuPXQuX2M7eShmdW5jdGlvbigpe2Zvcih2YXIgcj10Ll92LGk9MT09dC5fcyxvPTAsYT1mdW5jdGlvbihlKXt2YXIgbixvLGEscz1pP2Uub2s6ZS5mYWlsLGw9ZS5yZXNvbHZlLGM9ZS5yZWplY3QsdT1lLmRvbWFpbjt0cnl7cz8oaXx8KDI9PXQuX2gmJmoodCksdC5faD0xKSwhMD09PXM/bj1yOih1JiZ1LmVudGVyKCksbj1zKHIpLHUmJih1LmV4aXQoKSxhPSEwKSksbj09PWUucHJvbWlzZT9jKGsoXCJQcm9taXNlLWNoYWluIGN5Y2xlXCIpKToobz1OKG4pKT9vLmNhbGwobixsLGMpOmwobikpOmMocil9Y2F0Y2godCl7dSYmIWEmJnUuZXhpdCgpLGModCl9fTtuLmxlbmd0aD5vOylhKG5bbysrXSk7dC5fYz1bXSx0Ll9uPSExLGUmJiF0Ll9oJiZGKHQpfSl9fSxGPWZ1bmN0aW9uKHQpe3YuY2FsbChsLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk9dC5fdixvPUkodCk7aWYobyYmKGU9eChmdW5jdGlvbigpe08/Xy5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsaSx0KToobj1sLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9uKHtwcm9taXNlOnQscmVhc29uOml9KToocj1sLmNvbnNvbGUpJiZyLmVycm9yJiZyLmVycm9yKFwiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uXCIsaSl9KSx0Ll9oPU98fEkodCk/MjoxKSx0Ll9hPXZvaWQgMCxvJiZlLmUpdGhyb3cgZS52fSl9LEk9ZnVuY3Rpb24odCl7cmV0dXJuIDEhPT10Ll9oJiYwPT09KHQuX2F8fHQuX2MpLmxlbmd0aH0saj1mdW5jdGlvbih0KXt2LmNhbGwobCxmdW5jdGlvbigpe3ZhciBlO08/Xy5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLHQpOihlPWwub25yZWplY3Rpb25oYW5kbGVkKSYmZSh7cHJvbWlzZTp0LHJlYXNvbjp0Ll92fSl9KX0sRD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2UuX2R8fChlLl9kPSEwLChlPWUuX3d8fGUpLl92PXQsZS5fcz0yLGUuX2F8fChlLl9hPWUuX2Muc2xpY2UoKSksUChlLCEwKSl9LHo9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzO2lmKCFuLl9kKXtuLl9kPSEwLG49bi5fd3x8bjt0cnl7aWYobj09PXQpdGhyb3cgayhcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpOyhlPU4odCkpP3koZnVuY3Rpb24oKXt2YXIgcj17X3c6bixfZDohMX07dHJ5e2UuY2FsbCh0LGMoeixyLDEpLGMoRCxyLDEpKX1jYXRjaCh0KXtELmNhbGwocix0KX19KToobi5fdj10LG4uX3M9MSxQKG4sITEpKX1jYXRjaCh0KXtELmNhbGwoe193Om4sX2Q6ITF9LHQpfX19O0F8fChUPWZ1bmN0aW9uKHQpe3AodGhpcyxULFwiUHJvbWlzZVwiLFwiX2hcIiksaCh0KSxyLmNhbGwodGhpcyk7dHJ5e3QoYyh6LHRoaXMsMSksYyhELHRoaXMsMSkpfWNhdGNoKHQpe0QuY2FsbCh0aGlzLHQpfX0sKHI9ZnVuY3Rpb24odCl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0pLnByb3RvdHlwZT1uKDIwNykoVC5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24odCxlKXt2YXIgbj1MKGcodGhpcyxUKSk7cmV0dXJuIG4ub2s9XCJmdW5jdGlvblwiIT10eXBlb2YgdHx8dCxuLmZhaWw9XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSxuLmRvbWFpbj1PP18uZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gobiksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKG4pLHRoaXMuX3MmJlAodGhpcywhMSksbi5wcm9taXNlfSxjYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx0KX19KSxvPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHI7dGhpcy5wcm9taXNlPXQsdGhpcy5yZXNvbHZlPWMoeix0LDEpLHRoaXMucmVqZWN0PWMoRCx0LDEpfSxiLmY9TD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVR8fHQ9PT1hP25ldyBvKHQpOmkodCl9KSxmKGYuRytmLlcrZi5GKiFBLHtQcm9taXNlOlR9KSxuKDQ5KShULFwiUHJvbWlzZVwiKSxuKDIwOCkoXCJQcm9taXNlXCIpLGE9bigxKS5Qcm9taXNlLGYoZi5TK2YuRiohQSxcIlByb21pc2VcIix7cmVqZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPUwodGhpcyk7cmV0dXJuKDAsZS5yZWplY3QpKHQpLGUucHJvbWlzZX19KSxmKGYuUytmLkYqKHN8fCFBKSxcIlByb21pc2VcIix7cmVzb2x2ZTpmdW5jdGlvbih0KXtyZXR1cm4gQyhzJiZ0aGlzPT09YT9UOnRoaXMsdCl9fSksZihmLlMrZi5GKiEoQSYmbigxMzQpKGZ1bmN0aW9uKHQpe1QuYWxsKHQpLmNhdGNoKE0pfSkpLFwiUHJvbWlzZVwiLHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPUwoZSkscj1uLnJlc29sdmUsaT1uLnJlamVjdCxvPXgoZnVuY3Rpb24oKXt2YXIgbj1bXSxvPTAsYT0xO20odCwhMSxmdW5jdGlvbih0KXt2YXIgcz1vKyssbD0hMTtuLnB1c2godm9pZCAwKSxhKyssZS5yZXNvbHZlKHQpLnRoZW4oZnVuY3Rpb24odCl7bHx8KGw9ITAsbltzXT10LC0tYXx8cihuKSl9LGkpfSksLS1hfHxyKG4pfSk7cmV0dXJuIG8uZSYmaShvLnYpLG4ucHJvbWlzZX0scmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49TChlKSxyPW4ucmVqZWN0LGk9eChmdW5jdGlvbigpe20odCwhMSxmdW5jdGlvbih0KXtlLnJlc29sdmUodCkudGhlbihuLnJlc29sdmUscil9KX0pO3JldHVybiBpLmUmJnIoaS52KSxuLnByb21pc2V9fSl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCEodCBpbnN0YW5jZW9mIGUpfHx2b2lkIDAhPT1yJiZyIGluIHQpdGhyb3cgVHlwZUVycm9yKG4rXCI6IGluY29ycmVjdCBpbnZvY2F0aW9uIVwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDI2KSxpPW4oMTI4KSxvPW4oMTI5KSxhPW4oNykscz1uKDcxKSxsPW4oOTYpLGM9e30sdT17fTsoZT10LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4sZixkKXt2YXIgaCxwLG0sZyx2PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gdH06bCh0KSx5PXIobixmLGU/MjoxKSxiPTA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygdil0aHJvdyBUeXBlRXJyb3IodCtcIiBpcyBub3QgaXRlcmFibGUhXCIpO2lmKG8odikpe2ZvcihoPXModC5sZW5ndGgpO2g+YjtiKyspaWYoKGc9ZT95KGEocD10W2JdKVswXSxwWzFdKTp5KHRbYl0pKT09PWN8fGc9PT11KXJldHVybiBnfWVsc2UgZm9yKG09di5jYWxsKHQpOyEocD1tLm5leHQoKSkuZG9uZTspaWYoKGc9aShtLHkscC52YWx1ZSxlKSk9PT1jfHxnPT09dSlyZXR1cm4gZ30pLkJSRUFLPWMsZS5SRVRVUk49dX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXZvaWQgMD09PW47c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHI/dCgpOnQuY2FsbChuKTtjYXNlIDE6cmV0dXJuIHI/dChlWzBdKTp0LmNhbGwobixlWzBdKTtjYXNlIDI6cmV0dXJuIHI/dChlWzBdLGVbMV0pOnQuY2FsbChuLGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiByP3QoZVswXSxlWzFdLGVbMl0pOnQuY2FsbChuLGVbMF0sZVsxXSxlWzJdKTtjYXNlIDQ6cmV0dXJuIHI/dChlWzBdLGVbMV0sZVsyXSxlWzNdKTp0LmNhbGwobixlWzBdLGVbMV0sZVsyXSxlWzNdKX1yZXR1cm4gdC5hcHBseShuLGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMyksaT1uKDEzMSkuc2V0LG89ci5NdXRhdGlvbk9ic2VydmVyfHxyLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYT1yLnByb2Nlc3Mscz1yLlByb21pc2UsbD1cInByb2Nlc3NcIj09big0MCkoYSk7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLGM9ZnVuY3Rpb24oKXt2YXIgcixpO2ZvcihsJiYocj1hLmRvbWFpbikmJnIuZXhpdCgpO3Q7KXtpPXQuZm4sdD10Lm5leHQ7dHJ5e2koKX1jYXRjaChyKXt0aHJvdyB0P24oKTplPXZvaWQgMCxyfX1lPXZvaWQgMCxyJiZyLmVudGVyKCl9O2lmKGwpbj1mdW5jdGlvbigpe2EubmV4dFRpY2soYyl9O2Vsc2UgaWYoIW98fHIubmF2aWdhdG9yJiZyLm5hdmlnYXRvci5zdGFuZGFsb25lKWlmKHMmJnMucmVzb2x2ZSl7dmFyIHU9cy5yZXNvbHZlKHZvaWQgMCk7bj1mdW5jdGlvbigpe3UudGhlbihjKX19ZWxzZSBuPWZ1bmN0aW9uKCl7aS5jYWxsKHIsYyl9O2Vsc2V7dmFyIGY9ITAsZD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtuZXcgbyhjKS5vYnNlcnZlKGQse2NoYXJhY3RlckRhdGE6ITB9KSxuPWZ1bmN0aW9uKCl7ZC5kYXRhPWY9IWZ9fXJldHVybiBmdW5jdGlvbihyKXt2YXIgaT17Zm46cixuZXh0OnZvaWQgMH07ZSYmKGUubmV4dD1pKSx0fHwodD1pLG4oKSksZT1pfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMpLm5hdmlnYXRvcjt0LmV4cG9ydHM9ciYmci51c2VyQWdlbnR8fFwiXCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaSBpbiBlKW4mJnRbaV0/dFtpXT1lW2ldOnIodCxpLGVbaV0pO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMyksaT1uKDEpLG89bigxMCksYT1uKDgpLHM9big0KShcInNwZWNpZXNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGlbdF0/aVt0XTpyW3RdO2EmJmUmJiFlW3NdJiZvLmYoZSxzLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oMSksbz1uKDMpLGE9bigxMzApLHM9bigxMzMpO3Ioci5QK3IuUixcIlByb21pc2VcIix7ZmluYWxseTpmdW5jdGlvbih0KXt2YXIgZT1hKHRoaXMsaS5Qcm9taXNlfHxvLlByb21pc2UpLG49XCJmdW5jdGlvblwiPT10eXBlb2YgdDtyZXR1cm4gdGhpcy50aGVuKG4/ZnVuY3Rpb24obil7cmV0dXJuIHMoZSx0KCkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbn0pfTp0LG4/ZnVuY3Rpb24obil7cmV0dXJuIHMoZSx0KCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBufSl9OnQpfX0pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigyKSxpPW4oOTcpLG89bigxMzIpO3Ioci5TLFwiUHJvbWlzZVwiLHt0cnk6ZnVuY3Rpb24odCl7dmFyIGU9aS5mKHRoaXMpLG49byh0KTtyZXR1cm4obi5lP2UucmVqZWN0OmUucmVzb2x2ZSkobi52KSxlLnByb21pc2V9fSl9LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyMTIpfSxmdW5jdGlvbih0LGUsbil7big0NCksbig1NyksdC5leHBvcnRzPW4oNjkpLmYoXCJpdGVyYXRvclwiKX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDIxNCl9LGZ1bmN0aW9uKHQsZSxuKXtuKDEwNSksbigxMjYpLG4oMjE1KSxuKDIxNiksdC5leHBvcnRzPW4oMSkuU3ltYm9sfSxmdW5jdGlvbih0LGUsbil7big3MCkoXCJhc3luY0l0ZXJhdG9yXCIpfSxmdW5jdGlvbih0LGUsbil7big3MCkoXCJvYnNlcnZhYmxlXCIpfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyMTgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihyKHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigyMTkpfSxmdW5jdGlvbih0LGUsbil7bigyMjApLHQuZXhwb3J0cz1uKDEpLkFycmF5LmlzQXJyYXl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpO3Ioci5TLFwiQXJyYXlcIix7aXNBcnJheTpuKDExMCl9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMjIyKSxpPW4oMjI2KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoaShPYmplY3QodCkpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiByKHQpfX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDIyMyl9LGZ1bmN0aW9uKHQsZSxuKXtuKDQ0KSxuKDIyNCksdC5leHBvcnRzPW4oMSkuQXJyYXkuZnJvbX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjYpLGk9bigyKSxvPW4oMjgpLGE9bigxMjgpLHM9bigxMjkpLGw9big3MSksYz1uKDIyNSksdT1uKDk2KTtpKGkuUytpLkYqIW4oMTM0KShmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSksXCJBcnJheVwiLHtmcm9tOmZ1bmN0aW9uKHQpe3ZhciBlLG4saSxmLGQ9byh0KSxoPVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSxwPWFyZ3VtZW50cy5sZW5ndGgsbT1wPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxnPXZvaWQgMCE9PW0sdj0wLHk9dShkKTtpZihnJiYobT1yKG0scD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLG51bGw9PXl8fGg9PUFycmF5JiZzKHkpKWZvcihuPW5ldyBoKGU9bChkLmxlbmd0aCkpO2U+djt2KyspYyhuLHYsZz9tKGRbdl0sdik6ZFt2XSk7ZWxzZSBmb3IoZj15LmNhbGwoZCksbj1uZXcgaDshKGk9Zi5uZXh0KCkpLmRvbmU7disrKWMobix2LGc/YShmLG0sW2kudmFsdWUsdl0sITApOmkudmFsdWUpO3JldHVybiBuLmxlbmd0aD12LG59fSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDEwKSxpPW4oMzgpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7ZSBpbiB0P3IuZih0LGUsaSgwLG4pKTp0W2VdPW59fSxmdW5jdGlvbih0LGUsbil7dC5leHBvcnRzPW4oMjI3KX0sZnVuY3Rpb24odCxlLG4pe24oNTcpLG4oNDQpLHQuZXhwb3J0cz1uKDIyOCl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDk1KSxpPW4oNCkoXCJpdGVyYXRvclwiKSxvPW4oMzIpO3QuZXhwb3J0cz1uKDEpLmlzSXRlcmFibGU9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpO3JldHVybiB2b2lkIDAhPT1lW2ldfHxcIkBAaXRlcmF0b3JcImluIGV8fG8uaGFzT3duUHJvcGVydHkocihlKSl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX19LGZ1bmN0aW9uKHQsZSxuKXtuKDIzMSksdC5leHBvcnRzPW4oMSkuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMik7cihyLlMrci5GLFwiT2JqZWN0XCIse2Fzc2lnbjpuKDIzMil9KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oOCksaT1uKDI3KSxvPW4oNzUpLGE9big0MSkscz1uKDI4KSxsPW4oMTA5KSxjPU9iamVjdC5hc3NpZ247dC5leHBvcnRzPSFjfHxuKDIwKShmdW5jdGlvbigpe3ZhciB0PXt9LGU9e30sbj1TeW1ib2woKSxyPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIjtyZXR1cm4gdFtuXT03LHIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXR9KSw3IT1jKHt9LHQpW25dfHxPYmplY3Qua2V5cyhjKHt9LGUpKS5qb2luKFwiXCIpIT1yfSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49cyh0KSxjPWFyZ3VtZW50cy5sZW5ndGgsdT0xLGY9by5mLGQ9YS5mO2M+dTspZm9yKHZhciBoLHA9bChhcmd1bWVudHNbdSsrXSksbT1mP2kocCkuY29uY2F0KGYocCkpOmkocCksZz1tLmxlbmd0aCx2PTA7Zz52OyloPW1bdisrXSxyJiYhZC5jYWxsKHAsaCl8fChuW2hdPXBbaF0pO3JldHVybiBufTpjfSxmdW5jdGlvbih0LGUsbil7bigyMzQpLHQuZXhwb3J0cz1uKDEpLnBhcnNlSW50fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oMjM1KTtyKHIuRytyLkYqKHBhcnNlSW50IT1pKSx7cGFyc2VJbnQ6aX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzKS5wYXJzZUludCxpPW4oMjM2KS50cmltLG89bigxMzUpLGE9L15bLStdPzBbeFhdLzt0LmV4cG9ydHM9OCE9PXIobytcIjA4XCIpfHwyMiE9PXIobytcIjB4MTZcIik/ZnVuY3Rpb24odCxlKXt2YXIgbj1pKFN0cmluZyh0KSwzKTtyZXR1cm4gcihuLGU+Pj4wfHwoYS50ZXN0KG4pPzE2OjEwKSl9OnJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIpLGk9big1MCksbz1uKDIwKSxhPW4oMTM1KSxzPVwiW1wiK2ErXCJdXCIsbD1SZWdFeHAoXCJeXCIrcytzK1wiKlwiKSxjPVJlZ0V4cChzK3MrXCIqJFwiKSx1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT17fSxzPW8oZnVuY3Rpb24oKXtyZXR1cm4hIWFbdF0oKXx8XCLigIvChVwiIT1cIuKAi8KFXCJbdF0oKX0pLGw9aVt0XT1zP2UoZik6YVt0XTtuJiYoaVtuXT1sKSxyKHIuUCtyLkYqcyxcIlN0cmluZ1wiLGkpfSxmPXUudHJpbT1mdW5jdGlvbih0LGUpe3JldHVybiB0PVN0cmluZyhpKHQpKSwxJmUmJih0PXQucmVwbGFjZShsLFwiXCIpKSwyJmUmJih0PXQucmVwbGFjZShjLFwiXCIpKSx0fTt0LmV4cG9ydHM9dX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1cIkNvZGVNaXJyb3ItaGludFwiLG49XCJDb2RlTWlycm9yLWhpbnQtYWN0aXZlXCI7ZnVuY3Rpb24gcih0LGUpe3RoaXMuY209dCx0aGlzLm9wdGlvbnM9ZSx0aGlzLndpZGdldD1udWxsLHRoaXMuZGVib3VuY2U9MCx0aGlzLnRpY2s9MCx0aGlzLnN0YXJ0UG9zPXRoaXMuY20uZ2V0Q3Vyc29yKFwic3RhcnRcIiksdGhpcy5zdGFydExlbj10aGlzLmNtLmdldExpbmUodGhpcy5zdGFydFBvcy5saW5lKS5sZW5ndGgtdGhpcy5jbS5nZXRTZWxlY3Rpb24oKS5sZW5ndGg7dmFyIG49dGhpczt0Lm9uKFwiY3Vyc29yQWN0aXZpdHlcIix0aGlzLmFjdGl2aXR5RnVuYz1mdW5jdGlvbigpe24uY3Vyc29yQWN0aXZpdHkoKX0pfXQuc2hvd0hpbnQ9ZnVuY3Rpb24odCxlLG4pe2lmKCFlKXJldHVybiB0LnNob3dIaW50KG4pO24mJm4uYXN5bmMmJihlLmFzeW5jPSEwKTt2YXIgcj17aGludDplfTtpZihuKWZvcih2YXIgaSBpbiBuKXJbaV09bltpXTtyZXR1cm4gdC5zaG93SGludChyKX0sdC5kZWZpbmVFeHRlbnNpb24oXCJzaG93SGludFwiLGZ1bmN0aW9uKGUpe2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQub3B0aW9ucy5oaW50T3B0aW9ucyxpPXt9O2Zvcih2YXIgbyBpbiB1KWlbb109dVtvXTtpZihyKWZvcih2YXIgbyBpbiByKXZvaWQgMCE9PXJbb10mJihpW29dPXJbb10pO2lmKG4pZm9yKHZhciBvIGluIG4pdm9pZCAwIT09bltvXSYmKGlbb109bltvXSk7cmV0dXJuIGkuaGludC5yZXNvbHZlJiYoaS5oaW50PWkuaGludC5yZXNvbHZlKHQsZSkpLGl9KHRoaXMsdGhpcy5nZXRDdXJzb3IoXCJzdGFydFwiKSxlKTt2YXIgbj10aGlzLmxpc3RTZWxlY3Rpb25zKCk7aWYoIShuLmxlbmd0aD4xKSl7aWYodGhpcy5zb21ldGhpbmdTZWxlY3RlZCgpKXtpZighZS5oaW50LnN1cHBvcnRzU2VsZWN0aW9uKXJldHVybjtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylpZihuW2ldLmhlYWQubGluZSE9bltpXS5hbmNob3IubGluZSlyZXR1cm59dGhpcy5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlJiZ0aGlzLnN0YXRlLmNvbXBsZXRpb25BY3RpdmUuY2xvc2UoKTt2YXIgbz10aGlzLnN0YXRlLmNvbXBsZXRpb25BY3RpdmU9bmV3IHIodGhpcyxlKTtvLm9wdGlvbnMuaGludCYmKHQuc2lnbmFsKHRoaXMsXCJzdGFydENvbXBsZXRpb25cIix0aGlzKSxvLnVwZGF0ZSghMCkpfX0pLHQuZGVmaW5lRXh0ZW5zaW9uKFwiY2xvc2VIaW50XCIsZnVuY3Rpb24oKXt0aGlzLnN0YXRlLmNvbXBsZXRpb25BY3RpdmUmJnRoaXMuc3RhdGUuY29tcGxldGlvbkFjdGl2ZS5jbG9zZSgpfSk7dmFyIGk9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQodCwxZTMvNjApfSxvPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8Y2xlYXJUaW1lb3V0O2Z1bmN0aW9uIGEodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LnRleHR9ZnVuY3Rpb24gcyh0LGUpe2Zvcig7ZSYmZSE9dDspe2lmKFwiTElcIj09PWUubm9kZU5hbWUudG9VcHBlckNhc2UoKSYmZS5wYXJlbnROb2RlPT10KXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfX1mdW5jdGlvbiBsKHIsaSl7dGhpcy5jb21wbGV0aW9uPXIsdGhpcy5kYXRhPWksdGhpcy5waWNrZWQ9ITE7dmFyIG89dGhpcyxsPXIuY20sYz1sLmdldElucHV0RmllbGQoKS5vd25lckRvY3VtZW50LHU9Yy5kZWZhdWx0Vmlld3x8Yy5wYXJlbnRXaW5kb3csZj10aGlzLmhpbnRzPWMuY3JlYXRlRWxlbWVudChcInVsXCIpLGQ9ci5jbS5vcHRpb25zLnRoZW1lO2YuY2xhc3NOYW1lPVwiQ29kZU1pcnJvci1oaW50cyBcIitkLHRoaXMuc2VsZWN0ZWRIaW50PWkuc2VsZWN0ZWRIaW50fHwwO2Zvcih2YXIgaD1pLmxpc3QscD0wO3A8aC5sZW5ndGg7KytwKXt2YXIgbT1mLmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudChcImxpXCIpKSxnPWhbcF0sdj1lKyhwIT10aGlzLnNlbGVjdGVkSGludD9cIlwiOlwiIFwiK24pO251bGwhPWcuY2xhc3NOYW1lJiYodj1nLmNsYXNzTmFtZStcIiBcIit2KSxtLmNsYXNzTmFtZT12LGcucmVuZGVyP2cucmVuZGVyKG0saSxnKTptLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUoZy5kaXNwbGF5VGV4dHx8YShnKSkpLG0uaGludElkPXB9dmFyIHk9ci5vcHRpb25zLmNvbnRhaW5lcnx8Yy5ib2R5LGI9bC5jdXJzb3JDb29yZHMoci5vcHRpb25zLmFsaWduV2l0aFdvcmQ/aS5mcm9tOm51bGwpLHg9Yi5sZWZ0LHc9Yi5ib3R0b20sQz0hMCxrPTAsXz0wO2lmKHkhPT1jLmJvZHkpe3ZhciBTPS0xIT09W1wiYWJzb2x1dGVcIixcInJlbGF0aXZlXCIsXCJmaXhlZFwiXS5pbmRleE9mKHUuZ2V0Q29tcHV0ZWRTdHlsZSh5KS5wb3NpdGlvbiksRT1TP3k6eS5vZmZzZXRQYXJlbnQsVD1FLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLE89Yy5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2s9VC5sZWZ0LU8ubGVmdC1FLnNjcm9sbExlZnQsXz1ULnRvcC1PLnRvcC1FLnNjcm9sbFRvcH1mLnN0eWxlLmxlZnQ9eC1rK1wicHhcIixmLnN0eWxlLnRvcD13LV8rXCJweFwiO3ZhciBNPXUuaW5uZXJXaWR0aHx8TWF0aC5tYXgoYy5ib2R5Lm9mZnNldFdpZHRoLGMuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSxMPXUuaW5uZXJIZWlnaHR8fE1hdGgubWF4KGMuYm9keS5vZmZzZXRIZWlnaHQsYy5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KTt5LmFwcGVuZENoaWxkKGYpO3ZhciBBPWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksTj1BLmJvdHRvbS1MLFA9Zi5zY3JvbGxIZWlnaHQ+Zi5jbGllbnRIZWlnaHQrMSxGPWwuZ2V0U2Nyb2xsSW5mbygpO2lmKE4+MCl7dmFyIEk9QS5ib3R0b20tQS50b3Asaj1iLnRvcC0oYi5ib3R0b20tQS50b3ApO2lmKGotST4wKWYuc3R5bGUudG9wPSh3PWIudG9wLUktXykrXCJweFwiLEM9ITE7ZWxzZSBpZihJPkwpe2Yuc3R5bGUuaGVpZ2h0PUwtNStcInB4XCIsZi5zdHlsZS50b3A9KHc9Yi5ib3R0b20tQS50b3AtXykrXCJweFwiO3ZhciBEPWwuZ2V0Q3Vyc29yKCk7aS5mcm9tLmNoIT1ELmNoJiYoYj1sLmN1cnNvckNvb3JkcyhEKSxmLnN0eWxlLmxlZnQ9KHg9Yi5sZWZ0LWspK1wicHhcIixBPWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfX12YXIgeixSPUEucmlnaHQtTTtpZihSPjAmJihBLnJpZ2h0LUEubGVmdD5NJiYoZi5zdHlsZS53aWR0aD1NLTUrXCJweFwiLFItPUEucmlnaHQtQS5sZWZ0LU0pLGYuc3R5bGUubGVmdD0oeD1iLmxlZnQtUi1rKStcInB4XCIpLFApZm9yKHZhciBCPWYuZmlyc3RDaGlsZDtCO0I9Qi5uZXh0U2libGluZylCLnN0eWxlLnBhZGRpbmdSaWdodD1sLmRpc3BsYXkubmF0aXZlQmFyV2lkdGgrXCJweFwiO3JldHVybiBsLmFkZEtleU1hcCh0aGlzLmtleU1hcD1mdW5jdGlvbih0LGUpe3ZhciBuPXtVcDpmdW5jdGlvbigpe2UubW92ZUZvY3VzKC0xKX0sRG93bjpmdW5jdGlvbigpe2UubW92ZUZvY3VzKDEpfSxQYWdlVXA6ZnVuY3Rpb24oKXtlLm1vdmVGb2N1cygxLWUubWVudVNpemUoKSwhMCl9LFBhZ2VEb3duOmZ1bmN0aW9uKCl7ZS5tb3ZlRm9jdXMoZS5tZW51U2l6ZSgpLTEsITApfSxIb21lOmZ1bmN0aW9uKCl7ZS5zZXRGb2N1cygwKX0sRW5kOmZ1bmN0aW9uKCl7ZS5zZXRGb2N1cyhlLmxlbmd0aC0xKX0sRW50ZXI6ZS5waWNrLFRhYjplLnBpY2ssRXNjOmUuY2xvc2V9Oy9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmKG5bXCJDdHJsLVBcIl09ZnVuY3Rpb24oKXtlLm1vdmVGb2N1cygtMSl9LG5bXCJDdHJsLU5cIl09ZnVuY3Rpb24oKXtlLm1vdmVGb2N1cygxKX0pO3ZhciByPXQub3B0aW9ucy5jdXN0b21LZXlzLGk9cj97fTpuO2Z1bmN0aW9uIG8odCxyKXt2YXIgbztvPVwic3RyaW5nXCIhPXR5cGVvZiByP2Z1bmN0aW9uKHQpe3JldHVybiByKHQsZSl9Om4uaGFzT3duUHJvcGVydHkocik/bltyXTpyLGlbdF09b31pZihyKWZvcih2YXIgYSBpbiByKXIuaGFzT3duUHJvcGVydHkoYSkmJm8oYSxyW2FdKTt2YXIgcz10Lm9wdGlvbnMuZXh0cmFLZXlzO2lmKHMpZm9yKHZhciBhIGluIHMpcy5oYXNPd25Qcm9wZXJ0eShhKSYmbyhhLHNbYV0pO3JldHVybiBpfShyLHttb3ZlRm9jdXM6ZnVuY3Rpb24odCxlKXtvLmNoYW5nZUFjdGl2ZShvLnNlbGVjdGVkSGludCt0LGUpfSxzZXRGb2N1czpmdW5jdGlvbih0KXtvLmNoYW5nZUFjdGl2ZSh0KX0sbWVudVNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gby5zY3JlZW5BbW91bnQoKX0sbGVuZ3RoOmgubGVuZ3RoLGNsb3NlOmZ1bmN0aW9uKCl7ci5jbG9zZSgpfSxwaWNrOmZ1bmN0aW9uKCl7by5waWNrKCl9LGRhdGE6aX0pKSxyLm9wdGlvbnMuY2xvc2VPblVuZm9jdXMmJihsLm9uKFwiYmx1clwiLHRoaXMub25CbHVyPWZ1bmN0aW9uKCl7ej1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5jbG9zZSgpfSwxMDApfSksbC5vbihcImZvY3VzXCIsdGhpcy5vbkZvY3VzPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHopfSkpLGwub24oXCJzY3JvbGxcIix0aGlzLm9uU2Nyb2xsPWZ1bmN0aW9uKCl7dmFyIHQ9bC5nZXRTY3JvbGxJbmZvKCksZT1sLmdldFdyYXBwZXJFbGVtZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj13K0YudG9wLXQudG9wLGk9bi0odS5wYWdlWU9mZnNldHx8KGMuZG9jdW1lbnRFbGVtZW50fHxjLmJvZHkpLnNjcm9sbFRvcCk7aWYoQ3x8KGkrPWYub2Zmc2V0SGVpZ2h0KSxpPD1lLnRvcHx8aT49ZS5ib3R0b20pcmV0dXJuIHIuY2xvc2UoKTtmLnN0eWxlLnRvcD1uK1wicHhcIixmLnN0eWxlLmxlZnQ9eCtGLmxlZnQtdC5sZWZ0K1wicHhcIn0pLHQub24oZixcImRibGNsaWNrXCIsZnVuY3Rpb24odCl7dmFyIGU9cyhmLHQudGFyZ2V0fHx0LnNyY0VsZW1lbnQpO2UmJm51bGwhPWUuaGludElkJiYoby5jaGFuZ2VBY3RpdmUoZS5oaW50SWQpLG8ucGljaygpKX0pLHQub24oZixcImNsaWNrXCIsZnVuY3Rpb24odCl7dmFyIGU9cyhmLHQudGFyZ2V0fHx0LnNyY0VsZW1lbnQpO2UmJm51bGwhPWUuaGludElkJiYoby5jaGFuZ2VBY3RpdmUoZS5oaW50SWQpLHIub3B0aW9ucy5jb21wbGV0ZU9uU2luZ2xlQ2xpY2smJm8ucGljaygpKX0pLHQub24oZixcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2wuZm9jdXMoKX0sMjApfSksdC5zaWduYWwoaSxcInNlbGVjdFwiLGhbdGhpcy5zZWxlY3RlZEhpbnRdLGYuY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSGludF0pLCEwfWZ1bmN0aW9uIGModCxlLG4scil7aWYodC5hc3luYyl0KGUscixuKTtlbHNle3ZhciBpPXQoZSxuKTtpJiZpLnRoZW4/aS50aGVuKHIpOnIoaSl9fXIucHJvdG90eXBlPXtjbG9zZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlKCkmJih0aGlzLmNtLnN0YXRlLmNvbXBsZXRpb25BY3RpdmU9bnVsbCx0aGlzLnRpY2s9bnVsbCx0aGlzLmNtLm9mZihcImN1cnNvckFjdGl2aXR5XCIsdGhpcy5hY3Rpdml0eUZ1bmMpLHRoaXMud2lkZ2V0JiZ0aGlzLmRhdGEmJnQuc2lnbmFsKHRoaXMuZGF0YSxcImNsb3NlXCIpLHRoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5jbG9zZSgpLHQuc2lnbmFsKHRoaXMuY20sXCJlbmRDb21wbGV0aW9uXCIsdGhpcy5jbSkpfSxhY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbS5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlPT10aGlzfSxwaWNrOmZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5saXN0W25dO3IuaGludD9yLmhpbnQodGhpcy5jbSxlLHIpOnRoaXMuY20ucmVwbGFjZVJhbmdlKGEociksci5mcm9tfHxlLmZyb20sci50b3x8ZS50byxcImNvbXBsZXRlXCIpLHQuc2lnbmFsKGUsXCJwaWNrXCIsciksdGhpcy5jbG9zZSgpfSxjdXJzb3JBY3Rpdml0eTpmdW5jdGlvbigpe3RoaXMuZGVib3VuY2UmJihvKHRoaXMuZGVib3VuY2UpLHRoaXMuZGVib3VuY2U9MCk7dmFyIHQ9dGhpcy5jbS5nZXRDdXJzb3IoKSxlPXRoaXMuY20uZ2V0TGluZSh0LmxpbmUpO2lmKHQubGluZSE9dGhpcy5zdGFydFBvcy5saW5lfHxlLmxlbmd0aC10LmNoIT10aGlzLnN0YXJ0TGVuLXRoaXMuc3RhcnRQb3MuY2h8fHQuY2g8dGhpcy5zdGFydFBvcy5jaHx8dGhpcy5jbS5zb21ldGhpbmdTZWxlY3RlZCgpfHwhdC5jaHx8dGhpcy5vcHRpb25zLmNsb3NlQ2hhcmFjdGVycy50ZXN0KGUuY2hhckF0KHQuY2gtMSkpKXRoaXMuY2xvc2UoKTtlbHNle3ZhciBuPXRoaXM7dGhpcy5kZWJvdW5jZT1pKGZ1bmN0aW9uKCl7bi51cGRhdGUoKX0pLHRoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5kaXNhYmxlKCl9fSx1cGRhdGU6ZnVuY3Rpb24odCl7aWYobnVsbCE9dGhpcy50aWNrKXt2YXIgZT10aGlzLG49Kyt0aGlzLnRpY2s7Yyh0aGlzLm9wdGlvbnMuaGludCx0aGlzLmNtLHRoaXMub3B0aW9ucyxmdW5jdGlvbihyKXtlLnRpY2s9PW4mJmUuZmluaXNoVXBkYXRlKHIsdCl9KX19LGZpbmlzaFVwZGF0ZTpmdW5jdGlvbihlLG4pe3RoaXMuZGF0YSYmdC5zaWduYWwodGhpcy5kYXRhLFwidXBkYXRlXCIpO3ZhciByPXRoaXMud2lkZ2V0JiZ0aGlzLndpZGdldC5waWNrZWR8fG4mJnRoaXMub3B0aW9ucy5jb21wbGV0ZVNpbmdsZTt0aGlzLndpZGdldCYmdGhpcy53aWRnZXQuY2xvc2UoKSx0aGlzLmRhdGE9ZSxlJiZlLmxpc3QubGVuZ3RoJiYociYmMT09ZS5saXN0Lmxlbmd0aD90aGlzLnBpY2soZSwwKToodGhpcy53aWRnZXQ9bmV3IGwodGhpcyxlKSx0LnNpZ25hbChlLFwic2hvd25cIikpKX19LGwucHJvdG90eXBlPXtjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuY29tcGxldGlvbi53aWRnZXQ9PXRoaXMpe3RoaXMuY29tcGxldGlvbi53aWRnZXQ9bnVsbCx0aGlzLmhpbnRzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oaW50cyksdGhpcy5jb21wbGV0aW9uLmNtLnJlbW92ZUtleU1hcCh0aGlzLmtleU1hcCk7dmFyIHQ9dGhpcy5jb21wbGV0aW9uLmNtO3RoaXMuY29tcGxldGlvbi5vcHRpb25zLmNsb3NlT25VbmZvY3VzJiYodC5vZmYoXCJibHVyXCIsdGhpcy5vbkJsdXIpLHQub2ZmKFwiZm9jdXNcIix0aGlzLm9uRm9jdXMpKSx0Lm9mZihcInNjcm9sbFwiLHRoaXMub25TY3JvbGwpfX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuY29tcGxldGlvbi5jbS5yZW1vdmVLZXlNYXAodGhpcy5rZXlNYXApO3ZhciB0PXRoaXM7dGhpcy5rZXlNYXA9e0VudGVyOmZ1bmN0aW9uKCl7dC5waWNrZWQ9ITB9fSx0aGlzLmNvbXBsZXRpb24uY20uYWRkS2V5TWFwKHRoaXMua2V5TWFwKX0scGljazpmdW5jdGlvbigpe3RoaXMuY29tcGxldGlvbi5waWNrKHRoaXMuZGF0YSx0aGlzLnNlbGVjdGVkSGludCl9LGNoYW5nZUFjdGl2ZTpmdW5jdGlvbihlLHIpe2lmKGU+PXRoaXMuZGF0YS5saXN0Lmxlbmd0aD9lPXI/dGhpcy5kYXRhLmxpc3QubGVuZ3RoLTE6MDplPDAmJihlPXI/MDp0aGlzLmRhdGEubGlzdC5sZW5ndGgtMSksdGhpcy5zZWxlY3RlZEhpbnQhPWUpe3ZhciBpPXRoaXMuaGludHMuY2hpbGROb2Rlc1t0aGlzLnNlbGVjdGVkSGludF07aSYmKGkuY2xhc3NOYW1lPWkuY2xhc3NOYW1lLnJlcGxhY2UoXCIgXCIrbixcIlwiKSksKGk9dGhpcy5oaW50cy5jaGlsZE5vZGVzW3RoaXMuc2VsZWN0ZWRIaW50PWVdKS5jbGFzc05hbWUrPVwiIFwiK24saS5vZmZzZXRUb3A8dGhpcy5oaW50cy5zY3JvbGxUb3A/dGhpcy5oaW50cy5zY3JvbGxUb3A9aS5vZmZzZXRUb3AtMzppLm9mZnNldFRvcCtpLm9mZnNldEhlaWdodD50aGlzLmhpbnRzLnNjcm9sbFRvcCt0aGlzLmhpbnRzLmNsaWVudEhlaWdodCYmKHRoaXMuaGludHMuc2Nyb2xsVG9wPWkub2Zmc2V0VG9wK2kub2Zmc2V0SGVpZ2h0LXRoaXMuaGludHMuY2xpZW50SGVpZ2h0KzMpLHQuc2lnbmFsKHRoaXMuZGF0YSxcInNlbGVjdFwiLHRoaXMuZGF0YS5saXN0W3RoaXMuc2VsZWN0ZWRIaW50XSxpKX19LHNjcmVlbkFtb3VudDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMuaGludHMuY2xpZW50SGVpZ2h0L3RoaXMuaGludHMuZmlyc3RDaGlsZC5vZmZzZXRIZWlnaHQpfHwxfX0sdC5yZWdpc3RlckhlbHBlcihcImhpbnRcIixcImF1dG9cIix7cmVzb2x2ZTpmdW5jdGlvbihlLG4pe3ZhciByLGk9ZS5nZXRIZWxwZXJzKG4sXCJoaW50XCIpO2lmKGkubGVuZ3RoKXt2YXIgbz1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZnVuY3Rpb24odCxlKXtpZighdC5zb21ldGhpbmdTZWxlY3RlZCgpKXJldHVybiBlO2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXS5zdXBwb3J0c1NlbGVjdGlvbiYmbi5wdXNoKGVbcl0pO3JldHVybiBufSh0LGkpOyFmdW5jdGlvbiBpKG8pe2lmKG89PXIubGVuZ3RoKXJldHVybiBlKG51bGwpO2MocltvXSx0LG4sZnVuY3Rpb24odCl7dCYmdC5saXN0Lmxlbmd0aD4wP2UodCk6aShvKzEpfSl9KDApfTtyZXR1cm4gby5hc3luYz0hMCxvLnN1cHBvcnRzU2VsZWN0aW9uPSEwLG99cmV0dXJuKHI9ZS5nZXRIZWxwZXIoZS5nZXRDdXJzb3IoKSxcImhpbnRXb3Jkc1wiKSk/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGludC5mcm9tTGlzdChlLHt3b3JkczpyfSl9OnQuaGludC5hbnl3b3JkP2Z1bmN0aW9uKGUsbil7cmV0dXJuIHQuaGludC5hbnl3b3JkKGUsbil9OmZ1bmN0aW9uKCl7fX19KSx0LnJlZ2lzdGVySGVscGVyKFwiaGludFwiLFwiZnJvbUxpc3RcIixmdW5jdGlvbihlLG4pe3ZhciByLGk9ZS5nZXRDdXJzb3IoKSxvPWUuZ2V0VG9rZW5BdChpKSxhPXQuUG9zKGkubGluZSxvLnN0YXJ0KSxzPWk7by5zdGFydDxpLmNoJiYvXFx3Ly50ZXN0KG8uc3RyaW5nLmNoYXJBdChpLmNoLW8uc3RhcnQtMSkpP3I9by5zdHJpbmcuc3Vic3RyKDAsaS5jaC1vLnN0YXJ0KToocj1cIlwiLGE9aSk7Zm9yKHZhciBsPVtdLGM9MDtjPG4ud29yZHMubGVuZ3RoO2MrKyl7dmFyIHU9bi53b3Jkc1tjXTt1LnNsaWNlKDAsci5sZW5ndGgpPT1yJiZsLnB1c2godSl9aWYobC5sZW5ndGgpcmV0dXJue2xpc3Q6bCxmcm9tOmEsdG86c319KSx0LmNvbW1hbmRzLmF1dG9jb21wbGV0ZT10LnNob3dIaW50O3ZhciB1PXtoaW50OnQuaGludC5hdXRvLGNvbXBsZXRlU2luZ2xlOiEwLGFsaWduV2l0aFdvcmQ6ITAsY2xvc2VDaGFyYWN0ZXJzOi9bXFxzKClcXFtcXF17fTs6PixdLyxjbG9zZU9uVW5mb2N1czohMCxjb21wbGV0ZU9uU2luZ2xlQ2xpY2s6ITAsY29udGFpbmVyOm51bGwsY3VzdG9tS2V5czpudWxsLGV4dHJhS2V5czpudWxsfTt0LmRlZmluZU9wdGlvbihcImhpbnRPcHRpb25zXCIsbnVsbCl9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPS9bXFx3JF0rLzt0LnJlZ2lzdGVySGVscGVyKFwiaGludFwiLFwiYW55d29yZFwiLGZ1bmN0aW9uKG4scil7Zm9yKHZhciBpPXImJnIud29yZHx8ZSxvPXImJnIucmFuZ2V8fDUwMCxhPW4uZ2V0Q3Vyc29yKCkscz1uLmdldExpbmUoYS5saW5lKSxsPWEuY2gsYz1sO2MmJmkudGVzdChzLmNoYXJBdChjLTEpKTspLS1jO2Zvcih2YXIgdT1jIT1sJiZzLnNsaWNlKGMsbCksZj1yJiZyLmxpc3R8fFtdLGQ9e30saD1uZXcgUmVnRXhwKGkuc291cmNlLFwiZ1wiKSxwPS0xO3A8PTE7cCs9Milmb3IodmFyIG09YS5saW5lLGc9TWF0aC5taW4oTWF0aC5tYXgobStwKm8sbi5maXJzdExpbmUoKSksbi5sYXN0TGluZSgpKStwO20hPWc7bSs9cClmb3IodmFyIHYseT1uLmdldExpbmUobSk7dj1oLmV4ZWMoeSk7KW09PWEubGluZSYmdlswXT09PXV8fHUmJjAhPXZbMF0ubGFzdEluZGV4T2YodSwwKXx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsdlswXSl8fChkW3ZbMF1dPSEwLGYucHVzaCh2WzBdKSk7cmV0dXJue2xpc3Q6Zixmcm9tOnQuUG9zKGEubGluZSxjKSx0bzp0LlBvcyhhLmxpbmUsbCl9fSl9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSxuLHIpe3RoaXMub3JpZW50YXRpb249bix0aGlzLnNjcm9sbD1yLHRoaXMuc2NyZWVuPXRoaXMudG90YWw9dGhpcy5zaXplPTEsdGhpcy5wb3M9MCx0aGlzLm5vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm5vZGUuY2xhc3NOYW1lPWUrXCItXCIrbix0aGlzLmlubmVyPXRoaXMubm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTt2YXIgaT10aGlzO2Z1bmN0aW9uIG8oZSl7dmFyIG49dC53aGVlbEV2ZW50UGl4ZWxzKGUpW1wiaG9yaXpvbnRhbFwiPT1pLm9yaWVudGF0aW9uP1wieFwiOlwieVwiXSxyPWkucG9zO2kubW92ZVRvKGkucG9zK24pLGkucG9zIT1yJiZ0LmVfcHJldmVudERlZmF1bHQoZSl9dC5vbih0aGlzLmlubmVyLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7aWYoMT09ZS53aGljaCl7dC5lX3ByZXZlbnREZWZhdWx0KGUpO3ZhciBuPVwiaG9yaXpvbnRhbFwiPT1pLm9yaWVudGF0aW9uP1wicGFnZVhcIjpcInBhZ2VZXCIscj1lW25dLG89aS5wb3M7dC5vbihkb2N1bWVudCxcIm1vdXNlbW92ZVwiLHMpLHQub24oZG9jdW1lbnQsXCJtb3VzZXVwXCIsYSl9ZnVuY3Rpb24gYSgpe3Qub2ZmKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIscyksdC5vZmYoZG9jdW1lbnQsXCJtb3VzZXVwXCIsYSl9ZnVuY3Rpb24gcyh0KXtpZigxIT10LndoaWNoKXJldHVybiBhKCk7aS5tb3ZlVG8obysodFtuXS1yKSooaS50b3RhbC9pLnNpemUpKX19KSx0Lm9uKHRoaXMubm9kZSxcImNsaWNrXCIsZnVuY3Rpb24oZSl7dC5lX3ByZXZlbnREZWZhdWx0KGUpO3ZhciBuLHI9aS5pbm5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtuPVwiaG9yaXpvbnRhbFwiPT1pLm9yaWVudGF0aW9uP2UuY2xpZW50WDxyLmxlZnQ/LTE6ZS5jbGllbnRYPnIucmlnaHQ/MTowOmUuY2xpZW50WTxyLnRvcD8tMTplLmNsaWVudFk+ci5ib3R0b20/MTowLGkubW92ZVRvKGkucG9zK24qaS5zY3JlZW4pfSksdC5vbih0aGlzLm5vZGUsXCJtb3VzZXdoZWVsXCIsbyksdC5vbih0aGlzLm5vZGUsXCJET01Nb3VzZVNjcm9sbFwiLG8pfWZ1bmN0aW9uIG4odCxuLHIpe3RoaXMuYWRkQ2xhc3M9dCx0aGlzLmhvcml6PW5ldyBlKHQsXCJob3Jpem9udGFsXCIsciksbih0aGlzLmhvcml6Lm5vZGUpLHRoaXMudmVydD1uZXcgZSh0LFwidmVydGljYWxcIixyKSxuKHRoaXMudmVydC5ub2RlKSx0aGlzLndpZHRoPW51bGx9ZS5wcm90b3R5cGUuc2V0UG9zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8MCYmKHQ9MCksdD50aGlzLnRvdGFsLXRoaXMuc2NyZWVuJiYodD10aGlzLnRvdGFsLXRoaXMuc2NyZWVuKSwhKCFlJiZ0PT10aGlzLnBvc3x8KHRoaXMucG9zPXQsdGhpcy5pbm5lci5zdHlsZVtcImhvcml6b250YWxcIj09dGhpcy5vcmllbnRhdGlvbj9cImxlZnRcIjpcInRvcFwiXT10Kih0aGlzLnNpemUvdGhpcy50b3RhbCkrXCJweFwiLDApKX0sZS5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKHQpe3RoaXMuc2V0UG9zKHQpJiZ0aGlzLnNjcm9sbCh0LHRoaXMub3JpZW50YXRpb24pfSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuc2NyZWVuIT1lfHx0aGlzLnRvdGFsIT10fHx0aGlzLnNpemUhPW47ciYmKHRoaXMuc2NyZWVuPWUsdGhpcy50b3RhbD10LHRoaXMuc2l6ZT1uKTt2YXIgaT10aGlzLnNjcmVlbioodGhpcy5zaXplL3RoaXMudG90YWwpO2k8MTAmJih0aGlzLnNpemUtPTEwLWksaT0xMCksdGhpcy5pbm5lci5zdHlsZVtcImhvcml6b250YWxcIj09dGhpcy5vcmllbnRhdGlvbj9cIndpZHRoXCI6XCJoZWlnaHRcIl09aStcInB4XCIsdGhpcy5zZXRQb3ModGhpcy5wb3Mscil9LG4ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0KXtpZihudWxsPT10aGlzLndpZHRoKXt2YXIgZT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmhvcml6Lm5vZGUpOnRoaXMuaG9yaXoubm9kZS5jdXJyZW50U3R5bGU7ZSYmKHRoaXMud2lkdGg9cGFyc2VJbnQoZS5oZWlnaHQpKX12YXIgbj10aGlzLndpZHRofHwwLHI9dC5zY3JvbGxXaWR0aD50LmNsaWVudFdpZHRoKzEsaT10LnNjcm9sbEhlaWdodD50LmNsaWVudEhlaWdodCsxO3JldHVybiB0aGlzLnZlcnQubm9kZS5zdHlsZS5kaXNwbGF5PWk/XCJibG9ja1wiOlwibm9uZVwiLHRoaXMuaG9yaXoubm9kZS5zdHlsZS5kaXNwbGF5PXI/XCJibG9ja1wiOlwibm9uZVwiLGkmJih0aGlzLnZlcnQudXBkYXRlKHQuc2Nyb2xsSGVpZ2h0LHQuY2xpZW50SGVpZ2h0LHQudmlld0hlaWdodC0ocj9uOjApKSx0aGlzLnZlcnQubm9kZS5zdHlsZS5ib3R0b209cj9uK1wicHhcIjpcIjBcIiksciYmKHRoaXMuaG9yaXoudXBkYXRlKHQuc2Nyb2xsV2lkdGgsdC5jbGllbnRXaWR0aCx0LnZpZXdXaWR0aC0oaT9uOjApLXQuYmFyTGVmdCksdGhpcy5ob3Jpei5ub2RlLnN0eWxlLnJpZ2h0PWk/bitcInB4XCI6XCIwXCIsdGhpcy5ob3Jpei5ub2RlLnN0eWxlLmxlZnQ9dC5iYXJMZWZ0K1wicHhcIikse3JpZ2h0Omk/bjowLGJvdHRvbTpyP246MH19LG4ucHJvdG90eXBlLnNldFNjcm9sbFRvcD1mdW5jdGlvbih0KXt0aGlzLnZlcnQuc2V0UG9zKHQpfSxuLnByb3RvdHlwZS5zZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKHQpe3RoaXMuaG9yaXouc2V0UG9zKHQpfSxuLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaG9yaXoubm9kZS5wYXJlbnROb2RlO3QucmVtb3ZlQ2hpbGQodGhpcy5ob3Jpei5ub2RlKSx0LnJlbW92ZUNoaWxkKHRoaXMudmVydC5ub2RlKX0sdC5zY3JvbGxiYXJNb2RlbC5zaW1wbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IG4oXCJDb2RlTWlycm9yLXNpbXBsZXNjcm9sbFwiLHQsZSl9LHQuc2Nyb2xsYmFyTW9kZWwub3ZlcmxheT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbihcIkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbFwiLHQsZSl9fShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt0LmRlZmluZU1vZGUoXCJzbWFsbHRhbGtcIixmdW5jdGlvbih0KXt2YXIgZT0vWytcXC1cXC9cXFxcKn48Pj1AJXwmPyEuLDo7Xl0vLG49L3RydWV8ZmFsc2V8bmlsfHNlbGZ8c3VwZXJ8dGhpc0NvbnRleHQvLHI9ZnVuY3Rpb24odCxlKXt0aGlzLm5leHQ9dCx0aGlzLnBhcmVudD1lfSxpPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLmNvbnRleHQ9ZSx0aGlzLmVvcz1ufSxvPWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0PW5ldyByKGEsbnVsbCksdGhpcy5leHBlY3RWYXJpYWJsZT0hMCx0aGlzLmluZGVudGF0aW9uPTAsdGhpcy51c2VySW5kZW50YXRpb25EZWx0YT0wfTtvLnByb3RvdHlwZS51c2VySW5kZW50PWZ1bmN0aW9uKGUpe3RoaXMudXNlckluZGVudGF0aW9uRGVsdGE9ZT4wP2UvdC5pbmRlbnRVbml0LXRoaXMuaW5kZW50YXRpb246MH07dmFyIGE9ZnVuY3Rpb24odCxvLGEpe3ZhciBmPW5ldyBpKG51bGwsbywhMSksZD10Lm5leHQoKTtyZXR1cm4nXCInPT09ZD9mPXModCxuZXcgcihzLG8pKTpcIidcIj09PWQ/Zj1sKHQsbmV3IHIobCxvKSk6XCIjXCI9PT1kP1wiJ1wiPT09dC5wZWVrKCk/KHQubmV4dCgpLGY9Yyh0LG5ldyByKGMsbykpKTp0LmVhdFdoaWxlKC9bXlxccy57fVxcW1xcXSgpXS8pP2YubmFtZT1cInN0cmluZy0yXCI6Zi5uYW1lPVwibWV0YVwiOlwiJFwiPT09ZD8oXCI8XCI9PT10Lm5leHQoKSYmKHQuZWF0V2hpbGUoL1teXFxzPl0vKSx0Lm5leHQoKSksZi5uYW1lPVwic3RyaW5nLTJcIik6XCJ8XCI9PT1kJiZhLmV4cGVjdFZhcmlhYmxlP2YuY29udGV4dD1uZXcgcih1LG8pOi9bXFxbXFxde30oKV0vLnRlc3QoZCk/KGYubmFtZT1cImJyYWNrZXRcIixmLmVvcz0vW1xcW3soXS8udGVzdChkKSxcIltcIj09PWQ/YS5pbmRlbnRhdGlvbisrOlwiXVwiPT09ZCYmKGEuaW5kZW50YXRpb249TWF0aC5tYXgoMCxhLmluZGVudGF0aW9uLTEpKSk6ZS50ZXN0KGQpPyh0LmVhdFdoaWxlKGUpLGYubmFtZT1cIm9wZXJhdG9yXCIsZi5lb3M9XCI7XCIhPT1kKTovXFxkLy50ZXN0KGQpPyh0LmVhdFdoaWxlKC9bXFx3XFxkXS8pLGYubmFtZT1cIm51bWJlclwiKTovW1xcd19dLy50ZXN0KGQpPyh0LmVhdFdoaWxlKC9bXFx3XFxkX10vKSxmLm5hbWU9YS5leHBlY3RWYXJpYWJsZT9uLnRlc3QodC5jdXJyZW50KCkpP1wia2V5d29yZFwiOlwidmFyaWFibGVcIjpudWxsKTpmLmVvcz1hLmV4cGVjdFZhcmlhYmxlLGZ9LHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5lYXRXaGlsZSgvW15cIl0vKSxuZXcgaShcImNvbW1lbnRcIix0LmVhdCgnXCInKT9lLnBhcmVudDplLCEwKX0sbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmVhdFdoaWxlKC9bXiddLyksbmV3IGkoXCJzdHJpbmdcIix0LmVhdChcIidcIik/ZS5wYXJlbnQ6ZSwhMSl9LGM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5lYXRXaGlsZSgvW14nXS8pLG5ldyBpKFwic3RyaW5nLTJcIix0LmVhdChcIidcIik/ZS5wYXJlbnQ6ZSwhMSl9LHU9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgaShudWxsLGUsITEpLHI9dC5uZXh0KCk7cmV0dXJuXCJ8XCI9PT1yPyhuLmNvbnRleHQ9ZS5wYXJlbnQsbi5lb3M9ITApOih0LmVhdFdoaWxlKC9bXnxdLyksbi5uYW1lPVwidmFyaWFibGVcIiksbn07cmV0dXJue3N0YXJ0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG99LHRva2VuOmZ1bmN0aW9uKHQsZSl7aWYoZS51c2VySW5kZW50KHQuaW5kZW50YXRpb24oKSksdC5lYXRTcGFjZSgpKXJldHVybiBudWxsO3ZhciBuPWUuY29udGV4dC5uZXh0KHQsZS5jb250ZXh0LGUpO3JldHVybiBlLmNvbnRleHQ9bi5jb250ZXh0LGUuZXhwZWN0VmFyaWFibGU9bi5lb3Msbi5uYW1lfSxibGFua0xpbmU6ZnVuY3Rpb24odCl7dC51c2VySW5kZW50KDApfSxpbmRlbnQ6ZnVuY3Rpb24oZSxuKXt2YXIgcj1lLmNvbnRleHQubmV4dD09PWEmJm4mJlwiXVwiPT09bi5jaGFyQXQoMCk/LTE6ZS51c2VySW5kZW50YXRpb25EZWx0YTtyZXR1cm4oZS5pbmRlbnRhdGlvbityKSp0LmluZGVudFVuaXR9LGVsZWN0cmljQ2hhcnM6XCJdXCJ9fSksdC5kZWZpbmVNSU1FKFwidGV4dC94LXN0c3JjXCIse25hbWU6XCJzbWFsbHRhbGtcIn0pfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT0vXihwfGxpfGRpdnxoXFxcXGR8cHJlfGJsb2NrcXVvdGV8dGQpJC87ZnVuY3Rpb24gbih0LHIpe2lmKDM9PXQubm9kZVR5cGUpcmV0dXJuIHIucHVzaCh0Lm5vZGVWYWx1ZSk7Zm9yKHZhciBpPXQuZmlyc3RDaGlsZDtpO2k9aS5uZXh0U2libGluZyluKGksciksZS50ZXN0KHQubm9kZVR5cGUpJiZyLnB1c2goXCJcXG5cIil9dC5jb2xvcml6ZT1mdW5jdGlvbihlLHIpe2V8fChlPWRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwcmVcIikpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKXt2YXIgbz1lW2ldLGE9by5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxhbmdcIil8fHI7aWYoYSl7dmFyIHM9W107bihvLHMpLG8uaW5uZXJIVE1MPVwiXCIsdC5ydW5Nb2RlKHMuam9pbihcIlwiKSxhLG8pLG8uY2xhc3NOYW1lKz1cIiBjbS1zLWRlZmF1bHRcIn19fX0obigwKSxuKDI0MikpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3QucnVuTW9kZT1mdW5jdGlvbihlLG4scixpKXt2YXIgbz10LmdldE1vZGUodC5kZWZhdWx0cyxuKSxhPS9NU0lFIFxcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxzPWEmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fGRvY3VtZW50LmRvY3VtZW50TW9kZTw5KTtpZihyLmFwcGVuZENoaWxkKXt2YXIgbD1pJiZpLnRhYlNpemV8fHQuZGVmYXVsdHMudGFiU2l6ZSxjPXIsdT0wO2MuaW5uZXJIVE1MPVwiXCIscj1mdW5jdGlvbih0LGUpe2lmKFwiXFxuXCI9PXQpcmV0dXJuIGMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocz9cIlxcclwiOnQpKSx2b2lkKHU9MCk7Zm9yKHZhciBuPVwiXCIscj0wOzspe3ZhciBpPXQuaW5kZXhPZihcIlxcdFwiLHIpO2lmKC0xPT1pKXtuKz10LnNsaWNlKHIpLHUrPXQubGVuZ3RoLXI7YnJlYWt9dSs9aS1yLG4rPXQuc2xpY2UocixpKTt2YXIgbz1sLXUlbDt1Kz1vO2Zvcih2YXIgYT0wO2E8bzsrK2Epbis9XCIgXCI7cj1pKzF9aWYoZSl7dmFyIGY9Yy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSk7Zi5jbGFzc05hbWU9XCJjbS1cIitlLnJlcGxhY2UoLyArL2csXCIgY20tXCIpLGYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobikpfWVsc2UgYy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fWZvcih2YXIgZj10LnNwbGl0TGluZXMoZSksZD1pJiZpLnN0YXRlfHx0LnN0YXJ0U3RhdGUobyksaD0wLHA9Zi5sZW5ndGg7aDxwOysraCl7aCYmcihcIlxcblwiKTt2YXIgbT1uZXcgdC5TdHJpbmdTdHJlYW0oZltoXSk7Zm9yKCFtLnN0cmluZyYmby5ibGFua0xpbmUmJm8uYmxhbmtMaW5lKGQpOyFtLmVvbCgpOyl7dmFyIGc9by50b2tlbihtLGQpO3IobS5jdXJyZW50KCksZyxoLG0uc3RhcnQsZCksbS5zdGFydD1tLnBvc319fX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZSh0LGUsbixyLGksbyl7dGhpcy5pbmRlbnRlZD10LHRoaXMuY29sdW1uPWUsdGhpcy50eXBlPW4sdGhpcy5pbmZvPXIsdGhpcy5hbGlnbj1pLHRoaXMucHJldj1vfWZ1bmN0aW9uIG4odCxuLHIsaSl7dmFyIG89dC5pbmRlbnRlZDtyZXR1cm4gdC5jb250ZXh0JiZcInN0YXRlbWVudFwiPT10LmNvbnRleHQudHlwZSYmXCJzdGF0ZW1lbnRcIiE9ciYmKG89dC5jb250ZXh0LmluZGVudGVkKSx0LmNvbnRleHQ9bmV3IGUobyxuLHIsaSxudWxsLHQuY29udGV4dCl9ZnVuY3Rpb24gcih0KXt2YXIgZT10LmNvbnRleHQudHlwZTtyZXR1cm5cIilcIiE9ZSYmXCJdXCIhPWUmJlwifVwiIT1lfHwodC5pbmRlbnRlZD10LmNvbnRleHQuaW5kZW50ZWQpLHQuY29udGV4dD10LmNvbnRleHQucHJldn1mdW5jdGlvbiBpKHQsZSxuKXtyZXR1cm5cInZhcmlhYmxlXCI9PWUucHJldlRva2VufHxcInR5cGVcIj09ZS5wcmV2VG9rZW58fCEhL1xcUyg/OlteLSBdPnxbKlxcXV0pXFxzKiR8XFwqJC8udGVzdCh0LnN0cmluZy5zbGljZSgwLG4pKXx8ISghZS50eXBlQXRFbmRPZkxpbmV8fHQuY29sdW1uKCkhPXQuaW5kZW50YXRpb24oKSl8fHZvaWQgMH1mdW5jdGlvbiBvKHQpe2Zvcig7Oyl7aWYoIXR8fFwidG9wXCI9PXQudHlwZSlyZXR1cm4hMDtpZihcIn1cIj09dC50eXBlJiZcIm5hbWVzcGFjZVwiIT10LnByZXYuaW5mbylyZXR1cm4hMTt0PXQucHJldn19ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGU9e30sbj10LnNwbGl0KFwiIFwiKSxyPTA7cjxuLmxlbmd0aDsrK3IpZVtuW3JdXT0hMDtyZXR1cm4gZX1mdW5jdGlvbiBzKHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KGUpOnQucHJvcGVydHlJc0VudW1lcmFibGUoZSl9dC5kZWZpbmVNb2RlKFwiY2xpa2VcIixmdW5jdGlvbihhLGwpe3ZhciBjLHUsZj1hLmluZGVudFVuaXQsZD1sLnN0YXRlbWVudEluZGVudFVuaXR8fGYsaD1sLmRvbnRBbGlnbkNhbGxzLHA9bC5rZXl3b3Jkc3x8e30sbT1sLnR5cGVzfHx7fSxnPWwuYnVpbHRpbnx8e30sdj1sLmJsb2NrS2V5d29yZHN8fHt9LHk9bC5kZWZLZXl3b3Jkc3x8e30sYj1sLmF0b21zfHx7fSx4PWwuaG9va3N8fHt9LHc9bC5tdWx0aUxpbmVTdHJpbmdzLEM9ITEhPT1sLmluZGVudFN0YXRlbWVudHMsaz0hMSE9PWwuaW5kZW50U3dpdGNoLF89bC5uYW1lc3BhY2VTZXBhcmF0b3IsUz1sLmlzUHVuY3R1YXRpb25DaGFyfHwvW1xcW1xcXXt9XFwoXFwpLDtcXDpcXC5dLyxFPWwubnVtYmVyU3RhcnR8fC9bXFxkXFwuXS8sVD1sLm51bWJlcnx8L14oPzoweFthLWZcXGRdK3wwYlswMV0rfCg/OlxcZCtcXC4/XFxkKnxcXC5cXGQrKSg/OmVbLStdP1xcZCspPykodXxsbD98bHxmKT8vaSxPPWwuaXNPcGVyYXRvckNoYXJ8fC9bK1xcLSomJT08PiE/fFxcL10vLE09bC5pc0lkZW50aWZpZXJDaGFyfHwvW1xcd1xcJF9cXHhhMS1cXHVmZmZmXS8sTD1sLmlzUmVzZXJ2ZWRJZGVudGlmaWVyfHwhMTtmdW5jdGlvbiBBKHQsZSl7dmFyIG4scj10Lm5leHQoKTtpZih4W3JdKXt2YXIgaT14W3JdKHQsZSk7aWYoITEhPT1pKXJldHVybiBpfWlmKCdcIic9PXJ8fFwiJ1wiPT1yKXJldHVybiBlLnRva2VuaXplPShuPXIsZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsaT0hMSxvPSExO251bGwhPShyPXQubmV4dCgpKTspe2lmKHI9PW4mJiFpKXtvPSEwO2JyZWFrfWk9IWkmJlwiXFxcXFwiPT1yfXJldHVybihvfHwhaSYmIXcpJiYoZS50b2tlbml6ZT1udWxsKSxcInN0cmluZ1wifSksZS50b2tlbml6ZSh0LGUpO2lmKFMudGVzdChyKSlyZXR1cm4gYz1yLG51bGw7aWYoRS50ZXN0KHIpKXtpZih0LmJhY2tVcCgxKSx0Lm1hdGNoKFQpKXJldHVyblwibnVtYmVyXCI7dC5uZXh0KCl9aWYoXCIvXCI9PXIpe2lmKHQuZWF0KFwiKlwiKSlyZXR1cm4gZS50b2tlbml6ZT1OLE4odCxlKTtpZih0LmVhdChcIi9cIikpcmV0dXJuIHQuc2tpcFRvRW5kKCksXCJjb21tZW50XCJ9aWYoTy50ZXN0KHIpKXtmb3IoOyF0Lm1hdGNoKC9eXFwvW1xcLypdLywhMSkmJnQuZWF0KE8pOyk7cmV0dXJuXCJvcGVyYXRvclwifWlmKHQuZWF0V2hpbGUoTSksXylmb3IoO3QubWF0Y2goXyk7KXQuZWF0V2hpbGUoTSk7dmFyIG89dC5jdXJyZW50KCk7cmV0dXJuIHMocCxvKT8ocyh2LG8pJiYoYz1cIm5ld3N0YXRlbWVudFwiKSxzKHksbykmJih1PSEwKSxcImtleXdvcmRcIik6cyhtLG8pP1widHlwZVwiOnMoZyxvKXx8TCYmTChvKT8ocyh2LG8pJiYoYz1cIm5ld3N0YXRlbWVudFwiKSxcImJ1aWx0aW5cIik6cyhiLG8pP1wiYXRvbVwiOlwidmFyaWFibGVcIn1mdW5jdGlvbiBOKHQsZSl7Zm9yKHZhciBuLHI9ITE7bj10Lm5leHQoKTspe2lmKFwiL1wiPT1uJiZyKXtlLnRva2VuaXplPW51bGw7YnJlYWt9cj1cIipcIj09bn1yZXR1cm5cImNvbW1lbnRcIn1mdW5jdGlvbiBQKHQsZSl7bC50eXBlRmlyc3REZWZpbml0aW9ucyYmdC5lb2woKSYmbyhlLmNvbnRleHQpJiYoZS50eXBlQXRFbmRPZkxpbmU9aSh0LGUsdC5wb3MpKX1yZXR1cm57c3RhcnRTdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm57dG9rZW5pemU6bnVsbCxjb250ZXh0Om5ldyBlKCh0fHwwKS1mLDAsXCJ0b3BcIixudWxsLCExKSxpbmRlbnRlZDowLHN0YXJ0T2ZMaW5lOiEwLHByZXZUb2tlbjpudWxsfX0sdG9rZW46ZnVuY3Rpb24odCxlKXt2YXIgYT1lLmNvbnRleHQ7aWYodC5zb2woKSYmKG51bGw9PWEuYWxpZ24mJihhLmFsaWduPSExKSxlLmluZGVudGVkPXQuaW5kZW50YXRpb24oKSxlLnN0YXJ0T2ZMaW5lPSEwKSx0LmVhdFNwYWNlKCkpcmV0dXJuIFAodCxlKSxudWxsO2M9dT1udWxsO3ZhciBzPShlLnRva2VuaXplfHxBKSh0LGUpO2lmKFwiY29tbWVudFwiPT1zfHxcIm1ldGFcIj09cylyZXR1cm4gcztpZihudWxsPT1hLmFsaWduJiYoYS5hbGlnbj0hMCksXCI7XCI9PWN8fFwiOlwiPT1jfHxcIixcIj09YyYmdC5tYXRjaCgvXlxccyooPzpcXC9cXC8uKik/JC8sITEpKWZvcig7XCJzdGF0ZW1lbnRcIj09ZS5jb250ZXh0LnR5cGU7KXIoZSk7ZWxzZSBpZihcIntcIj09YyluKGUsdC5jb2x1bW4oKSxcIn1cIik7ZWxzZSBpZihcIltcIj09YyluKGUsdC5jb2x1bW4oKSxcIl1cIik7ZWxzZSBpZihcIihcIj09YyluKGUsdC5jb2x1bW4oKSxcIilcIik7ZWxzZSBpZihcIn1cIj09Yyl7Zm9yKDtcInN0YXRlbWVudFwiPT1hLnR5cGU7KWE9cihlKTtmb3IoXCJ9XCI9PWEudHlwZSYmKGE9cihlKSk7XCJzdGF0ZW1lbnRcIj09YS50eXBlOylhPXIoZSl9ZWxzZSBjPT1hLnR5cGU/cihlKTpDJiYoKFwifVwiPT1hLnR5cGV8fFwidG9wXCI9PWEudHlwZSkmJlwiO1wiIT1jfHxcInN0YXRlbWVudFwiPT1hLnR5cGUmJlwibmV3c3RhdGVtZW50XCI9PWMpJiZuKGUsdC5jb2x1bW4oKSxcInN0YXRlbWVudFwiLHQuY3VycmVudCgpKTtpZihcInZhcmlhYmxlXCI9PXMmJihcImRlZlwiPT1lLnByZXZUb2tlbnx8bC50eXBlRmlyc3REZWZpbml0aW9ucyYmaSh0LGUsdC5zdGFydCkmJm8oZS5jb250ZXh0KSYmdC5tYXRjaCgvXlxccypcXCgvLCExKSkmJihzPVwiZGVmXCIpLHgudG9rZW4pe3ZhciBmPXgudG9rZW4odCxlLHMpO3ZvaWQgMCE9PWYmJihzPWYpfXJldHVyblwiZGVmXCI9PXMmJiExPT09bC5zdHlsZURlZnMmJihzPVwidmFyaWFibGVcIiksZS5zdGFydE9mTGluZT0hMSxlLnByZXZUb2tlbj11P1wiZGVmXCI6c3x8YyxQKHQsZSksc30saW5kZW50OmZ1bmN0aW9uKGUsbil7aWYoZS50b2tlbml6ZSE9QSYmbnVsbCE9ZS50b2tlbml6ZXx8ZS50eXBlQXRFbmRPZkxpbmUpcmV0dXJuIHQuUGFzczt2YXIgcj1lLmNvbnRleHQsaT1uJiZuLmNoYXJBdCgwKSxvPWk9PXIudHlwZTtpZihcInN0YXRlbWVudFwiPT1yLnR5cGUmJlwifVwiPT1pJiYocj1yLnByZXYpLGwuZG9udEluZGVudFN0YXRlbWVudHMpZm9yKDtcInN0YXRlbWVudFwiPT1yLnR5cGUmJmwuZG9udEluZGVudFN0YXRlbWVudHMudGVzdChyLmluZm8pOylyPXIucHJldjtpZih4LmluZGVudCl7dmFyIGE9eC5pbmRlbnQoZSxyLG4sZik7aWYoXCJudW1iZXJcIj09dHlwZW9mIGEpcmV0dXJuIGF9dmFyIHM9ci5wcmV2JiZcInN3aXRjaFwiPT1yLnByZXYuaW5mbztpZihsLmFsbG1hbkluZGVudGF0aW9uJiYvW3soXS8udGVzdChpKSl7Zm9yKDtcInRvcFwiIT1yLnR5cGUmJlwifVwiIT1yLnR5cGU7KXI9ci5wcmV2O3JldHVybiByLmluZGVudGVkfXJldHVyblwic3RhdGVtZW50XCI9PXIudHlwZT9yLmluZGVudGVkKyhcIntcIj09aT8wOmQpOiFyLmFsaWdufHxoJiZcIilcIj09ci50eXBlP1wiKVwiIT1yLnR5cGV8fG8/ci5pbmRlbnRlZCsobz8wOmYpKyhvfHwhc3x8L14oPzpjYXNlfGRlZmF1bHQpXFxiLy50ZXN0KG4pPzA6Zik6ci5pbmRlbnRlZCtkOnIuY29sdW1uKyhvPzA6MSl9LGVsZWN0cmljSW5wdXQ6az8vXlxccyooPzpjYXNlIC4qPzp8ZGVmYXVsdDp8XFx7XFx9P3xcXH0pJC86L15cXHMqW3t9XSQvLGJsb2NrQ29tbWVudFN0YXJ0OlwiLypcIixibG9ja0NvbW1lbnRFbmQ6XCIqL1wiLGJsb2NrQ29tbWVudENvbnRpbnVlOlwiICogXCIsbGluZUNvbW1lbnQ6XCIvL1wiLGZvbGQ6XCJicmFjZVwifX0pO3ZhciBsPVwiYXV0byBpZiBicmVhayBjYXNlIHJlZ2lzdGVyIGNvbnRpbnVlIHJldHVybiBkZWZhdWx0IGRvIHNpemVvZiBzdGF0aWMgZWxzZSBzdHJ1Y3Qgc3dpdGNoIGV4dGVybiB0eXBlZGVmIHVuaW9uIGZvciBnb3RvIHdoaWxlIGVudW0gY29uc3Qgdm9sYXRpbGUgaW5saW5lIHJlc3RyaWN0IGFzbSBmb3J0cmFuXCIsYz1hKFwiaW50IGxvbmcgY2hhciBzaG9ydCBkb3VibGUgZmxvYXQgdW5zaWduZWQgc2lnbmVkIHZvaWQgYm9vbFwiKSx1PWEoXCJTRUwgaW5zdGFuY2V0eXBlIGlkIENsYXNzIFByb3RvY29sIEJPT0xcIik7ZnVuY3Rpb24gZih0KXtyZXR1cm4gcyhjLHQpfHwvLitfdCQvLnRlc3QodCl9dmFyIGQ9XCJjYXNlIGRvIGVsc2UgZm9yIGlmIHN3aXRjaCB3aGlsZSBzdHJ1Y3QgZW51bSB1bmlvblwiO2Z1bmN0aW9uIGgodCxlKXtpZighZS5zdGFydE9mTGluZSlyZXR1cm4hMTtmb3IodmFyIG4scj1udWxsO249dC5wZWVrKCk7KXtpZihcIlxcXFxcIj09biYmdC5tYXRjaCgvXi4kLykpe3I9aDticmVha31pZihcIi9cIj09biYmdC5tYXRjaCgvXlxcL1tcXC9cXCpdLywhMSkpYnJlYWs7dC5uZXh0KCl9cmV0dXJuIGUudG9rZW5pemU9cixcIm1ldGFcIn1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuXCJ0eXBlXCI9PWUucHJldlRva2VuJiZcInR5cGVcIn1mdW5jdGlvbiBtKHQpe3JldHVybiEoIXR8fHQubGVuZ3RoPDJ8fFwiX1wiIT10WzBdfHxcIl9cIiE9dFsxXSYmdFsxXT09PXRbMV0udG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gdC5lYXRXaGlsZSgvW1xcd1xcLiddLyksXCJudW1iZXJcIn1mdW5jdGlvbiB2KHQsZSl7aWYodC5iYWNrVXAoMSksdC5tYXRjaCgvKFJ8dThSfHVSfFVSfExSKS8pKXt2YXIgbj10Lm1hdGNoKC9cIihbXlxcc1xcXFwoKV17MCwxNn0pXFwoLyk7cmV0dXJuISFuJiYoZS5jcHAxMVJhd1N0cmluZ0RlbGltPW5bMV0sZS50b2tlbml6ZT1iLGIodCxlKSl9cmV0dXJuIHQubWF0Y2goLyh1OHx1fFV8TCkvKT8hIXQubWF0Y2goL1tcIiddLywhMSkmJlwic3RyaW5nXCI6KHQubmV4dCgpLCExKX1mdW5jdGlvbiB5KHQsZSl7Zm9yKHZhciBuO251bGwhPShuPXQubmV4dCgpKTspaWYoJ1wiJz09biYmIXQuZWF0KCdcIicpKXtlLnRva2VuaXplPW51bGw7YnJlYWt9cmV0dXJuXCJzdHJpbmdcIn1mdW5jdGlvbiBiKHQsZSl7dmFyIG49ZS5jcHAxMVJhd1N0cmluZ0RlbGltLnJlcGxhY2UoL1teXFx3XFxzXS9nLFwiXFxcXCQmXCIpLHI9dC5tYXRjaChuZXcgUmVnRXhwKFwiLio/XFxcXClcIituKydcIicpKTtyZXR1cm4gcj9lLnRva2VuaXplPW51bGw6dC5za2lwVG9FbmQoKSxcInN0cmluZ1wifWZ1bmN0aW9uIHgoZSxuKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W2VdKTt2YXIgcj1bXTtmdW5jdGlvbiBpKHQpe2lmKHQpZm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmci5wdXNoKGUpfWkobi5rZXl3b3JkcyksaShuLnR5cGVzKSxpKG4uYnVpbHRpbiksaShuLmF0b21zKSxyLmxlbmd0aCYmKG4uaGVscGVyVHlwZT1lWzBdLHQucmVnaXN0ZXJIZWxwZXIoXCJoaW50V29yZHNcIixlWzBdLHIpKTtmb3IodmFyIG89MDtvPGUubGVuZ3RoOysrbyl0LmRlZmluZU1JTUUoZVtvXSxuKX1mdW5jdGlvbiB3KHQsZSl7Zm9yKHZhciBuPSExOyF0LmVvbCgpOyl7aWYoIW4mJnQubWF0Y2goJ1wiXCJcIicpKXtlLnRva2VuaXplPW51bGw7YnJlYWt9bj1cIlxcXFxcIj09dC5uZXh0KCkmJiFufXJldHVyblwic3RyaW5nXCJ9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXtmb3IodmFyIHI7cj1lLm5leHQoKTspe2lmKFwiKlwiPT1yJiZlLmVhdChcIi9cIikpe2lmKDE9PXQpe24udG9rZW5pemU9bnVsbDticmVha31yZXR1cm4gbi50b2tlbml6ZT1DKHQtMSksbi50b2tlbml6ZShlLG4pfWlmKFwiL1wiPT1yJiZlLmVhdChcIipcIikpcmV0dXJuIG4udG9rZW5pemU9Qyh0KzEpLG4udG9rZW5pemUoZSxuKX1yZXR1cm5cImNvbW1lbnRcIn19eChbXCJ0ZXh0L3gtY3NyY1wiLFwidGV4dC94LWNcIixcInRleHQveC1jaGRyXCJdLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKGwpLHR5cGVzOmYsYmxvY2tLZXl3b3JkczphKGQpLGRlZktleXdvcmRzOmEoXCJzdHJ1Y3QgZW51bSB1bmlvblwiKSx0eXBlRmlyc3REZWZpbml0aW9uczohMCxhdG9tczphKFwiTlVMTCB0cnVlIGZhbHNlXCIpLGlzUmVzZXJ2ZWRJZGVudGlmaWVyOm0saG9va3M6e1wiI1wiOmgsXCIqXCI6cH0sbW9kZVByb3BzOntmb2xkOltcImJyYWNlXCIsXCJpbmNsdWRlXCJdfX0pLHgoW1widGV4dC94LWMrK3NyY1wiLFwidGV4dC94LWMrK2hkclwiXSx7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShsK1wiYWxpZ25hcyBhbGlnbm9mIGFuZCBhbmRfZXEgYXVkaXQgYXhpb20gYml0YW5kIGJpdG9yIGNhdGNoIGNsYXNzIGNvbXBsIGNvbmNlcHQgY29uc3RleHByIGNvbnN0X2Nhc3QgZGVjbHR5cGUgZGVsZXRlIGR5bmFtaWNfY2FzdCBleHBsaWNpdCBleHBvcnQgZmluYWwgZnJpZW5kIGltcG9ydCBtb2R1bGUgbXV0YWJsZSBuYW1lc3BhY2UgbmV3IG5vZXhjZXB0IG5vdCBub3RfZXEgb3BlcmF0b3Igb3Igb3JfZXEgb3ZlcnJpZGUgcHJpdmF0ZSBwcm90ZWN0ZWQgcHVibGljIHJlaW50ZXJwcmV0X2Nhc3QgcmVxdWlyZXMgc3RhdGljX2Fzc2VydCBzdGF0aWNfY2FzdCB0ZW1wbGF0ZSB0aGlzIHRocmVhZF9sb2NhbCB0aHJvdyB0cnkgdHlwZWlkIHR5cGVuYW1lIHVzaW5nIHZpcnR1YWwgeG9yIHhvcl9lcVwiKSx0eXBlczpmLGJsb2NrS2V5d29yZHM6YShkK1wiIGNsYXNzIHRyeSBjYXRjaFwiKSxkZWZLZXl3b3JkczphKFwic3RydWN0IGVudW0gdW5pb24gY2xhc3MgbmFtZXNwYWNlXCIpLHR5cGVGaXJzdERlZmluaXRpb25zOiEwLGF0b21zOmEoXCJ0cnVlIGZhbHNlIE5VTEwgbnVsbHB0clwiKSxkb250SW5kZW50U3RhdGVtZW50czovXnRlbXBsYXRlJC8saXNJZGVudGlmaWVyQ2hhcjovW1xcd1xcJF9+XFx4YTEtXFx1ZmZmZl0vLGlzUmVzZXJ2ZWRJZGVudGlmaWVyOm0saG9va3M6e1wiI1wiOmgsXCIqXCI6cCx1OnYsVTp2LEw6dixSOnYsMDpnLDE6ZywyOmcsMzpnLDQ6Zyw1OmcsNjpnLDc6Zyw4OmcsOTpnLHRva2VuOmZ1bmN0aW9uKHQsZSxuKXtpZihcInZhcmlhYmxlXCI9PW4mJlwiKFwiPT10LnBlZWsoKSYmKFwiO1wiPT1lLnByZXZUb2tlbnx8bnVsbD09ZS5wcmV2VG9rZW58fFwifVwiPT1lLnByZXZUb2tlbikmJihyPXQuY3VycmVudCgpLChpPS8oXFx3Kyk6On4/KFxcdyspJC8uZXhlYyhyKSkmJmlbMV09PWlbMl0pKXJldHVyblwiZGVmXCI7dmFyIHIsaX19LG5hbWVzcGFjZVNlcGFyYXRvcjpcIjo6XCIsbW9kZVByb3BzOntmb2xkOltcImJyYWNlXCIsXCJpbmNsdWRlXCJdfX0pLHgoXCJ0ZXh0L3gtamF2YVwiLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKFwiYWJzdHJhY3QgYXNzZXJ0IGJyZWFrIGNhc2UgY2F0Y2ggY2xhc3MgY29uc3QgY29udGludWUgZGVmYXVsdCBkbyBlbHNlIGVudW0gZXh0ZW5kcyBmaW5hbCBmaW5hbGx5IGZvciBnb3RvIGlmIGltcGxlbWVudHMgaW1wb3J0IGluc3RhbmNlb2YgaW50ZXJmYWNlIG5hdGl2ZSBuZXcgcGFja2FnZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgcmV0dXJuIHN0YXRpYyBzdHJpY3RmcCBzdXBlciBzd2l0Y2ggc3luY2hyb25pemVkIHRoaXMgdGhyb3cgdGhyb3dzIHRyYW5zaWVudCB0cnkgdm9sYXRpbGUgd2hpbGUgQGludGVyZmFjZVwiKSx0eXBlczphKFwiYnl0ZSBzaG9ydCBpbnQgbG9uZyBmbG9hdCBkb3VibGUgYm9vbGVhbiBjaGFyIHZvaWQgQm9vbGVhbiBCeXRlIENoYXJhY3RlciBEb3VibGUgRmxvYXQgSW50ZWdlciBMb25nIE51bWJlciBPYmplY3QgU2hvcnQgU3RyaW5nIFN0cmluZ0J1ZmZlciBTdHJpbmdCdWlsZGVyIFZvaWRcIiksYmxvY2tLZXl3b3JkczphKFwiY2F0Y2ggY2xhc3MgZG8gZWxzZSBmaW5hbGx5IGZvciBpZiBzd2l0Y2ggdHJ5IHdoaWxlXCIpLGRlZktleXdvcmRzOmEoXCJjbGFzcyBpbnRlcmZhY2UgZW51bSBAaW50ZXJmYWNlXCIpLHR5cGVGaXJzdERlZmluaXRpb25zOiEwLGF0b21zOmEoXCJ0cnVlIGZhbHNlIG51bGxcIiksbnVtYmVyOi9eKD86MHhbYS1mXFxkX10rfDBiWzAxX10rfCg/OltcXGRfXStcXC4/XFxkKnxcXC5cXGQrKSg/OmVbLStdP1tcXGRfXSspPykodXxsbD98bHxmKT8vaSxob29rczp7XCJAXCI6ZnVuY3Rpb24odCl7cmV0dXJuIXQubWF0Y2goXCJpbnRlcmZhY2VcIiwhMSkmJih0LmVhdFdoaWxlKC9bXFx3XFwkX10vKSxcIm1ldGFcIil9fSxtb2RlUHJvcHM6e2ZvbGQ6W1wiYnJhY2VcIixcImltcG9ydFwiXX19KSx4KFwidGV4dC94LWNzaGFycFwiLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKFwiYWJzdHJhY3QgYXMgYXN5bmMgYXdhaXQgYmFzZSBicmVhayBjYXNlIGNhdGNoIGNoZWNrZWQgY2xhc3MgY29uc3QgY29udGludWUgZGVmYXVsdCBkZWxlZ2F0ZSBkbyBlbHNlIGVudW0gZXZlbnQgZXhwbGljaXQgZXh0ZXJuIGZpbmFsbHkgZml4ZWQgZm9yIGZvcmVhY2ggZ290byBpZiBpbXBsaWNpdCBpbiBpbnRlcmZhY2UgaW50ZXJuYWwgaXMgbG9jayBuYW1lc3BhY2UgbmV3IG9wZXJhdG9yIG91dCBvdmVycmlkZSBwYXJhbXMgcHJpdmF0ZSBwcm90ZWN0ZWQgcHVibGljIHJlYWRvbmx5IHJlZiByZXR1cm4gc2VhbGVkIHNpemVvZiBzdGFja2FsbG9jIHN0YXRpYyBzdHJ1Y3Qgc3dpdGNoIHRoaXMgdGhyb3cgdHJ5IHR5cGVvZiB1bmNoZWNrZWQgdW5zYWZlIHVzaW5nIHZpcnR1YWwgdm9pZCB2b2xhdGlsZSB3aGlsZSBhZGQgYWxpYXMgYXNjZW5kaW5nIGRlc2NlbmRpbmcgZHluYW1pYyBmcm9tIGdldCBnbG9iYWwgZ3JvdXAgaW50byBqb2luIGxldCBvcmRlcmJ5IHBhcnRpYWwgcmVtb3ZlIHNlbGVjdCBzZXQgdmFsdWUgdmFyIHlpZWxkXCIpLHR5cGVzOmEoXCJBY3Rpb24gQm9vbGVhbiBCeXRlIENoYXIgRGF0ZVRpbWUgRGF0ZVRpbWVPZmZzZXQgRGVjaW1hbCBEb3VibGUgRnVuYyBHdWlkIEludDE2IEludDMyIEludDY0IE9iamVjdCBTQnl0ZSBTaW5nbGUgU3RyaW5nIFRhc2sgVGltZVNwYW4gVUludDE2IFVJbnQzMiBVSW50NjQgYm9vbCBieXRlIGNoYXIgZGVjaW1hbCBkb3VibGUgc2hvcnQgaW50IGxvbmcgb2JqZWN0IHNieXRlIGZsb2F0IHN0cmluZyB1c2hvcnQgdWludCB1bG9uZ1wiKSxibG9ja0tleXdvcmRzOmEoXCJjYXRjaCBjbGFzcyBkbyBlbHNlIGZpbmFsbHkgZm9yIGZvcmVhY2ggaWYgc3RydWN0IHN3aXRjaCB0cnkgd2hpbGVcIiksZGVmS2V5d29yZHM6YShcImNsYXNzIGludGVyZmFjZSBuYW1lc3BhY2Ugc3RydWN0IHZhclwiKSx0eXBlRmlyc3REZWZpbml0aW9uczohMCxhdG9tczphKFwidHJ1ZSBmYWxzZSBudWxsXCIpLGhvb2tzOntcIkBcIjpmdW5jdGlvbih0LGUpe3JldHVybiB0LmVhdCgnXCInKT8oZS50b2tlbml6ZT15LHkodCxlKSk6KHQuZWF0V2hpbGUoL1tcXHdcXCRfXS8pLFwibWV0YVwiKX19fSkseChcInRleHQveC1zY2FsYVwiLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKFwiYWJzdHJhY3QgY2FzZSBjYXRjaCBjbGFzcyBkZWYgZG8gZWxzZSBleHRlbmRzIGZpbmFsIGZpbmFsbHkgZm9yIGZvclNvbWUgaWYgaW1wbGljaXQgaW1wb3J0IGxhenkgbWF0Y2ggbmV3IG51bGwgb2JqZWN0IG92ZXJyaWRlIHBhY2thZ2UgcHJpdmF0ZSBwcm90ZWN0ZWQgcmV0dXJuIHNlYWxlZCBzdXBlciB0aGlzIHRocm93IHRyYWl0IHRyeSB0eXBlIHZhbCB2YXIgd2hpbGUgd2l0aCB5aWVsZCBfIGFzc2VydCBhc3N1bWUgcmVxdWlyZSBwcmludCBwcmludGxuIHByaW50ZiByZWFkTGluZSByZWFkQm9vbGVhbiByZWFkQnl0ZSByZWFkU2hvcnQgcmVhZENoYXIgcmVhZEludCByZWFkTG9uZyByZWFkRmxvYXQgcmVhZERvdWJsZVwiKSx0eXBlczphKFwiQW55VmFsIEFwcCBBcHBsaWNhdGlvbiBBcnJheSBCdWZmZXJlZEl0ZXJhdG9yIEJpZ0RlY2ltYWwgQmlnSW50IENoYXIgQ29uc29sZSBFaXRoZXIgRW51bWVyYXRpb24gRXF1aXYgRXJyb3IgRXhjZXB0aW9uIEZyYWN0aW9uYWwgRnVuY3Rpb24gSW5kZXhlZFNlcSBJbnQgSW50ZWdyYWwgSXRlcmFibGUgSXRlcmF0b3IgTGlzdCBNYXAgTnVtZXJpYyBOaWwgTm90TnVsbCBPcHRpb24gT3JkZXJlZCBPcmRlcmluZyBQYXJ0aWFsRnVuY3Rpb24gUGFydGlhbE9yZGVyaW5nIFByb2R1Y3QgUHJveHkgUmFuZ2UgUmVzcG9uZGVyIFNlcSBTZXJpYWxpemFibGUgU2V0IFNwZWNpYWxpemFibGUgU3RyZWFtIFN0cmluZ0J1aWxkZXIgU3RyaW5nQ29udGV4dCBTeW1ib2wgVGhyb3dhYmxlIFRyYXZlcnNhYmxlIFRyYXZlcnNhYmxlT25jZSBUdXBsZSBVbml0IFZlY3RvciBCb29sZWFuIEJ5dGUgQ2hhcmFjdGVyIENoYXJTZXF1ZW5jZSBDbGFzcyBDbGFzc0xvYWRlciBDbG9uZWFibGUgQ29tcGFyYWJsZSBDb21waWxlciBEb3VibGUgRXhjZXB0aW9uIEZsb2F0IEludGVnZXIgTG9uZyBNYXRoIE51bWJlciBPYmplY3QgUGFja2FnZSBQYWlyIFByb2Nlc3MgUnVudGltZSBSdW5uYWJsZSBTZWN1cml0eU1hbmFnZXIgU2hvcnQgU3RhY2tUcmFjZUVsZW1lbnQgU3RyaWN0TWF0aCBTdHJpbmcgU3RyaW5nQnVmZmVyIFN5c3RlbSBUaHJlYWQgVGhyZWFkR3JvdXAgVGhyZWFkTG9jYWwgVGhyb3dhYmxlIFRyaXBsZSBWb2lkXCIpLG11bHRpTGluZVN0cmluZ3M6ITAsYmxvY2tLZXl3b3JkczphKFwiY2F0Y2ggY2xhc3MgZW51bSBkbyBlbHNlIGZpbmFsbHkgZm9yIGZvclNvbWUgaWYgbWF0Y2ggc3dpdGNoIHRyeSB3aGlsZVwiKSxkZWZLZXl3b3JkczphKFwiY2xhc3MgZW51bSBkZWYgb2JqZWN0IHBhY2thZ2UgdHJhaXQgdHlwZSB2YWwgdmFyXCIpLGF0b21zOmEoXCJ0cnVlIGZhbHNlIG51bGxcIiksaW5kZW50U3RhdGVtZW50czohMSxpbmRlbnRTd2l0Y2g6ITEsaXNPcGVyYXRvckNoYXI6L1srXFwtKiYlPTw+IT98XFwvIzpAXS8saG9va3M6e1wiQFwiOmZ1bmN0aW9uKHQpe3JldHVybiB0LmVhdFdoaWxlKC9bXFx3XFwkX10vKSxcIm1ldGFcIn0sJ1wiJzpmdW5jdGlvbih0LGUpe3JldHVybiEhdC5tYXRjaCgnXCJcIicpJiYoZS50b2tlbml6ZT13LGUudG9rZW5pemUodCxlKSl9LFwiJ1wiOmZ1bmN0aW9uKHQpe3JldHVybiB0LmVhdFdoaWxlKC9bXFx3XFwkX1xceGExLVxcdWZmZmZdLyksXCJhdG9tXCJ9LFwiPVwiOmZ1bmN0aW9uKHQsbil7dmFyIHI9bi5jb250ZXh0O3JldHVybiEoXCJ9XCIhPXIudHlwZXx8IXIuYWxpZ258fCF0LmVhdChcIj5cIikpJiYobi5jb250ZXh0PW5ldyBlKHIuaW5kZW50ZWQsci5jb2x1bW4sci50eXBlLHIuaW5mbyxudWxsLHIucHJldiksXCJvcGVyYXRvclwiKX0sXCIvXCI6ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXQuZWF0KFwiKlwiKSYmKGUudG9rZW5pemU9QygxKSxlLnRva2VuaXplKHQsZSkpfX0sbW9kZVByb3BzOntjbG9zZUJyYWNrZXRzOntwYWlyczonKClbXXt9XCJcIicsdHJpcGxlczonXCInfX19KSx4KFwidGV4dC94LWtvdGxpblwiLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKFwicGFja2FnZSBhcyB0eXBlYWxpYXMgY2xhc3MgaW50ZXJmYWNlIHRoaXMgc3VwZXIgdmFsIG9wZXJhdG9yIHZhciBmdW4gZm9yIGlzIGluIFRoaXMgdGhyb3cgcmV0dXJuIGFubm90YXRpb24gYnJlYWsgY29udGludWUgb2JqZWN0IGlmIGVsc2Ugd2hpbGUgZG8gdHJ5IHdoZW4gIWluICFpcyBhcz8gZmlsZSBpbXBvcnQgd2hlcmUgYnkgZ2V0IHNldCBhYnN0cmFjdCBlbnVtIG9wZW4gaW5uZXIgb3ZlcnJpZGUgcHJpdmF0ZSBwdWJsaWMgaW50ZXJuYWwgcHJvdGVjdGVkIGNhdGNoIGZpbmFsbHkgb3V0IGZpbmFsIHZhcmFyZyByZWlmaWVkIGR5bmFtaWMgY29tcGFuaW9uIGNvbnN0cnVjdG9yIGluaXQgc2VhbGVkIGZpZWxkIHByb3BlcnR5IHJlY2VpdmVyIHBhcmFtIHNwYXJhbSBsYXRlaW5pdCBkYXRhIGlubGluZSBub2lubGluZSB0YWlscmVjIGV4dGVybmFsIGFubm90YXRpb24gY3Jvc3NpbmxpbmUgY29uc3Qgb3BlcmF0b3IgaW5maXggc3VzcGVuZCBhY3R1YWwgZXhwZWN0IHNldHBhcmFtXCIpLHR5cGVzOmEoXCJCb29sZWFuIEJ5dGUgQ2hhcmFjdGVyIENoYXJTZXF1ZW5jZSBDbGFzcyBDbGFzc0xvYWRlciBDbG9uZWFibGUgQ29tcGFyYWJsZSBDb21waWxlciBEb3VibGUgRXhjZXB0aW9uIEZsb2F0IEludGVnZXIgTG9uZyBNYXRoIE51bWJlciBPYmplY3QgUGFja2FnZSBQYWlyIFByb2Nlc3MgUnVudGltZSBSdW5uYWJsZSBTZWN1cml0eU1hbmFnZXIgU2hvcnQgU3RhY2tUcmFjZUVsZW1lbnQgU3RyaWN0TWF0aCBTdHJpbmcgU3RyaW5nQnVmZmVyIFN5c3RlbSBUaHJlYWQgVGhyZWFkR3JvdXAgVGhyZWFkTG9jYWwgVGhyb3dhYmxlIFRyaXBsZSBWb2lkIEFubm90YXRpb24gQW55IEJvb2xlYW5BcnJheSBCeXRlQXJyYXkgQ2hhciBDaGFyQXJyYXkgRGVwcmVjYXRpb25MZXZlbCBEb3VibGVBcnJheSBFbnVtIEZsb2F0QXJyYXkgRnVuY3Rpb24gSW50IEludEFycmF5IExhenkgTGF6eVRocmVhZFNhZmV0eU1vZGUgTG9uZ0FycmF5IE5vdGhpbmcgU2hvcnRBcnJheSBVbml0XCIpLGludGVuZFN3aXRjaDohMSxpbmRlbnRTdGF0ZW1lbnRzOiExLG11bHRpTGluZVN0cmluZ3M6ITAsbnVtYmVyOi9eKD86MHhbYS1mXFxkX10rfDBiWzAxX10rfCg/OltcXGRfXSsoXFwuXFxkKyk/fFxcLlxcZCspKD86ZVstK10/W1xcZF9dKyk/KSh1fGxsP3xsfGYpPy9pLGJsb2NrS2V5d29yZHM6YShcImNhdGNoIGNsYXNzIGRvIGVsc2UgZmluYWxseSBmb3IgaWYgd2hlcmUgdHJ5IHdoaWxlIGVudW1cIiksZGVmS2V5d29yZHM6YShcImNsYXNzIHZhbCB2YXIgb2JqZWN0IGludGVyZmFjZSBmdW5cIiksYXRvbXM6YShcInRydWUgZmFsc2UgbnVsbCB0aGlzXCIpLGhvb2tzOntcIkBcIjpmdW5jdGlvbih0KXtyZXR1cm4gdC5lYXRXaGlsZSgvW1xcd1xcJF9dLyksXCJtZXRhXCJ9LFwiKlwiOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCIuXCI9PWUucHJldlRva2VuP1widmFyaWFibGVcIjpcIm9wZXJhdG9yXCJ9LCdcIic6ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gZS50b2tlbml6ZT0obj10Lm1hdGNoKCdcIlwiJyksZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsaT0hMSxvPSExOyF0LmVvbCgpOyl7aWYoIW4mJiFpJiZ0Lm1hdGNoKCdcIicpKXtvPSEwO2JyZWFrfWlmKG4mJnQubWF0Y2goJ1wiXCJcIicpKXtvPSEwO2JyZWFrfXI9dC5uZXh0KCksIWkmJlwiJFwiPT1yJiZ0Lm1hdGNoKFwie1wiKSYmdC5za2lwVG8oXCJ9XCIpLGk9IWkmJlwiXFxcXFwiPT1yJiYhbn1yZXR1cm4hbyYmbnx8KGUudG9rZW5pemU9bnVsbCksXCJzdHJpbmdcIn0pLGUudG9rZW5pemUodCxlKX0sXCIvXCI6ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXQuZWF0KFwiKlwiKSYmKGUudG9rZW5pemU9QygxKSxlLnRva2VuaXplKHQsZSkpfSxpbmRlbnQ6ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9biYmbi5jaGFyQXQoMCk7cmV0dXJuXCJ9XCIhPXQucHJldlRva2VuJiZcIilcIiE9dC5wcmV2VG9rZW58fFwiXCIhPW4/XCJvcGVyYXRvclwiPT10LnByZXZUb2tlbiYmXCJ9XCIhPW4mJlwifVwiIT10LmNvbnRleHQudHlwZXx8XCJ2YXJpYWJsZVwiPT10LnByZXZUb2tlbiYmXCIuXCI9PWl8fChcIn1cIj09dC5wcmV2VG9rZW58fFwiKVwiPT10LnByZXZUb2tlbikmJlwiLlwiPT1pPzIqcitlLmluZGVudGVkOmUuYWxpZ24mJlwifVwiPT1lLnR5cGU/ZS5pbmRlbnRlZCsodC5jb250ZXh0LnR5cGU9PShufHxcIlwiKS5jaGFyQXQoMCk/MDpyKTp2b2lkIDA6dC5pbmRlbnRlZH19LG1vZGVQcm9wczp7Y2xvc2VCcmFja2V0czp7dHJpcGxlczonXCInfX19KSx4KFtcIngtc2hhZGVyL3gtdmVydGV4XCIsXCJ4LXNoYWRlci94LWZyYWdtZW50XCJdLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKFwic2FtcGxlcjFEIHNhbXBsZXIyRCBzYW1wbGVyM0Qgc2FtcGxlckN1YmUgc2FtcGxlcjFEU2hhZG93IHNhbXBsZXIyRFNoYWRvdyBjb25zdCBhdHRyaWJ1dGUgdW5pZm9ybSB2YXJ5aW5nIGJyZWFrIGNvbnRpbnVlIGRpc2NhcmQgcmV0dXJuIGZvciB3aGlsZSBkbyBpZiBlbHNlIHN0cnVjdCBpbiBvdXQgaW5vdXRcIiksdHlwZXM6YShcImZsb2F0IGludCBib29sIHZvaWQgdmVjMiB2ZWMzIHZlYzQgaXZlYzIgaXZlYzMgaXZlYzQgYnZlYzIgYnZlYzMgYnZlYzQgbWF0MiBtYXQzIG1hdDRcIiksYmxvY2tLZXl3b3JkczphKFwiZm9yIHdoaWxlIGRvIGlmIGVsc2Ugc3RydWN0XCIpLGJ1aWx0aW46YShcInJhZGlhbnMgZGVncmVlcyBzaW4gY29zIHRhbiBhc2luIGFjb3MgYXRhbiBwb3cgZXhwIGxvZyBleHAyIHNxcnQgaW52ZXJzZXNxcnQgYWJzIHNpZ24gZmxvb3IgY2VpbCBmcmFjdCBtb2QgbWluIG1heCBjbGFtcCBtaXggc3RlcCBzbW9vdGhzdGVwIGxlbmd0aCBkaXN0YW5jZSBkb3QgY3Jvc3Mgbm9ybWFsaXplIGZ0cmFuc2Zvcm0gZmFjZWZvcndhcmQgcmVmbGVjdCByZWZyYWN0IG1hdHJpeENvbXBNdWx0IGxlc3NUaGFuIGxlc3NUaGFuRXF1YWwgZ3JlYXRlclRoYW4gZ3JlYXRlclRoYW5FcXVhbCBlcXVhbCBub3RFcXVhbCBhbnkgYWxsIG5vdCB0ZXh0dXJlMUQgdGV4dHVyZTFEUHJvaiB0ZXh0dXJlMURMb2QgdGV4dHVyZTFEUHJvakxvZCB0ZXh0dXJlMkQgdGV4dHVyZTJEUHJvaiB0ZXh0dXJlMkRMb2QgdGV4dHVyZTJEUHJvakxvZCB0ZXh0dXJlM0QgdGV4dHVyZTNEUHJvaiB0ZXh0dXJlM0RMb2QgdGV4dHVyZTNEUHJvakxvZCB0ZXh0dXJlQ3ViZSB0ZXh0dXJlQ3ViZUxvZCBzaGFkb3cxRCBzaGFkb3cyRCBzaGFkb3cxRFByb2ogc2hhZG93MkRQcm9qIHNoYWRvdzFETG9kIHNoYWRvdzJETG9kIHNoYWRvdzFEUHJvakxvZCBzaGFkb3cyRFByb2pMb2QgZEZkeCBkRmR5IGZ3aWR0aCBub2lzZTEgbm9pc2UyIG5vaXNlMyBub2lzZTRcIiksYXRvbXM6YShcInRydWUgZmFsc2UgZ2xfRnJhZ0NvbG9yIGdsX1NlY29uZGFyeUNvbG9yIGdsX05vcm1hbCBnbF9WZXJ0ZXggZ2xfTXVsdGlUZXhDb29yZDAgZ2xfTXVsdGlUZXhDb29yZDEgZ2xfTXVsdGlUZXhDb29yZDIgZ2xfTXVsdGlUZXhDb29yZDMgZ2xfTXVsdGlUZXhDb29yZDQgZ2xfTXVsdGlUZXhDb29yZDUgZ2xfTXVsdGlUZXhDb29yZDYgZ2xfTXVsdGlUZXhDb29yZDcgZ2xfRm9nQ29vcmQgZ2xfUG9pbnRDb29yZCBnbF9Qb3NpdGlvbiBnbF9Qb2ludFNpemUgZ2xfQ2xpcFZlcnRleCBnbF9Gcm9udENvbG9yIGdsX0JhY2tDb2xvciBnbF9Gcm9udFNlY29uZGFyeUNvbG9yIGdsX0JhY2tTZWNvbmRhcnlDb2xvciBnbF9UZXhDb29yZCBnbF9Gb2dGcmFnQ29vcmQgZ2xfRnJhZ0Nvb3JkIGdsX0Zyb250RmFjaW5nIGdsX0ZyYWdEYXRhIGdsX0ZyYWdEZXB0aCBnbF9Nb2RlbFZpZXdNYXRyaXggZ2xfUHJvamVjdGlvbk1hdHJpeCBnbF9Nb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4IGdsX1RleHR1cmVNYXRyaXggZ2xfTm9ybWFsTWF0cml4IGdsX01vZGVsVmlld01hdHJpeEludmVyc2UgZ2xfUHJvamVjdGlvbk1hdHJpeEludmVyc2UgZ2xfTW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeEludmVyc2UgZ2xfVGV4dXJlTWF0cml4VHJhbnNwb3NlIGdsX01vZGVsVmlld01hdHJpeEludmVyc2VUcmFuc3Bvc2UgZ2xfUHJvamVjdGlvbk1hdHJpeEludmVyc2VUcmFuc3Bvc2UgZ2xfTW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeEludmVyc2VUcmFuc3Bvc2UgZ2xfVGV4dHVyZU1hdHJpeEludmVyc2VUcmFuc3Bvc2UgZ2xfTm9ybWFsU2NhbGUgZ2xfRGVwdGhSYW5nZSBnbF9DbGlwUGxhbmUgZ2xfUG9pbnQgZ2xfRnJvbnRNYXRlcmlhbCBnbF9CYWNrTWF0ZXJpYWwgZ2xfTGlnaHRTb3VyY2UgZ2xfTGlnaHRNb2RlbCBnbF9Gcm9udExpZ2h0TW9kZWxQcm9kdWN0IGdsX0JhY2tMaWdodE1vZGVsUHJvZHVjdCBnbF9UZXh0dXJlQ29sb3IgZ2xfRXllUGxhbmVTIGdsX0V5ZVBsYW5lVCBnbF9FeWVQbGFuZVIgZ2xfRXllUGxhbmVRIGdsX0ZvZ1BhcmFtZXRlcnMgZ2xfTWF4TGlnaHRzIGdsX01heENsaXBQbGFuZXMgZ2xfTWF4VGV4dHVyZVVuaXRzIGdsX01heFRleHR1cmVDb29yZHMgZ2xfTWF4VmVydGV4QXR0cmlicyBnbF9NYXhWZXJ0ZXhVbmlmb3JtQ29tcG9uZW50cyBnbF9NYXhWYXJ5aW5nRmxvYXRzIGdsX01heFZlcnRleFRleHR1cmVJbWFnZVVuaXRzIGdsX01heFRleHR1cmVJbWFnZVVuaXRzIGdsX01heEZyYWdtZW50VW5pZm9ybUNvbXBvbmVudHMgZ2xfTWF4Q29tYmluZVRleHR1cmVJbWFnZVVuaXRzIGdsX01heERyYXdCdWZmZXJzXCIpLGluZGVudFN3aXRjaDohMSxob29rczp7XCIjXCI6aH0sbW9kZVByb3BzOntmb2xkOltcImJyYWNlXCIsXCJpbmNsdWRlXCJdfX0pLHgoXCJ0ZXh0L3gtbmVzY1wiLHtuYW1lOlwiY2xpa2VcIixrZXl3b3JkczphKGwrXCIgYXMgYXRvbWljIGFzeW5jIGNhbGwgY29tbWFuZCBjb21wb25lbnQgY29tcG9uZW50cyBjb25maWd1cmF0aW9uIGV2ZW50IGdlbmVyaWMgaW1wbGVtZW50YXRpb24gaW5jbHVkZXMgaW50ZXJmYWNlIG1vZHVsZSBuZXcgbm9yYWNlIG54X3N0cnVjdCBueF91bmlvbiBwb3N0IHByb3ZpZGVzIHNpZ25hbCB0YXNrIHVzZXMgYWJzdHJhY3QgZXh0ZW5kc1wiKSx0eXBlczpmLGJsb2NrS2V5d29yZHM6YShkKSxhdG9tczphKFwibnVsbCB0cnVlIGZhbHNlXCIpLGhvb2tzOntcIiNcIjpofSxtb2RlUHJvcHM6e2ZvbGQ6W1wiYnJhY2VcIixcImluY2x1ZGVcIl19fSkseChcInRleHQveC1vYmplY3RpdmVjXCIse25hbWU6XCJjbGlrZVwiLGtleXdvcmRzOmEobCtcIiBieWNvcHkgYnlyZWYgaW4gaW5vdXQgb25ld2F5IG91dCBzZWxmIHN1cGVyIGF0b21pYyBub25hdG9taWMgcmV0YWluIGNvcHkgcmVhZHdyaXRlIHJlYWRvbmx5IHN0cm9uZyB3ZWFrIGFzc2lnbiB0eXBlb2YgbnVsbGFibGUgbm9ubnVsbCBudWxsX3Jlc2V0dGFibGUgX2NtZCBAaW50ZXJmYWNlIEBpbXBsZW1lbnRhdGlvbiBAZW5kIEBwcm90b2NvbCBAZW5jb2RlIEBwcm9wZXJ0eSBAc3ludGhlc2l6ZSBAZHluYW1pYyBAY2xhc3MgQHB1YmxpYyBAcGFja2FnZSBAcHJpdmF0ZSBAcHJvdGVjdGVkIEByZXF1aXJlZCBAb3B0aW9uYWwgQHRyeSBAY2F0Y2ggQGZpbmFsbHkgQGltcG9ydCBAc2VsZWN0b3IgQGVuY29kZSBAZGVmcyBAc3luY2hyb25pemVkIEBhdXRvcmVsZWFzZXBvb2wgQGNvbXBhdGliaWxpdHlfYWxpYXMgQGF2YWlsYWJsZVwiKSx0eXBlczpmdW5jdGlvbih0KXtyZXR1cm4gZih0KXx8cyh1LHQpfSxidWlsdGluOmEoXCJGT1VOREFUSU9OX0VYUE9SVCBGT1VOREFUSU9OX0VYVEVSTiBOU19JTkxJTkUgTlNfRk9STUFUX0ZVTkNUSU9OIE5TX1JFVFVSTlNfUkVUQUlORUQgTlNfRVJST1JfRU5VTSBOU19SRVRVUk5TX05PVF9SRVRBSU5FRCBOU19SRVRVUk5TX0lOTkVSX1BPSU5URVIgTlNfREVTSUdOQVRFRF9JTklUSUFMSVpFUiBOU19FTlVNIE5TX09QVElPTlMgTlNfUkVRVUlSRVNfTklMX1RFUk1JTkFUSU9OIE5TX0FTU1VNRV9OT05OVUxMX0JFR0lOIE5TX0FTU1VNRV9OT05OVUxMX0VORCBOU19TV0lGVF9OQU1FIE5TX1JFRklORURfRk9SX1NXSUZUXCIpLGJsb2NrS2V5d29yZHM6YShkK1wiIEBzeW50aGVzaXplIEB0cnkgQGNhdGNoIEBmaW5hbGx5IEBhdXRvcmVsZWFzZXBvb2wgQHN5bmNocm9uaXplZFwiKSxkZWZLZXl3b3JkczphKFwic3RydWN0IGVudW0gdW5pb24gQGludGVyZmFjZSBAaW1wbGVtZW50YXRpb24gQHByb3RvY29sIEBjbGFzc1wiKSxkb250SW5kZW50U3RhdGVtZW50czovXkAuKiQvLHR5cGVGaXJzdERlZmluaXRpb25zOiEwLGF0b21zOmEoXCJZRVMgTk8gTlVMTCBOaWwgbmlsIHRydWUgZmFsc2UgbnVsbHB0clwiKSxpc1Jlc2VydmVkSWRlbnRpZmllcjptLGhvb2tzOntcIiNcIjpoLFwiKlwiOnB9LG1vZGVQcm9wczp7Zm9sZDpbXCJicmFjZVwiLFwiaW5jbHVkZVwiXX19KSx4KFwidGV4dC94LXNxdWlycmVsXCIse25hbWU6XCJjbGlrZVwiLGtleXdvcmRzOmEoXCJiYXNlIGJyZWFrIGNsb25lIGNvbnRpbnVlIGNvbnN0IGRlZmF1bHQgZGVsZXRlIGVudW0gZXh0ZW5kcyBmdW5jdGlvbiBpbiBjbGFzcyBmb3JlYWNoIGxvY2FsIHJlc3VtZSByZXR1cm4gdGhpcyB0aHJvdyB0eXBlb2YgeWllbGQgY29uc3RydWN0b3IgaW5zdGFuY2VvZiBzdGF0aWNcIiksdHlwZXM6ZixibG9ja0tleXdvcmRzOmEoXCJjYXNlIGNhdGNoIGNsYXNzIGVsc2UgZm9yIGZvcmVhY2ggaWYgc3dpdGNoIHRyeSB3aGlsZVwiKSxkZWZLZXl3b3JkczphKFwiZnVuY3Rpb24gbG9jYWwgY2xhc3NcIiksdHlwZUZpcnN0RGVmaW5pdGlvbnM6ITAsYXRvbXM6YShcInRydWUgZmFsc2UgbnVsbFwiKSxob29rczp7XCIjXCI6aH0sbW9kZVByb3BzOntmb2xkOltcImJyYWNlXCIsXCJpbmNsdWRlXCJdfX0pO3ZhciBrPW51bGw7eChcInRleHQveC1jZXlsb25cIix7bmFtZTpcImNsaWtlXCIsa2V5d29yZHM6YShcImFic3RyYWN0cyBhbGlhcyBhc3NlbWJseSBhc3NlcnQgYXNzaWduIGJyZWFrIGNhc2UgY2F0Y2ggY2xhc3MgY29udGludWUgZHluYW1pYyBlbHNlIGV4aXN0cyBleHRlbmRzIGZpbmFsbHkgZm9yIGZ1bmN0aW9uIGdpdmVuIGlmIGltcG9ydCBpbiBpbnRlcmZhY2UgaXMgbGV0IG1vZHVsZSBuZXcgbm9uZW1wdHkgb2JqZWN0IG9mIG91dCBvdXRlciBwYWNrYWdlIHJldHVybiBzYXRpc2ZpZXMgc3VwZXIgc3dpdGNoIHRoZW4gdGhpcyB0aHJvdyB0cnkgdmFsdWUgdm9pZCB3aGlsZVwiKSx0eXBlczpmdW5jdGlvbih0KXt2YXIgZT10LmNoYXJBdCgwKTtyZXR1cm4gZT09PWUudG9VcHBlckNhc2UoKSYmZSE9PWUudG9Mb3dlckNhc2UoKX0sYmxvY2tLZXl3b3JkczphKFwiY2FzZSBjYXRjaCBjbGFzcyBkeW5hbWljIGVsc2UgZmluYWxseSBmb3IgZnVuY3Rpb24gaWYgaW50ZXJmYWNlIG1vZHVsZSBuZXcgb2JqZWN0IHN3aXRjaCB0cnkgd2hpbGVcIiksZGVmS2V5d29yZHM6YShcImNsYXNzIGR5bmFtaWMgZnVuY3Rpb24gaW50ZXJmYWNlIG1vZHVsZSBvYmplY3QgcGFja2FnZSB2YWx1ZVwiKSxidWlsdGluOmEoXCJhYnN0cmFjdCBhY3R1YWwgYWxpYXNlZCBhbm5vdGF0aW9uIGJ5IGRlZmF1bHQgZGVwcmVjYXRlZCBkb2MgZmluYWwgZm9ybWFsIGxhdGUgbGljZW5zZSBuYXRpdmUgb3B0aW9uYWwgc2VhbGVkIHNlZSBzZXJpYWxpemFibGUgc2hhcmVkIHN1cHByZXNzV2FybmluZ3MgdGFnZ2VkIHRocm93cyB2YXJpYWJsZVwiKSxpc1B1bmN0dWF0aW9uQ2hhcjovW1xcW1xcXXt9XFwoXFwpLDtcXDpcXC5gXS8saXNPcGVyYXRvckNoYXI6L1srXFwtKiYlPTw+IT98Xn46XFwvXS8sbnVtYmVyU3RhcnQ6L1tcXGQjJF0vLG51bWJlcjovXig/OiNbXFxkYS1mQS1GX10rfFxcJFswMV9dK3xbXFxkX10rW2tNR1RQbXVucGZdP3xbXFxkX10rXFwuW1xcZF9dKyg/OltlRV1bLStdP1xcZCt8W2tNR1RQbXVucGZdfCl8KS9pLG11bHRpTGluZVN0cmluZ3M6ITAsdHlwZUZpcnN0RGVmaW5pdGlvbnM6ITAsYXRvbXM6YShcInRydWUgZmFsc2UgbnVsbCBsYXJnZXIgc21hbGxlciBlcXVhbCBlbXB0eSBmaW5pc2hlZFwiKSxpbmRlbnRTd2l0Y2g6ITEsc3R5bGVEZWZzOiExLGhvb2tzOntcIkBcIjpmdW5jdGlvbih0KXtyZXR1cm4gdC5lYXRXaGlsZSgvW1xcd1xcJF9dLyksXCJtZXRhXCJ9LCdcIic6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50b2tlbml6ZT1mdW5jdGlvbiB0KGUpe3JldHVybiBmdW5jdGlvbihuLHIpe2Zvcih2YXIgaSxvPSExLGE9ITE7IW4uZW9sKCk7KXtpZighbyYmbi5tYXRjaCgnXCInKSYmKFwic2luZ2xlXCI9PWV8fG4ubWF0Y2goJ1wiXCInKSkpe2E9ITA7YnJlYWt9aWYoIW8mJm4ubWF0Y2goXCJgYFwiKSl7az10KGUpLGE9ITA7YnJlYWt9aT1uLm5leHQoKSxvPVwic2luZ2xlXCI9PWUmJiFvJiZcIlxcXFxcIj09aX1yZXR1cm4gYSYmKHIudG9rZW5pemU9bnVsbCksXCJzdHJpbmdcIn19KHQubWF0Y2goJ1wiXCInKT9cInRyaXBsZVwiOlwic2luZ2xlXCIpLGUudG9rZW5pemUodCxlKX0sXCJgXCI6ZnVuY3Rpb24odCxlKXtyZXR1cm4hKCFrfHwhdC5tYXRjaChcImBcIikpJiYoZS50b2tlbml6ZT1rLGs9bnVsbCxlLnRva2VuaXplKHQsZSkpfSxcIidcIjpmdW5jdGlvbih0KXtyZXR1cm4gdC5lYXRXaGlsZSgvW1xcd1xcJF9cXHhhMS1cXHVmZmZmXS8pLFwiYXRvbVwifSx0b2tlbjpmdW5jdGlvbih0LGUsbil7aWYoKFwidmFyaWFibGVcIj09bnx8XCJ0eXBlXCI9PW4pJiZcIi5cIj09ZS5wcmV2VG9rZW4pcmV0dXJuXCJ2YXJpYWJsZS0yXCJ9fSxtb2RlUHJvcHM6e2ZvbGQ6W1wiYnJhY2VcIixcImltcG9ydFwiXSxjbG9zZUJyYWNrZXRzOnt0cmlwbGVzOidcIid9fX0pfShuKDApKX0sZnVuY3Rpb24odCxlLG4peyFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt0LmRlZmluZU1vZGUoXCJncm9vdnlcIixmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT17fSxuPXQuc3BsaXQoXCIgXCIpLHI9MDtyPG4ubGVuZ3RoOysrcillW25bcl1dPSEwO3JldHVybiBlfXZhciByLGk9bihcImFic3RyYWN0IGFzIGFzc2VydCBib29sZWFuIGJyZWFrIGJ5dGUgY2FzZSBjYXRjaCBjaGFyIGNsYXNzIGNvbnN0IGNvbnRpbnVlIGRlZiBkZWZhdWx0IGRvIGRvdWJsZSBlbHNlIGVudW0gZXh0ZW5kcyBmaW5hbCBmaW5hbGx5IGZsb2F0IGZvciBnb3RvIGlmIGltcGxlbWVudHMgaW1wb3J0IGluIGluc3RhbmNlb2YgaW50IGludGVyZmFjZSBsb25nIG5hdGl2ZSBuZXcgcGFja2FnZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgcmV0dXJuIHNob3J0IHN0YXRpYyBzdHJpY3RmcCBzdXBlciBzd2l0Y2ggc3luY2hyb25pemVkIHRocmVhZHNhZmUgdGhyb3cgdGhyb3dzIHRyYWl0IHRyYW5zaWVudCB0cnkgdm9pZCB2b2xhdGlsZSB3aGlsZVwiKSxvPW4oXCJjYXRjaCBjbGFzcyBkZWYgZG8gZWxzZSBlbnVtIGZpbmFsbHkgZm9yIGlmIGludGVyZmFjZSBzd2l0Y2ggdHJhaXQgdHJ5IHdoaWxlXCIpLGE9bihcInJldHVybiBicmVhayBjb250aW51ZVwiKSxzPW4oXCJudWxsIHRydWUgZmFsc2UgdGhpc1wiKTtmdW5jdGlvbiBsKHQsZSl7dmFyIG49dC5uZXh0KCk7aWYoJ1wiJz09bnx8XCInXCI9PW4pcmV0dXJuIGMobix0LGUpO2lmKC9bXFxbXFxde31cXChcXCksO1xcOlxcLl0vLnRlc3QobikpcmV0dXJuIHI9bixudWxsO2lmKC9cXGQvLnRlc3QobikpcmV0dXJuIHQuZWF0V2hpbGUoL1tcXHdcXC5dLyksdC5lYXQoL2VFLykmJih0LmVhdCgvXFwrXFwtLyksdC5lYXRXaGlsZSgvXFxkLykpLFwibnVtYmVyXCI7aWYoXCIvXCI9PW4pe2lmKHQuZWF0KFwiKlwiKSlyZXR1cm4gZS50b2tlbml6ZS5wdXNoKGYpLGYodCxlKTtpZih0LmVhdChcIi9cIikpcmV0dXJuIHQuc2tpcFRvRW5kKCksXCJjb21tZW50XCI7aWYoZChlLmxhc3RUb2tlbiwhMSkpcmV0dXJuIGMobix0LGUpfWlmKFwiLVwiPT1uJiZ0LmVhdChcIj5cIikpcmV0dXJuIHI9XCItPlwiLG51bGw7aWYoL1srXFwtKiYlPTw+IT98XFwvfl0vLnRlc3QobikpcmV0dXJuIHQuZWF0V2hpbGUoL1srXFwtKiYlPTw+fH5dLyksXCJvcGVyYXRvclwiO2lmKHQuZWF0V2hpbGUoL1tcXHdcXCRfXS8pLFwiQFwiPT1uKXJldHVybiB0LmVhdFdoaWxlKC9bXFx3XFwkX1xcLl0vKSxcIm1ldGFcIjtpZihcIi5cIj09ZS5sYXN0VG9rZW4pcmV0dXJuXCJwcm9wZXJ0eVwiO2lmKHQuZWF0KFwiOlwiKSlyZXR1cm4gcj1cInByb3BsYWJlbFwiLFwicHJvcGVydHlcIjt2YXIgbD10LmN1cnJlbnQoKTtyZXR1cm4gcy5wcm9wZXJ0eUlzRW51bWVyYWJsZShsKT9cImF0b21cIjppLnByb3BlcnR5SXNFbnVtZXJhYmxlKGwpPyhvLnByb3BlcnR5SXNFbnVtZXJhYmxlKGwpP3I9XCJuZXdzdGF0ZW1lbnRcIjphLnByb3BlcnR5SXNFbnVtZXJhYmxlKGwpJiYocj1cInN0YW5kYWxvbmVcIiksXCJrZXl3b3JkXCIpOlwidmFyaWFibGVcIn1mdW5jdGlvbiBjKHQsZSxuKXt2YXIgcj0hMTtpZihcIi9cIiE9dCYmZS5lYXQodCkpe2lmKCFlLmVhdCh0KSlyZXR1cm5cInN0cmluZ1wiO3I9ITB9ZnVuY3Rpb24gaShlLG4pe2Zvcih2YXIgaSxvPSExLGE9IXI7bnVsbCE9KGk9ZS5uZXh0KCkpOyl7aWYoaT09dCYmIW8pe2lmKCFyKWJyZWFrO2lmKGUubWF0Y2godCt0KSl7YT0hMDticmVha319aWYoJ1wiJz09dCYmXCIkXCI9PWkmJiFvJiZlLmVhdChcIntcIikpcmV0dXJuIG4udG9rZW5pemUucHVzaCh1KCkpLFwic3RyaW5nXCI7bz0hbyYmXCJcXFxcXCI9PWl9cmV0dXJuIGEmJm4udG9rZW5pemUucG9wKCksXCJzdHJpbmdcIn1yZXR1cm4gbi50b2tlbml6ZS5wdXNoKGkpLGkoZSxuKX1mdW5jdGlvbiB1KCl7dmFyIHQ9MTtmdW5jdGlvbiBlKGUsbil7aWYoXCJ9XCI9PWUucGVlaygpKXtpZigwPT0tLXQpcmV0dXJuIG4udG9rZW5pemUucG9wKCksbi50b2tlbml6ZVtuLnRva2VuaXplLmxlbmd0aC0xXShlLG4pfWVsc2VcIntcIj09ZS5wZWVrKCkmJnQrKztyZXR1cm4gbChlLG4pfXJldHVybiBlLmlzQmFzZT0hMCxlfWZ1bmN0aW9uIGYodCxlKXtmb3IodmFyIG4scj0hMTtuPXQubmV4dCgpOyl7aWYoXCIvXCI9PW4mJnIpe2UudG9rZW5pemUucG9wKCk7YnJlYWt9cj1cIipcIj09bn1yZXR1cm5cImNvbW1lbnRcIn1mdW5jdGlvbiBkKHQsZSl7cmV0dXJuIXR8fFwib3BlcmF0b3JcIj09dHx8XCItPlwiPT10fHwvW1xcLlxcW1xce1xcKCw7Ol0vLnRlc3QodCl8fFwibmV3c3RhdGVtZW50XCI9PXR8fFwia2V5d29yZFwiPT10fHxcInByb3BsYWJlbFwiPT10fHxcInN0YW5kYWxvbmVcIj09dCYmIWV9ZnVuY3Rpb24gaCh0LGUsbixyLGkpe3RoaXMuaW5kZW50ZWQ9dCx0aGlzLmNvbHVtbj1lLHRoaXMudHlwZT1uLHRoaXMuYWxpZ249cix0aGlzLnByZXY9aX1mdW5jdGlvbiBwKHQsZSxuKXtyZXR1cm4gdC5jb250ZXh0PW5ldyBoKHQuaW5kZW50ZWQsZSxuLG51bGwsdC5jb250ZXh0KX1mdW5jdGlvbiBtKHQpe3ZhciBlPXQuY29udGV4dC50eXBlO3JldHVyblwiKVwiIT1lJiZcIl1cIiE9ZSYmXCJ9XCIhPWV8fCh0LmluZGVudGVkPXQuY29udGV4dC5pbmRlbnRlZCksdC5jb250ZXh0PXQuY29udGV4dC5wcmV2fXJldHVybiBsLmlzQmFzZT0hMCx7c3RhcnRTdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm57dG9rZW5pemU6W2xdLGNvbnRleHQ6bmV3IGgoKHR8fDApLWUuaW5kZW50VW5pdCwwLFwidG9wXCIsITEpLGluZGVudGVkOjAsc3RhcnRPZkxpbmU6ITAsbGFzdFRva2VuOm51bGx9fSx0b2tlbjpmdW5jdGlvbih0LGUpe3ZhciBuPWUuY29udGV4dDtpZih0LnNvbCgpJiYobnVsbD09bi5hbGlnbiYmKG4uYWxpZ249ITEpLGUuaW5kZW50ZWQ9dC5pbmRlbnRhdGlvbigpLGUuc3RhcnRPZkxpbmU9ITAsXCJzdGF0ZW1lbnRcIiE9bi50eXBlfHxkKGUubGFzdFRva2VuLCEwKXx8KG0oZSksbj1lLmNvbnRleHQpKSx0LmVhdFNwYWNlKCkpcmV0dXJuIG51bGw7cj1udWxsO3ZhciBpPWUudG9rZW5pemVbZS50b2tlbml6ZS5sZW5ndGgtMV0odCxlKTtpZihcImNvbW1lbnRcIj09aSlyZXR1cm4gaTtpZihudWxsPT1uLmFsaWduJiYobi5hbGlnbj0hMCksXCI7XCIhPXImJlwiOlwiIT1yfHxcInN0YXRlbWVudFwiIT1uLnR5cGUpaWYoXCItPlwiPT1yJiZcInN0YXRlbWVudFwiPT1uLnR5cGUmJlwifVwiPT1uLnByZXYudHlwZSltKGUpLGUuY29udGV4dC5hbGlnbj0hMTtlbHNlIGlmKFwie1wiPT1yKXAoZSx0LmNvbHVtbigpLFwifVwiKTtlbHNlIGlmKFwiW1wiPT1yKXAoZSx0LmNvbHVtbigpLFwiXVwiKTtlbHNlIGlmKFwiKFwiPT1yKXAoZSx0LmNvbHVtbigpLFwiKVwiKTtlbHNlIGlmKFwifVwiPT1yKXtmb3IoO1wic3RhdGVtZW50XCI9PW4udHlwZTspbj1tKGUpO2ZvcihcIn1cIj09bi50eXBlJiYobj1tKGUpKTtcInN0YXRlbWVudFwiPT1uLnR5cGU7KW49bShlKX1lbHNlIHI9PW4udHlwZT9tKGUpOihcIn1cIj09bi50eXBlfHxcInRvcFwiPT1uLnR5cGV8fFwic3RhdGVtZW50XCI9PW4udHlwZSYmXCJuZXdzdGF0ZW1lbnRcIj09cikmJnAoZSx0LmNvbHVtbigpLFwic3RhdGVtZW50XCIpO2Vsc2UgbShlKTtyZXR1cm4gZS5zdGFydE9mTGluZT0hMSxlLmxhc3RUb2tlbj1yfHxpLGl9LGluZGVudDpmdW5jdGlvbihuLHIpe2lmKCFuLnRva2VuaXplW24udG9rZW5pemUubGVuZ3RoLTFdLmlzQmFzZSlyZXR1cm4gdC5QYXNzO3ZhciBpPXImJnIuY2hhckF0KDApLG89bi5jb250ZXh0O1wic3RhdGVtZW50XCIhPW8udHlwZXx8ZChuLmxhc3RUb2tlbiwhMCl8fChvPW8ucHJldik7dmFyIGE9aT09by50eXBlO3JldHVyblwic3RhdGVtZW50XCI9PW8udHlwZT9vLmluZGVudGVkKyhcIntcIj09aT8wOmUuaW5kZW50VW5pdCk6by5hbGlnbj9vLmNvbHVtbisoYT8wOjEpOm8uaW5kZW50ZWQrKGE/MDplLmluZGVudFVuaXQpfSxlbGVjdHJpY0NoYXJzOlwie31cIixjbG9zZUJyYWNrZXRzOnt0cmlwbGVzOlwiJ1xcXCJcIn0sZm9sZDpcImJyYWNlXCIsYmxvY2tDb21tZW50U3RhcnQ6XCIvKlwiLGJsb2NrQ29tbWVudEVuZDpcIiovXCIsbGluZUNvbW1lbnQ6XCIvL1wifX0pLHQuZGVmaW5lTUlNRShcInRleHQveC1ncm9vdnlcIixcImdyb292eVwiKX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9e2F1dG9TZWxmQ2xvc2Vyczp7YXJlYTohMCxiYXNlOiEwLGJyOiEwLGNvbDohMCxjb21tYW5kOiEwLGVtYmVkOiEwLGZyYW1lOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxrZXlnZW46ITAsbGluazohMCxtZXRhOiEwLHBhcmFtOiEwLHNvdXJjZTohMCx0cmFjazohMCx3YnI6ITAsbWVudWl0ZW06ITB9LGltcGxpY2l0bHlDbG9zZWQ6e2RkOiEwLGxpOiEwLG9wdGdyb3VwOiEwLG9wdGlvbjohMCxwOiEwLHJwOiEwLHJ0OiEwLHRib2R5OiEwLHRkOiEwLHRmb290OiEwLHRoOiEwLHRyOiEwfSxjb250ZXh0R3JhYmJlcnM6e2RkOntkZDohMCxkdDohMH0sZHQ6e2RkOiEwLGR0OiEwfSxsaTp7bGk6ITB9LG9wdGlvbjp7b3B0aW9uOiEwLG9wdGdyb3VwOiEwfSxvcHRncm91cDp7b3B0Z3JvdXA6ITB9LHA6e2FkZHJlc3M6ITAsYXJ0aWNsZTohMCxhc2lkZTohMCxibG9ja3F1b3RlOiEwLGRpcjohMCxkaXY6ITAsZGw6ITAsZmllbGRzZXQ6ITAsZm9vdGVyOiEwLGZvcm06ITAsaDE6ITAsaDI6ITAsaDM6ITAsaDQ6ITAsaDU6ITAsaDY6ITAsaGVhZGVyOiEwLGhncm91cDohMCxocjohMCxtZW51OiEwLG5hdjohMCxvbDohMCxwOiEwLHByZTohMCxzZWN0aW9uOiEwLHRhYmxlOiEwLHVsOiEwfSxycDp7cnA6ITAscnQ6ITB9LHJ0OntycDohMCxydDohMH0sdGJvZHk6e3Rib2R5OiEwLHRmb290OiEwfSx0ZDp7dGQ6ITAsdGg6ITB9LHRmb290Ont0Ym9keTohMH0sdGg6e3RkOiEwLHRoOiEwfSx0aGVhZDp7dGJvZHk6ITAsdGZvb3Q6ITB9LHRyOnt0cjohMH19LGRvTm90SW5kZW50OntwcmU6ITB9LGFsbG93VW5xdW90ZWQ6ITAsYWxsb3dNaXNzaW5nOiEwLGNhc2VGb2xkOiEwfSxuPXthdXRvU2VsZkNsb3NlcnM6e30saW1wbGljaXRseUNsb3NlZDp7fSxjb250ZXh0R3JhYmJlcnM6e30sZG9Ob3RJbmRlbnQ6e30sYWxsb3dVbnF1b3RlZDohMSxhbGxvd01pc3Npbmc6ITEsYWxsb3dNaXNzaW5nVGFnTmFtZTohMSxjYXNlRm9sZDohMX07dC5kZWZpbmVNb2RlKFwieG1sXCIsZnVuY3Rpb24ocixpKXt2YXIgbyxhLHM9ci5pbmRlbnRVbml0LGw9e30sYz1pLmh0bWxNb2RlP2U6bjtmb3IodmFyIHUgaW4gYylsW3VdPWNbdV07Zm9yKHZhciB1IGluIGkpbFt1XT1pW3VdO2Z1bmN0aW9uIGYodCxlKXtmdW5jdGlvbiBuKG4pe3JldHVybiBlLnRva2VuaXplPW4sbih0LGUpfXZhciByPXQubmV4dCgpO3JldHVyblwiPFwiPT1yP3QuZWF0KFwiIVwiKT90LmVhdChcIltcIik/dC5tYXRjaChcIkNEQVRBW1wiKT9uKGgoXCJhdG9tXCIsXCJdXT5cIikpOm51bGw6dC5tYXRjaChcIi0tXCIpP24oaChcImNvbW1lbnRcIixcIi0tXFx4M2VcIikpOnQubWF0Y2goXCJET0NUWVBFXCIsITAsITApPyh0LmVhdFdoaWxlKC9bXFx3XFwuX1xcLV0vKSxuKGZ1bmN0aW9uIHQoZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7Zm9yKHZhciBpO251bGwhPShpPW4ubmV4dCgpKTspe2lmKFwiPFwiPT1pKXJldHVybiByLnRva2VuaXplPXQoZSsxKSxyLnRva2VuaXplKG4scik7aWYoXCI+XCI9PWkpe2lmKDE9PWUpe3IudG9rZW5pemU9ZjticmVha31yZXR1cm4gci50b2tlbml6ZT10KGUtMSksci50b2tlbml6ZShuLHIpfX1yZXR1cm5cIm1ldGFcIn19KDEpKSk6bnVsbDp0LmVhdChcIj9cIik/KHQuZWF0V2hpbGUoL1tcXHdcXC5fXFwtXS8pLGUudG9rZW5pemU9aChcIm1ldGFcIixcIj8+XCIpLFwibWV0YVwiKToobz10LmVhdChcIi9cIik/XCJjbG9zZVRhZ1wiOlwib3BlblRhZ1wiLGUudG9rZW5pemU9ZCxcInRhZyBicmFja2V0XCIpOlwiJlwiPT1yPyh0LmVhdChcIiNcIik/dC5lYXQoXCJ4XCIpP3QuZWF0V2hpbGUoL1thLWZBLUZcXGRdLykmJnQuZWF0KFwiO1wiKTp0LmVhdFdoaWxlKC9bXFxkXS8pJiZ0LmVhdChcIjtcIik6dC5lYXRXaGlsZSgvW1xcd1xcLlxcLTpdLykmJnQuZWF0KFwiO1wiKSk/XCJhdG9tXCI6XCJlcnJvclwiOih0LmVhdFdoaWxlKC9bXiY8XS8pLG51bGwpfWZ1bmN0aW9uIGQodCxlKXt2YXIgbixyLGk9dC5uZXh0KCk7aWYoXCI+XCI9PWl8fFwiL1wiPT1pJiZ0LmVhdChcIj5cIikpcmV0dXJuIGUudG9rZW5pemU9ZixvPVwiPlwiPT1pP1wiZW5kVGFnXCI6XCJzZWxmY2xvc2VUYWdcIixcInRhZyBicmFja2V0XCI7aWYoXCI9XCI9PWkpcmV0dXJuIG89XCJlcXVhbHNcIixudWxsO2lmKFwiPFwiPT1pKXtlLnRva2VuaXplPWYsZS5zdGF0ZT12LGUudGFnTmFtZT1lLnRhZ1N0YXJ0PW51bGw7dmFyIGE9ZS50b2tlbml6ZSh0LGUpO3JldHVybiBhP2ErXCIgdGFnIGVycm9yXCI6XCJ0YWcgZXJyb3JcIn1yZXR1cm4vW1xcJ1xcXCJdLy50ZXN0KGkpPyhlLnRva2VuaXplPShuPWksKHI9ZnVuY3Rpb24odCxlKXtmb3IoOyF0LmVvbCgpOylpZih0Lm5leHQoKT09bil7ZS50b2tlbml6ZT1kO2JyZWFrfXJldHVyblwic3RyaW5nXCJ9KS5pc0luQXR0cmlidXRlPSEwLHIpLGUuc3RyaW5nU3RhcnRDb2w9dC5jb2x1bW4oKSxlLnRva2VuaXplKHQsZSkpOih0Lm1hdGNoKC9eW15cXHNcXHUwMGEwPTw+XFxcIlxcJ10qW15cXHNcXHUwMGEwPTw+XFxcIlxcJ1xcL10vKSxcIndvcmRcIil9ZnVuY3Rpb24gaCh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe2Zvcig7IW4uZW9sKCk7KXtpZihuLm1hdGNoKGUpKXtyLnRva2VuaXplPWY7YnJlYWt9bi5uZXh0KCl9cmV0dXJuIHR9fWZ1bmN0aW9uIHAodCxlLG4pe3RoaXMucHJldj10LmNvbnRleHQsdGhpcy50YWdOYW1lPWUsdGhpcy5pbmRlbnQ9dC5pbmRlbnRlZCx0aGlzLnN0YXJ0T2ZMaW5lPW4sKGwuZG9Ob3RJbmRlbnQuaGFzT3duUHJvcGVydHkoZSl8fHQuY29udGV4dCYmdC5jb250ZXh0Lm5vSW5kZW50KSYmKHRoaXMubm9JbmRlbnQ9ITApfWZ1bmN0aW9uIG0odCl7dC5jb250ZXh0JiYodC5jb250ZXh0PXQuY29udGV4dC5wcmV2KX1mdW5jdGlvbiBnKHQsZSl7Zm9yKHZhciBuOzspe2lmKCF0LmNvbnRleHQpcmV0dXJuO2lmKG49dC5jb250ZXh0LnRhZ05hbWUsIWwuY29udGV4dEdyYWJiZXJzLmhhc093blByb3BlcnR5KG4pfHwhbC5jb250ZXh0R3JhYmJlcnNbbl0uaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuO20odCl9fWZ1bmN0aW9uIHYodCxlLG4pe3JldHVyblwib3BlblRhZ1wiPT10PyhuLnRhZ1N0YXJ0PWUuY29sdW1uKCkseSk6XCJjbG9zZVRhZ1wiPT10P2I6dn1mdW5jdGlvbiB5KHQsZSxuKXtyZXR1cm5cIndvcmRcIj09dD8obi50YWdOYW1lPWUuY3VycmVudCgpLGE9XCJ0YWdcIixDKTpsLmFsbG93TWlzc2luZ1RhZ05hbWUmJlwiZW5kVGFnXCI9PXQ/KGE9XCJ0YWcgYnJhY2tldFwiLEModCwwLG4pKTooYT1cImVycm9yXCIseSl9ZnVuY3Rpb24gYih0LGUsbil7aWYoXCJ3b3JkXCI9PXQpe3ZhciByPWUuY3VycmVudCgpO3JldHVybiBuLmNvbnRleHQmJm4uY29udGV4dC50YWdOYW1lIT1yJiZsLmltcGxpY2l0bHlDbG9zZWQuaGFzT3duUHJvcGVydHkobi5jb250ZXh0LnRhZ05hbWUpJiZtKG4pLG4uY29udGV4dCYmbi5jb250ZXh0LnRhZ05hbWU9PXJ8fCExPT09bC5tYXRjaENsb3Npbmc/KGE9XCJ0YWdcIix4KTooYT1cInRhZyBlcnJvclwiLHcpfXJldHVybiBsLmFsbG93TWlzc2luZ1RhZ05hbWUmJlwiZW5kVGFnXCI9PXQ/KGE9XCJ0YWcgYnJhY2tldFwiLHgodCwwLG4pKTooYT1cImVycm9yXCIsdyl9ZnVuY3Rpb24geCh0LGUsbil7cmV0dXJuXCJlbmRUYWdcIiE9dD8oYT1cImVycm9yXCIseCk6KG0obiksdil9ZnVuY3Rpb24gdyh0LGUsbil7cmV0dXJuIGE9XCJlcnJvclwiLHgodCwwLG4pfWZ1bmN0aW9uIEModCxlLG4pe2lmKFwid29yZFwiPT10KXJldHVybiBhPVwiYXR0cmlidXRlXCIsaztpZihcImVuZFRhZ1wiPT10fHxcInNlbGZjbG9zZVRhZ1wiPT10KXt2YXIgcj1uLnRhZ05hbWUsaT1uLnRhZ1N0YXJ0O3JldHVybiBuLnRhZ05hbWU9bi50YWdTdGFydD1udWxsLFwic2VsZmNsb3NlVGFnXCI9PXR8fGwuYXV0b1NlbGZDbG9zZXJzLmhhc093blByb3BlcnR5KHIpP2cobixyKTooZyhuLHIpLG4uY29udGV4dD1uZXcgcChuLHIsaT09bi5pbmRlbnRlZCkpLHZ9cmV0dXJuIGE9XCJlcnJvclwiLEN9ZnVuY3Rpb24gayh0LGUsbil7cmV0dXJuXCJlcXVhbHNcIj09dD9fOihsLmFsbG93TWlzc2luZ3x8KGE9XCJlcnJvclwiKSxDKHQsMCxuKSl9ZnVuY3Rpb24gXyh0LGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dD9TOlwid29yZFwiPT10JiZsLmFsbG93VW5xdW90ZWQ/KGE9XCJzdHJpbmdcIixDKTooYT1cImVycm9yXCIsQyh0LDAsbikpfWZ1bmN0aW9uIFModCxlLG4pe3JldHVyblwic3RyaW5nXCI9PXQ/UzpDKHQsMCxuKX1yZXR1cm4gZi5pc0luVGV4dD0hMCx7c3RhcnRTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT17dG9rZW5pemU6ZixzdGF0ZTp2LGluZGVudGVkOnR8fDAsdGFnTmFtZTpudWxsLHRhZ1N0YXJ0Om51bGwsY29udGV4dDpudWxsfTtyZXR1cm4gbnVsbCE9dCYmKGUuYmFzZUluZGVudD10KSxlfSx0b2tlbjpmdW5jdGlvbih0LGUpe2lmKCFlLnRhZ05hbWUmJnQuc29sKCkmJihlLmluZGVudGVkPXQuaW5kZW50YXRpb24oKSksdC5lYXRTcGFjZSgpKXJldHVybiBudWxsO289bnVsbDt2YXIgbj1lLnRva2VuaXplKHQsZSk7cmV0dXJuKG58fG8pJiZcImNvbW1lbnRcIiE9biYmKGE9bnVsbCxlLnN0YXRlPWUuc3RhdGUob3x8bix0LGUpLGEmJihuPVwiZXJyb3JcIj09YT9uK1wiIGVycm9yXCI6YSkpLG59LGluZGVudDpmdW5jdGlvbihlLG4scil7dmFyIGk9ZS5jb250ZXh0O2lmKGUudG9rZW5pemUuaXNJbkF0dHJpYnV0ZSlyZXR1cm4gZS50YWdTdGFydD09ZS5pbmRlbnRlZD9lLnN0cmluZ1N0YXJ0Q29sKzE6ZS5pbmRlbnRlZCtzO2lmKGkmJmkubm9JbmRlbnQpcmV0dXJuIHQuUGFzcztpZihlLnRva2VuaXplIT1kJiZlLnRva2VuaXplIT1mKXJldHVybiByP3IubWF0Y2goL14oXFxzKikvKVswXS5sZW5ndGg6MDtpZihlLnRhZ05hbWUpcmV0dXJuITEhPT1sLm11bHRpbGluZVRhZ0luZGVudFBhc3RUYWc/ZS50YWdTdGFydCtlLnRhZ05hbWUubGVuZ3RoKzI6ZS50YWdTdGFydCtzKihsLm11bHRpbGluZVRhZ0luZGVudEZhY3Rvcnx8MSk7aWYobC5hbGlnbkNEQVRBJiYvPCFcXFtDREFUQVxcWy8udGVzdChuKSlyZXR1cm4gMDt2YXIgbz1uJiYvXjwoXFwvKT8oW1xcd186XFwuLV0qKS8uZXhlYyhuKTtpZihvJiZvWzFdKWZvcig7aTspe2lmKGkudGFnTmFtZT09b1syXSl7aT1pLnByZXY7YnJlYWt9aWYoIWwuaW1wbGljaXRseUNsb3NlZC5oYXNPd25Qcm9wZXJ0eShpLnRhZ05hbWUpKWJyZWFrO2k9aS5wcmV2fWVsc2UgaWYobylmb3IoO2k7KXt2YXIgYT1sLmNvbnRleHRHcmFiYmVyc1tpLnRhZ05hbWVdO2lmKCFhfHwhYS5oYXNPd25Qcm9wZXJ0eShvWzJdKSlicmVhaztpPWkucHJldn1mb3IoO2kmJmkucHJldiYmIWkuc3RhcnRPZkxpbmU7KWk9aS5wcmV2O3JldHVybiBpP2kuaW5kZW50K3M6ZS5iYXNlSW5kZW50fHwwfSxlbGVjdHJpY0lucHV0Oi88XFwvW1xcc1xcdzpdKz4kLyxibG9ja0NvbW1lbnRTdGFydDpcIlxceDNjIS0tXCIsYmxvY2tDb21tZW50RW5kOlwiLS1cXHgzZVwiLGNvbmZpZ3VyYXRpb246bC5odG1sTW9kZT9cImh0bWxcIjpcInhtbFwiLGhlbHBlclR5cGU6bC5odG1sTW9kZT9cImh0bWxcIjpcInhtbFwiLHNraXBBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7dC5zdGF0ZT09XyYmKHQuc3RhdGU9Qyl9LHhtbEN1cnJlbnRUYWc6ZnVuY3Rpb24odCl7cmV0dXJuIHQudGFnTmFtZT97bmFtZTp0LnRhZ05hbWUsY2xvc2U6XCJjbG9zZVRhZ1wiPT10LnR5cGV9Om51bGx9LHhtbEN1cnJlbnRDb250ZXh0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPXQuY29udGV4dDtuO249bi5wcmV2KW4udGFnTmFtZSYmZS5wdXNoKG4udGFnTmFtZSk7cmV0dXJuIGUucmV2ZXJzZSgpfX19KSx0LmRlZmluZU1JTUUoXCJ0ZXh0L3htbFwiLFwieG1sXCIpLHQuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL3htbFwiLFwieG1sXCIpLHQubWltZU1vZGVzLmhhc093blByb3BlcnR5KFwidGV4dC9odG1sXCIpfHx0LmRlZmluZU1JTUUoXCJ0ZXh0L2h0bWxcIix7bmFtZTpcInhtbFwiLGh0bWxNb2RlOiEwfSl9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe3ZhciBlPS9NU0lFIFxcZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPDgpLG49dC5Qb3Mscj17XCIoXCI6XCIpPlwiLFwiKVwiOlwiKDxcIixcIltcIjpcIl0+XCIsXCJdXCI6XCJbPFwiLFwie1wiOlwifT5cIixcIn1cIjpcIns8XCIsXCI8XCI6XCI+PlwiLFwiPlwiOlwiPDxcIn07ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdCYmdC5icmFja2V0UmVnZXh8fC9bKCl7fVtcXF1dL31mdW5jdGlvbiBvKHQsZSxvKXt2YXIgcz10LmdldExpbmVIYW5kbGUoZS5saW5lKSxsPWUuY2gtMSxjPW8mJm8uYWZ0ZXJDdXJzb3I7bnVsbD09YyYmKGM9LyhefCApY20tZmF0LWN1cnNvcigkfCApLy50ZXN0KHQuZ2V0V3JhcHBlckVsZW1lbnQoKS5jbGFzc05hbWUpKTt2YXIgdT1pKG8pLGY9IWMmJmw+PTAmJnUudGVzdChzLnRleHQuY2hhckF0KGwpKSYmcltzLnRleHQuY2hhckF0KGwpXXx8dS50ZXN0KHMudGV4dC5jaGFyQXQobCsxKSkmJnJbcy50ZXh0LmNoYXJBdCgrK2wpXTtpZighZilyZXR1cm4gbnVsbDt2YXIgZD1cIj5cIj09Zi5jaGFyQXQoMSk/MTotMTtpZihvJiZvLnN0cmljdCYmZD4wIT0obD09ZS5jaCkpcmV0dXJuIG51bGw7dmFyIGg9dC5nZXRUb2tlblR5cGVBdChuKGUubGluZSxsKzEpKSxwPWEodCxuKGUubGluZSxsKyhkPjA/MTowKSksZCxofHxudWxsLG8pO3JldHVybiBudWxsPT1wP251bGw6e2Zyb206bihlLmxpbmUsbCksdG86cCYmcC5wb3MsbWF0Y2g6cCYmcC5jaD09Zi5jaGFyQXQoMCksZm9yd2FyZDpkPjB9fWZ1bmN0aW9uIGEodCxlLG8sYSxzKXtmb3IodmFyIGw9cyYmcy5tYXhTY2FuTGluZUxlbmd0aHx8MWU0LGM9cyYmcy5tYXhTY2FuTGluZXN8fDFlMyx1PVtdLGY9aShzKSxkPW8+MD9NYXRoLm1pbihlLmxpbmUrYyx0Lmxhc3RMaW5lKCkrMSk6TWF0aC5tYXgodC5maXJzdExpbmUoKS0xLGUubGluZS1jKSxoPWUubGluZTtoIT1kO2grPW8pe3ZhciBwPXQuZ2V0TGluZShoKTtpZihwKXt2YXIgbT1vPjA/MDpwLmxlbmd0aC0xLGc9bz4wP3AubGVuZ3RoOi0xO2lmKCEocC5sZW5ndGg+bCkpZm9yKGg9PWUubGluZSYmKG09ZS5jaC0obzwwPzE6MCkpO20hPWc7bSs9byl7dmFyIHY9cC5jaGFyQXQobSk7aWYoZi50ZXN0KHYpJiYodm9pZCAwPT09YXx8dC5nZXRUb2tlblR5cGVBdChuKGgsbSsxKSk9PWEpKXt2YXIgeT1yW3ZdO2lmKHkmJlwiPlwiPT15LmNoYXJBdCgxKT09bz4wKXUucHVzaCh2KTtlbHNle2lmKCF1Lmxlbmd0aClyZXR1cm57cG9zOm4oaCxtKSxjaDp2fTt1LnBvcCgpfX19fX1yZXR1cm4gaC1vIT0obz4wP3QubGFzdExpbmUoKTp0LmZpcnN0TGluZSgpKSYmbnVsbH1mdW5jdGlvbiBzKHQscixpKXtmb3IodmFyIGE9dC5zdGF0ZS5tYXRjaEJyYWNrZXRzLm1heEhpZ2hsaWdodExpbmVMZW5ndGh8fDFlMyxzPVtdLGw9dC5saXN0U2VsZWN0aW9ucygpLGM9MDtjPGwubGVuZ3RoO2MrKyl7dmFyIHU9bFtjXS5lbXB0eSgpJiZvKHQsbFtjXS5oZWFkLGkpO2lmKHUmJnQuZ2V0TGluZSh1LmZyb20ubGluZSkubGVuZ3RoPD1hKXt2YXIgZj11Lm1hdGNoP1wiQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXRcIjpcIkNvZGVNaXJyb3Itbm9ubWF0Y2hpbmdicmFja2V0XCI7cy5wdXNoKHQubWFya1RleHQodS5mcm9tLG4odS5mcm9tLmxpbmUsdS5mcm9tLmNoKzEpLHtjbGFzc05hbWU6Zn0pKSx1LnRvJiZ0LmdldExpbmUodS50by5saW5lKS5sZW5ndGg8PWEmJnMucHVzaCh0Lm1hcmtUZXh0KHUudG8sbih1LnRvLmxpbmUsdS50by5jaCsxKSx7Y2xhc3NOYW1lOmZ9KSl9fWlmKHMubGVuZ3RoKXtlJiZ0LnN0YXRlLmZvY3VzZWQmJnQuZm9jdXMoKTt2YXIgZD1mdW5jdGlvbigpe3Qub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxzLmxlbmd0aDt0Kyspc1t0XS5jbGVhcigpfSl9O2lmKCFyKXJldHVybiBkO3NldFRpbWVvdXQoZCw4MDApfX1mdW5jdGlvbiBsKHQpe3Qub3BlcmF0aW9uKGZ1bmN0aW9uKCl7dC5zdGF0ZS5tYXRjaEJyYWNrZXRzLmN1cnJlbnRseUhpZ2hsaWdodGVkJiYodC5zdGF0ZS5tYXRjaEJyYWNrZXRzLmN1cnJlbnRseUhpZ2hsaWdodGVkKCksdC5zdGF0ZS5tYXRjaEJyYWNrZXRzLmN1cnJlbnRseUhpZ2hsaWdodGVkPW51bGwpLHQuc3RhdGUubWF0Y2hCcmFja2V0cy5jdXJyZW50bHlIaWdobGlnaHRlZD1zKHQsITEsdC5zdGF0ZS5tYXRjaEJyYWNrZXRzKX0pfXQuZGVmaW5lT3B0aW9uKFwibWF0Y2hCcmFja2V0c1wiLCExLGZ1bmN0aW9uKGUsbixyKXtyJiZyIT10LkluaXQmJihlLm9mZihcImN1cnNvckFjdGl2aXR5XCIsbCksZS5zdGF0ZS5tYXRjaEJyYWNrZXRzJiZlLnN0YXRlLm1hdGNoQnJhY2tldHMuY3VycmVudGx5SGlnaGxpZ2h0ZWQmJihlLnN0YXRlLm1hdGNoQnJhY2tldHMuY3VycmVudGx5SGlnaGxpZ2h0ZWQoKSxlLnN0YXRlLm1hdGNoQnJhY2tldHMuY3VycmVudGx5SGlnaGxpZ2h0ZWQ9bnVsbCkpLG4mJihlLnN0YXRlLm1hdGNoQnJhY2tldHM9XCJvYmplY3RcIj09dHlwZW9mIG4/bjp7fSxlLm9uKFwiY3Vyc29yQWN0aXZpdHlcIixsKSl9KSx0LmRlZmluZUV4dGVuc2lvbihcIm1hdGNoQnJhY2tldHNcIixmdW5jdGlvbigpe3ModGhpcywhMCl9KSx0LmRlZmluZUV4dGVuc2lvbihcImZpbmRNYXRjaGluZ0JyYWNrZXRcIixmdW5jdGlvbih0LGUsbil7cmV0dXJuKG58fFwiYm9vbGVhblwiPT10eXBlb2YgZSkmJihuPyhuLnN0cmljdD1lLGU9bik6ZT1lP3tzdHJpY3Q6ITB9Om51bGwpLG8odGhpcyx0LGUpfSksdC5kZWZpbmVFeHRlbnNpb24oXCJzY2FuRm9yQnJhY2tldFwiLGZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBhKHRoaXMsdCxlLG4scil9KX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7dmFyIGU9e3BhaXJzOlwiKClbXXt9JydcXFwiXFxcIlwiLGNsb3NlQmVmb3JlOlwiKV19J1xcXCI6Oz5cIix0cmlwbGVzOlwiXCIsZXhwbG9kZTpcIltde31cIn0sbj10LlBvcztmdW5jdGlvbiByKHQsbil7cmV0dXJuXCJwYWlyc1wiPT1uJiZcInN0cmluZ1wiPT10eXBlb2YgdD90Olwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT10W25dP3Rbbl06ZVtuXX10LmRlZmluZU9wdGlvbihcImF1dG9DbG9zZUJyYWNrZXRzXCIsITEsZnVuY3Rpb24oZSxuLGEpe2EmJmEhPXQuSW5pdCYmKGUucmVtb3ZlS2V5TWFwKGkpLGUuc3RhdGUuY2xvc2VCcmFja2V0cz1udWxsKSxuJiYobyhyKG4sXCJwYWlyc1wiKSksZS5zdGF0ZS5jbG9zZUJyYWNrZXRzPW4sZS5hZGRLZXlNYXAoaSkpfSk7dmFyIGk9e0JhY2tzcGFjZTpmdW5jdGlvbihlKXt2YXIgaT1zKGUpO2lmKCFpfHxlLmdldE9wdGlvbihcImRpc2FibGVJbnB1dFwiKSlyZXR1cm4gdC5QYXNzO2Zvcih2YXIgbz1yKGksXCJwYWlyc1wiKSxhPWUubGlzdFNlbGVjdGlvbnMoKSxjPTA7YzxhLmxlbmd0aDtjKyspe2lmKCFhW2NdLmVtcHR5KCkpcmV0dXJuIHQuUGFzczt2YXIgdT1sKGUsYVtjXS5oZWFkKTtpZighdXx8by5pbmRleE9mKHUpJTIhPTApcmV0dXJuIHQuUGFzc31mb3IodmFyIGM9YS5sZW5ndGgtMTtjPj0wO2MtLSl7dmFyIGY9YVtjXS5oZWFkO2UucmVwbGFjZVJhbmdlKFwiXCIsbihmLmxpbmUsZi5jaC0xKSxuKGYubGluZSxmLmNoKzEpLFwiK2RlbGV0ZVwiKX19LEVudGVyOmZ1bmN0aW9uKGUpe3ZhciBuPXMoZSksaT1uJiZyKG4sXCJleHBsb2RlXCIpO2lmKCFpfHxlLmdldE9wdGlvbihcImRpc2FibGVJbnB1dFwiKSlyZXR1cm4gdC5QYXNzO2Zvcih2YXIgbz1lLmxpc3RTZWxlY3Rpb25zKCksYT0wO2E8by5sZW5ndGg7YSsrKXtpZighb1thXS5lbXB0eSgpKXJldHVybiB0LlBhc3M7dmFyIGM9bChlLG9bYV0uaGVhZCk7aWYoIWN8fGkuaW5kZXhPZihjKSUyIT0wKXJldHVybiB0LlBhc3N9ZS5vcGVyYXRpb24oZnVuY3Rpb24oKXt2YXIgdD1lLmxpbmVTZXBhcmF0b3IoKXx8XCJcXG5cIjtlLnJlcGxhY2VTZWxlY3Rpb24odCt0LG51bGwpLGUuZXhlY0NvbW1hbmQoXCJnb0NoYXJMZWZ0XCIpLG89ZS5saXN0U2VsZWN0aW9ucygpO2Zvcih2YXIgbj0wO248by5sZW5ndGg7bisrKXt2YXIgcj1vW25dLmhlYWQubGluZTtlLmluZGVudExpbmUocixudWxsLCEwKSxlLmluZGVudExpbmUocisxLG51bGwsITApfX0pfX07ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dC5jaGFyQXQoZSkscj1cIidcIituK1wiJ1wiO2lbcl18fChpW3JdPWEobikpfX1mdW5jdGlvbiBhKGUpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24oZSxpKXt2YXIgbz1zKGUpO2lmKCFvfHxlLmdldE9wdGlvbihcImRpc2FibGVJbnB1dFwiKSlyZXR1cm4gdC5QYXNzO3ZhciBhPXIobyxcInBhaXJzXCIpLGw9YS5pbmRleE9mKGkpO2lmKC0xPT1sKXJldHVybiB0LlBhc3M7Zm9yKHZhciB1LGY9cihvLFwiY2xvc2VCZWZvcmVcIiksZD1yKG8sXCJ0cmlwbGVzXCIpLGg9YS5jaGFyQXQobCsxKT09aSxwPWUubGlzdFNlbGVjdGlvbnMoKSxtPWwlMj09MCxnPTA7ZzxwLmxlbmd0aDtnKyspe3ZhciB2LHk9cFtnXSxiPXkuaGVhZCx4PWUuZ2V0UmFuZ2UoYixuKGIubGluZSxiLmNoKzEpKTtpZihtJiYheS5lbXB0eSgpKXY9XCJzdXJyb3VuZFwiO2Vsc2UgaWYoIWgmJm18fHghPWkpaWYoaCYmYi5jaD4xJiZkLmluZGV4T2YoaSk+PTAmJmUuZ2V0UmFuZ2UobihiLmxpbmUsYi5jaC0yKSxiKT09aStpKXtpZihiLmNoPjImJi9cXGJzdHJpbmcvLnRlc3QoZS5nZXRUb2tlblR5cGVBdChuKGIubGluZSxiLmNoLTIpKSkpcmV0dXJuIHQuUGFzczt2PVwiYWRkRm91clwifWVsc2UgaWYoaCl7dmFyIHc9MD09Yi5jaD9cIiBcIjplLmdldFJhbmdlKG4oYi5saW5lLGIuY2gtMSksYik7aWYodC5pc1dvcmRDaGFyKHgpfHx3PT1pfHx0LmlzV29yZENoYXIodykpcmV0dXJuIHQuUGFzczt2PVwiYm90aFwifWVsc2V7aWYoIW18fCEoMD09PXgubGVuZ3RofHwvXFxzLy50ZXN0KHgpfHxmLmluZGV4T2YoeCk+LTEpKXJldHVybiB0LlBhc3M7dj1cImJvdGhcIn1lbHNlIHY9aCYmYyhlLGIpP1wiYm90aFwiOmQuaW5kZXhPZihpKT49MCYmZS5nZXRSYW5nZShiLG4oYi5saW5lLGIuY2grMykpPT1pK2kraT9cInNraXBUaHJlZVwiOlwic2tpcFwiO2lmKHUpe2lmKHUhPXYpcmV0dXJuIHQuUGFzc31lbHNlIHU9dn12YXIgQz1sJTI/YS5jaGFyQXQobC0xKTppLGs9bCUyP2k6YS5jaGFyQXQobCsxKTtlLm9wZXJhdGlvbihmdW5jdGlvbigpe2lmKFwic2tpcFwiPT11KWUuZXhlY0NvbW1hbmQoXCJnb0NoYXJSaWdodFwiKTtlbHNlIGlmKFwic2tpcFRocmVlXCI9PXUpZm9yKHZhciByPTA7cjwzO3IrKyllLmV4ZWNDb21tYW5kKFwiZ29DaGFyUmlnaHRcIik7ZWxzZSBpZihcInN1cnJvdW5kXCI9PXUpe2Zvcih2YXIgaT1lLmdldFNlbGVjdGlvbnMoKSxyPTA7cjxpLmxlbmd0aDtyKyspaVtyXT1DK2lbcl0raztlLnJlcGxhY2VTZWxlY3Rpb25zKGksXCJhcm91bmRcIiksaT1lLmxpc3RTZWxlY3Rpb25zKCkuc2xpY2UoKTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylpW3JdPShvPWlbcl0sYT12b2lkIDAsYT10LmNtcFBvcyhvLmFuY2hvcixvLmhlYWQpPjAse2FuY2hvcjpuZXcgbihvLmFuY2hvci5saW5lLG8uYW5jaG9yLmNoKyhhPy0xOjEpKSxoZWFkOm5ldyBuKG8uaGVhZC5saW5lLG8uaGVhZC5jaCsoYT8xOi0xKSl9KTtlLnNldFNlbGVjdGlvbnMoaSl9ZWxzZVwiYm90aFwiPT11PyhlLnJlcGxhY2VTZWxlY3Rpb24oQytrLG51bGwpLGUudHJpZ2dlckVsZWN0cmljKEMrayksZS5leGVjQ29tbWFuZChcImdvQ2hhckxlZnRcIikpOlwiYWRkRm91clwiPT11JiYoZS5yZXBsYWNlU2VsZWN0aW9uKEMrQytDK0MsXCJiZWZvcmVcIiksZS5leGVjQ29tbWFuZChcImdvQ2hhclJpZ2h0XCIpKTt2YXIgbyxhfSl9KGksZSl9fWZ1bmN0aW9uIHModCl7dmFyIGU9dC5zdGF0ZS5jbG9zZUJyYWNrZXRzO2lmKCFlfHxlLm92ZXJyaWRlKXJldHVybiBlO3ZhciBuPXQuZ2V0TW9kZUF0KHQuZ2V0Q3Vyc29yKCkpO3JldHVybiBuLmNsb3NlQnJhY2tldHN8fGV9ZnVuY3Rpb24gbCh0LGUpe3ZhciByPXQuZ2V0UmFuZ2UobihlLmxpbmUsZS5jaC0xKSxuKGUubGluZSxlLmNoKzEpKTtyZXR1cm4gMj09ci5sZW5ndGg/cjpudWxsfWZ1bmN0aW9uIGModCxlKXt2YXIgcj10LmdldFRva2VuQXQobihlLmxpbmUsZS5jaCsxKSk7cmV0dXJuL1xcYnN0cmluZy8udGVzdChyLnR5cGUpJiZyLnN0YXJ0PT1lLmNoJiYoMD09ZS5jaHx8IS9cXGJzdHJpbmcvLnRlc3QodC5nZXRUb2tlblR5cGVBdChlKSkpfW8oZS5wYWlycytcImBcIil9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPXt9LG49L1teXFxzXFx1MDBhMF0vLHI9dC5Qb3M7ZnVuY3Rpb24gaSh0KXt2YXIgZT10LnNlYXJjaChuKTtyZXR1cm4tMT09ZT8wOmV9ZnVuY3Rpb24gbyh0LGUpe3ZhciBuPXQuZ2V0TW9kZSgpO3JldHVybiExIT09bi51c2VJbm5lckNvbW1lbnRzJiZuLmlubmVyTW9kZT90LmdldE1vZGVBdChlKTpufXQuY29tbWFuZHMudG9nZ2xlQ29tbWVudD1mdW5jdGlvbih0KXt0LnRvZ2dsZUNvbW1lbnQoKX0sdC5kZWZpbmVFeHRlbnNpb24oXCJ0b2dnbGVDb21tZW50XCIsZnVuY3Rpb24odCl7dHx8KHQ9ZSk7Zm9yKHZhciBuPTEvMCxpPXRoaXMubGlzdFNlbGVjdGlvbnMoKSxvPW51bGwsYT1pLmxlbmd0aC0xO2E+PTA7YS0tKXt2YXIgcz1pW2FdLmZyb20oKSxsPWlbYV0udG8oKTtzLmxpbmU+PW58fChsLmxpbmU+PW4mJihsPXIobiwwKSksbj1zLmxpbmUsbnVsbD09bz90aGlzLnVuY29tbWVudChzLGwsdCk/bz1cInVuXCI6KHRoaXMubGluZUNvbW1lbnQocyxsLHQpLG89XCJsaW5lXCIpOlwidW5cIj09bz90aGlzLnVuY29tbWVudChzLGwsdCk6dGhpcy5saW5lQ29tbWVudChzLGwsdCkpfX0pLHQuZGVmaW5lRXh0ZW5zaW9uKFwibGluZUNvbW1lbnRcIixmdW5jdGlvbih0LGEscyl7c3x8KHM9ZSk7dmFyIGw9dGhpcyxjPW8obCx0KSx1PWwuZ2V0TGluZSh0LmxpbmUpO2lmKG51bGwhPXUmJihmPXQsZD11LCEvXFxic3RyaW5nXFxiLy50ZXN0KGwuZ2V0VG9rZW5UeXBlQXQocihmLmxpbmUsMCkpKXx8L15bXFwnXFxcIlxcYF0vLnRlc3QoZCkpKXt2YXIgZixkLGg9cy5saW5lQ29tbWVudHx8Yy5saW5lQ29tbWVudDtpZihoKXt2YXIgcD1NYXRoLm1pbigwIT1hLmNofHxhLmxpbmU9PXQubGluZT9hLmxpbmUrMTphLmxpbmUsbC5sYXN0TGluZSgpKzEpLG09bnVsbD09cy5wYWRkaW5nP1wiIFwiOnMucGFkZGluZyxnPXMuY29tbWVudEJsYW5rTGluZXN8fHQubGluZT09YS5saW5lO2wub3BlcmF0aW9uKGZ1bmN0aW9uKCl7aWYocy5pbmRlbnQpe2Zvcih2YXIgZT1udWxsLG89dC5saW5lO288cDsrK28pe3ZhciBhPWwuZ2V0TGluZShvKSxjPWEuc2xpY2UoMCxpKGEpKTsobnVsbD09ZXx8ZS5sZW5ndGg+Yy5sZW5ndGgpJiYoZT1jKX1mb3IodmFyIG89dC5saW5lO288cDsrK28pe3ZhciBhPWwuZ2V0TGluZShvKSx1PWUubGVuZ3RoOyhnfHxuLnRlc3QoYSkpJiYoYS5zbGljZSgwLHUpIT1lJiYodT1pKGEpKSxsLnJlcGxhY2VSYW5nZShlK2grbSxyKG8sMCkscihvLHUpKSl9fWVsc2UgZm9yKHZhciBvPXQubGluZTtvPHA7KytvKShnfHxuLnRlc3QobC5nZXRMaW5lKG8pKSkmJmwucmVwbGFjZVJhbmdlKGgrbSxyKG8sMCkpfSl9ZWxzZShzLmJsb2NrQ29tbWVudFN0YXJ0fHxjLmJsb2NrQ29tbWVudFN0YXJ0KSYmKHMuZnVsbExpbmVzPSEwLGwuYmxvY2tDb21tZW50KHQsYSxzKSl9fSksdC5kZWZpbmVFeHRlbnNpb24oXCJibG9ja0NvbW1lbnRcIixmdW5jdGlvbih0LGksYSl7YXx8KGE9ZSk7dmFyIHM9dGhpcyxsPW8ocyx0KSxjPWEuYmxvY2tDb21tZW50U3RhcnR8fGwuYmxvY2tDb21tZW50U3RhcnQsdT1hLmJsb2NrQ29tbWVudEVuZHx8bC5ibG9ja0NvbW1lbnRFbmQ7aWYoYyYmdSl7aWYoIS9cXGJjb21tZW50XFxiLy50ZXN0KHMuZ2V0VG9rZW5UeXBlQXQocih0LmxpbmUsMCkpKSl7dmFyIGY9TWF0aC5taW4oaS5saW5lLHMubGFzdExpbmUoKSk7ZiE9dC5saW5lJiYwPT1pLmNoJiZuLnRlc3Qocy5nZXRMaW5lKGYpKSYmLS1mO3ZhciBkPW51bGw9PWEucGFkZGluZz9cIiBcIjphLnBhZGRpbmc7dC5saW5lPmZ8fHMub3BlcmF0aW9uKGZ1bmN0aW9uKCl7aWYoMCE9YS5mdWxsTGluZXMpe3ZhciBlPW4udGVzdChzLmdldExpbmUoZikpO3MucmVwbGFjZVJhbmdlKGQrdSxyKGYpKSxzLnJlcGxhY2VSYW5nZShjK2Qscih0LmxpbmUsMCkpO3ZhciBvPWEuYmxvY2tDb21tZW50TGVhZHx8bC5ibG9ja0NvbW1lbnRMZWFkO2lmKG51bGwhPW8pZm9yKHZhciBoPXQubGluZSsxO2g8PWY7KytoKShoIT1mfHxlKSYmcy5yZXBsYWNlUmFuZ2UobytkLHIoaCwwKSl9ZWxzZSBzLnJlcGxhY2VSYW5nZSh1LGkpLHMucmVwbGFjZVJhbmdlKGMsdCl9KX19ZWxzZShhLmxpbmVDb21tZW50fHxsLmxpbmVDb21tZW50KSYmMCE9YS5mdWxsTGluZXMmJnMubGluZUNvbW1lbnQodCxpLGEpfSksdC5kZWZpbmVFeHRlbnNpb24oXCJ1bmNvbW1lbnRcIixmdW5jdGlvbih0LGksYSl7YXx8KGE9ZSk7dmFyIHMsbD10aGlzLGM9byhsLHQpLHU9TWF0aC5taW4oMCE9aS5jaHx8aS5saW5lPT10LmxpbmU/aS5saW5lOmkubGluZS0xLGwubGFzdExpbmUoKSksZj1NYXRoLm1pbih0LmxpbmUsdSksZD1hLmxpbmVDb21tZW50fHxjLmxpbmVDb21tZW50LGg9W10scD1udWxsPT1hLnBhZGRpbmc/XCIgXCI6YS5wYWRkaW5nO3Q6aWYoZCl7Zm9yKHZhciBtPWY7bTw9dTsrK20pe3ZhciBnPWwuZ2V0TGluZShtKSx2PWcuaW5kZXhPZihkKTtpZih2Pi0xJiYhL2NvbW1lbnQvLnRlc3QobC5nZXRUb2tlblR5cGVBdChyKG0sdisxKSkpJiYodj0tMSksLTE9PXYmJm4udGVzdChnKSlicmVhayB0O2lmKHY+LTEmJm4udGVzdChnLnNsaWNlKDAsdikpKWJyZWFrIHQ7aC5wdXNoKGcpfWlmKGwub3BlcmF0aW9uKGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWY7dDw9dTsrK3Qpe3ZhciBlPWhbdC1mXSxuPWUuaW5kZXhPZihkKSxpPW4rZC5sZW5ndGg7bjwwfHwoZS5zbGljZShpLGkrcC5sZW5ndGgpPT1wJiYoaSs9cC5sZW5ndGgpLHM9ITAsbC5yZXBsYWNlUmFuZ2UoXCJcIixyKHQsbikscih0LGkpKSl9fSkscylyZXR1cm4hMH12YXIgeT1hLmJsb2NrQ29tbWVudFN0YXJ0fHxjLmJsb2NrQ29tbWVudFN0YXJ0LGI9YS5ibG9ja0NvbW1lbnRFbmR8fGMuYmxvY2tDb21tZW50RW5kO2lmKCF5fHwhYilyZXR1cm4hMTt2YXIgeD1hLmJsb2NrQ29tbWVudExlYWR8fGMuYmxvY2tDb21tZW50TGVhZCx3PWwuZ2V0TGluZShmKSxDPXcuaW5kZXhPZih5KTtpZigtMT09QylyZXR1cm4hMTt2YXIgaz11PT1mP3c6bC5nZXRMaW5lKHUpLF89ay5pbmRleE9mKGIsdT09Zj9DK3kubGVuZ3RoOjApLFM9cihmLEMrMSksRT1yKHUsXysxKTtpZigtMT09X3x8IS9jb21tZW50Ly50ZXN0KGwuZ2V0VG9rZW5UeXBlQXQoUykpfHwhL2NvbW1lbnQvLnRlc3QobC5nZXRUb2tlblR5cGVBdChFKSl8fGwuZ2V0UmFuZ2UoUyxFLFwiXFxuXCIpLmluZGV4T2YoYik+LTEpcmV0dXJuITE7dmFyIFQ9dy5sYXN0SW5kZXhPZih5LHQuY2gpLE89LTE9PVQ/LTE6dy5zbGljZSgwLHQuY2gpLmluZGV4T2YoYixUK3kubGVuZ3RoKTtpZigtMSE9VCYmLTEhPU8mJk8rYi5sZW5ndGghPXQuY2gpcmV0dXJuITE7Tz1rLmluZGV4T2YoYixpLmNoKTt2YXIgTT1rLnNsaWNlKGkuY2gpLmxhc3RJbmRleE9mKHksTy1pLmNoKTtyZXR1cm4gVD0tMT09T3x8LTE9PU0/LTE6aS5jaCtNLCgtMT09T3x8LTE9PVR8fFQ9PWkuY2gpJiYobC5vcGVyYXRpb24oZnVuY3Rpb24oKXtsLnJlcGxhY2VSYW5nZShcIlwiLHIodSxfLShwJiZrLnNsaWNlKF8tcC5sZW5ndGgsXyk9PXA/cC5sZW5ndGg6MCkpLHIodSxfK2IubGVuZ3RoKSk7dmFyIHQ9Qyt5Lmxlbmd0aDtpZihwJiZ3LnNsaWNlKHQsdCtwLmxlbmd0aCk9PXAmJih0Kz1wLmxlbmd0aCksbC5yZXBsYWNlUmFuZ2UoXCJcIixyKGYsQykscihmLHQpKSx4KWZvcih2YXIgZT1mKzE7ZTw9dTsrK2Upe3ZhciBpPWwuZ2V0TGluZShlKSxvPWkuaW5kZXhPZih4KTtpZigtMSE9byYmIW4udGVzdChpLnNsaWNlKDAsbykpKXt2YXIgYT1vK3gubGVuZ3RoO3AmJmkuc2xpY2UoYSxhK3AubGVuZ3RoKT09cCYmKGErPXAubGVuZ3RoKSxsLnJlcGxhY2VSYW5nZShcIlwiLHIoZSxvKSxyKGUsYSkpfX19KSwhMCl9KX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtpZihlLmdldE9wdGlvbihcImRpc2FibGVJbnB1dFwiKSlyZXR1cm4gdC5QYXNzO2Zvcih2YXIgcixpPWUubGlzdFNlbGVjdGlvbnMoKSxvPVtdLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9aVthXS5oZWFkO2lmKCEvXFxiY29tbWVudFxcYi8udGVzdChlLmdldFRva2VuVHlwZUF0KHMpKSlyZXR1cm4gdC5QYXNzO3ZhciBsPWUuZ2V0TW9kZUF0KHMpO2lmKHIpe2lmKHIhPWwpcmV0dXJuIHQuUGFzc31lbHNlIHI9bDt2YXIgYz1udWxsO2lmKHIuYmxvY2tDb21tZW50U3RhcnQmJnIuYmxvY2tDb21tZW50Q29udGludWUpe3ZhciB1PWUuZ2V0TGluZShzLmxpbmUpLnNsaWNlKDAscy5jaCksZj11Lmxhc3RJbmRleE9mKHIuYmxvY2tDb21tZW50RW5kKTtpZigtMSE9ZiYmZj09cy5jaC1yLmJsb2NrQ29tbWVudEVuZC5sZW5ndGgpO2Vsc2UgaWYoKGg9dS5sYXN0SW5kZXhPZihyLmJsb2NrQ29tbWVudFN0YXJ0KSk+LTEmJmg+Zil7aWYoYz11LnNsaWNlKDAsaCksL1xcUy8udGVzdChjKSl7Yz1cIlwiO2Zvcih2YXIgZD0wO2Q8aDsrK2QpYys9XCIgXCJ9fWVsc2UoaD11LmluZGV4T2Yoci5ibG9ja0NvbW1lbnRDb250aW51ZSkpPi0xJiYhL1xcUy8udGVzdCh1LnNsaWNlKDAsaCkpJiYoYz11LnNsaWNlKDAsaCkpO251bGwhPWMmJihjKz1yLmJsb2NrQ29tbWVudENvbnRpbnVlKX1pZihudWxsPT1jJiZyLmxpbmVDb21tZW50JiZuKGUpKXt2YXIgdT1lLmdldExpbmUocy5saW5lKSxoPXUuaW5kZXhPZihyLmxpbmVDb21tZW50KTtoPi0xJiYoYz11LnNsaWNlKDAsaCksL1xcUy8udGVzdChjKT9jPW51bGw6Yys9ci5saW5lQ29tbWVudCt1LnNsaWNlKGgrci5saW5lQ29tbWVudC5sZW5ndGgpLm1hdGNoKC9eXFxzKi8pWzBdKX1pZihudWxsPT1jKXJldHVybiB0LlBhc3M7b1thXT1cIlxcblwiK2N9ZS5vcGVyYXRpb24oZnVuY3Rpb24oKXtmb3IodmFyIHQ9aS5sZW5ndGgtMTt0Pj0wO3QtLSllLnJlcGxhY2VSYW5nZShvW3RdLGlbdF0uZnJvbSgpLGlbdF0udG8oKSxcIitpbnNlcnRcIil9KX1mdW5jdGlvbiBuKHQpe3ZhciBlPXQuZ2V0T3B0aW9uKFwiY29udGludWVDb21tZW50c1wiKTtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGV8fCExIT09ZS5jb250aW51ZUxpbmVDb21tZW50fXQuZGVmaW5lT3B0aW9uKFwiY29udGludWVDb21tZW50c1wiLG51bGwsZnVuY3Rpb24obixyLGkpe2lmKGkmJmkhPXQuSW5pdCYmbi5yZW1vdmVLZXlNYXAoXCJjb250aW51ZUNvbW1lbnRcIikscil7dmFyIG89XCJFbnRlclwiO1wic3RyaW5nXCI9PXR5cGVvZiByP289cjpcIm9iamVjdFwiPT10eXBlb2YgciYmci5rZXkmJihvPXIua2V5KTt2YXIgYT17bmFtZTpcImNvbnRpbnVlQ29tbWVudFwifTthW29dPWUsbi5hZGRLZXlNYXAoYSl9fSl9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3QuZGVmaW5lTW9kZShcImphdmFzY3JpcHRcIixmdW5jdGlvbihlLG4pe3ZhciByLGksbz1lLmluZGVudFVuaXQsYT1uLnN0YXRlbWVudEluZGVudCxzPW4uanNvbmxkLGw9bi5qc29ufHxzLGM9bi50eXBlc2NyaXB0LHU9bi53b3JkQ2hhcmFjdGVyc3x8L1tcXHckXFx4YTEtXFx1ZmZmZl0vLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybnt0eXBlOnQsc3R5bGU6XCJrZXl3b3JkXCJ9fXZhciBlPXQoXCJrZXl3b3JkIGFcIiksbj10KFwia2V5d29yZCBiXCIpLHI9dChcImtleXdvcmQgY1wiKSxpPXQoXCJrZXl3b3JkIGRcIiksbz10KFwib3BlcmF0b3JcIiksYT17dHlwZTpcImF0b21cIixzdHlsZTpcImF0b21cIn07cmV0dXJue2lmOnQoXCJpZlwiKSx3aGlsZTplLHdpdGg6ZSxlbHNlOm4sZG86bix0cnk6bixmaW5hbGx5Om4scmV0dXJuOmksYnJlYWs6aSxjb250aW51ZTppLG5ldzp0KFwibmV3XCIpLGRlbGV0ZTpyLHZvaWQ6cix0aHJvdzpyLGRlYnVnZ2VyOnQoXCJkZWJ1Z2dlclwiKSx2YXI6dChcInZhclwiKSxjb25zdDp0KFwidmFyXCIpLGxldDp0KFwidmFyXCIpLGZ1bmN0aW9uOnQoXCJmdW5jdGlvblwiKSxjYXRjaDp0KFwiY2F0Y2hcIiksZm9yOnQoXCJmb3JcIiksc3dpdGNoOnQoXCJzd2l0Y2hcIiksY2FzZTp0KFwiY2FzZVwiKSxkZWZhdWx0OnQoXCJkZWZhdWx0XCIpLGluOm8sdHlwZW9mOm8saW5zdGFuY2VvZjpvLHRydWU6YSxmYWxzZTphLG51bGw6YSx1bmRlZmluZWQ6YSxOYU46YSxJbmZpbml0eTphLHRoaXM6dChcInRoaXNcIiksY2xhc3M6dChcImNsYXNzXCIpLHN1cGVyOnQoXCJhdG9tXCIpLHlpZWxkOnIsZXhwb3J0OnQoXCJleHBvcnRcIiksaW1wb3J0OnQoXCJpbXBvcnRcIiksZXh0ZW5kczpyLGF3YWl0OnJ9fSgpLGQ9L1srXFwtKiYlPTw+IT98fl5AXS8saD0vXkAoY29udGV4dHxpZHx2YWx1ZXxsYW5ndWFnZXx0eXBlfGNvbnRhaW5lcnxsaXN0fHNldHxyZXZlcnNlfGluZGV4fGJhc2V8dm9jYWJ8Z3JhcGgpXCIvO2Z1bmN0aW9uIHAodCxlLG4pe3JldHVybiByPXQsaT1uLGV9ZnVuY3Rpb24gbSh0LGUpe3ZhciBuLHI9dC5uZXh0KCk7aWYoJ1wiJz09cnx8XCInXCI9PXIpcmV0dXJuIGUudG9rZW5pemU9KG49cixmdW5jdGlvbih0LGUpe3ZhciByLGk9ITE7aWYocyYmXCJAXCI9PXQucGVlaygpJiZ0Lm1hdGNoKGgpKXJldHVybiBlLnRva2VuaXplPW0scChcImpzb25sZC1rZXl3b3JkXCIsXCJtZXRhXCIpO2Zvcig7bnVsbCE9KHI9dC5uZXh0KCkpJiYociE9bnx8aSk7KWk9IWkmJlwiXFxcXFwiPT1yO3JldHVybiBpfHwoZS50b2tlbml6ZT1tKSxwKFwic3RyaW5nXCIsXCJzdHJpbmdcIil9KSxlLnRva2VuaXplKHQsZSk7aWYoXCIuXCI9PXImJnQubWF0Y2goL15cXGRbXFxkX10qKD86W2VFXVsrXFwtXT9bXFxkX10rKT8vKSlyZXR1cm4gcChcIm51bWJlclwiLFwibnVtYmVyXCIpO2lmKFwiLlwiPT1yJiZ0Lm1hdGNoKFwiLi5cIikpcmV0dXJuIHAoXCJzcHJlYWRcIixcIm1ldGFcIik7aWYoL1tcXFtcXF17fVxcKFxcKSw7XFw6XFwuXS8udGVzdChyKSlyZXR1cm4gcChyKTtpZihcIj1cIj09ciYmdC5lYXQoXCI+XCIpKXJldHVybiBwKFwiPT5cIixcIm9wZXJhdG9yXCIpO2lmKFwiMFwiPT1yJiZ0Lm1hdGNoKC9eKD86eFtcXGRBLUZhLWZfXSt8b1swLTdfXSt8YlswMV9dKyluPy8pKXJldHVybiBwKFwibnVtYmVyXCIsXCJudW1iZXJcIik7aWYoL1xcZC8udGVzdChyKSlyZXR1cm4gdC5tYXRjaCgvXltcXGRfXSooPzpufCg/OlxcLltcXGRfXSopPyg/OltlRV1bK1xcLV0/W1xcZF9dKyk/KT8vKSxwKFwibnVtYmVyXCIsXCJudW1iZXJcIik7aWYoXCIvXCI9PXIpcmV0dXJuIHQuZWF0KFwiKlwiKT8oZS50b2tlbml6ZT1nLGcodCxlKSk6dC5lYXQoXCIvXCIpPyh0LnNraXBUb0VuZCgpLHAoXCJjb21tZW50XCIsXCJjb21tZW50XCIpKTpxdCh0LGUsMSk/KGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPSExLHI9ITE7bnVsbCE9KGU9dC5uZXh0KCkpOyl7aWYoIW4pe2lmKFwiL1wiPT1lJiYhcilyZXR1cm47XCJbXCI9PWU/cj0hMDpyJiZcIl1cIj09ZSYmKHI9ITEpfW49IW4mJlwiXFxcXFwiPT1lfX0odCksdC5tYXRjaCgvXlxcYigoW2dpbXl1c10pKD8hW2dpbXl1c10qXFwyKSkrXFxiLykscChcInJlZ2V4cFwiLFwic3RyaW5nLTJcIikpOih0LmVhdChcIj1cIikscChcIm9wZXJhdG9yXCIsXCJvcGVyYXRvclwiLHQuY3VycmVudCgpKSk7aWYoXCJgXCI9PXIpcmV0dXJuIGUudG9rZW5pemU9dix2KHQsZSk7aWYoXCIjXCI9PXIpcmV0dXJuIHQuc2tpcFRvRW5kKCkscChcImVycm9yXCIsXCJlcnJvclwiKTtpZihcIjxcIj09ciYmdC5tYXRjaChcIiEtLVwiKXx8XCItXCI9PXImJnQubWF0Y2goXCItPlwiKSlyZXR1cm4gdC5za2lwVG9FbmQoKSxwKFwiY29tbWVudFwiLFwiY29tbWVudFwiKTtpZihkLnRlc3QocikpcmV0dXJuXCI+XCI9PXImJmUubGV4aWNhbCYmXCI+XCI9PWUubGV4aWNhbC50eXBlfHwodC5lYXQoXCI9XCIpP1wiIVwiIT1yJiZcIj1cIiE9cnx8dC5lYXQoXCI9XCIpOi9bPD4qK1xcLV0vLnRlc3QocikmJih0LmVhdChyKSxcIj5cIj09ciYmdC5lYXQocikpKSxwKFwib3BlcmF0b3JcIixcIm9wZXJhdG9yXCIsdC5jdXJyZW50KCkpO2lmKHUudGVzdChyKSl7dC5lYXRXaGlsZSh1KTt2YXIgaT10LmN1cnJlbnQoKTtpZihcIi5cIiE9ZS5sYXN0VHlwZSl7aWYoZi5wcm9wZXJ0eUlzRW51bWVyYWJsZShpKSl7dmFyIG89ZltpXTtyZXR1cm4gcChvLnR5cGUsby5zdHlsZSxpKX1pZihcImFzeW5jXCI9PWkmJnQubWF0Y2goL14oXFxzfFxcL1xcKi4qP1xcKlxcLykqW1xcW1xcKFxcd10vLCExKSlyZXR1cm4gcChcImFzeW5jXCIsXCJrZXl3b3JkXCIsaSl9cmV0dXJuIHAoXCJ2YXJpYWJsZVwiLFwidmFyaWFibGVcIixpKX19ZnVuY3Rpb24gZyh0LGUpe2Zvcih2YXIgbixyPSExO249dC5uZXh0KCk7KXtpZihcIi9cIj09biYmcil7ZS50b2tlbml6ZT1tO2JyZWFrfXI9XCIqXCI9PW59cmV0dXJuIHAoXCJjb21tZW50XCIsXCJjb21tZW50XCIpfWZ1bmN0aW9uIHYodCxlKXtmb3IodmFyIG4scj0hMTtudWxsIT0obj10Lm5leHQoKSk7KXtpZighciYmKFwiYFwiPT1ufHxcIiRcIj09biYmdC5lYXQoXCJ7XCIpKSl7ZS50b2tlbml6ZT1tO2JyZWFrfXI9IXImJlwiXFxcXFwiPT1ufXJldHVybiBwKFwicXVhc2lcIixcInN0cmluZy0yXCIsdC5jdXJyZW50KCkpfXZhciB5PVwiKFt7fV0pXCI7ZnVuY3Rpb24gYih0LGUpe2UuZmF0QXJyb3dBdCYmKGUuZmF0QXJyb3dBdD1udWxsKTt2YXIgbj10LnN0cmluZy5pbmRleE9mKFwiPT5cIix0LnN0YXJ0KTtpZighKG48MCkpe2lmKGMpe3ZhciByPS86XFxzKig/OlxcdysoPzo8W14+XSo+fFxcW1xcXSk/fFxce1tefV0qXFx9KVxccyokLy5leGVjKHQuc3RyaW5nLnNsaWNlKHQuc3RhcnQsbikpO3ImJihuPXIuaW5kZXgpfWZvcih2YXIgaT0wLG89ITEsYT1uLTE7YT49MDstLWEpe3ZhciBzPXQuc3RyaW5nLmNoYXJBdChhKSxsPXkuaW5kZXhPZihzKTtpZihsPj0wJiZsPDMpe2lmKCFpKXsrK2E7YnJlYWt9aWYoMD09LS1pKXtcIihcIj09cyYmKG89ITApO2JyZWFrfX1lbHNlIGlmKGw+PTMmJmw8NikrK2k7ZWxzZSBpZih1LnRlc3Qocykpbz0hMDtlbHNlIGlmKC9bXCInXFwvYF0vLnRlc3QocykpZm9yKDs7LS1hKXtpZigwPT1hKXJldHVybjt2YXIgZj10LnN0cmluZy5jaGFyQXQoYS0xKTtpZihmPT1zJiZcIlxcXFxcIiE9dC5zdHJpbmcuY2hhckF0KGEtMikpe2EtLTticmVha319ZWxzZSBpZihvJiYhaSl7KythO2JyZWFrfX1vJiYhaSYmKGUuZmF0QXJyb3dBdD1hKX19dmFyIHg9e2F0b206ITAsbnVtYmVyOiEwLHZhcmlhYmxlOiEwLHN0cmluZzohMCxyZWdleHA6ITAsdGhpczohMCxcImpzb25sZC1rZXl3b3JkXCI6ITB9O2Z1bmN0aW9uIHcodCxlLG4scixpLG8pe3RoaXMuaW5kZW50ZWQ9dCx0aGlzLmNvbHVtbj1lLHRoaXMudHlwZT1uLHRoaXMucHJldj1pLHRoaXMuaW5mbz1vLG51bGwhPXImJih0aGlzLmFsaWduPXIpfWZ1bmN0aW9uIEModCxlKXtmb3IodmFyIG49dC5sb2NhbFZhcnM7bjtuPW4ubmV4dClpZihuLm5hbWU9PWUpcmV0dXJuITA7Zm9yKHZhciByPXQuY29udGV4dDtyO3I9ci5wcmV2KWZvcih2YXIgbj1yLnZhcnM7bjtuPW4ubmV4dClpZihuLm5hbWU9PWUpcmV0dXJuITB9dmFyIGs9e3N0YXRlOm51bGwsY29sdW1uOm51bGwsbWFya2VkOm51bGwsY2M6bnVsbH07ZnVuY3Rpb24gXygpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLTE7dD49MDt0LS0pay5jYy5wdXNoKGFyZ3VtZW50c1t0XSl9ZnVuY3Rpb24gUygpe3JldHVybiBfLmFwcGx5KG51bGwsYXJndW1lbnRzKSwhMH1mdW5jdGlvbiBFKHQsZSl7Zm9yKHZhciBuPWU7bjtuPW4ubmV4dClpZihuLm5hbWU9PXQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gVCh0KXt2YXIgZT1rLnN0YXRlO2lmKGsubWFya2VkPVwiZGVmXCIsZS5jb250ZXh0KWlmKFwidmFyXCI9PWUubGV4aWNhbC5pbmZvJiZlLmNvbnRleHQmJmUuY29udGV4dC5ibG9jayl7dmFyIHI9ZnVuY3Rpb24gdChlLG4pe2lmKG4pe2lmKG4uYmxvY2spe3ZhciByPXQoZSxuLnByZXYpO3JldHVybiByP3I9PW4ucHJldj9uOm5ldyBNKHIsbi52YXJzLCEwKTpudWxsfXJldHVybiBFKGUsbi52YXJzKT9uOm5ldyBNKG4ucHJldixuZXcgTChlLG4udmFycyksITEpfXJldHVybiBudWxsfSh0LGUuY29udGV4dCk7aWYobnVsbCE9cilyZXR1cm4gdm9pZChlLmNvbnRleHQ9cil9ZWxzZSBpZighRSh0LGUubG9jYWxWYXJzKSlyZXR1cm4gdm9pZChlLmxvY2FsVmFycz1uZXcgTCh0LGUubG9jYWxWYXJzKSk7bi5nbG9iYWxWYXJzJiYhRSh0LGUuZ2xvYmFsVmFycykmJihlLmdsb2JhbFZhcnM9bmV3IEwodCxlLmdsb2JhbFZhcnMpKX1mdW5jdGlvbiBPKHQpe3JldHVyblwicHVibGljXCI9PXR8fFwicHJpdmF0ZVwiPT10fHxcInByb3RlY3RlZFwiPT10fHxcImFic3RyYWN0XCI9PXR8fFwicmVhZG9ubHlcIj09dH1mdW5jdGlvbiBNKHQsZSxuKXt0aGlzLnByZXY9dCx0aGlzLnZhcnM9ZSx0aGlzLmJsb2NrPW59ZnVuY3Rpb24gTCh0LGUpe3RoaXMubmFtZT10LHRoaXMubmV4dD1lfXZhciBBPW5ldyBMKFwidGhpc1wiLG5ldyBMKFwiYXJndW1lbnRzXCIsbnVsbCkpO2Z1bmN0aW9uIE4oKXtrLnN0YXRlLmNvbnRleHQ9bmV3IE0oay5zdGF0ZS5jb250ZXh0LGsuc3RhdGUubG9jYWxWYXJzLCExKSxrLnN0YXRlLmxvY2FsVmFycz1BfWZ1bmN0aW9uIFAoKXtrLnN0YXRlLmNvbnRleHQ9bmV3IE0oay5zdGF0ZS5jb250ZXh0LGsuc3RhdGUubG9jYWxWYXJzLCEwKSxrLnN0YXRlLmxvY2FsVmFycz1udWxsfWZ1bmN0aW9uIEYoKXtrLnN0YXRlLmxvY2FsVmFycz1rLnN0YXRlLmNvbnRleHQudmFycyxrLnN0YXRlLmNvbnRleHQ9ay5zdGF0ZS5jb250ZXh0LnByZXZ9ZnVuY3Rpb24gSSh0LGUpe3ZhciBuPWZ1bmN0aW9uKCl7dmFyIG49ay5zdGF0ZSxyPW4uaW5kZW50ZWQ7aWYoXCJzdGF0XCI9PW4ubGV4aWNhbC50eXBlKXI9bi5sZXhpY2FsLmluZGVudGVkO2Vsc2UgZm9yKHZhciBpPW4ubGV4aWNhbDtpJiZcIilcIj09aS50eXBlJiZpLmFsaWduO2k9aS5wcmV2KXI9aS5pbmRlbnRlZDtuLmxleGljYWw9bmV3IHcocixrLnN0cmVhbS5jb2x1bW4oKSx0LG51bGwsbi5sZXhpY2FsLGUpfTtyZXR1cm4gbi5sZXg9ITAsbn1mdW5jdGlvbiBqKCl7dmFyIHQ9ay5zdGF0ZTt0LmxleGljYWwucHJldiYmKFwiKVwiPT10LmxleGljYWwudHlwZSYmKHQuaW5kZW50ZWQ9dC5sZXhpY2FsLmluZGVudGVkKSx0LmxleGljYWw9dC5sZXhpY2FsLnByZXYpfWZ1bmN0aW9uIEQodCl7cmV0dXJuIGZ1bmN0aW9uIGUobil7cmV0dXJuIG49PXQ/UygpOlwiO1wiPT10fHxcIn1cIj09bnx8XCIpXCI9PW58fFwiXVwiPT1uP18oKTpTKGUpfX1mdW5jdGlvbiB6KHQsZSl7cmV0dXJuXCJ2YXJcIj09dD9TKEkoXCJ2YXJkZWZcIixlKSxidCxEKFwiO1wiKSxqKTpcImtleXdvcmQgYVwiPT10P1MoSShcImZvcm1cIiksVyx6LGopOlwia2V5d29yZCBiXCI9PXQ/UyhJKFwiZm9ybVwiKSx6LGopOlwia2V5d29yZCBkXCI9PXQ/ay5zdHJlYW0ubWF0Y2goL15cXHMqJC8sITEpP1MoKTpTKEkoXCJzdGF0XCIpLFYsRChcIjtcIiksaik6XCJkZWJ1Z2dlclwiPT10P1MoRChcIjtcIikpOlwie1wiPT10P1MoSShcIn1cIiksUCxhdCxqLEYpOlwiO1wiPT10P1MoKTpcImlmXCI9PXQ/KFwiZWxzZVwiPT1rLnN0YXRlLmxleGljYWwuaW5mbyYmay5zdGF0ZS5jY1trLnN0YXRlLmNjLmxlbmd0aC0xXT09aiYmay5zdGF0ZS5jYy5wb3AoKSgpLFMoSShcImZvcm1cIiksVyx6LGosU3QpKTpcImZ1bmN0aW9uXCI9PXQ/UyhNdCk6XCJmb3JcIj09dD9TKEkoXCJmb3JtXCIpLEV0LHosaik6XCJjbGFzc1wiPT10fHxjJiZcImludGVyZmFjZVwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKEkoXCJmb3JtXCIsXCJjbGFzc1wiPT10P3Q6ZSksRnQsaikpOlwidmFyaWFibGVcIj09dD9jJiZcImRlY2xhcmVcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyh6KSk6YyYmKFwibW9kdWxlXCI9PWV8fFwiZW51bVwiPT1lfHxcInR5cGVcIj09ZSkmJmsuc3RyZWFtLm1hdGNoKC9eXFxzKlxcdy8sITEpPyhrLm1hcmtlZD1cImtleXdvcmRcIixcImVudW1cIj09ZT9TKEt0KTpcInR5cGVcIj09ZT9TKEF0LEQoXCJvcGVyYXRvclwiKSxmdCxEKFwiO1wiKSk6UyhJKFwiZm9ybVwiKSx4dCxEKFwie1wiKSxJKFwifVwiKSxhdCxqLGopKTpjJiZcIm5hbWVzcGFjZVwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKEkoXCJmb3JtXCIpLEIseixqKSk6YyYmXCJhYnN0cmFjdFwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKHopKTpTKEkoXCJzdGF0XCIpLFEpOlwic3dpdGNoXCI9PXQ/UyhJKFwiZm9ybVwiKSxXLEQoXCJ7XCIpLEkoXCJ9XCIsXCJzd2l0Y2hcIiksUCxhdCxqLGosRik6XCJjYXNlXCI9PXQ/UyhCLEQoXCI6XCIpKTpcImRlZmF1bHRcIj09dD9TKEQoXCI6XCIpKTpcImNhdGNoXCI9PXQ/UyhJKFwiZm9ybVwiKSxOLFIseixqLEYpOlwiZXhwb3J0XCI9PXQ/UyhJKFwic3RhdFwiKSx6dCxqKTpcImltcG9ydFwiPT10P1MoSShcInN0YXRcIiksQnQsaik6XCJhc3luY1wiPT10P1Moeik6XCJAXCI9PWU/UyhCLHopOl8oSShcInN0YXRcIiksQixEKFwiO1wiKSxqKX1mdW5jdGlvbiBSKHQpe2lmKFwiKFwiPT10KXJldHVybiBTKE50LEQoXCIpXCIpKX1mdW5jdGlvbiBCKHQsZSl7cmV0dXJuIFUodCxlLCExKX1mdW5jdGlvbiBIKHQsZSl7cmV0dXJuIFUodCxlLCEwKX1mdW5jdGlvbiBXKHQpe3JldHVyblwiKFwiIT10P18oKTpTKEkoXCIpXCIpLEIsRChcIilcIiksail9ZnVuY3Rpb24gVSh0LGUsbil7aWYoay5zdGF0ZS5mYXRBcnJvd0F0PT1rLnN0cmVhbS5zdGFydCl7dmFyIHI9bj9KOlk7aWYoXCIoXCI9PXQpcmV0dXJuIFMoTixJKFwiKVwiKSxpdChOdCxcIilcIiksaixEKFwiPT5cIikscixGKTtpZihcInZhcmlhYmxlXCI9PXQpcmV0dXJuIF8oTix4dCxEKFwiPT5cIikscixGKX12YXIgaT1uP0s6RztyZXR1cm4geC5oYXNPd25Qcm9wZXJ0eSh0KT9TKGkpOlwiZnVuY3Rpb25cIj09dD9TKE10LGkpOlwiY2xhc3NcIj09dHx8YyYmXCJpbnRlcmZhY2VcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhJKFwiZm9ybVwiKSxQdCxqKSk6XCJrZXl3b3JkIGNcIj09dHx8XCJhc3luY1wiPT10P1Mobj9IOkIpOlwiKFwiPT10P1MoSShcIilcIiksVixEKFwiKVwiKSxqLGkpOlwib3BlcmF0b3JcIj09dHx8XCJzcHJlYWRcIj09dD9TKG4/SDpCKTpcIltcIj09dD9TKEkoXCJdXCIpLEd0LGosaSk6XCJ7XCI9PXQ/b3QoZXQsXCJ9XCIsbnVsbCxpKTpcInF1YXNpXCI9PXQ/XygkLGkpOlwibmV3XCI9PXQ/UyhmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuXCIuXCI9PWU/Uyh0P1o6WCk6XCJ2YXJpYWJsZVwiPT1lJiZjP1MoZ3QsdD9LOkcpOl8odD9IOkIpfX0obikpOlwiaW1wb3J0XCI9PXQ/UyhCKTpTKCl9ZnVuY3Rpb24gVih0KXtyZXR1cm4gdC5tYXRjaCgvWztcXH1cXClcXF0sXS8pP18oKTpfKEIpfWZ1bmN0aW9uIEcodCxlKXtyZXR1cm5cIixcIj09dD9TKEIpOksodCxlLCExKX1mdW5jdGlvbiBLKHQsZSxuKXt2YXIgcj0wPT1uP0c6SyxpPTA9PW4/QjpIO3JldHVyblwiPT5cIj09dD9TKE4sbj9KOlksRik6XCJvcGVyYXRvclwiPT10Py9cXCtcXCt8LS0vLnRlc3QoZSl8fGMmJlwiIVwiPT1lP1Mocik6YyYmXCI8XCI9PWUmJmsuc3RyZWFtLm1hdGNoKC9eKFtePl18PC4qPz4pKj5cXHMqXFwoLywhMSk/UyhJKFwiPlwiKSxpdChmdCxcIj5cIiksaixyKTpcIj9cIj09ZT9TKEIsRChcIjpcIiksaSk6UyhpKTpcInF1YXNpXCI9PXQ/XygkLHIpOlwiO1wiIT10P1wiKFwiPT10P290KEgsXCIpXCIsXCJjYWxsXCIscik6XCIuXCI9PXQ/Uyh0dCxyKTpcIltcIj09dD9TKEkoXCJdXCIpLFYsRChcIl1cIiksaixyKTpjJiZcImFzXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoZnQscikpOlwicmVnZXhwXCI9PXQ/KGsuc3RhdGUubGFzdFR5cGU9ay5tYXJrZWQ9XCJvcGVyYXRvclwiLGsuc3RyZWFtLmJhY2tVcChrLnN0cmVhbS5wb3Mtay5zdHJlYW0uc3RhcnQtMSksUyhpKSk6dm9pZCAwOnZvaWQgMH1mdW5jdGlvbiAkKHQsZSl7cmV0dXJuXCJxdWFzaVwiIT10P18oKTpcIiR7XCIhPWUuc2xpY2UoZS5sZW5ndGgtMik/UygkKTpTKEIscSl9ZnVuY3Rpb24gcSh0KXtpZihcIn1cIj09dClyZXR1cm4gay5tYXJrZWQ9XCJzdHJpbmctMlwiLGsuc3RhdGUudG9rZW5pemU9dixTKCQpfWZ1bmN0aW9uIFkodCl7cmV0dXJuIGIoay5zdHJlYW0say5zdGF0ZSksXyhcIntcIj09dD96OkIpfWZ1bmN0aW9uIEoodCl7cmV0dXJuIGIoay5zdHJlYW0say5zdGF0ZSksXyhcIntcIj09dD96OkgpfWZ1bmN0aW9uIFgodCxlKXtpZihcInRhcmdldFwiPT1lKXJldHVybiBrLm1hcmtlZD1cImtleXdvcmRcIixTKEcpfWZ1bmN0aW9uIFoodCxlKXtpZihcInRhcmdldFwiPT1lKXJldHVybiBrLm1hcmtlZD1cImtleXdvcmRcIixTKEspfWZ1bmN0aW9uIFEodCl7cmV0dXJuXCI6XCI9PXQ/UyhqLHopOl8oRyxEKFwiO1wiKSxqKX1mdW5jdGlvbiB0dCh0KXtpZihcInZhcmlhYmxlXCI9PXQpcmV0dXJuIGsubWFya2VkPVwicHJvcGVydHlcIixTKCl9ZnVuY3Rpb24gZXQodCxlKXtyZXR1cm5cImFzeW5jXCI9PXQ/KGsubWFya2VkPVwicHJvcGVydHlcIixTKGV0KSk6XCJ2YXJpYWJsZVwiPT10fHxcImtleXdvcmRcIj09ay5zdHlsZT8oay5tYXJrZWQ9XCJwcm9wZXJ0eVwiLFwiZ2V0XCI9PWV8fFwic2V0XCI9PWU/UyhudCk6KGMmJmsuc3RhdGUuZmF0QXJyb3dBdD09ay5zdHJlYW0uc3RhcnQmJihuPWsuc3RyZWFtLm1hdGNoKC9eXFxzKjpcXHMqLywhMSkpJiYoay5zdGF0ZS5mYXRBcnJvd0F0PWsuc3RyZWFtLnBvcytuWzBdLmxlbmd0aCksUyhydCkpKTpcIm51bWJlclwiPT10fHxcInN0cmluZ1wiPT10PyhrLm1hcmtlZD1zP1wicHJvcGVydHlcIjprLnN0eWxlK1wiIHByb3BlcnR5XCIsUyhydCkpOlwianNvbmxkLWtleXdvcmRcIj09dD9TKHJ0KTpjJiZPKGUpPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKGV0KSk6XCJbXCI9PXQ/UyhCLHN0LEQoXCJdXCIpLHJ0KTpcInNwcmVhZFwiPT10P1MoSCxydCk6XCIqXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoZXQpKTpcIjpcIj09dD9fKHJ0KTp2b2lkIDA7dmFyIG59ZnVuY3Rpb24gbnQodCl7cmV0dXJuXCJ2YXJpYWJsZVwiIT10P18ocnQpOihrLm1hcmtlZD1cInByb3BlcnR5XCIsUyhNdCkpfWZ1bmN0aW9uIHJ0KHQpe3JldHVyblwiOlwiPT10P1MoSCk6XCIoXCI9PXQ/XyhNdCk6dm9pZCAwfWZ1bmN0aW9uIGl0KHQsZSxuKXtmdW5jdGlvbiByKGksbyl7aWYobj9uLmluZGV4T2YoaSk+LTE6XCIsXCI9PWkpe3ZhciBhPWsuc3RhdGUubGV4aWNhbDtyZXR1cm5cImNhbGxcIj09YS5pbmZvJiYoYS5wb3M9KGEucG9zfHwwKSsxKSxTKGZ1bmN0aW9uKG4scil7cmV0dXJuIG49PWV8fHI9PWU/XygpOl8odCl9LHIpfXJldHVybiBpPT1lfHxvPT1lP1MoKTpuJiZuLmluZGV4T2YoXCI7XCIpPi0xP18odCk6UyhEKGUpKX1yZXR1cm4gZnVuY3Rpb24obixpKXtyZXR1cm4gbj09ZXx8aT09ZT9TKCk6Xyh0LHIpfX1mdW5jdGlvbiBvdCh0LGUsbil7Zm9yKHZhciByPTM7cjxhcmd1bWVudHMubGVuZ3RoO3IrKylrLmNjLnB1c2goYXJndW1lbnRzW3JdKTtyZXR1cm4gUyhJKGUsbiksaXQodCxlKSxqKX1mdW5jdGlvbiBhdCh0KXtyZXR1cm5cIn1cIj09dD9TKCk6Xyh6LGF0KX1mdW5jdGlvbiBzdCh0LGUpe2lmKGMpe2lmKFwiOlwiPT10KXJldHVybiBTKGZ0KTtpZihcIj9cIj09ZSlyZXR1cm4gUyhzdCl9fWZ1bmN0aW9uIGx0KHQsZSl7aWYoYyYmKFwiOlwiPT10fHxcImluXCI9PWUpKXJldHVybiBTKGZ0KX1mdW5jdGlvbiBjdCh0KXtpZihjJiZcIjpcIj09dClyZXR1cm4gay5zdHJlYW0ubWF0Y2goL15cXHMqXFx3K1xccytpc1xcYi8sITEpP1MoQix1dCxmdCk6UyhmdCl9ZnVuY3Rpb24gdXQodCxlKXtpZihcImlzXCI9PWUpcmV0dXJuIGsubWFya2VkPVwia2V5d29yZFwiLFMoKX1mdW5jdGlvbiBmdCh0LGUpe3JldHVyblwia2V5b2ZcIj09ZXx8XCJ0eXBlb2ZcIj09ZXx8XCJpbmZlclwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKFwidHlwZW9mXCI9PWU/SDpmdCkpOlwidmFyaWFibGVcIj09dHx8XCJ2b2lkXCI9PWU/KGsubWFya2VkPVwidHlwZVwiLFMobXQpKTpcInxcIj09ZXx8XCImXCI9PWU/UyhmdCk6XCJzdHJpbmdcIj09dHx8XCJudW1iZXJcIj09dHx8XCJhdG9tXCI9PXQ/UyhtdCk6XCJbXCI9PXQ/UyhJKFwiXVwiKSxpdChmdCxcIl1cIixcIixcIiksaixtdCk6XCJ7XCI9PXQ/UyhJKFwifVwiKSxpdChodCxcIn1cIixcIiw7XCIpLGosbXQpOlwiKFwiPT10P1MoaXQocHQsXCIpXCIpLGR0LG10KTpcIjxcIj09dD9TKGl0KGZ0LFwiPlwiKSxmdCk6dm9pZCAwfWZ1bmN0aW9uIGR0KHQpe2lmKFwiPT5cIj09dClyZXR1cm4gUyhmdCl9ZnVuY3Rpb24gaHQodCxlKXtyZXR1cm5cInZhcmlhYmxlXCI9PXR8fFwia2V5d29yZFwiPT1rLnN0eWxlPyhrLm1hcmtlZD1cInByb3BlcnR5XCIsUyhodCkpOlwiP1wiPT1lfHxcIm51bWJlclwiPT10fHxcInN0cmluZ1wiPT10P1MoaHQpOlwiOlwiPT10P1MoZnQpOlwiW1wiPT10P1MoRChcInZhcmlhYmxlXCIpLGx0LEQoXCJdXCIpLGh0KTpcIihcIj09dD9fKEx0LGh0KTp2b2lkIDB9ZnVuY3Rpb24gcHQodCxlKXtyZXR1cm5cInZhcmlhYmxlXCI9PXQmJmsuc3RyZWFtLm1hdGNoKC9eXFxzKls/Ol0vLCExKXx8XCI/XCI9PWU/UyhwdCk6XCI6XCI9PXQ/UyhmdCk6XCJzcHJlYWRcIj09dD9TKHB0KTpfKGZ0KX1mdW5jdGlvbiBtdCh0LGUpe3JldHVyblwiPFwiPT1lP1MoSShcIj5cIiksaXQoZnQsXCI+XCIpLGosbXQpOlwifFwiPT1lfHxcIi5cIj09dHx8XCImXCI9PWU/UyhmdCk6XCJbXCI9PXQ/UyhmdCxEKFwiXVwiKSxtdCk6XCJleHRlbmRzXCI9PWV8fFwiaW1wbGVtZW50c1wiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKGZ0KSk6XCI/XCI9PWU/UyhmdCxEKFwiOlwiKSxmdCk6dm9pZCAwfWZ1bmN0aW9uIGd0KHQsZSl7aWYoXCI8XCI9PWUpcmV0dXJuIFMoSShcIj5cIiksaXQoZnQsXCI+XCIpLGosbXQpfWZ1bmN0aW9uIHZ0KCl7cmV0dXJuIF8oZnQseXQpfWZ1bmN0aW9uIHl0KHQsZSl7aWYoXCI9XCI9PWUpcmV0dXJuIFMoZnQpfWZ1bmN0aW9uIGJ0KHQsZSl7cmV0dXJuXCJlbnVtXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoS3QpKTpfKHh0LHN0LGt0LF90KX1mdW5jdGlvbiB4dCh0LGUpe3JldHVybiBjJiZPKGUpPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKHh0KSk6XCJ2YXJpYWJsZVwiPT10PyhUKGUpLFMoKSk6XCJzcHJlYWRcIj09dD9TKHh0KTpcIltcIj09dD9vdChDdCxcIl1cIik6XCJ7XCI9PXQ/b3Qod3QsXCJ9XCIpOnZvaWQgMH1mdW5jdGlvbiB3dCh0LGUpe3JldHVyblwidmFyaWFibGVcIiE9dHx8ay5zdHJlYW0ubWF0Y2goL15cXHMqOi8sITEpPyhcInZhcmlhYmxlXCI9PXQmJihrLm1hcmtlZD1cInByb3BlcnR5XCIpLFwic3ByZWFkXCI9PXQ/Uyh4dCk6XCJ9XCI9PXQ/XygpOlwiW1wiPT10P1MoQixEKFwiXVwiKSxEKFwiOlwiKSx3dCk6UyhEKFwiOlwiKSx4dCxrdCkpOihUKGUpLFMoa3QpKX1mdW5jdGlvbiBDdCgpe3JldHVybiBfKHh0LGt0KX1mdW5jdGlvbiBrdCh0LGUpe2lmKFwiPVwiPT1lKXJldHVybiBTKEgpfWZ1bmN0aW9uIF90KHQpe2lmKFwiLFwiPT10KXJldHVybiBTKGJ0KX1mdW5jdGlvbiBTdCh0LGUpe2lmKFwia2V5d29yZCBiXCI9PXQmJlwiZWxzZVwiPT1lKXJldHVybiBTKEkoXCJmb3JtXCIsXCJlbHNlXCIpLHosail9ZnVuY3Rpb24gRXQodCxlKXtyZXR1cm5cImF3YWl0XCI9PWU/UyhFdCk6XCIoXCI9PXQ/UyhJKFwiKVwiKSxUdCxqKTp2b2lkIDB9ZnVuY3Rpb24gVHQodCl7cmV0dXJuXCJ2YXJcIj09dD9TKGJ0LE90KTpcInZhcmlhYmxlXCI9PXQ/UyhPdCk6XyhPdCl9ZnVuY3Rpb24gT3QodCxlKXtyZXR1cm5cIilcIj09dD9TKCk6XCI7XCI9PXQ/UyhPdCk6XCJpblwiPT1lfHxcIm9mXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoQixPdCkpOl8oQixPdCl9ZnVuY3Rpb24gTXQodCxlKXtyZXR1cm5cIipcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhNdCkpOlwidmFyaWFibGVcIj09dD8oVChlKSxTKE10KSk6XCIoXCI9PXQ/UyhOLEkoXCIpXCIpLGl0KE50LFwiKVwiKSxqLGN0LHosRik6YyYmXCI8XCI9PWU/UyhJKFwiPlwiKSxpdCh2dCxcIj5cIiksaixNdCk6dm9pZCAwfWZ1bmN0aW9uIEx0KHQsZSl7cmV0dXJuXCIqXCI9PWU/KGsubWFya2VkPVwia2V5d29yZFwiLFMoTHQpKTpcInZhcmlhYmxlXCI9PXQ/KFQoZSksUyhMdCkpOlwiKFwiPT10P1MoTixJKFwiKVwiKSxpdChOdCxcIilcIiksaixjdCxGKTpjJiZcIjxcIj09ZT9TKEkoXCI+XCIpLGl0KHZ0LFwiPlwiKSxqLEx0KTp2b2lkIDB9ZnVuY3Rpb24gQXQodCxlKXtyZXR1cm5cImtleXdvcmRcIj09dHx8XCJ2YXJpYWJsZVwiPT10PyhrLm1hcmtlZD1cInR5cGVcIixTKEF0KSk6XCI8XCI9PWU/UyhJKFwiPlwiKSxpdCh2dCxcIj5cIiksaik6dm9pZCAwfWZ1bmN0aW9uIE50KHQsZSl7cmV0dXJuXCJAXCI9PWUmJlMoQixOdCksXCJzcHJlYWRcIj09dD9TKE50KTpjJiZPKGUpPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKE50KSk6YyYmXCJ0aGlzXCI9PXQ/UyhzdCxrdCk6Xyh4dCxzdCxrdCl9ZnVuY3Rpb24gUHQodCxlKXtyZXR1cm5cInZhcmlhYmxlXCI9PXQ/RnQodCxlKTpJdCh0LGUpfWZ1bmN0aW9uIEZ0KHQsZSl7aWYoXCJ2YXJpYWJsZVwiPT10KXJldHVybiBUKGUpLFMoSXQpfWZ1bmN0aW9uIEl0KHQsZSl7cmV0dXJuXCI8XCI9PWU/UyhJKFwiPlwiKSxpdCh2dCxcIj5cIiksaixJdCk6XCJleHRlbmRzXCI9PWV8fFwiaW1wbGVtZW50c1wiPT1lfHxjJiZcIixcIj09dD8oXCJpbXBsZW1lbnRzXCI9PWUmJihrLm1hcmtlZD1cImtleXdvcmRcIiksUyhjP2Z0OkIsSXQpKTpcIntcIj09dD9TKEkoXCJ9XCIpLGp0LGopOnZvaWQgMH1mdW5jdGlvbiBqdCh0LGUpe3JldHVyblwiYXN5bmNcIj09dHx8XCJ2YXJpYWJsZVwiPT10JiYoXCJzdGF0aWNcIj09ZXx8XCJnZXRcIj09ZXx8XCJzZXRcIj09ZXx8YyYmTyhlKSkmJmsuc3RyZWFtLm1hdGNoKC9eXFxzK1tcXHckXFx4YTEtXFx1ZmZmZl0vLCExKT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhqdCkpOlwidmFyaWFibGVcIj09dHx8XCJrZXl3b3JkXCI9PWsuc3R5bGU/KGsubWFya2VkPVwicHJvcGVydHlcIixTKGM/RHQ6TXQsanQpKTpcIm51bWJlclwiPT10fHxcInN0cmluZ1wiPT10P1MoYz9EdDpNdCxqdCk6XCJbXCI9PXQ/UyhCLHN0LEQoXCJdXCIpLGM/RHQ6TXQsanQpOlwiKlwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKGp0KSk6YyYmXCIoXCI9PXQ/XyhMdCxqdCk6XCI7XCI9PXR8fFwiLFwiPT10P1MoanQpOlwifVwiPT10P1MoKTpcIkBcIj09ZT9TKEIsanQpOnZvaWQgMH1mdW5jdGlvbiBEdCh0LGUpe2lmKFwiP1wiPT1lKXJldHVybiBTKER0KTtpZihcIjpcIj09dClyZXR1cm4gUyhmdCxrdCk7aWYoXCI9XCI9PWUpcmV0dXJuIFMoSCk7dmFyIG49ay5zdGF0ZS5sZXhpY2FsLnByZXYscj1uJiZcImludGVyZmFjZVwiPT1uLmluZm87cmV0dXJuIF8ocj9MdDpNdCl9ZnVuY3Rpb24genQodCxlKXtyZXR1cm5cIipcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhWdCxEKFwiO1wiKSkpOlwiZGVmYXVsdFwiPT1lPyhrLm1hcmtlZD1cImtleXdvcmRcIixTKEIsRChcIjtcIikpKTpcIntcIj09dD9TKGl0KFJ0LFwifVwiKSxWdCxEKFwiO1wiKSk6Xyh6KX1mdW5jdGlvbiBSdCh0LGUpe3JldHVyblwiYXNcIj09ZT8oay5tYXJrZWQ9XCJrZXl3b3JkXCIsUyhEKFwidmFyaWFibGVcIikpKTpcInZhcmlhYmxlXCI9PXQ/XyhILFJ0KTp2b2lkIDB9ZnVuY3Rpb24gQnQodCl7cmV0dXJuXCJzdHJpbmdcIj09dD9TKCk6XCIoXCI9PXQ/XyhCKTpfKEh0LFd0LFZ0KX1mdW5jdGlvbiBIdCh0LGUpe3JldHVyblwie1wiPT10P290KEh0LFwifVwiKTooXCJ2YXJpYWJsZVwiPT10JiZUKGUpLFwiKlwiPT1lJiYoay5tYXJrZWQ9XCJrZXl3b3JkXCIpLFMoVXQpKX1mdW5jdGlvbiBXdCh0KXtpZihcIixcIj09dClyZXR1cm4gUyhIdCxXdCl9ZnVuY3Rpb24gVXQodCxlKXtpZihcImFzXCI9PWUpcmV0dXJuIGsubWFya2VkPVwia2V5d29yZFwiLFMoSHQpfWZ1bmN0aW9uIFZ0KHQsZSl7aWYoXCJmcm9tXCI9PWUpcmV0dXJuIGsubWFya2VkPVwia2V5d29yZFwiLFMoQil9ZnVuY3Rpb24gR3QodCl7cmV0dXJuXCJdXCI9PXQ/UygpOl8oaXQoSCxcIl1cIikpfWZ1bmN0aW9uIEt0KCl7cmV0dXJuIF8oSShcImZvcm1cIikseHQsRChcIntcIiksSShcIn1cIiksaXQoJHQsXCJ9XCIpLGosail9ZnVuY3Rpb24gJHQoKXtyZXR1cm4gXyh4dCxrdCl9ZnVuY3Rpb24gcXQodCxlLG4pe3JldHVybiBlLnRva2VuaXplPT1tJiYvXig/Om9wZXJhdG9yfHNvZnxrZXl3b3JkIFtiY2RdfGNhc2V8bmV3fGV4cG9ydHxkZWZhdWx0fHNwcmVhZHxbXFxbe31cXCgsOzpdfD0+KSQvLnRlc3QoZS5sYXN0VHlwZSl8fFwicXVhc2lcIj09ZS5sYXN0VHlwZSYmL1xce1xccyokLy50ZXN0KHQuc3RyaW5nLnNsaWNlKDAsdC5wb3MtKG58fDApKSl9cmV0dXJuIEYubGV4PSEwLGoubGV4PSEwLHtzdGFydFN0YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXt0b2tlbml6ZTptLGxhc3RUeXBlOlwic29mXCIsY2M6W10sbGV4aWNhbDpuZXcgdygodHx8MCktbywwLFwiYmxvY2tcIiwhMSksbG9jYWxWYXJzOm4ubG9jYWxWYXJzLGNvbnRleHQ6bi5sb2NhbFZhcnMmJm5ldyBNKG51bGwsbnVsbCwhMSksaW5kZW50ZWQ6dHx8MH07cmV0dXJuIG4uZ2xvYmFsVmFycyYmXCJvYmplY3RcIj09dHlwZW9mIG4uZ2xvYmFsVmFycyYmKGUuZ2xvYmFsVmFycz1uLmdsb2JhbFZhcnMpLGV9LHRva2VuOmZ1bmN0aW9uKHQsZSl7aWYodC5zb2woKSYmKGUubGV4aWNhbC5oYXNPd25Qcm9wZXJ0eShcImFsaWduXCIpfHwoZS5sZXhpY2FsLmFsaWduPSExKSxlLmluZGVudGVkPXQuaW5kZW50YXRpb24oKSxiKHQsZSkpLGUudG9rZW5pemUhPWcmJnQuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDt2YXIgbj1lLnRva2VuaXplKHQsZSk7cmV0dXJuXCJjb21tZW50XCI9PXI/bjooZS5sYXN0VHlwZT1cIm9wZXJhdG9yXCIhPXJ8fFwiKytcIiE9aSYmXCItLVwiIT1pP3I6XCJpbmNkZWNcIixmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXQuY2M7Zm9yKGsuc3RhdGU9dCxrLnN0cmVhbT1pLGsubWFya2VkPW51bGwsay5jYz1vLGsuc3R5bGU9ZSx0LmxleGljYWwuaGFzT3duUHJvcGVydHkoXCJhbGlnblwiKXx8KHQubGV4aWNhbC5hbGlnbj0hMCk7Oyl7dmFyIGE9by5sZW5ndGg/by5wb3AoKTpsP0I6ejtpZihhKG4scikpe2Zvcig7by5sZW5ndGgmJm9bby5sZW5ndGgtMV0ubGV4OylvLnBvcCgpKCk7cmV0dXJuIGsubWFya2VkP2subWFya2VkOlwidmFyaWFibGVcIj09biYmQyh0LHIpP1widmFyaWFibGUtMlwiOmV9fX0oZSxuLHIsaSx0KSl9LGluZGVudDpmdW5jdGlvbihlLHIpe2lmKGUudG9rZW5pemU9PWcpcmV0dXJuIHQuUGFzcztpZihlLnRva2VuaXplIT1tKXJldHVybiAwO3ZhciBpLHM9ciYmci5jaGFyQXQoMCksbD1lLmxleGljYWw7aWYoIS9eXFxzKmVsc2VcXGIvLnRlc3QocikpZm9yKHZhciBjPWUuY2MubGVuZ3RoLTE7Yz49MDstLWMpe3ZhciB1PWUuY2NbY107aWYodT09ailsPWwucHJldjtlbHNlIGlmKHUhPVN0KWJyZWFrfWZvcig7KFwic3RhdFwiPT1sLnR5cGV8fFwiZm9ybVwiPT1sLnR5cGUpJiYoXCJ9XCI9PXN8fChpPWUuY2NbZS5jYy5sZW5ndGgtMV0pJiYoaT09R3x8aT09SykmJiEvXlssXFwuPStcXC0qOj9bXFwoXS8udGVzdChyKSk7KWw9bC5wcmV2O2EmJlwiKVwiPT1sLnR5cGUmJlwic3RhdFwiPT1sLnByZXYudHlwZSYmKGw9bC5wcmV2KTt2YXIgZj1sLnR5cGUsaD1zPT1mO3JldHVyblwidmFyZGVmXCI9PWY/bC5pbmRlbnRlZCsoXCJvcGVyYXRvclwiPT1lLmxhc3RUeXBlfHxcIixcIj09ZS5sYXN0VHlwZT9sLmluZm8ubGVuZ3RoKzE6MCk6XCJmb3JtXCI9PWYmJlwie1wiPT1zP2wuaW5kZW50ZWQ6XCJmb3JtXCI9PWY/bC5pbmRlbnRlZCtvOlwic3RhdFwiPT1mP2wuaW5kZW50ZWQrKGZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJvcGVyYXRvclwiPT10Lmxhc3RUeXBlfHxcIixcIj09dC5sYXN0VHlwZXx8ZC50ZXN0KGUuY2hhckF0KDApKXx8L1ssLl0vLnRlc3QoZS5jaGFyQXQoMCkpfShlLHIpP2F8fG86MCk6XCJzd2l0Y2hcIiE9bC5pbmZvfHxofHwwPT1uLmRvdWJsZUluZGVudFN3aXRjaD9sLmFsaWduP2wuY29sdW1uKyhoPzA6MSk6bC5pbmRlbnRlZCsoaD8wOm8pOmwuaW5kZW50ZWQrKC9eKD86Y2FzZXxkZWZhdWx0KVxcYi8udGVzdChyKT9vOjIqbyl9LGVsZWN0cmljSW5wdXQ6L15cXHMqKD86Y2FzZSAuKj86fGRlZmF1bHQ6fFxce3xcXH0pJC8sYmxvY2tDb21tZW50U3RhcnQ6bD9udWxsOlwiLypcIixibG9ja0NvbW1lbnRFbmQ6bD9udWxsOlwiKi9cIixibG9ja0NvbW1lbnRDb250aW51ZTpsP251bGw6XCIgKiBcIixsaW5lQ29tbWVudDpsP251bGw6XCIvL1wiLGZvbGQ6XCJicmFjZVwiLGNsb3NlQnJhY2tldHM6XCIoKVtde30nJ1xcXCJcXFwiYGBcIixoZWxwZXJUeXBlOmw/XCJqc29uXCI6XCJqYXZhc2NyaXB0XCIsanNvbmxkTW9kZTpzLGpzb25Nb2RlOmwsZXhwcmVzc2lvbkFsbG93ZWQ6cXQsc2tpcEV4cHJlc3Npb246ZnVuY3Rpb24odCl7dmFyIGU9dC5jY1t0LmNjLmxlbmd0aC0xXTtlIT1CJiZlIT1IfHx0LmNjLnBvcCgpfX19KSx0LnJlZ2lzdGVySGVscGVyKFwid29yZENoYXJzXCIsXCJqYXZhc2NyaXB0XCIsL1tcXHckXS8pLHQuZGVmaW5lTUlNRShcInRleHQvamF2YXNjcmlwdFwiLFwiamF2YXNjcmlwdFwiKSx0LmRlZmluZU1JTUUoXCJ0ZXh0L2VjbWFzY3JpcHRcIixcImphdmFzY3JpcHRcIiksdC5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiLFwiamF2YXNjcmlwdFwiKSx0LmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcIixcImphdmFzY3JpcHRcIiksdC5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdFwiLFwiamF2YXNjcmlwdFwiKSx0LmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi9qc29uXCIse25hbWU6XCJqYXZhc2NyaXB0XCIsanNvbjohMH0pLHQuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL3gtanNvblwiLHtuYW1lOlwiamF2YXNjcmlwdFwiLGpzb246ITB9KSx0LmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIse25hbWU6XCJqYXZhc2NyaXB0XCIsanNvbmxkOiEwfSksdC5kZWZpbmVNSU1FKFwidGV4dC90eXBlc2NyaXB0XCIse25hbWU6XCJqYXZhc2NyaXB0XCIsdHlwZXNjcmlwdDohMH0pLHQuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL3R5cGVzY3JpcHRcIix7bmFtZTpcImphdmFzY3JpcHRcIix0eXBlc2NyaXB0OiEwfSl9KG4oMCkpfSxmdW5jdGlvbih0LGUsbil7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3QuZGVmaW5lTW9kZShcInNoZWxsXCIsZnVuY3Rpb24oKXt2YXIgZT17fTtmdW5jdGlvbiBuKHQsbil7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspZVtuW3JdXT10fXZhciByPVtcInRydWVcIixcImZhbHNlXCJdLGk9W1wiaWZcIixcInRoZW5cIixcImRvXCIsXCJlbHNlXCIsXCJlbGlmXCIsXCJ3aGlsZVwiLFwidW50aWxcIixcImZvclwiLFwiaW5cIixcImVzYWNcIixcImZpXCIsXCJmaW5cIixcImZpbFwiLFwiZG9uZVwiLFwiZXhpdFwiLFwic2V0XCIsXCJ1bnNldFwiLFwiZXhwb3J0XCIsXCJmdW5jdGlvblwiXSxvPVtcImFiXCIsXCJhd2tcIixcImJhc2hcIixcImJlZXBcIixcImNhdFwiLFwiY2NcIixcImNkXCIsXCJjaG93blwiLFwiY2htb2RcIixcImNocm9vdFwiLFwiY2xlYXJcIixcImNwXCIsXCJjdXJsXCIsXCJjdXRcIixcImRpZmZcIixcImVjaG9cIixcImZpbmRcIixcImdhd2tcIixcImdjY1wiLFwiZ2V0XCIsXCJnaXRcIixcImdyZXBcIixcImhnXCIsXCJraWxsXCIsXCJraWxsYWxsXCIsXCJsblwiLFwibHNcIixcIm1ha2VcIixcIm1rZGlyXCIsXCJvcGVuc3NsXCIsXCJtdlwiLFwibmNcIixcIm5sXCIsXCJub2RlXCIsXCJucG1cIixcInBpbmdcIixcInBzXCIsXCJyZXN0YXJ0XCIsXCJybVwiLFwicm1kaXJcIixcInNlZFwiLFwic2VydmljZVwiLFwic2hcIixcInNob3B0XCIsXCJzaHJlZFwiLFwic291cmNlXCIsXCJzb3J0XCIsXCJzbGVlcFwiLFwic3NoXCIsXCJzdGFydFwiLFwic3RvcFwiLFwic3VcIixcInN1ZG9cIixcInN2blwiLFwidGVlXCIsXCJ0ZWxuZXRcIixcInRvcFwiLFwidG91Y2hcIixcInZpXCIsXCJ2aW1cIixcIndhbGxcIixcIndjXCIsXCJ3Z2V0XCIsXCJ3aG9cIixcIndyaXRlXCIsXCJ5ZXNcIixcInpzaFwiXTtmdW5jdGlvbiBhKHQsZSl7dmFyIG49XCIoXCI9PXQ/XCIpXCI6XCJ7XCI9PXQ/XCJ9XCI6dDtyZXR1cm4gZnVuY3Rpb24ocixpKXtmb3IodmFyIG8sdT0hMTtudWxsIT0obz1yLm5leHQoKSk7KXtpZihvPT09biYmIXUpe2kudG9rZW5zLnNoaWZ0KCk7YnJlYWt9aWYoXCIkXCI9PT1vJiYhdSYmXCInXCIhPT10JiZyLnBlZWsoKSE9bil7dT0hMCxyLmJhY2tVcCgxKSxpLnRva2Vucy51bnNoaWZ0KGwpO2JyZWFrfWlmKCF1JiZ0IT09biYmbz09PXQpcmV0dXJuIGkudG9rZW5zLnVuc2hpZnQoYSh0LGUpKSxjKHIsaSk7aWYoIXUmJi9bJ1wiXS8udGVzdChvKSYmIS9bJ1wiXS8udGVzdCh0KSl7aS50b2tlbnMudW5zaGlmdChzKG8sXCJzdHJpbmdcIikpLHIuYmFja1VwKDEpO2JyZWFrfXU9IXUmJlwiXFxcXFwiPT09b31yZXR1cm4gZX19ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiByLnRva2Vuc1swXT1hKHQsZSksbi5uZXh0KCksYyhuLHIpfX10LnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsXCJzaGVsbFwiLHIuY29uY2F0KGksbykpLG4oXCJhdG9tXCIsciksbihcImtleXdvcmRcIixpKSxuKFwiYnVpbHRpblwiLG8pO3ZhciBsPWZ1bmN0aW9uKHQsZSl7ZS50b2tlbnMubGVuZ3RoPjEmJnQuZWF0KFwiJFwiKTt2YXIgbj10Lm5leHQoKTtyZXR1cm4vWydcIih7XS8udGVzdChuKT8oZS50b2tlbnNbMF09YShuLFwiKFwiPT1uP1wicXVvdGVcIjpcIntcIj09bj9cImRlZlwiOlwic3RyaW5nXCIpLGModCxlKSk6KC9cXGQvLnRlc3Qobil8fHQuZWF0V2hpbGUoL1xcdy8pLGUudG9rZW5zLnNoaWZ0KCksXCJkZWZcIil9O2Z1bmN0aW9uIGModCxuKXtyZXR1cm4obi50b2tlbnNbMF18fGZ1bmN0aW9uKHQsbil7aWYodC5lYXRTcGFjZSgpKXJldHVybiBudWxsO3ZhciByPXQuc29sKCksaT10Lm5leHQoKTtpZihcIlxcXFxcIj09PWkpcmV0dXJuIHQubmV4dCgpLG51bGw7aWYoXCInXCI9PT1pfHwnXCInPT09aXx8XCJgXCI9PT1pKXJldHVybiBuLnRva2Vucy51bnNoaWZ0KGEoaSxcImBcIj09PWk/XCJxdW90ZVwiOlwic3RyaW5nXCIpKSxjKHQsbik7aWYoXCIjXCI9PT1pKXJldHVybiByJiZ0LmVhdChcIiFcIik/KHQuc2tpcFRvRW5kKCksXCJtZXRhXCIpOih0LnNraXBUb0VuZCgpLFwiY29tbWVudFwiKTtpZihcIiRcIj09PWkpcmV0dXJuIG4udG9rZW5zLnVuc2hpZnQobCksYyh0LG4pO2lmKFwiK1wiPT09aXx8XCI9XCI9PT1pKXJldHVyblwib3BlcmF0b3JcIjtpZihcIi1cIj09PWkpcmV0dXJuIHQuZWF0KFwiLVwiKSx0LmVhdFdoaWxlKC9cXHcvKSxcImF0dHJpYnV0ZVwiO2lmKC9cXGQvLnRlc3QoaSkmJih0LmVhdFdoaWxlKC9cXGQvKSx0LmVvbCgpfHwhL1xcdy8udGVzdCh0LnBlZWsoKSkpKXJldHVyblwibnVtYmVyXCI7dC5lYXRXaGlsZSgvW1xcdy1dLyk7dmFyIG89dC5jdXJyZW50KCk7cmV0dXJuXCI9XCI9PT10LnBlZWsoKSYmL1xcdysvLnRlc3Qobyk/XCJkZWZcIjplLmhhc093blByb3BlcnR5KG8pP2Vbb106bnVsbH0pKHQsbil9cmV0dXJue3N0YXJ0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm57dG9rZW5zOltdfX0sdG9rZW46ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0LGUpfSxjbG9zZUJyYWNrZXRzOlwiKClbXXt9JydcXFwiXFxcImBgXCIsbGluZUNvbW1lbnQ6XCIjXCIsZm9sZDpcImJyYWNlXCJ9fSksdC5kZWZpbmVNSU1FKFwidGV4dC94LXNoXCIsXCJzaGVsbFwiKSx0LmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LXNoXCIsXCJzaGVsbFwiKX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXshZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZSh0KXtmb3IodmFyIGU9e30sbj0wO248dC5sZW5ndGg7bisrKWVbdFtuXV09ITA7cmV0dXJuIGV9dmFyIG49ZShbXCJfXCIsXCJ2YXJcIixcImxldFwiLFwiY2xhc3NcIixcImVudW1cIixcImV4dGVuc2lvblwiLFwiaW1wb3J0XCIsXCJwcm90b2NvbFwiLFwic3RydWN0XCIsXCJmdW5jXCIsXCJ0eXBlYWxpYXNcIixcImFzc29jaWF0ZWR0eXBlXCIsXCJvcGVuXCIsXCJwdWJsaWNcIixcImludGVybmFsXCIsXCJmaWxlcHJpdmF0ZVwiLFwicHJpdmF0ZVwiLFwiZGVpbml0XCIsXCJpbml0XCIsXCJuZXdcIixcIm92ZXJyaWRlXCIsXCJzZWxmXCIsXCJzdWJzY3JpcHRcIixcInN1cGVyXCIsXCJjb252ZW5pZW5jZVwiLFwiZHluYW1pY1wiLFwiZmluYWxcIixcImluZGlyZWN0XCIsXCJsYXp5XCIsXCJyZXF1aXJlZFwiLFwic3RhdGljXCIsXCJ1bm93bmVkXCIsXCJ1bm93bmVkKHNhZmUpXCIsXCJ1bm93bmVkKHVuc2FmZSlcIixcIndlYWtcIixcImFzXCIsXCJpc1wiLFwiYnJlYWtcIixcImNhc2VcIixcImNvbnRpbnVlXCIsXCJkZWZhdWx0XCIsXCJlbHNlXCIsXCJmYWxsdGhyb3VnaFwiLFwiZm9yXCIsXCJndWFyZFwiLFwiaWZcIixcImluXCIsXCJyZXBlYXRcIixcInN3aXRjaFwiLFwid2hlcmVcIixcIndoaWxlXCIsXCJkZWZlclwiLFwicmV0dXJuXCIsXCJpbm91dFwiLFwibXV0YXRpbmdcIixcIm5vbm11dGF0aW5nXCIsXCJjYXRjaFwiLFwiZG9cIixcInJldGhyb3dzXCIsXCJ0aHJvd1wiLFwidGhyb3dzXCIsXCJ0cnlcIixcImRpZFNldFwiLFwiZ2V0XCIsXCJzZXRcIixcIndpbGxTZXRcIixcImFzc2lnbm1lbnRcIixcImFzc29jaWF0aXZpdHlcIixcImluZml4XCIsXCJsZWZ0XCIsXCJub25lXCIsXCJvcGVyYXRvclwiLFwicG9zdGZpeFwiLFwicHJlY2VkZW5jZVwiLFwicHJlY2VkZW5jZWdyb3VwXCIsXCJwcmVmaXhcIixcInJpZ2h0XCIsXCJBbnlcIixcIkFueU9iamVjdFwiLFwiVHlwZVwiLFwiZHluYW1pY1R5cGVcIixcIlNlbGZcIixcIlByb3RvY29sXCIsXCJfX0NPTFVNTl9fXCIsXCJfX0ZJTEVfX1wiLFwiX19GVU5DVElPTl9fXCIsXCJfX0xJTkVfX1wiXSkscj1lKFtcInZhclwiLFwibGV0XCIsXCJjbGFzc1wiLFwiZW51bVwiLFwiZXh0ZW5zaW9uXCIsXCJpbXBvcnRcIixcInByb3RvY29sXCIsXCJzdHJ1Y3RcIixcImZ1bmNcIixcInR5cGVhbGlhc1wiLFwiYXNzb2NpYXRlZHR5cGVcIixcImZvclwiXSksaT1lKFtcInRydWVcIixcImZhbHNlXCIsXCJuaWxcIixcInNlbGZcIixcInN1cGVyXCIsXCJfXCJdKSxvPWUoW1wiQXJyYXlcIixcIkJvb2xcIixcIkNoYXJhY3RlclwiLFwiRGljdGlvbmFyeVwiLFwiRG91YmxlXCIsXCJGbG9hdFwiLFwiSW50XCIsXCJJbnQ4XCIsXCJJbnQxNlwiLFwiSW50MzJcIixcIkludDY0XCIsXCJOZXZlclwiLFwiT3B0aW9uYWxcIixcIlNldFwiLFwiU3RyaW5nXCIsXCJVSW50OFwiLFwiVUludDE2XCIsXCJVSW50MzJcIixcIlVJbnQ2NFwiLFwiVm9pZFwiXSksYT1cIistLyolPXwmPD5+Xj8hXCIscz1cIjo7LC4oKXt9W11cIixsPS9eXFwtPzBiWzAxXVswMV9dKi8sYz0vXlxcLT8wb1swLTddWzAtN19dKi8sdT0vXlxcLT8weFtcXGRBLUZhLWZdW1xcZEEtRmEtZl9dKig/Oig/OlxcLltcXGRBLUZhLWZdW1xcZEEtRmEtZl9dKik/W1BwXVxcLT9cXGRbXFxkX10qKT8vLGY9L15cXC0/XFxkW1xcZF9dKig/OlxcLlxcZFtcXGRfXSopPyg/OltFZV1cXC0/XFxkW1xcZF9dKik/LyxkPS9eXFwkXFxkK3woYD8pW19BLVphLXpdW19BLVphLXokMC05XSpcXDEvLGg9L15cXC4oPzpcXCRcXGQrfChgPylbX0EtWmEtel1bX0EtWmEteiQwLTldKlxcMSkvLHA9L15cXCNbQS1aYS16XSsvLG09L15AKD86XFwkXFxkK3woYD8pW19BLVphLXpdW19BLVphLXokMC05XSpcXDEpLztmdW5jdGlvbiBnKHQsZSxnKXtpZih0LnNvbCgpJiYoZS5pbmRlbnRlZD10LmluZGVudGF0aW9uKCkpLHQuZWF0U3BhY2UoKSlyZXR1cm4gbnVsbDt2YXIgYix4PXQucGVlaygpO2lmKFwiL1wiPT14KXtpZih0Lm1hdGNoKFwiLy9cIikpcmV0dXJuIHQuc2tpcFRvRW5kKCksXCJjb21tZW50XCI7aWYodC5tYXRjaChcIi8qXCIpKXJldHVybiBlLnRva2VuaXplLnB1c2goeSkseSh0LGUpfWlmKHQubWF0Y2gocCkpcmV0dXJuXCJidWlsdGluXCI7aWYodC5tYXRjaChtKSlyZXR1cm5cImF0dHJpYnV0ZVwiO2lmKHQubWF0Y2gobCkpcmV0dXJuXCJudW1iZXJcIjtpZih0Lm1hdGNoKGMpKXJldHVyblwibnVtYmVyXCI7aWYodC5tYXRjaCh1KSlyZXR1cm5cIm51bWJlclwiO2lmKHQubWF0Y2goZikpcmV0dXJuXCJudW1iZXJcIjtpZih0Lm1hdGNoKGgpKXJldHVyblwicHJvcGVydHlcIjtpZihhLmluZGV4T2YoeCk+LTEpcmV0dXJuIHQubmV4dCgpLFwib3BlcmF0b3JcIjtpZihzLmluZGV4T2YoeCk+LTEpcmV0dXJuIHQubmV4dCgpLHQubWF0Y2goXCIuLlwiKSxcInB1bmN0dWF0aW9uXCI7aWYoYj10Lm1hdGNoKC8oXCJcIlwifFwifCcpLykpe3ZhciB3PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsaT0xPT10Lmxlbmd0aCxvPSExO3I9ZS5wZWVrKCk7KWlmKG8pe2lmKGUubmV4dCgpLFwiKFwiPT1yKXJldHVybiBuLnRva2VuaXplLnB1c2godigpKSxcInN0cmluZ1wiO289ITF9ZWxzZXtpZihlLm1hdGNoKHQpKXJldHVybiBuLnRva2VuaXplLnBvcCgpLFwic3RyaW5nXCI7ZS5uZXh0KCksbz1cIlxcXFxcIj09cn1yZXR1cm4gaSYmbi50b2tlbml6ZS5wb3AoKSxcInN0cmluZ1wifS5iaW5kKG51bGwsYlswXSk7cmV0dXJuIGUudG9rZW5pemUucHVzaCh3KSx3KHQsZSl9aWYodC5tYXRjaChkKSl7dmFyIEM9dC5jdXJyZW50KCk7cmV0dXJuIG8uaGFzT3duUHJvcGVydHkoQyk/XCJ2YXJpYWJsZS0yXCI6aS5oYXNPd25Qcm9wZXJ0eShDKT9cImF0b21cIjpuLmhhc093blByb3BlcnR5KEMpPyhyLmhhc093blByb3BlcnR5KEMpJiYoZS5wcmV2PVwiZGVmaW5lXCIpLFwia2V5d29yZFwiKTpcImRlZmluZVwiPT1nP1wiZGVmXCI6XCJ2YXJpYWJsZVwifXJldHVybiB0Lm5leHQoKSxudWxsfWZ1bmN0aW9uIHYoKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbihlLG4scil7dmFyIGk9ZyhlLG4scik7aWYoXCJwdW5jdHVhdGlvblwiPT1pKWlmKFwiKFwiPT1lLmN1cnJlbnQoKSkrK3Q7ZWxzZSBpZihcIilcIj09ZS5jdXJyZW50KCkpe2lmKDA9PXQpcmV0dXJuIGUuYmFja1VwKDEpLG4udG9rZW5pemUucG9wKCksbi50b2tlbml6ZVtuLnRva2VuaXplLmxlbmd0aC0xXShlLG4pOy0tdH1yZXR1cm4gaX19ZnVuY3Rpb24geSh0LGUpe2Zvcih2YXIgbjt0Lm1hdGNoKC9eW15cXC8qXSsvLCEwKSxuPXQubmV4dCgpOylcIi9cIj09PW4mJnQuZWF0KFwiKlwiKT9lLnRva2VuaXplLnB1c2goeSk6XCIqXCI9PT1uJiZ0LmVhdChcIi9cIikmJmUudG9rZW5pemUucG9wKCk7cmV0dXJuXCJjb21tZW50XCJ9ZnVuY3Rpb24gYih0LGUsbil7dGhpcy5wcmV2PXQsdGhpcy5hbGlnbj1lLHRoaXMuaW5kZW50ZWQ9bn10LmRlZmluZU1vZGUoXCJzd2lmdFwiLGZ1bmN0aW9uKHQpe3JldHVybntzdGFydFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZXY6bnVsbCxjb250ZXh0Om51bGwsaW5kZW50ZWQ6MCx0b2tlbml6ZTpbXX19LHRva2VuOmZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wcmV2O2UucHJldj1udWxsO3ZhciByPWUudG9rZW5pemVbZS50b2tlbml6ZS5sZW5ndGgtMV18fGcsaT1yKHQsZSxuKTtpZihpJiZcImNvbW1lbnRcIiE9aT9lLnByZXZ8fChlLnByZXY9aSk6ZS5wcmV2PW4sXCJwdW5jdHVhdGlvblwiPT1pKXt2YXIgbz0vW1xcKFxcW1xce118KFtcXF1cXClcXH1dKS8uZXhlYyh0LmN1cnJlbnQoKSk7byYmKG9bMV0/ZnVuY3Rpb24odCl7dC5jb250ZXh0JiYodC5pbmRlbnRlZD10LmNvbnRleHQuaW5kZW50ZWQsdC5jb250ZXh0PXQuY29udGV4dC5wcmV2KX06ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm1hdGNoKC9eXFxzKigkfFxcL1tcXC9cXCpdKS8sITEpP251bGw6ZS5jb2x1bW4oKSsxO3QuY29udGV4dD1uZXcgYih0LmNvbnRleHQsbix0LmluZGVudGVkKX0pKGUsdCl9cmV0dXJuIGl9LGluZGVudDpmdW5jdGlvbihlLG4pe3ZhciByPWUuY29udGV4dDtpZighcilyZXR1cm4gMDt2YXIgaT0vXltcXF1cXH1cXCldLy50ZXN0KG4pO3JldHVybiBudWxsIT1yLmFsaWduP3IuYWxpZ24tKGk/MTowKTpyLmluZGVudGVkKyhpPzA6dC5pbmRlbnRVbml0KX0sZWxlY3RyaWNJbnB1dDovXlxccypbXFwpXFx9XFxdXSQvLGxpbmVDb21tZW50OlwiLy9cIixibG9ja0NvbW1lbnRTdGFydDpcIi8qXCIsYmxvY2tDb21tZW50RW5kOlwiKi9cIixmb2xkOlwiYnJhY2VcIixjbG9zZUJyYWNrZXRzOlwiKClbXXt9JydcXFwiXFxcImBgXCJ9fSksdC5kZWZpbmVNSU1FKFwidGV4dC94LXN3aWZ0XCIsXCJzd2lmdFwiKX0obigwKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDI1NCksaT1uKDEzOCksbz1uKDEzKSxhPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLHM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxsPU1hdGguYWJzLGM9TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGUsbix1LGY7aWYoIXIodCkpcmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2ZvcihuPWkobyh0aGlzKS5sZW5ndGgpLHU9YXJndW1lbnRzWzFdLGU9dT1pc05hTih1KT8wOnU+PTA/Yyh1KTppKHRoaXMubGVuZ3RoKS1jKGwodSkpO2U8bjsrK2UpaWYocy5jYWxsKHRoaXMsZSkmJihmPXRoaXNbZV0scihmKSkpcmV0dXJuIGU7cmV0dXJuLTF9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPW4oMjU1KSgpP051bWJlci5pc05hTjpuKDI1Nil9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgdD1OdW1iZXIuaXNOYU47cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKCF0KHt9KSYmdChOYU4pJiYhdCgzNCkpfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdCE9dH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDI1OCksaT1NYXRoLmFicyxvPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiBpc05hTih0KT8wOjAhPT0odD1OdW1iZXIodCkpJiZpc0Zpbml0ZSh0KT9yKHQpKm8oaSh0KSk6dH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9bigyNTkpKCk/TWF0aC5zaWduOm4oMjYwKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0PU1hdGguc2lnbjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYoMT09PXQoMTApJiYtMT09PXQoLTIwKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0PU51bWJlcih0KSxpc05hTih0KXx8MD09PXQ/dDp0PjA/MTotMX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDMzKSxpPXtmdW5jdGlvbjohMCxvYmplY3Q6ITB9O3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KSYmaVt0eXBlb2YgdF18fCExfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGksbyxhLHM9T2JqZWN0LmNyZWF0ZTtuKDEzOSkoKXx8KHI9bigxNDApKSx0LmV4cG9ydHM9cj8xIT09ci5sZXZlbD9zOihpPXt9LG89e30sYT17Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe29bdF09XCJfX3Byb3RvX19cIiE9PXQ/YTp7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGksbyksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJudWxsUG9seWZpbGxcIix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITEsdmFsdWU6aX0pLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHMobnVsbD09PXQ/aTp0LGUpfSk6c30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGU9T2JqZWN0LmFzc2lnbjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZSh0PXtmb286XCJyYXpcIn0se2JhcjpcImR3YVwifSx7dHJ6eTpcInRyenlcIn0pLHQuZm9vK3QuYmFyK3QudHJ6eT09PVwicmF6ZHdhdHJ6eVwiKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDI2NSksaT1uKDEzKSxvPU1hdGgubWF4O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuLGEscyxsPW8oYXJndW1lbnRzLmxlbmd0aCwyKTtmb3IodD1PYmplY3QoaSh0KSkscz1mdW5jdGlvbihyKXt0cnl7dFtyXT1lW3JdfWNhdGNoKHQpe258fChuPXQpfX0sYT0xO2E8bDsrK2EpZT1hcmd1bWVudHNbYV0scihlKS5mb3JFYWNoKHMpO2lmKHZvaWQgMCE9PW4pdGhyb3cgbjtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9bigyNjYpKCk/T2JqZWN0LmtleXM6bigyNjcpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3Qua2V5cyhcInByaW1pdGl2ZVwiKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigzMyksaT1PYmplY3Qua2V5czt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkocih0KT9PYmplY3QodCk6dCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9XCJyYXpkd2F0cnp5XCI7dC5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygci5jb250YWlucyYmKCEwPT09ci5jb250YWlucyhcImR3YVwiKSYmITE9PT1yLmNvbnRhaW5zKFwiZm9vXCIpKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1TdHJpbmcucHJvdG90eXBlLmluZGV4T2Y7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVybiByLmNhbGwodGhpcyx0LGFyZ3VtZW50c1sxXSk+LTF9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvLGEscyxsLGMsdT1uKDI1KSxmPW4oMTQpLGQ9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGg9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwscD1PYmplY3QuY3JlYXRlLG09T2JqZWN0LmRlZmluZVByb3BlcnR5LGc9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMsdj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHk9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwfTtpPWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtyZXR1cm4gZihlKSxpPXRoaXMsci5jYWxsKHRoaXMsdCxuPWZ1bmN0aW9uKCl7by5jYWxsKGksdCxuKSxkLmNhbGwoZSx0aGlzLGFyZ3VtZW50cyl9KSxuLl9fZWVPbmNlTGlzdGVuZXJfXz1lLHRoaXN9LHM9e29uOnI9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gZihlKSx2LmNhbGwodGhpcyxcIl9fZWVfX1wiKT9uPXRoaXMuX19lZV9fOihuPXkudmFsdWU9cChudWxsKSxtKHRoaXMsXCJfX2VlX19cIix5KSx5LnZhbHVlPW51bGwpLG5bdF0/XCJvYmplY3RcIj09dHlwZW9mIG5bdF0/blt0XS5wdXNoKGUpOm5bdF09W25bdF0sZV06blt0XT1lLHRoaXN9LG9uY2U6aSxvZmY6bz1mdW5jdGlvbih0LGUpe3ZhciBuLHIsaSxvO2lmKGYoZSksIXYuY2FsbCh0aGlzLFwiX19lZV9fXCIpKXJldHVybiB0aGlzO2lmKCEobj10aGlzLl9fZWVfXylbdF0pcmV0dXJuIHRoaXM7aWYoXCJvYmplY3RcIj09dHlwZW9mKHI9blt0XSkpZm9yKG89MDtpPXJbb107KytvKWkhPT1lJiZpLl9fZWVPbmNlTGlzdGVuZXJfXyE9PWV8fCgyPT09ci5sZW5ndGg/blt0XT1yW28/MDoxXTpyLnNwbGljZShvLDEpKTtlbHNlIHIhPT1lJiZyLl9fZWVPbmNlTGlzdGVuZXJfXyE9PWV8fGRlbGV0ZSBuW3RdO3JldHVybiB0aGlzfSxlbWl0OmE9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbztpZih2LmNhbGwodGhpcyxcIl9fZWVfX1wiKSYmKGk9dGhpcy5fX2VlX19bdF0pKWlmKFwib2JqZWN0XCI9PXR5cGVvZiBpKXtmb3Iobj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KG4tMSksZT0xO2U8bjsrK2Upb1tlLTFdPWFyZ3VtZW50c1tlXTtmb3IoaT1pLnNsaWNlKCksZT0wO3I9aVtlXTsrK2UpZC5jYWxsKHIsdGhpcyxvKX1lbHNlIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6aC5jYWxsKGksdGhpcyk7YnJlYWs7Y2FzZSAyOmguY2FsbChpLHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6aC5jYWxsKGksdGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OmZvcihuPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkobi0xKSxlPTE7ZTxuOysrZSlvW2UtMV09YXJndW1lbnRzW2VdO2QuY2FsbChpLHRoaXMsbyl9fX0sbD17b246dShyKSxvbmNlOnUoaSksb2ZmOnUobyksZW1pdDp1KGEpfSxjPWcoe30sbCksdC5leHBvcnRzPWU9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/cChjKTpnKE9iamVjdCh0KSxsKX0sZS5tZXRob2RzPXN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj17b2JqZWN0OiEwLHN5bWJvbDohMH07dC5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIHQ7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgU3ltYm9sKXJldHVybiExO3Q9U3ltYm9sKFwidGVzdCBzeW1ib2xcIik7dHJ5e1N0cmluZyh0KX1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm4hIXJbdHlwZW9mIFN5bWJvbC5pdGVyYXRvcl0mJighIXJbdHlwZW9mIFN5bWJvbC50b1ByaW1pdGl2ZV0mJiEhclt0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnXSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaSxvLGEscz1uKDI1KSxsPW4oMjc0KSxjPU9iamVjdC5jcmVhdGUsdT1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxmPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxkPU9iamVjdC5wcm90b3R5cGUsaD1jKG51bGwpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCl7cj1TeW1ib2w7dHJ5e1N0cmluZyhyKCkpLGE9ITB9Y2F0Y2godCl7fX12YXIgcCxtPShwPWMobnVsbCksZnVuY3Rpb24odCl7Zm9yKHZhciBlLG4scj0wO3BbdCsocnx8XCJcIildOykrK3I7cmV0dXJuIHBbdCs9cnx8XCJcIl09ITAsZihkLGU9XCJAQFwiK3Qscy5ncyhudWxsLGZ1bmN0aW9uKHQpe258fChuPSEwLGYodGhpcyxlLHModCkpLG49ITEpfSkpLGV9KTtvPWZ1bmN0aW9uKHQpe2lmKHRoaXMgaW5zdGFuY2VvZiBvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIGkodCl9LHQuZXhwb3J0cz1pPWZ1bmN0aW9uIHQoZSl7dmFyIG47aWYodGhpcyBpbnN0YW5jZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtyZXR1cm4gYT9yKGUpOihuPWMoby5wcm90b3R5cGUpLGU9dm9pZCAwPT09ZT9cIlwiOlN0cmluZyhlKSx1KG4se19fZGVzY3JpcHRpb25fXzpzKFwiXCIsZSksX19uYW1lX186cyhcIlwiLG0oZSkpfSkpfSx1KGkse2ZvcjpzKGZ1bmN0aW9uKHQpe3JldHVybiBoW3RdP2hbdF06aFt0XT1pKFN0cmluZyh0KSl9KSxrZXlGb3I6cyhmdW5jdGlvbih0KXt2YXIgZTtmb3IoZSBpbiBsKHQpLGgpaWYoaFtlXT09PXQpcmV0dXJuIGV9KSxoYXNJbnN0YW5jZTpzKFwiXCIsciYmci5oYXNJbnN0YW5jZXx8aShcImhhc0luc3RhbmNlXCIpKSxpc0NvbmNhdFNwcmVhZGFibGU6cyhcIlwiLHImJnIuaXNDb25jYXRTcHJlYWRhYmxlfHxpKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpKSxpdGVyYXRvcjpzKFwiXCIsciYmci5pdGVyYXRvcnx8aShcIml0ZXJhdG9yXCIpKSxtYXRjaDpzKFwiXCIsciYmci5tYXRjaHx8aShcIm1hdGNoXCIpKSxyZXBsYWNlOnMoXCJcIixyJiZyLnJlcGxhY2V8fGkoXCJyZXBsYWNlXCIpKSxzZWFyY2g6cyhcIlwiLHImJnIuc2VhcmNofHxpKFwic2VhcmNoXCIpKSxzcGVjaWVzOnMoXCJcIixyJiZyLnNwZWNpZXN8fGkoXCJzcGVjaWVzXCIpKSxzcGxpdDpzKFwiXCIsciYmci5zcGxpdHx8aShcInNwbGl0XCIpKSx0b1ByaW1pdGl2ZTpzKFwiXCIsciYmci50b1ByaW1pdGl2ZXx8aShcInRvUHJpbWl0aXZlXCIpKSx0b1N0cmluZ1RhZzpzKFwiXCIsciYmci50b1N0cmluZ1RhZ3x8aShcInRvU3RyaW5nVGFnXCIpKSx1bnNjb3BhYmxlczpzKFwiXCIsciYmci51bnNjb3BhYmxlc3x8aShcInVuc2NvcGFibGVzXCIpKX0pLHUoby5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnMoaSksdG9TdHJpbmc6cyhcIlwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19uYW1lX199KX0pLHUoaS5wcm90b3R5cGUse3RvU3RyaW5nOnMoZnVuY3Rpb24oKXtyZXR1cm5cIlN5bWJvbCAoXCIrbCh0aGlzKS5fX2Rlc2NyaXB0aW9uX18rXCIpXCJ9KSx2YWx1ZU9mOnMoZnVuY3Rpb24oKXtyZXR1cm4gbCh0aGlzKX0pfSksZihpLnByb3RvdHlwZSxpLnRvUHJpbWl0aXZlLHMoXCJcIixmdW5jdGlvbigpe3ZhciB0PWwodGhpcyk7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDp0LnRvU3RyaW5nKCl9KSksZihpLnByb3RvdHlwZSxpLnRvU3RyaW5nVGFnLHMoXCJjXCIsXCJTeW1ib2xcIikpLGYoby5wcm90b3R5cGUsaS50b1N0cmluZ1RhZyxzKFwiY1wiLGkucHJvdG90eXBlW2kudG9TdHJpbmdUYWddKSksZihvLnByb3RvdHlwZSxpLnRvUHJpbWl0aXZlLHMoXCJjXCIsaS5wcm90b3R5cGVbaS50b1ByaW1pdGl2ZV0pKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjc1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYoIXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuISF0JiYoXCJzeW1ib2xcIj09dHlwZW9mIHR8fCEhdC5jb25zdHJ1Y3RvciYmKFwiU3ltYm9sXCI9PT10LmNvbnN0cnVjdG9yLm5hbWUmJlwiU3ltYm9sXCI9PT10W3QuY29uc3RydWN0b3IudG9TdHJpbmdUYWddKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1OSksaT1uKDMzKSxvPW4oNjApLGE9bigxOCkuaXRlcmF0b3Iscz1BcnJheS5pc0FycmF5O3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4hIWkodCkmJighIXModCl8fCghIW8odCl8fCghIXIodCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHRbYV0pKSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1OSksaT1uKDE0KSxvPW4oNjApLGE9bigyNzgpLHM9QXJyYXkuaXNBcnJheSxsPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLGM9QXJyYXkucHJvdG90eXBlLnNvbWU7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4sdSxmLGQsaCxwLG0sZyx2PWFyZ3VtZW50c1syXTtpZihzKHQpfHxyKHQpP249XCJhcnJheVwiOm8odCk/bj1cInN0cmluZ1wiOnQ9YSh0KSxpKGUpLGY9ZnVuY3Rpb24oKXtkPSEwfSxcImFycmF5XCIhPT1uKWlmKFwic3RyaW5nXCIhPT1uKWZvcih1PXQubmV4dCgpOyF1LmRvbmU7KXtpZihsLmNhbGwoZSx2LHUudmFsdWUsZiksZClyZXR1cm47dT10Lm5leHQoKX1lbHNlIGZvcihwPXQubGVuZ3RoLGg9MDtoPHAmJihtPXRbaF0saCsxPHAmJihnPW0uY2hhckNvZGVBdCgwKSk+PTU1Mjk2JiZnPD01NjMxOSYmKG0rPXRbKytoXSksbC5jYWxsKGUsdixtLGYpLCFkKTsrK2gpO2Vsc2UgYy5jYWxsKHQsZnVuY3Rpb24odCl7cmV0dXJuIGwuY2FsbChlLHYsdCxmKSxkfSl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big1OSksaT1uKDYwKSxvPW4oMjc5KSxhPW4oMjg5KSxzPW4oMTQyKSxsPW4oMTgpLml0ZXJhdG9yO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBzKHQpW2xdP3RbbF0oKTpyKHQpP25ldyBvKHQpOmkodCk/bmV3IGEodCk6bmV3IG8odCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT1uKDU4KSxvPW4oOTkpLGE9bigyNSkscz1uKDE4KSxsPW4oMTAwKSxjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTtyPXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciByZXF1aXJlcyAnbmV3J1wiKTtsLmNhbGwodGhpcyx0KSxlPWU/by5jYWxsKGUsXCJrZXkrdmFsdWVcIik/XCJrZXkrdmFsdWVcIjpvLmNhbGwoZSxcImtleVwiKT9cImtleVwiOlwidmFsdWVcIjpcInZhbHVlXCIsYyh0aGlzLFwiX19raW5kX19cIixhKFwiXCIsZSkpfSxpJiZpKHIsbCksZGVsZXRlIHIucHJvdG90eXBlLmNvbnN0cnVjdG9yLHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobC5wcm90b3R5cGUse19yZXNvbHZlOmEoZnVuY3Rpb24odCl7cmV0dXJuXCJ2YWx1ZVwiPT09dGhpcy5fX2tpbmRfXz90aGlzLl9fbGlzdF9fW3RdOlwia2V5K3ZhbHVlXCI9PT10aGlzLl9fa2luZF9fP1t0LHRoaXMuX19saXN0X19bdF1dOnR9KX0pLGMoci5wcm90b3R5cGUscy50b1N0cmluZ1RhZyxhKFwiY1wiLFwiQXJyYXkgSXRlcmF0b3JcIikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT1uKDI4MSksbz1uKDE0MSksYT1uKDE0KSxzPW4oMjg2KSxsPW4oMTQpLGM9bigxMyksdT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCxmPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxkPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7cj1mdW5jdGlvbih0LGUsbil7dmFyIHIsbz1jKGUpJiZsKGUudmFsdWUpO3JldHVybiBkZWxldGUocj1pKGUpKS53cml0YWJsZSxkZWxldGUgci52YWx1ZSxyLmdldD1mdW5jdGlvbigpe3JldHVybiFuLm92ZXJ3cml0ZURlZmluaXRpb24mJmQuY2FsbCh0aGlzLHQpP286KGUudmFsdWU9dS5jYWxsKG8sbi5yZXNvbHZlQ29udGV4dD9uLnJlc29sdmVDb250ZXh0KHRoaXMpOnRoaXMpLGYodGhpcyx0LGUpLHRoaXNbdF0pfSxyfSx0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9byhhcmd1bWVudHNbMV0pO3JldHVybiBudWxsIT1lLnJlc29sdmVDb250ZXh0JiZhKGUucmVzb2x2ZUNvbnRleHQpLHModCxmdW5jdGlvbih0LG4pe3JldHVybiByKG4sdCxlKX0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMjgyKSxpPW4oOTgpLG89bigxMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdChvKHQpKSxuPWFyZ3VtZW50c1sxXSxhPU9iamVjdChhcmd1bWVudHNbMl0pO2lmKGUhPT10JiYhbilyZXR1cm4gZTt2YXIgcz17fTtyZXR1cm4gbj9yKG4sZnVuY3Rpb24oZSl7KGEuZW5zdXJlfHxlIGluIHQpJiYoc1tlXT10W2VdKX0pOmkocyx0KSxzfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1uKDI4MykoKT9BcnJheS5mcm9tOm4oMjg0KX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciB0LGUsbj1BcnJheS5mcm9tO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihlPW4odD1bXCJyYXpcIixcImR3YVwiXSksQm9vbGVhbihlJiZlIT09dCYmXCJkd2FcIj09PWVbMV0pKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1uKDE4KS5pdGVyYXRvcixpPW4oNTkpLG89bigyODUpLGE9bigxMzgpLHM9bigxNCksbD1uKDEzKSxjPW4oMzMpLHU9big2MCksZj1BcnJheS5pc0FycmF5LGQ9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsaD17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bnVsbH0scD1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlLG4sbSxnLHYseSxiLHgsdyxDLGs9YXJndW1lbnRzWzFdLF89YXJndW1lbnRzWzJdO2lmKHQ9T2JqZWN0KGwodCkpLGMoaykmJnMoayksdGhpcyYmdGhpcyE9PUFycmF5JiZvKHRoaXMpKWU9dGhpcztlbHNle2lmKCFrKXtpZihpKHQpKXJldHVybiAxIT09KHY9dC5sZW5ndGgpP0FycmF5LmFwcGx5KG51bGwsdCk6KChnPW5ldyBBcnJheSgxKSlbMF09dFswXSxnKTtpZihmKHQpKXtmb3IoZz1uZXcgQXJyYXkodj10Lmxlbmd0aCksbj0wO248djsrK24pZ1tuXT10W25dO3JldHVybiBnfX1nPVtdfWlmKCFmKHQpKWlmKHZvaWQgMCE9PSh3PXRbcl0pKXtmb3IoYj1zKHcpLmNhbGwodCksZSYmKGc9bmV3IGUpLHg9Yi5uZXh0KCksbj0wOyF4LmRvbmU7KUM9az9kLmNhbGwoayxfLHgudmFsdWUsbik6eC52YWx1ZSxlPyhoLnZhbHVlPUMscChnLG4saCkpOmdbbl09Qyx4PWIubmV4dCgpLCsrbjt2PW59ZWxzZSBpZih1KHQpKXtmb3Iodj10Lmxlbmd0aCxlJiYoZz1uZXcgZSksbj0wLG09MDtuPHY7KytuKUM9dFtuXSxuKzE8diYmKHk9Qy5jaGFyQ29kZUF0KDApKT49NTUyOTYmJnk8PTU2MzE5JiYoQys9dFsrK25dKSxDPWs/ZC5jYWxsKGssXyxDLG0pOkMsZT8oaC52YWx1ZT1DLHAoZyxtLGgpKTpnW21dPUMsKyttO3Y9bX1pZih2b2lkIDA9PT12KWZvcih2PWEodC5sZW5ndGgpLGUmJihnPW5ldyBlKHYpKSxuPTA7bjx2OysrbilDPWs/ZC5jYWxsKGssXyx0W25dLG4pOnRbbl0sZT8oaC52YWx1ZT1DLHAoZyxuLGgpKTpnW25dPUM7cmV0dXJuIGUmJihoLnZhbHVlPW51bGwsZy5sZW5ndGg9diksZ319LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGk9ci5jYWxsKG4oMTM3KSk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnIuY2FsbCh0KT09PWl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9bigxNCksaT1uKDI4Nyksbz1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbDt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fSxhPWFyZ3VtZW50c1syXTtyZXR1cm4gcihlKSxpKHQsZnVuY3Rpb24odCxyLGkscyl7bltyXT1vLmNhbGwoZSxhLHQscixpLHMpfSksbn19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9bigyODgpKFwiZm9yRWFjaFwiKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMTQpLGk9bigxMyksbz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCxhPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLHM9T2JqZWN0LmtleXMsbD1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuLGMpe3ZhciB1LGY9YXJndW1lbnRzWzJdLGQ9YXJndW1lbnRzWzNdO3JldHVybiBuPU9iamVjdChpKG4pKSxyKGMpLHU9cyhuKSxkJiZ1LnNvcnQoXCJmdW5jdGlvblwiPT10eXBlb2YgZD9vLmNhbGwoZCxuKTp2b2lkIDApLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJih0PXVbdF0pLGEuY2FsbCh0LHUsZnVuY3Rpb24odCxyKXtyZXR1cm4gbC5jYWxsKG4sdCk/YS5jYWxsKGMsZixuW3RdLHQsbixyKTplfSl9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByLGk9big1OCksbz1uKDI1KSxhPW4oMTgpLHM9bigxMDApLGw9T2JqZWN0LmRlZmluZVByb3BlcnR5O3I9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciByZXF1aXJlcyAnbmV3J1wiKTt0PVN0cmluZyh0KSxzLmNhbGwodGhpcyx0KSxsKHRoaXMsXCJfX2xlbmd0aF9fXCIsbyhcIlwiLHQubGVuZ3RoKSl9LGkmJmkocixzKSxkZWxldGUgci5wcm90b3R5cGUuY29uc3RydWN0b3Isci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzLnByb3RvdHlwZSx7X25leHQ6byhmdW5jdGlvbigpe2lmKHRoaXMuX19saXN0X18pcmV0dXJuIHRoaXMuX19uZXh0SW5kZXhfXzx0aGlzLl9fbGVuZ3RoX18/dGhpcy5fX25leHRJbmRleF9fKys6dm9pZCB0aGlzLl91bkJpbmQoKX0pLF9yZXNvbHZlOm8oZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLl9fbGlzdF9fW3RdO3JldHVybiB0aGlzLl9fbmV4dEluZGV4X189PT10aGlzLl9fbGVuZ3RoX18/bjooZT1uLmNoYXJDb2RlQXQoMCkpPj01NTI5NiYmZTw9NTYzMTk/bit0aGlzLl9fbGlzdF9fW3RoaXMuX19uZXh0SW5kZXhfXysrXTpufSl9KSxsKHIucHJvdG90eXBlLGEudG9TdHJpbmdUYWcsbyhcImNcIixcIlN0cmluZyBJdGVyYXRvclwiKSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixpPW4oNTgpLG89big5OSksYT1uKDI1KSxzPW4oMTAwKSxsPW4oMTgpLnRvU3RyaW5nVGFnLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3I9dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgcikpcmV0dXJuIG5ldyByKHQsZSk7cy5jYWxsKHRoaXMsdC5fX3NldERhdGFfXyx0KSxlPWUmJm8uY2FsbChlLFwia2V5K3ZhbHVlXCIpP1wia2V5K3ZhbHVlXCI6XCJ2YWx1ZVwiLGModGhpcyxcIl9fa2luZF9fXCIsYShcIlwiLGUpKX0saSYmaShyLHMpLHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocy5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmEociksX3Jlc29sdmU6YShmdW5jdGlvbih0KXtyZXR1cm5cInZhbHVlXCI9PT10aGlzLl9fa2luZF9fP3RoaXMuX19saXN0X19bdF06W3RoaXMuX19saXN0X19bdF0sdGhpcy5fX2xpc3RfX1t0XV19KSx0b1N0cmluZzphKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFNldCBJdGVyYXRvcl1cIn0pfSksYyhyLnByb3RvdHlwZSxsLGEoXCJjXCIsXCJTZXQgSXRlcmF0b3JcIikpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQmJlwiW29iamVjdCBTZXRdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoU2V0LnByb3RvdHlwZSl9LGZ1bmN0aW9uKHQsZSxuKXtuKDEyKSYmXCJnXCIhPS8uL2cuZmxhZ3MmJm4oNDIpLmYoUmVnRXhwLnByb3RvdHlwZSxcImZsYWdzXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6big1NCl9KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMSksaT1yLkpTT058fChyLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gaS5zdHJpbmdpZnkuYXBwbHkoaSxhcmd1bWVudHMpfX0sZnVuY3Rpb24odCxlLG4pe24oMjk1KSx0LmV4cG9ydHM9bigxKS5PYmplY3QudmFsdWVzfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKSxpPW4oMjk2KSghMSk7cihyLlMsXCJPYmplY3RcIix7dmFsdWVzOmZ1bmN0aW9uKHQpe3JldHVybiBpKHQpfX0pfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9big4KSxpPW4oMjcpLG89bigxNiksYT1uKDQxKS5mO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBuLHM9byhlKSxsPWkocyksYz1sLmxlbmd0aCx1PTAsZj1bXTtjPnU7KW49bFt1KytdLHImJiFhLmNhbGwocyxuKXx8Zi5wdXNoKHQ/W24sc1tuXV06c1tuXSk7cmV0dXJuIGZ9fX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO3ZhciByPW4oMzEpLGk9bigyOTgpKDUpLG89ITA7XCJmaW5kXCJpbltdJiZBcnJheSgxKS5maW5kKGZ1bmN0aW9uKCl7bz0hMX0pLHIoci5QK3IuRipvLFwiQXJyYXlcIix7ZmluZDpmdW5jdGlvbih0KXtyZXR1cm4gaSh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG4oMTIzKShcImZpbmRcIil9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDg3KSxpPW4oMTIwKSxvPW4oMTIyKSxhPW4oMjkpLHM9bigyOTkpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciBuPTE9PXQsbD0yPT10LGM9Mz09dCx1PTQ9PXQsZj02PT10LGQ9NT09dHx8ZixoPWV8fHM7cmV0dXJuIGZ1bmN0aW9uKGUscyxwKXtmb3IodmFyIG0sZyx2PW8oZSkseT1pKHYpLGI9cihzLHAsMykseD1hKHkubGVuZ3RoKSx3PTAsQz1uP2goZSx4KTpsP2goZSwwKTp2b2lkIDA7eD53O3crKylpZigoZHx8dyBpbiB5KSYmKGc9YihtPXlbd10sdyx2KSx0KSlpZihuKUNbd109ZztlbHNlIGlmKGcpc3dpdGNoKHQpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIG07Y2FzZSA2OnJldHVybiB3O2Nhc2UgMjpDLnB1c2gobSl9ZWxzZSBpZih1KXJldHVybiExO3JldHVybiBmPy0xOmN8fHU/dTpDfX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMwMCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyhyKHQpKShlKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDIyKSxpPW4oMzAxKSxvPW4oOSkoXCJzcGVjaWVzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gaSh0KSYmKFwiZnVuY3Rpb25cIiE9dHlwZW9mKGU9dC5jb25zdHJ1Y3Rvcil8fGUhPT1BcnJheSYmIWkoZS5wcm90b3R5cGUpfHwoZT12b2lkIDApLHIoZSkmJm51bGw9PT0oZT1lW29dKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9BcnJheTplfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNTMpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIkFycmF5XCI9PXIodCl9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bigzMDMpKFwiYW5jaG9yXCIsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KHRoaXMsXCJhXCIsXCJuYW1lXCIsZSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDMxKSxpPW4oMjQpLG89bigzMCksYT0vXCIvZyxzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPVN0cmluZyhvKHQpKSxzPVwiPFwiK2U7cmV0dXJuXCJcIiE9PW4mJihzKz1cIiBcIituKyc9XCInK1N0cmluZyhyKS5yZXBsYWNlKGEsXCImcXVvdDtcIikrJ1wiJykscytcIj5cIitpK1wiPC9cIitlK1wiPlwifTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtuW3RdPWUocykscihyLlArci5GKmkoZnVuY3Rpb24oKXt2YXIgZT1cIlwiW3RdKCdcIicpO3JldHVybiBlIT09ZS50b0xvd2VyQ2FzZSgpfHxlLnNwbGl0KCdcIicpLmxlbmd0aD4zfSksXCJTdHJpbmdcIixuKX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDMwNil9LGZ1bmN0aW9uKHQsZSxuKXtuKDMwNyksdC5leHBvcnRzPW4oMSkuT2JqZWN0LmdldFByb3RvdHlwZU9mfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyOCksaT1uKDk0KTtuKDc3KShcImdldFByb3RvdHlwZU9mXCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkocih0KSl9fSl9LGZ1bmN0aW9uKHQsZSxuKXtuKDMwOSksdC5leHBvcnRzPW4oMSkuT2JqZWN0LnNldFByb3RvdHlwZU9mfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigyKTtyKHIuUyxcIk9iamVjdFwiLHtzZXRQcm90b3R5cGVPZjpuKDMxMCkuc2V0fSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDExKSxpPW4oNyksbz1mdW5jdGlvbih0LGUpe2lmKGkodCksIXIoZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcihlK1wiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoXCJfX3Byb3RvX19cImlue30/ZnVuY3Rpb24odCxlLHIpe3RyeXsocj1uKDI2KShGdW5jdGlvbi5jYWxsLG4oNTEpLmYoT2JqZWN0LnByb3RvdHlwZSxcIl9fcHJvdG9fX1wiKS5zZXQsMikpKHQsW10pLGU9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKHQpe2U9ITB9cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIG8odCxuKSxlP3QuX19wcm90b19fPW46cih0LG4pLHR9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpvfX0sZnVuY3Rpb24odCxlLG4pe3QuZXhwb3J0cz1uKDMxMil9LGZ1bmN0aW9uKHQsZSxuKXtuKDMxMyksdC5leHBvcnRzPW4oMSkuUmVmbGVjdC5nZXR9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDUxKSxpPW4oOTQpLG89bigxNSksYT1uKDIpLHM9bigxMSksbD1uKDcpO2EoYS5TLFwiUmVmbGVjdFwiLHtnZXQ6ZnVuY3Rpb24gdChlLG4pe3ZhciBhLGMsdT1hcmd1bWVudHMubGVuZ3RoPDM/ZTphcmd1bWVudHNbMl07cmV0dXJuIGwoZSk9PT11P2Vbbl06KGE9ci5mKGUsbikpP28oYSxcInZhbHVlXCIpP2EudmFsdWU6dm9pZCAwIT09YS5nZXQ/YS5nZXQuY2FsbCh1KTp2b2lkIDA6cyhjPWkoZSkpP3QoYyxuLHUpOnZvaWQgMH19KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMTkpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9cih0KSk7KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigzMTYpfSxmdW5jdGlvbih0LGUsbil7bigzMTcpO3ZhciByPW4oMSkuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiByLmNyZWF0ZSh0LGUpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMik7cihyLlMsXCJPYmplY3RcIix7Y3JlYXRlOm4oNzYpfSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uKDE0Nyk7ZnVuY3Rpb24gaShlLG4pe3JldHVybiB0LmV4cG9ydHM9aT1yfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGkoZSxuKX10LmV4cG9ydHM9aX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX19KCk7ZnVuY3Rpb24gaSh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZS5TaG93PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kodGhpcyx0KSx0aGlzLm5vZGU9bnVsbH1yZXR1cm4gcih0LFt7a2V5OlwiYmluZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZT10fX0se2tleTpcInVuYmluZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZT1udWxsfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMubm9kZS5zdHlsZS5kaXNwbGF5PXQ/XCJcIjpcIm5vbmVcIn19XSksdH0oKSxlLkhpZGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aSh0aGlzLHQpLHRoaXMubm9kZT1udWxsfXJldHVybiByKHQsW3trZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ub2RlPXR9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ub2RlPW51bGx9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ub2RlLnN0eWxlLmRpc3BsYXk9dD9cIm5vbmVcIjpcIlwifX1dKSx0fSgpfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24oZSxuLHIpe3JldHVybiBuJiZ0KGUucHJvdG90eXBlLG4pLHImJnQoZSxyKSxlfX0oKTtlLkZhZGVJbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMubm9kZT1udWxsfXJldHVybiByKHQsW3trZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ub2RlPXR9fSx7a2V5OlwidW5iaW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ub2RlPW51bGx9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdPzMwMDphcmd1bWVudHNbMF07dGhpcy5ub2RlLnN0eWxlLm9wYWNpdHk9MCx0aGlzLm5vZGUuc3R5bGUudHJhbnNpdGlvbj1cIm9wYWNpdHkgXCIrZStcIm1zXCIsd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3JldHVybiB0Lm5vZGUuc3R5bGUub3BhY2l0eT0xfSl9fV0pLHR9KCl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXshZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLHQpLHRoaXMudHlwZT1lLHRoaXMuaGFuZGxlcj1udWxsLHRoaXMuY2FsbGJhY2s9dGhpcy5jYWxsYmFjay5iaW5kKHRoaXMpfXJldHVybiByKHQsW3trZXk6XCJjYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaGFuZGxlcih0KX19LHtrZXk6XCJiaW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dC5hZGRFdmVudExpc3RlbmVyKHRoaXMudHlwZSx0aGlzLmNhbGxiYWNrKX19LHtrZXk6XCJ1bmJpbmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy50eXBlLHRoaXMuY2FsbGJhY2spfX0se2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaGFuZGxlcj10fX1dKSx0fSgpO2UuZGVmYXVsdD1pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsaT1uKDQ1KSxvPShyPWkpJiZyLl9fZXNNb2R1bGU/cjp7ZGVmYXVsdDpyfSxhPW4oMzIzKTtvLmRlZmF1bHQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9YXJndW1lbnRzLmxlbmd0aDw9M3x8dm9pZCAwPT09YXJndW1lbnRzWzNdP3ZvaWQgMDphcmd1bWVudHNbM107dGhpcy5kZWxlZ2F0ZXN8fCh0aGlzLmRlbGVnYXRlcz1bXSx0aGlzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24odCxlKXtpZig4PT09dC5ub2RlVHlwZSl0aHJvd1wiQ2FuIG5vdCB1c2UgZXZlbnQgZGVsZWdhdGluZyB3aXRoIG5vbi1lbGVtZW50IG5vZGVzIG9uIGZpcnN0IGxldmVsLlwiO3IuZGVsZWdhdGVzW2VdPW5ldyBhLkRlbGVnYXRlKHQpfSkpLHRoaXMuZGVsZWdhdGVzLmZvckVhY2goZnVuY3Rpb24ocil7cmV0dXJuIHIub24odCxlLG4saSl9KX0sby5kZWZhdWx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/dm9pZCAwOmFyZ3VtZW50c1swXSxlPWFyZ3VtZW50cy5sZW5ndGg8PTF8fHZvaWQgMD09PWFyZ3VtZW50c1sxXT92b2lkIDA6YXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdP3ZvaWQgMDphcmd1bWVudHNbMl0scj1hcmd1bWVudHMubGVuZ3RoPD0zfHx2b2lkIDA9PT1hcmd1bWVudHNbM10/dm9pZCAwOmFyZ3VtZW50c1szXTt0aGlzLmRlbGVnYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGkpe3JldHVybiBpLm9mZih0LGUsbixyKX0pfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAcHJlc2VydmUgQ3JlYXRlIGFuZCBtYW5hZ2UgYSBET00gZXZlbnQgZGVsZWdhdG9yLlxuICpcbiAqIEBjb2RpbmdzdGFuZGFyZCBmdGxhYnMtanN2MlxuICogQGNvcHlyaWdodCBUaGUgRmluYW5jaWFsIFRpbWVzIExpbWl0ZWQgW0FsbCBSaWdodHMgUmVzZXJ2ZWRdXG4gKiBAbGljZW5zZSBNSVQgTGljZW5zZSAoc2VlIExJQ0VOU0UudHh0KVxuICovdmFyIHI9bigzMjQpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHIodCl9LHQuZXhwb3J0cy5EZWxlZ2F0ZT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXt0aGlzLmxpc3RlbmVyTWFwPVt7fSx7fV0sdCYmdGhpcy5yb290KHQpLHRoaXMuaGFuZGxlPXIucHJvdG90eXBlLmhhbmRsZS5iaW5kKHRoaXMpfXQuZXhwb3J0cz1yLHIucHJvdG90eXBlLnJvb3Q9ZnVuY3Rpb24odCl7dmFyIGUsbj10aGlzLmxpc3RlbmVyTWFwO2lmKHRoaXMucm9vdEVsZW1lbnQpe2ZvcihlIGluIG5bMV0pblsxXS5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5yb290RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdGhpcy5oYW5kbGUsITApO2ZvcihlIGluIG5bMF0pblswXS5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5yb290RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGUsdGhpcy5oYW5kbGUsITEpfWlmKCF0fHwhdC5hZGRFdmVudExpc3RlbmVyKXJldHVybiB0aGlzLnJvb3RFbGVtZW50JiZkZWxldGUgdGhpcy5yb290RWxlbWVudCx0aGlzO2ZvcihlIGluIHRoaXMucm9vdEVsZW1lbnQ9dCxuWzFdKW5bMV0uaGFzT3duUHJvcGVydHkoZSkmJnRoaXMucm9vdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlLCEwKTtmb3IoZSBpbiBuWzBdKW5bMF0uaGFzT3duUHJvcGVydHkoZSkmJnRoaXMucm9vdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlLCExKTtyZXR1cm4gdGhpc30sci5wcm90b3R5cGUuY2FwdHVyZUZvclR5cGU9ZnVuY3Rpb24odCl7cmV0dXJuLTEhPT1bXCJibHVyXCIsXCJlcnJvclwiLFwiZm9jdXNcIixcImxvYWRcIixcInJlc2l6ZVwiLFwic2Nyb2xsXCJdLmluZGV4T2YodCl9LHIucHJvdG90eXBlLm9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBzLGwsYyx1O2lmKCF0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGU6IFwiK3QpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihyPW4sbj1lLGU9bnVsbCksdm9pZCAwPT09ciYmKHI9dGhpcy5jYXB0dXJlRm9yVHlwZSh0KSksXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiSGFuZGxlciBtdXN0IGJlIGEgdHlwZSBvZiBGdW5jdGlvblwiKTtyZXR1cm4gcz10aGlzLnJvb3RFbGVtZW50LChsPXRoaXMubGlzdGVuZXJNYXBbcj8xOjBdKVt0XXx8KHMmJnMuYWRkRXZlbnRMaXN0ZW5lcih0LHRoaXMuaGFuZGxlLHIpLGxbdF09W10pLGU/L15bYS16XSskL2kudGVzdChlKT8odT1lLGM9byk6L14jW2EtejAtOVxcLV9dKyQvaS50ZXN0KGUpPyh1PWUuc2xpY2UoMSksYz1hKToodT1lLGM9aSk6KHU9bnVsbCxjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucm9vdEVsZW1lbnQ9PT13aW5kb3c/ZT09PWRvY3VtZW50OnRoaXMucm9vdEVsZW1lbnQ9PT1lfS5iaW5kKHRoaXMpKSxsW3RdLnB1c2goe3NlbGVjdG9yOmUsaGFuZGxlcjpuLG1hdGNoZXI6YyxtYXRjaGVyUGFyYW06dX0pLHRoaXN9LHIucHJvdG90eXBlLm9mZj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvLGEscyxsO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihyPW4sbj1lLGU9bnVsbCksdm9pZCAwPT09cilyZXR1cm4gdGhpcy5vZmYodCxlLG4sITApLHRoaXMub2ZmKHQsZSxuLCExKSx0aGlzO2lmKGE9dGhpcy5saXN0ZW5lck1hcFtyPzE6MF0sIXQpe2ZvcihsIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShsKSYmdGhpcy5vZmYobCxlLG4pO3JldHVybiB0aGlzfWlmKCEocz1hW3RdKXx8IXMubGVuZ3RoKXJldHVybiB0aGlzO2ZvcihpPXMubGVuZ3RoLTE7aT49MDtpLS0pbz1zW2ldLGUmJmUhPT1vLnNlbGVjdG9yfHxuJiZuIT09by5oYW5kbGVyfHxzLnNwbGljZShpLDEpO3JldHVybiBzLmxlbmd0aHx8KGRlbGV0ZSBhW3RdLHRoaXMucm9vdEVsZW1lbnQmJnRoaXMucm9vdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LHRoaXMuaGFuZGxlLHIpKSx0aGlzfSxyLnByb3RvdHlwZS5oYW5kbGU9ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHM9dC50eXBlLGw9W107aWYoITAhPT10LmZ0TGFic0RlbGVnYXRlSWdub3JlKXtzd2l0Y2goMz09PShhPXQudGFyZ2V0KS5ub2RlVHlwZSYmKGE9YS5wYXJlbnROb2RlKSxyPXRoaXMucm9vdEVsZW1lbnQsdC5ldmVudFBoYXNlfHwodC50YXJnZXQhPT10LmN1cnJlbnRUYXJnZXQ/MzoyKSl7Y2FzZSAxOmw9dGhpcy5saXN0ZW5lck1hcFsxXVtzXTticmVhaztjYXNlIDI6dGhpcy5saXN0ZW5lck1hcFswXSYmdGhpcy5saXN0ZW5lck1hcFswXVtzXSYmKGw9bC5jb25jYXQodGhpcy5saXN0ZW5lck1hcFswXVtzXSkpLHRoaXMubGlzdGVuZXJNYXBbMV0mJnRoaXMubGlzdGVuZXJNYXBbMV1bc10mJihsPWwuY29uY2F0KHRoaXMubGlzdGVuZXJNYXBbMV1bc10pKTticmVhaztjYXNlIDM6bD10aGlzLmxpc3RlbmVyTWFwWzBdW3NdfWZvcihuPWwubGVuZ3RoO2EmJm47KXtmb3IoZT0wO2U8biYmKGk9bFtlXSk7ZSsrKWlmKGkubWF0Y2hlci5jYWxsKGEsaS5tYXRjaGVyUGFyYW0sYSkmJihvPXRoaXMuZmlyZSh0LGEsaSkpLCExPT09bylyZXR1cm4gdC5mdExhYnNEZWxlZ2F0ZUlnbm9yZT0hMCx2b2lkIHQucHJldmVudERlZmF1bHQoKTtpZihhPT09cilicmVhaztuPWwubGVuZ3RoLGE9YS5wYXJlbnRFbGVtZW50fX19LHIucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLmhhbmRsZXIuY2FsbChlLHQsZSl9O3ZhciBpPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLm1hdGNoZXN8fGUubWF0Y2hlc1NlbGVjdG9yfHxlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8ZS5tb3pNYXRjaGVzU2VsZWN0b3J8fGUubXNNYXRjaGVzU2VsZWN0b3J8fGUub01hdGNoZXNTZWxlY3Rvcn19KEVsZW1lbnQpO2Z1bmN0aW9uIG8odCxlKXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0PT09ZS5pZH1yLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5vZmYoKSx0aGlzLnJvb3QoKX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLnIoZSksbi5kKGUsXCJkZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4geX0pO3ZhciByPW4oNjEpLGk9bi5uKHIpLG89big1KSxhPW4ubihvKSxzPW4oNiksbD1uLm4ocyksYz1uKDYyKSx1PW4ubihjKSxmPW4oMTkpLGQ9bi5uKGYpLGg9big2MykscD1uLm4oaCksbT1uKDY0KSxnPW4ubihtKSx2PW4oMTU5KSx5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgdDtyZXR1cm4gYSgpKHRoaXMsZSksKHQ9dSgpKHRoaXMsZCgpKGUpLmNhbGwodGhpcykpKS5zdGF0ZT17b25FeGNlcHRpb25DbGljazpudWxsfSx0fXJldHVybiBnKCkoZSx0KSxsKCkoZSxbe2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2koKSh0aGlzLnN0YXRlLHQpLHAoKShkKCkoZS5wcm90b3R5cGUpLFwidXBkYXRlXCIsdGhpcykuY2FsbCh0aGlzLHQpfX0se2tleTpcIm9uU3RhY2tUcmFjZUNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnN0YXRlLm9uRXhjZXB0aW9uQ2xpY2sodCxlKX19XSksZX0obi5uKHYpLmEpfSxmdW5jdGlvbih0LGUsbil7big1Nyksbig0NCksdC5leHBvcnRzPW4oMzI3KX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oNyksaT1uKDk2KTt0LmV4cG9ydHM9bigxKS5nZXRJdGVyYXRvcj1mdW5jdGlvbih0KXt2YXIgZT1pKHQpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKHQrXCIgaXMgbm90IGl0ZXJhYmxlIVwiKTtyZXR1cm4gcihlLmNhbGwodCkpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPW4oMzI5KTtcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9W1t0LmkscixcIlwiXV0pO3ZhciBpPXtobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigxNDgpKHIsaSk7ci5sb2NhbHMmJih0LmV4cG9ydHM9ci5sb2NhbHMpfSxmdW5jdGlvbih0LGUsbil7KHQuZXhwb3J0cz1uKDM0KSghMSkpLnB1c2goW3QuaSxcIi5rMmpzLWlmcmFtZXtkaXNwbGF5Om5vbmV9aWZyYW1le2JvcmRlcjpub25lO2JhY2tncm91bmQ6d2hpdGU7d2lkdGg6MTAwJTt6LWluZGV4OjEwfVxcblwiLFwiXCJdKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uO2lmKCFlKXRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO2lmKCF0fHxcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj1lLnByb3RvY29sK1wiLy9cIitlLmhvc3Qscj1uK2UucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLFwiL1wiKTtyZXR1cm4gdC5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSxmdW5jdGlvbih0LGUpe3ZhciBpLG89ZS50cmltKCkucmVwbGFjZSgvXlwiKC4qKVwiJC8sZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0pLnJlcGxhY2UoL14nKC4qKSckLyxmdW5jdGlvbih0LGUpe3JldHVybiBlfSk7cmV0dXJuL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdChvKT90OihpPTA9PT1vLmluZGV4T2YoXCIvL1wiKT9vOjA9PT1vLmluZGV4T2YoXCIvXCIpP24rbzpyK28ucmVwbGFjZSgvXlxcLlxcLy8sXCJcIiksXCJ1cmwoXCIrSlNPTi5zdHJpbmdpZnkoaSkrXCIpXCIpfSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIHI9bigzMzIpO1wic3RyaW5nXCI9PXR5cGVvZiByJiYocj1bW3QuaSxyLFwiXCJdXSk7dmFyIGk9e2htcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDE0OCkocixpKTtyLmxvY2FscyYmKHQuZXhwb3J0cz1yLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXsoZT10LmV4cG9ydHM9bigzNCkoITEpKS5pKG4oMzMzKSxcIlwiKSxlLmkobigzMzQpLFwiXCIpLGUuaShuKDMzNSksXCJcIiksZS5pKG4oMzM2KSxcIlwiKTt2YXIgcj1uKDMzNyksaT1yKG4oMzM4KSksbz1yKG4oMzM5KSksYT1yKG4oMzQwKSkscz1yKG4oMzQxKSksbD1yKG4oMzQyKSksYz1yKG4oMzQzKSksdT1yKG4oMzQ0KSksZj1yKG4oMzQ1KSksZD1yKG4oMzQ2KSksaD1yKG4oMzQ3KSkscD1yKG4oMzQ4KSksbT1yKG4oMzQ5KSksZz1yKG4oMzUwKSk7ZS5wdXNoKFt0LmksXCIuZXhlY3V0YWJsZS1mcmFnbWVudC13cmFwcGVye21hcmdpbi1ib3R0b206MjBweDtwb3NpdGlvbjpyZWxhdGl2ZX0uZXhlY3V0YWJsZS1mcmFnbWVudHtib3JkZXI6MXB4IHNvbGlkICNlYWVhZWM7Ym9yZGVyLWJvdHRvbS13aWR0aDowfS5leGVjdXRhYmxlLWZyYWdtZW50LmRhcmN1bGF7Ym9yZGVyOjFweCBzb2xpZCBncmF5O2JvcmRlci1ib3R0b20td2lkdGg6MDtiYWNrZ3JvdW5kLWNvbG9yOiMzMTMzMzZ9LmhpZGRlbi1kZXBlbmRlbmN5e2Rpc3BsYXk6bm9uZX0uQ29kZU1pcnJvcntoZWlnaHQ6YXV0bztmb250LXNpemU6MTJweH0uQ29kZU1pcnJvciBwcmV7bGluZS1oZWlnaHQ6MTYuOHB4O21hcmdpbi1ib3R0b206MCAhaW1wb3J0YW50fS5Db2RlTWlycm9yIC5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtaG9yaXpvbnRhbCBkaXYsLkNvZGVNaXJyb3IgLkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbC12ZXJ0aWNhbCBkaXZ7ZGlzcGxheTpub25lfS5Db2RlTWlycm9yOmhvdmVyIC5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtaG9yaXpvbnRhbCBkaXYsLkNvZGVNaXJyb3I6aG92ZXIgLkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbC12ZXJ0aWNhbCBkaXZ7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kOiNhZmIxYjN9LkNvZGVNaXJyb3ItbGluZXN7cGFkZGluZzowO21hcmdpbjoxMnB4IDB9LkNvZGVNaXJyb3ItZ3V0dGVye2hlaWdodDphdXRvfS5Db2RlTWlycm9ye2xpbmUtaGVpZ2h0OjEuNDtmb250LWZhbWlseTptZW5sbywgY29uc29sYXMsIG1vbm9zcGFjZTtmb250LXNpemU6MTJweH0uQ29kZU1pcnJvci1saW5lbnVtYmVye21pbi13aWR0aDowO3RleHQtYWxpZ246Y2VudGVyfS5Db2RlTWlycm9yLWxpbmViYWNrZ3JvdW5kLnVubW9kaWZpYWJsZS1saW5le2JhY2tncm91bmQtY29sb3I6I2VhZWFlY30uQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZC51bm1vZGlmaWFibGUtbGluZS1kYXJre2JhY2tncm91bmQtY29sb3I6IzNjM2Y0M30ubWFya1BsYWNlaG9sZGVye2JvcmRlci10b3A6MXB4IHNvbGlkICMxNjdkZmY7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzE2N2RmZn0ubWFya1BsYWNlaG9sZGVyLXN0YXJ0e2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjMTY3ZGZmfS5tYXJrUGxhY2Vob2xkZXItZW5ke2JvcmRlci1yaWdodDoxcHggc29saWQgIzE2N2RmZn0ucnVuLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwO3JpZ2h0OjVweDt0b3A6NXB4O2hlaWdodDoyMHB4O3dpZHRoOjE2cHg7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1zaXplOmNvdmVyO2JhY2tncm91bmQ6dXJsKFwiK2krJykgbm8tcmVwZWF0fS5ydW4tYnV0dG9uLl9kaXNhYmxlZHtjdXJzb3I6ZGVmYXVsdDtvcGFjaXR5OjAuNX0ubG9hZGVye3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7bWFyZ2luOjAgYXV0bztib3JkZXItcmFkaXVzOjUwJTt0ZXh0LWluZGVudDotOTk5OWVtO2NvbG9yOiMxNjE2MTY7Zm9udC1zaXplOjhweDtvcGFjaXR5Oi43O2FuaW1hdGlvbjpsb2FkZXIgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7YW5pbWF0aW9uLWRlbGF5OjAuMTZzfS5sb2FkZXIuZGFyY3VsYXtvcGFjaXR5OjE7Y29sb3I6IzY5Njk2OX0ubG9hZGVyOjpiZWZvcmV7bGVmdDotMy41ZW07YW5pbWF0aW9uLWRlbGF5OjBzO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE1cHg7Ym9yZGVyLXJhZGl1czo1MCU7aGVpZ2h0OjE1cHg7Y29udGVudDpcXCdcXCc7YW5pbWF0aW9uOmxvYWRlciAxcyBpbmZpbml0ZSBlYXNlLWluLW91dH0ubG9hZGVyOjphZnRlcntsZWZ0OjMuNWVtO2FuaW1hdGlvbi1kZWxheTowLjMycztwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItcmFkaXVzOjUwJTt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2NvbnRlbnQ6XFwnXFwnO2FuaW1hdGlvbjpsb2FkZXIgMXMgaW5maW5pdGUgZWFzZS1pbi1vdXR9QGtleWZyYW1lcyBsb2FkZXJ7MTAwJXtib3gtc2hhZG93OjAgMi41ZW0gMCAtMS4zZW19ODAle2JveC1zaGFkb3c6MCAyLjVlbSAwIC0xLjNlbX0wJXtib3gtc2hhZG93OjAgMi41ZW0gMCAtMS4zZW19NDAle2JveC1zaGFkb3c6MCAyLjVlbSAwIDB9fS5jbV9fRVJST1J7Y29sb3I6I2VjNTQyNCAhaW1wb3J0YW50fS5lcnJvcnMtYW5kLXdhcm5pbmdzLWd1dHRlcnt3aWR0aDoxNnB4fS5FUlJPUmd1dHRlcntoZWlnaHQ6MTNweDt3aWR0aDoxM3B4O21hcmdpbi10b3A6MnB4O21hcmdpbi1sZWZ0OjJweDtiYWNrZ3JvdW5kOnVybChcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnL3N0YXRpYy9pbWFnZXMvaWNvbnNfYWxsX3Nwcml0ZS5zdmdcIikgbm8tcmVwZWF0IC0xNTBweCAtNTAwcHh9LldBUk5JTkdndXR0ZXJ7aGVpZ2h0OjEzcHg7d2lkdGg6MTNweDttYXJnaW4tdG9wOjJweDttYXJnaW4tbGVmdDoycHg7YmFja2dyb3VuZDp1cmwoXCJodHRwczovL3RyeS5rb3RsaW5sYW5nLm9yZy9zdGF0aWMvaW1hZ2VzL2ljb25zX2FsbF9zcHJpdGUuc3ZnXCIpIG5vLXJlcGVhdCAtMTUwcHggLTYwMHB4fS5jbV9fcmVkX3dhdnlfbGluZXtiYWNrZ3JvdW5kOnVybChcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnL3N0YXRpYy9pbWFnZXMvd2F2eWxpbmUtcmVkLmdpZlwiKSByZXBlYXQteCAxMDAlIDEwMCU7cGFkZGluZy1ib3R0b206MnB4fS5jbV9fZ3JlZW5fd2F2eV9saW5le2JhY2tncm91bmQ6dXJsKFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmcvc3RhdGljL2ltYWdlcy93YXZ5bGluZS1ncmVlbi5naWZcIikgcmVwZWF0LXggMTAwJSAxMDAlO3BhZGRpbmctYm90dG9tOjJweH0uanMtY29kZS1vdXRwdXQtZXhlY3V0b3J7Ym9yZGVyLXRvcDoxcHggc29saWQgI2VhZWFlYztwb3NpdGlvbjpyZWxhdGl2ZX0uanMtY29kZS1vdXRwdXQtZXhlY3V0b3IuZGFyY3VsYXtib3JkZXItdG9wOjFweCBzb2xpZCBncmV5fS5vdXRwdXQtd3JhcHBlcntmbGV4LWRpcmVjdGlvbjpjb2x1bW47ZGlzcGxheTpmbGV4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlYWVhZWM7bWluLWhlaWdodDo2MHB4O2ZvbnQtc2l6ZToxNHB4O2JhY2tncm91bmQtY29sb3I6d2hpdGV9Lm91dHB1dC13cmFwcGVyLmRhcmN1bGF7YmFja2dyb3VuZC1jb2xvcjojMzEzMzM2O2NvbG9yOiNhZmIxYjN9LmNvZGUtb3V0cHV0e2ZsZXgtZ3JvdzoxO2ZvbnQtZmFtaWx5OlwiTGliZXJhdGlvbiBNb25vXCIsQ29uc29sYXMsTWVubG8sQ291cmllcixtb25vc3BhY2U7b3ZlcmZsb3c6YXV0bztwYWRkaW5nLWxlZnQ6MTBweDtwYWRkaW5nLXRvcDoxNXB4fS5zdGFuZGFyZC1vdXRwdXQuZGFyY3VsYXtjb2xvcjojYWZiMWIzfS5lcnJvci1vdXRwdXR7d2hpdGUtc3BhY2U6cHJlLXdyYXA7Y29sb3I6I2VjNTQyNDttaW4taGVpZ2h0OjEuNGVtO21hcmdpbjowO3ZlcnRpY2FsLWFsaWduOnRvcH0uZXJyb3Itb3V0cHV0LmRhcmN1bGF7Y29sb3I6I2VjNTQyNH0uc3RhbmRhcmQtb3V0cHV0e3doaXRlLXNwYWNlOnByZTtjb2xvcjojMDAwO21pbi1oZWlnaHQ6MS40ZW07bWFyZ2luOjA7dmVydGljYWwtYWxpZ246dG9wfS50ZXN0LXBhc3NlZHt3aGl0ZS1zcGFjZTpwcmU7Y29sb3I6IzRkYmI1ZjttaW4taGVpZ2h0OjEuNGVtO3ZlcnRpY2FsLWFsaWduOnRvcH0uY29uc29sZS1jbG9zZXtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7YmFja2dyb3VuZDojYWZiMWIzIHVybCgnK28rXCIpIG5vLXJlcGVhdH0uY29uc29sZS1jbG9zZS5kYXJjdWxhe2JhY2tncm91bmQ6dXJsKFwiK28rXCIpfS5jb25zb2xlLWNsb3NlOmhvdmVye2JhY2tncm91bmQtY29sb3I6ZGltZ3JheX0uY29uc29sZS1jbG9zZS5kYXJjdWxhOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2VjNTQyNH0udGVzdC1mYWlsLC50ZXN0LWVycm9ye2NvbG9yOiNlYzU0MjQ7bWluLWhlaWdodDoxLjRlbTt2ZXJ0aWNhbC1hbGlnbjp0b3B9LmNvbnNvbGUtYmxvY2t7ZGlzcGxheTpmbGV4fS5jb25zb2xlLWljb257bWFyZ2luLXRvcDoycHg7cGFkZGluZy1yaWdodDoyMHB4O3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHh9LmNvbnNvbGUtaWNvbi5hdHRlbnRpb257YmFja2dyb3VuZDp1cmwoXCIrYStcIikgbm8tcmVwZWF0fS5jb25zb2xlLWljb24ucGFzc2Vke2JhY2tncm91bmQ6dXJsKFwiK3MrXCIpIG5vLXJlcGVhdH0uY29uc29sZS1pY29uLmZhaWx7YmFja2dyb3VuZDp1cmwoXCIrbCtcIikgbm8tcmVwZWF0fS5jb25zb2xlLWljb24uZXJyb3J7YmFja2dyb3VuZDp1cmwoXCIrbCtcIikgbm8tcmVwZWF0fS50ZXN0LXRpbWV7ZmxvYXQ6cmlnaHQ7Zm9udC1zaXplOjEwcHg7Y29sb3I6I2FmYjFiMzttYXJnaW4tcmlnaHQ6MjBweDttYXJnaW4tdG9wOi0xNHB4fS5zdGFja3RyYWNlLWVsZW1lbnR7bWFyZ2luLWxlZnQ6MjBweH0uc3RhY2t0cmFjZS1lbGVtZW50IC5zdGFja3RyYWNlLWxpbmt7Y29sb3I6IzE2N2RmZjtjdXJzb3I6cG9pbnRlcn0uc3RhY2t0cmFjZS1lbGVtZW50IC5zdGFja3RyYWNlLWxpbms6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0uQ29kZU1pcnJvci1mb2xkZ3V0dGVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCV9LkNvZGVNaXJyb3ItZm9sZGd1dHRlci1mb2xkZWR7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kOndoaXRlfS5mb2xkLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MTlweDt3aWR0aDozMXB4O3RvcDowO2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwgLTUwJSk7ei1pbmRleDoxMDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50IHVybChcIitjK1wiKSBuby1yZXBlYXR9LmZvbGQtYnV0dG9uLl9ob3ZlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcIit1K1wiKX0uZm9sZC1idXR0b24uZGFyY3VsYXtiYWNrZ3JvdW5kOnVybChcIitmK1wiKSBuby1yZXBlYXR9LmZvbGQtYnV0dG9uLmRhcmN1bGEuX2hvdmVye2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiK2QrXCIpfS5fdW5mb2xkZWQgLmZvbGQtYnV0dG9ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiK2grXCIpfS5fdW5mb2xkZWQgLmZvbGQtYnV0dG9uLl9ob3ZlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcIitwK1wiKX0uX3VuZm9sZGVkIC5mb2xkLWJ1dHRvbi5kYXJjdWxhe2JhY2tncm91bmQ6dXJsKFwiK20rXCIpIG5vLXJlcGVhdH0uX3VuZm9sZGVkIC5mb2xkLWJ1dHRvbi5kYXJjdWxhLl9ob3ZlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcIitnKycpfS5jb2RlLWFyZWF7cG9zaXRpb246cmVsYXRpdmV9LmNvbXBpbGVyLWluZm97cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtmb250LXNpemU6MTBweDtjb2xvcjojYWZiMWIzfS5jb21waWxlci1pbmZvIHNwYW57bWFyZ2luLWxlZnQ6MTVweH0uQ29kZU1pcnJvci1oaW50c3twYWRkaW5nLWxlZnQ6MCAhaW1wb3J0YW50O2JvcmRlcjoxcHggc29saWQgI2FmYjFiMztib3JkZXItcmFkaXVzOjRweDtsaXN0LXN0eWxlOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojZjdmN2Y3O292ZXJmbG93LXk6aGlkZGVuO3otaW5kZXg6MTA7bWF4LWhlaWdodDoyMGVtO2JveC1zaGFkb3c6MnB4IDNweCA1cHggcmdiYSgwLDAsMCwwLjIpfS5Db2RlTWlycm9yLWhpbnR7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nLXJpZ2h0OjVweDtwYWRkaW5nLWxlZnQ6NXB4fWxpLkNvZGVNaXJyb3ItaGludC1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZDhkOGQ4O2NvbG9yOiMwMDAwMDB9LkNvZGVNaXJyb3ItaGludCAubmFtZXttYXJnaW4tcmlnaHQ6MjBweH0uQ29kZU1pcnJvci1oaW50IC50YWlse21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OjVweH0uQ29kZU1pcnJvci1oaW50IC5pY29ue2hlaWdodDoxNnB4O3dpZHRoOjE2cHg7bWFyZ2luLXJpZ2h0OjVweH0uaWNvbntiYWNrZ3JvdW5kOnVybChcImh0dHBzOi8vdHJ5LmtvdGxpbmxhbmcub3JnL3N0YXRpYy9pbWFnZXMvaWNvbnNfYWxsX3Nwcml0ZS5zdmdcIil9Lmljb24uY2xhc3N7YmFja2dyb3VuZDp1cmwoXCJodHRwczovL3RyeS5rb3RsaW5sYW5nLm9yZy9zdGF0aWMvaW1hZ2VzL2NvbXBsZXRpb25fY2xhc3Muc3ZnXCIpfS5pY29uLnBhY2thZ2V7YmFja2dyb3VuZDp1cmwoXCJodHRwczovL3RyeS5rb3RsaW5sYW5nLm9yZy9zdGF0aWMvaW1hZ2VzL2NvbXBsZXRpb25fcGFja2FnZS5zdmdcIil9Lmljb24ubWV0aG9ke2JhY2tncm91bmQ6dXJsKFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmcvc3RhdGljL2ltYWdlcy9jb21wbGV0aW9uX21ldGhvZC5zdmdcIil9Lmljb24uZ2VuZXJpY1ZhbHVle2JhY2tncm91bmQ6dXJsKFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmcvc3RhdGljL2ltYWdlcy9jb21wbGV0aW9uX2dlbmVyaWMuc3ZnXCIpfS5pY29uLnByb3BlcnR5e2JhY2tncm91bmQ6dXJsKFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmcvc3RhdGljL2ltYWdlcy9jb21wbGV0aW9uX3Byb3BlcnR5LnN2Z1wiKX1kaXZbbGFiZWxdOmhvdmVyOmFmdGVye2NvbnRlbnQ6YXR0cihsYWJlbCk7cGFkZGluZzowLjI1cmVtIDAuNXJlbTt3aGl0ZS1zcGFjZTpwcmU7bWFyZ2luLXRvcDotMXJlbTtkaXNwbGF5OmlubGluZS1mbGV4O2JhY2tncm91bmQ6I2ZlZmZkZTtib3JkZXItcmFkaXVzOjNweDttYXJnaW4tbGVmdDoxcmVtO2NvbG9yOmJsYWNrO2JvcmRlcjoxcHggc29saWQgIzNjM2Y0M31cXG4nLFwiXCJdKX0sZnVuY3Rpb24odCxlLG4peyh0LmV4cG9ydHM9bigzNCkoITEpKS5wdXNoKFt0LmksXCIvKiBCQVNJQ1MgKi9cXG5cXG4uQ29kZU1pcnJvciB7XFxuICAvKiBTZXQgaGVpZ2h0LCB3aWR0aCwgYm9yZGVycywgYW5kIGdsb2JhbCBmb250IHByb3BlcnRpZXMgaGVyZSAqL1xcbiAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcXG4gIGhlaWdodDogMzAwcHg7XFxuICBjb2xvcjogYmxhY2s7XFxuICBkaXJlY3Rpb246IGx0cjtcXG59XFxuXFxuLyogUEFERElORyAqL1xcblxcbi5Db2RlTWlycm9yLWxpbmVzIHtcXG4gIHBhZGRpbmc6IDRweCAwOyAvKiBWZXJ0aWNhbCBwYWRkaW5nIGFyb3VuZCBjb250ZW50ICovXFxufVxcbi5Db2RlTWlycm9yIHByZS5Db2RlTWlycm9yLWxpbmUsXFxuLkNvZGVNaXJyb3IgcHJlLkNvZGVNaXJyb3ItbGluZS1saWtlIHtcXG4gIHBhZGRpbmc6IDAgNHB4OyAvKiBIb3Jpem9udGFsIHBhZGRpbmcgb2YgY29udGVudCAqL1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zY3JvbGxiYXItZmlsbGVyLCAuQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOyAvKiBUaGUgbGl0dGxlIHNxdWFyZSBiZXR3ZWVuIEggYW5kIFYgc2Nyb2xsYmFycyAqL1xcbn1cXG5cXG4vKiBHVVRURVIgKi9cXG5cXG4uQ29kZU1pcnJvci1ndXR0ZXJzIHtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuLkNvZGVNaXJyb3ItbGluZW51bWJlcnMge31cXG4uQ29kZU1pcnJvci1saW5lbnVtYmVyIHtcXG4gIHBhZGRpbmc6IDAgM3B4IDAgNXB4O1xcbiAgbWluLXdpZHRoOiAyMHB4O1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICBjb2xvcjogIzk5OTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlciB7IGNvbG9yOiBibGFjazsgfVxcbi5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGUgeyBjb2xvcjogIzk5OTsgfVxcblxcbi8qIENVUlNPUiAqL1xcblxcbi5Db2RlTWlycm9yLWN1cnNvciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIGJsYWNrO1xcbiAgYm9yZGVyLXJpZ2h0OiBub25lO1xcbiAgd2lkdGg6IDA7XFxufVxcbi8qIFNob3duIHdoZW4gbW92aW5nIGluIGJpLWRpcmVjdGlvbmFsIHRleHQgKi9cXG4uQ29kZU1pcnJvciBkaXYuQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3Ige1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBzaWx2ZXI7XFxufVxcbi5jbS1mYXQtY3Vyc29yIC5Db2RlTWlycm9yLWN1cnNvciB7XFxuICB3aWR0aDogYXV0bztcXG4gIGJvcmRlcjogMCAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZDogIzdlNztcXG59XFxuLmNtLWZhdC1jdXJzb3IgZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICB6LWluZGV4OiAxO1xcbn1cXG4uY20tZmF0LWN1cnNvci1tYXJrIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjAsIDI1NSwgMjAsIDAuNSk7XFxuICAtd2Via2l0LWFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7XFxuICAtbW96LWFuaW1hdGlvbjogYmxpbmsgMS4wNnMgc3RlcHMoMSkgaW5maW5pdGU7XFxuICBhbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbn1cXG4uY20tYW5pbWF0ZS1mYXQtY3Vyc29yIHtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgYm9yZGVyOiAwO1xcbiAgLXdlYmtpdC1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbiAgLW1vei1hbmltYXRpb246IGJsaW5rIDEuMDZzIHN0ZXBzKDEpIGluZmluaXRlO1xcbiAgYW5pbWF0aW9uOiBibGluayAxLjA2cyBzdGVwcygxKSBpbmZpbml0ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3ZTc7XFxufVxcbkAtbW96LWtleWZyYW1lcyBibGluayB7XFxuICAwJSB7fVxcbiAgNTAlIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1cXG4gIDEwMCUge31cXG59XFxuQC13ZWJraXQta2V5ZnJhbWVzIGJsaW5rIHtcXG4gIDAlIHt9XFxuICA1MCUgeyBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfVxcbiAgMTAwJSB7fVxcbn1cXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcXG4gIDAlIHt9XFxuICA1MCUgeyBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfVxcbiAgMTAwJSB7fVxcbn1cXG5cXG4vKiBDYW4gc3R5bGUgY3Vyc29yIGRpZmZlcmVudCBpbiBvdmVyd3JpdGUgKG5vbi1pbnNlcnQpIG1vZGUgKi9cXG4uQ29kZU1pcnJvci1vdmVyd3JpdGUgLkNvZGVNaXJyb3ItY3Vyc29yIHt9XFxuXFxuLmNtLXRhYiB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0OyB9XFxuXFxuLkNvZGVNaXJyb3ItcnVsZXJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7IHJpZ2h0OiAwOyB0b3A6IC01MHB4OyBib3R0b206IDA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4uQ29kZU1pcnJvci1ydWxlciB7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNjY2M7XFxuICB0b3A6IDA7IGJvdHRvbTogMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuLyogREVGQVVMVCBUSEVNRSAqL1xcblxcbi5jbS1zLWRlZmF1bHQgLmNtLWhlYWRlciB7Y29sb3I6IGJsdWU7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXF1b3RlIHtjb2xvcjogIzA5MDt9XFxuLmNtLW5lZ2F0aXZlIHtjb2xvcjogI2Q0NDt9XFxuLmNtLXBvc2l0aXZlIHtjb2xvcjogIzI5Mjt9XFxuLmNtLWhlYWRlciwgLmNtLXN0cm9uZyB7Zm9udC13ZWlnaHQ6IGJvbGQ7fVxcbi5jbS1lbSB7Zm9udC1zdHlsZTogaXRhbGljO31cXG4uY20tbGluayB7dGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7fVxcbi5jbS1zdHJpa2V0aHJvdWdoIHt0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDt9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20ta2V5d29yZCB7Y29sb3I6ICM3MDg7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWF0b20ge2NvbG9yOiAjMjE5O31cXG4uY20tcy1kZWZhdWx0IC5jbS1udW1iZXIge2NvbG9yOiAjMTY0O31cXG4uY20tcy1kZWZhdWx0IC5jbS1kZWYge2NvbG9yOiAjMDBmO31cXG4uY20tcy1kZWZhdWx0IC5jbS12YXJpYWJsZSxcXG4uY20tcy1kZWZhdWx0IC5jbS1wdW5jdHVhdGlvbixcXG4uY20tcy1kZWZhdWx0IC5jbS1wcm9wZXJ0eSxcXG4uY20tcy1kZWZhdWx0IC5jbS1vcGVyYXRvciB7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXZhcmlhYmxlLTIge2NvbG9yOiAjMDVhO31cXG4uY20tcy1kZWZhdWx0IC5jbS12YXJpYWJsZS0zLCAuY20tcy1kZWZhdWx0IC5jbS10eXBlIHtjb2xvcjogIzA4NTt9XFxuLmNtLXMtZGVmYXVsdCAuY20tY29tbWVudCB7Y29sb3I6ICNhNTA7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXN0cmluZyB7Y29sb3I6ICNhMTE7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXN0cmluZy0yIHtjb2xvcjogI2Y1MDt9XFxuLmNtLXMtZGVmYXVsdCAuY20tbWV0YSB7Y29sb3I6ICM1NTU7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLXF1YWxpZmllciB7Y29sb3I6ICM1NTU7fVxcbi5jbS1zLWRlZmF1bHQgLmNtLWJ1aWx0aW4ge2NvbG9yOiAjMzBhO31cXG4uY20tcy1kZWZhdWx0IC5jbS1icmFja2V0IHtjb2xvcjogIzk5Nzt9XFxuLmNtLXMtZGVmYXVsdCAuY20tdGFnIHtjb2xvcjogIzE3MDt9XFxuLmNtLXMtZGVmYXVsdCAuY20tYXR0cmlidXRlIHtjb2xvcjogIzAwYzt9XFxuLmNtLXMtZGVmYXVsdCAuY20taHIge2NvbG9yOiAjOTk5O31cXG4uY20tcy1kZWZhdWx0IC5jbS1saW5rIHtjb2xvcjogIzAwYzt9XFxuXFxuLmNtLXMtZGVmYXVsdCAuY20tZXJyb3Ige2NvbG9yOiAjZjAwO31cXG4uY20taW52YWxpZGNoYXIge2NvbG9yOiAjZjAwO31cXG5cXG4uQ29kZU1pcnJvci1jb21wb3NpbmcgeyBib3JkZXItYm90dG9tOiAycHggc29saWQ7IH1cXG5cXG4vKiBEZWZhdWx0IHN0eWxlcyBmb3IgY29tbW9uIGFkZG9ucyAqL1xcblxcbmRpdi5Db2RlTWlycm9yIHNwYW4uQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXQge2NvbG9yOiAjMGIwO31cXG5kaXYuQ29kZU1pcnJvciBzcGFuLkNvZGVNaXJyb3Itbm9ubWF0Y2hpbmdicmFja2V0IHtjb2xvcjogI2EyMjt9XFxuLkNvZGVNaXJyb3ItbWF0Y2hpbmd0YWcgeyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMTUwLCAwLCAuMyk7IH1cXG4uQ29kZU1pcnJvci1hY3RpdmVsaW5lLWJhY2tncm91bmQge2JhY2tncm91bmQ6ICNlOGYyZmY7fVxcblxcbi8qIFNUT1AgKi9cXG5cXG4vKiBUaGUgcmVzdCBvZiB0aGlzIGZpbGUgY29udGFpbnMgc3R5bGVzIHJlbGF0ZWQgdG8gdGhlIG1lY2hhbmljcyBvZlxcbiAgIHRoZSBlZGl0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgdG91Y2ggdGhlbS4gKi9cXG5cXG4uQ29kZU1pcnJvciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYmFja2dyb3VuZDogd2hpdGU7XFxufVxcblxcbi5Db2RlTWlycm9yLXNjcm9sbCB7XFxuICBvdmVyZmxvdzogc2Nyb2xsICFpbXBvcnRhbnQ7IC8qIFRoaW5ncyB3aWxsIGJyZWFrIGlmIHRoaXMgaXMgb3ZlcnJpZGRlbiAqL1xcbiAgLyogMzBweCBpcyB0aGUgbWFnaWMgbWFyZ2luIHVzZWQgdG8gaGlkZSB0aGUgZWxlbWVudCdzIHJlYWwgc2Nyb2xsYmFycyAqL1xcbiAgLyogU2VlIG92ZXJmbG93OiBoaWRkZW4gaW4gLkNvZGVNaXJyb3IgKi9cXG4gIG1hcmdpbi1ib3R0b206IC0zMHB4OyBtYXJnaW4tcmlnaHQ6IC0zMHB4O1xcbiAgcGFkZGluZy1ib3R0b206IDMwcHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdXRsaW5lOiBub25lOyAvKiBQcmV2ZW50IGRyYWdnaW5nIGZyb20gaGlnaGxpZ2h0aW5nIHRoZSBlbGVtZW50ICovXFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5Db2RlTWlycm9yLXNpemVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGJvcmRlci1yaWdodDogMzBweCBzb2xpZCB0cmFuc3BhcmVudDtcXG59XFxuXFxuLyogVGhlIGZha2UsIHZpc2libGUgc2Nyb2xsYmFycy4gVXNlZCB0byBmb3JjZSByZWRyYXcgZHVyaW5nIHNjcm9sbGluZ1xcbiAgIGJlZm9yZSBhY3R1YWwgc2Nyb2xsaW5nIGhhcHBlbnMsIHRodXMgcHJldmVudGluZyBzaGFraW5nIGFuZFxcbiAgIGZsaWNrZXJpbmcgYXJ0aWZhY3RzLiAqL1xcbi5Db2RlTWlycm9yLXZzY3JvbGxiYXIsIC5Db2RlTWlycm9yLWhzY3JvbGxiYXIsIC5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIsIC5Db2RlTWlycm9yLWd1dHRlci1maWxsZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogNjtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5Db2RlTWlycm9yLXZzY3JvbGxiYXIge1xcbiAgcmlnaHQ6IDA7IHRvcDogMDtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcXG59XFxuLkNvZGVNaXJyb3ItaHNjcm9sbGJhciB7XFxuICBib3R0b206IDA7IGxlZnQ6IDA7XFxuICBvdmVyZmxvdy15OiBoaWRkZW47XFxuICBvdmVyZmxvdy14OiBzY3JvbGw7XFxufVxcbi5Db2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXIge1xcbiAgcmlnaHQ6IDA7IGJvdHRvbTogMDtcXG59XFxuLkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlciB7XFxuICBsZWZ0OiAwOyBib3R0b206IDA7XFxufVxcblxcbi5Db2RlTWlycm9yLWd1dHRlcnMge1xcbiAgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7XFxuICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgei1pbmRleDogMztcXG59XFxuLkNvZGVNaXJyb3ItZ3V0dGVyIHtcXG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcbiAgbWFyZ2luLWJvdHRvbTogLTMwcHg7XFxufVxcbi5Db2RlTWlycm9yLWd1dHRlci13cmFwcGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDQ7XFxuICBiYWNrZ3JvdW5kOiBub25lICFpbXBvcnRhbnQ7XFxuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcXG59XFxuLkNvZGVNaXJyb3ItZ3V0dGVyLWJhY2tncm91bmQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwOyBib3R0b206IDA7XFxuICB6LWluZGV4OiA0O1xcbn1cXG4uQ29kZU1pcnJvci1ndXR0ZXItZWx0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIHotaW5kZXg6IDQ7XFxufVxcbi5Db2RlTWlycm9yLWd1dHRlci13cmFwcGVyIDo6c2VsZWN0aW9uIHsgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQgfVxcbi5Db2RlTWlycm9yLWd1dHRlci13cmFwcGVyIDo6LW1vei1zZWxlY3Rpb24geyBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCB9XFxuXFxuLkNvZGVNaXJyb3ItbGluZXMge1xcbiAgY3Vyc29yOiB0ZXh0O1xcbiAgbWluLWhlaWdodDogMXB4OyAvKiBwcmV2ZW50cyBjb2xsYXBzaW5nIGJlZm9yZSBmaXJzdCBkcmF3ICovXFxufVxcbi5Db2RlTWlycm9yIHByZS5Db2RlTWlycm9yLWxpbmUsXFxuLkNvZGVNaXJyb3IgcHJlLkNvZGVNaXJyb3ItbGluZS1saWtlIHtcXG4gIC8qIFJlc2V0IHNvbWUgc3R5bGVzIHRoYXQgdGhlIHJlc3Qgb2YgdGhlIHBhZ2UgbWlnaHQgaGF2ZSBzZXQgKi9cXG4gIC1tb3otYm9yZGVyLXJhZGl1czogMDsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwOyBib3JkZXItcmFkaXVzOiAwO1xcbiAgYm9yZGVyLXdpZHRoOiAwO1xcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxuICBmb250LWZhbWlseTogaW5oZXJpdDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIG1hcmdpbjogMDtcXG4gIHdoaXRlLXNwYWNlOiBwcmU7XFxuICB3b3JkLXdyYXA6IG5vcm1hbDtcXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICB6LWluZGV4OiAyO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IHZpc2libGU7XFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1mb250LXZhcmlhbnQtbGlnYXR1cmVzOiBjb250ZXh0dWFsO1xcbiAgZm9udC12YXJpYW50LWxpZ2F0dXJlczogY29udGV4dHVhbDtcXG59XFxuLkNvZGVNaXJyb3Itd3JhcCBwcmUuQ29kZU1pcnJvci1saW5lLFxcbi5Db2RlTWlycm9yLXdyYXAgcHJlLkNvZGVNaXJyb3ItbGluZS1saWtlIHtcXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcXG4gIHdvcmQtYnJlYWs6IG5vcm1hbDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItbGluZWJhY2tncm91bmQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDsgcmlnaHQ6IDA7IHRvcDogMDsgYm90dG9tOiAwO1xcbiAgei1pbmRleDogMDtcXG59XFxuXFxuLkNvZGVNaXJyb3ItbGluZXdpZGdldCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAyO1xcbiAgcGFkZGluZzogMC4xcHg7IC8qIEZvcmNlIHdpZGdldCBtYXJnaW5zIHRvIHN0YXkgaW5zaWRlIG9mIHRoZSBjb250YWluZXIgKi9cXG59XFxuXFxuLkNvZGVNaXJyb3Itd2lkZ2V0IHt9XFxuXFxuLkNvZGVNaXJyb3ItcnRsIHByZSB7IGRpcmVjdGlvbjogcnRsOyB9XFxuXFxuLkNvZGVNaXJyb3ItY29kZSB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG5cXG4vKiBGb3JjZSBjb250ZW50LWJveCBzaXppbmcgZm9yIHRoZSBlbGVtZW50cyB3aGVyZSB3ZSBleHBlY3QgaXQgKi9cXG4uQ29kZU1pcnJvci1zY3JvbGwsXFxuLkNvZGVNaXJyb3Itc2l6ZXIsXFxuLkNvZGVNaXJyb3ItZ3V0dGVyLFxcbi5Db2RlTWlycm9yLWd1dHRlcnMsXFxuLkNvZGVNaXJyb3ItbGluZW51bWJlciB7XFxuICAtbW96LWJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxufVxcblxcbi5Db2RlTWlycm9yLW1lYXN1cmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1jdXJzb3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcbi5Db2RlTWlycm9yLW1lYXN1cmUgcHJlIHsgcG9zaXRpb246IHN0YXRpYzsgfVxcblxcbmRpdi5Db2RlTWlycm9yLWN1cnNvcnMge1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDogMztcXG59XFxuZGl2LkNvZGVNaXJyb3ItZHJhZ2N1cnNvcnMge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG59XFxuXFxuLkNvZGVNaXJyb3ItZm9jdXNlZCBkaXYuQ29kZU1pcnJvci1jdXJzb3JzIHtcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxufVxcblxcbi5Db2RlTWlycm9yLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogI2Q5ZDlkOTsgfVxcbi5Db2RlTWlycm9yLWZvY3VzZWQgLkNvZGVNaXJyb3Itc2VsZWN0ZWQgeyBiYWNrZ3JvdW5kOiAjZDdkNGYwOyB9XFxuLkNvZGVNaXJyb3ItY3Jvc3NoYWlyIHsgY3Vyc29yOiBjcm9zc2hhaXI7IH1cXG4uQ29kZU1pcnJvci1saW5lOjpzZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuOjpzZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuID4gc3Bhbjo6c2VsZWN0aW9uIHsgYmFja2dyb3VuZDogI2Q3ZDRmMDsgfVxcbi5Db2RlTWlycm9yLWxpbmU6Oi1tb3otc2VsZWN0aW9uLCAuQ29kZU1pcnJvci1saW5lID4gc3Bhbjo6LW1vei1zZWxlY3Rpb24sIC5Db2RlTWlycm9yLWxpbmUgPiBzcGFuID4gc3Bhbjo6LW1vei1zZWxlY3Rpb24geyBiYWNrZ3JvdW5kOiAjZDdkNGYwOyB9XFxuXFxuLmNtLXNlYXJjaGluZyB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZhO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMCwgLjQpO1xcbn1cXG5cXG4vKiBVc2VkIHRvIGZvcmNlIGEgYm9yZGVyIG1vZGVsIGZvciBhIG5vZGUgKi9cXG4uY20tZm9yY2UtYm9yZGVyIHsgcGFkZGluZy1yaWdodDogLjFweDsgfVxcblxcbkBtZWRpYSBwcmludCB7XFxuICAvKiBIaWRlIHRoZSBjdXJzb3Igd2hlbiBwcmludGluZyAqL1xcbiAgLkNvZGVNaXJyb3IgZGl2LkNvZGVNaXJyb3ItY3Vyc29ycyB7XFxuICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIH1cXG59XFxuXFxuLyogU2VlIGlzc3VlICMyOTAxICovXFxuLmNtLXRhYi13cmFwLWhhY2s6YWZ0ZXIgeyBjb250ZW50OiAnJzsgfVxcblxcbi8qIEhlbHAgdXNlcnMgdXNlIG1hcmtzZWxlY3Rpb24gdG8gc2FmZWx5IHN0eWxlIHRleHQgYmFja2dyb3VuZCAqL1xcbnNwYW4uQ29kZU1pcnJvci1zZWxlY3RlZHRleHQgeyBiYWNrZ3JvdW5kOiBub25lOyB9XFxuXCIsXCJcIl0pfSxmdW5jdGlvbih0LGUsbil7KHQuZXhwb3J0cz1uKDM0KSghMSkpLnB1c2goW3QuaSxcIi8qKlxcbiAgICBOYW1lOiAgICAgICBJREVBIGRlZmF1bHQgdGhlbWVcXG4gICAgRnJvbSBJbnRlbGxpSiBJREVBIGJ5IEpldEJyYWluc1xcbiAqL1xcblxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1tZXRhIHsgY29sb3I6ICM4MDgwMDA7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tbnVtYmVyIHsgY29sb3I6ICMwMDAwRkY7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20ta2V5d29yZCB7IGxpbmUtaGVpZ2h0OiAxZW07IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzAwMDA4MDsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1hdG9tIHsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMDAwMDgwOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLWRlZiB7IGNvbG9yOiAjMDAwMDAwOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLXZhcmlhYmxlIHsgY29sb3I6IGJsYWNrOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLXZhcmlhYmxlLTIgeyBjb2xvcjogYmxhY2s7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tdmFyaWFibGUtMywgLmNtLXMtaWRlYSBzcGFuLmNtLXR5cGUgeyBjb2xvcjogYmxhY2s7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tcHJvcGVydHkgeyBjb2xvcjogYmxhY2s7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tb3BlcmF0b3IgeyBjb2xvcjogYmxhY2s7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tY29tbWVudCB7IGNvbG9yOiAjODA4MDgwOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLXN0cmluZyB7IGNvbG9yOiAjMDA4MDAwOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLXN0cmluZy0yIHsgY29sb3I6ICMwMDgwMDA7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tcXVhbGlmaWVyIHsgY29sb3I6ICM1NTU7IH1cXG4uY20tcy1pZGVhIHNwYW4uY20tZXJyb3IgeyBjb2xvcjogI0ZGMDAwMDsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1hdHRyaWJ1dGUgeyBjb2xvcjogIzAwMDBGRjsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS10YWcgeyBjb2xvcjogIzAwMDA4MDsgfVxcbi5jbS1zLWlkZWEgc3Bhbi5jbS1saW5rIHsgY29sb3I6ICMwMDAwRkY7IH1cXG4uY20tcy1pZGVhIC5Db2RlTWlycm9yLWFjdGl2ZWxpbmUtYmFja2dyb3VuZCB7IGJhY2tncm91bmQ6ICNGRkZBRTM7IH1cXG5cXG4uY20tcy1pZGVhIHNwYW4uY20tYnVpbHRpbiB7IGNvbG9yOiAjMzBhOyB9XFxuLmNtLXMtaWRlYSBzcGFuLmNtLWJyYWNrZXQgeyBjb2xvcjogI2NjNzsgfVxcbi5jbS1zLWlkZWEgIHsgZm9udC1mYW1pbHk6IENvbnNvbGFzLCBNZW5sbywgTW9uYWNvLCBMdWNpZGEgQ29uc29sZSwgTGliZXJhdGlvbiBNb25vLCBEZWphVnUgU2FucyBNb25vLCBCaXRzdHJlYW0gVmVyYSBTYW5zIE1vbm8sIENvdXJpZXIgTmV3LCBtb25vc3BhY2UsIHNlcmlmO31cXG5cXG5cXG4uY20tcy1pZGVhIC5Db2RlTWlycm9yLW1hdGNoaW5nYnJhY2tldCB7IG91dGxpbmU6MXB4IHNvbGlkIGdyZXk7IGNvbG9yOmJsYWNrICFpbXBvcnRhbnQ7IH1cXG5cXG4uQ29kZU1pcnJvci1oaW50cy5pZGVhIHtcXG4gIGZvbnQtZmFtaWx5OiBNZW5sbywgTW9uYWNvLCBDb25zb2xhcywgJ0NvdXJpZXIgTmV3JywgbW9ub3NwYWNlO1xcbiAgY29sb3I6ICM2MTY1Njk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWJmM2ZkICFpbXBvcnRhbnQ7XFxufVxcblxcbi5Db2RlTWlycm9yLWhpbnRzLmlkZWEgLkNvZGVNaXJyb3ItaGludC1hY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2EyYjhjOSAhaW1wb3J0YW50O1xcbiAgY29sb3I6ICM1YzYwNjUgIWltcG9ydGFudDtcXG59XCIsXCJcIl0pfSxmdW5jdGlvbih0LGUsbil7KHQuZXhwb3J0cz1uKDM0KSghMSkpLnB1c2goW3QuaSxcIi8qKlxcbiAgICBOYW1lOiBJbnRlbGxpSiBJREVBIGRhcmN1bGEgdGhlbWVcXG4gICAgRnJvbSBJbnRlbGxpSiBJREVBIGJ5IEpldEJyYWluc1xcbiAqL1xcblxcbi5jbS1zLWRhcmN1bGEgIHsgZm9udC1mYW1pbHk6IENvbnNvbGFzLCBNZW5sbywgTW9uYWNvLCAnTHVjaWRhIENvbnNvbGUnLCAnTGliZXJhdGlvbiBNb25vJywgJ0RlamFWdSBTYW5zIE1vbm8nLCAnQml0c3RyZWFtIFZlcmEgU2FucyBNb25vJywgJ0NvdXJpZXIgTmV3JywgbW9ub3NwYWNlLCBzZXJpZjt9XFxuLmNtLXMtZGFyY3VsYS5Db2RlTWlycm9yIHsgYmFja2dyb3VuZDogIzJCMkIyQjsgY29sb3I6ICNBOUI3QzY7IH0gXFxuXFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLW1ldGEgeyBjb2xvcjogI0JCQjUyOTsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1udW1iZXIgeyBjb2xvcjogIzY4OTdCQjsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1rZXl3b3JkIHsgY29sb3I6ICNDQzc4MzI7IGxpbmUtaGVpZ2h0OiAxZW07IGZvbnQtd2VpZ2h0OiBib2xkOyB9ICBcXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tZGVmIHsgY29sb3I6ICNBOUI3QzY7IGZvbnQtc3R5bGU6IGl0YWxpYzsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS12YXJpYWJsZSB7IGNvbG9yOiAjQTlCN0M2OyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLXZhcmlhYmxlLTIgeyBjb2xvcjogI0E5QjdDNjsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS12YXJpYWJsZS0zIHsgY29sb3I6ICM5ODc2QUE7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tdHlwZSB7IGNvbG9yOiAjQUFCQkNDOyBmb250LXdlaWdodDogYm9sZDsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1wcm9wZXJ0eSB7IGNvbG9yOiAjRkZDNjZEOyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLW9wZXJhdG9yIHsgY29sb3I6ICNBOUI3QzY7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tc3RyaW5nIHsgY29sb3I6ICM2QTg3NTk7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tc3RyaW5nLTIgeyBjb2xvcjogIzZBODc1OTsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1jb21tZW50IHsgY29sb3I6ICM2MUExNTE7IGZvbnQtc3R5bGU6IGl0YWxpYzsgfSBcXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tbGluayB7IGNvbG9yOiAjQ0M3ODMyOyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLWF0b20geyBjb2xvcjogI0NDNzgzMjsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1lcnJvciB7IGNvbG9yOiAjQkMzRjNDOyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLXRhZyB7IGNvbG9yOiAjNjI5NzU1OyBmb250LXdlaWdodDogYm9sZDsgZm9udC1zdHlsZTogaXRhbGljOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1hdHRyaWJ1dGUgeyBjb2xvcjogIzY4OTdiYjsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1xdWFsaWZpZXIgeyBjb2xvcjogIzZBODc1OTsgfVxcbi5jbS1zLWRhcmN1bGEgc3Bhbi5jbS1icmFja2V0IHsgY29sb3I6ICNBOUI3QzY7IH1cXG4uY20tcy1kYXJjdWxhIHNwYW4uY20tYnVpbHRpbiB7IGNvbG9yOiAjRkY5RTU5OyB9XFxuLmNtLXMtZGFyY3VsYSBzcGFuLmNtLXNwZWNpYWwgeyBjb2xvcjogI0ZGOUU1OTsgfVxcblxcbi5jbS1zLWRhcmN1bGEgLkNvZGVNaXJyb3ItY3Vyc29yIHsgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjQTlCN0M2OyB9ICBcXG4uY20tcy1kYXJjdWxhIC5Db2RlTWlycm9yLWFjdGl2ZWxpbmUtYmFja2dyb3VuZCB7IGJhY2tncm91bmQ6ICMzMjMyMzI7IH0gXFxuLmNtLXMtZGFyY3VsYSAuQ29kZU1pcnJvci1ndXR0ZXJzIHsgYmFja2dyb3VuZDogIzMxMzMzNTsgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgIzMxMzMzNTsgfSBcXG4uY20tcy1kYXJjdWxhIC5Db2RlTWlycm9yLWd1dHRlcm1hcmtlciB7IGNvbG9yOiAjRkZFRTgwOyB9ICBcXG4uY20tcy1kYXJjdWxhIC5Db2RlTWlycm9yLWd1dHRlcm1hcmtlci1zdWJ0bGUgeyBjb2xvcjogI0QwRDBEMDsgfSAgXFxuLmNtLXMtZGFyY3VsYSAuQ29kZU1pcnJpci1saW5lbnVtYmVyIHsgY29sb3I6ICM2MDYzNjY7IH0gXFxuLmNtLXMtZGFyY3VsYSAuQ29kZU1pcnJvci1tYXRjaGluZ2JyYWNrZXQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjM0I1MTREOyBjb2xvcjogI0ZGRUYyOCAhaW1wb3J0YW50OyBmb250LXdlaWdodDogYm9sZDsgfSBcXG5cXG4uY20tcy1kYXJjdWxhIGRpdi5Db2RlTWlycm9yLXNlbGVjdGVkIHsgYmFja2dyb3VuZDogIzIxNDI4MzsgfSAgXFxuXFxuLkNvZGVNaXJyb3ItaGludHMuZGFyY3VsYSB7XFxuICBmb250LWZhbWlseTogTWVubG8sIE1vbmFjbywgQ29uc29sYXMsICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTtcXG4gIGNvbG9yOiAjOUM5RTlFO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNCM0UzRiAhaW1wb3J0YW50O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1oaW50cy5kYXJjdWxhIC5Db2RlTWlycm9yLWhpbnQtYWN0aXZlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0OTRENEUgIWltcG9ydGFudDtcXG4gIGNvbG9yOiAjOUM5RTlFICFpbXBvcnRhbnQ7XFxufVxcblwiLFwiXCJdKX0sZnVuY3Rpb24odCxlLG4peyh0LmV4cG9ydHM9bigzNCkoITEpKS5wdXNoKFt0LmksXCIuQ29kZU1pcnJvci1zaW1wbGVzY3JvbGwtaG9yaXpvbnRhbCBkaXYsIC5Db2RlTWlycm9yLXNpbXBsZXNjcm9sbC12ZXJ0aWNhbCBkaXYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYmFja2dyb3VuZDogI2NjYztcXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYmJiO1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zaW1wbGVzY3JvbGwtaG9yaXpvbnRhbCwgLkNvZGVNaXJyb3Itc2ltcGxlc2Nyb2xsLXZlcnRpY2FsIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDY7XFxuICBiYWNrZ3JvdW5kOiAjZWVlO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1zaW1wbGVzY3JvbGwtaG9yaXpvbnRhbCB7XFxuICBib3R0b206IDA7IGxlZnQ6IDA7XFxuICBoZWlnaHQ6IDhweDtcXG59XFxuLkNvZGVNaXJyb3Itc2ltcGxlc2Nyb2xsLWhvcml6b250YWwgZGl2IHtcXG4gIGJvdHRvbTogMDtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuXFxuLkNvZGVNaXJyb3Itc2ltcGxlc2Nyb2xsLXZlcnRpY2FsIHtcXG4gIHJpZ2h0OiAwOyB0b3A6IDA7XFxuICB3aWR0aDogOHB4O1xcbn1cXG4uQ29kZU1pcnJvci1zaW1wbGVzY3JvbGwtdmVydGljYWwgZGl2IHtcXG4gIHJpZ2h0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblxcblxcbi5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwgLkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlciwgLkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbCAuQ29kZU1pcnJvci1ndXR0ZXItZmlsbGVyIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtaG9yaXpvbnRhbCBkaXYsIC5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtdmVydGljYWwgZGl2IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJhY2tncm91bmQ6ICNiY2Q7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcblxcbi5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtaG9yaXpvbnRhbCwgLkNvZGVNaXJyb3Itb3ZlcmxheXNjcm9sbC12ZXJ0aWNhbCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiA2O1xcbn1cXG5cXG4uQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLWhvcml6b250YWwge1xcbiAgYm90dG9tOiAwOyBsZWZ0OiAwO1xcbiAgaGVpZ2h0OiA2cHg7XFxufVxcbi5Db2RlTWlycm9yLW92ZXJsYXlzY3JvbGwtaG9yaXpvbnRhbCBkaXYge1xcbiAgYm90dG9tOiAwO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cXG4uQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLXZlcnRpY2FsIHtcXG4gIHJpZ2h0OiAwOyB0b3A6IDA7XFxuICB3aWR0aDogNnB4O1xcbn1cXG4uQ29kZU1pcnJvci1vdmVybGF5c2Nyb2xsLXZlcnRpY2FsIGRpdiB7XFxuICByaWdodDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdD90OigvXlsnXCJdLipbJ1wiXSQvLnRlc3QodCkmJih0PXQuc2xpY2UoMSwtMSkpLC9bXCInKCkgXFx0XFxuXS8udGVzdCh0KXx8ZT8nXCInK3QucmVwbGFjZSgvXCIvZywnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csXCJcXFxcblwiKSsnXCInOnQpfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQz94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0ndXRmLTgnPyUzRSAlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDE2Ljk5NiAyMC45OTknIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDE2Ljk5NiAyMC45OTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ3BvbHlnb24gZmlsbD0nJTIzMzhCMDU4JyBwb2ludHM9JzE2Ljk5NiwxMC40OTkgMCwyMC45OTkgMCwwICcvJTNFICUzQy9zdmclM0VcXFwiXCJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYnIGhlaWdodD0nMTYnIHZpZXdCb3g9JzAgMCAxNiAxNiclM0UgJTNDdGl0bGUlM0VpY29uc19hbGxfc3ByaXRlJTNDL3RpdGxlJTNFICUzQ2cgaWQ9J0xheWVyXzQnIGRhdGEtbmFtZT0nTGF5ZXIgNCclM0UgJTNDcG9seWdvbiBwb2ludHM9JzEzLjUgMTIuMTI1IDkuMzc1IDggMTMuNSAzLjg3NSAxMi4xMjUgMi41IDggNi42MjUgMy44NzUgMi41IDIuNSAzLjg3NSA2LjYyNSA4IDIuNSAxMi4xMjUgMy44NzUgMTMuNSA4IDkuMzc1IDEyLjEyNSAxMy41IDEzLjUgMTIuMTI1JyBmaWxsPSclMjNmZmZmZmYnIG9wYWNpdHk9JzAuOScvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcXFwiXCJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYnIGhlaWdodD0nMTYnIHZpZXdCb3g9JzAgMCAxNiAxNiclM0UgJTNDdGl0bGUlM0VpY29uc19hbGxfc3ByaXRlJTNDL3RpdGxlJTNFICUzQ2cgaWQ9J0xheWVyXzQnIGRhdGEtbmFtZT0nTGF5ZXIgNCclM0UgJTNDZyUzRSAlM0NjaXJjbGUgY3g9JzgnIGN5PSc4JyByPSc2JyBmaWxsPSclMjNlMDUyMTknIG9wYWNpdHk9JzAuOScgc3R5bGU9J2lzb2xhdGlvbjogaXNvbGF0ZScvJTNFICUzQ3BhdGggZD0nTTguOTk2MDksNC45ODgyOFY2LjQ4MTkzYS40OTA1LjQ5MDUsMCwwLDEtLjAwOTc2LjA5NjE5TDguMjgxNzQsOUg3LjcxMDQ1TDcuMDA1ODYsNi41NzgxMkEuNDQyMzMuNDQyMzMsMCwwLDEsNyw2LjUyMVY1YzAtLjI2NDY1LDAtLjk5MDIzLjQ3NTU5LS45OTAyM2gxLjA0MUM5LDQuMDA5NzcsOC45OTYwOSw0LjcyMzYzLDguOTk2MDksNC45ODgyOFptLS4xMDU0Nyw1LjkzMjlMOC40MjYyNywxMC4zMWEuNDcwNTYuNDcwNTYsMCwwLDAtLjM3MzU0LS4xODk0M0g3Ljk0MDkyYS40NzA3OC40NzA3OCwwLDAsMC0uMzc0LjE4OTQzbC0uNDY0MzUuNjExMTdBLjUyNTU3LjUyNTU3LDAsMCwwLDcsMTEuMjI4ODJ2LjI4MTg0QS40OTA4OC40OTA4OCwwLDAsMCw3LjQ3NjA3LDEyaDEuMDQxYS40OTMxMi40OTMxMiwwLDAsMCwuNDc5LS41MDYzOGwuMDAwNDktLjI1NDQ3QS41MjMzMy41MjMzMywwLDAsMCw4Ljg5MDYyLDEwLjkyMTE4WicgZmlsbD0nJTIzZmZmJy8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgdmlld0JveD0nMCAwIDE2IDE2JyUzRSAlM0N0aXRsZSUzRWljb25zX2FsbF9zcHJpdGUlM0MvdGl0bGUlM0UgJTNDZyBpZD0nTGF5ZXJfNCcgZGF0YS1uYW1lPSdMYXllciA0JyUzRSAlM0NjaXJjbGUgY3g9JzgnIGN5PSc4JyByPSc3JyBmaWxsPSclMjM0Y2EwMWYnIG9wYWNpdHk9JzAuOScgc3R5bGU9J2lzb2xhdGlvbjogaXNvbGF0ZScvJTNFICUzQ3BvbHlnb24gcG9pbnRzPScxMi44MDggNi4yMDUgMTEuNSA1LjAyNSA3LjQ4NiA5LjYyNSA0LjM0NiA2LjA3NyAzLjEyNSA3LjE4MiA3LjUgMTIgMTIuODA4IDYuMjA1JyBmaWxsPSclMjNmZmYnLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2JyBoZWlnaHQ9JzE2JyB2aWV3Qm94PScwIDAgMTYgMTYnJTNFICUzQ3RpdGxlJTNFaWNvbnNfYWxsX3Nwcml0ZSUzQy90aXRsZSUzRSAlM0NnIGlkPSdMYXllcl80JyBkYXRhLW5hbWU9J0xheWVyIDQnJTNFICUzQ2cgc3R5bGU9J2lzb2xhdGlvbjogaXNvbGF0ZSclM0UgJTNDY2lyY2xlIGN4PSc3LjUnIGN5PSc3LjUnIHI9JzYuNScgZmlsbD0nJTIzZTA1MjE5Jy8lM0UgJTNDL2clM0UgJTNDcG9seWdvbiBwb2ludHM9JzEwLjMyOCA5LjYyMSA4LjIwNyA3LjUgMTAuMzI4IDUuMzc5IDkuNjIxIDQuNjcyIDcuNSA2Ljc5MyA1LjM3OSA0LjY3MiA0LjY3MiA1LjM3OSA2Ljc5MyA3LjUgNC42NzIgOS42MjEgNS4zNzkgMTAuMzI4IDcuNSA4LjIwNyA5LjYyMSAxMC4zMjggMTAuMzI4IDkuNjIxJyBmaWxsPSclMjNmZmYnLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDIS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjEuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAtLSUzRSAlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAzMSAxOScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMzEgMTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2clM0UgJTNDcGF0aCBmaWxsPSclMjNGRkZGRkYnIGQ9J00yMS41LDE5aC0xMkM0LjI1MywxOSwwLDE0Ljc0NywwLDkuNXYwQzAsNC4yNTMsNC4yNTMsMCw5LjUsMGgxMkMyNi43NDcsMCwzMSw0LjI1MywzMSw5LjV2MCBDMzEsMTQuNzQ3LDI2Ljc0NywxOSwyMS41LDE5eicgLyUzRSAlM0NwYXRoIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Q0ZDRkNCcgZD0nTTIxLjUsMUMyNi4xODcsMSwzMCw0LjgxMywzMCw5LjVjMCw0LjY4Ny0zLjgxMyw4LjUtOC41LDguNWgtMTJDNC44MTMsMTgsMSwxNC4xODcsMSw5LjUgQzEsNC44MTMsNC44MTMsMSw5LjUsMUgyMS41IE0yMS41LDBoLTEyQzQuMjUzLDAsMCw0LjI1MywwLDkuNXYwQzAsMTQuNzQ3LDQuMjUzLDE5LDkuNSwxOWgxMmM1LjI0NywwLDkuNS00LjI1Myw5LjUtOS41djAgQzMxLDQuMjUzLDI2Ljc0NywwLDIxLjUsMEwyMS41LDB6JyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyBmaWxsPSclMjNGRkZGRkYnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZDRkNGQ0JyBwb2ludHM9JzIxLDkgMTAsOSAxMCwxMCAyMSwxMCAyMSw5ICcgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KC0xLjgzNjk3MGUtMTYgMSAtMSAtMS44MzY5NzBlLTE2IDI1IC02KScgZmlsbD0nJTIzRkZGRkZGJyB3aWR0aD0nMTEnIGhlaWdodD0nMScgLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Q0ZDRkNCcgcG9pbnRzPScxNiw0IDE1LDQgMTUsMTUgMTYsMTUgMTYsNCAnIC8lM0UgJTNDL2clM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCJcIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCJcXFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMzEgMTknIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDMxIDE5JyB4bWw6c3BhY2U9J3ByZXNlcnZlJyUzRSAlM0NnJTNFICUzQ3BhdGggZmlsbD0nJTIzRkZGRkZGJyBkPSdNMjEuNSwxOWgtMTJDNC4yNTMsMTksMCwxNC43NDcsMCw5LjV2MEMwLDQuMjUzLDQuMjUzLDAsOS41LDBoMTJDMjYuNzQ3LDAsMzEsNC4yNTMsMzEsOS41djAgQzMxLDE0Ljc0NywyNi43NDcsMTksMjEuNSwxOXonIC8lM0UgJTNDcGF0aCBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIGQ9J00yMS41LDFDMjYuMTg3LDEsMzAsNC44MTMsMzAsOS41YzAsNC42ODctMy44MTMsOC41LTguNSw4LjVoLTEyQzQuODEzLDE4LDEsMTQuMTg3LDEsOS41IEMxLDQuODEzLDQuODEzLDEsOS41LDFIMjEuNSBNMjEuNSwwaC0xMkM0LjI1MywwLDAsNC4yNTMsMCw5LjV2MEMwLDE0Ljc0Nyw0LjI1MywxOSw5LjUsMTloMTJjNS4yNDcsMCw5LjUtNC4yNTMsOS41LTkuNXYwIEMzMSw0LjI1MywyNi43NDcsMCwyMS41LDBMMjEuNSwweicgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgZmlsbD0nJTIzRkZGRkZGJyB3aWR0aD0nMTEnIGhlaWdodD0nMScgLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Y2ODMyMicgcG9pbnRzPScyMSw5IDEwLDkgMTAsMTAgMjEsMTAgMjEsOSAnIC8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgtMS44MzY5NzBlLTE2IDEgLTEgLTEuODM2OTcwZS0xNiAyNSAtNiknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIHBvaW50cz0nMTYsNCAxNSw0IDE1LDE1IDE2LDE1IDE2LDQgJyAvJTNFICUzQy9nJTNFICUzQy9nJTNFICUzQy9zdmclM0VcXFwiXCJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0M/eG1sIHZlcnNpb249JzEuMCcgZW5jb2Rpbmc9J3V0Zi04Jz8lM0UgJTNDIS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjEuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAtLSUzRSAlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDMxIDE5JyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAzMSAxOScgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyUzRSAlM0NwYXRoIGZpbGw9JyUyMzJCMkIyQicgZD0nTTIxLjUsMTloLTEyQzQuMjUzLDE5LDAsMTQuNzQ3LDAsOS41djBDMCw0LjI1Myw0LjI1MywwLDkuNSwwaDEyQzI2Ljc0NywwLDMxLDQuMjUzLDMxLDkuNXYwIEMzMSwxNC43NDcsMjYuNzQ3LDE5LDIxLjUsMTl6Jy8lM0UgJTNDcGF0aCBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmZmZmZmYnIGQ9J00yMS41LDFDMjYuMTg3LDEsMzAsNC44MTMsMzAsOS41YzAsNC42ODctMy44MTMsOC41LTguNSw4LjVoLTEyQzQuODEzLDE4LDEsMTQuMTg3LDEsOS41IEMxLDQuODEzLDQuODEzLDEsOS41LDFIMjEuNSBNMjEuNSwwaC0xMkM0LjI1MywwLDAsNC4yNTMsMCw5LjV2MEMwLDE0Ljc0Nyw0LjI1MywxOSw5LjUsMTloMTJjNS4yNDcsMCw5LjUtNC4yNTMsOS41LTkuNXYwIEMzMSw0LjI1MywyNi43NDcsMCwyMS41LDBMMjEuNSwweicvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyBmaWxsPSclMjNFQUVBRUMnIHdpZHRoPScxMScgaGVpZ2h0PScxJy8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNFQUVBRUMnIHBvaW50cz0nMjEsOSAxMCw5IDEwLDEwIDIxLDEwIDIxLDkgJy8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgtMS44MzY5NzBlLTE2IDEgLTEgLTEuODM2OTcwZS0xNiAyNSAtNiknIGZpbGw9JyUyM0VBRUFFQycgd2lkdGg9JzExJyBoZWlnaHQ9JzEnLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM0VBRUFFQycgcG9pbnRzPScxNiw0IDE1LDQgMTUsMTUgMTYsMTUgMTYsNCAnLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDIS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjEuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAtLSUzRSAlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDMxIDE5JyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAzMSAxOScgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyUzRSAlM0NwYXRoIGZpbGw9JyUyMzJCMkIyQicgZD0nTTIxLjUsMTloLTEyQzQuMjUzLDE5LDAsMTQuNzQ3LDAsOS41djBDMCw0LjI1Myw0LjI1MywwLDkuNSwwaDEyQzI2Ljc0NywwLDMxLDQuMjUzLDMxLDkuNXYwIEMzMSwxNC43NDcsMjYuNzQ3LDE5LDIxLjUsMTl6JyAvJTNFICUzQ3BhdGggY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBkPSdNMjEuNSwxQzI2LjE4NywxLDMwLDQuODEzLDMwLDkuNWMwLDQuNjg3LTMuODEzLDguNS04LjUsOC41aC0xMkM0LjgxMywxOCwxLDE0LjE4NywxLDkuNSBDMSw0LjgxMyw0LjgxMywxLDkuNSwxSDIxLjUgTTIxLjUsMGgtMTJDNC4yNTMsMCwwLDQuMjUzLDAsOS41djBDMCwxNC43NDcsNC4yNTMsMTksOS41LDE5aDEyYzUuMjQ3LDAsOS41LTQuMjUzLDkuNS05LjV2MCBDMzEsNC4yNTMsMjYuNzQ3LDAsMjEuNSwwTDIxLjUsMHonIC8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIGZpbGw9JyUyM0VBRUFFQycgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIHBvaW50cz0nMjEsOSAxMCw5IDEwLDEwIDIxLDEwIDIxLDkgJyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoLTEuODM2OTcwZS0xNiAxIC0xIC0xLjgzNjk3MGUtMTYgMjUgLTYpJyBmaWxsPSclMjNFQUVBRUMnIHdpZHRoPScxMScgaGVpZ2h0PScxJyAvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBwb2ludHM9JzE2LDQgMTUsNCAxNSwxNSAxNiwxNSAxNiw0ICcgLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDIS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjEuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAtLSUzRSAlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAzMSAxOScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMzEgMTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2clM0UgJTNDcGF0aCBmaWxsPSclMjNGRkZGRkYnIGQ9J00yMS41LDE5aC0xMkM0LjI1MywxOSwwLDE0Ljc0NywwLDkuNXYwQzAsNC4yNTMsNC4yNTMsMCw5LjUsMGgxMkMyNi43NDcsMCwzMSw0LjI1MywzMSw5LjV2MCBDMzEsMTQuNzQ3LDI2Ljc0NywxOSwyMS41LDE5eicgLyUzRSAlM0NwYXRoIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Q0ZDRkNCcgZD0nTTIxLjUsMUMyNi4xODcsMSwzMCw0LjgxMywzMCw5LjVjMCw0LjY4Ny0zLjgxMyw4LjUtOC41LDguNWgtMTJDNC44MTMsMTgsMSwxNC4xODcsMSw5LjUgQzEsNC44MTMsNC44MTMsMSw5LjUsMUgyMS41IE0yMS41LDBoLTEyQzQuMjUzLDAsMCw0LjI1MywwLDkuNXYwQzAsMTQuNzQ3LDQuMjUzLDE5LDkuNSwxOWgxMmM1LjI0NywwLDkuNS00LjI1Myw5LjUtOS41djAgQzMxLDQuMjUzLDI2Ljc0NywwLDIxLjUsMEwyMS41LDB6JyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgwLjcwNzEgMC43MDcxIC0wLjcwNzEgMC43MDcxIDExLjI1NzQgLTguMTc3NyknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNkNGQ0ZDQnIHBvaW50cz0nMTEuOTY0LDUuMjU3IDExLjI1Nyw1Ljk2NCAxOS4wMzYsMTMuNzQzIDE5Ljc0MywxMy4wMzYgMTEuOTY0LDUuMjU3ICcgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KC0wLjcwNzEgMC43MDcxIC0wLjcwNzEgLTAuNzA3MSAzMy4xNzc3IDUuMjU3NCknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNkNGQ0ZDQnIHBvaW50cz0nMTkuMDM2LDUuMjU3IDExLjI1NywxMy4wMzYgMTEuOTY0LDEzLjc0MyAxOS43NDMsNS45NjQgMTkuMDM2LDUuMjU3ICcgLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDIS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjEuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAtLSUzRSAlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAzMSAxOScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMzEgMTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2clM0UgJTNDcGF0aCBmaWxsPSclMjNGRkZGRkYnIGQ9J00yMS41LDE5aC0xMkM0LjI1MywxOSwwLDE0Ljc0NywwLDkuNXYwQzAsNC4yNTMsNC4yNTMsMCw5LjUsMGgxMkMyNi43NDcsMCwzMSw0LjI1MywzMSw5LjV2MCBDMzEsMTQuNzQ3LDI2Ljc0NywxOSwyMS41LDE5eicgLyUzRSAlM0NwYXRoIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Y2ODMyMicgZD0nTTIxLjUsMUMyNi4xODcsMSwzMCw0LjgxMywzMCw5LjVjMCw0LjY4Ny0zLjgxMyw4LjUtOC41LDguNWgtMTJDNC44MTMsMTgsMSwxNC4xODcsMSw5LjUgQzEsNC44MTMsNC44MTMsMSw5LjUsMUgyMS41IE0yMS41LDBoLTEyQzQuMjUzLDAsMCw0LjI1MywwLDkuNXYwQzAsMTQuNzQ3LDQuMjUzLDE5LDkuNSwxOWgxMmM1LjI0NywwLDkuNS00LjI1Myw5LjUtOS41djAgQzMxLDQuMjUzLDI2Ljc0NywwLDIxLjUsMEwyMS41LDB6JyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDZyUzRSAlM0NyZWN0IHg9JzEwJyB5PSc5JyB0cmFuc2Zvcm09J21hdHJpeCgwLjcwNzEgMC43MDcxIC0wLjcwNzEgMC43MDcxIDExLjI1NzQgLTguMTc3NyknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIHBvaW50cz0nMTEuOTY0LDUuMjU3IDExLjI1Nyw1Ljk2NCAxOS4wMzYsMTMuNzQzIDE5Ljc0MywxMy4wMzYgMTEuOTY0LDUuMjU3ICcgLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KC0wLjcwNzEgMC43MDcxIC0wLjcwNzEgLTAuNzA3MSAzMy4xNzc3IDUuMjU3NCknIGZpbGw9JyUyM0ZGRkZGRicgd2lkdGg9JzExJyBoZWlnaHQ9JzEnIC8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNmNjgzMjInIHBvaW50cz0nMTkuMDM2LDUuMjU3IDExLjI1NywxMy4wMzYgMTEuOTY0LDEzLjc0MyAxOS43NDMsNS45NjQgMTkuMDM2LDUuMjU3ICcgLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDP3htbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSd1dGYtOCc/JTNFICUzQyEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgLS0lM0UgJTNDc3ZnIHZlcnNpb249JzEuMScgaWQ9J0xheWVyXzEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAzMSAxOScgZW5hYmxlLWJhY2tncm91bmQ9J25ldyAwIDAgMzEgMTknIHhtbDpzcGFjZT0ncHJlc2VydmUnJTNFICUzQ2clM0UgJTNDcGF0aCBmaWxsPSclMjMyQjJCMkInIGQ9J00yMS41LDE5aC0xMkM0LjI1MywxOSwwLDE0Ljc0NywwLDkuNXYwQzAsNC4yNTMsNC4yNTMsMCw5LjUsMGgxMkMyNi43NDcsMCwzMSw0LjI1MywzMSw5LjV2MCBDMzEsMTQuNzQ3LDI2Ljc0NywxOSwyMS41LDE5eicvJTNFICUzQ3BhdGggY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzRUFFQUVDJyBkPSdNMjEuNSwxQzI2LjE4NywxLDMwLDQuODEzLDMwLDkuNWMwLDQuNjg3LTMuODEzLDguNS04LjUsOC41aC0xMkM0LjgxMywxOCwxLDE0LjE4NywxLDkuNSBDMSw0LjgxMyw0LjgxMywxLDkuNSwxSDIxLjUgTTIxLjUsMGgtMTJDNC4yNTMsMCwwLDQuMjUzLDAsOS41djBDMCwxNC43NDcsNC4yNTMsMTksOS41LDE5aDEyYzUuMjQ3LDAsOS41LTQuMjUzLDkuNS05LjV2MCBDMzEsNC4yNTMsMjYuNzQ3LDAsMjEuNSwwTDIxLjUsMHonLyUzRSAlM0MvZyUzRSAlM0NnJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoMC43MDcxIDAuNzA3MSAtMC43MDcxIDAuNzA3MSAxMS4yNTc0IC04LjE3NzcpJyBmaWxsPSclMjNGRkZGRkYnIHdpZHRoPScxMScgaGVpZ2h0PScxJy8lM0UgJTNDcG9seWdvbiBjbGFzcz0nZGF0YS1maWxsJyBmaWxsPSclMjNFQUVBRUMnIHBvaW50cz0nMTEuOTY0LDUuMjU3IDExLjI1Nyw1Ljk2NCAxOS4wMzYsMTMuNzQzIDE5Ljc0MywxMy4wMzYgMTEuOTY0LDUuMjU3ICcvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoLTAuNzA3MSAwLjcwNzEgLTAuNzA3MSAtMC43MDcxIDMzLjE3NzcgNS4yNTc0KScgZmlsbD0nJTIzRkZGRkZGJyB3aWR0aD0nMTEnIGhlaWdodD0nMScvJTNFICUzQ3BvbHlnb24gY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzRUFFQUVDJyBwb2ludHM9JzE5LjAzNiw1LjI1NyAxMS4yNTcsMTMuMDM2IDExLjk2NCwxMy43NDMgMTkuNzQzLDUuOTY0IDE5LjAzNiw1LjI1NyAnLyUzRSAlM0MvZyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIlwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIlxcXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDIS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjEuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAtLSUzRSAlM0NzdmcgdmVyc2lvbj0nMS4xJyBpZD0nTGF5ZXJfMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4PScwcHgnIHk9JzBweCcgdmlld0JveD0nMCAwIDMxIDE5JyBlbmFibGUtYmFja2dyb3VuZD0nbmV3IDAgMCAzMSAxOScgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UgJTNDZyUzRSAlM0NwYXRoIGZpbGw9JyUyMzJCMkIyQicgZD0nTTIxLjUsMTloLTEyQzQuMjUzLDE5LDAsMTQuNzQ3LDAsOS41djBDMCw0LjI1Myw0LjI1MywwLDkuNSwwaDEyQzI2Ljc0NywwLDMxLDQuMjUzLDMxLDkuNXYwIEMzMSwxNC43NDcsMjYuNzQ3LDE5LDIxLjUsMTl6JyAvJTNFICUzQ3BhdGggY2xhc3M9J2RhdGEtZmlsbCcgZmlsbD0nJTIzZjY4MzIyJyBkPSdNMjEuNSwxQzI2LjE4NywxLDMwLDQuODEzLDMwLDkuNWMwLDQuNjg3LTMuODEzLDguNS04LjUsOC41aC0xMkM0LjgxMywxOCwxLDE0LjE4NywxLDkuNSBDMSw0LjgxMyw0LjgxMywxLDkuNSwxSDIxLjUgTTIxLjUsMGgtMTJDNC4yNTMsMCwwLDQuMjUzLDAsOS41djBDMCwxNC43NDcsNC4yNTMsMTksOS41LDE5aDEyYzUuMjQ3LDAsOS41LTQuMjUzLDkuNS05LjV2MCBDMzEsNC4yNTMsMjYuNzQ3LDAsMjEuNSwwTDIxLjUsMHonIC8lM0UgJTNDL2clM0UgJTNDZyUzRSAlM0NnJTNFICUzQ3JlY3QgeD0nMTAnIHk9JzknIHRyYW5zZm9ybT0nbWF0cml4KDAuNzA3MSAwLjcwNzEgLTAuNzA3MSAwLjcwNzEgMTEuMjU3NCAtOC4xNzc3KScgZmlsbD0nJTIzRkZGRkZGJyB3aWR0aD0nMTEnIGhlaWdodD0nMScgLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Y2ODMyMicgcG9pbnRzPScxMS45NjQsNS4yNTcgMTEuMjU3LDUuOTY0IDE5LjAzNiwxMy43NDMgMTkuNzQzLDEzLjAzNiAxMS45NjQsNS4yNTcgJyAvJTNFICUzQy9nJTNFICUzQ2clM0UgJTNDcmVjdCB4PScxMCcgeT0nOScgdHJhbnNmb3JtPSdtYXRyaXgoLTAuNzA3MSAwLjcwNzEgLTAuNzA3MSAtMC43MDcxIDMzLjE3NzcgNS4yNTc0KScgZmlsbD0nJTIzRkZGRkZGJyB3aWR0aD0nMTEnIGhlaWdodD0nMScgLyUzRSAlM0Nwb2x5Z29uIGNsYXNzPSdkYXRhLWZpbGwnIGZpbGw9JyUyM2Y2ODMyMicgcG9pbnRzPScxOS4wMzYsNS4yNTcgMTEuMjU3LDEzLjAzNiAxMS45NjQsMTMuNzQzIDE5Ljc0Myw1Ljk2NCAxOS4wMzYsNS4yNTcgJyAvJTNFICUzQy9nJTNFICUzQy9nJTNFICUzQy9zdmclM0VcXFwiXCJ9LGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBvKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHModCl7aWYobj09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigobj09PW98fCFuKSYmc2V0VGltZW91dClyZXR1cm4gbj1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIG4odCwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLHQsMCl9Y2F0Y2goZSl7cmV0dXJuIG4uY2FsbCh0aGlzLHQsMCl9fX0hZnVuY3Rpb24oKXt0cnl7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6b31jYXRjaCh0KXtuPW99dHJ5e3I9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKHQpe3I9YX19KCk7dmFyIGwsYz1bXSx1PSExLGY9LTE7ZnVuY3Rpb24gZCgpe3UmJmwmJih1PSExLGwubGVuZ3RoP2M9bC5jb25jYXQoYyk6Zj0tMSxjLmxlbmd0aCYmaCgpKX1mdW5jdGlvbiBoKCl7aWYoIXUpe3ZhciB0PXMoZCk7dT0hMDtmb3IodmFyIGU9Yy5sZW5ndGg7ZTspe2ZvcihsPWMsYz1bXTsrK2Y8ZTspbCYmbFtmXS5ydW4oKTtmPS0xLGU9Yy5sZW5ndGh9bD1udWxsLHU9ITEsZnVuY3Rpb24odCl7aWYocj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KHQpO2lmKChyPT09YXx8IXIpJiZjbGVhclRpbWVvdXQpcmV0dXJuIHI9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dCh0KTt0cnl7cih0KX1jYXRjaChlKXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiByLmNhbGwodGhpcyx0KX19fSh0KX19ZnVuY3Rpb24gcCh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIG0oKXt9aS5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2MucHVzaChuZXcgcCh0LGUpKSwxIT09Yy5sZW5ndGh8fHV8fHMoaCl9LHAucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LGkudGl0bGU9XCJicm93c2VyXCIsaS5icm93c2VyPSEwLGkuZW52PXt9LGkuYXJndj1bXSxpLnZlcnNpb249XCJcIixpLnZlcnNpb25zPXt9LGkub249bSxpLmFkZExpc3RlbmVyPW0saS5vbmNlPW0saS5vZmY9bSxpLnJlbW92ZUxpc3RlbmVyPW0saS5yZW1vdmVBbGxMaXN0ZW5lcnM9bSxpLmVtaXQ9bSxpLnByZXBlbmRMaXN0ZW5lcj1tLGkucHJlcGVuZE9uY2VMaXN0ZW5lcj1tLGkubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGkuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LGkuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSwsLCxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpO3ZhciByPW4oMTQ5KSxpPW4ubihyKSxvPW4oMTUwKSxhPW4ubihvKSxzPShuKDc4KSxuKDg4KSxuKDM1KSksbD1uLm4ocyksYz0obig5MSksbigxOTMpLG4oNTYpLG4oMzYpKSx1PW4ubihjKSxmPVwiZGFyY3VsYVwiLGQ9XCJpZGVhXCIsaD1cImRlZmF1bHRcIixwPVwibm9jdXJzb3JcIjtmdW5jdGlvbiBtKHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDApfWZ1bmN0aW9uIGcodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZighdHx8IXQuYXR0cmlidXRlcylyZXR1cm57fTt2YXIgbj1tKHQuYXR0cmlidXRlcykucmVkdWNlKGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5uYW1lLHI9ZS52YWx1ZTtyZXR1cm4tMT09PW4uaW5kZXhPZihcImRhdGEtXCIpP3Q6KHRbbi5yZXBsYWNlKFwiZGF0YS1cIixcIlwiKS5zcGxpdChcIi1cIikubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHQ/XCJcIjp0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSl9KHQpOnR9KS5qb2luKFwiXCIpXT1yLHQpfSx7fSk7cmV0dXJuIGU/dS5hLmFsbChbUyxufHx7fV0pOm59ZnVuY3Rpb24gdih0KXtyZXR1cm4gdC5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csXCJcXFxcJDFcIil9ZnVuY3Rpb24geSh0KXt2YXIgZT17XCImbHQ7XCI6XCI8XCIsXCImZ3Q7XCI6XCI+XCJ9LG49dDtyZXR1cm4gbCgpKGUpLmZvckVhY2goZnVuY3Rpb24odCl7bj1uLnJlcGxhY2UobmV3IFJlZ0V4cChlW3RdLFwiZ1wiKSx0KX0pLG59ZnVuY3Rpb24gYih0KXtyZXR1cm4odC5tYXRjaCgvXFxuL2cpfHxbXSkubGVuZ3RofWZ1bmN0aW9uIHgodCl7cmV0dXJuIHQucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX12YXIgdyxDPSh3PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpKVt3Lmxlbmd0aC0xXXx8bnVsbCxrPWEoKSh7fSxnKEMpKSxfPXtzZXJ2ZXI6ay5zZXJ2ZXJ8fFwiaHR0cHM6Ly90cnkua290bGlubGFuZy5vcmdcIixnZXQgQ09NUElMRSgpe3JldHVyblwiXCIuY29uY2F0KHRoaXMuc2VydmVyLFwiL2tvdGxpblNlcnZlcj90eXBlPXJ1biZydW5Db25mPVwiKX0sZ2V0IEhJR0hMSUdIVCgpe3JldHVyblwiXCIuY29uY2F0KHRoaXMuc2VydmVyLFwiL2tvdGxpblNlcnZlcj90eXBlPWhpZ2hsaWdodCZydW5Db25mPVwiKX0sZ2V0IENPTVBMRVRFKCl7cmV0dXJuXCJcIi5jb25jYXQodGhpcy5zZXJ2ZXIsXCIva290bGluU2VydmVyP3R5cGU9Y29tcGxldGUmcnVuQ29uZj1cIil9LGdldCBWRVJTSU9OUygpe3JldHVyblwiXCIuY29uY2F0KHRoaXMuc2VydmVyLFwiL2tvdGxpblNlcnZlcj90eXBlPWdldEtvdGxpblZlcnNpb25zXCIpfSxnZXQgSlFVRVJZKCl7cmV0dXJuXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2pxdWVyeUAxL2Rpc3QvanF1ZXJ5Lm1pbi5qc1wifSxnZXQgS09UTElOX0pTKCl7cmV0dXJuXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2tvdGxpbkBcIn19LFM9e3NlbGVjdG9yOlwiY29kZVwiLGNvbXBpbGVyVmVyc2lvbjp2b2lkIDB9LEU9KG4oOTIpLG4oOTMpLG4oMzcpKSxUPW4ubihFKSxPPW4oMTAxKSxNPW4ubihPKSxMPW4oMTUxKSxBPW4ubihMKSxOPW4oNjEpLFA9bi5uKE4pLEY9big2NSksST1uLm4oRiksaj1uKDUpLEQ9bi5uKGopLHo9big2KSxSPW4ubih6KSxCPW4oMCksSD1uLm4oQiksVz0obigyMzcpLG4oMjM4KSxuKDIzOSksbigyNDApLG4oMjQxKSxuKDI0MyksbigyNDQpLG4oMjQ1KSxuKDI0NiksbigyNDcpLG4oMjQ4KSxuKDI0OSksbigyNTApLG4oMjUxKSxuKDI1MiksbigxNTIpKSxVPW4ubihXKSxWPShuKDE0MyksbigxNDQpLG4oMTUzKSksRz1uLm4oViksSz1uKDEwMiksJD1uLm4oSykscT17c2VhcmNoUGFyYW1zOlwiVVJMU2VhcmNoUGFyYW1zXCJpbiBzZWxmLGl0ZXJhYmxlOlwiU3ltYm9sXCJpbiBzZWxmJiZcIml0ZXJhdG9yXCJpbiBTeW1ib2wsYmxvYjpcIkZpbGVSZWFkZXJcImluIHNlbGYmJlwiQmxvYlwiaW4gc2VsZiYmZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBCbG9iLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKSxmb3JtRGF0YTpcIkZvcm1EYXRhXCJpbiBzZWxmLGFycmF5QnVmZmVyOlwiQXJyYXlCdWZmZXJcImluIHNlbGZ9O2lmKHEuYXJyYXlCdWZmZXIpdmFyIFk9W1wiW29iamVjdCBJbnQ4QXJyYXldXCIsXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLFwiW29iamVjdCBJbnQxNkFycmF5XVwiLFwiW29iamVjdCBVaW50MTZBcnJheV1cIixcIltvYmplY3QgSW50MzJBcnJheV1cIixcIltvYmplY3QgVWludDMyQXJyYXldXCIsXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXSxKPUFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlkuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpPi0xfTtmdW5jdGlvbiBYKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYodD1TdHJpbmcodCkpLC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH5dL2kudGVzdCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWVcIik7cmV0dXJuIHQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBaKHQpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiB0JiYodD1TdHJpbmcodCkpLHR9ZnVuY3Rpb24gUSh0KXt2YXIgZT17bmV4dDpmdW5jdGlvbigpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm57ZG9uZTp2b2lkIDA9PT1lLHZhbHVlOmV9fX07cmV0dXJuIHEuaXRlcmFibGUmJihlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZX0pLGV9ZnVuY3Rpb24gdHQodCl7dGhpcy5tYXA9e30sdCBpbnN0YW5jZW9mIHR0P3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe3RoaXMuYXBwZW5kKGUsdCl9LHRoaXMpOkFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMuYXBwZW5kKHRbMF0sdFsxXSl9LHRoaXMpOnQmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5hcHBlbmQoZSx0W2VdKX0sdGhpcyl9ZnVuY3Rpb24gZXQodCl7aWYodC5ib2R5VXNlZClyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcIkFscmVhZHkgcmVhZFwiKSk7dC5ib2R5VXNlZD0hMH1mdW5jdGlvbiBudCh0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxuKXt0Lm9ubG9hZD1mdW5jdGlvbigpe2UodC5yZXN1bHQpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtuKHQuZXJyb3IpfX0pfWZ1bmN0aW9uIHJ0KHQpe3ZhciBlPW5ldyBGaWxlUmVhZGVyLG49bnQoZSk7cmV0dXJuIGUucmVhZEFzQXJyYXlCdWZmZXIodCksbn1mdW5jdGlvbiBpdCh0KXtpZih0LnNsaWNlKXJldHVybiB0LnNsaWNlKDApO3ZhciBlPW5ldyBVaW50OEFycmF5KHQuYnl0ZUxlbmd0aCk7cmV0dXJuIGUuc2V0KG5ldyBVaW50OEFycmF5KHQpKSxlLmJ1ZmZlcn1mdW5jdGlvbiBvdCgpe3JldHVybiB0aGlzLmJvZHlVc2VkPSExLHRoaXMuX2luaXRCb2R5PWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuX2JvZHlJbml0PXQsdD9cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLl9ib2R5VGV4dD10OnEuYmxvYiYmQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZih0KT90aGlzLl9ib2R5QmxvYj10OnEuZm9ybURhdGEmJkZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpP3RoaXMuX2JvZHlGb3JtRGF0YT10OnEuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCk/dGhpcy5fYm9keVRleHQ9dC50b1N0cmluZygpOnEuYXJyYXlCdWZmZXImJnEuYmxvYiYmKChlPXQpJiZEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihlKSk/KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcj1pdCh0LmJ1ZmZlciksdGhpcy5fYm9keUluaXQ9bmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKTpxLmFycmF5QnVmZmVyJiYoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fEoodCkpP3RoaXMuX2JvZHlBcnJheUJ1ZmZlcj1pdCh0KTp0aGlzLl9ib2R5VGV4dD10PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTp0aGlzLl9ib2R5VGV4dD1cIlwiLHRoaXMuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIil8fChcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLmhlYWRlcnMuc2V0KFwiY29udGVudC10eXBlXCIsXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIik6dGhpcy5fYm9keUJsb2ImJnRoaXMuX2JvZHlCbG9iLnR5cGU/dGhpcy5oZWFkZXJzLnNldChcImNvbnRlbnQtdHlwZVwiLHRoaXMuX2JvZHlCbG9iLnR5cGUpOnEuc2VhcmNoUGFyYW1zJiZVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkmJnRoaXMuaGVhZGVycy5zZXQoXCJjb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04XCIpKX0scS5ibG9iJiYodGhpcy5ibG9iPWZ1bmN0aW9uKCl7dmFyIHQ9ZXQodGhpcyk7aWYodClyZXR1cm4gdDtpZih0aGlzLl9ib2R5QmxvYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKTtpZih0aGlzLl9ib2R5QXJyYXlCdWZmZXIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoXCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2JcIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSl9LHRoaXMuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keUFycmF5QnVmZmVyP2V0KHRoaXMpfHxQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKTp0aGlzLmJsb2IoKS50aGVuKHJ0KX0pLHRoaXMudGV4dD1mdW5jdGlvbigpe3ZhciB0PWV0KHRoaXMpO2lmKHQpcmV0dXJuIHQ7aWYodGhpcy5fYm9keUJsb2IpcmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBGaWxlUmVhZGVyLG49bnQoZSk7cmV0dXJuIGUucmVhZEFzVGV4dCh0KSxufSh0aGlzLl9ib2R5QmxvYik7aWYodGhpcy5fYm9keUFycmF5QnVmZmVyKXJldHVybiBQcm9taXNlLnJlc29sdmUoZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KHQpLG49bmV3IEFycmF5KGUubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDtyKyspbltyXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbcl0pO3JldHVybiBuLmpvaW4oXCJcIil9KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpO2lmKHRoaXMuX2JvZHlGb3JtRGF0YSl0aHJvdyBuZXcgRXJyb3IoXCJjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHRcIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCl9LHEuZm9ybURhdGEmJih0aGlzLmZvcm1EYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4obHQpfSksdGhpcy5qc29uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSl9LHRoaXN9dHQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0LGUpe3Q9WCh0KSxlPVooZSk7dmFyIG49dGhpcy5tYXBbdF07dGhpcy5tYXBbdF09bj9uK1wiLCBcIitlOmV9LHR0LnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMubWFwW1godCldfSx0dC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0PVgodCksdGhpcy5oYXModCk/dGhpcy5tYXBbdF06bnVsbH0sdHQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkoWCh0KSl9LHR0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLm1hcFtYKHQpXT1aKGUpfSx0dC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiB0aGlzLm1hcCl0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuKSYmdC5jYWxsKGUsdGhpcy5tYXBbbl0sbix0aGlzKX0sdHQucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dC5wdXNoKG4pfSksUSh0KX0sdHQucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSksUSh0KX0sdHQucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7dC5wdXNoKFtuLGVdKX0pLFEodCl9LHEuaXRlcmFibGUmJih0dC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT10dC5wcm90b3R5cGUuZW50cmllcyk7dmFyIGF0PVtcIkRFTEVURVwiLFwiR0VUXCIsXCJIRUFEXCIsXCJPUFRJT05TXCIsXCJQT1NUXCIsXCJQVVRcIl07ZnVuY3Rpb24gc3QodCxlKXt2YXIgbixyLGk9KGU9ZXx8e30pLmJvZHk7aWYodCBpbnN0YW5jZW9mIHN0KXtpZih0LmJvZHlVc2VkKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHJlYWR5IHJlYWRcIik7dGhpcy51cmw9dC51cmwsdGhpcy5jcmVkZW50aWFscz10LmNyZWRlbnRpYWxzLGUuaGVhZGVyc3x8KHRoaXMuaGVhZGVycz1uZXcgdHQodC5oZWFkZXJzKSksdGhpcy5tZXRob2Q9dC5tZXRob2QsdGhpcy5tb2RlPXQubW9kZSx0aGlzLnNpZ25hbD10LnNpZ25hbCxpfHxudWxsPT10Ll9ib2R5SW5pdHx8KGk9dC5fYm9keUluaXQsdC5ib2R5VXNlZD0hMCl9ZWxzZSB0aGlzLnVybD1TdHJpbmcodCk7aWYodGhpcy5jcmVkZW50aWFscz1lLmNyZWRlbnRpYWxzfHx0aGlzLmNyZWRlbnRpYWxzfHxcInNhbWUtb3JpZ2luXCIsIWUuaGVhZGVycyYmdGhpcy5oZWFkZXJzfHwodGhpcy5oZWFkZXJzPW5ldyB0dChlLmhlYWRlcnMpKSx0aGlzLm1ldGhvZD0obj1lLm1ldGhvZHx8dGhpcy5tZXRob2R8fFwiR0VUXCIscj1uLnRvVXBwZXJDYXNlKCksYXQuaW5kZXhPZihyKT4tMT9yOm4pLHRoaXMubW9kZT1lLm1vZGV8fHRoaXMubW9kZXx8bnVsbCx0aGlzLnNpZ25hbD1lLnNpZ25hbHx8dGhpcy5zaWduYWwsdGhpcy5yZWZlcnJlcj1udWxsLChcIkdFVFwiPT09dGhpcy5tZXRob2R8fFwiSEVBRFwiPT09dGhpcy5tZXRob2QpJiZpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0c1wiKTt0aGlzLl9pbml0Qm9keShpKX1mdW5jdGlvbiBsdCh0KXt2YXIgZT1uZXcgRm9ybURhdGE7cmV0dXJuIHQudHJpbSgpLnNwbGl0KFwiJlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBuPXQuc3BsaXQoXCI9XCIpLHI9bi5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSxpPW4uam9pbihcIj1cIikucmVwbGFjZSgvXFwrL2csXCIgXCIpO2UuYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChyKSxkZWNvZGVVUklDb21wb25lbnQoaSkpfX0pLGV9ZnVuY3Rpb24gY3QodCxlKXtlfHwoZT17fSksdGhpcy50eXBlPVwiZGVmYXVsdFwiLHRoaXMuc3RhdHVzPXZvaWQgMD09PWUuc3RhdHVzPzIwMDplLnN0YXR1cyx0aGlzLm9rPXRoaXMuc3RhdHVzPj0yMDAmJnRoaXMuc3RhdHVzPDMwMCx0aGlzLnN0YXR1c1RleHQ9XCJzdGF0dXNUZXh0XCJpbiBlP2Uuc3RhdHVzVGV4dDpcIk9LXCIsdGhpcy5oZWFkZXJzPW5ldyB0dChlLmhlYWRlcnMpLHRoaXMudXJsPWUudXJsfHxcIlwiLHRoaXMuX2luaXRCb2R5KHQpfXN0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgc3QodGhpcyx7Ym9keTp0aGlzLl9ib2R5SW5pdH0pfSxvdC5jYWxsKHN0LnByb3RvdHlwZSksb3QuY2FsbChjdC5wcm90b3R5cGUpLGN0LnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgY3QodGhpcy5fYm9keUluaXQse3N0YXR1czp0aGlzLnN0YXR1cyxzdGF0dXNUZXh0OnRoaXMuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyB0dCh0aGlzLmhlYWRlcnMpLHVybDp0aGlzLnVybH0pfSxjdC5lcnJvcj1mdW5jdGlvbigpe3ZhciB0PW5ldyBjdChudWxsLHtzdGF0dXM6MCxzdGF0dXNUZXh0OlwiXCJ9KTtyZXR1cm4gdC50eXBlPVwiZXJyb3JcIix0fTt2YXIgdXQ9WzMwMSwzMDIsMzAzLDMwNywzMDhdO2N0LnJlZGlyZWN0PWZ1bmN0aW9uKHQsZSl7aWYoLTE9PT11dC5pbmRleE9mKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBzdGF0dXMgY29kZVwiKTtyZXR1cm4gbmV3IGN0KG51bGwse3N0YXR1czplLGhlYWRlcnM6e2xvY2F0aW9uOnR9fSl9O3ZhciBmdD1zZWxmLkRPTUV4Y2VwdGlvbjt0cnl7bmV3IGZ0fWNhdGNoKHQpeyhmdD1mdW5jdGlvbih0LGUpe3RoaXMubWVzc2FnZT10LHRoaXMubmFtZT1lO3ZhciBuPUVycm9yKHQpO3RoaXMuc3RhY2s9bi5zdGFja30pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksZnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWZ0fWZ1bmN0aW9uIGR0KHQsZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4scil7dmFyIGk9bmV3IHN0KHQsZSk7aWYoaS5zaWduYWwmJmkuc2lnbmFsLmFib3J0ZWQpcmV0dXJuIHIobmV3IGZ0KFwiQWJvcnRlZFwiLFwiQWJvcnRFcnJvclwiKSk7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O2Z1bmN0aW9uIGEoKXtvLmFib3J0KCl9by5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdCxlLHI9e3N0YXR1czpvLnN0YXR1cyxzdGF0dXNUZXh0Om8uc3RhdHVzVGV4dCxoZWFkZXJzOih0PW8uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCl8fFwiXCIsZT1uZXcgdHQsdC5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLFwiIFwiKS5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC5zcGxpdChcIjpcIikscj1uLnNoaWZ0KCkudHJpbSgpO2lmKHIpe3ZhciBpPW4uam9pbihcIjpcIikudHJpbSgpO2UuYXBwZW5kKHIsaSl9fSksZSl9O3IudXJsPVwicmVzcG9uc2VVUkxcImluIG8/by5yZXNwb25zZVVSTDpyLmhlYWRlcnMuZ2V0KFwiWC1SZXF1ZXN0LVVSTFwiKTt2YXIgaT1cInJlc3BvbnNlXCJpbiBvP28ucmVzcG9uc2U6by5yZXNwb25zZVRleHQ7bihuZXcgY3QoaSxyKSl9LG8ub25lcnJvcj1mdW5jdGlvbigpe3IobmV3IFR5cGVFcnJvcihcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWRcIikpfSxvLm9udGltZW91dD1mdW5jdGlvbigpe3IobmV3IFR5cGVFcnJvcihcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWRcIikpfSxvLm9uYWJvcnQ9ZnVuY3Rpb24oKXtyKG5ldyBmdChcIkFib3J0ZWRcIixcIkFib3J0RXJyb3JcIikpfSxvLm9wZW4oaS5tZXRob2QsaS51cmwsITApLFwiaW5jbHVkZVwiPT09aS5jcmVkZW50aWFscz9vLndpdGhDcmVkZW50aWFscz0hMDpcIm9taXRcIj09PWkuY3JlZGVudGlhbHMmJihvLndpdGhDcmVkZW50aWFscz0hMSksXCJyZXNwb25zZVR5cGVcImluIG8mJnEuYmxvYiYmKG8ucmVzcG9uc2VUeXBlPVwiYmxvYlwiKSxpLmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih0LGUpe28uc2V0UmVxdWVzdEhlYWRlcihlLHQpfSksaS5zaWduYWwmJihpLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixhKSxvLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1vLnJlYWR5U3RhdGUmJmkuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGEpfSksby5zZW5kKHZvaWQgMD09PWkuX2JvZHlJbml0P251bGw6aS5fYm9keUluaXQpfSl9ZHQucG9seWZpbGw9ITAsc2VsZi5mZXRjaHx8KHNlbGYuZmV0Y2g9ZHQsc2VsZi5IZWFkZXJzPXR0LHNlbGYuUmVxdWVzdD1zdCxzZWxmLlJlc3BvbnNlPWN0KTt2YXIgaHQ9bigxNTQpLHB0PW4ubihodCksbXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7RCgpKHRoaXMsdCksdGhpcy5pZD1lLHRoaXMucHJpbnRhYmxlTmFtZT1ufXJldHVybiBSKCkodCxudWxsLFt7a2V5OlwiZ2V0QnlJZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlXCJqc1wiOnJldHVybiB0LkpTO2Nhc2VcImp1bml0XCI6cmV0dXJuIHQuSlVOSVQ7Y2FzZVwiY2FudmFzXCI6cmV0dXJuIHQuQ0FOVkFTO2RlZmF1bHQ6cmV0dXJuIHQuSkFWQX19fV0pLHR9KCk7bXQuSlM9bmV3IG10KFwianNcIixcIkphdmFTY3JpcHRcIiksbXQuSkFWQT1uZXcgbXQoXCJqYXZhXCIsXCJKVk1cIiksbXQuSlVOSVQ9bmV3IG10KFwianVuaXRcIixcIkpVbml0XCIpLG10LkNBTlZBUz1uZXcgbXQoXCJjYW52YXNcIixcIkphdmFTY3JpcHQoY2FudmFzKVwiKTt2YXIgZ3Q9bXQsdnQ9bigxMDMpLHl0PW4ubih2dCksYnQ9bigxNTUpLHh0PW4ubihidCksd3Q9bigxNTYpLEN0PW4ubih3dCksa3Q9XCJqYXZhLnNlY3VyaXR5LkFjY2Vzc0NvbnRyb2xFeGNlcHRpb25cIixfdD1cIkFjY2VzcyBjb250cm9sIGV4Y2VwdGlvbiBkdWUgdG8gc2VjdXJpdHkgcmVhc29ucyBpbiB3ZWIgcGxheWdyb3VuZFwiLFN0PVwiVW5oYW5kbGVkIEphdmFTY3JpcHQgZXhjZXB0aW9uXCIsRXQ9XCJObyB0ZXN0cyBtZXRob2RzIGFyZSBmb3VuZFwiLFR0PVwiJmx0O1wiLE90PVwiJmd0O1wiLE10PXtGQUlMOnt2YWx1ZTpcIkZBSUxcIix0ZXh0OlwiRmFpbFwifSxFUlJPUjp7dmFsdWU6XCJFUlJPUlwiLHRleHQ6XCJFcnJvclwifSxQQVNTRUQ6e3ZhbHVlOlwiT0tcIix0ZXh0OlwiUGFzc2VkXCJ9fSxMdD1cIlwiLmNvbmNhdChUdCxcImVyclN0cmVhbVwiKS5jb25jYXQoT3QsXCJCVUdcIikuY29uY2F0KFR0LFwiL2VyclN0cmVhbVwiKS5jb25jYXQoT3QpLEF0PVwiXCIuY29uY2F0KFR0LFwiZXJyU3RyZWFtXCIpLmNvbmNhdChPdCxcIkhleSEgSXQgc2VlbXMgeW91IGp1c3QgZm91bmQgYSBidWchIPCfkJ5cXG5cIikrXCJQbGVhc2UgY2xpY2sgPGEgaHJlZj1odHRwOi8va290bC5pbi9pc3N1ZSB0YXJnZXQ9X2JsYW5rPmhlcmU8YT4gdG8gc3VibWl0IGl0IHRvIHRoZSBpc3N1ZSB0cmFja2VyIGFuZCBvbmUgZGF5IHdlIGZpeCBpdCwgaG9wZWZ1bGx5IPCfmIlcXG5cIitcIuKchSBEb24ndCBmb3JnZXQgdG8gYXR0YWNoIGNvZGUgdG8gdGhlIGlzc3VlXCIuY29uY2F0KFR0LFwiL2VyclN0cmVhbVwiKS5jb25jYXQoT3QsXCJcXG5cIik7ZnVuY3Rpb24gTnQodCxlKXtyZXR1cm4geSh0KS5zcGxpdChMdCkuam9pbihBdCkuc3BsaXQoXCJcIi5jb25jYXQoVHQsXCJvdXRTdHJlYW1cIikuY29uY2F0KE90KSkuam9pbignPHNwYW4gY2xhc3M9XCJzdGFuZGFyZC1vdXRwdXQgJy5jb25jYXQoZSwnXCI+JykpLnNwbGl0KFwiXCIuY29uY2F0KFR0LFwiL291dFN0cmVhbVwiKS5jb25jYXQoT3QpKS5qb2luKFwiPC9zcGFuPlwiKS5zcGxpdChcIlwiLmNvbmNhdChUdCxcImVyclN0cmVhbVwiKS5jb25jYXQoT3QpKS5qb2luKCc8c3BhbiBjbGFzcz1cImVycm9yLW91dHB1dCAnLmNvbmNhdChlLCdcIj4nKSkuc3BsaXQoXCJcIi5jb25jYXQoVHQsXCIvZXJyU3RyZWFtXCIpLmNvbmNhdChPdCkpLmpvaW4oXCI8L3NwYW4+XCIpfWZ1bmN0aW9uIFB0KHQsZSxuKXtyZXR1cm4nXFxuICA8ZGl2IGNsYXNzPVwiY29uc29sZS1ibG9ja1wiPlxcbiAgICA8c3BhbiBjbGFzcz1cImNvbnNvbGUtaWNvbiAnLmNvbmNhdCh0LnRvTG9jYWxlTG93ZXJDYXNlKCksJ1wiPjwvc3Bhbj5cXG4gICAgPGRpdiBjbGFzcz1cInRlc3QtJykuY29uY2F0KHQudG9Mb2NhbGVMb3dlckNhc2UoKSwnXCI+JykuY29uY2F0KHQsXCI6IFwiKS5jb25jYXQoZSkuY29uY2F0KG4/XCI6IFwiKyhyPXtcIiZsdDtcIjpcIiZhbXA7bHQ7XCIsXCImZ3Q7XCI6XCImYW1wO2d0O1wifSxpPW4sbCgpKHIpLmZvckVhY2goZnVuY3Rpb24odCl7aT1pLnJlcGxhY2UobmV3IFJlZ0V4cChyW3RdLFwiZ1wiKSx0KX0pLGkpOlwiXCIsXCI8L2Rpdj5cXG4gIDwvZGl2PlxcbiAgXCIpO3ZhciByLGl9ZnVuY3Rpb24gRnQodCxlKXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gdCsnPGRpdiBjbGFzcz1cImNvbnNvbGUtYmxvY2tcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvbnNvbGUtaWNvbiBhdHRlbnRpb25cIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRlc3QtZmFpbCAnLmNvbmNhdChlLCdcIj4nKS5jb25jYXQoQ3QoKShuLm1lc3NhZ2UpLFwiPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlwiKX0sXCJcIil9ZnVuY3Rpb24gSXQodCl7cmV0dXJuIG51bGwhPXQuc3RhY2tUcmFjZSYmKG51bGwhPXQubWVzc2FnZT90Lm1lc3NhZ2U9XCJcIi5jb25jYXQoX3QsXCI6IFxcbiBcIikrdC5tZXNzYWdlOnQubWVzc2FnZT1fdCx0LnN0YWNrVHJhY2U9dC5zdGFja1RyYWNlLnNsaWNlKHQuc3RhY2tUcmFjZS5sZW5ndGgtMSkpLHR9dmFyIGp0PXt9LER0PVwiRmlsZS5rdFwiLHp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe0QoKSh0aGlzLHQpfXJldHVybiBSKCkodCxudWxsLFt7a2V5OlwiZ2V0Q29tcGlsZXJWZXJzaW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJjb21waWxlclZlcnNpb25zXCJpbiBqdD9ULmEucmVzb2x2ZShqdC5jb21waWxlclZlcnNpb25zKTpkdChfLlZFUlNJT05TKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGp0LmNvbXBpbGVyVmVyc2lvbnM9dCx0fSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pfX0se2tleTpcInRyYW5zbGF0ZUtvdGxpblRvSnNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiBSdChfLkNPTVBJTEUsdCxlLG4scixpKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybntvdXRwdXQ6XCJcIixlcnJvcnM6eXQoKSgkKCkodC5lcnJvcnMpKSxqc0NvZGU6dC5qc0NvZGV9fSl9fSx7a2V5OlwiZXhlY3V0ZUtvdGxpbkNvZGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyLGksbyxhLHMpe3JldHVybiBSdChfLkNPTVBJTEUsdCxlLG4scixvKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPVwiXCIscj15dCgpKCQoKSh0LmVycm9ycykpLG89ci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJFUlJPUlwiPT09dC5zZXZlcml0eX0pO2lmKG8ubGVuZ3RoPjApZT1GdChvLGkpO2Vsc2Ugc3dpdGNoKG4pe2Nhc2UgZ3QuSkFWQTp0LnRleHQmJihlPU50KHQudGV4dCxpKSk7YnJlYWs7Y2FzZSBndC5KVU5JVDplPXQudGVzdFJlc3VsdHM/ZnVuY3Rpb24odCxlLG4pe3ZhciByPVwiXCIsaT0wLG89ITA7aWYoeHQoKSh0KSlyZXR1cm4gRXQ7Zm9yKHZhciBhIGluIHQpcis9bSh0W2FdKS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtzd2l0Y2goaSs9ZS5leGVjdXRpb25UaW1lLzFlMyxlLnN0YXR1cyE9PU10LkVSUk9SLnZhbHVlJiZlLnN0YXR1cyE9PU10LkZBSUwudmFsdWV8fChvPSExKSxlLnN0YXR1cyl7Y2FzZSBNdC5GQUlMLnZhbHVlOnJldHVybiB0K1B0KE10LkZBSUwudGV4dCxlLm1ldGhvZE5hbWUsZS5jb21wYXJpc29uRmFpbHVyZS5tZXNzYWdlKTtjYXNlIE10LkVSUk9SLnZhbHVlOnJldHVybiB0K1B0KE10LkVSUk9SLnRleHQsZS5tZXRob2ROYW1lLGUuZXhjZXB0aW9uLm1lc3NhZ2UpO2Nhc2UgTXQuUEFTU0VELnZhbHVlOnJldHVybiB0K1B0KE10LlBBU1NFRC50ZXh0LGUubWV0aG9kTmFtZSxcIlwiKX19LFwiXCIpO3JldHVybiBvJiZlJiZlKCksIW8mJm4mJm4oKSwnPGRpdiBjbGFzcz1cInRlc3QtdGltZVwiPlRvdGFsIHRlc3QgdGltZTogJy5jb25jYXQoaSxcInM8L2Rpdj5cIikrcn0odC50ZXN0UmVzdWx0cyxhLHMpOk50KHQudGV4dCxpKX12YXIgbD1udWxsO3JldHVybiBudWxsIT10LmV4Y2VwdGlvbiYmKChsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10O251bGwhPWU7KXtpZihlLmZ1bGxOYW1lPT09a3QpcmV0dXJuIEl0KGUpO2U9ZS5jYXVzZX1yZXR1cm4gdH0odC5leGNlcHRpb24pKS5jYXVzZXM9ZnVuY3Rpb24gdChlKXtyZXR1cm4gdm9pZCAwIT09ZS5jYXVzZSYmbnVsbCE9ZS5jYXVzZT9bZS5jYXVzZV0uY29uY2F0KHQoZS5jYXVzZSkpOltdfShsKSxsLmNhdXNlPXZvaWQgMCkse2Vycm9yczpyLG91dHB1dDplLGV4Y2VwdGlvbjpsfX0pfX0se2tleTpcImdldEF1dG9Db21wbGV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLG8pe1J0KF8uQ09NUExFVEUsdCxuLHIsXCJcIixpLGUpLnRoZW4oZnVuY3Rpb24odCl7byh0KX0pfX0se2tleTpcImdldEhpZ2hsaWdodFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBSdChfLkhJR0hMSUdIVCx0LGUsbixcIlwiLHIpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHRbRHRdfSl9fV0pLHR9KCk7ZnVuY3Rpb24gUnQodCxlLG4scixpLG8sYSl7dmFyIHM9W0J0KGUsRHQpXS5jb25jYXQoby5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gQnQodCxcImhpZGRlbkRlcGVuZGVuY3lcIi5jb25jYXQoZSxcIi5rdFwiKSl9KSksbD1HKCkoe2lkOlwiXCIsbmFtZTpcIlwiLGFyZ3M6aSxjb21waWxlclZlcnNpb246bixjb25mVHlwZTpyLmlkLG9yaWdpblVybDpudWxsLGZpbGVzOnMscmVhZE9ubHlGaWxlTmFtZXM6W119KSxjPW5ldyBwdC5hO2lmKGMuc2V0KFwiZmlsZW5hbWVcIixEdCksYy5zZXQoXCJwcm9qZWN0XCIsbCksdm9pZCAwIT09YSlmb3IodmFyIHUgaW4gYSljLnNldCh1LGFbdV0pO3JldHVybiBkdCh0K3IuaWQse21ldGhvZDpcIlBPU1RcIixib2R5OmMudG9TdHJpbmcoKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLThcIn19KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmpzb24oKX0pfWZ1bmN0aW9uIEJ0KHQsZSl7cmV0dXJue25hbWU6ZSx0ZXh0OnQscHVibGljSWQ6XCJcIn19bigyOTcpLG4oMzAyKSxuKDE0Nik7dmFyIEh0PW4oNjIpLFd0PW4ubihIdCksVXQ9bigxOSksVnQ9bi5uKFV0KSxHdD1uKDYzKSxLdD1uLm4oR3QpLCR0PW4oNjQpLHF0PW4ubigkdCksWXQ9big0NSksSnQ9bi5uKFl0KSxYdD1uKDE1NyksWnQ9bi5uKFh0KSxRdD0obigzMjIpLG4oMTU4KSksdGU9bi5uKFF0KSxlZT1uKDE2MCksbmU9bi5uKGVlKSxyZT0obigzMjgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtEKCkodGhpcyx0KSx0aGlzLmtvdGxpblZlcnNpb249ZX1yZXR1cm4gUigpKHQsW3trZXk6XCJleGVjdXRlSnNDb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLG4scixpLG8pe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihhLHMpe3JldHVybiBuPT09Z3QuQ0FOVkFTJiYodGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsciYmKHRoaXMuaWZyYW1lLnN0eWxlLmhlaWdodD1cIlwiLmNvbmNhdChyLFwicHhcIikpKSxQcm9taXNlLnJlc29sdmUodGhpcy5leGVjdXRlKHQsZSxpLG8pKS50aGVuKGEscyl9LmJpbmQodGhpcykpfX0se2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSxvKXt2YXIgYSxzO2lmKCh0aGlzLmlmcmFtZS5jb250ZW50RG9jdW1lbnR8fHRoaXMuaWZyYW1lLmRvY3VtZW50KS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKS5sZW5ndGg9PT1lLnNpemUrMil0cnl7cmV0dXJuIGE9dGhpcy5pZnJhbWUuY29udGVudFdpbmRvdy5ldmFsKHQpLGkoYT8nPHNwYW4gY2xhc3M9XCJzdGFuZGFyZC1vdXRwdXQgJy5jb25jYXQobiwnXCI+JykuY29uY2F0KHkoYSksXCI8L3NwYW4+XCIpOlwiXCIpfWNhdGNoKHQpe3JldHVybiByJiZyKCkscz1mdW5jdGlvbih0KXtpZihjb25zb2xlJiZjb25zb2xlLmVycm9yKHQpLG51bGwhPXQuc3RhY2spe3ZhciBlPXQuc3RhY2sudG9TdHJpbmcoKS5zdWJzdHIoMCx0LnN0YWNrLnRvU3RyaW5nKCkuaW5kZXhPZihcImF0IGV2YWwgKDxhbm9ueW1vdXM+KVwiKSk7cmV0dXJuXCJcIi5jb25jYXQoU3QsXCI6IFwiKS5jb25jYXQodC5tZXNzYWdlLFwiIFxcbiBcIikuY29uY2F0KGUpfXJldHVybiBTdH0odCksaSgnPHNwYW4gY2xhc3M9XCJlcnJvci1vdXRwdXRcIj4nLmNvbmNhdChzLFwiPC9zcGFuPlwiKSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRpbWVvdXQoNDAwKSkudGhlbihmdW5jdGlvbihhKXt0cnl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmV4ZWN1dGUodCxlLG4scikpLnRoZW4oaSxvKX1jYXRjaCh0KXtyZXR1cm4gbyh0KX19LmJpbmQodGhpcyksbyl9LmJpbmQodGhpcykpfX0se2tleTpcInRpbWVvdXRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFQuYShmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLHQpfSl9fSx7a2V5OlwicmVsb2FkSWZyYW1lU2NyaXB0c1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwIT09dGhpcy5pZnJhbWUmJmUucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpLHRoaXMuaWZyYW1lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksdGhpcy5pZnJhbWUuY2xhc3NOYW1lPVwiazJqcy1pZnJhbWVcIixlLmFwcGVuZENoaWxkKHRoaXMuaWZyYW1lKTt2YXIgbj10aGlzLmlmcmFtZS5jb250ZW50RG9jdW1lbnR8fHRoaXMuaWZyYW1lLmRvY3VtZW50O24ub3BlbigpO3ZhciByLGksbz1fLktPVExJTl9KUytcIlwiLmNvbmNhdCgocj10aGlzLmtvdGxpblZlcnNpb24sKGk9ci5tYXRjaCgvLU1cXGQrJC8pKSYmci5zdWJzdHJpbmcoMCxpLmluZGV4KS5tYXRjaCgvXlxcZCtcXC5cXGQrJC8pP3Iuc3Vic3RyaW5nKDAsaS5pbmRleCkrXCIuMFwiK2lbMF06ciksXCIva290bGluLmpzXCIpO24ud3JpdGUoXCI8c2NyaXB0IHNyYz0nXCIrbytcIic+PFxcL3NjcmlwdD5cIik7dmFyIGE9ITAscz0hMSxsPXZvaWQgMDt0cnl7Zm9yKHZhciBjLHU9bmUoKSh0KTshKGE9KGM9dS5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBmPWMudmFsdWU7bi53cml0ZShcIjxzY3JpcHQgc3JjPSdcIitmK1wiJz48XFwvc2NyaXB0PlwiKX19Y2F0Y2godCl7cz0hMCxsPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09dS5yZXR1cm58fHUucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGx9fW4ud3JpdGUoXCI8c2NyaXB0PlwiLmNvbmNhdChcImlmKGtvdGxpbi5CdWZmZXJlZE91dHB1dCE9PXVuZGVmaW5lZCl7a290bGluLm91dCA9IG5ldyBrb3RsaW4uQnVmZmVyZWRPdXRwdXQoKX1lbHNle2tvdGxpbi5rb3RsaW4uaW8ub3V0cHV0ID0gbmV3IGtvdGxpbi5rb3RsaW4uaW8uQnVmZmVyZWRPdXRwdXQoKX1cIixcIjxcXC9zY3JpcHQ+XCIpKSxuLndyaXRlKCc8Ym9keSBzdHlsZT1cIm1hcmdpbjogMDsgb3ZlcmZsb3c6IGhpZGRlbjtcIj48L2JvZHk+Jyksbi5jbG9zZSgpfX1dKSx0fSgpKSxpZT1uKDQ2KSxvZT1uLm4oaWUpLGFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtEKCkodGhpcyx0KSx0aGlzLmNvbXBsZXRpb249ZX1yZXR1cm4gUigpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3Iuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImljb24gXCIrdGhpcy5jb21wbGV0aW9uLmljb24pLGkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcIm5hbWVcIiksby5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFwidGFpbFwiKSxpLnRleHRDb250ZW50PXRoaXMuY29tcGxldGlvbi5kaXNwbGF5VGV4dCxvLnRleHRDb250ZW50PXRoaXMuY29tcGxldGlvbi50YWlsLHQuYXBwZW5kQ2hpbGQociksdC5hcHBlbmRDaGlsZChpKSx0LmFwcGVuZENoaWxkKG8pfX0se2tleTpcImhpbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9dC5nZXRDdXJzb3IoKSxpPXQuZ2V0VG9rZW5BdChyKSxvPXtsaW5lOnIubGluZSxjaDppLnN0YXJ0fSxhPXtsaW5lOnIubGluZSxjaDppLmVuZH0scz1pLnN0cmluZy50cmltKCk7aWYoW1wiLlwiLFwiXCIsXCIoXCIsXCI6XCJdLmluY2x1ZGVzKHMpKXQucmVwbGFjZVJhbmdlKHRoaXMuY29tcGxldGlvbi50ZXh0LGEpO2Vsc2V7dmFyIGw9ci5jaC1pLnN0YXJ0LGM9cy5zdWJzdHJpbmcoMCxsKS5sYXN0SW5kZXhPZihcIiRcIiksdT1zLnN1YnN0cmluZygwLGMrMSkrdGhpcy5jb21wbGV0aW9uLnRleHQrcy5zdWJzdHJpbmcobCxpLnN0cmluZy5sZW5ndGgpO3QucmVwbGFjZVJhbmdlKHUsbyxhKSx0LnNldEN1cnNvcihyLmxpbmUsaS5zdGFydCtjK3RoaXMuY29tcGxldGlvbi50ZXh0Lmxlbmd0aCsxKSx1LmVuZHNXaXRoKFwiKFwiKSYmKHQucmVwbGFjZVJhbmdlKFwiKVwiLHtsaW5lOnIubGluZSxjaDppLnN0YXJ0K3RoaXMuY29tcGxldGlvbi50ZXh0Lmxlbmd0aH0pLHQuZXhlY0NvbW1hbmQoXCJnb0NoYXJMZWZ0XCIpKX19fV0pLHR9KCksc2U9ODIsbGU9MTIwLGNlPVwiLmpzLWNvZGUtb3V0cHV0LWV4ZWN1dG9yXCIsdWU9XCIuZm9sZC1idXR0b25cIixmZT1cInVubW9kaWZpYWJsZS1saW5lLWRhcmtcIixkZT1cInVubW9kaWZpYWJsZS1saW5lXCIsaGU9XCJtYXJrUGxhY2Vob2xkZXJcIixwZT1cIm1hcmtQbGFjZWhvbGRlci1zdGFydFwiLG1lPVwibWFya1BsYWNlaG9sZGVyLWVuZFwiLGdlPVwiZ3V0dGVyXCIsdmU9XCJDb2RlTWlycm9yLWZvbGRndXR0ZXJcIix5ZT1cIkVSUk9SZ3V0dGVyXCIsYmU9XCJlcnJvcnMtYW5kLXdhcm5pbmdzLWd1dHRlclwiLHhlPVwiYmFja2dyb3VuZFwiLHdlPVwibGFiZWxcIixDZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIEQoKSh0aGlzLGUpLFd0KCkodGhpcyxWdCgpKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHF0KCkoZSx0KSxSKCkoZSxbe2tleTpcInVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuLHI9dGhpcyxpPSExLG89dC50YXJnZXRQbGF0Zm9ybTtpZighdC5jb21waWxlclZlcnNpb258fG8hPT1ndC5KUyYmbyE9PWd0LkNBTlZBU3x8KHRoaXMuanNFeGVjdXRvcj1uZXcgcmUodC5jb21waWxlclZlcnNpb24pKSx0LmNvZGUpe3ZhciBhPXQuY29kZTtpZih0LmZyb20mJnQudG8mJnQudG8+PXQuZnJvbSYmdC5mcm9tPjAmJnQudG8+MCl7dmFyIHM9YS5zcGxpdChcIlxcblwiKTtzLnNwbGljZSh0LmZyb20tMSwwLFwiLy9zYW1wbGVTdGFydFwiKSxzLnNwbGljZSh0LnRvKzEsMCxcIi8vc2FtcGxlRW5kXCIpLGE9cy5qb2luKFwiXFxuXCIpfXZhciBsPWEuaW5kZXhPZihcIi8vc2FtcGxlU3RhcnRcIiksYz1hLmluZGV4T2YoXCIvL3NhbXBsZUVuZFwiKTtpPSF0Lm5vbmVNYXJrZXJzJiZsPi0xJiZjPi0xLHRoaXMucHJlZml4PVwiXCIsdGhpcy5zdWZmaXg9XCJcIixuPWEsaSYmKHRoaXMucHJlZml4PWEuc3Vic3RyaW5nKDAsbCksdGhpcy5zdWZmaXg9YS5zdWJzdHJpbmcoYytcIi8vc2FtcGxlRW5kXCIubGVuZ3RoKSxuPWEuc3Vic3RyaW5nKGwrXCIvL3NhbXBsZVN0YXJ0XCIubGVuZ3RoKzEsYy0xKSksdGhpcy5zdWZmaXguZW5kc1dpdGgoXCJcXG5cIikmJih0aGlzLnN1ZmZpeD10aGlzLnN1ZmZpeC5zdWJzdHIoMCx0aGlzLnN1ZmZpeC5sZW5ndGgtMSkpfWVsc2UgaWYodGhpcy5zdGF0ZS5mb2xkZWQpbj10aGlzLmNvZGVtaXJyb3IuZ2V0VmFsdWUoKTtlbHNle3ZhciBkPXRoaXMuY29kZW1pcnJvci5nZXRWYWx1ZSgpO249ZC5zdWJzdHJpbmcodGhpcy5wcmVmaXgubGVuZ3RoLGQubGVuZ3RoLXRoaXMuc3VmZml4Lmxlbmd0aCl9aWYodGhpcy5zdGF0ZT11LmEuYWxsKFt0aGlzLnN0YXRlLHQse2lzU2hvdWxkQmVGb2xkZWQ6dGhpcy5pc1Nob3VsZEJlRm9sZGVkJiZ0LmlzRm9sZGVkQnV0dG9ufV0pLEt0KCkoVnQoKShlLnByb3RvdHlwZSksXCJ1cGRhdGVcIix0aGlzKS5jYWxsKHRoaXMsdGhpcy5zdGF0ZSksdGhpcy5pbml0aWFsaXplZCl7aWYodGhpcy5zaG93RGlhZ25vc3RpY3ModC5lcnJvcnMpLHZvaWQgMD09PXQuZm9sZGVkKXJldHVybn1lbHNlIHRoaXMuaW5pdGlhbGl6ZUNvZGVNaXJyb3IodCksdGhpcy5pbml0aWFsaXplZD0hMDtpZih0aGlzLnN0YXRlLmZvbGRlZCl0aGlzLmNvZGVtaXJyb3Iuc2V0T3B0aW9uKFwibGluZU51bWJlcnNcIix0LmxpbmVzJiYhaSksdGhpcy5jb2RlbWlycm9yLnNldFZhbHVlKG4pLHRoaXMubWFya1BsYWNlSG9sZGVycygpO2Vsc2V7dGhpcy5jb2RlbWlycm9yLnNldE9wdGlvbihcImxpbmVOdW1iZXJzXCIsITApLHRoaXMuY29kZW1pcnJvci5zZXRWYWx1ZSh0aGlzLnByZWZpeCtuK3RoaXMuc3VmZml4KSx0aGlzLmNvZGVtaXJyb3IubWFya1RleHQoe2xpbmU6MCxjaDowfSx7bGluZTpiKHRoaXMucHJlZml4KSxjaDowfSx7cmVhZE9ubHk6ITAsaW5jbHVzaXZlTGVmdDohMCxpbmNsdXNpdmVSaWdodDohMX0pLHRoaXMuY29kZW1pcnJvci5tYXJrVGV4dCh7bGluZTp0aGlzLmNvZGVtaXJyb3IubGluZUNvdW50KCktYih0aGlzLnN1ZmZpeCktMSxjaDpudWxsfSx7bGluZTp0aGlzLmNvZGVtaXJyb3IubGluZUNvdW50KCktMSxjaDpudWxsfSx7cmVhZE9ubHk6ITAsaW5jbHVzaXZlTGVmdDohMSxpbmNsdXNpdmVSaWdodDohMH0pO3ZhciBoPXRoaXMuc3RhdGUudGhlbWU9PT1mP2ZlOmRlO3RoaXMuY29kZW1pcnJvci5vcGVyYXRpb24oZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PGIoci5wcmVmaXgpO3QrKylyLmNvZGVtaXJyb3IuYWRkTGluZUNsYXNzKHQseGUsaCk7Zm9yKHZhciBlPXIuY29kZW1pcnJvci5saW5lQ291bnQoKS1iKHIuc3VmZml4KTtlPHIuY29kZW1pcnJvci5saW5lQ291bnQoKTtlKyspci5jb2RlbWlycm9yLmFkZExpbmVDbGFzcyhlLHhlLGgpfSl9aWYodGhpcy5zdGF0ZS5hdXRvSW5kZW50fHx0aGlzLnByZWZpeCYmdGhpcy5zdWZmaXgpZm9yKHZhciBwPTA7cDx0aGlzLmNvZGVtaXJyb3IubGluZUNvdW50KCk7cCsrKXRoaXMuY29kZW1pcnJvci5pbmRlbnRMaW5lKHApfX0se2tleTpcIm1hcmtQbGFjZUhvbGRlcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLmdldFRhc2tSYW5nZXMoKTt0aGlzLmNvZGVtaXJyb3Iuc2V0VmFsdWUodGhpcy5jb2RlbWlycm9yLmdldFZhbHVlKCkucmVwbGFjZShuZXcgUmVnRXhwKHYoXCJbbWFya11cIiksXCJnXCIpLFwiXCIpLnJlcGxhY2UobmV3IFJlZ0V4cCh2KFwiWy9tYXJrXVwiKSxcImdcIiksXCJcIikpLGUuZm9yRWFjaChmdW5jdGlvbihlKXt0LmNvZGVtaXJyb3IubWFya1RleHQoe2xpbmU6ZS5saW5lLGNoOmUuY2h9LHtsaW5lOmUubGluZSxjaDplLmNoK2UubGVuZ3RofSx7Y2xhc3NOYW1lOmhlLHN0YXJ0U3R5bGU6cGUsZW5kU3R5bGU6bWUsaGFuZGxlTW91c2VFdmVudHM6ITB9KX0pfX0se2tleTpcImdldFRhc2tSYW5nZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMuY29kZW1pcnJvci5nZXRWYWx1ZSgpLnNwbGl0KFwiXFxuXCIpLG49MDtuPGUubGVuZ3RoO24rKylmb3IodmFyIHI9ZVtuXTtyLmluY2x1ZGVzKFwiW21hcmtdXCIpOyl7dmFyIGk9ci5pbmRleE9mKFwiW21hcmtdXCIpLG89KHI9ci5yZXBsYWNlKFwiW21hcmtdXCIsXCJcIikpLmluZGV4T2YoXCJbL21hcmtdXCIpO3I9ci5yZXBsYWNlKFwiWy9tYXJrXVwiLFwiXCIpLHQucHVzaCh7bGluZTpuLGNoOmksbGVuZ3RoOm8taX0pfXJldHVybiB0fX0se2tleTpcIm9uRm9sZEJ1dHRvbk1vdXNlRW50ZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGUuZm9sZEJ1dHRvbkhvdmVyfHx0aGlzLnVwZGF0ZSh7Zm9sZEJ1dHRvbkhvdmVyOiEwfSl9fSx7a2V5Olwib25Gb2xkQnV0dG9uTW91c2VMZWF2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5mb2xkQnV0dG9uSG92ZXImJnRoaXMudXBkYXRlKHtmb2xkQnV0dG9uSG92ZXI6ITF9KX19LHtrZXk6XCJvbkNvbnNvbGVDbG9zZUJ1dHRvbkVudGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnN0YXRlLGU9dC5qc0xpYnMsbj10Lm9uQ2xvc2VDb25zb2xlLHI9dC50YXJnZXRQbGF0Zm9ybTtyIT09Z3QuQ0FOVkFTJiZyIT09Z3QuSlN8fHRoaXMuanNFeGVjdXRvci5yZWxvYWRJZnJhbWVTY3JpcHRzKGUsdGhpcy5nZXROb2RlRm9yTW91bnRJZnJhbWUoKSksdGhpcy51cGRhdGUoe291dHB1dDpcIlwiLG9wZW5Db25zb2xlOiExLGV4Y2VwdGlvbjpudWxsfSksbiYmbigpfX0se2tleTpcIm9uRXhjZXB0aW9uQ2xpY2tcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuY29kZW1pcnJvci5zZXRDdXJzb3IoZS0xLDApLHRoaXMuY29kZW1pcnJvci5mb2N1cygpfX0se2tleTpcImV4ZWN1dGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLnN0YXRlLG49ZS5vbk9wZW5Db25zb2xlLHI9ZS50YXJnZXRQbGF0Zm9ybSxpPWUud2FpdGluZ0Zvck91dHB1dCxvPWUuY29tcGlsZXJWZXJzaW9uLGE9ZS5vblJ1bixzPWUub25FcnJvcixsPWUuYXJncyxjPWUudGhlbWUsdT1lLmhpZGRlbkRlcGVuZGVuY2llcyxmPWUub25UZXN0UGFzc2VkLGQ9ZS5vblRlc3RGYWlsZWQsaD1lLm9uQ2xvc2VDb25zb2xlLHA9ZS5qc0xpYnMsbT1lLm91dHB1dEhlaWdodCxnPWUuZ2V0SnNDb2RlO2l8fCh0aGlzLnVwZGF0ZSh7d2FpdGluZ0Zvck91dHB1dDohMCxvcGVuQ29uc29sZTohMX0pLG4mJm4oKSxhJiZhKCkscj09PWd0LkpBVkF8fHI9PT1ndC5KVU5JVD96dC5leGVjdXRlS290bGluQ29kZSh0aGlzLmdldENvZGUoKSxvLHIsbCxjLHUsZixkKS50aGVuKGZ1bmN0aW9uKGUpe2Uud2FpdGluZ0Zvck91dHB1dD0hMSxlLm91dHB1dHx8ZS5leGNlcHRpb24/ZS5vcGVuQ29uc29sZT0hMDpoJiZoKCksKGUuZXJyb3JzLmxlbmd0aD4wfHxlLmV4Y2VwdGlvbikmJnMmJnMoKSx0LnVwZGF0ZShlKX0sZnVuY3Rpb24oKXtyZXR1cm4gdC51cGRhdGUoe3dhaXRpbmdGb3JPdXRwdXQ6ITF9KX0pOih0aGlzLmpzRXhlY3V0b3IucmVsb2FkSWZyYW1lU2NyaXB0cyhwLHRoaXMuZ2V0Tm9kZUZvck1vdW50SWZyYW1lKCkpLHp0LnRyYW5zbGF0ZUtvdGxpblRvSnModGhpcy5nZXRDb2RlKCksbyxyLGwsdSkudGhlbihmdW5jdGlvbihlKXtlLndhaXRpbmdGb3JPdXRwdXQ9ITE7dmFyIGk9ZS5qc0NvZGU7ZGVsZXRlIGUuanNDb2RlLGcmJmcoaSk7dmFyIG89ZS5lcnJvcnMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwiRVJST1JcIj09PXQuc2V2ZXJpdHl9KTtvLmxlbmd0aD4wPyhzJiZzKCksZS5vdXRwdXQ9RnQobyksZS5vcGVuQ29uc29sZT0hMCxlLmV4Y2VwdGlvbj1udWxsLHQudXBkYXRlKGUpKTp0LmpzRXhlY3V0b3IuZXhlY3V0ZUpzQ29kZShpLHAscixtLGMscykudGhlbihmdW5jdGlvbihpKXtpPyhlLm9wZW5Db25zb2xlPSEwLGUub3V0cHV0PWkpOihlLm91dHB1dD1cIlwiLGgmJmgoKSkscj09PWd0LkNBTlZBUyYmKG4mJm4oKSxlLm9wZW5Db25zb2xlPSEwKSxlLmV4Y2VwdGlvbj1udWxsLHQudXBkYXRlKGUpfSl9LGZ1bmN0aW9uKCl7cmV0dXJuIHQudXBkYXRlKHt3YWl0aW5nRm9yT3V0cHV0OiExfSl9KSkpfX0se2tleTpcImdldE5vZGVGb3JNb3VudElmcmFtZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNbMF0ucXVlcnlTZWxlY3RvcihjZSl9fSx7a2V5OlwiZ2V0Q29kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuZm9sZGVkP3RoaXMucHJlZml4K3RoaXMuY29kZW1pcnJvci5nZXRWYWx1ZSgpK3RoaXMuc3VmZml4OnRoaXMuY29kZW1pcnJvci5nZXRWYWx1ZSgpfX0se2tleTpcInJlY2FsY3VsYXRlUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT17bGluZTp0LmxpbmUsY2g6dC5jaH07aWYoIXRoaXMuc3RhdGUuZm9sZGVkKXJldHVybiBlO3ZhciBuPSh0aGlzLnByZWZpeC5tYXRjaCgvXFxuL2cpfHxbXSkubGVuZ3RoO3JldHVybiBlLmxpbmU9dC5saW5lLW4sZS5saW5lPDA/KGUubGluZT0wLGUuY2g9MCk6ZS5saW5lPj10aGlzLmNvZGVtaXJyb3IubGluZUNvdW50KCkmJihlLmxpbmU9dGhpcy5jb2RlbWlycm9yLmxpbmVDb3VudCgpLTEsZS5jaD1udWxsKSxlfX0se2tleTpcInNob3dEaWFnbm9zdGljc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5yZW1vdmVTdHlsZXMoKSx2b2lkIDAhPT10JiZ0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49dC5pbnRlcnZhbDtuLnN0YXJ0PWUucmVjYWxjdWxhdGVQb3NpdGlvbihuLnN0YXJ0KSxuLmVuZD1lLnJlY2FsY3VsYXRlUG9zaXRpb24obi5lbmQpO3ZhciByLGksbyxhPShyPXQubWVzc2FnZSxpPXtcIjxcIjpcIiZhbXA7bHQ7XCIsXCI+XCI6XCImYW1wO2d0O1wiLFwiJlwiOlwiJmFtcDtcIixcIiBcIjpcIiUyMFwifSxvPXIsbCgpKGkpLmZvckVhY2goZnVuY3Rpb24odCl7bz1vLnJlcGxhY2UobmV3IFJlZ0V4cChpW3RdLFwiZ1wiKSx0KX0pLG8pLHM9dC5zZXZlcml0eTtpZihlLmFycmF5Q2xhc3Nlcy5wdXNoKGUuY29kZW1pcnJvci5tYXJrVGV4dChuLnN0YXJ0LG4uZW5kLHtjbGFzc05hbWU6XCJjbV9fXCIrdC5jbGFzc05hbWUsdGl0bGU6YX0pKSxudWxsIT1lLmNvZGVtaXJyb3IubGluZUluZm8obi5zdGFydC5saW5lKSYmbnVsbD09ZS5jb2RlbWlycm9yLmxpbmVJbmZvKG4uc3RhcnQubGluZSkuZ3V0dGVyTWFya2Vycyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLmNsYXNzTmFtZT1zK2dlLGMuc2V0QXR0cmlidXRlKHdlLGEpLGUuY29kZW1pcnJvci5zZXRHdXR0ZXJNYXJrZXIobi5zdGFydC5saW5lLGJlLGMpfWVsc2V7dmFyIHU9ZS5jb2RlbWlycm9yLmxpbmVJbmZvKG4uc3RhcnQubGluZSkuZ3V0dGVyTWFya2Vyc1tiZV07dS5zZXRBdHRyaWJ1dGUod2UsdS5nZXRBdHRyaWJ1dGUod2UpK1wiXFxuXCIuY29uY2F0KGEpKSwtMT09PXUuY2xhc3NOYW1lLmluZGV4T2YoeWUpJiYodS5jbGFzc05hbWU9cytnZSl9fSl9fSx7a2V5OlwicmVtb3ZlU3R5bGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFycmF5Q2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsZWFyKCl9KSx0aGlzLmNvZGVtaXJyb3IuY2xlYXJHdXR0ZXIoYmUpfX0se2tleTpcImluaXRpYWxpemVDb2RlTWlycm9yXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49dGhpcy5ub2Rlc1swXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpWzBdLHI9ZS5oaWdobGlnaHRPbmx5LGk9e3JlYWRPbmx5OnIsbGluZU51bWJlcnM6ITEsbW9kZTplLm1vZGUsdGhlbWU6ZS50aGVtZSxtYXRjaEJyYWNrZXRzOmUubWF0Y2hCcmFja2V0cyxzY3JvbGxiYXJTdHlsZTpcIm92ZXJsYXlcIixjb250aW51ZUNvbW1lbnRzOiEwLGF1dG9DbG9zZUJyYWNrZXRzOiEwLGluZGVudFVuaXQ6ZS5pbmRlbnQsdmlld3BvcnRNYXJnaW46MS8wLGZvbGRHdXR0ZXI6ITAsZ3V0dGVyczpbYmUsdmVdfTtyJiYoaS5jdXJzb3JCbGlua1JhdGU9LTEpLHRoaXMuY29kZW1pcnJvcj1ILmEuZnJvbVRleHRBcmVhKG4saSkscnx8KEguYS5yZWdpc3RlckhlbHBlcihcImhpbnRcIixcImtvdGxpblwiLGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS5nZXRDdXJzb3IoKSxpPWUuZ2V0VG9rZW5BdChyKSxvPXQuc3RhdGUuZm9sZGVkP3QucHJlZml4K2UuZ2V0VmFsdWUoKSt0LnN1ZmZpeDplLmdldFZhbHVlKCksYT10LnN0YXRlLmZvbGRlZD97bGluZTpyLmxpbmUrdC5wcmVmaXguc3BsaXQoXCJcXG5cIikubGVuZ3RoLTEsY2g6ci5jaH06cjt6dC5nZXRBdXRvQ29tcGxldGlvbihvLGEsdC5zdGF0ZS5jb21waWxlclZlcnNpb24sdC5zdGF0ZS50YXJnZXRQbGF0Zm9ybSx0LnN0YXRlLmhpZGRlbkRlcGVuZGVuY2llcyxmdW5jdGlvbih0KXt2YXIgbz1lLmZpbmRXb3JkQXQoe2xpbmU6ci5saW5lLGNoOnIuY2h9KS5hbmNob3IuY2gsYT1lLmZpbmRXb3JkQXQoe2xpbmU6ci5saW5lLGNoOnIuY2h9KS5oZWFkLmNoLHM9ZS5nZXRSYW5nZSh7bGluZTpyLmxpbmUsY2g6b30se2xpbmU6ci5saW5lLGNoOmF9KTswPT09dC5sZW5ndGgmJi9eW2EtekEtWl0rJC8udGVzdChzKT9ILmEuc2hvd0hpbnQoZSxILmEuaGludC5kZWZhdWx0LHtjb21wbGV0ZVNpbmdsZTohMX0pOm4oe2xpc3Q6dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBhZSh0KX0pLGZyb206e2xpbmU6ci5saW5lLGNoOmkuc3RhcnR9LHRvOntsaW5lOnIubGluZSxjaDppLmVuZH19KX0pfSksSC5hLmhpbnQua290bGluLmFzeW5jPSEwLEguYS5jb21tYW5kcy5hdXRvY29tcGxldGU9ZnVuY3Rpb24odCl7SC5hLnNob3dIaW50KHQsSC5hLmhpbnQua290bGluKX0sLTEhPT13aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1hY1wiKT90aGlzLmNvZGVtaXJyb3Iuc2V0T3B0aW9uKFwiZXh0cmFLZXlzXCIse1wiQ21kLUFsdC1MXCI6XCJpbmRlbnRBdXRvXCIsXCJTaGlmdC1UYWJcIjpcImluZGVudExlc3NcIixcIkN0cmwtL1wiOlwidG9nZ2xlQ29tbWVudFwiLFwiQ21kLVtcIjohMSxcIkNtZC1dXCI6ITEsXCJDdHJsLVNwYWNlXCI6XCJhdXRvY29tcGxldGVcIn0pOnRoaXMuY29kZW1pcnJvci5zZXRPcHRpb24oXCJleHRyYUtleXNcIix7XCJDdHJsLUFsdC1MXCI6XCJpbmRlbnRBdXRvXCIsXCJTaGlmdC1UYWJcIjpcImluZGVudExlc3NcIixcIkN0cmwtL1wiOlwidG9nZ2xlQ29tbWVudFwiLFwiQ3RybC1bXCI6ITEsXCJDdHJsLV1cIjohMSxcIkN0cmwtU3BhY2VcIjpcImF1dG9jb21wbGV0ZVwifSksdGhpcy5jb2RlbWlycm9yLm9uKFwiY2hhbmdlXCIsb2UoKShmdW5jdGlvbihlKXt2YXIgbj10LnN0YXRlLHI9bi5vbkNoYW5nZSxpPW4ub25GbHlIaWdoTGlnaHQsbz1uLmNvbXBpbGVyVmVyc2lvbixhPW4udGFyZ2V0UGxhdGZvcm0scz1uLmhpZGRlbkRlcGVuZGVuY2llcztyJiZyKGUuZ2V0VmFsdWUoKSksdC5yZW1vdmVTdHlsZXMoKSxpJiZ6dC5nZXRIaWdobGlnaHQodC5nZXRDb2RlKCksbyxhLHMpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2hvd0RpYWdub3N0aWNzKGUpfSl9LDUwMCkpLHRoaXMuY29kZW1pcnJvci5vbihcImtleXByZXNzXCIsb2UoKShmdW5jdGlvbihlLG4pe24ua2V5Q29kZT09PXNlfHxuLmN0cmxLZXl8fHQuc3RhdGUuYXV0b0NvbXBsZXRlJiYhZS5zdGF0ZS5jb21wbGV0aW9uQWN0aXZlJiZILmEuc2hvd0hpbnQoZSxILmEuaGludC5rb3RsaW4se2NvbXBsZXRlU2luZ2xlOiExfSl9LDUwMCkpLHRoaXMuY29kZW1pcnJvci5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5jb29yZHNDaGFyKHtsZWZ0OmUucGFnZVgsdG9wOmUucGFnZVl9KTtpZigwIT09bi5saW5lfHwwIT09bi5jaCl7dmFyIHI9dC5maW5kTWFya3NBdChuKS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsYXNzTmFtZT09PWhlfSk7aWYobnVsbCE9cil7dmFyIGk9ci5maW5kKCk7dC5zZXRTZWxlY3Rpb24oaS5mcm9tLGkudG8pLHQuZm9jdXMoKSxlLnByZXZlbnREZWZhdWx0KCl9fX0pKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFycmF5Q2xhc3Nlcz1udWxsLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5qc0V4ZWN1dG9yPSExLHRoaXMuc3RhdGU9bnVsbCx0aGlzLmNvZGVtaXJyb3IudG9UZXh0QXJlYSgpLHRoaXMub2ZmKCksdGhpcy5yZW1vdmUoKX19LHtrZXk6XCJpc1Nob3VsZEJlRm9sZGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJcIiE9PXRoaXMucHJlZml4LnRyaW0oKXx8XCJcIiE9PXRoaXMuc3VmZml4LnRyaW0oKX19XSxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPUp0LmEucmVuZGVyKGUsdCx7ZGlyZWN0aXZlczpadC5hfSk7ci5hcnJheUNsYXNzZXM9W10sci5pbml0aWFsaXplZD0hMSxyLnN0YXRlPXt0aGVtZTpcIlwiLGNvZGU6XCJcIixmb2xkQnV0dG9uSG92ZXI6ITEsZm9sZGVkOiEwLG91dHB1dDpudWxsfSxyLmNvZGVtaXJyb3I9bmV3IEguYSxyLm9uKFwiY2xpY2tcIix1ZSxmdW5jdGlvbigpe3IudXBkYXRlKHtmb2xkZWQ6IXIuc3RhdGUuZm9sZGVkfSl9KSxyLm9uKFwia2V5dXBcIixmdW5jdGlvbih0KXstMSE9PXdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTWFjXCIpP3Qua2V5Q29kZT09PXNlJiZ0LmN0cmxLZXkmJnIuZXhlY3V0ZSgpOnQua2V5Q29kZT09PWxlJiZ0LmN0cmxLZXkmJnIuZXhlY3V0ZSgpfSk7dmFyIGk9bi5ldmVudEZ1bmN0aW9ucztyZXR1cm4gaSYmaS5nZXRJbnN0YW5jZSYmaS5nZXRJbnN0YW5jZShyKSxyfX1dKSxlfSh0ZS5hKSxrZT0obigzMzEpLFwiZGF0YS1rb3RsaW4tcGxheWdyb3VuZC1pbml0aWFsaXplZFwiKSxfZT00LFNlPXtISURERU5fREVQRU5ERU5DWTpcImhpZGRlbi1kZXBlbmRlbmN5XCIsSU5ERU5UOlwiaW5kZW50XCIsSElHSExJR0hUX09OTFk6XCJkYXRhLWhpZ2hsaWdodC1vbmx5XCIsU1RZTEU6XCJzdHlsZVwiLEZST006XCJmcm9tXCIsVE86XCJ0b1wiLE5PTkVfTUFSS0VSUzpcIm5vbmUtbWFya2Vyc1wiLFRIRU1FOlwidGhlbWVcIixNT0RFOlwibW9kZVwiLE1BVENIX0JSQUNLRVRTOlwibWF0Y2gtYnJhY2tldHNcIixPVVRQVVRfSEVJR0hUOlwiZGF0YS1vdXRwdXQtaGVpZ2h0XCIsQ09NUExFVEU6XCJkYXRhLWF1dG9jb21wbGV0ZVwiLE9OX0ZMWV9ISUdITElHSFQ6XCJoaWdobGlnaHQtb24tZmx5XCIsUExBVEZPUk06XCJkYXRhLXRhcmdldC1wbGF0Zm9ybVwiLEpTX0xJQlM6XCJkYXRhLWpzLWxpYnNcIixGT0xERURfQlVUVE9OOlwiZm9sZGVkLWJ1dHRvblwiLEFSR1VNRU5UUzpcImFyZ3NcIixMSU5FUzpcImxpbmVzXCIsQVVUT19JTkRFTlQ6XCJhdXRvLWluZGVudFwifSxFZT17SkFWQTpcInRleHQveC1qYXZhXCIsS09UTElOOlwidGV4dC94LWtvdGxpblwiLEpTOlwidGV4dC9qYXZhc2NyaXB0XCIsR1JPT1ZZOlwidGV4dC94LWdyb292eVwiLFhNTDpcInRleHQvaHRtbFwiLEM6XCJ0ZXh0L3gtY1wiLE9CSl9DOlwidGV4dC94LW9iamVjdGl2ZWNcIixTV0lGVDpcInRleHQveC1zd2lmdFwiLFNIRUxMOlwidGV4dC94LXNoXCJ9LFRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtEKCkodGhpcyx0KTt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgZT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpOmUsbz0hIW4uaGlnaGxpZ2h0T25seXx8KGkuZ2V0QXR0cmlidXRlKFNlLkhJR0hMSUdIVF9PTkxZKT09PXA/aS5nZXRBdHRyaWJ1dGUoU2UuSElHSExJR0hUX09OTFkpOmkuaGFzQXR0cmlidXRlKFNlLkhJR0hMSUdIVF9PTkxZKSksYT1pLmhhc0F0dHJpYnV0ZShTZS5OT05FX01BUktFUlMpLHM9aS5oYXNBdHRyaWJ1dGUoU2UuSU5ERU5UKT9JKCkoaS5nZXRBdHRyaWJ1dGUoU2UuSU5ERU5UKSk6X2UsbD1pLmhhc0F0dHJpYnV0ZShTZS5GUk9NKT9JKCkoaS5nZXRBdHRyaWJ1dGUoU2UuRlJPTSkpOm51bGwsYz1pLmhhc0F0dHJpYnV0ZShTZS5UTyk/SSgpKGkuZ2V0QXR0cmlidXRlKFNlLlRPKSk6bnVsbCxmPXRoaXMuZ2V0VGhlbWUoaSksZD1pLmhhc0F0dHJpYnV0ZShTZS5BUkdVTUVOVFMpP2kuZ2V0QXR0cmlidXRlKFNlLkFSR1VNRU5UUyk6XCJcIixoPXRoaXMuZ2V0SGlkZGVuRGVwZW5kZW5jaWVzKGkpLG09aS5nZXRBdHRyaWJ1dGUoU2UuT1VUUFVUX0hFSUdIVCl8fG51bGwsZz1ndC5nZXRCeUlkKGkuZ2V0QXR0cmlidXRlKFNlLlBMQVRGT1JNKSksdj1pLmdldEF0dHJpYnV0ZShTZS5TVFlMRSkseT10aGlzLmdldEpzTGlicmFyaWVzKGksZyksYj1cImZhbHNlXCIhPT1pLmdldEF0dHJpYnV0ZShTZS5GT0xERURfQlVUVE9OKSx3PVwidHJ1ZVwiPT09aS5nZXRBdHRyaWJ1dGUoU2UuTElORVMpLEM9XCJ0cnVlXCI9PT1pLmdldEF0dHJpYnV0ZShTZS5PTl9GTFlfSElHSExJR0hUKSxrPVwidHJ1ZVwiPT09aS5nZXRBdHRyaWJ1dGUoU2UuQ09NUExFVEUpLF89XCJ0cnVlXCI9PT1pLmdldEF0dHJpYnV0ZShTZS5NQVRDSF9CUkFDS0VUUyksRT1cInRydWVcIj09PWkuZ2V0QXR0cmlidXRlKFNlLkFVVE9fSU5ERU5UKSxUPXRoaXMuZ2V0TW9kZShpKSxPPXgoaS50ZXh0Q29udGVudCksTT11KCkoUyxuKTtUIT09RWUuS09UTElOJiZvIT09cCYmKG89ITApLGkuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixpLnNldEF0dHJpYnV0ZShrZSxcInRydWVcIik7dmFyIEwsQSxOPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7TD1OLChBPWkpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEwsQS5uZXh0U2libGluZyk7dmFyIEY9Q2UucmVuZGVyKE4se2V2ZW50RnVuY3Rpb25zOnJ9KTtGLnVwZGF0ZShQKCkoe2NvZGU6TyxsaW5lczp3LHRoZW1lOmYsaW5kZW50OnMsYXJnczpkLG1vZGU6VCxtYXRjaEJyYWNrZXRzOl8sZnJvbTpsLHRvOmMsYXV0b0NvbXBsZXRlOmssaGlkZGVuRGVwZW5kZW5jaWVzOmgsY29tcGlsZXJWZXJzaW9uOk0uY29tcGlsZXJWZXJzaW9uLG5vbmVNYXJrZXJzOmEsb25GbHlIaWdoTGlnaHQ6QyxhdXRvSW5kZW50OkUsaGlnaGxpZ2h0T25seTpvLHRhcmdldFBsYXRmb3JtOmcsanNMaWJzOnksaXNGb2xkZWRCdXR0b246YixvdXRwdXRIZWlnaHQ6bX0scikpLHRoaXMuY29uZmlnPU0sdGhpcy5ub2RlPU4sdGhpcy50YXJnZXROb2RlPWksdGhpcy50YXJnZXROb2RlU3R5bGU9dix0aGlzLnZpZXc9RixpLktvdGxpblBsYXlncm91bmQ9dGhpcyxyJiZyLmNhbGxiYWNrJiZyLmNhbGxiYWNrKGksTil9cmV0dXJuIFIoKSh0LFt7a2V5OlwiZ2V0SGlkZGVuRGVwZW5kZW5jaWVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG0odC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFNlLkhJRERFTl9ERVBFTkRFTkNZKSkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxbXS5jb25jYXQoQSgpKHQpLFt4KGUudGV4dENvbnRlbnQpXSl9LFtdKX19LHtrZXk6XCJnZXRKc0xpYnJhcmllc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYoZT09PWd0LkpTfHxlPT09Z3QuQ0FOVkFTKXt2YXIgbj10LmdldEF0dHJpYnV0ZShTZS5KU19MSUJTKSxyPW5ldyBVLmEoXy5KUVVFUlkuc3BsaXQoKSk7aWYobil7dmFyIGk9bmV3IFJlZ0V4cChcImh0dHBzPzovLy4rJFwiKTtuLnJlcGxhY2UoXCIgXCIsXCJcIikuc3BsaXQoXCIsXCIpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gaS50ZXN0KHQpfSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gci5hZGQodCl9KX1yZXR1cm4gcn19fSx7a2V5OlwiZ2V0VGhlbWVcIix2YWx1ZTpmdW5jdGlvbih0KXtzd2l0Y2godC5nZXRBdHRyaWJ1dGUoU2UuVEhFTUUpKXtjYXNlIGY6cmV0dXJuIGY7Y2FzZSBkOnJldHVybiBkO2RlZmF1bHQ6cmV0dXJuIGh9fX0se2tleTpcImdldE1vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtzd2l0Y2godC5nZXRBdHRyaWJ1dGUoU2UuTU9ERSkpe2Nhc2VcImphdmFcIjpyZXR1cm4gRWUuSkFWQTtjYXNlXCJjXCI6cmV0dXJuIEVlLkM7Y2FzZVwianNcIjpyZXR1cm4gRWUuSlM7Y2FzZVwiZ3Jvb3Z5XCI6cmV0dXJuIEVlLkdST09WWTtjYXNlXCJ4bWxcIjpyZXR1cm4gRWUuWE1MO2Nhc2VcInNoZWxsXCI6cmV0dXJuIEVlLlNIRUxMO2Nhc2VcIm9iai1jXCI6cmV0dXJuIEVlLk9CSl9DO2Nhc2VcInN3aWZ0XCI6cmV0dXJuIEVlLlNXSUZUO2RlZmF1bHQ6cmV0dXJuIEVlLktPVExJTn19fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jb25maWc9bnVsbCx0aGlzLm5vZGU9bnVsbCx0aGlzLnZpZXcuZGVzdHJveSgpO3ZhciB0PXRoaXMudGFyZ2V0Tm9kZTtudWxsIT09dGhpcy50YXJnZXROb2RlU3R5bGU/dC5zdHlsZT10aGlzLnRhcmdldE5vZGVTdHlsZTp0LnN0eWxlPVwiXCIsdC5yZW1vdmVBdHRyaWJ1dGUoa2UpLGRlbGV0ZSB0LktvdGxpblBsYXlncm91bmR9fSx7a2V5OlwiaXNJbml0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudGFyZ2V0Tm9kZSxlPXQmJnQuZ2V0QXR0cmlidXRlKGtlKTtyZXR1cm4gZSYmXCJ0cnVlXCI9PT1lfX1dLFt7a2V5OlwiY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSxuKXt2YXIgcjtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyPW0oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlKSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgTm9kZSlyPVtlXTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBOb2RlTGlzdD09ITEpdGhyb3cgbmV3IEVycm9yKFwiJ3RhcmdldCcgdHlwZSBzaG91bGQgYmUgc3RyaW5nfE5vZGV8Tm9kZUxpc3QsIFwiLmNvbmNhdChNKCkoZSksXCIgZ2l2ZW5cIikpO3JldHVybiAwPT09ci5sZW5ndGg/VC5hLnJlc29sdmUoW10pOnp0LmdldENvbXBpbGVyVmVyc2lvbnMoKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBpPVtdO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG89ZyhyLCEwKSxhPW8ubWluQ29tcGlsZXJWZXJzaW9uLHM9bnVsbCxsPW51bGw7aWYoXCJcIiE9PXIudGV4dENvbnRlbnQudHJpbSgpJiZcInRydWVcIiE9PXIuZ2V0QXR0cmlidXRlKGtlKSlpZihlKXt2YXIgYz1lLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52ZXJzaW9ufSk7Yy5pbmNsdWRlcyhvLnZlcnNpb24pP2w9by52ZXJzaW9uOmMuaW5jbHVkZXMobi52ZXJzaW9uKT9sPW4udmVyc2lvbjooZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QubGF0ZXN0U3RhYmxlJiYocz10LnZlcnNpb24pfSksbD1zKSxhJiYobD1hPnM/ZVtlLmxlbmd0aC0xXS52ZXJzaW9uOnMpLGkucHVzaChuZXcgdChyLHtjb21waWxlclZlcnNpb246bH0sbikpfWVsc2UgY29uc29sZS5lcnJvcihcIkNhbm4ndCBnZXQga290bGluIHZlcnNpb24gZnJvbSBzZXJ2ZXJcIiksaS5wdXNoKG5ldyB0KHIse2hpZ2hsaWdodE9ubHk6ITB9KSl9KSxpfSl9fV0pLHR9KCksT2U9XCIuZC1lZGl0b3ItcHJldmlld1wiLE1lPVwiLmQtZWRpdG9yLWlucHV0LmVtYmVyLXRleHQtYXJlYVwiLExlPVwiLmxhbmctcnVuLWtvdGxpblwiLEFlPWZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93LktvdGxpblBsYXlncm91bmQsZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKE1lKSxuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoT2UpO2UmJm4mJmUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixvZSgpKGZ1bmN0aW9uKCl7bShuLnF1ZXJ5U2VsZWN0b3JBbGwoTGUpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuS290bGluUGxheWdyb3VuZDtuJiZuLmRlc3Ryb3koKSx0KGUpfSl9LDMwMCkpfSxOZT1uKDE2MSk7ZnVuY3Rpb24gUGUodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBfLnNlcnZlcj1lLnNlcnZlcnx8Xy5zZXJ2ZXIsVGUuY3JlYXRlKHQsZSl9bi5kKGUsXCJkZWZhdWx0XCIsZnVuY3Rpb24oKXtyZXR1cm4gUGV9KSxPYmplY3QoTmUucG9seWZpbGwpKCksUGUuZGVmYXVsdD1QZSxQZS5kaXNjb3Vyc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQWUoKSxQZSh0LGUpfTt2YXIgRmU9ay5zZWxlY3RvcixJZT1rLmRpc2NvdXJzZVNlbGVjdG9yLGplPWkoKShrLFtcInNlbGVjdG9yXCIsXCJkaXNjb3Vyc2VTZWxlY3RvclwiXSk7KEZlfHxJZSkmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZnVuY3Rpb24oKXt2YXIgdCxlLG47SWU/KFBlLmRpc2NvdXJzZShJZSxqZSksdD1PZSxlPWZ1bmN0aW9uKCl7cmV0dXJuIEFlKCl9LG49c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpO3ImJihjbGVhckludGVydmFsKG4pLGUocikpfSwxMDApKTpQZShGZSxqZSl9KX1dKS5kZWZhdWx0fSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF5Z3JvdW5kLm1pbi5qcy5tYXAiLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==